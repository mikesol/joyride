"use strict";(self.webpackChunkjoyride=self.webpackChunkjoyride||[]).push([[1351,1245],{1351:(t,e,s)=>{s.r(e),s.d(e,{Euler:()=>o});var r=s(3163),n=s(1245),i=s(9542);const a=new n.Matrix4,h=new r.Quaternion;class o{constructor(t=0,e=0,s=0,r=o.DefaultOrder){this._x=t,this._y=e,this._z=s,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,s,r=this._order){return this._x=t,this._y=e,this._z=s,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,s=!0){const r=t.elements,n=r[0],a=r[4],h=r[8],o=r[1],l=r[5],c=r[9],u=r[2],m=r[6],_=r[10];switch(e){case"XYZ":this._y=Math.asin((0,i.uZ)(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-c,_),this._z=Math.atan2(-a,n)):(this._x=Math.atan2(m,l),this._z=0);break;case"YXZ":this._x=Math.asin(-(0,i.uZ)(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(h,_),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,n),this._z=0);break;case"ZXY":this._x=Math.asin((0,i.uZ)(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-u,_),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,n));break;case"ZYX":this._y=Math.asin(-(0,i.uZ)(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(m,_),this._z=Math.atan2(o,n)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin((0,i.uZ)(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,n)):(this._x=0,this._y=Math.atan2(h,_));break;case"XZY":this._z=Math.asin(-(0,i.uZ)(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,l),this._y=Math.atan2(h,n)):(this._x=Math.atan2(-c,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===s&&this._onChangeCallback(),this}setFromQuaternion(t,e,s){return a.makeRotationFromQuaternion(t),this.setFromRotationMatrix(a,e,s)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return h.setFromEuler(this),this.setFromQuaternion(h,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}o.prototype.isEuler=!0,o.DefaultOrder="XYZ",o.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"]},1245:(t,e,s)=>{s.r(e),s.d(e,{Matrix4:()=>n});var r=s(4532);class n{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,s,r,n,i,a,h,o,l,c,u,m,_,M,y){const x=this.elements;return x[0]=t,x[4]=e,x[8]=s,x[12]=r,x[1]=n,x[5]=i,x[9]=a,x[13]=h,x[2]=o,x[6]=l,x[10]=c,x[14]=u,x[3]=m,x[7]=_,x[11]=M,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new n).fromArray(this.elements)}copy(t){const e=this.elements,s=t.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],e[9]=s[9],e[10]=s[10],e[11]=s[11],e[12]=s[12],e[13]=s[13],e[14]=s[14],e[15]=s[15],this}copyPosition(t){const e=this.elements,s=t.elements;return e[12]=s[12],e[13]=s[13],e[14]=s[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,s){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,e,s){return this.set(t.x,e.x,s.x,0,t.y,e.y,s.y,0,t.z,e.z,s.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,s=t.elements,r=1/i.setFromMatrixColumn(t,0).length(),n=1/i.setFromMatrixColumn(t,1).length(),a=1/i.setFromMatrixColumn(t,2).length();return e[0]=s[0]*r,e[1]=s[1]*r,e[2]=s[2]*r,e[3]=0,e[4]=s[4]*n,e[5]=s[5]*n,e[6]=s[6]*n,e[7]=0,e[8]=s[8]*a,e[9]=s[9]*a,e[10]=s[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,s=t.x,r=t.y,n=t.z,i=Math.cos(s),a=Math.sin(s),h=Math.cos(r),o=Math.sin(r),l=Math.cos(n),c=Math.sin(n);if("XYZ"===t.order){const t=i*l,s=i*c,r=a*l,n=a*c;e[0]=h*l,e[4]=-h*c,e[8]=o,e[1]=s+r*o,e[5]=t-n*o,e[9]=-a*h,e[2]=n-t*o,e[6]=r+s*o,e[10]=i*h}else if("YXZ"===t.order){const t=h*l,s=h*c,r=o*l,n=o*c;e[0]=t+n*a,e[4]=r*a-s,e[8]=i*o,e[1]=i*c,e[5]=i*l,e[9]=-a,e[2]=s*a-r,e[6]=n+t*a,e[10]=i*h}else if("ZXY"===t.order){const t=h*l,s=h*c,r=o*l,n=o*c;e[0]=t-n*a,e[4]=-i*c,e[8]=r+s*a,e[1]=s+r*a,e[5]=i*l,e[9]=n-t*a,e[2]=-i*o,e[6]=a,e[10]=i*h}else if("ZYX"===t.order){const t=i*l,s=i*c,r=a*l,n=a*c;e[0]=h*l,e[4]=r*o-s,e[8]=t*o+n,e[1]=h*c,e[5]=n*o+t,e[9]=s*o-r,e[2]=-o,e[6]=a*h,e[10]=i*h}else if("YZX"===t.order){const t=i*h,s=i*o,r=a*h,n=a*o;e[0]=h*l,e[4]=n-t*c,e[8]=r*c+s,e[1]=c,e[5]=i*l,e[9]=-a*l,e[2]=-o*l,e[6]=s*c+r,e[10]=t-n*c}else if("XZY"===t.order){const t=i*h,s=i*o,r=a*h,n=a*o;e[0]=h*l,e[4]=-c,e[8]=o*l,e[1]=t*c+n,e[5]=i*l,e[9]=s*c-r,e[2]=r*c-s,e[6]=a*l,e[10]=n*c+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(h,t,o)}lookAt(t,e,s){const r=this.elements;return u.subVectors(t,e),0===u.lengthSq()&&(u.z=1),u.normalize(),l.crossVectors(s,u),0===l.lengthSq()&&(1===Math.abs(s.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),l.crossVectors(s,u)),l.normalize(),c.crossVectors(u,l),r[0]=l.x,r[4]=c.x,r[8]=u.x,r[1]=l.y,r[5]=c.y,r[9]=u.y,r[2]=l.z,r[6]=c.z,r[10]=u.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const s=t.elements,r=e.elements,n=this.elements,i=s[0],a=s[4],h=s[8],o=s[12],l=s[1],c=s[5],u=s[9],m=s[13],_=s[2],M=s[6],y=s[10],x=s[14],d=s[3],z=s[7],k=s[11],g=s[15],p=r[0],b=r[4],C=r[8],Z=r[12],w=r[1],X=r[5],Y=r[9],f=r[13],F=r[2],R=r[6],E=r[10],V=r[14],v=r[3],A=r[7],S=r[11],T=r[15];return n[0]=i*p+a*w+h*F+o*v,n[4]=i*b+a*X+h*R+o*A,n[8]=i*C+a*Y+h*E+o*S,n[12]=i*Z+a*f+h*V+o*T,n[1]=l*p+c*w+u*F+m*v,n[5]=l*b+c*X+u*R+m*A,n[9]=l*C+c*Y+u*E+m*S,n[13]=l*Z+c*f+u*V+m*T,n[2]=_*p+M*w+y*F+x*v,n[6]=_*b+M*X+y*R+x*A,n[10]=_*C+M*Y+y*E+x*S,n[14]=_*Z+M*f+y*V+x*T,n[3]=d*p+z*w+k*F+g*v,n[7]=d*b+z*X+k*R+g*A,n[11]=d*C+z*Y+k*E+g*S,n[15]=d*Z+z*f+k*V+g*T,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],s=t[4],r=t[8],n=t[12],i=t[1],a=t[5],h=t[9],o=t[13],l=t[2],c=t[6],u=t[10],m=t[14];return t[3]*(+n*h*c-r*o*c-n*a*u+s*o*u+r*a*m-s*h*m)+t[7]*(+e*h*m-e*o*u+n*i*u-r*i*m+r*o*l-n*h*l)+t[11]*(+e*o*c-e*a*m-n*i*c+s*i*m+n*a*l-s*o*l)+t[15]*(-r*a*l-e*h*c+e*a*u+r*i*c-s*i*u+s*h*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,s){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=s),this}invert(){const t=this.elements,e=t[0],s=t[1],r=t[2],n=t[3],i=t[4],a=t[5],h=t[6],o=t[7],l=t[8],c=t[9],u=t[10],m=t[11],_=t[12],M=t[13],y=t[14],x=t[15],d=c*y*o-M*u*o+M*h*m-a*y*m-c*h*x+a*u*x,z=_*u*o-l*y*o-_*h*m+i*y*m+l*h*x-i*u*x,k=l*M*o-_*c*o+_*a*m-i*M*m-l*a*x+i*c*x,g=_*c*h-l*M*h-_*a*u+i*M*u+l*a*y-i*c*y,p=e*d+s*z+r*k+n*g;if(0===p)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/p;return t[0]=d*b,t[1]=(M*u*n-c*y*n-M*r*m+s*y*m+c*r*x-s*u*x)*b,t[2]=(a*y*n-M*h*n+M*r*o-s*y*o-a*r*x+s*h*x)*b,t[3]=(c*h*n-a*u*n-c*r*o+s*u*o+a*r*m-s*h*m)*b,t[4]=z*b,t[5]=(l*y*n-_*u*n+_*r*m-e*y*m-l*r*x+e*u*x)*b,t[6]=(_*h*n-i*y*n-_*r*o+e*y*o+i*r*x-e*h*x)*b,t[7]=(i*u*n-l*h*n+l*r*o-e*u*o-i*r*m+e*h*m)*b,t[8]=k*b,t[9]=(_*c*n-l*M*n-_*s*m+e*M*m+l*s*x-e*c*x)*b,t[10]=(i*M*n-_*a*n+_*s*o-e*M*o-i*s*x+e*a*x)*b,t[11]=(l*a*n-i*c*n-l*s*o+e*c*o+i*s*m-e*a*m)*b,t[12]=g*b,t[13]=(l*M*r-_*c*r+_*s*u-e*M*u-l*s*y+e*c*y)*b,t[14]=(_*a*r-i*M*r-_*s*h+e*M*h+i*s*y-e*a*y)*b,t[15]=(i*c*r-l*a*r+l*s*h-e*c*h-i*s*u+e*a*u)*b,this}scale(t){const e=this.elements,s=t.x,r=t.y,n=t.z;return e[0]*=s,e[4]*=r,e[8]*=n,e[1]*=s,e[5]*=r,e[9]*=n,e[2]*=s,e[6]*=r,e[10]*=n,e[3]*=s,e[7]*=r,e[11]*=n,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,s,r))}makeTranslation(t,e,s){return this.set(1,0,0,t,0,1,0,e,0,0,1,s,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const s=Math.cos(e),r=Math.sin(e),n=1-s,i=t.x,a=t.y,h=t.z,o=n*i,l=n*a;return this.set(o*i+s,o*a-r*h,o*h+r*a,0,o*a+r*h,l*a+s,l*h-r*i,0,o*h-r*a,l*h+r*i,n*h*h+s,0,0,0,0,1),this}makeScale(t,e,s){return this.set(t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,e,s,r,n,i){return this.set(1,s,n,0,t,1,i,0,e,r,1,0,0,0,0,1),this}compose(t,e,s){const r=this.elements,n=e._x,i=e._y,a=e._z,h=e._w,o=n+n,l=i+i,c=a+a,u=n*o,m=n*l,_=n*c,M=i*l,y=i*c,x=a*c,d=h*o,z=h*l,k=h*c,g=s.x,p=s.y,b=s.z;return r[0]=(1-(M+x))*g,r[1]=(m+k)*g,r[2]=(_-z)*g,r[3]=0,r[4]=(m-k)*p,r[5]=(1-(u+x))*p,r[6]=(y+d)*p,r[7]=0,r[8]=(_+z)*b,r[9]=(y-d)*b,r[10]=(1-(u+M))*b,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,s){const r=this.elements;let n=i.set(r[0],r[1],r[2]).length();const h=i.set(r[4],r[5],r[6]).length(),o=i.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],a.copy(this);const l=1/n,c=1/h,u=1/o;return a.elements[0]*=l,a.elements[1]*=l,a.elements[2]*=l,a.elements[4]*=c,a.elements[5]*=c,a.elements[6]*=c,a.elements[8]*=u,a.elements[9]*=u,a.elements[10]*=u,e.setFromRotationMatrix(a),s.x=n,s.y=h,s.z=o,this}makePerspective(t,e,s,r,n,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,h=2*n/(e-t),o=2*n/(s-r),l=(e+t)/(e-t),c=(s+r)/(s-r),u=-(i+n)/(i-n),m=-2*i*n/(i-n);return a[0]=h,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=o,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,s,r,n,i){const a=this.elements,h=1/(e-t),o=1/(s-r),l=1/(i-n),c=(e+t)*h,u=(s+r)*o,m=(i+n)*l;return a[0]=2*h,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*o,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,s=t.elements;for(let t=0;t<16;t++)if(e[t]!==s[t])return!1;return!0}fromArray(t,e=0){for(let s=0;s<16;s++)this.elements[s]=t[s+e];return this}toArray(t=[],e=0){const s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t[e+6]=s[6],t[e+7]=s[7],t[e+8]=s[8],t[e+9]=s[9],t[e+10]=s[10],t[e+11]=s[11],t[e+12]=s[12],t[e+13]=s[13],t[e+14]=s[14],t[e+15]=s[15],t}}n.prototype.isMatrix4=!0;const i=new r.Vector3,a=new n,h=new r.Vector3(0,0,0),o=new r.Vector3(1,1,1),l=new r.Vector3,c=new r.Vector3,u=new r.Vector3}}]);
//# sourceMappingURL=1351.bundle.js.map