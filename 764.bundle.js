"use strict";(self.webpackChunkjoyride=self.webpackChunkjoyride||[]).push([[764],{81764:(e,t,n)=>{n.r(t),n.d(t,{CSS2DObject:()=>o,CSS2DRenderer:()=>c});var r=n(99477);class o extends r.Object3D{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}o.prototype.isCSS2DObject=!0;const s=new r.Vector3,i=new r.Matrix4,a=new r.Matrix4,l=new r.Vector3,d=new r.Vector3;class c{constructor(e={}){const t=this;let n,r,o,c;const u={objects:new WeakMap},m=void 0!==e.element?e.element:document.createElement("div");function p(e,n,r){if(e.isCSS2DObject){s.setFromMatrixPosition(e.matrixWorld),s.applyMatrix4(a);const p=!0===e.visible&&s.z>=-1&&s.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===p?"":"none",!0===p){e.onBeforeRender(t,n,r);const i=e.element;/apple/i.test(navigator.vendor)?i.style.transform="translate(-50%,-50%) translate("+Math.round(s.x*o+o)+"px,"+Math.round(-s.y*c+c)+"px)":i.style.transform="translate(-50%,-50%) translate("+(s.x*o+o)+"px,"+(-s.y*c+c)+"px)",i.parentNode!==m&&m.appendChild(i),e.onAfterRender(t,n,r)}const x={distanceToCameraSquared:(i=r,h=e,l.setFromMatrixPosition(i.matrixWorld),d.setFromMatrixPosition(h.matrixWorld),l.distanceToSquared(d))};u.objects.set(e,x)}var i,h;for(let t=0,o=e.children.length;t<o;t++)p(e.children[t],n,r)}m.style.overflow="hidden",this.domElement=m,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),i.copy(t.matrixWorldInverse),a.multiplyMatrices(t.projectionMatrix,i),p(e,e,t),function(e){const t=function(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){return e.renderOrder!==t.renderOrder?t.renderOrder-e.renderOrder:u.objects.get(e).distanceToCameraSquared-u.objects.get(t).distanceToCameraSquared})),n=t.length;for(let e=0,r=t.length;e<r;e++)t[e].element.style.zIndex=n-e}(e)},this.setSize=function(e,t){n=e,r=t,o=n/2,c=r/2,m.style.width=e+"px",m.style.height=t+"px"}}}}}]);