{"version":3,"file":"1764.bundle.js","mappings":"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","sources":["webpack://joyride/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js"],"sourcesContent":["import {\n\tMatrix4,\n\tObject3D,\n\tVector3\n} from 'three';\n\nclass CSS2DObject extends Object3D {\n\n\tconstructor( element = document.createElement( 'div' ) ) {\n\n\t\tsuper();\n\n\t\tthis.element = element;\n\n\t\tthis.element.style.position = 'absolute';\n\t\tthis.element.style.userSelect = 'none';\n\n\t\tthis.element.setAttribute( 'draggable', false );\n\n\t\tthis.addEventListener( 'removed', function () {\n\n\t\t\tthis.traverse( function ( object ) {\n\n\t\t\t\tif ( object.element instanceof Element && object.element.parentNode !== null ) {\n\n\t\t\t\t\tobject.element.parentNode.removeChild( object.element );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.element = source.element.cloneNode( true );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCSS2DObject.prototype.isCSS2DObject = true;\n\n//\n\nconst _vector = new Vector3();\nconst _viewMatrix = new Matrix4();\nconst _viewProjectionMatrix = new Matrix4();\nconst _a = new Vector3();\nconst _b = new Vector3();\n\nclass CSS2DRenderer {\n\n\tconstructor( parameters = {} ) {\n\n\t\tconst _this = this;\n\n\t\tlet _width, _height;\n\t\tlet _widthHalf, _heightHalf;\n\n\t\tconst cache = {\n\t\t\tobjects: new WeakMap()\n\t\t};\n\n\t\tconst domElement = parameters.element !== undefined ? parameters.element : document.createElement( 'div' );\n\n\t\tdomElement.style.overflow = 'hidden';\n\n\t\tthis.domElement = domElement;\n\n\t\tthis.getSize = function () {\n\n\t\t\treturn {\n\t\t\t\twidth: _width,\n\t\t\t\theight: _height\n\t\t\t};\n\n\t\t};\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t\t_viewMatrix.copy( camera.matrixWorldInverse );\n\t\t\t_viewProjectionMatrix.multiplyMatrices( camera.projectionMatrix, _viewMatrix );\n\n\t\t\trenderObject( scene, scene, camera );\n\t\t\tzOrder( scene );\n\n\t\t};\n\n\t\tthis.setSize = function ( width, height ) {\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\n\t\t\t_widthHalf = _width / 2;\n\t\t\t_heightHalf = _height / 2;\n\n\t\t\tdomElement.style.width = width + 'px';\n\t\t\tdomElement.style.height = height + 'px';\n\n\t\t};\n\n\t\tfunction renderObject( object, scene, camera ) {\n\n\t\t\tif ( object.isCSS2DObject ) {\n\n\t\t\t\t_vector.setFromMatrixPosition( object.matrixWorld );\n\t\t\t\t_vector.applyMatrix4( _viewProjectionMatrix );\n\n\t\t\t\tconst visible = ( object.visible === true ) && ( _vector.z >= - 1 && _vector.z <= 1 ) && ( object.layers.test( camera.layers ) === true );\n\t\t\t\tobject.element.style.display = ( visible === true ) ? '' : 'none';\n\n\t\t\t\tif ( visible === true ) {\n\n\t\t\t\t\tobject.onBeforeRender( _this, scene, camera );\n\n\t\t\t\t\tconst element = object.element;\n\n\t\t\t\t\tif ( /apple/i.test( navigator.vendor ) ) {\n\n\t\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/21415\n\t\t\t\t\t\telement.style.transform = 'translate(-50%,-50%) translate(' + Math.round( _vector.x * _widthHalf + _widthHalf ) + 'px,' + Math.round( - _vector.y * _heightHalf + _heightHalf ) + 'px)';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\telement.style.transform = 'translate(-50%,-50%) translate(' + ( _vector.x * _widthHalf + _widthHalf ) + 'px,' + ( - _vector.y * _heightHalf + _heightHalf ) + 'px)';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( element.parentNode !== domElement ) {\n\n\t\t\t\t\t\tdomElement.appendChild( element );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.onAfterRender( _this, scene, camera );\n\n\t\t\t\t}\n\n\t\t\t\tconst objectData = {\n\t\t\t\t\tdistanceToCameraSquared: getDistanceToSquared( camera, object )\n\t\t\t\t};\n\n\t\t\t\tcache.objects.set( object, objectData );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = object.children.length; i < l; i ++ ) {\n\n\t\t\t\trenderObject( object.children[ i ], scene, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getDistanceToSquared( object1, object2 ) {\n\n\t\t\t_a.setFromMatrixPosition( object1.matrixWorld );\n\t\t\t_b.setFromMatrixPosition( object2.matrixWorld );\n\n\t\t\treturn _a.distanceToSquared( _b );\n\n\t\t}\n\n\t\tfunction filterAndFlatten( scene ) {\n\n\t\t\tconst result = [];\n\n\t\t\tscene.traverse( function ( object ) {\n\n\t\t\t\tif ( object.isCSS2DObject ) result.push( object );\n\n\t\t\t} );\n\n\t\t\treturn result;\n\n\t\t}\n\n\t\tfunction zOrder( scene ) {\n\n\t\t\tconst sorted = filterAndFlatten( scene ).sort( function ( a, b ) {\n\n\t\t\t\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\t\t\t\treturn b.renderOrder - a.renderOrder;\n\n\t\t\t\t}\n\n\t\t\t\tconst distanceA = cache.objects.get( a ).distanceToCameraSquared;\n\t\t\t\tconst distanceB = cache.objects.get( b ).distanceToCameraSquared;\n\n\t\t\t\treturn distanceA - distanceB;\n\n\t\t\t} );\n\n\t\t\tconst zMax = sorted.length;\n\n\t\t\tfor ( let i = 0, l = sorted.length; i < l; i ++ ) {\n\n\t\t\t\tsorted[ i ].element.style.zIndex = zMax - i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n"],"names":["CSS2DObject","constructor","element","document","createElement","super","this","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","copy","source","recursive","cloneNode","prototype","isCSS2DObject","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","renderObject","scene","camera","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","navigator","vendor","transform","Math","round","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","object1","object2","distanceToSquared","set","i","l","children","length","overflow","getSize","width","height","render","autoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","projectionMatrix","sorted","result","push","filterAndFlatten","sort","a","b","renderOrder","get","zMax","zIndex","zOrder","setSize"],"sourceRoot":""}