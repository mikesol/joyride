{"version":3,"file":"394.bundle.js","mappings":"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","sources":["webpack://joyride/./node_modules/three/src/materials/Material.js","webpack://joyride/./node_modules/three/src/math/Ray.js","webpack://joyride/./node_modules/three/src/materials/PointsMaterial.js","webpack://joyride/./node_modules/three/src/objects/Points.js"],"sourcesContent":["import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { FrontSide, FlatShading, NormalBlending, LessEqualDepth, AddEquation, OneMinusSrcAlphaFactor, SrcAlphaFactor, AlwaysStencilFunc, KeepStencilOp } from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, object, group */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatibility if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRootObject ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen !== undefined ) data.sheen = this.sheen;\n\t\tif ( this.sheenColor && this.sheenColor.isColor ) data.sheenColor = this.sheenColor.getHex();\n\t\tif ( this.sheenRoughness !== undefined ) data.sheenRoughness = this.sheenRoughness;\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularColor && this.specularColor.isColor ) data.specularColor = this.specularColor.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularColorMap && this.specularColorMap.isTexture ) data.specularColorMap = this.specularColorMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationColor !== undefined ) data.attenuationColor = this.attenuationColor.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== undefined && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== undefined && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( this.fog === false ) data.fog = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nMaterial.prototype.isMaterial = true;\n\nMaterial.fromType = function ( /*type*/ ) {\n\n\t// TODO: Behavior added in Materials.js\n\n\treturn null;\n\n};\n\nexport { Material };\n","import { Vector3 } from './Vector3.js';\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector.dot( this.direction );\n\t\tconst d2 = _vector.dot( _vector ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Ray };\n","import { Material } from './Material.js';\nimport { Color } from '../math/Color.js';\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nexport { PointsMaterial };\n","import { Sphere } from '../math/Sphere.js';\nimport { Ray } from '../math/Ray.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { PointsMaterial } from '../materials/PointsMaterial.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nexport { Points };\n"],"names":["materialId","Material","constructor","super","Object","defineProperty","this","value","uuid","name","type","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","visible","toneMapped","userData","version","_alphaTest","alphaTest","onBuild","onBeforeRender","onBeforeCompile","customProgramCacheKey","toString","setValues","values","undefined","key","newValue","console","warn","flatShading","currentValue","isColor","set","isVector3","copy","toJSON","meta","isRootObject","textures","images","data","metadata","generator","extractFromCache","cache","push","color","getHex","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","isTexture","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","toArray","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","size","sizeAttenuation","rotation","linewidth","dashSize","gapSize","scale","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog","JSON","stringify","length","clone","source","srcPlanes","dstPlanes","n","Array","i","parse","dispose","dispatchEvent","needsUpdate","prototype","isMaterial","fromType","_vector","Vector3","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","t","target","multiplyScalar","add","lookAt","v","sub","normalize","recast","closestPointToPoint","point","subVectors","directionDistance","dot","distanceToPoint","Math","sqrt","distanceSqToPoint","distanceToSquared","distanceSqToSegment","v0","v1","optionalPointOnRay","optionalPointOnSegment","segExtent","distanceTo","a01","b0","b1","c","lengthSq","det","abs","s0","s1","sqrDist","extDet","invDet","max","min","intersectSphere","sphere","center","tca","d2","radius2","radius","thc","t0","t1","intersectsSphere","distanceToPlane","plane","denominator","normal","constant","intersectPlane","intersectsPlane","distToPoint","intersectBox","box","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","x","invdiry","y","invdirz","z","intersectsBox","intersectTriangle","a","b","backfaceCulling","crossVectors","sign","DdN","DdQxE2","DdE1xQ","cross","QdN","applyMatrix4","matrix4","transformDirection","equals","PointsMaterial","parameters","Color","isPointsMaterial","_inverseMatrix","Matrix4","_ray","_sphere","Sphere","_position","Points","Object3D","geometry","BufferGeometry","material","updateMorphTargets","raycast","raycaster","intersects","matrixWorld","threshold","params","drawRange","boundingSphere","computeBoundingSphere","invert","localThreshold","localThresholdSq","isBufferGeometry","index","positionAttribute","attributes","position","start","il","count","getX","fromBufferAttribute","testPoint","l","error","morphAttributes","keys","morphAttribute","morphTargetInfluences","morphTargetDictionary","m","ml","String","morphTargets","object","rayPointDistanceSq","intersectPoint","distance","near","far","distanceToRay","face","isPoints"],"sourceRoot":""}