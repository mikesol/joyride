(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const b of h.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function f(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerpolicy&&(h.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?h.credentials="include":m.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(m){if(m.ep)return;m.ep=!0;const h=f(m);fetch(m.href,h)}})();const style$1="",style="";(function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var b in d)f.d(h,b,function(y){return d[y]}.bind(null,b));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=193)})([function(o,u,f){(function(d){function m(h){return h&&h.Math==Math&&h}o.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,f(154))},function(o,u,d){var d=d(60),m=Function.prototype,h=m.bind,b=m.call,y=d&&h.bind(b,b);o.exports=d?function(v){return v&&y(v)}:function(v){return v&&function(){return b.apply(v,arguments)}}},function(o,u){o.exports=function(f){try{return!!f()}catch{return!0}}},function(o,u,f){var d=f(0),m=f(42).f,h=f(45),b=f(37),y=f(98),v=f(126),C=f(81);o.exports=function(w,_){var g,$,T,M=w.target,S=w.global,I=w.stat,B=S?d:I?d[M]||y(M,{}):(d[M]||{}).prototype;if(B)for(g in _){if($=_[g],T=w.noTargetGet?(T=m(B,g))&&T.value:B[g],!C(S?g:M+(I?".":"#")+g,w.forced)&&T!==void 0){if(typeof $==typeof T)continue;v($,T)}(w.sham||T&&T.sham)&&h($,"sham",!0),b(B,g,$,w)}}},function(o,u,h){var d=h(105),m=h(37),h=h(158);d||m(Object.prototype,"toString",h,{unsafe:!0})},function(o,u,C){var d=C(30),m=C(89),h=C(68),$=C(49),b=C(22).f,y=C(109),v=C(54),C=C(17),w="Array Iterator",_=$.set,g=$.getterFor(w),$=(o.exports=y(Array,"Array",function(T,M){_(this,{type:w,target:d(T),index:0,kind:M})},function(){var T=g(this),M=T.target,S=T.kind,I=T.index++;return!M||I>=M.length?{value:T.target=void 0,done:!0}:S=="keys"?{value:I,done:!1}:S=="values"?{value:M[I],done:!1}:{value:[I,M[I]],done:!1}},"values"),h.Arguments=h.Array);if(m("keys"),m("values"),m("entries"),!v&&C&&$.name!=="values")try{b($,"name",{value:"values"})}catch{}},function(o,u,b){var d=b(137).charAt,m=b(23),h=b(49),b=b(109),y="String Iterator",v=h.set,C=h.getterFor(y);b(String,"String",function(w){v(this,{type:y,string:m(w),index:0})},function(){var w=C(this),_=w.string,g=w.index;return g>=_.length?{value:void 0,done:!0}:(_=d(_,g),w.index+=_.length,{value:_,done:!1})})},function(o,u,Te){function d(Ye,He){var mt=At[Ye]=H(Ge);return We(mt,{type:yt,tag:Ye,description:He}),I||(mt.description=He),mt}function m(Ye,He,mt){return Ye===je&&m(_t,He,mt),ee(Ye),He=Z(He),ee(mt),F(At,He)?(mt.enumerable?(F(Ye,et)&&Ye[et][He]&&(Ye[et][He]=!1),mt=H(mt,{enumerable:Q(0,!1)})):(F(Ye,et)||$t(Ye,et,Q(1,{})),Ye[et][He]=!0),Yt(Ye,He,mt)):$t(Ye,He,mt)}function h(Ye,gt){ee(Ye);var mt=G(gt),gt=ne(mt).concat(C(mt));return pt(gt,function(Dt){I&&!T(b,mt,Dt)||m(Ye,Dt,mt[Dt])}),Ye}function b(He){var He=Z(He),mt=T(kt,this,He);return!(this===je&&F(At,He)&&!F(_t,He))&&(!(mt||!F(this,He)||!F(At,He)||F(this,et)&&this[et][He])||mt)}function y(gt,Dt){var mt,gt=G(gt),Dt=Z(Dt);if(gt!==je||!F(At,Dt)||F(_t,Dt))return!(mt=tt(gt,Dt))||!F(At,Dt)||F(gt,et)&&gt[et][Dt]||(mt.enumerable=!0),mt}function v(He){var He=ht(G(He)),mt=[];return pt(He,function(gt){F(At,gt)||F(fe,gt)||Pt(mt,gt)}),mt}function C(mt){var He=mt===je,mt=ht(He?_t:G(mt)),gt=[];return pt(mt,function(Dt){!F(At,Dt)||He&&!F(je,Dt)||Pt(gt,At[Dt])}),gt}var w,_=Te(3),Jt=Te(0),g=Te(43),$=Te(84),T=Te(21),M=Te(1),S=Te(54),I=Te(17),B=Te(96),x=Te(2),F=Te(20),R=Te(86),L=Te(14),z=Te(19),J=Te(44),K=Te(73),ee=Te(18),q=Te(36),G=Te(30),Z=Te(72),ie=Te(23),Q=Te(61),H=Te(50),ne=Te(66),re=Te(55),X=Te(107),ue=Te(103),le=Te(42),ye=Te(22),me=Te(132),ve=Te(70),Ce=Te(106),be=Te(37),Ae=Te(77),Ve=Te(79),fe=Te(63),_e=Te(78),Ne=Te(12),Je=Te(133),Ke=Te(134),dt=Te(87),rt=Te(49),pt=Te(56).forEach,et=Ve("hidden"),yt="Symbol",Te="prototype",Ve=Ne("toPrimitive"),We=rt.set,Le=rt.getterFor(yt),je=Object[Te],Ze=Jt.Symbol,Ge=Ze&&Ze[Te],it=Jt.TypeError,rt=Jt.QObject,Xe=g("JSON","stringify"),tt=le.f,$t=ye.f,ht=X.f,kt=ve.f,Pt=M([].push),At=Ae("symbols"),_t=Ae("op-symbols"),zt=Ae("string-to-symbol-registry"),an=Ae("symbol-to-string-registry"),Jt=Ae("wks"),Wt=!rt||!rt[Te]||!rt[Te].findChild,Yt=I&&x(function(){return H($t({},"a",{get:function(){return $t(this,"a",{value:7}).a}})).a!=7})?function(Ye,He,mt){var gt=tt(je,He);gt&&delete je[He],$t(Ye,He,mt),gt&&Ye!==je&&$t(je,He,gt)}:$t;B||(be(Ge=(Ze=function(){if(J(Ge,this))throw it("Symbol is not a constructor");var Ye=arguments.length&&arguments[0]!==void 0?ie(arguments[0]):void 0,He=_e(Ye),mt=function(gt){this===je&&T(mt,_t,gt),F(this,et)&&F(this[et],He)&&(this[et][He]=!1),Yt(this,He,Q(1,gt))};return I&&Wt&&Yt(je,He,{configurable:!0,set:mt}),d(He,Ye)})[Te],"toString",function(){return Le(this).tag}),be(Ze,"withoutSetter",function(Ye){return d(_e(Ye),Ye)}),ve.f=b,ye.f=m,me.f=h,le.f=y,re.f=X.f=v,ue.f=C,Je.f=function(Ye){return d(Ne(Ye),Ye)},I&&($t(Ge,"description",{configurable:!0,get:function(){return Le(this).description}}),S||be(je,"propertyIsEnumerable",b,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:Ze}),pt(ne(Jt),function(Ye){Ke(Ye)}),_({target:yt,stat:!0,forced:!B},{for:function(Ye){if(Ye=ie(Ye),F(zt,Ye))return zt[Ye];var He=Ze(Ye);return zt[Ye]=He,an[He]=Ye,He},keyFor:function(Ye){if(!K(Ye))throw it(Ye+" is not a symbol");if(F(an,Ye))return an[Ye]},useSetter:function(){Wt=!0},useSimple:function(){Wt=!1}}),_({target:"Object",stat:!0,forced:!B,sham:!I},{create:function(Ye,He){return He===void 0?H(Ye):h(H(Ye),He)},defineProperty:m,defineProperties:h,getOwnPropertyDescriptor:y}),_({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:v,getOwnPropertySymbols:C}),_({target:"Object",stat:!0,forced:x(function(){ue.f(1)})},{getOwnPropertySymbols:function(Ye){return ue.f(q(Ye))}}),Xe&&_({target:"JSON",stat:!0,forced:!B||x(function(){var Ye=Ze();return Xe([Ye])!="[null]"||Xe({a:Ye})!="{}"||Xe(Object(Ye))!="{}"})},{stringify:function(Ye,He,mt){var gt=Ce(arguments),Dt=He;if((z(He)||Ye!==void 0)&&!K(Ye))return R(He)||(He=function(Ln,xt){if(L(Dt)&&(xt=T(Dt,this,Ln,xt)),!K(xt))return xt}),gt[1]=He,$(Xe,null,gt)}}),Ge[Ve]||(w=Ge.valueOf,be(Ge,Ve,function(Ye){return T(w,this)})),dt(Ze,yt),fe[et]=!0},function(o,u,w){function d(T,M){if(T){if(T[_]!==$)try{C(T,_,$)}catch{T[_]=$}if(T[g]||C(T,g,M),b[M]){for(var S in v)if(T[S]!==v[S])try{C(T,S,v[S])}catch{T[S]=v[S]}}}}var m,h=w(0),b=w(138),y=w(139),v=w(5),C=w(45),w=w(12),_=w("iterator"),g=w("toStringTag"),$=v.values;for(m in b)d(h[m]&&h[m].prototype,m);d(y,"DOMTokenList")},function(o,u,f){function d(w){if(w&&w.forEach!==v)try{C(w,"forEach",v)}catch{w.forEach=v}}var m,h=f(0),b=f(138),y=f(139),v=f(168),C=f(45);for(m in b)b[m]&&d(h[m]&&h[m].prototype);d(y)},function(o,u,x){var d,m,h,b,y,v,C,w=x(3),_=x(17),g=x(0),$=x(1),T=x(20),M=x(14),S=x(44),I=x(23),B=x(22).f,x=x(126),F=g.Symbol,R=F&&F.prototype;!_||!M(F)||"description"in R&&F().description===void 0||(d={},x(g=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:I(arguments[0]),z=S(R,this)?new F(L):L===void 0?F():F(L);return L===""&&(d[z]=!0),z},F),(g.prototype=R).constructor=g,m=String(F("test"))=="Symbol(test)",h=$(R.toString),b=$(R.valueOf),y=/^Symbol\((.*)\)[^)]+$/,v=$("".replace),C=$("".slice),B(R,"description",{configurable:!0,get:function(){var L=b(this),z=h(L);return T(d,L)?"":(L=m?C(z,7,-1):v(z,y,"$1"),L===""?void 0:L)}}),w({global:!0,forced:!0},{Symbol:g}))},function(o,u,f){f(134)("iterator")},function(o,u,f){var d=f(0),m=f(77),h=f(20),b=f(78),y=f(96),v=f(123),C=m("wks"),w=d.Symbol,_=w&&w.for,g=v?w:w&&w.withoutSetter||b;o.exports=function($){var T;return h(C,$)&&(y||typeof C[$]=="string")||(T="Symbol."+$,y&&h(w,$)?C[$]=w[$]:C[$]=(v&&_?_:g)(T)),C[$]}},function(o,u,f){var d=f(3),m=f(36),h=f(66);d({target:"Object",stat:!0,forced:f(2)(function(){h(1)})},{keys:function(b){return h(m(b))}})},function(o,u){o.exports=function(f){return typeof f=="function"}},function(o,u,f){var d=f(3),m=f(56).filter;d({target:"Array",proto:!0,forced:!f(94)("filter")},{filter:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,m){var d=m(3),m=m(90);d({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(o,u,f){var d=f(0),m=f(19),h=d.String,b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not an object")}},function(o,u,f){var d=f(14);o.exports=function(m){return typeof m=="object"?m!==null:d(m)}},function(o,u,f){var d=f(1),m=f(36),h=d({}.hasOwnProperty);o.exports=Object.hasOwn||function(b,y){return h(m(b),y)}},function(o,u,d){var d=d(60),m=Function.prototype.call;o.exports=d?m.bind(m):function(){return m.apply(m,arguments)}},function(o,u,f){var d=f(0),m=f(17),h=f(124),b=f(125),y=f(18),v=f(72),C=d.TypeError,w=Object.defineProperty,_=Object.getOwnPropertyDescriptor,g="enumerable",$="configurable",T="writable";u.f=m?b?function(M,S,I){var B;return y(M),S=v(S),y(I),typeof M=="function"&&S==="prototype"&&"value"in I&&T in I&&!I[T]&&(B=_(M,S))&&B[T]&&(M[S]=I.value,I={configurable:($ in I?I:B)[$],enumerable:(g in I?I:B)[g],writable:!1}),w(M,S,I)}:w:function(M,S,I){if(y(M),S=v(S),y(I),h)try{return w(M,S,I)}catch{}if("get"in I||"set"in I)throw C("Accessors not supported");return"value"in I&&(M[S]=I.value),M}},function(o,u,f){var d=f(0),m=f(83),h=d.String;o.exports=function(b){if(m(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return h(b)}},function(o,u,b){var d=b(3),y=b(2),m=b(30),h=b(42).f,b=b(17),y=y(function(){h(1)});d({target:"Object",stat:!0,forced:!b||y,sham:!b},{getOwnPropertyDescriptor:function(v,C){return h(m(v),C)}})},function(o,u,f){var d=f(3),m=f(17),h=f(127),b=f(30),y=f(42),v=f(67);d({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(C){for(var w,_,g=b(C),$=y.f,T=h(g),M={},S=0;T.length>S;)(_=$(g,w=T[S++]))!==void 0&&v(M,w,_);return M}})},function(o,u,g){var d=g(3),B=g(0),m=g(2),h=g(86),b=g(19),y=g(36),v=g(46),C=g(67),w=g(135),_=g(94),I=g(12),g=g(74),$=I("isConcatSpreadable"),T=9007199254740991,M="Maximum allowed index exceeded",S=B.TypeError,I=51<=g||!m(function(){var x=[];return x[$]=!1,x.concat()[0]!==x}),B=_("concat");d({target:"Array",proto:!0,forced:!I||!B},{concat:function(x){for(var F,R,L,z=y(this),J=w(z,0),K=0,ee=-1,q=arguments.length;ee<q;ee++)if(function(G){if(!b(G))return!1;var Z=G[$];return Z!==void 0?!!Z:h(G)}(L=ee===-1?z:arguments[ee])){if(R=v(L),T<K+R)throw S(M);for(F=0;F<R;F++,K++)F in L&&C(J,K,L[F])}else{if(T<=K)throw S(M);C(J,K++,L)}return J.length=K,J}})},function(o,u,M){var d=M(3),m=M(0),h=M(86),b=M(85),y=M(19),v=M(101),C=M(46),w=M(30),_=M(67),g=M(12),$=M(94),T=M(106),M=$("slice"),S=g("species"),I=m.Array,B=Math.max;d({target:"Array",proto:!0,forced:!M},{slice:function(x,F){var R,L,z,J=w(this),K=C(J),ee=v(x,K),q=v(F===void 0?K:F,K);if(h(J)&&(R=J.constructor,(R=b(R)&&(R===I||h(R.prototype))||y(R)&&(R=R[S])===null?void 0:R)===I||R===void 0))return T(J,ee,q);for(L=new(R===void 0?I:R)(B(q-ee,0)),z=0;ee<q;ee++,z++)ee in J&&_(L,z,J[ee]);return L.length=z,L}})},function(o,u,h){var d=h(3),m=h(56).find,h=h(89),b="find",y=!0;b in[]&&Array(1)[b](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{find:function(v){return m(this,v,1<arguments.length?arguments[1]:void 0)}}),h(b)},function(o,u,f){f(3)({target:"Object",stat:!0},{setPrototypeOf:f(104)})},function(o,u,f){var d=f(71),m=f(39);o.exports=function(h){return d(m(h))}},function(o,u,y){var d=y(3),m=y(2),h=y(36),b=y(82),y=y(130);d({target:"Object",stat:!0,forced:m(function(){b(1)}),sham:!y},{getPrototypeOf:function(v){return b(h(v))}})},function(o,u,w){var d=w(3),S=w(43),m=w(84),h=w(159),b=w(131),y=w(18),v=w(19),C=w(50),w=w(2),_=S("Reflect","construct"),g=Object.prototype,$=[].push,T=w(function(){function I(){}return!(_(function(){},[],I)instanceof I)}),M=!w(function(){_(function(){})}),S=T||M;d({target:"Reflect",stat:!0,forced:S,sham:S},{construct:function(I,B){b(I),y(B);var x=arguments.length<3?I:b(arguments[2]);if(M&&!T)return _(I,B,x);if(I==x){switch(B.length){case 0:return new I;case 1:return new I(B[0]);case 2:return new I(B[0],B[1]);case 3:return new I(B[0],B[1],B[2]);case 4:return new I(B[0],B[1],B[2],B[3])}var F=[null];return m($,F,B),new(m(h,I,F))}return F=x.prototype,x=C(v(F)?F:g),F=m(I,x,B),v(F)?F:x}})},function(o,u,h){var d=h(3),m=h(129).includes,h=h(89);d({target:"Array",proto:!0},{includes:function(b){return m(this,b,1<arguments.length?arguments[1]:void 0)}}),h("includes")},function(o,u,x){var d=x(17),m=x(0),h=x(1),b=x(81),y=x(37),v=x(20),C=x(117),w=x(44),_=x(73),g=x(122),$=x(2),T=x(55).f,M=x(42).f,S=x(22).f,I=x(167),B=x(92).trim,x="Number",F=m[x],R=F.prototype,L=m.TypeError,z=h("".slice),J=h("".charCodeAt),K=function(ie){var Q,H,ne,re,X,ue,le,ye=g(ie,"number");if(_(ye))throw L("Cannot convert a Symbol value to a number");if(typeof ye=="string"&&2<ye.length){if(ye=B(ye),(ie=J(ye,0))===43||ie===45){if((Q=J(ye,2))===88||Q===120)return NaN}else if(ie===48){switch(J(ye,1)){case 66:case 98:H=2,ne=49;break;case 79:case 111:H=8,ne=55;break;default:return+ye}for(X=(re=z(ye,2)).length,ue=0;ue<X;ue++)if((le=J(re,ue))<48||ne<le)return NaN;return parseInt(re,H)}}return+ye};if(b(x,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var ee,q=function(Q){var Q=arguments.length<1?0:F(function(ne){return ne=g(ne,"number"),typeof ne=="bigint"?ne:K(ne)}(Q)),H=this;return w(R,H)&&$(function(){I(H)})?C(Object(Q),H,q):Q},G=d?T(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0;G.length>Z;Z++)v(F,ee=G[Z])&&!v(q,ee)&&S(q,ee,M(F,ee));y(m,x,(q.prototype=R).constructor=q)}},function(o,u,f){var d=f(3),m=f(174);d({target:"Array",stat:!0,forced:!f(152)(function(h){Array.from(h)})},{from:m})},function(o,u,f){var d=f(0),m=f(39),h=d.Object;o.exports=function(b){return h(m(b))}},function(o,u,f){var d=f(0),m=f(14),h=f(20),b=f(45),y=f(98),v=f(100),C=f(49),w=f(64).CONFIGURABLE,_=C.get,g=C.enforce,$=String(String).split("String");(o.exports=function(T,M,S,L){var B,x=!!L&&!!L.unsafe,F=!!L&&!!L.enumerable,R=!!L&&!!L.noTargetGet,L=L&&L.name!==void 0?L.name:M;m(S)&&(String(L).slice(0,7)==="Symbol("&&(L="["+String(L).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!h(S,"name")||w&&S.name!==L)&&b(S,"name",L),(B=g(S)).source||(B.source=$.join(typeof L=="string"?L:""))),T===d?F?T[M]=S:y(M,S):(x?!R&&T[M]&&(F=!0):delete T[M],F?T[M]=S:b(T,M,S))})(Function.prototype,"toString",function(){return m(this)&&_(this).source||v(this)})},function(o,u,x){var d=x(84),m=x(21),h=x(1),b=x(112),y=x(115),v=x(18),C=x(39),w=x(164),_=x(113),g=x(65),$=x(23),T=x(53),M=x(108),S=x(114),I=x(90),B=x(111),x=x(2),F=B.UNSUPPORTED_Y,R=4294967295,L=Math.min,z=[].push,J=h(/./.exec),K=h(z),ee=h("".slice);b("split",function(q,G,Z){var ie="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(Q,H){var ne=$(C(this)),re=H===void 0?R:H>>>0;if(re==0)return[];if(Q===void 0)return[ne];if(!y(Q))return m(G,ne,Q,re);for(var X,ue,le,ye=[],H=(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")+(Q.sticky?"y":""),me=0,ve=new RegExp(Q.source,H+"g");(X=m(I,ve,ne))&&!(me<(ue=ve.lastIndex)&&(K(ye,ee(ne,me,X.index)),1<X.length&&X.index<ne.length&&d(z,ye,M(X,1)),le=X[0].length,me=ue,re<=ye.length));)ve.lastIndex===X.index&&ve.lastIndex++;return me===ne.length?!le&&J(ve,"")||K(ye,""):K(ye,ee(ne,me)),re<ye.length?M(ye,0,re):ye}:"0".split(void 0,0).length?function(Q,H){return Q===void 0&&H===0?[]:m(G,this,Q,H)}:G;return[function(Q,H){var ne=C(this),re=Q==null?void 0:T(Q,q);return re?m(re,Q,ne,H):m(ie,$(ne),Q,H)},function(X,H){var ne=v(this),re=$(X),X=Z(ie,ne,re,H,ie!==G);if(X.done)return X.value;var X=w(ne,RegExp),ue=ne.unicode,le=(ne.ignoreCase?"i":"")+(ne.multiline?"m":"")+(ne.unicode?"u":"")+(F?"g":"y"),ye=new X(F?"^(?:"+ne.source+")":ne,le),me=H===void 0?R:H>>>0;if(me==0)return[];if(re.length===0)return S(ye,re)===null?[re]:[];for(var ve=0,Ce=0,be=[];Ce<re.length;){ye.lastIndex=F?0:Ce;var Ae,fe=S(ye,F?ee(re,Ce):re);if(fe===null||(Ae=L(g(ye.lastIndex+(F?Ce:0)),re.length))===ve)Ce=_(re,Ce,ue);else{if(K(be,ee(re,ve,Ce)),be.length===me)return be;for(var _e=1;_e<=fe.length-1;_e++)if(K(be,fe[_e]),be.length===me)return be;Ce=ve=Ae}}return K(be,ee(re,ve)),be}]},!!x(function(){var G=/(?:)/,q=G.exec,G=(G.exec=function(){return q.apply(this,arguments)},"ab".split(G));return G.length!==2||G[0]!=="a"||G[1]!=="b"}),F)},function(o,u,f){var d=f(0).TypeError;o.exports=function(m){if(m==null)throw d("Can't call method on "+m);return m}},function(o,u,T){var $=T(1),d=T(64).PROPER,m=T(37),h=T(18),b=T(44),y=T(23),v=T(2),T=T(110),C="toString",w=RegExp.prototype,_=w[C],g=$(T),$=v(function(){return _.call({source:"a",flags:"b"})!="/a/b"}),T=d&&_.name!=C;($||T)&&m(RegExp.prototype,C,function(){var M=h(this),S=y(M.source),I=M.flags;return"/"+S+"/"+y(I!==void 0||!b(w,M)||"flags"in w?I:g(M))},{unsafe:!0})},function(o,u,b){var d=b(17),m=b(64).EXISTS,h=b(1),b=b(22).f,y=Function.prototype,v=h(y.toString),C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=h(C.exec);d&&!m&&b(y,"name",{configurable:!0,get:function(){try{return w(C,v(this))[1]}catch{return""}}})},function(o,u,f){var d=f(17),m=f(21),h=f(70),b=f(61),y=f(30),v=f(72),C=f(20),w=f(124),_=Object.getOwnPropertyDescriptor;u.f=d?_:function(g,$){if(g=y(g),$=v($),w)try{return _(g,$)}catch{}if(C(g,$))return b(!m(h.f,g,$),g[$])}},function(o,u,f){var d=f(0),m=f(14);o.exports=function(h,b){return arguments.length<2?(y=d[h],m(y)?y:void 0):d[h]&&d[h][b];var y}},function(o,u,f){f=f(1),o.exports=f({}.isPrototypeOf)},function(o,u,f){var d=f(17),m=f(22),h=f(61);o.exports=d?function(b,y,v){return m.f(b,y,h(1,v))}:function(b,y,v){return b[y]=v,b}},function(o,u,f){var d=f(65);o.exports=function(m){return d(m.length)}},function(o,u,K){var d=K(84),m=K(21),h=K(1),b=K(112),y=K(2),v=K(18),C=K(14),w=K(80),_=K(65),g=K(23),$=K(39),T=K(113),M=K(53),S=K(173),I=K(114),B=K(12)("replace"),x=Math.max,F=Math.min,R=h([].concat),L=h([].push),z=h("".indexOf),J=h("".slice),K="a".replace(/./,"$0")==="$0",ee=!!/./[B]&&/./[B]("a","$0")==="";b("replace",function(q,G,Z){var ie=ee?"$":"$0";return[function(Q,H){var ne=$(this),re=Q==null?void 0:M(Q,B);return re?m(re,Q,ne,H):m(G,g(ne),Q,H)},function(Q,H){var ne=v(this),re=g(Q);if(typeof H=="string"&&z(H,ie)===-1&&z(H,"$<")===-1&&(Q=Z(G,ne,re,H),Q.done))return Q.value;for(var X,ue=C(H),le=(ue||(H=g(H)),ne.global),ye=(le&&(X=ne.unicode,ne.lastIndex=0),[]);(Ae=I(ne,re))!==null&&(L(ye,Ae),le);)g(Ae[0])===""&&(ne.lastIndex=T(re,_(ne.lastIndex),X));for(var me,ve="",Ce=0,be=0;be<ye.length;be++){for(var Ae,fe=g((Ae=ye[be])[0]),_e=x(F(w(Ae.index),re.length),0),Ne=[],Je=1;Je<Ae.length;Je++)L(Ne,(me=Ae[Je])===void 0?me:String(me));var Ke=Ae.groups,dt=ue?(dt=R([fe],Ne,_e,re),Ke!==void 0&&L(dt,Ke),g(d(H,void 0,dt))):S(fe,re,_e,Ne,Ke,H);Ce<=_e&&(ve+=J(re,Ce,_e)+dt,Ce=_e+fe.length)}return ve+J(re,Ce)}]},!!y(function(){var q=/./;return q.exec=function(){var G=[];return G.groups={a:"7"},G},"".replace(q,"$<a>")!=="7"})||!K||ee)},function(o,u,d){var d=d(1),m=d({}.toString),h=d("".slice);o.exports=function(b){return h(m(b),8,-1)}},function(o,u,B){var d,m,h,b,y,v,C,w,_=B(156),R=B(0),g=B(1),$=B(19),T=B(45),M=B(20),S=B(97),I=B(79),B=B(63),x="Object already initialized",F=R.TypeError,R=R.WeakMap;C=_||S.state?(d=S.state||(S.state=new R),m=g(d.get),h=g(d.has),b=g(d.set),y=function(L,z){if(h(d,L))throw new F(x);return z.facade=L,b(d,L,z),z},v=function(L){return m(d,L)||{}},function(L){return h(d,L)}):(B[w=I("state")]=!0,y=function(L,z){if(M(L,w))throw new F(x);return z.facade=L,T(L,w,z),z},v=function(L){return M(L,w)?L[w]:{}},function(L){return M(L,w)}),o.exports={set:y,get:v,has:C,enforce:function(L){return C(L)?v(L):y(L,{})},getterFor:function(L){return function(z){if($(z)&&(z=v(z)).type===L)return z;throw F("Incompatible receiver, "+L+" required")}}}},function(o,u,g){function d(){}function m(B){B.write(S("")),B.close();var x=B.parentWindow.Object;return B=null,x}var h,b=g(18),y=g(132),v=g(102),C=g(63),w=g(160),_=g(99),g=g(79),$="prototype",T="script",M=g("IE_PROTO"),S=function(B){return"<"+T+">"+B+"</"+T+">"},I=function(){try{h=new ActiveXObject("htmlfile")}catch{}I=typeof document>"u"||document.domain&&h?m(h):(B=_("iframe"),x="java"+T+":",B.style.display="none",w.appendChild(B),B.src=String(x),(x=B.contentWindow.document).open(),x.write(S("document.F=Object")),x.close(),x.F);for(var B,x,F=v.length;F--;)delete I[$][v[F]];return I()};C[M]=!0,o.exports=Object.create||function(B,x){var F;return B!==null?(d[$]=b(B),F=new d,d[$]=null,F[M]=B):F=I(),x===void 0?F:y.f(F,x)}},function(o,u,v){var d=v(3),m=v(1),h=v(142),b=v(39),y=v(23),v=v(143),C=m("".indexOf);d({target:"String",proto:!0,forced:!v("includes")},{includes:function(w){return!!~C(y(b(this)),y(h(w)),1<arguments.length?arguments[1]:void 0)}})},function(o,u,ue){var d=ue(17),m=ue(0),h=ue(1),b=ue(81),y=ue(117),v=ue(45),C=ue(22).f,w=ue(55).f,_=ue(44),g=ue(115),$=ue(23),T=ue(110),M=ue(111),S=ue(37),I=ue(2),B=ue(20),x=ue(49).enforce,F=ue(144),me=ue(12),R=ue(140),L=ue(141),z=me("match"),J=m.RegExp,K=J.prototype,ee=m.SyntaxError,q=h(T),G=h(K.exec),Z=h("".charAt),ie=h("".replace),Q=h("".indexOf),H=h("".slice),ne=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re=/a/g,X=/a/g,ue=new J(re)!==re,le=M.MISSED_STICKY,ye=M.UNSUPPORTED_Y,me=d&&(!ue||le||R||L||I(function(){return X[z]=!1,J(re)!=re||J(X)==X||J(re,"i")!="/a/i"})),ve=function(_e){for(var Ne,Je=_e.length,Ke=0,dt="",pt=!1;Ke<=Je;Ke++)(Ne=Z(_e,Ke))==="\\"?dt+=Ne+Z(_e,++Ke):pt||Ne!=="."?(Ne==="["?pt=!0:Ne==="]"&&(pt=!1),dt+=Ne):dt+="[\\s\\S]";return dt},Ce=function(_e){for(var Ne,Je=_e.length,Ke=0,dt="",pt=[],et={},yt=!1,Te=!1,Ve=0,We="";Ke<=Je;Ke++){if((Ne=Z(_e,Ke))==="\\")Ne+=Z(_e,++Ke);else if(Ne==="]")yt=!1;else if(!yt)switch(!0){case Ne==="[":yt=!0;break;case Ne==="(":G(ne,H(_e,Ke+1))&&(Ke+=2,Te=!0),dt+=Ne,Ve++;continue;case(Ne===">"&&Te):if(We===""||B(et,We))throw new ee("Invalid capture group name");et[We]=!0,Te=!(pt[pt.length]=[We,Ve]),We="";continue}Te?We+=Ne:dt+=Ne}return[dt,pt]};if(b("RegExp",me)){for(var be=function(_e,Ne){var Je,Ke,dt=_(K,this),pt=g(_e),et=Ne===void 0,yt=[],Te=_e;if(!dt&&pt&&et&&_e.constructor===be)return _e;if((pt||_(K,_e))&&(_e=_e.source,et&&(Ne="flags"in Te?Te.flags:q(Te))),_e=_e===void 0?"":$(_e),Ne=Ne===void 0?"":$(Ne),Te=_e,pt=Ne=R&&"dotAll"in re&&(Je=!!Ne&&-1<Q(Ne,"s"))?ie(Ne,/s/g,""):Ne,le&&"sticky"in re&&(Ke=!!Ne&&-1<Q(Ne,"y"))&&ye&&(Ne=ie(Ne,/y/g,"")),L&&(_e=(et=Ce(_e))[0],yt=et[1]),et=y(J(_e,Ne),dt?this:K,be),(Je||Ke||yt.length)&&(Ne=x(et),Je&&(Ne.dotAll=!0,Ne.raw=be(ve(_e),pt)),Ke&&(Ne.sticky=!0),yt.length&&(Ne.groups=yt)),_e!==Te)try{v(et,"source",Te===""?"(?:)":Te)}catch{}return et},Ae=w(J),fe=0;Ae.length>fe;)(function(_e){_e in be||C(be,_e,{configurable:!0,get:function(){return J[_e]},set:function(Ne){J[_e]=Ne}})})(Ae[fe++]);(K.constructor=be).prototype=K,S(m,"RegExp",be)}F("RegExp")},function(o,u,f){var d=f(62);o.exports=function(m,h){return m=m[h],m==null?void 0:d(m)}},function(o,u){o.exports=!1},function(o,u,f){var d=f(128),m=f(102).concat("length","prototype");u.f=Object.getOwnPropertyNames||function(h){return d(h,m)}},function(o,u,f){function d(_){var g=_==1,$=_==2,T=_==3,M=_==4,S=_==6,I=_==7,B=_==5||S;return function(x,F,R,L){for(var z,J,K=y(x),ee=b(K),q=m(F,R),G=v(ee),Z=0,F=L||C,ie=g?F(x,G):$||I?F(x,0):void 0;Z<G;Z++)if((B||Z in ee)&&(J=q(z=ee[Z],Z,K),_))if(g)ie[Z]=J;else if(J)switch(_){case 3:return!0;case 5:return z;case 6:return Z;case 2:w(ie,z)}else switch(_){case 4:return!1;case 7:w(ie,z)}return S?-1:T||M?M:ie}}var m=f(88),h=f(1),b=f(71),y=f(36),v=f(46),C=f(135),w=h([].push);o.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(o,u,w){var d=w(3),T=w(1),m=w(42).f,h=w(65),b=w(23),y=w(142),v=w(39),C=w(143),w=w(54),_=T("".startsWith),g=T("".slice),$=Math.min,T=C("startsWith");d({target:"String",proto:!0,forced:!!(w||T||!(C=m(String.prototype,"startsWith"))||C.writable)&&!T},{startsWith:function(B){var S=b(v(this)),I=(y(B),h($(1<arguments.length?arguments[1]:void 0,S.length))),B=b(B);return _?_(S,B,I):g(S,I,I+B.length)===B}})},function(o,u,f){var d=f(3),m=f(56).map;d({target:"Array",proto:!0,forced:!f(94)("map")},{map:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,f){var d=f(3),m=f(21),h=f(19),b=f(18),y=f(179),v=f(42),C=f(82);d({target:"Reflect",stat:!0},{get:function w(_,g){var $,T=arguments.length<3?_:arguments[2];return b(_)===T?_[g]:($=v.f(_,g))?y($)?$.value:$.get===void 0?void 0:m($.get,T):h($=C(_))?w($,g,T):void 0}})},function(o,u,f){f=f(2),o.exports=!f(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},function(o,u){o.exports=function(f,d){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:d}}},function(o,u,f){var d=f(0),m=f(14),h=f(76),b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not a function")}},function(o,u){o.exports={}},function(o,u,h){var y=h(17),h=h(20),d=Function.prototype,m=y&&Object.getOwnPropertyDescriptor,h=h(d,"name"),b=h&&function(){}.name==="something",y=h&&(!y||m(d,"name").configurable);o.exports={EXISTS:h,PROPER:b,CONFIGURABLE:y}},function(o,u,f){var d=f(80),m=Math.min;o.exports=function(h){return 0<h?m(d(h),9007199254740991):0}},function(o,u,f){var d=f(128),m=f(102);o.exports=Object.keys||function(h){return d(h,m)}},function(o,u,f){var d=f(72),m=f(22),h=f(61);o.exports=function(b,y,v){y=d(y),y in b?m.f(b,y,h(0,v)):b[y]=v}},function(o,u){o.exports={}},function(o,u,f){var d=f(21),m=f(112),h=f(18),b=f(65),y=f(23),v=f(39),C=f(53),w=f(113),_=f(114);m("match",function(g,$,T){return[function(M){var S=v(this),I=M==null?void 0:C(M,g);return I?d(I,M,S):new RegExp(M)[g](y(S))},function(B){var S=h(this),I=y(B),B=T($,S,I);if(B.done)return B.value;if(!S.global)return _(S,I);for(var x=S.unicode,F=[],R=S.lastIndex=0;(L=_(S,I))!==null;){var L=y(L[0]);(F[R]=L)===""&&(S.lastIndex=w(I,b(S.lastIndex),x)),R++}return R===0?null:F}]})},function(o,u,f){var d={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,h=m&&!d.call({1:2},1);u.f=h?function(b){return b=m(this,b),!!b&&b.enumerable}:d},function(o,u,f){var d=f(0),m=f(1),h=f(2),b=f(48),y=d.Object,v=m("".split);o.exports=h(function(){return!y("z").propertyIsEnumerable(0)})?function(C){return b(C)=="String"?v(C,""):y(C)}:y},function(o,u,f){var d=f(122),m=f(73);o.exports=function(h){return h=d(h,"string"),m(h)?h:h+""}},function(o,u,y){var d=y(0),m=y(43),h=y(14),b=y(44),y=y(123),v=d.Object;o.exports=y?function(C){return typeof C=="symbol"}:function(C){var w=m("Symbol");return h(w)&&b(w.prototype,v(C))}},function(o,u,h){var d,m,y=h(0),h=h(75),b=y.process,y=y.Deno,b=b&&b.versions||y&&y.version,y=b&&b.v8;!(m=y?0<(d=y.split("."))[0]&&d[0]<4?1:+(d[0]+d[1]):m)&&h&&(!(d=h.match(/Edge\/(\d+)/))||74<=d[1])&&(d=h.match(/Chrome\/(\d+)/))&&(m=+d[1]),o.exports=m},function(o,u,f){f=f(43),o.exports=f("navigator","userAgent")||""},function(o,u,f){var d=f(0).String;o.exports=function(m){try{return d(m)}catch{return"Object"}}},function(o,u,f){var d=f(54),m=f(97);(o.exports=function(h,b){return m[h]||(m[h]=b!==void 0?b:{})})("versions",[]).push({version:"3.21.1",mode:d?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(o,u,d){var d=d(1),m=0,h=Math.random(),b=d(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+b(++m+h,36)}},function(o,u,f){var d=f(77),m=f(78),h=d("keys");o.exports=function(b){return h[b]||(h[b]=m(b))}},function(o,u){var f=Math.ceil,d=Math.floor;o.exports=function(m){return m=+m,m!=m||m==0?0:(0<m?d:f)(m)}},function(o,u,f){function d(_,g){return(_=v[y(_)])==w||_!=C&&(h(g)?m(g):!!g)}var m=f(2),h=f(14),b=/#|\.prototype\./,y=d.normalize=function(_){return String(_).replace(b,".").toLowerCase()},v=d.data={},C=d.NATIVE="N",w=d.POLYFILL="P";o.exports=d},function(o,u,v){var d=v(0),m=v(20),h=v(14),b=v(36),y=v(79),v=v(130),C=y("IE_PROTO"),w=d.Object,_=w.prototype;o.exports=v?w.getPrototypeOf:function(g){if(g=b(g),m(g,C))return g[C];var $=g.constructor;return h($)&&g instanceof $?$.prototype:g instanceof w?_:null}},function(o,u,f){var d=f(0),m=f(105),h=f(14),b=f(48),y=f(12)("toStringTag"),v=d.Object,C=b(function(){return arguments}())=="Arguments";o.exports=m?b:function(w){var _;return w===void 0?"Undefined":w===null?"Null":typeof(_=function(g,$){try{return g[$]}catch{}}(w=v(w),y))=="string"?_:C?b(w):(_=b(w))=="Object"&&h(w.callee)?"Arguments":_}},function(o,u,d){var d=d(60),m=Function.prototype,h=m.apply,b=m.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(d?b.bind(h):function(){return b.apply(h,arguments)})},function(o,u,f){function d(){}function m(I){if(!v(I))return!1;try{return $(d,g,I),!0}catch{return!1}}function h(I){if(!v(I))return!1;switch(C(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!M(T,_(I))}catch{return!0}}var b=f(1),y=f(2),v=f(14),C=f(83),w=f(43),_=f(100),g=[],$=w("Reflect","construct"),T=/^\s*(?:class|function)\b/,M=b(T.exec),S=!T.exec(d);h.sham=!0,o.exports=!$||y(function(){var I;return m(m.call)||!m(Object)||!m(function(){I=!0})||I})?h:m},function(o,u,f){var d=f(48);o.exports=Array.isArray||function(m){return d(m)=="Array"}},function(o,u,f){var d=f(22).f,m=f(20),h=f(12)("toStringTag");o.exports=function(b,y,v){(b=b&&!v?b.prototype:b)&&!m(b,h)&&d(b,h,{configurable:!0,value:y})}},function(o,u,f){var d=f(1),m=f(62),h=f(60),b=d(d.bind);o.exports=function(y,v){return m(y),v===void 0?y:h?b(y,v):function(){return y.apply(v,arguments)}}},function(o,u,h){var d=h(12),m=h(50),h=h(22),b=d("unscopables"),y=Array.prototype;y[b]==null&&h.f(y,b,{configurable:!0,value:m(null)}),o.exports=function(v){y[b][v]=!0}},function(o,u,g){var d=g(21),m=g(1),h=g(23),b=g(110),y=g(111),v=g(77),C=g(50),w=g(49).get,_=g(140),g=g(141),$=v("native-string-replace",String.prototype.replace),T=RegExp.prototype.exec,M=T,S=m("".charAt),I=m("".indexOf),B=m("".replace),x=m("".slice),F=(v=/b*/g,d(T,m=/a/,"a"),d(T,v,"a"),m.lastIndex!==0||v.lastIndex!==0),R=y.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0;(F||L||R||_||g)&&(M=function(Q){var J,K,ee,q,G,Z,ie=this,X=w(ie),Q=h(Q),ne=X.raw;if(ne)return ne.lastIndex=ie.lastIndex,re=d(M,ne,Q),ie.lastIndex=ne.lastIndex,re;var H=X.groups,ne=R&&ie.sticky,re=d(b,ie),X=ie.source,ue=0,le=Q;if(ne&&(re=B(re,"y",""),I(re,"g")===-1&&(re+="g"),le=x(Q,ie.lastIndex),0<ie.lastIndex&&(!ie.multiline||ie.multiline&&S(Q,ie.lastIndex-1)!==`
`)&&(X="(?: "+X+")",le=" "+le,ue++),J=new RegExp("^(?:"+X+")",re)),L&&(J=new RegExp("^"+X+"$(?!\\s)",re)),F&&(K=ie.lastIndex),ee=d(T,ne?J:ie,le),ne?ee?(ee.input=x(ee.input,ue),ee[0]=x(ee[0],ue),ee.index=ie.lastIndex,ie.lastIndex+=ee[0].length):ie.lastIndex=0:F&&ee&&(ie.lastIndex=ie.global?ee.index+ee[0].length:K),L&&ee&&1<ee.length&&d($,ee[0],J,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(ee[q]=void 0)}),ee&&H)for(ee.groups=G=C(null),q=0;q<H.length;q++)G[(Z=H[q])[0]]=ee[Z[1]];return ee}),o.exports=M},function(o,u,f){var d=f(3),m=f(92).trim;d({target:"String",proto:!0,forced:f(165)("trim")},{trim:function(){return m(this)}})},function(o,u,b){function d(_){return function(g){return g=h(m(g)),1&_&&(g=y(g,C,"")),g=2&_?y(g,w,""):g}}var v=b(1),m=b(39),h=b(23),b=b(93),y=v("".replace),v="["+b+"]",C=RegExp("^"+v+v+"*"),w=RegExp(v+v+"*$");o.exports={start:d(1),end:d(2),trim:d(3)}},function(o,u){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(o,u,f){var d=f(2),m=f(12),h=f(74),b=m("species");o.exports=function(y){return 51<=h||!d(function(){var v=[];return(v.constructor={})[b]=function(){return{foo:1}},v[y](Boolean).foo!==1})}},function(o,u,h){var d=h(3),y=h(1),v=h(71),m=h(30),h=h(118),b=y([].join),y=v!=Object,v=h("join",",");d({target:"Array",proto:!0,forced:y||!v},{join:function(C){return b(m(this),C===void 0?",":C)}})},function(o,u,m){var d=m(74),m=m(2);o.exports=!!Object.getOwnPropertySymbols&&!m(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(o,u,d){var h=d(0),d=d(98),m="__core-js_shared__",h=h[m]||d(m,{});o.exports=h},function(o,u,f){var d=f(0),m=Object.defineProperty;o.exports=function(h,b){try{m(d,h,{value:b,configurable:!0,writable:!0})}catch{d[h]=b}return b}},function(o,u,m){var d=m(0),m=m(19),h=d.document,b=m(h)&&m(h.createElement);o.exports=function(y){return b?h.createElement(y):{}}},function(o,u,h){var d=h(1),m=h(14),h=h(97),b=d(Function.toString);m(h.inspectSource)||(h.inspectSource=function(y){return b(y)}),o.exports=h.inspectSource},function(o,u,f){var d=f(80),m=Math.max,h=Math.min;o.exports=function(b,y){return b=d(b),b<0?m(b+y,0):h(b,y)}},function(o,u){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(o,u){u.f=Object.getOwnPropertySymbols},function(o,u,f){var d=f(1),m=f(18),h=f(157);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,y=!1,v={};try{(b=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(v,[]),y=v instanceof Array}catch{}return function(C,w){return m(C),h(w),y?b(C,w):C.__proto__=w,C}}():void 0)},function(o,u,f){var d={};d[f(12)("toStringTag")]="z",o.exports=String(d)==="[object z]"},function(o,u,f){f=f(1),o.exports=f([].slice)},function(o,u,f){var d=f(48),m=f(30),h=f(55).f,b=f(108),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(v){if(!y||d(v)!="Window")return h(m(v));try{return h(v)}catch{return b(y)}}},function(o,u,f){var d=f(0),m=f(101),h=f(46),b=f(67),y=d.Array,v=Math.max;o.exports=function(C,w,_){for(var g=h(C),$=m(w,g),T=m(_===void 0?g:_,g),M=y(v(T-$,0)),S=0;$<T;$++,S++)b(M,S,C[$]);return M.length=S,M}},function(o,u,I){function d(){return this}var m=I(3),h=I(21),b=I(54),y=I(64),v=I(14),C=I(163),w=I(82),_=I(104),g=I(87),$=I(45),T=I(37),M=I(12),S=I(68),I=I(136),B=y.PROPER,x=y.CONFIGURABLE,F=I.IteratorPrototype,R=I.BUGGY_SAFARI_ITERATORS,L=M("iterator"),z="values",J="entries";o.exports=function(K,ee,q,X,Z,ie,Q){C(q,ee,X);function H(Ce){if(Ce===Z&&me)return me;if(!R&&Ce in le)return le[Ce];switch(Ce){case"keys":case z:case J:return function(){return new q(this,Ce)}}return function(){return new q(this)}}var ne,re,X=ee+" Iterator",ue=!1,le=K.prototype,ye=le[L]||le["@@iterator"]||Z&&le[Z],me=!R&&ye||H(Z),ve=ee=="Array"&&le.entries||ye;if(ve&&(ve=w(ve.call(new K)))!==Object.prototype&&ve.next&&(b||w(ve)===F||(_?_(ve,F):v(ve[L])||T(ve,L,d)),g(ve,X,!0,!0),b&&(S[X]=d)),B&&Z==z&&ye&&ye.name!==z&&(!b&&x?$(le,"name",z):(ue=!0,me=function(){return h(ye,this)})),Z)if(ne={values:H(z),keys:ie?me:H("keys"),entries:H(J)},Q)for(re in ne)!R&&!ue&&re in le||T(le,re,ne[re]);else m({target:ee,proto:!0,forced:R||ue},ne);return b&&!Q||le[L]===me||T(le,L,me,{name:Z}),S[ee]=me,ne}},function(o,u,f){var d=f(18);o.exports=function(){var m=d(this),h="";return m.global&&(h+="g"),m.ignoreCase&&(h+="i"),m.multiline&&(h+="m"),m.dotAll&&(h+="s"),m.unicode&&(h+="u"),m.sticky&&(h+="y"),h}},function(o,u,m){var b=m(2),d=m(0).RegExp,m=b(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!=null}),h=m||b(function(){return!d("a","y").sticky}),b=m||b(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!=null});o.exports={BROKEN_CARET:b,MISSED_STICKY:h,UNSUPPORTED_Y:m}},function(o,u,f){f(16);var d=f(1),m=f(37),h=f(90),b=f(2),y=f(12),v=f(45),C=y("species"),w=RegExp.prototype;o.exports=function(_,g,$,T){var M,S=y(_),I=!b(function(){var x={};return x[S]=function(){return 7},""[_](x)!=7}),B=I&&!b(function(){var x=!1,F=/a/;return _==="split"&&((F={constructor:{}}).constructor[C]=function(){return F},F.flags="",F[S]=/./[S]),F.exec=function(){return x=!0,null},F[S](""),!x});I&&B&&!$||(M=d(/./[S]),B=g(S,""[_],function(J,F,R,L,z){var J=d(J),K=F.exec;return K===h||K===w.exec?I&&!z?{done:!0,value:M(F,R,L)}:{done:!0,value:J(R,F,L)}:{done:!1}}),m(String.prototype,_,B[0]),m(w,S,B[1])),T&&v(w[S],"sham",!0)}},function(o,u,f){var d=f(137).charAt;o.exports=function(m,h,b){return h+(b?d(m,h).length:1)}},function(o,u,f){var d=f(0),m=f(21),h=f(18),b=f(14),y=f(48),v=f(90),C=d.TypeError;o.exports=function(w,_){var g=w.exec;if(b(g))return(g=m(g,w,_))!==null&&h(g),g;if(y(w)==="RegExp")return m(v,w,_);throw C("RegExp#exec called on incompatible receiver")}},function(o,u,f){var d=f(19),m=f(48),h=f(12)("match");o.exports=function(b){var y;return d(b)&&((y=b[h])!==void 0?!!y:m(b)=="RegExp")}},function(o,u,m){var d=m(3),m=m(166);d({target:"Number",stat:!0,forced:Number.parseFloat!=m},{parseFloat:m})},function(o,u,f){var d=f(14),m=f(19),h=f(104);o.exports=function(b,y,v){return h&&d(y=y.constructor)&&y!==v&&m(y=y.prototype)&&y!==v.prototype&&h(b,y),b}},function(o,u,f){var d=f(2);o.exports=function(m,h){var b=[][m];return!!b&&d(function(){b.call(null,h||function(){return 1},1)})}},function(o,u,f){f(145)("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,f){var d=f(83),m=f(53),h=f(68),b=f(12)("iterator");o.exports=function(y){if(y!=null)return m(y,b)||m(y,"@@iterator")||h[d(y)]}},function(o,u,m){var d=m(3),m=m(178);d({target:"Number",stat:!0,forced:Number.parseInt!=m},{parseInt:m})},function(o,u,C){var d=C(0),m=C(21),h=C(19),b=C(73),y=C(53),v=C(155),C=C(12),w=d.TypeError,_=C("toPrimitive");o.exports=function(g,$){if(!h(g)||b(g))return g;var T=y(g,_);if(T){if(T=m(T,g,$=$===void 0?"default":$),!h(T)||b(T))return T;throw w("Can't convert object to primitive value")}return v(g,$=$===void 0?"number":$)}},function(o,u,f){f=f(96),o.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(o,u,f){var d=f(17),m=f(2),h=f(99);o.exports=!d&&!m(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},function(o,u,m){var d=m(17),m=m(2);o.exports=d&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(o,u,f){var d=f(20),m=f(127),h=f(42),b=f(22);o.exports=function(y,v,C){for(var w=m(v),_=b.f,g=h.f,$=0;$<w.length;$++){var T=w[$];d(y,T)||C&&d(C,T)||_(y,T,g(v,T))}}},function(o,u,f){var d=f(43),m=f(1),h=f(55),b=f(103),y=f(18),v=m([].concat);o.exports=d("Reflect","ownKeys")||function(C){var w=h.f(y(C)),_=b.f;return _?v(w,_(C)):w}},function(o,u,f){var d=f(1),m=f(20),h=f(30),b=f(129).indexOf,y=f(63),v=d([].push);o.exports=function(C,w){var _,g=h(C),$=0,T=[];for(_ in g)!m(y,_)&&m(g,_)&&v(T,_);for(;w.length>$;)!m(g,_=w[$++])||~b(T,_)||v(T,_);return T}},function(o,u,f){function d(y){return function(v,C,w){var _,g=m(v),$=b(g),T=h(w,$);if(y&&C!=C){for(;T<$;)if((_=g[T++])!=_)return!0}else for(;T<$;T++)if((y||T in g)&&g[T]===C)return y||T||0;return!y&&-1}}var m=f(30),h=f(101),b=f(46);o.exports={includes:d(!0),indexOf:d(!1)}},function(o,u,f){f=f(2),o.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(o,u,f){var d=f(0),m=f(85),h=f(76),b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not a constructor")}},function(o,u,f){var d=f(17),m=f(125),h=f(22),b=f(18),y=f(30),v=f(66);u.f=d&&!m?Object.defineProperties:function(C,w){b(C);for(var _,g=y(w),$=v(w),T=$.length,M=0;M<T;)h.f(C,_=$[M++],g[_]);return C}},function(o,u,f){f=f(12),u.f=f},function(o,u,f){var d=f(161),m=f(20),h=f(133),b=f(22).f;o.exports=function(y){var v=d.Symbol||(d.Symbol={});m(v,y)||b(v,y,{value:h.f(y)})}},function(o,u,f){var d=f(162);o.exports=function(m,h){return new(d(m))(h===0?0:h)}},function(o,u,w){var d,m,h=w(2),b=w(14),y=w(50),v=w(82),C=w(37),g=w(12),w=w(54),_=g("iterator"),g=!1;[].keys&&("next"in(m=[].keys())?(v=v(v(m)))!==Object.prototype&&(d=v):g=!0),d==null||h(function(){var $={};return d[_].call($)!==$})?d={}:w&&(d=y(d)),b(d[_])||C(d,_,function(){return this}),o.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:g}},function(o,u,f){function d(_){return function(M,S){var T,M=b(y(M)),S=h(S),I=M.length;return S<0||I<=S?_?"":void 0:(T=C(M,S))<55296||56319<T||S+1===I||(I=C(M,S+1))<56320||57343<I?_?v(M,S):T:_?w(M,S,S+2):I-56320+(T-55296<<10)+65536}}var m=f(1),h=f(80),b=f(23),y=f(39),v=m("".charAt),C=m("".charCodeAt),w=m("".slice);o.exports={codeAt:d(!1),charAt:d(!0)}},function(o,u){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(o,u,f){f=f(99)("span").classList,f=f&&f.constructor&&f.constructor.prototype,o.exports=f===Object.prototype?void 0:f},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m(".","s");return!(h.dotAll&&h.exec(`
`)&&h.flags==="s")})},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},function(o,u,f){var d=f(0),m=f(115),h=d.TypeError;o.exports=function(b){if(m(b))throw h("The method doesn't accept regular expressions");return b}},function(o,u,f){var d=f(12)("match");o.exports=function(m){var h=/./;try{"/./"[m](h)}catch{try{return h[d]=!1,"/./"[m](h)}catch{}}return!1}},function(o,u,f){var d=f(43),m=f(22),h=f(12),b=f(17),y=h("species");o.exports=function(C){var C=d(C),w=m.f;b&&C&&!C[y]&&w(C,y,{configurable:!0,get:function(){return this}})}},function(o,u,f){var d=f(3),m=f(0),h=f(1),b=f(81),y=f(37),v=f(146),C=f(147),w=f(151),_=f(14),g=f(19),$=f(2),T=f(152),M=f(87),S=f(117);o.exports=function(I,B,x){function F(ne){var re=h(ie[ne]);y(ie,ne,ne=="add"?function(X){return re(this,X===0?0:X),this}:ne=="delete"?function(X){return!(q&&!g(X))&&re(this,X===0?0:X)}:ne=="get"?function(X){return q&&!g(X)?void 0:re(this,X===0?0:X)}:ne=="has"?function(X){return!(q&&!g(X))&&re(this,X===0?0:X)}:function(X,ue){return re(this,X===0?0:X,ue),this})}var R,L,z,J,K,ee=I.indexOf("Map")!==-1,q=I.indexOf("Weak")!==-1,G=ee?"set":"add",Z=m[I],ie=Z&&Z.prototype,Q=Z,H={};return b(I,!_(Z)||!(q||ie.forEach&&!$(function(){new Z().entries().next()})))?(Q=x.getConstructor(B,I,ee,G),v.enable()):b(I,!0)&&(L=(R=new Q)[G](q?{}:-0,1)!=R,z=$(function(){R.has(1)}),J=T(function(ne){new Z(ne)}),K=!q&&$(function(){for(var ne=new Z,re=5;re--;)ne[G](re,re);return!ne.has(-0)}),J||(((Q=B(function(ne,re){return w(ne,ie),ne=S(new Z,ne,Q),re!=null&&C(re,ne[G],{that:ne,AS_ENTRIES:ee}),ne})).prototype=ie).constructor=Q),(z||K)&&(F("delete"),F("has"),ee&&F("get")),(K||L)&&F(G),q&&ie.clear&&delete ie.clear),H[I]=Q,d({global:!0,forced:Q!=Z},H),M(Q,I),q||x.setStrong(Q,I,ee),Q}},function(o,u,f){function d(x){C(x,S,{value:{objectID:"O"+I++,weakData:{}}})}var m=f(3),h=f(1),b=f(63),y=f(19),v=f(20),C=f(22).f,w=f(55),_=f(107),g=f(169),$=f(78),T=f(171),M=!1,S=$("meta"),I=0,B=o.exports={enable:function(){B.enable=function(){},M=!0;var x=w.f,F=h([].splice),R={};R[S]=1,x(R).length&&(w.f=function(L){for(var z=x(L),J=0,K=z.length;J<K;J++)if(z[J]===S){F(z,J,1);break}return z},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:_.f}))},fastKey:function(x,F){if(!y(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!v(x,S)){if(!g(x))return"F";if(!F)return"E";d(x)}return x[S].objectID},getWeakData:function(x,F){if(!v(x,S)){if(!g(x))return!0;if(!F)return!1;d(x)}return x[S].weakData},onFreeze:function(x){return T&&M&&g(x)&&!v(x,S)&&d(x),x}};b[S]=!0},function(o,u,f){function d(I,B){this.stopped=I,this.result=B}var m=f(0),h=f(88),b=f(21),y=f(18),v=f(76),C=f(148),w=f(46),_=f(44),g=f(149),$=f(120),T=f(150),M=m.TypeError,S=d.prototype;o.exports=function(I,B,x){function F(ne){return L&&T(L,"normal",ne),new d(!0,ne)}function R(ne){return Z?(y(ne),Q?H(ne[0],ne[1],F):H(ne[0],ne[1])):Q?H(ne,F):H(ne)}var L,z,J,K,ee,q,G=x&&x.that,Z=!(!x||!x.AS_ENTRIES),ie=!(!x||!x.IS_ITERATOR),Q=!(!x||!x.INTERRUPTED),H=h(B,G);if(ie)L=I;else{if(!(x=$(I)))throw M(v(I)+" is not iterable");if(C(x)){for(z=0,J=w(I);z<J;z++)if((K=R(I[z]))&&_(S,K))return K;return new d(!1)}L=g(I,x)}for(ee=L.next;!(q=b(ee,L)).done;){try{K=R(q.value)}catch(ne){T(L,"throw",ne)}if(typeof K=="object"&&K&&_(S,K))return K}return new d(!1)}},function(o,u,f){var d=f(12),m=f(68),h=d("iterator"),b=Array.prototype;o.exports=function(y){return y!==void 0&&(m.Array===y||b[h]===y)}},function(o,u,f){var d=f(0),m=f(21),h=f(62),b=f(18),y=f(76),v=f(120),C=d.TypeError;o.exports=function(w,_){var g=arguments.length<2?v(w):_;if(h(g))return b(m(g,w));throw C(y(w)+" is not iterable")}},function(o,u,f){var d=f(21),m=f(18),h=f(53);o.exports=function(b,y,v){var C,w;m(b);try{if(!(C=h(b,"return"))){if(y==="throw")throw v;return v}C=d(C,b)}catch(_){w=!0,C=_}if(y==="throw")throw v;if(w)throw C;return m(C),v}},function(o,u,f){var d=f(0),m=f(44),h=d.TypeError;o.exports=function(b,y){if(m(y,b))return b;throw h("Incorrect invocation")}},function(o,u,f){var d=f(12)("iterator"),m=!1;try{var h=0,b={next:function(){return{done:!!h++}},return:function(){m=!0}};b[d]=function(){return this},Array.from(b,function(){throw 2})}catch{}o.exports=function(y,v){if(!v&&!m)return!1;var C=!1;try{var w={};w[d]=function(){return{next:function(){return{done:C=!0}}}},y(w)}catch{}return C}},function(o,u,$){var d=$(22).f,m=$(50),h=$(172),b=$(88),y=$(151),v=$(147),C=$(109),w=$(144),_=$(17),g=$(146).fastKey,$=$(49),T=$.set,M=$.getterFor;o.exports={getConstructor:function(L,I,B,x){function F(K,ee,q){var G,Z=J(K),ie=R(K,ee);return ie?ie.value=q:(Z.last=ie={index:G=g(ee,!0),key:ee,value:q,previous:ee=Z.last,next:void 0,removed:!1},Z.first||(Z.first=ie),ee&&(ee.next=ie),_?Z.size++:K.size++,G!=="F"&&(Z.index[G]=ie)),K}function R(G,ee){var q,G=J(G),Z=g(ee);if(Z!=="F")return G.index[Z];for(q=G.first;q;q=q.next)if(q.key==ee)return q}var L=L(function(K,ee){y(K,z),T(K,{type:I,index:m(null),first:void 0,last:void 0,size:0}),_||(K.size=0),ee!=null&&v(ee,K[x],{that:K,AS_ENTRIES:B})}),z=L.prototype,J=M(I);return h(z,{clear:function(){for(var K=J(this),ee=K.index,q=K.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete ee[q.index],q=q.next;K.first=K.last=void 0,_?K.size=0:this.size=0},delete:function(Z){var ee,q,G=J(this),Z=R(this,Z);return Z&&(ee=Z.next,q=Z.previous,delete G.index[Z.index],Z.removed=!0,q&&(q.next=ee),ee&&(ee.previous=q),G.first==Z&&(G.first=ee),G.last==Z&&(G.last=q),_?G.size--:this.size--),!!Z},forEach:function(K){for(var ee,q=J(this),G=b(K,1<arguments.length?arguments[1]:void 0);ee=ee?ee.next:q.first;)for(G(ee.value,ee.key,this);ee&&ee.removed;)ee=ee.previous},has:function(K){return!!R(this,K)}}),h(z,B?{get:function(K){return K=R(this,K),K&&K.value},set:function(K,ee){return F(this,K===0?0:K,ee)}}:{add:function(K){return F(this,K=K===0?0:K,K)}}),_&&d(z,"size",{get:function(){return J(this).size}}),L},setStrong:function(S,I,B){var x=I+" Iterator",F=M(I),R=M(x);C(S,I,function(L,z){T(this,{type:x,target:L,state:F(L),kind:z,last:void 0})},function(){for(var L=R(this),z=L.kind,J=L.last;J&&J.removed;)J=J.previous;return L.target&&(L.last=J=J?J.next:L.state.first)?z=="keys"?{value:J.key,done:!1}:z=="values"?{value:J.value,done:!1}:{value:[J.key,J.value],done:!1}:{value:L.target=void 0,done:!0}},B?"entries":"values",!B,!0),w(I)}}},function(o,u){var f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}o.exports=f},function(o,u,f){var d=f(0),m=f(21),h=f(14),b=f(19),y=d.TypeError;o.exports=function(v,C){var w,_;if(C==="string"&&h(w=v.toString)&&!b(_=m(w,v))||h(w=v.valueOf)&&!b(_=m(w,v))||C!=="string"&&h(w=v.toString)&&!b(_=m(w,v)))return _;throw y("Can't convert object to primitive value")}},function(o,u,m){var h=m(0),d=m(14),m=m(100),h=h.WeakMap;o.exports=d(h)&&/native code/.test(m(h))},function(o,u,f){var d=f(0),m=f(14),h=d.String,b=d.TypeError;o.exports=function(y){if(typeof y=="object"||m(y))return y;throw b("Can't set "+h(y)+" as a prototype")}},function(o,u,f){var d=f(105),m=f(83);o.exports=d?{}.toString:function(){return"[object "+m(this)+"]"}},function(o,u,C){var d=C(0),m=C(1),h=C(62),b=C(19),y=C(20),v=C(106),C=C(60),w=d.Function,_=m([].concat),g=m([].join),$={};o.exports=C?w.bind:function(T){var M=h(this),S=M.prototype,I=v(arguments,1),B=function(){var x=_(I,v(arguments));if(this instanceof B){var F=M,R=x.length,L=x;if(!y($,R)){for(var z=[],J=0;J<R;J++)z[J]="a["+J+"]";$[R]=w("C,a","return new C("+g(z,",")+")")}return $[R](F,L)}return M.apply(T,x)};return b(S)&&(B.prototype=S),B}},function(o,u,f){f=f(43),o.exports=f("document","documentElement")},function(o,u,f){f=f(0),o.exports=f},function(o,u,f){var d=f(0),m=f(86),h=f(85),b=f(19),y=f(12)("species"),v=d.Array;o.exports=function(C){var w;return m(C)&&(w=C.constructor,(h(w)&&(w===v||m(w.prototype))||b(w)&&(w=w[y])===null)&&(w=void 0)),w===void 0?v:w}},function(o,u,f){function d(){return this}var m=f(136).IteratorPrototype,h=f(50),b=f(61),y=f(87),v=f(68);o.exports=function(C,w,_,g){return w+=" Iterator",C.prototype=h(m,{next:b(+!g,_)}),y(C,w,!1,!0),v[w]=d,C}},function(o,u,f){var d=f(18),m=f(131),h=f(12)("species");o.exports=function(v,y){var v=d(v).constructor;return v===void 0||(v=d(v)[h])==null?y:m(v)}},function(o,u,f){var d=f(64).PROPER,m=f(2),h=f(93);o.exports=function(b){return m(function(){return!!h[b]()||"\u200B\x85\u180E"[b]()!=="\u200B\x85\u180E"||d&&h[b].name!==b})}},function(o,u,b){var _=b(0),d=b(2),C=b(1),m=b(23),h=b(92).trim,b=b(93),y=C("".charAt),v=_.parseFloat,C=_.Symbol,w=C&&C.iterator,_=1/v(b+"-0")!=-1/0||w&&!d(function(){v(Object(w))});o.exports=_?function($){var $=h(m($)),T=v($);return T===0&&y($,0)=="-"?-0:T}:v},function(o,u,f){f=f(1),o.exports=f(1 .valueOf)},function(o,u,m){var d=m(56).forEach,m=m(118)("forEach");o.exports=m?[].forEach:function(h){return d(this,h,1<arguments.length?arguments[1]:void 0)}},function(o,u,v){var d=v(2),m=v(19),h=v(48),b=v(170),y=Object.isExtensible,v=d(function(){});o.exports=v||b?function(C){return!!m(C)&&(!b||h(C)!="ArrayBuffer")&&(!y||y(C))}:y},function(o,u,f){f=f(2),o.exports=f(function(){var d;typeof ArrayBuffer=="function"&&(d=new ArrayBuffer(8),Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8}))})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(o,u,f){var d=f(37);o.exports=function(m,h,b){for(var y in h)d(m,y,h[y],b);return m}},function(o,u,f){var d=f(1),m=f(36),h=Math.floor,b=d("".charAt),y=d("".replace),v=d("".slice),C=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;o.exports=function(_,g,$,T,M,S){var I=$+_.length,B=T.length,x=w;return M!==void 0&&(M=m(M),x=C),y(S,x,function(F,R){var L;switch(b(R,0)){case"$":return"$";case"&":return _;case"`":return v(g,0,$);case"'":return v(g,I);case"<":L=M[v(R,1,-1)];break;default:var z,J=+R;if(J==0)return F;if(B<J)return(z=h(J/10))!==0&&z<=B?T[z-1]===void 0?b(R,1):T[z-1]+b(R,1):F;L=T[J-1]}return L===void 0?"":L})}},function(o,u,f){var d=f(0),m=f(88),h=f(21),b=f(36),y=f(175),v=f(148),C=f(85),w=f(46),_=f(67),g=f(149),$=f(120),T=d.Array;o.exports=function(z){var S,I,B,x,F,R,L=b(z),z=C(this),ee=arguments.length,J=1<ee?arguments[1]:void 0,K=J!==void 0,ee=(K&&(J=m(J,2<ee?arguments[2]:void 0)),$(L)),q=0;if(!ee||this==T&&v(ee))for(S=w(L),I=z?new this(S):T(S);q<S;q++)R=K?J(L[q],q):L[q],_(I,q,R);else for(F=(x=g(L,ee)).next,I=z?new this:[];!(B=h(F,x)).done;q++)R=K?y(x,J,[B.value,q],!0):B.value,_(I,q,R);return I.length=q,I}},function(o,u,f){var d=f(18),m=f(150);o.exports=function(h,b,y,v){try{return v?b(d(y)[0],y[1]):b(y)}catch(C){m(h,"throw",C)}}},function(o,u,h){var d=h(3),m=h(2),h=h(107).f;d({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},function(o,u,f){f(145)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,y){var g=y(0),d=y(2),m=y(1),h=y(23),b=y(92).trim,y=y(93),v=g.parseInt,g=g.Symbol,C=g&&g.iterator,w=/^[+-]?0x/i,_=m(w.exec),g=v(y+"08")!==8||v(y+"0x16")!==22||C&&!d(function(){v(Object(C))});o.exports=g?function($,T){return $=b(h($)),v($,T>>>0||(_(w,$)?16:10))}:v},function(o,u,f){var d=f(20);o.exports=function(m){return m!==void 0&&(d(m,"value")||d(m,"writable"))}},function(o,u,I){var d=I(3),B=I(1),m=I(62),h=I(36),b=I(46),y=I(23),v=I(2),C=I(181),x=I(118),w=I(182),_=I(183),g=I(74),$=I(184),T=[],M=B(T.sort),S=B(T.push),I=v(function(){T.sort(void 0)}),B=v(function(){T.sort(null)}),x=x("sort"),F=!v(function(){if(g)return g<70;if(!(w&&3<w)){if(_)return!0;if($)return $<603;for(var R,L,z,J="",K=65;K<76;K++){switch(R=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:L=3;break;case 68:case 71:L=4;break;default:L=2}for(z=0;z<47;z++)T.push({k:R+z,v:L})}for(T.sort(function(ee,q){return q.v-ee.v}),z=0;z<T.length;z++)R=T[z].k.charAt(0),J.charAt(J.length-1)!==R&&(J+=R);return J!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:I||!B||!x||!F},{sort:function(R){R!==void 0&&m(R);var L=h(this);if(F)return R===void 0?M(L):M(L,R);for(var z,J,K=[],ee=b(L),q=0;q<ee;q++)q in L&&S(K,L[q]);for(C(K,(J=R,function(G,Z){return Z===void 0?-1:G===void 0?1:J!==void 0?+J(G,Z)||0:y(G)>y(Z)?1:-1})),z=K.length,q=0;q<z;)L[q]=K[q++];for(;q<ee;)delete L[q++];return L}})},function(o,u,f){function d(b,y){var v=b.length,C=h(v/2);if(v<8){for(var w,_,g=b,$=y,T=g.length,M=1;M<T;){for(w=g[_=M];_&&0<$(g[_-1],w);)g[_]=g[--_];_!==M++&&(g[_]=w)}return g}for(var S=b,I=d(m(b,0,C),y),B=d(m(b,C),y),x=y,F=I.length,R=B.length,L=0,z=0;L<F||z<R;)S[L+z]=L<F&&z<R?x(I[L],B[z])<=0?I[L++]:B[z++]:L<F?I[L++]:B[z++];return S}var m=f(108),h=Math.floor;o.exports=d},function(o,u,f){f=f(75).match(/firefox\/(\d+)/i),o.exports=!!f&&+f[1]},function(o,u,f){f=f(75),o.exports=/MSIE|Trident/.test(f)},function(o,u,f){f=f(75).match(/AppleWebKit\/(\d+)\./),o.exports=!!f&&+f[1]},function(o,u,m){var d=m(3),m=m(186);d({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},function(o,u,f){var d=f(17),m=f(1),h=f(21),b=f(2),y=f(66),v=f(103),C=f(70),w=f(36),_=f(71),g=Object.assign,$=Object.defineProperty,T=m([].concat);o.exports=!g||b(function(){if(d&&g({b:1},g($({},"a",{enumerable:!0,get:function(){$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var M={},S={},I=Symbol(),B="abcdefghijklmnopqrst";return M[I]=7,B.split("").forEach(function(x){S[x]=x}),g({},M)[I]!=7||y(g({},S)).join("")!=B})?function(M,S){for(var I=w(M),B=arguments.length,x=1,F=v.f,R=C.f;x<B;)for(var L,z=_(arguments[x++]),J=F?T(y(z),F(z)):y(z),K=J.length,ee=0;ee<K;)L=J[ee++],d&&!h(R,z,L)||(I[L]=z[L]);return I}:g},function(o,u,h){var d=h(3),m=h(56).findIndex,h=h(89),b="findIndex",y=!0;b in[]&&Array(1)[b](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{findIndex:function(v){return m(this,v,1<arguments.length?arguments[1]:void 0)}}),h(b)},function(o,u,f){f(3)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(o,u,f){var d=f(3),m=f(190).values;d({target:"Object",stat:!0},{values:function(h){return m(h)}})},function(o,u,f){function d(w){return function(_){for(var g,$=y(_),T=b($),M=T.length,S=0,I=[];S<M;)g=T[S++],m&&!v($,g)||C(I,w?[g,$[g]]:$[g]);return I}}var m=f(17),h=f(1),b=f(66),y=f(30),v=h(f(70).f),C=h([].push);o.exports={entries:d(!0),values:d(!1)}},function(o,u,d){var d=d(3),m=Math.ceil,h=Math.floor;d({target:"Math",stat:!0},{trunc:function(b){return(0<b?h:m)(b)}})},,function(o,Ge,ze){ze.r(Ge);var d={};ze.r(d),ze.d(d,"top",function(){return it}),ze.d(d,"bottom",function(){return rt}),ze.d(d,"right",function(){return Xe}),ze.d(d,"left",function(){return tt}),ze.d(d,"auto",function(){return $t}),ze.d(d,"basePlacements",function(){return ht}),ze.d(d,"start",function(){return kt}),ze.d(d,"end",function(){return Pt}),ze.d(d,"clippingParents",function(){return At}),ze.d(d,"viewport",function(){return _t}),ze.d(d,"popper",function(){return zt}),ze.d(d,"reference",function(){return an}),ze.d(d,"variationPlacements",function(){return Jt}),ze.d(d,"placements",function(){return Wt}),ze.d(d,"beforeRead",function(){return Yt}),ze.d(d,"read",function(){return Ye}),ze.d(d,"afterRead",function(){return He}),ze.d(d,"beforeMain",function(){return mt}),ze.d(d,"main",function(){return gt}),ze.d(d,"afterMain",function(){return Dt}),ze.d(d,"beforeWrite",function(){return Ln}),ze.d(d,"write",function(){return xt}),ze.d(d,"afterWrite",function(){return Wn}),ze.d(d,"modifierPhases",function(){return On}),ze.d(d,"applyStyles",function(){return lt}),ze.d(d,"arrow",function(){return mn}),ze.d(d,"computeStyles",function(){return Pr}),ze.d(d,"eventListeners",function(){return Ar}),ze.d(d,"flip",function(){return ai}),ze.d(d,"hide",function(){return dr}),ze.d(d,"offset",function(){return ui}),ze.d(d,"popperOffsets",function(){return Fr}),ze.d(d,"preventOverflow",function(){return mr}),ze.d(d,"popperGenerator",function(){return D}),ze.d(d,"detectOverflow",function(){return Mn}),ze.d(d,"createPopperBase",function(){return V}),ze.d(d,"createPopper",function(){return Y}),ze.d(d,"createPopperLite",function(){return ae}),ze(29),ze(31),ze(4),ze(32),ze(7),ze(10),ze(11),ze(5),ze(6),ze(8),ze(16),ze(69),ze(33),ze(51),ze(57),ze(38),ze(91),ze(116),ze(34),ze(9),ze(13),ze(52),ze(40),ze(26);function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function h(A){return(A=z(A))&&document.querySelector(A)?A:null}function b(A){return(A=z(A))?document.querySelector(A):null}function y(A){A.dispatchEvent(new Event(L))}function v(A){return J(A)?A.jquery?A[0]:A:typeof A=="string"&&0<A.length?document.querySelector(A):null}function C(A,P,N){Object.keys(N).forEach(function(O){var E=N[O],k=P[O],k=k&&J(k)?"element":(k=k)==null?"".concat(k):{}.toString.call(k).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(E).test(k))throw new TypeError("".concat(A.toUpperCase(),': Option "').concat(O,'" provided type "').concat(k,'" but expected type "').concat(E,'".'))})}function w(A){return!(!J(A)||A.getClientRects().length===0)&&getComputedStyle(A).getPropertyValue("visibility")==="visible"}function _(A){return!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false")}function g(A){return document.documentElement.attachShadow?typeof A.getRootNode=="function"?(P=A.getRootNode())instanceof ShadowRoot?P:null:A instanceof ShadowRoot?A:A.parentNode?g(A.parentNode):null:null;var P}function $(){}function T(A){A.offsetHeight}function M(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-bs-no-jquery")?A:null}function S(){return document.documentElement.dir==="rtl"}function I(A){var P;P=function(){var N,O,E=M();E&&(N=A.NAME,O=E.fn[N],E.fn[N]=A.jQueryInterface,E.fn[N].Constructor=A,E.fn[N].noConflict=function(){return E.fn[N]=O,A.jQueryInterface})},document.readyState==="loading"?(K.length||document.addEventListener("DOMContentLoaded",function(){K.forEach(function(N){return N()})}),K.push(P)):P()}function B(A){typeof A=="function"&&A()}function x(A,P){var N,O;2<arguments.length&&arguments[2]!==void 0&&!arguments[2]?B(A):(N=function(j){if(!j)return 0;var j=window.getComputedStyle(j),k=j.transitionDuration,j=j.transitionDelay,W=Number.parseFloat(k),te=Number.parseFloat(j);return W||te?(k=k.split(",")[0],j=j.split(",")[0],(Number.parseFloat(k)+Number.parseFloat(j))*R):0}(P)+5,O=!1,P.addEventListener(L,function E(k){k.target===P&&(O=!0,P.removeEventListener(L,E),B(A))}),setTimeout(function(){O||y(P)},N))}function F(A,P,N,O){if((P=A.indexOf(P))===-1)return A[!N&&O?A.length-1:0];var E=A.length;return P+=N?1:-1,O&&(P=(P+E)%E),A[Math.max(0,Math.min(P,E-1))]}var R=1e3,L="transitionend",z=function(A){var P=A.getAttribute("data-bs-target");if(!P||P==="#"){if(A=A.getAttribute("href"),!A||!A.includes("#")&&!A.startsWith("."))return null;P=(A=A.includes("#")&&!A.startsWith("#")?"#".concat(A.split("#")[1]):A)&&A!=="#"?A.trim():null}return P},J=function(A){return!(!A||m(A)!=="object")&&(A=A.jquery!==void 0?A[0]:A).nodeType!==void 0},K=[];ze(119),ze(47),ze(27),ze(41),ze(35);function ee(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,O){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var k,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(k=E.next()).done)&&(W.push(k.value),!O||W.length!==O);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,O){if(N){if(typeof N=="string")return q(N,O);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?q(N,O):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}var G=/[^.]*(?=\..*)\.|.*/,Z=/\..*/,ie=/::\d+$/,Q={},H=1,ne={mouseenter:"mouseover",mouseleave:"mouseout"},re=/^(mouseenter|mouseleave)/i,X=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ue(A,P){return P&&"".concat(P,"::").concat(H++)||A.uidEvent||H++}function le(A){var P=ue(A);return A.uidEvent=P,Q[P]=Q[P]||{},Q[P]}function ye(A,P,N){for(var O=2<arguments.length&&N!==void 0?N:null,E=Object.keys(A),k=0,j=E.length;k<j;k++){var W=A[E[k]];if(W.originalHandler===P&&W.delegationSelector===O)return W}return null}function me(A,k,E){var O=typeof k=="string",E=O?E:k,k=be(A);return[O,E,k=X.has(k)?k:A]}function ve(A,P,N,O,E){var k,j,W,te,se,oe,ge,de,Ee,Pe;typeof P=="string"&&A&&(N||(N=O,O=null),re.test(P)&&(W=function(ke){return function(Fe){if(!Fe.relatedTarget||Fe.relatedTarget!==Fe.delegateTarget&&!Fe.delegateTarget.contains(Fe.relatedTarget))return ke.call(this,Fe)}},O?O=W(O):N=W(N)),k=(W=ee(me(P,N,O),3))[0],j=W[1],W=W[2],(se=ye(te=(te=le(A))[W]||(te[W]={}),j,k?N:null))?se.oneOff=se.oneOff&&E:(se=ue(j,P.replace(G,"")),(P=k?(de=A,Ee=N,Pe=O,function ke(Fe){for(var Me=de.querySelectorAll(Ee),Be=Fe.target;Be&&Be!==this;Be=Be.parentNode)for(var Ue=Me.length;Ue--;)if(Me[Ue]===Be)return Fe.delegateTarget=Be,ke.oneOff&&Ae.off(de,Fe.type,Ee,Pe),Pe.apply(Be,[Fe]);return null}):(oe=A,ge=N,function ke(Fe){return Fe.delegateTarget=oe,ke.oneOff&&Ae.off(oe,Fe.type,ge),ge.apply(oe,[Fe])})).delegationSelector=k?N:null,P.originalHandler=j,P.oneOff=E,te[P.uidEvent=se]=P,A.addEventListener(W,P,k)))}function Ce(A,P,N,O,E){O=ye(P[N],O,E),O&&(A.removeEventListener(N,O,Boolean(E)),delete P[N][O.uidEvent])}function be(A){return A=A.replace(Z,""),ne[A]||A}var Ae={on:function(A,P,N,O){ve(A,P,N,O,!1)},one:function(A,P,N,O){ve(A,P,N,O,!0)},off:function(A,P,N,O){if(typeof P=="string"&&A){var O=ee(me(P,N,O),3),E=O[0],k=O[1],j=O[2],W=j!==P,te=le(A),O=P.startsWith(".");if(k!==void 0)return te&&te[j]?void Ce(A,te,j,k,E?N:null):void 0;O&&Object.keys(te).forEach(function(ge){var de,Ee,Pe,ke,Fe;de=A,Ee=te,Pe=ge,ke=P.slice(1),Fe=Ee[Pe]||{},Object.keys(Fe).forEach(function(Me){Me.includes(ke)&&(Me=Fe[Me],Ce(de,Ee,Pe,Me.originalHandler,Me.delegationSelector))})});var se=te[j]||{};Object.keys(se).forEach(function(ge){var de=ge.replace(ie,"");W&&!P.includes(de)||(de=se[ge],Ce(A,te,j,de.originalHandler,de.delegationSelector))})}},trigger:function(A,P,N){if(typeof P!="string"||!A)return null;var O,E=M(),k=be(P),j=P!==k,W=X.has(k),te=!0,se=!0,oe=!1,ge=null;return j&&E&&(O=E.Event(P,N),E(A).trigger(O),te=!O.isPropagationStopped(),se=!O.isImmediatePropagationStopped(),oe=O.isDefaultPrevented()),W?(ge=document.createEvent("HTMLEvents")).initEvent(k,te,!0):ge=new CustomEvent(P,{bubbles:te,cancelable:!0}),N!==void 0&&Object.keys(N).forEach(function(de){Object.defineProperty(ge,de,{get:function(){return N[de]}})}),oe&&ge.preventDefault(),se&&A.dispatchEvent(ge),ge.defaultPrevented&&O!==void 0&&O.preventDefault(),ge}},fe=Ae,_e=(ze(176),ze(177),new Map),Ne=function(A,P,N){_e.has(A)||_e.set(A,new Map),A=_e.get(A),A.has(P)||A.size===0?A.set(P,N):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(A.keys())[0],"."))},Je=function(A,P){return _e.has(A)&&_e.get(A).get(P)||null},Ke=function(A,P){var N;_e.has(A)&&((N=_e.get(A)).delete(P),N.size===0&&_e.delete(A))};function dt(A){return(dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function pt(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var et=function(){function A(E){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");(E=v(E))&&(this._element=E,Ne(this._element,this.constructor.DATA_KEY,this))}var P,N,O;return P=A,O=[{key:"getInstance",value:function(E){return Je(v(E),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,dt(k)==="object"?k:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}],(N=[{key:"dispose",value:function(){var E=this;Ke(this._element,this.constructor.DATA_KEY),fe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(k){E[k]=null})}},{key:"_queueCallback",value:function(E,k){x(E,k,!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])}}])&&pt(P.prototype,N),O&&pt(P,O),Object.defineProperty(P,"prototype",{writable:!1}),A}();function yt(A){return(yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Te(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Ve(A,P){return(Ve=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function We(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Le(A),O=(N=P?(N=Le(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(yt(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Le(A){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Ge=".".concat("bs.button"),je='[data-bs-toggle="button"]',Ge="click".concat(Ge).concat(".data-api"),Ze=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Ve(A,P);var N,O=We(E);function E(){var k=this,j=E;if(k instanceof j)return O.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);k==="toggle"&&j[k]()})}}],(N=[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}])&&Te(A.prototype,N),P&&Te(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Ge=(fe.on(document,Ge,je,function(A){A.preventDefault(),A=A.target.closest(je),Ze.getOrCreateInstance(A).toggle()}),I(Ze),Ze),it=(ze(28),ze(58),ze(121),ze(15),ze(59),ze(24),ze(25),"top"),rt="bottom",Xe="right",tt="left",$t="auto",ht=[it,rt,Xe,tt],kt="start",Pt="end",At="clippingParents",_t="viewport",zt="popper",an="reference",Jt=ht.reduce(function(A,P){return A.concat([P+"-"+kt,P+"-"+Pt])},[]),Wt=[].concat(ht,[$t]).reduce(function(A,P){return A.concat([P,P+"-"+kt,P+"-"+Pt])},[]),Yt="beforeRead",Ye="read",He="afterRead",mt="beforeMain",gt="main",Dt="afterMain",Ln="beforeWrite",xt="write",Wn="afterWrite",On=[Yt,Ye,He,mt,gt,Dt,Ln,xt,Wn];function nn(A){return A?(A.nodeName||"").toLowerCase():null}function rn(A){return A==null?window:A.toString()!=="[object Window]"?(P=A.ownerDocument)&&P.defaultView||window:A;var P}function he(A){return A instanceof rn(A).Element||A instanceof Element}function Se(A){return A instanceof rn(A).HTMLElement||A instanceof HTMLElement}function qe(A){if(typeof ShadowRoot<"u")return A instanceof rn(A).ShadowRoot||A instanceof ShadowRoot}var lt={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var P=A.state;Object.keys(P.elements).forEach(function(N){var O=P.styles[N]||{},E=P.attributes[N]||{},k=P.elements[N];Se(k)&&nn(k)&&(Object.assign(k.style,O),Object.keys(E).forEach(function(j){var W=E[j];W===!1?k.removeAttribute(j):k.setAttribute(j,W===!0?"":W)}))})},effect:function(A){var P=A.state,N={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,N.popper),P.styles=N,P.elements.arrow&&Object.assign(P.elements.arrow.style,N.arrow),function(){Object.keys(P.elements).forEach(function(j){var E=P.elements[j],k=P.attributes[j]||{},j=Object.keys((P.styles.hasOwnProperty(j)?P.styles:N)[j]).reduce(function(W,te){return W[te]="",W},{});Se(E)&&nn(E)&&(Object.assign(E.style,j),Object.keys(k).forEach(function(W){E.removeAttribute(W)}))})}},requires:["computeStyles"]};function Et(A){return A.split("-")[0]}var Lt=Math.max,Ft=Math.min,Bt=Math.round;function Zt(A,P){P===void 0&&(P=!1);var N=A.getBoundingClientRect(),O=1,E=1;return Se(A)&&P&&(P=A.offsetHeight,0<(A=A.offsetWidth)&&(O=Bt(N.width)/A||1),0<P&&(E=Bt(N.height)/P||1)),{width:N.width/O,height:N.height/E,top:N.top/E,right:N.right/O,bottom:N.bottom/E,left:N.left/O,x:N.left/O,y:N.top/E}}function sn(A){var P=Zt(A),N=A.offsetWidth,O=A.offsetHeight;return Math.abs(P.width-N)<=1&&(N=P.width),Math.abs(P.height-O)<=1&&(O=P.height),{x:A.offsetLeft,y:A.offsetTop,width:N,height:O}}function Vn(A,P){var N=P.getRootNode&&P.getRootNode();if(A.contains(P))return!0;if(N&&qe(N)){var O=P;do if(O&&A.isSameNode(O))return!0;while(O=O.parentNode||O.host)}return!1}function cn(A){return rn(A).getComputedStyle(A)}function pn(A){return((he(A)?A.ownerDocument:A.document)||window.document).documentElement}function ft(A){return nn(A)==="html"?A:A.assignedSlot||A.parentNode||(qe(A)?A.host:null)||pn(A)}function Mt(A){return Se(A)&&cn(A).position!=="fixed"?A.offsetParent:null}function Nt(A){for(var P,N=rn(A),O=Mt(A);O&&(P=O,0<=["table","td","th"].indexOf(nn(P)))&&cn(O).position==="static";)O=Mt(O);return(!O||nn(O)!=="html"&&(nn(O)!=="body"||cn(O).position!=="static"))&&(O||function(E){var k=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,j=navigator.userAgent.indexOf("Trident")!==-1;if(j&&Se(E)&&cn(E).position==="fixed")return null;var W=ft(E);for(qe(W)&&(W=W.host);Se(W)&&["html","body"].indexOf(nn(W))<0;){var te=cn(W);if(te.transform!=="none"||te.perspective!=="none"||te.contain==="paint"||["transform","perspective"].indexOf(te.willChange)!==-1||k&&te.willChange==="filter"||k&&te.filter&&te.filter!=="none")return W;W=W.parentNode}return null}(A))||N}function en(A){return 0<=["top","bottom"].indexOf(A)?"x":"y"}function dn(A,P,N){return Lt(A,Ft(P,N))}function Tn(){return{top:0,right:0,bottom:0,left:0}}function It(A){return Object.assign({},Tn(),A)}function Ot(A,P){return P.reduce(function(N,O){return N[O]=A,N},{})}var mn={name:"arrow",enabled:!0,phase:"main",fn:function(W){var P,N,O,E,k=W.state,j=W.name,W=W.options,te=k.elements.arrow,se=k.modifiersData.popperOffsets,oe=en(ge=Et(k.placement)),ge=0<=[tt,Xe].indexOf(ge)?"height":"width";te&&se&&(W=W.padding,N=k,N=It(typeof(W=typeof W=="function"?W(Object.assign({},N.rects,{placement:N.placement})):W)!="number"?W:Ot(W,ht)),W=sn(te),E=oe==="y"?it:tt,O=oe==="y"?rt:Xe,P=k.rects.reference[ge]+k.rects.reference[oe]-se[oe]-k.rects.popper[ge],se=se[oe]-k.rects.reference[oe],te=(te=Nt(te))?oe==="y"?te.clientHeight||0:te.clientWidth||0:0,E=N[E],N=te-W[ge]-N[O],E=dn(E,O=te/2-W[ge]/2+(P/2-se/2),N),k.modifiersData[j]=((te={})[oe]=E,te.centerOffset=E-O,te))},effect:function(A){var P=A.state;(A=(A=A.options.element)===void 0?"[data-popper-arrow]":A)!=null&&(typeof A!="string"||(A=P.elements.popper.querySelector(A)))&&Vn(P.elements.popper,A)&&(P.elements.arrow=A)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jn(A){return A.split("-")[1]}var Wi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kr(Ue){var P,N,O,Be=Ue.popper,E=Ue.popperRect,k=Ue.placement,j=Ue.variation,Pe=Ue.offsets,W=Ue.position,te=Ue.gpuAcceleration,se=Ue.adaptive,oe=Ue.roundOffsets,Ue=Ue.isFixed,ge=Pe.x,ge=ge===void 0?0:ge,de=Pe.y,de=de===void 0?0:de,Ee=typeof oe=="function"?oe({x:ge,y:de}):{x:ge,y:de},Ee=(ge=Ee.x,de=Ee.y,Pe.hasOwnProperty("x")),Pe=Pe.hasOwnProperty("y"),ke=tt,Fe=it,Me=window,Be=(se&&(N="clientHeight",P="clientWidth",(O=Nt(Be))===rn(Be)&&cn(O=pn(Be)).position!=="static"&&W==="absolute"&&(N="scrollHeight",P="scrollWidth"),k!==it&&(k!==tt&&k!==Xe||j!==Pt)||(Fe=rt,de=(de-((Ue&&O===Me&&Me.visualViewport?Me.visualViewport.height:O[N])-E.height))*(te?1:-1)),k!==tt&&(k!==it&&k!==rt||j!==Pt)||(ke=Xe,ge=(ge-((Ue&&O===Me&&Me.visualViewport?Me.visualViewport.width:O[P])-E.width))*(te?1:-1))),Object.assign({position:W},se&&Wi)),Ue=oe===!0?(k=(N={x:ge,y:de}).x,N=N.y,j=window.devicePixelRatio||1,{x:Bt(k*j)/j||0,y:Bt(N*j)/j||0}):{x:ge,y:de};return ge=Ue.x,de=Ue.y,te?Object.assign({},Be,((O={})[Fe]=Pe?"0":"",O[ke]=Ee?"0":"",O.transform=(Me.devicePixelRatio||1)<=1?"translate("+ge+"px, "+de+"px)":"translate3d("+ge+"px, "+de+"px, 0)",O)):Object.assign({},Be,((P={})[Fe]=Pe?de+"px":"",P[ke]=Ee?ge+"px":"",P.transform="",P))}var Pr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(O){var P=O.state,O=O.options,E=(E=O.gpuAcceleration)===void 0||E,N=(N=O.adaptive)===void 0||N,O=(O=O.roundOffsets)===void 0||O,E={placement:Et(P.placement),variation:jn(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:E,isFixed:P.options.strategy==="fixed"};P.modifiersData.popperOffsets!=null&&(P.styles.popper=Object.assign({},P.styles.popper,kr(Object.assign({},E,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:N,roundOffsets:O})))),P.modifiersData.arrow!=null&&(P.styles.arrow=Object.assign({},P.styles.arrow,kr(Object.assign({},E,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})},data:{}},Hn={passive:!0},Ar={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var P=A.state,N=A.instance,O=(A=A.options).scroll,E=O===void 0||O,k=(O=A.resize)===void 0||O,j=rn(P.elements.popper),W=[].concat(P.scrollParents.reference,P.scrollParents.popper);return E&&W.forEach(function(te){te.addEventListener("scroll",N.update,Hn)}),k&&j.addEventListener("resize",N.update,Hn),function(){E&&W.forEach(function(te){te.removeEventListener("scroll",N.update,Hn)}),k&&j.removeEventListener("resize",N.update,Hn)}},data:{}},Vi={left:"right",right:"left",bottom:"top",top:"bottom"};function cr(A){return A.replace(/left|right|bottom|top/g,function(P){return Vi[P]})}var $n={start:"end",end:"start"};function oi(A){return A.replace(/start|end/g,function(P){return $n[P]})}function St(A){return A=rn(A),{scrollLeft:A.pageXOffset,scrollTop:A.pageYOffset}}function xr(A){return Zt(pn(A)).left+St(A).scrollLeft}function fr(O){var O=cn(O),P=O.overflow,N=O.overflowX,O=O.overflowY;return/auto|scroll|overlay|hidden/.test(P+O+N)}function Gn(N,P){P===void 0&&(P=[]);var E=function k(j){return 0<=["html","body","#document"].indexOf(nn(j))?j.ownerDocument.body:Se(j)&&fr(j)?j:k(ft(j))}(N),N=E===((N=N.ownerDocument)==null?void 0:N.body),O=rn(E),O=N?[O].concat(O.visualViewport||[],fr(E)?E:[]):E,E=P.concat(O);return N?E:E.concat(Gn(ft(O)))}function Br(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function kn(A,P){return P===_t?Br((O=rn(N=A),E=pn(N),O=O.visualViewport,k=E.clientWidth,E=E.clientHeight,W=j=0,O&&(k=O.width,E=O.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(j=O.offsetLeft,W=O.offsetTop)),{width:k,height:E,x:j+xr(N),y:W})):he(P)?((k=Zt(O=P)).top=k.top+O.clientTop,k.left=k.left+O.clientLeft,k.bottom=k.top+O.clientHeight,k.right=k.left+O.clientWidth,k.width=O.clientWidth,k.height=O.clientHeight,k.x=k.left,k.y=k.top,k):Br((E=pn(A),j=pn(E),N=St(E),W=(W=E.ownerDocument)==null?void 0:W.body,P=Lt(j.scrollWidth,j.clientWidth,W?W.scrollWidth:0,W?W.clientWidth:0),A=Lt(j.scrollHeight,j.clientHeight,W?W.scrollHeight:0,W?W.clientHeight:0),E=-N.scrollLeft+xr(E),N=-N.scrollTop,cn(W||j).direction==="rtl"&&(E+=Lt(j.clientWidth,W?W.clientWidth:0)-P),{width:P,height:A,x:E,y:N}));var N,O,E,k,j,W}function Ui(A,j,W){var O,E=j==="clippingParents"?(k=Gn(ft(E=A)),he(O=0<=["absolute","fixed"].indexOf(cn(E).position)&&Se(E)?Nt(E):E)?k.filter(function(te){return he(te)&&Vn(te,O)&&nn(te)!=="body"}):[]):[].concat(j),k=[].concat(E,[W]),j=k[0],W=k.reduce(function(te,se){return se=kn(A,se),te.top=Lt(se.top,te.top),te.right=Ft(se.right,te.right),te.bottom=Ft(se.bottom,te.bottom),te.left=Lt(se.left,te.left),te},kn(A,j));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}function pr(k){var P,N=k.reference,O=k.element,k=k.placement,E=k?Et(k):null,k=k?jn(k):null,j=N.x+N.width/2-O.width/2,W=N.y+N.height/2-O.height/2;switch(E){case it:P={x:j,y:N.y-O.height};break;case rt:P={x:j,y:N.y+N.height};break;case Xe:P={x:N.x+N.width,y:W};break;case tt:P={x:N.x-O.width,y:W};break;default:P={x:N.x,y:N.y}}var te=E?en(E):null;if(te!=null){var se=te==="y"?"height":"width";switch(k){case kt:P[te]=P[te]-(N[se]/2-O[se]/2);break;case Pt:P[te]=P[te]+(N[se]/2-O[se]/2)}}return P}function Mn(A,k){var N,k=k=k===void 0?{}:k,O=k.placement,O=O===void 0?A.placement:O,W=k.boundary,W=W===void 0?At:W,te=k.rootBoundary,te=te===void 0?_t:te,E=k.elementContext,E=E===void 0?zt:E,j=k.altBoundary,j=j!==void 0&&j,k=k.padding,k=k===void 0?0:k,k=It(typeof k!="number"?k:Ot(k,ht)),oe=A.rects.popper,j=A.elements[j?E===zt?an:zt:E],j=Ui(he(j)?j:j.contextElement||pn(A.elements.popper),W,te),W=Zt(A.elements.reference),te=pr({reference:W,element:oe,strategy:"absolute",placement:O}),oe=Br(Object.assign({},oe,te)),te=E===zt?oe:W,se={top:j.top-te.top+k.top,bottom:te.bottom-j.bottom+k.bottom,left:j.left-te.left+k.left,right:te.right-j.right+k.right},oe=A.modifiersData.offset;return E===zt&&oe&&(N=oe[O],Object.keys(se).forEach(function(ge){var de=0<=[Xe,rt].indexOf(ge)?1:-1,Ee=0<=[it,rt].indexOf(ge)?"y":"x";se[ge]+=N[Ee]*de})),se}var ai={name:"flip",enabled:!0,phase:"main",fn:function(O){var P=O.state,N=O.options,O=O.name;if(!P.modifiersData[O]._skip){for(var Ee=N.mainAxis,E=Ee===void 0||Ee,Ee=N.altAxis,k=Ee===void 0||Ee,Ee=N.fallbackPlacements,j=N.padding,W=N.boundary,te=N.rootBoundary,se=N.altBoundary,de=N.flipVariations,oe=de===void 0||de,ge=N.allowedAutoPlacements,de=P.options.placement,N=Et(de),Ee=Ee||(N===de||!oe?[cr(de)]:function(Rt){if(Et(Rt)===$t)return[];var Sn=cr(Rt);return[oi(Rt),Sn,oi(Sn)]}(de)),Pe=[de].concat(Ee).reduce(function(Rt,Sn){return Rt.concat(Et(Sn)===$t?(Qt=P,ri=(Rt=Rt=(Rt={placement:Sn,boundary:W,rootBoundary:te,padding:j,flipVariations:oe,allowedAutoPlacements:ge})===void 0?{}:Rt).placement,ur=Rt.boundary,Tt=Rt.rootBoundary,lr=Rt.padding,ji=Rt.flipVariations,Di=(Rt=Rt.allowedAutoPlacements)===void 0?Wt:Rt,Yo=jn(ri),Rt=Yo?ji?Jt:Jt.filter(function(qn){return jn(qn)===Yo}):ht,zi=(ri=(ri=Rt.filter(function(qn){return 0<=Di.indexOf(qn)})).length===0?Rt:ri).reduce(function(qn,ii){return qn[ii]=Mn(Qt,{placement:ii,boundary:ur,rootBoundary:Tt,padding:lr})[Et(ii)],qn},{}),Object.keys(zi).sort(function(qn,ii){return zi[qn]-zi[ii]})):Sn);var Qt,ri,ur,Tt,lr,ji,Di,Yo,zi},[]),ke=P.rects.reference,Fe=P.rects.popper,Me=new Map,Be=!0,Ue=Pe[0],Qe=0;Qe<Pe.length;Qe++){var st=Pe[Qe],vt=Et(st),jt=jn(st)===kt,ct=0<=[it,rt].indexOf(vt),un=ct?"width":"height",ot=Mn(P,{placement:st,boundary:W,rootBoundary:te,altBoundary:se,padding:j}),ct=ct?jt?Xe:tt:jt?rt:it,jt=(ke[un]>Fe[un]&&(ct=cr(ct)),cr(ct)),un=[];if(E&&un.push(ot[vt]<=0),k&&un.push(ot[ct]<=0,ot[jt]<=0),un.every(function(Rt){return Rt})){Ue=st,Be=!1;break}Me.set(st,un)}if(Be)for(var Kt=oe?3:1;0<Kt&&function(ln){var Rt=Pe.find(function(Sn){if(Sn=Me.get(Sn),Sn)return Sn.slice(0,ln).every(function(Qt){return Qt})});if(Rt)return Ue=Rt,"break"}(Kt)!=="break";Kt--);P.placement!==Ue&&(P.modifiersData[O]._skip=!0,P.placement=Ue,P.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function si(A,P,N){return{top:A.top-P.height-(N=N===void 0?{x:0,y:0}:N).y,right:A.right-P.width+N.x,bottom:A.bottom-P.height+N.y,left:A.left-P.width-N.x}}function Or(A){return[it,Xe,rt,tt].some(function(P){return 0<=A[P]})}var dr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(N){var P=N.state,N=N.name,k=P.rects.reference,W=P.rects.popper,O=P.modifiersData.preventOverflow,E=Mn(P,{elementContext:"reference"}),j=Mn(P,{altBoundary:!0}),E=si(E,k),k=si(j,W,O),j=Or(E),W=Or(k);P.modifiersData[N]={referenceClippingOffsets:E,popperEscapeOffsets:k,isReferenceHidden:j,hasPopperEscaped:W},P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":W})}},ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(N){var P=N.state,E=N.options,N=N.name,O=(E=E.offset)===void 0?[0,0]:E,E=Wt.reduce(function(W,te){var se,oe,ge,de;return W[te]=(te=te,se=P.rects,oe=O,ge=Et(te),de=0<=[tt,it].indexOf(ge)?-1:1,te=(se=typeof oe=="function"?oe(Object.assign({},se,{placement:te})):oe)[0]||0,oe=(se[1]||0)*de,0<=[tt,Xe].indexOf(ge)?{x:oe,y:te}:{x:te,y:oe}),W},{}),k=(j=E[P.placement]).x,j=j.y;P.modifiersData.popperOffsets!=null&&(P.modifiersData.popperOffsets.x+=k,P.modifiersData.popperOffsets.y+=j),P.modifiersData[N]=E}},Fr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(N){var P=N.state,N=N.name;P.modifiersData[N]=pr({reference:P.rects.reference,element:P.rects.popper,strategy:"absolute",placement:P.placement})},data:{}},mr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ge){var P,N,O,E,k,j,W,te,se,oe=ge.state,ct=ge.options,ge=ge.name,de=(de=ct.mainAxis)===void 0||de,Ee=(Ee=ct.altAxis)!==void 0&&Ee,Fe=ct.boundary,Me=ct.rootBoundary,Be=ct.altBoundary,Pe=ct.padding,ke=(ke=ct.tether)===void 0||ke,ct=(ct=ct.tetherOffset)===void 0?0:ct,Fe=Mn(oe,{boundary:Fe,rootBoundary:Me,padding:Pe,altBoundary:Be}),Me=Et(oe.placement),Be=!(Pe=jn(oe.placement)),Ue=en(Me),Qe=Ue==="x"?"y":"x",st=oe.modifiersData.popperOffsets,vt=oe.rects.reference,ot=oe.rects.popper,ct=typeof(ct=typeof ct=="function"?ct(Object.assign({},oe.rects,{placement:oe.placement})):ct)=="number"?{mainAxis:ct,altAxis:ct}:Object.assign({mainAxis:0,altAxis:0},ct),jt=oe.modifiersData.offset?oe.modifiersData.offset[oe.placement]:null,un={x:0,y:0};st&&(de&&(de=Ue==="y"?"height":"width",j=(W=st[Ue])+Fe[N=Ue==="y"?it:tt],te=W-Fe[se=Ue==="y"?rt:Xe],P=ke?-ot[de]/2:0,E=(Pe===kt?vt:ot)[de],Pe=Pe===kt?-ot[de]:-vt[de],k=oe.elements.arrow,k=ke&&k?sn(k):{width:0,height:0},N=(O=oe.modifiersData["arrow#persistent"]?oe.modifiersData["arrow#persistent"].padding:Tn())[N],O=O[se],se=dn(0,vt[de],k[de]),k=Be?vt[de]/2-P-se-N-ct.mainAxis:E-se-N-ct.mainAxis,E=Be?-vt[de]/2+P+se+O+ct.mainAxis:Pe+se+O+ct.mainAxis,Be=(N=oe.elements.arrow&&Nt(oe.elements.arrow))?Ue==="y"?N.clientTop||0:N.clientLeft||0:0,Pe=W+E-(P=(de=jt==null?void 0:jt[Ue])!=null?de:0),se=dn(ke?Ft(j,W+k-P-Be):j,W,ke?Lt(te,Pe):te),st[Ue]=se,un[Ue]=se-W),Ee&&(O=Qe=="y"?"height":"width",E=(N=st[Qe])+Fe[Ue==="x"?it:tt],de=N-Fe[Ue==="x"?rt:Xe],k=[it,tt].indexOf(Me)!==-1,Be=(P=jt==null?void 0:jt[Qe])!=null?P:0,j=k?E:N-vt[O]-ot[O]-Be+ct.altAxis,Pe=k?N+vt[O]+ot[O]-Be-ct.altAxis:de,W=ke&&k?(te=dn(te=j,N,se=Pe),se<te?se:te):dn(ke?j:E,N,ke?Pe:de),st[Qe]=W,un[Qe]=W-N),oe.modifiersData[ge]=un)},requiresIfExists:["offset"]};function Nr(W,P,N){N===void 0&&(N=!1);var O=Se(P),E=Se(P)&&(j=(E=P).getBoundingClientRect(),k=Bt(j.width)/E.offsetWidth||1,j=Bt(j.height)/E.offsetHeight||1,k!==1||j!==1),k=pn(P),j=Zt(W,E),W={scrollLeft:0,scrollTop:0},te={x:0,y:0};return!O&&N||(nn(P)==="body"&&!fr(k)||(W=(O=P)!==rn(O)&&Se(O)?{scrollLeft:O.scrollLeft,scrollTop:O.scrollTop}:St(O)),Se(P)?((te=Zt(P,!0)).x+=P.clientLeft,te.y+=P.clientTop):k&&(te.x=xr(k))),{x:j.left+W.scrollLeft-te.x,y:j.top+W.scrollTop-te.y,width:j.width,height:j.height}}function Ji(A){var P=new Map,N=new Set,O=[];return A.forEach(function(E){P.set(E.name,E)}),A.forEach(function(E){N.has(E.name)||function k(j){N.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(W){N.has(W)||(W=P.get(W))&&k(W)}),O.push(j)}(E)}),O}var li={placement:"bottom",modifiers:[],strategy:"absolute"};function U(){for(var A=arguments.length,P=new Array(A),N=0;N<A;N++)P[N]=arguments[N];return!P.some(function(O){return!(O&&typeof O.getBoundingClientRect=="function")})}function D(P){var P=P=P===void 0?{}:P,O=P.defaultModifiers,N=O===void 0?[]:O,O=P.defaultOptions,E=O===void 0?li:O;return function(k,j,W){W===void 0&&(W=E);var te,se,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},li,E),modifiersData:{},elements:{reference:k,popper:j},attributes:{},styles:{}},ge=[],de=!1,Ee={state:oe,setOptions:function(Be){var Fe,Me,Be=typeof Be=="function"?Be(oe.options):Be,Be=(Pe(),oe.options=Object.assign({},E,oe.options,Be),oe.scrollParents={reference:he(k)?Gn(k):k.contextElement?Gn(k.contextElement):[],popper:Gn(j)},Be=[].concat(N,oe.options.modifiers),Me=Be.reduce(function(Ue,Qe){var st=Ue[Qe.name];return Ue[Qe.name]=st?Object.assign({},st,Qe,{options:Object.assign({},st.options,Qe.options),data:Object.assign({},st.data,Qe.data)}):Qe,Ue},{}),Be=Object.keys(Me).map(function(Ue){return Me[Ue]}),Fe=Ji(Be),On.reduce(function(Ue,Qe){return Ue.concat(Fe.filter(function(st){return st.phase===Qe}))},[]));return oe.orderedModifiers=Be.filter(function(Ue){return Ue.enabled}),oe.orderedModifiers.forEach(function(vt){var Qe=vt.name,st=vt.options,vt=vt.effect;typeof vt=="function"&&(vt=vt({state:oe,name:Qe,instance:Ee,options:st===void 0?{}:st}),ge.push(vt||function(){}))}),Ee.update()},forceUpdate:function(){if(!de){var Fe=oe.elements,ke=Fe.reference,Fe=Fe.popper;if(U(ke,Fe)){oe.rects={reference:Nr(ke,Nt(Fe),oe.options.strategy==="fixed"),popper:sn(Fe)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(st){return oe.modifiersData[st.name]=Object.assign({},st.data)});for(var Me,Be,Ue,Qe=0;Qe<oe.orderedModifiers.length;Qe++)oe.reset===!0?(oe.reset=!1,Qe=-1):(Me=(Ue=oe.orderedModifiers[Qe]).fn,Be=Ue.options,Ue=Ue.name,typeof Me=="function"&&(oe=Me({state:oe,options:Be===void 0?{}:Be,name:Ue,instance:Ee})||oe))}}},update:(te=function(){return new Promise(function(ke){Ee.forceUpdate(),ke(oe)})},function(){return se=se||new Promise(function(ke){Promise.resolve().then(function(){se=void 0,ke(te())})})}),destroy:function(){Pe(),de=!0}};return U(k,j)&&Ee.setOptions(W).then(function(ke){!de&&W.onFirstUpdate&&W.onFirstUpdate(ke)}),Ee;function Pe(){ge.forEach(function(ke){return ke()}),ge=[]}}}var V=D(),Y=D({defaultModifiers:[Ar,Fr,Pr,lt,ui,ai,mr,mn,dr]}),ae=D({defaultModifiers:[Ar,Fr,Pr,lt]});function ce(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function pe(A){return A.replace(/[A-Z]/g,function(P){return"-".concat(P.toLowerCase())})}var we={setDataAttribute:function(A,P,N){A.setAttribute("data-bs-".concat(pe(P)),N)},removeDataAttribute:function(A,P){A.removeAttribute("data-bs-".concat(pe(P)))},getDataAttributes:function(A){if(!A)return{};var P={};return Object.keys(A.dataset).filter(function(N){return N.startsWith("bs")}).forEach(function(N){var O=(O=N.replace(/^bs/,"")).charAt(0).toLowerCase()+O.slice(1,O.length);P[O]=ce(A.dataset[N])}),P},getDataAttribute:function(A,P){return ce(A.getAttribute("data-bs-".concat(pe(P))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+window.pageYOffset,left:A.left+window.pageXOffset}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}}};ze(95);function Re(A){return function(P){if(Array.isArray(P))return xe(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return xe(P,N);var O=Object.prototype.toString.call(P).slice(8,-1);return(O=O==="Object"&&P.constructor?P.constructor.name:O)==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?xe(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xe(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}var Ie={find:function(A){var P,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(P=[]).concat.apply(P,Re(Element.prototype.querySelectorAll.call(N,A)))},findOne:function(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(P,A)},children:function(A,P){var N;return(N=[]).concat.apply(N,Re(A.children)).filter(function(O){return O.matches(P)})},parents:function(A,P){for(var N=[],O=A.parentNode;O&&O.nodeType===Node.ELEMENT_NODE&&O.nodeType!==3;)O.matches(P)&&N.push(O),O=O.parentNode;return N},prev:function(A,P){for(var N=A.previousElementSibling;N;){if(N.matches(P))return[N];N=N.previousElementSibling}return[]},next:function(A,P){for(var N=A.nextElementSibling;N;){if(N.matches(P))return[N];N=N.nextElementSibling}return[]},focusableChildren:function(A){var P=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(N){return"".concat(N,':not([tabindex^="-"])')}).join(", ");return this.find(P,A).filter(function(N){return!_(N)&&w(N)})}};function nt(A){return(nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function De(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function at(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?De(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):De(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function bt(A){return function(P){if(Array.isArray(P))return Ut(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return Ut(P,N);var O=Object.prototype.toString.call(P).slice(8,-1);return(O=O==="Object"&&P.constructor?P.constructor.name:O)==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?Ut(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ut(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}function fn(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Xt(){return(Xt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=hn(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function Gt(A,P){return(Gt=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Fn(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=hn(A),O=(N=P?(N=hn(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(nt(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function hn(A){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Dn="dropdown",qt=".".concat("bs.dropdown"),Lr=".data-api",Yn="Escape",wn="ArrowUp",ci="ArrowDown",wu=new RegExp("".concat(wn,"|").concat(ci,"|").concat(Yn)),Cu="hide".concat(qt),Iu="hidden".concat(qt),Eu="show".concat(qt),Su="shown".concat(qt),pi="click".concat(qt).concat(Lr),on="keydown".concat(qt).concat(Lr),qt="keyup".concat(qt).concat(Lr),hr="show",Rr='[data-bs-toggle="dropdown"]',Gi=".dropdown-menu",Tu=S()?"top-end":"top-start",ku=S()?"top-start":"top-end",Pu=S()?"bottom-end":"bottom-start",Au=S()?"bottom-start":"bottom-end",xu=S()?"left-start":"right-start",Bu=S()?"right-start":"left-start",Ou={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Fu={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Zn=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Gt(A,P);var N,O=Fn(E);function E(k,j){if(this instanceof E)return(k=O.call(this,k))._popper=null,k._config=k._getConfig(j),k._menu=k._getMenuElement(),k._inNavbar=k._detectNavbar(),k;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Ou}},{key:"DefaultType",get:function(){return Fu}},{key:"NAME",get:function(){return Dn}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}},{key:"clearMenus",value:function(k){if(!k||k.button!==2&&(k.type!=="keyup"||k.key==="Tab"))for(var j=Ie.find(Rr),W=0,te=j.length;W<te;W++){var se=E.getInstance(j[W]);if(se&&se._config.autoClose!==!1&&se._isShown()){var oe={relatedTarget:se._element};if(k){var ge=k.composedPath(),de=ge.includes(se._menu);if(ge.includes(se._element)||se._config.autoClose==="inside"&&!de||se._config.autoClose==="outside"&&de||se._menu.contains(k.target)&&(k.type==="keyup"&&k.key==="Tab"||/input|select|option|textarea|form/i.test(k.target.tagName)))continue;k.type==="click"&&(oe.clickEvent=k)}se._completeHide(oe)}}}},{key:"getParentFromElement",value:function(k){return b(k)||k.parentNode}},{key:"dataApiKeydownHandler",value:function(k){if(/input|textarea/i.test(k.target.tagName)?!(k.key==="Space"||k.key!==Yn&&(k.key!==ci&&k.key!==wn||k.target.closest(Gi))):wu.test(k.key)){var j=this.classList.contains(hr);if((j||k.key!==Yn)&&(k.preventDefault(),k.stopPropagation(),!_(this))){var W=this.matches(Rr)?this:Ie.prev(this,Rr)[0],W=E.getOrCreateInstance(W);if(k.key!==Yn)return k.key===wn||k.key===ci?(j||W.show(),void W._selectMenuItem(k)):void(j&&k.key!=="Space"||E.clearMenus());W.hide()}}}}],(N=[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var k,j;_(this._element)||this._isShown(this._menu)||(k={relatedTarget:this._element},fe.trigger(this._element,Eu,k).defaultPrevented||(j=E.getParentFromElement(this._element),this._inNavbar?we.setDataAttribute(this._menu,"popper","none"):this._createPopper(j),"ontouchstart"in document.documentElement&&!j.closest(".navbar-nav")&&(j=[]).concat.apply(j,bt(document.body.children)).forEach(function(W){return fe.on(W,"mouseover",$)}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(hr),this._element.classList.add(hr),fe.trigger(this._element,Su,k)))}},{key:"hide",value:function(){var k;!_(this._element)&&this._isShown(this._menu)&&(k={relatedTarget:this._element},this._completeHide(k))}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),Xt(hn(E.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(k){var j;fe.trigger(this._element,Cu,k).defaultPrevented||("ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,bt(document.body.children)).forEach(function(W){return fe.off(W,"mouseover",$)}),this._popper&&this._popper.destroy(),this._menu.classList.remove(hr),this._element.classList.remove(hr),this._element.setAttribute("aria-expanded","false"),we.removeDataAttribute(this._menu,"popper"),fe.trigger(this._element,Iu,k))}},{key:"_getConfig",value:function(k){if(k=at(at(at({},this.constructor.Default),we.getDataAttributes(this._element)),k),C(Dn,k,this.constructor.DefaultType),nt(k.reference)!=="object"||J(k.reference)||typeof k.reference.getBoundingClientRect=="function")return k;throw new TypeError("".concat(Dn.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}},{key:"_createPopper",value:function(W){if(d===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var j=this._element,W=(this._config.reference==="parent"?j=W:J(this._config.reference)?j=v(this._config.reference):nt(this._config.reference)==="object"&&(j=this._config.reference),this._getPopperConfig()),te=W.modifiers.find(function(se){return se.name==="applyStyles"&&se.enabled===!1});this._popper=Y(j,this._menu,W),te&&we.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(hr)}},{key:"_getMenuElement",value:function(){return Ie.next(this._element,Gi)[0]}},{key:"_getPlacement",value:function(){var k=this._element.parentNode;if(k.classList.contains("dropend"))return xu;if(k.classList.contains("dropstart"))return Bu;var j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return k.classList.contains("dropup")?j?ku:Tu:j?Au:Pu}},{key:"_detectNavbar",value:function(){return this._element.closest(".".concat("navbar"))!==null}},{key:"_getOffset",value:function(){var k=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,k._element)}:j}},{key:"_getPopperConfig",value:function(){var k={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(k.modifiers=[{name:"applyStyles",enabled:!1}]),at(at({},k),typeof this._config.popperConfig=="function"?this._config.popperConfig(k):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(W){var j=W.key,W=W.target,te=Ie.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(w);te.length&&F(te,W,j===ci,!te.includes(W)).focus()}}])&&fn(A.prototype,N),P&&fn(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Lr=(fe.on(document,on,Rr,Zn.dataApiKeydownHandler),fe.on(document,on,Gi,Zn.dataApiKeydownHandler),fe.on(document,pi,Zn.clearMenus),fe.on(document,qt,Zn.clearMenus),fe.on(document,pi,Rr,function(A){A.preventDefault(),Zn.getOrCreateInstance(this).toggle()}),I(Zn),Zn);function Zo(A){return(Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Xo(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function qi(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Xo(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Xo(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Ko(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Qo(A,P){return(Qo=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Nu(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Hi(A),O=(N=P?(N=Hi(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(Zo(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Hi(A){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var ea="collapse",ta="bs.collapse",on=".".concat(ta),na={toggle:!0,parent:null},Ru={toggle:"boolean",parent:"(null|element)"},Lu="show".concat(on),ju="shown".concat(on),Du="hide".concat(on),zu="hidden".concat(on),qt="click".concat(on).concat(".data-api"),Yi="show",gr="collapse",fi="collapsing",ra="collapsed",ia=":scope .".concat(gr," .").concat(gr),Zi='[data-bs-toggle="collapse"]',Xi=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Qo(A,P);var N,O=Nu(E);function E(k,j){var W;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");(W=O.call(this,k))._isTransitioning=!1,W._config=W._getConfig(j),W._triggerArray=[];for(var te=Ie.find(Zi),se=0,oe=te.length;se<oe;se++){var ge=te[se],de=h(ge),Ee=Ie.find(de).filter(function(Pe){return Pe===W._element});de!==null&&Ee.length&&(W._selector=de,W._triggerArray.push(ge))}return W._initializeChildren(),W._config.parent||W._addAriaAndCollapsedClass(W._triggerArray,W._isShown()),W._config.toggle&&W.toggle(),W}return A=E,P=[{key:"Default",get:function(){return na}},{key:"NAME",get:function(){return ea}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j={},j=(typeof k=="string"&&/show|hide/.test(k)&&(j.toggle=!1),E.getOrCreateInstance(this,j));if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(N=[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var k=this;if(!this._isTransitioning&&!this._isShown()){var j,W,te=[],se=(this._config.parent&&(j=Ie.find(ia,this._config.parent),te=Ie.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(function(de){return!j.includes(de)})),Ie.findOne(this._selector));if(te.length){var oe,ge=te.find(function(de){return se!==de});if((oe=ge?E.getInstance(ge):null)&&oe._isTransitioning)return}fe.trigger(this._element,Lu).defaultPrevented||(te.forEach(function(de){se!==de&&E.getOrCreateInstance(de,{toggle:!1}).hide(),oe||Ne(de,ta,null)}),W=this._getDimension(),this._element.classList.remove(gr),this._element.classList.add(fi),this._element.style[W]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,ge=W[0].toUpperCase()+W.slice(1),te="scroll".concat(ge),this._queueCallback(function(){k._isTransitioning=!1,k._element.classList.remove(fi),k._element.classList.add(gr,Yi),k._element.style[W]="",fe.trigger(k._element,ju)},this._element,!0),this._element.style[W]="".concat(this._element[te],"px"))}}},{key:"hide",value:function(){var k=this;if(!this._isTransitioning&&this._isShown()){var j=fe.trigger(this._element,Du);if(!j.defaultPrevented){for(var j=this._getDimension(),W=(this._element.style[j]="".concat(this._element.getBoundingClientRect()[j],"px"),T(this._element),this._element.classList.add(fi),this._element.classList.remove(gr,Yi),this._triggerArray.length),te=0;te<W;te++){var se=this._triggerArray[te],oe=b(se);oe&&!this._isShown(oe)&&this._addAriaAndCollapsedClass([se],!1)}this._isTransitioning=!0,this._element.style[j]="",this._queueCallback(function(){k._isTransitioning=!1,k._element.classList.remove(fi),k._element.classList.add(gr),fe.trigger(k._element,zu)},this._element,!0)}}}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Yi)}},{key:"_getConfig",value:function(k){return(k=qi(qi(qi({},na),we.getDataAttributes(this._element)),k)).toggle=Boolean(k.toggle),k.parent=v(k.parent),C(ea,k,Ru),k}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var k,j=this;this._config.parent&&(k=Ie.find(ia,this._config.parent),Ie.find(Zi,this._config.parent).filter(function(W){return!k.includes(W)}).forEach(function(W){var te=b(W);te&&j._addAriaAndCollapsedClass([W],j._isShown(te))}))}},{key:"_addAriaAndCollapsedClass",value:function(k,j){k.length&&k.forEach(function(W){j?W.classList.remove(ra):W.classList.add(ra),W.setAttribute("aria-expanded",j)})}}])&&Ko(A.prototype,N),P&&Ko(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),pi=(fe.on(document,qt,Zi,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault(),A=h(this),Ie.find(A).forEach(function(P){Xi.getOrCreateInstance(P,{toggle:!1}).toggle()})}),I(Xi),Xi);function Wu(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var oa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aa=".sticky-top",Ki=function(){function A(){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=document.body}var P,N;return P=A,(N=[{key:"getWidth",value:function(){var O=document.documentElement.clientWidth;return Math.abs(window.innerWidth-O)}},{key:"hide",value:function(){var O=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(E){return E+O}),this._setElementAttributes(oa,"paddingRight",function(E){return E+O}),this._setElementAttributes(aa,"marginRight",function(E){return E-O})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(O,E,k){var j=this,W=this.getWidth();this._applyManipulationCallback(O,function(te){var se;te!==j._element&&window.innerWidth>te.clientWidth+W||(j._saveInitialAttribute(te,E),se=window.getComputedStyle(te)[E],te.style[E]="".concat(k(Number.parseFloat(se)),"px"))})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(oa,"paddingRight"),this._resetElementAttributes(aa,"marginRight")}},{key:"_saveInitialAttribute",value:function(O,E){var k=O.style[E];k&&we.setDataAttribute(O,E,k)}},{key:"_resetElementAttributes",value:function(O,E){this._applyManipulationCallback(O,function(k){var j=we.getDataAttribute(k,E);j===void 0?k.style.removeProperty(E):(we.removeDataAttribute(k,E),k.style[E]=j)})}},{key:"_applyManipulationCallback",value:function(O,E){J(O)?E(O):Ie.find(O,this._element).forEach(E)}},{key:"isOverflowing",value:function(){return 0<this.getWidth()}}])&&Wu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function sa(A){return(sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ua(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function la(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ua(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ua(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Vu(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var Uu={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Ju={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},ca="backdrop",fa="mousedown.bs.".concat(ca),pa=function(){function A(O){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(O),this._isAppended=!1,this._element=null}var P,N;return P=A,(N=[{key:"show",value:function(O){this._config.isVisible?(this._append(),this._config.isAnimated&&T(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){B(O)})):B(O)}},{key:"hide",value:function(O){var E=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){E.dispose(),B(O)})):B(O)}},{key:"_getElement",value:function(){var O;return this._element||((O=document.createElement("div")).className=this._config.className,this._config.isAnimated&&O.classList.add("fade"),this._element=O),this._element}},{key:"_getConfig",value:function(O){return(O=la(la({},Uu),sa(O)==="object"?O:{})).rootElement=v(O.rootElement),C(ca,O,Ju),O}},{key:"_append",value:function(){var O=this;this._isAppended||(this._config.rootElement.append(this._getElement()),fe.on(this._getElement(),fa,function(){B(O._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(fe.off(this._element,fa),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(O){x(O,this._getElement(),this._config.isAnimated)}}])&&Vu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function da(A){return(da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ma(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function ha(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ma(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ma(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Gu(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function di(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide",N="click.dismiss".concat(A.EVENT_KEY),O=A.NAME;fe.on(document,N,'[data-bs-dismiss="'.concat(O,'"]'),function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),_(this)||(E=b(this)||this.closest(".".concat(O)),A.getOrCreateInstance(E)[P]())})}var qu={trapElement:null,autofocus:!0},Hu={trapElement:"element",autofocus:"boolean"},mi=".".concat("bs.focustrap"),Yu="focusin".concat(mi),Zu="keydown.tab".concat(mi),ga="backward",ya=function(){function A(O){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(O),this._isActive=!1,this._lastTabNavDirection=null}var P,N;return P=A,(N=[{key:"activate",value:function(){var O=this,k=this._config,E=k.trapElement,k=k.autofocus;this._isActive||(k&&E.focus(),fe.off(document,mi),fe.on(document,Yu,function(j){return O._handleFocusin(j)}),fe.on(document,Zu,function(j){return O._handleKeydown(j)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,fe.off(document,mi))}},{key:"_handleFocusin",value:function(E){var E=E.target,k=this._config.trapElement;E===document||E===k||k.contains(E)||((E=Ie.focusableChildren(k)).length===0?k:this._lastTabNavDirection===ga?E[E.length-1]:E[0]).focus()}},{key:"_handleKeydown",value:function(O){O.key==="Tab"&&(this._lastTabNavDirection=O.shiftKey?ga:"forward")}},{key:"_getConfig",value:function(O){return O=ha(ha({},qu),da(O)==="object"?O:{}),C("focustrap",O,Hu),O}}])&&Gu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function Qi(A){return(Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ba(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function eo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ba(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ba(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function va(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function _a(){return(_a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=jr(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function $a(A,P){return($a=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Xu(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=jr(A),O=(N=P?(N=jr(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(Qi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function jr(A){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Ma="offcanvas",on=".".concat("bs.offcanvas"),qt=".data-api",wt="load".concat(on).concat(qt),wa={backdrop:!0,keyboard:!0,scroll:!1},Ku={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Ca=".offcanvas.show",Qu="show".concat(on),el="shown".concat(on),tl="hide".concat(on),Ia="hidden".concat(on),qt="click".concat(on).concat(qt),nl="keydown.dismiss".concat(on),yr=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&$a(A,P);var N,O=Xu(E);function E(k,j){if(this instanceof E)return(k=O.call(this,k))._config=k._getConfig(j),k._isShown=!1,k._backdrop=k._initializeBackDrop(),k._focustrap=k._initializeFocusTrap(),k._addEventListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return Ma}},{key:"Default",get:function(){return wa}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(N=[{key:"toggle",value:function(k){return this._isShown?this.hide():this.show(k)}},{key:"show",value:function(k){var j=this;this._isShown||fe.trigger(this._element,Qu,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new Ki().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(function(){j._config.scroll||j._focustrap.activate(),fe.trigger(j._element,el,{relatedTarget:k})},this._element,!0))}},{key:"hide",value:function(){var k=this;this._isShown&&!fe.trigger(this._element,tl).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(function(){k._element.setAttribute("aria-hidden",!0),k._element.removeAttribute("aria-modal"),k._element.removeAttribute("role"),k._element.style.visibility="hidden",k._config.scroll||new Ki().reset(),fe.trigger(k._element,Ia)},this._element,!0))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),_a(jr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return k=eo(eo(eo({},wa),we.getDataAttributes(this._element)),Qi(k)==="object"?k:{}),C(Ma,k,Ku),k}},{key:"_initializeBackDrop",value:function(){var k=this;return new pa({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return k.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new ya({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var k=this;fe.on(this._element,nl,function(j){k._config.keyboard&&j.key==="Escape"&&k.hide()})}}])&&va(A.prototype,N),P&&va(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),on=(fe.on(document,qt,'[data-bs-toggle="offcanvas"]',function(A){var P=this,N=b(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),_(this)||(fe.one(N,Ia,function(){w(P)&&P.focus()}),(A=Ie.findOne(Ca))&&A!==N&&yr.getInstance(A).hide(),yr.getOrCreateInstance(N).toggle(this))}),fe.on(window,wt,function(){return Ie.find(Ca).forEach(function(A){return yr.getOrCreateInstance(A).show()})}),di(yr),I(yr),yr);function Ea(A){return(Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Sa(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Ta(A,P){return(Ta=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function rl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=to(A),O=(N=P?(N=to(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(Ea(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function to(A){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var qt=".".concat("bs.alert"),il="close".concat(qt),ol="closed".concat(qt),wt=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Ta(A,P);var N,O=rl(E);function E(){var k=this,j=E;if(k instanceof j)return O.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof k=="string"){if(j[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(N=[{key:"close",value:function(){var k,j=this;fe.trigger(this._element,il).defaultPrevented||(this._element.classList.remove("show"),k=this._element.classList.contains("fade"),this._queueCallback(function(){return j._destroyElement()},this._element,k))}},{key:"_destroyElement",value:function(){this._element.remove(),fe.trigger(this._element,ol),this.dispose()}}])&&Sa(A.prototype,N),P&&Sa(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),qt=(di(wt,"close"),I(wt),wt);function hi(A){return(hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ka(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function Xn(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ka(Object(N),!0).forEach(function(O){ro(A,O,N[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ka(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Pa(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Aa(A,P){return(Aa=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function al(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=no(A),O=(N=P?(N=no(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(hi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function no(A){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function ro(A,P,N){P in A?Object.defineProperty(A,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[P]=N}var xa="carousel",wt=".".concat("bs.carousel"),yi=".data-api",Ba={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},sl={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Kn="next",Qn="prev",er="left",Dr="right",ul=(ro(br={},"ArrowLeft",Dr),ro(br,"ArrowRight",er),br),ll="slide".concat(wt),Oa="slid".concat(wt),cl="keydown".concat(wt),fl="mouseenter".concat(wt),pl="mouseleave".concat(wt),dl="touchstart".concat(wt),ml="touchmove".concat(wt),hl="touchend".concat(wt),gl="pointerdown".concat(wt),yl="pointerup".concat(wt),bl="dragstart".concat(wt),br="load".concat(wt).concat(yi),wt="click".concat(wt).concat(yi),tr="active",gi=".active.carousel-item",zr=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Aa(A,P);var N,O=al(E);function E(k,j){if(this instanceof E)return(k=O.call(this,k))._items=null,k._interval=null,k._activeElement=null,k._isPaused=!1,k._isSliding=!1,k.touchTimeout=null,k.touchStartX=0,k.touchDeltaX=0,k._config=k._getConfig(j),k._indicatorsElement=Ie.findOne(".carousel-indicators",k._element),k._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,k._pointerEvent=Boolean(window.PointerEvent),k._addEventListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Ba}},{key:"NAME",get:function(){return xa}},{key:"carouselInterface",value:function(W,j){var W=E.getOrCreateInstance(W,j),te=W._config,se=(hi(j)==="object"&&(te=Xn(Xn({},te),j)),typeof j=="string"?j:te.slide);if(typeof j=="number")W.to(j);else if(typeof se=="string"){if(W[se]===void 0)throw new TypeError('No method named "'.concat(se,'"'));W[se]()}else te.interval&&te.ride&&(W.pause(),W.cycle())}},{key:"jQueryInterface",value:function(k){return this.each(function(){E.carouselInterface(this,k)})}},{key:"dataApiClickHandler",value:function(k){var j,W,te=b(this);te&&te.classList.contains("carousel")&&(j=Xn(Xn({},we.getDataAttributes(te)),we.getDataAttributes(this)),(W=this.getAttribute("data-bs-slide-to"))&&(j.interval=!1),E.carouselInterface(te,j),W&&E.getInstance(te).to(W),k.preventDefault())}}],(N=[{key:"next",value:function(){this._slide(Kn)}},{key:"nextWhenVisible",value:function(){!document.hidden&&w(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Qn)}},{key:"pause",value:function(k){k||(this._isPaused=!0),Ie.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(y(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(k){k||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(k){var j=this,W=(this._activeElement=Ie.findOne(gi,this._element),this._getItemIndex(this._activeElement));if(!(k>this._items.length-1||k<0))if(this._isSliding)fe.one(this._element,Oa,function(){return j.to(k)});else{if(W===k)return this.pause(),void this.cycle();this._slide(W<k?Kn:Qn,this._items[k])}}},{key:"_getConfig",value:function(k){return k=Xn(Xn(Xn({},Ba),we.getDataAttributes(this._element)),hi(k)==="object"?k:{}),C(xa,k,sl),k}},{key:"_handleSwipe",value:function(){var k=Math.abs(this.touchDeltaX);k<=40||(k=k/this.touchDeltaX,this.touchDeltaX=0,k&&this._slide(0<k?Dr:er))}},{key:"_addEventListeners",value:function(){var k=this;this._config.keyboard&&fe.on(this._element,cl,function(j){return k._keydown(j)}),this._config.pause==="hover"&&(fe.on(this._element,fl,function(j){return k.pause(j)}),fe.on(this._element,pl,function(j){return k.cycle(j)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){function k(se){te(se)?W.touchStartX=se.clientX:W._pointerEvent||(W.touchStartX=se.touches[0].clientX)}function j(se){te(se)&&(W.touchDeltaX=se.clientX-W.touchStartX),W._handleSwipe(),W._config.pause==="hover"&&(W.pause(),W.touchTimeout&&clearTimeout(W.touchTimeout),W.touchTimeout=setTimeout(function(oe){return W.cycle(oe)},500+W._config.interval))}var W=this,te=function(se){return W._pointerEvent&&(se.pointerType==="pen"||se.pointerType==="touch")};Ie.find(".carousel-item img",this._element).forEach(function(se){fe.on(se,bl,function(oe){return oe.preventDefault()})}),this._pointerEvent?(fe.on(this._element,gl,k),fe.on(this._element,yl,j),this._element.classList.add("pointer-event")):(fe.on(this._element,dl,k),fe.on(this._element,ml,function(se){se=se,W.touchDeltaX=se.touches&&1<se.touches.length?0:se.touches[0].clientX-W.touchStartX}),fe.on(this._element,hl,j))}},{key:"_keydown",value:function(k){var j;/input|textarea/i.test(k.target.tagName)||(j=ul[k.key])&&(k.preventDefault(),this._slide(j))}},{key:"_getItemIndex",value:function(k){return this._items=k&&k.parentNode?Ie.find(".carousel-item",k.parentNode):[],this._items.indexOf(k)}},{key:"_getItemByOrder",value:function(k,j){return F(this._items,j,k===Kn,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(k,j){var W=this._getItemIndex(k),te=this._getItemIndex(Ie.findOne(gi,this._element));return fe.trigger(this._element,ll,{relatedTarget:k,direction:j,from:te,to:W})}},{key:"_setActiveIndicatorElement",value:function(k){if(this._indicatorsElement){for(var j=Ie.findOne(".active",this._indicatorsElement),W=(j.classList.remove(tr),j.removeAttribute("aria-current"),Ie.find("[data-bs-target]",this._indicatorsElement)),te=0;te<W.length;te++)if(Number.parseInt(W[te].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(k)){W[te].classList.add(tr),W[te].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var k=this._activeElement||Ie.findOne(gi,this._element);k&&((k=Number.parseInt(k.getAttribute("data-bs-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=k):this._config.interval=this._config.defaultInterval||this._config.interval)}},{key:"_slide",value:function(se,Pe){var W,te=this,se=this._directionToOrder(se),oe=Ie.findOne(gi,this._element),ge=this._getItemIndex(oe),de=Pe||this._getItemByOrder(se,oe),Ee=this._getItemIndex(de),Pe=Boolean(this._interval),ke=se===Kn,Fe=ke?"carousel-item-start":"carousel-item-end",Me=ke?"carousel-item-next":"carousel-item-prev",Be=this._orderToDirection(se);de&&de.classList.contains(tr)?this._isSliding=!1:this._isSliding||this._triggerSlideEvent(de,Be).defaultPrevented||oe&&de&&(this._isSliding=!0,Pe&&this.pause(),this._setActiveIndicatorElement(de),this._activeElement=de,W=function(){fe.trigger(te._element,Oa,{relatedTarget:de,direction:Be,from:ge,to:Ee})},this._element.classList.contains("slide")?(de.classList.add(Me),T(de),oe.classList.add(Fe),de.classList.add(Fe),this._queueCallback(function(){de.classList.remove(Fe,Me),de.classList.add(tr),oe.classList.remove(tr,Me,Fe),te._isSliding=!1,setTimeout(W,0)},oe,!0)):(oe.classList.remove(tr),de.classList.add(tr),this._isSliding=!1,W()),Pe&&this.cycle())}},{key:"_directionToOrder",value:function(k){return[Dr,er].includes(k)?S()?k===er?Qn:Kn:k===er?Kn:Qn:k}},{key:"_orderToDirection",value:function(k){return[Kn,Qn].includes(k)?S()?k===Qn?er:Dr:k===Qn?Dr:er:k}}])&&Pa(A.prototype,N),P&&Pa(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),yi=(fe.on(document,wt,"[data-bs-slide], [data-bs-slide-to]",zr.dataApiClickHandler),fe.on(window,br,function(){for(var A=Ie.find('[data-bs-ride="carousel"]'),P=0,N=A.length;P<N;P++)zr.carouselInterface(A[P],zr.getInstance(A[P]))}),I(zr),zr);function io(A){return(io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Fa(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function oo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Fa(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Fa(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Na(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Ra(){return(Ra=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Wr(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function La(A,P){return(La=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function vl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Wr(A),O=(N=P?(N=Wr(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(io(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Wr(A){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Pn=".".concat("bs.modal"),ja={backdrop:!0,keyboard:!0,focus:!0},_l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},$l="hide".concat(Pn),Ml="hidePrevented".concat(Pn),Da="hidden".concat(Pn),za="show".concat(Pn),wl="shown".concat(Pn),Wa="resize".concat(Pn),Va="click.dismiss".concat(Pn),Ua="keydown.dismiss".concat(Pn),Cl="mouseup.dismiss".concat(Pn),Ja="mousedown.dismiss".concat(Pn),wt="click".concat(Pn).concat(".data-api"),Ga="modal-open",ao="modal-static",Vr=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&La(A,P);var N,O=vl(E);function E(k,j){if(this instanceof E)return(k=O.call(this,k))._config=k._getConfig(j),k._dialog=Ie.findOne(".modal-dialog",k._element),k._backdrop=k._initializeBackDrop(),k._focustrap=k._initializeFocusTrap(),k._isShown=!1,k._ignoreBackdropClick=!1,k._isTransitioning=!1,k._scrollBar=new Ki,k;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return ja}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(k,j){return this.each(function(){var W=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));W[k](j)}})}}],(N=[{key:"toggle",value:function(k){return this._isShown?this.hide():this.show(k)}},{key:"show",value:function(k){var j=this;this._isShown||this._isTransitioning||fe.trigger(this._element,za,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Ga),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),fe.on(this._dialog,Ja,function(){fe.one(j._element,Cl,function(W){W.target===j._element&&(j._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return j._showElement(k)}))}},{key:"hide",value:function(){var k,j=this;!this._isShown||this._isTransitioning||fe.trigger(this._element,$l).defaultPrevented||(this._isShown=!1,(k=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),fe.off(this._element,Va),fe.off(this._dialog,Ja),this._queueCallback(function(){return j._hideModal()},this._element,k))}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(k){return fe.off(k,Pn)}),this._backdrop.dispose(),this._focustrap.deactivate(),Ra(Wr(E.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new pa({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new ya({trapElement:this._element})}},{key:"_getConfig",value:function(k){return k=oo(oo(oo({},ja),we.getDataAttributes(this._element)),io(k)==="object"?k:{}),C("modal",k,_l),k}},{key:"_showElement",value:function(k){var j=this,W=this._isAnimated(),te=Ie.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,te&&(te.scrollTop=0),W&&T(this._element),this._element.classList.add("show"),this._queueCallback(function(){j._config.focus&&j._focustrap.activate(),j._isTransitioning=!1,fe.trigger(j._element,wl,{relatedTarget:k})},this._dialog,W)}},{key:"_setEscapeEvent",value:function(){var k=this;this._isShown?fe.on(this._element,Ua,function(j){k._config.keyboard&&j.key==="Escape"?(j.preventDefault(),k.hide()):k._config.keyboard||j.key!=="Escape"||k._triggerBackdropTransition()}):fe.off(this._element,Ua)}},{key:"_setResizeEvent",value:function(){var k=this;this._isShown?fe.on(window,Wa,function(){return k._adjustDialog()}):fe.off(window,Wa)}},{key:"_hideModal",value:function(){var k=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove(Ga),k._resetAdjustments(),k._scrollBar.reset(),fe.trigger(k._element,Da)})}},{key:"_showBackdrop",value:function(k){var j=this;fe.on(this._element,Va,function(W){j._ignoreBackdropClick?j._ignoreBackdropClick=!1:W.target===W.currentTarget&&(j._config.backdrop===!0?j.hide():j._config.backdrop==="static"&&j._triggerBackdropTransition())}),this._backdrop.show(k)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var k,j,W,te,se,oe=this;fe.trigger(this._element,Ml).defaultPrevented||(k=this._element,j=k.classList,W=k.scrollHeight,te=k.style,!(se=W>document.documentElement.clientHeight)&&te.overflowY==="hidden"||j.contains(ao)||(se||(te.overflowY="hidden"),j.add(ao),this._queueCallback(function(){j.remove(ao),se||oe._queueCallback(function(){te.overflowY=""},oe._dialog)},this._dialog),this._element.focus()))}},{key:"_adjustDialog",value:function(){var k=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),W=0<j;(!W&&k&&!S()||W&&!k&&S())&&(this._element.style.paddingLeft="".concat(j,"px")),(W&&!k&&!S()||!W&&k&&S())&&(this._element.style.paddingRight="".concat(j,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}])&&Na(A.prototype,N),P&&Na(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),br=(fe.on(document,wt,'[data-bs-toggle="modal"]',function(O){var P=this,N=b(this),O=(["A","AREA"].includes(this.tagName)&&O.preventDefault(),fe.one(N,za,function(E){E.defaultPrevented||fe.one(N,Da,function(){w(P)&&P.focus()})}),Ie.findOne(".modal.show"));O&&Vr.getInstance(O).hide(),Vr.getOrCreateInstance(N).toggle(this)}),di(Vr),I(Vr),Vr);function qa(A){return function(P){if(Array.isArray(P))return so(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return so(P,N);var O=Object.prototype.toString.call(P).slice(8,-1);return(O=O==="Object"&&P.constructor?P.constructor.name:O)==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?so(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function so(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}var Il=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),El=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Sl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,wt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ha(A,P,N){if(!A.length)return A;if(N&&typeof N=="function")return N(A);for(var N=new window.DOMParser().parseFromString(A,"text/html"),O=(A=[]).concat.apply(A,qa(N.body.querySelectorAll("*"))),E=function(ge,se){var oe=O[ge],ge=oe.nodeName.toLowerCase();if(!Object.keys(P).includes(ge))return oe.remove(),"continue";var de=(de=[]).concat.apply(de,qa(oe.attributes)),Ee=[].concat(P["*"]||[],P[ge]||[]);de.forEach(function(Pe){!function(ke,Fe){var Me=ke.nodeName.toLowerCase();if(Fe.includes(Me))return!Il.has(Me)||Boolean(El.test(ke.nodeValue)||Sl.test(ke.nodeValue));for(var Be=Fe.filter(function(st){return st instanceof RegExp}),Ue=0,Qe=Be.length;Ue<Qe;Ue++)if(Be[Ue].test(Me))return!0;return!1}(Pe,Ee)&&oe.removeAttribute(Pe.nodeName)})},k=0,j=O.length;k<j;k++)E(k);return N.body.innerHTML}function bi(A){return(bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ya(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function nr(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ya(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ya(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function uo(A){return function(P){if(Array.isArray(P))return lo(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return lo(P,N);var O=Object.prototype.toString.call(P).slice(8,-1);return(O=O==="Object"&&P.constructor?P.constructor.name:O)==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?lo(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lo(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}function Za(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function Xa(){return(Xa=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Ur(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function Ka(A,P){return(Ka=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Tl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Ur(A),O=(N=P?(N=Ur(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(bi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ur(A){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Qa="tooltip",Vt=".".concat("bs.tooltip"),kl=new Set(["sanitize","allowList","sanitizeFn"]),Pl={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Al={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},xl={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:wt,popperConfig:null},Bl={HIDE:"hide".concat(Vt),HIDDEN:"hidden".concat(Vt),SHOW:"show".concat(Vt),SHOWN:"shown".concat(Vt),INSERTED:"inserted".concat(Vt),CLICK:"click".concat(Vt),FOCUSIN:"focusin".concat(Vt),FOCUSOUT:"focusout".concat(Vt),MOUSEENTER:"mouseenter".concat(Vt),MOUSELEAVE:"mouseleave".concat(Vt)},vi="fade",Jr="show",Gr="show",es=".tooltip-inner",ts=".".concat("modal"),ns="hide.bs.modal",qr="hover",co="focus",wt=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Ka(A,P);var N,O=Tl(E);function E(k,j){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");if(d===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(k=O.call(this,k))._isEnabled=!0,k._timeout=0,k._hoverState="",k._activeTrigger={},k._popper=null,k._config=k._getConfig(j),k.tip=null,k._setListeners(),k}return A=E,P=[{key:"Default",get:function(){return xl}},{key:"NAME",get:function(){return Qa}},{key:"Event",get:function(){return Bl}},{key:"DefaultType",get:function(){return Pl}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(N=[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(k){this._isEnabled&&(k?((k=this._initializeOnDelegatedTarget(k))._activeTrigger.click=!k._activeTrigger.click,k._isWithActiveTrigger()?k._enter(null,k):k._leave(null,k)):this.getTipElement().classList.contains(Jr)?this._leave(null,this):this._enter(null,this))}},{key:"dispose",value:function(){clearTimeout(this._timeout),fe.off(this._element.closest(ts),ns,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),Xa(Ur(E.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var k,j,W,te=this;if(this._element.style.display==="none")throw new Error("Please use show on visible elements");this.isWithContent()&&this._isEnabled&&(j=fe.trigger(this._element,this.constructor.Event.SHOW),W=((W=g(this._element))===null?this._element.ownerDocument.documentElement:W).contains(this._element),!j.defaultPrevented&&W&&(this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(es).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null),j=this.getTipElement(),W=function(se){for(;se+=Math.floor(1e6*Math.random()),document.getElementById(se););return se}(this.constructor.NAME),j.setAttribute("id",W),this._element.setAttribute("aria-describedby",W),this._config.animation&&j.classList.add(vi),W=typeof this._config.placement=="function"?this._config.placement.call(this,j,this._element):this._config.placement,W=this._getAttachment(W),this._addAttachmentClass(W),k=this._config.container,Ne(j,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(j),fe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Y(this._element,j,this._getPopperConfig(W)),j.classList.add(Jr),(k=this._resolvePossibleFunction(this._config.customClass))&&(W=j.classList).add.apply(W,uo(k.split(" "))),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,uo(document.body.children)).forEach(function(se){fe.on(se,"mouseover",$)}),W=this.tip.classList.contains(vi),this._queueCallback(function(){var se=te._hoverState;te._hoverState=null,fe.trigger(te._element,te.constructor.Event.SHOWN),se==="out"&&te._leave(null,te)},this.tip,W)))}},{key:"hide",value:function(){var k,j,W=this;this._popper&&(k=this.getTipElement(),fe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(k.classList.remove(Jr),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,uo(document.body.children)).forEach(function(te){return fe.off(te,"mouseover",$)}),this._activeTrigger.click=!1,this._activeTrigger[co]=!1,this._activeTrigger[qr]=!1,j=this.tip.classList.contains(vi),this._queueCallback(function(){W._isWithActiveTrigger()||(W._hoverState!==Gr&&k.remove(),W._cleanTipClass(),W._element.removeAttribute("aria-describedby"),fe.trigger(W._element,W.constructor.Event.HIDDEN),W._disposePopper())},this.tip,j),this._hoverState=""))}},{key:"update",value:function(){this._popper!==null&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var k=document.createElement("div"),k=(k.innerHTML=this._config.template,k.children[0]);return this.setContent(k),k.classList.remove(vi,Jr),this.tip=k,this.tip}},{key:"setContent",value:function(k){this._sanitizeAndSetContent(k,this.getTitle(),es)}},{key:"_sanitizeAndSetContent",value:function(k,j,W){W=Ie.findOne(W,k),!j&&W?W.remove():this.setElementContent(W,j)}},{key:"setElementContent",value:function(k,j){if(k!==null)return J(j)?(j=v(j),void(this._config.html?j.parentNode!==k&&(k.innerHTML="",k.append(j)):k.textContent=j.textContent)):void(this._config.html?(this._config.sanitize&&(j=Ha(j,this._config.allowList,this._config.sanitizeFn)),k.innerHTML=j):k.textContent=j)}},{key:"getTitle",value:function(){var k=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(k)}},{key:"updateAttachment",value:function(k){return k==="right"?"end":k==="left"?"start":k}},{key:"_initializeOnDelegatedTarget",value:function(k,j){return j||this.constructor.getOrCreateInstance(k.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var k=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,k._element)}:j}},{key:"_resolvePossibleFunction",value:function(k){return typeof k=="function"?k.call(this._element):k}},{key:"_getPopperConfig",value:function(W){var j=this,W={placement:W,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(te){return j._handlePopperPlacementChange(te)}}],onFirstUpdate:function(te){te.options.placement!==te.placement&&j._handlePopperPlacementChange(te)}};return nr(nr({},W),typeof this._config.popperConfig=="function"?this._config.popperConfig(W):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(k){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(k)))}},{key:"_getAttachment",value:function(k){return Al[k.toUpperCase()]}},{key:"_setListeners",value:function(){var k=this;this._config.trigger.split(" ").forEach(function(j){var W;j==="click"?fe.on(k._element,k.constructor.Event.CLICK,k._config.selector,function(te){return k.toggle(te)}):j!=="manual"&&(W=j===qr?k.constructor.Event.MOUSEENTER:k.constructor.Event.FOCUSIN,j=j===qr?k.constructor.Event.MOUSELEAVE:k.constructor.Event.FOCUSOUT,fe.on(k._element,W,k._config.selector,function(te){return k._enter(te)}),fe.on(k._element,j,k._config.selector,function(te){return k._leave(te)}))}),this._hideModalHandler=function(){k._element&&k.hide()},fe.on(this._element.closest(ts),ns,this._hideModalHandler),this._config.selector?this._config=nr(nr({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var k=this._element.getAttribute("title"),j=bi(this._element.getAttribute("data-bs-original-title"));!k&&j==="string"||(this._element.setAttribute("data-bs-original-title",k||""),!k||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",k),this._element.setAttribute("title",""))}},{key:"_enter",value:function(k,j){j=this._initializeOnDelegatedTarget(k,j),k&&(j._activeTrigger[k.type==="focusin"?co:qr]=!0),j.getTipElement().classList.contains(Jr)||j._hoverState===Gr?j._hoverState=Gr:(clearTimeout(j._timeout),j._hoverState=Gr,j._config.delay&&j._config.delay.show?j._timeout=setTimeout(function(){j._hoverState===Gr&&j.show()},j._config.delay.show):j.show())}},{key:"_leave",value:function(k,j){j=this._initializeOnDelegatedTarget(k,j),k&&(j._activeTrigger[k.type==="focusout"?co:qr]=j._element.contains(k.relatedTarget)),j._isWithActiveTrigger()||(clearTimeout(j._timeout),j._hoverState="out",j._config.delay&&j._config.delay.hide?j._timeout=setTimeout(function(){j._hoverState==="out"&&j.hide()},j._config.delay.hide):j.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var k in this._activeTrigger)if(this._activeTrigger[k])return!0;return!1}},{key:"_getConfig",value:function(k){var j=we.getDataAttributes(this._element);return Object.keys(j).forEach(function(W){kl.has(W)&&delete j[W]}),(k=nr(nr(nr({},this.constructor.Default),j),bi(k)==="object"&&k?k:{})).container=k.container===!1?document.body:v(k.container),typeof k.delay=="number"&&(k.delay={show:k.delay,hide:k.delay}),typeof k.title=="number"&&(k.title=k.title.toString()),typeof k.content=="number"&&(k.content=k.content.toString()),C(Qa,k,this.constructor.DefaultType),k.sanitize&&(k.template=Ha(k.template,k.allowList,k.sanitizeFn)),k}},{key:"_getDelegateConfig",value:function(){var k,j={};for(k in this._config)this.constructor.Default[k]!==this._config[k]&&(j[k]=this._config[k]);return j}},{key:"_cleanTipClass",value:function(){var k=this.getTipElement(),j=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),j=k.getAttribute("class").match(j);j!==null&&0<j.length&&j.map(function(W){return W.trim()}).forEach(function(W){return k.classList.remove(W)})}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(k){k=k.state,k&&(this.tip=k.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(k.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}])&&Za(A.prototype,N),P&&Za(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),_i=(I(wt),wt);function rs(A){return(rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function is(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function os(A,P){return(os=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Ol(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=fo(A),O=(N=P?(N=fo(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(rs(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function fo(A){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function as(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function $i(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?as(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):as(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}var Vt=".".concat("bs.popover"),Fl=$i($i({},_i.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Nl=$i($i({},_i.DefaultType),{},{content:"(string|element|function)"}),Rl={HIDE:"hide".concat(Vt),HIDDEN:"hidden".concat(Vt),SHOW:"show".concat(Vt),SHOWN:"shown".concat(Vt),INSERTED:"inserted".concat(Vt),CLICK:"click".concat(Vt),FOCUSIN:"focusin".concat(Vt),FOCUSOUT:"focusout".concat(Vt),MOUSEENTER:"mouseenter".concat(Vt),MOUSELEAVE:"mouseleave".concat(Vt)},wt=function(){var A=E,P=_i;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&os(A,P);var N,O=Ol(E);function E(){var k=this,j=E;if(k instanceof j)return O.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Fl}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Rl}},{key:"DefaultType",get:function(){return Nl}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(N=[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(k){this._sanitizeAndSetContent(k,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(k,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}])&&is(A.prototype,N),P&&is(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Vt=(I(wt),wt);ze(180);function po(A){return(po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ss(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function mo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ss(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ss(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function us(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function ls(){return(ls=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Hr(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function cs(A,P){return(cs=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Ll(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Hr(A),O=(N=P?(N=Hr(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(po(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Hr(A){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var fs="scrollspy",Mi=".".concat("bs.scrollspy"),ps={offset:10,method:"auto",target:""},jl={offset:"number",method:"string",target:"(string|element)"},Dl="activate".concat(Mi),zl="scroll".concat(Mi),wt="load".concat(Mi).concat(".data-api"),ds="dropdown-item",vr="active",ho=".nav-link",ms=".list-group-item",go="".concat(ho,", ").concat(ms,", .").concat(ds),hs="position",yo=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&cs(A,P);var N,O=Ll(E);function E(k,j){var W;if(this instanceof E)return(W=O.call(this,k))._scrollElement=W._element.tagName==="BODY"?window:W._element,W._config=W._getConfig(j),W._offsets=[],W._targets=[],W._activeTarget=null,W._scrollHeight=0,fe.on(W._scrollElement,zl,function(){return W._process()}),W.refresh(),W._process(),W;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return ps}},{key:"NAME",get:function(){return fs}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(N=[{key:"refresh",value:function(){var k=this,j=this._scrollElement===this._scrollElement.window?"offset":hs,W=this._config.method==="auto"?j:this._config.method,te=W===hs?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ie.find(go,this._config.target).map(function(oe){var oe=h(oe),ge=oe?Ie.findOne(oe):null;if(ge){var de=ge.getBoundingClientRect();if(de.width||de.height)return[we[W](ge).top+te,oe]}return null}).filter(function(se){return se}).sort(function(se,oe){return se[0]-oe[0]}).forEach(function(se){k._offsets.push(se[0]),k._targets.push(se[1])})}},{key:"dispose",value:function(){fe.off(this._scrollElement,Mi),ls(Hr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return(k=mo(mo(mo({},ps),we.getDataAttributes(this._element)),po(k)==="object"&&k?k:{})).target=v(k.target)||document.documentElement,C(fs,k,jl),k}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var k=this._getScrollTop()+this._config.offset,j=this._getScrollHeight(),W=this._config.offset+j-this._getOffsetHeight();if(this._scrollHeight!==j&&this.refresh(),W<=k)return j=this._targets[this._targets.length-1],void(this._activeTarget!==j&&this._activate(j));if(this._activeTarget&&k<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var te=this._offsets.length;te--;)this._activeTarget!==this._targets[te]&&k>=this._offsets[te]&&(this._offsets[te+1]===void 0||k<this._offsets[te+1])&&this._activate(this._targets[te])}},{key:"_activate",value:function(k){this._activeTarget=k,this._clear();var j=go.split(",").map(function(W){return"".concat(W,'[data-bs-target="').concat(k,'"],').concat(W,'[href="').concat(k,'"]')}),j=Ie.findOne(j.join(","),this._config.target);j.classList.add(vr),j.classList.contains(ds)?Ie.findOne(".dropdown-toggle",j.closest(".dropdown")).classList.add(vr):Ie.parents(j,".nav, .list-group").forEach(function(W){Ie.prev(W,"".concat(ho,", ").concat(ms)).forEach(function(te){return te.classList.add(vr)}),Ie.prev(W,".nav-item").forEach(function(te){Ie.children(te,ho).forEach(function(se){return se.classList.add(vr)})})}),fe.trigger(this._scrollElement,Dl,{relatedTarget:k})}},{key:"_clear",value:function(){Ie.find(go,this._config.target).filter(function(k){return k.classList.contains(vr)}).forEach(function(k){return k.classList.remove(vr)})}}])&&us(A.prototype,N),P&&us(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),wt=(fe.on(window,wt,function(){Ie.find('[data-bs-spy="scroll"]').forEach(function(A){return new yo(A)})}),I(yo),yo);function gs(A){return(gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ys(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function bs(A,P){return(bs=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function Wl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=bo(A),O=(N=P?(N=bo(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(gs(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function bo(A){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Un=".".concat("bs.tab"),Vl="hide".concat(Un),Ul="hidden".concat(Un),Jl="show".concat(Un),Gl="shown".concat(Un),Un="click".concat(Un).concat(".data-api"),Yr="active",vs=".active",_s=":scope > li > .active",vo=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&bs(A,P);var N,O=Wl(E);function E(){var k=this,j=E;if(k instanceof j)return O.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(N=[{key:"show",value:function(){var k,j,W,te,se=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Yr)||(k=b(this._element),(j=this._element.closest(".nav, .list-group"))&&(te=j.nodeName==="UL"||j.nodeName==="OL"?_s:vs,W=(W=Ie.find(te,j))[W.length-1]),te=W?fe.trigger(W,Vl,{relatedTarget:this._element}):null,fe.trigger(this._element,Jl,{relatedTarget:W}).defaultPrevented||te!==null&&te.defaultPrevented||(this._activate(this._element,j),te=function(){fe.trigger(W,Ul,{relatedTarget:se._element}),fe.trigger(se._element,Gl,{relatedTarget:W})},k?this._activate(k,k.parentNode,te):te()))}},{key:"_activate",value:function(k,ge,W){function te(){return se._transitionComplete(k,oe,W)}var se=this,oe=(!ge||ge.nodeName!=="UL"&&ge.nodeName!=="OL"?Ie.children(ge,vs):Ie.find(_s,ge))[0],ge=W&&oe&&oe.classList.contains("fade");oe&&ge?(oe.classList.remove("show"),this._queueCallback(te,k,!0)):te()}},{key:"_transitionComplete",value:function(k,j,W){j&&(j.classList.remove(Yr),(te=Ie.findOne(":scope > .dropdown-menu .active",j.parentNode))&&te.classList.remove(Yr),j.getAttribute("role")==="tab"&&j.setAttribute("aria-selected",!1)),k.classList.add(Yr),k.getAttribute("role")==="tab"&&k.setAttribute("aria-selected",!0),T(k),k.classList.contains("fade")&&k.classList.add("show");var te=k.parentNode;(te=te&&te.nodeName==="LI"?te.parentNode:te)&&te.classList.contains("dropdown-menu")&&((j=k.closest(".dropdown"))&&Ie.find(".dropdown-toggle",j).forEach(function(se){return se.classList.add(Yr)}),k.setAttribute("aria-expanded",!0)),W&&W()}}])&&ys(A.prototype,N),P&&ys(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Un=(fe.on(document,Un,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),_(this)||vo.getOrCreateInstance(this).show()}),I(vo),vo);function _o(A){return(_o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function $s(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function $o(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?$s(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):$s(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Ms(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function ws(){return(ws=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var O=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Zr(E))!==null;);return E}(A,P);if(O)return O=Object.getOwnPropertyDescriptor(O,P),O.get?O.get.call(arguments.length<3?A:N):O.value}).apply(this,arguments)}function Cs(A,P){return(Cs=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(A,P)}function ql(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,O=Zr(A),O=(N=P?(N=Zr(this).constructor,Reflect.construct(O,arguments,N)):O.apply(this,arguments),this);if(N&&(_o(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Zr(A){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function Is(A){for(;A+=Math.floor(Math.random()*ic),document.getElementById(A););return A}function wi(A,P,N){Object.keys(N).forEach(function(O){var E,k=N[O],j=P[O],j=j&&((E=j)[0]||E).nodeType?"element":(E=j)==null?"".concat(E):{}.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(k).test(j))throw new Error("".concat(A.toUpperCase(),": ")+'Option "'.concat(O,'" provided type "').concat(j,'" ')+'but expected type "'.concat(k,'".'))})}function Es(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-mdb-no-jquery")?A:null}function Hl(A){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A()}function _r(A){return document.createElement(A)}var Ci,Mo,An=".".concat("bs.toast"),Yl="mouseover".concat(An),Zl="mouseout".concat(An),Xl="focusin".concat(An),Kl="focusout".concat(An),Ql="hide".concat(An),ec="hidden".concat(An),tc="show".concat(An),nc="shown".concat(An),Xr="show",Ii="showing",rc={animation:"boolean",autohide:"boolean",delay:"number"},Ss={animation:!0,autohide:!0,delay:5e3},An=function(){var A=E,P=et;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Cs(A,P);var N,O=ql(E);function E(k,j){if(this instanceof E)return(k=O.call(this,k))._config=k._getConfig(j),k._timeout=null,k._hasMouseInteraction=!1,k._hasKeyboardInteraction=!1,k._setListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"DefaultType",get:function(){return rc}},{key:"Default",get:function(){return Ss}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(N=[{key:"show",value:function(){var k=this;fe.trigger(this._element,tc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),T(this._element),this._element.classList.add(Xr),this._element.classList.add(Ii),this._queueCallback(function(){k._element.classList.remove(Ii),fe.trigger(k._element,nc),k._maybeScheduleHide()},this._element,this._config.animation))}},{key:"hide",value:function(){var k=this;this._element.classList.contains(Xr)&&!fe.trigger(this._element,Ql).defaultPrevented&&(this._element.classList.add(Ii),this._queueCallback(function(){k._element.classList.add("hide"),k._element.classList.remove(Ii),k._element.classList.remove(Xr),fe.trigger(k._element,ec)},this._element,this._config.animation))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Xr)&&this._element.classList.remove(Xr),ws(Zr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return k=$o($o($o({},Ss),we.getDataAttributes(this._element)),_o(k)==="object"&&k?k:{}),C("toast",k,this.constructor.DefaultType),k}},{key:"_maybeScheduleHide",value:function(){var k=this;!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(function(){k.hide()},this._config.delay))}},{key:"_onInteraction",value:function(k,j){switch(k.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}j?this._clearTimeout():(k=k.relatedTarget,this._element===k||this._element.contains(k)||this._maybeScheduleHide())}},{key:"_setListeners",value:function(){var k=this;fe.on(this._element,Yl,function(j){return k._onInteraction(j,!0)}),fe.on(this._element,Zl,function(j){return k._onInteraction(j,!1)}),fe.on(this._element,Xl,function(j){return k._onInteraction(j,!0)}),fe.on(this._element,Kl,function(j){return k._onInteraction(j,!1)})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}])&&Ms(A.prototype,N),P&&Ms(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),ic=(di(An),I(An),1e6),wo=(document.documentElement.dir,Ci={},Mo=1,{set:function(A,P,N){A[P]===void 0&&(A[P]={key:P,id:Mo},Mo++),Ci[A[P].id]=N},get:function(A,P){return!A||A[P]===void 0?null:(A=A[P],A.key===P?Ci[A.id]:null)},delete:function(A,P){var N;A[P]!==void 0&&(N=A[P]).key===P&&(delete Ci[N.id],delete A[P])}}),Cn={setData:function(A,P,N){wo.set(A,P,N)},getData:function(A,P){return wo.get(A,P)},removeData:function(A,P){wo.delete(A,P)}};function Ts(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,O){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var k,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(k=E.next()).done)&&(W.push(k.value),!O||W.length!==O);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,O){if(N){if(typeof N=="string")return ks(N,O);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?ks(N,O):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ks(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}var Co=Es(),oc=/[^.]*(?=\..*)\.|.*/,Ps=/\..*/,ac=/::\d+$/,Io={},As=1,sc={mouseenter:"mouseover",mouseleave:"mouseout"},xs=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Bs(A,P){return P&&"".concat(P,"::").concat(As++)||A.uidEvent||As++}function Os(A){var P=Bs(A);return A.uidEvent=P,Io[P]=Io[P]||{},Io[P]}function Fs(A,P,N){for(var O=2<arguments.length&&N!==void 0?N:null,E=Object.keys(A),k=0,j=E.length;k<j;k++){var W=A[E[k]];if(W.originalHandler===P&&W.delegationSelector===O)return W}return null}function Ns(A,k,E){var O=typeof k=="string",E=O?E:k,k=A.replace(Ps,""),j=sc[k];return[O,E,k=-1<xs.indexOf(k=j||k)?k:A]}function Rs(A,P,N,O,E){var k,j,W,te,se,oe,ge,de,Ee,Pe;typeof P=="string"&&A&&(N||(N=O,O=null),k=(W=Ts(Ns(P,N,O),3))[0],j=W[1],W=W[2],(se=Fs(te=(te=Os(A))[W]||(te[W]={}),j,k?N:null))?se.oneOff=se.oneOff&&E:(se=Bs(j,P.replace(oc,"")),(P=k?(de=A,Ee=N,Pe=O,function ke(Fe){for(var Me=de.querySelectorAll(Ee),Be=Fe.target;Be&&Be!==this;Be=Be.parentNode)for(var Ue=Me.length;Ue--;)if(Me[Ue]===Be)return Fe.delegateTarget=Be,ke.oneOff&&Kr.off(de,Fe.type,Pe),Pe.apply(Be,[Fe]);return null}):(oe=A,ge=N,function ke(Fe){return Fe.delegateTarget=oe,ke.oneOff&&Kr.off(oe,Fe.type,ge),ge.apply(oe,[Fe])})).delegationSelector=k?N:null,P.originalHandler=j,P.oneOff=E,te[P.uidEvent=se]=P,A.addEventListener(W,P,k)))}function Eo(A,P,N,O,E){O=Fs(P[N],O,E),O&&(A.removeEventListener(N,O,Boolean(E)),delete P[N][O.uidEvent])}var Kr={on:function(A,P,N,O){Rs(A,P,N,O,!1)},one:function(A,P,N,O){Rs(A,P,N,O,!0)},off:function(A,P,N,O){if(typeof P=="string"&&A){var O=Ts(Ns(P,N,O),3),E=O[0],k=O[1],j=O[2],W=j!==P,te=Os(A),O=P.charAt(0)===".";if(k!==void 0)return te&&te[j]?void Eo(A,te,j,k,E?N:null):void 0;O&&Object.keys(te).forEach(function(ge){var de,Ee,Pe,ke,Fe;de=A,Ee=te,Pe=ge,ke=P.slice(1),Fe=Ee[Pe]||{},Object.keys(Fe).forEach(function(Me){-1<Me.indexOf(ke)&&(Me=Fe[Me],Eo(de,Ee,Pe,Me.originalHandler,Me.delegationSelector))})});var se=te[j]||{};Object.keys(se).forEach(function(ge){var de=ge.replace(ac,"");(!W||-1<P.indexOf(de))&&(de=se[ge],Eo(A,te,j,de.originalHandler,de.delegationSelector))})}},trigger:function(A,P,N){if(typeof P!="string"||!A)return null;var O,E=P.replace(Ps,""),k=P!==E,j=-1<xs.indexOf(E),W=!0,te=!0,se=!1,oe=null;return k&&Co&&(O=Co.Event(P,N),Co(A).trigger(O),W=!O.isPropagationStopped(),te=!O.isImmediatePropagationStopped(),se=O.isDefaultPrevented()),j?(oe=document.createEvent("HTMLEvents")).initEvent(E,W,!0):oe=new CustomEvent(P,{bubbles:W,cancelable:!0}),N!==void 0&&Object.keys(N).forEach(function(ge){Object.defineProperty(oe,ge,{get:function(){return N[ge]}})}),se&&oe.preventDefault(),te&&A.dispatchEvent(oe),oe.defaultPrevented&&O!==void 0&&O.preventDefault(),oe}},Qr=function(A,P,N,O){for(var E=P.split(" "),k=0;k<E.length;k++)Kr.on(A,E[k],N,O)},uc=function(A,P,N,O){for(var E=P.split(" "),k=0;k<E.length;k++)Kr.off(A,E[k],N,O)},ut=Kr;ze(185);function Ls(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function lc(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ls(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ls(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function js(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function So(A){return A.replace(/[A-Z]/g,function(P){return"-".concat(P.toLowerCase())})}var $e={setDataAttribute:function(A,P,N){A.setAttribute("data-mdb-".concat(So(P)),N)},removeDataAttribute:function(A,P){A.removeAttribute("data-mdb-".concat(So(P)))},getDataAttributes:function(A){if(!A)return{};var P=lc({},A.dataset);return Object.keys(P).filter(function(N){return N.startsWith("mdb")}).forEach(function(N){var O=(O=N.replace(/^mdb/,"")).charAt(0).toLowerCase()+O.slice(1,O.length);P[O]=js(P[N])}),P},getDataAttribute:function(A,P){return js(A.getAttribute("data-mdb-".concat(So(P))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+document.body.scrollTop,left:A.left+document.body.scrollLeft}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}},style:function(A,P){Object.assign(A.style,P)},toggleClass:function(A,P){A&&(A.classList.contains(P)?A.classList.remove(P):A.classList.add(P))},addClass:function(A,P){A.classList.contains(P)||A.classList.add(P)},addStyle:function(A,P){Object.keys(P).forEach(function(N){A.style[N]=P[N]})},removeClass:function(A,P){A.classList.contains(P)&&A.classList.remove(P)},hasClass:function(A,P){return A.classList.contains(P)}};function Ds(A){return function(P){if(Array.isArray(P))return To(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return To(P,N);var O=Object.prototype.toString.call(P).slice(8,-1);return(O=O==="Object"&&P.constructor?P.constructor.name:O)==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?To(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function To(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}var Oe={closest:function(A,P){return A.closest(P)},matches:function(A,P){return A.matches(P)},find:function(A){var P,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(P=[]).concat.apply(P,Ds(Element.prototype.querySelectorAll.call(N,A)))},findOne:function(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(P,A)},children:function(A,P){var N;return(N=[]).concat.apply(N,Ds(A.children)).filter(function(O){return O.matches(P)})},parents:function(A,P){for(var N=[],O=A.parentNode;O&&O.nodeType===Node.ELEMENT_NODE&&O.nodeType!==3;)this.matches(O,P)&&N.push(O),O=O.parentNode;return N},prev:function(A,P){for(var N=A.previousElementSibling;N;){if(N.matches(P))return[N];N=N.previousElementSibling}return[]},next:function(A,P){for(var N=A.nextElementSibling;N;){if(this.matches(N,P))return[N];N=N.nextElementSibling}return[]}};function zs(A){return(zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ws(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function ko(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ws(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ws(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Vs(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var rr="ripple",Ei="mdb.ripple",ir="ripple-surface",Us="ripple-wave",Js=["[data-mdb-ripple]"],Gs="ripple-surface-unbound",Si=[0,0,0],cc=["primary","secondary","success","danger","warning","info","light","dark"],fc={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},pc={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},$r=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(k),this._element&&(Cn.setData(E,Ei,this),$e.addClass(this._element,ir)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}var P,N,O;return P=A,O=[{key:"NAME",get:function(){return rr}},{key:"autoInitial",value:function(E){return function(k){E._autoInit(k)}}},{key:"jQueryInterface",value:function(E){return this.each(function(){return Cn.getData(this,Ei)?null:new A(this,E)})}},{key:"getInstance",value:function(E){return Cn.getData(E,Ei)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,zs(k)==="object"?k:null)}}],(N=[{key:"init",value:function(){this._addClickEvent(this._element)}},{key:"dispose",value:function(){Cn.removeData(this._element,Ei),ut.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}},{key:"_autoInit",value:function(E){var k=this;Js.forEach(function(j){Oe.closest(E.target,j)&&(k._element=Oe.closest(E.target,j))}),this._element.style.minWidth||($e.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),$e.addClass(this._element,ir),this._options=this._getConfig(),this._createRipple(E)}},{key:"_addClickEvent",value:function(E){ut.on(E,"mousedown",this._clickHandler)}},{key:"_createRipple",value:function(k){$e.hasClass(this._element,ir)||$e.addClass(this._element,ir);var de=k.layerX,k=k.layerY,j=this._element.offsetHeight,ge=this._element.offsetWidth,W=this._durationToMsNumber(this._options.rippleDuration),te={offsetX:this._options.rippleCentered?j/2:de,offsetY:this._options.rippleCentered?ge/2:k,height:j,width:ge},te=this._getDiameter(te),se=this._options.rippleRadius||te/2,oe={delay:.5*W,duration:W-.5*W},ge={left:this._options.rippleCentered?"".concat(ge/2-se,"px"):"".concat(de-se,"px"),top:this._options.rippleCentered?"".concat(j/2-se,"px"):"".concat(k-se,"px"),height:"".concat(2*this._options.rippleRadius||te,"px"),width:"".concat(2*this._options.rippleRadius||te,"px"),transitionDelay:"0s, ".concat(oe.delay,"ms"),transitionDuration:"".concat(W,"ms, ").concat(oe.duration,"ms")},de=_r("div");this._createHTMLRipple({wrapper:this._element,ripple:de,styles:ge}),this._removeHTMLRipple({ripple:de,duration:W})}},{key:"_createHTMLRipple",value:function(E){var k=E.wrapper,j=E.ripple,W=E.styles;Object.keys(W).forEach(function(te){return j.style[te]=W[te]}),j.classList.add(Us),this._options.rippleColor!==""&&(this._removeOldColorClasses(k),this._addColor(j,k)),this._toggleUnbound(k),this._appendRipple(j,k)}},{key:"_removeHTMLRipple",value:function(W){var k=this,j=W.ripple,W=W.duration;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(function(){j&&(j.remove(),k._element&&(Oe.find(".".concat(Us),k._element).forEach(function(te){te.remove()}),k._isMinWidthSet&&($e.style(k._element,{"min-width":""}),k._isMinWidthSet=!1),$e.removeClass(k._element,ir)))},W)}},{key:"_durationToMsNumber",value:function(E){return Number(E.replace("ms","").replace("s","000"))}},{key:"_getConfig",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=$e.getDataAttributes(this._element),k=ko(ko(ko({},fc),E),k);return wi(rr,k,pc),k}},{key:"_getDiameter",value:function(ke){function k(Fe,Me){return Math.sqrt(Math.pow(Fe,2)+Math.pow(Me,2))}var j=ke.offsetX,W=ke.offsetY,te=ke.height,ke=ke.width,Ee=W<=te/2,Pe=j<=ke/2,se=W===te/2&&j===ke/2,oe=Ee==!0&&Pe==!1,ge=Ee==!0&&Pe==!0,de=Ee==!1&&Pe==!0,Ee=Ee==!1&&Pe==!1,Pe={topLeft:k(j,W),topRight:k(ke-j,W),bottomLeft:k(j,te-W),bottomRight:k(ke-j,te-W)},ke=0;return se||Ee?ke=Pe.topLeft:de?ke=Pe.topRight:ge?ke=Pe.bottomRight:oe&&(ke=Pe.bottomLeft),2*ke}},{key:"_appendRipple",value:function(E,k){k.appendChild(E),setTimeout(function(){$e.addClass(E,"active")},50)}},{key:"_toggleUnbound",value:function(E){this._options.rippleUnbound===!0?$e.addClass(E,Gs):E.classList.remove(Gs)}},{key:"_addColor",value:function(E,k){var j=this;cc.find(function(W){return W===j._options.rippleColor.toLowerCase()})?$e.addClass(k,"".concat(ir,"-").concat(this._options.rippleColor.toLowerCase())):(k=this._colorToRGB(this._options.rippleColor).join(","),k="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(k)),E.style.backgroundImage="radial-gradient(circle, ".concat(k,")"))}},{key:"_removeOldColorClasses",value:function(E){var k=new RegExp("".concat(ir,"-[a-z]+"),"gi");(E.classList.value.match(k)||[]).forEach(function(j){E.classList.remove(j)})}},{key:"_colorToRGB",value:function(E){return E.toLowerCase()==="transparent"?Si:E[0]==="#"?((k=E).length<7&&(k="#".concat(k[1]).concat(k[1]).concat(k[2]).concat(k[2]).concat(k[3]).concat(k[3])),[parseInt(k.substr(1,2),16),parseInt(k.substr(3,2),16),parseInt(k.substr(5,2),16)]):(E.indexOf("rgb")===-1&&(k=E,j=document.body.appendChild(document.createElement("fictum")),W="rgb(1, 2, 3)",j.style.color=W,E=j.style.color!==W?Si:(j.style.color=k,j.style.color===W||j.style.color===""?Si:(k=getComputedStyle(j).color,document.body.removeChild(j),k))),E.indexOf("rgb")===0?((W=(W=E).match(/[.\d]+/g).map(function(te){return+Number(te)})).length=3,W):Si);var k,j,W}}])&&Vs(P.prototype,N),O&&Vs(P,O),Object.defineProperty(P,"prototype",{writable:!1}),A}(),dc=(Js.forEach(function(A){ut.one(document,"mousedown",A,$r.autoInitial(new $r))}),Hl(function(){var A,P=Es();P&&(A=P.fn[rr],P.fn[rr]=$r.jQueryInterface,P.fn[rr].Constructor=$r,P.fn[rr].noConflict=function(){return P.fn[rr]=A,$r.jQueryInterface})}),$r);ze(187);function mc(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var qs=function(){function A(O){var E=this,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},j=2<arguments.length?arguments[2]:void 0,W=this,te=A;if(!(W instanceof te))throw new TypeError("Cannot call a class as a function");this._element=O,this._toggler=j,this._event=k.event||"blur",this._condition=k.condition||function(){return!0},this._selector=k.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=k.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=function(se){E._condition(se)&&se.target===E._lastElement&&(se.preventDefault(),E._firstElement.focus())}}var P,N;return P=A,(N=[{key:"trap",value:function(){this._setElements(),this._init(),this._setFocusTrap()}},{key:"disable",value:function(){var O=this;this._focusableElements.forEach(function(E){E.removeEventListener(O._event,O.handler)}),this._toggler&&this._toggler.focus()}},{key:"update",value:function(){this._setElements(),this._setFocusTrap()}},{key:"_init",value:function(){var O=this;window.addEventListener("keydown",function E(k){O._firstElement&&k.key==="Tab"&&!O._focusableElements.includes(k.target)&&(k.preventDefault(),O._firstElement.focus(),window.removeEventListener("keydown",E))})}},{key:"_filterVisible",value:function(O){return O.filter(function(E){if(!(k=E)||!(k.style&&k.parentNode&&k.parentNode.style)||(j=getComputedStyle(k),k=getComputedStyle(k.parentNode),j.display==="none"||k.display==="none"||j.visibility==="hidden"))return!1;for(var k,j,W=Oe.parents(E,"*"),te=0;te<W.length;te++){var se=window.getComputedStyle(W[te]);if(se&&(se.display==="none"||se.visibility==="hidden"))return!1}return!0})}},{key:"_setElements",value:function(){this._focusableElements=Oe.find(this._selector,this._element),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}},{key:"_setFocusTrap",value:function(){var O=this;this._focusableElements.forEach(function(E,k){k===O._focusableElements.length-1?E.addEventListener(O._event,O.handler):E.removeEventListener(O._event,O.handler)})}}])&&mc(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();ze(188);function In(A){return A.getDate()}function Ti(A){return A.getDay()}function gn(A){return A.getMonth()}function tn(A){return A.getFullYear()}function Po(A){return zn((A=A).getFullYear(),A.getMonth()+1,0).getDate()}function ei(){return new Date}function yn(A,P){return bn(A,12*P)}function bn(A,P){return P=zn(A.getFullYear(),A.getMonth()+P,A.getDate()),In(A)!==In(P)&&P.setDate(0),P}function Mr(A,P){return zn(A.getFullYear(),A.getMonth(),A.getDate()+P)}function zn(A,P,N){return P=new Date(A,P,N),0<=A&&A<100&&P.setFullYear(P.getFullYear()-1900),P}function Hs(A){return A=A.split("-"),zn(A[0],A[1],A[2])}function or(A,P){return A.setHours(0,0,0,0),P.setHours(0,0,0,0),A.getTime()===P.getTime()}function ki(A,P){return((tn(A)-function(N,O,E){var k=0;return E?(E=tn(E),k=E-N+1):O&&(k=tn(O)),k}())%P+P)%P}function Ao(A,P,N,O,E){return N==="days"?tn(A)===tn(P)&&gn(A)===gn(P):N==="months"?tn(A)===tn(P):N==="years"&&tn(P)>=E&&tn(P)<=O}function hc(A,P,N,O,E,k,Fe,W,te){var se,oe,ge=gn(A),de=tn(A),Ee=In(A),Pe=Ti(A),ke=_r("div"),Fe=`
      `.concat((Ee=Ee,Pe=Pe,se=ge,`
      <div class="datepicker-header">
        <div class="datepicker-title">
          <span class="datepicker-title-text">`.concat((oe=E).title,`</span>
        </div>
        <div class="datepicker-date">
          <span class="datepicker-date-text">`).concat(oe.weekdaysShort[Pe],", ").concat(oe.monthsShort[se]," ").concat(Ee,`</span>
        </div>
      </div>
    `)),`
      `).concat((Pe=A,oe=P,se=N,Ee=O,A=k,P=Fe,N=W,`
    <div class="datepicker-main">
      `.concat(function(Me,Be,Ue){return`
    <div class="datepicker-date-controls">
      <button class="datepicker-view-change-button" aria-label="`.concat(Ue.switchToMultiYearViewLabel,`">
        `).concat(Ue.monthsFull[Me]," ").concat(Be,`
      </button>
      <div class="datepicker-arrow-controls">
        <button class="datepicker-previous-button" aria-label="`).concat(Ue.prevMonthLabel,`"></button>
        <button class="datepicker-next-button" aria-label="`).concat(Ue.nextMonthLabel,`"></button>
      </div>
    </div>
    `)}(ge,O=de,k=E),`
      <div class="datepicker-view" tabindex="0">
        `).concat(function(Me,Be,Ue,Qe,st,vt,ot,ct,jt){return Ue=vt.view==="days"?Pi(Me,Ue,vt):vt.view==="months"?Ai(Be,Qe,st,vt,ot):xi(Me,Qe,0,ct,jt),Ue}(Pe,O,oe,se,Ee,k,A,P,N),`
      </div>
      `).concat(function(Me){return`
        <div class="datepicker-footer">
          <button class="datepicker-footer-btn datepicker-clear-btn" aria-label="`.concat(Me.clearBtnLabel,'">').concat(Me.clearBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-cancel-btn" aria-label="`).concat(Me.cancelBtnLabel,'">').concat(Me.cancelBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-ok-btn" aria-label="`).concat(Me.okBtnLabel,'">').concat(Me.okBtnText,`</button>
        </div>
      `)}(k),`
    </div>
  `)),`
    `);return $e.addClass(ke,"datepicker-modal-container"),$e.addClass(ke,"datepicker-modal-container-".concat(te)),ke.innerHTML=Fe,ke}function Pi(A,P,N){return A=function(O,E,k){for(var j=[],W=gn(O),te=gn(bn(O,-1)),se=gn(bn(O,1)),oe=tn(O),ge=function(jt,un,Kt){return Kt=0<(Kt=Kt.startDay)?7-Kt:0,7<=(jt=new Date(jt,un).getDay()+Kt)?jt-7:jt}(oe,W,k),de=Po(O),Ee=Po(bn(O,-1)),Pe=1,ke=!1,Fe=1;Fe<7;Fe++){var Me=[];if(Fe===1){for(var Be=Ee-ge+1;Be<=Ee;Be++){var Ue=zn(oe,te,Be);Me.push({date:Ue,currentMonth:ke,isSelected:E&&or(Ue,E),isToday:or(Ue,ei()),dayNumber:In(Ue)})}ke=!0;for(var Qe=7-Me.length,st=0;st<Qe;st++){var vt=zn(oe,W,Pe);Me.push({date:vt,currentMonth:ke,isSelected:E&&or(vt,E),isToday:or(vt,ei()),dayNumber:In(vt)}),Pe++}}else for(var ot=1;ot<8;ot++){de<Pe&&(ke=!(Pe=1));var ct=zn(oe,ke?W:se,Pe);Me.push({date:ct,currentMonth:ke,isSelected:E&&or(ct,E),isToday:or(ct,ei()),dayNumber:In(ct)}),Pe++}j.push(Me)}return j}(A,P,N),P=N.weekdaysNarrow,P=`
      <tr>
        `.concat(P.map(function(O,E){return'<th class="datepicker-day-heading" scope="col" aria-label="'.concat(N.weekdaysFull[E],'">').concat(O,"</th>")}).join(""),`
      </tr>
    `),A=A.map(function(O){return`
        <tr>
          `.concat(O.map(function(E){return`
              <td
              class="datepicker-cell datepicker-small-cell datepicker-day-cell
              `.concat(E.currentMonth?"":"disabled"," ").concat(E.disabled?"disabled":"",`
              `).concat(E.isToday&&"current"," ").concat(E.isSelected&&"selected",`"
              data-mdb-date="`).concat(tn(E.date),"-").concat(gn(E.date),"-").concat(In(E.date),`"
              aria-label="`).concat(E.date,`"
              aria-selected="`).concat(E.isSelected,`">
                <div
                  class="datepicker-cell-content datepicker-small-cell-content"
                  style="`).concat(E.currentMonth?"display: block":"display: none",`">
                  `).concat(E.dayNumber,`
                  </div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
      <table class="datepicker-table">
        <thead>
          `.concat(P,`
        </thead>
        <tbody class="datepicker-table-body">
         `).concat(A,`
        </tbody>
      </table>
    `)}function Ai(A,P,N,O,j){var j=function(W,te){for(var se=[],oe=[],ge=0;ge<W.monthsShort.length;ge++){var de;oe.push(W.monthsShort[ge]),oe.length===te&&(de=oe,se.push(de),oe=[])}return se}(O,j),k=gn(ei()),j=`
      `.concat(j.map(function(W){return`
          <tr>
            `.concat(W.map(function(te){var se=O.monthsShort.indexOf(te);return`
                <td class="datepicker-cell datepicker-large-cell datepicker-month-cell `.concat(se===N&&A===P?"selected":""," ").concat(se===k?"current":"",'" data-mdb-month="').concat(se,'" data-mdb-year="').concat(A,'" aria-label="').concat(te,", ").concat(A,`">
                  <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(te,`</div>
                </td>
              `)}).join(""),`
          </tr>
        `)}).join(""),`
    `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
         `.concat(j,`
        </tbody>
      </table>
    `)}function xi(k,P,N,W,E){var k=function(te,se,oe){for(var ge=[],de=tn(te),te=ki(te,se),Ee=de-te,Pe=[],ke=0;ke<se;ke++){var Fe;Pe.push(Ee+ke),Pe.length===oe&&(Fe=Pe,ge.push(Fe),Pe=[])}return ge}(k,W,E),j=tn(ei()),W=`
    `.concat(k.map(function(te){return`
        <tr>
          `.concat(te.map(function(se){return`
              <td class="datepicker-cell datepicker-large-cell datepicker-year-cell `.concat(se===P?"selected":""," ").concat(se===j?"current":"",'" aria-label="').concat(se,'" data-mdb-year="').concat(se,`">
                <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(se,`</div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
  `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
        `.concat(W,`
        </tbody>
      </table>
    `)}function Ys(A){return(Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Zs(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function xo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Zs(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Zs(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Xs(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}var Ks="datepicker",Bi="mdb.datepicker",wr=".".concat(Bi),gc="close".concat(wr),yc="open".concat(wr),bc="dateChange".concat(wr),Oi="click".concat(wr).concat(".data-api"),vc={title:"Select date",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",okBtnLabel:"Confirm selection",clearBtnLabel:"Clear selection",cancelBtnLabel:"Cancel selection",nextMonthLabel:"Next month",prevMonthLabel:"Previous month",nextYearLabel:"Next year",prevYearLabel:"Previous year",nextMultiYearLabel:"Next 24 years",prevMultiYearLabel:"Previous 24 years",switchToMultiYearViewLabel:"Choose year and month",switchToMonthViewLabel:"Choose date",switchToDayViewLabel:"Choose date",startDate:null,startDay:0,format:"dd/mm/yyyy",view:"days",toggleButton:!0,disableToggleButton:!1,disableInput:!1},_c={title:"string",monthsFull:"array",monthsShort:"array",weekdaysFull:"array",weekdaysShort:"array",weekdaysNarrow:"array",okBtnText:"string",clearBtnText:"string",cancelBtnText:"string",okBtnLabel:"string",clearBtnLabel:"string",cancelBtnLabel:"string",nextMonthLabel:"string",prevMonthLabel:"string",nextYearLabel:"string",prevYearLabel:"string",nextMultiYearLabel:"string",prevMultiYearLabel:"string",switchToMultiYearViewLabel:"string",switchToMonthViewLabel:"string",switchToDayViewLabel:"string",startDate:"(null|string|date)",startDay:"number",format:"string",view:"string",toggleButton:"boolean",disableToggleButton:"boolean",disableInput:"boolean"},Bo=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._input=Oe.findOne("input",this._element),this._options=this._getConfig(k),this._activeDate=new Date,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=this._options.view,this._popper=null,this._focusTrap=null,this._isOpen=!1,this._toggleButtonId=Is("datepicker-toggle-"),this._element&&Cn.setData(E,Bi,this),this._init(),this.toggleButton&&this._options.disableToggle&&(this.toggleButton.disabled="true"),this._options.disableInput&&(this._input.disabled="true")}var P,N,O;return P=A,O=[{key:"NAME",get:function(){return Ks}},{key:"getInstance",value:function(E){return Cn.getData(E,Bi)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,Ys(k)==="object"?k:null)}}],(N=[{key:"container",get:function(){return Oe.findOne(".datepicker-modal-container".concat("-",this._toggleButtonId))||Oe.findOne(".datepicker-dropdown-container".concat("-",this._toggleButtonId))}},{key:"options",get:function(){return this._options}},{key:"activeCell",get:function(){var E;return this._view==="days"&&(E=this._getActiveDayCell()),this._view==="months"&&(E=this._getActiveMonthCell()),E=this._view==="years"?this._getActiveYearCell():E}},{key:"activeDay",get:function(){return In(this._activeDate)}},{key:"activeMonth",get:function(){return gn(this._activeDate)}},{key:"activeYear",get:function(){return tn(this._activeDate)}},{key:"firstYearInView",get:function(){return this.activeYear-ki(this._activeDate,24)}},{key:"lastYearInView",get:function(){return this.firstYearInView+24-1}},{key:"viewChangeButton",get:function(){return Oe.findOne(".datepicker-view-change-button",this.container)}},{key:"previousButton",get:function(){return Oe.findOne(".datepicker-previous-button",this.container)}},{key:"nextButton",get:function(){return Oe.findOne(".datepicker-next-button",this.container)}},{key:"okButton",get:function(){return Oe.findOne(".datepicker-ok-btn",this.container)}},{key:"cancelButton",get:function(){return Oe.findOne(".datepicker-cancel-btn",this.container)}},{key:"clearButton",get:function(){return Oe.findOne(".datepicker-clear-btn",this.container)}},{key:"datesContainer",get:function(){return Oe.findOne(".datepicker-view",this.container)}},{key:"toggleButton",get:function(){return Oe.findOne(".datepicker-toggle-button",this._element)}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=xo(xo(xo({},vc),k),E),wi(Ks,E,_c),E.startDay&&E.startDay!==0&&(k=this._getNewDaysOrderArray(E),E.weekdaysNarrow=k),E}},{key:"_getNewDaysOrderArray",value:function(j){var k=j.startDay,j=j.weekdaysNarrow;return j.slice(k).concat(j.slice(0,k))}},{key:"_init",value:function(){!this.toggleButton&&this._options.toggleButton&&(this._appendToggleButton(),(this._input.readOnly||this._input.disabled)&&(this.toggleButton.style.pointerEvents="none")),this._listenToUserInput(),this._listenToToggleClick(),this._listenToToggleKeydown()}},{key:"_appendToggleButton",value:function(){var E=`
    <button id="`.concat(this._toggleButtonId,`" type="button" class="datepicker-toggle-button" data-mdb-toggle="datepicker">
      <i class="far fa-calendar datepicker-toggle-icon"></i>
    </button>
  `);this._element.insertAdjacentHTML("beforeend",E),$e.addClass(this._input,"form-icon-trailing")}},{key:"open",value:function(){var E,k,j=this;this._input.readOnly||this._input.disabled||(E=ut.trigger(this._element,yc),this._isOpen||E.defaultPrevented||(this._setInitialDate(),E=_r("div"),$e.addClass(E,"datepicker-backdrop"),E=E,k=hc(this._activeDate,this._selectedDate,this._selectedYear,this._selectedMonth,this._options,4,24,24,this._toggleButtonId),this._openModal(E,k),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-in"),this.container.style.animationDuration="300ms",$e.addClass(E,"animation"),$e.addClass(E,"fade-in"),E.style.animationDuration="150ms",this._setFocusTrap(this.container),this._listenToDateSelection(),this._addControlsListeners(),this._listenToEscapeClick(),this._listenToKeyboardNavigation(),this._listenToDatesContainerFocus(),this._listenToDatesContainerBlur(),this._asyncFocusDatesContainer(),this._updateViewControlsAndAttributes(this._view),this._isOpen=!0,setTimeout(function(){j._listenToOutsideClick()},0)))}},{key:"_openDropdown",value:function(E){this._popper=Y(this._input,E,{placement:"bottom-start"}),document.body.appendChild(E)}},{key:"_openModal",value:function(E,k){document.body.appendChild(E),document.body.appendChild(k),window.innerWidth>document.documentElement.clientWidth&&(document.body.style.overflow="hidden",document.body.style.paddingRight="15px")}},{key:"_setFocusTrap",value:function(E){this._focusTrap=new qs(E,{event:"keydown",condition:function(k){return k.key==="Tab"}}),this._focusTrap.trap()}},{key:"_listenToUserInput",value:function(){var E=this;ut.on(this._input,"input",function(k){E._handleUserInput(k.target.value)})}},{key:"_listenToToggleClick",value:function(){var E=this;ut.on(this._element,Oi,'[data-mdb-toggle="datepicker"]',function(k){k.preventDefault(),E.open()})}},{key:"_listenToToggleKeydown",value:function(){var E=this;ut.on(this._element,"keydown",'[data-mdb-toggle="datepicker"]',function(k){k.keyCode!==13||E._isOpen||E.open()})}},{key:"_listenToDateSelection",value:function(){var E=this;ut.on(this.datesContainer,"click",function(te){var j,W=(te.target.nodeName==="DIV"?te.target.parentNode:te.target).dataset,te=te.target.nodeName==="DIV"?te.target.parentNode:te.target;W.mdbDate&&E._pickDay(W.mdbDate,te),W.mdbMonth&&W.mdbYear&&(te=parseInt(W.mdbMonth,10),j=parseInt(W.mdbYear,10),E._pickMonth(te,j)),W.mdbYear&&!W.mdbMonth&&(te=parseInt(W.mdbYear,10),E._pickYear(te)),E._updateHeaderDate(E._activeDate,E._options.monthsShort,E._options.weekdaysShort)})}},{key:"_updateHeaderDate",value:function(oe,k,j){var W=Oe.findOne(".datepicker-date-text",this.container),te=gn(oe),se=In(oe),oe=Ti(oe);W.innerHTML="".concat(j[oe],", ").concat(k[te]," ").concat(se)}},{key:"_addControlsListeners",value:function(){var E=this;ut.on(this.nextButton,"click",function(){E._view==="days"?E.nextMonth():E._view==="years"?E.nextYears():E.nextYear()}),ut.on(this.previousButton,"click",function(){E._view==="days"?E.previousMonth():E._view==="years"?E.previousYears():E.previousYear()}),ut.on(this.viewChangeButton,"click",function(){E._view==="days"?E._changeView("years"):E._view!=="years"&&E._view!=="months"||E._changeView("days")}),this._listenToFooterButtonsClick()}},{key:"_listenToFooterButtonsClick",value:function(){var E=this;ut.on(this.okButton,"click",function(){return E.handleOk()}),ut.on(this.cancelButton,"click",function(){return E.handleCancel()}),ut.on(this.clearButton,"click",function(){return E.handleClear()})}},{key:"_listenToOutsideClick",value:function(){var E=this;ut.on(document,Oi,function(W){var j=W.target===E.container,W=E.container&&E.container.contains(W.target);j||W||E.close()})}},{key:"_listenToEscapeClick",value:function(){var E=this;ut.on(document,"keydown",function(k){k.keyCode===27&&E._isOpen&&E.close()})}},{key:"_listenToKeyboardNavigation",value:function(){var E=this;ut.on(this.datesContainer,"keydown",function(k){E._handleKeydown(k)})}},{key:"_listenToDatesContainerFocus",value:function(){var E=this;ut.on(this.datesContainer,"focus",function(){E._focusActiveCell(E.activeCell)})}},{key:"_listenToDatesContainerBlur",value:function(){var E=this;ut.on(this.datesContainer,"blur",function(){E._removeCurrentFocusStyles()})}},{key:"_handleKeydown",value:function(E){this._view==="days"&&this._handleDaysViewKeydown(E),this._view==="months"&&this._handleMonthsViewKeydown(E),this._view==="years"&&this._handleYearsViewKeydown(E)}},{key:"_handleDaysViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=Mr(this._activeDate,-1);break;case 39:this._activeDate=Mr(this._activeDate,1);break;case 38:this._activeDate=Mr(this._activeDate,-7);break;case 40:this._activeDate=Mr(this._activeDate,7);break;case 36:this._activeDate=Mr(this._activeDate,1-In(this._activeDate));break;case 35:this._activeDate=Mr(this._activeDate,Po(this._activeDate)-In(this._activeDate));break;case 33:this._activeDate=bn(this._activeDate,-1);break;case 34:this._activeDate=bn(this._activeDate,1);break;case 13:case 32:return this._selectDate(this._activeDate),void E.preventDefault();default:return}Ao(k,this._activeDate,this._view,24,0)||this._changeView("days"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_asyncFocusDatesContainer",value:function(){var E=this;setTimeout(function(){E.datesContainer.focus()},0)}},{key:"_focusActiveCell",value:function(E){E&&$e.addClass(E,"focused")}},{key:"_removeHighlightFromCell",value:function(E){E&&E.classList.remove("focused")}},{key:"_getActiveDayCell",value:function(){var E=this,k=Oe.find("td",this.datesContainer);return Array.from(k).find(function(j){return or(Hs(j.dataset.mdbDate),E._activeDate)})}},{key:"_handleMonthsViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=bn(this._activeDate,-1);break;case 39:this._activeDate=bn(this._activeDate,1);break;case 38:this._activeDate=bn(this._activeDate,-4);break;case 40:this._activeDate=bn(this._activeDate,4);break;case 36:this._activeDate=bn(this._activeDate,-this.activeMonth);break;case 35:this._activeDate=bn(this._activeDate,11-this.activeMonth);break;case 33:this._activeDate=yn(this._activeDate,-1);break;case 34:this._activeDate=yn(this._activeDate,1);break;case 13:case 32:return void this._selectMonth(this.activeMonth);default:return}Ao(k,this._activeDate,this._view,24,0)||this._changeView("months"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveMonthCell",value:function(){var E=this,k=Oe.find("td",this.datesContainer);return Array.from(k).find(function(te){var W=parseInt(te.dataset.mdbYear,10),te=parseInt(te.dataset.mdbMonth,10);return W===E.activeYear&&te===E.activeMonth})}},{key:"_handleYearsViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=yn(this._activeDate,-1);break;case 39:this._activeDate=yn(this._activeDate,1);break;case 38:this._activeDate=yn(this._activeDate,-4);break;case 40:this._activeDate=yn(this._activeDate,4);break;case 36:this._activeDate=yn(this._activeDate,-ki(this._activeDate,24));break;case 35:this._activeDate=yn(this._activeDate,24-ki(this._activeDate,24)-1);break;case 33:this._activeDate=yn(this._activeDate,-24);break;case 34:this._activeDate=yn(this._activeDate,24);break;case 13:case 32:return void this._selectYear(this.activeYear);default:return}Ao(k,this._activeDate,this._view,24,0)||this._changeView("years"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveYearCell",value:function(){var E=this,k=Oe.find("td",this.datesContainer);return Array.from(k).find(function(j){return parseInt(j.dataset.mdbYear,10)===E.activeYear})}},{key:"_setInitialDate",value:function(){this._input.value?this._handleUserInput(this._input.value):this._options.startDate?this._activeDate=new Date(this._options.startDate):this._activeDate=new Date}},{key:"close",value:function(){var E=ut.trigger(this._element,gc);this._isOpen&&!E.defaultPrevented&&(this._removeDatepickerListeners(),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-out"),this._closeModal(),this._isOpen=!1,this._view=this._options.view,(this.toggleButton||this._input).focus())}},{key:"_closeDropdown",value:function(){var E=this,k=Oe.findOne(".datepicker-dropdown-container");k.addEventListener("animationend",function(){k&&document.body.removeChild(k),E._popper&&E._popper.destroy()}),this._removeFocusTrap()}},{key:"_closeModal",value:function(){var E=Oe.findOne(".datepicker-backdrop"),k=Oe.findOne(".datepicker-modal-container");$e.addClass(E,"animation"),$e.addClass(E,"fade-out"),k&&E&&E.addEventListener("animationend",function(){document.body.removeChild(E),document.body.removeChild(k),document.body.style.overflow="",document.body.style.paddingRight=""})}},{key:"_removeFocusTrap",value:function(){this._focusTrap&&(this._focusTrap.disable(),this._focusTrap=null)}},{key:"_removeDatepickerListeners",value:function(){ut.off(this.nextButton,"click"),ut.off(this.previousButton,"click"),ut.off(this.viewChangeButton,"click"),ut.off(this.okButton,"click"),ut.off(this.cancelButton,"click"),ut.off(this.clearButton,"click"),ut.off(this.datesContainer,"click"),ut.off(this.datesContainer,"keydown"),ut.off(this.datesContainer,"focus"),ut.off(this.datesContainer,"blur"),ut.off(document,Oi)}},{key:"dispose",value:function(){this._isOpen&&this.close(),this._removeInputAndToggleListeners();var E=Oe.findOne("#".concat(this._toggleButtonId));E&&this._element.removeChild(E),Cn.removeData(this._element,Bi),this._element=null,this._input=null,this._options=null,this._activeDate=null,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=null,this._popper=null,this._focusTrap=null}},{key:"_removeInputAndToggleListeners",value:function(){ut.off(this._input,"input"),ut.off(this._element,Oi,'[data-mdb-toggle="datepicker"]'),ut.off(this._element,"keydown",'[data-mdb-toggle="datepicker"]')}},{key:"handleOk",value:function(){this._confirmSelection(this._selectedDate),this.close()}},{key:"_selectDate",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedDate=E}},{key:"_selectYear",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedYear=E,this._asyncChangeView("months")}},{key:"_selectMonth",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedMonth=E,this._asyncChangeView("days")}},{key:"_removeSelectedStyles",value:function(E){E&&E.classList.remove("selected")}},{key:"_addSelectedStyles",value:function(E){E&&$e.addClass(E,"selected")}},{key:"_confirmSelection",value:function(E){var k;E&&(k=this.formatDate(E),this._input.value=k,$e.addClass(this._input,"active"),ut.trigger(this._element,bc,{date:E}))}},{key:"handleCancel",value:function(){this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this.close()}},{key:"handleClear",value:function(){this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._removeCurrentSelectionStyles(),this._input.value="",this._input.classList.remove("active"),this._setInitialDate(),this._changeView("days")}},{key:"_removeCurrentSelectionStyles",value:function(){var E=Oe.findOne(".selected",this.container);E&&E.classList.remove("selected")}},{key:"_removeCurrentFocusStyles",value:function(){var E=Oe.findOne(".focused",this.container);E&&E.classList.remove("focused")}},{key:"formatDate",value:function(ke){var k=In(ke),j=this._addLeadingZero(In(ke)),W=this._options.weekdaysShort[Ti(ke)],te=this._options.weekdaysFull[Ti(ke)],se=gn(ke)+1,oe=this._addLeadingZero(gn(ke)+1),ge=this._options.monthsShort[gn(ke)],de=this._options.monthsFull[gn(ke)],Ee=tn(ke).toString().length===2?tn(ke):tn(ke).toString().slice(2,4),Pe=tn(ke),ke=this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),Fe="";return ke.forEach(function(Me){switch(Me){case"dddd":Me=Me.replace(Me,te);break;case"ddd":Me=Me.replace(Me,W);break;case"dd":Me=Me.replace(Me,j);break;case"d":Me=Me.replace(Me,k);break;case"mmmm":Me=Me.replace(Me,de);break;case"mmm":Me=Me.replace(Me,ge);break;case"mm":Me=Me.replace(Me,oe);break;case"m":Me=Me.replace(Me,se);break;case"yyyy":Me=Me.replace(Me,Pe);break;case"yy":Me=Me.replace(Me,Ee)}Fe+=Me}),Fe}},{key:"_addLeadingZero",value:function(E){return parseInt(E,10)<10?"0".concat(E):E}},{key:"_pickDay",value:function(E,k){E=Hs(E),this._activeDate=E,this._selectDate(E,k)}},{key:"_pickYear",value:function(E){var k=zn(E,this.activeMonth,this.activeDay);this._activeDate=k,this._selectedDate=k,this._selectYear(E)}},{key:"_pickMonth",value:function(E,k){k=zn(k,E,this.activeDay),this._activeDate=k,this._selectMonth(E)}},{key:"nextMonth",value:function(){var E,k=Pi(E=bn(this._activeDate,1),this._selectedDate,this._options);this._activeDate=E,this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=k}},{key:"previousMonth",value:function(){var E=bn(this._activeDate,-1),E=Pi(this._activeDate=E,this._selectedDate,this._options);this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=E}},{key:"nextYear",value:function(){var E=yn(this._activeDate,1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"previousYear",value:function(){var E=yn(this._activeDate,-1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"nextYears",value:function(){var E=yn(this._activeDate,24),E=xi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"previousYears",value:function(){var E=yn(this._activeDate,-24),E=xi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"_asyncChangeView",value:function(E){var k=this;setTimeout(function(){k._changeView(E)},0)}},{key:"_changeView",value:function(E){this._view=E,this.datesContainer.blur(),E==="days"&&(this.datesContainer.innerHTML=Pi(this._activeDate,this._selectedDate,this._options)),E==="months"&&(this.datesContainer.innerHTML=Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4)),E==="years"&&(this.datesContainer.innerHTML=xi(this._activeDate,this._selectedYear,this._options,24,4)),this.datesContainer.focus(),this._updateViewControlsAndAttributes(E)}},{key:"_updateViewControlsAndAttributes",value:function(E){E==="days"&&(this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMultiYearViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMonthLabel),this.nextButton.setAttribute("aria-label",this._options.nextMonthLabel)),E==="months"&&(this.viewChangeButton.textContent="".concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToDayViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextYearLabel)),E==="years"&&(this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMonthViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMultiYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextMultiYearLabel))}},{key:"_handleUserInput",value:function(j){var k=this._getDelimeters(this._options.format),j=this._parseDate(j,this._options.format,k);Number.isNaN(j.getTime())?(this._activeDate=new Date,this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null):(this._activeDate=j,this._selectedDate=j)}},{key:"_getDelimeters",value:function(E){return E.match(/[^(dmy)]{1,}/g)}},{key:"_parseDate",value:function(E,k,j){for(var j=j[0]!==j[1]?j[0]+j[1]:j[0],j=new RegExp("[".concat(j,"]")),W=E.split(j),te=k.split(j),E=k.indexOf("mmm")!==-1,se=[],oe=0;oe<te.length;oe++)te[oe].indexOf("yy")!==-1&&(se[0]={value:W[oe],format:te[oe]}),te[oe].indexOf("m")!==-1&&(se[1]={value:W[oe],format:te[oe]}),te[oe].indexOf("d")!==-1&&te[oe].length<=2&&(se[2]={value:W[oe],format:te[oe]});return j=k.indexOf("mmmm")!==-1?this._options.monthsFull:this._options.monthsShort,zn(Number(se[0].value),E?this.getMonthNumberByMonthName(se[1].value,j):Number(se[1].value)-1,Number(se[2].value))}},{key:"getMonthNumberByMonthName",value:function(E,k){return k.findIndex(function(j){return j===E})}}])&&Xs(P.prototype,N),O&&Xs(P,O),Object.defineProperty(P,"prototype",{writable:!1}),A}(),wr=Bo;Oe.find(".datepicker").forEach(function(A){var P=Bo.getInstance(A);P||new Bo(A)}),ze(189),ze(191);function $c(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,O){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var k,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(k=E.next()).done)&&(W.push(k.value),!O||W.length!==O);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,O){if(N){if(typeof N=="string")return Qs(N,O);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?Qs(N,O):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qs(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}function eu(E,W){var N=E.clientX,O=E.clientY,E=E.touches,k=2<arguments.length&&arguments[2]!==void 0&&arguments[2],W=W.getBoundingClientRect(),j=W.left,W=W.top,te={};return k&&E?k&&0<Object.keys(E).length&&(te={x:E[0].clientX-j,y:E[0].clientY-W}):te={x:N-j,y:O-W},te}function Cr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var Mc=function(A){return A&&Object.prototype.toString.call(A)==="[object Date]"&&!isNaN(A)},En=function(A){return A=(!(1<arguments.length&&arguments[1]!==void 0)||arguments[1]?A.value:A).replace(/:/gi," "),A.split(" ")};function tu(A){return(tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function nu(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function Oo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?nu(Object(N),!0).forEach(function(O){ar(A,O,N[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):nu(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function Fi(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,O){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var k,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(k=E.next()).done)&&(W.push(k.value),!O||W.length!==O);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||iu(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ru(A){return function(P){if(Array.isArray(P))return Fo(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||iu(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iu(A,P){if(A){if(typeof A=="string")return Fo(A,P);var N=Object.prototype.toString.call(A).slice(8,-1);return(N=N==="Object"&&A.constructor?A.constructor.name:N)==="Map"||N==="Set"?Array.from(A):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Fo(A,P):void 0}}function Fo(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,O=new Array(P);N<P;N++)O[N]=A[N];return O}function ou(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function ar(A,P,N){P in A?Object.defineProperty(A,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[P]=N}var Ct="timepicker",No="mdb.".concat(Ct),Ht="active",wc="".concat(Ct,"-am"),Ro="".concat(Ct,"-cancel"),au="".concat(Ct,"-clear"),su="".concat(Ct,"-submit"),Lo="".concat(Ct,"-circle"),Cc="".concat(Ct,"-clock-animation"),Ir="".concat(Ct,"-clock"),ti="".concat(Ct,"-clock-inner"),uu="".concat(Ct,"-clock-wrapper"),jo=".".concat(Ct,"-current"),Ic="".concat(Ct,"-current-inline"),Do="".concat(Ct,"-hand-pointer"),Ni="".concat(Ct,"-hour"),Ri="".concat(Ct,"-hour-mode"),lu="".concat(Ct,"-icon-down"),Ec="".concat(Ct,"-icon-inline-hour"),Sc="".concat(Ct,"-icon-inline-minute"),cu="".concat(Ct,"-icon-up"),fu="".concat(Ct,"-inline-hour-icons"),pu="".concat(Ct,"-middle-dot"),du="".concat(Ct,"-minute"),mu="".concat(Ct,"-modal"),Tc="".concat(Ct,"-pm"),zo="".concat(Ct,"-tips-element"),Nn="".concat(Ct,"-time-tips-hours"),ni="".concat(Ct,"-tips-inner-element"),Jn="".concat(Ct,"-time-tips-inner"),vn="".concat(Ct,"-time-tips-minutes"),Wo="".concat(Ct,"-transform"),Vo="".concat(Ct,"-wrapper"),kc="".concat(Ct,"-input"),Pc={appendValidationInfo:!0,bodyID:"",cancelLabel:"Cancel",clearLabel:"Clear",closeModalOnBackdropClick:!0,closeModalOnMinutesClick:!1,defaultTime:"",disabled:!1,focusInputAfterApprove:!1,footerID:"",format12:!0,headID:"",increment:!1,invalidLabel:"Invalid Time Format",maxHour:"",minHour:"",maxTime:"",minTime:"",modalID:"",okLabel:"Ok",overflowHidden:!0,pickerID:"",readOnly:!1,showClearBtn:!0,switchHoursToMinutesOnClick:!0,iconClass:"far fa-clock fa-sm timepicker-icon",withIcon:!0,pmLabel:"PM",amLabel:"AM"},Ac={appendValidationInfo:"boolean",bodyID:"string",cancelLabel:"string",clearLabel:"string",closeModalOnBackdropClick:"boolean",closeModalOnMinutesClick:"boolean",disabled:"boolean",footerID:"string",format12:"boolean",headID:"string",increment:"boolean",invalidLabel:"string",maxHour:"(string|number)",minHour:"(string|number)",modalID:"string",okLabel:"string",overflowHidden:"boolean",pickerID:"string",readOnly:"boolean",showClearBtn:"boolean",switchHoursToMinutesOnClick:"boolean",defaultTime:"(string|date|number)",iconClass:"string",withIcon:"boolean",pmLabel:"string",amLabel:"string"},Uo=function(){function A(E){var k=this,j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},W=this,te=A;if(!(W instanceof te))throw new TypeError("Cannot call a class as a function");ar(this,"_toggleBackgroundColorCircle",function(se){k._modal.querySelector(".".concat(se,".").concat(Ht))!==null?$e.addStyle(k._circle,{backgroundColor:"#1976d2"}):$e.addStyle(k._circle,{backgroundColor:"transparent"})}),ar(this,"_toggleClassActive",function(se,oe,ge){var de=oe.textContent,Ee=ru(se).find(function(Pe){return Number(Pe)===Number(de)});return ge.forEach(function(Pe){$e.hasClass(Pe,"disabled")||(Pe.textContent===Ee?$e.addClass(Pe,Ht):$e.removeClass(Pe,Ht))})}),ar(this,"_makeMinutesDegrees",function(se,oe){var ge=k._options.increment;return se=se<0?(oe=Math.round(360+se/6)%60,360+6*Math.round(se/6)):(oe=Math.round(se/6)%60,6*Math.round(se/6)),ge&&(se=30*Math.round(se/30),(oe=6*Math.round(se/6)/6)===60&&(oe="00")),{degrees:se=360<=se?0:se,minute:oe,addDegrees:ge?30:6}}),ar(this,"_makeHourDegrees",function(se,oe,ge){var Ee=k._options,de=Ee.maxHour,Ee=Ee.minHour;if(se&&($e.hasClass(se,ti)||$e.hasClass(se,Jn)||$e.hasClass(se,ni)?oe<0?(ge=Math.round(360+oe/30)%24,oe=360+oe):(ge=Math.round(oe/30)+12)===12&&(ge="00"):oe<0?(ge=Math.round(360+oe/30)%12,oe=360+oe):((ge=Math.round(oe/30)%12)===0||12<ge)&&(ge=12),360<=oe&&(oe=0),!(de!==""&&ge>Number(de)||Ee!==""&&ge<Number(Ee))))return{degrees:oe,hour:ge,addDegrees:30}}),ar(this,"_makeInnerHoursDegrees",function(se,oe){return se<0?(oe=Math.round(360+se/30)%24,se=360+se):(oe=Math.round(se/30)+12)===12&&(oe="00"),{degrees:se,hour:oe,addDegrees:30}}),ar(this,"_getAppendClock",function(){var se,oe,ge,de=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],Ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:".".concat(Ir),Pe=2<arguments.length?arguments[2]:void 0,Qe=k._options,ke=Qe.maxHour,Fe=Qe.minHour,Me=Qe.minTime,Be=Qe.maxTime,Ue=Qe.inline,Qe=Qe.format12,ct=Fi(En(Be,!1),3),st=ct[0],vt=ct[1],ot=ct[2],ct=Fi(En(Me,!1),3),jt=ct[0],un=ct[1],Kt=ct[2],ln=(Ue||Qe&&k._isInvalidTimeFormat&&!$e.hasClass(k._AM,"active")&&$e.addClass(k._PM,"active"),Oe.findOne(".".concat(Ri,".").concat(Ht))),Rt=Oe.findOne(Ee),Sn=360/de.length;Rt!==null&&(se=(Rt.offsetWidth-32)/2,oe=(Rt.offsetHeight-32)/2,ge=se-4,ru(de).forEach(function(Qt,ur){var ur=ur*Sn*(Math.PI/180),Tt=_r("span"),lr=_r("span"),ji=(lr.innerHTML=Qt,$e.addClass(Tt,Pe),Tt.offsetWidth),Di=Tt.offsetHeight;return $e.addStyle(Tt,{left:"".concat(se+Math.sin(ur)*ge-ji,"px"),bottom:"".concat(oe+Math.cos(ur)*ge-Di,"px")}),de.includes("05")&&$e.addClass(Tt,"".concat(vn)),de.includes("13")?lr.classList.add(ni):lr.classList.add(zo),$e.hasClass(Tt,"".concat(vn))?$e.hasClass(Tt,"".concat(vn))&&(Be!==""&&Number(Qt)>Number(vt)&&Number(k._hour.textContent)>=Number(st)&&$e.addClass(Tt,"disabled"),Me!==""&&Number(Qt)<Number(un)&&Number(k._hour.textContent)<=Number(jt)&&$e.addClass(Tt,"disabled"),Be!==""&&ot!==void 0&&(ot==="PM"&&ln.textContent==="PM"?Number(Qt)>Number(vt)&&Number(k._hour.textContent)>=Number(st)&&$e.addClass(Tt,"disabled"):ot==="PM"&&ln.textContent==="AM"&&$e.removeClass(Tt,"disabled"),(ot==="AM"&&ln.textContent==="PM"||ot==="AM"&&ln.textContent==="AM"&&Number(k._hour.textContent)>=Number(st)&&Number(Qt)>Number(vt))&&$e.addClass(Tt,"disabled")),Me!==""&&Kt!==void 0&&(Kt==="PM"&&ln.textContent==="PM"?(Number(Qt)<Number(un)&&Number(k._hour.textContent)===Number(jt)||Number(k._hour.textContent)<Number(jt))&&$e.addClass(Tt,"disabled"):Kt==="PM"&&ln.textContent==="AM"&&$e.addClass(Tt,"disabled"),Kt==="AM"&&ln.textContent==="PM"?$e.removeClass(Tt,"disabled"):Kt==="AM"&&ln.textContent==="AM"&&(Number(k._hour.textContent)===Number(jt)&&Number(Qt)<Number(un)||Number(k._hour.textContent)<Number(jt))&&$e.addClass(Tt,"disabled"))):(ke!==""&&Number(Qt)>Number(ke)&&$e.addClass(Tt,"disabled"),Fe!==""&&Number(Qt)<Number(Fe)&&$e.addClass(Tt,"disabled"),Be!==""&&(ot!==void 0?(ot==="PM"&&ln.textContent==="PM"&&(k._isAmEnabled=!1,k._isPmEnabled=!0,Number(Qt)>Number(st)&&$e.addClass(Tt,"disabled")),ot==="AM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,$e.addClass(Tt,"disabled")):ot==="AM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,Number(Qt)>Number(st)&&$e.addClass(Tt,"disabled"))):Number(Qt)>Number(st)&&$e.addClass(Tt,"disabled")),Me!==""&&Number(Qt)<Number(jt)&&$e.addClass(Tt,"disabled"),Me!==""&&Kt!==void 0&&(Kt==="PM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,Number(Qt)<Number(jt)&&$e.addClass(Tt,"disabled")):Kt==="PM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,$e.addClass(Tt,"disabled")),Kt==="AM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,$e.removeClass(Tt,"disabled")):Kt==="AM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,Number(Qt)<Number(jt)&&$e.addClass(Tt,"disabled")))),Tt.appendChild(lr),Rt.appendChild(Tt)}))}),this._element=E,this._element&&Cn.setData(E,No,this),this._document=document,this._options=this._getConfig(j),this._currentTime=null,this._toggleButtonId=Is("timepicker-toggle-"),this.hoursArray=["12","1","2","3","4","5","6","7","8","9","10","11"],this.innerHours=["00","13","14","15","16","17","18","19","20","21","22","23"],this.minutesArray=["00","05","10","15","20","25","30","35","40","45","50","55"],this.input=Oe.findOne("input",this._element),this.dataWithIcon=E.dataset.withIcon,this.dataToggle=E.dataset.toggle,this.customIcon=Oe.findOne(".timepicker-toggle-button",this._element),this._checkToggleButton(),this.inputFormatShow=Oe.findOne("[data-mdb-timepicker-format24]",this._element),this.inputFormat=this.inputFormatShow===null?"":Object.values(this.inputFormatShow.dataset)[0],this.elementToggle=Oe.findOne("[data-mdb-toggle]",this._element),this.toggleElement=Object.values(E.querySelector("[data-mdb-toggle]").dataset)[0],this._hour=null,this._minutes=null,this._AM=null,this._PM=null,this._wrapper=null,this._modal=null,this._hand=null,this._circle=null,this._focusTrap=null,this._popper=null,this._interval=null,this._inputValue=this._options.defaultTime!==""?this._options.defaultTime:this.input.value,this._options.format12&&(this._currentTime=function(se){var oe,ge,de;if(se!=="")return Mc(se)?(oe=se.getHours(),(oe%=12)===0&&(de="AM"),oe=oe||12,de===void 0&&(de=12<=oe?"PM":"AM"),ge=(ge=se.getMinutes())<10?"0".concat(ge):ge):(oe=(se=$c(En(se,!1),3))[0],ge=se[1],de=se[2],(oe%=12)===0&&(de="AM"),oe=oe||12,de===void 0&&(de=12<=oe?"PM":"AM")),{hours:oe,minutes:ge,amOrPm:de}}(this._inputValue)),this._options.readOnly&&this.input.setAttribute("readonly",!0),this.init(),this._isHours=!0,this._isMinutes=!1,this._isInvalidTimeFormat=!1,this._isMouseMove=!1,this._isInner=!1,this._isAmEnabled=!1,this._isPmEnabled=!1,this._objWithDataOnChange={degrees:null}}var P,N,O;return P=A,O=[{key:"NAME",get:function(){return Ct}},{key:"getInstance",value:function(E){return Cn.getData(E,No)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,tu(k)==="object"?k:null)}}],(N=[{key:"init",value:function(){var E,k,j,W;$e.addClass(this.input,kc),this._currentTime!==void 0?(j=(E=this._currentTime).hours,W=E.minutes,E=E.amOrPm,k=Number(j)<10?0:"",j="".concat(k).concat(Number(j),":").concat(W),W=E,this.input.value="".concat(j," ").concat(W)):this.input.value=W=j=k="",0<this.input.value.length&&this.input.value!==""&&$e.addClass(this.input,"active"),this._options===null&&this._element===null||(this._handleOpen(),this._listenToToggleKeydown())}},{key:"dispose",value:function(){this._removeModal(),this._element!==null&&Cn.removeData(this._element,No),this._element=null,this._options=null,this.input=null,this._focusTrap=null,ut.off(this._document,"click","[data-mdb-toggle='".concat(this.toggleElement,"']")),ut.off(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"))}},{key:"_checkToggleButton",value:function(){this.customIcon===null&&(this.dataWithIcon!==void 0&&(this._options.withIcon=null,this.dataWithIcon==="true"&&this._appendToggleButton(this._options)),this._options.withIcon&&this._appendToggleButton(this._options))}},{key:"_appendToggleButton",value:function(){var E=function(k,j){return k=k.iconClass,`
  <button id="`.concat(j,`" tabindex="0" type="button" class="timepicker-toggle-button" data-mdb-toggle="timepicker"  >
    <i class="`).concat(k,`"></i>
  </button>
`)}(this._options,this._toggleButtonId);this.input.insertAdjacentHTML("afterend",E)}},{key:"_getDomElements",value:function(){this._hour=Oe.findOne(".".concat(Ni)),this._minutes=Oe.findOne(".".concat(du)),this._AM=Oe.findOne(".".concat(wc)),this._PM=Oe.findOne(".".concat(Tc)),this._wrapper=Oe.findOne(".".concat(Vo)),this._modal=Oe.findOne(".".concat(mu)),this._hand=Oe.findOne(".".concat(Do)),this._circle=Oe.findOne(".".concat(Lo)),this._clock=Oe.findOne(".".concat(Ir)),this._clockInner=Oe.findOne(".".concat(ti))}},{key:"_handlerMaxMinHoursOptions",value:function(E,k,j,W,te,se){var oe=j!==""?30*j:"",ge=W!==""?30*W:"";if(j!==""&&W!==""){if((E=E<=0?360+E:E)<=oe&&ge<=E)return k()}else if(W!==""){if(E<=0&&(E=360+E),(ge=12<Number(W)?30*W-ge:ge)<=E&&se===void 0)return k();if(se!==void 0){if(se==="PM"&&this._isAmEnabled)return;if(se==="PM"&&this._isPmEnabled&&ge<=E||se==="AM"&&this._isPmEnabled||se==="AM"&&this._isAmEnabled&&ge<=E)return k()}}else{if(j===""||(E=E<=0?360+E:E)<=oe&&te===void 0)return k();if(te!==void 0){if(te==="AM"&&this._isPmEnabled)return;if(te==="AM"&&this._isAmEnabled&&E<=oe)return k();if(te==="PM"&&this._isPmEnabled){if(E<=oe)return k()}else if(te==="PM"&&this._isAmEnabled)return k()}}return k}},{key:"_handleKeyboard",value:function(){var E=this;ut.on(this._document,"keydown","",function(k){var j,se=E._options,W=se.maxHour,te=se.minHour,se=se.increment,oe=Oe.findOne(".".concat(vn))!==null,ge=Oe.findOne(".".concat(Jn))!==null,ot=Number(E._hand.style.transform.replace(/[^\d-]/g,"")),de=Oe.find(".".concat(vn),E._modal),Ee=Oe.find(".".concat(Nn),E._modal),Pe=Oe.find(".".concat(Jn),E._modal),ke=W!==""?Number(W):"",Fe=te!==""?Number(te):"",Me=E._makeHourDegrees(k.target,ot,void 0).hour,st=E._makeHourDegrees(k.target,ot,void 0),Be=st.degrees,Ue=st.addDegrees,st=E._makeMinutesDegrees(ot,void 0),Qe=st.minute,st=st.degrees,vt=E._makeMinutesDegrees(ot,void 0).addDegrees,ot=E._makeInnerHoursDegrees(ot,void 0).hour;k.keyCode===27&&(j=Oe.findOne(".".concat(Ro),E._modal),ut.trigger(j,"click")),oe?(k.keyCode===38&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(st+=vt,"deg)")}),Qe+=1,se&&(Qe+=4)==="0014"&&(Qe=5),E._minutes.textContent=E._setHourOrMinute(59<Qe?0:Qe),E._toggleClassActive(E.minutesArray,E._minutes,de),E._toggleBackgroundColorCircle("".concat(vn))),k.keyCode===40&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(st-=vt,"deg)")}),se?Qe-=5:--Qe,Qe===-1?Qe=59:Qe===-5&&(Qe=55),E._minutes.textContent=E._setHourOrMinute(Qe),E._toggleClassActive(E.minutesArray,E._minutes,de),E._toggleBackgroundColorCircle("".concat(vn)))):(ge&&(k.keyCode===39&&(E._isInner=!1,$e.addStyle(E._hand,{height:"calc(40% + 1px)"}),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Ee),E._toggleClassActive(E.innerHours,E._hour,Pe)),k.keyCode===37&&(E._isInner=!0,$e.addStyle(E._hand,{height:"21.5%"}),E._hour.textContent=E._setHourOrMinute(24<=ot||ot==="00"?0:ot),E._toggleClassActive(E.innerHours,E._hour,Pe),E._toggleClassActive(E.hoursArray,E._hour-1,Ee))),k.keyCode===38&&(E._handlerMaxMinHoursOptions(Be+30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Be+Ue,"deg)")})},W,te),E._isInner?((ot+=1)===24?ot=0:ot!==25&&ot!=="001"||(ot=13),E._hour.textContent=E._setHourOrMinute(ot),E._toggleClassActive(E.innerHours,E._hour,Pe)):(Me+=1,W!==""&&te!==""?W<Me?Me=ke:Me<te&&(Me=Fe):W!==""&&te===""?W<Me&&(Me=ke):W===""&&te!==""&&12<=Me&&(Me=12),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Ee))),k.keyCode===40&&(E._handlerMaxMinHoursOptions(Be-30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Be-Ue,"deg)")})},W,te),E._isInner?(--ot===12?ot=0:ot===-1&&(ot=23),E._hour.textContent=E._setHourOrMinute(ot),E._toggleClassActive(E.innerHours,E._hour,Pe)):(--Me,W!==""&&te!==""?ke<Me?Me=ke:Me<Fe&&(Me=Fe):W===""&&te!==""?Me<=Fe&&(Me=Fe):W!==""&&te===""&&Me<=1&&(Me=1),E._hour.textContent=E._setHourOrMinute(Me===0?12:Me),E._toggleClassActive(E.hoursArray,E._hour,Ee))))})}},{key:"_setActiveClassToTipsOnOpen",value:function(E){var k=this;if(!this._isInvalidTimeFormat){for(var j=arguments.length,W=new Array(1<j?j-1:0),te=1;te<j;te++)W[te-1]=arguments[te];[].concat(W).filter(function(oe){return oe==="PM"?$e.addClass(k._PM,Ht):oe==="AM"?$e.addClass(k._AM,Ht):($e.removeClass(k._AM,Ht),$e.removeClass(k._PM,Ht)),oe});var se=Oe.find(".".concat(Nn),this._modal);this._addActiveClassToTip(se,E)}}},{key:"_setTipsAndTimesDependOnInputValue",value:function(E,k){var W=this._options,j=W.inline,W=W.format12;this._isInvalidTimeFormat?(this._hour.textContent="12",this._minutes.textContent="00",j||$e.addStyle(this._hand,{transform:"rotateZ(0deg)"}),W&&$e.addClass(this._PM,Ht)):(W=12<E?30*E-360:30*E,this._hour.textContent=E,this._minutes.textContent=k,j||($e.addStyle(this._hand,{transform:"rotateZ(".concat(W,"deg)")}),$e.addStyle(this._circle,{backgroundColor:"#1976d2"}),(12<Number(E)||E==="00")&&$e.addStyle(this._hand,{height:"21.5%"})))}},{key:"_listenToToggleKeydown",value:function(){var E=this;ut.on(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(k){k.keyCode===13&&(k.preventDefault(),ut.trigger(E.elementToggle,"click"))})}},{key:"_handleOpen",value:function(){var E=this;Qr(this._element,"click","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(k){var j;E._options!==null&&(j=$e.getDataAttribute(E.input,"toggle")!==null?200:0,setTimeout(function(){$e.addStyle(E.elementToggle,{pointerEvents:"none"}),E.elementToggle.blur(),ot=En(E.input)[0]===""?["12","00","PM"]:En(E.input);var W,te,se,oe,ge,de,Ee,Pe,ke,Fe,Qe=E._options,Me=Qe.modalID,Be=Qe.inline,Ue=Qe.format12,Qe=Qe.overflowHidden,ot=Fi(ot,3),st=ot[0],vt=ot[1],ot=ot[2],ct=_r("div");(12<Number(st)||st==="00")&&(E._isInner=!0),E.input.blur(),k.target.blur(),ct.innerHTML=(W=E._options,te=W.okLabel,se=W.cancelLabel,Fe=W.headID,oe=W.footerID,ge=W.bodyID,ke=W.pickerID,de=W.clearLabel,Ee=W.showClearBtn,Pe=W.amLabel,W=W.pmLabel,"<div id='".concat(ke,`' class='timepicker-wrapper h-full flex items-center justify-center flex-col fixed'>
      <div class="flex items-center justify-center flex-col timepicker-container">
        <div class="flex flex-col timepicker-elements justify-around">
        <div id='`).concat(Fe,`' class='timepicker-head flex flex-row items-center justify-center'>
        <div class='timepicker-head-content flex w-100 justify-evenly'>
            <div class="timepicker-current-wrapper">
              <span class="relative h-100">
                <button type='button' class='timepicker-current timepicker-hour active ripple' tabindex="0">21</button>
              </span>
              <button type='button' class='timepicker-dot' disabled>:</button>
            <span class="relative h-100">
              <button type='button' class='timepicker-current timepicker-minute ripple' tabindex="0">21</button>
            </span>
            </div>
            <div class="flex flex-col justify-center timepicker-mode-wrapper">
              <button type='button' class="timepicker-hour-mode timepicker-am ripple" tabindex="0">`).concat(Pe,`</button>
              <button class="timepicker-hour-mode timepicker-pm ripple" tabindex="0">`).concat(W,`</button>
            </div>
        </div>
      </div>
      <div id='`).concat(ge,`' class='timepicker-clock-wrapper flex justify-center flex-col items-center'>
        <div class='timepicker-clock'>
          <span class='timepicker-middle-dot absolute'></span>
          <div class='timepicker-hand-pointer absolute'>
            <div class='timepicker-circle absolute'></div>
          </div>
        </div>
      </div>
    </div>
    <div id='`).concat(oe,`' class='timepicker-footer'>
      <div class="w-full flex justify-between">
        `).concat(Ee?`<button type='button' class='timepicker-button timepicker-clear ripple' tabindex="0">`.concat(de,"</button>"):"",`
        <button type='button' class='timepicker-button timepicker-cancel ripple' tabindex="0">`).concat(se,`</button>
        <button type='button' class='timepicker-button timepicker-submit ripple' tabindex="0">`).concat(te,`</button>
      </div>
    </div>
  </div>
</div>`)),$e.addClass(ct,mu),ct.setAttribute("role","dialog"),ct.setAttribute("tabIndex","-1"),ct.setAttribute("id",Me),Be&&(E._popper=Y(E.input,ct,{placement:"bottom-start"})),E._document.body.appendChild(ct),E._getDomElements(),E._toggleBackdropAnimation(),E._setActiveClassToTipsOnOpen(st,vt,ot),E._appendTimes(),E._setActiveClassToTipsOnOpen(st,vt,ot),E._setTipsAndTimesDependOnInputValue(st,vt),E.input.value===""&&(ke=Oe.find(".".concat(Nn),E._modal),Ue&&$e.addClass(E._PM,Ht),E._hour.textContent="12",E._minutes.textContent="00",E._addActiveClassToTip(ke,Number(E._hour.textContent))),E._handleSwitchTimeMode(),E._handleOkButton(),E._handleClose(),Be?(E._handleHoverInlineBtn(),E._handleDocumentClickInline(),E._handleInlineClicks()):(E._handleSwitchHourMinute(),E._handleClockClick(),E._handleKeyboard(),$e.addStyle(E._hour,{pointerEvents:"none"}),$e.addStyle(E._minutes,{pointerEvents:""})),Qe&&(Fe=window.innerWidth>document.documentElement.clientWidth,$e.addStyle(E._document.body,{overflow:"hidden"}),!Cr()&&Fe&&$e.addStyle(E._document.body,{paddingRight:"15px"})),E._focusTrap=new qs(E._wrapper,{event:"keydown",condition:function(jt){return jt.key==="Tab"}}),E._focusTrap.trap()},j))})}},{key:"_handleInlineClicks",value:function(){var E=this;Qr(this._modal,"click mousedown mouseup touchstart touchend contextmenu",".".concat(cu,", .").concat(lu),function(Ee){function j(Be){Be=Me(Be),E._hour.textContent=E._setHourOrMinute(Be)}function W(Be){Be=Fe(Be),E._minutes.textContent=E._setHourOrMinute(Be)}function te(){j(Pe+=1)}function se(){W(ke+=1)}function oe(){j(--Pe)}function ge(){W(--ke)}var de=Ee.target,Ee=Ee.type,Pe=Number(E._hour.textContent),ke=Number(E._minutes.textContent),Fe=function(Be){return 59<Be?Be=0:Be<0&&(Be=59),Be},Me=function(Be){return 12<Be?Be=1:Be<1&&(Be=12),Be=12<Be?1:Be};$e.hasClass(de,cu)?$e.hasClass(de.parentNode,fu)?Ee==="mousedown"||Ee==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(te,100)):Ee==="mouseup"||Ee==="touchend"||Ee==="contextmenu"?clearInterval(E._interval):te():Ee==="mousedown"||Ee==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(se,100)):Ee==="mouseup"||Ee==="touchend"||Ee==="contextmenu"?clearInterval(E._interval):se():$e.hasClass(de,lu)&&($e.hasClass(de.parentNode,fu)?Ee==="mousedown"||Ee==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(oe,100)):Ee==="mouseup"||Ee==="touchend"?clearInterval(E._interval):oe():Ee==="mousedown"||Ee==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(ge,100)):Ee==="mouseup"||Ee==="touchend"?clearInterval(E._interval):ge())})}},{key:"_handleClose",value:function(){var E=this;ut.on(this._modal,"click",".".concat(Vo,", .").concat(Ro,", .").concat(au),function(oe){function j(){$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._toggleBackdropAnimation(!0),E._removeModal(),E._focusTrap.disable(),E._focusTrap=null,E.elementToggle?E.elementToggle.focus():E.input&&E.input.focus()}var W,te,se,oe=oe.target,ge=E._options.closeModalOnBackdropClick;$e.hasClass(oe,au)?(E.input.value="",$e.removeClass(E.input,"active"),se=En(E.input)[0]===""?["12","00","PM"]:En(E.input),W=(se=Fi(se,3))[0],te=se[1],se=se[2],E._setTipsAndTimesDependOnInputValue("12","00"),E._setActiveClassToTipsOnOpen(W,te,se),E._hour.click()):($e.hasClass(oe,Ro)||$e.hasClass(oe,Vo)&&ge)&&j()})}},{key:"showValueInput",value:function(){return this.input.value}},{key:"_handleOkButton",value:function(){var E=this;Qr(this._modal,"click",".".concat(su),function(){var j=E._options,k=j.readOnly,j=j.focusInputAfterApprove,W=E._document.querySelector(".".concat(Ri,".").concat(Ht)),te="".concat(E._hour.textContent,":").concat(E._minutes.textContent);$e.addClass(E.input,"active"),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._isInvalidTimeFormat&&$e.removeClass(E.input,"is-invalid"),!k&&j&&E.input.focus(),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E.input.value=W===null?"".concat(te," PM"):"".concat(te," ").concat(W.textContent),E._toggleBackdropAnimation(!0),E._removeModal(),ut.trigger(E.input,"input.mdb.timepicker")})}},{key:"_handleHoverInlineBtn",value:function(){var E=this;Qr(this._modal,"mouseover mouseleave",".".concat(Ic),function(W){var j=W.type,W=W.target,te=Oe.find(".".concat(Ec),E._modal),se=Oe.find(".".concat(Sc),E._modal);j==="mouseover"?$e.hasClass(W,Ni)?te.forEach(function(oe){return $e.addClass(oe,Ht)}):se.forEach(function(oe){return $e.addClass(oe,Ht)}):$e.hasClass(W,Ni)?te.forEach(function(oe){return $e.removeClass(oe,Ht)}):se.forEach(function(oe){return $e.removeClass(oe,Ht)})})}},{key:"_handleDocumentClickInline",value:function(){var E=this;ut.on(document,"click",function(k){k=k.target,!E._modal||E._modal.contains(k)||$e.hasClass(k,"timepicker-icon")||(clearInterval(E._interval),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._removeModal())})}},{key:"_handleSwitchHourMinute",value:function(){var E,k,j=this;E="click",k=jo,ut.on(document,E,k,function(W){W=W.target,$e.hasClass(W,"active")||(document.querySelectorAll(k).forEach(function(te){$e.hasClass(te,"active")&&$e.removeClass(te,"active")}),$e.addClass(W,"active"))}),ut.on(this._modal,"click",jo,function(){function W(Pe,ke){oe.forEach(function(Fe){return Fe.remove()}),se.forEach(function(Fe){return Fe.remove()}),$e.addClass(j._hand,Wo),setTimeout(function(){$e.removeClass(j._hand,Wo)},401),j._getAppendClock(Pe,".".concat(Ir),ke),setTimeout(function(){var Fe,Me;Fe=Oe.find(".".concat(Nn),j._modal),Me=Oe.find(".".concat(vn),j._modal),j._addActiveClassToTip(Fe,de),j._addActiveClassToTip(Me,Ee)},401)}var te=Oe.find(jo,j._modal),se=Oe.find(".".concat(vn),j._modal),oe=Oe.find(".".concat(Nn),j._modal),ge=Oe.find(".".concat(Jn),j._modal),de=Number(j._hour.textContent),Ee=Number(j._minutes.textContent);te.forEach(function(Pe){$e.hasClass(Pe,Ht)&&($e.hasClass(Pe,du)?($e.addClass(j._hand,Wo),$e.addStyle(j._hand,{transform:"rotateZ(".concat(6*j._minutes.textContent,"deg)"),height:"calc(40% + 1px)"}),0<ge.length&&ge.forEach(function(ke){return ke.remove()}),W(j.minutesArray,"".concat(vn)),j._hour.style.pointerEvents="",j._minutes.style.pointerEvents="none"):$e.hasClass(Pe,Ni)&&($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent,"deg)")}),12<Number(j._hour.textContent)?($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent-360,"deg)"),height:"21.5%"}),12<Number(j._hour.textContent)&&$e.addStyle(j._hand,{height:"21.5%"})):$e.addStyle(j._hand,{height:"calc(40% + 1px)"}),0<ge.length&&ge.forEach(function(ke){return ke.remove()}),W(j.hoursArray,"".concat(Nn)),$e.addStyle(j._hour,{pointerEvents:"none"}),$e.addStyle(j._minutes,{pointerEvents:""})))})})}},{key:"_handleSwitchTimeMode",value:function(){ut.on(document,"click",".".concat(Ri),function(E){E=E.target,$e.hasClass(E,Ht)||(Oe.find(".".concat(Ri)).forEach(function(k){$e.hasClass(k,Ht)&&$e.removeClass(k,Ht)}),$e.addClass(E,Ht))})}},{key:"_handleClockClick",value:function(){var E=this,k=Oe.findOne(".".concat(uu));Qr(document,"mousedown mouseup mousemove mouseleave mouseover touchstart touchmove touchend","",function(j){Cr()||j.preventDefault();var te=E._options,W=te.maxHour,te=te.minHour,se=j.type,oe=j.target,de=E._options,ge=de.closeModalOnMinutesClick,de=de.switchHoursToMinutesOnClick,Ee=Oe.findOne(".".concat(vn),E._modal)!==null,Pe=Oe.findOne(".".concat(Nn),E._modal)!==null,ke=Oe.findOne(".".concat(Jn),E._modal)!==null,Fe=Oe.find(".".concat(vn),E._modal),Be=eu(j,k),Me=k.offsetWidth/2,Be=Math.atan2(Be.y-Me,Be.x-Me),Ue=(Cr()&&(Qe=eu(j,k,!0),Be=Math.atan2(Qe.y-Me,Qe.x-Me)),null);if(se==="mousedown"||se==="mousemove"||se==="touchmove"||se==="touchstart"?se!=="mousedown"&&se!=="touchstart"&&se!=="touchmove"||($e.hasClass(oe,uu)||$e.hasClass(oe,Ir)||$e.hasClass(oe,vn)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Nn)||$e.hasClass(oe,Lo)||$e.hasClass(oe,Do)||$e.hasClass(oe,pu)||$e.hasClass(oe,zo)||$e.hasClass(oe,ni))&&(E._isMouseMove=!0,Cr()&&j.touches&&(Qe=j.touches[0].clientX,Me=j.touches[0].clientY,Ue=document.elementFromPoint(Qe,Me))):se!=="mouseup"&&se!=="touchend"||(E._isMouseMove=!1,($e.hasClass(oe,Ir)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Nn)||$e.hasClass(oe,Lo)||$e.hasClass(oe,Do)||$e.hasClass(oe,pu)||$e.hasClass(oe,zo)||$e.hasClass(oe,ni))&&(Pe||ke)&&de&&ut.trigger(E._minutes,"click"),Ee&&ge&&(Qe=Oe.findOne(".".concat(su),E._modal),ut.trigger(Qe,"click"))),Ee){if(Me=Math.trunc(180*Be/Math.PI)+90,se=E._makeMinutesDegrees(Me,void 0),de=se.degrees,ge=se.minute,E._handlerMaxMinMinutesOptions(de,ge)===void 0)return;var Qe=E._handlerMaxMinMinutesOptions(de,ge),Ee=Qe.degrees,Me=Qe.minute;if(E._isMouseMove){if($e.addStyle(E._hand,{transform:"rotateZ(".concat(Ee,"deg)")}),Me===void 0)return;E._minutes.textContent=10<=Me||Me==="00"?Me:"0".concat(Me),E._toggleClassActive(E.minutesArray,E._minutes,Fe),E._toggleBackgroundColorCircle("".concat(vn)),E._objWithDataOnChange.degreesMinutes=Ee,E._objWithDataOnChange.minutes=Me}}if(Pe||ke){var st=Math.trunc(180*Be/Math.PI)+90,st=30*Math.round(st/30);if($e.addStyle(E._circle,{backgroundColor:"#1976d2"}),E._makeHourDegrees(oe,st,void 0)===void 0)return;E._objWithDataOnChange.degreesHours=st,E._handlerMaxMinHoursOptions(st,function(){var vt,ot;return Cr()&&st?(vt=(ot=E._makeHourDegrees(Ue,st,void 0)).degrees,ot=ot.hour,E._handleMoveHand(Ue,ot,vt)):(vt=(ot=E._makeHourDegrees(oe,st,void 0)).degrees,ot=ot.hour,E._handleMoveHand(oe,ot,vt))},W,te)}j.stopPropagation()})}},{key:"_handleMoveHand",value:function(E,k,j){var W=Oe.find(".".concat(Nn),this._modal),te=Oe.find(".".concat(Jn),this._modal);this._isMouseMove&&($e.hasClass(E,ti)||$e.hasClass(E,Jn)||$e.hasClass(E,ni)?$e.addStyle(this._hand,{height:"21.5%"}):$e.addStyle(this._hand,{height:"calc(40% + 1px)"}),$e.addStyle(this._hand,{transform:"rotateZ(".concat(j,"deg)")}),this._hour.textContent=10<=k||k==="00"?k:"0".concat(k),this._toggleClassActive(this.hoursArray,this._hour,W),this._toggleClassActive(this.innerHours,this._hour,te),this._objWithDataOnChange.hour=10<=k||k==="00"?k:"0".concat(k))}},{key:"_handlerMaxMinMinutesOptions",value:function(E,k){var te=this._options,j=te.increment,W=te.maxTime,te=te.minTime,Ee=En(W,!1)[1],Pe=En(te,!1)[1],se=En(W,!1)[0],oe=En(te,!1)[0],ge=En(W,!1)[2],de=En(te,!1)[2],Ee=Ee!==""?6*Ee:"",Pe=Pe!==""?6*Pe:"";if(ge===void 0&&de===void 0){if(W!==""&&te!==""){if(E<=Ee&&Pe<=E)return E}else if(te!==""&&Number(this._hour.textContent)<=Number(oe)){if(E<=Pe-6)return E}else if(W!==""&&Number(this._hour.textContent)>=Number(se)&&Ee+6<=E)return E}else if(te!==""){if(de==="PM"&&this._isAmEnabled)return;if(de==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Pe-6)return E}else if(de==="AM"&&this._isAmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Pe-6)return E}}else if(W!==""){if(ge==="AM"&&this._isPmEnabled)return;if(ge==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)>=Number(se)&&Ee+6<=E)return E}else if(ge==="AM"&&this._isAmEnabled&&Number(this._hour.textContent)>=Number(se)&&Ee+6<=E)return E}return(E=j?30*Math.round(E/30):E)<=0?E=360+E:360<=E&&(E=0),{degrees:E,minute:k}}},{key:"_removeModal",value:function(){var E=this;setTimeout(function(){E._modal.remove(),$e.addStyle(E._document.body,{overflow:""}),Cr()||$e.addStyle(E._document.body,{paddingRight:""})},300),uc(this._document,"click keydown mousedown mouseup mousemove mouseleave mouseover touchmove touchend")}},{key:"_toggleBackdropAnimation",value:function(){0<arguments.length&&arguments[0]!==void 0&&arguments[0]?($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-out"),this._wrapper.style.animationDuration="300ms"):($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-in"),this._wrapper.style.animationDuration="300ms",this._options.inline||$e.addClass(this._clock,Cc))}},{key:"_addActiveClassToTip",value:function(E,k){E.forEach(function(j){Number(j.textContent)===Number(k)&&$e.addClass(j,Ht)})}},{key:"_setHourOrMinute",value:function(E){return E<10?"0".concat(E):E}},{key:"_appendTimes",value:function(){this._getAppendClock(this.hoursArray,".".concat(Ir),"".concat(Nn))}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=Oo(Oo(Oo({},Pc),k),E),wi(Ct,E,Ac),E}}])&&ou(P.prototype,N),O&&ou(P,O),Object.defineProperty(P,"prototype",{writable:!1}),A}(),ze=Uo;function hu(A){return(hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function gu(A,P){var N,O=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),O.push.apply(O,N)),O}function Jo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?gu(Object(N),!0).forEach(function(O){var E,k;E=A,k=N[O=O],O in E?Object.defineProperty(E,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[O]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):gu(Object(N)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(N,O))})}return A}function yu(A,P){for(var N=0;N<P.length;N++){var O=P[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}ut.on(window,"DOMContentLoaded",function(){Oe.find(".".concat(Ct)).forEach(function(A){var P=Uo.getInstance(A);P||new Uo(A)})});var xn="stepper",Li="mdb.stepper",Tr=".".concat(Li),Er="horizontal",Rn="vertical",xc={stepperType:"string",stepperLinear:"boolean",stepperNoEditable:"boolean",stepperActive:"string",stepperCompleted:"string",stepperInvalid:"string",stepperDisabled:"string",stepperVerticalBreakpoint:"number",stepperMobileBreakpoint:"number",stepperMobileBarBreakpoint:"number"},Bc={stepperType:Er,stepperLinear:!1,stepperNoEditable:!1,stepperActive:"",stepperCompleted:"",stepperInvalid:"",stepperDisabled:"",stepperVerticalBreakpoint:0,stepperMobileBreakpoint:0,stepperMobileBarBreakpoint:4},bu="mousedown".concat(Tr),vu="keydown".concat(Tr),Oc="keyup".concat(Tr),_u="resize".concat(Tr),$u="animationend",sr="".concat(xn,"-step"),_n="".concat(xn,"-head"),Bn="".concat(xn,"-content"),Sr="".concat(xn,"-active"),Fc="".concat(xn,"-completed"),Nc="".concat(xn,"-invalid"),Rc="".concat(xn,"-disabled"),Go="".concat(xn,"-").concat(Rn),qo="".concat(xn,"-content-hide"),Mu="".concat(xn,"-").concat(Er),Ho=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(k),this._elementHeight=0,this._steps=Oe.find(".".concat(sr),this._element),this._currentView="",this._activeStepIndex=0,this._verticalStepperStyles=[],this._element&&(Cn.setData(E,Li,this),this._init())}var P,N,O;return P=A,O=[{key:"NAME",get:function(){return xn}},{key:"getInstance",value:function(E){return Cn.getData(E,Li)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,hu(k)==="object"?k:null)}}],(N=[{key:"activeStep",get:function(){return this._steps[this._activeStepIndex]}},{key:"activeStepIndex",get:function(){return this._activeStepIndex}},{key:"dispose",value:function(){this._steps.forEach(function(E){ut.off(E,bu),ut.off(E,vu)}),ut.off(window,_u),Cn.removeData(this._element,Li),this._element=null}},{key:"changeStep",value:function(E){this._toggleStep(E)}},{key:"nextStep",value:function(){this._toggleStep(this._activeStepIndex+1)}},{key:"previousStep",value:function(){this._toggleStep(this._activeStepIndex-1)}},{key:"_init",value:function(){var E=Oe.findOne(".".concat(Sr),this._element);E?this._activeStepIndex=this._steps.indexOf(E):this._toggleStepClass(this._activeStepIndex,"add",Sr),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperActive),this._bindMouseDown(),this._bindKeysNavigation(),this._options.stepperType===Rn?this._toggleVertical():this._toggleHorizontal(),(this._options.stepperVerticalBreakpoint||this._options.stepperMobileBreakpoint)&&this._toggleStepperView(),this._bindResize()}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=Jo(Jo(Jo({},Bc),k),E),wi(xn,E,xc),E}},{key:"_bindMouseDown",value:function(){var E=this;this._steps.forEach(function(k){k=Oe.findOne(".".concat(_n),k),ut.on(k,bu,function(j){var W=Oe.parents(j.target,".".concat(sr))[0],W=E._steps.indexOf(W);j.preventDefault(),E._toggleStep(W)})})}},{key:"_bindResize",value:function(){var E=this;ut.on(window,_u,function(){E._currentView===Rn&&E._setSingleStepHeight(E.activeStep),E._currentView===Er&&E._setHeight(E.activeStep),(E._options.stepperVerticalBreakpoint||E._options.stepperMobileBreakpoint)&&E._toggleStepperView()})}},{key:"_toggleStepperView",value:function(){var E=this,k=this._options.stepperVerticalBreakpoint<window.innerWidth,j=this._options.stepperVerticalBreakpoint>window.innerWidth,W=this._options.stepperMobileBreakpoint>window.innerWidth;k&&this._currentView!==Er&&this._toggleHorizontal(),j&&!W&&this._currentView!==Rn&&(this._steps.forEach(function(te){te=Oe.findOne(".".concat(Bn),te),E._resetStepperHeight(),E._showElement(te)}),this._toggleVertical())}},{key:"_toggleStep",value:function(E){this._activeStepIndex!==E&&(this._options.stepperNoEditable&&this._toggleDisabled(),this._showElement(Oe.findOne(".".concat(Bn),this._steps[E])),this._toggleActive(E),E>this._activeStepIndex&&this._toggleCompleted(this._activeStepIndex),this._currentView===Er?this._animateHorizontalStep(E):(this._animateVerticalStep(E),this._setSingleStepHeight(this._steps[E])),this._toggleStepTabIndex(Oe.findOne(".".concat(_n),this.activeStep),Oe.findOne(".".concat(_n),this._steps[E])),this._activeStepIndex=E)}},{key:"_resetStepperHeight",value:function(){this._element.style.height=""}},{key:"_setStepsHeight",value:function(){var E=this;this._steps.forEach(function(j){var j=Oe.findOne(".".concat(Bn),j),W=window.getComputedStyle(j),W=(E._verticalStepperStyles.push({paddingTop:parseFloat(W.paddingTop),paddingBottom:parseFloat(W.paddingBottom)}),j.scrollHeight);j.style.height="".concat(W,"px")})}},{key:"_setSingleStepHeight",value:function(j){var k=Oe.findOne(".".concat(Bn),j),W=this.activeStep===j,j=this._steps.indexOf(j),W=W?(k.style.height="",k.scrollHeight):k.scrollHeight+this._verticalStepperStyles[j].paddingTop+this._verticalStepperStyles[j].paddingBottom;k.style.height="".concat(W,"px")}},{key:"_toggleVertical",value:function(){this._currentView=Rn,this._toggleStepperClass(Go),this._setStepsHeight(),this._hideInactiveSteps()}},{key:"_toggleHorizontal",value:function(){this._currentView=Er,this._toggleStepperClass(Mu),this._setHeight(this.activeStep),this._hideInactiveSteps()}},{key:"_toggleStepperClass",value:function(E){this._element.classList.remove(Mu,Go),this._element.classList.add(E),E!==Go&&this._steps.forEach(function(k){Oe.findOne(".".concat(Bn),k).classList.remove(qo)})}},{key:"_toggleStepClass",value:function(E,k,j){j&&this._steps[E].classList[k](j)}},{key:"_bindKeysNavigation",value:function(){var E=this;this._toggleStepTabIndex(!1,Oe.findOne(".".concat(_n),this.activeStep)),this._steps.forEach(function(k){k=Oe.findOne(".".concat(_n),k),ut.on(k,vu,function(j){var W=Oe.parents(j.currentTarget,".".concat(sr))[0],te=Oe.next(W,".".concat(sr))[0],se=Oe.prev(W,".".concat(sr))[0],oe=Oe.findOne(".".concat(_n),W),ge=Oe.findOne(".".concat(_n),E.activeStep),de=null,Ee=null;te&&(de=Oe.findOne(".".concat(_n),te)),se&&(Ee=Oe.findOne(".".concat(_n),se)),j.keyCode===37&&E._currentView!==Rn&&(Ee?(E._toggleStepTabIndex(oe,Ee),E._toggleOutlineStyles(oe,Ee),Ee.focus()):de&&(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus())),j.keyCode===39&&E._currentView!==Rn&&(de?(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus()):Ee&&(E._toggleStepTabIndex(oe,Ee),E._toggleOutlineStyles(oe,Ee),Ee.focus())),j.keyCode===40&&E._currentView===Rn&&(j.preventDefault(),de&&(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus())),j.keyCode===38&&E._currentView===Rn&&(j.preventDefault(),Ee&&(E._toggleStepTabIndex(oe,Ee),E._toggleOutlineStyles(oe,Ee),Ee.focus())),j.keyCode===36&&(te=Oe.findOne(".".concat(_n),E._steps[0]),E._toggleStepTabIndex(oe,te),E._toggleOutlineStyles(oe,te),te.focus()),j.keyCode===35&&(se=E._steps[E._steps.length-1],de=Oe.findOne(".".concat(_n),se),E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus()),j.keyCode!==13&&j.keyCode!==32||(j.preventDefault(),E.changeStep(E._steps.indexOf(W))),j.keyCode===9&&(E._toggleStepTabIndex(oe,ge),E._toggleOutlineStyles(oe,!1),ge.focus())}),ut.on(k,Oc,function(j){var W=Oe.parents(j.currentTarget,".".concat(sr))[0],W=Oe.findOne(".".concat(_n),W),te=Oe.findOne(".".concat(_n),E.activeStep);j.keyCode===9&&(E._toggleStepTabIndex(W,te),E._toggleOutlineStyles(!1,te),te.focus())})})}},{key:"_toggleStepTabIndex",value:function(E,k){E&&E.setAttribute("tabIndex",-1),k&&k.setAttribute("tabIndex",0)}},{key:"_toggleOutlineStyles",value:function(E,k){E&&(E.style.outline=""),k&&(k.style.outline="revert")}},{key:"_toggleDisabled",value:function(){this._toggleStepClass(this._activeStepIndex,"add",Rc),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperDisabled)}},{key:"_toggleActive",value:function(E){this._toggleStepClass(E,"add",Sr),this._toggleStepClass(this._activeStepIndex,"remove",Sr),this._toggleStepClass(E,"add",this._options.stepperActive),this._toggleStepClass(this._activeStepIndex,"remove",this._options.stepperActive)}},{key:"_toggleCompleted",value:function(E){this._toggleStepClass(E,"add",Fc),this._toggleStepClass(E,"remove",Nc),this._toggleStepClass(E,"add",this._options.stepperCompleted),this._toggleStepClass(E,"remove",this._options.stepperInvalid)}},{key:"_hideInactiveSteps",value:function(){var E=this;this._steps.forEach(function(k){k.classList.contains(Sr)||E._hideElement(Oe.findOne(".".concat(Bn),k))})}},{key:"_setHeight",value:function(k){var W=Oe.findOne(".".concat(Bn),k),te=getComputedStyle(W),k=Oe.findOne(".".concat(_n),k),j=getComputedStyle(k),W=W.offsetHeight+parseFloat(te.marginTop)+parseFloat(te.marginBottom),te=k.offsetHeight+parseFloat(j.marginTop)+parseFloat(j.marginBottom);this._element.style.height="".concat(te+W,"px")}},{key:"_hideElement",value:function(E){Oe.parents(E,".".concat(sr))[0].classList.contains(Sr)||this._currentView===Rn?E.classList.add(qo):E.style.display="none"}},{key:"_showElement",value:function(E){this._currentView===Rn?E.classList.remove(qo):E.style.display="block"}},{key:"_animateHorizontalStep",value:function(E){var k,j=this,W=E>this._activeStepIndex,te=Oe.findOne(".".concat(Bn),this._steps[E]),se=Oe.findOne(".".concat(Bn),this.activeStep);this._steps.forEach(function(oe,ge){oe=Oe.findOne(".".concat(Bn),oe),j._clearStepAnimation(oe),ge!==E&&ge!==j._activeStepIndex&&j._hideElement(oe)}),W=W?(k="slide-out-left","slide-in-right"):(k="slide-out-right","slide-in-left"),se.classList.add(k,"animation","fast"),te.classList.add(W,"animation","fast"),this._setHeight(this._steps[E]),ut.one(se,$u,function(oe){j._clearStepAnimation(oe.target),j._hideElement(oe.target)}),ut.one(te,$u,function(oe){j._clearStepAnimation(oe.target)})}},{key:"_animateVerticalStep",value:function(k){var k=Oe.findOne(".".concat(Bn),this._steps[k]),j=Oe.findOne(".".concat(Bn),this.activeStep);this._hideElement(j),this._showElement(k)}},{key:"_clearStepAnimation",value:function(E){E.classList.remove("slide-out-left","slide-in-right","slide-out-right","slide-in-left","animation","fast")}}])&&yu(P.prototype,N),O&&yu(P,O),Object.defineProperty(P,"prototype",{writable:!1}),A}(),Tr=(Oe.find('[data-mdb-stepper="stepper"]').forEach(function(A){return Ho.getInstance(A)||new Ho(A)}),Ho);window.Alert=qt,window.Button=Ge,window.Dropdown=Lr,window.Carousel=yi,window.Collapse=pi,window.Offcanvas=on,window.Modal=br,window.Popover=Vt,window.ScrollSpy=wt,window.Tab=Un,window.Toast=An,window.Tooltip=_i,window.Ripple=dc,window.Datepicker=wr,window.Timepicker=ze,window.Stepper=Tr}]);const openplayer_min="";function binding(o){let u=0,f;return()=>{if(u===2)return f;if(u===1)throw new Error("Binding demanded before initialized");return u=1,f=o(),u=2,f}}function fail$3(){throw new Error("Failed pattern match")}const $$const=o=>u=>o,applyFlipped=o=>u=>u(o),semigroupoidFn={compose:o=>u=>f=>o(u(f))},unit=void 0,$Proxy=()=>({tag:"Proxy"}),$$Proxy=$Proxy(),arrayMap=function(o){return function(u){for(var f=u.length,d=new Array(f),m=0;m<f;m++)d[m]=o(u[m]);return d}},functorArray={map:arrayMap},identity$w=o=>o,arrayBind=function(o){return function(u){for(var f=[],d=0,m=o.length;d<m;d++)Array.prototype.push.apply(f,u(o[d]));return f}},identity$v=o=>o,unsafeHas=function(o){return function(u){return{}.hasOwnProperty.call(u,o)}},unsafeGet=function(o){return function(u){return u[o]}},unsafeSet=function(o){return function(u){return function(f){var d={};for(var m in f)({}).hasOwnProperty.call(f,m)&&(d[m]=f[m]);return d[o]=u,d}}},unsafeDelete=function(o){return function(u){var f={};for(var d in u)d!==o&&{}.hasOwnProperty.call(u,d)&&(f[d]=u[d]);return f}},showIntImpl=function(o){return o.toString()},showNumberImpl=function(o){var u=o.toString();return isNaN(u+".0")?u:u+".0"},showStringImpl=function(o){var u=o.length;return'"'+o.replace(/[\0-\x1F\x7F"\\]/g,function(f,d){switch(f){case'"':case"\\":return"\\"+f;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var m=d+1,h=m<u&&o[m]>="0"&&o[m]<="9"?"\\&":"";return"\\"+f.charCodeAt(0).toString(10)+h})+'"'},showArrayImpl=function(o){return function(u){for(var f=[],d=0,m=u.length;d<m;d++)f[d]=o(u[d]);return"["+f.join(",")+"]"}},cons=function(o){return function(u){return[o].concat(u)}},intercalate$2=function(o){return function(u){return u.join(o)}},$NoArguments=()=>({tag:"NoArguments"}),$Product=(o,u)=>({tag:"Product",_1:o,_2:u}),$Sum=(o,u)=>({tag:o,_1:u}),NoArguments=$NoArguments(),Constructor=o=>o,Argument=o=>o,$Ordering=o=>({tag:o}),LT=$Ordering("LT"),GT=$Ordering("GT"),EQ=$Ordering("EQ"),$Maybe=(o,u)=>({tag:o,_1:u}),Nothing=$Maybe("Nothing"),Just=o=>$Maybe("Just",o),maybe=o=>u=>f=>{if(f.tag==="Nothing")return o;if(f.tag==="Just")return u(f._1);fail$3()},isNothing=o=>{if(o.tag==="Nothing")return!0;if(o.tag==="Just")return!1;fail$3()},functorMaybe={map:o=>u=>u.tag==="Just"?$Maybe("Just",o(u._1)):Nothing},applyMaybe={apply:o=>u=>{if(o.tag==="Just")return u.tag==="Just"?$Maybe("Just",o._1(u._1)):Nothing;if(o.tag==="Nothing")return Nothing;fail$3()},Functor0:()=>functorMaybe},applicativeMaybe={pure:Just,Apply0:()=>applyMaybe},altMaybe={alt:o=>u=>o.tag==="Nothing"?u:o,Functor0:()=>functorMaybe},plusMaybe={empty:Nothing,Alt0:()=>altMaybe},$Either=(o,u)=>({tag:o,_1:u}),Left=o=>$Either("Left",o),Right=o=>$Either("Right",o),functorEither={map:o=>u=>{if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o(u._1));fail$3()}},applyEither$1={apply:o=>u=>{if(o.tag==="Left")return $Either("Left",o._1);if(o.tag==="Right"){if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o._1(u._1));fail$3()}fail$3()},Functor0:()=>functorEither},bindEither={bind:o=>{if(o.tag==="Left")return u=>$Either("Left",o._1);if(o.tag==="Right")return u=>u(o._1);fail$3()},Apply0:()=>applyEither$1},Identity=o=>o,functorIdentity={map:o=>u=>o(u)},applyIdentity={apply:o=>u=>o(u),Functor0:()=>functorIdentity},bindIdentity={bind:o=>u=>u(o),Apply0:()=>applyIdentity},applicativeIdentity={pure:Identity,Apply0:()=>applyIdentity},monadIdentity={Applicative0:()=>applicativeIdentity,Bind1:()=>bindIdentity},pureE=function(o){return function(){return o}},bindE=function(o){return function(u){return function(){return u(o())()}}},foreachE=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},monadEffect={Applicative0:()=>applicativeEffect,Bind1:()=>bindEffect},bindEffect={bind:bindE,Apply0:()=>applyEffect},applyEffect={apply:o=>u=>()=>{const f=o(),d=u();return applicativeEffect.pure(f(d))()},Functor0:()=>functorEffect},applicativeEffect={pure:pureE,Apply0:()=>applyEffect},functorEffect={map:o=>u=>()=>{const f=u();return o(f)}},$Tuple=(o,u)=>({tag:"Tuple",_1:o,_2:u}),Tuple=o=>u=>$Tuple(o,u),snd=o=>o._2,functorTuple={map:o=>u=>$Tuple(u._1,o(u._2))},fst=o=>o._1,ordTuple$1=o=>{const u=o.Eq0();return f=>{const d=f.Eq0(),m={eq:h=>b=>u.eq(h._1)(b._1)&&d.eq(h._2)(b._2)};return{compare:h=>b=>{const y=o.compare(h._1)(b._1);return y.tag==="LT"?LT:y.tag==="GT"?GT:f.compare(h._2)(b._2)},Eq0:()=>m}}},curry=o=>u=>f=>o($Tuple(u,f)),withExceptT=o=>u=>f=>o.map(d=>{if(d.tag==="Right")return $Either("Right",d._1);if(d.tag==="Left")return $Either("Left",u(d._1));fail$3()})(f),monadExceptT=o=>({Applicative0:()=>applicativeExceptT$3(o),Bind1:()=>bindExceptT$1(o)}),bindExceptT$1=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return{bind:d=>m=>u(d)(h=>{if(h.tag==="Left")return f($Either("Left",h._1));if(h.tag==="Right")return m(h._1);fail$3()}),Apply0:()=>applyExceptT(o)}},applyExceptT=o=>{const u=o.Bind1().Apply0().Functor0(),f={map:d=>u.map(functorEither.map(d))};return{apply:(()=>{const d=monadExceptT(o),m=d.Bind1().bind,h=d.Applicative0().pure;return b=>y=>m(b)(v=>m(y)(C=>h(v(C))))})(),Functor0:()=>f}},applicativeExceptT$3=o=>({pure:(()=>{const u=o.Applicative0().pure;return f=>u($Either("Right",f))})(),Apply0:()=>applyExceptT(o)}),monadThrowExceptT=o=>{const u=monadExceptT(o);return{throwError:(()=>{const f=o.Applicative0().pure;return d=>f($Either("Left",d))})(),Monad0:()=>u}},altExceptT=o=>u=>{const f=u.Bind1(),d=u.Applicative0().pure,m=f.Apply0().Functor0(),h={map:b=>m.map(functorEither.map(b))};return{alt:b=>y=>f.bind(b)(v=>{if(v.tag==="Right")return d($Either("Right",v._1));if(v.tag==="Left")return f.bind(y)(C=>{if(C.tag==="Right")return d($Either("Right",C._1));if(C.tag==="Left")return d($Either("Left",o.append(v._1)(C._1)));fail$3()});fail$3()}),Functor0:()=>h}},$NonEmpty=(o,u)=>({tag:"NonEmpty",_1:o,_2:u}),functorNonEmpty=o=>({map:u=>f=>$NonEmpty(u(f._1),o.map(u)(f._2))}),$List=(o,u,f)=>({tag:o,_1:u,_2:f}),identity$u=o=>o,Nil=$List("Nil"),Cons=o=>u=>$List("Cons",o,u),listMap=o=>(f=>d=>{let m=f,h=d,b=!0,y;for(;b;){const v=m,C=h,w=(_,g)=>(T=>M=>{let S=T,I=M,B=!0,x;for(;B;){const F=S,R=I;if(F.tag==="Cons"){if(F._1.tag==="Cons"){if(F._1._2.tag==="Cons"){if(F._1._2._2.tag==="Cons"){S=F._2,I=$List("Cons",o(F._1._1),$List("Cons",o(F._1._2._1),$List("Cons",o(F._1._2._2._1),R)));continue}B=!1,x=R;continue}B=!1,x=R;continue}B=!1,x=R;continue}B=!1,x=R}return x})(_)((()=>g.tag==="Cons"?g._2.tag==="Cons"?g._2._2.tag==="Nil"?$List("Cons",o(g._1),$List("Cons",o(g._2._1),Nil)):Nil:g._2.tag==="Nil"?$List("Cons",o(g._1),Nil):Nil:Nil)());if(C.tag==="Cons"){if(C._2.tag==="Cons"){if(C._2._2.tag==="Cons"){m=$List("Cons",C,v),h=C._2._2._2;continue}b=!1,y=w(v,C);continue}b=!1,y=w(v,C);continue}b=!1,y=w(v,C)}return y})(Nil),functorList={map:listMap},functorNonEmptyList=functorNonEmpty(functorList),foldableList={foldr:o=>u=>{const f=foldableList.foldl(m=>h=>o(h)(m))(u),d=(()=>(h=>b=>{let y=h,v=b,C=!0,w;for(;C;){const _=y,g=v;if(g.tag==="Nil"){C=!1,w=_;continue}if(g.tag==="Cons"){y=$List("Cons",g._1,_),v=g._2;continue}fail$3()}return w})(Nil))();return m=>f(d(m))},foldl:o=>f=>d=>{let m=f,h=d,b=!0,y;for(;b;){const v=m,C=h;if(C.tag==="Nil"){b=!1,y=v;continue}if(C.tag==="Cons"){m=o(v)(C._1),h=C._2;continue}fail$3()}return y},foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableList.foldl(d=>{const m=u(d);return h=>m(f(h))})(o.mempty)}},foldableWithIndexList={foldrWithIndex:o=>u=>f=>{const d=(()=>(b=>y=>{let v=b,C=y,w=!0,_;for(;w;){const g=v,$=C;if($.tag==="Nil"){w=!1,_=g;continue}if($.tag==="Cons"){v=$Tuple(g._1+1|0,$List("Cons",$._1,g._2)),C=$._2;continue}fail$3()}return _})($Tuple(0,Nil))(f))();return(h=>b=>{let y=h,v=b,C=!0,w;for(;C;){const _=y,g=v;if(g.tag==="Nil"){C=!1,w=_;continue}if(g.tag==="Cons"){y=$Tuple(_._1-1|0,o(_._1-1|0)(g._1)(_._2)),v=g._2;continue}fail$3()}return w})($Tuple(d._1,u))(d._2)._2},foldlWithIndex:o=>u=>{const f=(()=>(m=>h=>{let b=m,y=h,v=!0,C;for(;v;){const w=b,_=y;if(_.tag==="Nil"){v=!1,C=w;continue}if(_.tag==="Cons"){b=$Tuple(w._1+1|0,o(w._1)(w._2)(_._1)),y=_._2;continue}fail$3()}return C})($Tuple(0,u)))();return d=>f(d)._2},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexList.foldlWithIndex(d=>m=>{const h=u(m),b=f(d);return y=>h(b(y))})(o.mempty)},Foldable0:()=>foldableList},semigroupNonEmptyList={append:o=>u=>$NonEmpty(o._1,foldableList.foldr(Cons)($List("Cons",u._1,u._2))(o._2))},showList=o=>({show:u=>u.tag==="Nil"?"Nil":"("+((d=>m=>{let h=d,b=m,y=!0,v;for(;y;){const C=h,w=b;if(w.tag==="Nil"){y=!1,v=C;continue}if(w.tag==="Cons"){h=(()=>C.init?{init:!1,acc:w._1}:{init:!1,acc:C.acc+(" : "+w._1)})(),b=w._2;continue}fail$3()}return v})({init:!0,acc:""})(listMap(o.show)(u)).acc+" : Nil)")}),showNonEmptyList=o=>{const u=showList(o);return{show:f=>"(NonEmptyList (NonEmpty "+(o.show(f._1)+(" "+(u.show(f._2)+")")))+")"}},traversableList={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map,d=u.Functor0().map;return m=>{const h=f((()=>(v=>C=>{let w=v,_=C,g=!0,$;for(;g;){const T=w,M=_;if(M.tag==="Nil"){g=!1,$=T;continue}if(M.tag==="Cons"){w=$List("Cons",M._1,T),_=M._2;continue}fail$3()}return $})(Nil))()),b=(()=>(v=>C=>{let w=v,_=C,g=!0,$;for(;g;){const T=w,M=_;if(M.tag==="Nil"){g=!1,$=T;continue}if(M.tag==="Cons"){w=u.apply(d(S=>I=>$List("Cons",I,S))(T))(m(M._1)),_=M._2;continue}fail$3()}return $})(o.pure(Nil)))();return y=>h(b(y))}},sequence:o=>traversableList.traverse(o)(identity$u),Functor0:()=>functorList,Foldable1:()=>foldableList};function showErrorImpl(o){return o.stack||o.toString()}function error$1(o){return new Error(o)}function message(o){return o.message}function throwException(o){return function(){throw o}}function catchException(o){return function(u){return function(){try{return u()}catch(f){return f instanceof Error||Object.prototype.toString.call(f)==="[object Error]"?o(f)():o(new Error(f.toString()))()}}}}const $$try$2=o=>{const u=o.MonadThrow0().Monad0(),f=u.Bind1().Apply0().Functor0().map,d=u.Applicative0().pure;return m=>o.catchError(f(Right)(m))(h=>d($Either("Left",h)))},semigroupFirst={append:o=>u=>o.tag==="Just"?o:u},monoidFirst={mempty:Nothing,Semigroup0:()=>semigroupFirst},foldrArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=m-1;h>=0;h--)d=o(f[h])(d);return d}}},foldlArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=0;h<m;h++)d=o(d)(f[h]);return d}}},identity$t=o=>o,traverse_$7=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldr(h=>{const b=m(h);return y=>u.apply(f(v=>identity$w)(b))(y)})(o.pure(unit))},for_$9=o=>{const u=traverse_$7(o);return f=>{const d=u(f);return m=>h=>d(h)(m)}},foldableTuple={foldr:o=>u=>f=>o(f._2)(u),foldl:o=>u=>f=>o(u)(f._2),foldMap:o=>u=>f=>u(f._2)},foldableMaybe={foldr:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(f._1)(u);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(u)(f._1);fail$3()},foldMap:o=>u=>f=>{if(f.tag==="Nothing")return o.mempty;if(f.tag==="Just")return u(f._1);fail$3()}},foldableArray={foldr:foldrArray,foldl:foldlArray,foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableArray.foldr(d=>m=>u(f(d))(m))(o.mempty)}},lookup$3=o=>{const u=o.foldMap(monoidFirst);return f=>d=>u(m=>f.eq(d)(m._1)?$Maybe("Just",m._2):Nothing)},parTraverse_$1=o=>{const u=traverse_$7(o.Applicative1());return f=>{const d=u(f);return m=>{const h=d(b=>o.parallel(m(b)));return b=>o.sequential(h(b))}}},unsafePerformEffect=function(o){return o()},_crashWith=function(o){throw new Error(o)},unsafeCoerce=function(o){return o};var Aff=function(){var o={},u="Pure",f="Throw",d="Catch",m="Sync",h="Async",b="Bind",y="Bracket",v="Fork",C="Sequential",w="Map",_="Apply",g="Alt",$="Cons",T="Resume",M="Release",S="Finalizer",I="Finalized",B="Forked";function x(le,ye,me,ve){this.tag=le,this._1=ye,this._2=me,this._3=ve}function F(le){var ye=function(me,ve,Ce){return new x(le,me,ve,Ce)};return ye.tag=le,ye}function R(le){return new x(u,void 0)}function L(le){try{le()}catch(ye){setTimeout(function(){throw ye},0)}}function z(le,ye,me){try{return ye(me())}catch(ve){return le(ve)}}function J(le,ye,me){try{return ye(me)()}catch(ve){return me(le(ve))(),R}}var K=function(){var le=1024,ye=0,me=0,ve=new Array(le),Ce=!1;function be(){var Ae;for(Ce=!0;ye!==0;)ye--,Ae=ve[me],ve[me]=void 0,me=(me+1)%le,Ae();Ce=!1}return{isDraining:function(){return Ce},enqueue:function(Ae){var fe;ye===le&&(fe=Ce,be(),Ce=fe),ve[(me+ye)%le]=Ae,ye++,Ce||be()}}}();function ee(le){var ye={},me=0,ve=0;return{register:function(Ce){var be=me++;Ce.onComplete({rethrow:!0,handler:function(Ae){return function(){ve--,delete ye[be]}}})(),ye[be]=Ce,ve++},isEmpty:function(){return ve===0},killAll:function(Ce,be){return function(){if(ve===0)return be();var Ae=0,fe={};function _e(Je){fe[Je]=ye[Je].kill(Ce,function(Ke){return function(){delete fe[Je],Ae--,le.isLeft(Ke)&&le.fromLeft(Ke)&&setTimeout(function(){throw le.fromLeft(Ke)},0),Ae===0&&be()}})()}for(var Ne in ye)ye.hasOwnProperty(Ne)&&(Ae++,_e(Ne));return ye={},me=0,ve=0,function(Je){return new x(m,function(){for(var Ke in fe)fe.hasOwnProperty(Ke)&&fe[Ke]()})}}}}}var q=0,G=1,Z=2,ie=3,Q=4,H=5,ne=6;function re(le,ye,me){var ve=0,Ce=q,be=me,Ae=null,fe=null,_e=null,Ne=null,Je=null,Ke=0,dt=0,pt=null,et=!0;function yt(Le){for(var je,Ze,Ge;;)switch(je=null,Ze=null,Ge=null,Ce){case Z:Ce=G;try{be=_e(be),Ne===null?_e=null:(_e=Ne._1,Ne=Ne._2)}catch(rt){Ce=H,Ae=le.left(rt),be=null}break;case ie:le.isLeft(be)?(Ce=H,Ae=be,be=null):_e===null?Ce=H:(Ce=Z,be=le.fromRight(be));break;case G:switch(be.tag){case b:_e&&(Ne=new x($,_e,Ne)),_e=be._2,Ce=G,be=be._1;break;case u:_e===null?(Ce=H,be=le.right(be._1)):(Ce=Z,be=be._1);break;case m:Ce=ie,be=z(le.left,le.right,be._1);break;case h:Ce=Q,be=J(le.left,be._1,function(rt){return function(){ve===Le&&(ve++,K.enqueue(function(){ve===Le+1&&(Ce=ie,be=rt,yt(ve))}))}});return;case f:Ce=H,Ae=le.left(be._1),be=null;break;case d:_e===null?Je=new x($,be,Je,fe):Je=new x($,be,new x($,new x(T,_e,Ne),Je,fe),fe),_e=null,Ne=null,Ce=G,be=be._1;break;case y:Ke++,_e===null?Je=new x($,be,Je,fe):Je=new x($,be,new x($,new x(T,_e,Ne),Je,fe),fe),_e=null,Ne=null,Ce=G,be=be._1;break;case v:Ce=ie,je=re(le,ye,be._2),ye&&ye.register(je),be._1&&je.run(),be=le.right(je);break;case C:Ce=G,be=ue(le,ye,be._1);break}break;case H:if(_e=null,Ne=null,Je===null)Ce=ne,be=fe||Ae||be;else switch(je=Je._3,Ge=Je._1,Je=Je._2,Ge.tag){case d:fe&&fe!==je&&Ke===0?Ce=H:Ae&&(Ce=G,be=Ge._2(le.fromLeft(Ae)),Ae=null);break;case T:fe&&fe!==je&&Ke===0||Ae?Ce=H:(_e=Ge._1,Ne=Ge._2,Ce=Z,be=le.fromRight(be));break;case y:Ke--,Ae===null&&(Ze=le.fromRight(be),Je=new x($,new x(M,Ge._2,Ze),Je,je),(fe===je||Ke>0)&&(Ce=G,be=Ge._3(Ze)));break;case M:Je=new x($,new x(I,be,Ae),Je,fe),Ce=G,fe&&fe!==je&&Ke===0?be=Ge._1.killed(le.fromLeft(fe))(Ge._2):Ae?be=Ge._1.failed(le.fromLeft(Ae))(Ge._2):be=Ge._1.completed(le.fromRight(be))(Ge._2),Ae=null,Ke++;break;case S:Ke++,Je=new x($,new x(I,be,Ae),Je,fe),Ce=G,be=Ge._1;break;case I:Ke--,Ce=H,be=Ge._1,Ae=Ge._2;break}break;case ne:for(var it in pt)pt.hasOwnProperty(it)&&(et=et&&pt[it].rethrow,L(pt[it].handler(be)));pt=null,fe&&Ae?setTimeout(function(){throw le.fromLeft(Ae)},0):le.isLeft(be)&&et&&setTimeout(function(){if(et)throw le.fromLeft(be)},0);return;case q:Ce=G;break;case Q:return}}function Te(Le){return function(){if(Ce===ne)return et=et&&Le.rethrow,Le.handler(be)(),function(){};var je=dt++;return pt=pt||{},pt[je]=Le,function(){pt!==null&&delete pt[je]}}}function Ve(Le,je){return function(){if(Ce===ne)return je(le.right(void 0))(),function(){};var Ze=Te({rethrow:!1,handler:function(){return je(le.right(void 0))}})();switch(Ce){case q:fe=le.left(Le),Ce=ne,be=fe,yt(ve);break;case Q:fe===null&&(fe=le.left(Le)),Ke===0&&(Ce===Q&&(Je=new x($,new x(S,be(Le)),Je,fe)),Ce=H,be=null,Ae=null,yt(++ve));break;default:fe===null&&(fe=le.left(Le)),Ke===0&&(Ce=H,be=null,Ae=null)}return Ze}}function We(Le){return function(){var je=Te({rethrow:!1,handler:Le})();return Ce===q&&yt(ve),je}}return{kill:Ve,join:We,onComplete:Te,isSuspended:function(){return Ce===q},run:function(){Ce===q&&(K.isDraining()?yt(ve):K.enqueue(function(){yt(ve)}))}}}function X(le,ye,me,ve){var Ce=0,be={},Ae=0,fe={},_e=new Error("[ParAff] Early exit"),Ne=null,Je=o;function Ke(Te,Ve,We){var Le=Ve,je=null,Ze=null,Ge=0,it={},rt,Xe;e:for(;;)switch(rt=null,Le.tag){case B:if(Le._3===o&&(rt=be[Le._1],it[Ge++]=rt.kill(Te,function(tt){return function(){Ge--,Ge===0&&We(tt)()}})),je===null)break e;Le=je._2,Ze===null?je=null:(je=Ze._1,Ze=Ze._2);break;case w:Le=Le._2;break;case _:case g:je&&(Ze=new x($,je,Ze)),je=Le,Le=Le._1;break}if(Ge===0)We(le.right(void 0))();else for(Xe=0,rt=Ge;Xe<rt;Xe++)it[Xe]=it[Xe]();return it}function dt(Te,Ve,We){var Le,je,Ze,Ge,it,rt;for(le.isLeft(Te)?(Le=Te,je=null):(je=Te,Le=null);;){if(Ze=null,Ge=null,it=null,rt=null,Ne!==null)return;if(Ve===null){ve(Le||je)();return}if(Ve._3!==o)return;switch(Ve.tag){case w:Le===null?(Ve._3=le.right(Ve._1(le.fromRight(je))),je=Ve._3):Ve._3=Le;break;case _:if(Ze=Ve._1._3,Ge=Ve._2._3,Le){if(Ve._3=Le,it=!0,rt=Ae++,fe[rt]=Ke(_e,Le===Ze?Ve._2:Ve._1,function(){return function(){delete fe[rt],it?it=!1:We===null?dt(Le,null,null):dt(Le,We._1,We._2)}}),it){it=!1;return}}else{if(Ze===o||Ge===o)return;je=le.right(le.fromRight(Ze)(le.fromRight(Ge))),Ve._3=je}break;case g:if(Ze=Ve._1._3,Ge=Ve._2._3,Ze===o&&le.isLeft(Ge)||Ge===o&&le.isLeft(Ze))return;if(Ze!==o&&le.isLeft(Ze)&&Ge!==o&&le.isLeft(Ge))Le=je===Ze?Ge:Ze,je=null,Ve._3=Le;else if(Ve._3=je,it=!0,rt=Ae++,fe[rt]=Ke(_e,je===Ze?Ve._2:Ve._1,function(){return function(){delete fe[rt],it?it=!1:We===null?dt(je,null,null):dt(je,We._1,We._2)}}),it){it=!1;return}break}We===null?Ve=null:(Ve=We._1,We=We._2)}}function pt(Te){return function(Ve){return function(){delete be[Te._1],Te._3=Ve,dt(Ve,Te._2._1,Te._2._2)}}}function et(){var Te=G,Ve=me,We=null,Le=null,je,Ze;e:for(;;)switch(je=null,Ze=null,Te){case G:switch(Ve.tag){case w:We&&(Le=new x($,We,Le)),We=new x(w,Ve._1,o,o),Ve=Ve._2;break;case _:We&&(Le=new x($,We,Le)),We=new x(_,o,Ve._2,o),Ve=Ve._1;break;case g:We&&(Le=new x($,We,Le)),We=new x(g,o,Ve._2,o),Ve=Ve._1;break;default:Ze=Ce++,Te=H,je=Ve,Ve=new x(B,Ze,new x($,We,Le),o),je=re(le,ye,je),je.onComplete({rethrow:!1,handler:pt(Ve)})(),be[Ze]=je,ye&&ye.register(je)}break;case H:if(We===null)break e;We._1===o?(We._1=Ve,Te=G,Ve=We._2,We._2=o):(We._2=Ve,Ve=We,Le===null?We=null:(We=Le._1,Le=Le._2))}for(Je=Ve,Ze=0;Ze<Ce;Ze++)be[Ze].run()}function yt(Te,Ve){Ne=le.left(Te);var We;for(var Le in fe)if(fe.hasOwnProperty(Le)){We=fe[Le];for(Le in We)We.hasOwnProperty(Le)&&We[Le]()}fe=null;var je=Ke(Te,Je,Ve);return function(Ze){return new x(h,function(Ge){return function(){for(var it in je)je.hasOwnProperty(it)&&je[it]();return R}})}}return et(),function(Te){return new x(h,function(Ve){return function(){return yt(Te,Ve)}})}}function ue(le,ye,me){return new x(h,function(ve){return function(){return X(le,ye,me,ve)}})}return x.EMPTY=o,x.Pure=F(u),x.Throw=F(f),x.Catch=F(d),x.Sync=F(m),x.Async=F(h),x.Bind=F(b),x.Bracket=F(y),x.Fork=F(v),x.Seq=F(C),x.ParMap=F(w),x.ParApply=F(_),x.ParAlt=F(g),x.Fiber=re,x.Supervisor=ee,x.Scheduler=K,x.nonCanceler=R,x}();const _pure=Aff.Pure,_throwError=Aff.Throw;function _catchError(o){return function(u){return Aff.Catch(o,u)}}function _map(o){return function(u){return u.tag===Aff.Pure.tag?Aff.Pure(o(u._1)):Aff.Bind(u,function(f){return Aff.Pure(o(f))})}}function _bind(o){return function(u){return Aff.Bind(o,u)}}function _fork(o){return function(u){return Aff.Fork(o,u)}}const _liftEffect=Aff.Sync;function _parAffMap(o){return function(u){return Aff.ParMap(o,u)}}function _parAffApply(o){return function(u){return Aff.ParApply(o,u)}}const makeAff=Aff.Async;function _makeFiber(o,u){return function(){return Aff.Fiber(o,null,u)}}const _delay=function(){function o(f,d){return f===0&&typeof setImmediate<"u"?setImmediate(d):setTimeout(d,f)}function u(f,d){return f===0&&typeof clearImmediate<"u"?clearImmediate(d):clearTimeout(d)}return function(f,d){return Aff.Async(function(m){return function(){var h=o(d,m(f()));return function(){return Aff.Sync(function(){return f(u(d,h))})}}})}}(),_sequential=Aff.Seq,functorParAff={map:_parAffMap},functorAff={map:_map},forkAff=_fork(!0),ffiUtil$1={isLeft:o=>{if(o.tag==="Left")return!0;if(o.tag==="Right")return!1;fail$3()},fromLeft:o=>{if(o.tag==="Left")return o._1;if(o.tag==="Right")return _crashWith("unsafeFromLeft: Right");fail$3()},fromRight:o=>{if(o.tag==="Right")return o._1;if(o.tag==="Left")return _crashWith("unsafeFromRight: Left");fail$3()},left:Left,right:Right},applyParAff={apply:_parAffApply,Functor0:()=>functorParAff},monadAff={Applicative0:()=>applicativeAff,Bind1:()=>bindAff},bindAff={bind:_bind,Apply0:()=>applyAff},applyAff={apply:o=>u=>_bind(o)(f=>_bind(u)(d=>applicativeAff.pure(f(d)))),Functor0:()=>functorAff},applicativeAff={pure:_pure,Apply0:()=>applyAff},joinFiber=o=>makeAff(u=>{const f=o.join(u);return()=>{const d=f();return(()=>{const m=_liftEffect(d);return h=>m})()}}),monadThrowAff={throwError:_throwError,Monad0:()=>monadAff},monadErrorAff={catchError:_catchError,MonadThrow0:()=>monadThrowAff},parallelAff={parallel:unsafeCoerce,sequential:_sequential,Monad0:()=>monadAff,Applicative1:()=>applicativeParAff},applicativeParAff={pure:o=>_pure(o),Apply0:()=>applyParAff},monoidAff=o=>{const u=o.Semigroup0(),f={append:d=>m=>applyAff.apply(_map(u.append)(d))(m)};return{mempty:_pure(o.mempty),Semigroup0:()=>f}},nonCanceler=(()=>{const o=_pure(unit);return u=>o})(),never=makeAff(o=>()=>nonCanceler),isFiniteImpl=isFinite,abs=Math.abs,cos=Math.cos,floor=Math.floor,pow=function(o){return function(u){return Math.pow(o,u)}},remainder=function(o){return function(u){return o%u}},round=Math.round,sin=Math.sin,sqrt=Math.sqrt,fromNumberImpl=function(o){return function(u){return function(f){return(f|0)===f?o(f):u}}},toNumber=function(o){return o},fromNumber=fromNumberImpl(Just)(Nothing),unsafeClamp=o=>{if(!isFiniteImpl(o))return 0;if(o>=toNumber(2147483647))return 2147483647;if(o<=toNumber(-2147483648))return-2147483648;const u=fromNumber(o);if(u.tag==="Nothing")return 0;if(u.tag==="Just")return u._1;fail$3()};var refEq=function(o){return function(u){return o===u}};const eqBooleanImpl=refEq,eqIntImpl=refEq,eqNumberImpl=refEq,eqStringImpl=refEq,eqString={eq:eqStringImpl},eqNumber={eq:eqNumberImpl},eqInt={eq:eqIntImpl},eqBoolean={eq:eqBooleanImpl};var unsafeCompareImpl=function(o){return function(u){return function(f){return function(d){return function(m){return d<m?o:d===m?u:f}}}}};const ordIntImpl=unsafeCompareImpl,ordNumberImpl=unsafeCompareImpl,ordStringImpl=unsafeCompareImpl,ordString={compare:ordStringImpl(LT)(EQ)(GT),Eq0:()=>eqString},ordNumber={compare:ordNumberImpl(LT)(EQ)(GT),Eq0:()=>eqNumber},ordInt={compare:ordIntImpl(LT)(EQ)(GT),Eq0:()=>eqInt},length=function(o){return o.length},_indexOf=function(o){return function(u){return function(f){return function(d){var m=d.indexOf(f);return m===-1?u:o(m)}}}},take$2=function(o){return function(u){return u.substr(0,o)}},drop$1=function(o){return function(u){return u.substring(o)}},indexOf=_indexOf(Just)(Nothing),contains=o=>{const u=indexOf(o);return f=>{const d=u(f);if(d.tag==="Nothing")return!1;if(d.tag==="Just")return!0;fail$3()}};function typeOf(o){return typeof o}function tagOf(o){return Object.prototype.toString.call(o).slice(8,-1)}function isNull(o){return o===null}function isUndefined(o){return o===void 0}const isArray=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},$ForeignError=(o,u,f)=>({tag:o,_1:u,_2:f}),ErrorAtIndex=o=>u=>$ForeignError("ErrorAtIndex",o,u),ErrorAtProperty=o=>u=>$ForeignError("ErrorAtProperty",o,u),showForeignError={show:o=>{if(o.tag==="ForeignError")return"(ForeignError "+(showStringImpl(o._1)+")");if(o.tag==="ErrorAtIndex")return"(ErrorAtIndex "+(showIntImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="ErrorAtProperty")return"(ErrorAtProperty "+(showStringImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="TypeMismatch")return"(TypeMismatch "+(showStringImpl(o._1)+(" "+(showStringImpl(o._2)+")")));fail$3()}},renderForeignError=o=>{if(o.tag==="ForeignError")return o._1;if(o.tag==="ErrorAtIndex")return"Error at array index "+(showIntImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="ErrorAtProperty")return"Error at property "+(showStringImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="TypeMismatch")return"Type mismatch: expected "+(o._1+(", found "+o._2));fail$3()},readArray$1=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>isArray(d)?u(d):f($NonEmpty($ForeignError("TypeMismatch","array",tagOf(d)),Nil))},unsafeReadTagged$2=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>m=>tagOf(m)===d?u(m):f($NonEmpty($ForeignError("TypeMismatch",d,tagOf(m)),Nil))},readInt$1=o=>{const u=o.Bind1().Apply0().Functor0().map,f=unsafeReadTagged$2(o)("Number");return d=>{const m=$Either("Left",$NonEmpty($ForeignError("TypeMismatch","Int",tagOf(d)),Nil));return u(h=>{if(h.tag==="Left")return m;if(h.tag==="Right"){const b=fromNumber(h._1);if(b.tag==="Nothing")return m;if(b.tag==="Just")return $Either("Right",b._1);fail$3()}fail$3()})(f(d))}};function thenImpl(o){return function(u){return function(f){return function(){o.then(f,u)}}}}const alt$1=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),unsafeReadTagged$1=unsafeReadTagged$2(monadIdentity),readString$1=unsafeReadTagged$2(monadIdentity)("String"),toAff$p=o=>u=>makeAff(f=>{const d=thenImpl(u)(m=>f($Either("Left",o(m)))())(m=>f($Either("Right",m))());return()=>(d(),nonCanceler)}),coerce=o=>{const u=alt$1(unsafeReadTagged$1("Error")(o))((()=>{const f=readString$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",error$1(f._1));fail$3()})());if(u.tag==="Left")return error$1("Promise failed, couldn't extract JS Error or String");if(u.tag==="Right")return u._1;fail$3()},topNumber=Number.POSITIVE_INFINITY,toUnfoldable$2=o=>o.unfoldr(u=>{if(u.tag==="Nil")return Nothing;if(u.tag==="Cons")return $Maybe("Just",$Tuple(u._1,u._2));fail$3()}),span$1=o=>u=>{if(u.tag==="Cons"){if(o(u._1)){const f=span$1(o)(u._2);return{init:$List("Cons",u._1,f.init),rest:f.rest}}return{init:Nil,rest:u}}return{init:Nil,rest:u}},sortBy$1=o=>{const u=b=>y=>{if(b.tag==="Cons"){if(y.tag==="Cons")return o(b._1)(y._1).tag==="GT"?$List("Cons",y._1,u(b)(y._2)):$List("Cons",b._1,u(b._2)(y));if(y.tag==="Nil")return b;fail$3()}if(b.tag==="Nil")return y;if(y.tag==="Nil")return b;fail$3()},f=b=>b.tag==="Cons"&&b._2.tag==="Cons"?$List("Cons",u(b._1)(b._2._1),f(b._2._2)):b,d=b=>{let y=b,v=!0,C;for(;v;){const w=y;if(w.tag==="Cons"){if(w._2.tag==="Nil"){v=!1,C=w._1;continue}y=f(w);continue}y=f(w)}return C},m=(b,y,v,C)=>{let w=b,_=y,g=v,$=C,T=!0,M;for(;T;){if(w===0){const S=_;if(S.tag==="Cons"){if(S._2.tag==="Cons"){if(o(S._1)(S._2._1).tag==="GT"){w=1,_=S._2._1,g=$List("Cons",S._1,Nil),$=S._2._2;continue}w=2,_=S._2._1,g=I=>$List("Cons",S._1,I),$=S._2._2;continue}T=!1,M=$List("Cons",S,Nil);continue}T=!1,M=$List("Cons",S,Nil);continue}if(w===1){const S=_,I=g,B=$;if(B.tag==="Cons"){if(o(S)(B._1).tag==="GT"){w=1,_=B._1,g=$List("Cons",S,I),$=B._2;continue}T=!1,M=$List("Cons",$List("Cons",S,I),h(B));continue}T=!1,M=$List("Cons",$List("Cons",S,I),h(B));continue}if(w===2){const S=_,I=g,B=$;if(B.tag==="Cons"){if((()=>{const x=o(S)(B._1);return x.tag==="LT"||x.tag!=="GT"})()){w=2,_=B._1,g=x=>I($List("Cons",S,x)),$=B._2;continue}T=!1,M=$List("Cons",I($List("Cons",S,Nil)),h(B));continue}T=!1,M=$List("Cons",I($List("Cons",S,Nil)),h(B));continue}}return M},h=b=>m(0,b);return b=>d(h(b))},reverse=(()=>(u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,v=m;if(v.tag==="Nil"){h=!1,b=y;continue}if(v.tag==="Cons"){d=$List("Cons",v._1,y),m=v._2;continue}fail$3()}return b})(Nil))(),take$1=(()=>(u=>f=>d=>{let m=u,h=f,b=d,y=!0,v;for(;y;){const C=m,w=h,_=b;if(w<1){y=!1,v=reverse(C);continue}if(_.tag==="Nil"){y=!1,v=reverse(C);continue}if(_.tag==="Cons"){m=$List("Cons",_._1,C),h=w-1|0,b=_._2;continue}fail$3()}return v})(Nil))(),drop=o=>u=>{let f=o,d=u,m=!0,h;for(;m;){const b=f,y=d;if(b<1){m=!1,h=y;continue}if(y.tag==="Nil"){m=!1,h=Nil;continue}if(y.tag==="Cons"){f=b-1|0,d=y._2;continue}fail$3()}return h},defer=function(o){var u=null;return function(){return o===void 0||(u=o(),o=void 0),u}},force=function(o){return o()},unfoldr1ArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var b=[],y=h;;){var v=m(y);b.push(f(v));var C=d(v);if(o(C))return b;y=u(C)}}}}}}},fromJust$1=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldable1Array={unfoldr1:unfoldr1ArrayImpl(isNothing)(fromJust$1)(fst)(snd)},unfoldrArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var b=[],y=h;;){var v=m(y);if(o(v))return b;var C=u(v);b.push(f(C)),y=d(C)}}}}}}},fromJust=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldableArray={unfoldr:unfoldrArrayImpl(isNothing)(fromJust)(fst)(snd),Unfoldable10:()=>unfoldable1Array},replicate$1=o=>u=>f=>o.unfoldr(d=>d<=0?Nothing:$Maybe("Just",$Tuple(f,d-1|0)))(u),$KickUp=(o,u,f,d)=>({tag:"KickUp",_1:o,_2:u,_3:f,_4:d}),$Map=(o,u,f,d,m,h,b,y)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:b,_7:y}),$TreeContext=(o,u,f,d,m,h,b)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:b}),identity$s=o=>o,Leaf=$Map("Leaf"),Two=o=>u=>f=>d=>$Map("Two",o,u,f,d),Three=o=>u=>f=>d=>m=>h=>b=>$Map("Three",o,u,f,d,m,h,b),toUnfoldable$1=o=>u=>{const f=d=>{let m=d,h=!0,b;for(;h;){const y=m;if(y.tag==="Nil"){h=!1,b=Nothing;continue}if(y.tag==="Cons"){if(y._1.tag==="Leaf"){m=y._2;continue}if(y._1.tag==="Two"){if(y._1._1.tag==="Leaf"){if(y._1._4.tag==="Leaf"){h=!1,b=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),y._2));continue}h=!1,b=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),$List("Cons",y._1._4,y._2)));continue}m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,y._2)));continue}if(y._1.tag==="Three"){m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,$List("Cons",$Map("Two",Leaf,y._1._5,y._1._6,Leaf),$List("Cons",y._1._7,y._2)))));continue}fail$3()}fail$3()}return b};return o.unfoldr(f)($List("Cons",u,Nil))},showMap=o=>u=>{const f=showArrayImpl(d=>"(Tuple "+(o.show(d._1)+(" "+(u.show(d._2)+")"))));return{show:d=>"(fromFoldable "+(f(toUnfoldable$1(unfoldableArray)(d))+")")}},lookup$2=o=>u=>d=>{let m=d,h=!0,b;for(;h;){const y=m;if(y.tag==="Leaf"){h=!1,b=Nothing;continue}if(y.tag==="Two"){const v=o.compare(u)(y._2);if(v.tag==="EQ"){h=!1,b=$Maybe("Just",y._3);continue}if(v.tag==="LT"){m=y._1;continue}m=y._4;continue}if(y.tag==="Three"){const v=o.compare(u)(y._2);if(v.tag==="EQ"){h=!1,b=$Maybe("Just",y._3);continue}const C=o.compare(u)(y._5);if(C.tag==="EQ"){h=!1,b=$Maybe("Just",y._6);continue}if(v.tag==="LT"){m=y._1;continue}if(C.tag==="GT"){m=y._7;continue}m=y._4;continue}fail$3()}return b},functorMap={map:o=>u=>{if(u.tag==="Leaf")return Leaf;if(u.tag==="Two")return $Map("Two",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4));if(u.tag==="Three")return $Map("Three",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4),u._5,o(u._6),functorMap.map(o)(u._7));fail$3()}},fromZipper=o=>u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,v=m;if(y.tag==="Nil"){h=!1,b=v;continue}if(y.tag==="Cons"){if(y._1.tag==="TwoLeft"){d=y._2,m=$Map("Two",v,y._1._1,y._1._2,y._1._3);continue}if(y._1.tag==="TwoRight"){d=y._2,m=$Map("Two",y._1._1,y._1._2,y._1._3,v);continue}if(y._1.tag==="ThreeLeft"){d=y._2,m=$Map("Three",v,y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeMiddle"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,v,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeRight"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6,v);continue}fail$3()}fail$3()}return b},insert$2=o=>u=>f=>{const d=h=>b=>{let y=h,v=b,C=!0,w;for(;C;){const _=y,g=v;if(_.tag==="Nil"){C=!1,w=$Map("Two",g._1,g._2,g._3,g._4);continue}if(_.tag==="Cons"){if(_._1.tag==="TwoLeft"){C=!1,w=fromZipper()(_._2)($Map("Three",g._1,g._2,g._3,g._4,_._1._1,_._1._2,_._1._3));continue}if(_._1.tag==="TwoRight"){C=!1,w=fromZipper()(_._2)($Map("Three",_._1._1,_._1._2,_._1._3,g._1,g._2,g._3,g._4));continue}if(_._1.tag==="ThreeLeft"){y=_._2,v=$KickUp($Map("Two",g._1,g._2,g._3,g._4),_._1._1,_._1._2,$Map("Two",_._1._3,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeMiddle"){y=_._2,v=$KickUp($Map("Two",_._1._1,_._1._2,_._1._3,g._1),g._2,g._3,$Map("Two",g._4,_._1._4,_._1._5,_._1._6));continue}if(_._1.tag==="ThreeRight"){y=_._2,v=$KickUp($Map("Two",_._1._1,_._1._2,_._1._3,_._1._4),_._1._5,_._1._6,$Map("Two",g._1,g._2,g._3,g._4));continue}fail$3()}fail$3()}return w};return(h=>b=>{let y=h,v=b,C=!0,w;for(;C;){const _=y,g=v;if(g.tag==="Leaf"){C=!1,w=d(_)($KickUp(Leaf,u,f,Leaf));continue}if(g.tag==="Two"){const $=o.compare(u)(g._2);if($.tag==="EQ"){C=!1,w=fromZipper()(_)($Map("Two",g._1,u,f,g._4));continue}if($.tag==="LT"){y=$List("Cons",$TreeContext("TwoLeft",g._2,g._3,g._4),_),v=g._1;continue}y=$List("Cons",$TreeContext("TwoRight",g._1,g._2,g._3),_),v=g._4;continue}if(g.tag==="Three"){const $=o.compare(u)(g._2);if($.tag==="EQ"){C=!1,w=fromZipper()(_)($Map("Three",g._1,u,f,g._4,g._5,g._6,g._7));continue}const T=o.compare(u)(g._5);if(T.tag==="EQ"){C=!1,w=fromZipper()(_)($Map("Three",g._1,g._2,g._3,g._4,u,f,g._7));continue}if($.tag==="LT"){y=$List("Cons",$TreeContext("ThreeLeft",g._2,g._3,g._4,g._5,g._6,g._7),_),v=g._1;continue}if($.tag==="GT"){if(T.tag==="LT"){y=$List("Cons",$TreeContext("ThreeMiddle",g._1,g._2,g._3,g._5,g._6,g._7),_),v=g._4;continue}y=$List("Cons",$TreeContext("ThreeRight",g._1,g._2,g._3,g._4,g._5,g._6),_),v=g._7;continue}y=$List("Cons",$TreeContext("ThreeRight",g._1,g._2,g._3,g._4,g._5,g._6),_),v=g._7;continue}fail$3()}return w})(Nil)},pop=o=>u=>{const f=b=>y=>{let v=b,C=y,w=!0,_;for(;w;){const g=v,$=C;if(g.tag==="Nil"){w=!1,_=$;continue}if(g.tag==="Cons"){const T=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",$Map("Two",J,G,Q,K),Z,H,$Map("Two",ee,ie,ne,q))),M=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",$Map("Two",J,G,Q,K),Z,H,$Map("Two",ee,ie,ne,q))),S=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",$Map("Three",J,G,Q,K,Z,H,ee),ie,ne,q)),I=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",$Map("Three",J,G,Q,K,Z,H,ee),ie,ne,q)),B=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",J,G,Q,$Map("Three",K,Z,H,ee,ie,ne,q))),x=(J,K,ee,q,G,Z,ie,Q,H,ne)=>fromZipper()(g._2)($Map("Two",J,G,Q,$Map("Three",K,Z,H,ee,ie,ne,q))),F=(J,K,ee,q,G,Z,ie,Q,H,ne,re,X,ue)=>fromZipper()(g._2)($Map("Three",$Map("Two",J,Z,ne,K),ie,re,$Map("Two",ee,Q,X,q),H,ue,G)),R=(J,K,ee,q,G,Z,ie,Q,H,ne,re,X,ue)=>fromZipper()(g._2)($Map("Three",$Map("Two",J,Z,ne,K),ie,re,$Map("Two",ee,Q,X,q),H,ue,G)),L=(J,K,ee,q,G,Z,ie,Q,H,ne,re,X,ue)=>fromZipper()(g._2)($Map("Three",J,Z,ne,$Map("Two",K,ie,re,ee),Q,X,$Map("Two",q,H,ue,G))),z=(J,K,ee,q,G,Z,ie,Q,H,ne,re,X,ue)=>fromZipper()(g._2)($Map("Three",J,Z,ne,$Map("Two",K,ie,re,ee),Q,X,$Map("Two",q,H,ue,G)));if($.tag==="Leaf"){if(g._1.tag==="TwoLeft"){if(g._1._3.tag==="Leaf"){w=!1,_=fromZipper()(g._2)($Map("Two",Leaf,g._1._1,g._1._2,Leaf));continue}if(g._1._3.tag==="Two"){v=g._2,C=$Map("Three",$,g._1._1,g._1._2,g._1._3._1,g._1._3._2,g._1._3._3,g._1._3._4);continue}if(g._1._3.tag==="Three"){w=!1,_=T($,g._1._3._1,g._1._3._4,g._1._3._7,g._1._1,g._1._3._2,g._1._3._5,g._1._2,g._1._3._3,g._1._3._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoRight"){if(g._1._1.tag==="Leaf"){w=!1,_=fromZipper()(g._2)($Map("Two",Leaf,g._1._2,g._1._3,Leaf));continue}if(g._1._1.tag==="Two"){v=g._2,C=$Map("Three",g._1._1._1,g._1._1._2,g._1._1._3,g._1._1._4,g._1._2,g._1._3,$);continue}if(g._1._1.tag==="Three"){w=!1,_=M(g._1._1._1,g._1._1._4,g._1._1._7,$,g._1._1._2,g._1._1._5,g._1._2,g._1._1._3,g._1._1._6,g._1._3);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeLeft"){if(g._1._6.tag==="Leaf"){if(g._1._3.tag==="Leaf"){w=!1,_=fromZipper()(g._2)($Map("Three",Leaf,g._1._1,g._1._2,Leaf,g._1._4,g._1._5,Leaf));continue}if(g._1._3.tag==="Two"){w=!1,_=S($,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){w=!1,_=F($,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._3.tag==="Two"){w=!1,_=S($,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){w=!1,_=F($,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeMiddle"){if(g._1._1.tag==="Leaf"){if(g._1._6.tag==="Leaf"){w=!1,_=fromZipper()(g._2)($Map("Three",Leaf,g._1._2,g._1._3,Leaf,g._1._4,g._1._5,Leaf));continue}if(g._1._6.tag==="Two"){w=!1,_=B(g._1._1,$,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._6.tag==="Three"){w=!1,_=L(g._1._1,$,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._1.tag==="Two"){w=!1,_=I(g._1._1._1,g._1._1._4,$,g._1._6,g._1._1._2,g._1._2,g._1._4,g._1._1._3,g._1._3,g._1._5);continue}if(g._1._6.tag==="Two"){w=!1,_=B(g._1._1,$,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._1.tag==="Three"){w=!1,_=R(g._1._1._1,g._1._1._4,g._1._1._7,$,g._1._6,g._1._1._2,g._1._1._5,g._1._2,g._1._4,g._1._1._3,g._1._1._6,g._1._3,g._1._5);continue}if(g._1._6.tag==="Three"){w=!1,_=L(g._1._1,$,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeRight"){if(g._1._1.tag==="Leaf"){if(g._1._4.tag==="Leaf"){w=!1,_=fromZipper()(g._2)($Map("Three",Leaf,g._1._2,g._1._3,Leaf,g._1._5,g._1._6,Leaf));continue}if(g._1._4.tag==="Two"){w=!1,_=x(g._1._1,g._1._4._1,g._1._4._4,$,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){w=!1,_=z(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,$,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._4.tag==="Two"){w=!1,_=x(g._1._1,g._1._4._1,g._1._4._4,$,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){w=!1,_=z(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,$,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoLeft"){if(g._1._3.tag==="Two"){v=g._2,C=$Map("Three",$,g._1._1,g._1._2,g._1._3._1,g._1._3._2,g._1._3._3,g._1._3._4);continue}if(g._1._3.tag==="Three"){w=!1,_=T($,g._1._3._1,g._1._3._4,g._1._3._7,g._1._1,g._1._3._2,g._1._3._5,g._1._2,g._1._3._3,g._1._3._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoRight"){if(g._1._1.tag==="Two"){v=g._2,C=$Map("Three",g._1._1._1,g._1._1._2,g._1._1._3,g._1._1._4,g._1._2,g._1._3,$);continue}if(g._1._1.tag==="Three"){w=!1,_=M(g._1._1._1,g._1._1._4,g._1._1._7,$,g._1._1._2,g._1._1._5,g._1._2,g._1._1._3,g._1._1._6,g._1._3);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeLeft"){if(g._1._3.tag==="Two"){w=!1,_=S($,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){w=!1,_=F($,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeMiddle"){if(g._1._1.tag==="Two"){w=!1,_=I(g._1._1._1,g._1._1._4,$,g._1._6,g._1._1._2,g._1._2,g._1._4,g._1._1._3,g._1._3,g._1._5);continue}if(g._1._6.tag==="Two"){w=!1,_=B(g._1._1,$,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._1.tag==="Three"){w=!1,_=R(g._1._1._1,g._1._1._4,g._1._1._7,$,g._1._6,g._1._1._2,g._1._1._5,g._1._2,g._1._4,g._1._1._3,g._1._1._6,g._1._3,g._1._5);continue}if(g._1._6.tag==="Three"){w=!1,_=L(g._1._1,$,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeRight"){if(g._1._4.tag==="Two"){w=!1,_=x(g._1._1,g._1._4._1,g._1._4._4,$,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){w=!1,_=z(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,$,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}w=!1,_=_crashWith("The impossible happened in partial function `up`.");continue}fail$3()}return _},d=b=>y=>{let v=b,C=y,w=!0,_;for(;w;){const g=v,$=C;if($.tag==="Two"){if($._1.tag==="Leaf"){if($._4.tag==="Leaf"){w=!1,_=f(g)(Leaf);continue}v=$List("Cons",$TreeContext("TwoRight",$._1,$._2,$._3),g),C=$._4;continue}v=$List("Cons",$TreeContext("TwoRight",$._1,$._2,$._3),g),C=$._4;continue}if($.tag==="Three"){if($._1.tag==="Leaf"){if($._4.tag==="Leaf"){if($._7.tag==="Leaf"){w=!1,_=f($List("Cons",$TreeContext("TwoRight",Leaf,$._2,$._3),g))(Leaf);continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}w=!1,_=_crashWith("The impossible happened in partial function `removeMaxNode`.")}return _},m=b=>{let y=b,v=!0,C;for(;v;){const w=y;if(w.tag==="Two"){if(w._4.tag==="Leaf"){v=!1,C={key:w._2,value:w._3};continue}y=w._4;continue}if(w.tag==="Three"){if(w._7.tag==="Leaf"){v=!1,C={key:w._5,value:w._6};continue}y=w._7;continue}v=!1,C=_crashWith("The impossible happened in partial function `maxNode`.")}return C};return(b=>y=>{let v=b,C=y,w=!0,_;for(;w;){const g=v,$=C;if($.tag==="Leaf"){w=!1,_=Nothing;continue}if($.tag==="Two"){const T=o.compare(u)($._2);if(T.tag==="EQ"){if($._4.tag==="Leaf"){w=!1,_=$Maybe("Just",$Tuple($._3,f(g)(Leaf)));continue}const M=m($._1);w=!1,_=$Maybe("Just",$Tuple($._3,d($List("Cons",$TreeContext("TwoLeft",M.key,M.value,$._4),g))($._1)));continue}if(T.tag==="LT"){v=$List("Cons",$TreeContext("TwoLeft",$._2,$._3,$._4),g),C=$._1;continue}v=$List("Cons",$TreeContext("TwoRight",$._1,$._2,$._3),g),C=$._4;continue}if($.tag==="Three"){const T=o.compare(u)($._5),M=o.compare(u)($._2);if((()=>$._1.tag==="Leaf"&&$._4.tag==="Leaf"?$._7.tag==="Leaf":!1)()){if(M.tag==="EQ"){w=!1,_=$Maybe("Just",$Tuple($._3,fromZipper()(g)($Map("Two",Leaf,$._5,$._6,Leaf))));continue}if(T.tag==="EQ"){w=!1,_=$Maybe("Just",$Tuple($._6,fromZipper()(g)($Map("Two",Leaf,$._2,$._3,Leaf))));continue}if(M.tag==="LT"){v=$List("Cons",$TreeContext("ThreeLeft",$._2,$._3,$._4,$._5,$._6,$._7),g),C=$._1;continue}if(M.tag==="GT"){if(T.tag==="LT"){v=$List("Cons",$TreeContext("ThreeMiddle",$._1,$._2,$._3,$._5,$._6,$._7),g),C=$._4;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}if(M.tag==="EQ"){const S=m($._1);w=!1,_=$Maybe("Just",$Tuple($._3,d($List("Cons",$TreeContext("ThreeLeft",S.key,S.value,$._4,$._5,$._6,$._7),g))($._1)));continue}if(T.tag==="EQ"){const S=m($._4);w=!1,_=$Maybe("Just",$Tuple($._6,d($List("Cons",$TreeContext("ThreeMiddle",$._1,$._2,$._3,S.key,S.value,$._7),g))($._4)));continue}if(M.tag==="LT"){v=$List("Cons",$TreeContext("ThreeLeft",$._2,$._3,$._4,$._5,$._6,$._7),g),C=$._1;continue}if(M.tag==="GT"){if(T.tag==="LT"){v=$List("Cons",$TreeContext("ThreeMiddle",$._1,$._2,$._3,$._5,$._6,$._7),g),C=$._4;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}v=$List("Cons",$TreeContext("ThreeRight",$._1,$._2,$._3,$._4,$._5,$._6),g),C=$._7;continue}fail$3()}return _})(Nil)},foldableMap={foldr:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(o(f._6)(foldableMap.foldr(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMap:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(foldableMap.foldMap(o)(f)(d._4)));if(d.tag==="Three")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(u(foldableMap.foldMap(o)(f)(d._4))(u(f(d._6))(foldableMap.foldMap(o)(f)(d._7)))));fail$3()}}},foldableWithIndexMap={foldrWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(o(f._5)(f._6)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldlWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableWithIndexMap.foldlWithIndex(o)(o(f._5)(foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4)));if(d.tag==="Three")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4))(u(f(d._5)(d._6))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._7)))));fail$3()}},Foldable0:()=>foldableMap},traversableMap={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>{if(m.tag==="Leaf")return o.pure(Leaf);if(m.tag==="Two")return u.apply(u.apply(u.apply(f(Two)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4));if(m.tag==="Three")return u.apply(u.apply(u.apply(u.apply(u.apply(u.apply(f(Three)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4)))(o.pure(m._5)))(d(m._6)))(traversableMap.traverse(o)(d)(m._7));fail$3()}},sequence:o=>traversableMap.traverse(o)(identity$s),Functor0:()=>functorMap,Foldable1:()=>foldableMap},fromFoldable$9=o=>u=>u.foldl(f=>d=>insert$2(o)(d._1)(d._2)(f))(Leaf),$$delete=o=>u=>f=>{const d=pop(o)(u)(f);if(d.tag==="Nothing")return f;if(d.tag==="Just")return d._1._2;fail$3()},alter=o=>u=>f=>d=>{const m=u(lookup$2(o)(f)(d));if(m.tag==="Nothing")return $$delete(o)(f)(d);if(m.tag==="Just")return insert$2(o)(f)(m._1)(d);fail$3()},unionWith=o=>u=>f=>d=>foldableWithIndexMap.foldlWithIndex(m=>h=>b=>alter(o)((()=>{const y=u(b);return v=>$Maybe("Just",(()=>{if(v.tag==="Nothing")return b;if(v.tag==="Just")return y(v._1);fail$3()})())})())(m)(h))(d)(f),update=o=>u=>f=>d=>alter(o)(m=>{if(m.tag==="Nothing")return Nothing;if(m.tag==="Just")return u(m._1);fail$3()})(f)(d),numAdd=function(o){return function(u){return o+u}},intDiv=function(o){return function(u){return u===0?0:u>0?Math.floor(o/u):-Math.floor(o/-u)}},intMod=function(o){return function(u){if(u===0)return 0;var f=Math.abs(u);return(o%f+f)%f}},absurd=o=>(f=>{let d;return d})(),concatString=function(o){return function(u){return o+u}},concatArray=function(o){return function(u){return o.length===0?u:u.length===0?o:o.concat(u)}},semigroupString={append:concatString},semigroupArray={append:concatArray},monoidString={mempty:"",Semigroup0:()=>semigroupString},monoidArray={mempty:[],Semigroup0:()=>semigroupArray},monoidRecord=()=>o=>{const u={append:o.SemigroupRecord0().appendRecord($$Proxy)};return{mempty:o.memptyRecord($$Proxy),Semigroup0:()=>u}},map_=function(o){return function(u){return function(){return o(u())}}},pure_=function(o){return function(){return o}},bind_=function(o){return function(u){return function(){return u(o())()}}},run$2=function(o){return o()};function whileST(o){return function(u){return function(){for(;o();)u()}}}const foreach=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},functorST={map:map_},monadST={Applicative0:()=>applicativeST,Bind1:()=>bindST},bindST={bind:bind_,Apply0:()=>applyST},applyST={apply:o=>u=>()=>{const f=o(),d=u();return applicativeST.pure(f(d))()},Functor0:()=>functorST},applicativeST={pure:pure_,Apply0:()=>applyST};function newSTArray(){return[]}const pushAll=function(o){return function(u){return function(){return u.push.apply(u,o)}}},splice=function(o){return function(u){return function(f){return function(d){return function(){return d.splice.apply(d,[o,u].concat(f))}}}}},unsafeFreeze=function(o){return function(){return o}},unsafeThaw=function(o){return function(){return o}};function copyImpl(o){return function(){return o.slice()}}const freeze=copyImpl,thaw=copyImpl,withArray=o=>u=>{const f=thaw(u);return()=>{const d=f();return o(d)(),unsafeFreeze(d)()}},$Iterator=(o,u)=>({tag:"Iterator",_1:o,_2:u}),iterate=o=>u=>()=>{const f={value:!1};return whileST(()=>!f.value)(()=>{const d=o._2.value,m=o._2.value;o._2.value=m+1|0;const h=o._1(d);if(h.tag==="Just")return u(h._1)();if(h.tag==="Nothing")return f.value=!0,unit;fail$3()})()},identity$r=o=>o,bifunctorEither={bimap:o=>u=>f=>{if(f.tag==="Left")return $Either("Left",o(f._1));if(f.tag==="Right")return $Either("Right",u(f._1));fail$3()}},traverseArrayImpl=function(){function o(m){return[m]}function u(m){return function(h){return[m,h]}}function f(m){return function(h){return function(b){return[m,h,b]}}}function d(m){return function(h){return m.concat(h)}}return function(m){return function(h){return function(b){return function(y){return function(v){function C(w,_){switch(_-w){case 0:return b([]);case 1:return h(o)(y(v[w]));case 2:return m(h(u)(y(v[w])))(y(v[w+1]));case 3:return m(m(h(f)(y(v[w])))(y(v[w+1])))(y(v[w+2]));default:var g=w+Math.floor((_-w)/4)*2;return m(h(d)(C(w,g)))(C(g,_))}}return C(0,v.length)}}}}}}(),identity$q=o=>o,traversableTuple={traverse:o=>{const u=o.Apply0().Functor0().map;return f=>d=>u(Tuple(d._1))(f(d._2))},sequence:o=>{const u=o.Apply0().Functor0().map;return f=>u(Tuple(f._1))(f._2)},Functor0:()=>functorTuple,Foldable1:()=>foldableTuple},traversableArray={traverse:o=>{const u=o.Apply0();return traverseArrayImpl(u.apply)(u.Functor0().map)(o.pure)},sequence:o=>traversableArray.traverse(o)(identity$q),Functor0:()=>functorArray,Foldable1:()=>foldableArray},range=function(o){return function(u){for(var f=o>u?-1:1,d=new Array(f*(u-o)+1),m=o,h=0;m!==u;)d[h++]=m,m+=f;return d[h]=m,d}};var replicateFill=function(o){return function(u){if(o<1)return[];var f=new Array(o);return f.fill(u)}},replicatePolyfill=function(o){return function(u){for(var f=[],d=0,m=0;m<o;m++)f[d++]=u;return f}};const replicate=typeof Array.prototype.fill=="function"?replicateFill:replicatePolyfill,fromFoldableImpl=function(){function o(m,h){this.head=m,this.tail=h}var u={};function f(m){return function(h){return new o(m,h)}}function d(m){for(var h=[],b=0,y=m;y!==u;)h[b++]=y.head,y=y.tail;return h}return function(m){return function(h){return d(m(f)(u)(h))}}}(),unconsImpl=function(o){return function(u){return function(f){return f.length===0?o({}):u(f[0])(f.slice(1))}}},indexImpl$1=function(o){return function(u){return function(f){return function(d){return d<0||d>=f.length?u:o(f[d])}}}},findIndexImpl=function(o){return function(u){return function(f){return function(d){for(var m=0,h=d.length;m<h;m++)if(f(d[m]))return o(m);return u}}}},_deleteAt=function(o){return function(u){return function(f){return function(d){if(f<0||f>=d.length)return u;var m=d.slice();return m.splice(f,1),o(m)}}}},_updateAt=function(o){return function(u){return function(f){return function(d){return function(m){if(f<0||f>=m.length)return u;var h=m.slice();return h[f]=d,o(h)}}}}},filter$1=function(o){return function(u){return u.filter(o)}},sortByImpl=function(){function o(u,f,d,m,h,b){var y,v,C,w,_,g,$;for(y=h+(b-h>>1),y-h>1&&o(u,f,m,d,h,y),b-y>1&&o(u,f,m,d,y,b),v=h,C=y,w=h;v<y&&C<b;)_=m[v],g=m[C],$=f(u(_)(g)),$>0?(d[w++]=g,++C):(d[w++]=_,++v);for(;v<y;)d[w++]=m[v++];for(;C<b;)d[w++]=m[C++]}return function(u){return function(f){return function(d){var m;return d.length<2?d:(m=d.slice(0),o(u,f,m,d.slice(0),0,d.length),m)}}}}(),slice=function(o){return function(u){return function(f){return f.slice(o,u)}}},zipWith=function(o){return function(u){return function(f){for(var d=u.length<f.length?u.length:f.length,m=new Array(d),h=0;h<d;h++)m[h]=o(u[h])(f[h]);return m}}},intercalate1=o=>{const u=o.Semigroup0().append;return f=>d=>foldlArray(m=>h=>m.init?{init:!1,acc:h}:{init:!1,acc:u(m.acc)(u(f)(h))})({init:!0,acc:o.mempty})(d).acc},updateAt=_updateAt(Just)(Nothing),uncons=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",{head:o,tail:u})),tail=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",u)),sortBy=o=>sortByImpl(o)(u=>{if(u.tag==="GT")return 1;if(u.tag==="EQ")return 0;if(u.tag==="LT")return-1;fail$3()}),sortWith=o=>u=>sortBy(f=>d=>o.compare(u(f))(u(d))),init$1=o=>o.length===0?Nothing:$Maybe("Just",slice(0)(o.length-1|0)(o)),index=indexImpl$1(Just)(Nothing),span=o=>u=>{const d=(m=>{let h=m,b=!0,y;for(;b;){const v=h,C=index(u)(v);if(C.tag==="Just"){if(o(C._1)){h=v+1|0;continue}b=!1,y=$Maybe("Just",v);continue}if(C.tag==="Nothing"){b=!1,y=Nothing;continue}fail$3()}return y})(0);if(d.tag==="Just")return d._1===0?{init:[],rest:u}:{init:slice(0)(d._1)(u),rest:slice(d._1)(u.length)(u)};if(d.tag==="Nothing")return{init:u,rest:[]};fail$3()},nubBy=o=>u=>{const f=sortBy(m=>h=>o(m._2)(h._2))(zipWith(Tuple)(range(0)(u.length-1|0))(u)),d=index(f)(0);if(d.tag==="Nothing")return[];if(d.tag==="Just")return arrayMap(snd)(sortWith(ordInt)(fst)(run$2((()=>{const m=unsafeThaw([d._1]);return()=>{const h=m();return foreach(f)(b=>()=>{const y=unsafeFreeze(h)(),v=index(y)(y.length-1|0),C=o((()=>{if(v.tag==="Just")return v._1._2;fail$3()})())(b._2);return(C.tag==="LT"||C.tag==="GT"||C.tag!=="EQ")&&pushAll([b])(h)(),unit})(),unsafeFreeze(h)()}})())));fail$3()},findIndex=findIndexImpl(Just)(Nothing),deleteAt=_deleteAt(Just)(Nothing),deleteBy=o=>u=>f=>{if(f.length===0)return[];const d=findIndex(o(u))(f);if(d.tag==="Nothing")return f;if(d.tag==="Just"){const m=deleteAt(d._1)(f);if(m.tag==="Just")return m._1;fail$3()}fail$3()},concatMap=o=>u=>arrayBind(u)(o),mapMaybe=o=>concatMap(u=>{const f=o(u);if(f.tag==="Nothing")return[];if(f.tag==="Just")return[f._1];fail$3()}),toUnfoldable=o=>{const u=toUnfoldable$2(o);return f=>u(foldableWithIndexMap.foldrWithIndex(d=>m=>h=>$List("Cons",d,h))(Nil)(f))},foldableSet={foldMap:o=>{const u=foldableList.foldMap(o);return f=>{const d=u(f);return m=>d(foldableWithIndexMap.foldrWithIndex(h=>b=>y=>$List("Cons",h,y))(Nil)(m))}},foldl:o=>u=>{const f=(()=>(m=>h=>{let b=m,y=h,v=!0,C;for(;v;){const w=b,_=y;if(_.tag==="Nil"){v=!1,C=w;continue}if(_.tag==="Cons"){b=o(w)(_._1),y=_._2;continue}fail$3()}return C})(u))();return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>b=>$List("Cons",m,b))(Nil)(d))},foldr:o=>u=>{const f=foldableList.foldr(o)(u);return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>b=>$List("Cons",m,b))(Nil)(d))}};function setTimeoutImpl(o){return function(u){return function(){return setTimeout(u,o)}}}function clearTimeoutImpl(o){return function(){clearTimeout(o)}}function setIntervalImpl(o){return function(u){return function(){return setInterval(u,o)}}}function clearIntervalImpl(o){return function(){clearInterval(o)}}const eqTimeoutId={eq:o=>u=>o===u},ordTimeoutId={compare:o=>u=>ordInt.compare(o)(u),Eq0:()=>eqTimeoutId};function reallyUnsafeRefEq(o){return function(u){return o===u}}const for_$8=for_$9(applicativeEffect),for_1$2=for_$8(foldableMaybe),mempty$1=o=>unit,for_2$2=for_$8(foldableSet),sampleOn=o=>u=>(f,d)=>{const m={value:Nothing},h=o(f,y=>m.value=$Maybe("Just",y)),b=u(f,y=>{const v=m.value;return for_1$2(v)(C=>()=>d(y(C)))()});return()=>(h(),b())},keepLatest=o=>(u,f)=>{const d={value:()=>unit},m=o(u,h=>{const b=d.value;b();const y=h(u,f);return d.value=y});return()=>{const h=d.value;return h(),m()}},functorEvent={map:o=>u=>(f,d)=>u(f,m=>{const h=o(m);return d(h)})},fold$2=o=>u=>f=>(d,m)=>{const h={value:f};return u(d,b=>{const y=h.value,v=h.value=o(b)(y);return m(v)})},filter=o=>u=>(f,d)=>u(f,m=>{const h=o(m);if(h.tag==="Just")return d(h._1);if(h.tag==="Nothing")return unit;fail$3()}),filter$p=o=>filter(u=>o(u)?$Maybe("Just",u):Nothing),create$p=()=>{const o={value:[]};return{event:(u,f)=>{const d={value:f},m=o.value;return o.value=concatArray(m)([d]),()=>{d.value=mempty$1;const h=o.value;return o.value=deleteBy(reallyUnsafeRefEq)(d)(h),unit}},push:u=>{const f=o.value;return foreachE(f)(d=>()=>{const m=d.value;return m(u)})()}}},fix=o=>(u,f)=>{const d=create$p(),m=o(d.event),h=m.input(u,d.push),b=m.output(u,f);return()=>(h(),b())},compactableEvent={compact:filter(o=>o),separate:o=>({left:filter(u=>{if(u.tag==="Left")return $Maybe("Just",u._1);if(u.tag==="Right")return Nothing;fail$3()})(o),right:filter(u=>{if(u.tag==="Right")return $Maybe("Just",u._1);if(u.tag==="Left")return Nothing;fail$3()})(o)})},filterableEvent={filter:filter$p,filterMap:filter,partition:o=>u=>({yes:filter$p(o)(u),no:filter$p(f=>!o(f))(u)}),partitionMap:o=>u=>({left:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return $Maybe("Just",d._1);if(d.tag==="Right")return Nothing;fail$3()})(u),right:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return Nothing;if(d.tag==="Right")return $Maybe("Just",d._1);fail$3()})(u)}),Compactable0:()=>compactableEvent,Functor1:()=>functorEvent},biSampleOn$5=o=>u=>(f,d)=>{const m={value:Nothing},h=newSTArray(),b={value:Nothing},y=newSTArray(),v={value:!0},C=o(f,$=>{if(v.value)return pushAll([$])(h)(),unit;m.value=$Maybe("Just",$);const M=b.value;return for_1$2(M)(S=>()=>d(S($)))()}),w=u(f,$=>{if(v.value)return pushAll([$])(y)(),unit;b.value=$Maybe("Just",$);const M=m.value;return for_1$2(M)(S=>()=>d($(S)))()});v.value=!1;const _=freeze(h)(),g=freeze(y)();return(()=>{if(_.length===0){const $=index(g)(g.length-1|0);return()=>b.value=$}return foreachE(_)($=>()=>(m.value=$Maybe("Just",$),foreachE(g)(T=>()=>(b.value=$Maybe("Just",T),d(T($))))()))})()(),splice(0)(_.length)([])(h)(),splice(0)(g.length)([])(y)(),()=>(C(),w())},subscribe=o=>backdoor$lazy().subscribe(o),create$lazy=binding(()=>backdoor$lazy().create),backdoor$lazy=binding(()=>{const o=()=>{const u={value:[]};return{event:(f,d)=>{const m={value:d},h=u.value;return u.value=concatArray(h)([m]),()=>{m.value=mempty$1;const b=u.value;return u.value=deleteBy(reallyUnsafeRefEq)(m)(b),unit}},push:f=>()=>{const d=u.value;return foreachE(d)(m=>()=>{const h=m.value;return h(f)})()}}};return{makeEvent:u=>(f,d)=>f?()=>unit:u(m=>()=>d(m))(),makePureEvent:u=>(f,d)=>u(m=>()=>d(m))(),makeLemmingEvent:u=>(f,d)=>u(m=>h=>()=>m(f,b=>h(b)()))(m=>()=>d(m))(),create:o,createPure:o,subscribe:u=>f=>()=>u(!1,d=>f(d)()),subscribePure:u=>f=>()=>u(!0,d=>f(d)()),bus:u=>(f,d)=>{const m=create$lazy()();return d(u(m.push)(m.event)),()=>unit},memoize:u=>f=>(d,m)=>{const h=create$p();return m(f(h.event)),u(d,h.push)},hot:u=>()=>{const f=create$lazy()(),d=subscribe(u)(f.push)();return{event:f.event,unsubscribe:d}},mailboxed:u=>f=>d=>(m,h)=>{const b={value:Leaf};h(d(v=>(C,w)=>{const _=b.value;b.value=alter(u)($=>{if($.tag==="Nothing")return $Maybe("Just",[w]);if($.tag==="Just")return $Maybe("Just",concatArray($._1)([w]));fail$3()})(v)(_);const g=alter(u)($=>{if($.tag==="Nothing")return Nothing;if($.tag==="Just")return $Maybe("Just",deleteBy(reallyUnsafeRefEq)(w)($._1));fail$3()})(v);return()=>{const $=b.value;return b.value=g($),unit}}));const y=f(m,v=>{const C=b.value,w=lookup$2(u)(v.address)(C);if(w.tag==="Nothing")return unit;if(w.tag==="Just")return foreachE(w._1)(_=>()=>_(v.payload))();fail$3()});return()=>(b.value=Leaf,y())},delay:u=>f=>(d,m)=>{const h={value:Leaf},b=f(d,y=>{const v={value:Nothing},C=setTimeoutImpl(u)(()=>{m(y);const _=v.value;if(_.tag==="Nothing")return unit;if(_.tag==="Just"){const g=h.value;return h.value=$$delete(ordTimeoutId)(_._1)(g),unit}fail$3()})();v.value=$Maybe("Just",C);const w=h.value;return h.value=unionWith(ordTimeoutId)($$const)($Map("Two",Leaf,C,unit,Leaf))(w),unit});return()=>{const y=h.value;return for_2$2(y)(clearTimeoutImpl)(),b()}}}}),create=create$lazy(),backdoor=backdoor$lazy(),applyEvent={apply:o=>u=>biSampleOn$5(o)((f,d)=>u(f,m=>d(applyFlipped(m)))),Functor0:()=>functorEvent},applicativeEvent={pure:o=>(u,f)=>(f(o),()=>unit),Apply0:()=>applyEvent},altEvent={alt:o=>u=>(f,d)=>{const m=o(f,d),h=u(f,d);return()=>(m(),h())},Functor0:()=>functorEvent},burning=o=>u=>()=>{const f={value:o},d=create$p(),m=u(!0,h=>(f.value=h,d.push(h)));return{event:(h,b)=>{const y=d.event(h,b),v=f.value;return b(v),()=>(y(),unit)},unsubscribe:m}},plusEvent={empty:(o,u)=>()=>unit,Alt0:()=>altEvent},alternativeEvent={Applicative0:()=>applicativeEvent,Plus1:()=>plusEvent},eventIsEvent={fold:fold$2,keepLatest,sampleOn,fix,Alternative0:()=>alternativeEvent,Filterable1:()=>filterableEvent},vbusNil={vb:o=>()=>$Tuple({},{})},vbackdoor={vbus:()=>o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=o.vb($$Proxy);return()=>{const b=h();return m(f(b._1)(b._2))(),()=>unit}})},vbus$2=()=>o=>u=>vbackdoor.vbus()(o)(u),vbusCons2=o=>()=>()=>u=>()=>()=>({vb:f=>{const d=u.vb($$Proxy);return()=>{const m=d(),h=create();return $Tuple(unsafeSet(o.reflectSymbol($$Proxy))(h.push)(m._1),unsafeSet(o.reflectSymbol($$Proxy))(h.event)(m._2))}}}),$Child=(o,u)=>({tag:o,_1:u}),$Entity=(o,u)=>({tag:o,_1:u}),$Scope=(o,u)=>({tag:o,_1:u}),Global=$Scope("Global"),Remove=$Child("Remove"),eqScope={eq:o=>u=>o.tag==="Local"?u.tag==="Local"?o._1===u._1:!1:o.tag==="Global"?u.tag==="Global":!1},mapWithIndexArray=function(o){return function(u){for(var f=u.length,d=Array(f),m=0;m<f;m++)d[m]=o(m)(u[m]);return d}},functorWithIndexArray={mapWithIndex:mapWithIndexArray,Functor0:()=>functorArray},mapAccum$d=o=>{const u=o.Filterable1().filterMap;return f=>d=>m=>u(snd)(o.fold(h=>b=>{const y=f(h)(b._1);return $Tuple(y._1,$Maybe("Just",y._2))})(d)($Tuple(m,Nothing)))},biSampleOn$4=o=>{const u=o.Alternative0().Applicative0().Apply0().apply,f=o.Filterable1().Functor1().map;return d=>m=>u(f(applyFlipped)(d))(m)},newImpl=function(){return{}};function poke(o){return function(u){return function(f){return function(){return f[o]=u,f}}}}const deleteImpl=function(o){return function(u){return function(){return delete u[o],u}}};function _copyST(o){return function(){var u={};for(var f in o)hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}}const empty$2={};function runST(o){return o()}function _fmapObject(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(o[d]));return f}function _mapWithKey(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(d)(o[d]));return f}function _foldM(o){return function(u){return function(f){return function(d){var m=f;function h(y){return function(v){return u(v)(y)(d[y])}}for(var b in d)hasOwnProperty.call(d,b)&&(m=o(m)(h(b)));return m}}}}function _lookup(o,u,f,d){return f in d?u(d[f]):o}function toArrayWithKey(o){return function(u){var f=[];for(var d in u)hasOwnProperty.call(u,d)&&f.push(o(d)(u[d]));return f}}const identity$p=o=>o,values=toArrayWithKey(o=>u=>u),mutate=o=>u=>runST((()=>{const f=_copyST(u);return()=>{const d=f();return o(d)(),d}})()),mapWithKey=o=>u=>_mapWithKey(u,o),lookup$1=o=>u=>_lookup(Nothing,Just,o,u),functorObject={map:o=>u=>_fmapObject(u,o)},functorWithIndexObject={mapWithIndex:mapWithKey,Functor0:()=>functorObject},fromFoldable$8=o=>{const u=fromFoldableImpl(o.foldr);return f=>runST(()=>{const d=newImpl();return foreach(u(f))(m=>()=>(poke(m._1)(m._2)(d)(),unit))(),d})},foldM=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return d=>m=>_foldM(u)(d)(f(m))},foldM1=foldM(monadST),union=o=>mutate(u=>foldM1(f=>d=>m=>poke(d)(m)(f))(u)(o)),fold$1=_foldM(applyFlipped),foldMap$1=o=>{const u=o.Semigroup0().append;return f=>fold$1(d=>m=>h=>u(d)(f(m)(h)))(o.mempty)},foldableObject={foldl:o=>fold$1(u=>f=>o(u)),foldr:o=>u=>f=>foldrArray(o)(u)(values(f)),foldMap:o=>{const u=foldMap$1(o);return f=>u(d=>f)}},foldableWithIndexObject={foldlWithIndex:o=>fold$1(u=>f=>o(f)(u)),foldrWithIndex:o=>u=>f=>foldrArray(d=>o(d._1)(d._2))(u)(toArrayWithKey(Tuple)(f)),foldMapWithIndex:o=>foldMap$1(o),Foldable0:()=>foldableObject},traversableWithIndexObject={traverseWithIndex:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>fold$1(h=>b=>y=>u.apply(f(v=>C=>mutate(poke(b)(C))(v))(h))(d(b)(y)))(o.pure(empty$2))(m)},FunctorWithIndex0:()=>functorWithIndexObject,FoldableWithIndex1:()=>foldableWithIndexObject,Traversable2:()=>traversableObject},traversableObject={traverse:o=>{const u=traversableWithIndexObject.traverseWithIndex(o);return f=>u(d=>f)},sequence:o=>traversableObject.traverse(o)(identity$p),Functor0:()=>functorObject,Foldable1:()=>foldableObject};function mutAr(o){return()=>o.slice()}function unsafeUpdateMutAr(o){return u=>f=>()=>{f[o]=u}}function readAr(o){return()=>o.slice()}const $Stage$1=o=>({tag:o}),mapAccum$c=mapAccum$d(eventIsEvent),oneOf$A=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$7=for_$9(applicativeST),for_1$1=for_$7(foldableMaybe),for_2$1=for_$7(foldableArray),oneOfMap$c=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),traverse_$6=traverse_$7(applicativeST)(foldableArray),Begin$1=$Stage$1("Begin"),Middle$1=$Stage$1("Middle"),End$2=$Stage$1("End"),switcher=o=>u=>$Entity("DynamicChildren'",keepLatest(backdoor.memoize(mapAccum$c(f=>d=>$Tuple(d+1|0,$Tuple(f,d)))(u)(0))(f=>(d,m)=>f(d,h=>{const b=oneOf$A([(()=>{const y=filter$p((()=>{const v=h._2+1|0;return C=>v===C._2})())(f);return(v,C)=>y(v,w=>C(Remove))})(),applicativeEvent.pure($Child("Insert",o(h._1)))]);return m(b)})))),flatten=o=>u=>f=>d=>{if(d.tag==="FixedChildren'")return oneOfMap$c(flatten(o)(u)(f))(d._1);if(d.tag==="EventfulElement'")return keepLatest((()=>{const m=flatten(o)(u)(f);return(h,b)=>d._1(h,y=>{const v=m(y);return b(v)})})());if(d.tag==="Element'")return o.toElt(d._1)(u)(f);if(d.tag==="DynamicChildren'")return backdoor.makeLemmingEvent(m=>h=>()=>{const b={value:empty$2},y=m(d._1)(C=>{const w=o.ids(f);return()=>{const _=w(),g={value:()=>unit},$=o.ids(f)(),T={value:()=>unit},M={value:[]},S={value:()=>unit},I=o.ids(f)(),B={value:Begin$1},x=m(C)(L=>()=>{const z=B.value;if(z.tag==="Middle"){if(L.tag==="Logic")return bind_(()=>M.value)(traverse_$6((()=>{const J=o.doLogic(L._1)(f);return K=>h(J(K))})()))();if(L.tag==="Remove"){B.value=End$2;const J=()=>{const K=M.value;for_2$1(K)(ie=>for_1$1(u.parent)(Q=>h(o.disconnectElement(f)({id:ie,parent:Q,scope:$Scope("Local",I)}))))();const ee=g.value;ee();const q=T.value;q();const G=b.value;b.value=mutate(deleteImpl(_))(G);const Z=b.value;return b.value=mutate(deleteImpl($))(Z),unit};return S.value=J,J()}return unit}if(L.tag==="Insert"){if(z.tag==="Begin"){B.value=Middle$1;const J=m(flatten(o)({...u,scope:$Scope("Local",I),raiseId:ee=>()=>((()=>{const q=concatArray([ee]);return()=>{const G=M.value;return M.value=q(G)}})()(),unit)})(f)(L._1))(h)(),K=b.value;return b.value=mutate(poke($)(J))(K),T.value=J,unit}return unit}return unit})();g.value=x;const F=b.value;b.value=mutate(poke(_)(x))(F);const R=S.value;return R()}})(),v=bind_(()=>b.value)(fold$1(C=>w=>_=>()=>(C(),_()))(()=>unit));return()=>(v(),y())});fail$3()},internalPortalSimpleComplex=()=>o=>u=>f=>d=>m=>h=>$Entity("Element'",d.fromEltO2(b=>y=>backdoor.makeLemmingEvent(v=>C=>{const w=mutAr(arrayMap(_=>"")(m));return()=>{const _=w(),g=v(oneOf$A(mapWithIndexArray(S=>I=>d.toElt(I)({...b,parent:Nothing,scope:u(b.scope),raiseId:B=>unsafeUpdateMutAr(S)(B)(_)})(y))(m)))(C)(),$={value:()=>unit},T=readAr(_)(),M=v(flatten(f)(b)(y)(h(arrayMap(S=>I=>d.fromEltO1(B=>x=>backdoor.makeLemmingEvent(F=>R=>{const L=B.raiseId(S);return()=>(L(),for_1$1(B.parent)(z=>R(d.giveNewParent(x)({id:S,parent:z,scope:B.scope})(I)))(),()=>unit)})))(T))(unsafeCoerce)))(C)();return $.value=M,()=>{g();const S=for_2$1(T)(B=>C(d.deleteFromCache(y)({id:B})));(()=>o?()=>unit:S)()();const I=$.value;return I()}}}))),globalPortalSimpleComplex=()=>o=>u=>f=>d=>internalPortalSimpleComplex()(!0)(m=>Global)(o)(u)(f)(m=>h=>d(m)),oneOf$z=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),text=o=>$Entity("Element'",u=>f=>backdoor.makeLemmingEvent(d=>m=>()=>{const h=f.ids();u.raiseId(h)();const b=d(oneOf$z([applicativeEvent.pure(f.makeText({id:h,parent:u.parent,scope:u.scope})),(v,C)=>o(v,w=>{const _=f.setText({id:h,text:w});return C(_)})]))(m)(),y=m(f.deleteFromCache({id:h}));return()=>(y(),b())})),portalFlatten=()=>({doLogic:o=>u=>f=>u.sendToPos({id:f,pos:o}),ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:eqScope.eq}),toElt:o=>o}),portalFlatten1=portalFlatten(),deku=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>()=>{const h=f.ids();return d((()=>{const b=applicativeEvent.pure(f.makeRoot({id:h,root:o})),y=flatten(portalFlatten1)({parent:$Maybe("Just",h),scope:$Scope("Local","rootScope"),raiseId:v=>()=>unit,pos:Nothing})(f)(u);return(v,C)=>{const w=b(v,C),_=y(v,C);return()=>(w(),_())}})())(m)()}),elementify=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const v=h((()=>{const w=oneOf$z(concatArray([applicativeEvent.pure(m.makeElement({id:y,parent:d.parent,scope:d.scope,tag:o})),(g,$)=>u(g,T=>{const M=(()=>{if(T.value.tag==="Prop'")return m.setProp({id:y,key:T.key,value:T.value._1});if(T.value.tag==="Cb'")return m.setCb({id:y,key:T.key,value:T.value._1});fail$3()})();return $(M)})])((()=>{if(d.parent.tag==="Nothing")return[];if(d.parent.tag==="Just")return[applicativeEvent.pure(m.attributeParent({id:y,parent:d.parent._1,pos:d.pos}))];fail$3()})())),_=flatten(portalFlatten1)({parent:$Maybe("Just",y),scope:d.scope,raiseId:g=>()=>unit,pos:Nothing})(m)(f);return(g,$)=>{const T=w(g,$),M=_(g,$);return()=>(T(),M())}})())(b)(),C=b(m.deleteFromCache({id:y}));return()=>(C(),v())}),replace=function(o){return function(u){return function(f){return f.replace(o,u)}}},split=function(o){return function(u){return u.split(o)}},joinWith=function(o){return function(u){return u.join(o)}},functorStateT$1=o=>({map:u=>f=>d=>o.map(m=>$Tuple(u(m._1),m._2))(f(d))}),monadStateT=o=>({Applicative0:()=>applicativeStateT$1(o),Bind1:()=>bindStateT$1(o)}),bindStateT$1=o=>{const u=o.Bind1().bind;return{bind:f=>d=>m=>u(f(m))(h=>d(h._1)(h._2)),Apply0:()=>applyStateT(o)}},applyStateT=o=>{const u=functorStateT$1(o.Bind1().Apply0().Functor0());return{apply:(()=>{const f=monadStateT(o),d=f.Bind1().bind,m=f.Applicative0().pure;return h=>b=>d(h)(y=>d(b)(v=>m(y(v))))})(),Functor0:()=>u}},applicativeStateT$1=o=>{const u=o.Applicative0().pure;return{pure:f=>d=>u($Tuple(f,d)),Apply0:()=>applyStateT(o)}},monadStateStateT$2=o=>{const u=o.Applicative0().pure,f=monadStateT(o);return{state:d=>m=>u(d(m)),Monad0:()=>f}},traverseWithIndex_$1=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldrWithIndex(h=>{const b=m(h);return y=>{const v=b(y);return C=>u.apply(f(w=>identity$w)(v))(C)}})(o.pure(unit))},foldableWithIndexArray={foldrWithIndex:o=>u=>{const f=foldrArray(m=>h=>o(m._1)(m._2)(h))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldlWithIndex:o=>u=>{const f=foldlArray(m=>h=>o(h._1)(m)(h._2))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexArray.foldrWithIndex(d=>m=>h=>u(f(d)(m))(h))(o.mempty)},Foldable0:()=>foldableArray},traversableWithIndexArray={traverseWithIndex:o=>{const u=traversableWithIndexArray.FunctorWithIndex0().mapWithIndex,f=traversableWithIndexArray.Traversable2().sequence(o);return d=>{const m=u(d);return h=>f(m(h))}},FunctorWithIndex0:()=>functorWithIndexArray,FoldableWithIndex1:()=>foldableWithIndexArray,Traversable2:()=>traversableArray},random=Math.random,randomInt=o=>u=>()=>{const f=random();return unsafeClamp(floor((toNumber(u)-toNumber(o)+1)*f+toNumber(o)))},lcgPerturb=o=>u=>{const f=fromNumber(remainder(toNumber(48271)*toNumber(u)+toNumber(o))(toNumber(2147483647)));if(f.tag==="Just")return f._1;fail$3()},monadStateStateT$1=monadStateStateT$2(monadIdentity),functorStateT=functorStateT$1(functorIdentity),lcgStep=(()=>monadStateStateT$1.state(o=>$Tuple(o.newSeed,{...o,newSeed:lcgPerturb(0)(o.newSeed)})))(),applyGen=applyStateT(monadIdentity),chooseInt$p=o=>u=>{const f=toNumber(u),d=toNumber(o),m=functorStateT.map(toNumber)(lcgStep);return functorStateT.map(h=>unsafeClamp(floor(d+remainder(h)(f-d+1))))(applyGen.apply(functorStateT.map(numAdd)(m))(functorStateT.map(h=>2*h)(m)))},arbInt={arbitrary:chooseInt$p(-1e6)(1e6)},connectXToY_$1=(o,u,f,d)=>{o(m=>d.units[m].main.appendChild(d.units[u].main))(f)},attributeParent_=o=>u=>f=>()=>{f.units[u.id]&&(f.units[u.id].main.parentNode||o(u.pos)(m=>()=>f.units[u.parent].main.children[m]?(f.units[u.parent].main.insertBefore(f.units[u.id].main,f.units[u.parent].main.children[m]),!0):!1)()||(u.parent.indexOf("@!%")!==-1?f.units[u.parent].main.parentNode.replaceChild(f.units[u.id].main,f.units[u.parent].main):f.units[u.parent].main.appendChild(f.units[u.id].main)))},makeElement_=o=>u=>f=>d=>()=>{var m,h=f.id;d.scopes[f.scope]||(d.scopes[f.scope]=[]),d.scopes[f.scope].push(h),o(f.parent)(()=>()=>d.hydrating&&u&&(m=document.body.querySelectorAll("[data-deku-ssr-"+h+"]").item(0))?(d.units[h]={listeners:{},parent:f.parent,scope:f.scope,main:m},!0):!1)()||(d.units[h]={listeners:{},parent:f.parent,scope:f.scope,main:document.createElement(f.tag)})},makeText_=o=>u=>f=>d=>m=>()=>{var h=d.id,b;m.scopes[d.scope]||(m.scopes[d.scope]=[]),m.scopes[d.scope].push(h),o(d.parent)(v=>()=>{if(m.hydrating&&u&&(b=document.body.querySelectorAll("[data-deku-ssr-"+v+"]").item(0))){var C=0;if(b.childNodes.length===1)b.prepend(document.createTextNode(""));else for(var C=0;C<b.childNodes.length;C++)if(b.childNodes[C].nodeType===8&&b.childNodes[C].nodeValue===h){C=C-1;break}return m.units[h]={main:b.childNodes[C],parent:d.parent,scope:d.scope},!0}return!1})()||(m.units[h]={main:document.createTextNode(""),parent:d.parent,scope:d.scope},connectXToY_$1(f,h,d.parent,m))};function makeFFIDOMSnapshot(){return{units:{},scopes:{}}}const setProp_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;f.hydrating&&o&&!f.units[d]&&(dom=document.body.querySelectorAll("[data-deku-ssr-"+d+"]").item(0))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),f.units[d].main.tagName==="INPUT"&&u.key==="value"?f.units[d].main.value=m:f.units[d].main.tagName==="INPUT"&&u.key==="checked"?f.units[d].main.checked=m==="true":u.key==="disabled"?f.units[d].main.disabled=m==="true":f.units[d].main.setAttribute(u.key,m)}},setCb_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;if(f.hydrating&&o&&!f.units[d]&&(dom=document.body.querySelectorAll("[data-deku-ssr-"+d+"]").item(0))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),u.key==="@self@")m(f.units[d].main)();else{f.units[d].listeners[u.key]&&f.units[d].main.removeEventListener(u.key,f.units[d].listeners[u.key]);var h=b=>m(b)();f.units[d].main.addEventListener(u.key,h),f.units[d].listeners[u.key]=h}}},setText_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;u.units[f].main.nodeValue=o.text}},makePursx_=o=>u=>f=>d=>m=>()=>{var h,b,y=d.id,v=d.html,C=d.verb,w=d.cache,_=d.parent,g=d.scope,$=d.pxScope;if(!o(d.parent)(()=>()=>m.hydrating&&u&&(h=document.body.querySelectorAll("[data-deku-ssr-"+y+"]").item(0))?(m.units[y]={listeners:{},scope:g,parent:_,main:h},!0):!1)()){const S=Object.entries(w);for(var M=0;M<S.length;M++){const I=S[M][0];S[M][1]===!0?v=v.replace(C+I+C,'data-deku-attr-internal="'+I+'"'):v=v.replace(C+I+C,'<span style="display:contents;" data-deku-elt-internal="'+I+'"></span>')}b=document.createElement("div"),b.innerHTML=v.trim(),m.units[y]={listeners:{},scope:g,parent:_,main:b.firstChild}}m.scopes[g]||(m.scopes[g]=[]),m.scopes[g].push(y),b||(b=h),b.querySelectorAll("[data-deku-attr-internal]").forEach(function(S){var I=S.getAttribute("data-deku-attr-internal");const B=I+"@!%"+$;m.units[B]={listeners:{},main:S,scope:g},m.scopes[g].push(B)}),b.querySelectorAll("[data-deku-elt-internal]").forEach(function(S){var I=S.getAttribute("data-deku-elt-internal");const B=I+"@!%"+$;m.units[I+"@!%"+$]={listeners:{},main:S,scope:g},m.scopes[g].push(B)}),h||connectXToY_$1(f,y,_,m)},makeRoot_=o=>u=>()=>{var f=o.id;u.units[f]={main:o.root}},giveNewParent_=o=>u=>()=>{if(u.units[o.id]){var f=o.id,d=o.parent;u.units[f].containingScope=o.scope,u.units[d].main.prepend(u.units[f].main)}},disconnectElement_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;if(u.units[f].noop||u.units[f].containingScope&&!o.scopeEq(u.units[f].containingScope)(o.scope))return;u.units[f].main.remove()}},deleteFromCache_$2=o=>u=>()=>{u.units[o.id]&&delete u.units[o.id]},sendToPos_=o=>u=>()=>{if(u.units[o.id]){var f=o.id,d=o.pos,m=u.units[f].main.parentNode;m.insertBefore(u.units[f].main,m.children.length<=d?m.children[m.children.length-1]:d<0?m.children[0]:m.children[d])}},runOnJust=o=>u=>o.tag==="Just"?u(o._1):()=>!1,fullDOMInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},makeElement:makeElement_(runOnJust)(!1),attributeParent:attributeParent_(runOnJust),makeRoot:makeRoot_,makeText:makeText_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),makePursx:makePursx_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),setProp:setProp_(!1),setCb:setCb_(!1),setText:setText_,sendToPos:sendToPos_,deleteFromCache:deleteFromCache_$2,giveNewParent:giveNewParent_,disconnectElement:disconnectElement_}),windowImpl=function(){return window},nullImpl=null;function nullable(o,u,f){return o==null?u:f(o)}function notNull(o){return o}function _unsafeReadProtoTagged(o,u,f,d){if(typeof window<"u"){var m=window[f];if(m!=null&&d instanceof m)return u(d)}for(var h=d;h!=null;){var b=Object.getPrototypeOf(h),y=b.constructor.name;if(y===f)return u(d);if(y==="Object")return o;h=b}return o}function _body(o){return function(){return o.body}}const body=o=>{const u=_body(o);return()=>{const f=u();return nullable(f,Nothing,Just)}};function document$1(o){return function(){return o.document}}function location(o){return function(){return o.location}}function innerWidth(o){return function(){return o.innerWidth}}function innerHeight(o){return function(){return o.innerHeight}}function alert(o){return function(u){return function(){u.alert(o)}}}function localStorage$1(o){return function(){return o.localStorage}}function requestAnimationFrame(o){return function(u){return function(){return u.requestAnimationFrame(o)}}}function requestIdleCallback(o){return function(u){return function(f){return function(){return f.requestIdleCallback(u,o)}}}}function cancelIdleCallback(o){return function(u){return function(){return u.cancelIdleCallback(o)}}}const runInElement$p=o=>u=>()=>{const f=makeFFIDOMSnapshot(),d={value:0};return subscribe(deku(o)(u)(fullDOMInterpret(d)))(m=>m(f))()},runInBody$p=o=>{const u=bindE(bindE(windowImpl)(document$1))(body);return()=>{const f=u();return f.tag==="Just"?runInElement$p(f._1)(o)():()=>unit}},log=function(o){return function(){console.log(o)}},error=function(o){return function(){console.error(o)}},info=function(o){return function(){console.info(o)}},logShow$1=o=>u=>log(o.show(u)),animationFrame=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!1},d=binding(()=>{const h=requestAnimationFrame((()=>{const b=o(unit);return()=>{b();const y=f.value;if(!y)return d()();if(y)return unit;fail$3()}})())(u);return()=>(h(),unit)});return d()(),()=>f.value=!0}))(),sampleBy=o=>u=>f=>d=>f(o.map(m=>h=>m(u(h)))(o.map(applyFlipped)(d))),applyABehavior=o=>{const u={map:f=>d=>m=>d(o.map(h=>b=>h(f(b)))(m))};return{apply:f=>d=>m=>d(f(o.map(semigroupoidFn.compose)(m))),Functor0:()=>u}},applicativeABehavior=o=>{const u=applyABehavior(o);return{pure:f=>d=>o.map(applyFlipped(f))(d),Apply0:()=>u}},onMatch=()=>()=>()=>o=>u=>f=>unsafeHas(f.type)(o)?unsafeGet(f.type)(o)(f.value):u(f),case_=o=>_crashWith("Data.Variant: pattern match failure ["+(o.type+"]")),foldlRecordNil={foldlRecordRowList:o=>u=>f=>d=>u},foldlRecordCons=o=>()=>u=>f=>({foldlRecordRowList:d=>m=>h=>b=>f.foldlRecordRowList(d)(u.foldingWithIndex(d)($$Proxy)(m)(unsafeGet(o.reflectSymbol($$Proxy))(b)))($$Proxy)(b)}),categoryFn={identity:o=>o,Semigroupoid0:()=>semigroupoidFn};function unsafeUnionFn(o,u){var f={};for(var d in u)({}).hasOwnProperty.call(u,d)&&(f[d]=u[d]);for(var m in o)({}).hasOwnProperty.call(o,m)&&(f[m]=o[m]);return f}function copyRecord(o){var u={};for(var f in o)({}).hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}function unsafeInsert(o){return function(u){return function(f){return f[o]=u,f}}}function unsafeModify(o){return function(u){return function(f){return f[o]=u(f[o]),f}}}const modify=()=>()=>o=>u=>f=>d=>unsafeModify(o.reflectSymbol(u))(f)(d),insert$1=()=>()=>o=>u=>f=>d=>unsafeInsert(o.reflectSymbol(u))(f)(d),identity$o=o=>o,mapRecordWithIndexNil={mapRecordWithIndexBuilder:o=>u=>identity$o},mapRecordWithIndexCons=o=>u=>f=>()=>()=>({mapRecordWithIndexBuilder:d=>m=>{const h=modify()()(o)($$Proxy)(u.mappingWithIndex(m)($$Proxy)),b=f.mapRecordWithIndexBuilder($$Proxy)(m);return y=>h(b(y))}}),hmapRecord=()=>o=>({hmap:(()=>{const u=o.mapRecordWithIndexBuilder($$Proxy);return f=>{const d=u(f);return m=>d(copyRecord(m))}})()}),compactableArray={compact:o=>run$2(()=>{const u=newSTArray();return iterate($Iterator(d=>index(o)(d),{value:0}))((()=>{const d=map_(m=>unit);return m=>d((()=>{if(m.tag==="Nothing")return()=>0;if(m.tag==="Just")return pushAll([m._1])(u);fail$3()})())})())(),unsafeFreeze(u)()}),separate:o=>run$2(()=>{const u=newSTArray(),f=newSTArray();iterate($Iterator(b=>index(o)(b),{value:0}))((()=>{const b=map_(y=>unit);return y=>b((()=>{if(y.tag==="Left")return pushAll([y._1])(u);if(y.tag==="Right")return pushAll([y._1])(f);fail$3()})())})())();const m=unsafeFreeze(u)(),h=unsafeFreeze(f)();return{left:m,right:h}})},profunctorFn={dimap:o=>u=>f=>d=>u(f(o(d)))},identity$n=o=>o,strongFn=(()=>({first:o=>u=>$Tuple(o(u._1),u._2),second:functorTuple.map,Profunctor0:()=>profunctorFn}))(),fanout$1=o=>{const u=o.Semigroupoid0(),f=o.Semigroupoid0();return d=>{const m=d.Profunctor0().dimap;return h=>b=>u.compose(f.compose(d.second(b))(d.first(h)))(m(identity$n)(y=>$Tuple(y,y))(o.identity))}},fanout=fanout$1(categoryFn)(strongFn),affineTraversal=o=>u=>f=>d=>{const m=fanout(o)(u),h=d.Profunctor0().dimap;return b=>h(m)(y=>{if(y._2.tag==="Left")return y._2._1;if(y._2.tag==="Right")return y._1(y._2._1);fail$3()})(f.second(d.right(b)))},indexArray={ix:o=>u=>f=>affineTraversal(d=>m=>{const h=updateAt(o)(m)(d);if(h.tag==="Nothing")return d;if(h.tag==="Just")return h._1;fail$3()})(d=>{const m=index(d)(o);if(m.tag==="Nothing")return $Either("Left",d);if(m.tag==="Just")return $Either("Right",m._1);fail$3()})(u)(f)};function wrap(o){return function(u){return function(f){return o.apply(f,[u])}}}const toPrecisionNative=wrap(Number.prototype.toPrecision),toFixedNative=wrap(Number.prototype.toFixed),toExponentialNative=wrap(Number.prototype.toExponential),$Format=(o,u)=>({tag:o,_1:u}),clamp$2=o=>u=>f=>{const d=ordInt.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordInt.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},toStringWith=o=>{if(o.tag==="Precision")return toPrecisionNative(o._1);if(o.tag==="Fixed")return toFixedNative(o._1);if(o.tag==="Exponential")return toExponentialNative(o._1);fail$3()},choiceFn=(()=>({left:o=>u=>{if(u.tag==="Left")return $Either("Left",o(u._1));if(u.tag==="Right")return $Either("Right",u._1);fail$3()},right:functorEither.map,Profunctor0:()=>profunctorFn}))(),$AttributeValue=(o,u)=>({tag:o,_1:u}),vbussed$2=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(f)),vbussedUncurried$1=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(curry(f))),$Class=()=>({tag:"Class"}),Class=$Class(),attrButton_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})};function _target(o){return o.target}function value(o){return function(){return o.value}}function valueAsNumber(o){return function(){return o.valueAsNumber}}const for_$6=for_$9(applicativeEffect)(foldableMaybe),slider=o=>(u,f)=>{const d=applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","range")})(u,f),m=o(u,h=>f({key:"input",value:$AttributeValue("Cb'",b=>()=>(for_$6((()=>{const y=nullable(_target(b),Nothing,Just);if(y.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",y._1);if(y.tag==="Nothing")return Nothing;fail$3()})())(y=>bindE(valueAsNumber(y))(h))(),!0))}));return()=>(d(),m())};function toRFC3896(o){return o.replace(/[!'()*]/g,function(u){return"%"+u.charCodeAt(0).toString(16)})}const _encodeURIComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)))}catch(m){return u(m)}},_encodeFormURLComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)).replace(/%20/g,"+"))}catch(m){return u(m)}};function _decodeURIComponent(o,u,f){try{return u(decodeURIComponent(f))}catch(d){return o(d)}}const Reflectable$Dict$3={reflectType:()=>"~"},pursxToElementNil={pursxToElement:o=>u=>f=>({cache:empty$2,element:d=>m=>plusEvent.empty})},makePursx$p=o=>u=>()=>()=>f=>d=>m=>h=>$Entity("Element'",b=>y=>backdoor.makeLemmingEvent(v=>C=>()=>{const w=y.ids(),_=y.ids();b.raiseId(w)();const g=f.pursxToElement(_)($$Proxy)(h),$=v((()=>{const M=applicativeEvent.pure(y.makePursx({id:w,parent:b.parent,cache:g.cache,pxScope:_,scope:b.scope,html:o.reflectType(m),verb:u.reflectType(d)})),S=g.element(b)(y);return(I,B)=>{const x=M(I,B),F=S(I,B);return()=>(x(),F())}})())(C)(),T=C(y.deleteFromCache({id:w}));return()=>(T(),$())})),loadingPage=makePursx$p({reflectType:()=>`
    <div class="wave-center">
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
</div>`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),monadEffectEffect={liftEffect:o=>o,Monad0:()=>monadEffect};function now(){return Date.now()}const requestIdleCallbackIsDefined=()=>window.requestIdleCallback!==void 0,identity$m=o=>o,convertRecordOptionsNil={convertRecordOptions:o=>u=>f=>identity$m},convertRecordOptionsCons=o=>u=>()=>()=>()=>f=>({convertRecordOptions:d=>m=>h=>{const b=insert$1()()(f)($$Proxy)(u.convertOption(d)($$Proxy)(unsafeGet(f.reflectSymbol($$Proxy))(h))),y=o.convertRecordOptions(d)($$Proxy)(h);return v=>b(y(v))}}),identity$l=o=>o,mapAccum$b=mapAccum$d(eventIsEvent),withUnsubscribe=o=>backdoor.makeEvent(u=>()=>{const f={value:!0},d={value:()=>unit},m=subscribe(o)(b=>{const y=u({unsubscribe:()=>(f.value=!1,bindE(()=>d.value)(identity$v)()),value:b});return()=>f.value?y():unit})(),h=f.value;if(!h)return m(),()=>unit;if(h)return d.value=m,m;fail$3()}),scheduleCf=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:o},m={value:()=>unit},h=subscribe(u)(b=>()=>{const y=d.value,v=y(b);return f(force(v)._1)(),d.value=force(v)._2,unit})();return m.value=h,bindE(()=>m.value)(identity$v)}),emitUntil=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(withUnsubscribe(u))(m=>{const h=o(m.value);if(h.tag==="Just")return f(h._1);if(h.tag==="Nothing")return m.unsubscribe;fail$3()});return()=>d()}),oneOff=o=>u=>compactableEvent.compact(emitUntil(identity$l)(mapAccum$b(f=>d=>{const m=o(f);if(d)return $Tuple(!0,Nothing);if(m.tag==="Nothing")return $Tuple(!1,$Maybe("Just",Nothing));if(m.tag==="Just")return $Tuple(!0,$Maybe("Just",$Maybe("Just",m._1)));fail$3()})(u)(!1))),insert=o=>()=>()=>u=>f=>d=>unsafeSet(o.reflectSymbol(u))(f)(d),intercalate$1=function(o){return function(u){return u.join(o)}},genericShowArgsNoArguments={genericShowArgs:o=>[]},genericShowArgsProduct=o=>u=>({genericShowArgs:f=>concatArray(o.genericShowArgs(f._1))(u.genericShowArgs(f._2))}),genericShowConstructor=o=>u=>({"genericShow'":f=>{const d=u.reflectSymbol($$Proxy),m=o.genericShowArgs(f);return m.length===0?d:"("+(intercalate$1(" ")(concatArray([d])(m))+")")}}),runEffectFn1=function(u){return function(f){return function(){return u(f)}}};function unsafeReadPropImpl(o,u,f,d){return d==null?o:u(d[f])}const unsafeReadProp=o=>{const u=monadThrowExceptT(o).throwError,f=applicativeExceptT$3(o).pure;return d=>m=>unsafeReadPropImpl(u($NonEmpty($ForeignError("TypeMismatch","object",typeOf(m)),Nil)),f,d,m)},_parseJSON=JSON.parse,_undefined=void 0,_unsafeStringify=JSON.stringify,applicativeExceptT$2=applicativeExceptT$3(monadIdentity),bindExceptT=bindExceptT$1(monadIdentity),identity$k=o=>o,traverseWithIndex=(()=>traversableWithIndexArray.traverseWithIndex(applicativeExceptT$2))(),readArray1=readArray$1(monadIdentity),readProp=unsafeReadProp(monadIdentity),writeJSON$1=o=>u=>_unsafeStringify(o.writeImpl(u)),writeForeignString={writeImpl:unsafeCoerce},writeForeignNumber={writeImpl:unsafeCoerce},writeForeignInt={writeImpl:unsafeCoerce},writeForeignBoolean={writeImpl:unsafeCoerce},readString={readImpl:unsafeReadTagged$2(monadIdentity)("String")},readNumber={readImpl:unsafeReadTagged$2(monadIdentity)("Number")},readInt={readImpl:readInt$1(monadIdentity)},readMaybe$3=o=>({readImpl:u=>{if(isNull(u)||isUndefined(u))return applicativeExceptT$2.pure(Nothing);const f=o.readImpl(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$Maybe("Just",f._1));fail$3()}}),readFieldsNil={getFields:o=>u=>applicativeExceptT$2.pure(identity$k)},readBoolean={readImpl:unsafeReadTagged$2(monadIdentity)("Boolean")},readArray=o=>({readImpl:(()=>{const u=traverseWithIndex(f=>d=>withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtIndex(f)))(o.readImpl(d)));return f=>bindExceptT.bind(readArray1(f))(u)})()}),parseJSON=(()=>{const o=bifunctorEither.bimap(f=>$NonEmpty($ForeignError("ForeignError",message(f)),Nil))(identity$r),u=runEffectFn1(_parseJSON);return f=>o(unsafePerformEffect((()=>{const d=u(f);return catchException(m=>()=>$Either("Left",m))(()=>{const m=d();return $Either("Right",m)})})()))})(),readJSON$2=o=>u=>bindExceptT.bind(parseJSON(u))(o.readImpl),nilWriteForeignFields={writeImplFields:o=>u=>identity$k},readRecord=()=>o=>({readImpl:u=>{const f=o.getFields($$Proxy)(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",f._1({}));fail$3()}}),consWriteForeignFields=o=>u=>f=>()=>()=>()=>({writeImplFields:d=>m=>{const h=insert$1()()(o)($$Proxy)(u.writeImpl(unsafeGet(o.reflectSymbol($$Proxy))(m))),b=f.writeImplFields($$Proxy)(m);return y=>h(b(y))}}),applyEither=o=>u=>f=>{if(u.tag==="Left"){if(f.tag==="Right")return $Either("Left",u._1);if(f.tag==="Left")return $Either("Left",o.append(u._1)(f._1));fail$3()}if(u.tag==="Right"){if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",u._1(f._1));fail$3()}fail$3()},exceptTApply=o=>u=>{const f=u.Apply0(),d=f.Functor0().map;return m=>h=>f.apply(d(applyEither(o))(m))(h)},exceptTApply1=exceptTApply(semigroupNonEmptyList)(applicativeIdentity),readFieldsCons=o=>u=>f=>()=>()=>({getFields:d=>m=>{const h=o.reflectSymbol($$Proxy);return exceptTApply1((()=>{const b=bindExceptT.bind(withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtProperty(h)))(bindExceptT.bind(readProp(h)(m))(u.readImpl)))(y=>applicativeExceptT$2.pure(insert$1()()(o)($$Proxy)(y)));if(b.tag==="Left")return $Either("Left",b._1);if(b.tag==="Right")return $Either("Right",semigroupoidFn.compose(b._1));fail$3()})())(f.getFields($$Proxy)(m))}}),_on={type:"on",value:unit},_off={type:"off",value:unit},$PlayBufOptions=()=>({tag:"PlayBufOptions"}),identity$j=o=>o,PlayBufOptions=$PlayBufOptions(),initialGainNumber={toInitializeGain:o=>({gain:o})},initialConvolverBrowserAu={toInitializeConvolver:o=>({buffer:o})},convertOptionPlayBufOptio={convertOption:o=>u=>identity$j},defaultPlayBuf={bufferOffset:0,playbackRate:1,duration:Nothing},indexImpl=o=>u=>u[o],__internalOcarinaFlatten=flatten({doLogic:absurd,ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectXFromY({from:u.id,to:u.parent}),toElt:o=>o}),convolver=o=>u=>f=>{const d=o.toInitializeConvolver(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=(()=>{const w=applicativeEvent.pure(h.makeConvolver({id:v,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer})),_=__internalOcarinaFlatten({parent:$Maybe("Just",v),scope:m.scope,raiseId:g=>()=>unit})(h)($Entity("FixedChildren'",f));return b((g,$)=>{const T=w(g,$),M=_(g,$);return()=>(T(),M())})(y)})()();return(()=>{const w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})()}))},speaker=o=>u=>backdoor.makeLemmingEvent(f=>d=>()=>{const m=u.ids();return d(u.makeSpeaker({id:m}))(),f(__internalOcarinaFlatten({parent:$Maybe("Just",m),scope:$Scope("Local","toplevel"),raiseId:h=>()=>unit})(u)($Entity("FixedChildren'",o)))(d)()}),tmpResolveAU=o=>u=>f=>d=>onMatch()()()({numeric:m=>applicativeEvent.pure(f({type:"numeric",value:m})),envelope:m=>applicativeEvent.pure(f({type:"envelope",value:m})),cancel:m=>applicativeEvent.pure(f({type:"cancel",value:m})),sudden:m=>applicativeEvent.pure(f({type:"sudden",value:m})),unit:m=>{const h=gain_(initialGainNumber)(1)([m.u]);return backdoor.makeLemmingEvent(b=>y=>()=>{const v={value:Nothing};return b((()=>{const C=__internalOcarinaFlatten({parent:Nothing,scope:o,raiseId:_=>()=>(v.value=$Maybe("Just",_),unit)})(u)(h),w=backdoor.makeLemmingEvent(_=>g=>()=>{const $=v.value;return(()=>{if($.tag==="Nothing")return()=>unit;if($.tag==="Just")return g(f({type:"unit",value:{i:$._1}}));fail$3()})()(),()=>unit});return(_,g)=>{const $=C(_,g),T=w(_,g);return()=>($(),T())}})())(y)()})}})(case_)(d),gain_=o=>u=>f=>gain(o)(u)(plusEvent.empty)(f),gain=o=>u=>f=>d=>{const m=o.toInitializeGain(u);return $Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>v=>()=>{const C=b.ids();h.raiseId(C)();const w=(()=>{const _=applicativeEvent.pure(b.makeGain({id:C,parent:h.parent,scope:(()=>{if(h.scope.tag==="Global")return Nothing;if(h.scope.tag==="Local")return $Maybe("Just",h.scope._1);fail$3()})(),gain:m.gain})),g=keepLatest((T,M)=>f(T,S=>{const I=onMatch()()()({gain:tmpResolveAU(h.scope)(b)(B=>b.setGain({id:C,gain:B}))})(case_)(S);return M(I)})),$=__internalOcarinaFlatten({parent:$Maybe("Just",C),scope:h.scope,raiseId:T=>()=>unit})(b)($Entity("FixedChildren'",d));return y((T,M)=>{const S=_(T,M),I=g(T,M),B=$(T,M);return()=>(S(),I(),B())})(v)})()();return(()=>{const _=v(b.deleteFromCache({id:C}));return()=>(_(),w())})()}))},__playBuf=o=>u=>f=>{const d=o.toInitializePlayBuf(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=(()=>{const w=applicativeEvent.pure(h.makePlayBuf({id:v,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer,playbackRate:d.playbackRate,bufferOffset:d.bufferOffset,duration:d.duration})),_=keepLatest((g,$)=>f(g,T=>{const M=onMatch()()()({buffer:S=>applicativeEvent.pure(h.setBuffer({id:v,buffer:S})),playbackRate:tmpResolveAU(m.scope)(h)(S=>h.setPlaybackRate({id:v,playbackRate:S})),bufferOffset:S=>applicativeEvent.pure(h.setBufferOffset({id:v,bufferOffset:S})),onOff:S=>applicativeEvent.pure(h.setOnOff({id:v,onOff:S})),duration:S=>applicativeEvent.pure(h.setDuration({id:v,duration:S}))})(case_)(T);return $(M)}));return b((g,$)=>{const T=w(g,$),M=_(g,$);return()=>(T(),M())})(y)})()();return(()=>{const w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})()}))},playBuf$5=o=>__playBuf(o),playBuf$4=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$y=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph$1=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,b=>h(b)))))]),convolver(initialConvolverBrowserAu)(o.longVerb)([$Entity("DynamicChildren'",(u,f)=>o.longs(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([playBuf$4({buffer:o.silence})(oneOf$y([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),b=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(b)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>.94?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*1+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])],refToBehavior=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o.value;return f(d(m))()})),misbehavior=o=>u=>f=>compactableEvent.compact(sampleBy(functorEvent)(d=>m=>{const h=o(d);if(h.tag==="Nothing")return Nothing;if(h.tag==="Just")return $Maybe("Just",m(h._1));fail$3()})(u)(f)),howShouldIBehave=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m={value:o},h=subscribe(u)(y=>()=>(m.value=y,unit))(),b=subscribe(f)(y=>()=>{const v=m.value,C=v();return d(y(C))()})();return()=>(h(),b())}),$RequestHeader=(o,u,f)=>({tag:o,_1:u,_2:f}),$ResponseFormat=(o,u)=>({tag:o,_1:u}),identity$i=o=>o,$ResponseHeader=(o,u)=>({tag:"ResponseHeader",_1:o,_2:u}),ResponseHeader=o=>u=>$ResponseHeader(o,u);function id(o){return o}function stringify$1(o){return JSON.stringify(o)}const jsonEmptyObject=empty$2;function _jsonParser(o,u,f){try{return u(JSON.parse(f))}catch(d){return o(d.message)}}const traverse$3=(()=>traversableArray.traverse(applicativeMaybe))(),encode=(()=>{const o=functorMaybe.map(joinWith("&")),u=traverse$3(f=>{if(f._2.tag==="Nothing")return _encodeFormURLComponent(d=>Nothing,Just,f._1);if(f._2.tag==="Just")return applyMaybe.apply((()=>{const d=_encodeFormURLComponent(m=>Nothing,Just,f._1);return d.tag==="Just"?$Maybe("Just",m=>d._1+("="+m)):Nothing})())(_encodeFormURLComponent(d=>Nothing,Just,f._2._1));fail$3()});return f=>o(u(f))})(),$Method=o=>({tag:o}),GET=$Method("GET"),print=o=>{if(o.tag==="Left"){if(o._1.tag==="OPTIONS")return"OPTIONS";if(o._1.tag==="GET")return"GET";if(o._1.tag==="HEAD")return"HEAD";if(o._1.tag==="POST")return"POST";if(o._1.tag==="PUT")return"PUT";if(o._1.tag==="DELETE")return"DELETE";if(o._1.tag==="TRACE")return"TRACE";if(o._1.tag==="CONNECT")return"CONNECT";if(o._1.tag==="PROPFIND")return"PROPFIND";if(o._1.tag==="PROPPATCH")return"PROPPATCH";if(o._1.tag==="MKCOL")return"MKCOL";if(o._1.tag==="COPY")return"COPY";if(o._1.tag==="MOVE")return"MOVE";if(o._1.tag==="LOCK")return"LOCK";if(o._1.tag==="UNLOCK")return"UNLOCK";if(o._1.tag==="PATCH")return"PATCH";fail$3()}if(o.tag==="Right")return o._1;fail$3()},fromEffectFnAff=o=>makeAff(u=>()=>{const f=o(d=>u($Either("Left",d))(),d=>u($Either("Right",d))());return d=>makeAff(m=>()=>(f(d,h=>m($Either("Left",h))(),h=>m($Either("Right",h))()),nonCanceler))});function _ajax(o,u,f,d,m){return function(h,b){var y=o.newXHR(),v=o.fixupUrl(m.url,y);if(y.open(m.method||"GET",v,!0,m.username,m.password),m.headers)try{for(var C=0,w;(w=m.headers[C])!=null;C++)y.setRequestHeader(w.field,w.value)}catch(g){h(g)}var _=function(g){return function(){h(new Error(g))}};return y.onerror=_(f),y.ontimeout=_(u),y.onload=function(){b({status:y.status,statusText:y.statusText,headers:y.getAllResponseHeaders().split(`\r
`).filter(function(g){return g.length>0}).map(function(g){var $=g.indexOf(":");return d(g.substring(0,$))(g.substring($+2))}),body:y.response})},y.responseType=m.responseType,y.withCredentials=m.withCredentials,y.timeout=m.timeout,y.send(m.content),function(g,$,T){try{y.abort()}catch(M){return $(M)}return T()}}}const $Error=(o,u,f)=>({tag:o,_1:u,_2:f}),pure$3=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$2=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),unsafeReadTagged=unsafeReadTagged$2(monadIdentity),alt=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),any=(()=>foldableArray.foldMap((()=>{const o={append:u=>f=>u||f};return{mempty:!1,Semigroup0:()=>o}})()))(),$$try$1=$$try$2(monadErrorAff),TimeoutError=$Error("TimeoutError"),RequestFailedError=$Error("RequestFailedError"),request=o=>u=>{const f=(()=>{if(u.responseFormat.tag==="ArrayBuffer")return unsafeReadTagged("ArrayBuffer");if(u.responseFormat.tag==="Blob")return unsafeReadTagged("Blob");if(u.responseFormat.tag==="Document")return m=>alt(unsafeReadTagged("Document")(m))(alt(unsafeReadTagged("XMLDocument")(m))(unsafeReadTagged("HTMLDocument")(m)));if(u.responseFormat.tag==="Json"){const m=bindExceptT$1(monadIdentity),h=unsafeReadTagged("String");return b=>m.bind(h(b))(y=>u.responseFormat._1((()=>{if(y==="")return pure$3(jsonEmptyObject);const v=_jsonParser(Left,Right,y);if(v.tag==="Left")return fail$2($ForeignError("ForeignError",v._1));if(v.tag==="Right")return pure$3(v._1);fail$3()})()))}if(u.responseFormat.tag==="String")return unsafeReadTagged("String");if(u.responseFormat.tag==="Ignore"){const m=u.responseFormat._1(pure$3(unit));return h=>m}fail$3()})(),d=m=>_map(h=>{if(h.tag==="Right"){const b=f(h._1.body);if(b.tag==="Left")return $Either("Left",$Error("ResponseBodyError",b._1._1,h._1));if(b.tag==="Right")return $Either("Right",{body:b._1,headers:h._1.headers,status:h._1.status,statusText:h._1.statusText});fail$3()}if(h.tag==="Left")return $Either("Left",(()=>{const b=message(h._1);return b==="AffjaxTimeoutErrorMessageIdent"?TimeoutError:b==="AffjaxRequestFailedMessageIdent"?RequestFailedError:$Error("XHROtherError",h._1)})());fail$3()})($$try$1(fromEffectFnAff(_ajax(o,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",ResponseHeader,{method:print(u.method),url:u.url,headers:arrayMap(h=>({field:(()=>{if(h.tag==="Accept")return"Accept";if(h.tag==="ContentType")return"Content-Type";if(h.tag==="RequestHeader")return h._1;fail$3()})(),value:(()=>{if(h.tag==="Accept"||h.tag==="ContentType")return h._1;if(h.tag==="RequestHeader")return h._2;fail$3()})()}))((()=>{const h=(()=>{if(u.content.tag==="Just")return u.content._1.tag==="FormURLEncoded"?$Maybe("Just","application/x-www-form-urlencoded"):u.content._1.tag==="Json"?$Maybe("Just","application/json"):Nothing;if(u.content.tag==="Nothing")return Nothing;fail$3()})();if(h.tag==="Just"){if(u.responseFormat.tag==="Json"){const b=(()=>any(y=>{if(y.tag==="Accept")return!0;if(y.tag==="ContentType")return!1;if(y.tag==="RequestHeader")return y._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)))();return any(y=>{if(y.tag==="Accept")return!1;if(y.tag==="ContentType")return!0;if(y.tag==="RequestHeader")return y._1==="Content-Type";fail$3()})(b)?b:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(b))}return any(b=>{if(b.tag==="Accept")return!1;if(b.tag==="ContentType")return!0;if(b.tag==="RequestHeader")return b._1==="Content-Type";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(u.headers))}return u.responseFormat.tag==="Json"?any(b=>{if(b.tag==="Accept")return!0;if(b.tag==="ContentType")return!1;if(b.tag==="RequestHeader")return b._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)):u.headers})()),content:m,responseType:(()=>{if(u.responseFormat.tag==="ArrayBuffer")return"arraybuffer";if(u.responseFormat.tag==="Blob")return"blob";if(u.responseFormat.tag==="Document")return"document";if(u.responseFormat.tag==="Json"||u.responseFormat.tag==="String")return"text";if(u.responseFormat.tag==="Ignore")return"";fail$3()})(),username:(()=>{if(u.username.tag==="Nothing")return nullImpl;if(u.username.tag==="Just")return u.username._1;fail$3()})(),password:(()=>{if(u.password.tag==="Nothing")return nullImpl;if(u.password.tag==="Just")return u.password._1;fail$3()})(),withCredentials:u.withCredentials,timeout:(()=>u.timeout.tag==="Just"?u.timeout._1:0)()}))));if(u.content.tag==="Nothing")return d(nullImpl);if(u.content.tag==="Just"){if(u.content._1.tag==="ArrayView")return d(u.content._1._1(unsafeCoerce));if(u.content._1.tag==="Blob"||u.content._1.tag==="Document"||u.content._1.tag==="String"||u.content._1.tag==="FormData")return d(u.content._1._1);if(u.content._1.tag==="FormURLEncoded"){const m=encode(u.content._1._1);return m.tag==="Just"?d(m._1):_pure($Either("Left",$Error("RequestContentError","Body contains values that cannot be encoded as application/x-www-form-urlencoded")))}if(u.content._1.tag==="Json")return d(stringify$1(u.content._1._1));fail$3()}fail$3()},printError=o=>{if(o.tag==="RequestContentError")return"There was a problem with the request content: "+o._1;if(o.tag==="ResponseBodyError")return"There was a problem with the response body: "+renderForeignError(o._1);if(o.tag==="TimeoutError")return"There was a problem making the request: timeout";if(o.tag==="RequestFailedError")return"There was a problem making the request: request failed";if(o.tag==="XHROtherError")return"There was a problem making the request: "+message(o._1);fail$3()},driver={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(o){return o||"/"}};function dateMethod(o,u){return u[o]()}function parse(o){return function(){return new Date(o)}}const readJSON$1=readJSON$2(readRecord()(readFieldsCons({reflectSymbol:()=>"datetime"})(readString)(readFieldsNil)()())),show1$4=(()=>showNonEmptyList(showForeignError).show)(),clamp$1=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},withCTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o();return f({time:m,value:d})()})),halfITime=intDiv(2e3)(2),cnow=()=>{const o={value:0},u={value:0},f={value:Nothing},d=setIntervalImpl(2e3)((()=>{const m=_makeFiber(ffiUtil$1,_bind(_liftEffect(now))(h=>_bind(request(driver)({method:$Either("Left",GET),url:"https://worldtimeapi.org/api/ip",headers:[],content:Nothing,username:Nothing,password:Nothing,withCredentials:!1,responseFormat:$ResponseFormat("String",identity$i),timeout:Nothing}))(b=>{if(b.tag==="Left")return _liftEffect(error(showStringImpl(printError(b._1))));if(b.tag==="Right"){const y=readJSON$1(b._1.body);if(y.tag==="Left")return _liftEffect(error(show1$4(y._1)));if(y.tag==="Right")return _liftEffect(()=>{const v=now(),C=parse(y._1.datetime)(),w=u.value;return o.value=w,u.value=(v+h)/2-dateMethod("getTime",C),f.value=$Maybe("Just",v)});fail$3()}fail$3()})));return()=>(m().run(),unit)})())();return{unsubscribe:clearIntervalImpl(d),cnow:()=>{const m=f.value,h=now();if(m.tag==="Nothing")return{time:h,diff:0,pdiff:0};if(m.tag==="Just"){const b=clamp$1(0)(1)((h-m._1)/toNumber(halfITime)),y=o.value,v=u.value;return{time:h-(y*(1-b)+v*b),diff:v,pdiff:y}}fail$3()}}},cInstant=o=>u=>{const f=withCTime(o)(u);return(d,m)=>f(d,h=>{const b=h.value(h.time);return m(b)})},mapAccum$a=mapAccum$d(eventIsEvent),apply=(()=>applyABehavior(functorEvent).apply)(),timeFromRate=o=>u=>f=>mapAccum$a(d=>m=>{const h=(()=>{if(m.prevTime.tag==="Nothing")return(d.acTime-0)/d.behaviors.clength;if(m.prevTime.tag==="Just")return(d.acTime-m.prevTime._1)/d.behaviors.clength;fail$3()})()+(()=>{if(m.prevBeats.tag==="Nothing")return 0;if(m.prevBeats.tag==="Just")return m.prevBeats._1;fail$3()})();return $Tuple({prevTime:$Maybe("Just",d.acTime),prevBeats:$Maybe("Just",h)},{prevTime:m.prevTime,prevBeats:m.prevBeats,time:d.acTime,beats:h,epochTime:d.behaviors.epochTime})})(sampleBy(functorEvent)(d=>m=>({behaviors:d,acTime:m}))(apply(d=>u((m,h)=>d(m,b=>h(y=>b(v=>({clength:y.rate,epochTime:v}))))))(d=>cInstant(o)((m,h)=>d(m,b=>h(y=>b(y))))))((d,m)=>f(d,h=>m(h.real))))({prevTime:Nothing,prevBeats:Nothing}),initializeWithEmpty=o=>u=>f=>(d,m)=>{const h=applicativeEvent.pure(o.empty)(d,m),b=f(d,y=>m(u.pure(y)));return()=>(h(),b())},emitsTouchEvents=()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}};function _getItem(o){return function(u){return function(){return u.getItem(o)}}}function setItem(o){return function(u){return function(f){return function(){f.setItem(o,u)}}}}const getItem=o=>{const u=_getItem(o);return f=>{const d=u(f);return()=>{const m=d();return nullable(m,Nothing,Just)}}},fullscreenEnabled=()=>!!document.fullscreenEnabled,requestFullScreen=o=>u=>()=>{if(document.body.requestFullscreen)return document.body.requestFullscreen().then(u,o);o(),Promise.reject()},fullScreenFlow=o=>()=>{const u=emitsTouchEvents();if(!u)return o();if(u){const f=windowImpl(),d=localStorage$1(f)(),m=getItem("full-screen-grant-state")(d)(),h=()=>fullscreenEnabled()?requestFullScreen(()=>(setItem("full-screen-grant-state")("denied")(d)(),o()))(()=>(setItem("full-screen-grant-state")("granted")(d)(),o()))():o();if(m.tag==="Nothing")return h();if(m.tag==="Just")return m._1==="granted"?h():o();fail$3()}fail$3()},distinctColors=["#b09b34","#3c66e8","#e99084","#88502e","#39c14a","#9139b6","#80ce4f","#985fe0","#6ab337","#d071e6","#41961c","#c047b4","#49cc70","#c23198","#34a54f","#724fbe","#aec334","#835d26","#a94153","#3c4dbb","#d0b737","#235fc9","#749e20","#646bde","#97ad3f","#987dee","#378736","#ef6ecf","#4acd95","#e84c93","#69aa55","#8d4aaa","#8ec677","#554baa","#e5a43e","#4483f2","#e2751e","#5e64c1","#6c8121","#bc87e0","#3f7429","#bd67ba","#445a06","#6f87de","#bb8028","#499ae1","#e13f3d","#4ed1c3","#ad7b4c","#8a4756","#e8426a","#3f9f72","#c72b67","#73bf95","#9c418c","#7c9d57","#644999","#7a781f","#8567bb","#576c1c","#864490","#beba6f","#3464ab","#e46b42","#36bddc","#b23b1a","#6ab0e1","#b42d3b","#31a49d","#ab356f","#3b8251","#dc7ab6","#b26462","#a6503b","#296437","#cca0e2","#5b5b10","#969de0","#8f711c","#625ca1","#dc8651","#4280b1","#a2571e","#5d679c","#705d18","#764e90","#476025","#9577b8","#69773d","#e999c0","#1a6447","#de6762","#368166","#df728d","#5f5c28","#ae6b9c","#978c4d","#864e78","#dda573","#9a456a"],buttonCls="my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded",buttonActiveCls="my-4 bg-white hover:bg-slate-300 text-black font-semibold hover:text-zinc-100 py-2 px-4 border border-slate-300 hover:border-transparent rounded",mapAccum$9=mapAccum$d(eventIsEvent),lpf=o=>{const u=mapAccum$9(f=>d=>$Tuple($Maybe("Just",f),(()=>{if(d.tag==="Nothing")return f;if(d.tag==="Just")return d._1*o+f*(1-o);fail$3()})()));return f=>u(f)(Nothing)},vbust$2=()=>o=>u=>f=>vbackdoor.vbus()(o)(u)(d=>m=>f($Tuple(d,m))),mapAccum$8=mapAccum$d(eventIsEvent),dedup$p=o=>u=>compactableEvent.compact(mapAccum$8(f=>d=>$Tuple($Maybe("Just",f),(()=>{if(d.tag==="Nothing")return $Maybe("Just",f);if(d.tag==="Just")return o(d._1)(f)?Nothing:$Maybe("Just",f);fail$3()})()))(u)(Nothing)),dedup=o=>dedup$p(o.eq),$Column=o=>({tag:o}),$EventV0=(o,u)=>({tag:o,_1:u}),$Event_=o=>({tag:"EventV0",_1:o}),$Position=o=>({tag:o}),$Track=o=>({tag:"TrackV0",_1:o}),$Version=o=>({tag:"Version",_1:o}),ownerIsSymbol={reflectSymbol:()=>"owner"},privateIsSymbol={reflectSymbol:()=>"private"},titleIsSymbol={reflectSymbol:()=>"title"},writeForeignMaybe$2={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},urlIsSymbol={reflectSymbol:()=>"url"},versionIsSymbol$1={reflectSymbol:()=>"version"},Reflectable$Dict$2={reflectType:()=>0},whitelistIsSymbol={reflectSymbol:()=>"whitelist"},readImpl=(()=>readMaybe$3(readArray(readString)).readImpl)(),bind$1=(()=>bindExceptT$1(monadIdentity).bind)(),pure$2=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$1=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$2=readMaybe$3(readString),_typeIsSymbol$1={reflectSymbol:()=>"_type"},readImpl3$1=(()=>readRecord()(readFieldsCons(_typeIsSymbol$1)(readString)(readFieldsNil)()()).readImpl)(),columnIsSymbol={reflectSymbol:()=>"column"},marker1AudioURLIsSymbol={reflectSymbol:()=>"marker1AudioURL"},marker1TimeIsSymbol={reflectSymbol:()=>"marker1Time"},marker2AudioURLIsSymbol={reflectSymbol:()=>"marker2AudioURL"},marker2TimeIsSymbol={reflectSymbol:()=>"marker2Time"},marker3AudioURLIsSymbol={reflectSymbol:()=>"marker3AudioURL"},marker3TimeIsSymbol={reflectSymbol:()=>"marker3Time"},marker4AudioURLIsSymbol={reflectSymbol:()=>"marker4AudioURL"},marker4TimeIsSymbol={reflectSymbol:()=>"marker4Time"},nameIsSymbol$1={reflectSymbol:()=>"name"},audioURLIsSymbol={reflectSymbol:()=>"audioURL"},positionIsSymbol={reflectSymbol:()=>"position"},lengthIsSymbol={reflectSymbol:()=>"length"},Position1=$Position("Position1"),Position2=$Position("Position2"),Position3=$Position("Position3"),Position4=$Position("Position4"),C1=$Column("C1"),C2=$Column("C2"),C3=$Column("C3"),C4=$Column("C4"),C5=$Column("C5"),C6=$Column("C6"),C7=$Column("C7"),C8=$Column("C8"),C9=$Column("C9"),C10=$Column("C10"),C11=$Column("C11"),C12=$Column("C12"),C13=$Column("C13"),C14=$Column("C14"),C15=$Column("C15"),C16=$Column("C16"),C17=$Column("C17"),EventV0=o=>$Event_(o),writeForeignWhitelist={writeImpl:o=>arrayMap(unsafeCoerce)(o)},writeImpl3$1=(()=>{const o=consWriteForeignFields(ownerIsSymbol)(writeForeignString)(consWriteForeignFields(privateIsSymbol)(writeForeignBoolean)(consWriteForeignFields(titleIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(urlIsSymbol)(writeForeignString)(consWriteForeignFields(versionIsSymbol$1)({writeImpl:u=>0})(consWriteForeignFields(whitelistIsSymbol)(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields6$1=consWriteForeignFields(versionIsSymbol$1)({writeImpl:o=>0})(nilWriteForeignFields)()()(),consWriteForeignFields7$1=consWriteForeignFields(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields6$1)()()(),writeForeignTrack={writeImpl:o=>writeImpl3$1(o._1)},writeForeignPosition={writeImpl:o=>{if(o.tag==="Position1")return"Position1";if(o.tag==="Position2")return"Position2";if(o.tag==="Position3")return"Position3";if(o.tag==="Position4")return"Position4";fail$3()}},showWhitelist={show:showArrayImpl(showStringImpl)},show1$3=o=>{const u=cons(intercalate$2(": ")(["owner",showStringImpl(o.owner)]))(cons(intercalate$2(": ")(["private",(()=>o.private?"true":"false")()]))(cons(intercalate$2(": ")(["title",(()=>{if(o.title.tag==="Just")return"(Just "+(showStringImpl(o.title._1)+")");if(o.title.tag==="Nothing")return"Nothing";fail$3()})()]))(cons(intercalate$2(": ")(["url",showStringImpl(o.url)]))(cons(intercalate$2(": ")(["version","Version 0"]))(cons(intercalate$2(": ")(["whitelist",showWhitelist.show(o.whitelist)]))([]))))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},readForeignWhitelist={readImpl:o=>{const u=readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",(()=>{if(u._1.tag==="Nothing")return[];if(u._1.tag==="Just")return u._1._1;fail$3()})());fail$3()}},readForeignVersion=o=>({readImpl:u=>bind$1(readInt.readImpl(u))(f=>{const d=o.reflectType($$Proxy);return f===d?pure$2($Version(f)):fail$1($ForeignError("ForeignError","Expecting version "+(showIntImpl(d)+(" but received "+showIntImpl(f)))))})}),readImpl4$1=(()=>readRecord()(readFieldsCons(ownerIsSymbol)(readString)(readFieldsCons(privateIsSymbol)(readBoolean)(readFieldsCons(titleIsSymbol)(readMaybe$2)(readFieldsCons(urlIsSymbol)(readString)(readFieldsCons(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsCons(whitelistIsSymbol)(readForeignWhitelist)(readFieldsNil)()())()())()())()())()())()()).readImpl)(),readFieldsCons5=readFieldsCons(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsNil)()(),readFieldsCons6$1=readFieldsCons(nameIsSymbol$1)(readMaybe$2)(readFieldsCons5)()(),readForeignTrack={readImpl:o=>{const u=readImpl4$1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Track(u._1));fail$3()}},readForeignPosition={readImpl:o=>bind$1(readString.readImpl(o))(u=>u==="Position1"?pure$2(Position1):u==="Position2"?pure$2(Position2):u==="Position3"?pure$2(Position3):u==="Position4"?pure$2(Position4):fail$1($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},eqColumn={eq:o=>u=>o.tag==="C1"?u.tag==="C1":o.tag==="C2"?u.tag==="C2":o.tag==="C3"?u.tag==="C3":o.tag==="C4"?u.tag==="C4":o.tag==="C5"?u.tag==="C5":o.tag==="C6"?u.tag==="C6":o.tag==="C7"?u.tag==="C7":o.tag==="C8"?u.tag==="C8":o.tag==="C9"?u.tag==="C9":o.tag==="C10"?u.tag==="C10":o.tag==="C11"?u.tag==="C11":o.tag==="C12"?u.tag==="C12":o.tag==="C13"?u.tag==="C13":o.tag==="C14"?u.tag==="C14":o.tag==="C15"?u.tag==="C15":o.tag==="C16"?u.tag==="C16":o.tag==="C17"?u.tag==="C17":!1},ordColumn={compare:o=>u=>{if(o.tag==="C1")return u.tag==="C1"?EQ:LT;if(u.tag==="C1")return GT;if(o.tag==="C2")return u.tag==="C2"?EQ:LT;if(u.tag==="C2")return GT;if(o.tag==="C3")return u.tag==="C3"?EQ:LT;if(u.tag==="C3")return GT;if(o.tag==="C4")return u.tag==="C4"?EQ:LT;if(u.tag==="C4")return GT;if(o.tag==="C5")return u.tag==="C5"?EQ:LT;if(u.tag==="C5")return GT;if(o.tag==="C6")return u.tag==="C6"?EQ:LT;if(u.tag==="C6")return GT;if(o.tag==="C7")return u.tag==="C7"?EQ:LT;if(u.tag==="C7")return GT;if(o.tag==="C8")return u.tag==="C8"?EQ:LT;if(u.tag==="C8")return GT;if(o.tag==="C9")return u.tag==="C9"?EQ:LT;if(u.tag==="C9")return GT;if(o.tag==="C10")return u.tag==="C10"?EQ:LT;if(u.tag==="C10")return GT;if(o.tag==="C11")return u.tag==="C11"?EQ:LT;if(u.tag==="C11")return GT;if(o.tag==="C12")return u.tag==="C12"?EQ:LT;if(u.tag==="C12")return GT;if(o.tag==="C13")return u.tag==="C13"?EQ:LT;if(u.tag==="C13")return GT;if(o.tag==="C14")return u.tag==="C14"?EQ:LT;if(u.tag==="C14")return GT;if(o.tag==="C15")return u.tag==="C15"?EQ:LT;if(u.tag==="C15")return GT;if(o.tag==="C16")return u.tag==="C16"?EQ:LT;if(u.tag==="C16")return GT;if(o.tag==="C17"){if(u.tag==="C17")return EQ;fail$3()}fail$3()},Eq0:()=>eqColumn},intToColumn=o=>o===1?$Either("Right",C1):o===2?$Either("Right",C2):o===3?$Either("Right",C3):o===4?$Either("Right",C4):o===5?$Either("Right",C5):o===6?$Either("Right",C6):o===7?$Either("Right",C7):o===8?$Either("Right",C8):o===9?$Either("Right",C9):o===10?$Either("Right",C10):o===11?$Either("Right",C11):o===12?$Either("Right",C12):o===13?$Either("Right",C13):o===14?$Either("Right",C14):o===15?$Either("Right",C15):o===16?$Either("Right",C16):o===17?$Either("Right",C17):$Either("Left",o),readForeignColumn={readImpl:o=>bind$1(readInt.readImpl(o))(u=>{const f=intToColumn(u);if(f.tag==="Right")return pure$2(f._1);if(f.tag==="Left")return fail$1($ForeignError("ForeignError","No idea how to parse column: "+_unsafeStringify(f._1)));fail$3()})},readImpl5$1=(()=>readRecord()(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(marker1AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons(marker3AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker3TimeIsSymbol)(readNumber)(readFieldsCons(marker4AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker4TimeIsSymbol)(readNumber)(readFieldsCons6$1)()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl6$1=(()=>readRecord()(readFieldsCons(audioURLIsSymbol)(readMaybe$2)(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons(nameIsSymbol$1)(readMaybe$2)(readFieldsCons(positionIsSymbol)(readForeignPosition)(readFieldsCons5)()())()())()())()())()())()()).readImpl)(),readImpl7=(()=>readRecord()(readFieldsCons(audioURLIsSymbol)(readMaybe$2)(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(lengthIsSymbol)(readNumber)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons6$1)()())()())()())()())()()).readImpl)(),readForeignEventV0={readImpl:o=>bind$1(readImpl3$1(o))(u=>{if(u._type==="Basic"){const f=readImpl5$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("BasicEventV0",f._1));fail$3()}if(u._type==="Leap"){const f=readImpl6$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LeapEventV0",f._1));fail$3()}if(u._type==="Long"){const f=readImpl7(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LongEventV0",f._1));fail$3()}return fail$1($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},readForeignEvent_={readImpl:o=>{const u=readForeignEventV0.readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Event_(u._1));fail$3()}},semigroupColumn={append:o=>u=>{const f=intToColumn(intMod(((()=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()})()+(()=>{if(u.tag==="C1")return 1;if(u.tag==="C2")return 2;if(u.tag==="C3")return 3;if(u.tag==="C4")return 4;if(u.tag==="C5")return 5;if(u.tag==="C6")return 6;if(u.tag==="C7")return 7;if(u.tag==="C8")return 8;if(u.tag==="C9")return 9;if(u.tag==="C10")return 10;if(u.tag==="C11")return 11;if(u.tag==="C12")return 12;if(u.tag==="C13")return 13;if(u.tag==="C14")return 14;if(u.tag==="C15")return 15;if(u.tag==="C16")return 16;if(u.tag==="C17")return 17;fail$3()})()|0)-1|0)(17)+1|0);if(f.tag==="Left")return C7;if(f.tag==="Right")return f._1;fail$3()}},writeForeignColumn={writeImpl:o=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()}},writeImpl4$1=(()=>{const o=consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(marker1AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker3AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker3TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker4AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker4TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7$1)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl5$1=(()=>{const o=consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields(positionIsSymbol)(writeForeignPosition)(consWriteForeignFields6$1)()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6$1=(()=>{const o=consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(lengthIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7$1)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignEventV0={writeImpl:o=>{if(o.tag==="BasicEventV0")return writeImpl4$1({...o._1,_type:"Basic"});if(o.tag==="LeapEventV0")return writeImpl5$1({...o._1,_type:"Leap"});if(o.tag==="LongEventV0")return writeImpl6$1({...o._1,_type:"Long"});fail$3()}},writeForeignEvent_={writeImpl:o=>writeForeignEventV0.writeImpl(o._1)},ctorRGB_=o=>({r:u,g:f,b:d})=>new o(u,f,d),$RGB=(o,u,f)=>({tag:"RGB",_1:o,_2:u,_3:f}),colorRepresentationRGB={color:o=>u=>ctorRGB_(o)({r:u._1,g:u._2,b:u._3})},$BoxOptions=()=>({tag:"BoxOptions"}),identity$h=o=>o,BoxOptions=$BoxOptions(),convertOptionBoxOptions$x34b1={convertOption:o=>u=>identity$h},defaultBox={width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},box$4=o=>u=>{const f=o.toInitializeBox(u);return d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const v=h(applicativeEvent.pure(m.makeBox({id:y,parent:d.parent,scope:d.scope,box:f.box,width:f.width,height:f.height,depth:f.depth,widthSegments:f.widthSegments,heightSegments:f.heightSegments,depthSegments:f.depthSegments,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(b)(),C=b(m.deleteFromCache({id:y}));return()=>(C(),v())})},object3D=o=>u=>({matrix4:f=>u.setMatrix4({id:o,matrix4:f}),quaternion:f=>u.setQuaternion({id:o,quaternion:f}),rotationFromAxisAngle:f=>u.setRotationFromAxisAngle({id:o,axis:f.axis,angle:f.angle}),rotationFromEuler:f=>u.setRotationFromEuler({id:o,euler:f}),rotationFromMatrix:f=>u.setRotationFromMatrix({id:o,matrix4:f}),rotationFromQuaternion:f=>u.setRotationFromQuaternion({id:o,quaternion:f}),rotateOnAxis:f=>u.setRotateOnAxis({id:o,axis:f.axis,angle:f.angle}),rotateOnWorldAxis:f=>u.setRotateOnWorldAxis({id:o,axis:f.axis,angle:f.angle}),rotateX:f=>u.setRotateX({id:o,rotateX:f}),rotateY:f=>u.setRotateY({id:o,rotateY:f}),rotateZ:f=>u.setRotateZ({id:o,rotateZ:f}),translateOnAxis:f=>u.setTranslateOnAxis({id:o,axis:f.axis,distance:f.distance}),translateX:f=>u.setTranslateX({id:o,translateX:f}),translateY:f=>u.setTranslateY({id:o,translateY:f}),translateZ:f=>u.setTranslateZ({id:o,translateZ:f}),positionX:f=>u.setPositionX({id:o,positionX:f}),positionY:f=>u.setPositionY({id:o,positionY:f}),positionZ:f=>u.setPositionZ({id:o,positionZ:f}),scaleX:f=>u.setScaleX({id:o,scaleX:f}),scaleY:f=>u.setScaleY({id:o,scaleY:f}),scaleZ:f=>u.setScaleZ({id:o,scaleZ:f}),lookAt:f=>u.setLookAt({id:o,v:f})}),defaultMaterials={alphaTest:Nothing,alphaToCoverage:Nothing,blendDst:Nothing,blendDstAlpha:Nothing,blendEquation:Nothing,blendEquationAlpha:Nothing,blending:Nothing,blendSrc:Nothing,blendSrcAlpha:Nothing,clipIntersection:Nothing,clipShadows:Nothing,colorWrite:Nothing,depthFunc:Nothing,depthTest:Nothing,depthWrite:Nothing,opacity:Nothing,polygonOffset:Nothing,polygonOffsetFactor:Nothing,polygonOffsetUnits:Nothing,precision:Nothing,premultipliedAlpha:Nothing,dithering:Nothing,shadowSide:Nothing,side:Nothing,toneMapped:Nothing,transparent:Nothing,vertexColors:Nothing,visible:Nothing},$MeshStandardMaterialOptions=()=>({tag:"MeshStandardMaterialOptions"}),identity$g=o=>o,oneOf$x=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshStandardMaterialOptions=$MeshStandardMaterialOptions(),convertOptionMeshStandard={convertOption:o=>u=>Just},convertOptionMeshStandard53={convertOption:o=>u=>Just},convertOptionMeshStandard54={convertOption:o=>u=>Just},convertOptionMeshStandard55={convertOption:o=>u=>identity$g},meshStandardMaterial$5=o=>u=>f=>{const d=o.toInitializeMeshStandardMaterial(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$x([applicativeEvent.pure(h.makeMeshStandardMaterial({id:v,parent:m.parent,scope:m.scope,parameters:{meshStandardMaterial:d.meshStandardMaterial,color:d.color,roughness:d.roughness,metalness:d.metalness,map:d.map,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,roughnessMap:d.roughnessMap,metalnessMap:d.metalnessMap,alphaMap:d.alphaMap,envMap:d.envMap,envMapIntensity:d.envMapIntensity,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),(_,g)=>f(_,$=>{const T=onMatch()()()({color:M=>h.setColor({id:v,color:M}),roughness:M=>h.setRoughness({id:v,roughness:M}),metalness:M=>h.setMetalness({id:v,metalness:M}),map:M=>h.setMap({id:v,map:M}),lightMap:M=>h.setLightMap({id:v,lightMap:M}),lightMapIntensity:M=>h.setLightMapIntensity({id:v,lightMapIntensity:M}),aoMap:M=>h.setAoMap({id:v,aoMap:M}),aoMapIntensity:M=>h.setAoMapIntensity({id:v,aoMapIntensity:M}),emissive:M=>h.setEmissive({id:v,emissive:M}),emissiveIntensity:M=>h.setEmissiveIntensity({id:v,emissiveIntensity:M}),emissiveMap:M=>h.setEmissiveMap({id:v,emissiveMap:M}),bumpMap:M=>h.setBumpMap({id:v,bumpMap:M}),bumpScale:M=>h.setBumpScale({id:v,bumpScale:M}),normalMap:M=>h.setNormalMap({id:v,normalMap:M}),normalMapType:M=>h.setNormalMapType({id:v,normalMapType:M}),normalScale:M=>h.setNormalScale({id:v,normalScale:M}),displacementMap:M=>h.setDisplacementMap({id:v,displacementMap:M}),displacementScale:M=>h.setDisplacementScale({id:v,displacementScale:M}),displacementBias:M=>h.setDisplacementBias({id:v,displacementBias:M}),roughnessMap:M=>h.setRoughnessMap({id:v,roughnessMap:M}),metalnessMap:M=>h.setMetalnessMap({id:v,metalnessMap:M}),alphaMap:M=>h.setAlphaMap({id:v,alphaMap:M}),envMap:M=>h.setEnvMap({id:v,envMap:M}),envMapIntensity:M=>h.setEnvMapIntensity({id:v,envMapIntensity:M}),wireframe:M=>h.setWireframe({id:v,wireframe:M}),wireframeLinewidth:M=>h.setWireframeLinewidth({id:v,wireframeLinewidth:M}),flatShading:M=>h.setFlatShading({id:v,flatShading:M})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})},defaultMeshStandardMaterial={...defaultMaterials,color:Nothing,roughness:Nothing,metalness:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,roughnessMap:Nothing,metalnessMap:Nothing,alphaMap:Nothing,envMap:Nothing,envMapIntensity:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing},$MakeEvent=()=>({tag:"MakeEvent"}),oneOf$w=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MakeEvent=$MakeEvent(),mappingMakeEventFunctionF={mapping:o=>semigroupoidFn.compose(pure_)},constMapping$1={mappingWithIndex:o=>u=>mappingMakeEventFunctionF.mapping(o)},hmap=(()=>hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"lookAt"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"matrix4"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"quaternion"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateOnAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateOnWorldAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromAxisAngle"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromEuler"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromMatrix"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromQuaternion"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateOnAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateZ"})(constMapping$1)(mapRecordWithIndexNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).hmap)(),withRemoval$p$1=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},mesh$p=o=>u=>f=>d=>m=>$Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>v=>()=>{const C=b.ids();h.raiseId(C)();const w=y(oneOf$w([applicativeEvent.pure(b.makeMesh({id:C,parent:h.parent,scope:h.scope,mesh:o.mesh})),u({parent:$Maybe("Just",C),scope:h.scope,raiseId:g=>()=>unit})(b),f({parent:$Maybe("Just",C),scope:h.scope,raiseId:g=>()=>unit})(b),backdoor.makeLemmingEvent(g=>$=>()=>{const T={value:empty$2},M=g(d)(S=>bind_(onMatch()()()({...hmap(MakeEvent)(object3D(C)(b)),onClick:I=>withRemoval$p$1(T)("click")(b.setOnClick({id:C,onClick:I}))(b.removeOnClick({id:C,onClick:I})),onMouseDown:I=>withRemoval$p$1(T)("mousedown")(b.setOnMouseDown({id:C,onMouseDown:I}))(b.removeOnMouseDown({id:C,onMouseDown:I})),onMouseUp:I=>withRemoval$p$1(T)("mouseup")(b.setOnMouseUp({id:C,onMouseUp:I}))(b.removeOnMouseUp({id:C,onMouseUp:I})),onMouseMove:I=>withRemoval$p$1(T)("mousemove")(b.setOnMouseMove({id:C,onMouseMove:I}))(b.removeOnMouseMove({id:C,onMouseMove:I})),onTouchStart:I=>withRemoval$p$1(T)("touchstart")(b.setOnTouchStart({id:C,onTouchStart:I}))(b.removeOnTouchStart({id:C,onTouchStart:I})),onTouchEnd:I=>withRemoval$p$1(T)("touchend")(b.setOnTouchEnd({id:C,onTouchEnd:I}))(b.removeOnTouchEnd({id:C,onTouchEnd:I})),onTouchMove:I=>withRemoval$p$1(T)("touchmove")(b.setOnTouchMove({id:C,onTouchMove:I}))(b.removeOnTouchMove({id:C,onTouchMove:I})),onTouchCancel:I=>withRemoval$p$1(T)("touchcancel")(b.setOnTouchCancel({id:C,onTouchCancel:I}))(b.removeOnTouchCancel({id:C,onTouchCancel:I}))})(case_)(S))($))();return()=>{const S=T.value;return foreachE(values(S))($)(),M()}}),flatten({doLogic:absurd,ids:g=>g.ids,disconnectElement:g=>g.disconnect,toElt:g=>g})({parent:$Maybe("Just",C),scope:h.scope,raiseId:g=>()=>unit})(b)($Entity("FixedChildren'",m))]))(v)(),_=v(b.deleteFromCache({id:C}));return()=>(_(),w())})),box$3=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$4=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$v=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleX=o=>({type:"scaleX",value:o}),scaleY$1=o=>({type:"scaleY",value:o}),scaleZ$1=o=>({type:"scaleZ",value:o}),makeBar=o=>{const u=(f,d)=>{const m=applicativeEvent.pure(f(0)),h=oneOff(Just)((()=>{const b=f(d);return(y,v)=>o.rateE(y,C=>v(b))})());return(b,y)=>{const v=m(b,y),C=h(b,y);return()=>(v(),C())}};return mesh$p({mesh:o.threeDI.mesh})(box$3({box:o.threeDI.boxGeometry}))(meshStandardMaterial$4({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3((()=>{if(o.position.tag==="Position1")return $RGB(.2196078431372549,.8431372549019608,.9058823529411765);if(o.position.tag==="Position2")return $RGB(.9764705882352941,.8784313725490196,.4627450980392157);if(o.position.tag==="Position3")return $RGB(.9333333333333333,.19215686274509805,.4196078431372549);if(o.position.tag==="Position4")return $RGB(.5176470588235295,.17647058823529413,.4470588235294118);fail$3()})())})(oneOf$v([(()=>{const f=applyEvent.apply((d,m)=>o.rateE(d,h=>{const b=Tuple(h);return m(b)}))(dedup$p(d=>m=>!d&&m===d)(o.isMe));return(d,m)=>f(d,h=>{const b={type:"emissive",value:o.c3((()=>{if(h._2){const y=sin(h._1.beats*2.199114857512855)*.14+.14;return $RGB(y,y,y)}return $RGB(0,0,0)})())};return m(b)})})()])))(oneOf$v([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),sampleBy(functorEvent)(f=>d=>({type:"positionZ",value:(()=>{if(o.position.tag==="Position1")return-3*f.barZSpacing;if(o.position.tag==="Position2")return-2*f.barZSpacing;if(o.position.tag==="Position3")return-1*f.barZSpacing;if(o.position.tag==="Position4")return 0;fail$3()})()}))(o.renderingInfo)((()=>o.debug?(f,d)=>o.rateE(f,m=>d(unit)):applicativeEvent.pure(unit))()),u(scaleX,10),u(scaleY$1,.01),u(scaleZ$1,.01)]))([])},lowPrioritySchedule=o=>u=>f=>backdoor.makeEvent(d=>{const m=subscribe(f)(h=>o(u)(d(h)));return()=>(m(),()=>unit)}),$BasicOutcome=o=>({tag:o}),Perfect=$BasicOutcome("Perfect"),Nice=$BasicOutcome("Nice"),Early=$BasicOutcome("Early"),Late=$BasicOutcome("Late"),beatsToBasicOutcome=o=>(()=>o>=0?o<.085:-o<.085)()?Perfect:(()=>o>=0?o<.13:-o<.13)()?Nice:o>0?Late:Early,basicOutcomeToPointOutcome=o=>{if(o.tag==="Perfect")return $Either("Right",50);if(o.tag==="Nice")return $Either("Right",20);if(o.tag==="Late"||o.tag==="Early")return $Either("Left",30);fail$3()};function createElement(o){return function(u){return function(){return u.createElement(o)}}}const oneOf$u=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DObject$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeEvent(m=>()=>{const h=d.ids();f.raiseId(h)();const b=bindE(bindE(windowImpl)(document$1))(createElement("div"))(),y=runInElement$p(b)(o.nut)(),v=subscribe(oneOf$u([applicativeEvent.pure(d.makeCSS2DObject({id:h,parent:f.parent,scope:f.scope,nut:b,css2DObject:o.css2DObject})),(w,_)=>u(w,g=>{const $=onMatch()()()(object3D(h)(d))(case_)(g);return _($)})]))(m)(),C=m(d.deleteFromCache({id:h}));return()=>(C(),y(),v())})),oneOfMap$b=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),mapAccum$7=mapAccum$d(eventIsEvent),basicLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.basicTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:$Entity("Element'",elementify("span")(oneOfMap$b(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[(()=>{const b=beatsToBasicOutcome(d.deltaBeats);return text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1"){if(b.tag==="Perfect")return"Player 1 Perfect!";if(b.tag==="Nice")return"Player 1 Nice!";if(b.tag==="Late")return"Player 1 Late";if(b.tag==="Early")return"Player 1 Early";fail$3()}if(d.player.tag==="Player2"){if(b.tag==="Perfect")return"Player 2 Perfect!";if(b.tag==="Nice")return"Player 2 Nice!";if(b.tag==="Late")return"Player 2 Late";if(b.tag==="Early")return"Player 2 Early";fail$3()}if(d.player.tag==="Player3"){if(b.tag==="Perfect")return"Player 3 Perfect!";if(b.tag==="Nice")return"Player 3 Nice!";if(b.tag==="Late")return"Player 3 Late";if(b.tag==="Early")return"Player 3 Early";fail$3()}if(d.player.tag==="Player4"){if(b.tag==="Perfect")return"Player 4 Perfect!";if(b.tag==="Nice")return"Player 4 Nice!";if(b.tag==="Late")return"Player 4 Late";if(b.tag==="Early")return"Player 4 Early";fail$3()}fail$3()})()))})()])))})((()=>{const b=keepLatest((()=>{const y=mapAccum$7(v=>C=>{if(C.tag==="Nothing")return $Tuple($Maybe("Just",v),v);if(C.tag==="Just")return $Tuple($Maybe("Just",C._1),{z:C._1.z,x:v.x,y:v.y});fail$3()})(d.translation)(Nothing);return(v,C)=>y(v,w=>{const _=oneOfMap$b(applicativeEvent.pure)([{type:"positionX",value:w.x},{type:"positionY",value:w.y},{type:"positionZ",value:w.z}]);return C(_)})})());return(y,v)=>{const C=applicativeEvent.pure({type:"positionZ",value:100})(y,v),w=b(y,v);return()=>(C(),w())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const v=m(b,y),C=h(b,y);return()=>(v(),C())})})),oneOfMap$a=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),mapAccum$6=mapAccum$d(eventIsEvent),leapLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.leapTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:$Entity("Element'",elementify("span")(oneOfMap$a(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1")return"Player 1 Leap!";if(d.player.tag==="Player2")return"Player 2 Leap!";if(d.player.tag==="Player3")return"Player 3 Leap!";if(d.player.tag==="Player4")return"Player 4 Leap!";fail$3()})()))])))})((()=>{const b=keepLatest((()=>{const y=mapAccum$6(v=>C=>{if(C.tag==="Nothing")return $Tuple($Maybe("Just",v),v);if(C.tag==="Just")return $Tuple($Maybe("Just",C._1),{z:C._1.z,x:v.x,y:v.y});fail$3()})(d.translation)(Nothing);return(v,C)=>y(v,w=>{const _=oneOfMap$a(applicativeEvent.pure)([{type:"positionX",value:w.x},{type:"positionY",value:w.y},{type:"positionZ",value:w.z}]);return C(_)})})());return(y,v)=>{const C=applicativeEvent.pure({type:"positionZ",value:100})(y,v),w=b(y,v);return()=>(C(),w())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const v=m(b,y),C=h(b,y);return()=>(v(),C())})})),oneOfMap$9=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),oneOf$t=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$5=mapAccum$d(eventIsEvent),css2DNut=o=>u=>$Entity("Element'",elementify("span")(oneOfMap$9(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[text(oneOf$t([applicativeEvent.pure((()=>{if(u.player.tag==="Player1")return"Player 1 Long on!";if(u.player.tag==="Player2")return"Player 2 Long on!";if(u.player.tag==="Player3")return"Player 3 Long on!";if(u.player.tag==="Player4")return"Player 4 Long on!";fail$3()})()),(f,d)=>o.longRelease(f,m=>{const h=(()=>{if(u.player.tag==="Player1")return"Player 1 Long off!";if(u.player.tag==="Player2")return"Player 2 Long off!";if(u.player.tag==="Player3")return"Player 3 Long off!";if(u.player.tag==="Player4")return"Player 4 Long off!";fail$3()})();return d(h)})]))]))),longLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.longTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:css2DNut(o)(d)})((()=>{const b=keepLatest((()=>{const y=mapAccum$5(v=>C=>{if(C.tag==="Nothing")return $Tuple($Maybe("Just",v),v);if(C.tag==="Just")return $Tuple($Maybe("Just",C._1),{z:C._1.z,x:v.x,y:v.y});fail$3()})(d.translation)(Nothing);return(v,C)=>y(v,w=>{const _=oneOfMap$9(applicativeEvent.pure)([{type:"positionX",value:w.x},{type:"positionY",value:w.y},{type:"positionZ",value:w.z}]);return C(_)})})());return(y,v)=>{const C=applicativeEvent.pure({type:"positionZ",value:100})(y,v),w=b(y,v);return()=>(C(),w())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const v=m(b,y),C=h(b,y);return()=>(v(),C())})}));function clientX$1(o){return o.clientX}function clientY$1(o){return o.clientY}function clientX(o){return o.clientX}function clientY(o){return o.clientY}const box$2=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$3=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard)()()()({reflectSymbol:()=>"visible"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$s=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleY=o=>({type:"scaleY",value:o}),scaleZ=o=>({type:"scaleZ",value:o}),show$3=o=>{const u=cons(intercalate$2(": ")(["cx",showIntImpl(o.cx)]))(cons(intercalate$2(": ")(["cy",showIntImpl(o.cy)]))([]));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},makeRaycastableLane=o=>{const u=(d,m)=>{const h=applicativeEvent.pure(d(0)),b=oneOff(Just)((()=>{const y=d(m);return(v,C)=>o.rateE(v,w=>C(y))})());return(y,v)=>{const C=h(y,v),w=b(y,v);return()=>(C(),w())}},f=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((d,m)=>{const h=applicativeEvent.pure(o.initialDims)(d,y=>{const v={iw:y.iw,ih:y.ih,r:y.iw/y.ih};return m(v)}),b=o.resizeEvent(d,y=>m({iw:y.iw,ih:y.ih,r:y.iw/y.ih}));return()=>(h(),b())})((d,m)=>o.rateInfo(d,h=>m(b=>y=>({rateInfo:h,ratio:b,renderingInfo:y})))));return mesh$p({mesh:o.threeDI.mesh})(box$2({box:o.threeDI.boxGeometry}))(meshStandardMaterial$3({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3($RGB(.5,.5,.5)),visible:!1})(plusEvent.empty))(oneOf$s([(d,m)=>f(d,h=>{const b=(()=>{if(o.column.tag==="C1")return h.renderingInfo.halfAmbitus*-1*h.ratio.r;if(o.column.tag==="C2")return h.renderingInfo.halfAmbitus*-.875*h.ratio.r;if(o.column.tag==="C3")return h.renderingInfo.halfAmbitus*-.75*h.ratio.r;if(o.column.tag==="C4")return h.renderingInfo.halfAmbitus*-.625*h.ratio.r;if(o.column.tag==="C5")return h.renderingInfo.halfAmbitus*-.5*h.ratio.r;if(o.column.tag==="C6")return h.renderingInfo.halfAmbitus*-.375*h.ratio.r;if(o.column.tag==="C7")return h.renderingInfo.halfAmbitus*-.25*h.ratio.r;if(o.column.tag==="C8")return h.renderingInfo.halfAmbitus*-.125*h.ratio.r;if(o.column.tag==="C9")return h.renderingInfo.halfAmbitus*0*h.ratio.r;if(o.column.tag==="C10")return h.renderingInfo.halfAmbitus*.125*h.ratio.r;if(o.column.tag==="C11")return h.renderingInfo.halfAmbitus*.25*h.ratio.r;if(o.column.tag==="C12")return h.renderingInfo.halfAmbitus*.375*h.ratio.r;if(o.column.tag==="C13")return h.renderingInfo.halfAmbitus*.5*h.ratio.r;if(o.column.tag==="C14")return h.renderingInfo.halfAmbitus*.625*h.ratio.r;if(o.column.tag==="C15")return h.renderingInfo.halfAmbitus*.75*h.ratio.r;if(o.column.tag==="C16")return h.renderingInfo.halfAmbitus*.875*h.ratio.r;if(o.column.tag==="C17")return h.renderingInfo.halfAmbitus*1*h.ratio.r;fail$3()})();return m({type:"positionX",value:b})}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:-1.5}),(d,m)=>{const h=applicativeEvent.pure({type:"scaleX",value:0})(d,m),b=f(d,y=>m({type:"scaleX",value:y.renderingInfo.halfAmbitus*y.ratio.r/9}));return()=>(h(),b())},u(scaleY,.1),u(scaleZ,5),(()=>{const d=applicativeEvent.pure(m=>{const h=log("position: "+(show$3(m)+(" column: "+_unsafeStringify((()=>{if(o.column.tag==="C1")return 1;if(o.column.tag==="C2")return 2;if(o.column.tag==="C3")return 3;if(o.column.tag==="C4")return 4;if(o.column.tag==="C5")return 5;if(o.column.tag==="C6")return 6;if(o.column.tag==="C7")return 7;if(o.column.tag==="C8")return 8;if(o.column.tag==="C9")return 9;if(o.column.tag==="C10")return 10;if(o.column.tag==="C11")return 11;if(o.column.tag==="C12")return 12;if(o.column.tag==="C13")return 13;if(o.column.tag==="C14")return 14;if(o.column.tag==="C15")return 15;if(o.column.tag==="C16")return 16;if(o.column.tag==="C17")return 17;fail$3()})()))));return()=>(h(),o.columnPusher(),()=>unit)});return o.isMobile?(m,h)=>d(m,b=>h({type:"onTouchStart",value:y=>{const v=b({cx:clientX$1(y),cy:clientY$1(y)});return()=>{const C=v();return{end:w=>C,cancel:w=>C}}}})):(m,h)=>d(m,b=>h({type:"onMouseDown",value:y=>{const v=b({cx:clientX(y),cy:clientY(y)});return()=>{const C=v();return w=>C}}}))})()]))([])},$PerspectiveCameraOptions=()=>({tag:"PerspectiveCameraOptions"}),identity$f=o=>o,oneOf$r=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PerspectiveCameraOptions=$PerspectiveCameraOptions(),convertOptionPerspectiveC={convertOption:o=>u=>identity$f},convertOptionPerspectiveC1={convertOption:o=>u=>identity$f},convertOptionPerspectiveC2={convertOption:o=>u=>identity$f},convertOptionPerspectiveC3={convertOption:o=>u=>identity$f},convertOptionPerspectiveC4={convertOption:o=>u=>identity$f},perspectiveCamera$4=o=>u=>f=>{const d=o.toInitializePerspectiveCamera(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$r([applicativeEvent.pure(h.makePerspectiveCamera({id:v,parent:m.parent,scope:m.scope,perspectiveCamera:d.perspectiveCamera,aspect:d.aspect,far:d.far,fov:d.fov,near:d.near})),(_,g)=>f(_,$=>{const T=onMatch()()()({...object3D(v)(h),aspect:M=>h.setAspect({id:v,aspect:M}),far:M=>h.setFar({id:v,far:M}),filmGauge:M=>h.setFilmGauge({id:v,filmGauge:M}),filmOffset:M=>h.setFilmOffset({id:v,filmOffset:M}),focus:M=>h.setFocus({id:v,focus:M}),fov:M=>h.setFov({id:v,fov:M}),near:M=>h.setNear({id:v,near:M}),zoom:M=>h.setZoom({id:v,zoom:M}),focalLength:M=>h.setFocalLength({id:v,focalLength:M}),viewOffset:M=>h.setViewOffset({id:v,fullWidth:M.fullWidth,fullHeight:M.fullHeight,x:M.x,y:M.y,width:M.width,height:M.height})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})},defaultPerspectiveCamera={fov:50,aspect:1,near:.1,far:2e3},ctor_$1=o=>({x:u,y:f,z:d})=>new o(u,f,d),oneOf$q=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),unsafeInternalGroup=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$q([applicativeEvent.pure(o(h)({id:v,parent:m.parent,scope:m.scope,group:u.group})),(_,g)=>f(_,$=>{const T=onMatch()()()(object3D(v)(h))(case_)($);return g(T)}),flatten({doLogic:absurd,ids:_=>_.ids,disconnectElement:_=>_.disconnect,toElt:_=>_})({parent:$Maybe("Just",v),scope:m.scope,raiseId:_=>()=>unit})(h)($Entity("FixedChildren'",arrayMap(unsafeCoerce)(d)))]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})),loader$2=o=>()=>new o,load$2=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},sceneImpl=o=>o.scene.clone(),loadAff$2=o=>u=>makeAff(f=>{const d=load$2(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),$AmbientLightOptions=()=>({tag:"AmbientLightOptions"}),identity$e=o=>o,oneOf$p=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),AmbientLightOptions=$AmbientLightOptions(),convertOptionAmbientLight={convertOption:o=>u=>identity$e},convertOptionAmbientLight1={convertOption:o=>u=>identity$e},convertOptionAmbientLight2={convertOption:o=>u=>identity$e},defaultAmbientLight={intensity:1},ambientLight$3=o=>u=>f=>{const d=o.toInitializeAmbientLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$p([applicativeEvent.pure(h.makeAmbientLight({id:v,parent:m.parent,scope:m.scope,ambientLight:d.ambientLight,color:d.color,intensity:d.intensity})),(_,g)=>f(_,$=>{const T=onMatch()()()({...object3D(v)(h),color:M=>h.setColor({id:v,color:M}),intensity:M=>h.setIntensity({id:v,intensity:M})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())}))},$PointLightOptions=()=>({tag:"PointLightOptions"}),identity$d=o=>o,oneOf$o=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PointLightOptions=$PointLightOptions(),convertOptionPointLightOp={convertOption:o=>u=>identity$d},convertOptionPointLightOp1={convertOption:o=>u=>identity$d},convertOptionPointLightOp2={convertOption:o=>u=>identity$d},convertOptionPointLightOp3={convertOption:o=>u=>identity$d},convertOptionPointLightOp4={convertOption:o=>u=>identity$d},pointLight$3=o=>u=>f=>{const d=o.toInitializePointLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$o([applicativeEvent.pure(h.makePointLight({id:v,parent:m.parent,scope:m.scope,pointLight:d.pointLight,color:d.color,intensity:d.intensity,distance:d.distance,decay:d.decay})),(_,g)=>f(_,$=>{const T=onMatch()()()({...object3D(v)(h),color:M=>h.setColor({id:v,color:M}),intensity:M=>h.setIntensity({id:v,intensity:M}),distance:M=>h.setDistance({id:v,distance:M}),decay:M=>h.setDecay({id:v,decay:M})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())}))},defaultPointLight={intensity:1,distance:0,decay:1},globalWebGLRendererPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.webGLRendererConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalWebGLRendererPortal1=()=>()=>o=>u=>globalWebGLRendererPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalScenePortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectScene(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalScenePortal1=()=>()=>o=>u=>globalScenePortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalEffectComposerPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.effectComposerConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalEffectComposerPortal1=()=>()=>o=>u=>globalEffectComposerPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalCameraPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectCamera(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalCameraPortal1=()=>()=>o=>u=>globalCameraPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),oneOf$n=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=h.ids(),w={value:Nothing},_={value:Nothing},g=b(oneOf$n([o({parent:$Maybe("Just",v),scope:$Scope("Local",C),raiseId:I=>()=>(w.value=$Maybe("Just",I),unit)})(h),u({parent:$Maybe("Just",v),scope:$Scope("Local",C),raiseId:I=>()=>(_.value=$Maybe("Just",I),unit)})(h)]))(y)(),$=w.value,T=_.value,M=(()=>{if($.tag==="Nothing")return()=>()=>unit;if($.tag==="Just"){if(T.tag==="Nothing")return()=>()=>unit;if(T.tag==="Just")return b(oneOf$n([applicativeEvent.pure(h.makeCSS2DRenderer({...f,id:v,camera:T._1})),backdoor.makeLemmingEvent(I=>B=>()=>{const x={value:()=>unit},F=I((R,L)=>d(R,z=>{const J=onMatch()()()({render:K=>h.css2DRender({id:v,scene:$._1,camera:T._1}),size:K=>h.setSize({id:v,width:K.width,height:K.height})})(case_)(z);return L(J)}))(B)();return x.value=F,()=>{const R=x.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:v}));return()=>(S(),g(),M())})),oneOf$m=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css3DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=h.ids(),w={value:Nothing},_={value:Nothing},g=b(oneOf$m([o({parent:$Maybe("Just",v),scope:$Scope("Local",C),raiseId:I=>()=>(w.value=$Maybe("Just",I),unit)})(h),u({parent:$Maybe("Just",v),scope:$Scope("Local",C),raiseId:I=>()=>(_.value=$Maybe("Just",I),unit)})(h)]))(y)(),$=w.value,T=_.value,M=(()=>{if($.tag==="Nothing")return()=>()=>unit;if($.tag==="Just"){if(T.tag==="Nothing")return()=>()=>unit;if(T.tag==="Just")return b(oneOf$m([applicativeEvent.pure(h.makeCSS3DRenderer({...f,id:v,camera:T._1})),backdoor.makeLemmingEvent(I=>B=>()=>{const x={value:()=>unit},F=I((R,L)=>d(R,z=>{const J=onMatch()()()({render:K=>h.css3DRender({id:v,scene:$._1,camera:T._1}),size:K=>h.setSize({id:v,width:K.width,height:K.height})})(case_)(z);return L(J)}))(B)();return x.value=F,()=>{const R=x.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:v}));return()=>(S(),g(),M())})),oneOf$l=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),raycaster$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const b=d.ids();f.raiseId(b)();const y=d.ids(),v={value:Nothing},C=m(oneOf$l([u({parent:$Maybe("Just",b),scope:$Scope("Local",y),raiseId:$=>()=>(v.value=$Maybe("Just",$),unit)})(d)]))(h)(),w=v.value,_=(()=>{if(w.tag==="Nothing")return()=>()=>unit;if(w.tag==="Just")return m(oneOf$l([applicativeEvent.pure(d.makeRaycaster({id:b,raycaster:o.raycaster,canvas:o.canvas,camera:w._1}))]))(h);fail$3()})()(),g=h(d.deleteFromCache({id:b}));return()=>(g(),C(),_())})),$WebGLRenderingPowerPreference=o=>({tag:o}),Default=$WebGLRenderingPowerPreference("Default"),$WebGLRenderingPrecision=o=>({tag:o}),High=$WebGLRenderingPrecision("High"),$WebGLRendererOptions=()=>({tag:"WebGLRendererOptions"}),identity$c=o=>o,oneOf$k=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),WebGLRendererOptions=$WebGLRendererOptions(),convertOptionWebGLRendere10={convertOption:o=>u=>identity$c},convertOptionWebGLRendere11={convertOption:o=>u=>identity$c},webGLRenderer$4=o=>u=>f=>d=>m=>{const h=o.toInitializeWebGLRenderer(d);return b=>y=>backdoor.makeLemmingEvent(v=>C=>()=>{const w=y.ids();b.raiseId(w)();const _=y.ids(),g={value:Nothing},$={value:Nothing},T=v(oneOf$k([u({parent:$Maybe("Just",w),scope:$Scope("Local",_),raiseId:x=>()=>(g.value=$Maybe("Just",x),unit)})(y),f({parent:$Maybe("Just",w),scope:$Scope("Local",_),raiseId:x=>()=>($.value=$Maybe("Just",x),unit)})(y)]))(C)(),M=g.value,S=$.value,I=(()=>{if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just"){if(S.tag==="Nothing")return()=>()=>unit;if(S.tag==="Just")return v(oneOf$k([applicativeEvent.pure(y.makeWebGLRenderer({id:w,webGLRenderer:h.webGLRenderer,canvas:h.canvas,camera:S._1,precision:h.precision,alpha:h.alpha,premultipliedAlpha:h.premultipliedAlpha,antialias:h.antialias,stencil:h.stencil,preserveDrawingBuffer:h.preserveDrawingBuffer,powerPreference:h.powerPreference,failIfMajorPerformanceCaveat:h.failIfMajorPerformanceCaveat,depth:h.depth,logarithmicDepthBuffer:h.logarithmicDepthBuffer})),backdoor.makeLemmingEvent(x=>F=>()=>{const R={value:()=>unit},L=x((z,J)=>m(z,K=>{const ee=onMatch()()()({render:q=>y.webGLRender({id:w,scene:M._1,camera:S._1}),size:q=>y.setSize({id:w,width:q.width,height:q.height})})(case_)(K);return J(ee)}))(F)();return R.value=L,()=>{const z=R.value;return z()}})]))(C);fail$3()}fail$3()})()(),B=C(y.deleteFromCache({id:w}));return()=>(B(),T(),I())})},defaultWebGLRenderer={precision:High,alpha:!1,premultipliedAlpha:!0,antialias:!1,stencil:!0,preserveDrawingBuffer:!1,powerPreference:Default,failIfMajorPerformanceCaveat:!1,depth:!0,logarithmicDepthBuffer:!1},oneOf$j=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposer$1=o=>u=>f=>d=>m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=h.ids(),w={value:Nothing},_=b(oneOf$j([u({parent:$Maybe("Just",v),scope:$Scope("Local",C),raiseId:M=>()=>(w.value=$Maybe("Just",M),unit)})(h)]))(y)(),g=w.value,$=(()=>{if(g.tag==="Nothing")return()=>()=>unit;if(g.tag==="Just")return b(oneOf$j([applicativeEvent.pure(h.makeEffectComposer({id:v,effectComposer:o.effectComposer,webGLRenderer:g._1})),(M,S)=>f(M,I=>{const B=onMatch()()()({render:x=>h.effectComposerRender({id:v})})(case_)(I);return S(B)}),flatten({doLogic:absurd,ids:M=>M.ids,disconnectElement:M=>M.disconnectPass,toElt:M=>M})({parent:$Maybe("Just",v),scope:m.scope,raiseId:M=>()=>unit})(h)($Entity("FixedChildren'",d))]))(y);fail$3()})()(),T=y(h.deleteFromCache({id:v}));return()=>(T(),_(),$())}),oneOf$i=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposerPass$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const b=d.ids();f.raiseId(b)();const y=d.ids(),v={value:Nothing},C=m(oneOf$i([u({parent:$Maybe("Just",b),scope:$Scope("Local",y),raiseId:$=>()=>(v.value=$Maybe("Just",$),unit)})(d)]))(h)(),w=v.value,_=(()=>{if(w.tag==="Nothing")return()=>()=>unit;if(w.tag==="Just")return m(oneOf$i([applicativeEvent.pure(d.makeEffectComposerPass({id:b,parent:f.parent,effectComposerPass:o.effectComposerPass,effectComposer:w._1}))]))(h);fail$3()})()(),g=h(d.deleteFromCache({id:b}));return()=>(g(),C(),_())})),oneOf$h=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),renderPass$1=o=>u=>f=>$Entity("Element'",d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const v=m.ids(),C={value:Nothing},w={value:Nothing},_=h(oneOf$h([u({parent:$Maybe("Just",y),scope:$Scope("Local",v),raiseId:S=>()=>(C.value=$Maybe("Just",S),unit)})(m),f({parent:$Maybe("Just",y),scope:$Scope("Local",v),raiseId:S=>()=>(w.value=$Maybe("Just",S),unit)})(m)]))(b)(),g=C.value,$=w.value,T=(()=>{if(g.tag==="Nothing")return()=>()=>unit;if(g.tag==="Just"){if($.tag==="Nothing")return()=>()=>unit;if($.tag==="Just")return h(oneOf$h([applicativeEvent.pure(m.makeRenderPass({id:y,parent:d.parent,renderPass:o.renderPass,camera:$._1,scene:g._1}))]))(b);fail$3()}fail$3()})()(),M=b(m.deleteFromCache({id:y}));return()=>(M(),_(),T())})),$UnrealBloomPassOptions=()=>({tag:"UnrealBloomPassOptions"}),identity$b=o=>o,oneOf$g=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),UnrealBloomPassOptions=$UnrealBloomPassOptions(),convertOptionUnrealBloomP={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP1={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP2={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP3={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP4={convertOption:o=>u=>identity$b},unrealBloomPass$3=o=>u=>f=>{const d=o.toInitializeUnrealBloomPass(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$g([applicativeEvent.pure(h.makeUnrealBloomPass({id:v,parent:m.parent,unrealBloomPass:d.unrealBloomPass,resolution:d.resolution,strength:d.strength,radius:d.radius,threshold:d.threshold})),(_,g)=>f(_,$=>{const T=onMatch()()()({resolution:M=>h.setResolution({id:v,resolution:M}),strength:M=>h.setStrength({id:v,strength:M}),radius:M=>h.setRadius({id:v,radius:M}),threshold:M=>h.setThreshold({id:v,threshold:M})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())}))},defaultUnrealBloomPass={},undefinedImpl=void 0,GLOBAL_SCOPE="@global@",genericMake_=o=>u=>f=>d=>()=>{const{id:m,scope:h,parent:b,...y}=f,v=h||GLOBAL_SCOPE;d.scopes[v]||(d.scopes[v]=[]),d.scopes[v].push(m),d.units[m]={listeners:{},parent:b,scope:v,main:o(y)},b!==void 0&&u(d.units[m],d.units[b])},stripUndefined_=o=>{const u={...o};for(const f in o)o[f]===void 0&&delete u[f];return u},connectToScene_=o=>u=>()=>u.units[o.parent].main.add(u.units[o.id].main),connectMesh_=o=>u=>()=>u.units[o.parent].main.add(u.units[o.id].main),connectGeometry_=o=>u=>()=>{u.units[o.parent].main.geometry=u.units[o.id].main},connectScene_=o=>u=>()=>{},connectCamera_=o=>u=>()=>{u.units[o.parent]&&(u.units[o.parent].main.isScene||u.units[o.parent].main.isGroup)&&u.units[o.parent].main.add(u.units[o.id].main)},connectMaterial_=o=>u=>()=>{u.units[o.parent].main.material=u.units[o.id].main},withAtts=o=>u=>{const f=o(u),d=Object.entries(u.bufferAttributes);for(var m=0;m<d.length;m++)f.setAttribute(d[m][0],d[m][1]);const h=Object.entries(u.instancedBufferAttributes);for(var m=0;m<h.length;m++)f.setAttribute(h[m][0],h[m][1]);return f},makeBox_=genericMake_(withAtts(o=>new o.box(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)))((o,u)=>{u.main.geometry=o.main}),makePlane_=genericMake_(withAtts(o=>new o.plane(o.width,o.height,o.widthSegments,o.heightSegments)))((o,u)=>{u.main.geometry=o.main}),makeBufferGeometry_=genericMake_(withAtts(o=>new o.bufferGeometry))((o,u)=>{u.main.geometry=o.main}),makeCapsule_=genericMake_(withAtts(o=>new o.capsule(o.radius,o.length,o.capSegments,o.radialSegments)))((o,u)=>{u.main.geometry=o.main}),makeCylinder_=genericMake_(withAtts(o=>new o.cylinder(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makeSphere_=genericMake_(withAtts(o=>new o.sphere(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makePerspectiveCamera_=o=>u=>()=>{genericMake_(f=>new f.perspectiveCamera(f.fov,f.aspect,f.near,f.far))(()=>{})(o)(u)()},makeGLTFCamera_=o=>u=>()=>{genericMake_(({camera:f})=>f)(()=>{})(o)(u)()},ascSort=function(o,u){return o.distance-u.distance},makeInstancedMesh_=o=>u=>()=>{const f=new o.matrix4,d=new o.matrix4,m=[],h=new o.mesh;class b extends o.instancedMesh{constructor(M,S,I){super(M,S,I)}raycastInstances(M,S,I){const B=this.matrixWorld,x=S!==void 0?S.length:this.count;if(h.geometry=this.geometry,h.material=this.material,h.material!==void 0)for(let F=0;F<x;F++){const R=S!==void 0?S[F]:F;this.getMatrixAt(R,f),d.multiplyMatrices(B,f),h.matrixWorld=d,h.raycast(M,m);for(let L=0,z=m.length;L<z;L++){const J=m[L];J.instanceId=R,J.object=this,I.push(J)}m.length=0}}}const{id:y,scope:v,parent:C,geometry:w,material:_,count:g}=o,$=v||GLOBAL_SCOPE;u.scopes[$]||(u.scopes[$]=[]),u.scopes[$].push(y),u.units[y]={listeners:{},parent:C,scope:$,main:new b(u.units[w].main,u.units[_].main,g)},C!==void 0&&u.units[C].main.add(u.units[y].main)},makeMesh_=genericMake_(o=>new o.mesh)((o,u)=>{u.main.add(o.main)}),makePoints_=genericMake_(o=>new o.points)((o,u)=>{u.main.add(o.main)}),makeCSS2DObject_=genericMake_(o=>new o.css2DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeCSS3DObject_=genericMake_(o=>new o.css3DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeAmbientLight_=genericMake_(o=>new o.ambientLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makeDirectionalLight_=genericMake_(o=>new o.directionalLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makePointLight_=genericMake_(o=>new o.pointLight(o.color,o.intensity,o.distance,o.decay))((o,u)=>{u.main.add(o.main)}),withMaterialParameters_=o=>u=>{const f=o(u);return Object.entries(u.materialParameters).forEach(([m,h])=>{f[m]=h}),f},makeShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{shaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeRawShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{rawShaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshBasicMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshBasicMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshPhongMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshPhongMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshStandardMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshStandardMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),setSize_=o=>u=>()=>{u.units[o.id].main.setSize(o.width,o.height)},setSizeThroughEffectComposer_=o=>u=>()=>{u.units[o.id].main.renderer.setSize(o.width,o.height)},makeScene_=genericMake_(o=>new o.scene)(()=>{}),makeGroup_=genericMake_(o=>new o.group)((o,u)=>{u.main.add(o.main)}),makeGLTFGroup_=genericMake_(({group:o})=>o)((o,u)=>{u.main.add(o.main)}),effectComposerRender_=o=>u=>()=>{u.units[o.id].main.render()},webGLRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css2DRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css3DRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},getAllTouches=o=>{const u=[];for(let f=0;f<o.length;f++)u.push(o.item(f));return u},intersectInstance=(o,u,f,d=[])=>(u.layers.test(o.layers)&&u.raycastInstances(o,f,d),d.sort(ascSort),d),doFinalThunk=(o,u,f)=>{u==="mouseup"?(Object.entries(f.listeners.upformousedown).forEach(([m,h])=>{h(o)()}),f.listeners.upformousedown={}):u==="touchend"?(Object.values(f.listeners.endfortouchstart).forEach(m=>{m(o)()}),f.listeners.endfortouchstart={}):u==="touchcancel"&&(Object.values(f.listeners.cancelfortouchstart).forEach(m=>{m(o)()}),f.listeners.cancelfortouchstart={})},assignThunk=(o,u,f,d)=>{f==="mousedown"?d.listeners.upformousedown[o]=u:f==="touchstart"&&(d.listeners.endfortouchstart[o]=u.end,d.listeners.cancelfortouchstart[o]=u.cancel)},makeRenderPass_=o=>u=>()=>{const f=new o.renderPass(u.units[o.scene].main,u.units[o.camera].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeRaycaster_=o=>u=>()=>{setUpForRaycasting(o,u)},makeGlitchPass_=o=>u=>()=>{const f=new o.glitchPass(o.dtSize);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposerPass_=o=>u=>()=>{const f=new o.effectComposerPass(u.units[o.effectComposer].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeBloomPass_=o=>u=>()=>{const f=new o.bloomPass(o.strength,o.kernelSize,o.sigma,o.resolution);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeUnrealBloomPass_=o=>u=>()=>{const f=new o.unrealBloomPass(o.resolution,o.strength,o.radius,o.threshold);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposer_=o=>u=>()=>{const f=o.id,d=new o.effectComposer(u.units[o.webGLRenderer].main);u.units[f]={main:d}},setUpForRaycasting=(o,u)=>{const f=new o.raycaster,d=u.units[o.camera].main,m=h=>{o.canvas.addEventListener(h,b=>{const y=Object.entries(u.listeners[h]),v=h.indexOf("touch")!==-1?getAllTouches(b.touches):[b];doFinalThunk(b,h,u),y.length>0&&v.forEach(w=>{const _=w.clientX/window.innerWidth*2-1,g=-(w.clientY/window.innerHeight)*2+1;f.setFromCamera({x:_,y:g},d),y.forEach(([$,T])=>{const M=u.units[$].main;if(f.intersectObject(M).length>0){const I=T(w)();assignThunk($,I,h,u)}})});const C=Object.entries(u.listeners[h+"Instanced"]);C.length>0&&v.forEach(w=>{const _=w.clientX/window.innerWidth*2-1,g=-(w.clientY/window.innerHeight)*2+1;f.setFromCamera({x:_,y:g},d),C.forEach(([$,T])=>{const M=u.units[$].main;Object.entries(T).forEach(([S,I])=>{if(intersectInstance(f,M,[S]).length>0){const x=I(w)();assignThunk(S,x,h,u)}})})})})};m("click"),m("mousedown"),m("mouseup"),m("mousemove"),m("touchstart"),m("touchend"),m("touchmove"),m("touchcancel")},makeWebGLRendererInternal_=(o,u)=>{const{id:f,...d}=o,m=d.canvas,h=new o.webGLRenderer(d);u.units[o.id]={main:h},h.setSize(m.width,m.height),h.setPixelRatio(Math.min(window.devicePixelRatio,2))},makeWebGLRenderer_=o=>u=>()=>{makeWebGLRendererInternal_(o,u)},makeCSS2DRenderer_=o=>u=>()=>{const{id:f,canvas:d,element:m}=o,h=new o.css2DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},makeCSS3DRenderer_=o=>u=>()=>{const{id:f,canvas:d,element:m}=o,h=new o.css3DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},setOnClick_=o=>u=>()=>{u.listeners.click[o.id]=o.onClick},setOnMouseDown_=o=>u=>()=>{u.listeners.mousedown[o.id]=o.onMouseDown},setOnMouseUp_=o=>u=>()=>{u.listeners.mouseup[o.id]=o.onMouseUp},setOnMouseMove_=o=>u=>()=>{u.listeners.mousemove[o.id]=o.onMouseMove},setOnTouchStart_=o=>u=>()=>{u.listeners.touchstart[o.id]=o.onTouchStart},setOnTouchEnd_=o=>u=>()=>{u.listeners.touchend[o.id]=o.onTouchEnd},setOnTouchMove_=o=>u=>()=>{u.listeners.touchmove[o.id]=o.onTouchMove},setOnTouchCancel_=o=>u=>()=>{u.listeners.touchcancel[o.id]=o.onTouchCancel},removeOnClick_=o=>u=>()=>{delete u.listeners.click[o.id]},removeOnMouseDown_=o=>u=>()=>{delete u.listeners.mousedown[o.id]},removeOnMouseUp_=o=>u=>()=>{delete u.listeners.mouseup[o.id]},removeOnMouseMove_=o=>u=>()=>{delete u.listeners.mousemove[o.id]},removeOnTouchStart_=o=>u=>()=>{delete u.listeners.touchstart[o.id]},removeOnTouchEnd_=o=>u=>()=>{delete u.listeners.touchend[o.id]},removeOnTouchMove_=o=>u=>()=>{delete u.listeners.touchmove[o.id]},removeOnTouchCancel_=o=>u=>()=>{delete u.listeners.touchcancel[o.id]},setIMOnClick_=o=>u=>()=>{u.listeners.clickInstanced[o.id]||(u.listeners.clickInstanced[o.id]={}),u.listeners.clickInstanced[o.id][o.instanceId]=o.onClick},setIMOnMouseDown_=o=>u=>()=>{u.listeners.mousedownInstanced[o.id]||(u.listeners.mousedownInstanced[o.id]={}),u.listeners.mousedownInstanced[o.id][o.instanceId]=o.onMouseDown},setIMOnMouseUp_=o=>u=>()=>{u.listeners.mouseupInstanced[o.id]||(u.listeners.mouseupInstanced[o.id]={}),u.listeners.mouseupInstanced[o.id][o.instanceId]=o.onMouseUp},setIMOnMouseMove_=o=>u=>()=>{u.listeners.mousemoveInstanced[o.id]||(u.listeners.mousemoveInstanced[o.id]={}),u.listeners.mousemoveInstanced[o.id][o.instanceId]=o.onMouseMove},setIMOnTouchStart_=o=>u=>()=>{u.listeners.touchstartInstanced[o.id]||(u.listeners.touchstartInstanced[o.id]={}),u.listeners.touchstartInstanced[o.id][o.instanceId]=o.onTouchStart},setIMOnTouchEnd_=o=>u=>()=>{u.listeners.touchendInstanced[o.id]||(u.listeners.touchendInstanced[o.id]={}),u.listeners.touchendInstanced[o.id][o.instanceId]=o.onTouchEnd},setIMOnTouchMove_=o=>u=>()=>{u.listeners.touchmoveInstanced[o.id]||(u.listeners.touchmoveInstanced[o.id]={}),u.listeners.touchmoveInstanced[o.id][o.instanceId]=o.onTouchMove},setIMOnTouchCancel_=o=>u=>()=>{u.listeners.touchcancelInstanced[o.id]||(u.listeners.touchcancelInstanced[o.id]={}),u.listeners.touchcancelInstanced[o.id][o.instanceId]=o.onTouchCancel},removeIMOnClick_=o=>u=>()=>{delete u.listeners.clickInstanced[o.id][o.instanceId]},removeIMOnMouseDown_=o=>u=>()=>{delete u.listeners.mousedownInstanced[o.id][o.instanceId]},removeIMOnMouseUp_=o=>u=>()=>{delete u.listeners.mouseupInstanced[o.id][o.instanceId]},removeIMOnMouseMove_=o=>u=>()=>{delete u.listeners.mousemoveInstanced[o.id][o.instanceId]},removeIMOnTouchStart_=o=>u=>()=>{delete u.listeners.touchstartInstanced[o.id][o.instanceId]},removeIMOnTouchEnd_=o=>u=>()=>{delete u.listeners.touchendInstanced[o.id][o.instanceId]},removeIMOnTouchMove_=o=>u=>()=>{delete u.listeners.touchmoveInstanced[o.id][o.instanceId]},removeIMOnTouchCancel_=o=>u=>()=>{delete u.listeners.touchcancelInstanced[o.id][o.instanceId]},setWidth_=o=>u=>()=>{u.units[o.id].main.width=o.width},setHeight_=o=>u=>()=>{u.units[o.id].main.height=o.height},setDepth_=o=>u=>()=>{u.units[o.id].main.depth=o.depth},setLength_=o=>u=>()=>{u.units[o.id].main.length=o.length},setAlphaTest_=o=>u=>()=>{u.units[o.id].main.alphaTest=o.alphaTest},setAlphaToCoverage_=o=>u=>()=>{u.units[o.id].main.alphaToCoverage=o.alphaToCoverage},setBlendDst_=o=>u=>()=>{u.units[o.id].main.blendDst=o.blendDst},setBlendDstAlpha_=o=>u=>()=>{u.units[o.id].main.blendDstAlpha=o.blendDstAlpha},setBlendEquation_=o=>u=>()=>{u.units[o.id].main.blendEquation=o.blendEquation},setBlendEquationAlpha_=o=>u=>()=>{u.units[o.id].main.blendEquationAlpha=o.blendEquationAlpha},setBlending_=o=>u=>()=>{u.units[o.id].main.blending=o.blending},setBlendSrc_=o=>u=>()=>{u.units[o.id].main.blendSrc=o.blendSrc},setBlendSrcAlpha_=o=>u=>()=>{u.units[o.id].main.blendSrcAlpha=o.blendSrcAlpha},setClipIntersection_=o=>u=>()=>{u.units[o.id].main.clipIntersection=o.clipIntersection},setClipShadows_=o=>u=>()=>{u.units[o.id].main.clipShadows=o.clipShadows},setColorWrite_=o=>u=>()=>{u.units[o.id].main.colorWrite=o.colorWrite},setDepthFunc_=o=>u=>()=>{u.units[o.id].main.depthFunc=o.depthFunc},setDepthTest_=o=>u=>()=>{u.units[o.id].main.depthTest=o.depthTest},setDepthWrite_=o=>u=>()=>{u.units[o.id].main.depthWrite=o.depthWrite},setOpacity_=o=>u=>()=>{u.units[o.id].main.opacity=o.opacity},setPolygonOffset_=o=>u=>()=>{u.units[o.id].main.polygonOffset=o.polygonOffset},setPolygonOffsetFactor_=o=>u=>()=>{u.units[o.id].main.polygonOffsetFactor=o.polygonOffsetFactor},setPolygonOffsetUnits_=o=>u=>()=>{u.units[o.id].main.polygonOffsetUnits=o.polygonOffsetUnits},setPrecision_=o=>u=>()=>{u.units[o.id].main.precision=o.precision},setPremultipliedAlpha_=o=>u=>()=>{u.units[o.id].main.premultipliedAlpha=o.premultipliedAlpha},setDithering_=o=>u=>()=>{u.units[o.id].main.dithering=o.dithering},setShadowSide_=o=>u=>()=>{u.units[o.id].main.shadowSide=o.shadowSide},setSide_=o=>u=>()=>{u.units[o.id].main.side=o.side},setToneMapped_=o=>u=>()=>{u.units[o.id].main.toneMapped=o.toneMapped},setTransparent_=o=>u=>()=>{u.units[o.id].main.transparent=o.transparent},setVertexColors_=o=>u=>()=>{u.units[o.id].main.vertexColors=o.vertexColors},setVisible_=o=>u=>()=>{u.units[o.id].main.visible=o.visible},setBackgroundColor_=o=>u=>()=>{u.units[o.id].main.background=o.color},setBackgroundTexture_=o=>u=>()=>{u.units[o.id].main.background=o.texture},setBackgroundCubeTexture_=o=>u=>()=>{u.units[o.id].main.background=o.cubeTexture},setThreshold_$1=o=>u=>()=>{u.units[o.id].main.threshold=o.threshold},setStrength_=o=>u=>()=>{u.units[o.id].main.strength=o.strength},setResolution_=o=>u=>()=>{u.units[o.id].main.resolution=o.resolution},setRadius_=o=>u=>()=>{u.units[o.id].main.radius=o.radius},setWidthSegments_=o=>u=>()=>{u.units[o.id].main.widthSegments=o.widthSegments},setHeightSegments_=o=>u=>()=>{u.units[o.id].main.heightSegments=o.heightSegments},setDepthSegments_=o=>u=>()=>{u.units[o.id].main.depthSegments=o.depthSegments},setCapSegments_=o=>u=>()=>{u.units[o.id].main.capSegments=o.capSegments},setRadialSegments_=o=>u=>()=>{u.units[o.id].main.radialSegments=o.radialSegments},setPhiStart_=o=>u=>()=>{u.units[o.id].main.phiStart=o.phiStart},setPhiLength_=o=>u=>()=>{u.units[o.id].main.phiLength=o.phiLength},setThetaStart_=o=>u=>()=>{u.units[o.id].main.thetaStart=o.thetaStart},setThetaLength_=o=>u=>()=>{u.units[o.id].main.thetaLength=o.thetaLength},setMatrix4_=o=>u=>()=>{u.units[o.id].main.applyMatrix4(o.matrix4)},setQuaternion_=o=>u=>()=>{u.units[o.id].main.applyQuaternion(o.quaternion)},setRotateX_=o=>u=>()=>{u.units[o.id].main.rotateX(o.rotateX)},setRotateY_=o=>u=>()=>{u.units[o.id].main.rotateY(o.rotateY)},setRotateZ_=o=>u=>()=>{u.units[o.id].main.rotateZ(o.rotateZ)},setTranslate_=o=>u=>()=>{u.units[o.id].main.translate(o.x,o.y,o.z)},setScale_=o=>u=>()=>{u.units[o.id].main.scale(o.x,o.y,o.z)},setScaleX_=o=>u=>()=>{u.units[o.id].main.scale.x=o.scaleX},setScaleY_=o=>u=>()=>{u.units[o.id].main.scale.y=o.scaleY},setScaleZ_=o=>u=>()=>{u.units[o.id].main.scale.z=o.scaleZ},setLookAt_=o=>u=>()=>{u.units[o.id].main.lookAt(o.v)},setCenter_=o=>u=>()=>{u.units[o.id].main.center()},getBoundingBox_=o=>u=>()=>{u.units[o.id].main.computeBoundingBox(),o.box(u.units[o.id].main.boundingBox)()},getBoundingSphere_=o=>u=>()=>{u.units[o.id].main.computeBoundingSphere(),o.box(u.units[o.id].main.boundingSphere)()},setInstancedMeshMatrix4_=o=>u=>()=>{const f=u.units[o.id].main;let d=!1;o.setMatrix4(m=>h=>()=>{d=!0,f.setMatrixAt(m,h)})(),f.instanceMatrix.needsUpdate=d},setInstancedMeshColor_=o=>u=>()=>{const f=u.units[o.id].main;let d=!1;o.setColor(m=>h=>()=>{d=!0,f.setColorAt(m,h)})(),f.instanceColor.needsUpdate=d},setSingleInstancedMeshMatrix4_=o=>u=>()=>{const f=u.units[o.id].main;f.setMatrixAt(o.instanceId,o.matrix4),f.instanceMatrix.needsUpdate=!0},setSingleInstancedMeshColor_=o=>u=>()=>{const f=u.units[o.id].main;f.setColorAt(o.instanceId,o.color),f.instanceColor.needsUpdate=!0},setCombine_=o=>u=>()=>{u.units[o.id].main.combine=o.combine},setFog_=o=>u=>()=>{u.units[o.id].main.fog=o.fog},setReflectivity_=o=>u=>()=>{u.units[o.id].main.reflectivity=o.reflectivity},setRefractionRatio_=o=>u=>()=>{u.units[o.id].main.refractionRatio=o.refractionRatio},setShininess_=o=>u=>()=>{u.units[o.id].main.shininess=o.shininess},setSpecular_=o=>u=>()=>{u.units[o.id].main.specular=o.specular},setSpecularMap_=o=>u=>()=>{u.units[o.id].main.specularMap=o.specularMap},setWireframeLinecap_=o=>u=>()=>{u.units[o.id].main.wireframeLinecap=o.wireframeLinecap},setWireframeLinejoin_=o=>u=>()=>{u.units[o.id].main.wireframeLinejoin=o.wireframeLinejoin},setColor_=o=>u=>()=>{u.units[o.id].main.color=o.color},setRoughness_=o=>u=>()=>{u.units[o.id].main.roughness=o.roughness},setMetalness_=o=>u=>()=>{u.units[o.id].main.metalness=o.metalness},setMap_=o=>u=>()=>{u.units[o.id].main.map=o.map},setLightMap_=o=>u=>()=>{u.units[o.id].main.lightMap=o.lightMap},setLightMapIntensity_=o=>u=>()=>{u.units[o.id].main.lightMapIntensity=o.lightMapIntensity},setAoMap_=o=>u=>()=>{u.units[o.id].main.aoMap=o.aoMap},setAoMapIntensity_=o=>u=>()=>{u.units[o.id].main.aoMapIntensity=o.aoMapIntensity},setEmissive_=o=>u=>()=>{u.units[o.id].main.emissive=o.emissive},setEmissiveIntensity_=o=>u=>()=>{u.units[o.id].main.emissiveIntensity=o.emissiveIntensity},setEmissiveMap_=o=>u=>()=>{u.units[o.id].main.emissiveMap=o.emissiveMap},setBumpMap_=o=>u=>()=>{u.units[o.id].main.bumpMap=o.bumpMap},setBumpScale_=o=>u=>()=>{u.units[o.id].main.bumpScale=o.bumpScale},setNormalMap_=o=>u=>()=>{u.units[o.id].main.normalMap=o.normalMap},setNormalMapType_=o=>u=>()=>{u.units[o.id].main.normalMapType=o.normalMapType},setNormalScale_=o=>u=>()=>{u.units[o.id].main.normalScale=o.normalScale},setDisplacementMap_=o=>u=>()=>{u.units[o.id].main.displacementMap=o.displacementMap},setDisplacementScale_=o=>u=>()=>{u.units[o.id].main.displacementScale=o.displacementScale},setDisplacementBias_=o=>u=>()=>{u.units[o.id].main.displacementBias=o.displacementBias},setRoughnessMap_=o=>u=>()=>{u.units[o.id].main.roughnessMap=o.roughnessMap},setMetalnessMap_=o=>u=>()=>{u.units[o.id].main.metalnessMap=o.metalnessMap},setAlphaMap_=o=>u=>()=>{u.units[o.id].main.alphaMap=o.alphaMap},setEnvMap_=o=>u=>()=>{u.units[o.id].main.envMap=o.envMap},setEnvMapIntensity_=o=>u=>()=>{u.units[o.id].main.envMapIntensity=o.envMapIntensity},setWireframe_=o=>u=>()=>{u.units[o.id].main.wireframe=o.wireframe},setWireframeLinewidth_=o=>u=>()=>{u.units[o.id].main.wireframeLinewidth=o.wireframeLinewidth},setFlatShading_=o=>u=>()=>{u.units[o.id].main.flatShading=o.flatShading},setDistance_=o=>u=>()=>{u.units[o.id].main.distance=o.distance},setDecay_=o=>u=>()=>{u.units[o.id].main.decay=o.decay},setIntensity_=o=>u=>()=>{u.units[o.id].main.intensity=o.intensity},setRotationFromAxisAngle_=o=>u=>()=>{u.units[o.id].main.setRotationFromAxisAngle(o.axis,o.angle)},setRotationFromEuler_=o=>u=>()=>{u.units[o.id].main.setRotationFromEuler(o.euler)},setRotationFromMatrix_=o=>u=>()=>{u.units[o.id].main.setRotationFromMatrix(o.matrix4)},setRotationFromQuaternion_=o=>u=>()=>{u.units[o.id].main.setRotationFromQuaternion(o.quaternion)},setRotateOnAxis_=o=>u=>()=>{u.units[o.id].main.rotateOnAxis(o.axis,o.angle)},setRotateOnWorldAxis_=o=>u=>()=>{u.units[o.id].main.rotateOnWorldAxis(o.axis,o.angle)},setTranslateOnAxis_=o=>u=>()=>{u.units[o.id].main.translateOnAxis(o.axis,o.distance)},setTranslateX_=o=>u=>()=>{u.units[o.id].main.translateX(o.translateX)},setTranslateY_=o=>u=>()=>{u.units[o.id].main.translateY(o.translateY)},setTranslateZ_=o=>u=>()=>{u.units[o.id].main.translateZ(o.translateZ)},setPositionX_=o=>u=>()=>{u.units[o.id].main.position.x=o.positionX},setPositionY_=o=>u=>()=>{u.units[o.id].main.position.y=o.positionY},setPositionZ_=o=>u=>()=>{u.units[o.id].main.position.z=o.positionZ},setUniform_=o=>u=>()=>{u.units[o.id].main.uniforms[o.key].value=o.value},setAspect_=o=>u=>()=>{u.units[o.id].main.aspect=o.aspect,u.units[o.id].main.updateProjectionMatrix()},setFar_=o=>u=>()=>{u.units[o.id].main.far=o.far,u.units[o.id].main.updateProjectionMatrix()},setFilmGauge_=o=>u=>()=>{u.units[o.id].main.filmGauge=o.filmGauge,u.units[o.id].main.updateProjectionMatrix()},setFilmOffset_=o=>u=>()=>{u.units[o.id].main.filmOffset=o.filmOffset,u.units[o.id].main.updateProjectionMatrix()},setFocus_=o=>u=>()=>{u.units[o.id].main.focus=o.focus,u.units[o.id].main.updateProjectionMatrix()},setFov_=o=>u=>()=>{u.units[o.id].main.fov=o.fov,u.units[o.id].main.updateProjectionMatrix()},setNear_=o=>u=>()=>{u.units[o.id].main.updateProjectionMatrix(),u.units[o.id].main.near=o.near},setZoom_=o=>u=>()=>{u.units[o.id].main.zoom=o.zoom,u.units[o.id].main.updateProjectionMatrix()},setFocalLength_=o=>u=>()=>{u.units[o.id].main.setFocalLength(o.focalLength)},setViewOffset_=({id:o,fullWidth:u,fullHeight:f,x:d,y:m,width:h,height:b})=>y=>()=>{y.units[o].main.setViewOffset(u,f,d,m,h,b)},makeFFIThreeSnapshot=()=>({units:{},scopes:{},listeners:{click:{},mousemove:{},mouseup:{},mousedown:{},touchstart:{},touchend:{},touchmove:{},touchcancel:{},clickInstanced:{},mousemoveInstanced:{},mouseupInstanced:{},mousedownInstanced:{},touchstartInstanced:{},touchendInstanced:{},touchmoveInstanced:{},touchcancelInstanced:{},upformousedown:{},endfortouchstart:{},cancelfortouchstart:{}}});function disconnect_(o){return function(u){return function(){const f=o.id;u.units[f].main.removeFromParent(),o.scope!==GLOBAL_SCOPE&&(u.units[f].main.isBufferGeometry||u.units[f].main.isMaterial)&&u.units[f].main.dispose()}}}function disconnectPass_(o){return function(u){return function(){const f=o.id,d=o.parent;u.units[d].main.removePass(u.units[f].main)}}}function deleteFromCache_$1(o){return function(u){return function(){!u.units[o.id].main.isScene&&u.units[o.id].main.dispose&&u.units[o.id].main.dispose(),u.units[o.id].main.removeFromParent&&u.units[o.id].main.removeFromParent(),delete u.units[o.id]}}}const identity$a=o=>o,identity1=o=>o,mempty=o=>u=>()=>unit,fFIMeWireframeLinejoinStr={ffiMe:o=>{if(o.tag==="Round")return"round";if(o.tag==="Bevel")return"bevel";if(o.tag==="Miter")return"miter";fail$3()}},fFIMeWireframeLinecapStri={ffiMe:o=>{if(o.tag==="Butt")return"butt";if(o.tag==="Round")return"round";if(o.tag==="Square")return"square";fail$3()}},fFIMeWebGLRenderingPrecis={ffiMe:o=>{if(o.tag==="High")return"highp";if(o.tag==="Medium")return"mediump";if(o.tag==="Low")return"lowp";fail$3()}},fFIMeWebGLRenderingPowerP={ffiMe:o=>{if(o.tag==="High")return"high-performance";if(o.tag==="Default")return"default";if(o.tag==="Low")return"low-power";fail$3()}},fFIMeVector2Vector2={ffiMe:identity$a},fFIMeTWebGLRendererTWebGL={ffiMe:identity$a},fFIMeTUnrealBloomPassTUnr={ffiMe:identity$a},fFIMeTSphereGeometryTSphe={ffiMe:identity$a},fFIMeTShaderMaterialTShad={ffiMe:identity$a},fFIMeTSceneTScene={ffiMe:identity$a},fFIMeTRenderPassTRenderPa={ffiMe:identity$a},fFIMeTRaycasterTRaycaster={ffiMe:identity$a},fFIMeTRawShaderMaterialTR={ffiMe:identity$a},fFIMeTPointsTPoints={ffiMe:identity$a},fFIMeTPointLightTPointLig={ffiMe:identity$a},fFIMeTPlaneGeometryTPlane={ffiMe:identity$a},fFIMeTPerspectiveCameraTP={ffiMe:identity$a},fFIMeTMeshTMesh={ffiMe:identity$a},fFIMeTMeshStandardMateria={ffiMe:identity$a},fFIMeTMeshPhongMaterialTM={ffiMe:identity$a},fFIMeTMeshBasicMaterialTM={ffiMe:identity$a},fFIMeTMatrix4TMatrix4={ffiMe:identity$a},fFIMeTInstancedMeshTInsta={ffiMe:identity$a},fFIMeTGroupTGroup={ffiMe:identity$a},fFIMeTGlitchPassTGlitchPa={ffiMe:identity$a},fFIMeTEffectComposerTEffe={ffiMe:identity$a},fFIMeTEffectComposerPassT={ffiMe:identity$a},fFIMeTDirectionalLightTDi={ffiMe:identity$a},fFIMeTCylinderGeometryTCy={ffiMe:identity$a},fFIMeTCapsuleGeometryTCap={ffiMe:identity$a},fFIMeTCSS3DRendererTCSS3D={ffiMe:identity$a},fFIMeTCSS3DObjectTCSS3DOb={ffiMe:identity$a},fFIMeTCSS2DRendererTCSS2D={ffiMe:identity$a},fFIMeTCSS2DObjectTCSS2DOb={ffiMe:identity$a},fFIMeTBufferGeometryTBuff={ffiMe:identity$a},fFIMeTBoxGeometryTBoxGeom={ffiMe:identity$a},fFIMeTBloomPassTBloomPass={ffiMe:identity$a},fFIMeTAmbientLightTAmbien={ffiMe:identity$a},fFIMeStringString={ffiMe:identity$a},fFIMeScopeUndefinableStri={ffiMe:o=>{if(o.tag==="Global")return undefinedImpl;if(o.tag==="Local")return o._1;fail$3()}},fFIMeRawGroupRawGroup={ffiMe:identity$a},fFIMeRawCameraRawCamera={ffiMe:identity$a},fFIMeNumberNumber={ffiMe:identity$a},fFIMeNormalMapTypeInt={ffiMe:o=>{if(o.tag==="TangentSpaceNormalMap")return 0;if(o.tag==="ObjectSpaceNormalMap")return 1;fail$3()}},fFIMeIntInt={ffiMe:identity$a},fFIMeHTMLCanvasElementHTM={ffiMe:identity$a},fFIMeForeignForeign={ffiMe:identity$a},fFIMeElementElement={ffiMe:identity$a},fFIMeCombineOperationInt={ffiMe:o=>{if(o.tag==="MultiplyOperation")return 0;if(o.tag==="MixOperation")return 1;if(o.tag==="AddOperation")return 2;fail$3()}},fFIMeColorColor={ffiMe:identity$a},fFIMeBooleanBoolean={ffiMe:identity$a},fFIIzeNilRow={"ffiize'":o=>u=>identity1},ffiize=()=>o=>u=>stripUndefined_(o["ffiize'"]($$Proxy)(u)({})),fFIIzeCons=o=>u=>f=>()=>()=>()=>()=>({"ffiize'":d=>m=>{const h=insert$1()()(o)($$Proxy)(u.ffiMe(unsafeGet(o.reflectSymbol($$Proxy))(m))),b=f["ffiize'"]($$Proxy)(m);return y=>h(b(y))}}),ffiize2=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeTEffectComposerTEffe)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()()),ffiize3=ffiize()(fFIIzeCons({reflectSymbol:()=>"alpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"antialias"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"failIfMajorPerformanceCaveat"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"logarithmicDepthBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"powerPreference"})(fFIMeWebGLRenderingPowerP)(fFIIzeCons({reflectSymbol:()=>"precision"})(fFIMeWebGLRenderingPrecis)(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"preserveDrawingBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"stencil"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeTWebGLRendererTWebGL)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons14=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeNilRow)()()()(),fFIIzeCons15=fFIIzeCons({reflectSymbol:()=>"element"})(fFIMeElementElement)(fFIIzeCons14)()()()(),ffiize4=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css2DRenderer"})(fFIMeTCSS2DRendererTCSS2D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize5=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css3DRenderer"})(fFIMeTCSS3DRendererTCSS3D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize6=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"raycaster"})(fFIMeTRaycasterTRaycaster)(fFIIzeNilRow)()()()())()()()())()()()())()()()()),fFIIzeCons17=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeNilRow)()()()(),fFIIzeCons24=fFIIzeCons({reflectSymbol:()=>"widthSegments"})(fFIMeIntInt)(fFIIzeNilRow)()()()(),fFIIzeCons25=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"width"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()(),fFIIzeCons31=fFIIzeCons({reflectSymbol:()=>"uniforms"})(fFIMeForeignForeign)(fFIIzeCons({reflectSymbol:()=>"vertexShader"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()(),fFIIzeCons33=fFIIzeCons({reflectSymbol:()=>"normalMapType"}),ffiize7=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"normalMapType"})(fFIMeNormalMapTypeInt)(fFIIzeNilRow)()()()())()()()()),ffiize8=ffiize()(fFIIzeCons({reflectSymbol:()=>"combine"})(fFIMeCombineOperationInt)(fFIIzeCons14)()()()()),ffiize9=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})(fFIMeWireframeLinecapStri)(fFIIzeNilRow)()()()())()()()()),ffiize10=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})(fFIMeWireframeLinejoinStr)(fFIIzeNilRow)()()()())()()()()),ffiize11=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"renderPass"})(fFIMeTRenderPassTRenderPa)(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()()),fFIIzeCons37=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeNilRow)()()()())()()()(),ffiize12=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"effectComposerPass"})(fFIMeTEffectComposerPassT)(fFIIzeCons37)()()()())()()()()),ffiize13=ffiize()(fFIIzeCons({reflectSymbol:()=>"dtSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"glitchPass"})(fFIMeTGlitchPassTGlitchPa)(fFIIzeCons37)()()()())()()()()),ffiize14=ffiize()(fFIIzeCons({reflectSymbol:()=>"bloomPass"})(fFIMeTBloomPassTBloomPass)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"kernelSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"sigma"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize15=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeVector2Vector2)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"threshold"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"unrealBloomPass"})(fFIMeTUnrealBloomPassTUnr)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize16=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeTSceneTScene)(fFIIzeCons17)()()()())()()()())()()()()),fFIIzeCons38=fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons17)()()()(),fFIIzeCons39=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons38)()()()(),ffiize17=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeTGroupTGroup)(fFIIzeCons39)()()()()),ffiize18=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeRawGroupRawGroup)(fFIIzeCons39)()()()()),fFIIzeCons40=fFIIzeCons({reflectSymbol:()=>"mesh"})(fFIMeTMeshTMesh)(fFIIzeCons38)()()()(),ffiize19=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons40)()()()()),ffiize20=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"points"})(fFIMeTPointsTPoints)(fFIIzeCons17)()()()())()()()())()()()()),ffiize21=ffiize()(fFIIzeCons({reflectSymbol:()=>"count"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"geometry"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedMesh"})(fFIMeTInstancedMeshTInsta)(fFIIzeCons({reflectSymbol:()=>"material"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"matrix4"})(fFIMeTMatrix4TMatrix4)(fFIIzeCons40)()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons41=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons38)()()()())()()()(),ffiize22=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"directionalLight"})(fFIMeTDirectionalLightTDi)(fFIIzeCons41)()()()())()()()()),ffiize23=ffiize()(fFIIzeCons({reflectSymbol:()=>"ambientLight"})(fFIMeTAmbientLightTAmbien)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons41)()()()())()()()()),ffiize24=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"decay"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"distance"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"pointLight"})(fFIMeTPointLightTPointLig)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize25=ffiize()(fFIIzeCons({reflectSymbol:()=>"aspect"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"far"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"fov"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"near"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"perspectiveCamera"})(fFIMeTPerspectiveCameraTP)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize26=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeRawCameraRawCamera)(fFIIzeCons39)()()()()),fFIMeMaybeUndefinable1={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable2={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable3={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="AddEquation")return 100;if(o._1.tag==="SubtractEquation")return 101;if(o._1.tag==="ReverseSubtractEquation")return 102;if(o._1.tag==="MinEquation")return 103;if(o._1.tag==="MaxEquation")return 104;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable4={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;if(o._1.tag==="SrcAlphaSaturateFactor")return 210;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable5={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable6={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable7={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="FrontSide")return 0;if(o._1.tag==="BackSide")return 1;if(o._1.tag==="DoubleSide")return 2;fail$3()}return undefinedImpl}},fFIIzeCons42=fFIIzeCons({reflectSymbol:()=>"materialParameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaTest"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"alphaToCoverage"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"blendDst"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendDstAlpha"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendEquation"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendEquationAlpha"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendSrc"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blendSrcAlpha"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blending"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NoBlending")return 0;if(o._1.tag==="NormalBlending")return 1;if(o._1.tag==="AdditiveBlending")return 2;if(o._1.tag==="SubtractiveBlending")return 3;if(o._1.tag==="MultiplyBlending")return 4;if(o._1.tag==="CustomBlending")return 5;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"clipIntersection"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"clipShadows"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"colorWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthFunc"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NeverDepth")return 0;if(o._1.tag==="AlwaysDepth")return 1;if(o._1.tag==="LessDepth")return 2;if(o._1.tag==="LessEqualDepth")return 3;if(o._1.tag==="EqualDepth")return 4;if(o._1.tag==="GreaterEqualDepth")return 5;if(o._1.tag==="GreaterDepth")return 6;if(o._1.tag==="NotEqualDepth")return 7;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"depthTest"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"dithering"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"opacity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"polygonOffset"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetFactor"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetUnits"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"precision"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="LowP")return"lowp";if(o._1.tag==="MediumP")return"mediump";if(o._1.tag==="HighP")return"highp";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"shadowSide"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"side"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"toneMapped"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"transparent"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"vertexColors"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"visible"})(fFIMeMaybeUndefinable5)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())}),ffiize27=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"rawShaderMaterial"})(fFIMeTRawShaderMaterialTR)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize28=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"shaderMaterial"})(fFIMeTShaderMaterialTShad)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIMeMaybeUndefinable8={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable9={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIIzeCons61=fFIIzeCons33({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="TangentSpaceNormalMap")return 0;if(o._1.tag==="ObjectSpaceNormalMap")return 1;fail$3()}return undefinedImpl}}),fFIIzeCons64=fFIIzeCons({reflectSymbol:()=>"wireframeLinewidth"})(fFIMeMaybeUndefinable1)(fFIIzeNilRow)()()()(),ffiize29=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"combine"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="MultiplyOperation")return 0;if(o._1.tag==="MixOperation")return 1;if(o._1.tag==="AddOperation")return 2;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"fog"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshPhongMaterial"})(fFIMeTMeshPhongMaterialTM)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"reflectivity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"refractionRatio"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"shininess"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"specular"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"specularMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Butt")return"butt";if(o._1.tag==="Round")return"round";if(o._1.tag==="Square")return"square";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Round")return"round";if(o._1.tag==="Bevel")return"bevel";if(o._1.tag==="Miter")return"miter";fail$3()}return undefinedImpl}})(fFIIzeCons64)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons65=fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons64)()()()(),ffiize30=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshBasicMaterial"})(fFIMeTMeshBasicMaterialTM)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize31=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshStandardMaterial"})(fFIMeTMeshStandardMateria)(fFIIzeCons({reflectSymbol:()=>"metalness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"metalnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"roughness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"roughnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons66=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"nut"})(fFIMeElementElement)(fFIIzeCons38)()()()())()()()(),ffiize32=ffiize()(fFIIzeCons({reflectSymbol:()=>"css2DObject"})(fFIMeTCSS2DObjectTCSS2DOb)(fFIIzeCons66)()()()()),ffiize33=ffiize()(fFIIzeCons({reflectSymbol:()=>"css3DObject"})(fFIMeTCSS3DObjectTCSS3DOb)(fFIIzeCons66)()()()()),ffiize34=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"capSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"capsule"})(fFIMeTCapsuleGeometryTCap)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"length"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize35=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"cylinder"})(fFIMeTCylinderGeometryTCy)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"openEnded"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radiusBottom"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radiusTop"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize36=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"phiLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"phiStart"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"sphere"})(fFIMeTSphereGeometryTSphe)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize37=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"box"})(fFIMeTBoxGeometryTBoxGeom)(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"depthSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize38=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"plane"})(fFIMeTPlaneGeometryTPlane)(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize39=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"bufferGeometry"})(fFIMeTBufferGeometryTBuff)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons38)()()()())()()()())()()()())()()()()))(),effectfulThreeInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},effectComposerRender:effectComposerRender_,webGLRender:webGLRender_,css2DRender:css2DRender_,css3DRender:css3DRender_,makeRenderPass:u=>makeRenderPass_(ffiize11(u)),makeEffectComposerPass:u=>makeEffectComposerPass_(ffiize12(u)),makeGlitchPass:u=>makeGlitchPass_(ffiize13(u)),makeBloomPass:u=>makeBloomPass_(ffiize14(u)),makeUnrealBloomPass:u=>makeUnrealBloomPass_(ffiize15(u)),makeEffectComposer:u=>makeEffectComposer_(ffiize2(u)),makeWebGLRenderer:u=>makeWebGLRenderer_(ffiize3(u)),makeCSS2DRenderer:u=>makeCSS2DRenderer_(ffiize4(u)),makeCSS3DRenderer:u=>makeCSS3DRenderer_(ffiize5(u)),makeRaycaster:u=>makeRaycaster_(ffiize6(u)),makeScene:u=>makeScene_(ffiize16(u)),makeGroup:u=>makeGroup_(ffiize17(u)),makeGLTFGroup:u=>makeGLTFGroup_(ffiize18(u)),makeMesh:u=>makeMesh_(ffiize19(u)),makePoints:u=>makePoints_(ffiize20(u)),makeInstancedMesh:u=>makeInstancedMesh_(ffiize21(u)),makeCapsule:u=>makeCapsule_(ffiize34(u)),makeCylinder:u=>makeCylinder_(ffiize35(u)),makeSphere:u=>makeSphere_(ffiize36(u)),makeBox:u=>makeBox_(ffiize37(u)),makePlane:u=>makePlane_(ffiize38(u)),makeBufferGeometry:u=>makeBufferGeometry_(ffiize39(u)),makeDirectionalLight:u=>makeDirectionalLight_(ffiize22(u)),makeAmbientLight:u=>makeAmbientLight_(ffiize23(u)),makePointLight:u=>makePointLight_(ffiize24(u)),makePerspectiveCamera:u=>makePerspectiveCamera_(ffiize25(u)),makeGLTFCamera:u=>makeGLTFCamera_(ffiize26(u)),makeRawShaderMaterial:u=>makeRawShaderMaterial_(ffiize27(u)),makeShaderMaterial:u=>makeShaderMaterial_(ffiize28(u)),makeMeshPhongMaterial:u=>makeMeshPhongMaterial_(ffiize29(u)),makeMeshBasicMaterial:u=>makeMeshBasicMaterial_(ffiize30(u)),makeMeshStandardMaterial:u=>makeMeshStandardMaterial_(ffiize31(u)),makeCSS2DObject:u=>makeCSS2DObject_(ffiize32(u)),makeCSS3DObject:u=>makeCSS3DObject_(ffiize33(u)),setBackgroundCubeTexture:setBackgroundCubeTexture_,setBackgroundTexture:setBackgroundTexture_,setBackgroundColor:setBackgroundColor_,setOnClick:setOnClick_,setOnMouseDown:setOnMouseDown_,setOnMouseUp:setOnMouseUp_,setOnMouseMove:setOnMouseMove_,setOnTouchStart:setOnTouchStart_,setOnTouchEnd:setOnTouchEnd_,setOnTouchMove:setOnTouchMove_,setOnTouchCancel:setOnTouchCancel_,removeOnClick:removeOnClick_,removeOnMouseDown:removeOnMouseDown_,removeOnMouseUp:removeOnMouseUp_,removeOnMouseMove:removeOnMouseMove_,removeOnTouchStart:removeOnTouchStart_,removeOnTouchEnd:removeOnTouchEnd_,removeOnTouchMove:removeOnTouchMove_,removeOnTouchCancel:removeOnTouchCancel_,setIMOnClick:setIMOnClick_,setIMOnMouseDown:setIMOnMouseDown_,setIMOnMouseUp:setIMOnMouseUp_,setIMOnMouseMove:setIMOnMouseMove_,setIMOnTouchStart:setIMOnTouchStart_,setIMOnTouchEnd:setIMOnTouchEnd_,setIMOnTouchMove:setIMOnTouchMove_,setIMOnTouchCancel:setIMOnTouchCancel_,removeIMOnClick:removeIMOnClick_,removeIMOnMouseDown:removeIMOnMouseDown_,removeIMOnMouseUp:removeIMOnMouseUp_,removeIMOnMouseMove:removeIMOnMouseMove_,removeIMOnTouchStart:removeIMOnTouchStart_,removeIMOnTouchEnd:removeIMOnTouchEnd_,removeIMOnTouchMove:removeIMOnTouchMove_,removeIMOnTouchCancel:removeIMOnTouchCancel_,setWidth:setWidth_,setHeight:setHeight_,setDepth:setDepth_,setLength:setLength_,setCapSegments:setCapSegments_,setRadialSegments:setRadialSegments_,setRadius:setRadius_,setWidthSegments:setWidthSegments_,setHeightSegments:setHeightSegments_,setDepthSegments:setDepthSegments_,setPhiStart:setPhiStart_,setPhiLength:setPhiLength_,setThetaStart:setThetaStart_,setThetaLength:setThetaLength_,setMatrix4:setMatrix4_,setQuaternion:setQuaternion_,setRotateX:setRotateX_,setRotateY:setRotateY_,setRotateZ:setRotateZ_,setTranslate:setTranslate_,setScale:setScale_,setLookAt:setLookAt_,setCenter:setCenter_,getBoundingBox:getBoundingBox_,getBoundingSphere:getBoundingSphere_,setInstancedMeshMatrix4:setInstancedMeshMatrix4_,setInstancedMeshColor:setInstancedMeshColor_,setSingleInstancedMeshMatrix4:setSingleInstancedMeshMatrix4_,setSingleInstancedMeshColor:setSingleInstancedMeshColor_,setAlphaTest:setAlphaTest_,setAlphaToCoverage:setAlphaToCoverage_,setBlendDst:setBlendDst_,setBlendDstAlpha:setBlendDstAlpha_,setBlendEquation:setBlendEquation_,setBlendEquationAlpha:setBlendEquationAlpha_,setBlending:setBlending_,setBlendSrc:setBlendSrc_,setBlendSrcAlpha:setBlendSrcAlpha_,setClipIntersection:setClipIntersection_,setClipShadows:setClipShadows_,setColorWrite:setColorWrite_,setDepthFunc:setDepthFunc_,setDepthTest:setDepthTest_,setDepthWrite:setDepthWrite_,setOpacity:setOpacity_,setPolygonOffset:setPolygonOffset_,setPolygonOffsetFactor:setPolygonOffsetFactor_,setPolygonOffsetUnits:setPolygonOffsetUnits_,setPrecision:setPrecision_,setPremultipliedAlpha:setPremultipliedAlpha_,setDithering:setDithering_,setShadowSide:setShadowSide_,setSide:setSide_,setToneMapped:setToneMapped_,setTransparent:setTransparent_,setVertexColors:setVertexColors_,setVisible:setVisible_,setUniform:setUniform_,setColor:setColor_,setRoughness:setRoughness_,setMetalness:setMetalness_,setMap:setMap_,setLightMap:setLightMap_,setLightMapIntensity:setLightMapIntensity_,setAoMap:setAoMap_,setAoMapIntensity:setAoMapIntensity_,setEmissive:setEmissive_,setEmissiveIntensity:setEmissiveIntensity_,setEmissiveMap:setEmissiveMap_,setBumpMap:setBumpMap_,setBumpScale:setBumpScale_,setNormalMap:setNormalMap_,setNormalMapType:u=>setNormalMapType_(ffiize7(u)),setNormalScale:setNormalScale_,setDisplacementMap:setDisplacementMap_,setDisplacementScale:setDisplacementScale_,setDisplacementBias:setDisplacementBias_,setRoughnessMap:setRoughnessMap_,setMetalnessMap:setMetalnessMap_,setAlphaMap:setAlphaMap_,setEnvMap:setEnvMap_,setEnvMapIntensity:setEnvMapIntensity_,setWireframe:setWireframe_,setWireframeLinewidth:setWireframeLinewidth_,setFlatShading:setFlatShading_,setRotationFromAxisAngle:setRotationFromAxisAngle_,setRotationFromEuler:setRotationFromEuler_,setRotationFromMatrix:setRotationFromMatrix_,setRotationFromQuaternion:setRotationFromQuaternion_,setRotateOnAxis:setRotateOnAxis_,setRotateOnWorldAxis:setRotateOnWorldAxis_,setTranslateOnAxis:setTranslateOnAxis_,setTranslateX:setTranslateX_,setTranslateY:setTranslateY_,setTranslateZ:setTranslateZ_,setPositionX:setPositionX_,setPositionY:setPositionY_,setPositionZ:setPositionZ_,setScaleX:setScaleX_,setScaleY:setScaleY_,setScaleZ:setScaleZ_,setCombine:u=>setCombine_(ffiize8(u)),setFog:setFog_,setReflectivity:setReflectivity_,setRefractionRatio:setRefractionRatio_,setShininess:setShininess_,setSpecular:setSpecular_,setSpecularMap:setSpecularMap_,setWireframeLinecap:u=>setWireframeLinecap_(ffiize9(u)),setWireframeLinejoin:u=>setWireframeLinejoin_(ffiize10(u)),setDecay:setDecay_,setDistance:setDistance_,setIntensity:setIntensity_,setAspect:setAspect_,setFar:setFar_,setFilmGauge:setFilmGauge_,setFilmOffset:setFilmOffset_,setFocus:setFocus_,setFov:setFov_,setNear:setNear_,setZoom:setZoom_,setFocalLength:setFocalLength_,setViewOffset:setViewOffset_,setSize:setSize_,setSizeThroughEffectComposer:setSizeThroughEffectComposer_,setThreshold:setThreshold_$1,setStrength:setStrength_,setResolution:setResolution_,connectMesh:connectMesh_,connectScene:connectScene_,connectCamera:connectCamera_,connectGeometry:connectGeometry_,connectMaterial:connectMaterial_,connectToScene:connectToScene_,disconnect:disconnect_,disconnectPass:disconnectPass_,deleteFromCache:deleteFromCache_$1,webGLRendererConnectionNoop:mempty,effectComposerConnectionNoop:mempty}),run$1=o=>()=>{const u=makeFFIThreeSnapshot(),f={value:0};return subscribe(flatten({doLogic:absurd,ids:m=>m.ids,disconnectElement:m=>m.disconnect,toElt:m=>m})({parent:Nothing,scope:Global,raiseId:m=>()=>unit})(effectfulThreeInterpret(f))(o))(m=>m(u))()},$Background=(o,u)=>({tag:o,_1:u}),oneOf$f=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scene$1=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const v=h(oneOf$f([applicativeEvent.pure(m.makeScene({id:y,parent:d.parent,scope:d.scope,scene:o.scene})),(w,_)=>u(w,g=>{const $=onMatch()()()({...object3D(y)(m),background:T=>{if(T.tag==="CubeTexture")return m.setBackgroundCubeTexture({id:y,cubeTexture:T._1});if(T.tag==="Texture")return m.setBackgroundTexture({id:y,texture:T._1});if(T.tag==="Color")return m.setBackgroundColor({id:y,color:T._1});fail$3()}})(case_)(g);return _($)}),flatten({doLogic:absurd,ids:w=>w.ids,disconnectElement:w=>w.disconnect,toElt:w=>w})({parent:$Maybe("Just",y),scope:d.scope,raiseId:w=>()=>unit})(m)($Entity("FixedChildren'",f))]))(b)(),C=b(m.deleteFromCache({id:y}));return()=>(C(),v())}),ctor_=o=>({x:u,y:f})=>new o(u,f),$Axis=o=>({tag:o}),$ChannelChooser=(o,u,f,d)=>({tag:o,_1:u,_2:f,_3:d}),$Negotiation=(o,u)=>({tag:o,_1:u}),$Player=o=>({tag:o}),$PlayerAction=(o,u)=>({tag:o,_1:u}),$Ride=o=>({tag:"RideV0",_1:o}),$StartStatus=(o,u)=>({tag:o,_1:u}),$XDirection=o=>({tag:o}),openIsSymbol={reflectSymbol:()=>"open"},player1IsSymbol={reflectSymbol:()=>"player1"},writeForeignMaybe$1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1NameIsSymbol={reflectSymbol:()=>"player1Name"},player1PenaltiesIsSymbol={reflectSymbol:()=>"player1Penalties"},writeForeignMaybe1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1PointsIsSymbol={reflectSymbol:()=>"player1Points"},player1StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player1StartTimeInMilliseconds"},player2IsSymbol={reflectSymbol:()=>"player2"},player2NameIsSymbol={reflectSymbol:()=>"player2Name"},player2PenaltiesIsSymbol={reflectSymbol:()=>"player2Penalties"},player2PointsIsSymbol={reflectSymbol:()=>"player2Points"},player2StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player2StartTimeInMilliseconds"},player3IsSymbol={reflectSymbol:()=>"player3"},player3NameIsSymbol={reflectSymbol:()=>"player3Name"},player3PenaltiesIsSymbol={reflectSymbol:()=>"player3Penalties"},player3PointsIsSymbol={reflectSymbol:()=>"player3Points"},player3StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player3StartTimeInMilliseconds"},player4IsSymbol={reflectSymbol:()=>"player4"},player4NameIsSymbol={reflectSymbol:()=>"player4Name"},player4PenaltiesIsSymbol={reflectSymbol:()=>"player4Penalties"},player4PointsIsSymbol={reflectSymbol:()=>"player4Points"},player4StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player4StartTimeInMilliseconds"},versionIsSymbol={reflectSymbol:()=>"version"},Reflectable$Dict$1={reflectType:()=>0},writeImpl1=(()=>{const o=consWriteForeignFields(openIsSymbol)(writeForeignBoolean)(consWriteForeignFields(player1IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player1NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player1PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player1PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player1StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player2NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player2PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player3NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player3PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player4NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player4PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(versionIsSymbol)({writeImpl:u=>0})(nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),_typeIsSymbol={reflectSymbol:()=>"_type"},valIsSymbol={reflectSymbol:()=>"val"},nameIsSymbol={reflectSymbol:()=>"name"},startedAtIsSymbol={reflectSymbol:()=>"startedAt"},deltaBeatsIsSymbol={reflectSymbol:()=>"deltaBeats"},hitAtIsSymbol={reflectSymbol:()=>"hitAt"},logicalBeatIsSymbol={reflectSymbol:()=>"logicalBeat"},outcomeIsSymbol={reflectSymbol:()=>"outcome"},playerIsSymbol={reflectSymbol:()=>"player"},uniqueIdIsSymbol={reflectSymbol:()=>"uniqueId"},consWriteForeignFields3=consWriteForeignFields(uniqueIdIsSymbol)(writeForeignInt)(nilWriteForeignFields)()()(),newPositionIsSymbol={reflectSymbol:()=>"newPosition"},oldPositionIsSymbol={reflectSymbol:()=>"oldPosition"},distanceIsSymbol={reflectSymbol:()=>"distance"},pctConsumedIsSymbol={reflectSymbol:()=>"pctConsumed"},releasedAtIsSymbol={reflectSymbol:()=>"releasedAt"},bind=(()=>bindExceptT$1(monadIdentity).bind)(),pure$1=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$1=readMaybe$3(readString),readMaybe1=readMaybe$3(readNumber),readImpl1=(()=>readRecord()(readFieldsCons(openIsSymbol)(readBoolean)(readFieldsCons(player1IsSymbol)(readMaybe$1)(readFieldsCons(player1NameIsSymbol)(readMaybe$1)(readFieldsCons(player1PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player1PointsIsSymbol)(readMaybe1)(readFieldsCons(player1StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player2IsSymbol)(readMaybe$1)(readFieldsCons(player2NameIsSymbol)(readMaybe$1)(readFieldsCons(player2PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player2PointsIsSymbol)(readMaybe1)(readFieldsCons(player2StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player3IsSymbol)(readMaybe$1)(readFieldsCons(player3NameIsSymbol)(readMaybe$1)(readFieldsCons(player3PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player3PointsIsSymbol)(readMaybe1)(readFieldsCons(player3StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player4IsSymbol)(readMaybe$1)(readFieldsCons(player4NameIsSymbol)(readMaybe$1)(readFieldsCons(player4PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player4PointsIsSymbol)(readMaybe1)(readFieldsCons(player4StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(versionIsSymbol)(readForeignVersion(Reflectable$Dict$1))(readFieldsNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl2=(()=>readRecord()(readFieldsCons(_typeIsSymbol)(readString)(readFieldsCons(valIsSymbol)(readNumber)(readFieldsNil)()())()()).readImpl)(),readFieldsCons2$1=readFieldsCons(uniqueIdIsSymbol)(readInt)(readFieldsNil)()(),readImpl3=(()=>readRecord()(readFieldsCons(_typeIsSymbol)(readString)(readFieldsNil)()()).readImpl)(),ktpIsSymbol={reflectSymbol:()=>"ktp"},curXDirIsSymbol={reflectSymbol:()=>"curXDir"},posIsSymbol={reflectSymbol:()=>"pos"},timeIsSymbol={reflectSymbol:()=>"time"},gtpIsSymbol={reflectSymbol:()=>"gtp"},gammaIsSymbol={reflectSymbol:()=>"gamma"},showMaybe$1={show:o=>{if(o.tag==="Just")return"(Just "+(showStringImpl(o._1)+")");if(o.tag==="Nothing")return"Nothing";fail$3()}},ToLeft=$XDirection("ToLeft"),ToRight=$XDirection("ToRight"),Still=$XDirection("Still"),Player1=$Player("Player1"),Player2=$Player("Player2"),Player3=$Player("Player3"),Player4=$Player("Player4"),HasNotStartedYet=$StartStatus("HasNotStartedYet"),NoChannel=$ChannelChooser("NoChannel"),RideChannel=o=>u=>f=>$ChannelChooser("RideChannel",o,u,f),TutorialChannel=$ChannelChooser("TutorialChannel"),EditorChannel=$ChannelChooser("EditorChannel"),PageLoad=$Negotiation("PageLoad"),NeedsOrientation=$Negotiation("NeedsOrientation"),WillNotWorkWithoutOrientation=$Negotiation("WillNotWorkWithoutOrientation"),StartingNegotiation=$Negotiation("StartingNegotiation"),GameHasStarted=$Negotiation("GameHasStarted"),AxisX=$Axis("AxisX"),AxisY=$Axis("AxisY"),AxisZ=$Axis("AxisZ"),writeForeignXDirection={writeImpl:o=>{if(o.tag==="ToLeft")return"ToLeft";if(o.tag==="ToRight")return"ToRight";if(o.tag==="Still")return"Still";fail$3()}},writeImpl2=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPlayer={writeImpl:o=>{if(o.tag==="Player1")return"Player1";if(o.tag==="Player2")return"Player2";if(o.tag==="Player3")return"Player3";if(o.tag==="Player4")return"Player4";fail$3()}},consWriteForeignFields6=consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields3)()()(),consWriteForeignFields7=consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(nilWriteForeignFields)()()(),writeImpl3=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPointOutcome={writeImpl:o=>{if(o.tag==="Left")return writeImpl3({_type:"Penalty",val:o._1});if(o.tag==="Right")return writeImpl2({_type:"Points",val:o._1});fail$3()}},consWriteForeignFields9=consWriteForeignFields(startedAtIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()(),consWriteForeignFields10=consWriteForeignFields(posIsSymbol)(writeForeignNumber)(consWriteForeignFields(timeIsSymbol)({writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}})(nilWriteForeignFields)()()())()()(),writeImpl4=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(ktpIsSymbol)((()=>{const u=consWriteForeignFields(curXDirIsSymbol)(writeForeignXDirection)(consWriteForeignFields10)()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields7)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl5=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(gtpIsSymbol)((()=>{const u=consWriteForeignFields(gammaIsSymbol)(writeForeignNumber)(consWriteForeignFields10)()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields7)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(nameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields9)()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields12=consWriteForeignFields(deltaBeatsIsSymbol)(writeForeignNumber)(consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields(logicalBeatIsSymbol)(writeForeignNumber)(consWriteForeignFields(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields6)()()())()()())()()())()()(),consWriteForeignFields13=consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields(newPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields(oldPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields6)()()())()()())()()(),consWriteForeignFields14=consWriteForeignFields(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields6)()()())()()(),consWriteForeignFields15=consWriteForeignFields(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields(pctConsumedIsSymbol)(writeForeignNumber)(consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields(releasedAtIsSymbol)(writeForeignNumber)(consWriteForeignFields3)()()())()()())()()())()()())()()())()()(),writeImpl9=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields12)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl10=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields13)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl11=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields14)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl12=(()=>{const o=consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields15)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),showPointOutcome={show:o=>{if(o.tag==="Left")return"(Left "+(showNumberImpl(o._1)+")");if(o.tag==="Right")return"(Right "+(showNumberImpl(o._1)+")");fail$3()}},readForeignXDirection={readImpl:o=>bind(readString.readImpl(o))(u=>u==="ToLeft"?pure$1(ToLeft):u==="ToRight"?pure$1(ToRight):u==="Still"?pure$1(Still):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readForeignRide={readImpl:o=>{const u=readImpl1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Ride(u._1));fail$3()}},readForeignPointOutcome={readImpl:o=>bind(readImpl2(o))(u=>u._type==="Points"?pure$1($Either("Right",u.val)):u._type==="Penalty"?pure$1($Either("Left",u.val)):fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o))))},readForeignPlayer={readImpl:o=>bind(readString.readImpl(o))(u=>u==="Player1"?pure$1(Player1):u==="Player2"?pure$1(Player2):u==="Player3"?pure$1(Player3):u==="Player4"?pure$1(Player4):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readFieldsCons6=readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsCons2$1)()(),readFieldsCons7=readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsNil)()(),readFieldsCons8=readFieldsCons(startedAtIsSymbol)(readNumber)(readFieldsNil)()(),readFieldsCons9=readFieldsCons(posIsSymbol)(readNumber)(readFieldsCons(timeIsSymbol)(readMaybe$3(readNumber))(readFieldsNil)()())()(),readImpl4=(()=>readRecord()(readFieldsCons(ktpIsSymbol)(readRecord()(readFieldsCons(curXDirIsSymbol)(readForeignXDirection)(readFieldsCons9)()()))(readFieldsCons7)()()).readImpl)(),readImpl5=(()=>readRecord()(readFieldsCons(gtpIsSymbol)(readRecord()(readFieldsCons(gammaIsSymbol)(readNumber)(readFieldsCons9)()()))(readFieldsCons7)()()).readImpl)(),readImpl6=(()=>readRecord()(readFieldsCons(nameIsSymbol)(readMaybe$1)(readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsCons8)()())()()).readImpl)(),readForeignHitBasicOverTh=readRecord()(readFieldsCons(deltaBeatsIsSymbol)(readNumber)(readFieldsCons(hitAtIsSymbol)(readNumber)(readFieldsCons(logicalBeatIsSymbol)(readNumber)(readFieldsCons(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons6)()())()())()())()()),readForeignHitLeapOverThe=readRecord()(readFieldsCons(hitAtIsSymbol)(readNumber)(readFieldsCons(newPositionIsSymbol)(readForeignPosition)(readFieldsCons(oldPositionIsSymbol)(readForeignPosition)(readFieldsCons6)()())()())()()),readForeignHitLongOverThe=readRecord()(readFieldsCons(distanceIsSymbol)(readNumber)(readFieldsCons(hitAtIsSymbol)(readNumber)(readFieldsCons6)()())()()),readForeignReleaseLongOve=readRecord()(readFieldsCons(distanceIsSymbol)(readNumber)(readFieldsCons(hitAtIsSymbol)(readNumber)(readFieldsCons(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons(pctConsumedIsSymbol)(readNumber)(readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsCons(releasedAtIsSymbol)(readNumber)(readFieldsCons2$1)()())()())()())()())()())()()),max$9=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},max1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},genericPlayer_={to:o=>{if(o.tag==="Inl")return Player1;if(o.tag==="Inr"){if(o._1.tag==="Inl")return Player2;if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return Player3;if(o._1._1.tag==="Inr")return Player4;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Player1")return $Sum("Inl",NoArguments);if(o.tag==="Player2")return $Sum("Inr",$Sum("Inl",NoArguments));if(o.tag==="Player3")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="Player4")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showPlayer={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player1"}),u=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player2"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player3"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player4"});return m=>{const h=genericPlayer_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},genericChannelChooser_={to:o=>{if(o.tag==="Inl")return NoChannel;if(o.tag==="Inr"){if(o._1.tag==="Inl")return $ChannelChooser("RideChannel",o._1._1._1,o._1._1._2._1,o._1._1._2._2);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return TutorialChannel;if(o._1._1.tag==="Inr")return EditorChannel;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="NoChannel")return $Sum("Inl",NoArguments);if(o.tag==="RideChannel")return $Sum("Inr",$Sum("Inl",$Product(o._1,$Product(o._2,o._3))));if(o.tag==="TutorialChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="EditorChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showChannelChooser={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"NoChannel"}),u=genericShowConstructor(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})({genericShowArgs:m=>["TrackV0 <"+(show1$3(m._1)+">")]})))({reflectSymbol:()=>"RideChannel"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"TutorialChannel"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EditorChannel"});return m=>{const h=genericChannelChooser_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},eqPlayer={eq:o=>u=>o.tag==="Player1"?u.tag==="Player1":o.tag==="Player2"?u.tag==="Player2":o.tag==="Player3"?u.tag==="Player3":o.tag==="Player4"?u.tag==="Player4":!1},ordPlayer={compare:o=>u=>{if(o.tag==="Player1")return u.tag==="Player1"?EQ:LT;if(u.tag==="Player1")return GT;if(o.tag==="Player2")return u.tag==="Player2"?EQ:LT;if(u.tag==="Player2")return GT;if(o.tag==="Player3")return u.tag==="Player3"?EQ:LT;if(u.tag==="Player3")return GT;if(o.tag==="Player4"){if(u.tag==="Player4")return EQ;fail$3()}fail$3()},Eq0:()=>eqPlayer},semigroupKnownPlayers={append:o=>u=>unionWith(ordPlayer)(f=>d=>{if(f.tag==="HasNotStartedYet")return d.tag==="HasNotStartedYet"?HasNotStartedYet:d;if(d.tag==="HasNotStartedYet")return f;if(f.tag==="HasStarted"){if(d.tag==="HasStarted")return $StartStatus("HasStarted",{startedAt:min$5(f._1.startedAt)(d._1.startedAt),points:max$9(f._1.points)(d._1.points),name:(()=>f._1.name.tag==="Nothing"?d._1.name:f._1.name)(),penalties:max1(f._1.penalties)(d._1.penalties)});fail$3()}fail$3()})(o)(u)},toJSONPubNubPlayerAction={readImpl:o=>bind(readImpl3(o))(u=>{if(u._type==="XPositionKeyboard"){const f=readImpl4(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionKeyboard",f._1));fail$3()}if(u._type==="XPositionMobile"){const f=readImpl5(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionMobile",f._1));fail$3()}if(u._type==="HitBasic"){const f=readForeignHitBasicOverTh.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitBasic",f._1));fail$3()}if(u._type==="HitLeap"){const f=readForeignHitLeapOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLeap",f._1));fail$3()}if(u._type==="HitLong"){const f=readForeignHitLongOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLong",f._1));fail$3()}if(u._type==="ReleaseLong"){const f=readForeignReleaseLongOve.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("ReleaseLong",f._1));fail$3()}if(u._type==="PressedStart"){const f=readImpl6(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("PressedStart",f._1));fail$3()}return fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},showRecordFieldsCons8={showRecordFields:o=>u=>cons(intercalate$2(": ")(["startedAt","(JMilliseconds "+(showNumberImpl(u.startedAt)+")")]))([])},showInFlightGameInfo={show:o=>{const u=cons(intercalate$2(": ")(["name",showMaybe$1.show(o.name)]))(cons(intercalate$2(": ")(["penalties",showNumberImpl(o.penalties)]))(cons(intercalate$2(": ")(["points",showNumberImpl(o.points)]))(showRecordFieldsCons8.showRecordFields($$Proxy)(o))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}},showStartStatus={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"HasNotStartedYet"}),u=genericShowConstructor({genericShowArgs:f=>[showInFlightGameInfo.show(f)]})({reflectSymbol:()=>"HasStarted"});return f=>{if(f.tag==="HasNotStartedYet")return o["genericShow'"](NoArguments);if(f.tag==="HasStarted")return u["genericShow'"](f._1);fail$3()}})()},showKnownPlayers=showMap(showPlayer)(showStartStatus),playerPosition=o=>u=>{if(o.tag==="Player1"){if(u.tag==="AxisX")return f=>f.p1x;if(u.tag==="AxisY")return f=>f.p1y;if(u.tag==="AxisZ")return f=>f.p1z;fail$3()}if(o.tag==="Player2"){if(u.tag==="AxisX")return f=>f.p2x;if(u.tag==="AxisY")return f=>f.p2y;if(u.tag==="AxisZ")return f=>f.p2z;fail$3()}if(o.tag==="Player3"){if(u.tag==="AxisX")return f=>f.p3x;if(u.tag==="AxisY")return f=>f.p3y;if(u.tag==="AxisZ")return f=>f.p3z;fail$3()}if(o.tag==="Player4"){if(u.tag==="AxisX")return f=>f.p4x;if(u.tag==="AxisY")return f=>f.p4y;if(u.tag==="AxisZ")return f=>f.p4z;fail$3()}fail$3()},initialPositions=o=>({p1x:u=>0,p1y:0,p1z:-3*o.barZSpacing,p1p:Position1,p2x:u=>0,p2y:0,p2z:-2*o.barZSpacing,p2p:Position2,p3x:u=>0,p3y:0,p3z:-1*o.barZSpacing,p3p:Position3,p4x:u=>0,p4y:0,p4z:0,p4p:Position4}),fromJSONPubNubPlayerAction={writeImpl:o=>{if(o.tag==="XPositionKeyboard")return writeImpl4({...o._1,_type:"XPositionKeyboard"});if(o.tag==="XPositionMobile")return writeImpl5({...o._1,_type:"XPositionMobile"});if(o.tag==="HitBasic")return writeImpl9({...o._1,_type:"HitBasic"});if(o.tag==="HitLeap")return writeImpl10({...o._1,_type:"HitLeap"});if(o.tag==="HitLong")return writeImpl11({...o._1,_type:"HitLong"});if(o.tag==="ReleaseLong")return writeImpl12({...o._1,_type:"ReleaseLong"});if(o.tag==="PressedStart")return writeImpl6({...o._1,_type:"PressedStart"});fail$3()}},defaultRide=$Ride({player1:Nothing,player2:Nothing,player3:Nothing,player4:Nothing,player1StartTimeInMilliseconds:Nothing,player2StartTimeInMilliseconds:Nothing,player3StartTimeInMilliseconds:Nothing,player4StartTimeInMilliseconds:Nothing,player1Points:Nothing,player2Points:Nothing,player3Points:Nothing,player4Points:Nothing,player1Penalties:Nothing,player2Penalties:Nothing,player3Penalties:Nothing,player4Penalties:Nothing,player1Name:Nothing,player2Name:Nothing,player3Name:Nothing,player4Name:Nothing,open:!0,version:$Version(0)}),allPositions=[Position1,Position2,Position3,Position4],allPlayers=[Player1,Player2,Player3,Player4],allColumns=[C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,C17],mapAccum$4=mapAccum$d(eventIsEvent),vbust$1=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$3=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$e=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$8=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),intensityIsSymbol$1={reflectSymbol:()=>"intensity"},colorIsSymbol$2={reflectSymbol:()=>"color"},ambientLight$2=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol$1))(convertOptionAmbientLight1)()()()(colorIsSymbol$2))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$2=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol$1))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$2);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$3=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$2=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render$2={type:"render",value:unit},runThree$1=o=>{const u=d=>{if(!d)return m=>mapAccum$4(h=>b=>h._2?$Tuple(b+1|0,(()=>b>120?h._1:h._1*toNumber(b)/toNumber(120))()):$Tuple(0,0))(applyEvent.apply((h,b)=>m(h,y=>{const v=Tuple(y);return b(v)}))((h,b)=>{const y=applicativeEvent.pure(!1)(h,b),v=o.pressedStart(h,b);return()=>(y(),v())}))(0);if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust$1($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$3({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$e([(()=>{const b=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(v,C)=>o.animatedStuff(v,w=>{const _=y(w.playerPositions);return C(_)})})());return(y,v)=>b(y,C=>v({type:"positionX",value:C}))})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(v,C)=>o.animatedStuff(v,w=>{const _=y(w.playerPositions);return C(_)})})());return(y,v)=>b(y,C=>{const w={type:"positionY",value:C._1.cameraOffsetY+C._2};return v(w)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,v)=>o.animatedStuff(y,C=>{const w=h(C.playerPositions);return v(w)}));return(y,v)=>b(y,C=>{const w={type:"positionZ",value:C._1.cameraOffsetZ+C._2};return v(w)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,v)=>o.animatedStuff(y,C=>{const w=h(C.playerPositions);return v(w)}));return(y,v)=>b(y,C=>{const w={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:C._1.cameraRotationAroundX,y:0,z:0})};return v(w)})})(),(b,y)=>o.resizeE(b,v=>{const C={type:"aspect",value:v.iw/v.ih};return y(C)})])})()))(h=>{const b=y=>arrayMap(v=>unsafeInternalGroup(C=>C.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$e([(()=>{const C=u((()=>v.tag==="Player1"?o.myPlayer.tag!=="Player1":v.tag==="Player2"?o.myPlayer.tag!=="Player2":v.tag==="Player3"?o.myPlayer.tag!=="Player3":v.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(v)(AxisX);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>{const $={type:"positionX",value:y+g};return _($)})})(),(()=>{const C=sampleBy(functorEvent)(w=>_=>w.sphereOffsetY+_)(o.renderingInfo)((()=>{const w=playerPosition(v)(AxisY);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>_({type:"positionY",value:g}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(v.tag==="Player1")return-4;if(v.tag==="Player2")return-3;if(v.tag==="Player3")return-2;if(v.tag==="Player4")return-1;fail$3()})()}),(()=>{const C=playerPosition(v)(AxisZ);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _({type:"positionZ",value:$})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(v.tag==="Player1")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(_.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(_.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(_.rateInfo.time*.21991148575128555)*.12566370614359174})};return w(g)});if(v.tag==="Player3")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(_.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(_.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(_.rateInfo.time*.09424777960769379)*-.09424777960769379})};return w(g)});if(v.tag==="Player2")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(_.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(_.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(_.rateInfo.time*-.25132741228718347)*.25132741228718347})};return w(g)});if(v.tag==="Player4")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(_.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(_.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(_.rateInfo.time*.06283185307179587)*-.2827433388230814})};return w(g)});fail$3()})()]))([]))(filter$1(v=>v.tag==="Player1"?o.myPlayer.tag!=="Player1":v.tag==="Player2"?o.myPlayer.tag!=="Player2":v.tag==="Player3"?o.myPlayer.tag!=="Player3":v.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum$4(v=>C=>{if(C.tag==="Nothing")return $Tuple($Maybe("Just",v),0);if(C.tag==="Just")return $Tuple($Maybe("Just",v),v-C._1);fail$3()})((v,C)=>o.animatedStuff(v,w=>{const _=w.rateInfo.epochTime/1e3;return C(_)}))(Nothing);return(v,C)=>y(v,w=>{const _=w/1e3,g=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(_*.031415926535897934)},{type:"rotateY",value:.001*cos(_*.031415926535897934)},{type:"rotateZ",value:.001*cos(_*.031415926535897934)}]);return C(g)})})()))(concatArray(b(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((v,C)=>o.animatedStuff(v,w=>{const _=(()=>{if(o.myPlayer.tag==="Player1")return w.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return w.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return w.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return w.playerPositions.p4p;fail$3()})(),g=(()=>y.tag==="Position1"?_.tag==="Position1":y.tag==="Position2"?_.tag==="Position2":y.tag==="Position3"?_.tag==="Position3":y.tag==="Position4"?_.tag==="Position4":!1)();return C(g)})),rateE:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray([ambientLight$2({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$e([(()=>{const v=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const C=playerPosition(y)(AxisX);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionX",value:_}))})(),(()=>{const v=sampleBy(functorEvent)(C=>w=>C.lightOffsetY+w)(o.renderingInfo)((()=>{const C=playerPosition(y)(AxisY);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionY",value:_}))})(),(()=>{const v=playerPosition(y)(AxisZ);return(C,w)=>o.animatedStuff(C,_=>{const g=v(_.playerPositions);return w({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))([o.basicE(m._1.hitBasicVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)]))))))]))(y=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(v=>v.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const v=mapAccum$4(C=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",C),0);if(w.tag==="Just")return $Tuple($Maybe("Just",C),C-w._1);fail$3()})((C,w)=>o.animatedStuff(C,_=>{const g=_.rateInfo.epochTime/1e3;return w(g)}))(Nothing);return(C,w)=>v(C,_=>{const g=_/1e3,$=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(g*.031415926535897934)},{type:"rotateY",value:.001*cos(g*.031415926535897934)},{type:"rotateZ",value:.001*cos(g*.031415926535897934)}]);return w($)})})()))(concatArray(b(0))(arrayMap(v=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$e([(()=>{const C=u((()=>v.tag==="Player1"?o.myPlayer.tag!=="Player1":v.tag==="Player2"?o.myPlayer.tag!=="Player2":v.tag==="Player3"?o.myPlayer.tag!=="Player3":v.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(v)(AxisX);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>_({type:"positionX",value:g}))})(),(()=>{const C=sampleBy(functorEvent)(w=>_=>w.lightOffsetY+_)(o.renderingInfo)((()=>{const w=playerPosition(v)(AxisY);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>_({type:"positionY",value:g}))})(),(()=>{const C=playerPosition(v)(AxisZ);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _({type:"positionZ",value:$})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(v=>globalWebGLRendererPortal1()()(webGLRenderer$3(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$e([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(C,w)=>o.resizeE(C,_=>w({type:"size",value:{width:_.iw,height:_.ih}}))])))(C=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(C)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(v)(h),unrealBloomPass$2({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))(w=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(C)(oneOf$e([applicativeEvent.pure(render$2),(_,g)=>o.animatedStuff(_,$=>g(render$2))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})(w)])),$Entity("EventfulElement'",(_,g)=>o.css2DRendererElt(_,$=>{const T=css2DRenderer$1(y)(h)({canvas:o.canvas,element:$,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$e([(M,S)=>o.resizeE(M,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render$2),(M,S)=>o.animatedStuff(M,I=>S(render$2))]));return g(T)})),$Entity("EventfulElement'",(_,g)=>o.css3DRendererElt(_,$=>{const T=css3DRenderer$1(y)(h)({canvas:o.canvas,element:$,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$e([(M,S)=>o.resizeE(M,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render$2),(M,S)=>o.animatedStuff(M,I=>S(render$2))]));return g(T)}))])))))}))))));return()=>(f(),unit)};var NUMERIC="numeric",SUDDEN="sudden",UNIT="unit",CANCEL="cancel",NO_RAMP="step",LINEAR_RAMP="linear",EXPONENTIAL_RAMP="exponential",ENVELOPE="envelope",protoSetter=function(o,u,f,d){if(f.type===SUDDEN)o.value=f.value.n;else if(f.type===UNIT)u.id&&disconnectCtrl(u.id,d),d.units[f.value.i].main.connect(o),u.id=f.value.i;else if(f.type===NUMERIC)o[f.value.t.type===NO_RAMP?"setValueAtTime":f.value.t.type===LINEAR_RAMP?"linearRampToValueAtTime":f.value.t.type===EXPONENTIAL_RAMP?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](f.value.n,f.value.o);else if(f.type===CANCEL)f.value.hold?o.cancelAndHoldAtTime(f.value.o):o.cancelScheduledValues(f.value.o);else if(f.type===ENVELOPE){const m=f.value.o;o.cancelScheduledValues(Math.max(0,m)),o.setValueCurveAtTime(f.value.p,m,f.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(f))},workletSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u.parameters.get(f),d[f],m,o)},genericSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u[f],d[f],m,o)},addToScope=function(o,u,f,d){const m=o("@fan@")(h=>h)(f);d.scopes[m]||(d.scopes[m]=[]),d.scopes[m].push(u),d.units[u].scope=m},doDeferredConnections=function(o,u){u.toConnect[o]&&(u.toConnect[o].forEach(function(f){f.w?u.units[f.w]?f.f():(u.toConnect[f.w]||(u.toConnect[f.w]=[]),u.toConnect[f.w].push({f:f.f})):f.f()}),delete u.toConnect[o])},mConnectXToY_=function(o,u,f,d){o()(m=>connectXToYInternal_(u,m,d))(f)},connectXToYInternal_=function(o,u,f){var d=function(){f.units[o].audioOutgoing.push(u),f.units[o].pendingOn||(f.units[o].main.connect(f.units[u].main),f.units[u].se&&f.units[o].main.connect(f.units[u].se))};if(!f.units[o]){f.toConnect[o]||(f.toConnect[o]=[]);var m={f:d};u!==o&&!f.units[u]&&(m.w=u),f.toConnect[o].push(m);return}if(!f.units[u]){f.toConnect[u]||(f.toConnect[u]=[]);var m={f:d};u!==o&&!f.units[o]&&(m.w=o),f.toConnect[u].push(m);return}d()};function deleteFromCache_(o){return function(u){return function(){delete u.units[o.id]}}}function connectXToY_(o){return function(u){return function(){connectXToYInternal_(o.from,o.to,u)}}}var disconnectCtrl=function(o,u){if(u.units[o].scope==="@fan@")return;const f=u.units[o].scope;u.scopes[f].forEach(d=>{delete u.units[d]}),delete u.scopes[f]};function disconnectXFromY_(o){return function(u){return function(){var f=o.from,d=o.to;if(!u.units[f]||(u.units[f].audioOutgoing=u.units[f].audioOutgoing.filter(function(h){return h!==d}),u.units[f].main.disconnect(u.units[d].main),u.units[d].se&&u.units[f].main.disconnect(u.units[d].se),u.units[f].scope==="@fan@"))return;const m=u.units[f].scope;u.scopes[m].forEach(h=>{delete u.units[h]}),delete u.scopes[m]}}}const makeAllpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"allpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAnalyser_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=new AnalyserNode(f.context,u),b=m(h)();f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:m,analyser:b,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAudioWorkletNode_=o=>u=>f=>()=>{var d=u.id,m=u.options;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(f.context,m.name,{numberOfInputs:m.numberOfInputs,numberOfOutputs:m.numberOfOutputs,outputChannelCount:m.outputChannelCount,parameterData:m.parameterData,processorOptions:m.processorOptions})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeBandpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"bandpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConstant_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new ConstantSourceNode(b,y)},h={offset:u.offset};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConvolver_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(f.context,{buffer:u.buffer})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDelay_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(f.context,{delayTime:u.delayTime,maxDelayTime:u.maxDelayTime})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDynamicsCompressor_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(f.context,{knee:u.knee,ratio:u.ratio,threshold:u.threshold,attack:u.attack,release:u.release})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeGain_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(f.context,{gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeIIRFilter_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(f.context,{feedforward:u.feedforward,feedback:u.feedback})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLoopBuf_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new AudioBufferSourceNode(b,y)},h={loop:!0,buffer:u.buffer,loopStart:u.loopStart,loopEnd:u.loopEnd,playbackRate:u.playbackRate};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMediaElement_=o=>u=>f=>()=>{var d=u.id,m=u.element,h=function(){var b=f.context.createMediaElementSource(m);return b};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:h,resumeClosure:{},main:h()},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMicrophone_=o=>u=>f=>()=>{var d=u.id;f.units[u.id]={main:f.context.createMediaStreamSource(u.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeNotch_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"notch",frequency:u.frequency,Q:u.q})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeaking_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"peaking",frequency:u.frequency,Q:u.q,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeriodicOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){var v={frequency:y.frequency,periodicWave:y.spec.type==="wave"?y.spec.value:makePeriodicWaveImpl(f.context)(y.spec.value.real)(y.spec.value.img)()},C=new OscillatorNode(b,v);return C},h={frequency:u.frequency,type:"custom",spec:u.spec};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePlayBuf_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){var v={loop:y.loop,buffer:y.buffer,playbackRate:y.playbackRate};return new AudioBufferSourceNode(b,v)},h={loop:!1,buffer:u.buffer,playbackRate:u.playbackRate,bufferOffset:u.bufferOffset,duration:o(void 0)(b=>b)(u.duration)};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeRecorder_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=f.context.createMediaStreamDestination(),b=new MediaRecorder(h.stream);m(b)(),b.start(),f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:m,recorder:b,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSawtoothOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"sawtooth"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSinOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"sine"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSpeaker_=o=>u=>()=>{u.units[o.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:u.context.createGain(),se:u.context.destination}},makeStereoPanner_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(f.context,{pan:u.pan})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSquareOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"square"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeTriangleOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"triangle"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeWaveShaper_=o=>u=>f=>()=>{var d=u.id,m=u.curve,h=u.oversample;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(f.context,{curve:m,oversample:h.type})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)};function setAnalyserNodeCb_(o){return function(u){return function(){var f=o.id,d=o.cb;u.units[f].analyserOrig!==d&&(u.units[f].analyser&&u.units[f].analyser(),u.units[f].analyser=d(u.units[f].se)(),u.units[f].analyserOrig=d)}}}function setMediaRecorderCb_(o){return function(u){return function(){var f=o.cb,d=o.id;if(u.units[d].recorderOrig!==f){u.units[d].recorder&&u.units[d].recorder.stop();var m=f;u.units[d].recorderOrig=f;var h=new MediaRecorder(u.units[d].se);m(h)(),h.start()}}}}function setWaveShaperCurve_(o){return function(u){return function(){var f=o.id,d=o.curve;u.units[f].main.curve=d}}}function setAudioWorkletParameter_(o){return function(u){return function(){var f=o.id,d=o.paramName,m=o.paramValue;workletSetter(u,u.units[f].main,d,u.units[f].controllers,m)}}}const recalcResume=function(o,u,f){u.resume&&o.value.n!==void 0&&(u.resume[f]=o.value.n)};function setGain_(o){return function(u){return function(){var f=o.id,d=o.gain;genericSetter(u,u.units[f].main,"gain",u.units[f].controllers,d),recalcResume(d,u.units[f],"gain")}}}function setQ_(o){return function(u){return function(){var f=o.id,d=o.q;genericSetter(u,u.units[f].main,"Q",u.units[f].controllers,d),recalcResume(d,u.units[f],"Q")}}}function setBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].resume&&(u.units[f].resume.buffer=d)}}}function setConvolverBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].main.buffer=d}}}function setPeriodicOsc_(o){return function(u){return function(){var f=o.id,d=o.spec;u.units[f].resume&&(u.units[f].resume.spec=d)}}}function setPan_(o){return function(u){return function(){var f=o.id,d=o.pan;genericSetter(u,u.units[f].main,"pan",u.units[f].controllers,d),recalcResume(d,u.units[f],"pan")}}}function setThreshold_(o){return function(u){return function(){var f=o.id,d=o.threshold;genericSetter(u,u.units[f].main,"threshold",u.units[f].controllers,d),recalcResume(d,u.units[f],"threshold")}}}function setLoopStart_(o){return function(u){return function(){var f=o.id,d=o.loopStart;u.units[f].main.loopStart=d,u.units[f].resume.loopStart=d}}}function setLoopEnd_(o){return function(u){return function(){var f=o.id,d=o.loopEnd;u.units[f].main.loopEnd=d,u.units[f].resume.loopEnd=d}}}function setBufferOffset_(o){return function(u){return function(){var f=o.id,d=o.bufferOffset;u.units[f].resume.bufferOffset=d}}}function setDuration_(o){return function(u){return function(f){return function(){var d=u.id,m=u.duration;f.units[d].duration=o(void 0)(h=>h)(m)}}}}function setRelease_(o){return function(u){return function(){var f=o.id,d=o.release;genericSetter(u,u.units[f].main,"release",u.units[f].controllers,d),recalcResume(d,u.units[f],"release")}}}function setOffset_(o){return function(u){return function(){var f=o.id,d=o.offset;genericSetter(u,u.units[f].main,"offset",u.units[f].controllers,d),recalcResume(d,u.units[f],"offset")}}}function setRatio_(o){return function(u){return function(){var f=o.id,d=o.ratio;genericSetter(u,u.units[f].main,"ratio",u.units[f].controllers,d),recalcResume(d,u.units[f],"ratio")}}}function setAttack_(o){return function(u){return function(){var f=o.id,d=o.attack;genericSetter(u,u.units[f].main,"attack",u.units[f].controllers,d),recalcResume(d,u.units[f],"attack")}}}function setKnee_(o){return function(u){return function(){var f=o.id,d=o.knee;genericSetter(u,u.units[f].main,"knee",u.units[f].controllers,d),recalcResume(d,u.units[f],"knee")}}}function setDelay_(o){return function(u){return function(){var f=o.id,d=o.delayTime;genericSetter(u,u.units[f].main,"delayTime",u.units[f].controllers,d),recalcResume(d,u.units[f],"delayTime")}}}function setPlaybackRate_(o){return function(u){return function(){var f=o.id,d=o.playbackRate;genericSetter(u,u.units[f].main,"playbackRate",u.units[f].controllers,d),recalcResume(d,u.units[f],"playbackRate")}}}function setFrequency_(o){return function(u){return function(){var f=o.id,d=o.frequency;genericSetter(u,u.units[f].main,"frequency",u.units[f].controllers,d),recalcResume(d,u.units[f],"frequency")}}}function setOnOff_(o){return function(u){return function(){var f=o.id,d=o.onOff;d.x.type==="on"?setOn_(f)(d)(u)():d.x.type==="off"&&setOff_(f)(d)(u)()}}}var setOn_=function(o){return function(u){return function(f){return function(){if(!f.units[o].onOff){f.units[o].pendingOn=!1,f.units[o].onOff=!0,f.units[o].main=f.units[o].createClosure(f.context,f.units[o].resume);for(var d=0;d<f.units[o].audioOutgoing.length;d++){var m=f.units[o].audioOutgoing[d];f.units[o].main.connect(f.units[m].main),f.units[m].se&&f.units[o].main.connect(f.units[m].se)}f.units[o].resume&&f.units[o].resume.bufferOffset?typeof f.units[o].resume.duration=="number"?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset,f.units[o].resume.duration):f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset):f.units[o].resume&&f.units[o].resume.loopStart?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.loopStart):f.units[o].main.start(f.deprecatedWriteHead+u.o)}}}}},setOff_=function(o){return function(u){return function(f){return function(){if(!!f.units[o].onOff){f.units[o].onOff=!1;var d=f.units[o].main;d.addEventListener("ended",()=>{d.disconnect()}),d.stop(f.deprecatedWriteHead+u.o)}}}}};function constant0Hack_(o){return function(){var u=o.createConstantSource();return u.offset.value=0,u.connect(o.destination),u.start(),function(){u.stop(),u.disconnect(o.destination)}}}var makePeriodicWaveImpl=function(o){return function(u){return function(f){return function(){for(var d=new Float32Array(u.length),m=new Float32Array(f.length),h=0;h<u.length;h++)d[h]=u[h];for(var h=0;h<f.length;h++)m[h]=f[h];return o.createPeriodicWave(d,m,{disableNormalization:!0})}}}};function makeFFIAudioSnapshot(o){return function(){return{context:o,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function close_(o){return function(){o.close()}}function fetchArrayBuffer(o){return function(){return fetch(o).then(function(u){return u.arrayBuffer()},function(u){return console.error("Error fetching buffer",u),Promise.reject(u)})}}function decodeAudioDataFromArrayBuffer(o){return function(u){return function(){return o.decodeAudioData(u)}}}function context_(){return new(window.AudioContext||window.webkitAudioContext)}function contextState_(o){return function(){return o.state}}function getAudioClockTime(o){return function(){return o.currentTime}}function makeAudioBuffer_(o){return function(u){return function(){for(var f=o.createBuffer(u.arr.length,u.arr[0].length,u.size),d=0;d<f.numberOfChannels;d++)for(var m=f.getChannelData(d),h=0;h<f.length;h++)m[h]=u.arr[d][h];return f}}}const effectfulAudioInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},deleteFromCache:deleteFromCache_,disconnectXFromY:disconnectXFromY_,connectXToY:connectXToY_,makeAllpass:makeAllpass_(maybe),makeAnalyser:makeAnalyser_(maybe),makeAudioWorkletNode:makeAudioWorkletNode_(maybe),makeBandpass:makeBandpass_(maybe),makeConstant:makeConstant_(maybe),makeConvolver:makeConvolver_(maybe),makeDelay:makeDelay_(maybe),makeDynamicsCompressor:makeDynamicsCompressor_(maybe),makeGain:makeGain_(maybe),makeHighpass:makeHighpass_(maybe),makeHighshelf:makeHighshelf_(maybe),makeIIRFilter:makeIIRFilter_(maybe),makeLoopBuf:makeLoopBuf_(maybe),makeLowpass:makeLowpass_(maybe),makeLowshelf:makeLowshelf_(maybe),makeMediaElement:makeMediaElement_(maybe),makeMicrophone:makeMicrophone_(maybe),makeNotch:makeNotch_(maybe),makePeaking:makePeaking_(maybe),makePeriodicOsc:makePeriodicOsc_(maybe),makePlayBuf:makePlayBuf_(maybe),makeRecorder:makeRecorder_(maybe),makeSawtoothOsc:makeSawtoothOsc_(maybe),makeSinOsc:makeSinOsc_(maybe),makeSpeaker:makeSpeaker_,makeSquareOsc:makeSquareOsc_(maybe),makeStereoPanner:makeStereoPanner_(maybe),makeTriangleOsc:makeTriangleOsc_(maybe),makeWaveShaper:makeWaveShaper_(maybe),setAnalyserNodeCb:setAnalyserNodeCb_,setMediaRecorderCb:setMediaRecorderCb_,setWaveShaperCurve:setWaveShaperCurve_,setAudioWorkletParameter:setAudioWorkletParameter_,setBuffer:setBuffer_,setConvolverBuffer:setConvolverBuffer_,setDuration:setDuration_(maybe),setPeriodicOsc:setPeriodicOsc_,setOnOff:setOnOff_,setBufferOffset:setBufferOffset_,setLoopStart:setLoopStart_,setLoopEnd:setLoopEnd_,setRatio:setRatio_,setOffset:setOffset_,setAttack:setAttack_,setGain:setGain_,setQ:setQ_,setPan:setPan_,setThreshold:setThreshold_,setRelease:setRelease_,setKnee:setKnee_,setDelay:setDelay_,setPlaybackRate:setPlaybackRate_,setFrequency:setFrequency_}),decodeAudioDataFromUri=o=>u=>_bind(_bind(_liftEffect(fetchArrayBuffer(u)))(toAff$p(coerce)))((()=>{const f=decodeAudioDataFromArrayBuffer(o);return d=>_bind(_liftEffect(f(d)))(toAff$p(coerce))})()),close=o=>u=>o.liftEffect((()=>{const f=contextState_(u);return()=>{const d=f(),m=close_(u);return d!=="closed"?m():unit}})()),withACTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>{const m=getAudioClockTime(o);return()=>{const h=m();return f({acTime:h,value:d})()}})),run2=o=>u=>{const f=makeFFIAudioSnapshot(o);return()=>{const d=f(),m={value:0};return subscribe(speaker(u)(effectfulAudioInterpret(m)))(b=>b(d))()}},set_=o=>({n11:u,n12:f,n13:d,n14:m,n21:h,n22:b,n23:y,n24:v,n31:C,n32:w,n33:_,n34:g,n41:$,n42:T,n43:M,n44:S})=>new o().set(u,f,d,m,h,b,y,v,C,w,_,g,$,T,M,S),$CenterState=(o,u)=>({tag:o,_1:u}),$FadeInstruction=o=>({tag:o}),identity$9=o=>o,oneOf$d=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussed$1=vbussed$2()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"longAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusCons2({reflectSymbol:()=>"tutorialCenterState"})()()(vbusNil)()())()())()())()())()())()())()())()())()()),traverse_$5=traverse_$7(applicativeEffect)(foldableMaybe),fromFoldable$7=fromFoldable$9(ordNumber)(foldableArray),pure2$1=(()=>applicativeABehavior(functorEvent).pure)(),max$8=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT$1=applicativeExceptT$3(monadIdentity),traverse$2=(()=>traversableMap.traverse(applicativeExceptT$1))(),throwError$1=(()=>monadThrowExceptT(monadIdentity).throwError)(),biSampleOn$3=biSampleOn$4(eventIsEvent),oneOfMap$7=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),FadeIn=$FadeInstruction("FadeIn"),FadeOut=$FadeInstruction("FadeOut"),FadeInOut=$FadeInstruction("FadeInOut"),Intro=$CenterState("Intro"),Tiles=$CenterState("Tiles"),Tilt=$CenterState("Tilt"),Leap=$CenterState("Leap"),Long=$CenterState("Long"),End$1=$CenterState("End"),Empty$1=$CenterState("Empty"),tutorial$1=o=>u=>f=>{const d=contains("tutorial-fade-in-animation"),m=replace("tutorial-fade-in-animation")("tutorial-fade-out-animation opacity-0 "),h=(b,y,v,C,w,_,g)=>$Entity("EventfulElement'",backdoor.bus($=>T=>$Entity("Element'",elementify("div")((M,S)=>{const I=F=>{const R={key:"class",value:$AttributeValue("Prop'",F((()=>w.tag==="FadeIn"||w.tag==="FadeInOut"?"tutorial-fade-in-animation ":"opacity-100 ")())+"z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900")};return S(R)},B=applicativeEvent.pure(identity$9)(M,I),x=T(M,I);return()=>(B(),x())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6 md:col-start-3 md:col-end-5")}))($Entity("FixedChildren'",concatArray([$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center p-4 text-2xl text-slate-200")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(b))])))])))])(concatArray((()=>{if(y.tag==="Just")return[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center text-white p-4")}))($Entity("FixedChildren'",[y._1])))];if(y.tag==="Nothing")return[];fail$3()})())([$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","flex w-full justify-center items-center")}))($Entity("FixedChildren'",concatArray((()=>{const M=[$Entity("Element'",elementify("button")(oneOf$d([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const S=$(B=>{const x=m(B),F="tutorial-fade-out-animation opacity-0 "+B;return d(B)?x:F}),I=_makeFiber(ffiUtil$1,applyAff.apply(_map(B=>identity$w)(_delay(Right,1500)))(_liftEffect(g(Empty$1))));return{key:"click",value:$AttributeValue("Cb'",B=>()=>(S(),I().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Keep playing"))])))];return v?M:[]})())([$Entity("Element'",elementify("button")(oneOf$d([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const M=g(Empty$1),S=$(F=>{const R=m(F),L="tutorial-fade-out-animation opacity-0 "+F;return d(F)?R:L}),I=_makeFiber(ffiUtil$1,applyAff.apply(_map(F=>identity$w)(_delay(Right,1500)))(_liftEffect(M))),B=()=>(S(),I().run(),unit),x=(()=>w.tag==="FadeOut"||w.tag==="FadeInOut"?B:M)();return{key:"click",value:$AttributeValue("Cb'",F=>()=>(x(),_(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure(C))])))]))))])))))])))));return vbussed$1($$Proxy)(b=>y=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",backdoor.memoize(sampleBy(functorEvent)(v=>C=>({rateInfo:C,playerPositions:{p1x:v.p1x(C),p1y:v.p1y,p1z:v.p1z,p1p:v.p1p,p2x:v.p2x(C),p2y:v.p2y,p2z:v.p2z,p2p:v.p2p,p3x:v.p3x(C),p3y:v.p3y,p3z:v.p3z,p3p:v.p3p,p4x:v.p4x(C),p4y:v.p4y,p4z:v.p4z,p4p:v.p4p}}))(f.playerPositions)(biSampleOn$3(oneOff(Just)(filter(v=>applyMaybe.apply((()=>{if(v.tag==="Leaf")return Nothing;const C=traverse$2(w=>{if(w.tag==="HasNotStartedYet")return throwError$1(unit);if(w.tag==="HasStarted")return applicativeExceptT$1.pure(w._1.startedAt);fail$3()})(v);if(C.tag==="Left")return Nothing;if(C.tag==="Right")return $Maybe("Just",w=>({startTime:foldableMap.foldl(max$8)(0)(C._1),myTime:w}));fail$3()})())((()=>{const C=lookup$2(ordPlayer)(f.player)(v);if(C.tag==="Just"){if(C._1.tag==="HasNotStartedYet")return Nothing;if(C._1.tag==="HasStarted")return $Maybe("Just",C._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))((v,C)=>y.rateInfo(v,w=>C(_=>{const g=(_.startTime-_.myTime)/1e3;return{epochTime:w.epochTime,time:w.time,prevTime:w.prevTime,beats:w.beats-g,prevBeats:(()=>{if(w.prevBeats.tag==="Nothing")return Nothing;if(w.prevBeats.tag==="Just")return $Maybe("Just",w.prevBeats._1-g);fail$3()})()}})))))(v=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 pointer-events-none absolute w-screen h-screen grid grid-rows-6 grid-cols-6")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","row-start-1 row-end-3 col-start-1 col-end-3")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mx-2 mt-2 ")}))($Entity("FixedChildren'",[switcher(C=>{if(C._2.tag==="Nothing")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(w=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>w._1.tag==="Player1"?f.player.tag==="Player1":w._1.tag==="Player2"?f.player.tag==="Player2":w._1.tag==="Player3"?f.player.tag==="Player3":w._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if(w._2.tag==="HasStarted"){if(w._2._1.name.tag==="Just")return w._2._1.name._1+" has joined!";if(w._2._1.name.tag==="Nothing"){if(w._1.tag==="Player1")return"Player 1 has joined!";if(w._1.tag==="Player2")return"Player 2 has joined!";if(w._1.tag==="Player3")return"Player 3 has joined!";if(w._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if(w._2.tag==="HasNotStartedYet"){if(w._1.tag==="Player1")return"Player 1 has joined!";if(w._1.tag==="Player2")return"Player 2 has joined!";if(w._1.tag==="Player3")return"Player 3 has joined!";if(w._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])))]))))(toUnfoldable$1(unfoldableArray)(C._1)))));if(C._2.tag==="Just")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(w=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>w._1.tag==="Player1"?f.player.tag==="Player1":w._1.tag==="Player2"?f.player.tag==="Player2":w._1.tag==="Player3"?f.player.tag==="Player3":w._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if(w._2.name.tag==="Just")return"You ("+(w._2.name._1+")");if(w._2.name.tag==="Nothing")return"You";fail$3()}if(w._2.name.tag==="Just")return w._2.name._1;if(w._2.name.tag==="Nothing"){if(w._1.tag==="Player1")return"Player 1";if(w._1.tag==="Player2")return"Player 2";if(w._1.tag==="Player3")return"Player 3";if(w._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round(w._2.points+-1*w._2.penalties)))+" Points"))))])))]))))(mapMaybe(w=>{if(w._2.tag==="HasNotStartedYet")return Nothing;if(w._2.tag==="HasStarted")return $Maybe("Just",$Tuple(w._1,w._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(C._1))))));fail$3()})(biSampleOn$3(initializeWithEmpty(plusMaybe)(applicativeMaybe)(y.iAmReady))((C,w)=>f.playerStatus(C,_=>{const g=Tuple(_);return w(g)})))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",(C,w)=>y.iAmReady(C,_=>{const g=$Entity("Element'",elementify("div")(oneOf$d([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mx-2")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$d([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto p-1 "+buttonCls)}),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",$=>()=>(_(),o.goHome(),!0))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>(()=>{if(u.isPreviewPage.tag==="Nothing")return!1;if(u.isPreviewPage.tag==="Just")return!0;fail$3()})()?"Exit preview":"Exit tutorial")()))])))])));return w(g)}))])))])))]))),(()=>{const C=applicativeEvent.pure((()=>{if(u.isPreviewPage.tag==="Nothing")return Intro;if(u.isPreviewPage.tag==="Just")return $CenterState("Preview",u.isPreviewPage._1);fail$3()})()),w=()=>{const _=requestIdleCallbackIsDefined(),g=context_(),$=constant0Hack_(g)(),T=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$5(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const z=now(),J=o.unschedule.value,K=span(ee=>ee._1<z)(toUnfoldable$1(unfoldableArray)(J));return foreachE(K.init)(snd)(),o.unschedule.value=fromFoldable$7(K.rest),unit};if(_){const z=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",z)}return L()}})())(),M=withACTime(g)(animationFrame),S=backdoor.hot((R,L)=>M(R,z=>L(z.acTime)))(),I=backdoor.hot(timeFromRate(f.cNow)(pure2$1({rate:1}))((R,L)=>S.event(R,z=>L({real:z}))))(),B=subscribe(I.event)(b.rateInfo)(),x=run2(g)(graph$1({basics:y.basicAudio,leaps:y.leapAudio,longs:y.longAudio,rateInfo:(R,L)=>v(R,z=>L(z.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,longVerb:f.longVerb,bgtrack:u.bgtrack,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds}))();b.pressedStart(!0)(),b.iAmReady((()=>{const R=clearIntervalImpl(T),L=close(monadEffectEffect)(g);return()=>(x(),$(),R(),S.unsubscribe(),B(),I.unsubscribe(),L())})())();const F=f.cNow();return f.optMeIn(F)()};return switcher(_=>{if(_.tag==="Preview")return h("Preview your ride!",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Starting at "+(toStringWith($Format("Fixed",clamp$2(0)(20)(2)))(_._1.startsAt)+" seconds.")))])))])))),!1,"Start",FadeOut,fullScreenFlow(w),b.tutorialCenterState);if(_.tag==="Intro")return h("Welcome to Joyride!",Nothing,!1,"Start Tutorial",FadeOut,fullScreenFlow((()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map($=>identity$w)(_delay(Right,4e3)))(_liftEffect(b.tutorialCenterState(Tiles))));return()=>(w(),g().run(),unit)})()),b.tutorialCenterState);if(_.tag==="Tiles")return h("Points",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Earn points by touching the "))]))),$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","italic")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("gray"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tiles as soon as their edge touches the line. You'll lose points if you're too early or late."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map($=>identity$w)(_delay(Right,12e3)))(_liftEffect(b.tutorialCenterState(Tilt))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if(_.tag==="Tilt")return h("Tilt",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Tilt your phone left or right to move sideways and reach far-off tiles."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map($=>identity$w)(_delay(Right,9500)))(_liftEffect(b.tutorialCenterState(Leap))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if(_.tag==="Leap")return h("Leaps",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Leap to a new line by touching a "))]))),$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","italic")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("leap"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tile. Leap tiles have the same color as the line you'll leap to."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map($=>identity$w)(_delay(Right,1e4)))(_liftEffect(b.tutorialCenterState(Long))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if(_.tag==="Long")return h("Press",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Long-press the "))]))),$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","italic")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("green"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tiles to earn points. The closer the tile is, the higher the points!"))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map($=>identity$w)(_delay(Right,25e3)))(_liftEffect(b.tutorialCenterState(End$1))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if(_.tag==="End")return h("That's it!",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Play against up to four people! The ride is more fun when shared with friends \u{1F917}"))])))),!0,"Home >",FadeIn,o.goHome,b.tutorialCenterState);if(_.tag==="Empty")return $Entity("EventfulElement'",plusEvent.empty);fail$3()})((_,g)=>{const $=C(_,g),T=y.tutorialCenterState(_,g);return()=>($(),T())})})(),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("canvas")(oneOf$d([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute w-screen h-screen")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const C=traverse_$5(w=>runThree$1({threeDI:f.threeDI,css2DRendererElt:y.render2DElement,css3DRendererElt:y.render3DElement,pressedStart:y.pressedStart,isMobile:o.isMobile,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,columnPusher:o.columnPusher,lowPriorityCb:o.lpsCallback,myPlayer:f.player,debug:o.debug,models:f.models,textures:f.textures,cubeTextures:f.cubeTextures,pushBasic:o.pushBasic,basicE:_=>g=>u.basicE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:g,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:v,pushBasic:o.pushBasic,pushBasicVisualForLabel:_}),leapE:_=>g=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,columnEventConstructor:g,debug:o.debug,notifications:{hitLeap:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:v,pushLeap:o.pushLeap,pushLeapVisualForLabel:_}),longE:_=>g=>$=>u.longE({initialDims:f.initialDims,columnEventConstructor:$,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:plusEvent.empty,releaseLong:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.longAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:v,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:_,pushReleaseLongVisualForLabel:g}),animatedStuff:v,resizeE:o.resizeE,initialDims:f.initialDims,canvas:w}));return w=>C(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",w))})())})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",b.render2DElement)}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",b.render3DElement)}]))($Entity("FixedChildren'",[])))])))])))))]))))},$Landmark=(o,u)=>({tag:o,_1:u}),eventToAff=o=>makeAff(u=>()=>{const f={value:()=>unit},d=subscribe(o)(m=>{const h=u($Either("Right",m));return()=>(h(),bindE(()=>f.value)(identity$v)(),f.value=()=>unit)})();return f.value=d,m=>_liftEffect(bindE(()=>f.value)(identity$v))}),memoBeh=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m=create(),h={value:u};return d(f(backdoor.makeEvent(b=>{const y=bindE(()=>h.value)(b);return()=>(y(),subscribe(m.event)(b)())})))(),subscribe(o)(b=>()=>(h.value=b,m.push(b)()))()}),rider=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(u)(f);return()=>{const m=d(),h=subscribe(o.event)(o.push)();return()=>(m(),h())}});/*!
 * MIT License
 * 
 * Copyright (c) 2020 Filestack
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */var filestack=function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}return f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var b in d)f.d(h,b,function(y){return d[y]}.bind(null,b));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=52)}([function(o,u,f){f.d(u,"c",function(){return m}),f.d(u,"a",function(){return h}),f.d(u,"b",function(){return b}),f.d(u,"d",function(){return y}),f.d(u,"f",function(){return v}),f.d(u,"e",function(){return w});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(_,g){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,T){$.__proto__=T}||function($,T){for(var M in T)T.hasOwnProperty(M)&&($[M]=T[M])})(_,g)};function m(_,g){function $(){this.constructor=_}d(_,g),_.prototype=g===null?Object.create(g):($.prototype=g.prototype,new $)}var h=function(){return(h=Object.assign||function(_){for(var g,$=1,T=arguments.length;$<T;$++)for(var M in g=arguments[$])Object.prototype.hasOwnProperty.call(g,M)&&(_[M]=g[M]);return _}).apply(this,arguments)};function b(_,g,$,T){return new($||($=Promise))(function(M,S){function I(F){try{x(T.next(F))}catch(R){S(R)}}function B(F){try{x(T.throw(F))}catch(R){S(R)}}function x(F){var R;F.done?M(F.value):(R=F.value,R instanceof $?R:new $(function(L){L(R)})).then(I,B)}x((T=T.apply(_,g||[])).next())})}function y(_,g){var $,T,M,S,I={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return S={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function B(x){return function(F){return function(R){if($)throw new TypeError("Generator is already executing.");for(;I;)try{if($=1,T&&(M=2&R[0]?T.return:R[0]?T.throw||((M=T.return)&&M.call(T),0):T.next)&&!(M=M.call(T,R[1])).done)return M;switch(T=0,M&&(R=[2&R[0],M.value]),R[0]){case 0:case 1:M=R;break;case 4:return I.label++,{value:R[1],done:!1};case 5:I.label++,T=R[1],R=[0];continue;case 7:R=I.ops.pop(),I.trys.pop();continue;default:if(M=I.trys,!((M=M.length>0&&M[M.length-1])||R[0]!==6&&R[0]!==2)){I=0;continue}if(R[0]===3&&(!M||R[1]>M[0]&&R[1]<M[3])){I.label=R[1];break}if(R[0]===6&&I.label<M[1]){I.label=M[1],M=R;break}if(M&&I.label<M[2]){I.label=M[2],I.ops.push(R);break}M[2]&&I.ops.pop(),I.trys.pop();continue}R=g.call(_,I)}catch(L){R=[6,L],T=0}finally{$=M=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([x,F])}}}function v(_){var g=typeof Symbol=="function"&&Symbol.iterator,$=g&&_[g],T=0;if($)return $.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&T>=_.length&&(_=void 0),{value:_&&_[T++],done:!_}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(_,g){var $=typeof Symbol=="function"&&_[Symbol.iterator];if(!$)return _;var T,M,S=$.call(_),I=[];try{for(;(g===void 0||g-- >0)&&!(T=S.next()).done;)I.push(T.value)}catch(B){M={error:B}}finally{try{T&&!T.done&&($=S.return)&&$.call(S)}finally{if(M)throw M.error}}return I}function w(){for(var _=[],g=0;g<arguments.length;g++)_=_.concat(C(arguments[g]));return _}},function(o,u,f){f.r(u),f.d(u,"resolveCdnUrl",function(){return S}),f.d(u,"resolveHost",function(){return I}),f.d(u,"removeEmpty",function(){return B}),f.d(u,"uniqueTime",function(){return x}),f.d(u,"uniqueId",function(){return F}),f.d(u,"getMimetype",function(){return R}),f.d(u,"extensionToMime",function(){return L}),f.d(u,"sanitizeName",function(){return z}),f.d(u,"filterObject",function(){return J}),f.d(u,"cleanUpCallbacks",function(){return K}),f.d(u,"md5",function(){return _}),f.d(u,"b64",function(){return g}),f.d(u,"getVersion",function(){return $}),f.d(u,"isMobile",function(){return T}),f.d(u,"isFacebook",function(){return M});var d,m=f(0),h={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","msp","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"application/font-ttf":"ttf","application/vnd.ms-fontobject":"eot","application/font-otf":"otf","text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard","vcr"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote","key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.key":["key"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"],"application/x-msi":"msi","application/x-ms":"ms","application/vnd.geo+json":"geojson","application/vnd.debian.binary-package":"deb","application/font-woff":"woff","application/font-woff2":"woff2","application/x-font-ttf":["ttc","ttf"],"font/opentype":"otf","application/x-bb-appworld":"bbaw","application/x-cd-image":"iso","application/x-opera-extension":"oex","application/x-ms-dos-executable":"exe","text/vnd.rim.location.xloc":"xloc","application/x-desktop":"desktop","application/x-typescript":"ts","application/x-java-archive":"jar","application/x-sharedlib":"so"},b=f(17),y=f.n(b),v=f(27),C=f(28),w=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i,_=function(ee){return btoa(C.ArrayBuffer.hash(ee,!0))},g=function(ee,q){q===void 0&&(q=!1);var G=btoa(ee);return q?G.replace(/\//g,"_").replace(/\+/g,"-"):G},$=function(){return"JS-3.25.0"},T=function(){return navigator&&navigator.userAgent&&w.test(navigator.userAgent)},M=function(){return navigator&&navigator.userAgent&&/\[FB.*;/i.test(navigator.userAgent)},S=function(ee,q){var G=ee.urls.cdnUrl;if(q&&(q.indexOf("src:")===0||q.indexOf("http")===0)){if(!ee.apikey)throw new Error("Api key is required when storage alias is provided");return G+"/"+ee.apikey}return G},I=function(ee,q){if(!q)return ee;var G=/filestackapi.com|filestackcontent.com/i;return Object.keys(ee).forEach(function(Z){ee[Z]=ee[Z].replace(G,q)}),ee},B=function(ee){var q=Object(m.a)({},ee);return Object.keys(q).forEach(function(G){return!q[G]&&typeof q[G]!="boolean"&&delete q[G]}),q},x=function(){var ee=Date.now();return d=ee===d?ee+1:ee},F=function(ee){return ee===void 0&&(ee=10),new Array(ee).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()})},R=function(ee,q){var G=y()(ee);if(G&&["text/plain","application/octet-stream","application/x-ms","application/x-msi","application/zip"].indexOf(G.mime)===-1)return G.mime;if(q&&q.indexOf(".")>-1){var Z=L(q);if(Z)return Z}try{if(v(ee))return"text/plain"}catch{console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers")}return G?G.mime:"application/octet-stream"},L=function(ee){if(ee&&ee.length!==0){if(ee.split("/").length===2)return ee;ee.indexOf(".")>-1&&(ee=ee.split(".").pop()),ee=ee.toLocaleLowerCase();for(var q=Object.keys(h),G=q.length,Z=0;Z<G;Z++)if(h[q[Z]].indexOf(ee)>-1)return q[Z]}},z=function(ee,q){if(q===void 0&&(q=!0),typeof q=="boolean"&&!q)return ee;var G,Z=typeof q!="boolean"&&q.replacement?q.replacement:"-",ie=typeof q!="boolean"&&q.exclude?q.exclude:["\\","{","}","|","%","`",'"',"'","~","[","]","#","|","^","<",">"];if(!ee||ee.length===0)return"undefined";var Q=ee.split(".");return Q.length>1&&(G=Q.pop()),Q.join(".").split("").map(function(H){return ie.indexOf(H)>-1?Z:H}).join("")+(G?"."+G:"")},J=function(ee,q){return q&&q.length!==0?Object.keys(ee).length===0?ee:Object.keys(ee).filter(function(G){return q.indexOf(G)>-1}).reduce(function(G,Z){var ie;return Object(m.a)(Object(m.a)({},G),((ie={})[Z]=ee[Z],ie))},{}):ee},K=function ee(q){return q&&Object.keys(q).length!==0&&Object.keys(q).forEach(function(G){typeof q[G]=="function"&&(q[G]=void 0),q[G]===Object(q[G])&&(q[G]=ee(q[G]))}),q}},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return h});var d,m=f(0);(function(b){b.ABORTED="ABORTED",b.NETWORK="NETWORK",b.TIMEOUT="TIMEDOUT",b.SERVER="SERVER",b.REQUEST="REQUEST",b.OTHER="OTHER",b.REDIRECT="REDIRECT"})(d||(d={}));var h=function(b){function y(v,C,w,_){var g,$,T,M=this.constructor,S=b.call(this,v)||this;return S.config=C,S.response=w,S.code=_,g=S,$=M.prototype,(T=Object.setPrototypeOf)?T(g,$):g.__proto__=$,S}return Object(m.c)(y,b),y}(Error)},function(o,u,f){(function(d){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}u.log=function(){var h;return(typeof console>"u"?"undefined":m(console))==="object"&&console.log&&(h=console).log.apply(h,arguments)},u.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!!this.useColors){var b="color: "+this.color;h.splice(1,0,b,"color: inherit");var y=0,v=0;h[0].replace(/%[a-zA-Z%]/g,function(C){C!=="%%"&&(y++,C==="%c"&&(v=y))}),h.splice(v,0,b)}},u.save=function(h){try{h?u.storage.setItem("debug",h):u.storage.removeItem("debug")}catch{}},u.load=function(){var h;try{h=u.storage.getItem("debug")}catch{}return!h&&d!==void 0&&"env"in d&&(h=d.env.DEBUG),h},u.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},u.storage=function(){try{return localStorage}catch{}}(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.exports=f(41)(u),o.exports.formatters.j=function(h){try{return JSON.stringify(h)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}).call(this,f(26))},function(o,u,f){function d(T){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(T)}function m(T){switch(Object.prototype.toString.call(T)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return $(T,Error)}}function h(T){return Object.prototype.toString.call(T)==="[object String]"}function b(T){return T===null||d(T)!=="object"&&typeof T!="function"}function y(T){return Object.prototype.toString.call(T)==="[object Object]"}function v(T){return typeof Event<"u"&&$(T,Event)}function C(T){return typeof Element<"u"&&$(T,Element)}function w(T){return Object.prototype.toString.call(T)==="[object RegExp]"}function _(T){return Boolean(T&&T.then&&typeof T.then=="function")}function g(T){return y(T)&&"nativeEvent"in T&&"preventDefault"in T&&"stopPropagation"in T}function $(T,M){try{return T instanceof M}catch{return!1}}f.d(u,"b",function(){return m}),f.d(u,"h",function(){return h}),f.d(u,"f",function(){return b}),f.d(u,"e",function(){return y}),f.d(u,"c",function(){return v}),f.d(u,"a",function(){return C}),f.d(u,"g",function(){return w}),f.d(u,"j",function(){return _}),f.d(u,"i",function(){return g}),f.d(u,"d",function(){return $})},function(o,u,f){f.d(u,"a",function(){return b}),f.d(u,"f",function(){return y}),f.d(u,"d",function(){return v}),f.d(u,"b",function(){return C}),f.d(u,"h",function(){return w}),f.d(u,"e",function(){return _}),f.d(u,"i",function(){return g}),f.d(u,"c",function(){return d}),f.d(u,"g",function(){return m});var d=function(){return!1},m=function(){return!1};function h($){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})($)}var b=function($){return Object.prototype.toString.call($)==="[object ArrayBuffer]"},y=function($){return $!==null&&h($)==="object"},v=function($){return Object.prototype.toString.call($)==="[object File]"},C=function($){return Object.prototype.toString.call($)==="[object Blob]"},w=function($){return typeof URLSearchParams<"u"&&$ instanceof URLSearchParams},_=function($){return typeof FormData<"u"&&$ instanceof FormData},g=function($){return $.replace(/^\s*/,"").replace(/\s*$/,"")}},function(o,u,f){var d;f.d(u,"a",function(){return d}),function(m){m.GET="GET",m.DELETE="DELETE",m.HEAD="HEAD",m.PURGE="PURGE",m.OPTIONS="OPTIONS",m.POST="POST",m.PUT="PUT",m.PATH="PATH"}(d||(d={}))},function(o,u,f){var d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m="["+d+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",h=new RegExp("^"+m+"$");u.isExist=function(b){return b!==void 0},u.isEmptyObject=function(b){return Object.keys(b).length===0},u.merge=function(b,y,v){if(y)for(var C=Object.keys(y),w=C.length,_=0;_<w;_++)b[C[_]]=v==="strict"?[y[C[_]]]:y[C[_]]},u.getValue=function(b){return u.isExist(b)?b:""},u.buildOptions=function(b,y,v){var C={};if(!b)return y;for(var w=0;w<v.length;w++)b[v[w]]!==void 0?C[v[w]]=b[v[w]]:C[v[w]]=y[v[w]];return C},u.isName=function(b){var y=h.exec(b);return y!=null},u.getAllMatches=function(b,y){for(var v=[],C=y.exec(b);C;){for(var w=[],_=C.length,g=0;g<_;g++)w.push(C[g]);v.push(w),C=y.exec(b)}return v},u.nameRegexp=m},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function b(w,_,g){this.fn=w,this.context=_,this.once=g||!1}function y(w,_,g,$,T){if(typeof g!="function")throw new TypeError("The listener must be a function");var M=new b(g,$||w,T),S=m?m+_:_;return w._events[S]?w._events[S].fn?w._events[S]=[w._events[S],M]:w._events[S].push(M):(w._events[S]=M,w._eventsCount++),w}function v(w,_){--w._eventsCount==0?w._events=new h:delete w._events[_]}function C(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),C.prototype.eventNames=function(){var w,_,g=[];if(this._eventsCount===0)return g;for(_ in w=this._events)d.call(w,_)&&g.push(m?_.slice(1):_);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(w)):g},C.prototype.listeners=function(w){var _=m?m+w:w,g=this._events[_];if(!g)return[];if(g.fn)return[g.fn];for(var $=0,T=g.length,M=new Array(T);$<T;$++)M[$]=g[$].fn;return M},C.prototype.listenerCount=function(w){var _=m?m+w:w,g=this._events[_];return g?g.fn?1:g.length:0},C.prototype.emit=function(w,_,g,$,T,M){var S=m?m+w:w;if(!this._events[S])return!1;var I,B,x=this._events[S],F=arguments.length;if(x.fn){switch(x.once&&this.removeListener(w,x.fn,void 0,!0),F){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,_),!0;case 3:return x.fn.call(x.context,_,g),!0;case 4:return x.fn.call(x.context,_,g,$),!0;case 5:return x.fn.call(x.context,_,g,$,T),!0;case 6:return x.fn.call(x.context,_,g,$,T,M),!0}for(B=1,I=new Array(F-1);B<F;B++)I[B-1]=arguments[B];x.fn.apply(x.context,I)}else{var R,L=x.length;for(B=0;B<L;B++)switch(x[B].once&&this.removeListener(w,x[B].fn,void 0,!0),F){case 1:x[B].fn.call(x[B].context);break;case 2:x[B].fn.call(x[B].context,_);break;case 3:x[B].fn.call(x[B].context,_,g);break;case 4:x[B].fn.call(x[B].context,_,g,$);break;default:if(!I)for(R=1,I=new Array(F-1);R<F;R++)I[R-1]=arguments[R];x[B].fn.apply(x[B].context,I)}}return!0},C.prototype.on=function(w,_,g){return y(this,w,_,g,!1)},C.prototype.once=function(w,_,g){return y(this,w,_,g,!0)},C.prototype.removeListener=function(w,_,g,$){var T=m?m+w:w;if(!this._events[T])return this;if(!_)return v(this,T),this;var M=this._events[T];if(M.fn)M.fn!==_||$&&!M.once||g&&M.context!==g||v(this,T);else{for(var S=0,I=[],B=M.length;S<B;S++)(M[S].fn!==_||$&&!M[S].once||g&&M[S].context!==g)&&I.push(M[S]);I.length?this._events[T]=I.length===1?I[0]:I:v(this,T)}return this},C.prototype.removeAllListeners=function(w){var _;return w?(_=m?m+w:w,this._events[_]&&v(this,_)):(this._events=new h,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=m,C.EventEmitter=C,o.exports=C},function(o,u,f){(function(d){f.d(u,"b",function(){return b}),f.d(u,"c",function(){return y}),f.d(u,"a",function(){return v});var m=f(13),h=(f(10),{});function b(){return Object(m.b)()?d:typeof window<"u"?window:typeof self<"u"?self:h}function y(){var C=b(),w=C.crypto||C.msCrypto;if(w!==void 0&&w.getRandomValues){var _=new Uint16Array(8);w.getRandomValues(_),_[3]=4095&_[3]|16384,_[4]=16383&_[4]|32768;var g=function($){for(var T=$.toString(16);T.length<4;)T="0"+T;return T};return g(_[0])+g(_[1])+g(_[2])+g(_[3])+g(_[4])+g(_[5])+g(_[6])+g(_[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function($){var T=16*Math.random()|0;return($==="x"?T:3&T|8).toString(16)})}function v(C){var w=b();if(!("console"in w))return C();var _=w.console,g={};["debug","info","warn","error","log","assert"].forEach(function(T){T in w.console&&_[T].__sentry_original__&&(g[T]=_[T],_[T]=_[T].__sentry_original__)});var $=C();return Object.keys(g).forEach(function(T){_[T]=g[T]}),$}}).call(this,f(14))},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return m}),f(4);function d(h,b){return b===void 0&&(b=0),typeof h!="string"||b===0||h.length<=b?h:h.substr(0,b)+"..."}function m(h,b){var y=h,v=y.length;if(v<=150)return y;b>v&&(b=v);var C=Math.max(b-60,0);C<5&&(C=0);var w=Math.min(C+140,v);return w>v-5&&(w=v),w===v&&(C=Math.max(w-140,0)),y=y.slice(C,w),C>0&&(y="'{snip} "+y),w<v&&(y+=" {snip}"),y}},function(o,u,f){f.d(u,"b",function(){return h}),f.d(u,"d",function(){return $}),f.d(u,"c",function(){return M}),f.d(u,"a",function(){return I}),f.d(u,"e",function(){return x.a});var d=f(5),m=["expires","from","host","if-modified-since","if-unmodified-since","age","authorization","content-length","content-type","etag","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],h=function(F){var R,L,z,J={};return F&&F.split(`
`).forEach(function(K){z=K.indexOf(":"),R=Object(d.i)(K.substr(0,z)).toLowerCase(),L=Object(d.i)(K.substr(z+1)),R&&(J[R]&&m.indexOf(R)>=0||(J[R]=R==="set-cookie"?(J[R]?J[R]:[]).concat([L]):J[R]?J[R]+", "+L:L))}),J},b=function(F,R,L,z){z===void 0&&(z=!1);var J=y(R);return F||(F={}),(F=JSON.parse(JSON.stringify(F)))[R]===void 0&&F[J]===void 0?F[J]=L:z&&(delete F[R],F[J]=L),F},y=function(F){var R={"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag","last-event-id":"Last-Event-ID",tcn:"TCN",te:"TE","www-authenticate":"WWW-Authenticate","x-dnsprefetch-control":"X-DNSPrefetch-Control"}[F.toLowerCase()];return R||F.split("-").map(function(L){return L.charAt(0).toUpperCase()+L.substr(1).toLowerCase()}).join("-")},v=f(0),C=f(1),w=f(21),_=f(3),g=f.n(_)()("fs:request:data"),$=function(F){return F=T(F),Object(d.e)(F.data)||Object(d.c)(F.data)||Object(d.g)(F.data)||Object(d.d)(F.data)||Object(d.b)(F.data)||Object(d.a)(F.data)||(Object(d.h)(F.data)?(F.headers=b(F.headers,"content-type","application/x-www-form-urlencoded;charset=utf-8"),F.data=F.data.toString()):Object(d.f)(F.data)&&(F.headers=b(F.headers,"content-type","application/json",!0),F.data=JSON.stringify(F.data))),F},T=function(F){return F.filestackHeaders&&(F.headers=b(F.headers,"filestack-source",Object(C.getVersion)()),F.headers=b(F.headers,"filestack-trace-id",Math.floor(Date.now()/1e3)+"-"+Object(C.uniqueId)()),F.headers=b(F.headers,"filestack-trace-span","jssdk-"+Object(C.uniqueId)())),F},M=function(F){return Object(v.b)(void 0,void 0,void 0,function(){var R,L;return Object(v.d)(this,function(z){if(!F.headers||!F.headers["content-type"])return[2,Promise.resolve(F)];if(R=F.headers["content-type"],/application\/json/.test(R))try{F.data=JSON.parse(F.data)}catch{g("Cannot parse response %O - %O",F.data,F.headers)}else/text\/(plain|html)/.test(R)?Object(d.c)(F.data)&&(F.data=S(F.data)):/application\/xml/.test(R)&&(L=F.data,Object(d.c)(F.data)&&(L=S(F.data)),w.validate(L)===!0&&(F.data=w.parse(L,{ignoreAttributes:!0,trimValues:!0})));return[2,Promise.resolve(F)]})})};function S(F){for(var R=new Uint16Array(F),L=R.length,z="",J=Math.pow(2,16)-1,K=0;K<L;K+=J)K+J>L&&(J=L-K),z+=String.fromCharCode.apply(null,R.subarray(K,K+J));return z}var I=function(F,R){if(!R)return F;var L=B(R),z=F.indexOf("#");return z!==-1&&(F=F.slice(0,z)),F+(F.indexOf("?")===-1?"?":"&")+L},B=function(F){return Object.keys(F).filter(function(R){return R&&F[R]!==void 0}).map(function(R){return encodeURIComponent(R)+"="+encodeURIComponent(F[R])}).join("&")},x=f(16)},function(o,u,f){function d(I){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(I)}var m=f(19),h=u.ValidationError=function(I,B,x,F,R,L){F&&(this.property=F),I&&(this.message=I),x&&(x.id?this.schema=x.id:this.schema=x),B&&(this.instance=B),this.name=R,this.argument=L,this.stack=this.toString()};h.prototype.toString=function(){return this.property+" "+this.message};var b=u.ValidatorResult=function(I,B,x,F){this.instance=I,this.schema=B,this.propertyPath=F.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.disableFormat=x&&x.disableFormat===!0};function y(I,B){return B+": "+I.toString()+`
`}b.prototype.addError=function(I){var B;if(typeof I=="string")B=new h(I,this.instance,this.schema,this.propertyPath);else{if(!I)throw new Error("Missing error detail");if(!I.message)throw new Error("Missing error message");if(!I.name)throw new Error("Missing validator type");B=new h(I.message,this.instance,this.schema,this.propertyPath,I.name,I.argument)}if(this.throwError)throw B;return this.errors.push(B),B},b.prototype.importErrors=function(I){typeof I=="string"||I&&I.validatorType?this.addError(I):I&&I.errors&&Array.prototype.push.apply(this.errors,I.errors)},b.prototype.toString=function(I){return this.errors.map(y).join("")},Object.defineProperty(b.prototype,"valid",{get:function(){return!this.errors.length}});var v=u.SchemaError=function I(B,x){this.message=B,this.schema=x,Error.call(this,B),Error.captureStackTrace(this,I)};v.prototype=Object.create(Error.prototype,{constructor:{value:v,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var C=u.SchemaContext=function(I,B,x,F,R){this.schema=I,this.options=B,this.propertyPath=x,this.base=F,this.schemas=R};C.prototype.resolve=function(I){return m.resolve(this.base,I)},C.prototype.makeChild=function(I,B){var x=B===void 0?this.propertyPath:this.propertyPath+_(B),F=m.resolve(this.base,I.id||""),R=new C(I,this.options,x,F,Object.create(this.schemas));return I.id&&!R.schemas[F]&&(R.schemas[F]=I),R};var w=u.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(I){return typeof I=="string"&&parseFloat(I)===parseInt(I,10)&&!isNaN(I)},regex:function(I){var B=!0;try{new RegExp(I)}catch{B=!1}return B},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};w.regexp=w.regex,w.pattern=w.regex,w.ipv4=w["ip-address"],u.isFormat=function(I,B,x){if(typeof I=="string"&&w[B]!==void 0){if(w[B]instanceof RegExp)return w[B].test(I);if(typeof w[B]=="function")return w[B](I)}else if(x&&x.customFormats&&typeof x.customFormats[B]=="function")return x.customFormats[B](I);return!0};var _=u.makeSuffix=function(I){return(I=I.toString()).match(/[.\s\[\]]/)||I.match(/^[\d]/)?I.match(/^\d+$/)?"["+I+"]":"["+JSON.stringify(I)+"]":"."+I};function g(I,B,x,F){d(x)==="object"?B[F]=M(I[F],x):I.indexOf(x)===-1&&B.push(x)}function $(I,B,x){B[x]=I[x]}function T(I,B,x,F){d(B[F])==="object"&&B[F]&&I[F]?x[F]=M(I[F],B[F]):x[F]=B[F]}function M(I,B){var x=Array.isArray(B),F=x&&[]||{};return x?(I=I||[],F=F.concat(I),B.forEach(g.bind(null,I,F))):(I&&d(I)==="object"&&Object.keys(I).forEach($.bind(null,I,F)),Object.keys(B).forEach(T.bind(null,I,B,F))),F}function S(I){return"/"+encodeURIComponent(I).replace(/~/g,"%7E")}u.deepCompareStrict=function I(B,x){if(d(B)!==d(x))return!1;if(B instanceof Array)return x instanceof Array&&B.length===x.length&&B.every(function(L,z){return I(B[z],x[z])});if(d(B)==="object"){if(!B||!x)return B===x;var F=Object.keys(B),R=Object.keys(x);return F.length===R.length&&F.every(function(L){return I(B[L],x[L])})}return B===x},o.exports.deepMerge=M,u.objectGetPath=function(I,B){for(var x,F=B.split("/").slice(1);typeof(x=F.shift())=="string";){var R=decodeURIComponent(x.replace(/~0/,"~").replace(/~1/g,"/"));if(!(R in I))return;I=I[R]}return I},u.encodePath=function(I){return I.map(S).join("")},u.getDecimalPlaces=function(I){var B=0;if(isNaN(I))return B;typeof I!="number"&&(I=Number(I));var x=I.toString().split("e");if(x.length===2){if(x[1][0]!=="-")return B;B=Number(x[1].slice(1))}var F=x[0].split(".");return F.length===2&&(B+=F[1].length),B}},function(o,u,f){(function(d){function m(){return Object.prototype.toString.call(d!==void 0?d:0)==="[object process]"}function h(b,y){return b.require(y)}f.d(u,"b",function(){return m}),f.d(u,"a",function(){return h})}).call(this,f(26))},function(o,u){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{(typeof window>"u"?"undefined":f(window))==="object"&&(d=window)}o.exports=d},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(45),b=1,y=2,v=3,C=4,w="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,d.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var _={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(x,F){return x},attrValueProcessor:function(x,F){return x},stopNodes:[]};u.defaultOptions=_;var g=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];u.props=g;function $(x,F,R){var L=x[7]||R,z=x[12];return z&&(F.trimValues&&(z=z.trim()),z=S(z=F.tagValueProcessor(z,L),F.parseNodeValue,F.parseTrueNumberOnly)),z}function T(x){return x[4]==="]]>"?C:x[10]==="/"?y:x[8]!==void 0&&x[8].substr(x[8].length-1)==="/"?v:b}function M(x,F){if(F.ignoreNameSpace){var R=x.split(":"),L=x.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(x=L+R[1])}return x}function S(x,F,R){var L;return F&&typeof x=="string"?(x.trim()===""||isNaN(x)?L=x==="true"||x!=="false"&&x:(x.indexOf("0x")!==-1?L=Number.parseInt(x,16):x.indexOf(".")!==-1?(L=Number.parseFloat(x),x=x.replace(/0+$/,"")):L=Number.parseInt(x,10),R&&(L=String(L)===x?L:x)),L):d.isExist(x)?x:""}var I=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function B(x,F){if(!F.ignoreAttributes&&typeof x=="string"){x=x.replace(/\r?\n/g," ");for(var R=d.getAllMatches(x,I),L=R.length,z={},J=0;J<L;J++){var K=M(R[J][1],F);K.length&&(R[J][4]!==void 0?(F.trimValues&&(R[J][4]=R[J][4].trim()),R[J][4]=F.attrValueProcessor(R[J][4],K),z[F.attributeNamePrefix+K]=S(R[J][4],F.parseAttributeValue,F.parseTrueNumberOnly)):F.allowBooleanAttributes&&(z[F.attributeNamePrefix+K]=!0))}if(!Object.keys(z).length)return;if(F.attrNodeName){var ee={};return ee[F.attrNodeName]=z,ee}return z}}u.getTraversalObj=function(x,F){F=m(F,_,g),x=x.replace(/<!--[\s\S]*?-->/g,"");for(var R=new h("!xml"),L=R,z=new RegExp(w,"g"),J=z.exec(x),K=z.exec(x);J;){var ee=T(J);if(ee===y)L.parent&&J[12]&&(L.parent.val=d.getValue(L.parent.val)+""+$(J,F,L.parent.tagname)),F.stopNodes.length&&F.stopNodes.includes(L.tagname)&&(L.child=[],L.attrsMap==null&&(L.attrsMap={}),L.val=x.substr(L.startIndex+1,J.index-L.startIndex-1)),L=L.parent;else if(ee===C)if(F.cdataTagName){var q=new h(F.cdataTagName,L,J[3]);q.attrsMap=B(J[8],F),L.addChild(q),L.val=d.getValue(L.val)+F.cdataPositionChar,J[12]&&(L.val+=$(J,F))}else L.val=(L.val||"")+(J[3]||"")+$(J,F);else if(ee===v){L&&J[12]&&(L.val=d.getValue(L.val)+""+$(J,F));var G=new h(F.ignoreNameSpace?J[7]:J[5],L,"");J[8]&&J[8].length>0&&(J[8]=J[8].substr(0,J[8].length-1)),G.attrsMap=B(J[8],F),L.addChild(G)}else{var Z=new h(F.ignoreNameSpace?J[7]:J[5],L,$(J,F));F.stopNodes.length&&F.stopNodes.includes(Z.tagname)&&(Z.startIndex=J.index+J[1].length),Z.attrsMap=B(J[8],F),L.addChild(Z),L=Z}J=K,K=z.exec(x)}return R}},function(o,u,f){f.d(u,"a",function(){return b});var d=f(2),m=f(3),h=f.n(m)()("fs:request:shouldRetry"),b=function(y){switch(h("Checking error for retry. Code: %n, type: %s",y.response?y.response.status:"Malformed response",y.code),y.code){case d.b.NETWORK:case d.b.SERVER:case d.b.TIMEOUT:return!0;case d.b.ABORTED:return!1}return!!y.response&&500<=y.response.status&&y.response.status<=599}},function(module,exports,__webpack_require__){function _typeof(o){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function _arrayWithoutHoles(o){if(Array.isArray(o)){for(var u=0,f=new Array(o.length);u<o.length;u++)f[u]=o[u];return f}}var toBytes=function(o){return _toConsumableArray(o).map(function(u){return u.charCodeAt(0)})},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(o){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=o[u],d=1,m=0;++m<8;)d*=256,f+=o[u+m]*d;return f}var fileType=function(o){if(!(o instanceof Uint8Array||o instanceof ArrayBuffer||Buffer.isBuffer(o)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(o),"`"));var u=o instanceof Uint8Array?o:new Uint8Array(o);if(!(u&&u.length>1))return null;var f=function(S,I){I=Object.assign({offset:0},I);for(var B=0;B<S.length;B++)if(I.mask){if(S[B]!==(I.mask[B]&u[B+I.offset]))return!1}else if(S[B]!==u[B+I.offset])return!1;return!0},d=function(S,I){return f(toBytes(S),I)};if(f([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(f([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(f([71,73,70]))return{ext:"gif",mime:"image/gif"};if(f([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(f([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((f([73,73,42,0])||f([77,77,0,42]))&&f([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(f([73,73,42,0])||f([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(f([66,77]))return{ext:"bmp",mime:"image/bmp"};if(f([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(f([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(f([80,75,3,4])){if(f([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(f(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(d("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(d("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(d("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var m=function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return S.findIndex(function(B,x,F){return x>=I&&F[x]===80&&F[x+1]===75&&F[x+2]===3&&F[x+3]===4})},h=0,b=!1,y=null;do{var v=h+30;if(b||(b=f(oxmlContentTypes,{offset:v})||f(oxmlRels,{offset:v})),y||(d("word/",{offset:v})?y={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:d("ppt/",{offset:v})?y={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:d("xl/",{offset:v})&&(y={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),b&&y)return y;h=m(u,v)}while(h>=0);if(y)return y}if(f([80,75])&&(u[2]===3||u[2]===5||u[2]===7)&&(u[3]===4||u[3]===6||u[3]===8))return{ext:"zip",mime:"application/zip"};if(f([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(f([82,97,114,33,26,7])&&(u[6]===0||u[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(f([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(f([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(f([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(f([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(f([51,103,112,53])||f([0,0,0])&&f([102,116,121,112],{offset:4})&&(f([109,112,52,49],{offset:8})||f([109,112,52,50],{offset:8})||f([105,115,111,109],{offset:8})||f([105,115,111,50],{offset:8})||f([109,109,112,52],{offset:8})||f([77,52,86],{offset:8})||f([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(f([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(f([26,69,223,163])){var C=u.subarray(4,4100),w=C.findIndex(function(S,I,B){return B[I]===66&&B[I+1]===130});if(w!==-1){var _=w+3,g=function(S){return _toConsumableArray(S).every(function(I,B){return C[_+B]===I.charCodeAt(0)})};if(g("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(g("webm"))return{ext:"webm",mime:"video/webm"}}}if(f([0,0,0,20,102,116,121,112,113,116,32,32])||f([102,114,101,101],{offset:4})||f([102,116,121,112,113,116,32,32],{offset:4})||f([109,100,97,116],{offset:4})||f([109,111,111,118],{offset:4})||f([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(f([82,73,70,70])){if(f([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(f([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(f([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(f([48,38,178,117,142,102,207,17,166,217])){var $=30;do{var T=readUInt64LE(u,$+16);if(f([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:$})){if(f([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:$+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(f([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:$+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}$+=T}while($+24<=u.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(f([0,0,1,186])||f([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(f([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var M=0;M<2&&M<u.length-16;M++){if(f([73,68,51],{offset:M})||f([255,226],{offset:M,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(f([255,228],{offset:M,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,248],{offset:M,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,240],{offset:M,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(f([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(f([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(f([79,103,103,83]))return f([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:f([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:f([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:f([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:f([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(f([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(f([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(f([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(f([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(f([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(f([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((u[0]===67||u[0]===70)&&f([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(f([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(f([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(f([119,79,70,70])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(f([119,79,70,50])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(f([76,80],{offset:34})&&(f([0,0,1],{offset:8})||f([1,0,2],{offset:8})||f([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(f([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(f([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(f([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(f([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(f([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(f([37,33]))return{ext:"ps",mime:"application/postscript"};if(f([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(f([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(f([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(f([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(f([77,83,67,70])||f([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(f([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(f([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(f([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(f([31,160])||f([31,157]))return{ext:"Z",mime:"application/x-compress"};if(f([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(f([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(f([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(f([71],{offset:4})&&(f([71],{offset:192})||f([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(f([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(f([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(f([0,0,0,12,106,80,32,32,13,10,135,10])){if(f([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(f([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(f([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(f([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(f([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(d("<?xml "))return{ext:"xml",mime:"application/xml"};if(f([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(f([102,116,121,112],{offset:4})){if(f([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(f([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(f([104,101,105,99],{offset:8})||f([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(f([104,101,118,99],{offset:8})||f([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return f([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:f([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:f([77,80,43])||f([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:f([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:f([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:f([212,195,178,161])||f([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",function(){var o=new stream.PassThrough,u=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{o.fileType=fileType(u)}catch(f){reject(f)}readableStream.unshift(u),stream.pipeline?resolve(stream.pipeline(readableStream,o,function(){})):resolve(readableStream.pipe(o))})})}},function(o,u,f){var d=o.exports.Validator=f(34);o.exports.ValidatorResult=f(12).ValidatorResult,o.exports.ValidationError=f(12).ValidationError,o.exports.SchemaError=f(12).SchemaError,o.exports.SchemaScanResult=f(20).SchemaScanResult,o.exports.scan=f(20).scan,o.exports.validate=function(m,h,b){return new d().validate(m,h,b)}},function(o,u,f){function d(R){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}var m=f(35),h=f(36);function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}u.parse=F,u.resolve=function(R,L){return F(R,!1,!0).resolve(L)},u.resolveObject=function(R,L){return R?F(R,!1,!0).resolveObject(L):L},u.format=function(R){return h.isString(R)&&(R=F(R)),R instanceof b?R.format():b.prototype.format.call(R)},u.Url=b;var y=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,C=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,w=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),_=["'"].concat(w),g=["%","/","?",";","#"].concat(_),$=["/","?","#"],T=/^[+a-z0-9A-Z_-]{0,63}$/,M=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},I={javascript:!0,"javascript:":!0},B={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=f(37);function F(R,L,z){if(R&&h.isObject(R)&&R instanceof b)return R;var J=new b;return J.parse(R,L,z),J}b.prototype.parse=function(R,L,z){if(!h.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+d(R));var J=R.indexOf("?"),K=J!==-1&&J<R.indexOf("#")?"?":"#",ee=R.split(K);ee[0]=ee[0].replace(/\\/g,"/");var q=R=ee.join(K);if(q=q.trim(),!z&&R.split("#").length===1){var G=C.exec(q);if(G)return this.path=q,this.href=q,this.pathname=G[1],G[2]?(this.search=G[2],this.query=L?x.parse(this.search.substr(1)):this.search.substr(1)):L&&(this.search="",this.query={}),this}var Z=y.exec(q);if(Z){var ie=(Z=Z[0]).toLowerCase();this.protocol=ie,q=q.substr(Z.length)}if(z||Z||q.match(/^\/\/[^@\/]+@[^@\/]+/)){var Q=q.substr(0,2)==="//";!Q||Z&&I[Z]||(q=q.substr(2),this.slashes=!0)}if(!I[Z]&&(Q||Z&&!B[Z])){for(var H,ne,re=-1,X=0;X<$.length;X++)(ue=q.indexOf($[X]))!==-1&&(re===-1||ue<re)&&(re=ue);for((ne=re===-1?q.lastIndexOf("@"):q.lastIndexOf("@",re))!==-1&&(H=q.slice(0,ne),q=q.slice(ne+1),this.auth=decodeURIComponent(H)),re=-1,X=0;X<g.length;X++){var ue;(ue=q.indexOf(g[X]))!==-1&&(re===-1||ue<re)&&(re=ue)}re===-1&&(re=q.length),this.host=q.slice(0,re),q=q.slice(re),this.parseHost(),this.hostname=this.hostname||"";var le=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!le)for(var ye=this.hostname.split(/\./),me=(X=0,ye.length);X<me;X++){var ve=ye[X];if(ve&&!ve.match(T)){for(var Ce="",be=0,Ae=ve.length;be<Ae;be++)ve.charCodeAt(be)>127?Ce+="x":Ce+=ve[be];if(!Ce.match(T)){var fe=ye.slice(0,X),_e=ye.slice(X+1),Ne=ve.match(M);Ne&&(fe.push(Ne[1]),_e.unshift(Ne[2])),_e.length&&(q="/"+_e.join(".")+q),this.hostname=fe.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),le||(this.hostname=m.toASCII(this.hostname));var Je=this.port?":"+this.port:"",Ke=this.hostname||"";this.host=Ke+Je,this.href+=this.host,le&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),q[0]!=="/"&&(q="/"+q))}if(!S[ie])for(X=0,me=_.length;X<me;X++){var dt=_[X];if(q.indexOf(dt)!==-1){var pt=encodeURIComponent(dt);pt===dt&&(pt=escape(dt)),q=q.split(dt).join(pt)}}var et=q.indexOf("#");et!==-1&&(this.hash=q.substr(et),q=q.slice(0,et));var yt=q.indexOf("?");if(yt!==-1?(this.search=q.substr(yt),this.query=q.substr(yt+1),L&&(this.query=x.parse(this.query)),q=q.slice(0,yt)):L&&(this.search="",this.query={}),q&&(this.pathname=q),B[ie]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Je=this.pathname||"";var Te=this.search||"";this.path=Je+Te}return this.href=this.format(),this},b.prototype.format=function(){var R=this.auth||"";R&&(R=(R=encodeURIComponent(R)).replace(/%3A/i,":"),R+="@");var L=this.protocol||"",z=this.pathname||"",J=this.hash||"",K=!1,ee="";this.host?K=R+this.host:this.hostname&&(K=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(K+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(ee=x.stringify(this.query));var q=this.search||ee&&"?"+ee||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||B[L])&&K!==!1?(K="//"+(K||""),z&&z.charAt(0)!=="/"&&(z="/"+z)):K||(K=""),J&&J.charAt(0)!=="#"&&(J="#"+J),q&&q.charAt(0)!=="?"&&(q="?"+q),L+K+(z=z.replace(/[?#]/g,function(G){return encodeURIComponent(G)}))+(q=q.replace("#","%23"))+J},b.prototype.resolve=function(R){return this.resolveObject(F(R,!1,!0)).format()},b.prototype.resolveObject=function(R){if(h.isString(R)){var L=new b;L.parse(R,!1,!0),R=L}for(var z=new b,J=Object.keys(this),K=0;K<J.length;K++){var ee=J[K];z[ee]=this[ee]}if(z.hash=R.hash,R.href==="")return z.href=z.format(),z;if(R.slashes&&!R.protocol){for(var q=Object.keys(R),G=0;G<q.length;G++){var Z=q[G];Z!=="protocol"&&(z[Z]=R[Z])}return B[z.protocol]&&z.hostname&&!z.pathname&&(z.path=z.pathname="/"),z.href=z.format(),z}if(R.protocol&&R.protocol!==z.protocol){if(!B[R.protocol]){for(var ie=Object.keys(R),Q=0;Q<ie.length;Q++){var H=ie[Q];z[H]=R[H]}return z.href=z.format(),z}if(z.protocol=R.protocol,R.host||I[R.protocol])z.pathname=R.pathname;else{for(var ne=(R.pathname||"").split("/");ne.length&&!(R.host=ne.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),ne[0]!==""&&ne.unshift(""),ne.length<2&&ne.unshift(""),z.pathname=ne.join("/")}if(z.search=R.search,z.query=R.query,z.host=R.host||"",z.auth=R.auth,z.hostname=R.hostname||R.host,z.port=R.port,z.pathname||z.search){var re=z.pathname||"",X=z.search||"";z.path=re+X}return z.slashes=z.slashes||R.slashes,z.href=z.format(),z}var ue=z.pathname&&z.pathname.charAt(0)==="/",le=R.host||R.pathname&&R.pathname.charAt(0)==="/",ye=le||ue||z.host&&R.pathname,me=ye,ve=z.pathname&&z.pathname.split("/")||[],Ce=(ne=R.pathname&&R.pathname.split("/")||[],z.protocol&&!B[z.protocol]);if(Ce&&(z.hostname="",z.port=null,z.host&&(ve[0]===""?ve[0]=z.host:ve.unshift(z.host)),z.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(ne[0]===""?ne[0]=R.host:ne.unshift(R.host)),R.host=null),ye=ye&&(ne[0]===""||ve[0]==="")),le)z.host=R.host||R.host===""?R.host:z.host,z.hostname=R.hostname||R.hostname===""?R.hostname:z.hostname,z.search=R.search,z.query=R.query,ve=ne;else if(ne.length)ve||(ve=[]),ve.pop(),ve=ve.concat(ne),z.search=R.search,z.query=R.query;else if(!h.isNullOrUndefined(R.search))return Ce&&(z.hostname=z.host=ve.shift(),(Ne=!!(z.host&&z.host.indexOf("@")>0)&&z.host.split("@"))&&(z.auth=Ne.shift(),z.host=z.hostname=Ne.shift())),z.search=R.search,z.query=R.query,h.isNull(z.pathname)&&h.isNull(z.search)||(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.href=z.format(),z;if(!ve.length)return z.pathname=null,z.search?z.path="/"+z.search:z.path=null,z.href=z.format(),z;for(var be=ve.slice(-1)[0],Ae=(z.host||R.host||ve.length>1)&&(be==="."||be==="..")||be==="",fe=0,_e=ve.length;_e>=0;_e--)(be=ve[_e])==="."?ve.splice(_e,1):be===".."?(ve.splice(_e,1),fe++):fe&&(ve.splice(_e,1),fe--);if(!ye&&!me)for(;fe--;fe)ve.unshift("..");!ye||ve[0]===""||ve[0]&&ve[0].charAt(0)==="/"||ve.unshift(""),Ae&&ve.join("/").substr(-1)!=="/"&&ve.push("");var Ne,Je=ve[0]===""||ve[0]&&ve[0].charAt(0)==="/";return Ce&&(z.hostname=z.host=Je?"":ve.length?ve.shift():"",(Ne=!!(z.host&&z.host.indexOf("@")>0)&&z.host.split("@"))&&(z.auth=Ne.shift(),z.host=z.hostname=Ne.shift())),(ye=ye||z.host&&ve.length)&&!Je&&ve.unshift(""),ve.length?z.pathname=ve.join("/"):(z.pathname=null,z.path=null),h.isNull(z.pathname)&&h.isNull(z.search)||(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.auth=R.auth||z.auth,z.slashes=z.slashes||R.slashes,z.href=z.format(),z},b.prototype.parseHost=function(){var R=this.host,L=v.exec(R);L&&((L=L[0])!==":"&&(this.port=L.substr(1)),R=R.substr(0,R.length-L.length)),R&&(this.hostname=R)}},function(o,u,f){function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(y)}var m=f(19),h=f(12);function b(y,v){this.id=y,this.ref=v}o.exports.SchemaScanResult=b,o.exports.scan=function(y,v){function C(T,M){if(M&&d(M)=="object")if(M.$ref){var S=m.resolve(T,M.$ref);$[S]=$[S]?$[S]+1:0}else{var I=M.id?m.resolve(T,M.id):T;if(I){if(I.indexOf("#")<0&&(I+="#"),g[I]){if(!h.deepCompareStrict(g[I],M))throw new Error("Schema <"+M+"> already exists with different definition");return g[I]}g[I]=M,I[I.length-1]=="#"&&(g[I.substring(0,I.length-1)]=M)}w(I+"/items",M.items instanceof Array?M.items:[M.items]),w(I+"/extends",M.extends instanceof Array?M.extends:[M.extends]),C(I+"/additionalItems",M.additionalItems),_(I+"/properties",M.properties),C(I+"/additionalProperties",M.additionalProperties),_(I+"/definitions",M.definitions),_(I+"/patternProperties",M.patternProperties),_(I+"/dependencies",M.dependencies),w(I+"/disallow",M.disallow),w(I+"/allOf",M.allOf),w(I+"/anyOf",M.anyOf),w(I+"/oneOf",M.oneOf),C(I+"/not",M.not)}}function w(T,M){if(M instanceof Array)for(var S=0;S<M.length;S++)C(T+"/"+S,M[S])}function _(T,M){if(M&&d(M)=="object")for(var S in M)C(T+"/"+S,M[S])}var g={},$={};return C(y,v),new b(g,$)}},function(o,u,f){var d=f(44),m=f(15),h=f(15),b=f(7).buildOptions,y=f(46);u.parse=function(v,C,w){if(w){w===!0&&(w={});var _=y.validate(v,w);if(_!==!0)throw Error(_.err.msg)}return C=b(C,h.defaultOptions,h.props),d.convertToJson(m.getTraversalObj(v,C),C)},u.convertTonimn=f(47).convert2nimn,u.getTraversalObj=m.getTraversalObj,u.convertToJson=d.convertToJson,u.convertToJsonString=f(48).convertToJsonString,u.validate=y.validate,u.j2xParser=f(49),u.parseToNimn=function(v,C,w){return u.convertTonimn(u.getTraversalObj(v,w),C,w)}},function(o,u,f){f.d(u,"a",function(){return m});var d=f(4);function m(b){try{for(var y=b,v=[],C=0,w=0,_=3,g=void 0;y&&C++<5&&!((g=h(y))==="html"||C>1&&w+v.length*_+g.length>=80);)v.push(g),w+=g.length,y=y.parentNode;return v.reverse().join(" > ")}catch{return"<unknown>"}}function h(b){var y,v,C,w,_,g=b,$=[];if(!g||!g.tagName)return"";if($.push(g.tagName.toLowerCase()),g.id&&$.push("#"+g.id),(y=g.className)&&Object(d.h)(y))for(v=y.split(/\s+/),_=0;_<v.length;_++)$.push("."+v[_]);var T=["type","name","title","alt"];for(_=0;_<T.length;_++)C=T[_],(w=g.getAttribute(C))&&$.push("["+C+'="'+w+'"]');return $.join("")}},,function(o,u){o.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(o,u){(function(f){o.exports=f}).call(this,{})},function(o,u){var f,d,m=o.exports={};function h(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function y(S){if(f===setTimeout)return setTimeout(S,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(S,0);try{return f(S,0)}catch{try{return f.call(null,S,0)}catch{return f.call(this,S,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:h}catch{f=h}try{d=typeof clearTimeout=="function"?clearTimeout:b}catch{d=b}})();var v,C=[],w=!1,_=-1;function g(){w&&v&&(w=!1,v.length?C=v.concat(C):_=-1,C.length&&$())}function $(){if(!w){var S=y(g);w=!0;for(var I=C.length;I;){for(v=C,C=[];++_<I;)v&&v[_].run();_=-1,I=C.length}v=null,w=!1,function(B){if(d===clearTimeout)return clearTimeout(B);if((d===b||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(B);try{d(B)}catch{try{return d.call(null,B)}catch{return d.call(this,B)}}}(S)}}function T(S,I){this.fun=S,this.array=I}function M(){}m.nextTick=function(S){var I=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)I[B-1]=arguments[B];C.push(new T(S,I)),C.length!==1||w||y($)},T.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=M,m.addListener=M,m.once=M,m.off=M,m.removeListener=M,m.removeAllListeners=M,m.emit=M,m.prependListener=M,m.prependOnceListener=M,m.listeners=function(S){return[]},m.binding=function(S){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(S){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(o,u,f){o.exports=function(d){if(!d)return!1;for(var m=0,h=d.length;m<h;)if(d[m]<=127)m++;else{if(d[m]>=194&&d[m]<=223){if(d[m+1]>>6==2){m+=2;continue}return!1}if((d[m]===224&&d[m+1]>=160&&d[m+1]<=191||d[m]===237&&d[m+1]>=128&&d[m+1]<=159)&&d[m+2]>>6==2)m+=3;else if((d[m]>=225&&d[m]<=236||d[m]>=238&&d[m]<=239)&&d[m+1]>>6==2&&d[m+2]>>6==2)m+=3;else{if(!(d[m]===240&&d[m+1]>=144&&d[m+1]<=191||d[m]>=241&&d[m]<=243&&d[m+1]>>6==2||d[m]===244&&d[m+1]>=128&&d[m+1]<=143)||d[m+2]>>6!=2||d[m+3]>>6!=2)return!1;m+=4}}return!0}},function(o,u,f){var d,m,h;function b(y){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(y)}h=function(y){var v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function C(B,x){var F=B[0],R=B[1],L=B[2],z=B[3];R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&L|~R&z)+x[0]-680876936|0)<<7|F>>>25)+R|0)&R|~F&L)+x[1]-389564586|0)<<12|z>>>20)+F|0)&F|~z&R)+x[2]+606105819|0)<<17|L>>>15)+z|0)&z|~L&F)+x[3]-1044525330|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&L|~R&z)+x[4]-176418897|0)<<7|F>>>25)+R|0)&R|~F&L)+x[5]+1200080426|0)<<12|z>>>20)+F|0)&F|~z&R)+x[6]-1473231341|0)<<17|L>>>15)+z|0)&z|~L&F)+x[7]-45705983|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&L|~R&z)+x[8]+1770035416|0)<<7|F>>>25)+R|0)&R|~F&L)+x[9]-1958414417|0)<<12|z>>>20)+F|0)&F|~z&R)+x[10]-42063|0)<<17|L>>>15)+z|0)&z|~L&F)+x[11]-1990404162|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&L|~R&z)+x[12]+1804603682|0)<<7|F>>>25)+R|0)&R|~F&L)+x[13]-40341101|0)<<12|z>>>20)+F|0)&F|~z&R)+x[14]-1502002290|0)<<17|L>>>15)+z|0)&z|~L&F)+x[15]+1236535329|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&z|L&~z)+x[1]-165796510|0)<<5|F>>>27)+R|0)&L|R&~L)+x[6]-1069501632|0)<<9|z>>>23)+F|0)&R|F&~R)+x[11]+643717713|0)<<14|L>>>18)+z|0)&F|z&~F)+x[0]-373897302|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&z|L&~z)+x[5]-701558691|0)<<5|F>>>27)+R|0)&L|R&~L)+x[10]+38016083|0)<<9|z>>>23)+F|0)&R|F&~R)+x[15]-660478335|0)<<14|L>>>18)+z|0)&F|z&~F)+x[4]-405537848|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&z|L&~z)+x[9]+568446438|0)<<5|F>>>27)+R|0)&L|R&~L)+x[14]-1019803690|0)<<9|z>>>23)+F|0)&R|F&~R)+x[3]-187363961|0)<<14|L>>>18)+z|0)&F|z&~F)+x[8]+1163531501|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R&z|L&~z)+x[13]-1444681467|0)<<5|F>>>27)+R|0)&L|R&~L)+x[2]-51403784|0)<<9|z>>>23)+F|0)&R|F&~R)+x[7]+1735328473|0)<<14|L>>>18)+z|0)&F|z&~F)+x[12]-1926607734|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R^L^z)+x[5]-378558|0)<<4|F>>>28)+R|0)^R^L)+x[8]-2022574463|0)<<11|z>>>21)+F|0)^F^R)+x[11]+1839030562|0)<<16|L>>>16)+z|0)^z^F)+x[14]-35309556|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R^L^z)+x[1]-1530992060|0)<<4|F>>>28)+R|0)^R^L)+x[4]+1272893353|0)<<11|z>>>21)+F|0)^F^R)+x[7]-155497632|0)<<16|L>>>16)+z|0)^z^F)+x[10]-1094730640|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R^L^z)+x[13]+681279174|0)<<4|F>>>28)+R|0)^R^L)+x[0]-358537222|0)<<11|z>>>21)+F|0)^F^R)+x[3]-722521979|0)<<16|L>>>16)+z|0)^z^F)+x[6]+76029189|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((F=((F+=(R^L^z)+x[9]-640364487|0)<<4|F>>>28)+R|0)^R^L)+x[12]-421815835|0)<<11|z>>>21)+F|0)^F^R)+x[15]+530742520|0)<<16|L>>>16)+z|0)^z^F)+x[2]-995338651|0)<<23|R>>>9)+L|0,R=((R+=((z=((z+=(R^((F=((F+=(L^(R|~z))+x[0]-198630844|0)<<6|F>>>26)+R|0)|~L))+x[7]+1126891415|0)<<10|z>>>22)+F|0)^((L=((L+=(F^(z|~R))+x[14]-1416354905|0)<<15|L>>>17)+z|0)|~F))+x[5]-57434055|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((F=((F+=(L^(R|~z))+x[12]+1700485571|0)<<6|F>>>26)+R|0)|~L))+x[3]-1894986606|0)<<10|z>>>22)+F|0)^((L=((L+=(F^(z|~R))+x[10]-1051523|0)<<15|L>>>17)+z|0)|~F))+x[1]-2054922799|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((F=((F+=(L^(R|~z))+x[8]+1873313359|0)<<6|F>>>26)+R|0)|~L))+x[15]-30611744|0)<<10|z>>>22)+F|0)^((L=((L+=(F^(z|~R))+x[6]-1560198380|0)<<15|L>>>17)+z|0)|~F))+x[13]+1309151649|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((F=((F+=(L^(R|~z))+x[4]-145523070|0)<<6|F>>>26)+R|0)|~L))+x[11]-1120210379|0)<<10|z>>>22)+F|0)^((L=((L+=(F^(z|~R))+x[2]+718787259|0)<<15|L>>>17)+z|0)|~F))+x[9]-343485551|0)<<21|R>>>11)+L|0,B[0]=F+B[0]|0,B[1]=R+B[1]|0,B[2]=L+B[2]|0,B[3]=z+B[3]|0}function w(B){var x,F=[];for(x=0;x<64;x+=4)F[x>>2]=B.charCodeAt(x)+(B.charCodeAt(x+1)<<8)+(B.charCodeAt(x+2)<<16)+(B.charCodeAt(x+3)<<24);return F}function _(B){var x,F=[];for(x=0;x<64;x+=4)F[x>>2]=B[x]+(B[x+1]<<8)+(B[x+2]<<16)+(B[x+3]<<24);return F}function g(B){var x,F,R,L,z,J,K=B.length,ee=[1732584193,-271733879,-1732584194,271733878];for(x=64;x<=K;x+=64)C(ee,w(B.substring(x-64,x)));for(F=(B=B.substring(x-64)).length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<F;x+=1)R[x>>2]|=B.charCodeAt(x)<<(x%4<<3);if(R[x>>2]|=128<<(x%4<<3),x>55)for(C(ee,R),x=0;x<16;x+=1)R[x]=0;return L=(L=8*K).toString(16).match(/(.*?)(.{0,8})$/),z=parseInt(L[2],16),J=parseInt(L[1],16)||0,R[14]=z,R[15]=J,C(ee,R),ee}function $(B){var x,F="";for(x=0;x<4;x+=1)F+=v[B>>8*x+4&15]+v[B>>8*x&15];return F}function T(B){var x;for(x=0;x<B.length;x+=1)B[x]=$(B[x]);return B.join("")}function M(B){return/[\u0080-\uFFFF]/.test(B)&&(B=unescape(encodeURIComponent(B))),B}function S(B){var x,F=[],R=B.length;for(x=0;x<R-1;x+=2)F.push(parseInt(B.substr(x,2),16));return String.fromCharCode.apply(String,F)}function I(){this.reset()}return T(g("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function B(x,F){return(x=0|x||0)<0?Math.max(x+F,0):Math.min(x,F)}ArrayBuffer.prototype.slice=function(x,F){var R,L,z,J,K=this.byteLength,ee=B(x,K),q=K;return F!==y&&(q=B(F,K)),ee>q?new ArrayBuffer(0):(R=q-ee,L=new ArrayBuffer(R),z=new Uint8Array(L),J=new Uint8Array(this,ee,R),z.set(J),L)}}(),I.prototype.append=function(B){return this.appendBinary(M(B)),this},I.prototype.appendBinary=function(B){this._buff+=B,this._length+=B.length;var x,F=this._buff.length;for(x=64;x<=F;x+=64)C(this._hash,w(this._buff.substring(x-64,x)));return this._buff=this._buff.substring(x-64),this},I.prototype.end=function(B){var x,F,R=this._buff,L=R.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(x=0;x<L;x+=1)z[x>>2]|=R.charCodeAt(x)<<(x%4<<3);return this._finish(z,L),F=T(this._hash),B&&(F=S(F)),this.reset(),F},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},I.prototype.setState=function(B){return this._buff=B.buff,this._length=B.length,this._hash=B.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(B,x){var F,R,L,z=x;if(B[z>>2]|=128<<(z%4<<3),z>55)for(C(this._hash,B),z=0;z<16;z+=1)B[z]=0;F=(F=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(F[2],16),L=parseInt(F[1],16)||0,B[14]=R,B[15]=L,C(this._hash,B)},I.hash=function(B,x){return I.hashBinary(M(B),x)},I.hashBinary=function(B,x){var F=T(g(B));return x?S(F):F},I.ArrayBuffer=function(){this.reset()},I.ArrayBuffer.prototype.append=function(B){var x,F,R,L,z,J=(F=this._buff.buffer,R=B,L=!0,(z=new Uint8Array(F.byteLength+R.byteLength)).set(new Uint8Array(F)),z.set(new Uint8Array(R),F.byteLength),L?z:z.buffer),K=J.length;for(this._length+=B.byteLength,x=64;x<=K;x+=64)C(this._hash,_(J.subarray(x-64,x)));return this._buff=x-64<K?new Uint8Array(J.buffer.slice(x-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(B){var x,F,R=this._buff,L=R.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(x=0;x<L;x+=1)z[x>>2]|=R[x]<<(x%4<<3);return this._finish(z,L),F=T(this._hash),B&&(F=S(F)),this.reset(),F},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var B,x=I.prototype.getState.call(this);return x.buff=(B=x.buff,String.fromCharCode.apply(null,new Uint8Array(B))),x},I.ArrayBuffer.prototype.setState=function(B){return B.buff=function(x,F){var R,L=x.length,z=new ArrayBuffer(L),J=new Uint8Array(z);for(R=0;R<L;R+=1)J[R]=x.charCodeAt(R);return F?J:z}(B.buff,!0),I.prototype.setState.call(this,B)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(B,x){var F=T(function(R){var L,z,J,K,ee,q,G=R.length,Z=[1732584193,-271733879,-1732584194,271733878];for(L=64;L<=G;L+=64)C(Z,_(R.subarray(L-64,L)));for(z=(R=L-64<G?R.subarray(L-64):new Uint8Array(0)).length,J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=0;L<z;L+=1)J[L>>2]|=R[L]<<(L%4<<3);if(J[L>>2]|=128<<(L%4<<3),L>55)for(C(Z,J),L=0;L<16;L+=1)J[L]=0;return K=(K=8*G).toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(K[2],16),q=parseInt(K[1],16)||0,J[14]=ee,J[15]=q,C(Z,J),Z}(new Uint8Array(B)));return x?S(F):F},I},b(u)==="object"?o.exports=h():(m=typeof(d=h)=="function"?d.call(u,f,u,o):d)===void 0||(o.exports=m)},function(o,u,f){function d($){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})($)}function m($,T){return!T||d(T)!=="object"&&typeof T!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}($):T}function h($){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})($)}function b($,T){return(b=Object.setPrototypeOf||function(M,S){return M.__proto__=S,M})($,T)}function y($,T){if(!($ instanceof T))throw new TypeError("Cannot call a class as a function")}function v($,T){for(var M=0;M<T.length;M++){var S=T[M];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty($,S.key,S)}}function C($,T,M){return T&&v($.prototype,T),M&&v($,M),$}var w=f(50),_=function(){function $(){y(this,$),this._queue=[]}return C($,[{key:"enqueue",value:function(T,M){var S={priority:(M=Object.assign({priority:0},M)).priority,run:T};if(this.size&&this._queue[this.size-1].priority>=M.priority)this._queue.push(S);else{var I=function(B,x,F){for(var R=0,L=B.length;L>0;){var z=L/2|0,J=R+z;F(B[J],x)<=0?(R=++J,L-=z+1):L=z}return R}(this._queue,S,function(B,x){return x.priority-B.priority});this._queue.splice(I,0,S)}}},{key:"dequeue",value:function(){return this._queue.shift().run}},{key:"size",get:function(){return this._queue.length}}]),$}(),g=function($){function T(M){var S;if(y(this,T),S=m(this,h(T).call(this)),!(typeof(M=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:_},M)).concurrency=="number"&&M.concurrency>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(M.concurrency,"` (").concat(d(M.concurrency),")"));if(!(typeof M.intervalCap=="number"&&M.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(M.intervalCap,"` (").concat(d(M.intervalCap),")"));if(!(Number.isFinite(M.interval)&&M.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(M.interval,"` (").concat(d(M.interval),")"));return S._carryoverConcurrencyCount=M.carryoverConcurrencyCount,S._isIntervalIgnored=M.intervalCap===1/0||M.interval===0,S._intervalCount=0,S._intervalCap=M.intervalCap,S._interval=M.interval,S._intervalId=null,S._intervalEnd=0,S._timeoutId=null,S.queue=new M.queueClass,S._queueClass=M.queueClass,S._pendingCount=0,S._concurrency=M.concurrency,S._isPaused=M.autoStart===!1,S._resolveEmpty=function(){},S._resolveIdle=function(){},S}return function(M,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(S&&S.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),S&&b(M,S)}(T,$),C(T,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=function(){},this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=function(){})}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}},{key:"_intervalPaused",value:function(){var M=this,S=Date.now();if(this._intervalId===null){var I=this._intervalEnd-S;if(!(I<0))return this._timeoutId===null&&(this._timeoutId=setTimeout(function(){return M._onResumeInterval()},I)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(this.queue.size===0)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){var M=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),M&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var M=this;this._isIntervalIgnored||this._intervalId!==null||(this._intervalId=setInterval(function(){return M._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){for(this._intervalCount===0&&this._pendingCount===0&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}},{key:"add",value:function(M,S){var I=this;return new Promise(function(B,x){I.queue.enqueue(function(){I._pendingCount++,I._intervalCount++;try{Promise.resolve(M()).then(function(F){B(F),I._next()},function(F){x(F),I._next()})}catch(F){x(F),I._next()}},S),I._tryToStartAnother()})}},{key:"addAll",value:function(M,S){var I=this;return Promise.all(M.map(function(B){return I.add(B,S)}))}},{key:"start",value:function(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this.queue=new this._queueClass}},{key:"onEmpty",value:function(){var M=this;return this.queue.size===0?Promise.resolve():new Promise(function(S){var I=M._resolveEmpty;M._resolveEmpty=function(){I(),S()}})}},{key:"onIdle",value:function(){var M=this;return this._pendingCount===0&&this.queue.size===0?Promise.resolve():new Promise(function(S){var I=M._resolveIdle;M._resolveIdle=function(){I(),S()}})}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"size",get:function(){return this.queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}}]),T}(w);o.exports=g,o.exports.default=g},function(o,u,f){(function(d,m){function h(he){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se})(he)}var b="[object Arguments]",y="[object Function]",v="[object GeneratorFunction]",C="[object Map]",w="[object Set]",_=/\w*$/,g=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,T={};T[b]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T[C]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T[w]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[y]=T["[object WeakMap]"]=!1;var M=(d===void 0?"undefined":h(d))=="object"&&d&&d.Object===Object&&d,S=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,I=M||S||Function("return this")(),B=h(u)=="object"&&u&&!u.nodeType&&u,x=B&&h(m)=="object"&&m&&!m.nodeType&&m,F=x&&x.exports===B;function R(he,Se){return he.set(Se[0],Se[1]),he}function L(he,Se){return he.add(Se),he}function z(he,Se,qe,lt){var Et=-1,Lt=he?he.length:0;for(lt&&Lt&&(qe=he[++Et]);++Et<Lt;)qe=Se(qe,he[Et],Et,he);return qe}function J(he){var Se=!1;if(he!=null&&typeof he.toString!="function")try{Se=!!(he+"")}catch{}return Se}function K(he){var Se=-1,qe=Array(he.size);return he.forEach(function(lt,Et){qe[++Se]=[Et,lt]}),qe}function ee(he,Se){return function(qe){return he(Se(qe))}}function q(he){var Se=-1,qe=Array(he.size);return he.forEach(function(lt){qe[++Se]=lt}),qe}var G,Z=Array.prototype,ie=Function.prototype,Q=Object.prototype,H=I["__core-js_shared__"],ne=(G=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",re=ie.toString,X=Q.hasOwnProperty,ue=Q.toString,le=RegExp("^"+re.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=F?I.Buffer:void 0,me=I.Symbol,ve=I.Uint8Array,Ce=ee(Object.getPrototypeOf,Object),be=Object.create,Ae=Q.propertyIsEnumerable,fe=Z.splice,_e=Object.getOwnPropertySymbols,Ne=ye?ye.isBuffer:void 0,Je=ee(Object.keys,Object),Ke=Wt(I,"DataView"),dt=Wt(I,"Map"),pt=Wt(I,"Promise"),et=Wt(I,"Set"),yt=Wt(I,"WeakMap"),Te=Wt(Object,"create"),Ve=gt(Ke),We=gt(dt),Le=gt(pt),je=gt(et),Ze=gt(yt),Ge=me?me.prototype:void 0,it=Ge?Ge.valueOf:void 0;function rt(he){var Se=-1,qe=he?he.length:0;for(this.clear();++Se<qe;){var lt=he[Se];this.set(lt[0],lt[1])}}function Xe(he){var Se=-1,qe=he?he.length:0;for(this.clear();++Se<qe;){var lt=he[Se];this.set(lt[0],lt[1])}}function tt(he){var Se=-1,qe=he?he.length:0;for(this.clear();++Se<qe;){var lt=he[Se];this.set(lt[0],lt[1])}}function $t(he){this.__data__=new Xe(he)}function ht(he,Se){var qe=Ln(he)||function(Ft){return function(Bt){return function(Zt){return!!Zt&&h(Zt)=="object"}(Bt)&&xt(Bt)}(Ft)&&X.call(Ft,"callee")&&(!Ae.call(Ft,"callee")||ue.call(Ft)==b)}(he)?function(Ft,Bt){for(var Zt=-1,sn=Array(Ft);++Zt<Ft;)sn[Zt]=Bt(Zt);return sn}(he.length,String):[],lt=qe.length,Et=!!lt;for(var Lt in he)!Se&&!X.call(he,Lt)||Et&&(Lt=="length"||He(Lt,lt))||qe.push(Lt);return qe}function kt(he,Se,qe){var lt=he[Se];X.call(he,Se)&&Dt(lt,qe)&&(qe!==void 0||Se in he)||(he[Se]=qe)}function Pt(he,Se){for(var qe=he.length;qe--;)if(Dt(he[qe][0],Se))return qe;return-1}function At(he,Se,qe,lt,Et,Lt,Ft){var Bt;if(lt&&(Bt=Lt?lt(he,Et,Lt,Ft):lt(he)),Bt!==void 0)return Bt;if(!nn(he))return he;var Zt=Ln(he);if(Zt){if(Bt=function(ft){var Mt=ft.length,Nt=ft.constructor(Mt);return Mt&&typeof ft[0]=="string"&&X.call(ft,"index")&&(Nt.index=ft.index,Nt.input=ft.input),Nt}(he),!Se)return function(ft,Mt){var Nt=-1,en=ft.length;for(Mt||(Mt=Array(en));++Nt<en;)Mt[Nt]=ft[Nt];return Mt}(he,Bt)}else{var sn=Ye(he),Vn=sn==y||sn==v;if(Wn(he))return function(ft,Mt){if(Mt)return ft.slice();var Nt=new ft.constructor(ft.length);return ft.copy(Nt),Nt}(he,Se);if(sn=="[object Object]"||sn==b||Vn&&!Lt){if(J(he))return Lt?he:{};if(Bt=function(ft){return typeof ft.constructor!="function"||mt(ft)?{}:(Mt=Ce(ft),nn(Mt)?be(Mt):{});var Mt}(Vn?{}:he),!Se)return function(ft,Mt){return an(ft,Yt(ft),Mt)}(he,function(ft,Mt){return ft&&an(Mt,rn(Mt),ft)}(Bt,he))}else{if(!T[sn])return Lt?he:{};Bt=function(ft,Mt,Nt,en){var dn=ft.constructor;switch(Mt){case"[object ArrayBuffer]":return zt(ft);case"[object Boolean]":case"[object Date]":return new dn(+ft);case"[object DataView]":return function(It,Ot){var mn=Ot?zt(It.buffer):It.buffer;return new It.constructor(mn,It.byteOffset,It.byteLength)}(ft,en);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(It,Ot){var mn=Ot?zt(It.buffer):It.buffer;return new It.constructor(mn,It.byteOffset,It.length)}(ft,en);case C:return function(It,Ot,mn){return z(Ot?mn(K(It),!0):K(It),R,new It.constructor)}(ft,en,Nt);case"[object Number]":case"[object String]":return new dn(ft);case"[object RegExp]":return function(It){var Ot=new It.constructor(It.source,_.exec(It));return Ot.lastIndex=It.lastIndex,Ot}(ft);case w:return function(It,Ot,mn){return z(Ot?mn(q(It),!0):q(It),L,new It.constructor)}(ft,en,Nt);case"[object Symbol]":return Tn=ft,it?Object(it.call(Tn)):{}}var Tn}(he,sn,At,Se)}}Ft||(Ft=new $t);var cn=Ft.get(he);if(cn)return cn;if(Ft.set(he,Bt),!Zt)var pn=qe?function(ft){return function(Mt,Nt,en){var dn=Nt(Mt);return Ln(Mt)?dn:function(Tn,It){for(var Ot=-1,mn=It.length,jn=Tn.length;++Ot<mn;)Tn[jn+Ot]=It[Ot];return Tn}(dn,en(Mt))}(ft,rn,Yt)}(he):rn(he);return function(ft,Mt){for(var Nt=-1,en=ft?ft.length:0;++Nt<en&&Mt(ft[Nt],Nt,ft)!==!1;);}(pn||he,function(ft,Mt){pn&&(ft=he[Mt=ft]),kt(Bt,Mt,At(ft,Se,qe,lt,Mt,he,Ft))}),Bt}function _t(he){return!(!nn(he)||(Se=he,ne&&ne in Se))&&(On(he)||J(he)?le:g).test(gt(he));var Se}function zt(he){var Se=new he.constructor(he.byteLength);return new ve(Se).set(new ve(he)),Se}function an(he,Se,qe,lt){qe||(qe={});for(var Et=-1,Lt=Se.length;++Et<Lt;){var Ft=Se[Et],Bt=lt?lt(qe[Ft],he[Ft],Ft,qe,he):void 0;kt(qe,Ft,Bt===void 0?he[Ft]:Bt)}return qe}function Jt(he,Se){var qe,lt,Et=he.__data__;return((lt=h(qe=Se))=="string"||lt=="number"||lt=="symbol"||lt=="boolean"?qe!=="__proto__":qe===null)?Et[typeof Se=="string"?"string":"hash"]:Et.map}function Wt(he,Se){var qe=function(lt,Et){return lt==null?void 0:lt[Et]}(he,Se);return _t(qe)?qe:void 0}rt.prototype.clear=function(){this.__data__=Te?Te(null):{}},rt.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},rt.prototype.get=function(he){var Se=this.__data__;if(Te){var qe=Se[he];return qe==="__lodash_hash_undefined__"?void 0:qe}return X.call(Se,he)?Se[he]:void 0},rt.prototype.has=function(he){var Se=this.__data__;return Te?Se[he]!==void 0:X.call(Se,he)},rt.prototype.set=function(he,Se){return this.__data__[he]=Te&&Se===void 0?"__lodash_hash_undefined__":Se,this},Xe.prototype.clear=function(){this.__data__=[]},Xe.prototype.delete=function(he){var Se=this.__data__,qe=Pt(Se,he);return!(qe<0)&&(qe==Se.length-1?Se.pop():fe.call(Se,qe,1),!0)},Xe.prototype.get=function(he){var Se=this.__data__,qe=Pt(Se,he);return qe<0?void 0:Se[qe][1]},Xe.prototype.has=function(he){return Pt(this.__data__,he)>-1},Xe.prototype.set=function(he,Se){var qe=this.__data__,lt=Pt(qe,he);return lt<0?qe.push([he,Se]):qe[lt][1]=Se,this},tt.prototype.clear=function(){this.__data__={hash:new rt,map:new(dt||Xe),string:new rt}},tt.prototype.delete=function(he){return Jt(this,he).delete(he)},tt.prototype.get=function(he){return Jt(this,he).get(he)},tt.prototype.has=function(he){return Jt(this,he).has(he)},tt.prototype.set=function(he,Se){return Jt(this,he).set(he,Se),this},$t.prototype.clear=function(){this.__data__=new Xe},$t.prototype.delete=function(he){return this.__data__.delete(he)},$t.prototype.get=function(he){return this.__data__.get(he)},$t.prototype.has=function(he){return this.__data__.has(he)},$t.prototype.set=function(he,Se){var qe=this.__data__;if(qe instanceof Xe){var lt=qe.__data__;if(!dt||lt.length<199)return lt.push([he,Se]),this;qe=this.__data__=new tt(lt)}return qe.set(he,Se),this};var Yt=_e?ee(_e,Object):function(){return[]},Ye=function(he){return ue.call(he)};function He(he,Se){return!!(Se=Se==null?9007199254740991:Se)&&(typeof he=="number"||$.test(he))&&he>-1&&he%1==0&&he<Se}function mt(he){var Se=he&&he.constructor;return he===(typeof Se=="function"&&Se.prototype||Q)}function gt(he){if(he!=null){try{return re.call(he)}catch{}try{return he+""}catch{}}return""}function Dt(he,Se){return he===Se||he!=he&&Se!=Se}(Ke&&Ye(new Ke(new ArrayBuffer(1)))!="[object DataView]"||dt&&Ye(new dt)!=C||pt&&Ye(pt.resolve())!="[object Promise]"||et&&Ye(new et)!=w||yt&&Ye(new yt)!="[object WeakMap]")&&(Ye=function(he){var Se=ue.call(he),qe=Se=="[object Object]"?he.constructor:void 0,lt=qe?gt(qe):void 0;if(lt)switch(lt){case Ve:return"[object DataView]";case We:return C;case Le:return"[object Promise]";case je:return w;case Ze:return"[object WeakMap]"}return Se});var Ln=Array.isArray;function xt(he){return he!=null&&function(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}(he.length)&&!On(he)}var Wn=Ne||function(){return!1};function On(he){var Se=nn(he)?ue.call(he):"";return Se==y||Se==v}function nn(he){var Se=h(he);return!!he&&(Se=="object"||Se=="function")}function rn(he){return xt(he)?ht(he):function(Se){if(!mt(Se))return Je(Se);var qe=[];for(var lt in Object(Se))X.call(Se,lt)&&lt!="constructor"&&qe.push(lt);return qe}(he)}m.exports=function(he){return At(he,!0,!0)}}).call(this,f(14),f(24)(o))},function(o,u,f){f.d(u,"a",function(){return d});function d(m){try{return m&&typeof m=="function"&&m.name||"<anonymous>"}catch{return"<anonymous>"}}},function(o,u,f){f.d(u,"a",function(){return d});var d=function(){function m(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return m.prototype.memoize=function(h){if(this._hasWeakSet)return!!this._inner.has(h)||(this._inner.add(h),!1);for(var b=0;b<this._inner.length;b++)if(this._inner[b]===h)return!0;return this._inner.push(h),!1},m.prototype.unmemoize=function(h){if(this._hasWeakSet)this._inner.delete(h);else for(var b=0;b<this._inner.length;b++)if(this._inner[b]===h){this._inner.splice(b,1);break}},m}()},,function(o,u,f){function d(T){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(T)}var m=f(19),h=f(40),b=f(12),y=f(20).scan,v=b.ValidatorResult,C=b.SchemaError,w=b.SchemaContext,_=function T(){this.customFormats=Object.create(T.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create($),this.attributes=Object.create(h.validators)};function g(T){var M=typeof T=="string"?T:T.$ref;return typeof M=="string"&&M}_.prototype.customFormats={},_.prototype.schemas=null,_.prototype.types=null,_.prototype.attributes=null,_.prototype.unresolvedRefs=null,_.prototype.addSchema=function(T,M){var S=this;if(!T)return null;var I=y(M||"/",T),B=M||T.id;for(var x in I.id)this.schemas[x]=I.id[x];for(var x in I.ref)this.unresolvedRefs.push(x);return this.unresolvedRefs=this.unresolvedRefs.filter(function(F){return S.schemas[F]===void 0}),this.schemas[B]},_.prototype.addSubSchemaArray=function(T,M){if(M instanceof Array)for(var S=0;S<M.length;S++)this.addSubSchema(T,M[S])},_.prototype.addSubSchemaObject=function(T,M){if(M&&d(M)=="object")for(var S in M)this.addSubSchema(T,M[S])},_.prototype.setSchemas=function(T){this.schemas=T},_.prototype.getSchema=function(T){return this.schemas[T]},_.prototype.validate=function(T,M,S,I){S||(S={});var B=S.propertyName||"instance",x=m.resolve(S.base||"/",M.id||"");if(!I){(I=new w(M,S,B,x,Object.create(this.schemas))).schemas[x]||(I.schemas[x]=M);var F=y(x,M);for(var R in F.id){var L=F.id[R];I.schemas[R]=L}}if(M){var z=this.validateSchema(T,M,S,I);if(!z)throw new Error("Result undefined");return z}throw new C("no schema specified",M)},_.prototype.validateSchema=function(T,M,S,I){var B,x=new v(T,M,S,I);if(typeof M=="boolean")M===!0?M={}:M===!1&&(M={type:[]});else if(!M)throw new Error("schema is undefined");if(M.extends)if(M.extends instanceof Array){var F={schema:M,ctx:I};M.extends.forEach(this.schemaTraverser.bind(this,F)),M=F.schema,F.schema=null,F.ctx=null,F=null}else M=b.deepMerge(M,this.superResolve(M.extends,I));if(B=g(M)){var R=this.resolve(M,B,I),L=new w(R.subschema,S,I.propertyPath,R.switchSchema,I.schemas);return this.validateSchema(T,R.subschema,S,L)}var z=S&&S.skipAttributes||[];for(var J in M)if(!h.ignoreProperties[J]&&z.indexOf(J)<0){var K=null,ee=this.attributes[J];if(ee)K=ee.call(this,T,M,S,I);else if(S.allowUnknownAttributes===!1)throw new C("Unsupported attribute: "+J,M);K&&x.importErrors(K)}if(typeof S.rewrite=="function"){var q=S.rewrite.call(this,T,M,S,I);x.instance=q}return x},_.prototype.schemaTraverser=function(T,M){T.schema=b.deepMerge(T.schema,this.superResolve(M,T.ctx))},_.prototype.superResolve=function(T,M){var S;return(S=g(T))?this.resolve(T,S,M).subschema:T},_.prototype.resolve=function(T,M,S){if(M=S.resolve(M),S.schemas[M])return{subschema:S.schemas[M],switchSchema:M};var I=m.parse(M),B=I&&I.hash,x=B&&B.length&&M.substr(0,M.length-B.length);if(!x||!S.schemas[x])throw new C("no such schema <"+M+">",T);var F=b.objectGetPath(S.schemas[x],B.substr(1));if(F===void 0)throw new C("no such schema "+B+" located in <"+x+">",T);return{subschema:F,switchSchema:M}},_.prototype.testType=function(T,M,S,I,B){if(typeof this.types[B]=="function")return this.types[B].call(this,T);if(B&&d(B)=="object"){var x=this.validateSchema(T,B,S,I);return x===void 0||!(x&&x.errors.length)}return!0};var $=_.prototype.types={};$.string=function(T){return typeof T=="string"},$.number=function(T){return typeof T=="number"&&isFinite(T)},$.integer=function(T){return typeof T=="number"&&T%1==0},$.boolean=function(T){return typeof T=="boolean"},$.array=function(T){return Array.isArray(T)},$.null=function(T){return T===null},$.date=function(T){return T instanceof Date},$.any=function(T){return!0},$.object=function(T){return T&&d(T)==="object"&&!(T instanceof Array)&&!(T instanceof Date)},o.exports=_},function(o,u,f){(function(d,m){var h;function b(y){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(y)}/*! https://mths.be/punycode v1.3.2 by @mathias */(function(y){var v=b(u)=="object"&&u&&!u.nodeType&&u,C=b(d)=="object"&&d&&!d.nodeType&&d,w=(m===void 0?"undefined":b(m))=="object"&&m;w.global!==w&&w.window!==w&&w.self!==w||(y=w);var _,g,$=2147483647,T=/^xn--/,M=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=Math.floor,x=String.fromCharCode;function F(Z){throw RangeError(I[Z])}function R(Z,ie){for(var Q=Z.length,H=[];Q--;)H[Q]=ie(Z[Q]);return H}function L(Z,ie){var Q=Z.split("@"),H="";return Q.length>1&&(H=Q[0]+"@",Z=Q[1]),H+R((Z=Z.replace(S,".")).split("."),ie).join(".")}function z(Z){for(var ie,Q,H=[],ne=0,re=Z.length;ne<re;)(ie=Z.charCodeAt(ne++))>=55296&&ie<=56319&&ne<re?(64512&(Q=Z.charCodeAt(ne++)))==56320?H.push(((1023&ie)<<10)+(1023&Q)+65536):(H.push(ie),ne--):H.push(ie);return H}function J(Z){return R(Z,function(ie){var Q="";return ie>65535&&(Q+=x((ie-=65536)>>>10&1023|55296),ie=56320|1023&ie),Q+=x(ie)}).join("")}function K(Z,ie){return Z+22+75*(Z<26)-((ie!=0)<<5)}function ee(Z,ie,Q){var H=0;for(Z=Q?B(Z/700):Z>>1,Z+=B(Z/ie);Z>455;H+=36)Z=B(Z/35);return B(H+36*Z/(Z+38))}function q(Z){var ie,Q,H,ne,re,X,ue,le,ye,me,ve,Ce=[],be=Z.length,Ae=0,fe=128,_e=72;for((Q=Z.lastIndexOf("-"))<0&&(Q=0),H=0;H<Q;++H)Z.charCodeAt(H)>=128&&F("not-basic"),Ce.push(Z.charCodeAt(H));for(ne=Q>0?Q+1:0;ne<be;){for(re=Ae,X=1,ue=36;ne>=be&&F("invalid-input"),((le=(ve=Z.charCodeAt(ne++))-48<10?ve-22:ve-65<26?ve-65:ve-97<26?ve-97:36)>=36||le>B(($-Ae)/X))&&F("overflow"),Ae+=le*X,!(le<(ye=ue<=_e?1:ue>=_e+26?26:ue-_e));ue+=36)X>B($/(me=36-ye))&&F("overflow"),X*=me;_e=ee(Ae-re,ie=Ce.length+1,re==0),B(Ae/ie)>$-fe&&F("overflow"),fe+=B(Ae/ie),Ae%=ie,Ce.splice(Ae++,0,fe)}return J(Ce)}function G(Z){var ie,Q,H,ne,re,X,ue,le,ye,me,ve,Ce,be,Ae,fe,_e=[];for(Ce=(Z=z(Z)).length,ie=128,Q=0,re=72,X=0;X<Ce;++X)(ve=Z[X])<128&&_e.push(x(ve));for(H=ne=_e.length,ne&&_e.push("-");H<Ce;){for(ue=$,X=0;X<Ce;++X)(ve=Z[X])>=ie&&ve<ue&&(ue=ve);for(ue-ie>B(($-Q)/(be=H+1))&&F("overflow"),Q+=(ue-ie)*be,ie=ue,X=0;X<Ce;++X)if((ve=Z[X])<ie&&++Q>$&&F("overflow"),ve==ie){for(le=Q,ye=36;!(le<(me=ye<=re?1:ye>=re+26?26:ye-re));ye+=36)fe=le-me,Ae=36-me,_e.push(x(K(me+fe%Ae,0))),le=B(fe/Ae);_e.push(x(K(le,0))),re=ee(Q,be,H==ne),Q=0,++H}++Q,++ie}return _e.join("")}if(_={version:"1.3.2",ucs2:{decode:z,encode:J},decode:q,encode:G,toASCII:function(Z){return L(Z,function(ie){return M.test(ie)?"xn--"+G(ie):ie})},toUnicode:function(Z){return L(Z,function(ie){return T.test(ie)?q(ie.slice(4).toLowerCase()):ie})}},b(f(25))=="object"&&f(25))(h=function(){return _}.call(u,f,u,d))===void 0||(d.exports=h);else if(v&&C)if(d.exports==v)C.exports=_;else for(g in _)_.hasOwnProperty(g)&&(v[g]=_[g]);else y.punycode=_})(this)}).call(this,f(24)(o),f(14))},function(o,u,f){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}o.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return d(m)==="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},function(o,u,f){u.decode=u.parse=f(38),u.encode=u.stringify=f(39)},function(o,u,f){function d(h,b){return Object.prototype.hasOwnProperty.call(h,b)}o.exports=function(h,b,y,v){b=b||"&",y=y||"=";var C={};if(typeof h!="string"||h.length===0)return C;var w=/\+/g;h=h.split(b);var _=1e3;v&&typeof v.maxKeys=="number"&&(_=v.maxKeys);var g=h.length;_>0&&g>_&&(g=_);for(var $=0;$<g;++$){var T,M,S,I,B=h[$].replace(w,"%20"),x=B.indexOf(y);x>=0?(T=B.substr(0,x),M=B.substr(x+1)):(T=B,M=""),S=decodeURIComponent(T),I=decodeURIComponent(M),d(C,S)?m(C[S])?C[S].push(I):C[S]=[C[S],I]:C[S]=I}return C};var m=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}},function(o,u,f){function d(v){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(v)}var m=function(v){switch(d(v)){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};o.exports=function(v,C,w,_){return C=C||"&",w=w||"=",v===null&&(v=void 0),d(v)==="object"?b(y(v),function(g){var $=encodeURIComponent(m(g))+w;return h(v[g])?b(v[g],function(T){return $+encodeURIComponent(m(T))}).join(C):$+encodeURIComponent(m(v[g]))}).join(C):_?encodeURIComponent(m(_))+w+encodeURIComponent(m(v)):""};var h=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function b(v,C){if(v.map)return v.map(C);for(var w=[],_=0;_<v.length;_++)w.push(C(v[_],_));return w}var y=Object.keys||function(v){var C=[];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&C.push(w);return C}},function(o,u,f){var d=f(12),m=d.ValidatorResult,h=d.SchemaError,b={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},y=b.validators={};function v(g,$,T,M,S){var I=$.throwError;$.throwError=!1;var B=this.validateSchema(g,S,$,T);return $.throwError=I,!B.valid&&M instanceof Function&&M(B),B.valid}function C(g,$,T,M,S,I){if(this.types.object(g)&&(!$.properties||$.properties[S]===void 0))if($.additionalProperties===!1)I.addError({name:"additionalProperties",argument:S,message:"additionalProperty "+JSON.stringify(S)+" exists in instance when not allowed"});else{var B=$.additionalProperties||{};typeof T.preValidateProperty=="function"&&T.preValidateProperty(g,S,B,T,M);var x=this.validateSchema(g[S],B,T,M.makeChild(B,S));x.instance!==I.instance[S]&&(I.instance[S]=x.instance),I.importErrors(x)}}y.type=function(g,$,T,M){if(g===void 0)return null;var S=new m(g,$,T,M),I=Array.isArray($.type)?$.type:[$.type];if(!I.some(this.testType.bind(this,g,$,T,M))){var B=I.map(function(x){return x.id&&"<"+x.id+">"||x+""});S.addError({name:"type",argument:B,message:"is not of a type(s) "+B})}return S},y.anyOf=function(g,$,T,M){if(g===void 0)return null;var S=new m(g,$,T,M),I=new m(g,$,T,M);if(!Array.isArray($.anyOf))throw new h("anyOf must be an array");if(!$.anyOf.some(v.bind(this,g,T,M,function(x){I.importErrors(x)}))){var B=$.anyOf.map(function(x,F){return x.id&&"<"+x.id+">"||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+F+"]"});T.nestedErrors&&S.importErrors(I),S.addError({name:"anyOf",argument:B,message:"is not any of "+B.join(",")})}return S},y.allOf=function(g,$,T,M){if(g===void 0)return null;if(!Array.isArray($.allOf))throw new h("allOf must be an array");var S=new m(g,$,T,M),I=this;return $.allOf.forEach(function(B,x){var F=I.validateSchema(g,B,T,M);if(!F.valid){var R=B.id&&"<"+B.id+">"||B.title&&JSON.stringify(B.title)||B.$ref&&"<"+B.$ref+">"||"[subschema "+x+"]";S.addError({name:"allOf",argument:{id:R,length:F.errors.length,valid:F},message:"does not match allOf schema "+R+" with "+F.errors.length+" error[s]:"}),S.importErrors(F)}}),S},y.oneOf=function(g,$,T,M){if(g===void 0)return null;if(!Array.isArray($.oneOf))throw new h("oneOf must be an array");var S=new m(g,$,T,M),I=new m(g,$,T,M),B=$.oneOf.filter(v.bind(this,g,T,M,function(F){I.importErrors(F)})).length,x=$.oneOf.map(function(F,R){return F.id&&"<"+F.id+">"||F.title&&JSON.stringify(F.title)||F.$ref&&"<"+F.$ref+">"||"[subschema "+R+"]"});return B!==1&&(T.nestedErrors&&S.importErrors(I),S.addError({name:"oneOf",argument:x,message:"is not exactly one from "+x.join(",")})),S},y.properties=function(g,$,T,M){if(this.types.object(g)){var S=new m(g,$,T,M),I=$.properties||{};for(var B in I){typeof T.preValidateProperty=="function"&&T.preValidateProperty(g,B,I[B],T,M);var x=Object.hasOwnProperty.call(g,B)?g[B]:void 0,F=this.validateSchema(x,I[B],T,M.makeChild(I[B],B));F.instance!==S.instance[B]&&(S.instance[B]=F.instance),S.importErrors(F)}return S}},y.patternProperties=function(g,$,T,M){if(this.types.object(g)){var S=new m(g,$,T,M),I=$.patternProperties||{};for(var B in g){var x=!0;for(var F in I)if(new RegExp(F).test(B)){x=!1,typeof T.preValidateProperty=="function"&&T.preValidateProperty(g,B,I[F],T,M);var R=this.validateSchema(g[B],I[F],T,M.makeChild(I[F],B));R.instance!==S.instance[B]&&(S.instance[B]=R.instance),S.importErrors(R)}x&&C.call(this,g,$,T,M,B,S)}return S}},y.additionalProperties=function(g,$,T,M){if(this.types.object(g)){if($.patternProperties)return null;var S=new m(g,$,T,M);for(var I in g)C.call(this,g,$,T,M,I,S);return S}},y.minProperties=function(g,$,T,M){if(this.types.object(g)){var S=new m(g,$,T,M);return Object.keys(g).length>=$.minProperties||S.addError({name:"minProperties",argument:$.minProperties,message:"does not meet minimum property length of "+$.minProperties}),S}},y.maxProperties=function(g,$,T,M){if(this.types.object(g)){var S=new m(g,$,T,M);return Object.keys(g).length<=$.maxProperties||S.addError({name:"maxProperties",argument:$.maxProperties,message:"does not meet maximum property length of "+$.maxProperties}),S}},y.items=function(g,$,T,M){var S=this;if(this.types.array(g)&&$.items){var I=new m(g,$,T,M);return g.every(function(B,x){var F=Array.isArray($.items)?$.items[x]||$.additionalItems:$.items;if(F===void 0)return!0;if(F===!1)return I.addError({name:"items",message:"additionalItems not permitted"}),!1;var R=S.validateSchema(B,F,T,M.makeChild(F,x));return R.instance!==I.instance[x]&&(I.instance[x]=R.instance),I.importErrors(R),!0}),I}},y.minimum=function(g,$,T,M){if(this.types.number(g)){var S=new m(g,$,T,M);return($.exclusiveMinimum&&$.exclusiveMinimum===!0?g>$.minimum:g>=$.minimum)||S.addError({name:"minimum",argument:$.minimum,message:"must have a minimum value of "+$.minimum}),S}},y.maximum=function(g,$,T,M){if(this.types.number(g)){var S=new m(g,$,T,M);return($.exclusiveMaximum&&$.exclusiveMaximum===!0?g<$.maximum:g<=$.maximum)||S.addError({name:"maximum",argument:$.maximum,message:"must have a maximum value of "+$.maximum}),S}};var w=function(g,$,T,M,S,I){if(this.types.number(g)){var B=$[S];if(B==0)throw new h(S+" cannot be zero");var x=new m(g,$,T,M),F=d.getDecimalPlaces(g),R=d.getDecimalPlaces(B),L=Math.max(F,R),z=Math.pow(10,L);return Math.round(g*z)%Math.round(B*z)!=0&&x.addError({name:S,argument:B,message:I+JSON.stringify(B)}),x}};function _(g,$,T){var M,S=T.length;for(M=$+1;M<S;M++)if(d.deepCompareStrict(g,T[M]))return!1;return!0}y.multipleOf=function(g,$,T,M){return w.call(this,g,$,T,M,"multipleOf","is not a multiple of (divisible by) ")},y.divisibleBy=function(g,$,T,M){return w.call(this,g,$,T,M,"divisibleBy","is not divisible by (multiple of) ")},y.required=function(g,$,T,M){var S=new m(g,$,T,M);return g===void 0&&$.required===!0?S.addError({name:"required",message:"is required"}):this.types.object(g)&&Array.isArray($.required)&&$.required.forEach(function(I){g[I]===void 0&&S.addError({name:"required",argument:I,message:"requires property "+JSON.stringify(I)})}),S},y.pattern=function(g,$,T,M){if(this.types.string(g)){var S=new m(g,$,T,M);return g.match($.pattern)||S.addError({name:"pattern",argument:$.pattern,message:"does not match pattern "+JSON.stringify($.pattern.toString())}),S}},y.format=function(g,$,T,M){if(g!==void 0){var S=new m(g,$,T,M);return S.disableFormat||d.isFormat(g,$.format,this)||S.addError({name:"format",argument:$.format,message:"does not conform to the "+JSON.stringify($.format)+" format"}),S}},y.minLength=function(g,$,T,M){if(this.types.string(g)){var S=new m(g,$,T,M),I=g.match(/[\uDC00-\uDFFF]/g);return g.length-(I?I.length:0)>=$.minLength||S.addError({name:"minLength",argument:$.minLength,message:"does not meet minimum length of "+$.minLength}),S}},y.maxLength=function(g,$,T,M){if(this.types.string(g)){var S=new m(g,$,T,M),I=g.match(/[\uDC00-\uDFFF]/g);return g.length-(I?I.length:0)<=$.maxLength||S.addError({name:"maxLength",argument:$.maxLength,message:"does not meet maximum length of "+$.maxLength}),S}},y.minItems=function(g,$,T,M){if(this.types.array(g)){var S=new m(g,$,T,M);return g.length>=$.minItems||S.addError({name:"minItems",argument:$.minItems,message:"does not meet minimum length of "+$.minItems}),S}},y.maxItems=function(g,$,T,M){if(this.types.array(g)){var S=new m(g,$,T,M);return g.length<=$.maxItems||S.addError({name:"maxItems",argument:$.maxItems,message:"does not meet maximum length of "+$.maxItems}),S}},y.uniqueItems=function(g,$,T,M){if(this.types.array(g)){var S=new m(g,$,T,M);return g.every(function(I,B,x){for(var F=B+1;F<x.length;F++)if(d.deepCompareStrict(I,x[F]))return!1;return!0})||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.uniqueItems=function(g,$,T,M){if(this.types.array(g)){var S=new m(g,$,T,M);return g.every(_)||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.dependencies=function(g,$,T,M){if(this.types.object(g)){var S=new m(g,$,T,M);for(var I in $.dependencies)if(g[I]!==void 0){var B=$.dependencies[I],x=M.makeChild(B,I);if(typeof B=="string"&&(B=[B]),Array.isArray(B))B.forEach(function(R){g[R]===void 0&&S.addError({name:"dependencies",argument:x.propertyPath,message:"property "+R+" not found, required by "+x.propertyPath})});else{var F=this.validateSchema(g,B,T,x);S.instance!==F.instance&&(S.instance=F.instance),F&&F.errors.length&&(S.addError({name:"dependencies",argument:x.propertyPath,message:"does not meet dependency required by "+x.propertyPath}),S.importErrors(F))}}return S}},y.enum=function(g,$,T,M){if(g===void 0)return null;if(!Array.isArray($.enum))throw new h("enum expects an array",$);var S=new m(g,$,T,M);return $.enum.some(d.deepCompareStrict.bind(null,g))||S.addError({name:"enum",argument:$.enum,message:"is not one of enum values: "+$.enum.map(String).join(",")}),S},y.const=function(g,$,T,M){if(g===void 0)return null;var S=new m(g,$,T,M);return d.deepCompareStrict($.const,g)||S.addError({name:"const",argument:$.const,message:"does not exactly match expected constant: "+$.const}),S},y.not=y.disallow=function(g,$,T,M){var S=this;if(g===void 0)return null;var I=new m(g,$,T,M),B=$.not||$.disallow;return B?(Array.isArray(B)||(B=[B]),B.forEach(function(x){if(S.testType(g,$,T,M,x)){var F=x&&x.id&&"<"+x.id+">"||x;I.addError({name:"not",argument:F,message:"is of prohibited type "+F})}}),I):null},o.exports=b},function(o,u,f){function d(m){return function(h){if(Array.isArray(h)){for(var b=0,y=new Array(h.length);b<h.length;b++)y[b]=h[b];return y}}(m)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.exports=function(m){function h(w){for(var _=0,g=0;g<w.length;g++)_=(_<<5)-_+w.charCodeAt(g),_|=0;return b.colors[Math.abs(_)%b.colors.length]}function b(w){var _;function g(){for(var $=arguments.length,T=new Array($),M=0;M<$;M++)T[M]=arguments[M];if(g.enabled){var S=g,I=Number(new Date),B=I-(_||I);S.diff=B,S.prev=_,S.curr=I,_=I,T[0]=b.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");var x=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,function(R,L){if(R==="%%")return R;x++;var z=b.formatters[L];if(typeof z=="function"){var J=T[x];R=z.call(S,J),T.splice(x,1),x--}return R}),b.formatArgs.call(S,T);var F=S.log||b.log;F.apply(S,T)}}return g.namespace=w,g.enabled=b.enabled(w),g.useColors=b.useColors(),g.color=h(w),g.destroy=y,g.extend=v,typeof b.init=="function"&&b.init(g),b.instances.push(g),g}function y(){var w=b.instances.indexOf(this);return w!==-1&&(b.instances.splice(w,1),!0)}function v(w,_){var g=b(this.namespace+(_===void 0?":":_)+w);return g.log=this.log,g}function C(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}return b.debug=b,b.default=b,b.coerce=function(w){return w instanceof Error?w.stack||w.message:w},b.disable=function(){var w=[].concat(d(b.names.map(C)),d(b.skips.map(C).map(function(_){return"-"+_}))).join(",");return b.enable(""),w},b.enable=function(w){var _;b.save(w),b.names=[],b.skips=[];var g=(typeof w=="string"?w:"").split(/[\s,]+/),$=g.length;for(_=0;_<$;_++)g[_]&&((w=g[_].replace(/\*/g,".*?"))[0]==="-"?b.skips.push(new RegExp("^"+w.substr(1)+"$")):b.names.push(new RegExp("^"+w+"$")));for(_=0;_<b.instances.length;_++){var T=b.instances[_];T.enabled=b.enabled(T.namespace)}},b.enabled=function(w){if(w[w.length-1]==="*")return!0;var _,g;for(_=0,g=b.skips.length;_<g;_++)if(b.skips[_].test(w))return!1;for(_=0,g=b.names.length;_<g;_++)if(b.names[_].test(w))return!0;return!1},b.humanize=f(42),Object.keys(m).forEach(function(w){b[w]=m[w]}),b.instances=[],b.names=[],b.skips=[],b.formatters={},b.selectColor=h,b.enable(b.load()),b}},function(o,u){function f(v){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(v)}var d=1e3,m=6e4,h=60*m,b=24*h;function y(v,C,w,_){var g=C>=1.5*w;return Math.round(v/w)+" "+_+(g?"s":"")}o.exports=function(v,C){C=C||{};var w=f(v);if(w==="string"&&v.length>0)return function(_){if(!((_=String(_)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(!!g){var $=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*$;case"weeks":case"week":case"w":return 6048e5*$;case"days":case"day":case"d":return $*b;case"hours":case"hour":case"hrs":case"hr":case"h":return $*h;case"minutes":case"minute":case"mins":case"min":case"m":return $*m;case"seconds":case"second":case"secs":case"sec":case"s":return $*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return $;default:return}}}}(v);if(w==="number"&&isFinite(v))return C.long?function(_){var g=Math.abs(_);return g>=b?y(_,g,b,"day"):g>=h?y(_,g,h,"hour"):g>=m?y(_,g,m,"minute"):g>=d?y(_,g,d,"second"):_+" ms"}(v):function(_){var g=Math.abs(_);return g>=b?Math.round(_/b)+"d":g>=h?Math.round(_/h)+"h":g>=m?Math.round(_/m)+"m":g>=d?Math.round(_/d)+"s":_+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},function(o,u,f){f.r(u),f.d(u,"XhrAdapter",function(){return _});var d=f(0),m=f(3),h=f.n(m),b=f(5),y=f(6),v=f(2),C=f(11),w=h()("fs:request:xhr"),_=function(){function g(){}return g.prototype.request=function($){var T=this;$.filestackHeaders===void 0&&($.filestackHeaders=!0),($=Object(C.d)($)).headers=$.headers||{};var M=$.data,S=$.headers;b.e(M)&&delete S["Content-Type"];var I=new XMLHttpRequest;if($.blobResponse&&(I.responseType="blob"),$.auth){if(!$.auth.username||$.auth.username.length===0||!$.auth.password||$.auth.password.length===0)return Promise.reject(new v.a("Basic auth: username and password are required "+$.auth,$));S.Authorization="Basic "+btoa(unescape(encodeURIComponent($.auth.username+":"+$.auth.password))),w("Set request authorization to %s",$.auth.username+$.auth.password)}var B=$.url.trim();return/^http(s)?:\/\//.test(B)||(B="https://"+B),B=Object(C.a)(B,$.params),w("Starting request to %s with options %O",B,$),I.open($.method.toUpperCase(),B,!0),I.timeout=$.timeout,new Promise(function(x,F){var R;if($.cancelToken&&(R=function(z){return I&&(I.abort(),I=null),w("Request canceled by user %s, config: %O",z,$),F(new v.a("Request aborted. Reason: "+z,$,null,v.b.ABORTED))},$.cancelToken.once("cancel",R)),I.onreadystatechange=function(){return Object(d.b)(T,void 0,void 0,function(){var z,J,K;return Object(d.d)(this,function(ee){switch(ee.label){case 0:return I&&I.readyState===4&&(I.status!==0||I.responseURL)?(z=Object(C.b)(I.getAllResponseHeaders()),J=I.response,K={data:J,status:I.status,statusText:I.statusText,headers:z,config:$},I=null,[4,Object(C.c)(K)]):[2];case 1:return 500<=(K=ee.sent()).status&&K.status<=599?(w("Server error(5xx) - %O",K),[2,F(new v.a("Server error "+B,$,K,v.b.SERVER))]):400<=K.status&&K.status<=499?(w("Request error(4xx) - %O",K),[2,F(new v.a("Request error "+B,$,K,v.b.REQUEST))]):($.cancelToken&&($.cancelToken.removeListener("cancel",R),R=null),[2,x(K)])}})})},I.onabort=function(){I&&(I=null,F(new v.a("Request aborted",$,null,v.b.ABORTED)))},I.onerror=function(z){I=null,w("Request error! %O",z),F(new v.a("Network Error",$,null,v.b.NETWORK))},I.ontimeout=function(){I=null,w("Request timed out. %O",$),F(new v.a("Request timeout",$,null,v.b.TIMEOUT))},"setRequestHeader"in I&&S&&Object.keys(S).length)for(var L in S)S[L]!==void 0&&(w("Set request header %s to %s",L,S[L]),I.setRequestHeader(L,S[L]));typeof $.onProgress=="function"&&[y.a.POST,y.a.PUT].indexOf($.method)>-1&&(I.upload?(w("Bind to upload progress event"),I.upload.addEventListener("progress",$.onProgress)):(w("Bind to progress event"),I.addEventListener("progress",$.onProgress))),M===void 0&&(M=null),I.send(M)})},g}()},function(o,u,f){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}var m=f(7);u.convertToJson=function h(b,y){var v={};if(!(b.child&&!m.isEmptyObject(b.child)||b.attrsMap&&!m.isEmptyObject(b.attrsMap)))return m.isExist(b.val)?b.val:"";m.isExist(b.val)&&(typeof b.val!="string"||b.val!==""&&b.val!==y.cdataPositionChar)&&(y.arrayMode==="strict"?v[y.textNodeName]=[b.val]:v[y.textNodeName]=b.val),m.merge(v,b.attrsMap,y.arrayMode);for(var C=Object.keys(b.child),w=0;w<C.length;w++){var _=C[w];if(b.child[_]&&b.child[_].length>1)for(var g in v[_]=[],b.child[_])v[_].push(h(b.child[_][g],y));else if(y.arrayMode===!0){var $=h(b.child[_][0],y);d($)==="object"?v[_]=[$]:v[_]=$}else y.arrayMode==="strict"?v[_]=[h(b.child[_][0],y)]:v[_]=h(b.child[_][0],y)}return v}},function(o,u,f){o.exports=function(d,m,h){this.tagname=d,this.parent=m,this.child={},this.attrsMap={},this.val=h,this.addChild=function(b){Array.isArray(this.child[b.tagname])?this.child[b.tagname].push(b):this.child[b.tagname]=[b]}}},function(o,u,f){var d=f(7),m={allowBooleanAttributes:!1},h=["allowBooleanAttributes"];function b(S,I){for(var B=I;I<S.length;I++)if(!(S[I]!="?"&&S[I]!=" ")){var x=S.substr(B,I-B);if(I>5&&x==="xml")return g("InvalidXml","XML declaration allowed only at the start of the document.",T(S,I));if(S[I]=="?"&&S[I+1]==">"){I++;break}}return I}function y(S,I){if(S.length>I+5&&S[I+1]==="-"&&S[I+2]==="-"){for(I+=3;I<S.length;I++)if(S[I]==="-"&&S[I+1]==="-"&&S[I+2]===">"){I+=2;break}}else if(S.length>I+8&&S[I+1]==="D"&&S[I+2]==="O"&&S[I+3]==="C"&&S[I+4]==="T"&&S[I+5]==="Y"&&S[I+6]==="P"&&S[I+7]==="E"){var B=1;for(I+=8;I<S.length;I++)if(S[I]==="<")B++;else if(S[I]===">"&&--B===0)break}else if(S.length>I+9&&S[I+1]==="["&&S[I+2]==="C"&&S[I+3]==="D"&&S[I+4]==="A"&&S[I+5]==="T"&&S[I+6]==="A"&&S[I+7]==="["){for(I+=8;I<S.length;I++)if(S[I]==="]"&&S[I+1]==="]"&&S[I+2]===">"){I+=2;break}}return I}u.validate=function(S,I){I=d.buildOptions(I,m,h);var B,x=[],F=!1,R=!1;S[0]==="\uFEFF"&&(S=S.substr(1));for(var L=0;L<S.length;L++){if(S[L]!=="<"){if(S[L]===" "||S[L]==="	"||S[L]===`
`||S[L]==="\r")continue;return g("InvalidChar","char '".concat(S[L],"' is not expected."),T(S,L))}if(S[++L]==="?"){if((L=b(S,++L)).err)return L}else{if(S[L]==="!"){L=y(S,L);continue}var z=!1;S[L]==="/"&&(z=!0,L++);for(var J="";L<S.length&&S[L]!==">"&&S[L]!==" "&&S[L]!=="	"&&S[L]!==`
`&&S[L]!=="\r";L++)J+=S[L];if((J=J.trim())[J.length-1]==="/"&&(J=J.substring(0,J.length-1),L--),B=J,!d.isName(B))return g("InvalidTag",J.trim().length===0?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '".concat(J,"' is an invalid name."),T(S,L));var K=v(S,L);if(K===!1)return g("InvalidAttr","Attributes for '".concat(J,"' have open quote."),T(S,L));var ee=K.value;if(L=K.index,ee[ee.length-1]==="/"){var q=w(ee=ee.substring(0,ee.length-1),I);if(q!==!0)return g(q.err.code,q.err.msg,T(S,L-ee.length+q.err.line));F=!0}else if(z){if(!K.tagClosed)return g("InvalidTag","Closing tag '".concat(J,"' doesn't have proper closing."),T(S,L));if(ee.trim().length>0)return g("InvalidTag","Closing tag '".concat(J,"' can't have attributes or invalid starting."),T(S,L));var G=x.pop();if(J!==G)return g("InvalidTag","Closing tag '".concat(G,"' is expected inplace of '").concat(J,"'."),T(S,L));x.length==0&&(R=!0)}else{var Z=w(ee,I);if(Z!==!0)return g(Z.err.code,Z.err.msg,T(S,L-ee.length+Z.err.line));if(R===!0)return g("InvalidXml","Multiple possible root nodes found.",T(S,L));x.push(J),F=!0}for(L++;L<S.length;L++){if(S[L]==="<"){if(S[L+1]==="!"){L=y(S,++L);continue}break}if(S[L]==="&"){var ie=_(S,L);if(ie==-1)return g("InvalidChar","char '&' is not expected.",T(S,L));L=ie}}S[L]==="<"&&L--}}return F?!(x.length>0)||g("InvalidXml","Invalid '".concat(JSON.stringify(x,null,4).replace(/\r?\n/g,""),"' found."),1):g("InvalidXml","Start tag expected.",1)};function v(S,I){for(var B="",x="",F=!1;I<S.length;I++){if(S[I]==='"'||S[I]==="'")if(x==="")x=S[I];else{if(x!==S[I])continue;x=""}else if(S[I]===">"&&x===""){F=!0;break}B+=S[I]}return x===""&&{value:B,index:I,tagClosed:F}}var C=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function w(S,I){for(var B=d.getAllMatches(S,C),x={},F=0;F<B.length;F++){if(B[F][1].length===0)return g("InvalidAttr","Attribute '".concat(B[F][2],"' has no space in starting."),M(S,B[F][0]));if(B[F][3]===void 0&&!I.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '".concat(B[F][2],"' is not allowed."),M(S,B[F][0]));var R=B[F][2];if(!$(R))return g("InvalidAttr","Attribute '".concat(R,"' is an invalid name."),M(S,B[F][0]));if(x.hasOwnProperty(R))return g("InvalidAttr","Attribute '".concat(R,"' is repeated."),M(S,B[F][0]));x[R]=1}return!0}function _(S,I){if(S[++I]===";")return-1;if(S[I]==="#")return function(x,F){var R=/\d/;for(x[F]==="x"&&(F++,R=/[\da-fA-F]/);F<x.length;F++){if(x[F]===";")return F;if(!x[F].match(R))break}return-1}(S,++I);for(var B=0;I<S.length;I++,B++)if(!(S[I].match(/\w/)&&B<20)){if(S[I]===";")break;return-1}return I}function g(S,I,B){return{err:{code:S,msg:I,line:B}}}function $(S){return d.isName(S)}function T(S,I){return S.substring(0,I).split(/\r?\n/).length}function M(S,I){return S.indexOf(I)+I.length}},function(o,u,f){var d=function(g){return String.fromCharCode(g)},m={nilChar:d(176),missingChar:d(201),nilPremitive:d(175),missingPremitive:d(200),emptyChar:d(178),emptyValue:d(177),boundryChar:d(179),objStart:d(198),arrStart:d(204),arrayEnd:d(185)},h=[m.nilChar,m.nilPremitive,m.missingChar,m.missingPremitive,m.boundryChar,m.emptyChar,m.emptyValue,m.arrayEnd,m.objStart,m.arrStart],b=function g($,T,M){if(typeof T=="string")return $&&$[0]&&$[0].val!==void 0?y($[0].val):y($);var S,I=(S=$)===void 0?m.missingChar:S===null?m.nilChar:!(S.child&&Object.keys(S.child).length===0&&(!S.attrsMap||Object.keys(S.attrsMap).length===0))||m.emptyChar;if(I===!0){var B="";if(Array.isArray(T)){B+=m.arrStart;var x=T[0],F=$.length;if(typeof x=="string")for(var R=0;R<F;R++){var L=y($[R].val);B=v(B,L)}else for(var z=0;z<F;z++){var J=g($[z],x,M);B=v(B,J)}B+=m.arrayEnd}else{B+=m.objStart;var K=Object.keys(T);for(var ee in Array.isArray($)&&($=$[0]),K){var q=K[ee],G=void 0;G=!M.ignoreAttributes&&$.attrsMap&&$.attrsMap[q]?g($.attrsMap[q],T[q],M):q===M.textNodeName?g($.val,T[q],M):g($.child[q],T[q],M),B=v(B,G)}}return B}return I},y=function(g){switch(g){case void 0:return m.missingPremitive;case null:return m.nilPremitive;case"":return m.emptyValue;default:return g}},v=function(g,$){return C($[0])||C(g[g.length-1])||(g+=m.boundryChar),g+$},C=function(g){return h.indexOf(g)!==-1},w=f(15),_=f(7).buildOptions;u.convert2nimn=function(g,$,T){return T=_(T,w.defaultOptions,w.props),b(g,$,T)}},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(15),b=function y(v,C,w){for(var _,g="{",$=Object.keys(v.child),T=0;T<$.length;T++){var M=$[T];if(v.child[M]&&v.child[M].length>1){for(var S in g+='"'+M+'" : [ ',v.child[M])g+=y(v.child[M][S],C)+" , ";g=g.substr(0,g.length-1)+" ] "}else g+='"'+M+'" : '+y(v.child[M][0],C)+" ,"}return d.merge(g,v.attrsMap),d.isEmptyObject(g)?d.isExist(v.val)?v.val:"":(d.isExist(v.val)&&(typeof v.val!="string"||v.val!==""&&v.val!==C.cdataPositionChar)&&(g+='"'+C.textNodeName+'" : '+((_=v.val)!==!0&&_!==!1&&isNaN(_)?'"'+_+'"':_)),g[g.length-1]===","&&(g=g.substr(0,g.length-2)),g+"}")};u.convertToJsonString=function(y,v){return(v=m(v,h.defaultOptions,h.props)).indentBy=v.indentBy||"",b(y,v)}},function(o,u,f){function d(I){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(I)}var m=f(7).buildOptions,h={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(I){return I},attrValueProcessor:function(I){return I}},b=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function y(I){this.options=m(I,h,b),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=M),this.options.cdataTagName?this.isCDATA=S:this.isCDATA=function(){return!1},this.replaceCDATAstr=v,this.replaceCDATAarr=C,this.options.format?(this.indentate=T,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=$,this.buildObjNode=_):(this.buildTextNode=g,this.buildObjNode=w),this.buildTextValNode=g,this.buildObjectNode=w}function v(I,B){return I=this.options.tagValueProcessor(""+I),this.options.cdataPositionChar===""||I===""?I+"<![CDATA["+B+"]]"+this.tagEndChar:I.replace(this.options.cdataPositionChar,"<![CDATA["+B+"]]"+this.tagEndChar)}function C(I,B){if(I=this.options.tagValueProcessor(""+I),this.options.cdataPositionChar===""||I==="")return I+"<![CDATA["+B.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var x in B)I=I.replace(this.options.cdataPositionChar,"<![CDATA["+B[x]+"]]>");return I+this.newLine}function w(I,B,x,F){return x&&!I.includes("<")?this.indentate(F)+"<"+B+x+">"+I+"</"+B+this.tagEndChar:this.indentate(F)+"<"+B+x+this.tagEndChar+I+this.indentate(F)+"</"+B+this.tagEndChar}function _(I,B,x,F){return I!==""?this.buildObjectNode(I,B,x,F):this.indentate(F)+"<"+B+x+"/"+this.tagEndChar}function g(I,B,x,F){return this.indentate(F)+"<"+B+x+">"+this.options.tagValueProcessor(I)+"</"+B+this.tagEndChar}function $(I,B,x,F){return I!==""?this.buildTextValNode(I,B,x,F):this.indentate(F)+"<"+B+x+"/"+this.tagEndChar}function T(I){return this.options.indentBy.repeat(I)}function M(I){return!!I.startsWith(this.options.attributeNamePrefix)&&I.substr(this.attrPrefixLen)}function S(I){return I===this.options.cdataTagName}y.prototype.parse=function(I){return this.j2x(I,0).val},y.prototype.j2x=function(I,B){for(var x="",F="",R=Object.keys(I),L=R.length,z=0;z<L;z++){var J=R[z];if(I[J]!==void 0)if(I[J]===null)F+=this.indentate(B)+"<"+J+"/"+this.tagEndChar;else if(I[J]instanceof Date)F+=this.buildTextNode(I[J],J,"",B);else if(d(I[J])!=="object"){var K=this.isAttribute(J);K?x+=" "+K+'="'+this.options.attrValueProcessor(""+I[J])+'"':this.isCDATA(J)?I[this.options.textNodeName]?F+=this.replaceCDATAstr(I[this.options.textNodeName],I[J]):F+=this.replaceCDATAstr("",I[J]):J===this.options.textNodeName?I[this.options.cdataTagName]||(F+=this.options.tagValueProcessor(""+I[J])):F+=this.buildTextNode(I[J],J,"",B)}else if(Array.isArray(I[J]))if(this.isCDATA(J))F+=this.indentate(B),I[this.options.textNodeName]?F+=this.replaceCDATAarr(I[this.options.textNodeName],I[J]):F+=this.replaceCDATAarr("",I[J]);else for(var ee=I[J].length,q=0;q<ee;q++){var G=I[J][q];if(G!==void 0)if(G===null)F+=this.indentate(B)+"<"+J+"/"+this.tagEndChar;else if(d(G)==="object"){var Z=this.j2x(G,B+1);F+=this.buildObjNode(Z.val,J,Z.attrStr,B)}else F+=this.buildTextNode(G,J,"",B)}else if(this.options.attrNodeName&&J===this.options.attrNodeName)for(var ie=Object.keys(I[J]),Q=ie.length,H=0;H<Q;H++)x+=" "+ie[H]+'="'+this.options.attrValueProcessor(""+I[J][ie[H]])+'"';else{var ne=this.j2x(I[J],B+1);F+=this.buildObjNode(ne.val,J,ne.attrStr,B)}}return{attrStr:x,val:F}},o.exports=y},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function b(w,_,g){this.fn=w,this.context=_,this.once=g||!1}function y(w,_,g,$,T){if(typeof g!="function")throw new TypeError("The listener must be a function");var M=new b(g,$||w,T),S=m?m+_:_;return w._events[S]?w._events[S].fn?w._events[S]=[w._events[S],M]:w._events[S].push(M):(w._events[S]=M,w._eventsCount++),w}function v(w,_){--w._eventsCount==0?w._events=new h:delete w._events[_]}function C(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),C.prototype.eventNames=function(){var w,_,g=[];if(this._eventsCount===0)return g;for(_ in w=this._events)d.call(w,_)&&g.push(m?_.slice(1):_);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(w)):g},C.prototype.listeners=function(w){var _=m?m+w:w,g=this._events[_];if(!g)return[];if(g.fn)return[g.fn];for(var $=0,T=g.length,M=new Array(T);$<T;$++)M[$]=g[$].fn;return M},C.prototype.listenerCount=function(w){var _=m?m+w:w,g=this._events[_];return g?g.fn?1:g.length:0},C.prototype.emit=function(w,_,g,$,T,M){var S=m?m+w:w;if(!this._events[S])return!1;var I,B,x=this._events[S],F=arguments.length;if(x.fn){switch(x.once&&this.removeListener(w,x.fn,void 0,!0),F){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,_),!0;case 3:return x.fn.call(x.context,_,g),!0;case 4:return x.fn.call(x.context,_,g,$),!0;case 5:return x.fn.call(x.context,_,g,$,T),!0;case 6:return x.fn.call(x.context,_,g,$,T,M),!0}for(B=1,I=new Array(F-1);B<F;B++)I[B-1]=arguments[B];x.fn.apply(x.context,I)}else{var R,L=x.length;for(B=0;B<L;B++)switch(x[B].once&&this.removeListener(w,x[B].fn,void 0,!0),F){case 1:x[B].fn.call(x[B].context);break;case 2:x[B].fn.call(x[B].context,_);break;case 3:x[B].fn.call(x[B].context,_,g);break;case 4:x[B].fn.call(x[B].context,_,g,$);break;default:if(!I)for(R=1,I=new Array(F-1);R<F;R++)I[R-1]=arguments[R];x[B].fn.apply(x[B].context,I)}}return!0},C.prototype.on=function(w,_,g){return y(this,w,_,g,!1)},C.prototype.once=function(w,_,g){return y(this,w,_,g,!0)},C.prototype.removeListener=function(w,_,g,$){var T=m?m+w:w;if(!this._events[T])return this;if(!_)return v(this,T),this;var M=this._events[T];if(M.fn)M.fn!==_||$&&!M.once||g&&M.context!==g||v(this,T);else{for(var S=0,I=[],B=M.length;S<B;S++)(M[S].fn!==_||$&&!M[S].once||g&&M[S].context!==g)&&I.push(M[S]);I.length?this._events[T]=I.length===1?I[0]:I:v(this,T)}return this},C.prototype.removeAllListeners=function(w){var _;return w?(_=m?m+w:w,this._events[_]&&v(this,_)):(this._events=new h,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=m,C.EventEmitter=C,o.exports=C},function(o,u){o.exports=function(f){if(!f.webpackPolyfill){var d=Object.create(f);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(o,u,f){function d(U){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}f.r(u),f.d(u,"Filestack",function(){return Nr}),f.d(u,"init",function(){return Ji}),f.d(u,"version",function(){return li}),f.d(u,"EAlignOptions",function(){return he}),f.d(u,"EAlignFacesOptions",function(){return Se}),f.d(u,"EFitOptions",function(){return qe}),f.d(u,"EBlurMode",function(){return lt}),f.d(u,"EShapeType",function(){return Et}),f.d(u,"ENoiseType",function(){return Lt}),f.d(u,"EStyleType",function(){return Ft}),f.d(u,"EColorspaceType",function(){return Bt}),f.d(u,"ECropfacesType",function(){return Zt}),f.d(u,"ESmartCropMode",function(){return sn}),f.d(u,"EImageWatermarkPosition",function(){return Vn}),f.d(u,"EVideoTypes",function(){return cn}),f.d(u,"EUrlscreenshotAgent",function(){return pn}),f.d(u,"EUrlscreenshotMode",function(){return ft}),f.d(u,"EUrlscreenshotOrientation",function(){return Mt}),f.d(u,"EVideoLocations",function(){return Nt}),f.d(u,"EVideoAccess",function(){return en}),f.d(u,"EVideoAccessMode",function(){return dn}),f.d(u,"transform",function(){return Tn}),f.d(u,"Align",function(){return dt}),f.d(u,"FitOptions",function(){return pt}),f.d(u,"BlurMode",function(){return et}),f.d(u,"ShapeType",function(){return yt}),f.d(u,"NoiseType",function(){return Te}),f.d(u,"StyleType",function(){return Ve}),f.d(u,"ColorspaceType",function(){return We}),f.d(u,"CropfacesType",function(){return Le}),f.d(u,"ImageWatermarkPosition",function(){return je}),f.d(u,"SmartCropMode",function(){return Ze}),f.d(u,"VideoTypes",function(){return Ge}),f.d(u,"URLScreenshotAgent",function(){return it}),f.d(u,"URLScreenshotMode",function(){return rt}),f.d(u,"URLScreenshotOrientation",function(){return Xe}),f.d(u,"Locations",function(){return tt}),f.d(u,"VideoAccess",function(){return $t}),f.d(u,"VideoAccessMode",function(){return ht}),f.d(u,"EnhancePreset",function(){return kt}),f.d(u,"Filelink",function(){return _t}),f.d(u,"FilestackErrorType",function(){return le}),f.d(u,"FsHttpMethod",function(){return He.a}),f.d(u,"FsRequest",function(){return xt}),f.d(u,"FsRequestErrorCode",function(){return Wn.b}),f.d(u,"FsRequestError",function(){return Wn.a}),f.d(u,"FsCancelToken",function(){return On}),f.d(u,"resolveCdnUrl",function(){return _e.resolveCdnUrl}),f.d(u,"resolveHost",function(){return _e.resolveHost}),f.d(u,"removeEmpty",function(){return _e.removeEmpty}),f.d(u,"uniqueTime",function(){return _e.uniqueTime}),f.d(u,"uniqueId",function(){return _e.uniqueId}),f.d(u,"extensionToMime",function(){return _e.extensionToMime}),f.d(u,"sanitizeName",function(){return _e.sanitizeName}),f.d(u,"filterObject",function(){return _e.filterObject}),f.d(u,"cleanUpCallbacks",function(){return _e.cleanUpCallbacks}),f.d(u,"md5",function(){return _e.md5}),f.d(u,"b64",function(){return _e.b64}),f.d(u,"getVersion",function(){return _e.getVersion}),f.d(u,"isMobile",function(){return _e.isMobile}),f.d(u,"isFacebook",function(){return _e.isFacebook}),f.d(u,"TransformSchema",function(){return ve}),f.d(u,"getSecurity",function(){return C}),f.d(u,"validateWebhookSignature",function(){return w}),f.d(u,"Client",function(){return mr}),f.d(u,"FilestackError",function(){return me}),f.d(u,"PickerDisplayMode",function(){return dr}),f.d(u,"getMimetype",function(){return _e.getMimetype}),f.d(u,"PrefetchEvents",function(){return pr});var m,h=function(U){var D={};function V(Y){if(D[Y])return D[Y].exports;var ae=D[Y]={i:Y,l:!1,exports:{}};return U[Y].call(ae.exports,ae,ae.exports,V),ae.l=!0,ae.exports}return V.m=U,V.c=D,V.d=function(Y,ae,ce){V.o(Y,ae)||Object.defineProperty(Y,ae,{enumerable:!0,get:ce})},V.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})},V.t=function(Y,ae){if(1&ae&&(Y=V(Y)),8&ae||4&ae&&d(Y)=="object"&&Y&&Y.__esModule)return Y;var ce=Object.create(null);if(V.r(ce),Object.defineProperty(ce,"default",{enumerable:!0,value:Y}),2&ae&&typeof Y!="string")for(var pe in Y)V.d(ce,pe,function(we){return Y[we]}.bind(null,pe));return ce},V.n=function(Y){var ae=Y&&Y.__esModule?function(){return Y.default}:function(){return Y};return V.d(ae,"a",ae),ae},V.o=function(Y,ae){return Object.prototype.hasOwnProperty.call(Y,ae)},V.p="",V(V.s=0)}([function(U,D,V){V.r(D),V.d(D,"loadModules",function(){return Re}),V.d(D,"loadModule",function(){return xe}),V.d(D,"registerModule",function(){return Ie}),V.d(D,"loadCss",function(){return nt}),V.d(D,"FILESTACK_MODULES",function(){return Y});var Y,ae={},ce=function(){var De,at=(De=typeof window>"u"?ae:window).filestackInternals;return at||(at={modules:{}},De.filestackInternals=at),at.modules||(at.modules={}),at}(),pe=ce&&ce.modules,we=function(De,at,bt){De.detachEvent?De.detachEvent("onreadystatechange",at):De.removeEventListener(bt,at,!1)},Re=function(De){return Promise.all(De.map(function(at){var bt=at.id,Ut=at.url;return xe(bt,Ut)})).then(function(at){var bt={};return at.forEach(function(Ut,fn){var Xt=De[fn];bt[Xt.id]=Ut}),bt})},xe=function(De,at){if(typeof window>"u")return Promise.reject(new Error("Load module is working only on browser env"));if(!De)throw new Error("Module id is required");var bt=pe[De="fs-loader-"+De];return bt||(pe[De]={},bt=pe[De]),bt.instance?Promise.resolve(bt.instance):bt.promise?bt.promise:bt.promise=new Promise(function(Ut,fn){var Xt=function Fn(hn){if(hn.type==="load"||/^(complete|loaded)$/.test((hn.currentTarget||hn.srcElement).readyState)){var Dn=hn.currentTarget||hn.srcElement;we(Dn,Fn,"load"),we(Dn,fn,"error"),setTimeout(function(){return Ut(pe[De]?pe[De].instance:void 0)},10)}},Gt=document.createElement("script");Gt.id=De,!Gt.attachEvent||Gt.attachEvent.toString&&Gt.attachEvent.toString().indexOf("[native code")<0?(Gt.addEventListener("load",Xt,!1),Gt.addEventListener("onerror",fn,!1)):Gt.attachEvent("onreadystatechange",Xt),Gt.setAttribute("crossorigin","anonymous"),Gt.setAttribute("charset","utf-8"),Gt.setAttribute("async","true"),Gt.src=at,document.body.appendChild(Gt)})},Ie=function(De,at,bt){if(typeof window<"u"){if(!De)throw new Error("Module id is required");if(!pe)throw new Error("Loader is not initialized");pe[De="fs-loader-"+De]&&(pe[De]={instance:at,metadata:bt})}},nt=function(De){return document.querySelector('link[href="'.concat(De,'"]'))!==null?Promise.resolve():new Promise(function(at){var bt=document.getElementsByTagName("head")[0],Ut=document.createElement("link");Ut.rel="stylesheet",Ut.href=De,Ut.addEventListener("load",function fn(){at(),Ut.removeEventListener("load",fn)}),bt.appendChild(Ut)})};(function(De){De.FILESTACK_SDK="filestack-sdk",De.TRANSFORMS_UI="transforms-ui",De.PICKER="picker"})(Y||(Y={}))}]),b=(h.loadModules,h.loadModule),y=h.registerModule,v=(h.loadCss,h.FILESTACK_MODULES),C=function(U,D){throw new Error("getSecurity is only supported in nodejs")},w=function(U,D,V){throw new Error("validateWebhookSignature is only supported in nodejs")},_=f(0),g=f(8);(function(U){U.Ok="ok",U.Exited="exited",U.Crashed="crashed",U.Abnormal="abnormal"})(m||(m={}));var $=f(9),T=f(54),M=Object($.b)(),S="Sentry Logger ",I=function(){function U(){this._enabled=!1}return U.prototype.disable=function(){this._enabled=!1},U.prototype.enable=function(){this._enabled=!0},U.prototype.log=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object($.a)(function(){M.console.log(S+"[Log]: "+D.join(" "))})},U.prototype.warn=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object($.a)(function(){M.console.warn(S+"[Warn]: "+D.join(" "))})},U.prototype.error=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object($.a)(function(){M.console.error(S+"[Error]: "+D.join(" "))})},U}();M.__SENTRY__=M.__SENTRY__||{};var B,x=M.__SENTRY__.logger||(M.__SENTRY__.logger=new I),F=f(13),R=f(4);(function(U){U.PENDING="PENDING",U.RESOLVED="RESOLVED",U.REJECTED="REJECTED"})(B||(B={}));var L=function(){function U(D){var V=this;this._state=B.PENDING,this._handlers=[],this._resolve=function(Y){V._setResult(B.RESOLVED,Y)},this._reject=function(Y){V._setResult(B.REJECTED,Y)},this._setResult=function(Y,ae){V._state===B.PENDING&&(Object(R.j)(ae)?ae.then(V._resolve,V._reject):(V._state=Y,V._value=ae,V._executeHandlers()))},this._attachHandler=function(Y){V._handlers=V._handlers.concat(Y),V._executeHandlers()},this._executeHandlers=function(){if(V._state!==B.PENDING){var Y=V._handlers.slice();V._handlers=[],Y.forEach(function(ae){ae.done||(V._state===B.RESOLVED&&ae.onfulfilled&&ae.onfulfilled(V._value),V._state===B.REJECTED&&ae.onrejected&&ae.onrejected(V._value),ae.done=!0)})}};try{D(this._resolve,this._reject)}catch(Y){this._reject(Y)}}return U.resolve=function(D){return new U(function(V){V(D)})},U.reject=function(D){return new U(function(V,Y){Y(D)})},U.all=function(D){return new U(function(V,Y){if(Array.isArray(D))if(D.length!==0){var ae=D.length,ce=[];D.forEach(function(pe,we){U.resolve(pe).then(function(Re){ce[we]=Re,(ae-=1)===0&&V(ce)}).then(null,Y)})}else V([]);else Y(new TypeError("Promise.all requires an array as input."))})},U.prototype.then=function(D,V){var Y=this;return new U(function(ae,ce){Y._attachHandler({done:!1,onfulfilled:function(pe){if(D)try{return void ae(D(pe))}catch(we){return void ce(we)}else ae(pe)},onrejected:function(pe){if(V)try{return void ae(V(pe))}catch(we){return void ce(we)}else ce(pe)}})})},U.prototype.catch=function(D){return this.then(function(V){return V},D)},U.prototype.finally=function(D){var V=this;return new U(function(Y,ae){var ce,pe;return V.then(function(we){pe=!1,ce=we,D&&D()},function(we){pe=!0,ce=we,D&&D()}).then(function(){pe?ae(ce):Y(ce)})})},U.prototype.toString=function(){return"[object SyncPromise]"},U}(),z=function(){function U(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return U.clone=function(D){var V=new U;return D&&(V._breadcrumbs=Object(_.e)(D._breadcrumbs),V._tags=Object(_.a)({},D._tags),V._extra=Object(_.a)({},D._extra),V._contexts=Object(_.a)({},D._contexts),V._user=D._user,V._level=D._level,V._span=D._span,V._session=D._session,V._transactionName=D._transactionName,V._fingerprint=D._fingerprint,V._eventProcessors=Object(_.e)(D._eventProcessors)),V},U.prototype.addScopeListener=function(D){this._scopeListeners.push(D)},U.prototype.addEventProcessor=function(D){return this._eventProcessors.push(D),this},U.prototype.setUser=function(D){return this._user=D||{},this._session&&this._session.update({user:D}),this._notifyScopeListeners(),this},U.prototype.getUser=function(){return this._user},U.prototype.setTags=function(D){return this._tags=Object(_.a)(Object(_.a)({},this._tags),D),this._notifyScopeListeners(),this},U.prototype.setTag=function(D,V){var Y;return this._tags=Object(_.a)(Object(_.a)({},this._tags),((Y={})[D]=V,Y)),this._notifyScopeListeners(),this},U.prototype.setExtras=function(D){return this._extra=Object(_.a)(Object(_.a)({},this._extra),D),this._notifyScopeListeners(),this},U.prototype.setExtra=function(D,V){var Y;return this._extra=Object(_.a)(Object(_.a)({},this._extra),((Y={})[D]=V,Y)),this._notifyScopeListeners(),this},U.prototype.setFingerprint=function(D){return this._fingerprint=D,this._notifyScopeListeners(),this},U.prototype.setLevel=function(D){return this._level=D,this._notifyScopeListeners(),this},U.prototype.setTransactionName=function(D){return this._transactionName=D,this._notifyScopeListeners(),this},U.prototype.setTransaction=function(D){return this.setTransactionName(D)},U.prototype.setContext=function(D,V){var Y;return V===null?delete this._contexts[D]:this._contexts=Object(_.a)(Object(_.a)({},this._contexts),((Y={})[D]=V,Y)),this._notifyScopeListeners(),this},U.prototype.setSpan=function(D){return this._span=D,this._notifyScopeListeners(),this},U.prototype.getSpan=function(){return this._span},U.prototype.getTransaction=function(){var D,V,Y,ae,ce=this.getSpan();return!((D=ce)===null||D===void 0)&&D.transaction?(V=ce)===null||V===void 0?void 0:V.transaction:!((ae=(Y=ce)===null||Y===void 0?void 0:Y.spanRecorder)===null||ae===void 0)&&ae.spans[0]?ce.spanRecorder.spans[0]:void 0},U.prototype.setSession=function(D){return D?this._session=D:delete this._session,this._notifyScopeListeners(),this},U.prototype.getSession=function(){return this._session},U.prototype.update=function(D){if(!D)return this;if(typeof D=="function"){var V=D(this);return V instanceof U?V:this}return D instanceof U?(this._tags=Object(_.a)(Object(_.a)({},this._tags),D._tags),this._extra=Object(_.a)(Object(_.a)({},this._extra),D._extra),this._contexts=Object(_.a)(Object(_.a)({},this._contexts),D._contexts),D._user&&Object.keys(D._user).length&&(this._user=D._user),D._level&&(this._level=D._level),D._fingerprint&&(this._fingerprint=D._fingerprint)):Object(R.e)(D)&&(D=D,this._tags=Object(_.a)(Object(_.a)({},this._tags),D.tags),this._extra=Object(_.a)(Object(_.a)({},this._extra),D.extra),this._contexts=Object(_.a)(Object(_.a)({},this._contexts),D.contexts),D.user&&(this._user=D.user),D.level&&(this._level=D.level),D.fingerprint&&(this._fingerprint=D.fingerprint)),this},U.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},U.prototype.addBreadcrumb=function(D,V){var Y=Object(_.a)({timestamp:Object(T.a)()},D);return this._breadcrumbs=V!==void 0&&V>=0?Object(_.e)(this._breadcrumbs,[Y]).slice(-V):Object(_.e)(this._breadcrumbs,[Y]),this._notifyScopeListeners(),this},U.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},U.prototype.applyToEvent=function(D,V){var Y;if(this._extra&&Object.keys(this._extra).length&&(D.extra=Object(_.a)(Object(_.a)({},this._extra),D.extra)),this._tags&&Object.keys(this._tags).length&&(D.tags=Object(_.a)(Object(_.a)({},this._tags),D.tags)),this._user&&Object.keys(this._user).length&&(D.user=Object(_.a)(Object(_.a)({},this._user),D.user)),this._contexts&&Object.keys(this._contexts).length&&(D.contexts=Object(_.a)(Object(_.a)({},this._contexts),D.contexts)),this._level&&(D.level=this._level),this._transactionName&&(D.transaction=this._transactionName),this._span){D.contexts=Object(_.a)({trace:this._span.getTraceContext()},D.contexts);var ae=(Y=this._span.transaction)===null||Y===void 0?void 0:Y.name;ae&&(D.tags=Object(_.a)({transaction:ae},D.tags))}return this._applyFingerprint(D),D.breadcrumbs=Object(_.e)(D.breadcrumbs||[],this._breadcrumbs),D.breadcrumbs=D.breadcrumbs.length>0?D.breadcrumbs:void 0,this._notifyEventProcessors(Object(_.e)(J(),this._eventProcessors),D,V)},U.prototype._notifyEventProcessors=function(D,V,Y,ae){var ce=this;return ae===void 0&&(ae=0),new L(function(pe,we){var Re=D[ae];if(V===null||typeof Re!="function")pe(V);else{var xe=Re(Object(_.a)({},V),Y);Object(R.j)(xe)?xe.then(function(Ie){return ce._notifyEventProcessors(D,Ie,Y,ae+1).then(pe)}).then(null,we):ce._notifyEventProcessors(D,xe,Y,ae+1).then(pe).then(null,we)}})},U.prototype._notifyScopeListeners=function(){var D=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(V){V(D)}),this._notifyingListeners=!1)},U.prototype._applyFingerprint=function(D){D.fingerprint=D.fingerprint?Array.isArray(D.fingerprint)?D.fingerprint:[D.fingerprint]:[],this._fingerprint&&(D.fingerprint=D.fingerprint.concat(this._fingerprint)),D.fingerprint&&!D.fingerprint.length&&delete D.fingerprint},U}();function J(){var U=Object($.b)();return U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.globalEventProcessors=U.__SENTRY__.globalEventProcessors||[],U.__SENTRY__.globalEventProcessors}var K=f(55),ee=function(){function U(D){this.errors=0,this.sid=Object($.c)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=m.Ok,this.init=!0,D&&this.update(D)}return U.prototype.update=function(D){D===void 0&&(D={}),D.user&&(D.user.ip_address&&(this.ipAddress=D.user.ip_address),D.did||(this.did=D.user.id||D.user.email||D.user.username)),this.timestamp=D.timestamp||Date.now(),D.sid&&(this.sid=D.sid.length===32?D.sid:Object($.c)()),D.init!==void 0&&(this.init=D.init),D.did&&(this.did=""+D.did),typeof D.started=="number"&&(this.started=D.started),typeof D.duration=="number"?this.duration=D.duration:this.duration=this.timestamp-this.started,D.release&&(this.release=D.release),D.environment&&(this.environment=D.environment),D.ipAddress&&(this.ipAddress=D.ipAddress),D.userAgent&&(this.userAgent=D.userAgent),typeof D.errors=="number"&&(this.errors=D.errors),D.status&&(this.status=D.status)},U.prototype.close=function(D){D?this.update({status:D}):this.status===m.Ok?this.update({status:m.Exited}):this.update()},U.prototype.toJSON=function(){return Object(K.a)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Object(K.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},U}(),q=function(){function U(D,V,Y){V===void 0&&(V=new z),Y===void 0&&(Y=3),this._version=Y,this._stack=[{}],this.getStackTop().scope=V,this.bindClient(D)}return U.prototype.isOlderThan=function(D){return this._version<D},U.prototype.bindClient=function(D){this.getStackTop().client=D,D&&D.setupIntegrations&&D.setupIntegrations()},U.prototype.pushScope=function(){var D=z.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:D}),D},U.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},U.prototype.withScope=function(D){var V=this.pushScope();try{D(V)}finally{this.popScope()}},U.prototype.getClient=function(){return this.getStackTop().client},U.prototype.getScope=function(){return this.getStackTop().scope},U.prototype.getStack=function(){return this._stack},U.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},U.prototype.captureException=function(D,V){var Y=this._lastEventId=Object($.c)(),ae=V;if(!V){var ce=void 0;try{throw new Error("Sentry syntheticException")}catch(pe){ce=pe}ae={originalException:D,syntheticException:ce}}return this._invokeClient("captureException",D,Object(_.a)(Object(_.a)({},ae),{event_id:Y})),Y},U.prototype.captureMessage=function(D,V,Y){var ae=this._lastEventId=Object($.c)(),ce=Y;if(!Y){var pe=void 0;try{throw new Error(D)}catch(we){pe=we}ce={originalException:D,syntheticException:pe}}return this._invokeClient("captureMessage",D,V,Object(_.a)(Object(_.a)({},ce),{event_id:ae})),ae},U.prototype.captureEvent=function(D,V){var Y=this._lastEventId=Object($.c)();return this._invokeClient("captureEvent",D,Object(_.a)(Object(_.a)({},V),{event_id:Y})),Y},U.prototype.lastEventId=function(){return this._lastEventId},U.prototype.addBreadcrumb=function(D,V){var Y=this.getStackTop(),ae=Y.scope,ce=Y.client;if(ae&&ce){var pe=ce.getOptions&&ce.getOptions()||{},we=pe.beforeBreadcrumb,Re=we===void 0?null:we,xe=pe.maxBreadcrumbs,Ie=xe===void 0?100:xe;if(!(Ie<=0)){var nt=Object(T.a)(),De=Object(_.a)({timestamp:nt},D),at=Re?Object($.a)(function(){return Re(De,V)}):De;at!==null&&ae.addBreadcrumb(at,Math.min(Ie,100))}}},U.prototype.setUser=function(D){var V=this.getScope();V&&V.setUser(D)},U.prototype.setTags=function(D){var V=this.getScope();V&&V.setTags(D)},U.prototype.setExtras=function(D){var V=this.getScope();V&&V.setExtras(D)},U.prototype.setTag=function(D,V){var Y=this.getScope();Y&&Y.setTag(D,V)},U.prototype.setExtra=function(D,V){var Y=this.getScope();Y&&Y.setExtra(D,V)},U.prototype.setContext=function(D,V){var Y=this.getScope();Y&&Y.setContext(D,V)},U.prototype.configureScope=function(D){var V=this.getStackTop(),Y=V.scope,ae=V.client;Y&&ae&&D(Y)},U.prototype.run=function(D){var V=Z(this);try{D(this)}finally{Z(V)}},U.prototype.getIntegration=function(D){var V=this.getClient();if(!V)return null;try{return V.getIntegration(D)}catch{return x.warn("Cannot retrieve integration "+D.id+" from the current Hub"),null}},U.prototype.startSpan=function(D){return this._callExtensionMethod("startSpan",D)},U.prototype.startTransaction=function(D,V){return this._callExtensionMethod("startTransaction",D,V)},U.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},U.prototype.captureSession=function(D){if(D===void 0&&(D=!1),D)return this.endSession();this._sendSessionUpdate()},U.prototype.endSession=function(){var D,V,Y,ae,ce;(Y=(V=(D=this.getStackTop())===null||D===void 0?void 0:D.scope)===null||V===void 0?void 0:V.getSession())===null||Y===void 0||Y.close(),this._sendSessionUpdate(),(ce=(ae=this.getStackTop())===null||ae===void 0?void 0:ae.scope)===null||ce===void 0||ce.setSession()},U.prototype.startSession=function(D){var V=this.getStackTop(),Y=V.scope,ae=V.client,ce=ae&&ae.getOptions()||{},pe=ce.release,we=ce.environment,Re=new ee(Object(_.a)(Object(_.a)({release:pe,environment:we},Y&&{user:Y.getUser()}),D));if(Y){var xe=Y.getSession&&Y.getSession();xe&&xe.status===m.Ok&&xe.update({status:m.Exited}),this.endSession(),Y.setSession(Re)}return Re},U.prototype._sendSessionUpdate=function(){var D=this.getStackTop(),V=D.scope,Y=D.client;if(V){var ae=V.getSession&&V.getSession();ae&&Y&&Y.captureSession&&Y.captureSession(ae)}},U.prototype._invokeClient=function(D){for(var V,Y=[],ae=1;ae<arguments.length;ae++)Y[ae-1]=arguments[ae];var ce=this.getStackTop(),pe=ce.scope,we=ce.client;we&&we[D]&&(V=we)[D].apply(V,Object(_.e)(Y,[pe]))},U.prototype._callExtensionMethod=function(D){for(var V=[],Y=1;Y<arguments.length;Y++)V[Y-1]=arguments[Y];var ae=G(),ce=ae.__SENTRY__;if(ce&&ce.extensions&&typeof ce.extensions[D]=="function")return ce.extensions[D].apply(this,V);x.warn("Extension method "+D+" couldn't be found, doing nothing.")},U}();function G(){var U=Object($.b)();return U.__SENTRY__=U.__SENTRY__||{extensions:{},hub:void 0},U}function Z(U){var D=G(),V=H(D);return ne(D,U),V}function ie(){var U=G();return Q(U)&&!H(U).isOlderThan(3)||ne(U,new q),Object(F.b)()?function(D){var V,Y,ae;try{var ce=(ae=(Y=(V=G().__SENTRY__)===null||V===void 0?void 0:V.extensions)===null||Y===void 0?void 0:Y.domain)===null||ae===void 0?void 0:ae.active;if(!ce)return H(D);if(!Q(ce)||H(ce).isOlderThan(3)){var pe=H(D).getStackTop();ne(ce,new q(pe.client,z.clone(pe.scope)))}return H(ce)}catch{return H(D)}}(U):H(U)}function Q(U){return!!(U&&U.__SENTRY__&&U.__SENTRY__.hub)}function H(U){return U&&U.__SENTRY__&&U.__SENTRY__.hub||(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=new q),U.__SENTRY__.hub}function ne(U,D){return!!U&&(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=D,!0)}function re(U){for(var D=[],V=1;V<arguments.length;V++)D[V-1]=arguments[V];var Y=ie();if(Y&&Y[U])return Y[U].apply(Y,Object(_.e)(D));throw new Error("No hub defined or "+U+" was not found on the hub, please open a bug report.")}function X(U,D){var V;try{throw new Error("Sentry syntheticException")}catch(Y){V=Y}return re("captureException",U,{captureContext:D,originalException:U,syntheticException:V})}function ue(U){re("withScope",U)}var le,ye={urls:{processUrl:"https://process.filestackapi.com",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/1.23.0/picker.js"}};(function(U){U.VALIDATION="validation",U.REQUEST="request",U.ABORTED="aborted",U.OTHER="other"})(le||(le={}));var me=function(U){function D(V,Y,ae){var ce=U.call(this,V)||this;return Object.setPrototypeOf(ce,D.prototype),ce.details=Y,ce.type=ae,ce}return Object(_.c)(D,U),D}(Error),ve={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,properties:{flip:{type:"boolean",additionalProperties:!1},auto_image:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enhance:{default:!0,oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["auto","vivid","beautify","beautify_plus","fix_dark","fix_noise","fix_tint","outdoor","fireworks"]}}}]},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},smart_crop:{width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",default:"auto",enum:["face","auto"]}},animate:{type:"object",properties:{delay:{type:"integer",minimum:0,maximum:1e4,default:1e3},loop:{type:"integer",minimum:0,maximum:1e3,default:0},width:{type:"integer",minimum:1,maximum:1800},height:{type:"integer",minimum:1,maximum:1800},fit:{type:"string",default:"clip",enum:["clip","scale","crop"]},background:{$ref:"colorDef",default:"transparent"},align:{$ref:"positionDef",default:"center"}}},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",enum:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"colorDef",default:"snow"},background:{$ref:"colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"colorDef"},background:{$ref:"colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"colorDef"},background:{$ref:"colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},ascii:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"colorDef",default:"000000FF"},background:{$ref:"colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"colorDef"},pageformat:{type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:4096},height:{type:"integer",minimum:1,maximum:4096},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]},pdfinfo:{oneOf:[{type:"boolean"},{type:"object",properties:{colorinfo:{type:"boolean"}}}]},pdfconvert:{type:"object",additionalProperties:!1,properties:{pageorientation:{type:"string",enum:["portrait","landscape"]},pageformat:{$ref:"pageFormatDef"},pages:{$ref:"pageRangeDef"}},anyOf:[{required:["pageorientation"]},{required:["pageformat"]},{required:["pages"]}]},fallback:{type:"object",additionalProperties:!1,properties:{handle:{type:"string"},cache:{type:"integer",minimum:1,maximum:31536e3}},required:["handle"]},zip:{type:"string"},minify_css:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},level:{type:"number",enum:[1,2]}}},minify_js:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},use_babel_polyfill:{type:"boolean"},keep_fn_name:{type:"boolean"},keep_class_name:{type:"boolean"},mangle:{type:"boolean"},merge_vars:{type:"boolean"},remove_console:{type:"boolean"},remove_undefined:{type:"boolean"},targets:{type:"string"}}}}},Ce=f(18),be={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack",description:"Filestack common definitions",type:"object",additionalProperties:!1,definitions:{workflowsDef:{id:"/workflowsDef",type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}]},securityCallDef:{id:"/securityCallDef",oneOf:[{additionalProperties:!1,type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},{type:"array",additionalProperties:!1,items:[{minItems:1,maxItems:10,type:"string",additionalProperties:!1,enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]}]}]},regionsDef:{id:"/regionsDef",type:"string"},locationsDef:{id:"/locationsDef",type:"string",enum:["s3","S3","rackspace","gcs","azure","dropbox"]},colorDef:{id:"colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent"]}]},pageFormatDef:{id:"/pageFormatDef",type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageRangeDef:{id:"/pageRangeDef",type:"array",uniqueItems:!0,items:[{oneOf:[{type:"integer",minimum:1},{type:"string",pattern:"^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$",errorMessage:'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" '}]}]},facesDef:{id:"/facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{id:"/objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{id:"/positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right","faces"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,maxItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}}},Ae=new Ce.Validator;Ce.Validator.prototype.customFormats.callback=function(U){return typeof U=="function"},Ce.Validator.prototype.customFormats.HTMLContainer=function(U){return typeof U=="string"||U.toString&&U.toString().indexOf("HTML")>-1};var fe=function(U){return function(D){return Ae.addSchema(be),Ae.validate(D,U)}},_e=f(1),Ne=f(3),Je=f.n(Ne);function Ke(U){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var dt,pt,et,yt,Te,Ve,We,Le,je,Ze,Ge,it,rt,Xe,tt,$t,ht,kt,Pt=Je()("fs:filelink");(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces",U.middle="middle"})(dt||(dt={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(pt||(pt={})),function(U){U.linear="linear",U.gaussian="gaussian"}(et||(et={})),function(U){U.oval="oval",U.rect="rect"}(yt||(yt={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(Te||(Te={})),function(U){U.artwork="artwork",U.photo="photo"}(Ve||(Ve={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(We||(We={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(Le||(Le={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(je||(je={})),function(U){U.face="face",U.auto="auto"}(Ze||(Ze={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(Ge||(Ge={})),function(U){U.desktop="desktop",U.mobile="mobile"}(it||(it={})),function(U){U.all="all",U.window="window"}(rt||(rt={})),function(U){U.portrait="portrait",U.landscape="landscape"}(Xe||(Xe={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(tt||(tt={})),function(U){U.private="private",U.public="public"}($t||($t={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(ht||(ht={})),function(U){U.auto="auto",U.vivid="vivid",U.beautify="beautify",U.beautifyPlus="beautify_plus",U.fixDark="fix_dark",U.fixNoise="fix_noise",U.fixTint="fix_tint",U.outdor="outdoor",U.fireworks="fireworks"}(kt||(kt={}));var At=/^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/,_t=function(){function U(D,V){this.transforms=[],this.b64=!1,this.useValidator=!0,this.arrayToObject=function(Y,ae,ce){return Y===void 0&&(Y=[]),Y.reduce(function(pe,we){return pe[we[ae]]=we[ce],pe},{})},this.apikey=V,this.setSource(D)}return U.prototype.setBase64=function(D){return this.b64=D,this},U.prototype.setUseValidator=function(D){return this.useValidator=D,this},U.prototype.setCname=function(D){return this.cname=D,this},U.prototype.setCustomDomain=function(D){return this.customDomain=D,this},U.prototype.setSource=function(D){this.source=D;var V=this.isSourceExternal();if(Pt("Source "+D+" - isExternal? "+V),V&&!this.apikey)throw new me("External sources requires apikey to handle transforms");if(!V&&typeof this.source=="string"&&!At.test(this.source)&&this.source.indexOf("filestackcontent")===-1)throw new me("Invalid filestack source provided")},U.prototype.getValidationSchema=function(){return ve},U.prototype.getTransformations=function(){return this.useValidator&&this.validateTasks(this.transforms),this.transforms},U.prototype.toString=function(){var D=[];D.push(this.getCdnHost()),this.useValidator&&this.validateTasks(this.transforms),this.apikey&&D.push(this.apikey);var V=this.generateTransformString(),Y=this.source;return this.b64?(this.transforms.length>0&&(V="b64/"+Object(_e.b64)(JSON.stringify(this.transforms),!0)),Array.isArray(Y)&&(Y=this.arrayToString(Y)),Y="b64://"+Object(_e.b64)(Y,!0)):Y=Array.isArray(Y)?this.arrayToString(Y):this.escapeValue(Y),V.length&&D.push(V),D.push(Y),D.join("/")},U.prototype.addTask=function(D,V){if(Je()("Add task  "+D+" with params %O",V),D!=="cache"&&typeof V=="boolean"){if(!V)return this;V=void 0}else Ke(V)!=="object"||Object.keys(V).length||(V=void 0);return this.transforms.push({name:D,params:V}),this},U.prototype.getTasks=function(){return this.transforms},U.prototype.reset=function(){return this.transforms=[],this},U.prototype.autoImage=function(){return this.addTask("auto_image",!0)},U.prototype.flip=function(){return this.addTask("flip",!0)},U.prototype.flop=function(){return this.addTask("flop",!0)},U.prototype.imagesize=function(){return this.addTask("imagesize",!0)},U.prototype.noMetadata=function(){return this.addTask("no_metadata",!0)},U.prototype.pjpg=function(D){return this.addTask("pjpg",D)},U.prototype.smartCrop=function(D){return this.addTask("smart_crop",D)},U.prototype.watermark=function(D){return this.addTask("watermark",D)},U.prototype.enhance=function(D){return this.addTask("enhance",D||!0)},U.prototype.redeye=function(){return this.addTask("redeye",!0)},U.prototype.monochrome=function(){return this.addTask("monochrome",!0)},U.prototype.compress=function(D){return this.addTask("compress",D||!0)},U.prototype.negative=function(){return this.addTask("negative",!0)},U.prototype.tags=function(){return this.addTask("tags",!0)},U.prototype.sfw=function(){return this.addTask("sfw",!0)},U.prototype.animate=function(D){return this.addTask("animate",D)},U.prototype.store=function(D){return this.addTask("store",D)},U.prototype.cache=function(D){return this.addTask("cache",D)},U.prototype.resize=function(D){return this.addTask("resize",D)},U.prototype.crop=function(D){return this.addTask("crop",D)},U.prototype.rotate=function(D){return this.addTask("rotate",D)},U.prototype.detectFaces=function(D){return this.addTask("detect_faces",D)},U.prototype.cropFaces=function(D){return this.addTask("crop_faces",D)},U.prototype.pixelateFaces=function(D){return this.addTask("pixelate_faces",D)},U.prototype.blurFaces=function(D){return this.addTask("blur_faces",D)},U.prototype.roundedCorners=function(D){return this.addTask("rounded_corners",D)},U.prototype.polaroid=function(D){return this.addTask("polaroid",D)},U.prototype.vignette=function(D){return this.addTask("vignette",D)},U.prototype.tornEdges=function(D){return this.addTask("torn_edges",D)},U.prototype.shadow=function(D){return this.addTask("shadow",D)},U.prototype.circle=function(D){return this.addTask("circle",D)},U.prototype.border=function(D){return this.addTask("border",D)},U.prototype.sharpen=function(D){return this.addTask("sharpen",D)},U.prototype.blur=function(D){return this.addTask("blur",D)},U.prototype.blackwhite=function(D){return this.addTask("blackwhite",D)},U.prototype.sepia=function(D){return this.addTask("sepia",D)},U.prototype.pixelate=function(D){return this.addTask("pixelate",D)},U.prototype.oilPaint=function(D){return this.addTask("oil_paint",D)},U.prototype.modulate=function(D){return this.addTask("modulate",D)},U.prototype.partialPixelate=function(D){return this.addTask("partial_pixelate",D)},U.prototype.partialBlur=function(D){return this.addTask("partial_blur",D)},U.prototype.collage=function(D){return this.addTask("collage",D)},U.prototype.upscale=function(D){return this.addTask("upscale",D)},U.prototype.ascii=function(D){return this.addTask("ascii",D)},U.prototype.quality=function(D){return this.addTask("quality",D)},U.prototype.security=function(D){return this.addTask("security",D)},U.prototype.output=function(D){return this.addTask("output",D)},U.prototype.videoConvert=function(D){return this.addTask("video_convert",D)},U.prototype.URLScreenshot=function(D){return this.addTask("urlscreenshot",D)},U.prototype.PDFInfo=function(D){return this.addTask("pdfinfo",D)},U.prototype.PDFConvert=function(D){return this.addTask("pdfconvert",D)},U.prototype.fallback=function(D){return this.addTask("fallback",D)},U.prototype.zip=function(){return this.addTask("zip",!0)},U.prototype.minifyCss=function(D){return this.addTask("minify_css",D)},U.prototype.minifyJs=function(D){return this.addTask("minify_js",D)},U.prototype.isSourceExternal=function(){if(!this.source)throw new me("Source not Set");var D=Array.isArray(this.source)?this.source:[this.source];for(var V in D)if(D.hasOwnProperty(V)&&(D[V].indexOf("src:")===0||D[V].indexOf("http")===0&&D[V].indexOf("filestackcontent")===-1))return!0;return!1},U.prototype.validateTasks=function(D){var V=U.validator(this.arrayToObject(D,"name","params"));if(V.errors.length)throw new me("Params validation error",V.errors,le.VALIDATION)},U.prototype.getCdnHost=function(){var D=Object.assign({},ye.urls);return this.customDomain&&(D.cdnUrl=this.customDomain),(D=Object(_e.resolveHost)(D,this.cname)).cdnUrl},U.prototype.generateTransformString=function(){var D=this,V=[];return this.transforms.forEach(function(Y){V.push(D.optionToString(Y.name,Y.params))}),V.join("/")},U.prototype.optionToString=function(D,V){var Y=this,ae=[];return V===void 0?D:typeof V=="boolean"?V||D!=="cache"?D:"cache=false":(Object.keys(V).forEach(function(ce){Array.isArray(V[ce])?ae.push(ce+":"+Y.arrayToString(V[ce])):ae.push(ce+":"+Y.escapeValue(V[ce]))}),D+"="+ae.join(","))},U.prototype.escapeValue=function(D){return typeof D!="string"?D:D.indexOf("/")>-1||D.indexOf(",")>-1?'"'+D+'"':D},U.prototype.arrayToString=function(D){var V=this;return"["+D.map(function(Y){return Array.isArray(Y)?V.arrayToString(Y):V.escapeValue(Y)})+"]"},U.validator=fe(ve),U}(),zt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Store",description:"Filestack Store Options",type:"object",additionalProperties:!1,properties:{filename:{oneOf:[{type:"string"},{format:"callback"}]},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"},disableStorageKey:{type:"boolean"},tags:{type:"object",additionalProperties:{type:"string"}},sanitizer:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{exclude:{type:"array",items:[{type:"string"}]},replacement:{type:"string"}}}]}}},an={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Preview",description:"Filestack Preview Options",type:"object",additionalProperties:!1,properties:{id:{type:"string"},css:{type:"string"}}},Jt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Upload",description:"Filestack Upload Options",type:"object",additionalProperties:!1,properties:{partSize:{type:"integer",minimum:5242880},concurrency:{type:"integer",minimum:1,maximum:20},progressInterval:{type:"integer",minimum:1},retry:{type:"integer",minimum:0,maximum:20},retryFactor:{type:"integer"},retryMaxTime:{type:"integer"},timeout:{type:"integer",minimum:1,maximum:36e5},intelligent:{oneOf:[{type:"boolean"},{type:"string",enum:["fallback"]}]},intelligentChunkSize:{type:"integer"},onProgress:{format:"callback"},onRetry:{format:"callback"},disableIntegrityCheck:{type:"boolean"},tags:{type:"object",maxItems:10,additionalProperties:{type:"string",maxlength:256}}}},Wt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Picker",description:"Filestack Picker Options",type:"object",additionalProperties:!1,properties:{allowManualRetry:{type:"boolean"},accept:{additionalProperties:!1,oneOf:[{type:"string"},{type:"array",minItems:1,items:[{type:"string"}]}]},acceptFn:{format:"callback"},fromSources:{type:"array",items:[{type:["string","object"],additionalProperties:!1,enum:["local_file_system","url","imagesearch","facebook","instagram","googledrive","unsplash","dropbox","webcam","video","audio","box","github","gmail","googlephotos","onedrive","onedriveforbusiness","clouddrive","googlephotos","customsource","tint"]}]},container:{format:"HTMLContainer"},cleanupImageExif:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{keepOrientation:{type:"boolean"},keepICCandAPP:{type:"boolean"}}}]},displayMode:{type:"string",enum:["inline","overlay","dropPane"]},concurrency:{type:"integer",minimum:1,maximum:20},supportEmail:{type:"string"},customSourceContainer:{type:"string"},customSourcePath:{type:"string"},customSourceName:{type:"string"},disableStorageKey:{type:"boolean"},disableTransformer:{type:"boolean"},disableThumbnails:{type:"boolean"},exposeOriginalFile:{type:"boolean"},globalDropZone:{type:"boolean"},hideModalWhenUploading:{type:"boolean"},imageDim:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMax:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMin:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMinMaxBlock:{type:"boolean",default:!1},lang:{type:"string",enum:["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"]},minFiles:{type:"integer",minimum:1,maximum:1e6},maxFiles:{type:"integer",minimum:1,maximum:1e6},maxSize:{type:"integer",minimum:1},modalSize:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1,maximum:1e6}]},rootId:{type:"string"},startUploadingWhenMaxFilesReached:{type:"boolean"},uploadInBackground:{type:"boolean"},videoResolution:{type:"string"},onCancel:{format:"callback"},onClose:{format:"callback"},onOpen:{format:"callback"},onFileSelected:{format:"callback"},onFileUploadCancel:{format:"callback"},onFileUploadStarted:{format:"callback"},onFileUploadFinished:{format:"callback"},onFileUploadFailed:{format:"callback"},onFileUploadProgress:{format:"callback"},onUploadStarted:{format:"callback"},onUploadDone:{format:"callback"},onFileCropped:{format:"callback"},storeTo:{additionalProperties:!1,type:"object",properties:{filename:{type:"string"},location:{$ref:"locationsDef"},container:{type:"string"},path:{type:"string"},region:{type:"string"},access:{type:"string",enum:["public","private"]},workflows:{$ref:"workflowsDef"}}},viewType:{type:"string",enum:["grid","list"]},transformations:{type:"object",additionalProperties:!1,properties:{circle:{type:"boolean"},rotate:{type:"boolean"},force:{type:"boolean"},crop:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{force:{type:"boolean"},aspectRatio:{type:"number"}}}]}}},customText:{type:"object",patternProperties:{".*":{type:"string"}}},cropFiles:{type:"array",minItems:1},loadCss:{type:"string"},failOverMaxFiles:{type:"boolean"},dropPane:{type:"object",properties:{cropFiles:{type:"array",minItems:1},customText:{type:"string"},disableClick:{type:"boolean"},overlay:{type:"boolean"},showIcon:{type:"boolean"},showProgress:{type:"boolean"},onDragEnter:{format:"callback"},onProgress:{format:"callback"},onDragLeave:{format:"callback"},onDragOver:{format:"callback"},onDrop:{format:"callback"},onSuccess:{format:"callback"},onError:{format:"callback"},onClick:{format:"callback"}}},errorsTimeout:{type:"number",minimum:0},customAuthText:{type:"object",patternProperties:{".*":{additionalProperties:!1,type:"object",required:["top","bottom"],properties:{top:{type:"string"},bottom:{type:"string"}}}}},uploadConfig:{type:"object",additionalProperties:!1,properties:Object(_.a)(Object(_.a)({},Jt.properties),{tags:{type:"object",additionalProperties:{anyOf:[{type:"string"},{format:"callback"}]}}})},useSentryBreadcrumbs:{type:"boolean"},pasteMode:{type:"object",additionalProperties:!1,properties:{pasteToFirstInViewPort:{type:"boolean"},pasteToFirstInstance:{type:"boolean"}}}}},Yt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Metadata",description:"Filestack Metadata Options",type:"object",additionalProperties:!1,properties:{size:{type:"boolean"},mimetype:{type:"boolean"},filename:{type:"boolean"},width:{type:"boolean"},metadata:{type:"boolean"},height:{type:"boolean"},uploaded:{type:"boolean"},writeable:{type:"boolean"},cloud:{type:"boolean"},sourceUrl:{type:"boolean"},md5:{type:"boolean"},sha1:{type:"boolean"},sha224:{type:"boolean"},sha256:{type:"boolean"},sha384:{type:"boolean"},sha512:{type:"boolean"},location:{type:"boolean"},path:{type:"boolean"},container:{type:"boolean"},exif:{type:"boolean"}}},Ye={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Retrieve",description:"Filestack Retrieve Options",type:"object",additionalProperties:!1,properties:{metadata:{type:"boolean"},head:{type:"boolean"},dl:{type:"boolean"},cache:{type:"boolean"},extension:{type:"string"}}},He=f(6),mt=f(16),gt=Je()("fs:request:dispatch"),Dt=function(){function U(D){this.adapter=D}return U.prototype.request=function(D){var V=this;return D.headers=D.headers||{},gt("Dispatching request %O",D),this.adapter.request(D).catch(function(Y){return gt('Request error "%s": %O',Y,Y.response),V.retry(Y)})},U.prototype.retry=function(D){var V=this,Y=D.config;if(!Object(mt.a)(D))return gt("[Retry] Request error is not retriable. Exiting"),Promise.reject(D);if(!Y.retry)return gt("[Retry] Retry config not found. Exiting"),Promise.reject(D);var ae=Y.retry,ce=Y.runtime&&Y.runtime.retryCount?Y.runtime.retryCount:0;if(ae.retry&&ae.retry<=ce)return gt("[Retry] Retry attempts reached %d. Exiting",ce),Promise.reject(D);var pe=Math.max(Math.min(ae.retryMaxTime,1e3*Math.pow(ae.retryFactor,ce)),1);return Y.runtime=Object(_.a)(Object(_.a)({},Y.runtime),{retryCount:ce+1}),gt("[Retry] Retrying request to "+Y.url+", count "+ce+" of "+ae.retry+" - Delay: "+pe),new Promise(function(we){setTimeout(function(){return we(V.request(Y))},pe)})},U}(),Ln=f(43).XhrAdapter,xt=function(){function U(D){this.defaults=D,this.dispatcher=new Dt(new Ln)}return U.getInstance=function(){return U.instance||(U.instance=new U),U.instance},U.prototype.dispatch=function(D){return D.method||(D.method=He.a.GET),this.dispatcher.request(Object.assign({},this.defaults,D))},U.dispatch=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{url:D}))},U.get=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:He.a.GET,url:D}))},U.head=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:He.a.HEAD,url:D}))},U.options=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:He.a.OPTIONS,url:D}))},U.purge=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:He.a.PURGE,url:D}))},U.delete=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:He.a.DELETE,url:D}))},U.post=function(D,V,Y){return U.getInstance().dispatch(Object.assign({},Y||{},{method:He.a.POST,url:D,data:V}))},U.put=function(D,V,Y){return U.getInstance().dispatch(Object.assign({},Y||{},{method:He.a.PUT,url:D,data:V}))},U.path=function(D,V,Y){return U.getInstance().dispatch(Object.assign({},Y||{},{method:He.a.PATH,url:D,data:V}))},U}(),Wn=f(2),On=function(U){function D(){return U!==null&&U.apply(this,arguments)||this}return Object(_.c)(D,U),D.prototype.cancel=function(V){this.emit("cancel",V),this.removeAllListeners()},D}(g.EventEmitter),nn=function(U,D,V,Y){if(!D||typeof D!="string")throw new me("A valid Filestack handle is required for remove");if(!(U.policy&&U.signature||Y&&Y.policy&&Y.signature))throw new me("Security policy and signature are required for remove");var ae=U.urls.fileApiUrl+"/"+D,ce={key:U.apikey,policy:Y&&Y.policy||U.policy,signature:Y&&Y.signature||U.signature};return V&&(ce.skip_storage=!0),xt.delete(ae,{filestackHeaders:!1,params:Object(_e.removeEmpty)(ce)})};function rn(U){return(rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var he,Se,qe,lt,Et,Lt,Ft,Bt,Zt,sn,Vn,cn,pn,ft,Mt,Nt,en,dn;(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top"})(he||(he={})),function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces"}(Se||(Se={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(qe||(qe={})),function(U){U.linear="linear",U.gaussian="gaussian"}(lt||(lt={})),function(U){U.oval="oval",U.rect="rect"}(Et||(Et={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(Lt||(Lt={})),function(U){U.artwork="artwork",U.photo="photo"}(Ft||(Ft={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(Bt||(Bt={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(Zt||(Zt={})),function(U){U.fit="fit",U.auto="auto"}(sn||(sn={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(Vn||(Vn={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(cn||(cn={})),function(U){U.desktop="desktop",U.mobile="mobile"}(pn||(pn={})),function(U){U.all="all",U.window="window"}(ft||(ft={})),function(U){U.portrait="portrait",U.landscape="landscape"}(Mt||(Mt={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(Nt||(Nt={})),function(U){U.private="private",U.public="public"}(en||(en={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(dn||(dn={}));var Tn=function(U,D,V,Y){V===void 0&&(V={}),Y===void 0&&(Y=!1),V=function ce(pe){for(var we={},Re=Object.keys(pe),xe=0;xe<Re.length;xe++){var Ie=Re[xe].split(/(?=[A-Z])/).join("_").toLowerCase();rn(pe[Re[xe]])!=="object"||Array.isArray(pe[Re[xe]])?we[Ie]=pe[Re[xe]]:we[Ie]=ce(pe[Re[xe]])}return we}(V),U.policy&&U.signature&&(V.security={policy:U.policy,signature:U.signature});var ae=new _t(D,U.apikey);return ae.setCname(U.cname),ae.setBase64(Y),Object.keys(V).forEach(function(ce){(typeof V[ce]!="boolean"||V[ce]||ce==="cache")&&ae.addTask(ce,V[ce])}),ae.toString()};function It(U){return(It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var Ot,mn=function(){function U(D,V){this._file=D,this._sanitizeOptions=V,this._file.name=Object(_e.sanitizeName)(this._file.name,this._sanitizeOptions)}return Object.defineProperty(U.prototype,"name",{get:function(){return this._file.name},set:function(D){this._file.name=Object(_e.sanitizeName)(D,this._sanitizeOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"filename",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"customName",{set:function(D){switch(It(D)){case"string":this.name=D;break;case"function":if(typeof D(this)!="string")throw new Error("Name function must return a string. Current return type is "+It(D));this.name=D(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"type",{get:function(){return this._file.type||"application/octet-stream"},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"mimetype",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"size",{get:function(){return this._file.size},enumerable:!0,configurable:!0}),U.prototype.getPartsCount=function(D){return Math.ceil(this._file.size/D)},U.prototype.getPartMetadata=function(D,V){var Y=V*D;if(Y>this._file.size)throw new Error("Start byte of the part is higher than buffer size");var ae=Math.min(Y+V,this._file.size);return{partNumber:D,startByte:Y,endByte:ae,size:ae-Y}},U.prototype.getPartByMetadata=function(D,V){return V===void 0&&(V=!0),Object(_.b)(this,void 0,void 0,function(){var Y;return Object(_.d)(this,function(ae){switch(ae.label){case 0:return[4,this._file.slice(D.startByte,D.endByte)];case 1:return Y=ae.sent(),[2,Promise.resolve(Object(_.a)(Object(_.a)({},D),{buffer:Y,md5:V?Object(_e.md5)(Y):void 0}))]}})})},U.prototype.getChunkByMetadata=function(D,V,Y,ae){return ae===void 0&&(ae=!0),Object(_.b)(this,void 0,void 0,function(){var ce,pe,we;return Object(_.d)(this,function(Re){switch(Re.label){case 0:return ce=D.startByte+V,pe=Math.min(ce+Y,D.endByte),[4,this._file.slice(ce,pe)];case 1:return we=Re.sent(),[2,Promise.resolve(Object(_.a)(Object(_.a)({},D),{buffer:we,md5:ae?Object(_e.md5)(we):void 0,size:we.byteLength,startByte:ce,endByte:pe,offset:V}))]}})})},U.prototype.release=function(){this._file.release&&this._file.release()},U.prototype.toJSON=function(){return{name:this.name,status:this.status,type:this.type,size:this.size,url:this.url,handle:this.handle,uploadTags:this.uploadTags}},U}(),jn=f(17),Wi=f.n(jn),kr=/data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i,Pr=function(U,D,V){return new Promise(function(Y,ae){var ce=new FileReader,pe=V.slice(U,D);ce.onload=function(){return Y(ce.result)},ce.onerror=ae,ce.readAsArrayBuffer(pe)})},Hn=function(U,D){var V,Y;if(function(ae){return ae&&ae.file&&ae.name}(U)&&(V=U.name,U=U.file),function(ae){return ae instanceof File}(U))Y=U,V=U.name;else if(function(ae){if(typeof ae!="string")return!1;ae.indexOf("base64")>-1&&(ae=ae.match(kr).pop());try{return btoa(atob(ae))===ae}catch{return!1}}(U))Y=function(ae,ce){ce===void 0&&(ce=512);var pe="";if(ae.indexOf("base64")>-1){var we=ae.match(kr);ae=we.pop(),pe=we[1]}for(var Re=atob(ae),xe=[],Ie=0;Ie<Re.length;Ie+=ce){for(var nt=Re.slice(Ie,Ie+ce),De=new Array(nt.length),at=0;at<nt.length;at+=1)De[at]=nt.charCodeAt(at);xe.push(new Uint8Array(De))}return new Blob(xe,{type:pe})}(U);else{if(!function(ae){return ae.toString()==="[object Blob]"}(U))return Promise.reject(new me("Unsupported input file type"));Y=U}return function(ae){return Object(_.b)(void 0,void 0,void 0,function(){return Object(_.d)(this,function(ce){return File&&FileReader&&Blob?[2,Promise.resolve({slice:function(pe,we){return Pr(pe,we,ae)},release:function(){ae=null}})]:[2,Promise.reject(new me("The File APIs are not fully supported by your browser"))]})})}(Y).then(function(ae){return Object(_.b)(void 0,void 0,void 0,function(){var ce,pe;return Object(_.d)(this,function(we){switch(we.label){case 0:return ce=Y.type,Y.type&&Y.type.length!==0&&Y.type!=="text/plain"?[3,2]:(pe=_e.getMimetype,[4,ae.slice(0,Wi.a.minimumBytes)]);case 1:ce=pe.apply(void 0,[we.sent(),V]),we.label=2;case 2:return[2,new mn({name:V,size:Y.size,type:ce,slice:ae.slice,release:ae.release},D)]}})})})},Ar=f(29),Vi=f.n(Ar),cr=f(11),$n=Je()("fs:upload:abstract"),oi=function(U){function D(V,Y){Y===void 0&&(Y=3);var ae=U.call(this)||this;return ae.storeOptions=V,ae.concurrency=Y,ae.partSize=6291456,ae.intelligentChunkSize=Object(_e.isMobile)()?1048576:8388608,ae.timeout=3e4,ae.uploadMode="default",ae.isModeLocked=!1,ae.integrityCheck=!0,ae.uploadTags=null,ae}return Object(_.c)(D,U),D.prototype.setSecurity=function(V){$n("Set security %O",V),this.security=V},D.prototype.setApikey=function(V){$n("Set apikey to "+V),this.apikey=V},D.prototype.setTimeout=function(V){$n("Set request timeout to "+V),this.timeout=V},D.prototype.setRetryConfig=function(V){$n("Set retry config to "+V),this.retryConfig=V},D.prototype.setUrl=function(V){$n("Set upload url to "+V),this.url=V},D.prototype.setUploadTags=function(V){$n("Set tags to %O",V),this.uploadTags=V},D.prototype.setIntegrityCheck=function(V){this.integrityCheck=V},D.prototype.setUploadMode=function(V,Y){Y===void 0&&(Y=!1),this.isModeLocked!==!0?(this.isModeLocked=Y,$n("Set upload mode to "+V),this.uploadMode=V):$n("Cannot switch mode to "+V+". Locked! Probably mode is not supported at this apikey")},D.prototype.setPartSize=function(V){if(this.uploadMode==="default"){if($n("Set part size to "+V),V<5242880)throw new me("Minimum part size is 5MB");this.partSize=V}else $n("Cannot set part size because upload mode is other than default. ")},D.prototype.getPartSize=function(){return this.partSize},D.prototype.setIntelligentChunkSize=function(V){if($n("Set inteligent chunk size to "+V),V<32768)throw new me("Minimum intelligent chunk size is 32768");this.intelligentChunkSize=V},D.prototype.getIntelligentChunkSize=function(){return this.intelligentChunkSize},D.prototype.getUrl=function(){if(!this.url)throw new me("Upload url not set");return this.url},D}(g),St=Je()("fs:upload:s3"),xr=function(U){function D(V,Y){var ae=U.call(this,V,Y)||this;return ae.payloads={},ae.partsQueue=new Vi.a({autoStart:!1,concurrency:ae.concurrency}),ae.cancelToken=new On,ae}return Object(_.c)(D,U),D.prototype.pause=function(){this.partsQueue.pause()},D.prototype.resume=function(){this.partsQueue.isPaused&&this.partsQueue.start()},D.prototype.abort=function(V){this.partsQueue.pause(),this.partsQueue.clear(),this.cancelToken.cancel(V||"Aborted by user")},D.prototype.execute=function(){return Object(_.b)(this,void 0,void 0,function(){var V,Y=this;return Object(_.d)(this,function(ae){return V=Object.keys(this.payloads).map(function(ce){return new Promise(function(pe){return Object(_.b)(Y,void 0,void 0,function(){var we,Re;return Object(_.d)(this,function(xe){switch(xe.label){case 0:return xe.trys.push([0,5,,6]),[4,this.startRequest(ce)];case 1:return xe.sent(),[4,this.prepareParts(ce)];case 2:return xe.sent(),[4,this.startPartsQueue(ce)];case 3:return xe.sent(),[4,this.completeRequest(ce)];case 4:return xe.sent(),[3,6];case 5:return we=xe.sent(),this.emit("error",we),St("["+ce+`] File upload failed. %O, 
Details: %O `,we.message,we.details),[3,6];case 6:return(Re=this.getPayloadById(ce).file).release(),delete this.payloads[ce],pe(Re),[2]}})})})}),[2,Promise.all(V)]})})},D.prototype.addFile=function(V){St(`Add file to queue: 
 %o`,V);var Y=Object(_e.uniqueId)(15)+"_"+Object(_e.uniqueTime)();return V.status="Initialized",this.payloads[Y]={file:V,parts:[]},Y},D.prototype.getUploadUrl=function(V){var Y=this.getDefaultFields(V,["location_url"]).location_url;return Y.indexOf("http")===0?Y:"https://"+Y},D.prototype.getStoreOptions=function(V){var Y=Object(_.a)({location:"s3"},this.storeOptions);if(this.storeOptions.disableStorageKey){var ae=this.getPayloadById(V);Y.path&&Y.path.substr(-1)!=="/"&&(Y.path=Y.path+"/"),Y.path=""+(Y.path?Y.path:"/")+ae.file.name,delete Y.disableStorageKey}return Y},D.prototype.getDefaultFields=function(V,Y,ae){ae===void 0&&(ae=!1);var ce=this.getPayloadById(V),pe=Object(_.a)(Object(_.a)({},this.security),{apikey:this.apikey,uri:ce.uri,location_url:ce.location_url,upload_id:ce.upload_id,region:ce.region});return(this.uploadMode==="intelligent"||this.uploadMode==="fallback"&&ae)&&(pe.fii=!0),Object(_.a)(Object(_.a)({},Object(_e.filterObject)(pe,Y)),{store:this.getStoreOptions(V)})},D.prototype.getDefaultHeaders=function(V){var Y={},ae=this.getPayloadById(V);return ae.location_region&&(Y["Filestack-Upload-Region"]=ae.location_region),Y},D.prototype.getPayloadById=function(V){return this.payloads[V]},D.prototype.prepareParts=function(V){var Y=this.getPayloadById(V).file;["intelligent","fallback"].indexOf(this.uploadMode)>-1&&(this.partSize=8388608);for(var ae=Y.getPartsCount(this.partSize),ce=[],pe=0;pe<ae;pe++)ce[pe]=Object(_.a)(Object(_.a)({},Y.getPartMetadata(pe,this.partSize)),{offset:0});return this.payloads[V].parts=ce,Promise.resolve()},D.prototype.startRequest=function(V){var Y=this,ae=this.getPayloadById(V);return ae.file.size===0?(this.setPayloadStatus(V,"Failed"),Promise.reject(new me('Invalid file "'+ae.file.name+'" size - 0',{},le.VALIDATION))):(St("["+V+"] Make start request"),xt.post(this.getUrl()+"/multipart/start",Object(_.a)({filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size},this.getDefaultFields(V,["apikey","policy","signature","fii"],!0)),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(ce){var pe=ce.data;return pe&&pe.location_url&&pe.region&&pe.upload_id&&pe.uri?(St("["+V+`] Assign payload data: 
%O
`,pe),Y.updatePayload(V,pe),["intelligent","fallback"].indexOf(Y.uploadMode)>-1&&(!pe.upload_type||pe.upload_type!=="intelligent_ingestion")&&(St("["+V+"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change"),Y.setUploadMode("default",!0)),pe):(St("["+V+`] Incorrect start response: 
%O
`,pe),Y.setPayloadStatus(V,"Failed"),Promise.reject(new me("Incorrect start response",pe,le.REQUEST)))}).catch(function(ce){return St("["+V+"] Start request error %O",ce),Y.setPayloadStatus(V,"Failed"),Y.rejectUpload("Cannot upload file. Start request failed",ce)}))},D.prototype.startPartsQueue=function(V){return Object(_.b)(this,void 0,void 0,function(){var Y,ae,ce,pe=this;return Object(_.d)(this,function(we){return Y=this.getPayloadById(V),ae=Y.parts,ce=ae.length,St("["+V+"] Create uploading queue from file. parts count - %d",ce),[2,new Promise(function(Re,xe){return Object(_.b)(pe,void 0,void 0,function(){var Ie,nt=this;return Object(_.d)(this,function(De){switch(De.label){case 0:return ae.forEach(function(at){return nt.partsQueue.add(function(){return nt.startPart(V,at.partNumber)}).catch(function(bt){return nt.setPayloadStatus(V,"Failed"),St("["+V+"] Failed to upload part %s",bt.message),nt.partsQueue.pause(),nt.partsQueue.clear(),xe(bt)})}),St("["+V+"] All tasks for %s enqueued. Start processing main upload queue",V),this.emit("start"),this.partsQueue.start(),Ie=Re,[4,this.partsQueue.onIdle()];case 1:return Ie.apply(void 0,[De.sent()]),[2]}})})})]})})},D.prototype.startPart=function(V,Y){return St("["+V+"] Start processing part "+Y+" with mode "+this.uploadMode),this.getPayloadById(V).file.status="Progress",(this.uploadMode!=="intelligent"?this.uploadRegular:this.uploadIntelligent).apply(this,[V,Y])},D.prototype.getS3PartMetadata=function(V,Y,ae){var ce=this,pe=this.getUploadUrl(V);St("["+V+"] Get data for part "+Y.partNumber+", url "+pe+", Md5: "+Y.md5+", Size: "+Y.size);var we=Object(_.a)(Object(_.a)({},this.getDefaultFields(V,["apikey","uri","region","signature","policy","upload_id","fii"])),{part:Y.partNumber+1,size:Y.size,offset:ae});return this.integrityCheck&&Y.md5&&(we.md5=Y.md5),xt.post(pe+"/multipart/upload",we,{headers:this.getDefaultHeaders(V),cancelToken:this.cancelToken,timeout:this.timeout,retry:this.retryConfig}).catch(function(Re){return ce.setPayloadStatus(V,"Failed"),ce.rejectUpload("Cannot get part metadata",Re)})},D.prototype.uploadRegular=function(V,Y){return Object(_.b)(this,void 0,void 0,function(){var ae,ce,pe,we,Re,xe,Ie=this;return Object(_.d)(this,function(nt){switch(nt.label){case 0:return ae=this.getPayloadById(V),ce=ae.parts[Y],[4,ae.file.getPartByMetadata(ce,this.integrityCheck)];case 1:return pe=nt.sent(),[4,this.getS3PartMetadata(V,pe)];case 2:return we=nt.sent(),Re=we.data,xe=we.headers,St("["+V+"] Received part "+Y+` info body: 
%O
 headers: 
%O
`,Re,xe),[2,xt.put(Re.url,pe.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:Re.headers,filestackHeaders:!1,onProgress:function(De){return Ie.onProgressUpdate(V,Y,De.loaded)},retry:this.retryConfig&&this.uploadMode!=="fallback"?this.retryConfig:void 0}).then(function(De){if(!De.headers.etag)throw pe=null,new me("Cannot upload file, check S3 bucket settings","Etag header is not exposed in CORS settings",le.REQUEST);return Ie.setPartETag(V,Y,De.headers.etag),St("["+V+"] S3 Upload response headers for "+Y+`: 
%O
`,De.headers),Ie.onProgressUpdate(V,Y,pe.size),pe=null,De}).catch(function(De){var at=De&&De.response?De.response:null;if(at&&at.status===403&&at.data&&at.data.Error&&at.data.Error.code){var bt=at.data.Error.code;switch(Array.isArray(bt)&&(bt=bt.pop()),bt){case"RequestTimeTooSkewed":return Ie.startPart(V,Y);default:return Promise.reject(new me("Cannot upload file",at.data.Error,le.REQUEST))}}return pe=null,De instanceof me?Promise.reject(De):(Ie.onProgressUpdate(V,Y,0),Ie.uploadMode==="fallback"&&!Ie.isModeLocked||Ie.uploadMode==="intelligent"?(St("["+V+"] Regular upload failed. Switching to intelligent ingestion mode"),Ie.setUploadMode("intelligent"),Ie.startPart(V,Y)):Ie.rejectUpload("Cannot upload file part",De))})]}})})},D.prototype.uploadIntelligent=function(V,Y){return Object(_.b)(this,void 0,void 0,function(){var ae=this;return Object(_.d)(this,function(ce){return[2,this.uploadNextChunk(V,Y).then(function(){return ae.commitPart(V,Y)})]})})},D.prototype.uploadNextChunk=function(V,Y,ae){return ae===void 0&&(ae=this.intelligentChunkSize),Object(_.b)(this,void 0,void 0,function(){var ce,pe,we,Re,xe=this;return Object(_.d)(this,function(Ie){switch(Ie.label){case 0:return ce=this.getPayloadById(V),pe=ce.parts[Y],ae=Math.min(ae,pe.size-pe.offset),[4,ce.file.getChunkByMetadata(pe,pe.offset,ae,this.integrityCheck)];case 1:return we=Ie.sent(),St("["+V+"] PartNum: "+Y+", PartSize: "+pe.size+", StartByte: "+pe.startByte+", Offset: "+pe.offset+", ChunkSize: "+we.size+`,
       Left: `+(pe.size-pe.offset-we.size)),[4,this.getS3PartMetadata(V,we,pe.offset).catch(function(nt){return St("["+V+"] Getting chunk data for ii failed %O, Chunk size: "+ae+", offset "+pe.offset+", part "+Y,nt),Promise.reject(nt)})];case 2:return Re=Ie.sent().data,[2,xt.put(Re.url,we.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:Re.headers,filestackHeaders:!1,onProgress:function(nt){return pe?xe.onProgressUpdate(V,Y,pe.offset+nt.loaded):null}}).then(function(nt){xe.onProgressUpdate(V,Y,pe.offset+we.size);var De=Math.min(pe.offset+ae,pe.size);return St("["+V+"] S3 Chunk uploaded! offset: "+pe.offset+", part "+Y+"! response headers for "+Y+`: 
%O
`,nt.headers),xe.setPartData(V,Y,"offset",De),De===pe.size?Promise.resolve(nt):(pe=null,we=null,xe.uploadNextChunk(V,Y,ae))}).catch(function(nt){var De=nt&&nt.response?nt.response:null;if(De&&De.status===403&&De.data&&De.data.Error&&De.data.Error.code){var at=De.data.Error.code;switch(Array.isArray(at)&&(at=at.pop()),at){case"RequestTimeTooSkewed":return xe.startPart(V,Y);default:return Promise.reject(new me("Cannot upload file",De.data.Error,le.REQUEST))}}xe.onProgressUpdate(V,Y,pe.offset);var bt=Math.ceil(ae/2);return bt<32768?(St("["+V+"] Minimal chunk size limit. Upload file failed!"),Promise.reject(new me("Min chunk size reached",nt.data,le.REQUEST))):Object(cr.e)(nt)?(St("["+V+"] Request network error. Retry with new chunk size: "+bt),xe.uploadNextChunk(V,Y,bt)):(pe=null,we=null,xe.rejectUpload("Cannot upload file part (FII)",nt))})]}})})},D.prototype.commitPart=function(V,Y){var ae=this,ce=this.getPayloadById(V),pe=ce.parts[Y];return xt.post(this.getUploadUrl(V)+"/multipart/commit",Object(_.a)(Object(_.a)({},this.getDefaultFields(V,["apikey","region","upload_id","policy","signature","uri"])),{size:ce.file.size,part:pe.partNumber+1}),{cancelToken:this.cancelToken,timeout:this.timeout,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(we){return St("["+V+"] Commit Part number "+pe.partNumber+". Response: %O",we.data),we}).catch(function(we){return ae.rejectUpload("Cannot commit file part metadata",we)})},D.prototype.completeRequest=function(V){var Y=this,ae=this.getPayloadById(V),ce=[];St("["+V+"] Run complete request");for(var pe=ae.parts,we=pe.length,Re=0;Re<we;Re++)pe[Re].etag&&ce.push({part_number:Re+1,etag:pe[Re].etag});return St("["+V+"] Etags %O",ce),xt.post(this.getUploadUrl(V)+"/multipart/complete",Object(_.a)(Object(_.a)({},this.getDefaultFields(V,["apikey","policy","signature","uri","region","upload_id","fii"],!0)),{filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size,upload_tags:this.uploadTags&&Object.keys(this.uploadTags).length?this.uploadTags:void 0,parts:ce.length?ce:void 0}),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(xe){if(xe.status===202)return new Promise(function(nt,De){setTimeout(function(){return Y.completeRequest(V).then(nt).catch(De)},1e3)});var Ie=Y.getPayloadById(V).file;return Ie.handle=xe.data.handle,Ie.url=xe.data.url,Ie.container=xe.data.container,Ie.key=xe.data.key,Ie.uploadTags=xe.data.upload_tags,Ie.workflows=xe.data.workflows,Ie.status=xe.data.status,Ie}).catch(function(xe){return Y.setPayloadStatus(V,"Failed"),Y.rejectUpload("Cannot complete file",xe)})},D.prototype.onProgressUpdate=function(V,Y,ae){this.setPartData(V,Y,"progress",ae),this.emitProgress()},D.prototype.emitProgress=function(){var V=0,Y=0,ae={};for(var ce in this.payloads){var pe=this.payloads[ce];if(pe.file.status!=="Failed"){var we=pe.parts.map(function(xe){return xe.progress||0}).reduce(function(xe,Ie){return xe+Ie},0);Y+=we,ae[ce]={totalBytes:we,totalPercent:Math.round(100*we/pe.file.size)||0},V+=pe.file.size}}var Re={totalBytes:Y||0,totalPercent:Math.round(100*Y/V)||0,files:ae};St("Upload progress %O",Re),this.emit("progress",Re)},D.prototype.updatePayload=function(V,Y){this.payloads[V]=Object(_.a)(Object(_.a)({},this.payloads[V]),Y)},D.prototype.setPartETag=function(V,Y,ae){St("["+V+"] Set "+ae+" etag for part "+Y),this.getPayloadById(V).parts[Y].etag=ae},D.prototype.setPartData=function(V,Y,ae,ce){St("["+V+"] Set "+ae+" = "+ce+" for part "+Y);var pe=this.getPayloadById(V);pe?pe.parts[Y][ae]=ce:St("["+V+"] Cannot set "+ae+" = "+ce+" for part "+Y)},D.prototype.setPayloadStatus=function(V,Y){St("["+V+"] Set payload status to "+Y),this.payloads[V]&&(this.payloads[V].file.status=Y)},D.prototype.parseError=function(V){return V.response?{code:V.response.status,data:V.response.data,headers:V.response.headers}:{}},D.prototype.rejectUpload=function(V,Y){return Y instanceof Wn.a&&Y.code===Wn.b.ABORTED?Promise.reject(new me(V,{reason:Y.message},le.ABORTED)):Promise.reject(new me(V,this.parseError(Y),le.REQUEST))},D}(oi),fr=function(U,D){return U.totalBytes=Math.max(U.totalBytes,D.totalBytes),U.totalPercent=Math.max(U.totalPercent,D.totalPercent),U},Gn=function(U){function D(V,Y){V===void 0&&(V={}),Y===void 0&&(Y={});var ae=U.call(this)||this;ae.options=V,ae.storeOptions=Y,ae.lastProgress={totalBytes:0,totalPercent:0},ae.storeOptions=Object.assign({},Y);var ce=fe(Jt)(V);if(ce.errors.length)throw new me("Invalid upload params",ce.errors,le.VALIDATION);var pe=fe(zt)(Y);if(pe.errors.length)throw new me("Invalid store upload params",pe.errors,le.VALIDATION);return Y.filename&&(ae.overrideFileName=Y.filename,delete ae.storeOptions.filename),ae.storeOptions.sanitizer&&(ae.sanitizerOptions=ae.storeOptions.sanitizer,delete ae.storeOptions.sanitizer),ae.uploader=new xr(ae.storeOptions,V.concurrency),ae.uploader.setRetryConfig({retry:V.retry||10,onRetry:V.onRetry,retryFactor:V.retryFactor||2,retryMaxTime:V.retryMaxTime||15e3}),ae.uploader.setTimeout(V.timeout||12e4),V.partSize&&ae.uploader.setPartSize(V.partSize),V.intelligentChunkSize&&ae.uploader.setIntelligentChunkSize(V.intelligentChunkSize),V.disableIntegrityCheck&&ae.uploader.setIntegrityCheck(!1),V.intelligent&&ae.uploader.setUploadMode(V.intelligent==="fallback"?"fallback":"intelligent"),ae.uploader.setUploadTags(V.tags),ae.uploader.on("start",function(){return ae.emit("start")}),ae.uploader.on("error",function(we){return ae.emit("error",we)}),ae.uploader.on("progress",ae.handleProgress.bind(ae)),ae}return Object(_.c)(D,U),D.prototype.setSession=function(V){this.uploader.setApikey(V.apikey),V.policy&&V.signature&&this.uploader.setSecurity({policy:V.policy,signature:V.signature}),this.uploader.setUrl(V.urls.uploadApiUrl)},D.prototype.setToken=function(V){var Y=this;if(!V||V!==Object(V))throw new Error("Incorrect upload token. Must be instance of object");return V.pause=function(){return Y.uploader.pause()},V.resume=function(){return Y.uploader.resume()},V.cancel=function(){return Y.uploader.abort()},V},D.prototype.setSecurity=function(V){this.uploader.setSecurity(V)},D.prototype.setUploadTags=function(V){this.uploader.setUploadTags(V)},D.prototype.upload=function(V){return Object(_.b)(this,void 0,void 0,function(){var Y,ae;return Object(_.d)(this,function(ce){switch(ce.label){case 0:return[4,Hn(V,this.sanitizerOptions)];case 1:return(Y=ce.sent()).customName=this.overrideFileName,this.uploader.addFile(Y),this.startProgressInterval(),[4,this.uploader.execute()];case 2:return ae=ce.sent().shift(),this.stopProgressInterval(),this.uploader.removeAllListeners(),ae.status==="Failed"?[2,Promise.reject(ae)]:[2,Promise.resolve(ae)]}})})},D.prototype.multiupload=function(V){return Object(_.b)(this,void 0,void 0,function(){var Y,ae,ce,pe,we,Re;return Object(_.d)(this,function(xe){switch(xe.label){case 0:for(ae in Y=[],V)Y.push(ae);ce=0,xe.label=1;case 1:return ce<Y.length?(pe=Y[ce],V.hasOwnProperty(pe)?[4,Hn(V[pe],this.sanitizerOptions)]:[3,3]):[3,4];case 2:(we=xe.sent()).customName=this.overrideFileName,this.uploader.addFile(we),xe.label=3;case 3:return ce++,[3,1];case 4:return this.startProgressInterval(),[4,this.uploader.execute()];case 5:return Re=xe.sent(),this.stopProgressInterval(),this.uploader.removeAllListeners(),[2,Promise.resolve(Re)]}})})},D.prototype.startProgressInterval=function(){var V=this;typeof this.options.onProgress=="function"&&(this.progressIntervalHandler=setInterval(function(){V.options.onProgress(V.lastProgress)},this.options.progressInterval||1e3),this.options.onProgress(this.lastProgress))},D.prototype.stopProgressInterval=function(){clearInterval(this.progressIntervalHandler)},D.prototype.handleProgress=function(V){if(V=fr(V,this.lastProgress),this.lastProgress.files)for(var Y in V.files)this.lastProgress.files[Y]&&(V.files[Y]=fr(V.files[Y],this.lastProgress.files[Y]));this.lastProgress=V},D}(g.EventEmitter),Br=function(U,D,V){if(!D||typeof D!="string")throw new Error("A valid Filestack handle or storage alias is required for preview");var Y=fe(an)(V);if(Y.errors.length)throw new me("Invalid preview params",Y.errors,le.VALIDATION);var ae=Object(_e.removeEmpty)(V||{}),ce=function(xe,Ie,nt,De){var at=Object(_.a)({},nt),bt=De&&De.policy||xe.policy,Ut=De&&De.signature||xe.signature,fn=Ut&&bt,Xt=[xe.urls.cdnUrl],Gt=at.css&&encodeURIComponent('"'+at.css+'"'),Fn=Gt?"preview=css:"+Gt:"preview";return Ie.indexOf("src:")!==-1?Xt.push(xe.apikey+"/"+Fn):Xt.push(Fn),fn&&Xt.push("security=policy:"+bt+",signature:"+Ut),Xt.push(Ie),Xt.join("/")}(U,D,ae);if(ae&&ae.id){var pe=ae.id,we=document.createElement("iframe"),Re=document.getElementById(pe);if(we.src=ce,we.width="100%",we.height="100%",!Re)throw new Error('DOM Element with id "'+pe+'" not found.');return Re.appendChild(we)}return window.open(ce,D)},kn=Je()("fs:storage"),Ui=function(){function U(){this.availableTypes=[],window.localStorage!==void 0&&(this.availableTypes.push(Ot.LOCAL),kn("Local storage exists")),window.sessionStorage!==void 0&&(this.availableTypes.push(Ot.SESSION),kn("Session storage exists")),kn("availableTypes - %O",this.availableTypes)}return U.prototype.hasAccess=function(D){return kn("Checking access to storage for %s. Available types: %O",D,this.availableTypes),D?this.availableTypes.indexOf(D)>-1:!!this.availableTypes.length},U.prototype.getItem=function(D,V){var Y=this.getStore(V);if(kn("getItem %s from %O",D,Y),Y)return Y.getItem(D)},U.prototype.setItem=function(D,V,Y){var ae=this.getStore(Y);if(kn("setItem %s to %O",D,ae),ae)return ae.setItem(D,V)},U.prototype.removeItem=function(D,V){var Y=this.getStore(V);if(kn("removeItem %s from %O",D,Y),Y)return Y.removeItem(D)},U.prototype.getStore=function(D){if(kn("get store with pref type - %s",D),this.hasAccess(D))switch(D){case Ot.LOCAL:return window.localStorage;case Ot.SESSION:return window.sessionStorage;default:return window[this.availableTypes[0]]}else kn("User dont have access to any storage")},U}();(function(U){U.SESSION="sessionStorage",U.LOCAL="localStorage"})(Ot||(Ot={}));var pr,Mn="__fs_picker_token",ai=function(){function U(D,V){this.cache=!1,this.session=D,this.storeAdapter=new Ui,this.cloudApiUrl=D.urls.cloudApiUrl,V&&V.sessionCache&&(this.cache=V.sessionCache)}return Object.defineProperty(U.prototype,"token",{get:function(){if(this.cache){var D=this.storeAdapter.getItem(Mn,Ot.LOCAL);if(D)return D}return this.isInAppBrowser?this.storeAdapter.getItem(Mn,Ot.SESSION):this._token},set:function(D){this.cache&&this.storeAdapter.setItem(Mn,D,Ot.LOCAL),this.isInAppBrowser&&this.storeAdapter.setItem(Mn,D,Ot.SESSION),this._token=D},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"isInAppBrowser",{get:function(){return!!(this.session&&this.session.prefetch&&this.session.prefetch.settings&&this.session.prefetch.settings.inapp_browser)&&this.session.prefetch.settings.inapp_browser},enumerable:!0,configurable:!0}),U.prototype.list=function(D,V,Y){var ae=this,ce={apikey:this.session.apikey,clouds:D,flow:"web",token:this.token};Y&&(Array.isArray(Y)||(Y=[Y]),ce.accept=Y),this.isInAppBrowser&&(ce.appurl=this.currentAppUrl()),this.session.policy&&this.session.signature&&(ce.policy=this.session.policy,ce.signature=this.session.signature);var pe={};if(V){var we=new On;V.cancel=we.cancel.bind(we),pe.cancelToken=we}return xt.post(this.cloudApiUrl+"/folder/list",ce,pe).then(function(Re){return Re.data&&Re.data.token&&(ae.token=Re.data.token),Re.data})},U.prototype.store=function(D,V,Y,ae,ce,pe){var we,Re=this;Y===void 0&&(Y={}),ae===void 0&&(ae={}),pe===void 0&&(pe=null),Y.location===void 0&&(Y.location="s3");var xe={apikey:this.session.apikey,token:this.token,flow:"web",upload_tags:pe||void 0,clouds:(we={},we[D]={path:V,store:Object(_e.removeEmpty)(Y)},we)};D==="customsource"&&ae.customSourcePath&&(xe.clouds.customsource.customSourcePath=ae.customSourcePath),D==="customsource"&&ae.customSourceContainer&&(xe.clouds.customsource.customSourceContainer=ae.customSourceContainer),this.session.policy&&this.session.signature&&(xe.policy=this.session.policy,xe.signature=this.session.signature);var Ie={};if(ce){var nt=new On;ce.cancel=nt.cancel.bind(nt),Ie.cancelToken=nt}return xt.post(this.cloudApiUrl+"/store/",xe,Ie).then(function(De){return De.data&&De.data.token&&(Re.token=De.data.token),De.data&&De.data[D]?De.data[D]:De.data})},U.prototype.logout=function(D){var V,Y={apikey:this.session.apikey,flow:"web",token:this.token};return D?Y.clouds=((V={})[D]={},V):(this.cache&&this.storeAdapter.removeItem(Mn,Ot.LOCAL),this.isInAppBrowser&&this.storeAdapter.removeItem(Mn,Ot.SESSION)),xt.post(this.cloudApiUrl+"/auth/logout",Y).then(function(ae){return ae.data&&ae.data[D]?ae.data[D]:ae.data})},U.prototype.metadata=function(D,V){var Y={apikey:this.session.apikey,url:D,headers:V};return this.session.policy&&this.session.signature&&(Y.policy=this.session.policy,Y.signature=this.session.signature),xt.post(this.cloudApiUrl+"/metadata",Y).then(function(ae){return ae.data})},U.prototype.tokInit=function(D){if(D!=="video"&&D!=="audio")throw new me("Type must be one of video or audio.");return xt.post(this.cloudApiUrl+"/recording/"+D+"/init").then(function(V){return V.data})},U.prototype.tokStart=function(D,V,Y){if(D!=="video"&&D!=="audio")throw new me("Type must be one of video or audio.");var ae={apikey:V,session_id:Y};return xt.post(this.cloudApiUrl+"/recording/"+D+"/start",ae).then(function(ce){return ce.data})},U.prototype.tokStop=function(D,V,Y,ae){if(D!=="video"&&D!=="audio")throw new me("Type must be one of video or audio.");var ce={apikey:V,session_id:Y,archive_id:ae};return xt.post(this.cloudApiUrl+"/recording/"+D+"/stop",ce).then(function(pe){return pe.data})},U.prototype.currentAppUrl=function(){if(window.URLSearchParams){var D=new URLSearchParams(window.location.search);return D.set("fs-tab","init"),window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+D.toString()}},U}(),si=f(30);(function(U){U.PICKER="picker",U.TRANSFORM_UI="transform_ui"})(pr||(pr={}));var Or,dr,ui=function(){function U(D){this.session=D instanceof mr?D.session:D}return U.prototype.getConfig=function(D){var V=D.pickerOptions,Y=D.settings,ae=D.permissions,ce=D.events;return Object(_.b)(this,void 0,void 0,function(){var pe,we,Re=this;return Object(_.d)(this,function(xe){return pe={apikey:this.session.apikey},this.session.policy&&this.session.signature&&(pe.security={policy:this.session.policy,signature:this.session.signature}),Y=Y?(Y=Y.concat(["inapp_browser"])).filter(function(Ie,nt){return Y.indexOf(Ie)===nt}):["inapp_browser"],V&&Object.keys(V).length&&(we=Object(_e.cleanUpCallbacks)(si(Object(_.a)({},V)))),pe=Object(_.a)(Object(_.a)({},pe),{permissions:ae,settings:Y,picker_config:we,events:ce}),this.session.prefetch=null,[2,xt.post(this.session.urls.uploadApiUrl+"/prefetch",pe).then(function(Ie){if(Ie.status!==200)throw new me("There is a problem with prefetch request");var nt=Ie.data;return nt.updated_config?(nt.pickerOptions=Re.reassignCallbacks(V,nt.updated_config||{}),delete nt.updated_config):nt.pickerOptions=V,Re.session.prefetch=nt,nt})]})})},U.prototype.reassignCallbacks=function(D,V){if(!D||Object.keys(D).length===0)return D;for(var Y in D)typeof D[Y]=="function"&&(V[Y]=D[Y]),D[Y]===Object(D[Y])&&(V[Y]=this.reassignCallbacks(D[Y],V[Y]));return V},U}();(function(U){U.cw="CW",U.ccw="CCW"})(Or||(Or={})),function(U){U.inline="inline",U.overlay="overlay",U.dropPane="dropPane"}(dr||(dr={}));var Fr=function(){function U(D,V){var Y=fe(Wt)(V);if(Y.errors.length)throw new me("Invalid picker params",Y.errors,le.VALIDATION);this._initialized=this.loadModule(D,V)}return U.prototype.open=function(){return Object(_.b)(this,void 0,void 0,function(){return Object(_.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().open()];case 2:return D.sent(),[2]}})})},U.prototype.crop=function(D){return Object(_.b)(this,void 0,void 0,function(){return Object(_.d)(this,function(V){switch(V.label){case 0:return[4,this._initialized];case 1:return[4,V.sent().crop(D)];case 2:return V.sent(),[2]}})})},U.prototype.close=function(){return Object(_.b)(this,void 0,void 0,function(){return Object(_.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().close()];case 2:return D.sent(),[2]}})})},U.prototype.cancel=function(){return Object(_.b)(this,void 0,void 0,function(){return Object(_.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().cancel()];case 2:return D.sent(),[2]}})})},U.prototype.loadModule=function(D,V){return Object(_.b)(this,void 0,void 0,function(){var Y;return Object(_.d)(this,function(ae){switch(ae.label){case 0:return Y=D.session.urls.pickerUrl,[4,b(v.PICKER,Y)];case 1:return[2,new(ae.sent())(D,V)]}})})},U}();re("addBreadcrumb",{category:"sdk",message:"filestack-js-sdk scope"});var mr=function(U){function D(V,Y){var ae=U.call(this)||this;if(ae.options=Y,ae.forwardErrors=!0,Y&&Y.forwardErrors&&(ae.forwardErrors=Y.forwardErrors),!V||typeof V!="string"||V.length===0)throw new Error("An apikey is required to initialize the Filestack client");var ce=ye.urls;if(ae.session={apikey:V,urls:ce},Y){var pe=Y.cname,we=Y.security;ae.setSecurity(we),ae.setCname(pe)}return ae.prefetchInstance=new ui(ae.session),ae.cloud=new ai(ae.session,Y),ae}return Object(_.c)(D,U),Object.defineProperty(D.prototype,"utils",{get:function(){return _e},enumerable:!0,configurable:!0}),D.prototype.prefetch=function(V){return this.prefetchInstance.getConfig(V)},D.prototype.setSecurity=function(V){if(V&&(!V.policy||!V.signature))throw new me("Both policy and signature are required for client security");V&&V.policy&&V.signature&&(this.session.policy=V.policy,this.session.signature=V.signature)},D.prototype.setCname=function(V){V&&V.length!==0&&(this.session.cname=V,this.session.urls=_e.resolveHost(this.session.urls,V))},D.prototype.logout=function(V){return this.cloud.logout(V)},D.prototype.metadata=function(V,Y,ae){return function(ce,pe,we,Re){if(!pe||typeof pe!="string")throw new me("A valid Filestack handle is required for metadata");var xe=fe(Yt)(we);if(xe.errors.length)throw new me("Invalid metadata params",xe.errors);var Ie=Object(_.a)({},we);Ie.source_url=Ie.sourceUrl,Ie.policy=Re&&Re.policy||ce.policy,Ie.signature=Re&&Re.signature||ce.signature;var nt=ce.urls.fileApiUrl+"/"+pe+"/metadata";return new Promise(function(De,at){xt.get(nt,{params:Object(_e.removeEmpty)(Ie),filestackHeaders:!1}).then(function(bt){return De(Object(_.a)(Object(_.a)({},bt.data),{handle:pe}))}).catch(at)})}(this.session,V,Y,ae)},D.prototype.picker=function(V){return function(Y,ae){return new Fr(Y,ae)}(this,V)},D.prototype.preview=function(V,Y){return Br(this.session,V,Y)},D.prototype.remove=function(V,Y){return nn(this.session,V,!1,Y)},D.prototype.removeMetadata=function(V,Y){return nn(this.session,V,!0,Y)},D.prototype.storeURL=function(V,Y,ae,ce,pe,we,Re){return function(xe){var Ie=xe.session,nt=xe.url,De=xe.storeParams,at=xe.token,bt=xe.security,Ut=xe.uploadTags,fn=xe.headers,Xt=xe.workflowIds;if(!nt||typeof nt!="string")return Promise.reject(new me("url is required for storeURL"));var Gt=fe(zt)(De);if(Gt.errors.length)return Promise.reject(new me("Invalid store params",Gt.errors));Ie.policy=bt&&bt.policy||Ie.policy,Ie.signature=bt&&bt.signature||Ie.signature;var Fn=new _t(nt,Ie.apikey);Fn.store(De),Ie.policy&&Ie.signature&&Fn.security({policy:Ie.policy,signature:Ie.signature});var hn={};if(at){var Dn=new On;at.cancel=Dn.cancel.bind(Dn),hn.cancelToken=Dn}var Yn=[nt];return fn&&(Yn=[{source:nt,headers:fn}]),Xt&&Xt.length>0&&Fn.addTask("store",{workflows:Xt}),xt.post(Ie.urls.processUrl+"/process",{apikey:Ie.apikey,sources:Yn,tasks:Fn.getTasks(),upload_tags:Ut},hn).then(function(wn){if(wn.data&&wn.data.handle)return wn.data.upload_tags&&(wn.data.uploadTags=wn.data.upload_tags,delete wn.data.upload_tags),Object(_.a)(Object(_.a)({},wn.data),{mimetype:wn.data.type});throw new me("Invalid store response "+JSON.stringify(wn.data))})}({session:this.session,url:V,storeParams:Y,token:ae,security:ce,uploadTags:pe,headers:we,workflowIds:Re})},D.prototype.retrieve=function(V,Y,ae){return function(ce,pe,we,Re){if(we===void 0&&(we={}),!pe||pe.length===0||typeof pe!="string")throw new me("File handle is required");console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");var xe=fe(Ye)(we);if(xe.errors.length)throw new me("Invalid retrieve params",xe.errors);var Ie=Object(_.a)({},we);Ie.key=ce.apikey,Ie.policy=Re&&Re.policy||ce.policy,Ie.signature=Re&&Re.signature||ce.signature;var nt,De,at=He.a.GET;if(Ie.head&&(at=He.a.HEAD,delete Ie.head),Ie.extension&&Ie.extension.length&&(nt=Ie.extension,delete Ie.extension),Ie.metadata){if(at===He.a.HEAD)throw new me("Head and metadata options cannot be used together");De=Ie.metadata,delete Ie.metadata}var bt=ce.urls.fileApiUrl+"/"+pe+(nt?"+"+nt:"")+(De?"/metadata":"");return new Promise(function(Ut,fn){xt.dispatch(bt,{method:at,filestackHeaders:!1,params:Object(_e.removeEmpty)(Ie)}).then(function(Xt){return Ut(at===He.a.HEAD?Xt.headers:Xt.data)}).catch(fn)})}(this.session,V,Y,ae)},D.prototype.download=function(V,Y){return function(ae,ce,pe){var we=new _t(ce,ae.apikey),Re=pe&&pe.policy||ae.policy,xe=pe&&pe.signature||ae.signature;return Re&&xe&&we.security({signature:xe,policy:Re}),xt.dispatch(we.toString(),{method:He.a.GET,blobResponse:!0})}(this.session,V,Y)},D.prototype.transform=function(V,Y,ae){return ae===void 0&&(ae=!1),Tn(this.session,V,Y,ae)},D.prototype.upload=function(V,Y,ae,ce,pe){var we=this,Re=new Gn(Y,ae);return Re.setSession(this.session),ce&&Re.setToken(ce),pe&&Re.setSecurity(pe),Re.on("start",function(){return we.emit("upload.start")}),Re.on("error",function(xe){we.forwardErrors&&ue(function(Ie){Ie.setTag("filestack-apikey",we.session.apikey),Ie.setTag("filestack-version",_e.getVersion()),Ie.setExtra("filestack-options",we.options),Ie.setExtras({uploadOptions:Y,storeOptions:ae,details:xe.details}),xe.message="FS-"+xe.message,X(xe)}),we.emit("upload.error",xe)}),Re.upload(V)},D.prototype.multiupload=function(V,Y,ae,ce,pe){var we=this,Re=new Gn(Y,ae);return Re.setSession(this.session),ce&&Re.setToken(ce),pe&&Re.setSecurity(pe),Re.on("start",function(){return we.emit("upload.start")}),Re.on("error",function(xe){ue(function(Ie){Ie.setTag("filestack-apikey",we.session.apikey),Ie.setTag("filestack-version",_e.getVersion()),Ie.setExtra("filestack-options",we.options),Ie.setExtras(xe.details),Ie.setExtras({uploadOptions:Y,storeOptions:ae}),X(xe)}),we.emit("upload.error",xe)}),Re.multiupload(V)},D}(g.EventEmitter),Nr=function(U,D){return new mr(U,D)},Ji=Nr,li="3.25.0";y(v.FILESTACK_SDK,Nr,{version:"3.25.0"})},,function(o,u,f){(function(d){f.d(u,"a",function(){return C});var m=f(9),h=f(13),b={nowSeconds:function(){return Date.now()/1e3}},y=Object(h.b)()?function(){try{return Object(h.a)(d,"perf_hooks").performance}catch{return}}():function(){var w=Object(m.b)().performance;if(w&&w.now)return{now:function(){return w.now()},timeOrigin:Date.now()-w.now()}}(),v=y===void 0?b:{nowSeconds:function(){return(y.timeOrigin+y.now())/1e3}},C=b.nowSeconds.bind(b);v.nowSeconds.bind(v),function(){var w=Object(m.b)().performance;w&&(w.timeOrigin?w.timeOrigin:w.timing&&w.timing.navigationStart||Date.now())}()}).call(this,f(51)(o))},function(o,u,f){(function(d){f.d(u,"a",function(){return b});var m=f(0),h=(f(22),f(4));f(32),f(31),f(10);function b(y){var v,C;if(Object(h.e)(y)){var w=y,_={};try{for(var g=Object(m.f)(Object.keys(w)),$=g.next();!$.done;$=g.next()){var T=$.value;w[T]!==void 0&&(_[T]=b(w[T]))}}catch(M){v={error:M}}finally{try{$&&!$.done&&(C=g.return)&&C.call(g)}finally{if(v)throw v.error}}return _}return Array.isArray(y)?y.map(b):y}}).call(this,f(14))}]);filestack.Filestack;const _filestack$init=filestack.init;filestack.version;filestack.EAlignOptions;filestack.EAlignFacesOptions;filestack.EFitOptions;filestack.EBlurMode;filestack.EShapeType;filestack.ENoiseType;filestack.EStyleType;filestack.EColorspaceType;filestack.ECropfacesType;filestack.ESmartCropMode;filestack.EImageWatermarkPosition;filestack.EVideoTypes;filestack.EUrlscreenshotAgent;filestack.EUrlscreenshotMode;filestack.EUrlscreenshotOrientation;filestack.EVideoLocations;filestack.EVideoAccess;filestack.EVideoAccessMode;filestack.transform;filestack.Align;filestack.FitOptions;filestack.BlurMode;filestack.ShapeType;filestack.NoiseType;filestack.StyleType;filestack.ColorspaceType;filestack.CropfacesType;filestack.ImageWatermarkPosition;filestack.SmartCropMode;filestack.VideoTypes;filestack.URLScreenshotAgent;filestack.URLScreenshotMode;filestack.URLScreenshotOrientation;filestack.Locations;filestack.VideoAccess;filestack.VideoAccessMode;filestack.EnhancePreset;filestack.Filelink;filestack.FilestackErrorType;filestack.FsHttpMethod;filestack.FsRequest;filestack.FsRequestErrorCode;filestack.FsRequestError;filestack.FsCancelToken;filestack.resolveCdnUrl;filestack.resolveHost;filestack.removeEmpty;filestack.uniqueTime;filestack.uniqueId;filestack.extensionToMime;filestack.sanitizeName;filestack.filterObject;filestack.cleanUpCallbacks;filestack.md5;filestack.b64;filestack.getVersion;filestack.isMobile;filestack.isFacebook;filestack.TransformSchema;filestack.getSecurity;filestack.validateWebhookSignature;filestack.Client;filestack.FilestackError;filestack.PickerDisplayMode;filestack.getMimetype;filestack.PrefetchEvents;const init=()=>_filestack$init("ArcQnSXbqT4O0OORDyYxrz"),picker=o=>u=>f=>d=>m=>()=>m.picker({onFileUploadCancel:h=>o(h)(),onFileUploadFailed:(h,b)=>u(h)(b)(),onFileUploadProgress:(h,b)=>f(h)(b)(),onFileUploadFinished:h=>d(h)()}).open(),scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function o(u,f,d){return!f||f.length===0?u():Promise.all(f.map(m=>{if(m=assetsURL(m),m in seen)return;seen[m]=!0;const h=m.endsWith(".css"),b=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":scriptRel,h||(y.as="script",y.crossOrigin=""),y.href=m,document.head.appendChild(y),h)return new Promise((v,C)=>{y.addEventListener("load",v),y.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>u())},firebaseAuth=o=>()=>__vitePreload(()=>import("./index.esm.6070e7ab.js"),["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"]).then(({getAuth:u})=>u(o)),initializeGoogleClient=o=>u=>()=>{window.google.accounts.id.initialize({client_id:"58052920677-fs42m1rdh38g8rt9u6jv6s63c4ga9v0r.apps.googleusercontent.com",callback:f=>{console.log("credential received"),__vitePreload(()=>import("./index.esm.6070e7ab.js"),["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"]).then(({GoogleAuthProvider:d,linkWithCredential:m,signInWithCredential:h})=>{console.log("attempting to use credential",f.credential);const b=d.credential(f.credential);m(o.currentUser,b).then(y=>{const v=y.user;console.log("Anonymous account successfully upgraded",v),u()},()=>h(o,b).then(y=>{const v=y.user;console.log("Account successfully linked to existing credential",v),u()},y=>console.log("Error upgrading anonymous account",y)))})}})},signInWithGoogle=o=>()=>{google.accounts.id.prompt(u=>{(u.isNotDisplayed()||u.isSkippedMoment())&&google.accounts.id.renderButton(document.getElementById("google_sign_in"),{})})},currentUserImpl=o=>u=>f=>()=>f.currentUser?u(f.currentUser):o,signOut=o=>u=>()=>o.signOut().then(()=>signInAnonymously(o).then(()=>{u()},f=>{console.error("Could not sign in anonymously after sign out",f)})),onAuthStateChanged=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.6070e7ab.js"),["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"]).then(({onAuthStateChanged:m,signInAnonymously:h})=>m(d,y=>{y?(console.log("auth state change with user",y),y.isAnonymous?u(y)():f(y)()):h(d).then(()=>{}).catch(v=>{o(v)()})})),$AuthProvider=o=>({tag:o}),displayNameIsSymbol={reflectSymbol:()=>"displayName"},writeForeignMaybe={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},emailIsSymbol={reflectSymbol:()=>"email"},emailVerifiedIsSymbol={reflectSymbol:()=>"emailVerified"},isAnonymousIsSymbol={reflectSymbol:()=>"isAnonymous"},metadataIsSymbol={reflectSymbol:()=>"metadata"},creationTimeIsSymbol={reflectSymbol:()=>"creationTime"},lastSignInTimeIsSymbol={reflectSymbol:()=>"lastSignInTime"},multiFactorIsSymbol={reflectSymbol:()=>"multiFactor"},enrolledFactorsIsSymbol={reflectSymbol:()=>"enrolledFactors"},enrollmentTimeIsSymbol={reflectSymbol:()=>"enrollmentTime"},factorIdIsSymbol={reflectSymbol:()=>"factorId"},uidIsSymbol={reflectSymbol:()=>"uid"},consWriteForeignFields2=consWriteForeignFields(uidIsSymbol)(writeForeignString)(nilWriteForeignFields)()()(),phoneNumberIsSymbol={reflectSymbol:()=>"phoneNumber"},photoURLIsSymbol={reflectSymbol:()=>"photoURL"},providerDataIsSymbol={reflectSymbol:()=>"providerData"},providerIdIsSymbol={reflectSymbol:()=>"providerId"},refreshTokenIsSymbol={reflectSymbol:()=>"refreshToken"},tenantIdIsSymbol={reflectSymbol:()=>"tenantId"},readMaybe=readMaybe$3(readString),readFieldsCons2=readFieldsCons(uidIsSymbol)(readString)(readFieldsNil)()(),show1$2=(()=>showNonEmptyList(showForeignError).show)(),AuthAnonymous=$AuthProvider("AuthAnonymous"),AuthGoogle=$AuthProvider("AuthGoogle"),writeForeignUser=(()=>{const o=consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailVerifiedIsSymbol)(writeForeignBoolean)(consWriteForeignFields(isAnonymousIsSymbol)(writeForeignBoolean)(consWriteForeignFields(metadataIsSymbol)((()=>{const u=consWriteForeignFields(creationTimeIsSymbol)(writeForeignMaybe)(consWriteForeignFields(lastSignInTimeIsSymbol)(writeForeignMaybe)(nilWriteForeignFields)()()())()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields(multiFactorIsSymbol)((()=>{const u=consWriteForeignFields(enrolledFactorsIsSymbol)((()=>{const f=consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(enrollmentTimeIsSymbol)(writeForeignString)(consWriteForeignFields(factorIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()();return{writeImpl:d=>arrayMap(m=>f.writeImplFields($$Proxy)(m)({}))(d)}})())(nilWriteForeignFields)()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields(providerDataIsSymbol)((()=>{const u=consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()())()()())()()();return{writeImpl:f=>arrayMap(d=>u.writeImplFields($$Proxy)(d)({}))(f)}})())(consWriteForeignFields(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields(refreshTokenIsSymbol)(writeForeignString)(consWriteForeignFields(tenantIdIsSymbol)(writeForeignMaybe)(consWriteForeignFields2)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),readForeignUser=readRecord()(readFieldsCons(displayNameIsSymbol)(readMaybe)(readFieldsCons(emailIsSymbol)(readMaybe)(readFieldsCons(emailVerifiedIsSymbol)(readBoolean)(readFieldsCons(isAnonymousIsSymbol)(readBoolean)(readFieldsCons(metadataIsSymbol)(readMaybe$3(readRecord()(readFieldsCons(creationTimeIsSymbol)(readMaybe)(readFieldsCons(lastSignInTimeIsSymbol)(readMaybe)(readFieldsNil)()())()())))(readFieldsCons(multiFactorIsSymbol)(readMaybe$3(readRecord()(readFieldsCons(enrolledFactorsIsSymbol)(readArray(readRecord()(readFieldsCons(displayNameIsSymbol)(readMaybe)(readFieldsCons(enrollmentTimeIsSymbol)(readString)(readFieldsCons(factorIdIsSymbol)(readString)(readFieldsCons2)()())()())()())))(readFieldsNil)()())))(readFieldsCons(phoneNumberIsSymbol)(readMaybe)(readFieldsCons(photoURLIsSymbol)(readMaybe)(readFieldsCons(providerDataIsSymbol)(readArray(readRecord()(readFieldsCons(displayNameIsSymbol)(readMaybe)(readFieldsCons(emailIsSymbol)(readMaybe)(readFieldsCons(phoneNumberIsSymbol)(readMaybe)(readFieldsCons(photoURLIsSymbol)(readMaybe)(readFieldsCons(providerIdIsSymbol)(readString)(readFieldsCons2)()())()())()())()())()())))(readFieldsCons(providerIdIsSymbol)(readString)(readFieldsCons(refreshTokenIsSymbol)(readString)(readFieldsCons(tenantIdIsSymbol)(readMaybe)(readFieldsCons2)()())()())()())()())()())()())()())()())()())()())()())()()),currentUser=currentUserImpl(Nothing)(Just),authStateChangedEventWithAnonymousAccountCreation=o=>backdoor.makeEvent(u=>()=>{const f={value:()=>unit},d=h=>b=>{const y=readForeignUser.readImpl(b);if(y.tag==="Left")return throwException(error$1(showStringImpl(_unsafeStringify(b))+(" "+show1$2(y._1))));if(y.tag==="Right")return u({user:y._1,provider:h});fail$3()};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(onAuthStateChanged(h=>error(showErrorImpl(h)))(d(AuthAnonymous))(d(AuthGoogle))(o)))(toAff$p(coerce)))(h=>_liftEffect(()=>f.value=h)))().run(),bindE(()=>f.value)(identity$v)}),firestoreDb=o=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({getFirestore:u})=>u(o)),RIDES="rides",TRACKS="tracks",EVENTS="events",MARKER1TIME="marker1Time",MARKER2TIME="marker2Time",MARKER3TIME="marker3Time",MARKER4TIME="marker4Time",NAME="name",TITLE="title",PRIVATE="private",COLUMN="column",turnOnRealtimePresence=o=>u=>f=>()=>Promise.all([__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]),__vitePreload(()=>import("./index.esm.02d469b5.js"),["assets/index.esm.02d469b5.js","assets/index.esm2017.ce458832.js"])]).then(([d,m])=>{var h=f.currentUser.uid,b=m.getDatabase(o),y=m.ref(b,"/status/"+h),v={state:"offline",last_changed:m.serverTimestamp()},C={state:"online",last_changed:m.serverTimestamp()},w=d.doc(u,"/status/"+h),_={state:"offline",last_changed:d.serverTimestamp()},g={state:"online",last_changed:d.serverTimestamp()};const $=m.onValue(m.ref(b,".info/connected"),function(T){if(T.val()==!1){console.log("not connected to rtdb"),d.setDoc(w,_);return}m.onDisconnect(y).set(v).then(function(){console.log("connected to rtdb"),m.set(y,C),d.setDoc(w,g)})});return()=>{$(),m.onDisconnect(y).set(null)}}),addTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({collection:f,addDoc:d})=>d(f(o,TRACKS),u)),forkTrack=o=>u=>f=>()=>Promise.all([getTrack(u)(f)(),getEvents(u)(f)()]).then(([d,m])=>Promise.all([addTrack(u)({owner:o.currentUser.uid,...d})(),Promise.resolve(m)])).then(([d,m])=>Promise.all([...m.map(h=>addEvent(u)(d.id)(h.data)())])),getTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({getDoc:f,doc:d})=>f(d(o,TRACKS,u)).then(m=>m.data())),updateTrackTitle=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[TITLE]=f,d(m(o,TRACKS,u),h)}),updateTrackPrivate=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[PRIVATE]=f,d(m(o,TRACKS,u),h)}),addEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({collection:d,addDoc:m})=>(console.log(u,f),m(d(o,TRACKS,u,EVENTS),f))),getEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({getDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f)).then(h=>h.data())),getTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const b=f(m(u,TRACKS),h("owner","==",o.currentUser.uid));return d(b).then(y=>{const v=[];return y.forEach(C=>{v.push({id:C.id,data:C.data()})}),v})}),getWhitelistedTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const b=f(m(u,TRACKS),h("whitelist","array-contains",o.currentUser.uid));return d(b).then(y=>{const v=[];return y.forEach(C=>{v.push({id:C.id,data:C.data()})}),v})}),getPublicTracks=o=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({query:u,getDocs:f,collection:d,where:m,limit:h})=>{const b=u(d(o,TRACKS),m("private","==",!1),h(50));return f(b).then(y=>{const v=[];return y.forEach(C=>{v.push({id:C.id,data:C.data()})}),v})}),getEvents=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({query:f,getDocs:d,collection:m})=>{const h=f(m(o,TRACKS,u,EVENTS));return d(h).then(b=>{const y=[];return b.forEach(v=>{y.push({id:v.id,data:v.data()})}),y})}),updateEventName=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[NAME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateColumn=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[COLUMN]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),deleteEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({deleteDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f))),updateMarker1Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER1TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker2Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER2TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker3Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER3TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker4Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER4TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),addRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({collection:f,addDoc:d})=>d(f(o,RIDES),u)),getRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({getDoc:f,doc:d})=>f(d(o,RIDES,u)).then(m=>m.data())),claimPlayer=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:m,doc:h})=>{const b={};return o.currentUser?(b[d]=o.currentUser.uid,console.log("claimPlayer",f,d),m(h(u,RIDES,f),b)):Promise.reject(new Error("No current user"))}),removeUndefineds=o=>JSON.parse(JSON.stringify(o)),listenToRemoteChannelChanges=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({doc:d,onSnapshot:m})=>m(d(o,RIDES,u),h=>{if(!h.metadata.hasPendingWrites){const b=h.data();f(b)()}})),sendMyPointsAndPenaltiesToFirebaseImpl=o=>u=>f=>d=>m=>h=>b=>()=>__vitePreload(()=>import("./index.esm.b3ac2dde.js"),["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"]).then(({updateDoc:y,doc:v})=>{const C={};return u.currentUser?(C[d]=h,C[m]=b,y(v(o,RIDES,f),C)):Promise.reject(new Error("No current user"))}),readFieldsCons1=readFieldsCons({reflectSymbol:()=>"id"})(readString)(readFieldsNil)()(),read$1=(()=>{const o=readArray(readRecord()(readFieldsCons({reflectSymbol:()=>"data"})(readForeignTrack)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),show$2=(()=>showNonEmptyList(showForeignError).show)(),read1=(()=>{const o=readMaybe$3(readForeignTrack);return u=>o.readImpl(u)})(),read2=(()=>{const o=readMaybe$3(readForeignRide);return u=>o.readImpl(u)})(),read3=(()=>{const o=readArray(readRecord()(readFieldsCons({reflectSymbol:()=>"data"})(readForeignEvent_)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),read4=(()=>{const o=readMaybe$3(readForeignEvent_);return u=>o.readImpl(u)})(),$$try=$$try$2(monadErrorAff),updateTrackTitleAff=o=>u=>f=>_bind(_liftEffect(updateTrackTitle(o)(u)(f)))(toAff$p(coerce)),updateTrackPrivateAff=o=>u=>f=>_bind(_liftEffect(updateTrackPrivate(o)(u)(f)))(toAff$p(coerce)),updateMarker4TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker4Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker3TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker3Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker2TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker2Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker1TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker1Time(o)(u)(f)(d)))(toAff$p(coerce)),updateEventNameAff=o=>u=>f=>d=>_bind(_liftEffect(updateEventName(o)(u)(f)(d)))(toAff$p(coerce)),updateColumnAff=o=>u=>f=>d=>_bind(_liftEffect(updateColumn(o)(u)(f)((()=>{if(d.tag==="C1")return 1;if(d.tag==="C2")return 2;if(d.tag==="C3")return 3;if(d.tag==="C4")return 4;if(d.tag==="C5")return 5;if(d.tag==="C6")return 6;if(d.tag==="C7")return 7;if(d.tag==="C8")return 8;if(d.tag==="C9")return 9;if(d.tag==="C10")return 10;if(d.tag==="C11")return 11;if(d.tag==="C12")return 12;if(d.tag==="C13")return 13;if(d.tag==="C14")return 14;if(d.tag==="C15")return 15;if(d.tag==="C16")return 16;if(d.tag==="C17")return 17;fail$3()})())))(toAff$p(coerce)),turnOnRealtimePresenceAff=o=>u=>f=>_bind(_liftEffect(turnOnRealtimePresence(o)(u)(f)))(toAff$p(coerce)),sendMyPointsAndPenaltiesToFirebase=o=>u=>f=>d=>m=>h=>_bind(_liftEffect(sendMyPointsAndPenaltiesToFirebaseImpl(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1Points";if(d.tag==="Player2")return"player2Points";if(d.tag==="Player3")return"player3Points";if(d.tag==="Player4")return"player4Points";fail$3()})())((()=>{if(d.tag==="Player1")return"player1Penalties";if(d.tag==="Player2")return"player2Penalties";if(d.tag==="Player3")return"player3Penalties";if(d.tag==="Player4")return"player4Penalties";fail$3()})())(m)(h)))(toAff$p(coerce)),getWhitelistedTracksAff=o=>u=>_bind(_bind(_liftEffect(getWhitelistedTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read$1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(show$2(d._1)));fail$3()}),getTracksAff=o=>u=>_bind(_bind(_liftEffect(getTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read$1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(show$2(d._1)));fail$3()}),getTrackAff=o=>u=>_bind(_bind(_liftEffect(getTrack(o)(u)))(toAff$p(coerce)))(f=>{const d=read1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(show$2(d._1)));fail$3()}),getRideAff=o=>u=>_bind(_bind(_liftEffect(getRide(o)(u)))(toAff$p(coerce)))(f=>{const d=read2(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(show$2(d._1)));fail$3()}),getPublicTracksAff=o=>_bind(_bind(_liftEffect(getPublicTracks(o)))(toAff$p(coerce)))(u=>{const f=read$1(u);if(f.tag==="Right")return _pure(f._1);if(f.tag==="Left")return _throwError(error$1(show$2(f._1)));fail$3()}),getLowestAvailablePlayer=o=>{const u=(()=>{if(o.player4.tag==="Nothing")return $Maybe("Just",Player4);if(o.player4.tag==="Just")return Nothing;fail$3()})(),f=(()=>{if(o.player3.tag==="Nothing")return $Maybe("Just",Player3);if(o.player3.tag==="Just")return Nothing;fail$3()})(),d=(()=>{if(o.player2.tag==="Nothing")return $Maybe("Just",Player2);if(o.player2.tag==="Just")return Nothing;fail$3()})(),m=(()=>{if(o.player1.tag==="Nothing")return $Maybe("Just",Player1);if(o.player1.tag==="Just")return Nothing;fail$3()})(),h=(()=>d.tag==="Nothing"?m:d)(),b=(()=>f.tag==="Nothing"?h:f)();return u.tag==="Nothing"?b:u},getEventsAff=o=>u=>_bind(_bind(_liftEffect(getEvents(o)(u)))(toAff$p(coerce)))(f=>{const d=read3(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(show$2(d._1)));fail$3()}),getEventAff=o=>u=>f=>_bind(_bind(_liftEffect(getEvent(o)(u)(f)))(toAff$p(coerce)))(d=>{const m=read4(d);if(m.tag==="Right")return _pure(m._1);if(m.tag==="Left")return _throwError(error$1(show$2(m._1)));fail$3()}),forkTrackAff=o=>u=>f=>_bind(_liftEffect(forkTrack(o)(u)(f)))(toAff$p(coerce)),eventChannelChanges=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:()=>unit};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(listenToRemoteChannelChanges(o)(u)(h=>{const b=readForeignRide.readImpl(h);if(b.tag==="Left")return throwException(error$1(show$2(b._1)));if(b.tag==="Right")return f(b._1);fail$3()})))(toAff$p(coerce)))(h=>_liftEffect(()=>d.value=h)))().run(),bindE(()=>d.value)(identity$v)}),deleteEventAff=o=>u=>f=>_bind(_liftEffect(deleteEvent(o)(u)(f)))(toAff$p(coerce)),claimPlayerAff=o=>u=>f=>d=>_bind(_liftEffect(claimPlayer(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1";if(d.tag==="Player2")return"player2";if(d.tag==="Player3")return"player3";if(d.tag==="Player4")return"player4";fail$3()})())))(toAff$p(coerce)),getPlayerForChannel=(()=>{const o=u=>f=>d=>m=>h=>_bind((()=>{const b=_throwError(error$1("No player found"));return u>=4?b:_pure(unit)})())(()=>_bind(getRideAff(d)(m))(b=>{if(b.tag==="Nothing")return _throwError(error$1("PROGRAMMING ERROR: Ride has not been created yet, verify control flow!"));if(b.tag==="Just"){const y=getLowestAvailablePlayer(b._1._1);if(h.tag==="Nothing"){if(y.tag==="Nothing")return _pure(Nothing);if(y.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(y._1)))(v=>{if(v.tag==="Right")return _pure($Maybe("Just",y._1));if(v.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}if(h.tag==="Nothing")return _pure(Nothing);if(h.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(h._1)))(v=>{if(v.tag==="Right")return _pure($Maybe("Just",h._1));if(v.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}fail$3()}));return o(0)})(),addTrackAff=o=>u=>_bind(_liftEffect(addTrack(o)(removeUndefineds(writeImpl3$1(u._1)))))(toAff$p(coerce)),addRideAff=o=>u=>_bind(_liftEffect(addRide(o)(removeUndefineds(writeImpl1(u._1)))))(toAff$p(coerce)),createRideIfNotExistsYet=o=>u=>_bind(getRideAff(o)(u))(f=>{if(f.tag==="Nothing")return _map(d=>d.id)(addRideAff(o)(defaultRide));if(f.tag==="Just")return _pure(u);fail$3()}),addEventAff=o=>u=>f=>_bind(_liftEffect(addEvent(o)(u)(removeUndefineds(writeForeignEventV0.writeImpl(f._1)))))(toAff$p(coerce));class e$1 extends Error{}class t extends e$1{}class n$1 extends e$1{}const c=(o,u=",")=>o.join(u),l$1={accept:"*",multiple:!1,strict:!1},r$1=o=>{const{accept:u,multiple:f,strict:d}={...l$1,...o},m=p({multiple:f,accept:Array.isArray(u)?c(u):u});return new Promise(h=>{m.onchange=()=>{h(s(m.files,f,d)),m.remove()},m.click()})},s=(o,u,f)=>new Promise((d,m)=>{if(!o)return m(new t);const h=i$2(o,u,f);if(!h)return m(new n$1);d(h)}),i$2=(o,u,f)=>!u&&f?o.length===1?o[0]:null:o.length?o:null,p=({accept:o,multiple:u})=>{const f=document.createElement("input");return f.type="file",f.multiple=u,f.accept=o,f},fileList=()=>r$1(),$AugmentedEventV0=(o,u)=>({tag:o,_1:u}),$AugmentedEvent_=o=>({tag:"AugmentedEventV0",_1:o}),applicativeStateT=applicativeStateT$1(monadIdentity),traverse$1=(()=>traversableArray.traverse(applicativeStateT))(),bindStateT=bindStateT$1(monadIdentity),map=(()=>functorStateT$1(functorIdentity).map)(),monadStateStateT=monadStateStateT$2(monadIdentity),toAugmentedEvents=o=>traverse$1(u=>{if(u._1.tag==="BasicEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+u._1._1.marker2Time;if(m.tag==="Position3")return .2+u._1._1.marker3Time;if(m.tag==="Position4")return .2+u._1._1.marker4Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LeapEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LongEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));fail$3()})(sortBy(u=>f=>ordNumber.compare((()=>{if(u._1.tag==="BasicEventV0"||u._1.tag==="LeapEventV0"||u._1.tag==="LongEventV0")return u._1._1.marker1Time;fail$3()})())((()=>{if(f._1.tag==="BasicEventV0"||f._1.tag==="LeapEventV0"||f._1.tag==="LongEventV0")return f._1._1.marker1Time;fail$3()})()))(o))(Leaf)._1,withTime=o=>backdoor.makeEvent(u=>subscribe(o)(f=>()=>{const d=now();return u({time:d,value:f})()})),onAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_on}})),offAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_off}})),playBuf$3=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),basic$1=o=>gain_(initialGainNumber)(1)([playBuf$3({buffer:o.silence})((u,f)=>{const d=o.buffer(u,b=>f({type:"buffer",value:b})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),emptyMatrix={n11:0,n12:0,n13:0,n14:0,n21:0,n22:0,n23:0,n24:0,n31:0,n32:0,n33:0,n34:0,n41:0,n42:0,n43:0,n44:1},$Semaphore=(o,u)=>({tag:o,_1:u}),$Stage=o=>({tag:o}),oneOf$c=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$4=traverse_$7(applicativeST)(foldableObject),identity$8=o=>o,Begin=$Stage("Begin"),Middle=$Stage("Middle"),End=$Stage("End"),Release=$Semaphore("Release"),withRemoval$p=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},singleInstance=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=d(oneOf$c([backdoor.makeLemmingEvent(b=>y=>()=>{const v={value:empty$2},C=b(o)(w=>bind_(onMatch()()()({matrix4:_=>{const g=f.setSingleInstancedMeshMatrix4({id:u.meshId,instanceId:u.instanceId,matrix4:_});return()=>g},color:_=>{const g=f.setSingleInstancedMeshColor({id:u.meshId,instanceId:u.instanceId,color:_});return()=>g},onClick:_=>withRemoval$p(v)("click")(f.setIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:_}))(f.removeIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:_})),onMouseDown:_=>withRemoval$p(v)("mousedown")(f.setIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:_}))(f.removeIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:_})),onMouseUp:_=>withRemoval$p(v)("mouseup")(f.setIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:_}))(f.removeIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:_})),onMouseMove:_=>withRemoval$p(v)("mousemove")(f.setIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:_}))(f.removeIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:_})),onTouchStart:_=>withRemoval$p(v)("touchstart")(f.setIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:_}))(f.removeIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:_})),onTouchEnd:_=>withRemoval$p(v)("touchend")(f.setIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:_}))(f.removeIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:_})),onTouchMove:_=>withRemoval$p(v)("touchmove")(f.setIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:_}))(f.removeIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:_})),onTouchCancel:_=>withRemoval$p(v)("touchcancel")(f.setIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:_}))(f.removeIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:_}))})(case_)(w))(y))();return()=>{const w=v.value;return foreachE(values(w))(y)(),C()}})]))(m);return()=>h()}),roundRobinInstancedMesh=o=>u=>f=>d=>m=>$Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>v=>()=>{const C=b.ids(),w={value:Nothing},_={value:Nothing};h.raiseId(C)();const g=y(oneOf$c([f({parent:Nothing,scope:h.scope,raiseId:I=>()=>(w.value=$Maybe("Just",I),unit)})(b),d({parent:Nothing,scope:h.scope,raiseId:I=>()=>(_.value=$Maybe("Just",I),unit)})(b)]))(v)(),$=w.value,T=_.value,M=y((()=>{if($.tag==="Nothing"||T.tag==="Nothing")return plusEvent.empty;if($.tag==="Just"){if(T.tag==="Just")return oneOf$c([applicativeEvent.pure(b.makeInstancedMesh({...o,id:C,parent:h.parent,scope:h.scope,geometry:$._1,material:T._1,count:u})),backdoor.makeLemmingEvent(I=>B=>{const x=range(0)(u-1|0);return()=>{const F={value:x},R={value:empty$2},L=I(m)(J=>()=>{const K=F.value,ee=uncons(K);if(ee.tag==="Nothing")return unit;if(ee.tag==="Just"){F.value=ee._1.tail;const q=b.ids(),G={value:()=>unit},Z=b.ids(),ie={value:()=>unit},Q={value:()=>unit},H={value:Begin},ne=I(J)(ue=>()=>{const le=H.value;if(ue.tag==="Release"){if(le.tag==="Middle"){H.value=End;const ye=()=>{const me=F.value;F.value=nubBy(ordInt.compare)(concatArray(me)([ee._1.head])),bind_(()=>G.value)(identity$v)(),bind_(()=>ie.value)(identity$v)();const ve=R.value;R.value=mutate(deleteImpl(q))(ve);const Ce=R.value;return R.value=mutate(deleteImpl(Z))(Ce),unit};return Q.value=ye,ye()}return unit}if(ue.tag==="Acquire"){if(le.tag==="Begin"){H.value=Middle;const ye=I(ue._1({meshId:C,instanceId:ee._1.head})(b))(B)(),me=R.value;return R.value=mutate(poke(Z)(ye))(me),ie.value=ye,unit}return unit}return unit})();G.value=ne;const re=R.value;R.value=mutate(poke(q)(ne))(re);const X=Q.value;return X()}fail$3()})(),z=bind_(()=>R.value)(traverse_$4(identity$8));return()=>(z(),L())}})]);fail$3()}fail$3()})())(v)(),S=v(b.deleteFromCache({id:C}));return()=>(S(),g(),M())})),max$7=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$b=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$6=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),for_$5=for_$9(applicativeAff)(foldableMaybe),basic=o=>{const u=indexImpl(3)(o.myInfo.beats),f=indexImpl(2)(o.myInfo.beats),d=indexImpl(1)(o.myInfo.beats),m=indexImpl(0)(o.myInfo.beats),h=filter$p(b=>o.myInfo.uniqueId===b.uniqueId)(o.notifications.hitBasic);return keepLatest(backdoor.bus(b=>y=>{const v=oneOf$b([(w,_)=>y(w,g=>_(g.logicalBeat)),(()=>{const w=filter$p(_=>o.myInfo.uniqueId===_.uniqueId)(h);return(_,g)=>w(_,$=>g($.logicalBeat))})()]),C=compactableEvent.compact(sampleOn((w,_)=>{const g=applicativeEvent.pure(Nothing)(w,_),$=v(w,T=>_($Maybe("Just",T)));return()=>(g(),$())})((w,_)=>o.animatedStuff(w,g=>_($=>{if($.tag==="Nothing")return $Maybe("Just",g.rateInfo);if($.tag==="Just")return $._1>=g.rateInfo.beats?$Maybe("Just",g.rateInfo):Nothing;fail$3()}))));return keepLatest((()=>{const w=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const _=oneOff(Just)(sampleBy(functorEvent)($$const)(g=>cInstant(o.cnow)(($,T)=>g($,M=>T(S=>M($Maybe("Just",S))))))(v));return(g,$)=>{const T=applicativeEvent.pure(Nothing)(g,$),M=_(g,$);return()=>(T(),M())}})())(sampleOn((_,g)=>{const $=applicativeEvent.pure(o.initialDims)(_,M=>{const S={iw:M.iw,ih:M.ih,r:M.iw/M.ih};return g(S)}),T=o.resizeEvent(_,M=>g({iw:M.iw,ih:M.ih,r:M.iw/M.ih}));return()=>($(),T())})((_,g)=>o.animatedStuff(_,$=>g(T=>M=>S=>({rateInfo:$.rateInfo,ratio:T,endTime:M,renderingInfo:S}))))));return backdoor.memoize((_,g)=>w(_,$=>{const T={n14:(()=>{if(o.myInfo.column.tag==="C1")return $.renderingInfo.halfAmbitus*-1*$.ratio.r;if(o.myInfo.column.tag==="C2")return $.renderingInfo.halfAmbitus*-.875*$.ratio.r;if(o.myInfo.column.tag==="C3")return $.renderingInfo.halfAmbitus*-.75*$.ratio.r;if(o.myInfo.column.tag==="C4")return $.renderingInfo.halfAmbitus*-.625*$.ratio.r;if(o.myInfo.column.tag==="C5")return $.renderingInfo.halfAmbitus*-.5*$.ratio.r;if(o.myInfo.column.tag==="C6")return $.renderingInfo.halfAmbitus*-.375*$.ratio.r;if(o.myInfo.column.tag==="C7")return $.renderingInfo.halfAmbitus*-.25*$.ratio.r;if(o.myInfo.column.tag==="C8")return $.renderingInfo.halfAmbitus*-.125*$.ratio.r;if(o.myInfo.column.tag==="C9")return $.renderingInfo.halfAmbitus*0*$.ratio.r;if(o.myInfo.column.tag==="C10")return $.renderingInfo.halfAmbitus*.125*$.ratio.r;if(o.myInfo.column.tag==="C11")return $.renderingInfo.halfAmbitus*.25*$.ratio.r;if(o.myInfo.column.tag==="C12")return $.renderingInfo.halfAmbitus*.375*$.ratio.r;if(o.myInfo.column.tag==="C13")return $.renderingInfo.halfAmbitus*.5*$.ratio.r;if(o.myInfo.column.tag==="C14")return $.renderingInfo.halfAmbitus*.625*$.ratio.r;if(o.myInfo.column.tag==="C15")return $.renderingInfo.halfAmbitus*.75*$.ratio.r;if(o.myInfo.column.tag==="C16")return $.renderingInfo.halfAmbitus*.875*$.ratio.r;if(o.myInfo.column.tag==="C17")return $.renderingInfo.halfAmbitus*1*$.ratio.r;fail$3()})(),n24:0,n34:(()=>{if($.rateInfo.beats<m.startsAt){const I=-5*$.renderingInfo.barZSpacing,B=-3*$.renderingInfo.barZSpacing;if(m.startsAt===o.myInfo.appearsAt||B===I)return I-.115;const x=(B-I)/(m.startsAt-o.myInfo.appearsAt);return x*$.rateInfo.beats+(I-x*o.myInfo.appearsAt)-.115}if($.rateInfo.beats<d.startsAt){const I=-3*$.renderingInfo.barZSpacing,B=-2*$.renderingInfo.barZSpacing;if(d.startsAt===m.startsAt||B===I)return I-.115;const x=(B-I)/(d.startsAt-m.startsAt);return x*$.rateInfo.beats+(I-x*m.startsAt)-.115}if($.rateInfo.beats<f.startsAt){const I=-2*$.renderingInfo.barZSpacing,B=-1*$.renderingInfo.barZSpacing;if(f.startsAt===d.startsAt||B===I)return I-.115;const x=(B-I)/(f.startsAt-d.startsAt);return x*$.rateInfo.beats+(I-x*d.startsAt)-.115}if($.rateInfo.beats<u.startsAt){const I=-1*$.renderingInfo.barZSpacing;if(u.startsAt===f.startsAt||I===0)return I-.115;const B=-I/(u.startsAt-f.startsAt);return B*$.rateInfo.beats+(I-B*f.startsAt)-.115}const M=u.startsAt+.2;if(M===u.startsAt)return-.115;const S=.5/(M-u.startsAt);return S*$.rateInfo.beats+-(S*u.startsAt)-.115})(),n11:(()=>{const M=$.renderingInfo.halfAmbitus*$.ratio.r/9;if($.endTime.tag==="Nothing")return M;if($.endTime.tag==="Just")return max$7(0)(M-M*3*($.rateInfo.epochTime-$.endTime._1)/1e3);fail$3()})(),n22:(()=>{if($.endTime.tag==="Nothing")return .02;if($.endTime.tag==="Just")return max$7(0)(.02-.06*($.rateInfo.epochTime-$.endTime._1)/1e3);fail$3()})(),n33:(()=>{if($.endTime.tag==="Nothing")return .23;if($.endTime.tag==="Just")return max$7(0)(.23-.6900000000000001*($.rateInfo.epochTime-$.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return g(T)}))(_=>rider({event:oneOfMap$6(applicativeEvent.pure)(arrayMap(g=>oneOf$b([applicativeEvent.pure($Child("Insert",g.audio(C))),keepLatest((()=>{const $=withTime(applicativeEvent.pure(unit));return(T,M)=>$(T,S=>{const I=lowPrioritySchedule(o.lpsCallback)(1e4+S.time)(applicativeEvent.pure(Remove));return M(I)})})())]))(o.myInfo.beats)),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOn(applyEvent.apply((g,$)=>{const T=applicativeEvent.pure(Nothing)(g,S=>$(I=>({iWasPlayed:S,hbop:I}))),M=y(g,S=>$(I=>({iWasPlayed:$Maybe("Just",S),hbop:I})));return()=>(T(),M())})((()=>{const g=filter$p($=>$.player.tag==="Player1"?o.myPlayer.tag!=="Player1":$.player.tag==="Player2"?o.myPlayer.tag!=="Player2":$.player.tag==="Player3"?o.myPlayer.tag!=="Player3":$.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(h);return($,T)=>{const M=applicativeEvent.pure(Nothing)($,T),S=g($,I=>T($Maybe("Just",I)));return()=>(M(),S())}})()))((()=>{const g=o.columnEventConstructor(o.myInfo.column);return($,T)=>g($,M=>T(S=>(()=>{if(S.iWasPlayed.tag==="Nothing")return!1;if(S.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",I=>{const B=(()=>{if(o.myPlayer.tag==="Player1")return I.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return I.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return I.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return I.playerPositions.p4p;fail$3()})(),x=o.myInfo.raycastingCanStartAt(B);if(B.tag==="Position1"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=m.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:m.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(B.tag==="Position2"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=d.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:d.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(B.tag==="Position3"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=f.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:f.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(B.tag==="Position4"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=u.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:u.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));S.hbop.tag==="Nothing"&&fail$3(),fail$3()})))})())),push:g=>{const $=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))(T=>for_$5(g({rateInfo:T.rateInfo,playerPositions:T.playerPositions}))(M=>{if(M.tag==="Left")return _bind(_liftEffect(o.cnow))(S=>_liftEffect(o.pushBasicVisualForLabel(M._1(S))));if(M.tag==="Right")return _bind(_liftEffect(o.cnow))(S=>{const I=(()=>{if(o.myPlayer.tag==="Player1")return T.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return T.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return T.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return T.playerPositions.p4p;fail$3()})();if(I.tag==="Position1"){const B=T.rateInfo.beats-m.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S,translation:(F,R)=>_(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position2"){const B=T.rateInfo.beats-d.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S,translation:(F,R)=>_(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position3"){const B=T.rateInfo.beats-f.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S,translation:(F,R)=>_(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position4"){const B=T.rateInfo.beats-u.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:B,hitAt:T.rateInfo.beats,issuedAt:S,translation:(F,R)=>_(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}fail$3()});fail$3()})));return()=>($().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$b([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(g,$)=>_(g,T=>{const M={type:"matrix4",value:o.mkMatrix4(T)};return $(M)})]))))))})())}))},$MeshPhongMaterialOptions=()=>({tag:"MeshPhongMaterialOptions"}),identity$7=o=>o,oneOf$a=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshPhongMaterialOptions=$MeshPhongMaterialOptions(),convertOptionMeshPhongMat49={convertOption:o=>u=>Just},convertOptionMeshPhongMat50={convertOption:o=>u=>identity$7},meshPhongMaterial$2=o=>u=>f=>{const d=o.toInitializeMeshPhongMaterial(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const v=h.ids();m.raiseId(v)();const C=b(oneOf$a([applicativeEvent.pure(h.makeMeshPhongMaterial({id:v,parent:m.parent,scope:m.scope,parameters:{meshPhongMaterial:d.meshPhongMaterial,color:d.color,map:d.map,combine:d.combine,fog:d.fog,reflectivity:d.reflectivity,refractionRatio:d.refractionRatio,shininess:d.shininess,specular:d.specular,specularMap:d.specularMap,wireframeLinecap:d.wireframeLinecap,wireframeLinejoin:d.wireframeLinejoin,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,alphaMap:d.alphaMap,envMap:d.envMap,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),(_,g)=>f(_,$=>{const T=onMatch()()()({color:M=>h.setColor({id:v,color:M}),map:M=>h.setMap({id:v,map:M}),lightMap:M=>h.setLightMap({id:v,lightMap:M}),lightMapIntensity:M=>h.setLightMapIntensity({id:v,lightMapIntensity:M}),aoMap:M=>h.setAoMap({id:v,aoMap:M}),aoMapIntensity:M=>h.setAoMapIntensity({id:v,aoMapIntensity:M}),emissive:M=>h.setEmissive({id:v,emissive:M}),emissiveIntensity:M=>h.setEmissiveIntensity({id:v,emissiveIntensity:M}),emissiveMap:M=>h.setEmissiveMap({id:v,emissiveMap:M}),bumpMap:M=>h.setBumpMap({id:v,bumpMap:M}),bumpScale:M=>h.setBumpScale({id:v,bumpScale:M}),normalMap:M=>h.setNormalMap({id:v,normalMap:M}),normalMapType:M=>h.setNormalMapType({id:v,normalMapType:M}),normalScale:M=>h.setNormalScale({id:v,normalScale:M}),displacementMap:M=>h.setDisplacementMap({id:v,displacementMap:M}),displacementScale:M=>h.setDisplacementScale({id:v,displacementScale:M}),displacementBias:M=>h.setDisplacementBias({id:v,displacementBias:M}),alphaMap:M=>h.setAlphaMap({id:v,alphaMap:M}),envMap:M=>h.setEnvMap({id:v,envMap:M}),wireframe:M=>h.setWireframe({id:v,wireframe:M}),wireframeLinewidth:M=>h.setWireframeLinewidth({id:v,wireframeLinewidth:M}),flatShading:M=>h.setFlatShading({id:v,flatShading:M}),combine:M=>h.setCombine({id:v,combine:M}),fog:M=>h.setFog({id:v,fog:M}),reflectivity:M=>h.setReflectivity({id:v,reflectivity:M}),refractionRatio:M=>h.setRefractionRatio({id:v,refractionRatio:M}),shininess:M=>h.setShininess({id:v,shininess:M}),specular:M=>h.setSpecular({id:v,specular:M}),specularMap:M=>h.setSpecularMap({id:v,specularMap:M}),wireframeLinecap:M=>h.setWireframeLinecap({id:v,wireframeLinecap:M}),wireframeLinejoin:M=>h.setWireframeLinejoin({id:v,wireframeLinejoin:M})})(case_)($);return g(T)})]))(y)(),w=y(h.deleteFromCache({id:v}));return()=>(w(),C())})},defaultMeshPhongMaterial={...defaultMaterials,color:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,alphaMap:Nothing,envMap:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing,combine:Nothing,fog:Nothing,reflectivity:Nothing,refractionRatio:Nothing,shininess:Nothing,specular:Nothing,specularMap:Nothing,wireframeLinecap:Nothing,wireframeLinejoin:Nothing},identity$6=o=>o,pure=(()=>applicativeABehavior(functorEvent).pure)(),fromFoldable$6=foldrArray(Cons)(Nil),oneOfMap$5=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),box$1=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshPhongMaterial$1=meshPhongMaterial$2((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshPhongMat50)()()()({reflectSymbol:()=>"meshPhongMaterial"}))(convertOptionMeshPhongMat49)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshPhongMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshPhongMaterialOptions)($$Proxy)(u)({}),defaultMeshPhongMaterial)}})()),singleBeat$2=o=>({startsAt:o.myBeat,audio:u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$6)((f,d)=>u(f,m=>{const h=(()=>m.beats+4>=o.myBeat?$Maybe("Just",(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*o.myBeat+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})()):Nothing)();return d(h)})))(f=>basic$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f})))}),severalBeats=o=>[singleBeat$2({myBeat:o.b0,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b1,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b2,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b3,buffer:pure(o.silence),silence:o.silence})],rideBasics=o=>u=>{const f=d=>m=>h=>{if(m.tag==="Nil"){const C=f(d)(Nil);return defer(w=>$Tuple(Nil,C))}const b=span$1(C=>C.appearsAt<=h.beats+4)(m),y=listMap(d)(b.init),v=f(d)(b.rest);return defer(C=>$Tuple(y,v))};return $Entity("FixedChildren'",[roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(100)(box$1({box:u.threeDI.boxGeometry}))(meshPhongMaterial$1({meshPhongMaterial:u.threeDI.meshPhongMaterial,color:u.mkColor($RGB(.798,.927,.778))})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$5(applicativeEvent.pure),m=scheduleCf(f(h=>{const b=basic({myInfo:{beats:severalBeats({b0:h.b0,b1:h.b1,b2:h.b2,b3:h.b3,silence:u.silence}),raycastingCanStartAt:h.raycastingCanStartAt,uniqueId:h.uniqueId,appearsAt:h.appearsAt,column:h.column},...unsafeUnionFn(u,h)}),y=keepLatest((()=>{const v=withTime(applicativeEvent.pure(unit));return(C,w)=>v(C,_=>{const g=lowPrioritySchedule(u.lpsCallback)(15e3+_.time)(applicativeEvent.pure(Release));return w(g)})})());return(v,C)=>{const w=b(v,g=>C($Semaphore("Acquire",g))),_=y(v,C);return()=>(w(),_())}})(foldableWithIndexList.foldrWithIndex(h=>b=>y=>$List("Cons",{uniqueId:h,appearsAt:3*b.marker1Time-2*b.marker2Time+1,b0:b.marker1Time+1,b1:b.marker2Time+1,b2:b.marker3Time+1,b3:b.marker4Time+1,text:replicate(4)(""),raycastingCanStartAt:v=>1+b.raycastingCanStartAt(v),column:b.column},y))(Nil)(sortBy$1(h=>b=>ordNumber.compare(h.marker1Time)(b.marker1Time))(fromFoldable$6(o)))))((h,b)=>u.animatedStuff(h,y=>b(y.rateInfo)));return(h,b)=>m(h,y=>{const v=d(y);return b(v)})})()))])},playBuf$2=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),leap$1=o=>gain_(initialGainNumber)(1)([playBuf$2({buffer:o.silence})((u,f)=>{const d=o.buffer(u,b=>f({type:"buffer",value:b})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),max$6=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$9=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$4=for_$9(applicativeAff)(foldableMaybe),show1$1=o=>{const u=cons(intercalate$2(": ")(["canStartAt",showNumberImpl(o.canStartAt)]))(cons(intercalate$2(": ")(["cbeat",showNumberImpl(o.cbeat)]))(cons(intercalate$2(": ")(["rb",showNumberImpl(o.rb)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},leap=o=>{const u=filter$p(f=>o.uniqueId===f.uniqueId)(o.notifications.hitLeap);return keepLatest(backdoor.bus(f=>d=>{const m=filter$p(b=>o.uniqueId===b.uniqueId)(u),h=(b,y)=>{const v=d(b,w=>y(unit)),C=m(b,w=>y(unit));return()=>(v(),C())};return keepLatest((()=>{const b=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const y=oneOff(Just)(sampleBy(functorEvent)($$const)(v=>cInstant(o.cnow)((C,w)=>v(C,_=>w(g=>_($Maybe("Just",g))))))(h));return(v,C)=>{const w=applicativeEvent.pure(Nothing)(v,C),_=y(v,C);return()=>(w(),_())}})())(sampleOn((y,v)=>{const C=applicativeEvent.pure(o.initialDims)(y,_=>{const g={iw:_.iw,ih:_.ih,r:_.iw/_.ih};return v(g)}),w=o.resizeEvent(y,_=>v({iw:_.iw,ih:_.ih,r:_.iw/_.ih}));return()=>(C(),w())})((y,v)=>o.animatedStuff(y,C=>v(w=>_=>g=>({rateInfo:C.rateInfo,ratio:w,endTime:_,renderingInfo:g}))))));return backdoor.memoize((y,v)=>b(y,C=>{const w={n14:(()=>{if(o.column.tag==="C1")return C.renderingInfo.halfAmbitus*-1*C.ratio.r;if(o.column.tag==="C2")return C.renderingInfo.halfAmbitus*-.875*C.ratio.r;if(o.column.tag==="C3")return C.renderingInfo.halfAmbitus*-.75*C.ratio.r;if(o.column.tag==="C4")return C.renderingInfo.halfAmbitus*-.625*C.ratio.r;if(o.column.tag==="C5")return C.renderingInfo.halfAmbitus*-.5*C.ratio.r;if(o.column.tag==="C6")return C.renderingInfo.halfAmbitus*-.375*C.ratio.r;if(o.column.tag==="C7")return C.renderingInfo.halfAmbitus*-.25*C.ratio.r;if(o.column.tag==="C8")return C.renderingInfo.halfAmbitus*-.125*C.ratio.r;if(o.column.tag==="C9")return C.renderingInfo.halfAmbitus*0*C.ratio.r;if(o.column.tag==="C10")return C.renderingInfo.halfAmbitus*.125*C.ratio.r;if(o.column.tag==="C11")return C.renderingInfo.halfAmbitus*.25*C.ratio.r;if(o.column.tag==="C12")return C.renderingInfo.halfAmbitus*.375*C.ratio.r;if(o.column.tag==="C13")return C.renderingInfo.halfAmbitus*.5*C.ratio.r;if(o.column.tag==="C14")return C.renderingInfo.halfAmbitus*.625*C.ratio.r;if(o.column.tag==="C15")return C.renderingInfo.halfAmbitus*.75*C.ratio.r;if(o.column.tag==="C16")return C.renderingInfo.halfAmbitus*.875*C.ratio.r;if(o.column.tag==="C17")return C.renderingInfo.halfAmbitus*1*C.ratio.r;fail$3()})(),n24:0,n34:(()=>{const _=-3*C.renderingInfo.barZSpacing;if(o.hitsLastPositionAt===o.hitsFirstPositionAt||_===0)return _-.1;const g=-_/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return g*C.rateInfo.beats+(_-g*o.hitsFirstPositionAt)-.1})(),n11:(()=>{const _=C.renderingInfo.halfAmbitus*C.ratio.r/24;if(C.endTime.tag==="Nothing")return _;if(C.endTime.tag==="Just")return max$6(0)(_-_*3*(C.rateInfo.epochTime-C.endTime._1)/1e3);fail$3()})(),n22:(()=>{if(C.endTime.tag==="Nothing")return .02;if(C.endTime.tag==="Just")return max$6(0)(.02-.06*(C.rateInfo.epochTime-C.endTime._1)/1e3);fail$3()})(),n33:(()=>{if(C.endTime.tag==="Nothing")return .2;if(C.endTime.tag==="Just")return max$6(0)(.2-.6000000000000001*(C.rateInfo.epochTime-C.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return v(w)}))(y=>rider({event:applicativeEvent.pure(oneOf$9([applicativeEvent.pure($Child("Insert",o.sound(keepLatest((v,C)=>oneOff(Just)(h)(v,w=>C((_,g)=>o.animatedStuff(_,$=>g($.rateInfo)))))))),keepLatest((()=>{const v=withTime(applicativeEvent.pure(unit));return(C,w)=>v(C,_=>{const g=lowPrioritySchedule(o.lpsCallback)(1e4+_.time)(applicativeEvent.pure(Remove));return w(g)})})())])),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOn(applyEvent.apply((v,C)=>{const w=applicativeEvent.pure(Nothing)(v,g=>C($=>({iWasPlayed:g,hbop:$}))),_=d(v,g=>C($=>({iWasPlayed:$Maybe("Just",g),hbop:$})));return()=>(w(),_())})((()=>{const v=filter$p(C=>C.player.tag==="Player1"?o.myPlayer.tag!=="Player1":C.player.tag==="Player2"?o.myPlayer.tag!=="Player2":C.player.tag==="Player3"?o.myPlayer.tag!=="Player3":C.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u);return(C,w)=>{const _=applicativeEvent.pure(Nothing)(C,w),g=v(C,$=>w($Maybe("Just",$)));return()=>(_(),g())}})()))((()=>{const v=o.columnEventConstructor(o.column);return(C,w)=>v(C,_=>w(g=>(()=>{if(g.iWasPlayed.tag==="Nothing")return!1;if(g.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",$=>{const T=(()=>{if(o.myPlayer.tag==="Player1")return $.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return $.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return $.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return $.playerPositions.p4p;fail$3()})(),M=o.raycastingCanStartAt(T),S=(()=>{if(T.tag==="Position1")return o.hitsFirstPositionAt;if(T.tag==="Position2")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.33+o.hitsFirstPositionAt;if(T.tag==="Position3")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.66+o.hitsFirstPositionAt;if(T.tag==="Position4")return o.hitsLastPositionAt;fail$3()})();if(g.hbop.tag==="Just")return $Maybe("Just",$Either("Left",I=>({uniqueId:g.hbop._1.uniqueId,oldPosition:g.hbop._1.oldPosition,newPosition:g.hbop._1.newPosition,hitAt:g.hbop._1.hitAt,issuedAt:I,translation:(B,x)=>y(B,F=>x({x:F.n14,y:F.n24,z:F.n34})),player:g.hbop._1.player})));if(g.hbop.tag==="Nothing"){const I=S-$.rateInfo.beats;return $.rateInfo.beats>M&&I<2&&I>-.5?$Maybe("Just",$Either("Right",{cbeat:$.rateInfo.beats,canStartAt:M,rb:S})):Nothing}fail$3()})))})())),push:v=>{const C=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))(w=>for_$4(v({rateInfo:w.rateInfo,playerPositions:w.playerPositions}))(_=>{if(_.tag==="Left")return _bind(_liftEffect(o.cnow))(g=>{const $=_._1(g);return _bind(_liftEffect(log("drats, it wudn't me: "+showIntImpl($.uniqueId))))(()=>_liftEffect(o.pushLeapVisualForLabel($)))});if(_.tag==="Right")return _bind(_liftEffect(log("Raycaster strikes again! "+show1$1(_._1))))(()=>_bind(_liftEffect(o.cnow))(g=>{const $=(()=>{if(o.myPlayer.tag==="Player1")return w.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return w.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return w.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return w.playerPositions.p4p;fail$3()})(),T={uniqueId:o.uniqueId,hitAt:w.rateInfo.beats,issuedAt:g,oldPosition:$,newPosition:o.newPosition};return _bind(_liftEffect(o.pushLeapVisualForLabel({uniqueId:o.uniqueId,oldPosition:$,newPosition:o.newPosition,hitAt:w.rateInfo.beats,issuedAt:g,translation:(M,S)=>y(M,I=>S({x:I.n14,y:I.n24,z:I.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushLeap.push(T)))(()=>_liftEffect(f(T))))}));fail$3()})));return()=>(C().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$9([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(v,C)=>y(v,w=>{const _={type:"matrix4",value:o.mkMatrix4(w)};return C(_)})]))))))})())}))},$CylinderOptions=()=>({tag:"CylinderOptions"}),identity$5=o=>o,CylinderOptions=$CylinderOptions(),convertOptionCylinderOpti6={convertOption:o=>u=>identity$5},convertOptionCylinderOpti10={convertOption:o=>u=>identity$5},defaultCylinder={radiusTop:1,radiusBottom:1,height:1,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},cylinder$1=o=>u=>{const f=o.toInitializeCylinder(u);return d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const v=h(applicativeEvent.pure(m.makeCylinder({id:y,parent:d.parent,scope:d.scope,cylinder:f.cylinder,radiusTop:f.radiusTop,radiusBottom:f.radiusBottom,height:f.height,radialSegments:f.radialSegments,heightSegments:f.heightSegments,openEnded:f.openEnded,thetaStart:f.thetaStart,thetaLength:f.thetaLength,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(b)(),C=b(m.deleteFromCache({id:y}));return()=>(C(),v())})},identity$4=o=>o,fromFoldable$5=foldrArray(Cons)(Nil),max$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$4=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),cylinder=cylinder$1((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionCylinderOpti6)()()()({reflectSymbol:()=>"radialSegments"}))(convertOptionCylinderOpti10)()()()({reflectSymbol:()=>"cylinder"});return{toInitializeCylinder:u=>unsafeUnionFn(o.convertRecordOptions(CylinderOptions)($$Proxy)(u)({}),defaultCylinder)}})()),meshStandardMaterial$2=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat$1=o=>u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$4)((f,d)=>u(f,m=>d($Maybe("Just",0)))))(f=>leap$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f}))),rideLeaps=o=>u=>{const f=d=>{const m=h=>b=>y=>{if(b.tag==="Nil"){const _=m(h)(Nil);return defer(g=>$Tuple(Nil,_))}const v=span$1(_=>_.hitsFirstPositionAt<=y.beats+4)(b),C=listMap(h)(v.init),w=m(h)(v.rest);return defer(_=>$Tuple(C,w))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(25)(cylinder({cylinder:u.threeDI.cylinderGeometry,radialSegments:32}))(meshStandardMaterial$2({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor(d.couleur),roughness:.4})(plusEvent.empty))(keepLatest((()=>{const h=oneOfMap$4(applicativeEvent.pure),b=scheduleCf(m(y=>{const v=leap({sound:singleBeat$1({silence:u.silence,buffer:misbehavior(lookup$1("floorTom"))(u.buffers)}),uniqueId:y.uniqueId,newPosition:y.position,...unsafeUnionFn(u,y)}),C=keepLatest((()=>{const w=withTime(applicativeEvent.pure(unit));return(_,g)=>w(_,$=>{const T=lowPrioritySchedule(u.lpsCallback)(15e3+$.time)(applicativeEvent.pure(Release));return g(T)})})());return(w,_)=>{const g=v(w,T=>_($Semaphore("Acquire",T))),$=C(w,_);return()=>(g(),$())}})(fromFoldable$5(mapWithIndexArray(y=>v=>({uniqueId:y,hitsFirstPositionAt:min$4(v.marker1Time)(v.marker2Time)+1,hitsLastPositionAt:max$5(v.marker1Time)(v.marker2Time)+1,column:v.column,raycastingCanStartAt:C=>1+v.raycastingCanStartAt(C),position:v.position}))(d.levs))))((y,v)=>u.animatedStuff(y,C=>v(C.rateInfo)));return(y,v)=>b(y,C=>{const w=h(C);return v(w)})})()))};return $Entity("FixedChildren'",[f({levs:filter$1(d=>d.position.tag==="Position1")(o),couleur:$RGB(.2196078431372549,.8431372549019608,.9058823529411765)}),f({levs:filter$1(d=>d.position.tag==="Position2")(o),couleur:$RGB(.9764705882352941,.8784313725490196,.4627450980392157)}),f({levs:filter$1(d=>d.position.tag==="Position3")(o),couleur:$RGB(.9333333333333333,.19215686274509805,.4196078431372549)}),f({levs:filter$1(d=>d.position.tag==="Position4")(o),couleur:$RGB(.5176470588235295,.17647058823529413,.4470588235294118)})])},playBuf$1=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),$$long$1=o=>gain(initialGainNumber)(1)((u,f)=>o.offAt(u,d=>f({type:"gain",value:{type:"envelope",value:{d:1,o:d,p:[1,0]}}})))([playBuf$1({buffer:o.silence})((u,f)=>{const d=o.buffer(u,h=>f({type:"buffer",value:h})),m=onAt()(o.onAt)(u,f);return()=>(d(),m())})]);var AVar=function(){function o(){this.head=null,this.last=null,this.size=0}function u(w,_){this.queue=w,this.value=_,this.next=null,this.prev=null}function f(w){this.draining=!1,this.error=null,this.value=w,this.takes=new o,this.reads=new o,this.puts=new o}var d={};function m(w){try{w()}catch(_){setTimeout(function(){throw _},0)}}function h(w,_){var g=new u(w,_);switch(w.size){case 0:w.head=g;break;case 1:g.prev=w.head,w.head.next=g,w.last=g;break;default:g.prev=w.last,w.last.next=g,w.last=g}return w.size++,g}function b(w){var _;switch(w.size){case 0:return null;case 1:_=w.head,w.head=null;break;case 2:_=w.last,w.head.next=null,w.last=null;break;default:_=w.last,w.last=_.prev,w.last.next=null}return _.prev=null,_.queue=null,w.size--,_.value}function y(w){var _;switch(w.size){case 0:return null;case 1:_=w.head,w.head=null;break;case 2:_=w.head,w.last.prev=null,w.head=w.last,w.last=null;break;default:_=w.head,w.head=_.next,w.head.prev=null}return _.next=null,_.queue=null,w.size--,_.value}function v(w){if(w.queue!==null){if(w.queue.last===w){b(w.queue);return}if(w.queue.head===w){y(w.queue);return}w.prev&&(w.prev.next=w.next),w.next&&(w.next.prev=w.prev),w.queue.size--,w.queue=null,w.value=null,w.next=null,w.prev=null}}function C(w,_){if(!_.draining){var g=_.puts,$=_.takes,T=_.reads,M,S,I,B,x;for(_.draining=!0;;){if(M=null,S=null,I=null,B=_.value,x=T.size,_.error!==null){for(B=w.left(_.error);M=y(g);)m(M.cb(B));for(;S=y(T);)m(S(B));for(;I=y($);)m(I(B));break}if(B===d&&(M=y(g))&&(_.value=B=M.value),B!==d){for(I=y($);x--&&(S=y(T));)m(S(w.right(B)));I!==null&&(_.value=d,m(I(w.right(B))))}if(M!==null&&m(M.cb(w.right(void 0))),_.value===d&&g.size===0||_.value!==d&&$.size===0)break}_.draining=!1}}return f.EMPTY=d,f.putLast=h,f.takeLast=b,f.takeHead=y,f.deleteCell=v,f.drainVar=C,f}();function empty$1(){return new AVar(AVar.EMPTY)}function _putVar(o,u,f,d){return function(){var m=AVar.putLast(f.puts,{cb:d,value:u});return AVar.drainVar(o,f),function(){AVar.deleteCell(m)}}}function _takeVar(o,u,f){return function(){var d=AVar.putLast(u.takes,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _readVar(o,u,f){return function(){var d=AVar.putLast(u.reads,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _tryTakeVar(o,u){return function(){var f=u.value;return f===AVar.EMPTY?o.nothing:(u.value=AVar.EMPTY,AVar.drainVar(o,u),o.just(f))}}const $AVarStatus=(o,u)=>({tag:o,_1:u}),Killed=o=>$AVarStatus("Killed",o),Filled=o=>$AVarStatus("Filled",o),Empty=$AVarStatus("Empty"),ffiUtil={left:Left,right:Right,nothing:Nothing,just:Just,killed:Killed,filled:Filled,empty:Empty},take=o=>makeAff(u=>{const f=_takeVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),read=o=>makeAff(u=>{const f=_readVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),put$1=o=>u=>makeAff(f=>{const d=_putVar(ffiUtil,o,u,f);return()=>{const m=d(),h=_liftEffect(m);return b=>h}}),empty=_liftEffect(empty$1),sampleJIT=o=>u=>backdoor.makeEvent(f=>{const d=_makeFiber(ffiUtil$1,_bind(empty)(m=>_liftEffect((()=>{const h=subscribe(o)(b=>{const y=_makeFiber(ffiUtil$1,_bind(_map(v=>unit)(_liftEffect(_tryTakeVar(ffiUtil,m))))(()=>put$1(b)(m)));return()=>(y().run(),unit)});return()=>{const b=h(),y=subscribe(u)(v=>f(v(m)))();return()=>(b(),y())}})())));return()=>{const m=d();m.run();const h=_makeFiber(ffiUtil$1,_bind(joinFiber(m))(b=>_liftEffect(b)));return()=>(h().run(),unit)}}),vbus$1=vbus$2()(vbusCons2({reflectSymbol:()=>"iWasPlayed"})()()(vbusCons2({reflectSymbol:()=>"iWasReleased"})()()(vbusNil)()())()()),mapAccum$3=mapAccum$d(eventIsEvent),max$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$8=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),clamp=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},$$long=o=>{const u=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.releaseLong),f=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.hitLong);return keepLatest(vbus$1($$Proxy)(d=>m=>{const h=filter$p(_=>o.uniqueId===_.uniqueId)(u),b=(_,g)=>{const $=m.iWasReleased(_,M=>g(unit)),T=h(_,M=>g(unit));return()=>($(),T())},y=filter$p(_=>o.uniqueId===_.uniqueId)(f),v=(_,g)=>{const $=m.iWasPlayed(_,M=>g(unit)),T=y(_,M=>g(unit));return()=>($(),T())},C=mapAccum$3(_=>g=>{const $=-3*_.renderingInfo.barZSpacing,T=(()=>{if(o.hitsLastPositionAt===o.hitsFirstPositionAt||$===0)return $;const S=-$/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return S*_.animatedStuff.rateInfo.beats+($-S*o.hitsFirstPositionAt)})(),M=(()=>_.endTime.tag==="Just"&&g.prevZ.tag==="Just"?g.consumedByPress+(T-g.prevZ._1):g.consumedByPress)();return $Tuple({prevZ:$Maybe("Just",T),consumedByPress:M},{logicalZ:T,prevZ:g.prevZ,consumedByPress:M,..._})})(sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const _=sampleBy(functorEvent)($$const)(g=>cInstant(o.cnow)(($,T)=>g($,M=>T(S=>M($Maybe("Just",S))))))(v);return(g,$)=>{const T=applicativeEvent.pure(Nothing)(g,$),M=b(g,I=>$(Nothing)),S=_(g,$);return()=>(T(),M(),S())}})())(sampleOn((_,g)=>{const $=applicativeEvent.pure(o.initialDims)(_,M=>{const S={iw:M.iw,ih:M.ih,r:M.iw/M.ih};return g(S)}),T=o.resizeEvent(_,M=>g({iw:M.iw,ih:M.ih,r:M.iw/M.ih}));return()=>($(),T())})((_,g)=>o.animatedStuff(_,$=>g(T=>M=>S=>({animatedStuff:$,ratio:T,endTime:M,renderingInfo:S})))))))({prevZ:Nothing,consumedByPress:0}),w=(_,g)=>C(_,$=>{const T=max$4(0)(o.length-$.consumedByPress),M=$Tuple($,{n14:(()=>{if(o.column.tag==="C1")return $.renderingInfo.halfAmbitus*-1*$.ratio.r;if(o.column.tag==="C2")return $.renderingInfo.halfAmbitus*-.875*$.ratio.r;if(o.column.tag==="C3")return $.renderingInfo.halfAmbitus*-.75*$.ratio.r;if(o.column.tag==="C4")return $.renderingInfo.halfAmbitus*-.625*$.ratio.r;if(o.column.tag==="C5")return $.renderingInfo.halfAmbitus*-.5*$.ratio.r;if(o.column.tag==="C6")return $.renderingInfo.halfAmbitus*-.375*$.ratio.r;if(o.column.tag==="C7")return $.renderingInfo.halfAmbitus*-.25*$.ratio.r;if(o.column.tag==="C8")return $.renderingInfo.halfAmbitus*-.125*$.ratio.r;if(o.column.tag==="C9")return $.renderingInfo.halfAmbitus*0*$.ratio.r;if(o.column.tag==="C10")return $.renderingInfo.halfAmbitus*.125*$.ratio.r;if(o.column.tag==="C11")return $.renderingInfo.halfAmbitus*.25*$.ratio.r;if(o.column.tag==="C12")return $.renderingInfo.halfAmbitus*.375*$.ratio.r;if(o.column.tag==="C13")return $.renderingInfo.halfAmbitus*.5*$.ratio.r;if(o.column.tag==="C14")return $.renderingInfo.halfAmbitus*.625*$.ratio.r;if(o.column.tag==="C15")return $.renderingInfo.halfAmbitus*.75*$.ratio.r;if(o.column.tag==="C16")return $.renderingInfo.halfAmbitus*.875*$.ratio.r;if(o.column.tag==="C17")return $.renderingInfo.halfAmbitus*1*$.ratio.r;fail$3()})(),n24:0,n34:$.logicalZ-o.length/2-$.consumedByPress,n11:(()=>T===0?0:$.renderingInfo.halfAmbitus*$.ratio.r/9)(),n22:(()=>T===0?0:.02)(),n33:T,n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1});return g(M)});return keepLatest(backdoor.memoize(w)(_=>keepLatest(backdoor.memoize(filter$p(g=>g.player.tag==="Player1"?o.myPlayer.tag!=="Player1":g.player.tag==="Player2"?o.myPlayer.tag!=="Player2":g.player.tag==="Player3"?o.myPlayer.tag!=="Player3":g.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(f))(g=>keepLatest(backdoor.memoize(filter$p($=>$.player.tag==="Player1"?o.myPlayer.tag!=="Player1":$.player.tag==="Player2"?o.myPlayer.tag!=="Player2":$.player.tag==="Player3"?o.myPlayer.tag!=="Player3":$.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u))($=>rider({event:applicativeEvent.pure(oneOf$8([applicativeEvent.pure($Child("Insert",o.sound({on:keepLatest((T,M)=>oneOff(Just)(v)(T,S=>M((I,B)=>o.animatedStuff(I,x=>B(x.rateInfo))))),off:keepLatest((T,M)=>oneOff(Just)(b)(T,S=>M((I,B)=>o.animatedStuff(I,x=>B(x.rateInfo)))))}))),keepLatest((()=>{const T=withTime(applicativeEvent.pure(unit));return(M,S)=>T(M,I=>{const B=lowPrioritySchedule(o.lpsCallback)(1e4+I.time)(applicativeEvent.pure(Remove));return S(B)})})())])),push:o.pushAudio})(applicativeEvent.pure(singleInstance(oneOf$8([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(T,M)=>_(T,S=>{const I={type:"matrix4",value:o.mkMatrix4(S._2)};return M(I)}),(()=>{const T=S=>sampleJIT(w)((I,B)=>S(I,x=>B(F=>R=>{const L=_makeFiber(ffiUtil$1,empty);return()=>{const z=L();z.run();const J=_makeFiber(ffiUtil$1,empty)();J.run(),_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(q=>_bind(read(F))(G=>{const Z=abs((()=>{const H=(()=>{if(o.myPlayer.tag==="Player1")return G._1.animatedStuff.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return G._1.animatedStuff.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return G._1.animatedStuff.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return G._1.animatedStuff.playerPositions.p4p;fail$3()})();if(H.tag==="Position1")return-3*G._1.renderingInfo.barZSpacing-G._2.n33;if(H.tag==="Position2")return-2*G._1.renderingInfo.barZSpacing-G._2.n33;if(H.tag==="Position3")return-1*G._1.renderingInfo.barZSpacing-G._2.n33;if(H.tag==="Position4")return-G._2.n33;fail$3()})()),ie={uniqueId:o.uniqueId,hitAt:G._1.animatedStuff.rateInfo.beats,issuedAt:q,distance:Z},Q={uniqueId:o.uniqueId,hitAt:G._1.animatedStuff.rateInfo.beats,issuedAt:q,distance:Z,translation:(H,ne)=>_(H,re=>ne({x:re._2.n14,y:re._2.n24,z:re._2.n34})),player:o.myPlayer};return _bind(joinFiber(z))(H=>_bind(put$1(G._1.animatedStuff.rateInfo.beats)(H))(()=>_bind(joinFiber(J))(ne=>_bind(put$1(Z)(ne))(()=>_bind(_liftEffect(o.pushHitLongVisualForLabel(Q)))(()=>_bind(_liftEffect(o.pushHitLong.push(ie)))(()=>_liftEffect(d.iWasPlayed(ie))))))))})))().run();const ee=_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(q=>_bind(read(F))(G=>_bind(joinFiber(z))(Z=>_bind(take(Z))(ie=>_bind(joinFiber(J))(Q=>_bind(take(Q))(H=>{const ne=clamp(0)(1)(G._1.consumedByPress/o.length),re={uniqueId:o.uniqueId,releasedAt:G._1.animatedStuff.rateInfo.beats,issuedAt:q,pctConsumed:ne,hitAt:ie,distance:H};return _bind(_liftEffect(o.pushReleaseLongVisualForLabel({uniqueId:o.uniqueId,hitAt:ie,releasedAt:G._1.animatedStuff.rateInfo.beats,distance:H,pctConsumed:ne,issuedAt:q,translation:(X,ue)=>_(X,le=>ue({x:le._2.n14,y:le._2.n24,z:le._2.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushReleaseLong.push(re)))(()=>_liftEffect(d.iWasReleased(re))))})))))));return()=>(ee().run(),unit)}}))),M=oneOf$8([(S,I)=>m.iWasPlayed(S,B=>I(x=>()=>()=>unit)),T((S,I)=>m.iWasReleased(S,B=>I(unit))),oneOff(Just)(keepLatest((S,I)=>g(S,B=>{const x=rider({event:sampleBy(functorEvent)(applyFlipped)(F=>cInstant(o.cnow)((R,L)=>F(R,z=>L(J=>z(J)))))(applicativeEvent.pure(F=>({uniqueId:B.uniqueId,hitAt:B.hitAt,distance:B.distance,issuedAt:F,translation:(R,L)=>_(R,z=>L({x:z._2.n14,y:z._2.n24,z:z._2.n34})),player:B.player}))),push:o.pushHitLongVisualForLabel})(applicativeEvent.pure(F=>()=>()=>unit));return I(x)}))),oneOff(Just)(keepLatest((S,I)=>$(S,B=>{const x=rider({event:sampleBy(functorEvent)(applyFlipped)(F=>cInstant(o.cnow)((R,L)=>F(R,z=>L(J=>z(J)))))(applicativeEvent.pure(F=>({uniqueId:B.uniqueId,hitAt:B.hitAt,releasedAt:B.releasedAt,distance:B.distance,issuedAt:F,pctConsumed:B.pctConsumed,translation:(R,L)=>_(R,z=>L({x:z._2.n14,y:z._2.n24,z:z._2.n34})),player:B.player}))),push:o.pushReleaseLongVisualForLabel})(T(applicativeEvent.pure(unit)));return I(x)}))),T(applicativeEvent.pure(unit))]);return o.isMobile?(S,I)=>M(S,B=>I({type:"onTouchStart",value:x=>{const F=B({cx:clientX$1(x),cy:clientY$1(x)});return()=>{const R=F();return{end:L=>R,cancel:L=>R}}}})):(S,I)=>M(S,B=>I({type:"onMouseDown",value:x=>{const F=B({cx:clientX(x),cy:clientY(x)});return()=>{const R=F();return L=>R}}}))})()]))))))))))}))},identity$3=o=>o,fromFoldable$4=foldrArray(Cons)(Nil),max$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$3=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),box=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$1=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat=o=>u=>{const f=oneOff(identity$3)((d,m)=>u.on(d,h=>m($Maybe("Just",0))));return $$long$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),silence:o.silence,onAt:f,offAt:oneOff(identity$3)((d,m)=>u.off(d,h=>m($Maybe("Just",h.time))))})},rideLongs=o=>u=>{const f=d=>m=>{if(d.tag==="Nil"){const v=f(Nil);return defer(C=>$Tuple(Nil,v))}const h=span$1(v=>v.hitsFirstPositionAt<=m.beats+5)(d),b=listMap(v=>{const C=$$long({sound:singleBeat({silence:u.silence,buffer:misbehavior(_=>{if(v.tag.tag==="Just")return _lookup(Nothing,Just,v.tag._1,_);if(v.tag.tag==="Nothing")return Nothing;fail$3()})(u.buffers)}),uniqueId:v.uniqueId,...unsafeUnionFn(u,v)}),w=keepLatest((()=>{const _=withTime(applicativeEvent.pure(unit));return(g,$)=>_(g,T=>{const M=lowPrioritySchedule(u.lpsCallback)(2e4+T.time)(applicativeEvent.pure(Release));return $(M)})})());return(_,g)=>{const $=C(_,M=>g($Semaphore("Acquire",M))),T=w(_,g);return()=>($(),T())}})(h.init),y=f(h.rest);return defer(v=>$Tuple(b,y))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,mesh:u.threeDI.mesh,matrix4:u.threeDI.matrix4})(100)(box({box:u.threeDI.boxGeometry}))(meshStandardMaterial$1({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor($RGB(.49,.83,.45)),roughness:.1})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$3(applicativeEvent.pure),m=scheduleCf(f(fromFoldable$4(mapWithIndexArray(h=>b=>({uniqueId:h,hitsFirstPositionAt:min$3(b.marker1Time)(b.marker2Time)+1,hitsLastPositionAt:max$3(b.marker1Time)(b.marker2Time)+1,tag:b.audioURL,length:b.length,column:b.column,raycastingCanStartAt:y=>1+b.raycastingCanStartAt(y)}))(o))))((h,b)=>u.animatedStuff(h,y=>b(y.rateInfo)));return(h,b)=>m(h,y=>{const v=d(y);return b(v)})})()))},a=o=>{o=1831565813+(o|=0)|0;let u=Math.imul(o^o>>>15,1|o);return u=u+Math.imul(u^u>>>7,61|u)^u,((u^u>>>14)>>>0)/4294967296};class e{constructor(u){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:f,separator:d,dictionaries:m,style:h,seed:b}=u;this.dictionaries=m,this.separator=d,this.length=f,this.style=h,this.seed=b}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let u=this.seed;return this.dictionaries.slice(0,this.length).reduce((f,d)=>{let m;u?(m=(b=>{if(typeof b=="string"){const y=b.split("").map(C=>C.charCodeAt(0)).reduce((C,w)=>C+w,1),v=Math.floor(Number(y));return a(v)}return a(b)})(u),u=4294967296*m):m=Math.random();let h=d[Math.floor(m*d.length)]||"";if(this.style==="lowerCase")h=h.toLowerCase();else if(this.style==="capital"){const[b,...y]=h.split("");h=b.toUpperCase()+y.join("")}else this.style==="upperCase"&&(h=h.toUpperCase());return f?`${f}${this.separator}${h}`:`${h}`},"")}}const i$1={separator:"_",dictionaries:[]},n=o=>{const u=[...o&&o.dictionaries||i$1.dictionaries],f={...i$1,...o,length:o&&o.length||u.length,dictionaries:u};if(!o||!o.dictionaries||!o.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new e(f).generate()};var l=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],r=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];const randomName=()=>n({dictionaries:[l,r],separator:"-"});function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var wavesurfer={exports:{}};/*!
 * wavesurfer.js 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/drawer.canvasentry.js":(b,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var C=_(v("./src/util/style.js")),w=_(v("./src/util/get-id.js"));function _(S){return S&&S.__esModule?S:{default:S}}function g(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function $(S,I){for(var B=0;B<I.length;B++){var x=I[B];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}function T(S,I,B){return I&&$(S.prototype,I),B&&$(S,B),Object.defineProperty(S,"prototype",{writable:!1}),S}var M=function(){function S(){g(this,S),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,w.default)(typeof this.constructor.name<"u"?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return T(S,[{key:"initWave",value:function(B){this.wave=B,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(B){this.progress=B,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(B,x,F,R){this.start=this.wave.offsetLeft/x||0,this.end=this.start+B/x,this.wave.width=F,this.wave.height=R;var L={width:B+"px"};(0,C.default)(this.wave,L),this.hasProgressCanvas&&(this.progress.width=F,this.progress.height=R,(0,C.default)(this.progress,L))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(B,x){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,B),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,x))}},{key:"getFillStyle",value:function(B,x){if(typeof x=="string"||x instanceof CanvasGradient)return x;var F=B.createLinearGradient(0,0,0,B.canvas.height);return x.forEach(function(R,L){return F.addColorStop(L/x.length,R)}),F}},{key:"applyCanvasTransforms",value:function(B){B&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(B,x,F,R,L){this.fillRectToContext(this.waveCtx,B,x,F,R,L),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,B,x,F,R,L)}},{key:"fillRectToContext",value:function(B,x,F,R,L,z){!B||(z?this.drawRoundedRect(B,x,F,R,L,z):B.fillRect(x,F,R,L))}},{key:"drawRoundedRect",value:function(B,x,F,R,L,z){L!==0&&(L<0&&(L*=-1,F-=L),B.beginPath(),B.moveTo(x+z,F),B.lineTo(x+R-z,F),B.quadraticCurveTo(x+R,F,x+R,F+z),B.lineTo(x+R,F+L-z),B.quadraticCurveTo(x+R,F+L,x+R-z,F+L),B.lineTo(x+z,F+L),B.quadraticCurveTo(x,F+L,x,F+L-z),B.lineTo(x,F+z),B.quadraticCurveTo(x,F,x+z,F),B.closePath(),B.fill())}},{key:"drawLines",value:function(B,x,F,R,L,z){this.drawLineToContext(this.waveCtx,B,x,F,R,L,z),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,B,x,F,R,L,z)}},{key:"drawLineToContext",value:function(B,x,F,R,L,z,J){if(!!B){var K=x.length/2,ee=Math.round(K*this.start),q=Math.round(K*this.end)+1,G=ee,Z=q,ie=this.wave.width/(Z-G-1),Q=R+L,H=F/R;B.beginPath(),B.moveTo((G-ee)*ie,Q),B.lineTo((G-ee)*ie,Q-Math.round((x[2*G]||0)/H));var ne,re,X;for(ne=G;ne<Z;ne++)re=x[2*ne]||0,X=Math.round(re/H),B.lineTo((ne-ee)*ie+this.halfPixel,Q-X);var ue=Z-1;for(ue;ue>=G;ue--)re=x[2*ue+1]||0,X=Math.round(re/H),B.lineTo((ue-ee)*ie+this.halfPixel,Q-X);B.lineTo((G-ee)*ie,Q-Math.round((x[2*G+1]||0)/H)),B.closePath(),B.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(B,x,F){var R=this;if(F==="blob")return new Promise(function(L){R.wave.toBlob(L,B,x)});if(F==="dataURL")return this.wave.toDataURL(B,x)}}]),S}();y.default=M,b.exports=y.default},"./src/drawer.js":(b,y,v)=>{function C(J){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},C(J)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=g(v("./src/util/index.js"));function _(J){if(typeof WeakMap!="function")return null;var K=new WeakMap,ee=new WeakMap;return(_=function(G){return G?ee:K})(J)}function g(J,K){if(!K&&J&&J.__esModule)return J;if(J===null||C(J)!=="object"&&typeof J!="function")return{default:J};var ee=_(K);if(ee&&ee.has(J))return ee.get(J);var q={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in J)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(J,Z)){var ie=G?Object.getOwnPropertyDescriptor(J,Z):null;ie&&(ie.get||ie.set)?Object.defineProperty(q,Z,ie):q[Z]=J[Z]}return q.default=J,ee&&ee.set(J,q),q}function $(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}function T(J,K){for(var ee=0;ee<K.length;ee++){var q=K[ee];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(J,q.key,q)}}function M(J,K,ee){return K&&T(J.prototype,K),ee&&T(J,ee),Object.defineProperty(J,"prototype",{writable:!1}),J}function S(J,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(K&&K.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),K&&I(J,K)}function I(J,K){return I=Object.setPrototypeOf||function(q,G){return q.__proto__=G,q},I(J,K)}function B(J){var K=R();return function(){var q=L(J),G;if(K){var Z=L(this).constructor;G=Reflect.construct(q,arguments,Z)}else G=q.apply(this,arguments);return x(this,G)}}function x(J,K){if(K&&(C(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(J)}function F(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(J){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},L(J)}var z=function(J){S(ee,J);var K=B(ee);function ee(q,G){var Z;return $(this,ee),Z=K.call(this),Z.container=w.withOrientation(q,G.vertical),Z.params=G,Z.width=0,Z.height=G.height*Z.params.pixelRatio,Z.lastPos=0,Z.wrapper=null,Z}return M(ee,[{key:"style",value:function(G,Z){return w.style(G,Z)}},{key:"createWrapper",value:function(){this.wrapper=w.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(G,Z){!Z&&G.preventDefault();var ie=w.withOrientation(G.targetTouches?G.targetTouches[0]:G,this.params.vertical).clientX,Q=this.wrapper.getBoundingClientRect(),H=this.width,ne=this.getWidth(),re=this.getProgressPixels(Q,ie),X;return!this.params.fillParent&&H<ne?X=re*(this.params.pixelRatio/H)||0:X=(re+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,w.clamp(X,0,1)}},{key:"getProgressPixels",value:function(G,Z){return this.params.rtl?G.right-Z:Z-G.left}},{key:"setupWrapperEvents",value:function(){var G=this;this.wrapper.addEventListener("click",function(Z){var ie=w.withOrientation(Z,G.params.vertical),Q=G.wrapper.offsetHeight-G.wrapper.clientHeight;if(Q!==0){var H=G.wrapper.getBoundingClientRect();if(ie.clientY>=H.bottom-Q)return}G.params.interact&&G.fireEvent("click",Z,G.handleEvent(Z))}),this.wrapper.addEventListener("dblclick",function(Z){G.params.interact&&G.fireEvent("dblclick",Z,G.handleEvent(Z))}),this.wrapper.addEventListener("scroll",function(Z){return G.fireEvent("scroll",Z)})}},{key:"drawPeaks",value:function(G,Z,ie,Q){this.setWidth(Z)||this.clearWave(),this.params.barWidth?this.drawBars(G,0,ie,Q):this.drawWave(G,0,ie,Q)}},{key:"resetScroll",value:function(){this.wrapper!==null&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(G){var Z=this.wrapper.scrollWidth*G;this.recenterOnPosition(Z,!0)}},{key:"recenterOnPosition",value:function(G,Z){var ie=this.wrapper.scrollLeft,Q=~~(this.wrapper.clientWidth/2),H=this.wrapper.scrollWidth-this.wrapper.clientWidth,ne=G-Q,re=ne-ie;if(H!=0){if(!Z&&-Q<=re&&re<Q){var X=this.params.autoCenterRate;X/=Q,X*=H,re=Math.max(-X,Math.min(X,re)),ne=ie+re}ne=Math.max(0,Math.min(H,ne)),ne!=ie&&(this.wrapper.scrollLeft=ne)}}},{key:"getScrollX",value:function(){var G=0;if(this.wrapper){var Z=this.params.pixelRatio;if(G=Math.round(this.wrapper.scrollLeft*Z),this.params.scrollParent){var ie=~~(this.wrapper.scrollWidth*Z-this.getWidth());G=Math.min(ie,Math.max(0,G))}}return G}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(G){if(this.width==G)return!1;if(this.width=G,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var Z=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:Z})}return this.updateSize(),!0}},{key:"setHeight",value:function(G){return G==this.height?!1:(this.height=G,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(G){var Z=1/this.params.pixelRatio,ie=Math.round(G*this.width)*Z;if(ie<this.lastPos||ie-this.lastPos>=Z){if(this.lastPos=ie,this.params.scrollParent&&this.params.autoCenter){var Q=~~(this.wrapper.scrollWidth*G);this.recenterOnPosition(Q,this.params.autoCenterImmediately)}this.updateProgress(ie)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(G,Z,ie,Q){}},{key:"drawWave",value:function(G,Z,ie,Q){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(G){}}]),ee}(w.Observer);y.default=z,b.exports=y.default},"./src/drawer.multicanvas.js":(b,y,v)=>{function C(q){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},C(q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=M(v("./src/drawer.js")),_=T(v("./src/util/index.js")),g=M(v("./src/drawer.canvasentry.js"));function $(q){if(typeof WeakMap!="function")return null;var G=new WeakMap,Z=new WeakMap;return($=function(Q){return Q?Z:G})(q)}function T(q,G){if(!G&&q&&q.__esModule)return q;if(q===null||C(q)!=="object"&&typeof q!="function")return{default:q};var Z=$(G);if(Z&&Z.has(q))return Z.get(q);var ie={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in q)if(H!=="default"&&Object.prototype.hasOwnProperty.call(q,H)){var ne=Q?Object.getOwnPropertyDescriptor(q,H):null;ne&&(ne.get||ne.set)?Object.defineProperty(ie,H,ne):ie[H]=q[H]}return ie.default=q,Z&&Z.set(q,ie),ie}function M(q){return q&&q.__esModule?q:{default:q}}function S(q,G){if(!(q instanceof G))throw new TypeError("Cannot call a class as a function")}function I(q,G){for(var Z=0;Z<G.length;Z++){var ie=G[Z];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(q,ie.key,ie)}}function B(q,G,Z){return G&&I(q.prototype,G),Z&&I(q,Z),Object.defineProperty(q,"prototype",{writable:!1}),q}function x(q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(G&&G.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),G&&F(q,G)}function F(q,G){return F=Object.setPrototypeOf||function(ie,Q){return ie.__proto__=Q,ie},F(q,G)}function R(q){var G=J();return function(){var ie=K(q),Q;if(G){var H=K(this).constructor;Q=Reflect.construct(ie,arguments,H)}else Q=ie.apply(this,arguments);return L(this,Q)}}function L(q,G){if(G&&(C(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(q)}function z(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(q){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},K(q)}var ee=function(q){x(Z,q);var G=R(Z);function Z(ie,Q){var H;return S(this,Z),H=G.call(this,ie,Q),H.maxCanvasWidth=Q.maxCanvasWidth,H.maxCanvasElementWidth=Math.round(Q.maxCanvasWidth/Q.pixelRatio),H.hasProgressCanvas=Q.waveColor!=Q.progressColor,H.halfPixel=.5/Q.pixelRatio,H.canvases=[],H.progressWave=null,H.EntryClass=g.default,H.canvasContextAttributes=Q.drawingContextAttributes,H.overlap=2*Math.ceil(Q.pixelRatio/2),H.barRadius=Q.barRadius||0,H.vertical=Q.vertical,H}return B(Z,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=_.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var Q=this,H=Math.round(this.width/this.params.pixelRatio),ne=Math.ceil(H/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<ne;)this.addCanvas();for(;this.canvases.length>ne;)this.removeCanvas();var re=this.maxCanvasWidth+this.overlap,X=this.canvases.length-1;this.canvases.forEach(function(ue,le){le==X&&(re=Q.width-Q.maxCanvasWidth*X),Q.updateDimensions(ue,re,Q.height),ue.clearWave()})}},{key:"addCanvas",value:function(){var Q=new this.EntryClass;Q.canvasContextAttributes=this.canvasContextAttributes,Q.hasProgressCanvas=this.hasProgressCanvas,Q.halfPixel=this.halfPixel;var H=this.maxCanvasElementWidth*this.canvases.length,ne=_.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(ne,{position:"absolute",zIndex:2,left:H+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),Q.initWave(ne),this.hasProgressCanvas){var re=_.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(re,{position:"absolute",left:H+"px",top:0,bottom:0,height:"100%"}),Q.initProgress(re)}this.canvases.push(Q)}},{key:"removeCanvas",value:function(){var Q=this.canvases[this.canvases.length-1];Q.wave.parentElement.removeChild(Q.wave.domElement),this.hasProgressCanvas&&Q.progress.parentElement.removeChild(Q.progress.domElement),Q&&(Q.destroy(),Q=null),this.canvases.pop()}},{key:"updateDimensions",value:function(Q,H,ne){var re=Math.round(H/this.params.pixelRatio),X=Math.round(this.width/this.params.pixelRatio);Q.updateDimensions(re,X,H,ne),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var Q=this;_.frame(function(){Q.canvases.forEach(function(H){return H.clearWave()})})()}},{key:"drawBars",value:function(Q,H,ne,re){var X=this;return this.prepareDraw(Q,H,ne,re,function(ue){var le=ue.absmax,ye=ue.hasMinVals;ue.height;var me=ue.offsetY,ve=ue.halfH,Ce=ue.peaks,be=ue.channelIndex;if(ne!==void 0){var Ae=ye?2:1,fe=Ce.length/Ae,_e=X.params.barWidth*X.params.pixelRatio,Ne=X.params.barGap===null?Math.max(X.params.pixelRatio,~~(_e/2)):Math.max(X.params.pixelRatio,X.params.barGap*X.params.pixelRatio),Je=_e+Ne,Ke=fe/X.width,dt=ne,pt=re,et=dt;for(et;et<pt;et+=Je){var yt=0,Te=Math.floor(et*Ke)*Ae,Ve=Math.floor((et+Je)*Ke)*Ae;do{var We=Math.abs(Ce[Te]);We>yt&&(yt=We),Te+=Ae}while(Te<Ve);var Le=Math.round(yt/le*ve);Le==0&&X.params.barMinHeight&&(Le=X.params.barMinHeight),X.fillRect(et+X.halfPixel,ve-Le+me,_e+X.halfPixel,Le*2,X.barRadius,be)}}})}},{key:"drawWave",value:function(Q,H,ne,re){var X=this;return this.prepareDraw(Q,H,ne,re,function(ue){var le=ue.absmax,ye=ue.hasMinVals;ue.height;var me=ue.offsetY,ve=ue.halfH,Ce=ue.peaks,be=ue.channelIndex;if(!ye){var Ae=[],fe=Ce.length,_e=0;for(_e;_e<fe;_e++)Ae[2*_e]=Ce[_e],Ae[2*_e+1]=-Ce[_e];Ce=Ae}ne!==void 0&&X.drawLine(Ce,le,ve,me,ne,re,be),X.fillRect(0,ve+me-X.halfPixel,X.width,X.halfPixel,X.barRadius,be)})}},{key:"drawLine",value:function(Q,H,ne,re,X,ue,le){var ye=this,me=this.params.splitChannelsOptions.channelColors[le]||{},ve=me.waveColor,Ce=me.progressColor;this.canvases.forEach(function(be,Ae){ye.setFillStyles(be,ve,Ce),ye.applyCanvasTransforms(be,ye.params.vertical),be.drawLines(Q,H,ne,re,X,ue)})}},{key:"fillRect",value:function(Q,H,ne,re,X,ue){var le=Math.floor(Q/this.maxCanvasWidth),ye=Math.min(Math.ceil((Q+ne)/this.maxCanvasWidth)+1,this.canvases.length),me=le;for(me;me<ye;me++){var ve=this.canvases[me],Ce=me*this.maxCanvasWidth,be={x1:Math.max(Q,me*this.maxCanvasWidth),y1:H,x2:Math.min(Q+ne,me*this.maxCanvasWidth+ve.wave.width),y2:H+re};if(be.x1<be.x2){var Ae=this.params.splitChannelsOptions.channelColors[ue]||{},fe=Ae.waveColor,_e=Ae.progressColor;this.setFillStyles(ve,fe,_e),this.applyCanvasTransforms(ve,this.params.vertical),ve.fillRects(be.x1-Ce,be.y1,be.x2-be.x1,be.y2-be.y1,X)}}}},{key:"hideChannel",value:function(Q){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(Q)}},{key:"prepareDraw",value:function(Q,H,ne,re,X,ue,le){var ye=this;return _.frame(function(){if(Q[0]instanceof Array){var me=Q;if(ye.params.splitChannels){var ve=me.filter(function(Je,Ke){return!ye.hideChannel(Ke)});ye.params.splitChannelsOptions.overlay||ye.setHeight(Math.max(ve.length,1)*ye.params.height*ye.params.pixelRatio);var Ce;return ye.params.splitChannelsOptions&&ye.params.splitChannelsOptions.relativeNormalization&&(Ce=_.max(me.map(function(Je){return _.absMax(Je)}))),me.forEach(function(Je,Ke){return ye.prepareDraw(Je,Ke,ne,re,X,ve.indexOf(Je),Ce)})}Q=me[0]}if(!ye.hideChannel(H)){var be=1/ye.params.barHeight;ye.params.normalize&&(be=le===void 0?_.absMax(Q):le);var Ae=[].some.call(Q,function(Je){return Je<0}),fe=ye.params.height*ye.params.pixelRatio,_e=fe/2,Ne=fe*ue||0;return ye.params.splitChannelsOptions&&ye.params.splitChannelsOptions.overlay&&(Ne=0),X({absmax:be,hasMinVals:Ae,height:fe,offsetY:Ne,halfH:_e,peaks:Q,channelIndex:H})}})()}},{key:"setFillStyles",value:function(Q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.params.waveColor,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.params.progressColor;Q.setFillStyles(H,ne)}},{key:"applyCanvasTransforms",value:function(Q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Q.applyCanvasTransforms(H)}},{key:"getImage",value:function(Q,H,ne){if(ne==="blob")return Promise.all(this.canvases.map(function(X){return X.getImage(Q,H,ne)}));if(ne==="dataURL"){var re=this.canvases.map(function(X){return X.getImage(Q,H,ne)});return re.length>1?re:re[0]}}},{key:"updateProgress",value:function(Q){this.style(this.progressWave,{width:Q+"px"})}}]),Z}(w.default);y.default=ee,b.exports=y.default},"./src/mediaelement-webaudio.js":(b,y,v)=>{function C(K){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},C(K)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=_(v("./src/mediaelement.js"));function _(K){return K&&K.__esModule?K:{default:K}}function g(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}function $(K,ee){for(var q=0;q<ee.length;q++){var G=ee[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(K,G.key,G)}}function T(K,ee,q){return ee&&$(K.prototype,ee),q&&$(K,q),Object.defineProperty(K,"prototype",{writable:!1}),K}function M(){return typeof Reflect<"u"&&Reflect.get?M=Reflect.get:M=function(ee,q,G){var Z=S(ee,q);if(!!Z){var ie=Object.getOwnPropertyDescriptor(Z,q);return ie.get?ie.get.call(arguments.length<3?ee:G):ie.value}},M.apply(this,arguments)}function S(K,ee){for(;!Object.prototype.hasOwnProperty.call(K,ee)&&(K=z(K),K!==null););return K}function I(K,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(ee&&ee.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),ee&&B(K,ee)}function B(K,ee){return B=Object.setPrototypeOf||function(G,Z){return G.__proto__=Z,G},B(K,ee)}function x(K){var ee=L();return function(){var G=z(K),Z;if(ee){var ie=z(this).constructor;Z=Reflect.construct(G,arguments,ie)}else Z=G.apply(this,arguments);return F(this,Z)}}function F(K,ee){if(ee&&(C(ee)==="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(K)}function R(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z(K){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},z(K)}var J=function(K){I(q,K);var ee=x(q);function q(G){var Z;return g(this,q),Z=ee.call(this,G),Z.params=G,Z.sourceMediaElement=null,Z}return T(q,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(Z,ie,Q){M(z(q.prototype),"_load",this).call(this,Z,ie,Q),this.createMediaElementSource(Z)}},{key:"createMediaElementSource",value:function(Z){this.sourceMediaElement=this.ac.createMediaElementSource(Z),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(Z,ie){return this.resumeAudioContext(),M(z(q.prototype),"play",this).call(this,Z,ie)}},{key:"destroy",value:function(){M(z(q.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),q}(w.default);y.default=J,b.exports=y.default},"./src/mediaelement.js":(b,y,v)=>{function C(G){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},C(G)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=T(v("./src/webaudio.js")),_=$(v("./src/util/index.js"));function g(G){if(typeof WeakMap!="function")return null;var Z=new WeakMap,ie=new WeakMap;return(g=function(H){return H?ie:Z})(G)}function $(G,Z){if(!Z&&G&&G.__esModule)return G;if(G===null||C(G)!=="object"&&typeof G!="function")return{default:G};var ie=g(Z);if(ie&&ie.has(G))return ie.get(G);var Q={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in G)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(G,ne)){var re=H?Object.getOwnPropertyDescriptor(G,ne):null;re&&(re.get||re.set)?Object.defineProperty(Q,ne,re):Q[ne]=G[ne]}return Q.default=G,ie&&ie.set(G,Q),Q}function T(G){return G&&G.__esModule?G:{default:G}}function M(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function S(G,Z){for(var ie=0;ie<Z.length;ie++){var Q=Z[ie];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(G,Q.key,Q)}}function I(G,Z,ie){return Z&&S(G.prototype,Z),ie&&S(G,ie),Object.defineProperty(G,"prototype",{writable:!1}),G}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get:B=function(Z,ie,Q){var H=x(Z,ie);if(!!H){var ne=Object.getOwnPropertyDescriptor(H,ie);return ne.get?ne.get.call(arguments.length<3?Z:Q):ne.value}},B.apply(this,arguments)}function x(G,Z){for(;!Object.prototype.hasOwnProperty.call(G,Z)&&(G=ee(G),G!==null););return G}function F(G,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(Z&&Z.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),Z&&R(G,Z)}function R(G,Z){return R=Object.setPrototypeOf||function(Q,H){return Q.__proto__=H,Q},R(G,Z)}function L(G){var Z=K();return function(){var Q=ee(G),H;if(Z){var ne=ee(this).constructor;H=Reflect.construct(Q,arguments,ne)}else H=Q.apply(this,arguments);return z(this,H)}}function z(G,Z){if(Z&&(C(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(G)}function J(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(G){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},ee(G)}var q=function(G){F(ie,G);var Z=L(ie);function ie(Q){var H;return M(this,ie),H=Z.call(this,Q),H.params=Q,H.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},H.mediaType=Q.mediaType.toLowerCase(),H.elementPosition=Q.elementPosition,H.peaks=null,H.playbackRate=1,H.volume=1,H.isMuted=!1,H.buffer=null,H.onPlayEnd=null,H.mediaListeners={},H}return I(ie,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var H=this;this.mediaListeners.error=function(){H.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){H.fireEvent("canplay")},this.mediaListeners.ended=function(){H.fireEvent("finish")},this.mediaListeners.play=function(){H.fireEvent("play")},this.mediaListeners.pause=function(){H.fireEvent("pause")},this.mediaListeners.seeked=function(ne){H.fireEvent("seek")},this.mediaListeners.volumechange=function(ne){H.isMuted=H.media.muted,H.isMuted?H.volume=0:H.volume=H.media.volume,H.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(ne){H.media.removeEventListener(ne,H.mediaListeners[ne]),H.media.addEventListener(ne,H.mediaListeners[ne])})}},{key:"createTimer",value:function(){var H=this,ne=function re(){H.isPaused()||(H.fireEvent("audioprocess",H.getCurrentTime()),_.frame(re)())};this.on("play",ne),this.on("pause",function(){H.fireEvent("audioprocess",H.getCurrentTime())})}},{key:"load",value:function(H,ne,re,X){var ue=document.createElement(this.mediaType);ue.controls=this.params.mediaControls,ue.autoplay=this.params.autoplay||!1,ue.preload=X==null?"auto":X,ue.src=H,ue.style.width="100%";var le=ne.querySelector(this.mediaType);le&&ne.removeChild(le),ne.appendChild(ue),this._load(ue,re,X)}},{key:"loadElt",value:function(H,ne){H.controls=this.params.mediaControls,H.autoplay=this.params.autoplay||!1,this._load(H,ne,H.preload)}},{key:"_load",value:function(H,ne,re){if(!(H instanceof HTMLMediaElement)||typeof H.addEventListener>"u")throw new Error("media parameter is not a valid media element");typeof H.load=="function"&&!(ne&&re=="none")&&H.load(),this.media=H,this._setupMediaListeners(),this.peaks=ne,this.onPlayEnd=null,this.buffer=null,this.isMuted=H.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var H=(this.buffer||this.media).duration;return H>=1/0&&(H=this.media.seekable.end(0)),H}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(H){this.playbackRate=H||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(H){H!=null&&!isNaN(H)&&(this.media.currentTime=H),this.clearPlayEnd()}},{key:"play",value:function(H,ne){this.seekTo(H);var re=this.media.play();return ne&&this.setPlayEnd(ne),re}},{key:"pause",value:function(){var H;return this.media&&(H=this.media.pause()),this.clearPlayEnd(),H}},{key:"setPlayEnd",value:function(H){var ne=this;this.clearPlayEnd(),this._onPlayEnd=function(re){re>=H&&(ne.pause(),ne.seekTo(H))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(H,ne,re){return this.buffer?B(ee(ie.prototype),"getPeaks",this).call(this,H,ne,re):this.peaks||[]}},{key:"setSinkId",value:function(H){return H?this.media.setSinkId?this.media.setSinkId(H):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+H))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(H){this.volume=H,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(H){this.isMuted=this.media.muted=H}},{key:"destroy",value:function(){var H=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(ne){H.media&&H.media.removeEventListener(ne,H.mediaListeners[ne])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),ie}(w.default);y.default=q,b.exports=y.default},"./src/peakcache.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v(g,$){if(!(g instanceof $))throw new TypeError("Cannot call a class as a function")}function C(g,$){for(var T=0;T<$.length;T++){var M=$[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(g,M.key,M)}}function w(g,$,T){return $&&C(g.prototype,$),T&&C(g,T),Object.defineProperty(g,"prototype",{writable:!1}),g}var _=function(){function g(){v(this,g),this.clearPeakCache()}return w(g,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(T,M,S){T!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=T);for(var I=[],B=0;B<this.peakCacheRanges.length&&this.peakCacheRanges[B]<M;)B++;for(B%2==0&&I.push(M);B<this.peakCacheRanges.length&&this.peakCacheRanges[B]<=S;)I.push(this.peakCacheRanges[B]),B++;B%2==0&&I.push(S),I=I.filter(function(F,R,L){return R==0?F!=L[R+1]:R==L.length-1?F!=L[R-1]:F!=L[R-1]&&F!=L[R+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(I),this.peakCacheRanges=this.peakCacheRanges.sort(function(F,R){return F-R}).filter(function(F,R,L){return R==0?F!=L[R+1]:R==L.length-1?F!=L[R-1]:F!=L[R-1]&&F!=L[R+1]});var x=[];for(B=0;B<I.length;B+=2)x.push([I[B],I[B+1]]);return x}},{key:"getCacheRanges",value:function(){var T=[],M;for(M=0;M<this.peakCacheRanges.length;M+=2)T.push([this.peakCacheRanges[M],this.peakCacheRanges[M+1]]);return T}}]),g}();y.default=_,b.exports=y.default},"./src/util/absMax.js":(b,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=g;var C=_(v("./src/util/max.js")),w=_(v("./src/util/min.js"));function _($){return $&&$.__esModule?$:{default:$}}function g($){var T=(0,C.default)($),M=(0,w.default)($);return-M>T?-M:T}b.exports=y.default},"./src/util/clamp.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(C,w,_){return Math.min(Math.max(w,C),_)}b.exports=y.default},"./src/util/fetch.js":(b,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=M;var C=w(v("./src/util/observer.js"));function w(S){return S&&S.__esModule?S:{default:S}}function _(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function g(S,I){for(var B=0;B<I.length;B++){var x=I[B];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}function $(S,I,B){return I&&g(S.prototype,I),B&&g(S,B),Object.defineProperty(S,"prototype",{writable:!1}),S}var T=function(){function S(I,B,x){_(this,S),this.instance=I,this.instance._reader=x.body.getReader(),this.total=parseInt(B,10),this.loaded=0}return $(S,[{key:"start",value:function(B){var x=this,F=function R(){x.instance._reader.read().then(function(L){var z=L.done,J=L.value;if(z){x.total===0&&x.instance.onProgress.call(x.instance,{loaded:x.loaded,total:x.total,lengthComputable:!1}),B.close();return}x.loaded+=J.byteLength,x.instance.onProgress.call(x.instance,{loaded:x.loaded,total:x.total,lengthComputable:x.total!==0}),B.enqueue(J),R()}).catch(function(L){B.error(L)})};F()}}]),S}();function M(S){if(S){if(!S.url)throw new Error("fetch url missing")}else throw new Error("fetch options missing");var I=new C.default,B=new Headers,x=new Request(S.url);I.controller=new AbortController,S&&S.requestHeaders&&S.requestHeaders.forEach(function(L){B.append(L.key,L.value)});var F=S.responseType||"json",R={method:S.method||"GET",headers:B,mode:S.mode||"cors",credentials:S.credentials||"same-origin",cache:S.cache||"default",redirect:S.redirect||"follow",referrer:S.referrer||"client",signal:I.controller.signal};return fetch(x,R).then(function(L){I.response=L;var z=!0;L.body||(z=!1);var J=L.headers.get("content-length");return J===null&&(z=!1),z?(I.onProgress=function(K){I.fireEvent("progress",K)},new Response(new ReadableStream(new T(I,J,L)),R)):L}).then(function(L){var z;if(L.ok)switch(F){case"arraybuffer":return L.arrayBuffer();case"json":return L.json();case"blob":return L.blob();case"text":return L.text();default:z="Unknown responseType: "+F;break}throw z||(z="HTTP error status: "+L.status),new Error(z)}).then(function(L){I.fireEvent("success",L)}).catch(function(L){I.fireEvent("error",L)}),I.fetchRequest=x,I}b.exports=y.default},"./src/util/frame.js":(b,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;var C=w(v("./src/util/request-animation-frame.js"));function w(g){return g&&g.__esModule?g:{default:g}}function _(g){return function(){for(var $=arguments.length,T=new Array($),M=0;M<$;M++)T[M]=arguments[M];return(0,C.default)(function(){return g.apply(void 0,T)})}}b.exports=y.default},"./src/util/get-id.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(C){return C===void 0&&(C="wavesurfer_"),C+Math.random().toString(32).substring(2)}b.exports=y.default},"./src/util/index.js":(b,y,v)=>{Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"Observer",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(y,"absMax",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(y,"clamp",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(y,"debounce",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(y,"fetchFile",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(y,"frame",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(y,"getId",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(y,"ignoreSilenceMode",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(y,"max",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(y,"min",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(y,"preventClick",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(y,"requestAnimationFrame",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(y,"style",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(y,"withOrientation",{enumerable:!0,get:function(){return R.default}});var C=z(v("./src/util/get-id.js")),w=z(v("./src/util/max.js")),_=z(v("./src/util/min.js")),g=z(v("./src/util/absMax.js")),$=z(v("./src/util/observer.js")),T=z(v("./src/util/style.js")),M=z(v("./src/util/request-animation-frame.js")),S=z(v("./src/util/frame.js")),I=z(v("./node_modules/debounce/index.js")),B=z(v("./src/util/prevent-click.js")),x=z(v("./src/util/fetch.js")),F=z(v("./src/util/clamp.js")),R=z(v("./src/util/orientation.js")),L=z(v("./src/util/silence-mode.js"));function z(J){return J&&J.__esModule?J:{default:J}}},"./src/util/max.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(C){var w=-1/0;return Object.keys(C).forEach(function(_){C[_]>w&&(w=C[_])}),w}b.exports=y.default},"./src/util/min.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(C){var w=Number(1/0);return Object.keys(C).forEach(function(_){C[_]<w&&(w=C[_])}),w}b.exports=y.default},"./src/util/observer.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v(g,$){if(!(g instanceof $))throw new TypeError("Cannot call a class as a function")}function C(g,$){for(var T=0;T<$.length;T++){var M=$[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(g,M.key,M)}}function w(g,$,T){return $&&C(g.prototype,$),T&&C(g,T),Object.defineProperty(g,"prototype",{writable:!1}),g}var _=function(){function g(){v(this,g),this._disabledEventEmissions=[],this.handlers=null}return w(g,[{key:"on",value:function(T,M){var S=this;this.handlers||(this.handlers={});var I=this.handlers[T];return I||(I=this.handlers[T]=[]),I.push(M),{name:T,callback:M,un:function(x,F){return S.un(x,F)}}}},{key:"un",value:function(T,M){if(!!this.handlers){var S=this.handlers[T],I;if(S)if(M)for(I=S.length-1;I>=0;I--)S[I]==M&&S.splice(I,1);else S.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(T,M){var S=this,I=function B(){for(var x=arguments.length,F=new Array(x),R=0;R<x;R++)F[R]=arguments[R];M.apply(S,F),setTimeout(function(){S.un(T,B)},0)};return this.on(T,I)}},{key:"setDisabledEventEmissions",value:function(T){this._disabledEventEmissions=T}},{key:"_isDisabledEventEmission",value:function(T){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(T)}},{key:"fireEvent",value:function(T){for(var M=arguments.length,S=new Array(M>1?M-1:0),I=1;I<M;I++)S[I-1]=arguments[I];if(!(!this.handlers||this._isDisabledEventEmission(T))){var B=this.handlers[T];B&&B.forEach(function(x){x.apply(void 0,S)})}}}]),g}();y.default=_,b.exports=y.default},"./src/util/orientation.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;var v={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function C(g,$){return Object.prototype.hasOwnProperty.call(v,g)&&$?v[g]:g}var w=Symbol("isProxy");function _(g,$){return g[w]?g:new Proxy(g,{get:function(M,S,I){if(S===w)return!0;if(S==="domElement")return M;if(S==="style")return _(M.style,$);if(S==="canvas")return _(M.canvas,$);if(S==="getBoundingClientRect")return function(){return _(M.getBoundingClientRect.apply(M,arguments),$)};if(S==="getContext")return function(){return _(M.getContext.apply(M,arguments),$)};var B=M[C(S,$)];return typeof B=="function"?B.bind(M):B},set:function(M,S,I){return M[C(S,$)]=I,!0}})}b.exports=y.default},"./src/util/prevent-click.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=C;function v(w){w.stopPropagation(),document.body.removeEventListener("click",v,!0)}function C(w){document.body.addEventListener("click",v,!0)}b.exports=y.default},"./src/util/request-animation-frame.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var v=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(C,w){return setTimeout(C,1e3/60)}).bind(window);y.default=v,b.exports=y.default},"./src/util/silence-mode.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(){var C="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",w=document.createElement("div");w.innerHTML='<audio x-webkit-airplay="deny"></audio>';var _=w.children.item(0);_.src=C,_.preload="auto",_.type="audio/mpeg",_.disableRemotePlayback=!0,_.play(),_.remove(),w.remove()}b.exports=y.default},"./src/util/style.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;function v(C,w){return Object.keys(w).forEach(function(_){C.style[_]!==w[_]&&(C.style[_]=w[_])}),C}b.exports=y.default},"./src/wavesurfer.js":(b,y,v)=>{function C(Q){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},C(Q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=B(v("./src/util/index.js")),_=S(v("./src/drawer.multicanvas.js")),g=S(v("./src/webaudio.js")),$=S(v("./src/mediaelement.js")),T=S(v("./src/peakcache.js")),M=S(v("./src/mediaelement-webaudio.js"));function S(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q){if(typeof WeakMap!="function")return null;var H=new WeakMap,ne=new WeakMap;return(I=function(X){return X?ne:H})(Q)}function B(Q,H){if(!H&&Q&&Q.__esModule)return Q;if(Q===null||C(Q)!=="object"&&typeof Q!="function")return{default:Q};var ne=I(H);if(ne&&ne.has(Q))return ne.get(Q);var re={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in Q)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(Q,ue)){var le=X?Object.getOwnPropertyDescriptor(Q,ue):null;le&&(le.get||le.set)?Object.defineProperty(re,ue,le):re[ue]=Q[ue]}return re.default=Q,ne&&ne.set(Q,re),re}function x(Q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(H&&H.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),H&&F(Q,H)}function F(Q,H){return F=Object.setPrototypeOf||function(re,X){return re.__proto__=X,re},F(Q,H)}function R(Q){var H=J();return function(){var re=K(Q),X;if(H){var ue=K(this).constructor;X=Reflect.construct(re,arguments,ue)}else X=re.apply(this,arguments);return L(this,X)}}function L(Q,H){if(H&&(C(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(Q)}function z(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(Q){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},K(Q)}function ee(Q,H,ne){return H in Q?Object.defineProperty(Q,H,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Q[H]=ne,Q}function q(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}function G(Q,H){for(var ne=0;ne<H.length;ne++){var re=H[ne];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Q,re.key,re)}}function Z(Q,H,ne){return H&&G(Q.prototype,H),ne&&G(Q,ne),Object.defineProperty(Q,"prototype",{writable:!1}),Q}var ie=function(Q){x(ne,Q);var H=R(ne);function ne(re){var X;if(q(this,ne),X=H.call(this),ee(z(X),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:_.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1},vertical:!1,waveColor:"#999",xhr:{}}),ee(z(X),"backends",{MediaElement:$.default,WebAudio:g.default,MediaElementWebAudio:M.default}),ee(z(X),"util",w),X.params=Object.assign({},X.defaultParams,re),X.params.splitChannelsOptions=Object.assign({},X.defaultParams.splitChannelsOptions,re.splitChannelsOptions),X.container=typeof re.container=="string"?document.querySelector(X.params.container):X.params.container,!X.container)throw new Error("Container element not found");if(X.params.mediaContainer==null?X.mediaContainer=X.container:typeof X.params.mediaContainer=="string"?X.mediaContainer=document.querySelector(X.params.mediaContainer):X.mediaContainer=X.params.mediaContainer,!X.mediaContainer)throw new Error("Media Container element not found");if(X.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(X.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(X.params.rtl===!0&&(X.params.vertical===!0?w.style(X.container,{transform:"rotateX(180deg)"}):w.style(X.container,{transform:"rotateY(180deg)"})),X.params.backgroundColor&&X.setBackgroundColor(X.params.backgroundColor),X.savedVolume=0,X.isMuted=!1,X.tmpEvents=[],X.currentRequest=null,X.arraybuffer=null,X.drawer=null,X.backend=null,X.peakCache=null,typeof X.params.renderer!="function")throw new Error("Renderer parameter is invalid");X.Drawer=X.params.renderer,X.params.backend=="AudioElement"&&(X.params.backend="MediaElement"),(X.params.backend=="WebAudio"||X.params.backend==="MediaElementWebAudio")&&!g.default.prototype.supportsWebAudio.call(null)&&(X.params.backend="MediaElement"),X.Backend=X.backends[X.params.backend],X.initialisedPluginList={},X.isDestroyed=!1,X.isReady=!1;var ue=0;return X._onResize=w.debounce(function(){X.drawer.wrapper&&ue!=X.drawer.wrapper.clientWidth&&!X.params.scrollParent&&(ue=X.drawer.wrapper.clientWidth,ue&&X.drawer.fireEvent("redraw"))},typeof X.params.responsive=="number"?X.params.responsive:100),L(X,z(X))}return Z(ne,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(X){var ue=this;return X.forEach(function(le){return ue.addPlugin(le)}),X.forEach(function(le){le.deferInit||ue.initPlugin(le.name)}),this.fireEvent("plugins-registered",X),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(X){var ue=this;if(!X.name)throw new Error("Plugin does not have a name!");if(!X.instance)throw new Error("Plugin ".concat(X.name," does not have an instance property!"));X.staticProps&&Object.keys(X.staticProps).forEach(function(me){ue[me]=X.staticProps[me]});var le=X.instance,ye=Object.getOwnPropertyNames(w.Observer.prototype);return ye.forEach(function(me){le.prototype[me]=w.Observer.prototype[me]}),this[X.name]=new le(X.params||{},this),this.fireEvent("plugin-added",X.name),this}},{key:"initPlugin",value:function(X){if(!this[X])throw new Error("Plugin ".concat(X," has not been added yet!"));return this.initialisedPluginList[X]&&this.destroyPlugin(X),this[X].init(),this.initialisedPluginList[X]=!0,this.fireEvent("plugin-initialised",X),this}},{key:"destroyPlugin",value:function(X){if(!this[X])throw new Error("Plugin ".concat(X," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[X])throw new Error("Plugin ".concat(X," is not active and cannot be destroyed!"));if(typeof this[X].destroy!="function")throw new Error("Plugin ".concat(X," does not have a destroy function!"));return this[X].destroy(),delete this.initialisedPluginList[X],this.fireEvent("plugin-destroyed",X),this}},{key:"destroyAllPlugins",value:function(){var X=this;Object.keys(this.initialisedPluginList).forEach(function(ue){return X.destroyPlugin(ue)})}},{key:"createDrawer",value:function(){var X=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.params.responsive!==!1&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){X.drawBuffer(),X.drawer.progress(X.backend.getPlayedPercents())}),this.drawer.on("click",function(ue,le){setTimeout(function(){return X.seekTo(le)},0)}),this.drawer.on("scroll",function(ue){X.params.partialRender&&X.drawBuffer(),X.fireEvent("scroll",ue)})}},{key:"createBackend",value:function(){var X=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){X.drawer.progress(X.backend.getPlayedPercents()),X.fireEvent("finish")}),this.backend.on("play",function(){return X.fireEvent("play")}),this.backend.on("pause",function(){return X.fireEvent("pause")}),this.backend.on("audioprocess",function(ue){X.drawer.progress(X.backend.getPlayedPercents()),X.fireEvent("audioprocess",ue)}),(this.params.backend==="MediaElement"||this.params.backend==="MediaElementWebAudio")&&(this.backend.on("seek",function(){X.drawer.progress(X.backend.getPlayedPercents())}),this.backend.on("volume",function(){var ue=X.getVolume();X.fireEvent("volume",ue),X.backend.isMuted!==X.isMuted&&(X.isMuted=X.backend.isMuted,X.fireEvent("mute",X.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new T.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(X){X>=this.getDuration()?this.seekTo(1):this.seekTo(X/this.getDuration())}},{key:"play",value:function(X,ue){var le=this;return this.params.ignoreSilenceMode&&w.ignoreSilenceMode(),this.fireEvent("interaction",function(){return le.play(X,ue)}),this.backend.play(X,ue)}},{key:"setPlayEnd",value:function(X){this.backend.setPlayEnd(X)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(X){this.skip(-X||-this.params.skipLength)}},{key:"skipForward",value:function(X){this.skip(X||this.params.skipLength)}},{key:"skip",value:function(X){var ue=this.getDuration()||1,le=this.getCurrentTime()||0;le=Math.max(0,Math.min(ue,le+(X||0))),this.seekAndCenter(le/ue)}},{key:"seekAndCenter",value:function(X){this.seekTo(X),this.drawer.recenter(X)}},{key:"seekTo",value:function(X){var ue=this;if(typeof X!="number"||!isFinite(X)||X<0||X>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return ue.seekTo(X)});var le=this.params.backend==="WebAudio",ye=this.backend.isPaused();le&&!ye&&this.backend.pause();var me=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(X*this.getDuration()),this.drawer.progress(X),le&&!ye&&this.backend.play(),this.params.scrollParent=me,this.fireEvent("seek",X)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(X){return this.backend.setSinkId(X)}},{key:"setVolume",value:function(X){this.backend.setVolume(X),this.fireEvent("volume",X)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(X){this.backend.setPlaybackRate(X)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(X){if(X===this.isMuted){this.fireEvent("mute",this.isMuted);return}this.backend.setMute?(this.backend.setMute(X),this.isMuted=X):X?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[X]?this.params.splitChannelsOptions.channelColors[X].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(X){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.params.splitChannelsOptions.channelColors[ue]?this.params.splitChannelsOptions.channelColors[ue].waveColor=X:this.params.waveColor=X,this.drawBuffer()}},{key:"getProgressColor",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[X]?this.params.splitChannelsOptions.channelColors[X].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(X,ue){this.params.splitChannelsOptions.channelColors[ue]?this.params.splitChannelsOptions.channelColors[ue].progressColor=X:this.params.progressColor=X,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(X){this.params.backgroundColor=X,w.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(X){this.params.cursorColor=X,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(X){this.params.height=X,this.drawer.setHeight(X*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(X){this.params.splitChannelsOptions.filterChannels=X,this.drawBuffer()}},{key:"drawBuffer",value:function(){var X=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),ue=this.drawer.getWidth(),le=X,ye=0,me=Math.max(ye+ue,le);this.params.fillParent&&(!this.params.scrollParent||X<ue)&&(le=ue,ye=0,me=le);var ve;if(this.params.partialRender){var Ce=this.peakCache.addRangeToPeakCache(le,ye,me),be;for(be=0;be<Ce.length;be++)ve=this.backend.getPeaks(le,Ce[be][0],Ce[be][1]),this.drawer.drawPeaks(ve,le,Ce[be][0],Ce[be][1])}else ve=this.backend.getPeaks(le,ye,me),this.drawer.drawPeaks(ve,le,ye,me);this.fireEvent("redraw",ve,le)}},{key:"zoom",value:function(X){X?(this.params.minPxPerSec=X,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",X)}},{key:"loadArrayBuffer",value:function(X){var ue=this;this.decodeArrayBuffer(X,function(le){ue.isDestroyed||ue.loadDecodedBuffer(le)})}},{key:"loadDecodedBuffer",value:function(X){this.backend.load(X),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(X){var ue=this,le=new FileReader;le.addEventListener("progress",function(ye){return ue.onProgress(ye)}),le.addEventListener("load",function(ye){return ue.loadArrayBuffer(ye.target.result)}),le.addEventListener("error",function(){return ue.fireEvent("error","Error reading file")}),le.readAsArrayBuffer(X),this.empty()}},{key:"load",value:function(X,ue,le,ye){if(!X)throw new Error("url parameter cannot be empty");if(this.empty(),le){var me={"Preload is not 'auto', 'none' or 'metadata'":["auto","metadata","none"].indexOf(le)===-1,"Peaks are not provided":!ue,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend)===-1,"Url is not of type string":typeof X!="string"},ve=Object.keys(me).filter(function(Ce){return me[Ce]});ve.length&&(console.warn(`Preload parameter of wavesurfer.load will be ignored because:
	- `+ve.join(`
	- `)),le=null)}switch(this.params.backend==="WebAudio"&&X instanceof HTMLMediaElement&&(X=X.src),this.params.backend){case"WebAudio":return this.loadBuffer(X,ue,ye);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(X,ue,le,ye)}}},{key:"loadBuffer",value:function(X,ue,le){var ye=this,me=function(Ce){return Ce&&ye.tmpEvents.push(ye.once("ready",Ce)),ye.getArrayBuffer(X,function(be){return ye.loadArrayBuffer(be)})};if(ue)this.backend.setPeaks(ue,le),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",me));else return me()}},{key:"loadMediaElement",value:function(X,ue,le,ye){var me=this,ve=X;if(typeof X=="string")this.backend.load(ve,this.mediaContainer,ue,le);else{var Ce=X;this.backend.loadElt(Ce,ue),ve=Ce.src}this.tmpEvents.push(this.backend.once("canplay",function(){me.backend.destroyed||(me.drawBuffer(),me.isReady=!0,me.fireEvent("ready"))}),this.backend.once("error",function(be){return me.fireEvent("error",be)})),ue&&(this.backend.setPeaks(ue,ye),this.drawBuffer(),this.fireEvent("waveform-ready")),(!ue||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(ve,function(be){me.decodeArrayBuffer(be,function(Ae){me.backend.buffer=Ae,me.backend.setPeaks(null),me.drawBuffer(),me.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(X,ue){var le=this;this.isDestroyed||(this.arraybuffer=X,this.backend.decodeArrayBuffer(X,function(ye){!le.isDestroyed&&le.arraybuffer==X&&(ue(ye),le.arraybuffer=null)},function(){return le.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(X,ue){var le=this,ye=Object.assign({url:X,responseType:"arraybuffer"},this.params.xhr),me=w.fetchFile(ye);return this.currentRequest=me,this.tmpEvents.push(me.on("progress",function(ve){le.onProgress(ve)}),me.on("success",function(ve){ue(ve),le.currentRequest=null}),me.on("error",function(ve){le.fireEvent("error",ve),le.currentRequest=null})),me}},{key:"onProgress",value:function(X){var ue;X.lengthComputable?ue=X.loaded/X.total:ue=X.loaded/(X.loaded+1e6),this.fireEvent("loading",Math.round(ue*100),X.target)}},{key:"exportPCM",value:function(X,ue,le,ye,me){X=X||1024,ye=ye||0,ue=ue||1e4,le=le||!1;var ve=this.backend.getPeaks(X,ye,me),Ce=[].map.call(ve,function(be){return Math.round(be*ue)/ue});return new Promise(function(be,Ae){if(!le){var fe=new Blob([JSON.stringify(Ce)],{type:"application/json;charset=utf-8"}),_e=URL.createObjectURL(fe);window.open(_e),URL.revokeObjectURL(_e)}be(Ce)})}},{key:"exportImage",value:function(X,ue,le){return X||(X="image/png"),ue||(ue=1),le||(le="dataURL"),this.drawer.getImage(X,ue,le)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch(function(X){}),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(X){return X.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive!==!1&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(X){var ue=new ne(X);return ue.init()}}]),ne}(w.Observer);y.default=ie,ee(ie,"VERSION","6.2.0"),ee(ie,"util",w),b.exports=y.default},"./src/webaudio.js":(b,y,v)=>{function C(G){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},C(G)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=g(v("./src/util/index.js"));function _(G){if(typeof WeakMap!="function")return null;var Z=new WeakMap,ie=new WeakMap;return(_=function(H){return H?ie:Z})(G)}function g(G,Z){if(!Z&&G&&G.__esModule)return G;if(G===null||C(G)!=="object"&&typeof G!="function")return{default:G};var ie=_(Z);if(ie&&ie.has(G))return ie.get(G);var Q={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in G)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(G,ne)){var re=H?Object.getOwnPropertyDescriptor(G,ne):null;re&&(re.get||re.set)?Object.defineProperty(Q,ne,re):Q[ne]=G[ne]}return Q.default=G,ie&&ie.set(G,Q),Q}function $(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function T(G,Z){for(var ie=0;ie<Z.length;ie++){var Q=Z[ie];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(G,Q.key,Q)}}function M(G,Z,ie){return Z&&T(G.prototype,Z),ie&&T(G,ie),Object.defineProperty(G,"prototype",{writable:!1}),G}function S(G,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(Z&&Z.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),Z&&I(G,Z)}function I(G,Z){return I=Object.setPrototypeOf||function(Q,H){return Q.__proto__=H,Q},I(G,Z)}function B(G){var Z=R();return function(){var Q=L(G),H;if(Z){var ne=L(this).constructor;H=Reflect.construct(Q,arguments,ne)}else H=Q.apply(this,arguments);return x(this,H)}}function x(G,Z){if(Z&&(C(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(G)}function F(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(G){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},L(G)}function z(G,Z,ie){return Z in G?Object.defineProperty(G,Z,{value:ie,enumerable:!0,configurable:!0,writable:!0}):G[Z]=ie,G}var J="playing",K="paused",ee="finished",q=function(G){S(ie,G);var Z=B(ie);function ie(Q){var H,ne,re;return $(this,ie),re=Z.call(this),z(F(re),"audioContext",null),z(F(re),"offlineAudioContext",null),z(F(re),"stateBehaviors",(H={},z(H,J,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var ue=this.getDuration();return this.getCurrentTime()/ue||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),z(H,K,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var ue=this.getDuration();return this.getCurrentTime()/ue||0},getCurrentTime:function(){return this.startPosition}}),z(H,ee,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),H)),re.params=Q,re.ac=Q.audioContext||(re.supportsWebAudio()?re.getAudioContext():{}),re.lastPlay=re.ac.currentTime,re.startPosition=0,re.scheduledPause=null,re.states=(ne={},z(ne,J,Object.create(re.stateBehaviors[J])),z(ne,K,Object.create(re.stateBehaviors[K])),z(ne,ee,Object.create(re.stateBehaviors[ee])),ne),re.buffer=null,re.filters=[],re.gainNode=null,re.mergedPeaks=null,re.offlineAc=null,re.peaks=null,re.playbackRate=1,re.analyser=null,re.scriptNode=null,re.source=null,re.splitPeaks=[],re.state=null,re.explicitDuration=Q.duration,re.sinkStreamDestination=null,re.sinkAudioElement=null,re.destroyed=!1,re}return M(ie,[{key:"supportsWebAudio",value:function(){return!!(window.AudioContext||window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(H){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,H)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(K),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(H){H&&H.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(H){this.state!==this.states[H]&&(this.state=this.states[H],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var H=arguments.length,ne=new Array(H),re=0;re<H;re++)ne[re]=arguments[re];this.setFilters(ne)}},{key:"setFilters",value:function(H){this.disconnectFilters(),H&&H.length&&(this.filters=H,this.analyser.disconnect(),H.reduce(function(ne,re){return ne.connect(re),re},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(ie.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(ie.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var H=this;this.scriptNode.onaudioprocess=function(){var ne=H.getCurrentTime();ne>=H.getDuration()?(H.setState(ee),H.fireEvent("pause")):ne>=H.scheduledPause?H.pause():H.state===H.states[J]&&H.fireEvent("audioprocess",ne)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=null}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(H){return H?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(H)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+H))}},{key:"setVolume",value:function(H){this.gainNode.gain.setValueAtTime(H,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(H,ne,re){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(H,function(X){return ne(X)},re):this.offlineAc.decodeAudioData(H).then(function(X){return ne(X)}).catch(function(X){return re(X)})}},{key:"setPeaks",value:function(H,ne){ne!=null&&(this.explicitDuration=ne),this.peaks=H}},{key:"setLength",value:function(H){if(!(this.mergedPeaks&&H==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];var ne=this.buffer?this.buffer.numberOfChannels:1,re;for(re=0;re<ne;re++)this.splitPeaks[re]=[],this.splitPeaks[re][2*(H-1)]=0,this.splitPeaks[re][2*(H-1)+1]=0;this.mergedPeaks[2*(H-1)]=0,this.mergedPeaks[2*(H-1)+1]=0}}},{key:"getPeaks",value:function(H,ne,re){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(ne=ne||0,re=re||H-1,this.setLength(H),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var X=this.createBuffer(1,4096,this.sampleRate);this.buffer=X.buffer}var ue=this.buffer.length/H,le=~~(ue/10)||1,ye=this.buffer.numberOfChannels,me;for(me=0;me<ye;me++){var ve=this.splitPeaks[me],Ce=this.buffer.getChannelData(me),be=void 0;for(be=ne;be<=re;be++){var Ae=~~(be*ue),fe=~~(Ae+ue),_e=Ce[Ae],Ne=_e,Je=void 0;for(Je=Ae;Je<fe;Je+=le){var Ke=Ce[Je];Ke>Ne&&(Ne=Ke),Ke<_e&&(_e=Ke)}ve[2*be]=Ne,ve[2*be+1]=_e,(me==0||Ne>this.mergedPeaks[2*be])&&(this.mergedPeaks[2*be]=Ne),(me==0||_e<this.mergedPeaks[2*be+1])&&(this.mergedPeaks[2*be+1]=_e)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(typeof this.ac.close=="function"&&this.ac.state!="closed"&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(H){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=H,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){this.ac.state=="suspended"&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[J]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(H,ne){if(!!this.buffer)return this.scheduledPause=null,H==null&&(H=this.getCurrentTime(),H>=this.getDuration()&&(H=0)),ne==null&&(ne=this.getDuration()),this.startPosition=H,this.lastPlay=this.ac.currentTime,this.state===this.states[ee]&&this.setState(K),{start:H,end:ne}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(H,ne){if(!!this.buffer){this.createSource();var re=this.seekTo(H,ne);H=re.start,ne=re.end,this.scheduledPause=ne,this.source.start(0,H),this.resumeAudioContext(),this.setState(J),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch{}this.setState(K),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(H){this.playbackRate=H||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(H){this.scheduledPause=H}}]),ie}(w.Observer);y.default=q,z(q,"scriptBufferSize",256),b.exports=y.default},"./node_modules/debounce/index.js":b=>{function y(v,C,w){var _,g,$,T,M;C==null&&(C=100);function S(){var B=Date.now()-T;B<C&&B>=0?_=setTimeout(S,C-B):(_=null,w||(M=v.apply($,g),$=g=null))}var I=function(){$=this,g=arguments,T=Date.now();var B=w&&!_;return _||(_=setTimeout(S,C)),B&&(M=v.apply($,g),$=g=null),M};return I.clear=function(){_&&(clearTimeout(_),_=null)},I.flush=function(){_&&(M=v.apply($,g),$=g=null,clearTimeout(_),_=null)},I}y.debounce=y,b.exports=y}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var v=d[b]={exports:{}};return f[b](v,v.exports,m),v.exports}var h=m("./src/wavesurfer.js");return h})())})(wavesurfer);const WaveSurfer=getDefaultExportFromCjs(wavesurfer.exports);var wavesurfer_playhead={exports:{}};/*!
 * wavesurfer.js playhead plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/playhead/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v($,T){if(!($ instanceof T))throw new TypeError("Cannot call a class as a function")}function C($,T){for(var M=0;M<T.length;M++){var S=T[M];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty($,S.key,S)}}function w($,T,M){return T&&C($.prototype,T),M&&C($,M),Object.defineProperty($,"prototype",{writable:!1}),$}var _="#CF2F00",g=function(){function $(T,M){var S=this;v(this,$),this.params=T,this.options={},["draw","moveOnSeek","returnOnPause"].forEach(function(I){I in T?S.options[I]=T[I]:S.options[I]=!0}),this.wavesurfer=M,this.util=M.util,this.style=this.util.style,this.markerWidth=21,this.markerHeight=16,this.playheadTime=0,this.unFuns=[],this._onResize=function(){S._updatePlayheadPosition()},this._onReady=function(){S.wrapper=S.wavesurfer.drawer.wrapper,S._updatePlayheadPosition()}}return w($,[{key:"_onBackendCreated",value:function(){var M=this;this.wrapper=this.wavesurfer.drawer.wrapper,this.options.draw&&(this._createPlayheadElement(),window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0),this.wavesurferOn("zoom",this._onResize)),this.wavesurferOn("pause",function(){M.options.returnOnPause&&M.wavesurfer.setCurrentTime(M.playheadTime)}),this.wavesurferOn("seek",function(){M.options.moveOnSeek&&(M.playheadTime=M.wavesurfer.getCurrentTime(),M._updatePlayheadPosition())}),this.playheadTime=this.wavesurfer.getCurrentTime()}},{key:"wavesurferOn",value:function(M,S){var I=this,B=this.wavesurfer.on(M,S);return this.unFuns.push(function(){I.wavesurfer.un(M,S)}),B}},{key:"init",value:function(){var M=this;this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",function(){return M._onReady()}),this.wavesurfer.once("backend-created",function(){return M._onBackendCreated()}))}},{key:"destroy",value:function(){this.unFuns.forEach(function(M){return M()}),this.unFuns=[],this.wrapper.removeChild(this.element),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)}},{key:"setPlayheadTime",value:function(M){this.playheadTime=M,this.wavesurfer.isPlaying()||this.wavesurfer.setCurrentTime(M),this._updatePlayheadPosition()}},{key:"_createPointerSVG",value:function(){var M="http://www.w3.org/2000/svg",S=document.createElementNS(M,"svg"),I=document.createElementNS(M,"path");return S.setAttribute("viewBox","0 0 33 30"),I.setAttribute("d","M16.75 31 31.705 5.566A3 3 0 0 0 29.146 1H4.354a3 3 0 0 0-2.56 4.566L16.75 31z"),I.setAttribute("stroke","#979797"),I.setAttribute("fill",_),S.appendChild(I),this.style(S,{width:this.markerWidth+"px",height:this.markerHeight+"px",cursor:"pointer","z-index":5}),S}},{key:"_createPlayheadElement",value:function(){var M=this,S=document.createElement("playhead");S.className="wavesurfer-playhead",this.style(S,{position:"absolute",height:"100%",display:"flex","flex-direction":"column"});var I=this._createPointerSVG();S.appendChild(I),I.addEventListener("click",function(x){x.stopPropagation(),M.wavesurfer.setCurrentTime(M.playheadTime)});var B=document.createElement("div");this.style(B,{"flex-grow":1,"margin-left":this.markerWidth/2-.5+"px",background:"black",width:"1px",opacity:.1}),S.appendChild(B),this.element=S,this.wrapper.appendChild(S)}},{key:"_updatePlayheadPosition",value:function(){if(!!this.element){var M=this.wavesurfer.getDuration(),S=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,I=this.playheadTime/M;this.style(this.element,{left:S*I-this.markerWidth/2+"px"})}}}],[{key:"create",value:function(M){return{name:"playhead",deferInit:M&&M.deferInit?M.deferInit:!1,params:M,instance:$}}}]),$}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var v=d[b]={exports:{}};return f[b](v,v.exports,m),v.exports}var h=m("./src/plugin/playhead/index.js");return h})())})(wavesurfer_playhead);const PlayheadPlugin=getDefaultExportFromCjs(wavesurfer_playhead.exports);var wavesurfer_markers={exports:{}};/*!
 * wavesurfer.js markers plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/markers/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}function C(T,M){for(var S=0;S<M.length;S++){var I=M[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}}function w(T,M,S){return M&&C(T.prototype,M),S&&C(T,S),Object.defineProperty(T,"prototype",{writable:!1}),T}var _="#D8D8D8",g="bottom",$=function(){function T(M,S){var I=this;v(this,T),this.params=M,this.wavesurfer=S,this.util=S.util,this.style=this.util.style,this.markerLineWidth=1,this.markerWidth=11,this.markerHeight=22,this.dragging=!1,this._onResize=function(){I._updateMarkerPositions()},this._onBackendCreated=function(){I.wrapper=I.wavesurfer.drawer.wrapper,I.params.markers&&I.params.markers.forEach(function(B){return I.add(B)}),window.addEventListener("resize",I._onResize,!0),window.addEventListener("orientationchange",I._onResize,!0),I.wavesurfer.on("zoom",I._onResize),I.markers.find(function(B){return B.draggable})&&(I.onMouseMove=function(B){return I._onMouseMove(B)},window.addEventListener("mousemove",I.onMouseMove),I.onMouseUp=function(B){return I._onMouseUp(B)},window.addEventListener("mouseup",I.onMouseUp))},this.markers=[],this._onReady=function(){I.wrapper=I.wavesurfer.drawer.wrapper,I._updateMarkerPositions()}}return w(T,[{key:"init",value:function(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}},{key:"destroy",value:function(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.wavesurfer.un("zoom",this._onResize),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0),this.onMouseMove&&window.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&window.removeEventListener("mouseup",this.onMouseUp),this.clear()}},{key:"add",value:function(S){var I={time:S.time,label:S.label,color:S.color||_,position:S.position||g,draggable:!!S.draggable};return I.el=this._createMarkerElement(I,S.markerElement),this.wrapper.appendChild(I.el),this.markers.push(I),this._updateMarkerPositions(),I}},{key:"remove",value:function(S){var I=this.markers[S];!I||(this.wrapper.removeChild(I.el),this.markers.splice(S,1))}},{key:"_createPointerSVG",value:function(S,I){var B="http://www.w3.org/2000/svg",x=document.createElementNS(B,"svg"),F=document.createElementNS(B,"polygon");return x.setAttribute("viewBox","0 0 40 80"),F.setAttribute("id","polygon"),F.setAttribute("stroke","#979797"),F.setAttribute("fill",S),F.setAttribute("points","20 0 40 30 40 80 0 80 0 30"),I=="top"&&F.setAttribute("transform","rotate(180, 20 40)"),x.appendChild(F),this.style(x,{width:this.markerWidth+"px",height:this.markerHeight+"px","min-width":this.markerWidth+"px","margin-right":"5px","z-index":4}),x}},{key:"_createMarkerElement",value:function(S,I){var B=this,x=S.label,F=document.createElement("marker");F.className="wavesurfer-marker",this.style(F,{position:"absolute",height:"100%",display:"flex",overflow:"hidden","flex-direction":S.position=="top"?"column-reverse":"column"});var R=document.createElement("div"),L=I?I.width:this.markerWidth;S.offset=(L-this.markerLineWidth)/2,this.style(R,{"flex-grow":1,"margin-left":S.offset+"px",background:"black",width:this.markerLineWidth+"px",opacity:.1}),F.appendChild(R);var z=document.createElement("div"),J=I||this._createPointerSVG(S.color,S.position);if(S.draggable&&(J.draggable=!1),z.appendChild(J),x){var K=document.createElement("span");K.innerText=x,this.style(K,{"font-family":"monospace","font-size":"90%"}),z.appendChild(K)}return this.style(z,{display:"flex","align-items":"center",cursor:"pointer"}),F.appendChild(z),z.addEventListener("click",function(ee){ee.stopPropagation(),!B.dragging&&(B.wavesurfer.setCurrentTime(S.time),B.wavesurfer.fireEvent("marker-click",S,ee))}),S.draggable&&z.addEventListener("mousedown",function(ee){B.selectedMarker=S}),F}},{key:"_updateMarkerPositions",value:function(){for(var S=0;S<this.markers.length;S++){var I=this.markers[S];this._updateMarkerPosition(I)}}},{key:"_updateMarkerPosition",value:function(S){var I=this.wavesurfer.getDuration(),B=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,x=Math.min(S.time/I,1),F=B*x-S.offset;this.style(S.el,{left:F+"px","max-width":B-F+"px"})}},{key:"_onMouseMove",value:function(S){!this.selectedMarker||(this.dragging||(this.dragging=!0,this.wavesurfer.fireEvent("marker-drag",this.selectedMarker,S)),this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*this.wavesurfer.getDuration(),this._updateMarkerPositions())}},{key:"_onMouseUp",value:function(S){var I=this;if(this.selectedMarker&&setTimeout(function(){I.selectedMarker=!1,I.dragging=!1},0),!!this.dragging){S.stopPropagation();var B=this.wavesurfer.getDuration();this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*B,this._updateMarkerPositions(),this.wavesurfer.fireEvent("marker-drop",this.selectedMarker,S)}}},{key:"clear",value:function(){for(;this.markers.length>0;)this.remove(0)}}],[{key:"create",value:function(S){return{name:"markers",deferInit:S&&S.deferInit?S.deferInit:!1,params:S,staticProps:{addMarker:function(B){return this.initialisedPluginList.markers||this.initPlugin("markers"),this.markers.add(B)},clearMarkers:function(){this.markers&&this.markers.clear()}},instance:T}}}]),T}();y.default=$,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var v=d[b]={exports:{}};return f[b](v,v.exports,m),v.exports}var h=m("./src/plugin/markers/index.js");return h})())})(wavesurfer_markers);const MarkersPlugin=getDefaultExportFromCjs(wavesurfer_markers.exports);var wavesurfer_cursor={exports:{}};/*!
 * wavesurfer.js cursor plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/cursor/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v($,T){if(!($ instanceof T))throw new TypeError("Cannot call a class as a function")}function C($,T){for(var M=0;M<T.length;M++){var S=T[M];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty($,S.key,S)}}function w($,T,M){return T&&C($.prototype,T),M&&C($,M),Object.defineProperty($,"prototype",{writable:!1}),$}function _($,T,M){return T in $?Object.defineProperty($,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):$[T]=M,$}var g=function(){function $(T,M){var S=this;v(this,$),_(this,"defaultParams",{hideOnBlur:!0,width:"1px",color:"black",opacity:"0.25",style:"solid",zIndex:4,customStyle:{},customShowTimeStyle:{},showTime:!1,followCursorY:!1,formatTimeCallback:null}),_(this,"_onMousemove",function(I){var B=S.util.withOrientation(I,S.wavesurfer.params.vertical),x=S.wrapper.getBoundingClientRect(),F=0,R=S.wrapper.scrollLeft+B.clientX-x.left,L=S.displayTime?S.displayTime.getBoundingClientRect().width:0,z=x.right<B.clientX+L;S.params.showTime&&S.params.followCursorY&&(F=B.clientY-(x.top+x.height/2)),S.updateCursorPosition(R,F,z)}),_(this,"_onMouseenter",function(){return S.showCursor()}),_(this,"_onMouseleave",function(){return S.hideCursor()}),this.wavesurfer=M,this.style=M.util.style,this.util=M.util,this.cursor=null,this.showTime=null,this.displayTime=null,this.params=Object.assign({},this.defaultParams,T)}return w($,[{key:"_onReady",value:function(){this.wrapper=this.wavesurfer.drawer.wrapper,this.cursor=this.util.withOrientation(this.wrapper.appendChild(document.createElement("cursor")),this.wavesurfer.params.vertical),this.style(this.cursor,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"0",display:"flex",borderRightStyle:this.params.style,borderRightWidth:this.params.width,borderRightColor:this.params.color,opacity:this.params.opacity,pointerEvents:"none"},this.params.customStyle)),this.params.showTime&&(this.showTime=this.util.withOrientation(this.wrapper.appendChild(document.createElement("showTitle")),this.wavesurfer.params.vertical),this.style(this.showTime,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"auto",display:"flex",opacity:this.params.opacity,pointerEvents:"none",height:"100%"},this.params.customStyle)),this.displayTime=this.util.withOrientation(this.showTime.appendChild(document.createElement("div")),this.wavesurfer.params.vertical),this.style(this.displayTime,Object.assign({display:"inline",pointerEvents:"none",margin:"auto",visibility:"hidden"},this.params.customShowTimeStyle)),this.displayTime.innerHTML=this.formatTime(0)),this.wrapper.addEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.hideCursor(),this.wrapper.addEventListener("mouseenter",this._onMouseenter),this.wrapper.addEventListener("mouseleave",this._onMouseleave))}},{key:"init",value:function(){var M=this;this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",function(){return M._onReady()})}},{key:"destroy",value:function(){this.params.showTime&&this.showTime.remove(),this.cursor.remove(),this.wrapper.removeEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.wrapper.removeEventListener("mouseenter",this._onMouseenter),this.wrapper.removeEventListener("mouseleave",this._onMouseleave))}},{key:"updateCursorPosition",value:function(M,S){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.style(this.cursor,{left:"".concat(M,"px")}),this.params.showTime){var B=this.wavesurfer.getDuration(),x=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,F=this.wavesurfer.drawer.getScrollX(),R=B/this.wavesurfer.drawer.width*F,L=Math.max(0,(M-this.wrapper.scrollLeft)/x*B)+R,z=this.formatTime(L);if(I){var J=this.displayTime.getBoundingClientRect().width;M-=J}this.style(this.showTime,{left:"".concat(M,"px"),top:"".concat(S,"px")}),this.style(this.displayTime,{visibility:"visible"}),this.displayTime.innerHTML="".concat(z)}}},{key:"showCursor",value:function(){this.style(this.cursor,{display:"flex"}),this.params.showTime&&this.style(this.showTime,{display:"flex"})}},{key:"hideCursor",value:function(){this.style(this.cursor,{display:"none"}),this.params.showTime&&this.style(this.showTime,{display:"none"})}},{key:"formatTime",value:function(M){return M=isNaN(M)?0:M,this.params.formatTimeCallback?this.params.formatTimeCallback(M):[M].map(function(S){return[Math.floor(S%3600/60),("00"+Math.floor(S%60)).slice(-2),("000"+Math.floor(S%1*1e3)).slice(-3)].join(":")})}}],[{key:"create",value:function(M){return{name:"cursor",deferInit:M&&M.deferInit?M.deferInit:!1,params:M,staticProps:{},instance:$}}}]),$}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var v=d[b]={exports:{}};return f[b](v,v.exports,m),v.exports}var h=m("./src/plugin/cursor/index.js");return h})())})(wavesurfer_cursor);const CursorPlugin=getDefaultExportFromCjs(wavesurfer_cursor.exports);var wavesurfer_timeline={exports:{}};/*!
 * wavesurfer.js timeline plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/timeline/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function v($,T){if(!($ instanceof T))throw new TypeError("Cannot call a class as a function")}function C($,T){for(var M=0;M<T.length;M++){var S=T[M];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty($,S.key,S)}}function w($,T,M){return T&&C($.prototype,T),M&&C($,M),Object.defineProperty($,"prototype",{writable:!1}),$}function _($,T,M){return T in $?Object.defineProperty($,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):$[T]=M,$}var g=function(){function $(T,M){var S=this;if(v(this,$),_(this,"_onScroll",function(){S.wrapper&&S.drawer.wrapper&&(S.wrapper.scrollLeft=S.drawer.wrapper.scrollLeft)}),_(this,"_onRedraw",function(){return S.render()}),_(this,"_onReady",function(){var I=S.wavesurfer;S.drawer=I.drawer,S.pixelRatio=I.drawer.params.pixelRatio,S.maxCanvasWidth=I.drawer.maxCanvasWidth||I.drawer.width,S.maxCanvasElementWidth=I.drawer.maxCanvasElementWidth||Math.round(S.maxCanvasWidth/S.pixelRatio),I.drawer.wrapper.addEventListener("scroll",S._onScroll),I.on("redraw",S._onRedraw),I.on("zoom",S._onZoom),S.render()}),_(this,"_onWrapperClick",function(I){I.preventDefault();var B="offsetX"in I?I.offsetX:I.layerX;S.fireEvent("click",B/S.wrapper.scrollWidth||0)}),this.container=typeof T.container=="string"?document.querySelector(T.container):T.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=M,this.util=M.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},T),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce(function(){return S.render()},this.params.zoomDebounce):function(){return S.render()}}return w($,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var M=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height,"px")}),(M.fillParent||M.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var M=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(M),this.util.style(M,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var M=this.canvases.pop();M.parentElement.removeChild(M)}},{key:"updateCanvases",value:function(){for(var M=Math.round(this.drawer.wrapper.scrollWidth),S=Math.ceil(M/this.maxCanvasElementWidth);this.canvases.length<S;)this.addCanvas();for(;this.canvases.length>S;)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var M=this,S=this.canvases.length;this.canvases.forEach(function(I,B){var x=B===S-1?M.drawer.wrapper.scrollWidth-M.maxCanvasElementWidth*(S-1):M.maxCanvasElementWidth;I.width=x*M.pixelRatio,I.height=(M.params.height+1)*M.pixelRatio,M.util.style(I,{width:"".concat(x,"px"),height:"".concat(M.params.height,"px"),left:"".concat(B*M.maxCanvasElementWidth,"px")})})}},{key:"renderCanvases",value:function(){var M=this,S=this.params.duration||this.wavesurfer.backend.getDuration();if(!(S<=0)){var I=this.wavesurfer.params,B=this.params.fontSize*I.pixelRatio,x=parseInt(S,10)+1,F=I.fillParent&&!I.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*I.pixelRatio,R=this.params.height*this.pixelRatio,L=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,z=F/S,J=this.params.formatTimeCallback,K=function(ue){return typeof ue=="function"?ue(z):ue},ee=K(this.params.timeInterval),q=K(this.params.primaryLabelInterval),G=K(this.params.secondaryLabelInterval),Z=z*this.params.offset,ie=0,Q,H=[],ne=this.params.offset<0?x-this.params.offset:x;for(Q=0;Q<ne/ee;Q++)H.push([Q,ie,Z]),ie+=ee,Z+=z*ee;var re=function(ue){H.forEach(function(le){ue(le[0],le[1],le[2])})};this.setFillStyles(this.params.primaryColor),this.setFonts("".concat(B,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.primaryFontColor),re(function(X,ue,le){X%q===0&&(M.fillRect(le,0,1,R),M.fillText(J(ue,z),le+M.params.labelPadding*M.pixelRatio,R))}),this.setFillStyles(this.params.secondaryColor),this.setFonts("".concat(B,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.secondaryFontColor),re(function(X,ue,le){X%G===0&&(M.fillRect(le,0,1,R),M.fillText(J(ue,z),le+M.params.labelPadding*M.pixelRatio,R))}),this.setFillStyles(this.params.unlabeledNotchColor),re(function(X,ue,le){X%G!==0&&X%q!==0&&M.fillRect(le,0,1,L)})}}},{key:"setFillStyles",value:function(M){this.canvases.forEach(function(S){var I=S.getContext("2d");I&&(I.fillStyle=M)})}},{key:"setFonts",value:function(M){this.canvases.forEach(function(S){var I=S.getContext("2d");I&&(I.font=M)})}},{key:"fillRect",value:function(M,S,I,B){var x=this;this.canvases.forEach(function(F,R){var L=R*x.maxCanvasWidth,z={x1:Math.max(M,R*x.maxCanvasWidth),y1:S,x2:Math.min(M+I,R*x.maxCanvasWidth+F.width),y2:S+B};if(z.x1<z.x2){var J=F.getContext("2d");J&&J.fillRect(z.x1-L,z.y1,z.x2-z.x1,z.y2-z.y1)}})}},{key:"fillText",value:function(M,S,I){var B,x=0;this.canvases.forEach(function(F){var R=F.getContext("2d");if(R){var L=R.canvas.width;if(x>S+B)return;x+L>S&&R&&(B=R.measureText(M).width,R.fillText(M,S-x,I)),x+=L}})}},{key:"defaultFormatTimeCallback",value:function(M,S){if(M/60>1){var I=parseInt(M/60,10);return M=parseInt(M%60,10),M=M<10?"0"+M:M,"".concat(I,":").concat(M)}return Math.round(M*1e3)/1e3}},{key:"defaultTimeInterval",value:function(M){return M>=25?1:M*5>=25?5:M*15>=25?15:Math.ceil(.5/M)*60}},{key:"defaultPrimaryLabelInterval",value:function(M){return M>=25?10:M*5>=25?6:(M*15>=25,4)}},{key:"defaultSecondaryLabelInterval",value:function(M){return M>=25?5:(M*5>=25||M*15>=25,2)}}],[{key:"create",value:function(M){return{name:"timeline",deferInit:M&&M.deferInit?M.deferInit:!1,params:M,instance:$}}}]),$}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var v=d[b]={exports:{}};return f[b](v,v.exports,m),v.exports}var h=m("./src/plugin/timeline/index.js");return h})())})(wavesurfer_timeline);const TimelinePlugin=getDefaultExportFromCjs(wavesurfer_timeline.exports);function formatTimeCallback(o,u){o=Number(o);var f=Math.floor(o/60);o=o%60;var d=Math.round(o).toString();return u>=25*10?d=o.toFixed(2):u>=25*1&&(d=o.toFixed(1)),f>0?(o<10&&(d="0"+d),`${f}:${d}`):d}function timeInterval(o){var u=1;return o>=25*100?u=.01:o>=25*40?u=.025:o>=25*10?u=.1:o>=25*4?u=.25:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function primaryLabelInterval(o){var u=1;return o>=25*100?u=10:o>=25*40?u=4:o>=25*10?u=10:o>=25*4?u=4:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function secondaryLabelInterval(o){return Math.floor(10/timeInterval(o))}const makeWavesurfer=o=>u=>f=>d=>m=>h=>()=>{const b=WaveSurfer.create({backend:"MediaElement",waveColor:"#A8DBA8",progressColor:"#3B8131",container:m,mediaControls:!0,scrollParent:!0,plugins:[PlayheadPlugin.create({returnOnPause:!0,moveOnSeek:!0,draw:!0}),TimelinePlugin.create({container:"#timeline",formatTimeCallback,timeInterval,primaryLabelInterval,secondaryLabelInterval,primaryColor:"#0b83a7",secondaryColor:"#ef0ea6",primaryFontColor:"#0b83a7",secondaryFontColor:"#ef0ea6"}),MarkersPlugin.create({markers:[{time:0,color:"#00ffff",draggable:!0,position:"top"}]}),CursorPlugin.create({showTime:!0,opacity:1,customShowTimeStyle:{"background-color":"#000",color:"#fff",padding:"2px","font-size":"10px"}})]});b.load(h),b.on("ready",d),b.markers.remove(0),b.on("marker-drop",function({time:C,el:{$$joyrideIndex:w,$$joyrideOffset:_,$$realIndex:g,$$documentId:$}}){f(w)(_)(g)($?u($):o)(C)()});var y={play:function(){b.playPause()},back:function(){b.skipBackward()},forth:function(){b.skipForward()},stop:function(){b.stop()},"toggle-mute":function(){b.toggleMute()}};const v=function(C){let _={38:"play",37:"back",39:"forth",40:"stop"}[C.keyCode];_ in y&&((document==C.target||document.body==C.target||C.target.attributes["data-action"])&&C.preventDefault(),y[_](C))};return document.addEventListener("keydown",v),b.on("destroy",()=>{document.removeEventListener("keydown",v)}),b},zoom=o=>u=>()=>o.zoom(u),associateEventDocumentIdWithSortedMarkerIdList=o=>u=>()=>{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(o.markers.markers[d].el.$$joyrideIndex!==f[0].ix&&(console.log("shifting",o.markers.markers[d].el.$$joyrideIndex,f[0].ix),f.shift()),o.markers.markers[d].el.$$joyrideIndex!==f[0].ix)throw console.error("Programming error: something isn't sorted",o.markers.markers[d].el.$$joyrideIndex,f[0].ix,JSON.stringify(u),JSON.stringify(o.markers.markers.map(m=>m.el.$$joyrideIndex))),new Error("Programming error: something isn't sorted");o.markers.markers[d].el.$$documentId=f[0].id}},associateEventDocumentIdWithMarker=o=>u=>()=>{o.el.$$documentId=u},addMarker=o=>u=>f=>d=>()=>{const m=o.addMarker({draggable:!0,position:"top",...d});return m.el.$$joyrideIndex=u,m.el.$$joyrideOffset=f,m.el.$$realIndex=o.markers.markers.length-1,m},hideMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("visible"),o.markers.markers[u].el.classList.add("invisible")},muteExcept=o=>u=>()=>{if(u.length===0)for(let f=0;f<o.markers.markers.length;f++)o.markers.markers[f].el.classList.remove("invisible"),o.markers.markers[f].el.classList.add("visible");else{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(f.length&&d==f[0][1]&&f.shift(),f.length&&d>=f[0][0]&&d<f[0][1]){o.markers.markers[d].el.classList.remove("invisible"),o.markers.markers[d].el.classList.add("visible");continue}o.markers.markers[d].el.classList.remove("visible"),o.markers.markers[d].el.classList.add("invisible")}}},removeMarker=o=>u=>()=>{o.markers.remove(u)},getCurrentTime=o=>()=>o.getCurrentTime(),getDuration=o=>()=>o.getDuration(),showMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("invisible"),o.markers.markers[u].el.classList.add("visible")};var getEffProp=function(o){return function(u){return function(){return u[o]}}};const _firstChild=getEffProp("firstChild"),textContent=getEffProp("textContent");function eventListener(o){return function(){return function(u){return o(u)()}}}function addEventListener(o){return function(u){return function(f){return function(d){return function(){return d.addEventListener(o,u,f)}}}}}function _item(o){return function(u){return u.item(o)}}function fileReader(){return new FileReader}function result(o){return function(){return o.result}}function readAsText(o){return function(u){return function(){u.readAsText(o)}}}const styleAudio=()=>{const o=document.getElementsByTagName("audio");Array.prototype.slice.call(o).forEach(f=>{f.id="audio",f.classList.add("op-player"),f.classList.add("op-player__media"),f.setAttribute("controls",!0),f.setAttribute("playsinline",!0)})},$CAction=(o,u)=>({tag:o,_1:u}),$SoMu=(o,u)=>({tag:o,_1:u}),oneOf$7=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussedUncurried=vbussedUncurried$1()(vbusCons2({reflectSymbol:()=>"addBasic"})()()(vbusCons2({reflectSymbol:()=>"addLeap"})()()(vbusCons2({reflectSymbol:()=>"addLongPress"})()()(vbusCons2({reflectSymbol:()=>"atomicEventOperation"})()()(vbusCons2({reflectSymbol:()=>"atomicTrackOperation"})()()(vbusCons2({reflectSymbol:()=>"availableTracks"})()()(vbusCons2({reflectSymbol:()=>"chooserScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"currentTime"})()()(vbusCons2({reflectSymbol:()=>"documentId"})()()(vbusCons2({reflectSymbol:()=>"forkingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"importerScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"initialPrivate"})()()(vbusCons2({reflectSymbol:()=>"initialTitle"})()()(vbusCons2({reflectSymbol:()=>"initialWhitelist"})()()(vbusCons2({reflectSymbol:()=>"loadWave"})()()(vbusCons2({reflectSymbol:()=>"loadingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"markerMoved"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"previewScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusCons2({reflectSymbol:()=>"spamIdsOnSubscription"})()()(vbusCons2({reflectSymbol:()=>"unMute"})()()(vbusCons2({reflectSymbol:()=>"unSolo"})()()(vbusCons2({reflectSymbol:()=>"waveSurfer"})()()(vbusNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()),biSampleOn$2=biSampleOn$4(eventIsEvent),for_$3=for_$9(applicativeEffect),for_1=for_$3(foldableMaybe),folded$1=o=>(u,f)=>{const d={value:[]};return o(u,m=>{const h=d.value,b=d.value=concatArray(m)(h);return f(b)})},traverse_$3=traverse_$7(applicativeEffect)(foldableMaybe),parTraverse$2=(()=>{const o=traversableArray.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),mapAccum$2=mapAccum$d(eventIsEvent),ordTuple=ordTuple$1(ordInt)(ordInt),toUnfoldable1=toUnfoldable(unfoldableArray),for_2=for_$3(foldableArray),traverseWithIndex_=traverseWithIndex_$1(applicativeEffect)(foldableWithIndexArray),min$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},writeForeignArray={writeImpl:o=>arrayMap(writeForeignEvent_.writeImpl)(o)},trackIsSymbol$1={reflectSymbol:()=>"track"},writeJSON=writeJSON$1((()=>{const o=consWriteForeignFields({reflectSymbol:()=>"evs"})(writeForeignArray)(consWriteForeignFields(trackIsSymbol$1)((()=>{const u=consWriteForeignFields({reflectSymbol:()=>"owner"})(writeForeignString)(consWriteForeignFields({reflectSymbol:()=>"private"})(writeForeignBoolean)(consWriteForeignFields({reflectSymbol:()=>"title"})({writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return f._1;fail$3()}})(consWriteForeignFields({reflectSymbol:()=>"url"})(writeForeignString)(consWriteForeignFields({reflectSymbol:()=>"version"})({writeImpl:f=>0})(consWriteForeignFields({reflectSymbol:()=>"whitelist"})(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),fromFoldable$3=(()=>fromFoldableImpl(foldableList.foldr))(),eventsIsSymbol={reflectSymbol:()=>"events"},writeJSON1=writeJSON$1((()=>{const o=consWriteForeignFields(eventsIsSymbol)(writeForeignArray)(consWriteForeignFields(trackIsSymbol$1)(writeForeignTrack)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),vbus=vbus$2()(vbusCons2({reflectSymbol:()=>"changeColumn"})()()(vbusCons2({reflectSymbol:()=>"changeName"})()()(vbusCons2({reflectSymbol:()=>"delete"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusNil)()())()())()())()())()()),intercalate=intercalate1(monoidString),click$4=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),readJSON=readJSON$2(readRecord()(readFieldsCons(eventsIsSymbol)(readArray(readForeignEvent_))(readFieldsCons(trackIsSymbol$1)(readForeignTrack)(readFieldsNil)()())()())),show1=(()=>showNonEmptyList(showForeignError).show)(),parTraverse_=parTraverse_$1(parallelAff)(foldableMaybe),ldc=(()=>distinctColors.length)(),defaultLongPress=o=>u=>f=>d=>$Landmark("LLong",{start:{at:d.marker1Time},end:{at:d.marker2Time},len:{len:d.length},name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultLeap=o=>u=>f=>d=>$Landmark("LLeap",{start:{at:d.marker1Time},end:{at:d.marker2Time},position:d.position,name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultBasic=o=>u=>f=>d=>$Landmark("LBasic",{l1:{at:d.marker1Time},l2:{at:d.marker2Time},l3:{at:d.marker3Time},l4:{at:d.marker4Time},name:d.name,fbId:f,id:o,startIx:u,col:d.column}),dC=o=>{const u=index(distinctColors)(intMod(o)(ldc));if(u.tag==="Nothing")return"#8b6f1f";if(u.tag==="Just")return u._1;fail$3()},aDeleteEvent_=o=>$$delete(ordInt)(o.id),aChangeTitle=o=>u=>$Track({url:u._1.url,private:u._1.private,title:o,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangePrivate=o=>u=>$Track({url:u._1.url,private:o,title:u._1.title,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangeOwner=o=>u=>$Track({url:u._1.url,private:u._1.private,title:u._1.title,owner:o,whitelist:u._1.whitelist,version:u._1.version}),aChangeName=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:o.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:o.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:o.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker4=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:o.time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker3=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:o.time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker2=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:o.time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker1=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:o.time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeColumn=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:o.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:o.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:o.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aAddLongPress=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LongEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,length:o.length,column:o.column,name:o.name,version:$Version(0)}))),aAddLeap=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LeapEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,position:o.position,column:o.column,name:o.name,version:$Version(0)}))),aAddBasic=o=>insert$2(ordInt)(o.id)($Event_($EventV0("BasicEventV0",{marker1Time:o.marker1Time,marker1AudioURL:Nothing,marker2Time:o.marker2Time,marker2AudioURL:Nothing,marker3Time:o.marker3Time,marker3AudioURL:Nothing,marker4Time:o.marker4Time,marker4AudioURL:Nothing,column:o.column,name:o.name,version:$Version(0)}))),editorPage=o=>u=>f=>vbussedUncurried($$Proxy)(d=>$Entity("EventfulElement'",memoBeh(keepLatest((()=>{const m=oneOff(Just)(applyEvent.apply(applyEvent.apply(applyEvent.apply((h,b)=>d._2.initialTitle(h,y=>b(v=>C=>w=>({initialTitle:y,url:v,initialPrivate:C,initialWhitelist:w}))))(d._2.loadWave))(d._2.initialPrivate))(d._2.initialWhitelist));return(h,b)=>m(h,y=>b((v,C)=>{const w={value:$Tuple($Track({title:Nothing,url:y.url,private:y.initialPrivate,version:$Version(0),whitelist:y.initialWhitelist,owner:""}),Leaf)},_=M=>{const S=w.value,I=w.value=(()=>{if(M.tag==="Left")return $Tuple(S._1,M._1(S._2));if(M.tag==="Right")return $Tuple(M._1(S._1),S._2);fail$3()})();return C(I)},g=d._2.atomicEventOperation(v,M=>_($Either("Left",M))),$=applicativeEvent.pure(aChangeTitle($Maybe("Just",y.initialTitle)))(v,M=>_($Either("Right",M))),T=d._2.atomicTrackOperation(v,M=>_($Either("Right",M)));return()=>(g(),$(),T())}))})()))($Tuple($Track({title:Nothing,url:"",private:!1,version:$Version(0),whitelist:[],owner:""}),Leaf))(m=>$Entity("EventfulElement'",rider({event:biSampleOn$2(d._2.markerMoved)((h,b)=>d._2.documentId(h,y=>{const v=Tuple(y);return b(v)})),push:h=>for_1(h._2.id)(b=>{const y=_makeFiber(ffiUtil$1,(()=>h._2.offset===0?updateMarker1TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):h._2.offset===1?updateMarker2TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):h._2.offset===2?updateMarker3TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):updateMarker4TimeAff(u.firestoreDb)(h._1)(b)(h._2.time))());return()=>(y().run(),unit)})})(rider({event:sampleOn(m)(sampleOn(d._2.waveSurfer)(biSampleOn$2(folded$1((h,b)=>u.signedInNonAnonymously(h,y=>b([y]))))((h,b)=>{const y=d._2.documentId(h,C=>b(w=>_=>g=>({did:$Maybe("Just",C),sina:w,ws:_,mrd:g}))),v=applicativeEvent.pure(Nothing)(h,C=>b(w=>_=>g=>({did:C,sina:w,ws:_,mrd:g})));return()=>(y(),v())}))),push:h=>h.did.tag==="Nothing"?h.sina.length===2?h.sina[0]?h.sina[1]?()=>unit:bindE(currentUser(u.fbAuth))(traverse_$3(b=>{const y=_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)(aChangeOwner(b.uid)(h.mrd._1)))(v=>_bind(_liftEffect(d._1.documentId(v.id)))(()=>_bind(parTraverse$2(C=>_bind(addEventAff(u.firestoreDb)(v.id)(C._2))(w=>_pure({ix:C._1,id:w.id})))(toUnfoldable$1(unfoldableArray)(h.mrd._2)))(C=>_liftEffect(associateEventDocumentIdWithSortedMarkerIdList(h.ws)(C))))));return()=>(y().run(),unit)})):()=>unit:()=>unit:()=>unit})(rider({event:sampleOn(d._2.waveSurfer)((()=>{const h=mapAccum$2(b=>{if(b.tag==="Solo")return y=>{const v=insert$2(ordTuple)(b._1)(unit)(y);return $Tuple(v,$Either("Left",v))};if(b.tag==="UnSolo")return y=>{const v=$$delete(ordTuple)(b._1)(y);return $Tuple(v,$Either("Left",v))};if(b.tag==="Mute")return y=>$Tuple(y,$Either("Right",$Either("Right",b._1)));if(b.tag==="UnMute")return y=>$Tuple(y,$Either("Right",$Either("Left",b._1)));fail$3()})((b,y)=>{const v=d._2.solo(b,g=>y($SoMu("Solo",g))),C=d._2.mute(b,g=>y($SoMu("Mute",g))),w=d._2.unSolo(b,g=>y($SoMu("UnSolo",g))),_=d._2.unMute(b,g=>y($SoMu("UnMute",g)));return()=>(v(),C(),w(),_())})(Leaf);return(b,y)=>h(b,v=>{const C=Tuple(v);return y(C)})})()),push:h=>{if(h._1.tag==="Left")return muteExcept(h._2)(arrayMap(b=>[b._1,b._1+b._2|0])(toUnfoldable1(h._1._1)));if(h._1.tag==="Right"){if(h._1._1.tag==="Right")return for_2(range(h._1._1._1._1)((h._1._1._1._1+h._1._1._1._2|0)-1|0))(b=>hideMarker(h._2)(b));if(h._1._1.tag==="Left")return for_2(range(h._1._1._1._1)((h._1._1._1._1+h._1._1._1._2|0)-1|0))(b=>showMarker(h._2)(b));fail$3()}fail$3()}})(memoBeh((h,b)=>d._2.documentId(h,y=>b($Maybe("Just",y))))(Nothing)(h=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)(d._2.spamIdsOnSubscription)(b=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)((y,v)=>d._2.markerMoved(y,C=>v({address:C.ix,payload:C})))(y=>$Entity("EventfulElement'",memoBeh(d._2.currentTime)(()=>0)(v=>$Entity("EventfulElement'",backdoor.memoize(oneOf$7([(C,w)=>d._2.addBasic(C,_=>w($CAction("CBasic",_))),(C,w)=>d._2.addLeap(C,_=>w($CAction("CLeap",_))),(C,w)=>d._2.addLongPress(C,_=>w($CAction("CLongPress",_)))]))(C=>{const w=(g,$,T)=>{const M=sortBy(S=>I=>ordNumber.compare((()=>{if(S.data._1.tag==="BasicEventV0"||S.data._1.tag==="LeapEventV0"||S.data._1.tag==="LongEventV0")return S.data._1._1.marker1Time;fail$3()})())((()=>{if(I.data._1.tag==="BasicEventV0"||I.data._1.tag==="LeapEventV0"||I.data._1.tag==="LongEventV0")return I.data._1._1.marker1Time;fail$3()})()))(T);return _bind(forkAff(eventToAff(d._2.waveSurfer)))(S=>_bind(_liftEffect((()=>{const I=d._1.loadWave($._1.url);return()=>(I(),for_1($._1.title)(d._1.initialTitle)(),d._1.initialPrivate($._1.private)(),d._1.initialWhitelist($._1.whitelist)(),d._1.atomicTrackOperation(B=>$)())})()))(()=>_bind(joinFiber(S))(I=>_liftEffect((()=>{const B=d._1.documentId(g);return()=>(B(),traverseWithIndex_(x=>F=>()=>{if(d._1.atomicEventOperation(insert$2(ordInt)(x)(F.data))(),F.data._1.tag==="BasicEventV0"){d._1.addBasic($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"B1",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"B2",time:F.data._1._1.marker2Time})(),z=addMarker(I)(x)(2)({color:dC(x),label:"B3",time:F.data._1._1.marker3Time})(),J=addMarker(I)(x)(3)({color:dC(x),label:"B4",time:F.data._1._1.marker4Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)(),associateEventDocumentIdWithMarker(z)(F.id)(),associateEventDocumentIdWithMarker(J)(F.id)()}if(F.data._1.tag==="LeapEventV0"){d._1.addLeap($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"LSt",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"LEd",time:F.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)()}if(F.data._1.tag==="LongEventV0"){d._1.addLongPress($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"LSt",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"LEd",time:F.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)()}fail$3()})(M)())})()))))},_=(g,$)=>{const T=applicativeEvent.pure($Tuple(0,0))(g,$),M={value:$Tuple(0,0)},S=C(g,I=>{const B=M.value,x=M.value=$Tuple(B._1+1|0,(()=>{if(I.tag==="CBasic")return B._2+4|0;if(I.tag==="CLeap"||I.tag==="CLongPress")return B._2+2|0;fail$3()})());return $(x)});return()=>(T(),S())};return $Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute w-screen h-screen bg-zinc-900 overflow-hidden")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$7([(g,$)=>{const T=I=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden hidden":"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden")())};return $(B)},M=d._2.previewScreenVisible(g,T),S=applicativeEvent.pure(Nothing)(g,T);return()=>(M(),S())}]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","flex flex-row justify-between")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",g=>()=>(u.goBack(),!0))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("<"))]))),$Entity("Element'",elementify("h2")(oneOf$7([applicativeEvent.pure({key:"contenteditable",value:$AttributeValue("Prop'","true")}),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-2xl text-slate-200 p-2")}),(g,$)=>h(g,T=>{const M={key:"input",value:$AttributeValue("Cb'",S=>{const I=for_1((()=>{const B=nullable(_target(S),Nothing,Just);if(B.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"Node",B._1);if(B.tag==="Nothing")return Nothing;fail$3()})())(B=>{const x=_firstChild(B);return()=>{const F=x();return for_1(nullable(F,Nothing,Just))(R=>()=>{const L=textContent(R)();return log("New title: "+L)(),d._1.atomicTrackOperation(aChangeTitle((()=>L===""?Nothing:$Maybe("Just",L))()))(),for_1(T)(z=>()=>(_makeFiber(ffiUtil$1,updateTrackTitleAff(u.firestoreDb)(z)(L))().run(),unit))()})()}});return()=>(I(),!0)})};return $(M)})]))($Entity("FixedChildren'",[text(d._2.initialTitle)]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("a")(oneOf$7([(g,$)=>{const T=I=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?buttonCls+" mx-2 pointer-events-auto":buttonCls+" mx-2 pointer-events-auto hidden")())};return $(B)},M=applicativeEvent.pure(Nothing)(g,T),S=m(g,I=>T($Maybe("Just",I)));return()=>(M(),S())},(g,$)=>m(g,T=>{const M={key:"href",value:$AttributeValue("Prop'",(()=>{const S=_encodeURIComponent(I=>Nothing,Just,writeJSON1({track:T._1,events:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(T._2))}));if(S.tag==="Nothing")return"data:text/plain;charset=utf-8,";if(S.tag==="Just")return"data:text/plain;charset=utf-8,"+S._1;fail$3()})())};return $(M)}),(g,$)=>{const T=B=>{const x={key:"download",value:$AttributeValue("Prop'",(()=>{if(B.tag==="Just")return B._1+".json";if(B.tag==="Nothing")return"export.json";fail$3()})())};return $(x)},M=applicativeEvent.pure(Nothing)(g,T),S=d._2.initialTitle(g,B=>T($Maybe("Just",B))),I=m(g,B=>T(B._1._1.title));return()=>(M(),S(),I())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Export"))]))),$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Private?"))]))),$Entity("Element'",elementify("input")(oneOf$7([applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","checkbox")}),(g,$)=>oneOff(Just)(m)(g,T=>{const M={key:"checked",value:$AttributeValue("Prop'",(()=>T._1._1.private?"true":"false")())};return $(M)}),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600")}),(()=>{const g=biSampleOn$2(h)(($,T)=>m($,M=>{const S=Tuple(M);return T(S)}));return($,T)=>g($,M=>{const S=!M._1._1._1.private,I=d._1.atomicTrackOperation(aChangePrivate(S)),B={key:"click",value:$AttributeValue("Cb'",x=>()=>(I(),for_1(M._2)(F=>()=>(_makeFiber(ffiUtil$1,updateTrackPrivateAff(u.firestoreDb)(F)(S))().run(),unit))(),!0))};return T(B)})})()]))($Entity("FixedChildren'",[text(applicativeEvent.pure("<"))])))])))]))),$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","bg-zinc-600")}),(g,$)=>d._2.loadWave(g,T=>{const M={key:"@self@",value:$AttributeValue("Cb'",S=>{const I=makeWavesurfer(Nothing)(Just)(B=>x=>F=>R=>L=>{const z=d._1.markerMoved({ix:B,offset:x,inArray:F,time:L,id:R});return()=>(z(),d._1.atomicEventOperation((()=>x===0?aChangeMarker1({id:B,time:L}):x===1?aChangeMarker2({id:B,time:L}):x===2?aChangeMarker3({id:B,time:L}):aChangeMarker4({id:B,time:L}))())())})(d._1.importerScreenVisible(!1))(S)(T);return()=>{const B=I();return d._1.waveSurfer(B)(),d._1.currentTime(getCurrentTime(B))(),styleAudio(),d._1.loadingScreenVisible(!1)()}})};return $(M)})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","timeline")}),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Zoom"))]))),$Entity("Element'",elementify("input")(oneOf$7([applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","1000")}),slider((g,$)=>d._2.waveSurfer(g,T=>{const M=zoom(T);return $(M)}))]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","flex flex-row justify-around")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([(()=>{const g=biSampleOn$2(($,T)=>{const M=d._2.documentId($,I=>T($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)($,T);return()=>(M(),S())})(biSampleOn$2(_)(($,T)=>d._2.waveSurfer($,M=>T(S=>I=>({ws:M,ixs:S,did:I})))));return($,T)=>g($,M=>{const S=getCurrentTime(M.ws),I={key:"click",value:$AttributeValue("Cb'",B=>()=>{const x=S(),F=getDuration(M.ws)();return(()=>{const R=min$2(F)(0+x),L=min$2(F)(.5+x),z=min$2(F)(1+x),J=min$2(F)(1.5+x),K=ee=>d._1.addBasic($Tuple(ee,{marker1Time:R,marker1AudioURL:Nothing,marker2Time:L,marker2AudioURL:Nothing,marker3Time:z,marker3AudioURL:Nothing,marker4Time:J,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}));return()=>{const ee=addMarker(M.ws)(M.ixs._1)(0)({color:dC(M.ixs._1),label:"B1",time:R})(),q=addMarker(M.ws)(M.ixs._1)(1)({color:dC(M.ixs._1),label:"B2",time:L})(),G=addMarker(M.ws)(M.ixs._1)(2)({color:dC(M.ixs._1),label:"B3",time:z})(),Z=addMarker(M.ws)(M.ixs._1)(3)({color:dC(M.ixs._1),label:"B4",time:J})();d._1.atomicEventOperation(aAddBasic({id:M.ixs._1,name:Nothing,column:C9,marker1Time:R,marker2Time:L,marker3Time:z,marker4Time:J}))();const ie=K(Nothing);if(M.did.tag==="Nothing")return ie();if(M.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(M.did._1)($Event_($EventV0("BasicEventV0",{marker1Time:R,marker1AudioURL:Nothing,marker2Time:L,marker2AudioURL:Nothing,marker3Time:z,marker3AudioURL:Nothing,marker4Time:J,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}))))(H=>_liftEffect((()=>{const ne=associateEventDocumentIdWithMarker(ee)(H.id),re=associateEventDocumentIdWithMarker(q)(H.id),X=associateEventDocumentIdWithMarker(G)(H.id),ue=associateEventDocumentIdWithMarker(Z)(H.id),le=K($Maybe("Just",H.id));return()=>(ne(),re(),X(),ue(),le())})())))().run(),unit;fail$3()}})()(),!0})};return T(I)})})(),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Tile"))]))),$Entity("Element'",elementify("button")(oneOf$7([(()=>{const g=biSampleOn$2(($,T)=>{const M=d._2.documentId($,I=>T($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)($,T);return()=>(M(),S())})(biSampleOn$2(_)(($,T)=>d._2.waveSurfer($,M=>T(S=>I=>({ws:M,ixs:S,did:I})))));return($,T)=>g($,M=>{const S=getCurrentTime(M.ws),I={key:"click",value:$AttributeValue("Cb'",B=>()=>{const x=S(),F=getDuration(M.ws)();return(()=>{const R=min$2(F)(.5+x),L=min$2(F)(0+x),z=(J,K)=>d._1.addLeap($Tuple(K,{marker1Time:L,audioURL:Nothing,marker2Time:R,column:C9,position:J,name:Nothing,version:$Version(0)}));return()=>{const J=addMarker(M.ws)(M.ixs._1)(0)({color:dC(M.ixs._1),label:"LSt",time:L})(),K=addMarker(M.ws)(M.ixs._1)(1)({color:dC(M.ixs._1),label:"LEd",time:R})(),ee=randomInt(0)(3)(),q=(()=>ee===0?Position1:ee===1?Position2:ee===2?Position3:Position4)();d._1.atomicEventOperation(aAddLeap({id:M.ixs._1,name:Nothing,column:C9,position:q,marker1Time:L,marker2Time:R}))();const G=z(q,Nothing);if(M.did.tag==="Nothing")return G();if(M.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(M.did._1)($Event_($EventV0("LeapEventV0",{marker1Time:L,audioURL:Nothing,marker2Time:R,position:q,name:Nothing,column:C9,version:$Version(0)}))))(ie=>_liftEffect((()=>{const Q=associateEventDocumentIdWithMarker(J)(ie.id),H=associateEventDocumentIdWithMarker(K)(ie.id),ne=z(q,$Maybe("Just",ie.id));return()=>(Q(),H(),ne())})())))().run(),unit;fail$3()}})()(),!0})};return T(I)})})(),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Leap"))]))),$Entity("Element'",elementify("button")(oneOf$7([(()=>{const g=biSampleOn$2(($,T)=>{const M=d._2.documentId($,I=>T($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)($,T);return()=>(M(),S())})(biSampleOn$2(_)(($,T)=>d._2.waveSurfer($,M=>T(S=>I=>({ws:M,ixs:S,did:I})))));return($,T)=>g($,M=>{const S=getCurrentTime(M.ws),I={key:"click",value:$AttributeValue("Cb'",B=>()=>{const x=S(),F=getDuration(M.ws)();return(()=>{const R=min$2(F)(.5+x),L=min$2(F)(0+x),z=J=>d._1.addLongPress($Tuple(J,{marker1Time:L,audioURL:Nothing,marker2Time:R,length:1,column:C9,name:Nothing,version:$Version(0)}));return()=>{const J=addMarker(M.ws)(M.ixs._1)(0)({color:dC(M.ixs._1),label:"P1",time:L})(),K=addMarker(M.ws)(M.ixs._1)(1)({color:dC(M.ixs._1),label:"P2",time:R})();d._1.atomicEventOperation(aAddLongPress({id:M.ixs._1,name:Nothing,column:C9,marker1Time:L,marker2Time:R,length:1}))();const ee=z(Nothing);if(M.did.tag==="Nothing")return ee();if(M.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(M.did._1)($Event_($EventV0("LongEventV0",{marker1Time:L,audioURL:Nothing,marker2Time:R,length:1,name:Nothing,column:C9,version:$Version(0)}))))(G=>_liftEffect((()=>{const Z=associateEventDocumentIdWithMarker(J)(G.id),ie=associateEventDocumentIdWithMarker(K)(G.id),Q=z($Maybe("Just",G.id));return()=>(Z(),ie(),Q())})())))().run(),unit;fail$3()}})()(),!0})};return T(I)})})(),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Long Press"))]))),$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),(g,$)=>m(g,T=>{const M=log("starting from most recent data: "+writeJSON({track:T._1._1,evs:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(T._2))})),S={key:"click",value:$AttributeValue("Cb'",I=>()=>{M(),d._1.loadingScreenVisible(!0)();const B=context_();return _makeFiber(ffiUtil$1,_bind(decodeAudioDataFromUri(B)(T._1._1.url))(F=>_liftEffect(()=>{const R=o.soundObj.value;return o.soundObj.value=mutate(poke(T._1._1.url)(F))(R),d._1.previewScreenVisible($Maybe("Just",f))(),d._1.loadingScreenVisible(!1)()})))().run(),!0})};return $(S)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Preview"))]))),$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const g=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),!0))}})()),(g,$)=>u.signedInNonAnonymously(g,T=>{const M={key:"class",value:$AttributeValue("Prop'",(()=>T?buttonCls+" hidden":buttonCls+"")())};return $(M)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Save (sign in)"))])))]))),$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","overflow-scroll")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","accordion")}),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","accordionExample")})]))($Entity("FixedChildren'",[(()=>{const g=sampleOn(($,T)=>{const M={value:$Tuple(!0,7)};return applicativeEvent.pure(unit)($,S=>{const I=M.value,B=M.value=(()=>I._1&&I._2>=10?$Tuple(!1,9):!I._1&&I._2<=4?$Tuple(!0,5):$Tuple(I._1,(()=>I._1?I._2+1|0:I._2-1|0)()))();return T(B._2)})})(sampleOn(d._2.waveSurfer)((()=>{const $=mapAccum$2(T=>M=>{if(T.tag==="CBasic")return $Tuple({id:M.id+1|0,startIx:M.startIx+4|0},defaultBasic(M.id)(M.startIx)(T._1._1)(T._1._2));if(T.tag==="CLeap")return $Tuple({id:M.id+1|0,startIx:M.startIx+2|0},defaultLeap(M.id)(M.startIx)(T._1._1)(T._1._2));if(T.tag==="CLongPress")return $Tuple({id:M.id+1|0,startIx:M.startIx+2|0},defaultLongPress(M.id)(M.startIx)(T._1._1)(T._1._2));fail$3()})(C)({id:0,startIx:0});return(T,M)=>$(T,S=>M(I=>B=>({itm:S,ws:I,nac:B})))})()));return $Entity("DynamicChildren'",($,T)=>g($,M=>{const S=keepLatest(vbus($$Proxy)(I=>B=>{const x=(()=>{if(M.itm.tag==="LBasic")return $Tuple((()=>{const L="Tile "+showIntImpl(M.itm._1.id);if(M.itm._1.name.tag==="Nothing")return L;if(M.itm._1.name.tag==="Just")return M.itm._1.name._1;fail$3()})(),"\u2665");if(M.itm.tag==="LLeap")return $Tuple((()=>{const L="Leap "+showIntImpl(M.itm._1.id);if(M.itm._1.name.tag==="Nothing")return L;if(M.itm._1.name.tag==="Just")return M.itm._1.name._1;fail$3()})(),"\u2660");if(M.itm.tag==="LLong")return $Tuple((()=>{const L="Long "+showIntImpl(M.itm._1.id);if(M.itm._1.name.tag==="Nothing")return L;if(M.itm._1.name.tag==="Just")return M.itm._1.name._1;fail$3()})(),"\u2666");fail$3()})(),F=(()=>{if(M.itm.tag==="LBasic")return $Tuple(M.itm._1.id,$Tuple(M.itm._1.name,$Tuple(M.itm._1.col,$Tuple(M.itm._1.startIx,$Tuple(M.itm._1.fbId,$Tuple(4,[M.itm._1.l1.at,M.itm._1.l2.at,M.itm._1.l3.at,M.itm._1.l4.at]))))));if(M.itm.tag==="LLeap")return $Tuple(M.itm._1.id,$Tuple(M.itm._1.name,$Tuple(M.itm._1.col,$Tuple(M.itm._1.startIx,$Tuple(M.itm._1.fbId,$Tuple(2,[M.itm._1.start.at,M.itm._1.end.at]))))));if(M.itm.tag==="LLong")return $Tuple(M.itm._1.id,$Tuple(M.itm._1.name,$Tuple(M.itm._1.col,$Tuple(M.itm._1.startIx,$Tuple(M.itm._1.fbId,$Tuple(2,[M.itm._1.start.at,M.itm._1.end.at]))))));fail$3()})(),R=applicativeEvent.pure($Child("Insert",$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","accordion-item bg-zinc-900 border border-white")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","accordion-header bg-zinc-900 mb-0")}),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","heading"+showIntImpl(F._1))})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",`accordion-button-ms accordion-button
      relative
      flex
      items-center
      w-full
      py-4
      px-5
      text-base text-white text-left
      bg-zinc-900
      border-0
      rounded-none
      transition
      focus:outline-none`)}),applicativeEvent.pure({key:"data-bs-toggle",value:$AttributeValue("Prop'","collapse")}),applicativeEvent.pure({key:"data-bs-target",value:$AttributeValue("Prop'","#collapse"+showIntImpl(F._1))})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mr-2")}),applicativeEvent.pure({key:"style",value:$AttributeValue("Prop'","color: "+(dC(F._1)+";"))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure(x._2))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text((L,z)=>{const J=B.changeName(L,ee=>{const q=(()=>{if(ee.tag==="Just")return ee._1;if(ee.tag==="Nothing")return x._1;fail$3()})();return z(q)}),K=applicativeEvent.pure(x._1)(L,z);return()=>(J(),K())}),text(applicativeEvent.pure(" (Column ")),text((L,z)=>{const J=q=>{const G=_unsafeStringify((()=>{if(q.tag==="C1")return 1;if(q.tag==="C2")return 2;if(q.tag==="C3")return 3;if(q.tag==="C4")return 4;if(q.tag==="C5")return 5;if(q.tag==="C6")return 6;if(q.tag==="C7")return 7;if(q.tag==="C8")return 8;if(q.tag==="C9")return 9;if(q.tag==="C10")return 10;if(q.tag==="C11")return 11;if(q.tag==="C12")return 12;if(q.tag==="C13")return 13;if(q.tag==="C14")return 14;if(q.tag==="C15")return 15;if(q.tag==="C16")return 16;if(q.tag==="C17")return 17;fail$3()})());return z(G)},K=B.changeColumn(L,J),ee=applicativeEvent.pure(F._2._2._1)(L,J);return()=>(K(),ee())}),text(applicativeEvent.pure(") ")),text((()=>{const L=y(F._1);return(z,J)=>{const K=Z=>{const ie=" ("+(intercalate(",")(arrayMap(toStringWith($Format("Fixed",clamp$2(0)(20)(2))))(Z))+")");return J(ie)},ee=applicativeEvent.pure(F._2._2._2._2._2._2)(z,K),q={value:F._2._2._2._2._2._2},G=L(z,Z=>{const ie=q.value,Q=q.value=indexArray.ix(Z.offset)(strongFn)(choiceFn)(H=>Z.time)(ie);return K(Q)});return()=>(ee(),G())}})())]))),$Entity("Element'",elementify("span")(oneOf$7([(L,z)=>{const J={value:!1},K=B.solo(L,q=>{const G=J.value,Z=J.value=!G;return z({key:"class",value:$AttributeValue("Prop'",(()=>Z?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())})}),ee=applicativeEvent.pure(!1)(L,q=>z({key:"class",value:$AttributeValue("Prop'",(()=>q?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())}));return()=>(K(),ee())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("S"))]))),$Entity("Element'",elementify("span")(oneOf$7([(L,z)=>{const J={value:!1},K=B.mute(L,q=>{const G=J.value,Z=J.value=!G;return z({key:"class",value:$AttributeValue("Prop'",(()=>Z?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())})}),ee=applicativeEvent.pure(!1)(L,q=>z({key:"class",value:$AttributeValue("Prop'",(()=>q?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())}));return()=>(K(),ee())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("M"))])))])))]))),$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","collapse"+showIntImpl(F._1))}),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",(()=>F._1===0?"accordion-collapse collapse show":"accordion-collapse collapse")())}),applicativeEvent.pure({key:"data-bs-parent",value:$AttributeValue("Prop'","#accordionExample")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","accordion-body bg-zinc-900 py-4 px-5")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","inline-block")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white ml-2")})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Name"))]))),$Entity("Element'",elementify("input")(oneOf$7(concatArray([(()=>{const L=biSampleOn$2((()=>{const z=b(F._1);return(J,K)=>{const ee=z(J,G=>K($Maybe("Just",G))),q=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),q())}})())((z,J)=>h(z,K=>{const ee=Tuple(K);return J(ee)}));return(z,J)=>L(z,K=>{const ee={key:"input",value:$AttributeValue("Cb'",q=>{const G=for_1((()=>{const Z=nullable(_target(q),Nothing,Just);if(Z.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",Z._1);if(Z.tag==="Nothing")return Nothing;fail$3()})())(Z=>{const ie=value(Z);return()=>{const Q=ie(),H=(()=>Q===""?Nothing:$Maybe("Just",Q))();return I.changeName(H)(),d._1.atomicEventOperation(aChangeName({id:F._1,name:H}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateEventNameAff(u.firestoreDb)(ne._1)(ne._2)(Q))().run(),unit))()}});return()=>(G(),!0)})};return J(ee)})})(),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","bg-inherit text-white mx-2 appearance-none border rounded py-2 px-2 leading-tight focus:outline-none focus:shadow-outline")}),applicativeEvent.pure({key:"placeholder",value:$AttributeValue("Prop'",x._1)})])((()=>{if(F._2._1.tag==="Nothing")return[];if(F._2._1.tag==="Just")return[applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",F._2._1._1)})];fail$3()})())))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("span")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","inline-block")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Column"))]))),$Entity("Element'",elementify("input")(oneOf$7([(()=>{const L=biSampleOn$2((()=>{const z=b(F._1);return(J,K)=>{const ee=z(J,G=>K($Maybe("Just",G))),q=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),q())}})())((z,J)=>h(z,K=>{const ee=Tuple(K);return J(ee)}));return(z,J)=>L(z,K=>{const ee={key:"input",value:$AttributeValue("Cb'",q=>{const G=for_1((()=>{const Z=nullable(_target(q),Nothing,Just);if(Z.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",Z._1);if(Z.tag==="Nothing")return Nothing;fail$3()})())(Z=>{const ie=valueAsNumber(Z);return()=>{const Q=ie(),H=intToColumn(unsafeClamp(floor(Q)));if(H.tag==="Left")return I.changeColumn(C9)(),d._1.atomicEventOperation(aChangeColumn({id:F._1,column:C9}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(ne._1)(ne._2)(C9))().run(),unit))();if(H.tag==="Right")return I.changeColumn(H._1)(),d._1.atomicEventOperation(aChangeColumn({id:F._1,column:H._1}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(ne._1)(ne._2)(H._1))().run(),unit))();fail$3()}});return()=>(G(),!0)})};return J(ee)})})(),applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","number")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",_unsafeStringify((()=>{if(F._2._2._1.tag==="C1")return 1;if(F._2._2._1.tag==="C2")return 2;if(F._2._2._1.tag==="C3")return 3;if(F._2._2._1.tag==="C4")return 4;if(F._2._2._1.tag==="C5")return 5;if(F._2._2._1.tag==="C6")return 6;if(F._2._2._1.tag==="C7")return 7;if(F._2._2._1.tag==="C8")return 8;if(F._2._2._1.tag==="C9")return 9;if(F._2._2._1.tag==="C10")return 10;if(F._2._2._1.tag==="C11")return 11;if(F._2._2._1.tag==="C12")return 12;if(F._2._2._1.tag==="C13")return 13;if(F._2._2._1.tag==="C14")return 14;if(F._2._2._1.tag==="C15")return 15;if(F._2._2._1.tag==="C16")return 16;if(F._2._2._1.tag==="C17")return 17;fail$3()})()))}),applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","1")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","17")}),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","bg-inherit text-white mx-2 appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline")})]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("span")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","inline-block")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([(L,z)=>{const J={value:!1},K=B.solo(L,q=>{const G=J.value,Z=J.value=!G;return z({key:"class",value:$AttributeValue("Prop'",(()=>Z?buttonActiveCls+" mr-2":buttonCls+" mr-2")())})}),ee=applicativeEvent.pure(!1)(L,q=>z({key:"class",value:$AttributeValue("Prop'",(()=>q?buttonActiveCls+" mr-2":buttonCls+" mr-2")())}));return()=>(K(),ee())},click$4((L,z)=>{const J=G=>{const Z=(()=>G?d._1.unSolo($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)):d._1.solo($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)))();return z(()=>(Z(),I.solo(unit)()))},K={value:!1},ee=B.solo(L,G=>{const Z=K.value,ie=K.value=!Z;return J(ie)}),q=applicativeEvent.pure(!1)(L,J);return()=>(ee(),q())})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$7([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Solo"))])))]))),$Entity("Element'",elementify("button")(oneOf$7([(L,z)=>{const J={value:!1},K=B.mute(L,q=>{const G=J.value,Z=J.value=!G;return z({key:"class",value:$AttributeValue("Prop'",(()=>Z?buttonActiveCls+" mr-2":buttonCls+" mr-2")())})}),ee=applicativeEvent.pure(!1)(L,q=>z({key:"class",value:$AttributeValue("Prop'",(()=>q?buttonActiveCls+" mr-2":buttonCls+" mr-2")())}));return()=>(K(),ee())},click$4((L,z)=>{const J=G=>{const Z=(()=>G?d._1.unMute($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)):d._1.mute($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)))();return z(()=>(Z(),I.mute(unit)()))},K={value:!1},ee=B.mute(L,G=>{const Z=K.value,ie=K.value=!Z;return J(ie)}),q=applicativeEvent.pure(!1)(L,J);return()=>(ee(),q())})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$7([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Mute"))])))]))),$Entity("Element'",elementify("button")(oneOf$7([(()=>{const L=biSampleOn$2((()=>{const z=b(F._1);return(J,K)=>{const ee=z(J,G=>K($Maybe("Just",G))),q=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),q())}})())((z,J)=>h(z,K=>{const ee=Tuple(K);return J(ee)}));return(z,J)=>L(z,K=>{const ee={key:"click",value:$AttributeValue("Cb'",q=>{const G=for_2(range(F._2._2._2._1)((F._2._2._2._1+F._2._2._2._2._2._1|0)-1|0))(Z=>removeMarker(M.ws)(F._2._2._2._1));return()=>(G(),I.delete(unit)(),d._1.atomicEventOperation(aDeleteEvent_({id:F._1}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(Z=>()=>(_makeFiber(ffiUtil$1,deleteEventAff(u.firestoreDb)(Z._1)(Z._2))().run(),unit))(),!0)})};return J(ee)})})(),applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mr-2")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$7([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Delete"))])))])))])))])))])))])))));return(L,z)=>{const J=R(L,z),K=B.delete(L,ee=>z(Remove));return()=>(J(),K())}}));return T(S)}))})()])))])))]))),$Entity("Element'",elementify("div")((g,$)=>{const T=d._2.importerScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return $(I)}),M=applicativeEvent.pure(!0)(g,S=>$({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(T(),M())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center p-4 text-2xl text-slate-200")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Joyride editor"))])))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center text-white p-4")}))($Entity("FixedChildren'",[text((g,$)=>u.signedInNonAnonymously(g,T=>{const M=(()=>T?"Get started by importing an audio file or project.":"Get started by importing an audio file.")();return $(M)}))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","flex w-full justify-center items-center")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([(g,$)=>u.signedInNonAnonymously(g,T=>{const M={key:"class",value:$AttributeValue("Prop'",(()=>T?buttonCls+" mx-2 pointer-events-auto":buttonCls+" mx-2 pointer-events-auto hidden")())};return $(M)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(M=>_bind(_liftEffect(d._1.availableTracks(M)))(()=>_liftEffect((()=>{const S=d._1.forkingScreenVisible(!0);return()=>(S(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Fork project"))]))),$Entity("Element'",elementify("button")(oneOf$7([(g,$)=>u.signedInNonAnonymously(g,T=>{const M={key:"class",value:$AttributeValue("Prop'",(()=>T?buttonCls+" mx-2 pointer-events-auto":buttonCls+" mx-2 pointer-events-auto hidden")())};return $(M)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),_makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(fileList))(toAff$p(coerce)))(M=>{const S=_liftEffect((()=>{const B=bindE(windowImpl)(alert("No valid files found"));return()=>(B(),d._1.loadingScreenVisible(!1)())})()),I=nullable(_item(0)(M),Nothing,Just);if(I.tag==="Nothing")return S;if(I.tag==="Just")return _bind(makeAff(B=>()=>{const x=fileReader(),F=eventListener(L=>{const z=result(x);return()=>{const J=z();return B($Either("Right",J))()}})(),R=eventListener(L=>B($Either("Left",error$1("Could not read the file"))))();return addEventListener("load")(F)(!0)(x)(),addEventListener("error")(R)(!0)(x)(),readAsText(I._1)(x)(),nonCanceler}))(B=>{const x=bindEither.bind(readString.readImpl(B))(readJSON);if(x.tag==="Left")return _liftEffect((()=>{const F=bindE(windowImpl)(alert("Parse error: "+show1(x._1)));return()=>(F(),d._1.loadingScreenVisible(!1)())})());if(x.tag==="Right")return _bind(_liftEffect(currentUser(u.fbAuth)))(F=>_bind(addTrackAff(u.firestoreDb)((()=>{if(F.tag==="Nothing")return x._1.track;if(F.tag==="Just")return aChangeOwner(F._1.uid)(x._1.track);fail$3()})()))(R=>_bind(getTrackAff(u.firestoreDb)(R.id))(L=>_bind(parTraverse_(z=>_bind(_map(compactableArray.compact)(parTraverse$2(J=>_bind(addEventAff(u.firestoreDb)(R.id)(J))(K=>_bind(getEventAff(u.firestoreDb)(R.id)(K.id))(ee=>_pure((()=>ee.tag==="Just"?$Maybe("Just",{id:K.id,data:ee._1}):Nothing)()))))(x._1.events)))(J=>w(R.id,z,J)))(L))(()=>_liftEffect((()=>{const z=d._1.chooserScreenVisible(!1);return()=>(z(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})())))));fail$3()});fail$3()}))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Import project"))]))),$Entity("Element'",elementify("button")(oneOf$7([(g,$)=>u.signedInNonAnonymously(g,T=>{const M={key:"class",value:$AttributeValue("Prop'",(()=>T?buttonCls+" mx-2 pointer-events-auto":buttonCls+" mx-2 pointer-events-auto hidden")())};return $(M)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(M=>_bind(_liftEffect(d._1.availableTracks(M)))(()=>_liftEffect((()=>{const S=d._1.chooserScreenVisible(!0);return()=>(S(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Open project"))]))),$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",g=>()=>{const $=init();return picker(T=>()=>unit)(T=>M=>()=>unit)(T=>M=>()=>unit)(T=>()=>{log("Uploaded to: "+T.url)(),d._1.loadingScreenVisible(!0)();const M=randomName(),S=d._1.initialTitle(M),I=()=>(S(),d._1.loadWave(T.url)(),d._1.initialPrivate(!1)()),B=currentUser(u.fbAuth)();return B.tag==="Just"?B._1.isAnonymous?I():(_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)($Track({url:T.url,title:$Maybe("Just",M),owner:B._1.uid,private:!1,version:$Version(0),whitelist:[]})))(F=>_liftEffect((()=>{const R=d._1.documentId(F.id);return()=>(R(),I())})())))().run(),unit):I()})($)(),!0})})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Import file"))])))])))])))]))),$Entity("Element'",elementify("div")((g,$)=>{const T=d._2.chooserScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return $(I)}),M=applicativeEvent.pure(!1)(g,S=>$({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(T(),M())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","select-auto row-start-1 row-end-2 col-start-1 col-end-2")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const g=d._1.chooserScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("< Back"))])))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center p-4 text-2xl text-slate-200")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Choose a project"))]))),switcher(g=>$Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",arrayMap($=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const T=d._1.loadingScreenVisible(!0),M=_makeFiber(ffiUtil$1,_bind(getEventsAff(u.firestoreDb)($.id))(S=>_bind(w($.id,$.data,S))(()=>_liftEffect((()=>{const I=d._1.chooserScreenVisible(!1);return()=>(I(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})()))));return{key:"click",value:$AttributeValue("Cb'",S=>()=>(T(),M().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if($.data._1.title.tag==="Nothing")return"Untitled Track";if($.data._1.title.tag==="Just")return $.data._1.title._1;fail$3()})()))])))]))))(g)))))(d._2.availableTracks)])))]))),$Entity("Element'",elementify("div")((g,$)=>{const T=d._2.forkingScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return $(I)}),M=applicativeEvent.pure(!1)(g,S=>$({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(T(),M())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","select-auto row-start-1 row-end-2 col-start-1 col-end-2")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const g=d._1.forkingScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",$=>()=>(g(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("< Back"))])))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center p-4 text-2xl text-slate-200")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Fork a project"))]))),switcher(g=>$Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",arrayMap($=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),applicativeEvent.pure((()=>{const T=d._1.loadingScreenVisible(!0),M=_makeFiber(ffiUtil$1,_bind(forkTrackAff(u.fbAuth)(u.firestoreDb)($.id))(()=>_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(S=>_bind(_liftEffect(d._1.availableTracks(S)))(()=>_liftEffect((()=>{const I=d._1.forkingScreenVisible(!1);return()=>(I(),d._1.loadingScreenVisible(!1)())})())))));return{key:"click",value:$AttributeValue("Cb'",S=>()=>(T(),M().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if($.data._1.title.tag==="Nothing")return"Untitled Track";if($.data._1.title.tag==="Just")return $.data._1.title._1;fail$3()})()))])))]))))(g)))))(d._2.availableTracks)])))]))),$Entity("Element'",elementify("div")((g,$)=>{const T=I=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return $(B)},M=d._2.previewScreenVisible(g,T),S=applicativeEvent.pure(Nothing)(g,T);return()=>(M(),S())})($Entity("FixedChildren'",[switcher(g=>{const $=toAugmentedEvents(fromFoldable$3(foldableMap.foldr(Cons)(Nil)(g.mrd._2)));if(g.psv.tag==="Nothing")return $Entity("EventfulElement'",plusEvent.empty);if(g.psv.tag==="Just")return tutorial$1({loaded:o.loaded,isMobile:o.isMobile,lpsCallback:o.lpsCallback,resizeE:o.resizeE,renderingInfo:o.renderingInfo,goHome:(()=>{const T=d._1.loadingScreenVisible(!0);return()=>(T(),d._1.previewScreenVisible(Nothing)(),d._1.loadingScreenVisible(!1)())})(),pushBasic:o.pushBasic,pushLeap:o.pushLeap,pushHitLong:o.pushHitLong,columnPusher:o.columnPusher,pushReleaseLong:o.pushReleaseLong,debug:o.debug,silence:o.silence,icid:o.icid,wdw:o.wdw,unschedule:o.unschedule,soundObj:o.soundObj,editor:o.editor,givePermission:o.givePermission,negotiation:o.negotiation,ride:o.ride,tutorial:o.tutorial})({basicE:rideBasics(sortBy(T=>M=>ordNumber.compare(T.marker1Time)(M.marker1Time))(mapMaybe(T=>T._1.tag==="AugmentedBasicEventV0"?T._1._1.marker4Time<g.ct?Nothing:$Maybe("Just",{marker1Time:T._1._1.marker1Time-g.ct,marker2Time:T._1._1.marker2Time-g.ct,marker3Time:T._1._1.marker3Time-g.ct,marker4Time:T._1._1.marker4Time-g.ct,column:T._1._1.column,marker1AudioURL:T._1._1.marker1AudioURL,marker2AudioURL:T._1._1.marker2AudioURL,marker3AudioURL:T._1._1.marker3AudioURL,marker4AudioURL:T._1._1.marker4AudioURL,name:T._1._1.name,raycastingCanStartAt:T._1._1.raycastingCanStartAt,version:T._1._1.version}):Nothing)($))),leapE:rideLeaps(mapMaybe(T=>T._1.tag==="AugmentedLeapEventV0"?T._1._1.marker2Time<g.ct?Nothing:$Maybe("Just",{marker1Time:T._1._1.marker1Time-g.ct,marker2Time:T._1._1.marker2Time-g.ct,audioURL:T._1._1.audioURL,column:T._1._1.column,name:T._1._1.name,position:T._1._1.position,raycastingCanStartAt:T._1._1.raycastingCanStartAt,version:T._1._1.version}):Nothing)($)),longE:rideLongs(mapMaybe(T=>T._1.tag==="AugmentedLongEventV0"?T._1._1.marker2Time<g.ct?Nothing:$Maybe("Just",{marker1Time:T._1._1.marker1Time-g.ct,marker2Time:T._1._1.marker2Time-g.ct,audioURL:T._1._1.audioURL,column:T._1._1.column,length:T._1._1.length,name:T._1._1.name,raycastingCanStartAt:T._1._1.raycastingCanStartAt,version:T._1._1.version}):Nothing)($)),bgtrack:g.mrd._1._1.url,isPreviewPage:$Maybe("Just",{startsAt:g.ct}),baseFileOffsetInSeconds:g.ct})(g.psv._1);fail$3()})(howShouldIBehave(()=>0)(v)(sampleOn(d._2.waveSurfer)(sampleOn(m)((g,$)=>{const T=d._2.previewScreenVisible(g,S=>$(I=>B=>x=>({psv:S,mrd:I,ws:B,ct:x}))),M=applicativeEvent.pure(Nothing)(g,S=>$(I=>B=>x=>({psv:S,mrd:I,ws:B,ct:x})));return()=>(T(),M())}))))]))),$Entity("Element'",elementify("div")((g,$)=>{const T=d._2.loadingScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return $(I)}),M=applicativeEvent.pure(!1)(g,S=>$({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())}));return()=>(T(),M())})($Entity("FixedChildren'",[loadingPage])))])))})))))))))))))))),klass=o=>u=>(f,d)=>u(f,m=>{const h=o.attr(Class)(m);return d(h)}),animationFrameEvent=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!0},d=binding(()=>{const h=requestAnimationFrame(()=>{const b=f.value,y=o(unit);return b?(y(),d()()):unit})(u);return()=>(h(),unit)});return d()(),()=>f.value=!1}))(),perspectiveCamera$2=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$6=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$1=mapAccum$d(eventIsEvent),oneOfMap$2=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),webGLRenderer$2=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),render$1={type:"render",value:unit},vbussed=vbussed$2()(vbusCons2({reflectSymbol:()=>"availableRides"})()()(vbusCons2({reflectSymbol:()=>"unsubscriber"})()()(vbusNil)()())()()),click$3=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),for_$2=for_$9(applicativeEffect)(foldableMaybe),parSequence=(()=>{const o=traversableArray.traverse(applicativeParAff)(u=>u);return u=>_sequential(o(u))})(),traverse_$2=traverse_$7(applicativeEffect)(foldableMaybe),threeLoader=o=>{const u=run$1((()=>{const f=withCTime(o.cnow)(animationFrameEvent);return $Entity("EventfulElement'",backdoor.memoize((d,m)=>f(d,h=>m(h.time)))(d=>globalCameraPortal1()()(perspectiveCamera$2({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})(oneOf$6([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:0}),(m,h)=>o.resizeE(m,b=>{const y={type:"aspect",value:b.iw/b.ih};return h(y)})])))(m=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(h=>h.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const h=mapAccum$1(b=>y=>{if(y.tag==="Nothing")return $Tuple($Maybe("Just",b),0);if(y.tag==="Just")return $Tuple($Maybe("Just",b),b-y._1);fail$3()})((b,y)=>d(b,v=>{const C=v/1e3;return y(C)}))(Nothing);return(b,y)=>h(b,v=>{const C=v/1e3,w=oneOfMap$2(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(C*.031415926535897934)},{type:"rotateY",value:.001*cos(C*.031415926535897934)},{type:"rotateZ",value:.001*cos(C*.031415926535897934)}]);return y(w)})})()))([$Entity("Element'",m)])]))(h=>$Entity("FixedChildren'",[$Entity("Element'",webGLRenderer$2(h)(m)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$6([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),applicativeEvent.pure(render$1),(b,y)=>d(b,v=>y(render$1)),(b,y)=>o.resizeE(b,v=>y({type:"size",value:{width:v.iw,height:v.ih}}))])))])))))})());return()=>{const f=u();return o.unsubscriber(f)()}},filler=(()=>$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","grow")}))($Entity("FixedChildren'",[]))))(),explainerPage=o=>vbussed($$Proxy)(u=>f=>$Entity("EventfulElement'",backdoor.memoize((d,m)=>{const h=applicativeEvent.pure(Nothing)(d,m),b=f.availableRides(d,m);return()=>(h(),b())})(d=>$Entity("Element'",elementify("div")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))($Entity("FixedChildren'",[(()=>{const m="my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded";return $Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-3 row-start-2 row-end-3 flex flex-col")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("h1")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center text-2xl text-slate-200")}),click$3((h,b)=>o.signedInNonAnonymously(h,y=>{const v=currentUser(o.fbAuth),C=(()=>y?()=>{const w=v();return for_$2(w)(_=>bindE(windowImpl)(alert(_.uid)))()}:()=>unit)();return b(C)}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Joyride"))]))),$Entity("Element'",elementify("button")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",m)}),click$3((()=>{const h=oneOf$6([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(b,y)=>h(b,v=>{const C=fullScreenFlow(()=>(o.tutorial(),v()));return y(C)})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Tutorial"))]))),$Entity("Element'",elementify("button")(oneOf$6([klass(attrButton_ClassString)(applicativeEvent.pure(m)),click$3((h,b)=>o.signedInNonAnonymously(h,y=>{const v=_makeFiber(ffiUtil$1,_bind(_map((()=>{const C=nubBy(w=>_=>ordString.compare(w.id)(_.id));return w=>C(arrayBind(w)(identity$v))})())(parSequence([getPublicTracksAff(o.firestoreDb),(()=>{const C=monoidAff(monoidArray),w=getTracksAff(o.fbAuth)(o.firestoreDb);return y?w:C.mempty})(),(()=>{const C=monoidAff(monoidArray),w=getWhitelistedTracksAff(o.fbAuth)(o.firestoreDb);return y?w:C.mempty})()])))(C=>_liftEffect(u.availableRides($Maybe("Just",C)))));return b(()=>(v().run(),unit))}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Take a ride"))]))),$Entity("Element'",elementify("button")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",m)}),click$3((()=>{const h=oneOf$6([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(b,y)=>h(b,v=>{const C=fullScreenFlow(()=>(o.editor(),v()));return y(C)})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Editor"))]))),$Entity("Element'",elementify("button")(oneOf$6([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const h=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",b=>()=>(h(),!0))}})()),(h,b)=>o.signedInNonAnonymously(h,y=>{const v={key:"class",value:$AttributeValue("Prop'",(()=>y?m+" hidden":m+"")())};return b(v)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Sign In"))]))),$Entity("Element'",elementify("button")(oneOf$6([(h,b)=>o.signedInNonAnonymously(h,y=>{const v={key:"class",value:$AttributeValue("Prop'",(()=>y?m+"":m+" hidden")())};return b(v)}),click$3(applicativeEvent.pure(o.signOut))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Sign Out"))])))])))})()]))),$Entity("Element'",elementify("div")(oneOf$6([(m,h)=>d(m,b=>{const y={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(b.tag==="Nothing")return!1;if(b.tag==="Just")return!0;fail$3()})()?"z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen ":"z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen  hidden")())};return h(y)})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-1 col-end-2 row-start-1 row-end-2")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),click$3(applicativeEvent.pure(u.availableRides(Nothing)))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("< Back"))])))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-2xl text-slate-200")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Choose a ride"))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[switcher(m=>{if(m.tag==="Nothing")return $Entity("EventfulElement'",plusEvent.empty);if(m.tag==="Just")return $Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",arrayMap(h=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" mx-2 pointer-events-auto")}),click$3((()=>{const b=oneOf$6([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(y,v)=>b(y,C=>{const w=fullScreenFlow((()=>{const _=o.ride($Tuple(h.id,h.data));return()=>(_(),C())})());return v(w)})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(h.data._1.title.tag==="Nothing")return"Untitled Track";if(h.data._1.title.tag==="Just")return h.data._1.title._1;fail$3()})()))])))]))))(m._1))));fail$3()})(d)])))])))]))),filler,$Entity("Element'",elementify("canvas")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const m=traverse_$2(h=>threeLoader({threeDI:o.threeDI,isMobile:o.isMobile,cubeTextures:o.cubeTextures,unsubscriber:u.unsubscriber,resizeE:o.resizeE,cnow:o.cnow,initialDims:o.initialDims,canvas:h}));return h=>m(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",h))})())})]))($Entity("FixedChildren'",[])))])))))),gameHasStarted=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>The game has already started. You can make a new game, though!</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),hasOrientationPermission=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function",orientationPermission=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceMotionEvent.requestPermission().then(o=>o=="granted",o=>{console.error(o),Promise.reject(o)}):Promise.resolve(!0),min$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},posFromOrientation=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just")return min$1(2.5)(max$2(-2.5)((u-o.time._1)/1e3*o.gamma*.055+o.pos));fail$3()},xForTouch=o=>u=>f=>d=>()=>{const m=create(),h={value:{gamma:0,time:Nothing,pos:0}},b=eventListener(y=>()=>{const v=o(),C=h.value,w=h.value={gamma:y.gamma,time:$Maybe("Just",v),pos:posFromOrientation(C)(v)};return d($PlayerAction("XPositionMobile",{gtp:w,player:f}))(),m.push(w)()})();return addEventListener("deviceorientation")(b)(!0)(u)(),(y,v)=>m.event(y,C=>v(w=>posFromOrientation(C)(w.epochTime)))},oneOf$5=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),click$2=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),orientationPermissionPage=o=>$Entity("Element'",elementify("div")(oneOf$5([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$5([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-1 col-end-4 row-start-1 row-end-2")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center text-2xl text-slate-800 p-3")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("To play Joyride, you need to ask for orientation permissions."))])))]))),$Entity("Element'",elementify("button")(oneOf$5([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center bg-gray-600 hover:bg-gray-400 text-white py-2 px-4 rounded col-start-2 col-end-2 row-start-2 row-end-3")}),click$2(applicativeEvent.pure((()=>{const u=_makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(orientationPermission))(toAff$p(coerce)))(f=>_liftEffect(o.givePermission(f))));return()=>(u().run(),unit)})()))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Ask for permission"))])))])))]))),boolNot=function(o){return!o},writeText=o=>()=>navigator.clipboard.writeText(o),playBuf=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$4=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([playBuf({buffer:o.silence})(oneOf$4([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),b=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(b)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>1?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*1+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])],mapAccum=mapAccum$d(eventIsEvent),vbust=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$1=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$3=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$1=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),intensityIsSymbol={reflectSymbol:()=>"intensity"},colorIsSymbol$1={reflectSymbol:()=>"color"},ambientLight$1=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol))(convertOptionAmbientLight1)()()()(colorIsSymbol$1))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$1=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$1);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$1=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$1=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render={type:"render",value:unit},runThree=o=>{const u=d=>{if(!d)return m=>mapAccum(h=>b=>h._2?$Tuple(b+1|0,(()=>b>120?h._1:h._1*toNumber(b)/toNumber(120))()):$Tuple(0,0))(applyEvent.apply((h,b)=>m(h,y=>{const v=Tuple(y);return b(v)}))((h,b)=>{const y=applicativeEvent.pure(!1)(h,b),v=o.pressedStart(h,b);return()=>(y(),v())}))(0);if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$1({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$3([(()=>{const b=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(v,C)=>o.animatedStuff(v,w=>{const _=y(w.playerPositions);return C(_)})})());return(y,v)=>b(y,C=>v({type:"positionX",value:C}))})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(v,C)=>o.animatedStuff(v,w=>{const _=y(w.playerPositions);return C(_)})})());return(y,v)=>b(y,C=>{const w={type:"positionY",value:C._1.cameraOffsetY+C._2};return v(w)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,v)=>o.animatedStuff(y,C=>{const w=h(C.playerPositions);return v(w)}));return(y,v)=>b(y,C=>{const w={type:"positionZ",value:C._1.cameraOffsetZ+C._2};return v(w)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,v)=>o.animatedStuff(y,C=>{const w=h(C.playerPositions);return v(w)}));return(y,v)=>b(y,C=>{const w={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:C._1.cameraRotationAroundX,y:0,z:0})};return v(w)})})(),(b,y)=>o.resizeE(b,v=>{const C={type:"aspect",value:v.iw/v.ih};return y(C)})])})()))(h=>{const b=y=>arrayMap(v=>unsafeInternalGroup(C=>C.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$3([(()=>{const C=u((()=>v.tag==="Player1"?o.myPlayer.tag!=="Player1":v.tag==="Player2"?o.myPlayer.tag!=="Player2":v.tag==="Player3"?o.myPlayer.tag!=="Player3":v.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(v)(AxisX);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>{const $={type:"positionX",value:y+g};return _($)})})(),(()=>{const C=sampleBy(functorEvent)(w=>_=>w.sphereOffsetY+_)(o.renderingInfo)((()=>{const w=playerPosition(v)(AxisY);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g(T)})})());return(w,_)=>C(w,g=>_({type:"positionY",value:g}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(v.tag==="Player1")return-4;if(v.tag==="Player2")return-3;if(v.tag==="Player3")return-2;if(v.tag==="Player4")return-1;fail$3()})()}),(()=>{const C=playerPosition(v)(AxisZ);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _({type:"positionZ",value:$})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(v.tag==="Player1")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(_.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(_.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(_.rateInfo.time*.21991148575128555)*.12566370614359174})};return w(g)});if(v.tag==="Player3")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(_.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(_.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(_.rateInfo.time*.09424777960769379)*-.09424777960769379})};return w(g)});if(v.tag==="Player2")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(_.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(_.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(_.rateInfo.time*-.25132741228718347)*.25132741228718347})};return w(g)});if(v.tag==="Player4")return(C,w)=>o.animatedStuff(C,_=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(_.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(_.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(_.rateInfo.time*.06283185307179587)*-.2827433388230814})};return w(g)});fail$3()})()]))([]))(filter$1(v=>v.tag==="Player1"?o.myPlayer.tag!=="Player1":v.tag==="Player2"?o.myPlayer.tag!=="Player2":v.tag==="Player3"?o.myPlayer.tag!=="Player3":v.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum(v=>C=>{if(C.tag==="Nothing")return $Tuple($Maybe("Just",v),0);if(C.tag==="Just")return $Tuple($Maybe("Just",v),v-C._1);fail$3()})((v,C)=>o.animatedStuff(v,w=>{const _=w.rateInfo.epochTime/1e3;return C(_)}))(Nothing);return(v,C)=>y(v,w=>{const _=w/1e3,g=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(_*.031415926535897934)},{type:"rotateY",value:.001*cos(_*.031415926535897934)},{type:"rotateZ",value:.001*cos(_*.031415926535897934)}]);return C(g)})})()))(concatArray(b(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((v,C)=>o.animatedStuff(v,w=>{const _=(()=>{if(o.myPlayer.tag==="Player1")return w.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return w.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return w.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return w.playerPositions.p4p;fail$3()})(),g=(()=>y.tag==="Position1"?_.tag==="Position1":y.tag==="Position2"?_.tag==="Position2":y.tag==="Position3"?_.tag==="Position3":y.tag==="Position4"?_.tag==="Position4":!1)();return C(g)})),rateE:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(v,C)=>o.animatedStuff(v,w=>C(w.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray(arrayMap(y=>unsafeInternalGroup(v=>v.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$3([(()=>{const v=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const C=playerPosition(y)(AxisX);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionX",value:_}))})(),(()=>{const v=sampleBy(functorEvent)(C=>w=>C.sphereOffsetY+w)(o.renderingInfo)((()=>{const C=playerPosition(y)(AxisY);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionY",value:_}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(y.tag==="Player1")return-4;if(y.tag==="Player2")return-3;if(y.tag==="Player3")return-2;if(y.tag==="Player4")return-1;fail$3()})()}),(()=>{const v=playerPosition(y)(AxisZ);return(C,w)=>o.animatedStuff(C,_=>{const g=v(_.playerPositions);return w({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(y.tag==="Player1")return(v,C)=>o.animatedStuff(v,w=>{const _={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(w.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(w.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(w.rateInfo.time*.21991148575128555)*.12566370614359174})};return C(_)});if(y.tag==="Player3")return(v,C)=>o.animatedStuff(v,w=>{const _={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(w.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(w.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(w.rateInfo.time*.09424777960769379)*-.09424777960769379})};return C(_)});if(y.tag==="Player2")return(v,C)=>o.animatedStuff(v,w=>{const _={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(w.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(w.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(w.rateInfo.time*-.25132741228718347)*.25132741228718347})};return C(_)});if(y.tag==="Player4")return(v,C)=>o.animatedStuff(v,w=>{const _={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(w.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(w.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(w.rateInfo.time*.06283185307179587)*-.2827433388230814})};return C(_)});fail$3()})()]))([]))(filter$1(y=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers)))(concatArray([ambientLight$1({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$3([(()=>{const v=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const C=playerPosition(y)(AxisX);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionX",value:_}))})(),(()=>{const v=sampleBy(functorEvent)(C=>w=>C.sphereOffsetY/2+w)(o.renderingInfo)((()=>{const C=playerPosition(y)(AxisY);return(w,_)=>o.animatedStuff(w,g=>{const $=C(g.playerPositions);return _($)})})());return(C,w)=>v(C,_=>w({type:"positionY",value:_}))})(),(()=>{const v=playerPosition(y)(AxisZ);return(C,w)=>o.animatedStuff(C,_=>{const g=v(_.playerPositions);return w({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))([o.basicE(m._1.hitBasicVisualForLabel)(d),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)])))))))]))(y=>globalWebGLRendererPortal1()()(webGLRenderer$1(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$3([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(v,C)=>o.resizeE(v,w=>C({type:"size",value:{width:w.iw,height:w.ih}}))])))(v=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(C=>C.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const C=mapAccum(w=>_=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),0);if(_.tag==="Just")return $Tuple($Maybe("Just",w),w-_._1);fail$3()})((w,_)=>o.animatedStuff(w,g=>{const $=g.rateInfo.epochTime/1e3;return _($)}))(Nothing);return(w,_)=>C(w,g=>{const $=g/1e3,T=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos($*.031415926535897934)},{type:"rotateY",value:.001*cos($*.031415926535897934)},{type:"rotateZ",value:.001*cos($*.031415926535897934)}]);return _(T)})})()))(concatArray(b(0))(arrayMap(C=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$3([(()=>{const w=u((()=>C.tag==="Player1"?o.myPlayer.tag!=="Player1":C.tag==="Player2"?o.myPlayer.tag!=="Player2":C.tag==="Player3"?o.myPlayer.tag!=="Player3":C.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const _=playerPosition(C)(AxisX);return(g,$)=>o.animatedStuff(g,T=>{const M=_(T.playerPositions);return $(M)})})());return(_,g)=>w(_,$=>g({type:"positionX",value:$}))})(),(()=>{const w=sampleBy(functorEvent)(_=>g=>_.lightOffsetY+g)(o.renderingInfo)((()=>{const _=playerPosition(C)(AxisY);return(g,$)=>o.animatedStuff(g,T=>{const M=_(T.playerPositions);return $(M)})})());return(_,g)=>w(_,$=>g({type:"positionY",value:$}))})(),(()=>{const w=playerPosition(C)(AxisZ);return(_,g)=>o.animatedStuff(_,$=>{const T=w($.playerPositions);return g({type:"positionZ",value:T})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(C=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(v)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(C)(h),unrealBloomPass$1({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))(w=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(v)(oneOf$3([applicativeEvent.pure(render),(_,g)=>o.animatedStuff(_,$=>g(render))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})(w)])),$Entity("EventfulElement'",(_,g)=>o.css2DRendererElt(_,$=>{const T=css2DRenderer$1(y)(h)({canvas:o.canvas,element:$,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$3([(M,S)=>o.resizeE(M,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render),(M,S)=>o.animatedStuff(M,I=>S(render))]));return g(T)})),$Entity("EventfulElement'",(_,g)=>o.css3DRendererElt(_,$=>{const T=css3DRenderer$1(y)(h)({canvas:o.canvas,element:$,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$3([(M,S)=>o.resizeE(M,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render),(M,S)=>o.animatedStuff(M,I=>S(render))]));return g(T)}))])))))}))))));return()=>(f(),unit)};function _read(o,u,f){var d=Object.prototype.toString.call(f);return d.indexOf("[object HTML")===0&&d.indexOf("Element]")===d.length-8?u(f):o}function click$1(o){return function(){return o.click()}}function focus(o){return function(){return o.focus()}}const $StartState=(o,u)=>({tag:o,_1:u}),vbussed1=vbussed$2()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"copiedToClipboard"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusNil)()())()())()())()())()())()())()())()()),oneOf$2=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$1=traverse_$7(applicativeEffect)(foldableMaybe),fromFoldable$2=fromFoldable$9(ordNumber)(foldableArray),pure2=(()=>applicativeABehavior(functorEvent).pure)(),vbussed2=vbussed$2()(vbusCons2({reflectSymbol:()=>"changeText"})()()(vbusCons2({reflectSymbol:()=>"requestName"})()()(vbusNil)()())()()),oneOfMap=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),for_$1=for_$9(applicativeEffect)(foldableMaybe),click=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),max$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT=applicativeExceptT$3(monadIdentity),traverse=(()=>traversableMap.traverse(applicativeExceptT))(),throwError=(()=>monadThrowExceptT(monadIdentity).throwError)(),biSampleOn$1=biSampleOn$4(eventIsEvent),identity$2=o=>o,WaitingForMe=$StartState("WaitingForMe"),WaitingForOthers=$StartState("WaitingForOthers"),eqStartState={eq:o=>u=>o.tag==="WaitingForMe"?u.tag==="WaitingForMe":o.tag==="WaitingForOthers"?u.tag==="WaitingForOthers":o.tag==="Started"&&u.tag==="Started"?o._1===u._1:!1},ride=o=>u=>f=>vbussed1($$Proxy)(d=>m=>$Entity("EventfulElement'",backdoor.memoize(sampleBy(functorEvent)(h=>b=>({rateInfo:b,playerPositions:{p1x:h.p1x(b),p1y:h.p1y,p1z:h.p1z,p1p:h.p1p,p2x:h.p2x(b),p2y:h.p2y,p2z:h.p2z,p2p:h.p2p,p3x:h.p3x(b),p3y:h.p3y,p3z:h.p3z,p3p:h.p3p,p4x:h.p4x(b),p4y:h.p4y,p4z:h.p4z,p4p:h.p4p}}))(f.playerPositions)(biSampleOn$1(oneOff(Just)(filter(h=>applyMaybe.apply((()=>{if(h.tag==="Leaf")return Nothing;const b=traverse(y=>{if(y.tag==="HasNotStartedYet")return throwError(unit);if(y.tag==="HasStarted")return applicativeExceptT.pure(y._1.startedAt);fail$3()})(h);if(b.tag==="Left")return Nothing;if(b.tag==="Right")return $Maybe("Just",y=>({startTime:foldableMap.foldl(max$1)(0)(b._1),myTime:y}));fail$3()})())((()=>{const b=lookup$2(ordPlayer)(f.player)(h);if(b.tag==="Just"){if(b._1.tag==="HasNotStartedYet")return Nothing;if(b._1.tag==="HasStarted")return $Maybe("Just",b._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))((h,b)=>m.rateInfo(h,y=>b(v=>{const C=(v.startTime-v.myTime)/1e3;return{epochTime:y.epochTime,time:y.time,prevTime:y.prevTime,beats:y.beats-C,prevBeats:(()=>{if(y.prevBeats.tag==="Nothing")return Nothing;if(y.prevBeats.tag==="Just")return $Maybe("Just",y.prevBeats._1-C);fail$3()})()}})))))(h=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-20 pointer-events-none absolute w-screen h-screen grid grid-rows-3 grid-cols-3")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","row-start-1 row-end-2 col-start-1 col-end-4")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mx-2 mt-2")}))($Entity("FixedChildren'",[switcher(b=>{if(b._2.tag==="Nothing")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(y=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if(y._2.tag==="HasStarted"){if(y._2._1.name.tag==="Just")return y._2._1.name._1+" has joined!";if(y._2._1.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if(y._2.tag==="HasNotStartedYet"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])))]))))(toUnfoldable$1(unfoldableArray)(b._1)))));if(b._2.tag==="Just")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(y=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if(y._2.name.tag==="Just")return"You ("+(y._2.name._1+")");if(y._2.name.tag==="Nothing")return"You";fail$3()}if(y._2.name.tag==="Just")return y._2.name._1;if(y._2.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1";if(y._1.tag==="Player2")return"Player 2";if(y._1.tag==="Player3")return"Player 3";if(y._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round(y._2.points+-1*y._2.penalties)))+" Points"))))])))]))))(mapMaybe(y=>{if(y._2.tag==="HasNotStartedYet")return Nothing;if(y._2.tag==="HasStarted")return $Maybe("Just",$Tuple(y._1,y._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(b._1))))));fail$3()})(biSampleOn$1(initializeWithEmpty(plusMaybe)(applicativeMaybe)(m.iAmReady))((b,y)=>f.playerStatus(b,v=>{const C=Tuple(v);return y(C)})))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",(b,y)=>m.iAmReady(b,v=>{const C=$Entity("Element'",elementify("div")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mx-2")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto p-1 "+buttonCls)}),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",w=>()=>(v(),o.goHome(),!0))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Exit to main menu"))])))])));return y(C)}))])))])))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[switcher(b=>{if(b.tag==="WaitingForMe"){const y=v=>oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls+" pointer-events-auto")}),sampleJIT(v)(applicativeEvent.pure(C=>{const w=fullScreenFlow(()=>{const _=requestIdleCallbackIsDefined(),g=context_(),$=constant0Hack_(g)(),T=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$1(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const z=now(),J=o.unschedule.value,K=span(ee=>ee._1<z)(toUnfoldable$1(unfoldableArray)(J));return foreachE(K.init)(snd)(),o.unschedule.value=fromFoldable$2(K.rest),unit};if(_){const z=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",z)}return L()}})())(),M=withACTime(g)(animationFrame),S=backdoor.hot((R,L)=>M(R,z=>L(z.acTime)))(),I=backdoor.hot(timeFromRate(f.cNow)(pure2({rate:1}))((R,L)=>S.event(R,z=>L({real:z}))))(),B=subscribe(I.event)(d.rateInfo)(),x=run2(g)(graph({basics:m.basicAudio,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds,leaps:m.leapAudio,rateInfo:(R,L)=>h(R,z=>L(z.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,bgtrack:u.bgtrack}))();return d.pressedStart(!0)(),d.iAmReady((()=>{const R=clearIntervalImpl(T),L=close(monadEffectEffect)(g);return()=>(x(),$(),R(),S.unsubscribe(),B(),I.unsubscribe(),L())})())(),_makeFiber(ffiUtil$1,_bind(read(C))(R=>_liftEffect(()=>{const L=f.cNow();return f.optMeIn(L)(R)()})))().run(),unit});return{key:"click",value:$AttributeValue("Cb'",_=>()=>(w(),!0))}}))]);return $Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900")}))($Entity("FixedChildren'",[vbussed2($$Proxy)(v=>C=>switcher(w=>w?$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","mb-4 select-auto")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("input")(oneOfMap(applicativeEvent.pure)([{key:"type",value:$AttributeValue("Prop'","text")},{key:"placeholder",value:$AttributeValue("Prop'","My name")},{key:"class",value:$AttributeValue("Prop'","pointer-events-auto shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline")},{key:"input",value:$AttributeValue("Cb'",_=>{const g=for_$1((()=>{const $=nullable(_target(_),Nothing,Just);if($.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",$._1);if($.tag==="Nothing")return Nothing;fail$3()})())($=>bindE(value($))(v.changeText));return()=>(g(),!0)})},{key:"@self@",value:$AttributeValue("Cb'",_=>for_$1(_read(Nothing,Just,_))(g=>{const $=focus(g);return()=>($(),click$1(g)())}))}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("button")(y((_,g)=>{const $=applicativeEvent.pure(Nothing)(_,g),T=C.changeText(_,M=>g($Maybe("Just",M)));return()=>($(),T())}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))])))]))):$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","select-auto")}))($Entity("FixedChildren'",[(()=>{const _="joyride.fm/?ride="+(f.channelName+("&track="+f.trackId));return $Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center text-white p-4")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Press the clipboard and get a link to this ride:"))]))),$Entity("Element'",elementify("button")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","pointer-events-auto text-center text-xl bg-gray-800 hover:bg-gray-600 text-white mx-2 rounded")}),click(applicativeEvent.pure((()=>{const g=_makeFiber(ffiUtil$1,_bind(_liftEffect(d.copiedToClipboard(!0)))(()=>_bind(_bind(_liftEffect(writeText("https://"+_)))(toAff$p(coerce)))(()=>_bind(_delay(Right,2e3))(()=>_liftEffect(d.copiedToClipboard(!1))))));return()=>(g().run(),unit)})()))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("\u{1F449}\u{1F3FD} \u{1F4CB} \u{1F448}\u{1F3FD}"))]))),$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("You can send the link to up to 3 people. When everyone has joined, or if you're playing alone, press Start!"))])))])))})(),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","flex w-full justify-center items-center")}))($Entity("FixedChildren'",(()=>{if(f.playerName.tag==="Just")return[$Entity("Element'",elementify("button")(y((_,g)=>{const $=applicativeEvent.pure(Nothing)(_,g),T=C.changeText(_,M=>g($Maybe("Just",M)));return()=>($(),T())}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))])))];if(f.playerName.tag==="Nothing")return[$Entity("Element'",elementify("button")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls)}),y((_,g)=>{const $=applicativeEvent.pure(Nothing)(_,g),T=C.changeText(_,M=>g($Maybe("Just",M)));return()=>($(),T())})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))]))),$Entity("Element'",elementify("button")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'",buttonCls)}),click(applicativeEvent.pure(v.requestName(unit)))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start with name"))])))];fail$3()})())))]))))((w,_)=>{const g=applicativeEvent.pure(!1)(w,_),$=C.requestName(w,T=>_(!0));return()=>(g(),$())}))])))])))}if(b.tag==="WaitingForOthers")return $Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-lg text-white")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Waiting for others to join"))])))])))])));if(b.tag==="Started")return $Entity("EventfulElement'",plusEvent.empty);fail$3()})(dedup(eqStartState)((b,y)=>f.playerStatus(b,v=>{const C=(()=>{if(v.tag==="Leaf")return(()=>{const _=lookup$2(ordPlayer)(f.player)(v);return(()=>_.tag==="Just"?_._1.tag!=="HasNotStartedYet":!0)()&&_.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;const w=traverse(_=>{if(_.tag==="HasNotStartedYet")return throwError(unit);if(_.tag==="HasStarted")return applicativeExceptT.pure(_._1.startedAt);fail$3()})(v);if(w.tag==="Left")return(()=>{const _=lookup$2(ordPlayer)(f.player)(v);return(()=>_.tag==="Just"?_._1.tag!=="HasNotStartedYet":!0)()&&_.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;if(w.tag==="Right")return $StartState("Started",foldableMap.foldl(max$1)(0)(w._1));fail$3()})();return y(C)})))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("canvas")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const b=traverse_$1(y=>runThree({threeDI:f.threeDI,css2DRendererElt:m.render2DElement,css3DRendererElt:m.render3DElement,isMobile:o.isMobile,pressedStart:m.pressedStart,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,lowPriorityCb:o.lpsCallback,myPlayer:f.player,columnPusher:o.columnPusher,debug:o.debug,textures:f.textures,cubeTextures:f.cubeTextures,models:f.models,pushBasic:o.pushBasic,basicE:v=>C=>u.basicE({initialDims:f.initialDims,columnEventConstructor:C,renderingInfo:o.renderingInfo,textures:f.textures,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:filter(w=>w.value.tag==="HitBasic"?$Maybe("Just",{uniqueId:w.value._1.uniqueId,logicalBeat:w.value._1.logicalBeat,deltaBeats:w.value._1.deltaBeats,hitAt:w.value._1.hitAt,player:w.value._1.player,issuedAt:w.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushBasic:o.pushBasic,pushBasicVisualForLabel:v}),leapE:v=>C=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,columnEventConstructor:C,cnow:f.cNow,debug:o.debug,notifications:{hitLeap:filter(w=>w.value.tag==="HitLeap"?$Maybe("Just",{uniqueId:w.value._1.uniqueId,hitAt:w.value._1.hitAt,player:w.value._1.player,oldPosition:w.value._1.oldPosition,newPosition:w.value._1.newPosition,issuedAt:w.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushLeap:o.pushLeap,pushLeapVisualForLabel:v}),longE:v=>C=>w=>u.longE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:w,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:filter(_=>_.value.tag==="HitLong"?$Maybe("Just",{uniqueId:_.value._1.uniqueId,hitAt:_.value._1.hitAt,player:_.value._1.player,distance:_.value._1.distance,issuedAt:_.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent)),releaseLong:filter(_=>_.value.tag==="ReleaseLong"?$Maybe("Just",{uniqueId:_.value._1.uniqueId,releasedAt:_.value._1.releasedAt,pctConsumed:_.value._1.pctConsumed,player:_.value._1.player,hitAt:_.value._1.hitAt,distance:_.value._1.distance,issuedAt:_.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:v,pushReleaseLongVisualForLabel:C}),animatedStuff:h,resizeE:o.resizeE,initialDims:f.initialDims,canvas:y}));return y=>b(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",y))})())})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render2DElement)}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render3DElement)}]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("div")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-1 snackbar text-white")}),(b,y)=>filter$p(boolNot)(m.copiedToClipboard)(b,v=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar text-white")})),(b,y)=>filter$p(identity$2)(m.copiedToClipboard)(b,v=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar show text-white")}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Copied to clipboard"))])))])))))),roomIsFull=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>It looks like four players have already joined this joyride. Pick another slug to get started.</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),oneOf$1=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),sorryNeedPermissionPage=(()=>$Entity("Element'",elementify("div")(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","col-start-2 col-end-3 row-start-2 row-end-3")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center text-2xl text-slate-200")}))($Entity("FixedChildren'",[text(applicativeEvent.pure("This application needs access to your device's orientation in order to function properly. If you change your mind about the orientation permission, please reload the page. Thanks for visiting!"))])))])))])))]))))(),$BeatNumber=o=>({tag:o}),$MeasureNumber=o=>({tag:o}),$MeasureNumberBeatNumber=o=>({tag:o}),M1B1=$MeasureNumberBeatNumber("M1B1"),M2B1=$MeasureNumberBeatNumber("M2B1"),M3B1=$MeasureNumberBeatNumber("M3B1"),M3B3=$MeasureNumberBeatNumber("M3B3"),M4B1=$MeasureNumberBeatNumber("M4B1"),M5B1=$MeasureNumberBeatNumber("M5B1"),M6B1=$MeasureNumberBeatNumber("M6B1"),M7B1=$MeasureNumberBeatNumber("M7B1"),M7B3=$MeasureNumberBeatNumber("M7B3"),M8B1=$MeasureNumberBeatNumber("M8B1"),M9B1=$MeasureNumberBeatNumber("M9B1"),M10B1=$MeasureNumberBeatNumber("M10B1"),M11B1=$MeasureNumberBeatNumber("M11B1"),M12B1=$MeasureNumberBeatNumber("M12B1"),M13B1=$MeasureNumberBeatNumber("M13B1"),M14B1=$MeasureNumberBeatNumber("M14B1"),M15B1=$MeasureNumberBeatNumber("M15B1"),M15B3=$MeasureNumberBeatNumber("M15B3"),M16B1=$MeasureNumberBeatNumber("M16B1"),M17B1=$MeasureNumberBeatNumber("M17B1"),M18B1=$MeasureNumberBeatNumber("M18B1"),M19B1=$MeasureNumberBeatNumber("M19B1"),M19B3=$MeasureNumberBeatNumber("M19B3"),M20B1=$MeasureNumberBeatNumber("M20B1"),M21B1=$MeasureNumberBeatNumber("M21B1"),M22B1=$MeasureNumberBeatNumber("M22B1"),M23B1=$MeasureNumberBeatNumber("M23B1"),M23B3=$MeasureNumberBeatNumber("M23B3"),M24B1=$MeasureNumberBeatNumber("M24B1"),M24B2=$MeasureNumberBeatNumber("M24B2"),M24B3=$MeasureNumberBeatNumber("M24B3"),M24B4=$MeasureNumberBeatNumber("M24B4"),M25B1=$MeasureNumberBeatNumber("M25B1"),M25B2=$MeasureNumberBeatNumber("M25B2"),M25B3=$MeasureNumberBeatNumber("M25B3"),M25B4=$MeasureNumberBeatNumber("M25B4"),M26B1=$MeasureNumberBeatNumber("M26B1"),M26B2=$MeasureNumberBeatNumber("M26B2"),M26B3=$MeasureNumberBeatNumber("M26B3"),M26B4=$MeasureNumberBeatNumber("M26B4"),M27B1=$MeasureNumberBeatNumber("M27B1"),M27B2=$MeasureNumberBeatNumber("M27B2"),M27B3=$MeasureNumberBeatNumber("M27B3"),M27B4=$MeasureNumberBeatNumber("M27B4"),M28B1=$MeasureNumberBeatNumber("M28B1"),M28B2=$MeasureNumberBeatNumber("M28B2"),M28B3=$MeasureNumberBeatNumber("M28B3"),M28B4=$MeasureNumberBeatNumber("M28B4"),M29B1=$MeasureNumberBeatNumber("M29B1"),M29B2=$MeasureNumberBeatNumber("M29B2"),M29B3=$MeasureNumberBeatNumber("M29B3"),M29B4=$MeasureNumberBeatNumber("M29B4"),M30B1=$MeasureNumberBeatNumber("M30B1"),M30B2=$MeasureNumberBeatNumber("M30B2"),M30B3=$MeasureNumberBeatNumber("M30B3"),M30B4=$MeasureNumberBeatNumber("M30B4"),M31B1=$MeasureNumberBeatNumber("M31B1"),M31B2=$MeasureNumberBeatNumber("M31B2"),M31B3=$MeasureNumberBeatNumber("M31B3"),M31B4=$MeasureNumberBeatNumber("M31B4"),M32B1=$MeasureNumberBeatNumber("M32B1"),M32B2=$MeasureNumberBeatNumber("M32B2"),M32B3=$MeasureNumberBeatNumber("M32B3"),M32B4=$MeasureNumberBeatNumber("M32B4"),M33B1=$MeasureNumberBeatNumber("M33B1"),M33B2=$MeasureNumberBeatNumber("M33B2"),M33B3=$MeasureNumberBeatNumber("M33B3"),M33B4=$MeasureNumberBeatNumber("M33B4"),M34B1=$MeasureNumberBeatNumber("M34B1"),M34B2=$MeasureNumberBeatNumber("M34B2"),M34B3=$MeasureNumberBeatNumber("M34B3"),M34B4=$MeasureNumberBeatNumber("M34B4"),M35B1=$MeasureNumberBeatNumber("M35B1"),M35B2=$MeasureNumberBeatNumber("M35B2"),M35B3=$MeasureNumberBeatNumber("M35B3"),M35B4=$MeasureNumberBeatNumber("M35B4"),M36B1=$MeasureNumberBeatNumber("M36B1"),M36B2=$MeasureNumberBeatNumber("M36B2"),M36B3=$MeasureNumberBeatNumber("M36B3"),M36B4=$MeasureNumberBeatNumber("M36B4"),M37B1=$MeasureNumberBeatNumber("M37B1"),M37B2=$MeasureNumberBeatNumber("M37B2"),M37B3=$MeasureNumberBeatNumber("M37B3"),M37B4=$MeasureNumberBeatNumber("M37B4"),M38B1=$MeasureNumberBeatNumber("M38B1"),M38B2=$MeasureNumberBeatNumber("M38B2"),M38B3=$MeasureNumberBeatNumber("M38B3"),M38B4=$MeasureNumberBeatNumber("M38B4"),M39B1=$MeasureNumberBeatNumber("M39B1"),M39B2=$MeasureNumberBeatNumber("M39B2"),M39B3=$MeasureNumberBeatNumber("M39B3"),M39B4=$MeasureNumberBeatNumber("M39B4"),M40B1=$MeasureNumberBeatNumber("M40B1"),M40B2=$MeasureNumberBeatNumber("M40B2"),M40B3=$MeasureNumberBeatNumber("M40B3"),M40B4=$MeasureNumberBeatNumber("M40B4"),M41B1=$MeasureNumberBeatNumber("M41B1"),M41B2=$MeasureNumberBeatNumber("M41B2"),M41B3=$MeasureNumberBeatNumber("M41B3"),M41B4=$MeasureNumberBeatNumber("M41B4"),M42B1=$MeasureNumberBeatNumber("M42B1"),M42B2=$MeasureNumberBeatNumber("M42B2"),M42B3=$MeasureNumberBeatNumber("M42B3"),M42B4=$MeasureNumberBeatNumber("M42B4"),M43B1=$MeasureNumberBeatNumber("M43B1"),M43B2=$MeasureNumberBeatNumber("M43B2"),M43B3=$MeasureNumberBeatNumber("M43B3"),M43B4=$MeasureNumberBeatNumber("M43B4"),M44B1=$MeasureNumberBeatNumber("M44B1"),M44B2=$MeasureNumberBeatNumber("M44B2"),M44B3=$MeasureNumberBeatNumber("M44B3"),M44B4=$MeasureNumberBeatNumber("M44B4"),M45B1=$MeasureNumberBeatNumber("M45B1"),M45B2=$MeasureNumberBeatNumber("M45B2"),M45B3=$MeasureNumberBeatNumber("M45B3"),M45B4=$MeasureNumberBeatNumber("M45B4"),M46B1=$MeasureNumberBeatNumber("M46B1"),M46B2=$MeasureNumberBeatNumber("M46B2"),M46B3=$MeasureNumberBeatNumber("M46B3"),M46B4=$MeasureNumberBeatNumber("M46B4"),M47B1=$MeasureNumberBeatNumber("M47B1"),M47B2=$MeasureNumberBeatNumber("M47B2"),M47B3=$MeasureNumberBeatNumber("M47B3"),M47B4=$MeasureNumberBeatNumber("M47B4"),M48B1=$MeasureNumberBeatNumber("M48B1"),M48B2=$MeasureNumberBeatNumber("M48B2"),M48B3=$MeasureNumberBeatNumber("M48B3"),M48B4=$MeasureNumberBeatNumber("M48B4"),M49B1=$MeasureNumberBeatNumber("M49B1"),M49B2=$MeasureNumberBeatNumber("M49B2"),M49B3=$MeasureNumberBeatNumber("M49B3"),M49B4=$MeasureNumberBeatNumber("M49B4"),M50B1=$MeasureNumberBeatNumber("M50B1"),M50B2=$MeasureNumberBeatNumber("M50B2"),M50B3=$MeasureNumberBeatNumber("M50B3"),M50B4=$MeasureNumberBeatNumber("M50B4"),M51B1=$MeasureNumberBeatNumber("M51B1"),M51B2=$MeasureNumberBeatNumber("M51B2"),M51B3=$MeasureNumberBeatNumber("M51B3"),M51B4=$MeasureNumberBeatNumber("M51B4"),M52B1=$MeasureNumberBeatNumber("M52B1"),M52B2=$MeasureNumberBeatNumber("M52B2"),M52B3=$MeasureNumberBeatNumber("M52B3"),M52B4=$MeasureNumberBeatNumber("M52B4"),M53B1=$MeasureNumberBeatNumber("M53B1"),M53B2=$MeasureNumberBeatNumber("M53B2"),M53B3=$MeasureNumberBeatNumber("M53B3"),M53B4=$MeasureNumberBeatNumber("M53B4"),M54B1=$MeasureNumberBeatNumber("M54B1"),M54B2=$MeasureNumberBeatNumber("M54B2"),M54B3=$MeasureNumberBeatNumber("M54B3"),M54B4=$MeasureNumberBeatNumber("M54B4"),M55B1=$MeasureNumberBeatNumber("M55B1"),M55B2=$MeasureNumberBeatNumber("M55B2"),M55B3=$MeasureNumberBeatNumber("M55B3"),M55B4=$MeasureNumberBeatNumber("M55B4"),M56B1=$MeasureNumberBeatNumber("M56B1"),M56B2=$MeasureNumberBeatNumber("M56B2"),M56B3=$MeasureNumberBeatNumber("M56B3"),M56B4=$MeasureNumberBeatNumber("M56B4"),M57B1=$MeasureNumberBeatNumber("M57B1"),M57B2=$MeasureNumberBeatNumber("M57B2"),M57B3=$MeasureNumberBeatNumber("M57B3"),M57B4=$MeasureNumberBeatNumber("M57B4"),M58B1=$MeasureNumberBeatNumber("M58B1"),M58B2=$MeasureNumberBeatNumber("M58B2"),M58B3=$MeasureNumberBeatNumber("M58B3"),M58B4=$MeasureNumberBeatNumber("M58B4"),M59B1=$MeasureNumberBeatNumber("M59B1"),M59B2=$MeasureNumberBeatNumber("M59B2"),M59B3=$MeasureNumberBeatNumber("M59B3"),M59B4=$MeasureNumberBeatNumber("M59B4"),M60B1=$MeasureNumberBeatNumber("M60B1"),M60B2=$MeasureNumberBeatNumber("M60B2"),M60B3=$MeasureNumberBeatNumber("M60B3"),M60B4=$MeasureNumberBeatNumber("M60B4"),M61B1=$MeasureNumberBeatNumber("M61B1"),M61B2=$MeasureNumberBeatNumber("M61B2"),M61B3=$MeasureNumberBeatNumber("M61B3"),M61B4=$MeasureNumberBeatNumber("M61B4"),M62B1=$MeasureNumberBeatNumber("M62B1"),M62B2=$MeasureNumberBeatNumber("M62B2"),M62B3=$MeasureNumberBeatNumber("M62B3"),M62B4=$MeasureNumberBeatNumber("M62B4"),M63B1=$MeasureNumberBeatNumber("M63B1"),M63B2=$MeasureNumberBeatNumber("M63B2"),M63B3=$MeasureNumberBeatNumber("M63B3"),M63B4=$MeasureNumberBeatNumber("M63B4"),M64B1=$MeasureNumberBeatNumber("M64B1"),M64B2=$MeasureNumberBeatNumber("M64B2"),M64B3=$MeasureNumberBeatNumber("M64B3"),M64B4=$MeasureNumberBeatNumber("M64B4"),M65B1=$MeasureNumberBeatNumber("M65B1"),M65B2=$MeasureNumberBeatNumber("M65B2"),M65B3=$MeasureNumberBeatNumber("M65B3"),M65B4=$MeasureNumberBeatNumber("M65B4"),M66B1=$MeasureNumberBeatNumber("M66B1"),M66B2=$MeasureNumberBeatNumber("M66B2"),M66B3=$MeasureNumberBeatNumber("M66B3"),M66B4=$MeasureNumberBeatNumber("M66B4"),M67B1=$MeasureNumberBeatNumber("M67B1"),M67B2=$MeasureNumberBeatNumber("M67B2"),M67B3=$MeasureNumberBeatNumber("M67B3"),M67B4=$MeasureNumberBeatNumber("M67B4"),M68B1=$MeasureNumberBeatNumber("M68B1"),M68B2=$MeasureNumberBeatNumber("M68B2"),M68B3=$MeasureNumberBeatNumber("M68B3"),M68B4=$MeasureNumberBeatNumber("M68B4"),M69B1=$MeasureNumberBeatNumber("M69B1"),M69B2=$MeasureNumberBeatNumber("M69B2"),M69B3=$MeasureNumberBeatNumber("M69B3"),M69B4=$MeasureNumberBeatNumber("M69B4"),M70B1=$MeasureNumberBeatNumber("M70B1"),M70B2=$MeasureNumberBeatNumber("M70B2"),M70B3=$MeasureNumberBeatNumber("M70B3"),M70B4=$MeasureNumberBeatNumber("M70B4"),M71B1=$MeasureNumberBeatNumber("M71B1"),M71B2=$MeasureNumberBeatNumber("M71B2"),M71B3=$MeasureNumberBeatNumber("M71B3"),M71B4=$MeasureNumberBeatNumber("M71B4"),M72B1=$MeasureNumberBeatNumber("M72B1"),M72B2=$MeasureNumberBeatNumber("M72B2"),M72B3=$MeasureNumberBeatNumber("M72B3"),M72B4=$MeasureNumberBeatNumber("M72B4"),M73B1=$MeasureNumberBeatNumber("M73B1"),M73B2=$MeasureNumberBeatNumber("M73B2"),M73B3=$MeasureNumberBeatNumber("M73B3"),M73B4=$MeasureNumberBeatNumber("M73B4"),M74B1=$MeasureNumberBeatNumber("M74B1"),M74B2=$MeasureNumberBeatNumber("M74B2"),M74B3=$MeasureNumberBeatNumber("M74B3"),M74B4=$MeasureNumberBeatNumber("M74B4"),M75B1=$MeasureNumberBeatNumber("M75B1"),M75B2=$MeasureNumberBeatNumber("M75B2"),M75B3=$MeasureNumberBeatNumber("M75B3"),M75B4=$MeasureNumberBeatNumber("M75B4"),M76B1=$MeasureNumberBeatNumber("M76B1"),M76B2=$MeasureNumberBeatNumber("M76B2"),M76B3=$MeasureNumberBeatNumber("M76B3"),M76B4=$MeasureNumberBeatNumber("M76B4"),M77B1=$MeasureNumberBeatNumber("M77B1"),M77B2=$MeasureNumberBeatNumber("M77B2"),M77B3=$MeasureNumberBeatNumber("M77B3"),M77B4=$MeasureNumberBeatNumber("M77B4"),M78B1=$MeasureNumberBeatNumber("M78B1"),M78B2=$MeasureNumberBeatNumber("M78B2"),M78B3=$MeasureNumberBeatNumber("M78B3"),M78B4=$MeasureNumberBeatNumber("M78B4"),M79B1=$MeasureNumberBeatNumber("M79B1"),M79B2=$MeasureNumberBeatNumber("M79B2"),M79B3=$MeasureNumberBeatNumber("M79B3"),M79B4=$MeasureNumberBeatNumber("M79B4"),M80B1=$MeasureNumberBeatNumber("M80B1"),M80B2=$MeasureNumberBeatNumber("M80B2"),M80B3=$MeasureNumberBeatNumber("M80B3"),M80B4=$MeasureNumberBeatNumber("M80B4"),M81B1=$MeasureNumberBeatNumber("M81B1"),M81B2=$MeasureNumberBeatNumber("M81B2"),M81B3=$MeasureNumberBeatNumber("M81B3"),M81B4=$MeasureNumberBeatNumber("M81B4"),M82B1=$MeasureNumberBeatNumber("M82B1"),M82B2=$MeasureNumberBeatNumber("M82B2"),M82B3=$MeasureNumberBeatNumber("M82B3"),M82B4=$MeasureNumberBeatNumber("M82B4"),M83B1=$MeasureNumberBeatNumber("M83B1"),M83B2=$MeasureNumberBeatNumber("M83B2"),M83B3=$MeasureNumberBeatNumber("M83B3"),M83B4=$MeasureNumberBeatNumber("M83B4"),M84B1=$MeasureNumberBeatNumber("M84B1"),M84B2=$MeasureNumberBeatNumber("M84B2"),M84B3=$MeasureNumberBeatNumber("M84B3"),M1=$MeasureNumber("M1"),M2=$MeasureNumber("M2"),M3=$MeasureNumber("M3"),M4=$MeasureNumber("M4"),M5=$MeasureNumber("M5"),M6=$MeasureNumber("M6"),M7=$MeasureNumber("M7"),M8=$MeasureNumber("M8"),M9=$MeasureNumber("M9"),M10=$MeasureNumber("M10"),M11=$MeasureNumber("M11"),M12=$MeasureNumber("M12"),M13=$MeasureNumber("M13"),M14=$MeasureNumber("M14"),M15=$MeasureNumber("M15"),M16=$MeasureNumber("M16"),M17=$MeasureNumber("M17"),M18=$MeasureNumber("M18"),M19=$MeasureNumber("M19"),M20=$MeasureNumber("M20"),M21=$MeasureNumber("M21"),M22=$MeasureNumber("M22"),M23=$MeasureNumber("M23"),M24=$MeasureNumber("M24"),M25=$MeasureNumber("M25"),M26=$MeasureNumber("M26"),M27=$MeasureNumber("M27"),M28=$MeasureNumber("M28"),M29=$MeasureNumber("M29"),M30=$MeasureNumber("M30"),M31=$MeasureNumber("M31"),M32=$MeasureNumber("M32"),M33=$MeasureNumber("M33"),M34=$MeasureNumber("M34"),M35=$MeasureNumber("M35"),M36=$MeasureNumber("M36"),M37=$MeasureNumber("M37"),M38=$MeasureNumber("M38"),M39=$MeasureNumber("M39"),M40=$MeasureNumber("M40"),M41=$MeasureNumber("M41"),M42=$MeasureNumber("M42"),M43=$MeasureNumber("M43"),M44=$MeasureNumber("M44"),M45=$MeasureNumber("M45"),M46=$MeasureNumber("M46"),M47=$MeasureNumber("M47"),M48=$MeasureNumber("M48"),M49=$MeasureNumber("M49"),M50=$MeasureNumber("M50"),M51=$MeasureNumber("M51"),M52=$MeasureNumber("M52"),M53=$MeasureNumber("M53"),M54=$MeasureNumber("M54"),M55=$MeasureNumber("M55"),M56=$MeasureNumber("M56"),M57=$MeasureNumber("M57"),M58=$MeasureNumber("M58"),M59=$MeasureNumber("M59"),M60=$MeasureNumber("M60"),M61=$MeasureNumber("M61"),M62=$MeasureNumber("M62"),M63=$MeasureNumber("M63"),M64=$MeasureNumber("M64"),M65=$MeasureNumber("M65"),M66=$MeasureNumber("M66"),M67=$MeasureNumber("M67"),M68=$MeasureNumber("M68"),M69=$MeasureNumber("M69"),M70=$MeasureNumber("M70"),M71=$MeasureNumber("M71"),M72=$MeasureNumber("M72"),M73=$MeasureNumber("M73"),M74=$MeasureNumber("M74"),M75=$MeasureNumber("M75"),M76=$MeasureNumber("M76"),M77=$MeasureNumber("M77"),M78=$MeasureNumber("M78"),M79=$MeasureNumber("M79"),M80=$MeasureNumber("M80"),M81=$MeasureNumber("M81"),M82=$MeasureNumber("M82"),M83=$MeasureNumber("M83"),M84=$MeasureNumber("M84"),B1=$BeatNumber("B1"),B2=$BeatNumber("B2"),B3=$BeatNumber("B3"),B4=$BeatNumber("B4"),mb2info=o=>{if(o.tag==="M1B1")return{t:6.941271,b:B1,m:M1,mb:M1B1};if(o.tag==="M2B1")return{t:8.45158,b:B1,m:M2,mb:M2B1};if(o.tag==="M3B1")return{t:9.913475,b:B1,m:M3,mb:M3B1};if(o.tag==="M3B3")return{t:10.615054,b:B3,m:M3,mb:M3B3};if(o.tag==="M4B1")return{t:11.349264,b:B1,m:M4,mb:M4B1};if(o.tag==="M5B1")return{t:12.726317,b:B1,m:M5,mb:M5B1};if(o.tag==="M6B1")return{t:14.149054,b:B1,m:M6,mb:M6B1};if(o.tag==="M7B1")return{t:15.548949,b:B1,m:M7,mb:M7B1};if(o.tag==="M7B3")return{t:16.253791,b:B3,m:M7,mb:M7B3};if(o.tag==="M8B1")return{t:16.96516,b:B1,m:M8,mb:M8B1};if(o.tag==="M9B1")return{t:18.394423,b:B1,m:M9,mb:M9B1};if(o.tag==="M10B1")return{t:19.751897,b:B1,m:M10,mb:M10B1};if(o.tag==="M11B1")return{t:21.177897,b:B1,m:M11,mb:M11B1};if(o.tag==="M12B1")return{t:22.577792,b:B1,m:M12,mb:M12B1};if(o.tag==="M13B1")return{t:24.000529,b:B1,m:M13,mb:M13B1};if(o.tag==="M14B1")return{t:25.393897,b:B1,m:M14,mb:M14B1};if(o.tag==="M15B1")return{t:26.806845,b:B1,m:M15,mb:M15B1};if(o.tag==="M15B3")return{t:27.482318,b:B3,m:M15,mb:M15B3};if(o.tag==="M16B1")return{t:28.177371,b:B1,m:M16,mb:M16B1};if(o.tag==="M17B1")return{t:29.528319,b:B1,m:M17,mb:M17B1};if(o.tag==="M18B1")return{t:30.921687,b:B1,m:M18,mb:M18B1};if(o.tag==="M19B1")return{t:32.253056,b:B1,m:M19,mb:M19B1};if(o.tag==="M19B3")return{t:32.92853,b:B3,m:M19,mb:M19B3};if(o.tag==="M20B1")return{t:33.604003,b:B1,m:M20,mb:M20B1};if(o.tag==="M21B1")return{t:34.948424,b:B1,m:M21,mb:M21B1};if(o.tag==="M22B1")return{t:36.270004,b:B1,m:M22,mb:M22B1};if(o.tag==="M23B1")return{t:37.630741,b:B1,m:M23,mb:M23B1};if(o.tag==="M23B3")return{t:38.293162,b:B3,m:M23,mb:M23B3};if(o.tag==="M24B1")return{t:38.981688,b:B1,m:M24,mb:M24B1};if(o.tag==="M24B2")return{t:39.32432,b:B2,m:M24,mb:M24B2};if(o.tag==="M24B3")return{t:39.666951,b:B3,m:M24,mb:M24B3};if(o.tag==="M24B4")return{t:40.009583,b:B4,m:M24,mb:M24B4};if(o.tag==="M25B1")return{t:40.319583,b:B1,m:M25,mb:M25B1};if(o.tag==="M25B2")return{t:40.685057,b:B2,m:M25,mb:M25B2};if(o.tag==="M25B3")return{t:40.982004,b:B3,m:M25,mb:M25B3};if(o.tag==="M25B4")return{t:41.24632,b:B4,m:M25,mb:M25B4};if(o.tag==="M26B1")return{t:41.660741,b:B1,m:M26,mb:M26B1};if(o.tag==="M26B2")return{t:42.016425,b:B2,m:M26,mb:M26B2};if(o.tag==="M26B3")return{t:42.332952,b:B3,m:M26,mb:M26B3};if(o.tag==="M26B4")return{t:42.659267,b:B4,m:M26,mb:M26B4};if(o.tag==="M27B1")return{t:42.985583,b:B1,m:M27,mb:M27B1};if(o.tag==="M27B2")return{t:43.318425,b:B2,m:M27,mb:M27B2};if(o.tag==="M27B3")return{t:43.621899,b:B3,m:M27,mb:M27B3};if(o.tag==="M27B4")return{t:43.961267,b:B4,m:M27,mb:M27B4};if(o.tag==="M28B1")return{t:44.290846,b:B1,m:M28,mb:M28B1};if(o.tag==="M28B2")return{t:44.633478,b:B2,m:M28,mb:M28B2};if(o.tag==="M28B3")return{t:44.953268,b:B3,m:M28,mb:M28B3};if(o.tag==="M28B4")return{t:45.28611,b:B4,m:M28,mb:M28B4};if(o.tag==="M29B1")return{t:45.615689,b:B1,m:M29,mb:M29B1};if(o.tag==="M29B2")return{t:45.964847,b:B2,m:M29,mb:M29B2};if(o.tag==="M29B3")return{t:46.297689,b:B3,m:M29,mb:M29B3};if(o.tag==="M29B4")return{t:46.64032,b:B4,m:M29,mb:M29B4};if(o.tag==="M30B1")return{t:46.953584,b:B1,m:M30,mb:M30B1};if(o.tag==="M30B2")return{t:47.279899,b:B2,m:M30,mb:M30B2};if(o.tag==="M30B3")return{t:47.619268,b:B3,m:M30,mb:M30B3};if(o.tag==="M30B4")return{t:47.965163,b:B4,m:M30,mb:M30B4};if(o.tag==="M31B1")return{t:48.249057,b:B1,m:M31,mb:M31B1};if(o.tag==="M31B2")return{t:48.585163,b:B2,m:M31,mb:M31B2};if(o.tag==="M31B3")return{t:48.901689,b:B3,m:M31,mb:M31B3};if(o.tag==="M31B4")return{t:49.273689,b:B4,m:M31,mb:M31B4};if(o.tag==="M32B1")return{t:49.567373,b:B1,m:M32,mb:M32B1};if(o.tag==="M32B2")return{t:49.910005,b:B2,m:M32,mb:M32B2};if(o.tag==="M32B3")return{t:50.229794,b:B3,m:M32,mb:M32B3};if(o.tag==="M32B4")return{t:50.569163,b:B4,m:M32,mb:M32B4};if(o.tag==="M33B1")return{t:50.892216,b:B1,m:M33,mb:M33B1};if(o.tag==="M33B2")return{t:51.234847,b:B2,m:M33,mb:M33B2};if(o.tag==="M33B3")return{t:51.554637,b:B3,m:M33,mb:M33B3};if(o.tag==="M33B4")return{t:51.890742,b:B4,m:M33,mb:M33B4};if(o.tag==="M34B1")return{t:52.220321,b:B1,m:M34,mb:M34B1};if(o.tag==="M34B2")return{t:52.536847,b:B2,m:M34,mb:M34B2};if(o.tag==="M34B3")return{t:52.853374,b:B3,m:M34,mb:M34B3};if(o.tag==="M34B4")return{t:53.196005,b:B4,m:M34,mb:M34B4};if(o.tag==="M35B1")return{t:53.512532,b:B1,m:M35,mb:M35B1};if(o.tag==="M35B2")return{t:53.8519,b:B2,m:M35,mb:M35B2};if(o.tag==="M35B3")return{t:54.17169,b:B3,m:M35,mb:M35B3};if(o.tag==="M35B4")return{t:54.507795,b:B4,m:M35,mb:M35B4};if(o.tag==="M36B1")return{t:54.817795,b:B1,m:M36,mb:M36B1};if(o.tag==="M36B2")return{t:55.144111,b:B2,m:M36,mb:M36B2};if(o.tag==="M36B3")return{t:55.457374,b:B3,m:M36,mb:M36B3};if(o.tag==="M36B4")return{t:55.777163,b:B4,m:M36,mb:M36B4};if(o.tag==="M37B1")return{t:56.090427,b:B1,m:M37,mb:M37B1};if(o.tag==="M37B2")return{t:56.413479,b:B2,m:M37,mb:M37B2};if(o.tag==="M37B3")return{t:56.733269,b:B3,m:M37,mb:M37B3};if(o.tag==="M37B4")return{t:57.0759,b:B4,m:M37,mb:M37B4};if(o.tag==="M38B1")return{t:57.39569,b:B1,m:M38,mb:M38B1};if(o.tag==="M38B2")return{t:57.722006,b:B2,m:M38,mb:M38B2};if(o.tag==="M38B3")return{t:58.032006,b:B3,m:M38,mb:M38B3};if(o.tag==="M38B4")return{t:58.358322,b:B4,m:M38,mb:M38B4};if(o.tag==="M39B1")return{t:58.678111,b:B1,m:M39,mb:M39B1};if(o.tag==="M39B2")return{t:58.988111,b:B2,m:M39,mb:M39B2};if(o.tag==="M39B3")return{t:59.307901,b:B3,m:M39,mb:M39B3};if(o.tag==="M39B4")return{t:59.644006,b:B4,m:M39,mb:M39B4};if(o.tag==="M40B1")return{t:59.960532,b:B1,m:M40,mb:M40B1};if(o.tag==="M40B2")return{t:60.296637,b:B2,m:M40,mb:M40B2};if(o.tag==="M40B3")return{t:60.622953,b:B3,m:M40,mb:M40B3};if(o.tag==="M40B4")return{t:60.955795,b:B4,m:M40,mb:M40B4};if(o.tag==="M41B1")return{t:61.278848,b:B1,m:M41,mb:M41B1};if(o.tag==="M41B2")return{t:61.595374,b:B2,m:M41,mb:M41B2};if(o.tag==="M41B3")return{t:61.905374,b:B3,m:M41,mb:M41B3};if(o.tag==="M41B4")return{t:62.24148,b:B4,m:M41,mb:M41B4};if(o.tag==="M42B1")return{t:62.544953,b:B1,m:M42,mb:M42B1};if(o.tag==="M42B2")return{t:62.874532,b:B2,m:M42,mb:M42B2};if(o.tag==="M42B3")return{t:63.194322,b:B3,m:M42,mb:M42B3};if(o.tag==="M42B4")return{t:63.494533,b:B4,m:M42,mb:M42B4};if(o.tag==="M43B1")return{t:63.807796,b:B1,m:M43,mb:M43B1};if(o.tag==="M43B2")return{t:64.140638,b:B2,m:M43,mb:M43B2};if(o.tag==="M43B3")return{t:64.450638,b:B3,m:M43,mb:M43B3};if(o.tag==="M43B4")return{t:64.770427,b:B4,m:M43,mb:M43B4};if(o.tag==="M44B1")return{t:65.10327,b:B1,m:M44,mb:M44B1};if(o.tag==="M44B2")return{t:65.445901,b:B2,m:M44,mb:M44B2};if(o.tag==="M44B3")return{t:65.77548,b:B3,m:M44,mb:M44B3};if(o.tag==="M44B4")return{t:66.088743,b:B4,m:M44,mb:M44B4};if(o.tag==="M45B1")return{t:66.411796,b:B1,m:M45,mb:M45B1};if(o.tag==="M45B2")return{t:66.728322,b:B2,m:M45,mb:M45B2};if(o.tag==="M45B3")return{t:67.041586,b:B3,m:M45,mb:M45B3};if(o.tag==="M45B4")return{t:67.371164,b:B4,m:M45,mb:M45B4};if(o.tag==="M46B1")return{t:67.655059,b:B1,m:M46,mb:M46B1};if(o.tag==="M46B2")return{t:67.987901,b:B2,m:M46,mb:M46B2};if(o.tag==="M46B3")return{t:68.310954,b:B3,m:M46,mb:M46B3};if(o.tag==="M46B4")return{t:68.62748,b:B4,m:M46,mb:M46B4};if(o.tag==="M47B1")return{t:68.924428,b:B1,m:M47,mb:M47B1};if(o.tag==="M47B2")return{t:69.244217,b:B2,m:M47,mb:M47B2};if(o.tag==="M47B3")return{t:69.573796,b:B3,m:M47,mb:M47B3};if(o.tag==="M47B4")return{t:69.913165,b:B4,m:M47,mb:M47B4};if(o.tag==="M48B1")return{t:70.216638,b:B1,m:M48,mb:M48B1};if(o.tag==="M48B2")return{t:70.533165,b:B2,m:M48,mb:M48B2};if(o.tag==="M48B3")return{t:70.859481,b:B3,m:M48,mb:M48B3};if(o.tag==="M48B4")return{t:71.185796,b:B4,m:M48,mb:M48B4};if(o.tag==="M49B1")return{t:71.495796,b:B1,m:M49,mb:M49B1};if(o.tag==="M49B2")return{t:71.828639,b:B2,m:M49,mb:M49B2};if(o.tag==="M49B3")return{t:72.145165,b:B3,m:M49,mb:M49B3};if(o.tag==="M49B4")return{t:72.500849,b:B4,m:M49,mb:M49B4};if(o.tag==="M50B1")return{t:72.794533,b:B1,m:M50,mb:M50B1};if(o.tag==="M50B2")return{t:73.117586,b:B2,m:M50,mb:M50B2};if(o.tag==="M50B3")return{t:73.414534,b:B3,m:M50,mb:M50B3};if(o.tag==="M50B4")return{t:73.773481,b:B4,m:M50,mb:M50B4};if(o.tag==="M51B1")return{t:74.050849,b:B1,m:M51,mb:M51B1};if(o.tag==="M51B2")return{t:74.377165,b:B2,m:M51,mb:M51B2};if(o.tag==="M51B3")return{t:74.664323,b:B3,m:M51,mb:M51B3};if(o.tag==="M51B4")return{t:74.984113,b:B4,m:M51,mb:M51B4};if(o.tag==="M52B1")return{t:75.300639,b:B1,m:M52,mb:M52B1};if(o.tag==="M52B2")return{t:75.623692,b:B2,m:M52,mb:M52B2};if(o.tag==="M52B3")return{t:75.953271,b:B3,m:M52,mb:M52B3};if(o.tag==="M52B4")return{t:76.217586,b:B4,m:M52,mb:M52B4};if(o.tag==="M53B1")return{t:76.517797,b:B1,m:M53,mb:M53B1};if(o.tag==="M53B2")return{t:76.866955,b:B2,m:M53,mb:M53B2};if(o.tag==="M53B3")return{t:77.167165,b:B3,m:M53,mb:M53B3};if(o.tag==="M53B4")return{t:77.500008,b:B4,m:M53,mb:M53B4};if(o.tag==="M54B1")return{t:77.806744,b:B1,m:M54,mb:M54B1};if(o.tag==="M54B2")return{t:78.159166,b:B2,m:M54,mb:M54B2};if(o.tag==="M54B3")return{t:78.475692,b:B3,m:M54,mb:M54B3};if(o.tag==="M54B4")return{t:78.834639,b:B4,m:M54,mb:M54B4};if(o.tag==="M55B1")return{t:79.13485,b:B1,m:M55,mb:M55B1};if(o.tag==="M55B2")return{t:79.464429,b:B2,m:M55,mb:M55B2};if(o.tag==="M55B3")return{t:79.774429,b:B3,m:M55,mb:M55B3};if(o.tag==="M55B4")return{t:80.097482,b:B4,m:M55,mb:M55B4};if(o.tag==="M56B1")return{t:80.433587,b:B1,m:M56,mb:M56B1};if(o.tag==="M56B2")return{t:80.750113,b:B2,m:M56,mb:M56B2};if(o.tag==="M56B3")return{t:81.069903,b:B3,m:M56,mb:M56B3};if(o.tag==="M56B4")return{t:81.392955,b:B4,m:M56,mb:M56B4};if(o.tag==="M57B1")return{t:81.702955,b:B1,m:M57,mb:M57B1};if(o.tag==="M57B2")return{t:82.045587,b:B2,m:M57,mb:M57B2};if(o.tag==="M57B3")return{t:82.342534,b:B3,m:M57,mb:M57B3};if(o.tag==="M57B4")return{t:82.67864,b:B4,m:M57,mb:M57B4};if(o.tag==="M58B1")return{t:83.004956,b:B1,m:M58,mb:M58B1};if(o.tag==="M58B2")return{t:83.292113,b:B2,m:M58,mb:M58B2};if(o.tag==="M58B3")return{t:83.634745,b:B3,m:M58,mb:M58B3};if(o.tag==="M58B4")return{t:83.983903,b:B4,m:M58,mb:M58B4};if(o.tag==="M59B1")return{t:84.264535,b:B1,m:M59,mb:M59B1};if(o.tag==="M59B2")return{t:84.597377,b:B2,m:M59,mb:M59B2};if(o.tag==="M59B3")return{t:84.913903,b:B3,m:M59,mb:M59B3};if(o.tag==="M59B4")return{t:85.276114,b:B4,m:M59,mb:M59B4};if(o.tag==="M60B1")return{t:85.589377,b:B1,m:M60,mb:M60B1};if(o.tag==="M60B2")return{t:85.892851,b:B2,m:M60,mb:M60B2};if(o.tag==="M60B3")return{t:86.206114,b:B3,m:M60,mb:M60B3};if(o.tag==="M60B4")return{t:86.565061,b:B4,m:M60,mb:M60B4};if(o.tag==="M61B1")return{t:86.855482,b:B1,m:M61,mb:M61B1};if(o.tag==="M61B2")return{t:87.185061,b:B2,m:M61,mb:M61B2};if(o.tag==="M61B3")return{t:87.495061,b:B3,m:M61,mb:M61B3};if(o.tag==="M61B4")return{t:87.854009,b:B4,m:M61,mb:M61B4};if(o.tag==="M62B1")return{t:88.186851,b:B1,m:M62,mb:M62B1};if(o.tag==="M62B2")return{t:88.490324,b:B2,m:M62,mb:M62B2};if(o.tag==="M62B3")return{t:88.784009,b:B3,m:M62,mb:M62B3};if(o.tag==="M62B4")return{t:89.097272,b:B4,m:M62,mb:M62B4};if(o.tag==="M63B1")return{t:89.449693,b:B1,m:M63,mb:M63B1};if(o.tag==="M63B2")return{t:89.805377,b:B2,m:M63,mb:M63B2};if(o.tag==="M63B3")return{t:90.102325,b:B3,m:M63,mb:M63B3};if(o.tag==="M63B4")return{t:90.458009,b:B4,m:M63,mb:M63B4};if(o.tag==="M64B1")return{t:90.774535,b:B1,m:M64,mb:M64B1};if(o.tag==="M64B2")return{t:91.100851,b:B2,m:M64,mb:M64B2};if(o.tag==="M64B3")return{t:91.423904,b:B3,m:M64,mb:M64B3};if(o.tag==="M64B4")return{t:91.746956,b:B4,m:M64,mb:M64B4};if(o.tag==="M65B1")return{t:92.043904,b:B1,m:M65,mb:M65B1};if(o.tag==="M65B2")return{t:92.389799,b:B2,m:M65,mb:M65B2};if(o.tag==="M65B3")return{t:92.706325,b:B3,m:M65,mb:M65B3};if(o.tag==="M65B4")return{t:93.032641,b:B4,m:M65,mb:M65B4};if(o.tag==="M66B1")return{t:93.316535,b:B1,m:M66,mb:M66B1};if(o.tag==="M66B2")return{t:93.67222,b:B2,m:M66,mb:M66B2};if(o.tag==="M66B3")return{t:93.956114,b:B3,m:M66,mb:M66B3};if(o.tag==="M66B4")return{t:94.288957,b:B4,m:M66,mb:M66B4};if(o.tag==="M67B1")return{t:94.615272,b:B1,m:M67,mb:M67B1};if(o.tag==="M67B2")return{t:94.948115,b:B2,m:M67,mb:M67B2};if(o.tag==="M67B3")return{t:95.218957,b:B3,m:M67,mb:M67B3};if(o.tag==="M67B4")return{t:95.590957,b:B4,m:M67,mb:M67B4};if(o.tag==="M68B1")return{t:95.910746,b:B1,m:M68,mb:M68B1};if(o.tag==="M68B2")return{t:96.230536,b:B2,m:M68,mb:M68B2};if(o.tag==="M68B3")return{t:96.556852,b:B3,m:M68,mb:M68B3};if(o.tag==="M68B4")return{t:96.873378,b:B4,m:M68,mb:M68B4};if(o.tag==="M69B1")return{t:97.183378,b:B1,m:M69,mb:M69B1};if(o.tag==="M69B2")return{t:97.532536,b:B2,m:M69,mb:M69B2};if(o.tag==="M69B3")return{t:97.842536,b:B3,m:M69,mb:M69B3};if(o.tag==="M69B4")return{t:98.162325,b:B4,m:M69,mb:M69B4};if(o.tag==="M70B1")return{t:98.436431,b:B1,m:M70,mb:M70B1};if(o.tag==="M70B2")return{t:98.782325,b:B2,m:M70,mb:M70B2};if(o.tag==="M70B3")return{t:99.082536,b:B3,m:M70,mb:M70B3};if(o.tag==="M70B4")return{t:99.392536,b:B4,m:M70,mb:M70B4};if(o.tag==="M71B1")return{t:99.679694,b:B1,m:M71,mb:M71B1};if(o.tag==="M71B2")return{t:100.019062,b:B2,m:M71,mb:M71B2};if(o.tag==="M71B3")return{t:100.329062,b:B3,m:M71,mb:M71B3};if(o.tag==="M71B4")return{t:100.635799,b:B4,m:M71,mb:M71B4};if(o.tag==="M72B1")return{t:100.945799,b:B1,m:M72,mb:M72B1};if(o.tag==="M72B2")return{t:101.301484,b:B2,m:M72,mb:M72B2};if(o.tag==="M72B3")return{t:101.650642,b:B3,m:M72,mb:M72B3};if(o.tag==="M72B4")return{t:101.931273,b:B4,m:M72,mb:M72B4};if(o.tag==="M73B1")return{t:102.224957,b:B1,m:M73,mb:M73B1};if(o.tag==="M73B2")return{t:102.515378,b:B2,m:M73,mb:M73B2};if(o.tag==="M73B3")return{t:102.776431,b:B3,m:M73,mb:M73B3};if(o.tag==="M73B4")return{t:103.099484,b:B4,m:M73,mb:M73B4};if(o.tag==="M74B1")return{t:103.4878,b:B1,m:M74,mb:M74B1};if(o.tag==="M74B2")return{t:103.830431,b:B2,m:M74,mb:M74B2};if(o.tag==="M74B3")return{t:104.150221,b:B3,m:M74,mb:M74B3};if(o.tag==="M74B4")return{t:104.466747,b:B4,m:M74,mb:M74B4};if(o.tag==="M75B1")return{t:104.760431,b:B1,m:M75,mb:M75B1};if(o.tag==="M75B2")return{t:105.031273,b:B2,m:M75,mb:M75B2};if(o.tag==="M75B3")return{t:105.383695,b:B3,m:M75,mb:M75B3};if(o.tag==="M75B4")return{t:105.729589,b:B4,m:M75,mb:M75B4};if(o.tag==="M76B1")return{t:106.023274,b:B1,m:M76,mb:M76B1};if(o.tag==="M76B2")return{t:106.343063,b:B2,m:M76,mb:M76B2};if(o.tag==="M76B3")return{t:106.6498,b:B3,m:M76,mb:M76B3};if(o.tag==="M76B4")return{t:106.972853,b:B4,m:M76,mb:M76B4};if(o.tag==="M77B1")return{t:107.292642,b:B1,m:M77,mb:M77B1};if(o.tag==="M77B2")return{t:107.638537,b:B2,m:M77,mb:M77B2};if(o.tag==="M77B3")return{t:107.912642,b:B3,m:M77,mb:M77B3};if(o.tag==="M77B4")return{t:108.268326,b:B4,m:M77,mb:M77B4};if(o.tag==="M78B1")return{t:108.565274,b:B1,m:M78,mb:M78B1};if(o.tag==="M78B2")return{t:108.901379,b:B2,m:M78,mb:M78B2};if(o.tag==="M78B3")return{t:109.230958,b:B3,m:M78,mb:M78B3};if(o.tag==="M78B4")return{t:109.547484,b:B4,m:M78,mb:M78B4};if(o.tag==="M79B1")return{t:109.837906,b:B1,m:M79,mb:M79B1};if(o.tag==="M79B2")return{t:110.203379,b:B2,m:M79,mb:M79B2};if(o.tag==="M79B3")return{t:110.519906,b:B3,m:M79,mb:M79B3};if(o.tag==="M79B4")return{t:110.849485,b:B4,m:M79,mb:M79B4};if(o.tag==="M80B1")return{t:111.12359,b:B1,m:M80,mb:M80B1};if(o.tag==="M80B2")return{t:111.453169,b:B2,m:M80,mb:M80B2};if(o.tag==="M80B3")return{t:111.772958,b:B3,m:M80,mb:M80B3};if(o.tag==="M80B4")return{t:112.089485,b:B4,m:M80,mb:M80B4};if(o.tag==="M81B1")return{t:112.36359,b:B1,m:M81,mb:M81B1};if(o.tag==="M81B2")return{t:112.712748,b:B2,m:M81,mb:M81B2};if(o.tag==="M81B3")return{t:113.019485,b:B3,m:M81,mb:M81B3};if(o.tag==="M81B4")return{t:113.339274,b:B4,m:M81,mb:M81B4};if(o.tag==="M82B1")return{t:113.636222,b:B1,m:M82,mb:M82B1};if(o.tag==="M82B2")return{t:113.965801,b:B2,m:M82,mb:M82B2};if(o.tag==="M82B3")return{t:114.275801,b:B3,m:M82,mb:M82B3};if(o.tag==="M82B4")return{t:114.608643,b:B4,m:M82,mb:M82B4};if(o.tag==="M83B1")return{t:114.895801,b:B1,m:M83,mb:M83B1};if(o.tag==="M83B2")return{t:115.22538,b:B2,m:M83,mb:M83B2};if(o.tag==="M83B3")return{t:115.52559,b:B3,m:M83,mb:M83B3};if(o.tag==="M83B4")return{t:115.83559,b:B4,m:M83,mb:M83B4};if(o.tag==="M84B1")return{t:116.15538,b:B1,m:M84,mb:M84B1};if(o.tag==="M84B2")return{t:116.481696,b:B2,m:M84,mb:M84B2};if(o.tag==="M84B3")return{t:116.850433,b:B3,m:M84,mb:M84B3};fail$3()},tmpLeapScore=(()=>[{column:C7,hitsFirstPositionAt:mb2info(M16B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M18B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M20B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M21B1).t,position:Position4},{column:C7,hitsFirstPositionAt:mb2info(M22B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M23B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M24B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M25B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M26B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M26B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M27B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M27B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M29B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M29B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M30B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M30B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M31B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M32B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M33B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M34B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M35B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M36B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M37B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M38B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M39B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M40B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M41B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M42B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M43B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M44B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M45B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M46B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M47B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M48B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M49B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M50B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M51B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M51B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M51B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M51B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M55B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M55B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M55B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M55B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M59B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M59B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M59B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M59B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M63B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M63B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M63B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M63B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M67B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M67B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M67B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M67B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M71B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M71B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M71B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M71B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M75B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M75B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M75B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M75B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M79B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M79B1).t,position:Position1},{column:C3,hitsFirstPositionAt:mb2info(M83B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M83B1).t,position:Position1}])(),tmpLongScore=(()=>[{column:C10,hitsFirstPositionAt:mb2info(M29B1).t,length:1.25,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M33B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M36B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M39B1).t,length:1.5,tag:"shakuhachi3"},{column:C10,hitsFirstPositionAt:mb2info(M42B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M45B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M48B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M51B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M53B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M55B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M57B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M59B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M61B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M63B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M65B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M67B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M69B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M72B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M75B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M78B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M81B1).t,length:1.75,tag:"shakuhachi0"}])(),beats2=[$Tuple(C6,$Tuple(M1B1,$Tuple(M2B1,$Tuple(M3B1,M4B1)))),$Tuple(C9,$Tuple(M5B1,$Tuple(M6B1,$Tuple(M7B1,M8B1)))),$Tuple(C6,$Tuple(M9B1,$Tuple(M10B1,$Tuple(M11B1,M12B1)))),$Tuple(C4,$Tuple(M10B1,$Tuple(M11B1,$Tuple(M12B1,M13B1)))),$Tuple(C6,$Tuple(M11B1,$Tuple(M12B1,$Tuple(M13B1,M14B1)))),$Tuple(C9,$Tuple(M12B1,$Tuple(M13B1,$Tuple(M14B1,M15B1)))),$Tuple(C11,$Tuple(M13B1,$Tuple(M14B1,$Tuple(M15B1,M16B1)))),$Tuple(C9,$Tuple(M14B1,$Tuple(M15B1,$Tuple(M16B1,M17B1)))),$Tuple(C6,$Tuple(M15B1,$Tuple(M16B1,$Tuple(M17B1,M18B1)))),$Tuple(C4,$Tuple(M16B1,$Tuple(M17B1,$Tuple(M18B1,M19B1)))),$Tuple(C6,$Tuple(M17B1,$Tuple(M18B1,$Tuple(M19B1,M20B1)))),$Tuple(C9,$Tuple(M18B1,$Tuple(M19B1,$Tuple(M20B1,M21B1)))),$Tuple(C11,$Tuple(M19B1,$Tuple(M20B1,$Tuple(M21B1,M22B1)))),$Tuple(C9,$Tuple(M20B1,$Tuple(M21B1,$Tuple(M22B1,M23B1)))),$Tuple(C6,$Tuple(M21B1,$Tuple(M22B1,$Tuple(M23B1,M24B1)))),$Tuple(C4,$Tuple(M22B1,$Tuple(M23B1,$Tuple(M24B1,M25B1)))),$Tuple(C6,$Tuple(M23B1,$Tuple(M24B1,$Tuple(M25B1,M26B1)))),$Tuple(C9,$Tuple(M24B1,$Tuple(M25B1,$Tuple(M26B1,M27B1)))),$Tuple(C4,$Tuple(M24B3,$Tuple(M25B3,$Tuple(M26B3,M27B3)))),$Tuple(C6,$Tuple(M25B1,$Tuple(M26B1,$Tuple(M27B1,M28B1)))),$Tuple(C11,$Tuple(M25B3,$Tuple(M26B3,$Tuple(M27B3,M28B3)))),$Tuple(C9,$Tuple(M26B1,$Tuple(M27B1,$Tuple(M28B1,M29B1)))),$Tuple(C4,$Tuple(M26B3,$Tuple(M27B3,$Tuple(M28B3,M29B3)))),$Tuple(C6,$Tuple(M27B1,$Tuple(M28B1,$Tuple(M29B1,M30B1)))),$Tuple(C11,$Tuple(M27B3,$Tuple(M28B3,$Tuple(M29B3,M30B3)))),$Tuple(C9,$Tuple(M28B1,$Tuple(M29B1,$Tuple(M30B1,M31B1)))),$Tuple(C4,$Tuple(M28B3,$Tuple(M29B3,$Tuple(M30B3,M31B3)))),$Tuple(C6,$Tuple(M29B1,$Tuple(M30B1,$Tuple(M31B1,M32B1)))),$Tuple(C11,$Tuple(M29B3,$Tuple(M30B3,$Tuple(M31B3,M32B3)))),$Tuple(C9,$Tuple(M30B1,$Tuple(M31B1,$Tuple(M32B1,M33B1)))),$Tuple(C4,$Tuple(M30B3,$Tuple(M31B3,$Tuple(M32B3,M33B3)))),$Tuple(C6,$Tuple(M31B1,$Tuple(M32B1,$Tuple(M33B1,M34B1)))),$Tuple(C11,$Tuple(M31B3,$Tuple(M32B3,$Tuple(M33B3,M34B3)))),$Tuple(C9,$Tuple(M32B1,$Tuple(M33B1,$Tuple(M34B1,M35B1)))),$Tuple(C4,$Tuple(M33B1,$Tuple(M33B3,$Tuple(M34B1,M34B3)))),$Tuple(C6,$Tuple(M34B1,$Tuple(M35B1,$Tuple(M36B1,M37B1)))),$Tuple(C11,$Tuple(M35B1,$Tuple(M35B3,$Tuple(M36B1,M37B3)))),$Tuple(C4,$Tuple(M36B1,$Tuple(M37B1,$Tuple(M38B1,M39B1)))),$Tuple(C9,$Tuple(M37B1,$Tuple(M37B3,$Tuple(M38B1,M38B3)))),$Tuple(C11,$Tuple(M38B1,$Tuple(M39B1,$Tuple(M40B1,M41B1)))),$Tuple(C6,$Tuple(M39B1,$Tuple(M39B3,$Tuple(M40B1,M40B3)))),$Tuple(C1,$Tuple(M40B1,$Tuple(M42B1,$Tuple(M44B1,M46B1)))),$Tuple(C9,$Tuple(M40B1,$Tuple(M41B1,$Tuple(M42B1,M43B1)))),$Tuple(C4,$Tuple(M41B1,$Tuple(M41B3,$Tuple(M42B1,M42B3)))),$Tuple(C6,$Tuple(M42B1,$Tuple(M43B1,$Tuple(M44B1,M45B1)))),$Tuple(C11,$Tuple(M43B1,$Tuple(M43B3,$Tuple(M44B1,M44B3)))),$Tuple(C15,$Tuple(M44B1,$Tuple(M46B1,$Tuple(M48B1,M50B1)))),$Tuple(C4,$Tuple(M44B1,$Tuple(M45B1,$Tuple(M46B1,M47B1)))),$Tuple(C9,$Tuple(M45B1,$Tuple(M45B3,$Tuple(M46B1,M46B3)))),$Tuple(C11,$Tuple(M46B1,$Tuple(M47B1,$Tuple(M48B1,M49B1)))),$Tuple(C6,$Tuple(M47B1,$Tuple(M47B3,$Tuple(M48B1,M49B3)))),$Tuple(C9,$Tuple(M48B1,$Tuple(M48B3,$Tuple(M49B1,M49B3)))),$Tuple(C6,$Tuple(M48B2,$Tuple(M48B4,$Tuple(M49B2,M49B4)))),$Tuple(C9,$Tuple(M48B3,$Tuple(M49B1,$Tuple(M49B3,M50B1)))),$Tuple(C6,$Tuple(M48B4,$Tuple(M49B2,$Tuple(M49B4,M50B2)))),$Tuple(C9,$Tuple(M49B1,$Tuple(M49B3,$Tuple(M50B1,M50B3)))),$Tuple(C6,$Tuple(M49B2,$Tuple(M49B4,$Tuple(M50B2,M50B4)))),$Tuple(C9,$Tuple(M49B3,$Tuple(M50B1,$Tuple(M50B3,M51B1)))),$Tuple(C6,$Tuple(M49B4,$Tuple(M50B2,$Tuple(M50B4,M51B2)))),$Tuple(C9,$Tuple(M50B1,$Tuple(M50B3,$Tuple(M51B1,M51B3)))),$Tuple(C6,$Tuple(M50B2,$Tuple(M50B4,$Tuple(M51B2,M51B4)))),$Tuple(C9,$Tuple(M50B3,$Tuple(M51B1,$Tuple(M51B3,M52B1)))),$Tuple(C6,$Tuple(M50B4,$Tuple(M51B2,$Tuple(M51B4,M52B2)))),$Tuple(C9,$Tuple(M51B1,$Tuple(M51B3,$Tuple(M52B1,M52B3)))),$Tuple(C6,$Tuple(M51B2,$Tuple(M51B4,$Tuple(M52B2,M52B4)))),$Tuple(C9,$Tuple(M51B3,$Tuple(M52B1,$Tuple(M52B3,M53B1)))),$Tuple(C6,$Tuple(M51B4,$Tuple(M52B2,$Tuple(M52B4,M53B2)))),$Tuple(C9,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C11,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C6,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C4,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C9,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C11,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C6,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C4,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C1,$Tuple(M56B1,$Tuple(M57B1,$Tuple(M58B1,M59B1)))),$Tuple(C9,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M56B3,M56B4)))),$Tuple(C11,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M57B3,M57B4)))),$Tuple(C6,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C4,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C15,$Tuple(M58B1,$Tuple(M59B1,$Tuple(M60B1,M61B1)))),$Tuple(C9,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C11,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C6,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C4,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C11,$Tuple(M60B1,$Tuple(M60B2,$Tuple(M60B3,M60B4)))),$Tuple(C9,$Tuple(M60B2,$Tuple(M60B3,$Tuple(M60B4,M61B1)))),$Tuple(C6,$Tuple(M61B1,$Tuple(M61B2,$Tuple(M61B3,M61B4)))),$Tuple(C4,$Tuple(M61B2,$Tuple(M61B3,$Tuple(M61B4,M62B1)))),$Tuple(C11,$Tuple(M62B1,$Tuple(M62B2,$Tuple(M62B3,M63B1)))),$Tuple(C9,$Tuple(M62B2,$Tuple(M62B3,$Tuple(M62B4,M63B3)))),$Tuple(C6,$Tuple(M63B1,$Tuple(M63B2,$Tuple(M63B3,M63B4)))),$Tuple(C4,$Tuple(M63B2,$Tuple(M63B3,$Tuple(M63B4,M64B3)))),$Tuple(C11,$Tuple(M64B1,$Tuple(M64B2,$Tuple(M64B3,M64B4)))),$Tuple(C9,$Tuple(M64B2,$Tuple(M64B3,$Tuple(M64B4,M65B1)))),$Tuple(C6,$Tuple(M65B1,$Tuple(M65B2,$Tuple(M65B3,M65B4)))),$Tuple(C4,$Tuple(M65B2,$Tuple(M65B3,$Tuple(M65B4,M66B1)))),$Tuple(C11,$Tuple(M66B1,$Tuple(M66B2,$Tuple(M66B3,M67B1)))),$Tuple(C9,$Tuple(M66B2,$Tuple(M66B3,$Tuple(M66B4,M67B3)))),$Tuple(C6,$Tuple(M67B1,$Tuple(M67B2,$Tuple(M67B3,M67B4)))),$Tuple(C4,$Tuple(M67B2,$Tuple(M67B3,$Tuple(M67B4,M68B1)))),$Tuple(C4,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C6,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C9,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C11,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C4,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C6,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C9,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C11,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C4,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C6,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C9,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C11,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C4,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C6,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C9,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C11,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C4,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C6,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C9,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C11,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C4,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C6,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C9,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C11,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C4,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C6,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C9,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C11,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C4,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C6,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C9,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C11,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C4,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C6,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C9,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C11,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C4,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C6,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C9,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C11,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C4,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C6,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C9,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C11,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C4,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C6,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C9,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C11,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C4,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C6,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C9,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C11,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C4,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C6,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C9,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C11,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C4,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C6,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C9,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C11,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C4,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C9,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C6,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C11,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C6,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C9,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C6,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C9,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C6,$Tuple(M80B1,$Tuple(M80B3,$Tuple(M81B1,M81B3)))),$Tuple(C9,$Tuple(M81B1,$Tuple(M81B3,$Tuple(M82B1,M82B3)))),$Tuple(C6,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3)))),$Tuple(C9,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3))))],tutorialScore=toAugmentedEvents(arrayMap(EventV0)(arrayBind([arrayMap(o=>$EventV0("BasicEventV0",{marker1AudioURL:Nothing,marker1Time:mb2info(o._2._1).t,marker2AudioURL:Nothing,marker2Time:mb2info(o._2._2._1).t,marker3AudioURL:Nothing,marker3Time:mb2info(o._2._2._2._1).t,marker4AudioURL:Nothing,marker4Time:mb2info(o._2._2._2._2).t,name:Nothing,column:semigroupColumn.append(o._1)(C1),version:$Version(0)}))(beats2),arrayMap(o=>$EventV0("LeapEventV0",{audioURL:$Maybe("Just","floorTom"),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,position:o.position,version:$Version(0)}))(tmpLeapScore),arrayMap(o=>$EventV0("LongEventV0",{audioURL:$Maybe("Just",o.tag),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,length:o.length,version:$Version(0)}))(tmpLongScore)])(identity$v))),$TopLevelDisplay=(o,u)=>({tag:o,_1:u}),biSampleOn=biSampleOn$4(eventIsEvent),startingWith=o=>u=>(f,d)=>{const m=applicativeEvent.pure(o)(f,d),h=u(f,d);return()=>(m(),h())},TLNeedsOrientation=$TopLevelDisplay("TLNeedsOrientation"),TLWillNotWorkWithoutOrientation=$TopLevelDisplay("TLWillNotWorkWithoutOrientation"),TLLoading=$TopLevelDisplay("TLLoading"),TLGameHasStarted=$TopLevelDisplay("TLGameHasStarted"),TLRoomIsFull=$TopLevelDisplay("TLRoomIsFull"),eqTopLevelDisplay={eq:o=>u=>o.tag==="TLExplainer"?u.tag==="TLExplainer":o.tag==="TLLoading"?u.tag==="TLLoading":o.tag==="TLRoomIsFull"?u.tag==="TLRoomIsFull":o.tag==="TLGameHasStarted"?u.tag==="TLGameHasStarted":o.tag==="TLSuccess"?u.tag==="TLSuccess":!1},toplevel=o=>switcher(u=>{if(u.tag==="TLNeedsOrientation")return orientationPermissionPage({givePermission:o.givePermission});if(u.tag==="TLWillNotWorkWithoutOrientation")return sorryNeedPermissionPage;if(u.tag==="TLExplainer")return explainerPage({ride:o.ride,editor:o.editor,tutorial:o.tutorial,isMobile:o.isMobile,cnow:u._1.cNow,signOut:u._1.signOut,resizeE:o.resizeE,initialDims:u._1.initialDims,fbAuth:u._1.fbAuth,firestoreDb:u._1.firestoreDb,threeDI:u._1.threeDI,cubeTextures:u._1.cubeTextures,signedInNonAnonymously:u._1.signedInNonAnonymously});if(u.tag==="TLOpenEditor")return editorPage(o)(u._1.oe)(u._1.wt);if(u.tag==="TLLoading")return loadingPage;if(u.tag==="TLRoomIsFull")return roomIsFull;if(u.tag==="TLGameHasStarted")return gameHasStarted;if(u.tag==="TLWantsTutorial")return tutorial$1(o)({basicE:rideBasics(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),leapE:rideLeaps(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),longE:rideLongs(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),baseFileOffsetInSeconds:0,bgtrack:"tutorial",isPreviewPage:Nothing})(u._1);if(u.tag==="TLSuccess")return ride(o)({basicE:rideBasics(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),leapE:rideLeaps(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),longE:rideLongs(sortBy(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),bgtrack:u._1.track._1.url,baseFileOffsetInSeconds:0})(u._1);fail$3()})(dedup(eqTopLevelDisplay)((()=>{const u=biSampleOn(startingWith(PageLoad)(o.negotiation))((f,d)=>startingWith(!1)(o.loaded)(f,m=>d(h=>({loaded:m,negotiation:h}))));return(f,d)=>u(f,m=>{const h=(()=>{if(m.negotiation.tag==="NeedsOrientation")return TLNeedsOrientation;if(m.negotiation.tag==="WillNotWorkWithoutOrientation")return TLWillNotWorkWithoutOrientation;if(m.negotiation.tag==="GetRulesOfGame")return $TopLevelDisplay("TLExplainer",m.negotiation._1);if(!m.loaded||m.negotiation.tag==="PageLoad"||m.negotiation.tag==="StartingNegotiation")return TLLoading;if(m.negotiation.tag==="RoomIsFull")return TLRoomIsFull;if(m.negotiation.tag==="GameHasStarted")return TLGameHasStarted;if(m.negotiation.tag==="RequestingPlayer"||m.negotiation.tag==="ReceivedPossibilities")return TLLoading;if(m.negotiation.tag==="ClaimFail")return TLRoomIsFull;if(m.loaded){if(m.negotiation.tag==="Success")return $TopLevelDisplay("TLSuccess",m.negotiation._1);if(m.negotiation.tag==="WantsTutorial")return $TopLevelDisplay("TLWantsTutorial",m.negotiation._1);if(m.negotiation.tag==="OpenEditor")return $TopLevelDisplay("TLOpenEditor",m.negotiation._1);fail$3()}fail$3()})();return d(h)})})())),writeToRecordImpl=function(o){return function(u){return function(f){return function(){f.value[o]=u}}}},readFromRecordImpl=function(o){return function(u){return function(){return u.value[o]}}};function code(o){return o.code}const traverse_=traverse_$7(applicativeEffect)(foldableMaybe),posFromKeypress=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just"){const f=.77*pow((u-o.time._1)*.001)(2)/2;if(o.curXDir.tag==="Still")return o.pos;if(o.curXDir.tag==="ToLeft")return-2*f+o.pos;if(o.curXDir.tag==="ToRight")return 2*f+o.pos;fail$3()}fail$3()},xForKeyboard=o=>u=>f=>d=>()=>{const m=create(),h={value:{curXDir:Still,time:Nothing,pos:0}},b=C=>eventListener((()=>{const w=traverse_(_=>{const g=code(_),$=(()=>C?Still:g==="ArrowLeft"?ToLeft:ToRight)();return g==="ArrowLeft"||g==="ArrowRight"?()=>{const T=o(),M=h.value,S=h.value=(()=>(()=>M.curXDir.tag==="ToLeft"?$.tag==="ToLeft":M.curXDir.tag==="ToRight"?$.tag==="ToRight":M.curXDir.tag==="Still"?$.tag==="Still":!1)()?M:{curXDir:$,time:$Maybe("Just",T),pos:posFromKeypress(M)(T)})();return m.push(S)(),d($PlayerAction("XPositionKeyboard",{ktp:S,player:f}))()}:()=>unit});return _=>w(_unsafeReadProtoTagged(Nothing,Just,"KeyboardEvent",_))})()),y=b(!1)(),v=b(!0)();return addEventListener("keydown")(y)(!0)(u)(),addEventListener("keyup")(v)(!0)(u)(),(C,w)=>m.event(C,_=>w(g=>posFromKeypress(_)(g.epochTime)))},firebaseConfig={apiKey:"AIzaSyBwnikO21-Mmj0WKLEwLYQ801X5MsJkmCw",authDomain:"joyri-de.firebaseapp.com",projectId:"joyri-de",storageBucket:"joyri-de.appspot.com",messagingSenderId:"58052920677",databaseURL:"https://joyri-de-default-rtdb.europe-west1.firebasedatabase.app/",appId:"1:58052920677:web:7bd22ca2a8b3e0423e8d8c",measurementId:"G-G6P7FY8QWJ"},firebaseApp=()=>__vitePreload(()=>import("./index.esm.8a9335aa.js"),["assets/index.esm.8a9335aa.js","assets/index.esm2017.ce458832.js"]).then(({initializeApp:o})=>o(firebaseConfig)),firebaseAppAff=_bind(_liftEffect(firebaseApp))(toAff$p(coerce)),$ParFold=()=>({tag:"ParFold"}),ParFold=$ParFold(),foldingWithIndexParFoldPr=()=>o=>()=>({foldingWithIndex:u=>f=>d=>m=>_parAffApply(_parAffMap(insert(o)()()(f))(m))(d)}),guiImpl=()=>__vitePreload(()=>import("./lil-gui.esm.47a06ea7.js"),[]).then(o=>new o.default),mockGui=()=>({add:()=>{},addColor:()=>{}}),linkUpGuiImpl=o=>u=>()=>{const f={value:{}},d=f.value;for(const[m,h]of Object.entries(u))h.type==="slider"?(d[m]=h.v.default,o.add(d,m,h.v.min,h.v.max,h.v.step)):h.type==="numeric"||h.type==="checkbox"?(d[m]=h.v,o.add(d,m)):h.type==="color"&&(d[m]=h.v,o.addColor(d,m));return f},$Guiables=()=>({tag:"Guiables"}),$Tuple1=()=>({tag:"Tuple1"}),writeImpl=(()=>{const o=consWriteForeignFields({reflectSymbol:()=>"type"})(writeForeignString)(consWriteForeignFields({reflectSymbol:()=>"v"})((()=>{const u=consWriteForeignFields({reflectSymbol:()=>"default"})(writeForeignNumber)(consWriteForeignFields({reflectSymbol:()=>"max"})(writeForeignNumber)(consWriteForeignFields({reflectSymbol:()=>"min"})(writeForeignNumber)(consWriteForeignFields({reflectSymbol:()=>"step"})(writeForeignNumber)(nilWriteForeignFields)()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),Tuple1=$Tuple1(),Guiables=$Guiables(),mappingTuple2={mapping:o=>snd},mappingTuple1={mapping:o=>fst},guiableSlider={guiable:o=>$Tuple(writeImpl({type:"slider",v:o}),o.default)},gui$p=o=>u=>f=>d=>m=>_bind(d)(h=>_liftEffect(linkUpGuiImpl(h)(u.hmap(Tuple1)(o.hmap(Guiables)(m))))),noGui=o=>u=>f=>d=>_map(m=>({debug:!1,renderingInfo:m}))(gui$p(o)(u)(f)(_liftEffect(mockGui))(d)),gui=o=>u=>f=>d=>_map(m=>({debug:!0,renderingInfo:m}))(gui$p(o)(u)(f)(_bind(_liftEffect(guiImpl))(toAff$p(coerce)))(d)),parTraverse$1=(()=>{const o=traversableList.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),sequence$1=(()=>traversableTuple.sequence(applicativeAff))(),fromFoldable$1=fromFoldable$8(foldableList),dlInChunks=o=>u=>f=>d=>m=>{const h=b=>y=>{const v=span$1(C=>C._1<b)(y);return _bind(parTraverse$1((()=>{const C=functorTuple.map((()=>{const w=_throwError(error$1("Could not download file"));return _=>{const g=_lookup(Nothing,Just,_,o);if(g.tag==="Nothing")return w;if(g.tag==="Just")return decodeAudioDataFromUri(d)(g._1);fail$3()}})());return w=>sequence$1(C(w))})())(listMap(C=>$Tuple(C._2._1,C._2._2))(v.init)))(C=>_bind(_liftEffect((()=>{const w=union(fromFoldable$1(C));return()=>{const _=m.value;return m.value=w(_),unit}})()))(()=>{const w=h(b+u|0)(v.rest);return v.rest.tag!=="Nil"?w:_pure(unit)}))};return h(u)(foldableWithIndexList.foldrWithIndex(b=>y=>v=>$List("Cons",$Tuple(b,y),v))(Nil)(f))},sfc32=o=>{let u=o.a,f=o.b,d=o.c,m=o.d;u>>>=0,f>>>=0,d>>>=0,m>>>=0;var h=u+f|0;return u=f^f>>>9,f=d+(d<<3)|0,d=d<<21|d>>>11,m=m+1|0,h=h+m|0,d=d+h|0,{r:(h>>>0)/4294967296,a:u,b:f,c:d,d:m}},cyrb128=o=>{let u=1779033703,f=3144134277,d=1013904242,m=2773480762;for(let h=0,b;h<o.length;h++)b=o.charCodeAt(h),u=f^Math.imul(u^b,597399067),f=d^Math.imul(f^b,2869860233),d=m^Math.imul(d^b,951274213),m=u^Math.imul(m^b,2716044179);return u=Math.imul(d^u>>>18,597399067),f=Math.imul(m^f>>>22,2869860233),d=Math.imul(u^d>>>17,951274213),m=Math.imul(f^m>>>19,2716044179),{a:(u^f^d^m)>>>0,b:(f^u)>>>0,c:(d^u)>>>0,d:(m^u)>>>0}},fold=(()=>foldableArray.foldMap(monoidString)(identity$t))(),sequence=(()=>traversableArray.traverse(applicativeEffect)(identity$q))(),randId$p=o=>{const u=sequence(replicate(o)((()=>{const f=randomInt(0)(9);return()=>{const d=f();return showIntImpl(d)}})()));return()=>{const f=u();return fold(f)}},randId=randId$p(32),bufferAttributesImpl=o=>u=>f=>d=>m=>{const h={};for(let v=0;v<u.length;v++)h[u[v].k]=new Float32Array(o*u[v].n);let b=d;for(let v=0;v<o;v++){const C=m(v)(b),w=C.l;b=C.r;for(let _=0;_<u.length;_++){const g=u[_].k,$=u[_].n,T=v*$;for(let M=0;M<$;M++)h[g][T+M]=w[g][M]}}const y={};for(let v=0;v<u.length;v++)y[u[v].k]=new f(h[u[v].k],u[v].n);return y},instancedBufferAttributes1={internalDoNotUseBA:o=>$Tuple([],$$Proxy)},instancedBufferAttributes2=o=>u=>f=>({internalDoNotUseBA:d=>$Tuple(concatArray([{k:u.reflectSymbol($$Proxy),n:f.reflectType($$Proxy)}])(o.internalDoNotUseBA($$Proxy)._1),$$Proxy)}),instancedBufferAttributes$1=o=>()=>()=>u=>f=>d=>m=>h=>bufferAttributesImpl(o.reflectType(f))(u.internalDoNotUseBA($$Proxy)._1)(d)(m)(b=>{const y=h(b);return v=>{const C=y(v);return{l:C._1,r:C._2}}}),Reflectable$Dict={reflectType:()=>3},instancedBufferAttributes=instancedBufferAttributes$1({reflectType:()=>2e3})()()(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes1)({reflectSymbol:()=>"aPosition2"})(Reflectable$Dict))({reflectSymbol:()=>"aPosition"})(Reflectable$Dict))({reflectSymbol:()=>"aColor2"})(Reflectable$Dict))({reflectSymbol:()=>"aColor"})(Reflectable$Dict)),makeGalaxyAttributes=o=>instancedBufferAttributes($$Proxy)(o)(cyrb128("galaxy"))(u=>f=>{const d=sfc32(sfc32(sfc32(f))),m=sfc32(d),h=sfc32(m),b=sfc32(h),y=sfc32(b),v=sfc32(y),C=sfc32(v),w=sfc32(C),_=sfc32(w),g=sfc32(_),$=sfc32(g),T=sfc32($);return $Tuple({aPosition:[d.r*2-1,h.r*2-1,y.r*2-1],aPosition2:[m.r*2-1,b.r*2-1,v.r*2-1],aColor:[C.r,_.r,$.r],aColor2:[w.r,g.r,T.r]},unsafeDelete("r")(T))});var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(o){return typeof o=="string"&&REGEX.test(o)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(byteToHex[o[u+0]]+byteToHex[o[u+1]]+byteToHex[o[u+2]]+byteToHex[o[u+3]]+"-"+byteToHex[o[u+4]]+byteToHex[o[u+5]]+"-"+byteToHex[o[u+6]]+byteToHex[o[u+7]]+"-"+byteToHex[o[u+8]]+byteToHex[o[u+9]]+"-"+byteToHex[o[u+10]]+byteToHex[o[u+11]]+byteToHex[o[u+12]]+byteToHex[o[u+13]]+byteToHex[o[u+14]]+byteToHex[o[u+15]]).toLowerCase();if(!validate(f))throw TypeError("Stringified UUID is invalid");return f}function v4(o,u,f){o=o||{};var d=o.random||(o.rng||rng)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u){f=f||0;for(var m=0;m<16;++m)u[f+m]=d[m];return u}return stringify(d)}const _PubNub=()=>__vitePreload(()=>import("./pubnub.min.ed83bbd5.js").then(o=>o.p),[]),pubnub_=o=>u=>f=>function(){var d=v4(),m=new o.default({publishKey:"pub-c-672671ca-ea5d-4c31-9bbf-1c123cddfa2b",subscribeKey:"sub-c-9e61eeea-570c-48cd-8088-ad367df0dcf7",uuid:d});return m.subscribe({channels:[u]}),m.addListener({message:function(h){var b=Object.assign({},h);b.timetoken=parseInt(b.timetoken)/1e4,b.publisher!==d&&f(b)()}}),m},publish_=o=>function(u){return function(f){return function(){o.publish({channel:u,message:f})}}},messageIsSymbol={reflectSymbol:()=>"message"},actionIsSymbol={reflectSymbol:()=>"action"},iAmIsSymbol={reflectSymbol:()=>"iAm"},publisherIsSymbol={reflectSymbol:()=>"publisher"},timetokenIsSymbol={reflectSymbol:()=>"timetoken"},show$1=(()=>showNonEmptyList(showForeignError).show)(),recordWriteForeign1=(()=>{const o=consWriteForeignFields(actionIsSymbol)(fromJSONPubNubPlayerAction)(consWriteForeignFields(iAmIsSymbol)(writeForeignString)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),toJSONPubNubEvent=readRecord()(readFieldsCons(messageIsSymbol)(readRecord()(readFieldsCons(actionIsSymbol)(toJSONPubNubPlayerAction)(readFieldsCons(iAmIsSymbol)(readString)(readFieldsNil)()())()()))(readFieldsCons(publisherIsSymbol)(readString)(readFieldsCons(timetokenIsSymbol)(readNumber)(readFieldsNil)()())()())()()),pubnubE=o=>u=>f=>pubnub_(o)(u)(d=>bindE((()=>{const m=toJSONPubNubEvent.readImpl(d);if(m.tag==="Left")return throwException(error$1(show$1(m._1)));if(m.tag==="Right")return()=>m._1;fail$3()})())(f)),pubnub=o=>u=>_bind(_bind(_liftEffect(_PubNub))(toAff$p(coerce)))(f=>_bind(_liftEffect(create))(d=>_bind(_liftEffect(pubnubE(f)(u)(m=>d.push(m))))(m=>_pure({event:d.event,publish:h=>publish_(m)(u)(recordWriteForeign1.writeImpl({iAm:o,action:h}))})))),loader$1=o=>()=>new o,load$1=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff$1=o=>u=>makeAff(f=>{const d=load$1(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),loadAffRecord=o=>u=>loadAff$1(o)([u.right,u.left,u.top,u.bottom,u.front,u.back]),css2DRenderer=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DRenderer),css3DRenderer=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DRenderer),css2DObject=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DObject),css3DObject=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DObject),vector2=()=>__vitePreload(()=>import("./Vector2.3964b2c2.js"),[]).then(o=>o.Vector2),vector3=()=>__vitePreload(()=>import("./Vector3.5db2ef2e.js").then(o=>o.a),["assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Vector3),textureLoader=()=>__vitePreload(()=>import("./TextureLoader.60cda0eb.js"),["assets/TextureLoader.60cda0eb.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.TextureLoader),gltfLoader=()=>__vitePreload(()=>import("./GLTFLoader.3cfb26be.js"),["assets/GLTFLoader.3cfb26be.js","assets/three.module.81fc2a6a.js"]).then(o=>o.GLTFLoader),cubeTextureLoader=()=>__vitePreload(()=>import("./CubeTextureLoader.a71be225.js"),["assets/CubeTextureLoader.a71be225.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/CubeTexture.575c92d6.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.CubeTextureLoader),euler=()=>__vitePreload(()=>import("./Euler.d28ed76f.js"),["assets/Euler.d28ed76f.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js"]).then(o=>o.Euler),matrix4=()=>__vitePreload(()=>import("./Matrix4.0c7a2215.js"),["assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Matrix4),color=()=>__vitePreload(()=>import("./Color.5efc95ab.js"),["assets/Color.5efc95ab.js","assets/MathUtils.9169ae61.js","assets/constants.cc13e4fd.js"]).then(o=>o.Color),scene=()=>__vitePreload(()=>import("./Scene.5ac5f5be.js"),["assets/Scene.5ac5f5be.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Scene),group=()=>__vitePreload(()=>import("./Group.157021da.js"),["assets/Group.157021da.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Group),webGLRenderer=()=>__vitePreload(()=>import("./WebGLRenderer.16b7d376.js"),["assets/WebGLRenderer.16b7d376.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Frustum.21d548b8.js","assets/Vector3.5db2ef2e.js","assets/Sphere.bf80223e.js","assets/Matrix3.254ef6d6.js","assets/Matrix4.0c7a2215.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Color.5efc95ab.js","assets/Object3D.d81adcf4.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/utils.4cfc5b76.js","assets/PlaneGeometry.94665e38.js","assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/Mesh.53231fd1.js","assets/Ray.14000e07.js","assets/Texture.fb44cc87.js","assets/PerspectiveCamera.3def8065.js","assets/CubeTexture.575c92d6.js","assets/Group.157021da.js"]).then(o=>o.WebGLRenderer),mesh=()=>__vitePreload(()=>import("./Mesh.53231fd1.js").then(o=>o.b),["assets/Mesh.53231fd1.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Mesh),instancedMesh=()=>__vitePreload(()=>import("./InstancedMesh.016527f5.js"),["assets/InstancedMesh.016527f5.js","assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Mesh.53231fd1.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/BufferGeometry.d5615ad3.js","assets/utils.4cfc5b76.js"]).then(o=>o.InstancedMesh),meshStandardMaterial=()=>__vitePreload(()=>import("./MeshStandardMaterial.6787a3d9.js"),["assets/MeshStandardMaterial.6787a3d9.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshStandardMaterial),pointLight=()=>__vitePreload(()=>import("./PointLight.acc28636.js"),["assets/PointLight.acc28636.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/Frustum.21d548b8.js","assets/Sphere.bf80223e.js","assets/PerspectiveCamera.3def8065.js"]).then(o=>o.PointLight),ambientLight=()=>__vitePreload(()=>import("./AmbientLight.321e982d.js"),["assets/AmbientLight.321e982d.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.AmbientLight),sphereGeometry=()=>__vitePreload(()=>import("./SphereGeometry.46bea0af.js"),["assets/SphereGeometry.46bea0af.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.SphereGeometry),boxGeometry=()=>__vitePreload(()=>import("./BoxGeometry.d73cb17e.js"),["assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BoxGeometry),cylinderGeometry=()=>__vitePreload(()=>import("./CylinderGeometry.25a72d53.js"),["assets/CylinderGeometry.25a72d53.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.CylinderGeometry),planeGeometry=()=>__vitePreload(()=>import("./PlaneGeometry.94665e38.js"),["assets/PlaneGeometry.94665e38.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.PlaneGeometry),bufferGeometry=()=>__vitePreload(()=>import("./BufferGeometry.d5615ad3.js"),["assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BufferGeometry),perspectiveCamera=()=>__vitePreload(()=>import("./PerspectiveCamera.3def8065.js").then(o=>o.a),["assets/PerspectiveCamera.3def8065.js","assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.PerspectiveCamera),raycaster=()=>__vitePreload(()=>import("./Raycaster.8d6c944e.js"),["assets/Raycaster.8d6c944e.js","assets/Ray.14000e07.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Layers.61b05682.js"]).then(o=>o.Raycaster),shaderMaterial=()=>__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"]).then(o=>o.ShaderMaterial),bufferAttribute=()=>__vitePreload(()=>import("./BufferAttribute.ad6349b3.js"),["assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.BufferAttribute),instancedBufferAttribute=()=>__vitePreload(()=>import("./InstancedBufferAttribute.aa91042e.js"),["assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.InstancedBufferAttribute),points=()=>__vitePreload(()=>import("./Points.d53b4d59.js"),["assets/Points.d53b4d59.js","assets/Sphere.bf80223e.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/constants.cc13e4fd.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/Vector2.3964b2c2.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Points),meshPhongMaterial=()=>__vitePreload(()=>import("./MeshPhongMaterial.629d8a0e.js"),["assets/MeshPhongMaterial.629d8a0e.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshPhongMaterial),effectComposer=()=>__vitePreload(()=>import("./EffectComposer.45295e78.js"),["assets/EffectComposer.45295e78.js","assets/three.module.81fc2a6a.js","assets/CopyShader.1f7b6c4a.js","assets/ShaderPass.d65654b5.js","assets/Pass.09e32dfb.js"]).then(o=>o.EffectComposer),renderPass=()=>__vitePreload(()=>import("./RenderPass.fbc92c19.js"),["assets/RenderPass.fbc92c19.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.RenderPass),glitchPass=()=>__vitePreload(()=>import("./GlitchPass.345bbdd2.js"),["assets/GlitchPass.345bbdd2.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.GlitchPass),unrealBloomPass=()=>__vitePreload(()=>import("./UnrealBloomPass.2221478f.js"),["assets/UnrealBloomPass.2221478f.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js","assets/CopyShader.1f7b6c4a.js"]).then(o=>o.UnrealBloomPass),effectComposerPass=()=>Promise.all([__vitePreload(()=>import("./ShaderPass.d65654b5.js"),["assets/ShaderPass.d65654b5.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]),__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"])]).then(([o,u])=>{class f extends o.ShaderPass{constructor(m){super(new u.ShaderMaterial({uniforms:{tDiffuse:{value:null},incomingTexture:{value:m.renderTarget2.texture}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		uniform sampler2D tDiffuse;
    uniform sampler2D incomingTexture;

    varying vec2 vUv;

    void main() {

      gl_FragColor = ( texture2D( tDiffuse, vUv ) + texture2D( incomingTexture, vUv ) );

    }`})),this.effectComposer=m}render(m,h,b,y,v){this.effectComposer.renderToScreen=!1,this.effectComposer.render();const C=this.effectComposer.renderTarget2.texture;this.uniforms.incomingTexture.value=C,super.render(m,h,b,y,v)}}return f}),webGLRendererAff=_bind(_liftEffect(webGLRenderer))(toAff$p(coerce)),vector3Aff=_bind(_liftEffect(vector3))(toAff$p(coerce)),vector2Aff=_bind(_liftEffect(vector2))(toAff$p(coerce)),unrealBloomPassAff=_bind(_liftEffect(unrealBloomPass))(toAff$p(coerce)),textureLoaderAff=_bind(_liftEffect(textureLoader))(toAff$p(coerce)),sphereGeometryAff=_bind(_liftEffect(sphereGeometry))(toAff$p(coerce)),shaderMaterialAff=_bind(_liftEffect(shaderMaterial))(toAff$p(coerce)),sceneAff=_bind(_liftEffect(scene))(toAff$p(coerce)),renderPassAff=_bind(_liftEffect(renderPass))(toAff$p(coerce)),raycasterAff=_bind(_liftEffect(raycaster))(toAff$p(coerce)),pointsAff=_bind(_liftEffect(points))(toAff$p(coerce)),pointLightAff=_bind(_liftEffect(pointLight))(toAff$p(coerce)),planeGeometryAff=_bind(_liftEffect(planeGeometry))(toAff$p(coerce)),perspectiveCameraAff=_bind(_liftEffect(perspectiveCamera))(toAff$p(coerce)),meshStandardMaterialAff=_bind(_liftEffect(meshStandardMaterial))(toAff$p(coerce)),meshPhongMaterialAff=_bind(_liftEffect(meshPhongMaterial))(toAff$p(coerce)),meshAff=_bind(_liftEffect(mesh))(toAff$p(coerce)),matrix4Aff=_bind(_liftEffect(matrix4))(toAff$p(coerce)),instancedMeshAff=_bind(_liftEffect(instancedMesh))(toAff$p(coerce)),instancedBufferAttributeAff=_bind(_liftEffect(instancedBufferAttribute))(toAff$p(coerce)),groupAff=_bind(_liftEffect(group))(toAff$p(coerce)),gltfLoaderAff=_bind(_liftEffect(gltfLoader))(toAff$p(coerce)),glitchPassAff=_bind(_liftEffect(glitchPass))(toAff$p(coerce)),eulerAff=_bind(_liftEffect(euler))(toAff$p(coerce)),effectComposerPassAff=_bind(_liftEffect(effectComposerPass))(toAff$p(coerce)),effectComposerAff=_bind(_liftEffect(effectComposer))(toAff$p(coerce)),cylinderGeometryAff=_bind(_liftEffect(cylinderGeometry))(toAff$p(coerce)),cubeTextureLoaderAff=_bind(_liftEffect(cubeTextureLoader))(toAff$p(coerce)),css3DRendererAff=_bind(_liftEffect(css3DRenderer))(toAff$p(coerce)),css3DObjectAff=_bind(_liftEffect(css3DObject))(toAff$p(coerce)),css2DRendererAff=_bind(_liftEffect(css2DRenderer))(toAff$p(coerce)),css2DObjectAff=_bind(_liftEffect(css2DObject))(toAff$p(coerce)),colorAff=_bind(_liftEffect(color))(toAff$p(coerce)),bufferGeometryAff=_bind(_liftEffect(bufferGeometry))(toAff$p(coerce)),bufferAttributeAff=_bind(_liftEffect(bufferAttribute))(toAff$p(coerce)),boxGeometryAff=_bind(_liftEffect(boxGeometry))(toAff$p(coerce)),ambientLightAff=_bind(_liftEffect(ambientLight))(toAff$p(coerce)),loader=o=>()=>new o,load=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff=o=>u=>makeAff(f=>{const d=load(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),$RouteError=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteParser=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteResult=(o,u,f)=>({tag:o,_1:u,_2:f}),lookup=lookup$3(foldableArray)(eqString),genericShowArgsArgument={genericShowArgs:o=>[showStringImpl(o)]},EndOfPath=$RouteError("EndOfPath"),parsePath=(()=>{const o=arrayMap(f=>{const d=indexOf("=")(f);if(d.tag==="Just")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,take$2(d._1)(f));if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,drop$1(d._1+length("=")|0)(f));if(m.tag==="Just")return m._1;fail$3()})());if(d.tag==="Nothing")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,f);if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,"");if(m.tag==="Just")return m._1;fail$3()})());fail$3()}),u=f=>$Tuple((()=>{const d=(()=>f._1===""?[]:split("/")(f._1))();return d.length===2?d[0]===""?d[1]===""?[""]:arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d)})(),o((()=>f._2===""?[]:split("&")(f._2))()));return f=>{const d=indexOf("#")(f);if(d.tag==="Just"){const m=indexOf("?")(take$2(d._1)(f)),h=u((()=>{if(m.tag==="Just")return $Tuple(take$2(m._1)(take$2(d._1)(f)),drop$1(m._1+length("?")|0)(take$2(d._1)(f)));if(m.tag==="Nothing")return $Tuple(take$2(d._1)(f),"");fail$3()})());return{segments:h._1,params:h._2,hash:drop$1(d._1+length("#")|0)(f)}}if(d.tag==="Nothing"){const m=indexOf("?")(f),h=u((()=>{if(m.tag==="Just")return $Tuple(take$2(m._1)(f),drop$1(m._1+length("?")|0)(f));if(m.tag==="Nothing")return $Tuple(f,"");fail$3()})());return{segments:h._1,params:h._2,hash:""}}fail$3()}})(),param$1=o=>$RouteParser("Chomp",u=>{const f=lookup(o)(u.params);return f.tag==="Just"?$RouteResult("Success",u,f._1):$RouteResult("Fail",$RouteError("MissingParam",o))}),genericRouteError={to:o=>{if(o.tag==="Inl")return $RouteError("Expected",o._1._1,o._1._2);if(o.tag==="Inr"){if(o._1.tag==="Inl")return $RouteError("ExpectedEndOfPath",o._1._1);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return $RouteError("MissingParam",o._1._1._1);if(o._1._1.tag==="Inr")return EndOfPath;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Expected")return $Sum("Inl",$Product(o._1,o._2));if(o.tag==="ExpectedEndOfPath")return $Sum("Inr",$Sum("Inl",o._1));if(o.tag==="MissingParam")return $Sum("Inr",$Sum("Inr",$Sum("Inl",o._1)));if(o.tag==="EndOfPath")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showRouteError={show:(()=>{const o=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))({reflectSymbol:()=>"Expected"}),u=genericShowConstructor(genericShowArgsArgument)({reflectSymbol:()=>"ExpectedEndOfPath"}),f=genericShowConstructor(genericShowArgsArgument)({reflectSymbol:()=>"MissingParam"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EndOfPath"});return m=>{const h=genericRouteError.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},functorRouteResult={map:o=>u=>{if(u.tag==="Fail")return $RouteResult("Fail",u._1);if(u.tag==="Success")return $RouteResult("Success",u._1,o(u._2));fail$3()}},functorRouteParser={map:o=>u=>{if(u.tag==="Alt")return $RouteParser("Alt",arrayMap(functorRouteParser.map(o))(u._1));if(u.tag==="Chomp")return $RouteParser("Chomp",f=>functorRouteResult.map(o)(u._1(f)));if(u.tag==="Prefix")return $RouteParser("Prefix",u._1,functorRouteParser.map(o)(u._2));fail$3()}},end$1=$RouteParser("Chomp",o=>{const u=index(o.segments)(0);if(u.tag==="Nothing")return $RouteResult("Success",o,unit);if(u.tag==="Just")return $RouteResult("Fail",$RouteError("ExpectedEndOfPath",u._1));fail$3()}),chompPrefix=o=>u=>{const f=index(u.segments)(0);return f.tag==="Just"?o===f._1?$RouteResult("Success",{segments:slice(1)(u.segments.length)(u.segments),params:u.params,hash:u.hash},unit):$RouteResult("Fail",$RouteError("Expected",o,f._1)):$RouteResult("Fail",EndOfPath)},runRouteParser$lazy=binding(()=>u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,v=m;if(v.tag==="Alt"){h=!1,b=foldlArray(C=>w=>C.tag==="Fail"?runRouteParser$lazy()(y)(w):C)($RouteResult("Fail",EndOfPath))(v._1);continue}if(v.tag==="Chomp"){h=!1,b=v._1(y);continue}if(v.tag==="Prefix"){const C=chompPrefix(v._1)(y);if(C.tag==="Fail"){h=!1,b=$RouteResult("Fail",C._1);continue}if(C.tag==="Success"){d=C._1,m=v._2;continue}fail$3()}fail$3()}return b}),runRouteParser=runRouteParser$lazy(),run=o=>u=>{const f=runRouteParser(parsePath(u))(o);if(f.tag==="Fail")return $Either("Left",f._1);if(f.tag==="Success")return $Either("Right",f._2);fail$3()},applyRouteParser={apply:o=>u=>$RouteParser("Chomp",f=>{const d=runRouteParser(f)(o);if(d.tag==="Fail")return $RouteResult("Fail",d._1);if(d.tag==="Success")return functorRouteResult.map(d._2)(runRouteParser(d._1)(u));fail$3()}),Functor0:()=>functorRouteParser},altSnoc=o=>u=>{if(u.tag==="Prefix"){const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(u._1===d._1){const m=init$1(o);return run$2(withArray(pushAll([$RouteParser("Prefix",u._1,altRouteParser.alt(d._2)(u._2))]))((()=>{if(m.tag==="Just")return m._1;fail$3()})()))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))},altRouteParser={alt:o=>u=>o.tag==="Alt"?u.tag==="Alt"?$RouteParser("Alt",altAppend(o._1)(u._1)):$RouteParser("Alt",altSnoc(o._1)(u)):u.tag==="Alt"?$RouteParser("Alt",altCons(o)(u._1)):o.tag==="Prefix"?u.tag==="Prefix"?o._1===u._1?$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(u._2)):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]),Functor0:()=>functorRouteParser},altCons=o=>u=>{if(o.tag==="Prefix"){const f=index(u)(0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(o._1===d._1){const m=tail(u);return concatArray([$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(d._2))])((()=>{if(m.tag==="Just")return m._1;fail$3()})())}return concatArray([o])(u)}return concatArray([o])(u)}return concatArray([o])(u)},altAppend=o=>u=>{const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){const m=index(u)(0),h=(()=>{if(m.tag==="Just")return m._1;fail$3()})();if(h.tag==="Prefix"){if(d._1===h._1){const b=tail(u),y=concatArray([$RouteParser("Prefix",d._1,altRouteParser.alt(d._2)(h._2))])((()=>{if(b.tag==="Just")return b._1;fail$3()})()),v=init$1(o),C=(()=>{if(v.tag==="Just")return v._1;fail$3()})();return C.length>0?altAppend(C)(y):y}return concatArray(o)(u)}return concatArray(o)(u)}return concatArray(o)(u)},optional=o=>altRouteParser.alt(functorRouteParser.map(Just)(o))($RouteParser("Chomp",u=>$RouteResult("Success",u,Nothing))),semigroupRoutePrinter={append:o=>u=>f=>u(o(f))},put=o=>u=>({segments:run$2(withArray(pushAll([o]))(u.segments)),params:u.params,hash:u.hash}),param=o=>u=>f=>({segments:f.segments,params:concatArray([$Tuple(o,u)])(f.params),hash:f.hash}),monoidRoutePRinter={mempty:o=>o,Semigroup0:()=>semigroupRoutePrinter},$RouteDuplex=(o,u)=>({tag:"RouteDuplex",_1:o,_2:u}),identity$1=o=>o,foldMap=o=>u=>{if(u.tag==="Nothing")return monoidRoutePRinter.mempty;if(u.tag==="Just")return o(u._1);fail$3()},record=$RouteDuplex(o=>monoidRoutePRinter.mempty,$RouteParser("Chomp",o=>$RouteResult("Success",o,{}))),prop=o=>()=>()=>()=>u=>f=>d=>$RouteDuplex(m=>{const h=d._1(m),b=f._1(unsafeGet(o.reflectSymbol(u))(m));return y=>b(h(y))},applyRouteParser.apply(functorRouteParser.map(m=>h=>unsafeSet(o.reflectSymbol(u))(h)(m))(d._2))(f._2)),profunctorRouteDuplex={dimap:o=>u=>f=>$RouteDuplex(d=>f._1(o(d)),functorRouteParser.map(u)(f._2))},prefix=o=>u=>$RouteDuplex(f=>{const d=u._1(f);return m=>d(put(o)(m))},$RouteParser("Prefix",o,u._2)),path=(()=>{const o=foldrArray(prefix),u=split("/");return f=>{const d=u(f);return m=>o(m)(d)}})(),root=path(""),end=o=>$RouteDuplex(o._1,applyRouteParser.apply(functorRouteParser.map($$const)(o._2))(end$1)),buildParamsNil={buildParams:o=>u=>identity$1},buildParamsCons=o=>()=>()=>()=>()=>u=>({buildParams:f=>d=>m=>u.buildParams($$Proxy)(d)(prop(o)()()()($$Proxy)(unsafeGet(o.reflectSymbol($$Proxy))(d)((()=>{const h=o.reflectSymbol($$Proxy);return $RouteDuplex(param(h),param$1(h))})()))(m))}),gRouteConstructor=o=>()=>u=>({gRouteDuplex:f=>{const d=end(u.gRouteDuplexCtr(unsafeGet(o.reflectSymbol($$Proxy))(f)));return $RouteDuplex(m=>d._1(m),functorRouteParser.map(Constructor)(d._2))}}),gRouteAll={gRouteDuplexCtr:o=>$RouteDuplex(u=>o._1(u),functorRouteParser.map(Argument)(o._2))},$Route=o=>({tag:"Session",_1:o}),SessionIsSymbol={reflectSymbol:()=>"Session"},rideIsSymbol={reflectSymbol:()=>"ride"},trackIsSymbol={reflectSymbol:()=>"track"},showMaybe={show:o=>{if(o.tag==="Just")return"(Just "+(showStringImpl(o._1)+")");if(o.tag==="Nothing")return"Nothing";fail$3()}},genericRoute={to:o=>$Route(o),from:o=>o._1},route=(()=>root(profunctorRouteDuplex.dimap(genericRoute.from)(genericRoute.to)(gRouteConstructor(SessionIsSymbol)()(gRouteAll).gRouteDuplex({Session:buildParamsCons(rideIsSymbol)()()()()(buildParamsCons(trackIsSymbol)()()()()(buildParamsNil)).buildParams($$Proxy)({ride:o=>$RouteDuplex(foldMap(o._1),optional(o._2)),track:o=>$RouteDuplex(foldMap(o._1),optional(o._2))})(record)}))))(),showRoute={show:(()=>{const o=genericShowConstructor({genericShowArgs:u=>[(()=>{const f=cons(intercalate$2(": ")(["ride",showMaybe.show(u.ride)]))(cons(intercalate$2(": ")(["track",showMaybe.show(u.track)]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])})()]})(SessionIsSymbol);return u=>o["genericShow'"](u._1)})()};function pathname(o){return function(){return o.pathname}}function search(o){return function(){return o.search}}const useLilGui=()=>!1,force4=()=>!1,useFirebaseEmulatorInDevMode=o=>u=>()=>Promise.resolve(),min=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},monoidEffect=(()=>{const o={append:u=>f=>()=>(u(),f(),unit)};return{mempty:()=>unit,Semigroup0:()=>o}})(),for_=for_$9(applicativeEffect)(foldableMaybe),fromFoldable=fromFoldable$9(ordPlayer)(foldableArray),constMapping={mappingWithIndex:o=>u=>guiableSlider.guiable},hmapRecord1=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping1={mappingWithIndex:o=>u=>mappingTuple1.mapping(o)},hmapRecord2=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping1)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping2={mappingWithIndex:o=>u=>mappingTuple2.mapping(o)},hmapRecord3=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping2)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),ambientLightIsSymbol={reflectSymbol:()=>"ambientLight"},boxGeometryIsSymbol={reflectSymbol:()=>"boxGeometry"},bufferAttributeIsSymbol={reflectSymbol:()=>"bufferAttribute"},bufferGeometryIsSymbol={reflectSymbol:()=>"bufferGeometry"},colorIsSymbol={reflectSymbol:()=>"color"},css2DObjectIsSymbol={reflectSymbol:()=>"css2DObject"},css2DRendererIsSymbol={reflectSymbol:()=>"css2DRenderer"},css3DObjectIsSymbol={reflectSymbol:()=>"css3DObject"},css3DRendererIsSymbol={reflectSymbol:()=>"css3DRenderer"},cubeTextureLoaderIsSymbol={reflectSymbol:()=>"cubeTextureLoader"},cylinderGeometryIsSymbol={reflectSymbol:()=>"cylinderGeometry"},effectComposerIsSymbol={reflectSymbol:()=>"effectComposer"},effectComposerPassIsSymbol={reflectSymbol:()=>"effectComposerPass"},eulerIsSymbol={reflectSymbol:()=>"euler"},glitchPassIsSymbol={reflectSymbol:()=>"glitchPass"},gltfLoaderIsSymbol={reflectSymbol:()=>"gltfLoader"},groupIsSymbol={reflectSymbol:()=>"group"},instancedBufferAttributeIsSymbol={reflectSymbol:()=>"instancedBufferAttribute"},instancedMeshIsSymbol={reflectSymbol:()=>"instancedMesh"},matrix4IsSymbol={reflectSymbol:()=>"matrix4"},meshIsSymbol={reflectSymbol:()=>"mesh"},meshPhongMaterialIsSymbol={reflectSymbol:()=>"meshPhongMaterial"},meshStandardMaterialIsSymbol={reflectSymbol:()=>"meshStandardMaterial"},perspectiveCameraIsSymbol={reflectSymbol:()=>"perspectiveCamera"},planeIsSymbol={reflectSymbol:()=>"plane"},pointLightIsSymbol={reflectSymbol:()=>"pointLight"},pointsIsSymbol={reflectSymbol:()=>"points"},raycasterIsSymbol={reflectSymbol:()=>"raycaster"},renderPassIsSymbol={reflectSymbol:()=>"renderPass"},sceneIsSymbol={reflectSymbol:()=>"scene"},shaderMaterialIsSymbol={reflectSymbol:()=>"shaderMaterial"},sphereGeometryIsSymbol={reflectSymbol:()=>"sphereGeometry"},textureLoaderIsSymbol={reflectSymbol:()=>"textureLoader"},unrealBloomPassIsSymbol={reflectSymbol:()=>"unrealBloomPass"},vector2IsSymbol={reflectSymbol:()=>"vector2"},vector3IsSymbol={reflectSymbol:()=>"vector3"},webGLRendererIsSymbol={reflectSymbol:()=>"webGLRenderer"},hfoldlWithIndex=(()=>{const o=foldlRecordCons(ambientLightIsSymbol)()(foldingWithIndexParFoldPr()(ambientLightIsSymbol)())(foldlRecordCons(boxGeometryIsSymbol)()(foldingWithIndexParFoldPr()(boxGeometryIsSymbol)())(foldlRecordCons(bufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(bufferAttributeIsSymbol)())(foldlRecordCons(bufferGeometryIsSymbol)()(foldingWithIndexParFoldPr()(bufferGeometryIsSymbol)())(foldlRecordCons(colorIsSymbol)()(foldingWithIndexParFoldPr()(colorIsSymbol)())(foldlRecordCons(css2DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css2DObjectIsSymbol)())(foldlRecordCons(css2DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css2DRendererIsSymbol)())(foldlRecordCons(css3DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css3DObjectIsSymbol)())(foldlRecordCons(css3DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css3DRendererIsSymbol)())(foldlRecordCons(cubeTextureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(cubeTextureLoaderIsSymbol)())(foldlRecordCons(cylinderGeometryIsSymbol)()(foldingWithIndexParFoldPr()(cylinderGeometryIsSymbol)())(foldlRecordCons(effectComposerIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerIsSymbol)())(foldlRecordCons(effectComposerPassIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerPassIsSymbol)())(foldlRecordCons(eulerIsSymbol)()(foldingWithIndexParFoldPr()(eulerIsSymbol)())(foldlRecordCons(glitchPassIsSymbol)()(foldingWithIndexParFoldPr()(glitchPassIsSymbol)())(foldlRecordCons(gltfLoaderIsSymbol)()(foldingWithIndexParFoldPr()(gltfLoaderIsSymbol)())(foldlRecordCons(groupIsSymbol)()(foldingWithIndexParFoldPr()(groupIsSymbol)())(foldlRecordCons(instancedBufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(instancedBufferAttributeIsSymbol)())(foldlRecordCons(instancedMeshIsSymbol)()(foldingWithIndexParFoldPr()(instancedMeshIsSymbol)())(foldlRecordCons(matrix4IsSymbol)()(foldingWithIndexParFoldPr()(matrix4IsSymbol)())(foldlRecordCons(meshIsSymbol)()(foldingWithIndexParFoldPr()(meshIsSymbol)())(foldlRecordCons(meshPhongMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshPhongMaterialIsSymbol)())(foldlRecordCons(meshStandardMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshStandardMaterialIsSymbol)())(foldlRecordCons(perspectiveCameraIsSymbol)()(foldingWithIndexParFoldPr()(perspectiveCameraIsSymbol)())(foldlRecordCons(planeIsSymbol)()(foldingWithIndexParFoldPr()(planeIsSymbol)())(foldlRecordCons(pointLightIsSymbol)()(foldingWithIndexParFoldPr()(pointLightIsSymbol)())(foldlRecordCons(pointsIsSymbol)()(foldingWithIndexParFoldPr()(pointsIsSymbol)())(foldlRecordCons(raycasterIsSymbol)()(foldingWithIndexParFoldPr()(raycasterIsSymbol)())(foldlRecordCons(renderPassIsSymbol)()(foldingWithIndexParFoldPr()(renderPassIsSymbol)())(foldlRecordCons(sceneIsSymbol)()(foldingWithIndexParFoldPr()(sceneIsSymbol)())(foldlRecordCons(shaderMaterialIsSymbol)()(foldingWithIndexParFoldPr()(shaderMaterialIsSymbol)())(foldlRecordCons(sphereGeometryIsSymbol)()(foldingWithIndexParFoldPr()(sphereGeometryIsSymbol)())(foldlRecordCons(textureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(textureLoaderIsSymbol)())(foldlRecordCons(unrealBloomPassIsSymbol)()(foldingWithIndexParFoldPr()(unrealBloomPassIsSymbol)())(foldlRecordCons(vector2IsSymbol)()(foldingWithIndexParFoldPr()(vector2IsSymbol)())(foldlRecordCons(vector3IsSymbol)()(foldingWithIndexParFoldPr()(vector3IsSymbol)())(foldlRecordCons(webGLRendererIsSymbol)()(foldingWithIndexParFoldPr()(webGLRendererIsSymbol)())(foldlRecordNil)))))))))))))))))))))))))))))))))))));return u=>f=>o.foldlRecordRowList(u)(f)($$Proxy)})(),fromHomogeneous=o=>o,parTraverse=(()=>{const o=traversableWithIndexObject.traverseWithIndex(applicativeParAff);return u=>{const f=o(d=>m=>u(m));return d=>_sequential(f(d))}})(),show=o=>{if(o.tag==="Left")return"(Left "+(showRouteError.show(o._1)+")");if(o.tag==="Right")return"(Right "+(showRoute.show(o._1)+")");fail$3()},mempty1=o=>monoidEffect.mempty,mempty2=(()=>monoidRecord()((()=>{const o=monoidEffect.Semigroup0(),u=monoidEffect.Semigroup0(),f=monoidEffect.Semigroup0(),d=monoidEffect.Semigroup0(),m={appendRecord:h=>b=>y=>({p1:o.append(b.p1)(y.p1),p2:u.append(b.p2)(y.p2),p3:f.append(b.p3)(y.p3),p4:d.append(b.p4)(y.p4)})};return{memptyRecord:h=>({p1:monoidEffect.mempty,p2:monoidEffect.mempty,p3:monoidEffect.mempty,p4:monoidEffect.mempty}),SemigroupRecord0:()=>m}})()).mempty)(),folded=o=>(u,f)=>{const d={value:Leaf};return o(u,m=>{const h=d.value,b=d.value=semigroupKnownPlayers.append(m)(h);return f(b)})},logShow=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["kp",showKnownPlayers.show(o.kp)]))(cons(intercalate$2(": ")(["outcome",showPointOutcome.show(o.outcome)]))(cons(intercalate$2(": ")(["player",showPlayer.show(o.player)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),fromFoldable1=fromFoldable$8(foldableList),identity=o=>o,oneOf=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),renderingInfoMobile={halfAmbitus:{default:3.5,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:1.05,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.15,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:1.45,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},renderingInfoDesktop={halfAmbitus:{default:3.1,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:.55,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.45,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:.35,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},magicLeap=o=>u=>f=>d=>m=>()=>{const h=o.value;(()=>{if(m.player.tag==="Player1")return h.p1;if(m.player.tag==="Player2")return h.p2;if(m.player.tag==="Player3")return h.p3;if(m.player.tag==="Player4")return h.p4;fail$3()})()();const b=u();(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1p")(m.newPosition)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2p")(m.newPosition)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3p")(m.newPosition)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4p")(m.newPosition)(f);fail$3()})()();const y=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1y")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2y")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3y")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4y")(f);fail$3()})()(),v=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1z")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2z")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3z")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4z")(f);fail$3()})()(),C=subscribe(sampleBy(functorEvent)($$const)(d)(animationFrame))(_=>{const g=(()=>{if(m.newPosition.tag==="Position1")return-3*_.barZSpacing;if(m.newPosition.tag==="Position2")return-2*_.barZSpacing;if(m.newPosition.tag==="Position3")return-1*_.barZSpacing;if(m.newPosition.tag==="Position4")return 0;fail$3()})();return()=>{const $=u(),T=min(1)(max(0)(($-b)/1e3/(.4*sqrt(pow(g-v)(2)+pow(-y)(2))))),M=pow(1-T)(2)*y+2*(1-T)*T*((0+y)/2+.5)+pow(T)(2)*0,S=pow(1-T)(2)*v+2*(1-T)*T*((g+v)/2)+pow(T)(2)*g;(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1z")(S)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2z")(S)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3z")(S)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4z")(S)(f);fail$3()})()(),(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1y")(M)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2y")(M)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3y")(M)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4y")(M)(f);fail$3()})()();const I=(()=>{if(m.player.tag==="Player1")return x=>x.p1;if(m.player.tag==="Player2")return x=>x.p2;if(m.player.tag==="Player3")return x=>x.p3;if(m.player.tag==="Player4")return x=>x.p4;fail$3()})(),B=bindE(()=>{const x=o.value;return I(x)})(identity$v);if(T>=1){B();const x=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:monoidEffect.mempty,p2:x.p2,p3:x.p3,p4:x.p4};if(m.player.tag==="Player2")return{p2:monoidEffect.mempty,p1:x.p1,p3:x.p3,p4:x.p4};if(m.player.tag==="Player3")return{p3:monoidEffect.mempty,p1:x.p1,p2:x.p2,p4:x.p4};if(m.player.tag==="Player4")return{p4:monoidEffect.mempty,p1:x.p1,p2:x.p2,p3:x.p3};fail$3()})(),unit}return unit}})(),w=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:C,p2:w.p2,p3:w.p3,p4:w.p4};if(m.player.tag==="Player2")return{p2:C,p1:w.p1,p3:w.p3,p4:w.p4};if(m.player.tag==="Player3")return{p3:C,p1:w.p1,p2:w.p2,p4:w.p4};if(m.player.tag==="Player4")return{p4:C,p1:w.p1,p2:w.p2,p3:w.p3};fail$3()})(),unit},magicLeaps=o=>u=>f=>d=>m=>()=>{const h=f.value,b=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1p")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2p")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3p")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4p")(f);fail$3()})()();return magicLeap(o)(u)(f)(d)(m)(),for_((()=>(()=>h.p1p.tag==="Position1"?m.newPosition.tag==="Position1":h.p1p.tag==="Position2"?m.newPosition.tag==="Position2":h.p1p.tag==="Position3"?m.newPosition.tag==="Position3":h.p1p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player1):(()=>h.p2p.tag==="Position1"?m.newPosition.tag==="Position1":h.p2p.tag==="Position2"?m.newPosition.tag==="Position2":h.p2p.tag==="Position3"?m.newPosition.tag==="Position3":h.p2p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player2):(()=>h.p3p.tag==="Position1"?m.newPosition.tag==="Position1":h.p3p.tag==="Position2"?m.newPosition.tag==="Position2":h.p3p.tag==="Position3"?m.newPosition.tag==="Position3":h.p3p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player3):(()=>h.p4p.tag==="Position1"?m.newPosition.tag==="Position1":h.p4p.tag==="Position2"?m.newPosition.tag==="Position2":h.p4p.tag==="Position3"?m.newPosition.tag==="Position3":h.p4p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player4):Nothing)())(y=>magicLeap(o)(u)(f)(d)({player:y,newPosition:b}))()},updateKnownPlayerPoints=o=>u=>f=>()=>{const d=f.value;return f.value=update(ordPlayer)(m=>{if(m.tag==="HasNotStartedYet")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:topNumber,points:0,name:Nothing,penalties:u._1};if(u.tag==="Right")return{startedAt:topNumber,points:u._1,name:Nothing,penalties:0};fail$3()})()));if(m.tag==="HasStarted")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:m._1.startedAt,points:m._1.points,name:m._1.name,penalties:m._1.penalties+u._1};if(u.tag==="Right")return{startedAt:m._1.startedAt,points:m._1.points+u._1,name:m._1.name,penalties:m._1.penalties};fail$3()})()));fail$3()})(o)(d)},constructAppendableKnownPlayersFromRide=o=>fromFoldable(concatArray((()=>{if(o._1.player1.tag==="Just")return[$Tuple(Player1,(()=>{if(o._1.player1StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player1StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player1StartTimeInMilliseconds._1,points:(()=>{if(o._1.player1Points.tag==="Nothing")return 0;if(o._1.player1Points.tag==="Just")return o._1.player1Points._1;fail$3()})(),name:o._1.player1Name,penalties:(()=>{if(o._1.player1Penalties.tag==="Nothing")return 0;if(o._1.player1Penalties.tag==="Just")return o._1.player1Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player1.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player2.tag==="Just")return[$Tuple(Player2,(()=>{if(o._1.player2StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player2StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player2StartTimeInMilliseconds._1,points:(()=>{if(o._1.player2Points.tag==="Nothing")return 0;if(o._1.player2Points.tag==="Just")return o._1.player2Points._1;fail$3()})(),name:o._1.player2Name,penalties:(()=>{if(o._1.player2Penalties.tag==="Nothing")return 0;if(o._1.player2Penalties.tag==="Just")return o._1.player2Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player2.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player3.tag==="Just")return[$Tuple(Player3,(()=>{if(o._1.player3StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player3StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player3StartTimeInMilliseconds._1,points:(()=>{if(o._1.player3Points.tag==="Nothing")return 0;if(o._1.player3Points.tag==="Just")return o._1.player3Points._1;fail$3()})(),name:o._1.player3Name,penalties:(()=>{if(o._1.player3Penalties.tag==="Nothing")return 0;if(o._1.player3Penalties.tag==="Just")return o._1.player3Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player3.tag==="Nothing")return[];fail$3()})())((()=>{if(o._1.player4.tag==="Just")return[$Tuple(Player4,(()=>{if(o._1.player4StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player4StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player4StartTimeInMilliseconds._1,points:(()=>{if(o._1.player4Points.tag==="Nothing")return 0;if(o._1.player4Points.tag==="Just")return o._1.player4Points._1;fail$3()})(),name:o._1.player4Name,penalties:(()=>{if(o._1.player4Penalties.tag==="Nothing")return 0;if(o._1.player4Penalties.tag==="Just")return o._1.player4Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player4.tag==="Nothing")return[];fail$3()})())))),main=o=>u=>f=>d=>m=>{const h=_makeFiber(ffiUtil$1,_bind(firebaseAppAff)(b=>_bind(_bind(_liftEffect(firestoreDb(b)))(toAff$p(coerce)))(y=>_bind(_bind(_liftEffect(firebaseAuth(b)))(toAff$p(coerce)))(v=>_bind(_bind(_liftEffect(useFirebaseEmulatorInDevMode()(v)))(toAff$p(coerce)))(()=>_bind(_liftEffect(hasOrientationPermission))(C=>_liftEffect(()=>{const w=create();initializeGoogleClient(v)(w.push(!0))();const _={value:()=>unit};subscribe(authStateChangedEventWithAnonymousAccountCreation(v))(q=>{const G=info("I'm a user: "+_unsafeStringify(writeForeignUser.writeImpl(q.user)));return()=>(G(),(()=>{if(q.provider.tag==="AuthGoogle"){const Z=_makeFiber(ffiUtil$1,_bind(turnOnRealtimePresenceAff(b)(y)(v))(ie=>_liftEffect(()=>_.value=ie)));return()=>(Z().run(),unit)}if(q.provider.tag==="AuthAnonymous"){const Z=bindE(()=>_.value)(unsafeCoerce);return()=>(Z(),_.value=()=>unit)}fail$3()})()(),w.push((()=>{if(q.provider.tag==="AuthGoogle")return!0;if(q.provider.tag==="AuthAnonymous")return!1;fail$3()})())())})();const g=burning(!1)(w.event)(),$=cnow(),T=()=>$.cnow().time,M=windowImpl(),S=localStorage$1(M)(),I=create(),B=create(),x=create(),F=create(),R=create(),L=create(),z=create(),J=create(),K=emitsTouchEvents();return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(useLilGui))(q=>(()=>q?gui(hmapRecord1)(hmapRecord2)(hmapRecord3):noGui(hmapRecord1)(hmapRecord2)(hmapRecord3))()((()=>K?renderingInfoMobile:renderingInfoDesktop)())))(q=>_liftEffect(()=>{const G={value:Leaf},Z={value:()=>unit},ie={value:Nothing},Q=context_(),H=makeAudioBuffer_(Q)({size:44100,arr:[replicate$1(unfoldableArray)(1e3)(0)]})(),ne=location(M)(),re=pathname(ne)(),X=search(ne)(),ue=run(route._2)(re+X),le=eventListener(Ae=>bindE((()=>{const fe=innerWidth(M),_e=innerHeight(M);return()=>{const Ne=fe(),Je=_e();return{iw:toNumber(Ne),ih:toNumber(Je)}}})())(I.push))();addEventListener("resize")(le)(!0)(M)();const ye={value:empty$2},me=create(),ve=create();runInBody$p(toplevel({loaded:B.event,ride:Ae=>{const fe=randId$p(6);return()=>{const _e=fe();return me.push($ChannelChooser("RideChannel",_e,Ae._1,Ae._2))()}},negotiation:x.event,tutorial:me.push(TutorialChannel),editor:me.push(EditorChannel),isMobile:K,lpsCallback:Ae=>fe=>()=>{const _e=random(),Ne=G.value;return G.value=insert$2(ordNumber)(Ae+_e*.25)(fe)(Ne),unit},givePermission:F.push,pushBasic:R,pushLeap:L,columnPusher:ve,pushHitLong:z,pushReleaseLong:J,resizeE:I.event,goHome:me.push(NoChannel),renderingInfo:refToBehavior(q.renderingInfo),debug:q.debug,silence:H,icid:ie,wdw:M,unschedule:G,soundObj:ye}))();const Ce=randId();return _makeFiber(ffiUtil$1,_bind(_sequential(hfoldlWithIndex(ParFold)(_pure({}))({scene:sceneAff,vector2:vector2Aff,vector3:vector3Aff,meshStandardMaterial:meshStandardMaterialAff,bufferGeometry:bufferGeometryAff,points:pointsAff,meshPhongMaterial:meshPhongMaterialAff,boxGeometry:boxGeometryAff,cylinderGeometry:cylinderGeometryAff,pointLight:pointLightAff,ambientLight:ambientLightAff,css2DObject:css2DObjectAff,webGLRenderer:webGLRendererAff,effectComposer:effectComposerAff,effectComposerPass:effectComposerPassAff,unrealBloomPass:unrealBloomPassAff,glitchPass:glitchPassAff,renderPass:renderPassAff,color:colorAff,instancedMesh:instancedMeshAff,euler:eulerAff,raycaster:raycasterAff,mesh:meshAff,perspectiveCamera:perspectiveCameraAff,matrix4:matrix4Aff,plane:planeGeometryAff,bufferAttribute:bufferAttributeAff,instancedBufferAttribute:instancedBufferAttributeAff,shaderMaterial:shaderMaterialAff,gltfLoader:gltfLoaderAff,cubeTextureLoader:cubeTextureLoaderAff,sphereGeometry:sphereGeometryAff,css2DRenderer:css2DRendererAff,css3DObject:css3DObjectAff,css3DRenderer:css3DRendererAff,group:groupAff,textureLoader:textureLoaderAff})))(Ae=>_bind(_liftEffect(loader(Ae.textureLoader)))(fe=>_bind(_liftEffect(loader$1(Ae.cubeTextureLoader)))(_e=>_bind(_liftEffect(loader$2(Ae.gltfLoader)))(Ne=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff(fe))(d))))(Je=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff$2(Ne))(o))))(Ke=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAffRecord(_e))(_fmapObject(f,unsafeCoerce)))))(dt=>_bind(_liftEffect(log("Parsed route: "+show(ue))))(()=>{const pt=(()=>{if(ue.tag==="Left")return Nothing;if(ue.tag==="Right")return applyMaybe.apply((()=>ue._1._1.ride.tag==="Just"?$Maybe("Just",Tuple(ue._1._1.ride._1)):Nothing)())(ue._1._1.track);fail$3()})(),et=makeGalaxyAttributes(Ae.instancedBufferAttribute),yt=_bind(_liftEffect(()=>({value:Leaf})))(Te=>_bind(_liftEffect(create))(Ve=>_bind(_liftEffect((()=>K?xForTouch(T)(M)(Player4)(mempty1):xForKeyboard(T)(M)(Player4)(mempty1))()))(We=>_bind(_liftEffect(()=>{const Le=q.renderingInfo.value;return{value:initialPositions(Le)}}))(Le=>_bind(_liftEffect(subscribe(We)(je=>writeToRecordImpl("p4x")(je)(Le))))(()=>_bind(_liftEffect(subscribe(R.event)(je=>{const Ze=updateKnownPlayerPoints(Player4)(basicOutcomeToPointOutcome(beatsToBasicOutcome(je.deltaBeats)))(Te);return()=>{const Ge=Ze();return Ve.push(Ge)()}})))(()=>_bind(_liftEffect(subscribe(J.event)(je=>{const Ze=updateKnownPlayerPoints(Player4)($Either("Right",abs(2-je.distance)*je.pctConsumed*20))(Te);return()=>{const Ge=Ze();return Ve.push(Ge)()}})))(()=>_bind(_liftEffect(()=>({value:mempty2})))(je=>_bind(_liftEffect(subscribe(L.event)(Ze=>magicLeaps(je)(T)(Le)(refToBehavior(q.renderingInfo))({player:Player4,newPosition:Ze.newPosition}))))(()=>{const Ze=drop(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil)))))))));return _bind(dlInChunks(m)(100)(take$1(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil))))))))))(Q)(ye))(()=>_bind(_liftEffect(B.push(!0)))(()=>_bind(dlInChunks(m)(100)(Ze)(Q)(ye))(()=>_bind(joinFiber(Je))(Ge=>_bind(joinFiber(Ke))(it=>_bind(joinFiber(dt))(rt=>_liftEffect(()=>{const Xe=ye.value,tt=_lookup(Nothing,Just,"elvedenHallLordsCloakroom",Xe),$t=innerWidth(M)(),ht=innerHeight(M)();return{player:Player4,threeDI:Ae,initialDims:{iw:toNumber($t),ih:toNumber(ht)},shaders:u,galaxyAttributes:et,cNow:T,playerPositions:refToBehavior(Le),models:it,textures:Ge,cubeTextures:rt,longVerb:(()=>{if(tt.tag==="Nothing")return H;if(tt.tag==="Just")return tt._1;fail$3()})(),playerStatus:folded((()=>{const kt=sampleBy(functorEvent)($$const)(refToBehavior(Te))(applicativeEvent.pure(unit));return(Pt,At)=>{const _t=kt(Pt,At),zt=Ve.event(Pt,At);return()=>(_t(),zt())}})()),optMeIn:kt=>()=>{const Pt=Te.value,At=Te.value=semigroupKnownPlayers.append($Map("Two",Leaf,Player4,$StartStatus("HasStarted",{startedAt:kt,points:0,penalties:0,name:Nothing}),Leaf))(Pt);return Ve.push(At)()}}})))))))})))))))));return _bind(_liftEffect(subscribe(me.event)(Te=>{const Ve=_makeFiber(ffiUtil$1,_bind(_liftEffect(info("received channel "+showChannelChooser.show(Te))))(()=>_bind(_liftEffect(bindE(()=>Z.value)(identity$v)))(()=>{if(Te.tag==="EditorChannel")return _bind(_liftEffect(x.push(StartingNegotiation)))(()=>_bind(yt)(We=>_liftEffect(x.push($Negotiation("OpenEditor",{oe:{fbAuth:v,firestoreDb:y,goBack:me.push(NoChannel),signedInNonAnonymously:dedup(eqBoolean)(g.event)},wt:We})))));if(Te.tag==="TutorialChannel")return _bind(_liftEffect(x.push(StartingNegotiation)))(()=>_bind(yt)(We=>_liftEffect(x.push($Negotiation("WantsTutorial",We)))));if(Te.tag==="NoChannel")return _bind(joinFiber(Ke))(We=>_bind(joinFiber(dt))(Le=>_bind(_liftEffect((()=>{const je=innerWidth(M),Ze=innerHeight(M);return()=>{const Ge=je(),it=Ze();return{iw:toNumber(Ge),ih:toNumber(it)}}})()))(je=>_liftEffect(x.push($Negotiation("GetRulesOfGame",{threeDI:Ae,initialDims:je,firestoreDb:y,fbAuth:v,models:We,signOut:(()=>{const Ze=_makeFiber(ffiUtil$1,_bind(_liftEffect(signOut(v)(()=>unit)))(toAff$p(coerce)));return()=>(Ze().run(),unit)})(),cubeTextures:Le,cNow:T,signedInNonAnonymously:g.event}))))));if(Te.tag==="RideChannel")return _bind(_liftEffect(()=>({value:Leaf})))(We=>_bind(_liftEffect(create))(Le=>_bind(_liftEffect(x.push(StartingNegotiation)))(()=>_bind(_liftEffect(force4))(je=>_bind(createRideIfNotExistsYet(y)(Te._1))(Ze=>_bind(_liftEffect((()=>{const Ge=subscribe(eventChannelChanges(y)(Ze))(it=>()=>{const rt=We.value,Xe=We.value=semigroupKnownPlayers.append(constructAppendableKnownPlayersFromRide(it))(rt);return Le.push(Xe)()});return()=>{const it=Ge();return Z.value=it}})()))(()=>_bind(_bind(pubnub(Ce)(Ze))(Ge=>_pure({publish:Ge.publish,event:filter(it=>it.message.iAm!==Ce?$Maybe("Just",it.message.action):Nothing)(Ge.event)})))(Ge=>_bind(_liftEffect(()=>({value:mempty2})))(it=>_bind(_liftEffect(()=>{const rt=q.renderingInfo.value;return{value:initialPositions(rt)}}))(rt=>_bind(_liftEffect(subscribe(Ge.event)(Xe=>{if(Xe.tag==="HitLeap")return magicLeaps(it)(T)(rt)(refToBehavior(q.renderingInfo))(Xe._1);if(Xe.tag==="HitBasic"){const tt=updateKnownPlayerPoints(Xe._1.player)(Xe._1.outcome)(We);return()=>{const $t=tt();return logShow({player:Xe._1.player,outcome:Xe._1.outcome,kp:$t})(),Le.push($t)()}}if(Xe.tag==="PressedStart")return()=>{const tt=We.value,$t=We.value=semigroupKnownPlayers.append($Map("Two",Leaf,Xe._1.player,$StartStatus("HasStarted",{name:Xe._1.name,startedAt:Xe._1.startedAt,points:0,penalties:0}),Leaf))(tt);return Le.push($t)()};if(Xe.tag==="HitLong")return()=>unit;if(Xe.tag==="ReleaseLong"){const tt=updateKnownPlayerPoints(Xe._1.player)(Xe._1.outcome)(We);return()=>{const $t=tt();return Le.push($t)()}}if(Xe.tag==="XPositionKeyboard")return(()=>{if(Xe._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Xe._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Xe._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Xe._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(tt=>posFromKeypress(Xe._1.ktp)(tt.epochTime))(rt);if(Xe.tag==="XPositionMobile")return(()=>{if(Xe._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Xe._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Xe._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Xe._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(tt=>posFromOrientation(Xe._1.gtp)(tt.epochTime))(rt);fail$3()})))(()=>{const Xe=(()=>{if(ue.tag==="Left"||ue.tag==="Right")return Nothing;fail$3()})();return _bind(getPlayerForChannel(v)(y)(Ze)((()=>{if(Xe.tag==="Just")return $Maybe("Just",Xe._1);if(Xe.tag==="Nothing")return je?$Maybe("Just",Player4):Nothing;fail$3()})()))(tt=>{if(tt.tag==="Nothing")return _bind(_liftEffect(x.push(GameHasStarted)))(()=>never);if(tt.tag==="Just")return _bind(_liftEffect(()=>{const $t=We.value;return We.value=semigroupKnownPlayers.append($Map("Two",Leaf,tt._1,HasNotStartedYet,Leaf))($t),unit}))(()=>_bind(_liftEffect((()=>K?xForTouch(T)(M)(tt._1)(Ge.publish):xForKeyboard(T)(M)(tt._1)(Ge.publish))()))($t=>_bind(_liftEffect(subscribe($t)(ht=>{if(tt._1.tag==="Player1")return writeToRecordImpl("p1x")(ht)(rt);if(tt._1.tag==="Player2")return writeToRecordImpl("p2x")(ht)(rt);if(tt._1.tag==="Player3")return writeToRecordImpl("p3x")(ht)(rt);if(tt._1.tag==="Player4")return writeToRecordImpl("p4x")(ht)(rt);fail$3()})))(()=>_bind(_liftEffect(subscribe(R.event)(ht=>{const kt=basicOutcomeToPointOutcome(beatsToBasicOutcome(ht.deltaBeats)),Pt=updateKnownPlayerPoints(tt._1)(kt)(We);return()=>{const At=Pt();return Le.push(At)(),for_((()=>{const _t=lookup$2(ordPlayer)(tt._1)(At);if(_t.tag==="Just"){if(_t._1.tag==="HasNotStartedYet")return Nothing;if(_t._1.tag==="HasStarted")return $Maybe("Just",_t._1._1);fail$3()}if(_t.tag==="Nothing")return Nothing;fail$3()})())(_t=>{const zt=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(y)(v)(Ze)(tt._1)(_t.points)(_t.penalties));return()=>(zt().run(),unit)})(),Ge.publish($PlayerAction("HitBasic",{uniqueId:ht.uniqueId,logicalBeat:ht.logicalBeat,deltaBeats:ht.deltaBeats,hitAt:ht.hitAt,player:tt._1,outcome:kt}))()}})))(()=>_bind(_liftEffect(subscribe(z.event)(ht=>Ge.publish($PlayerAction("HitLong",{uniqueId:ht.uniqueId,hitAt:ht.hitAt,distance:ht.distance,player:tt._1})))))(()=>_bind(_liftEffect(subscribe(J.event)(ht=>{const kt=$Either("Right",abs(2-ht.distance)*ht.pctConsumed*20),Pt=updateKnownPlayerPoints(tt._1)(kt)(We);return()=>{const At=Pt();return Le.push(At)(),for_((()=>{const _t=lookup$2(ordPlayer)(tt._1)(At);if(_t.tag==="Just"){if(_t._1.tag==="HasNotStartedYet")return Nothing;if(_t._1.tag==="HasStarted")return $Maybe("Just",_t._1._1);fail$3()}if(_t.tag==="Nothing")return Nothing;fail$3()})())(_t=>{const zt=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(y)(v)(Ze)(tt._1)(_t.points)(_t.penalties));return()=>(zt().run(),unit)})(),Ge.publish($PlayerAction("ReleaseLong",{uniqueId:ht.uniqueId,hitAt:ht.hitAt,player:tt._1,distance:ht.distance,pctConsumed:ht.pctConsumed,releasedAt:ht.releasedAt,outcome:kt}))()}})))(()=>_bind(_liftEffect(subscribe(L.event)(ht=>{const kt=magicLeaps(it)(T)(rt)(refToBehavior(q.renderingInfo))({player:tt._1,newPosition:ht.newPosition});return()=>(kt(),Ge.publish($PlayerAction("HitLeap",{uniqueId:ht.uniqueId,hitAt:ht.hitAt,player:tt._1,oldPosition:ht.oldPosition,newPosition:ht.newPosition}))())})))(()=>{const ht=drop(300)($List("Cons",$Tuple(Te._3._1.url,Te._3._1.url),Nil)),kt=fromFoldable1(listMap(Pt=>$Tuple(Pt._1,Pt._2))($List("Cons",$Tuple(Te._3._1.url,Te._3._1.url),Nil)));return _bind(dlInChunks(kt)(100)(take$1(300)($List("Cons",$Tuple(Te._3._1.url,Te._3._1.url),Nil)))(Q)(ye))(()=>_bind(_liftEffect(B.push(!0)))(()=>_bind(dlInChunks(kt)(100)(ht)(Q)(ye))(()=>_bind(_liftEffect(getItem("player-name")(S)))(Pt=>_bind(joinFiber(Je))(At=>_bind(joinFiber(Ke))(_t=>_bind(joinFiber(dt))(zt=>_bind(_liftEffect((()=>{const an=innerWidth(M),Jt=innerHeight(M);return()=>{const Wt=an(),Yt=Jt();return{iw:toNumber(Wt),ih:toNumber(Yt)}}})()))(an=>_bind(getEventsAff(y)(Te._2))(Jt=>_liftEffect(x.push($Negotiation("Success",{player:tt._1,trackId:Te._2,track:Te._3,events:toAugmentedEvents(arrayMap(Wt=>Wt.data)(Jt)),initialDims:an,threeDI:Ae,playerName:Pt,shaders:u,galaxyAttributes:et,cNow:T,playerPositions:refToBehavior(rt),models:_t,channelName:Ze,pubNubEvent:Ge.event,textures:At,cubeTextures:zt,playerStatus:folded((()=>{const Wt=sampleBy(functorEvent)($$const)(refToBehavior(We))(applicativeEvent.pure(unit));return(Yt,Ye)=>{const He=Wt(Yt,Ye),mt=Le.event(Yt,Ye);return()=>(He(),mt())}})()),optMeIn:Wt=>Yt=>{const Ye=(()=>Yt.tag==="Nothing"?Pt:Yt)(),He=for_(Yt)(mt=>setItem("player-name")(mt)(S));return()=>{He();const mt=We.value,gt=We.value=semigroupKnownPlayers.append($Map("Two",Leaf,tt._1,$StartStatus("HasStarted",{startedAt:Wt,points:0,penalties:0,name:Ye}),Leaf))(mt);return Ge.publish($PlayerAction("PressedStart",{startedAt:Wt,name:Ye,player:tt._1}))(),Le.push(gt)()}}}))))))))))))})))))));fail$3()})}))))))))));fail$3()})));return()=>(Ve().run(),unit)})))(()=>_bind(_liftEffect((()=>{const Te=x.push(NeedsOrientation);return C?Te:()=>unit})()))(()=>_bind((()=>{if(pt.tag==="Nothing")return _pure(NoChannel);if(pt.tag==="Just")return _bind(getTrackAff(y)(pt._1._2))(Te=>_pure((()=>{const Ve=RideChannel(pt._1._1)(pt._1._2);if(Te.tag==="Nothing")return NoChannel;if(Te.tag==="Just")return Ve(Te._1);fail$3()})()));fail$3()})())(Te=>_bind(_liftEffect(subscribe(filter$p(identity)(oneOf([applicativeEvent.pure(!C),F.event])))(Ve=>me.push(Te))))(()=>_bind(_liftEffect(subscribe(filter$p(identity)((Ve,We)=>F.event(Ve,Le=>We(!Le))))(Ve=>x.push(WillNotWorkWithoutOrientation))))(()=>_pure(unit))))))})))))))))().run(),unit})))().run(),unit})))))));return()=>(h().run(),unit)},butterflies="/assets/butterflies.50d2e6a4.mp3",tutorial="/assets/tutorial.28f8239c.mp3",shakuhachi0="/assets/shakuhachi0.87441ba1.mp3",shakuhachi1="/assets/shakuhachi1.467979ab.mp3",shakuhachi2="/assets/shakuhachi2.e7dcdf09.mp3",shakuhachi3="/assets/shakuhachi3.d5a25298.mp3",floorTom="/assets/floorTom.72a3bc1a.mp3",elvedenHallLordsCloakroom="/assets/elvedenHallLordsCloakroom.16b64111.m4a",audio={butterflies,tutorial,shakuhachi0,shakuhachi1,shakuhachi2,shakuhachi3,floorTom,elvedenHallLordsCloakroom},galaxyVertex="data:application/octet-stream;base64,dW5pZm9ybSBmbG9hdCB1U2l6ZTsKdW5pZm9ybSBmbG9hdCB1VGltZTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb24yOwphdHRyaWJ1dGUgdmVjMyBhQ29sb3I7CmF0dHJpYnV0ZSB2ZWMzIGFDb2xvcjI7CnZhcnlpbmcgdmVjMiB2VXY7CiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0NgoKbWF0NCByb3RhdGlvblgoIGluIGZsb2F0IGFuZ2xlICkgewoJcmV0dXJuIG1hdDQoCTEuMCwJCTAsCQkJMCwJCQkwLAoJCQkgCQkwLCAJY29zKGFuZ2xlKSwJLXNpbihhbmdsZSksCQkwLAoJCQkJCTAsIAlzaW4oYW5nbGUpLAkgY29zKGFuZ2xlKSwJCTAsCgkJCQkJMCwgCQkJMCwJCQkgIDAsIAkJMSk7Cn0KCm1hdDQgcm90YXRpb25ZKCBpbiBmbG9hdCBhbmdsZSApIHsKCXJldHVybiBtYXQ0KAljb3MoYW5nbGUpLAkJMCwJCXNpbihhbmdsZSksCTAsCgkJCSAJCQkJMCwJCTEuMCwJCQkgMCwJMCwKCQkJCQktc2luKGFuZ2xlKSwJMCwJCWNvcyhhbmdsZSksCTAsCgkJCQkJCQkwLCAJCTAsCQkJCTAsCTEpOwp9CgptYXQ0IHJvdGF0aW9uWiggaW4gZmxvYXQgYW5nbGUgKSB7CglyZXR1cm4gbWF0NCgJY29zKGFuZ2xlKSwJCS1zaW4oYW5nbGUpLAkwLAkwLAoJCQkgCQlzaW4oYW5nbGUpLAkJY29zKGFuZ2xlKSwJCTAsCTAsCgkJCQkJCQkwLAkJCQkwLAkJMSwJMCwKCQkJCQkJCTAsCQkJCTAsCQkwLAkxKTsKfQoKbWF0MyByb3RNYXQoZmxvYXQgY29zdGhldGEsIHZlYzMgdmMpIHsKICBmbG9hdCBjID0gY29zdGhldGE7CiAgZmxvYXQgcyA9IHNxcnQoMS4wLShjKmMpKTsKICBmbG9hdCBDID0gMS4wLWM7CiAgZmxvYXQgeCA9IHZjLng7CiAgZmxvYXQgeSA9IHZjLnk7CiAgZmxvYXQgeiA9IHZjLno7CiAgbWF0MyBvdXR2OwogIG91dHZbMF1bMF0gPSB4KngqQytjOwogIG91dHZbMV1bMF0gPSB4KnkqQy16KnM7CiAgb3V0dlsyXVswXSA9IHgqeipDK3kqczsKICBvdXR2WzFdWzBdID0geSp4KkMreipzOwogIG91dHZbMV1bMV0gPSB5KnkqQytjOwogIG91dHZbMV1bMl0gPSB5KnoqQy14KnM7CiAgb3V0dlsyXVswXSA9IHoqeCpDLXkqczsKICBvdXR2WzJdWzFdID0geip5KkMreCpzOwogIG91dHZbMl1bMl0gPSB6KnoqQytjOwogIHJldHVybiBvdXR2Owp9CgpmbG9hdCBta1NpblRpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gc2luKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueCAqIDAuMDMpICsgZnV6ei55ICogUEkpICogMC41ICsgMC41Owp9CgpmbG9hdCBta0Nvc1RpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gY29zKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueSAqIDAuMDMpICsgZnV6ei56ICogUEkpICogMC41ICsgMC41Owp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgZHQgPSAwLjAyOwogIGZsb2F0IHNpblRpbWUgPSBta1NpblRpbWUodVRpbWUsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZSA9IG1rQ29zVGltZSh1VGltZSwgYVBvc2l0aW9uKTsKICBmbG9hdCBzaW5UaW1lRnV0dXJlID0gbWtTaW5UaW1lKHVUaW1lICsgZHQsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZUZ1dHVyZSA9IG1rQ29zVGltZSh1VGltZSArIGR0LCBhUG9zaXRpb24pOwogIGZsb2F0IHNpblRpbWUyID0gc2luKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IGNvc1RpbWUyID0gY29zKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IHNpblRpbWUzID0gc2luKHVUaW1lICogUEkgKiA2LjAgKiBhUG9zaXRpb24ueikgKiAwLjUgKyAwLjU7CiAgdmVjMyBtb2RQb3NpdGlvbjsKICBmbG9hdCBmbGFwRmFjdG9yID0gMC43NTsKICBtb2RQb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqIHNpblRpbWUzICogLTEuMCAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi54OwogIG1vZFBvc2l0aW9uLnkgPSBwb3NpdGlvbi55OwogIG1vZFBvc2l0aW9uLnogPSBhYnMocG9zaXRpb24ueCkgKiBzaW5UaW1lMyAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi56OwogIG1hdDQgc2NhbGVNYXRyaXggPSBtYXQ0KDEuMCk7CiAgc2NhbGVNYXRyaXhbMF1bMF0gPSAwLjA1OwogIHNjYWxlTWF0cml4WzFdWzFdID0gMC4wNTsKICBzY2FsZU1hdHJpeFsyXVsyXSA9IDAuMDU7CiAgbWF0NCB0cmFuc2xhdGlvbk1hdHJpeCA9IG1hdDQoMS4wKTsKICBmbG9hdCB4bm93ID0gbWl4KGFQb3NpdGlvbi54ICogMi4wLCBhUG9zaXRpb24yLnggKiAyLjAsIHNpblRpbWUpOwogIGZsb2F0IHlub3cgPSBtaXgoYVBvc2l0aW9uLnkgKiAyLjAsIGFQb3NpdGlvbjIueSAqIDIuMCwgY29zVGltZSk7CiAgZmxvYXQgem5vdyA9IC0yLjAgKyBtaXgoYVBvc2l0aW9uLnogKiAyLjAsIGFQb3NpdGlvbjIueiAqIDIuMCwgc2luVGltZSk7CiAgZmxvYXQgeEZ1dHVyZSA9IG1peChhUG9zaXRpb24ueCAqIDIuMCwgYVBvc2l0aW9uMi54ICogMi4wLCBzaW5UaW1lRnV0dXJlKTsKICBmbG9hdCB5RnV0dXJlID0gbWl4KGFQb3NpdGlvbi55ICogMi4wLCBhUG9zaXRpb24yLnkgKiAyLjAsIGNvc1RpbWVGdXR1cmUpOwogIGZsb2F0IHpGdXR1cmUgPSAtMi4wICsgbWl4KGFQb3NpdGlvbi56ICogMi4wLCBhUG9zaXRpb24yLnogKiAyLjAsIHNpblRpbWVGdXR1cmUpOwogIGZsb2F0IHhWZWwgPSAoeEZ1dHVyZSAtIHhub3cpIC8gZHQ7CiAgZmxvYXQgeVZlbCA9ICh5RnV0dXJlIC0geW5vdykgLyBkdDsKICBmbG9hdCB6VmVsID0gKHpGdXR1cmUgLSB6bm93KSAvIGR0OwogIHZlYzMgdmVsID0gbm9ybWFsaXplKHZlYzMoeFZlbCwgeVZlbCwgelZlbCkpOwogIHZlYzMgTSA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgdmVjMyBOID0gTSAtICh2ZWMzKDAuMCwgMS4wLCAwLjApIC0gdmVsKTsKICBmbG9hdCBjb3N0aGV0YSA9IGRvdChNLE4pLyhsZW5ndGgoTSkqbGVuZ3RoKE4pKTsKICB2ZWMzIGNyb3NzTU4gPSBjcm9zcyhNLCBOKTsKICB2ZWMzIGF4aXMgPSBjcm9zc01OIC8gbGVuZ3RoKGNyb3NzTU4pOwogIHRyYW5zbGF0aW9uTWF0cml4WzNdWzBdID0geG5vdzsKICB0cmFuc2xhdGlvbk1hdHJpeFszXVsxXSA9IHlub3c7CiAgdHJhbnNsYXRpb25NYXRyaXhbM11bMl0gPSB6bm93OwogIHZVdiA9IHV2OwogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogIHNjYWxlTWF0cml4ICogdmVjNChyb3RNYXQoY29zdGhldGEsIGNyb3NzTU4pICogbW9kUG9zaXRpb24sIDEuMCk7CiAgdkNvbG9yID0gdmVjMyhtaXgoYUNvbG9yLngsYUNvbG9yMi54LHNpblRpbWUyKSwgbWl4KGFDb2xvci55LGFDb2xvcjIueSxjb3NUaW1lMiksIG1peChhQ29sb3IueixhQ29sb3IyLnosc2luVGltZTIpKTsKfQ==",galaxyFragment="data:application/octet-stream;base64,dW5pZm9ybSBzYW1wbGVyMkQgdUJ1dHRlcmZseTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKdmFyeWluZyB2ZWMyIHZVdjsKCnZvaWQgbWFpbigpIHsKICAgIC8vIExpZ2h0IHBvaW50CiAgICAvLyBkaXN0YW5jZSBmcm9tIGNlbnRlcgogICAgLy9mbG9hdCBzdHJlbmd0aCA9IGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoMC41KSk7CiAgICAvL2Zsb2F0IHN0cmVuZ3RoID0gZGlzdGFuY2UodlV2LCB2ZWMyKDAuNSkpOwogICAgLy8gYnJpZ2h0ZXN0IGF0IGNlbnRlcgogICAgLy8gc3RyZW5ndGggPSAxLjAgLSBzdHJlbmd0aDsKICAgIC8vIGZhc3QgZmFsbCBvZmYKICAgIC8vIHN0cmVuZ3RoID0gcG93KHN0cmVuZ3RoLCAxMC4wKTsKICAgIC8vIGFtcCB1cCB0byBvdXIgZGVzaXJlZCBjb2xvciBiYXNlZCBvbiBzdHJlbmd0aAogICAgLy92ZWM0IGNvbG9yUmF3ID0gdGV4dHVyZTJEKHVCdXR0ZXJmbHksIHZlYzIoZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnkpKTsKICAgIHZlYzQgY29sb3JSYXcgPSB0ZXh0dXJlMkQodUJ1dHRlcmZseSwgdlV2KTsKICAgIHZlYzQgY29sb3IgPSB2ZWM0KG1peCh2Q29sb3IueCwgY29sb3JSYXcueCwgMC41KSwgbWl4KHZDb2xvci55LCBjb2xvclJhdy55LCAwLjUpLCBtaXgodkNvbG9yLnosIGNvbG9yUmF3LnosIDAuNSksIGNvbG9yUmF3LmEgKiAwLjgpOwogICAgLy92ZWM0IGNvbG9yID0gY29sb3JSYXc7CiAgICAvLyB2ZWMzIGNvbG9yMyA9IG1peCh2ZWMzKDAuMCksIHZDb2xvciwgc3RyZW5ndGgpOwogICAgLy8gdmVjNCBjb2xvciA9IHZlYzQoY29sb3IzLCAxLjApOwogICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn0=",shaders={galaxy:{vertex:galaxyVertex,fragment:galaxyFragment}},skyboxBack="/assets/back.8d9e29a9.png",skyboxBottom="/assets/bottom.12fd9dfa.png",skyboxFront="/assets/front.0bb4245b.png",skyboxLeft="/assets/left.9c5ded93.png",skyboxRight="/assets/right.dc686941.png",skyboxTop="/assets/top.56ee4123.png",cubeTextures={skybox:{back:skyboxBack,bottom:skyboxBottom,front:skyboxFront,left:skyboxLeft,right:skyboxRight,top:skyboxTop}},textures={},models={spaceship:"./models/spaceship26_mod.gltf"};main(models)(shaders)(cubeTextures)(textures)(audio)();export{getDefaultExportFromCjs as g};
