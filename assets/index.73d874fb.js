(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const b of h.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function f(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerpolicy&&(h.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?h.credentials="include":m.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(m){if(m.ep)return;m.ep=!0;const h=f(m);fetch(m.href,h)}})();const style$1="",style="";(function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var b in d)f.d(h,b,function(y){return d[y]}.bind(null,b));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=193)})([function(o,u,f){(function(d){function m(h){return h&&h.Math==Math&&h}o.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,f(154))},function(o,u,d){var d=d(60),m=Function.prototype,h=m.bind,b=m.call,y=d&&h.bind(b,b);o.exports=d?function(_){return _&&y(_)}:function(_){return _&&function(){return b.apply(_,arguments)}}},function(o,u){o.exports=function(f){try{return!!f()}catch{return!0}}},function(o,u,f){var d=f(0),m=f(42).f,h=f(45),b=f(37),y=f(98),_=f(126),w=f(81);o.exports=function(M,$){var g,v,k,C=M.target,S=M.global,I=M.stat,O=S?d:I?d[C]||y(C,{}):(d[C]||{}).prototype;if(O)for(g in $){if(v=$[g],k=M.noTargetGet?(k=m(O,g))&&k.value:O[g],!w(S?g:C+(I?".":"#")+g,M.forced)&&k!==void 0){if(typeof v==typeof k)continue;_(v,k)}(M.sham||k&&k.sham)&&h(v,"sham",!0),b(O,g,v,M)}}},function(o,u,h){var d=h(105),m=h(37),h=h(158);d||m(Object.prototype,"toString",h,{unsafe:!0})},function(o,u,w){var d=w(30),m=w(89),h=w(68),v=w(49),b=w(22).f,y=w(109),_=w(54),w=w(17),M="Array Iterator",$=v.set,g=v.getterFor(M),v=(o.exports=y(Array,"Array",function(k,C){$(this,{type:M,target:d(k),index:0,kind:C})},function(){var k=g(this),C=k.target,S=k.kind,I=k.index++;return!C||I>=C.length?{value:k.target=void 0,done:!0}:S=="keys"?{value:I,done:!1}:S=="values"?{value:C[I],done:!1}:{value:[I,C[I]],done:!1}},"values"),h.Arguments=h.Array);if(m("keys"),m("values"),m("entries"),!_&&w&&v.name!=="values")try{b(v,"name",{value:"values"})}catch{}},function(o,u,b){var d=b(137).charAt,m=b(23),h=b(49),b=b(109),y="String Iterator",_=h.set,w=h.getterFor(y);b(String,"String",function(M){_(this,{type:y,string:m(M),index:0})},function(){var M=w(this),$=M.string,g=M.index;return g>=$.length?{value:void 0,done:!0}:($=d($,g),M.index+=$.length,{value:$,done:!1})})},function(o,u,Ae){function d(Ye,qe){var gt=xt[Ye]=G(Ze);return ot(gt,{type:ct,tag:Ye,description:qe}),I||(gt.description=qe),gt}function m(Ye,qe,gt){return Ye===Je&&m(Bt,qe,gt),ee(Ye),qe=X(qe),ee(gt),F(xt,qe)?(gt.enumerable?(F(Ye,De)&&Ye[De][qe]&&(Ye[De][qe]=!1),gt=G(gt,{enumerable:Q(0,!1)})):(F(Ye,De)||$t(Ye,De,Q(1,{})),Ye[De][qe]=!0),fn(Ye,qe,gt)):$t(Ye,qe,gt)}function h(Ye,yt){ee(Ye);var gt=q(yt),yt=ne(gt).concat(w(gt));return it(yt,function(Tt){I&&!k(b,gt,Tt)||m(Ye,Tt,gt[Tt])}),Ye}function b(qe){var qe=X(qe),gt=k(Et,this,qe);return!(this===Je&&F(xt,qe)&&!F(Bt,qe))&&(!(gt||!F(this,qe)||!F(xt,qe)||F(this,De)&&this[De][qe])||gt)}function y(yt,Tt){var gt,yt=q(yt),Tt=X(Tt);if(yt!==Je||!F(xt,Tt)||F(Bt,Tt))return!(gt=bt(yt,Tt))||!F(xt,Tt)||F(yt,De)&&yt[De][Tt]||(gt.enumerable=!0),gt}function _(qe){var qe=Ke(q(qe)),gt=[];return it(qe,function(yt){F(xt,yt)||F(fe,yt)||dt(gt,yt)}),gt}function w(gt){var qe=gt===Je,gt=Ke(qe?Bt:q(gt)),yt=[];return it(gt,function(Tt){!F(xt,Tt)||qe&&!F(Je,Tt)||dt(yt,xt[Tt])}),yt}var M,$=Ae(3),Vt=Ae(0),g=Ae(43),v=Ae(84),k=Ae(21),C=Ae(1),S=Ae(54),I=Ae(17),O=Ae(96),x=Ae(2),F=Ae(20),R=Ae(86),L=Ae(14),D=Ae(19),J=Ae(44),K=Ae(73),ee=Ae(18),H=Ae(36),q=Ae(30),X=Ae(72),ie=Ae(23),Q=Ae(61),G=Ae(50),ne=Ae(66),re=Ae(55),Y=Ae(107),le=Ae(103),ue=Ae(42),ge=Ae(22),ye=Ae(132),_e=Ae(70),Ce=Ae(106),be=Ae(37),Ne=Ae(77),Xe=Ae(79),fe=Ae(63),ve=Ae(78),Le=Ae(12),Ie=Ae(133),We=Ae(134),nt=Ae(87),et=Ae(49),it=Ae(56).forEach,De=Xe("hidden"),ct="Symbol",Ae="prototype",Xe=Le("toPrimitive"),ot=et.set,je=et.getterFor(ct),Je=Object[Ae],Ge=Vt.Symbol,Ze=Ge&&Ge[Ae],rt=Vt.TypeError,et=Vt.QObject,at=g("JSON","stringify"),bt=ue.f,$t=ge.f,Ke=Y.f,Et=_e.f,dt=C([].push),xt=Ne("symbols"),Bt=Ne("op-symbols"),Ft=Ne("string-to-symbol-registry"),Ct=Ne("symbol-to-string-registry"),Vt=Ne("wks"),Ut=!et||!et[Ae]||!et[Ae].findChild,fn=I&&x(function(){return G($t({},"a",{get:function(){return $t(this,"a",{value:7}).a}})).a!=7})?function(Ye,qe,gt){var yt=bt(Je,qe);yt&&delete Je[qe],$t(Ye,qe,gt),yt&&Ye!==Je&&$t(Je,qe,yt)}:$t;O||(be(Ze=(Ge=function(){if(J(Ze,this))throw rt("Symbol is not a constructor");var Ye=arguments.length&&arguments[0]!==void 0?ie(arguments[0]):void 0,qe=ve(Ye),gt=function(yt){this===Je&&k(gt,Bt,yt),F(this,De)&&F(this[De],qe)&&(this[De][qe]=!1),fn(this,qe,Q(1,yt))};return I&&Ut&&fn(Je,qe,{configurable:!0,set:gt}),d(qe,Ye)})[Ae],"toString",function(){return je(this).tag}),be(Ge,"withoutSetter",function(Ye){return d(ve(Ye),Ye)}),_e.f=b,ge.f=m,ye.f=h,ue.f=y,re.f=Y.f=_,le.f=w,Ie.f=function(Ye){return d(Le(Ye),Ye)},I&&($t(Ze,"description",{configurable:!0,get:function(){return je(this).description}}),S||be(Je,"propertyIsEnumerable",b,{unsafe:!0}))),$({global:!0,wrap:!0,forced:!O,sham:!O},{Symbol:Ge}),it(ne(Vt),function(Ye){We(Ye)}),$({target:ct,stat:!0,forced:!O},{for:function(Ye){if(Ye=ie(Ye),F(Ft,Ye))return Ft[Ye];var qe=Ge(Ye);return Ft[Ye]=qe,Ct[qe]=Ye,qe},keyFor:function(Ye){if(!K(Ye))throw rt(Ye+" is not a symbol");if(F(Ct,Ye))return Ct[Ye]},useSetter:function(){Ut=!0},useSimple:function(){Ut=!1}}),$({target:"Object",stat:!0,forced:!O,sham:!I},{create:function(Ye,qe){return qe===void 0?G(Ye):h(G(Ye),qe)},defineProperty:m,defineProperties:h,getOwnPropertyDescriptor:y}),$({target:"Object",stat:!0,forced:!O},{getOwnPropertyNames:_,getOwnPropertySymbols:w}),$({target:"Object",stat:!0,forced:x(function(){le.f(1)})},{getOwnPropertySymbols:function(Ye){return le.f(H(Ye))}}),at&&$({target:"JSON",stat:!0,forced:!O||x(function(){var Ye=Ge();return at([Ye])!="[null]"||at({a:Ye})!="{}"||at(Object(Ye))!="{}"})},{stringify:function(Ye,qe,gt){var yt=Ce(arguments),Tt=qe;if((D(qe)||Ye!==void 0)&&!K(Ye))return R(qe)||(qe=function(kn,Ot){if(L(Tt)&&(Ot=k(Tt,this,kn,Ot)),!K(Ot))return Ot}),yt[1]=qe,v(at,null,yt)}}),Ze[Xe]||(M=Ze.valueOf,be(Ze,Xe,function(Ye){return k(M,this)})),nt(Ge,ct),fe[De]=!0},function(o,u,M){function d(k,C){if(k){if(k[$]!==v)try{w(k,$,v)}catch{k[$]=v}if(k[g]||w(k,g,C),b[C]){for(var S in _)if(k[S]!==_[S])try{w(k,S,_[S])}catch{k[S]=_[S]}}}}var m,h=M(0),b=M(138),y=M(139),_=M(5),w=M(45),M=M(12),$=M("iterator"),g=M("toStringTag"),v=_.values;for(m in b)d(h[m]&&h[m].prototype,m);d(y,"DOMTokenList")},function(o,u,f){function d(M){if(M&&M.forEach!==_)try{w(M,"forEach",_)}catch{M.forEach=_}}var m,h=f(0),b=f(138),y=f(139),_=f(168),w=f(45);for(m in b)b[m]&&d(h[m]&&h[m].prototype);d(y)},function(o,u,x){var d,m,h,b,y,_,w,M=x(3),$=x(17),g=x(0),v=x(1),k=x(20),C=x(14),S=x(44),I=x(23),O=x(22).f,x=x(126),F=g.Symbol,R=F&&F.prototype;!$||!C(F)||"description"in R&&F().description===void 0||(d={},x(g=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:I(arguments[0]),D=S(R,this)?new F(L):L===void 0?F():F(L);return L===""&&(d[D]=!0),D},F),(g.prototype=R).constructor=g,m=String(F("test"))=="Symbol(test)",h=v(R.toString),b=v(R.valueOf),y=/^Symbol\((.*)\)[^)]+$/,_=v("".replace),w=v("".slice),O(R,"description",{configurable:!0,get:function(){var L=b(this),D=h(L);return k(d,L)?"":(L=m?w(D,7,-1):_(D,y,"$1"),L===""?void 0:L)}}),M({global:!0,forced:!0},{Symbol:g}))},function(o,u,f){f(134)("iterator")},function(o,u,f){var d=f(0),m=f(77),h=f(20),b=f(78),y=f(96),_=f(123),w=m("wks"),M=d.Symbol,$=M&&M.for,g=_?M:M&&M.withoutSetter||b;o.exports=function(v){var k;return h(w,v)&&(y||typeof w[v]=="string")||(k="Symbol."+v,y&&h(M,v)?w[v]=M[v]:w[v]=(_&&$?$:g)(k)),w[v]}},function(o,u,f){var d=f(3),m=f(36),h=f(66);d({target:"Object",stat:!0,forced:f(2)(function(){h(1)})},{keys:function(b){return h(m(b))}})},function(o,u){o.exports=function(f){return typeof f=="function"}},function(o,u,f){var d=f(3),m=f(56).filter;d({target:"Array",proto:!0,forced:!f(94)("filter")},{filter:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,m){var d=m(3),m=m(90);d({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(o,u,f){var d=f(0),m=f(19),h=d.String,b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not an object")}},function(o,u,f){var d=f(14);o.exports=function(m){return typeof m=="object"?m!==null:d(m)}},function(o,u,f){var d=f(1),m=f(36),h=d({}.hasOwnProperty);o.exports=Object.hasOwn||function(b,y){return h(m(b),y)}},function(o,u,d){var d=d(60),m=Function.prototype.call;o.exports=d?m.bind(m):function(){return m.apply(m,arguments)}},function(o,u,f){var d=f(0),m=f(17),h=f(124),b=f(125),y=f(18),_=f(72),w=d.TypeError,M=Object.defineProperty,$=Object.getOwnPropertyDescriptor,g="enumerable",v="configurable",k="writable";u.f=m?b?function(C,S,I){var O;return y(C),S=_(S),y(I),typeof C=="function"&&S==="prototype"&&"value"in I&&k in I&&!I[k]&&(O=$(C,S))&&O[k]&&(C[S]=I.value,I={configurable:(v in I?I:O)[v],enumerable:(g in I?I:O)[g],writable:!1}),M(C,S,I)}:M:function(C,S,I){if(y(C),S=_(S),y(I),h)try{return M(C,S,I)}catch{}if("get"in I||"set"in I)throw w("Accessors not supported");return"value"in I&&(C[S]=I.value),C}},function(o,u,f){var d=f(0),m=f(83),h=d.String;o.exports=function(b){if(m(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return h(b)}},function(o,u,b){var d=b(3),y=b(2),m=b(30),h=b(42).f,b=b(17),y=y(function(){h(1)});d({target:"Object",stat:!0,forced:!b||y,sham:!b},{getOwnPropertyDescriptor:function(_,w){return h(m(_),w)}})},function(o,u,f){var d=f(3),m=f(17),h=f(127),b=f(30),y=f(42),_=f(67);d({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(w){for(var M,$,g=b(w),v=y.f,k=h(g),C={},S=0;k.length>S;)($=v(g,M=k[S++]))!==void 0&&_(C,M,$);return C}})},function(o,u,g){var d=g(3),O=g(0),m=g(2),h=g(86),b=g(19),y=g(36),_=g(46),w=g(67),M=g(135),$=g(94),I=g(12),g=g(74),v=I("isConcatSpreadable"),k=9007199254740991,C="Maximum allowed index exceeded",S=O.TypeError,I=51<=g||!m(function(){var x=[];return x[v]=!1,x.concat()[0]!==x}),O=$("concat");d({target:"Array",proto:!0,forced:!I||!O},{concat:function(x){for(var F,R,L,D=y(this),J=M(D,0),K=0,ee=-1,H=arguments.length;ee<H;ee++)if(function(q){if(!b(q))return!1;var X=q[v];return X!==void 0?!!X:h(q)}(L=ee===-1?D:arguments[ee])){if(R=_(L),k<K+R)throw S(C);for(F=0;F<R;F++,K++)F in L&&w(J,K,L[F])}else{if(k<=K)throw S(C);w(J,K++,L)}return J.length=K,J}})},function(o,u,C){var d=C(3),m=C(0),h=C(86),b=C(85),y=C(19),_=C(101),w=C(46),M=C(30),$=C(67),g=C(12),v=C(94),k=C(106),C=v("slice"),S=g("species"),I=m.Array,O=Math.max;d({target:"Array",proto:!0,forced:!C},{slice:function(x,F){var R,L,D,J=M(this),K=w(J),ee=_(x,K),H=_(F===void 0?K:F,K);if(h(J)&&(R=J.constructor,(R=b(R)&&(R===I||h(R.prototype))||y(R)&&(R=R[S])===null?void 0:R)===I||R===void 0))return k(J,ee,H);for(L=new(R===void 0?I:R)(O(H-ee,0)),D=0;ee<H;ee++,D++)ee in J&&$(L,D,J[ee]);return L.length=D,L}})},function(o,u,h){var d=h(3),m=h(56).find,h=h(89),b="find",y=!0;b in[]&&Array(1)[b](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{find:function(_){return m(this,_,1<arguments.length?arguments[1]:void 0)}}),h(b)},function(o,u,f){f(3)({target:"Object",stat:!0},{setPrototypeOf:f(104)})},function(o,u,f){var d=f(71),m=f(39);o.exports=function(h){return d(m(h))}},function(o,u,y){var d=y(3),m=y(2),h=y(36),b=y(82),y=y(130);d({target:"Object",stat:!0,forced:m(function(){b(1)}),sham:!y},{getPrototypeOf:function(_){return b(h(_))}})},function(o,u,M){var d=M(3),S=M(43),m=M(84),h=M(159),b=M(131),y=M(18),_=M(19),w=M(50),M=M(2),$=S("Reflect","construct"),g=Object.prototype,v=[].push,k=M(function(){function I(){}return!($(function(){},[],I)instanceof I)}),C=!M(function(){$(function(){})}),S=k||C;d({target:"Reflect",stat:!0,forced:S,sham:S},{construct:function(I,O){b(I),y(O);var x=arguments.length<3?I:b(arguments[2]);if(C&&!k)return $(I,O,x);if(I==x){switch(O.length){case 0:return new I;case 1:return new I(O[0]);case 2:return new I(O[0],O[1]);case 3:return new I(O[0],O[1],O[2]);case 4:return new I(O[0],O[1],O[2],O[3])}var F=[null];return m(v,F,O),new(m(h,I,F))}return F=x.prototype,x=w(_(F)?F:g),F=m(I,x,O),_(F)?F:x}})},function(o,u,h){var d=h(3),m=h(129).includes,h=h(89);d({target:"Array",proto:!0},{includes:function(b){return m(this,b,1<arguments.length?arguments[1]:void 0)}}),h("includes")},function(o,u,x){var d=x(17),m=x(0),h=x(1),b=x(81),y=x(37),_=x(20),w=x(117),M=x(44),$=x(73),g=x(122),v=x(2),k=x(55).f,C=x(42).f,S=x(22).f,I=x(167),O=x(92).trim,x="Number",F=m[x],R=F.prototype,L=m.TypeError,D=h("".slice),J=h("".charCodeAt),K=function(ie){var Q,G,ne,re,Y,le,ue,ge=g(ie,"number");if($(ge))throw L("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&2<ge.length){if(ge=O(ge),(ie=J(ge,0))===43||ie===45){if((Q=J(ge,2))===88||Q===120)return NaN}else if(ie===48){switch(J(ge,1)){case 66:case 98:G=2,ne=49;break;case 79:case 111:G=8,ne=55;break;default:return+ge}for(Y=(re=D(ge,2)).length,le=0;le<Y;le++)if((ue=J(re,le))<48||ne<ue)return NaN;return parseInt(re,G)}}return+ge};if(b(x,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var ee,H=function(Q){var Q=arguments.length<1?0:F(function(ne){return ne=g(ne,"number"),typeof ne=="bigint"?ne:K(ne)}(Q)),G=this;return M(R,G)&&v(function(){I(G)})?w(Object(Q),G,H):Q},q=d?k(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),X=0;q.length>X;X++)_(F,ee=q[X])&&!_(H,ee)&&S(H,ee,C(F,ee));y(m,x,(H.prototype=R).constructor=H)}},function(o,u,f){var d=f(3),m=f(174);d({target:"Array",stat:!0,forced:!f(152)(function(h){Array.from(h)})},{from:m})},function(o,u,f){var d=f(0),m=f(39),h=d.Object;o.exports=function(b){return h(m(b))}},function(o,u,f){var d=f(0),m=f(14),h=f(20),b=f(45),y=f(98),_=f(100),w=f(49),M=f(64).CONFIGURABLE,$=w.get,g=w.enforce,v=String(String).split("String");(o.exports=function(k,C,S,L){var O,x=!!L&&!!L.unsafe,F=!!L&&!!L.enumerable,R=!!L&&!!L.noTargetGet,L=L&&L.name!==void 0?L.name:C;m(S)&&(String(L).slice(0,7)==="Symbol("&&(L="["+String(L).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!h(S,"name")||M&&S.name!==L)&&b(S,"name",L),(O=g(S)).source||(O.source=v.join(typeof L=="string"?L:""))),k===d?F?k[C]=S:y(C,S):(x?!R&&k[C]&&(F=!0):delete k[C],F?k[C]=S:b(k,C,S))})(Function.prototype,"toString",function(){return m(this)&&$(this).source||_(this)})},function(o,u,x){var d=x(84),m=x(21),h=x(1),b=x(112),y=x(115),_=x(18),w=x(39),M=x(164),$=x(113),g=x(65),v=x(23),k=x(53),C=x(108),S=x(114),I=x(90),O=x(111),x=x(2),F=O.UNSUPPORTED_Y,R=4294967295,L=Math.min,D=[].push,J=h(/./.exec),K=h(D),ee=h("".slice);b("split",function(H,q,X){var ie="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(Q,G){var ne=v(w(this)),re=G===void 0?R:G>>>0;if(re==0)return[];if(Q===void 0)return[ne];if(!y(Q))return m(q,ne,Q,re);for(var Y,le,ue,ge=[],G=(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")+(Q.sticky?"y":""),ye=0,_e=new RegExp(Q.source,G+"g");(Y=m(I,_e,ne))&&!(ye<(le=_e.lastIndex)&&(K(ge,ee(ne,ye,Y.index)),1<Y.length&&Y.index<ne.length&&d(D,ge,C(Y,1)),ue=Y[0].length,ye=le,re<=ge.length));)_e.lastIndex===Y.index&&_e.lastIndex++;return ye===ne.length?!ue&&J(_e,"")||K(ge,""):K(ge,ee(ne,ye)),re<ge.length?C(ge,0,re):ge}:"0".split(void 0,0).length?function(Q,G){return Q===void 0&&G===0?[]:m(q,this,Q,G)}:q;return[function(Q,G){var ne=w(this),re=Q==null?void 0:k(Q,H);return re?m(re,Q,ne,G):m(ie,v(ne),Q,G)},function(Y,G){var ne=_(this),re=v(Y),Y=X(ie,ne,re,G,ie!==q);if(Y.done)return Y.value;var Y=M(ne,RegExp),le=ne.unicode,ue=(ne.ignoreCase?"i":"")+(ne.multiline?"m":"")+(ne.unicode?"u":"")+(F?"g":"y"),ge=new Y(F?"^(?:"+ne.source+")":ne,ue),ye=G===void 0?R:G>>>0;if(ye==0)return[];if(re.length===0)return S(ge,re)===null?[re]:[];for(var _e=0,Ce=0,be=[];Ce<re.length;){ge.lastIndex=F?0:Ce;var Ne,fe=S(ge,F?ee(re,Ce):re);if(fe===null||(Ne=L(g(ge.lastIndex+(F?Ce:0)),re.length))===_e)Ce=$(re,Ce,le);else{if(K(be,ee(re,_e,Ce)),be.length===ye)return be;for(var ve=1;ve<=fe.length-1;ve++)if(K(be,fe[ve]),be.length===ye)return be;Ce=_e=Ne}}return K(be,ee(re,_e)),be}]},!!x(function(){var q=/(?:)/,H=q.exec,q=(q.exec=function(){return H.apply(this,arguments)},"ab".split(q));return q.length!==2||q[0]!=="a"||q[1]!=="b"}),F)},function(o,u,f){var d=f(0).TypeError;o.exports=function(m){if(m==null)throw d("Can't call method on "+m);return m}},function(o,u,k){var v=k(1),d=k(64).PROPER,m=k(37),h=k(18),b=k(44),y=k(23),_=k(2),k=k(110),w="toString",M=RegExp.prototype,$=M[w],g=v(k),v=_(function(){return $.call({source:"a",flags:"b"})!="/a/b"}),k=d&&$.name!=w;(v||k)&&m(RegExp.prototype,w,function(){var C=h(this),S=y(C.source),I=C.flags;return"/"+S+"/"+y(I!==void 0||!b(M,C)||"flags"in M?I:g(C))},{unsafe:!0})},function(o,u,b){var d=b(17),m=b(64).EXISTS,h=b(1),b=b(22).f,y=Function.prototype,_=h(y.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=h(w.exec);d&&!m&&b(y,"name",{configurable:!0,get:function(){try{return M(w,_(this))[1]}catch{return""}}})},function(o,u,f){var d=f(17),m=f(21),h=f(70),b=f(61),y=f(30),_=f(72),w=f(20),M=f(124),$=Object.getOwnPropertyDescriptor;u.f=d?$:function(g,v){if(g=y(g),v=_(v),M)try{return $(g,v)}catch{}if(w(g,v))return b(!m(h.f,g,v),g[v])}},function(o,u,f){var d=f(0),m=f(14);o.exports=function(h,b){return arguments.length<2?(y=d[h],m(y)?y:void 0):d[h]&&d[h][b];var y}},function(o,u,f){f=f(1),o.exports=f({}.isPrototypeOf)},function(o,u,f){var d=f(17),m=f(22),h=f(61);o.exports=d?function(b,y,_){return m.f(b,y,h(1,_))}:function(b,y,_){return b[y]=_,b}},function(o,u,f){var d=f(65);o.exports=function(m){return d(m.length)}},function(o,u,K){var d=K(84),m=K(21),h=K(1),b=K(112),y=K(2),_=K(18),w=K(14),M=K(80),$=K(65),g=K(23),v=K(39),k=K(113),C=K(53),S=K(173),I=K(114),O=K(12)("replace"),x=Math.max,F=Math.min,R=h([].concat),L=h([].push),D=h("".indexOf),J=h("".slice),K="a".replace(/./,"$0")==="$0",ee=!!/./[O]&&/./[O]("a","$0")==="";b("replace",function(H,q,X){var ie=ee?"$":"$0";return[function(Q,G){var ne=v(this),re=Q==null?void 0:C(Q,O);return re?m(re,Q,ne,G):m(q,g(ne),Q,G)},function(Q,G){var ne=_(this),re=g(Q);if(typeof G=="string"&&D(G,ie)===-1&&D(G,"$<")===-1&&(Q=X(q,ne,re,G),Q.done))return Q.value;for(var Y,le=w(G),ue=(le||(G=g(G)),ne.global),ge=(ue&&(Y=ne.unicode,ne.lastIndex=0),[]);(Ne=I(ne,re))!==null&&(L(ge,Ne),ue);)g(Ne[0])===""&&(ne.lastIndex=k(re,$(ne.lastIndex),Y));for(var ye,_e="",Ce=0,be=0;be<ge.length;be++){for(var Ne,fe=g((Ne=ge[be])[0]),ve=x(F(M(Ne.index),re.length),0),Le=[],Ie=1;Ie<Ne.length;Ie++)L(Le,(ye=Ne[Ie])===void 0?ye:String(ye));var We=Ne.groups,nt=le?(nt=R([fe],Le,ve,re),We!==void 0&&L(nt,We),g(d(G,void 0,nt))):S(fe,re,ve,Le,We,G);Ce<=ve&&(_e+=J(re,Ce,ve)+nt,Ce=ve+fe.length)}return _e+J(re,Ce)}]},!!y(function(){var H=/./;return H.exec=function(){var q=[];return q.groups={a:"7"},q},"".replace(H,"$<a>")!=="7"})||!K||ee)},function(o,u,d){var d=d(1),m=d({}.toString),h=d("".slice);o.exports=function(b){return h(m(b),8,-1)}},function(o,u,O){var d,m,h,b,y,_,w,M,$=O(156),R=O(0),g=O(1),v=O(19),k=O(45),C=O(20),S=O(97),I=O(79),O=O(63),x="Object already initialized",F=R.TypeError,R=R.WeakMap;w=$||S.state?(d=S.state||(S.state=new R),m=g(d.get),h=g(d.has),b=g(d.set),y=function(L,D){if(h(d,L))throw new F(x);return D.facade=L,b(d,L,D),D},_=function(L){return m(d,L)||{}},function(L){return h(d,L)}):(O[M=I("state")]=!0,y=function(L,D){if(C(L,M))throw new F(x);return D.facade=L,k(L,M,D),D},_=function(L){return C(L,M)?L[M]:{}},function(L){return C(L,M)}),o.exports={set:y,get:_,has:w,enforce:function(L){return w(L)?_(L):y(L,{})},getterFor:function(L){return function(D){if(v(D)&&(D=_(D)).type===L)return D;throw F("Incompatible receiver, "+L+" required")}}}},function(o,u,g){function d(){}function m(O){O.write(S("")),O.close();var x=O.parentWindow.Object;return O=null,x}var h,b=g(18),y=g(132),_=g(102),w=g(63),M=g(160),$=g(99),g=g(79),v="prototype",k="script",C=g("IE_PROTO"),S=function(O){return"<"+k+">"+O+"</"+k+">"},I=function(){try{h=new ActiveXObject("htmlfile")}catch{}I=typeof document>"u"||document.domain&&h?m(h):(O=$("iframe"),x="java"+k+":",O.style.display="none",M.appendChild(O),O.src=String(x),(x=O.contentWindow.document).open(),x.write(S("document.F=Object")),x.close(),x.F);for(var O,x,F=_.length;F--;)delete I[v][_[F]];return I()};w[C]=!0,o.exports=Object.create||function(O,x){var F;return O!==null?(d[v]=b(O),F=new d,d[v]=null,F[C]=O):F=I(),x===void 0?F:y.f(F,x)}},function(o,u,_){var d=_(3),m=_(1),h=_(142),b=_(39),y=_(23),_=_(143),w=m("".indexOf);d({target:"String",proto:!0,forced:!_("includes")},{includes:function(M){return!!~w(y(b(this)),y(h(M)),1<arguments.length?arguments[1]:void 0)}})},function(o,u,le){var d=le(17),m=le(0),h=le(1),b=le(81),y=le(117),_=le(45),w=le(22).f,M=le(55).f,$=le(44),g=le(115),v=le(23),k=le(110),C=le(111),S=le(37),I=le(2),O=le(20),x=le(49).enforce,F=le(144),ye=le(12),R=le(140),L=le(141),D=ye("match"),J=m.RegExp,K=J.prototype,ee=m.SyntaxError,H=h(k),q=h(K.exec),X=h("".charAt),ie=h("".replace),Q=h("".indexOf),G=h("".slice),ne=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re=/a/g,Y=/a/g,le=new J(re)!==re,ue=C.MISSED_STICKY,ge=C.UNSUPPORTED_Y,ye=d&&(!le||ue||R||L||I(function(){return Y[D]=!1,J(re)!=re||J(Y)==Y||J(re,"i")!="/a/i"})),_e=function(ve){for(var Le,Ie=ve.length,We=0,nt="",it=!1;We<=Ie;We++)(Le=X(ve,We))==="\\"?nt+=Le+X(ve,++We):it||Le!=="."?(Le==="["?it=!0:Le==="]"&&(it=!1),nt+=Le):nt+="[\\s\\S]";return nt},Ce=function(ve){for(var Le,Ie=ve.length,We=0,nt="",it=[],De={},ct=!1,Ae=!1,Xe=0,ot="";We<=Ie;We++){if((Le=X(ve,We))==="\\")Le+=X(ve,++We);else if(Le==="]")ct=!1;else if(!ct)switch(!0){case Le==="[":ct=!0;break;case Le==="(":q(ne,G(ve,We+1))&&(We+=2,Ae=!0),nt+=Le,Xe++;continue;case(Le===">"&&Ae):if(ot===""||O(De,ot))throw new ee("Invalid capture group name");De[ot]=!0,Ae=!(it[it.length]=[ot,Xe]),ot="";continue}Ae?ot+=Le:nt+=Le}return[nt,it]};if(b("RegExp",ye)){for(var be=function(ve,Le){var Ie,We,nt=$(K,this),it=g(ve),De=Le===void 0,ct=[],Ae=ve;if(!nt&&it&&De&&ve.constructor===be)return ve;if((it||$(K,ve))&&(ve=ve.source,De&&(Le="flags"in Ae?Ae.flags:H(Ae))),ve=ve===void 0?"":v(ve),Le=Le===void 0?"":v(Le),Ae=ve,it=Le=R&&"dotAll"in re&&(Ie=!!Le&&-1<Q(Le,"s"))?ie(Le,/s/g,""):Le,ue&&"sticky"in re&&(We=!!Le&&-1<Q(Le,"y"))&&ge&&(Le=ie(Le,/y/g,"")),L&&(ve=(De=Ce(ve))[0],ct=De[1]),De=y(J(ve,Le),nt?this:K,be),(Ie||We||ct.length)&&(Le=x(De),Ie&&(Le.dotAll=!0,Le.raw=be(_e(ve),it)),We&&(Le.sticky=!0),ct.length&&(Le.groups=ct)),ve!==Ae)try{_(De,"source",Ae===""?"(?:)":Ae)}catch{}return De},Ne=M(J),fe=0;Ne.length>fe;)(function(ve){ve in be||w(be,ve,{configurable:!0,get:function(){return J[ve]},set:function(Le){J[ve]=Le}})})(Ne[fe++]);(K.constructor=be).prototype=K,S(m,"RegExp",be)}F("RegExp")},function(o,u,f){var d=f(62);o.exports=function(m,h){return m=m[h],m==null?void 0:d(m)}},function(o,u){o.exports=!1},function(o,u,f){var d=f(128),m=f(102).concat("length","prototype");u.f=Object.getOwnPropertyNames||function(h){return d(h,m)}},function(o,u,f){function d($){var g=$==1,v=$==2,k=$==3,C=$==4,S=$==6,I=$==7,O=$==5||S;return function(x,F,R,L){for(var D,J,K=y(x),ee=b(K),H=m(F,R),q=_(ee),X=0,F=L||w,ie=g?F(x,q):v||I?F(x,0):void 0;X<q;X++)if((O||X in ee)&&(J=H(D=ee[X],X,K),$))if(g)ie[X]=J;else if(J)switch($){case 3:return!0;case 5:return D;case 6:return X;case 2:M(ie,D)}else switch($){case 4:return!1;case 7:M(ie,D)}return S?-1:k||C?C:ie}}var m=f(88),h=f(1),b=f(71),y=f(36),_=f(46),w=f(135),M=h([].push);o.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(o,u,M){var d=M(3),k=M(1),m=M(42).f,h=M(65),b=M(23),y=M(142),_=M(39),w=M(143),M=M(54),$=k("".startsWith),g=k("".slice),v=Math.min,k=w("startsWith");d({target:"String",proto:!0,forced:!!(M||k||!(w=m(String.prototype,"startsWith"))||w.writable)&&!k},{startsWith:function(O){var S=b(_(this)),I=(y(O),h(v(1<arguments.length?arguments[1]:void 0,S.length))),O=b(O);return $?$(S,O,I):g(S,I,I+O.length)===O}})},function(o,u,f){var d=f(3),m=f(56).map;d({target:"Array",proto:!0,forced:!f(94)("map")},{map:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,f){var d=f(3),m=f(21),h=f(19),b=f(18),y=f(179),_=f(42),w=f(82);d({target:"Reflect",stat:!0},{get:function M($,g){var v,k=arguments.length<3?$:arguments[2];return b($)===k?$[g]:(v=_.f($,g))?y(v)?v.value:v.get===void 0?void 0:m(v.get,k):h(v=w($))?M(v,g,k):void 0}})},function(o,u,f){f=f(2),o.exports=!f(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},function(o,u){o.exports=function(f,d){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:d}}},function(o,u,f){var d=f(0),m=f(14),h=f(76),b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not a function")}},function(o,u){o.exports={}},function(o,u,h){var y=h(17),h=h(20),d=Function.prototype,m=y&&Object.getOwnPropertyDescriptor,h=h(d,"name"),b=h&&function(){}.name==="something",y=h&&(!y||m(d,"name").configurable);o.exports={EXISTS:h,PROPER:b,CONFIGURABLE:y}},function(o,u,f){var d=f(80),m=Math.min;o.exports=function(h){return 0<h?m(d(h),9007199254740991):0}},function(o,u,f){var d=f(128),m=f(102);o.exports=Object.keys||function(h){return d(h,m)}},function(o,u,f){var d=f(72),m=f(22),h=f(61);o.exports=function(b,y,_){y=d(y),y in b?m.f(b,y,h(0,_)):b[y]=_}},function(o,u){o.exports={}},function(o,u,f){var d=f(21),m=f(112),h=f(18),b=f(65),y=f(23),_=f(39),w=f(53),M=f(113),$=f(114);m("match",function(g,v,k){return[function(C){var S=_(this),I=C==null?void 0:w(C,g);return I?d(I,C,S):new RegExp(C)[g](y(S))},function(O){var S=h(this),I=y(O),O=k(v,S,I);if(O.done)return O.value;if(!S.global)return $(S,I);for(var x=S.unicode,F=[],R=S.lastIndex=0;(L=$(S,I))!==null;){var L=y(L[0]);(F[R]=L)===""&&(S.lastIndex=M(I,b(S.lastIndex),x)),R++}return R===0?null:F}]})},function(o,u,f){var d={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,h=m&&!d.call({1:2},1);u.f=h?function(b){return b=m(this,b),!!b&&b.enumerable}:d},function(o,u,f){var d=f(0),m=f(1),h=f(2),b=f(48),y=d.Object,_=m("".split);o.exports=h(function(){return!y("z").propertyIsEnumerable(0)})?function(w){return b(w)=="String"?_(w,""):y(w)}:y},function(o,u,f){var d=f(122),m=f(73);o.exports=function(h){return h=d(h,"string"),m(h)?h:h+""}},function(o,u,y){var d=y(0),m=y(43),h=y(14),b=y(44),y=y(123),_=d.Object;o.exports=y?function(w){return typeof w=="symbol"}:function(w){var M=m("Symbol");return h(M)&&b(M.prototype,_(w))}},function(o,u,h){var d,m,y=h(0),h=h(75),b=y.process,y=y.Deno,b=b&&b.versions||y&&y.version,y=b&&b.v8;!(m=y?0<(d=y.split("."))[0]&&d[0]<4?1:+(d[0]+d[1]):m)&&h&&(!(d=h.match(/Edge\/(\d+)/))||74<=d[1])&&(d=h.match(/Chrome\/(\d+)/))&&(m=+d[1]),o.exports=m},function(o,u,f){f=f(43),o.exports=f("navigator","userAgent")||""},function(o,u,f){var d=f(0).String;o.exports=function(m){try{return d(m)}catch{return"Object"}}},function(o,u,f){var d=f(54),m=f(97);(o.exports=function(h,b){return m[h]||(m[h]=b!==void 0?b:{})})("versions",[]).push({version:"3.21.1",mode:d?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(o,u,d){var d=d(1),m=0,h=Math.random(),b=d(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+b(++m+h,36)}},function(o,u,f){var d=f(77),m=f(78),h=d("keys");o.exports=function(b){return h[b]||(h[b]=m(b))}},function(o,u){var f=Math.ceil,d=Math.floor;o.exports=function(m){return m=+m,m!=m||m==0?0:(0<m?d:f)(m)}},function(o,u,f){function d($,g){return($=_[y($)])==M||$!=w&&(h(g)?m(g):!!g)}var m=f(2),h=f(14),b=/#|\.prototype\./,y=d.normalize=function($){return String($).replace(b,".").toLowerCase()},_=d.data={},w=d.NATIVE="N",M=d.POLYFILL="P";o.exports=d},function(o,u,_){var d=_(0),m=_(20),h=_(14),b=_(36),y=_(79),_=_(130),w=y("IE_PROTO"),M=d.Object,$=M.prototype;o.exports=_?M.getPrototypeOf:function(g){if(g=b(g),m(g,w))return g[w];var v=g.constructor;return h(v)&&g instanceof v?v.prototype:g instanceof M?$:null}},function(o,u,f){var d=f(0),m=f(105),h=f(14),b=f(48),y=f(12)("toStringTag"),_=d.Object,w=b(function(){return arguments}())=="Arguments";o.exports=m?b:function(M){var $;return M===void 0?"Undefined":M===null?"Null":typeof($=function(g,v){try{return g[v]}catch{}}(M=_(M),y))=="string"?$:w?b(M):($=b(M))=="Object"&&h(M.callee)?"Arguments":$}},function(o,u,d){var d=d(60),m=Function.prototype,h=m.apply,b=m.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(d?b.bind(h):function(){return b.apply(h,arguments)})},function(o,u,f){function d(){}function m(I){if(!_(I))return!1;try{return v(d,g,I),!0}catch{return!1}}function h(I){if(!_(I))return!1;switch(w(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!C(k,$(I))}catch{return!0}}var b=f(1),y=f(2),_=f(14),w=f(83),M=f(43),$=f(100),g=[],v=M("Reflect","construct"),k=/^\s*(?:class|function)\b/,C=b(k.exec),S=!k.exec(d);h.sham=!0,o.exports=!v||y(function(){var I;return m(m.call)||!m(Object)||!m(function(){I=!0})||I})?h:m},function(o,u,f){var d=f(48);o.exports=Array.isArray||function(m){return d(m)=="Array"}},function(o,u,f){var d=f(22).f,m=f(20),h=f(12)("toStringTag");o.exports=function(b,y,_){(b=b&&!_?b.prototype:b)&&!m(b,h)&&d(b,h,{configurable:!0,value:y})}},function(o,u,f){var d=f(1),m=f(62),h=f(60),b=d(d.bind);o.exports=function(y,_){return m(y),_===void 0?y:h?b(y,_):function(){return y.apply(_,arguments)}}},function(o,u,h){var d=h(12),m=h(50),h=h(22),b=d("unscopables"),y=Array.prototype;y[b]==null&&h.f(y,b,{configurable:!0,value:m(null)}),o.exports=function(_){y[b][_]=!0}},function(o,u,g){var d=g(21),m=g(1),h=g(23),b=g(110),y=g(111),_=g(77),w=g(50),M=g(49).get,$=g(140),g=g(141),v=_("native-string-replace",String.prototype.replace),k=RegExp.prototype.exec,C=k,S=m("".charAt),I=m("".indexOf),O=m("".replace),x=m("".slice),F=(_=/b*/g,d(k,m=/a/,"a"),d(k,_,"a"),m.lastIndex!==0||_.lastIndex!==0),R=y.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0;(F||L||R||$||g)&&(C=function(Q){var J,K,ee,H,q,X,ie=this,Y=M(ie),Q=h(Q),ne=Y.raw;if(ne)return ne.lastIndex=ie.lastIndex,re=d(C,ne,Q),ie.lastIndex=ne.lastIndex,re;var G=Y.groups,ne=R&&ie.sticky,re=d(b,ie),Y=ie.source,le=0,ue=Q;if(ne&&(re=O(re,"y",""),I(re,"g")===-1&&(re+="g"),ue=x(Q,ie.lastIndex),0<ie.lastIndex&&(!ie.multiline||ie.multiline&&S(Q,ie.lastIndex-1)!==`
`)&&(Y="(?: "+Y+")",ue=" "+ue,le++),J=new RegExp("^(?:"+Y+")",re)),L&&(J=new RegExp("^"+Y+"$(?!\\s)",re)),F&&(K=ie.lastIndex),ee=d(k,ne?J:ie,ue),ne?ee?(ee.input=x(ee.input,le),ee[0]=x(ee[0],le),ee.index=ie.lastIndex,ie.lastIndex+=ee[0].length):ie.lastIndex=0:F&&ee&&(ie.lastIndex=ie.global?ee.index+ee[0].length:K),L&&ee&&1<ee.length&&d(v,ee[0],J,function(){for(H=1;H<arguments.length-2;H++)arguments[H]===void 0&&(ee[H]=void 0)}),ee&&G)for(ee.groups=q=w(null),H=0;H<G.length;H++)q[(X=G[H])[0]]=ee[X[1]];return ee}),o.exports=C},function(o,u,f){var d=f(3),m=f(92).trim;d({target:"String",proto:!0,forced:f(165)("trim")},{trim:function(){return m(this)}})},function(o,u,b){function d($){return function(g){return g=h(m(g)),1&$&&(g=y(g,w,"")),g=2&$?y(g,M,""):g}}var _=b(1),m=b(39),h=b(23),b=b(93),y=_("".replace),_="["+b+"]",w=RegExp("^"+_+_+"*"),M=RegExp(_+_+"*$");o.exports={start:d(1),end:d(2),trim:d(3)}},function(o,u){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(o,u,f){var d=f(2),m=f(12),h=f(74),b=m("species");o.exports=function(y){return 51<=h||!d(function(){var _=[];return(_.constructor={})[b]=function(){return{foo:1}},_[y](Boolean).foo!==1})}},function(o,u,h){var d=h(3),y=h(1),_=h(71),m=h(30),h=h(118),b=y([].join),y=_!=Object,_=h("join",",");d({target:"Array",proto:!0,forced:y||!_},{join:function(w){return b(m(this),w===void 0?",":w)}})},function(o,u,m){var d=m(74),m=m(2);o.exports=!!Object.getOwnPropertySymbols&&!m(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(o,u,d){var h=d(0),d=d(98),m="__core-js_shared__",h=h[m]||d(m,{});o.exports=h},function(o,u,f){var d=f(0),m=Object.defineProperty;o.exports=function(h,b){try{m(d,h,{value:b,configurable:!0,writable:!0})}catch{d[h]=b}return b}},function(o,u,m){var d=m(0),m=m(19),h=d.document,b=m(h)&&m(h.createElement);o.exports=function(y){return b?h.createElement(y):{}}},function(o,u,h){var d=h(1),m=h(14),h=h(97),b=d(Function.toString);m(h.inspectSource)||(h.inspectSource=function(y){return b(y)}),o.exports=h.inspectSource},function(o,u,f){var d=f(80),m=Math.max,h=Math.min;o.exports=function(b,y){return b=d(b),b<0?m(b+y,0):h(b,y)}},function(o,u){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(o,u){u.f=Object.getOwnPropertySymbols},function(o,u,f){var d=f(1),m=f(18),h=f(157);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,y=!1,_={};try{(b=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),y=_ instanceof Array}catch{}return function(w,M){return m(w),h(M),y?b(w,M):w.__proto__=M,w}}():void 0)},function(o,u,f){var d={};d[f(12)("toStringTag")]="z",o.exports=String(d)==="[object z]"},function(o,u,f){f=f(1),o.exports=f([].slice)},function(o,u,f){var d=f(48),m=f(30),h=f(55).f,b=f(108),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(_){if(!y||d(_)!="Window")return h(m(_));try{return h(_)}catch{return b(y)}}},function(o,u,f){var d=f(0),m=f(101),h=f(46),b=f(67),y=d.Array,_=Math.max;o.exports=function(w,M,$){for(var g=h(w),v=m(M,g),k=m($===void 0?g:$,g),C=y(_(k-v,0)),S=0;v<k;v++,S++)b(C,S,w[v]);return C.length=S,C}},function(o,u,I){function d(){return this}var m=I(3),h=I(21),b=I(54),y=I(64),_=I(14),w=I(163),M=I(82),$=I(104),g=I(87),v=I(45),k=I(37),C=I(12),S=I(68),I=I(136),O=y.PROPER,x=y.CONFIGURABLE,F=I.IteratorPrototype,R=I.BUGGY_SAFARI_ITERATORS,L=C("iterator"),D="values",J="entries";o.exports=function(K,ee,H,Y,X,ie,Q){w(H,ee,Y);function G(Ce){if(Ce===X&&ye)return ye;if(!R&&Ce in ue)return ue[Ce];switch(Ce){case"keys":case D:case J:return function(){return new H(this,Ce)}}return function(){return new H(this)}}var ne,re,Y=ee+" Iterator",le=!1,ue=K.prototype,ge=ue[L]||ue["@@iterator"]||X&&ue[X],ye=!R&&ge||G(X),_e=ee=="Array"&&ue.entries||ge;if(_e&&(_e=M(_e.call(new K)))!==Object.prototype&&_e.next&&(b||M(_e)===F||($?$(_e,F):_(_e[L])||k(_e,L,d)),g(_e,Y,!0,!0),b&&(S[Y]=d)),O&&X==D&&ge&&ge.name!==D&&(!b&&x?v(ue,"name",D):(le=!0,ye=function(){return h(ge,this)})),X)if(ne={values:G(D),keys:ie?ye:G("keys"),entries:G(J)},Q)for(re in ne)!R&&!le&&re in ue||k(ue,re,ne[re]);else m({target:ee,proto:!0,forced:R||le},ne);return b&&!Q||ue[L]===ye||k(ue,L,ye,{name:X}),S[ee]=ye,ne}},function(o,u,f){var d=f(18);o.exports=function(){var m=d(this),h="";return m.global&&(h+="g"),m.ignoreCase&&(h+="i"),m.multiline&&(h+="m"),m.dotAll&&(h+="s"),m.unicode&&(h+="u"),m.sticky&&(h+="y"),h}},function(o,u,m){var b=m(2),d=m(0).RegExp,m=b(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!=null}),h=m||b(function(){return!d("a","y").sticky}),b=m||b(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!=null});o.exports={BROKEN_CARET:b,MISSED_STICKY:h,UNSUPPORTED_Y:m}},function(o,u,f){f(16);var d=f(1),m=f(37),h=f(90),b=f(2),y=f(12),_=f(45),w=y("species"),M=RegExp.prototype;o.exports=function($,g,v,k){var C,S=y($),I=!b(function(){var x={};return x[S]=function(){return 7},""[$](x)!=7}),O=I&&!b(function(){var x=!1,F=/a/;return $==="split"&&((F={constructor:{}}).constructor[w]=function(){return F},F.flags="",F[S]=/./[S]),F.exec=function(){return x=!0,null},F[S](""),!x});I&&O&&!v||(C=d(/./[S]),O=g(S,""[$],function(J,F,R,L,D){var J=d(J),K=F.exec;return K===h||K===M.exec?I&&!D?{done:!0,value:C(F,R,L)}:{done:!0,value:J(R,F,L)}:{done:!1}}),m(String.prototype,$,O[0]),m(M,S,O[1])),k&&_(M[S],"sham",!0)}},function(o,u,f){var d=f(137).charAt;o.exports=function(m,h,b){return h+(b?d(m,h).length:1)}},function(o,u,f){var d=f(0),m=f(21),h=f(18),b=f(14),y=f(48),_=f(90),w=d.TypeError;o.exports=function(M,$){var g=M.exec;if(b(g))return(g=m(g,M,$))!==null&&h(g),g;if(y(M)==="RegExp")return m(_,M,$);throw w("RegExp#exec called on incompatible receiver")}},function(o,u,f){var d=f(19),m=f(48),h=f(12)("match");o.exports=function(b){var y;return d(b)&&((y=b[h])!==void 0?!!y:m(b)=="RegExp")}},function(o,u,m){var d=m(3),m=m(166);d({target:"Number",stat:!0,forced:Number.parseFloat!=m},{parseFloat:m})},function(o,u,f){var d=f(14),m=f(19),h=f(104);o.exports=function(b,y,_){return h&&d(y=y.constructor)&&y!==_&&m(y=y.prototype)&&y!==_.prototype&&h(b,y),b}},function(o,u,f){var d=f(2);o.exports=function(m,h){var b=[][m];return!!b&&d(function(){b.call(null,h||function(){return 1},1)})}},function(o,u,f){f(145)("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,f){var d=f(83),m=f(53),h=f(68),b=f(12)("iterator");o.exports=function(y){if(y!=null)return m(y,b)||m(y,"@@iterator")||h[d(y)]}},function(o,u,m){var d=m(3),m=m(178);d({target:"Number",stat:!0,forced:Number.parseInt!=m},{parseInt:m})},function(o,u,w){var d=w(0),m=w(21),h=w(19),b=w(73),y=w(53),_=w(155),w=w(12),M=d.TypeError,$=w("toPrimitive");o.exports=function(g,v){if(!h(g)||b(g))return g;var k=y(g,$);if(k){if(k=m(k,g,v=v===void 0?"default":v),!h(k)||b(k))return k;throw M("Can't convert object to primitive value")}return _(g,v=v===void 0?"number":v)}},function(o,u,f){f=f(96),o.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(o,u,f){var d=f(17),m=f(2),h=f(99);o.exports=!d&&!m(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},function(o,u,m){var d=m(17),m=m(2);o.exports=d&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(o,u,f){var d=f(20),m=f(127),h=f(42),b=f(22);o.exports=function(y,_,w){for(var M=m(_),$=b.f,g=h.f,v=0;v<M.length;v++){var k=M[v];d(y,k)||w&&d(w,k)||$(y,k,g(_,k))}}},function(o,u,f){var d=f(43),m=f(1),h=f(55),b=f(103),y=f(18),_=m([].concat);o.exports=d("Reflect","ownKeys")||function(w){var M=h.f(y(w)),$=b.f;return $?_(M,$(w)):M}},function(o,u,f){var d=f(1),m=f(20),h=f(30),b=f(129).indexOf,y=f(63),_=d([].push);o.exports=function(w,M){var $,g=h(w),v=0,k=[];for($ in g)!m(y,$)&&m(g,$)&&_(k,$);for(;M.length>v;)!m(g,$=M[v++])||~b(k,$)||_(k,$);return k}},function(o,u,f){function d(y){return function(_,w,M){var $,g=m(_),v=b(g),k=h(M,v);if(y&&w!=w){for(;k<v;)if(($=g[k++])!=$)return!0}else for(;k<v;k++)if((y||k in g)&&g[k]===w)return y||k||0;return!y&&-1}}var m=f(30),h=f(101),b=f(46);o.exports={includes:d(!0),indexOf:d(!1)}},function(o,u,f){f=f(2),o.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(o,u,f){var d=f(0),m=f(85),h=f(76),b=d.TypeError;o.exports=function(y){if(m(y))return y;throw b(h(y)+" is not a constructor")}},function(o,u,f){var d=f(17),m=f(125),h=f(22),b=f(18),y=f(30),_=f(66);u.f=d&&!m?Object.defineProperties:function(w,M){b(w);for(var $,g=y(M),v=_(M),k=v.length,C=0;C<k;)h.f(w,$=v[C++],g[$]);return w}},function(o,u,f){f=f(12),u.f=f},function(o,u,f){var d=f(161),m=f(20),h=f(133),b=f(22).f;o.exports=function(y){var _=d.Symbol||(d.Symbol={});m(_,y)||b(_,y,{value:h.f(y)})}},function(o,u,f){var d=f(162);o.exports=function(m,h){return new(d(m))(h===0?0:h)}},function(o,u,M){var d,m,h=M(2),b=M(14),y=M(50),_=M(82),w=M(37),g=M(12),M=M(54),$=g("iterator"),g=!1;[].keys&&("next"in(m=[].keys())?(_=_(_(m)))!==Object.prototype&&(d=_):g=!0),d==null||h(function(){var v={};return d[$].call(v)!==v})?d={}:M&&(d=y(d)),b(d[$])||w(d,$,function(){return this}),o.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:g}},function(o,u,f){function d($){return function(C,S){var k,C=b(y(C)),S=h(S),I=C.length;return S<0||I<=S?$?"":void 0:(k=w(C,S))<55296||56319<k||S+1===I||(I=w(C,S+1))<56320||57343<I?$?_(C,S):k:$?M(C,S,S+2):I-56320+(k-55296<<10)+65536}}var m=f(1),h=f(80),b=f(23),y=f(39),_=m("".charAt),w=m("".charCodeAt),M=m("".slice);o.exports={codeAt:d(!1),charAt:d(!0)}},function(o,u){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(o,u,f){f=f(99)("span").classList,f=f&&f.constructor&&f.constructor.prototype,o.exports=f===Object.prototype?void 0:f},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m(".","s");return!(h.dotAll&&h.exec(`
`)&&h.flags==="s")})},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},function(o,u,f){var d=f(0),m=f(115),h=d.TypeError;o.exports=function(b){if(m(b))throw h("The method doesn't accept regular expressions");return b}},function(o,u,f){var d=f(12)("match");o.exports=function(m){var h=/./;try{"/./"[m](h)}catch{try{return h[d]=!1,"/./"[m](h)}catch{}}return!1}},function(o,u,f){var d=f(43),m=f(22),h=f(12),b=f(17),y=h("species");o.exports=function(w){var w=d(w),M=m.f;b&&w&&!w[y]&&M(w,y,{configurable:!0,get:function(){return this}})}},function(o,u,f){var d=f(3),m=f(0),h=f(1),b=f(81),y=f(37),_=f(146),w=f(147),M=f(151),$=f(14),g=f(19),v=f(2),k=f(152),C=f(87),S=f(117);o.exports=function(I,O,x){function F(ne){var re=h(ie[ne]);y(ie,ne,ne=="add"?function(Y){return re(this,Y===0?0:Y),this}:ne=="delete"?function(Y){return!(H&&!g(Y))&&re(this,Y===0?0:Y)}:ne=="get"?function(Y){return H&&!g(Y)?void 0:re(this,Y===0?0:Y)}:ne=="has"?function(Y){return!(H&&!g(Y))&&re(this,Y===0?0:Y)}:function(Y,le){return re(this,Y===0?0:Y,le),this})}var R,L,D,J,K,ee=I.indexOf("Map")!==-1,H=I.indexOf("Weak")!==-1,q=ee?"set":"add",X=m[I],ie=X&&X.prototype,Q=X,G={};return b(I,!$(X)||!(H||ie.forEach&&!v(function(){new X().entries().next()})))?(Q=x.getConstructor(O,I,ee,q),_.enable()):b(I,!0)&&(L=(R=new Q)[q](H?{}:-0,1)!=R,D=v(function(){R.has(1)}),J=k(function(ne){new X(ne)}),K=!H&&v(function(){for(var ne=new X,re=5;re--;)ne[q](re,re);return!ne.has(-0)}),J||(((Q=O(function(ne,re){return M(ne,ie),ne=S(new X,ne,Q),re!=null&&w(re,ne[q],{that:ne,AS_ENTRIES:ee}),ne})).prototype=ie).constructor=Q),(D||K)&&(F("delete"),F("has"),ee&&F("get")),(K||L)&&F(q),H&&ie.clear&&delete ie.clear),G[I]=Q,d({global:!0,forced:Q!=X},G),C(Q,I),H||x.setStrong(Q,I,ee),Q}},function(o,u,f){function d(x){w(x,S,{value:{objectID:"O"+I++,weakData:{}}})}var m=f(3),h=f(1),b=f(63),y=f(19),_=f(20),w=f(22).f,M=f(55),$=f(107),g=f(169),v=f(78),k=f(171),C=!1,S=v("meta"),I=0,O=o.exports={enable:function(){O.enable=function(){},C=!0;var x=M.f,F=h([].splice),R={};R[S]=1,x(R).length&&(M.f=function(L){for(var D=x(L),J=0,K=D.length;J<K;J++)if(D[J]===S){F(D,J,1);break}return D},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:$.f}))},fastKey:function(x,F){if(!y(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!_(x,S)){if(!g(x))return"F";if(!F)return"E";d(x)}return x[S].objectID},getWeakData:function(x,F){if(!_(x,S)){if(!g(x))return!0;if(!F)return!1;d(x)}return x[S].weakData},onFreeze:function(x){return k&&C&&g(x)&&!_(x,S)&&d(x),x}};b[S]=!0},function(o,u,f){function d(I,O){this.stopped=I,this.result=O}var m=f(0),h=f(88),b=f(21),y=f(18),_=f(76),w=f(148),M=f(46),$=f(44),g=f(149),v=f(120),k=f(150),C=m.TypeError,S=d.prototype;o.exports=function(I,O,x){function F(ne){return L&&k(L,"normal",ne),new d(!0,ne)}function R(ne){return X?(y(ne),Q?G(ne[0],ne[1],F):G(ne[0],ne[1])):Q?G(ne,F):G(ne)}var L,D,J,K,ee,H,q=x&&x.that,X=!(!x||!x.AS_ENTRIES),ie=!(!x||!x.IS_ITERATOR),Q=!(!x||!x.INTERRUPTED),G=h(O,q);if(ie)L=I;else{if(!(x=v(I)))throw C(_(I)+" is not iterable");if(w(x)){for(D=0,J=M(I);D<J;D++)if((K=R(I[D]))&&$(S,K))return K;return new d(!1)}L=g(I,x)}for(ee=L.next;!(H=b(ee,L)).done;){try{K=R(H.value)}catch(ne){k(L,"throw",ne)}if(typeof K=="object"&&K&&$(S,K))return K}return new d(!1)}},function(o,u,f){var d=f(12),m=f(68),h=d("iterator"),b=Array.prototype;o.exports=function(y){return y!==void 0&&(m.Array===y||b[h]===y)}},function(o,u,f){var d=f(0),m=f(21),h=f(62),b=f(18),y=f(76),_=f(120),w=d.TypeError;o.exports=function(M,$){var g=arguments.length<2?_(M):$;if(h(g))return b(m(g,M));throw w(y(M)+" is not iterable")}},function(o,u,f){var d=f(21),m=f(18),h=f(53);o.exports=function(b,y,_){var w,M;m(b);try{if(!(w=h(b,"return"))){if(y==="throw")throw _;return _}w=d(w,b)}catch($){M=!0,w=$}if(y==="throw")throw _;if(M)throw w;return m(w),_}},function(o,u,f){var d=f(0),m=f(44),h=d.TypeError;o.exports=function(b,y){if(m(y,b))return b;throw h("Incorrect invocation")}},function(o,u,f){var d=f(12)("iterator"),m=!1;try{var h=0,b={next:function(){return{done:!!h++}},return:function(){m=!0}};b[d]=function(){return this},Array.from(b,function(){throw 2})}catch{}o.exports=function(y,_){if(!_&&!m)return!1;var w=!1;try{var M={};M[d]=function(){return{next:function(){return{done:w=!0}}}},y(M)}catch{}return w}},function(o,u,v){var d=v(22).f,m=v(50),h=v(172),b=v(88),y=v(151),_=v(147),w=v(109),M=v(144),$=v(17),g=v(146).fastKey,v=v(49),k=v.set,C=v.getterFor;o.exports={getConstructor:function(L,I,O,x){function F(K,ee,H){var q,X=J(K),ie=R(K,ee);return ie?ie.value=H:(X.last=ie={index:q=g(ee,!0),key:ee,value:H,previous:ee=X.last,next:void 0,removed:!1},X.first||(X.first=ie),ee&&(ee.next=ie),$?X.size++:K.size++,q!=="F"&&(X.index[q]=ie)),K}function R(q,ee){var H,q=J(q),X=g(ee);if(X!=="F")return q.index[X];for(H=q.first;H;H=H.next)if(H.key==ee)return H}var L=L(function(K,ee){y(K,D),k(K,{type:I,index:m(null),first:void 0,last:void 0,size:0}),$||(K.size=0),ee!=null&&_(ee,K[x],{that:K,AS_ENTRIES:O})}),D=L.prototype,J=C(I);return h(D,{clear:function(){for(var K=J(this),ee=K.index,H=K.first;H;)H.removed=!0,H.previous&&(H.previous=H.previous.next=void 0),delete ee[H.index],H=H.next;K.first=K.last=void 0,$?K.size=0:this.size=0},delete:function(X){var ee,H,q=J(this),X=R(this,X);return X&&(ee=X.next,H=X.previous,delete q.index[X.index],X.removed=!0,H&&(H.next=ee),ee&&(ee.previous=H),q.first==X&&(q.first=ee),q.last==X&&(q.last=H),$?q.size--:this.size--),!!X},forEach:function(K){for(var ee,H=J(this),q=b(K,1<arguments.length?arguments[1]:void 0);ee=ee?ee.next:H.first;)for(q(ee.value,ee.key,this);ee&&ee.removed;)ee=ee.previous},has:function(K){return!!R(this,K)}}),h(D,O?{get:function(K){return K=R(this,K),K&&K.value},set:function(K,ee){return F(this,K===0?0:K,ee)}}:{add:function(K){return F(this,K=K===0?0:K,K)}}),$&&d(D,"size",{get:function(){return J(this).size}}),L},setStrong:function(S,I,O){var x=I+" Iterator",F=C(I),R=C(x);w(S,I,function(L,D){k(this,{type:x,target:L,state:F(L),kind:D,last:void 0})},function(){for(var L=R(this),D=L.kind,J=L.last;J&&J.removed;)J=J.previous;return L.target&&(L.last=J=J?J.next:L.state.first)?D=="keys"?{value:J.key,done:!1}:D=="values"?{value:J.value,done:!1}:{value:[J.key,J.value],done:!1}:{value:L.target=void 0,done:!0}},O?"entries":"values",!O,!0),M(I)}}},function(o,u){var f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}o.exports=f},function(o,u,f){var d=f(0),m=f(21),h=f(14),b=f(19),y=d.TypeError;o.exports=function(_,w){var M,$;if(w==="string"&&h(M=_.toString)&&!b($=m(M,_))||h(M=_.valueOf)&&!b($=m(M,_))||w!=="string"&&h(M=_.toString)&&!b($=m(M,_)))return $;throw y("Can't convert object to primitive value")}},function(o,u,m){var h=m(0),d=m(14),m=m(100),h=h.WeakMap;o.exports=d(h)&&/native code/.test(m(h))},function(o,u,f){var d=f(0),m=f(14),h=d.String,b=d.TypeError;o.exports=function(y){if(typeof y=="object"||m(y))return y;throw b("Can't set "+h(y)+" as a prototype")}},function(o,u,f){var d=f(105),m=f(83);o.exports=d?{}.toString:function(){return"[object "+m(this)+"]"}},function(o,u,w){var d=w(0),m=w(1),h=w(62),b=w(19),y=w(20),_=w(106),w=w(60),M=d.Function,$=m([].concat),g=m([].join),v={};o.exports=w?M.bind:function(k){var C=h(this),S=C.prototype,I=_(arguments,1),O=function(){var x=$(I,_(arguments));if(this instanceof O){var F=C,R=x.length,L=x;if(!y(v,R)){for(var D=[],J=0;J<R;J++)D[J]="a["+J+"]";v[R]=M("C,a","return new C("+g(D,",")+")")}return v[R](F,L)}return C.apply(k,x)};return b(S)&&(O.prototype=S),O}},function(o,u,f){f=f(43),o.exports=f("document","documentElement")},function(o,u,f){f=f(0),o.exports=f},function(o,u,f){var d=f(0),m=f(86),h=f(85),b=f(19),y=f(12)("species"),_=d.Array;o.exports=function(w){var M;return m(w)&&(M=w.constructor,(h(M)&&(M===_||m(M.prototype))||b(M)&&(M=M[y])===null)&&(M=void 0)),M===void 0?_:M}},function(o,u,f){function d(){return this}var m=f(136).IteratorPrototype,h=f(50),b=f(61),y=f(87),_=f(68);o.exports=function(w,M,$,g){return M+=" Iterator",w.prototype=h(m,{next:b(+!g,$)}),y(w,M,!1,!0),_[M]=d,w}},function(o,u,f){var d=f(18),m=f(131),h=f(12)("species");o.exports=function(_,y){var _=d(_).constructor;return _===void 0||(_=d(_)[h])==null?y:m(_)}},function(o,u,f){var d=f(64).PROPER,m=f(2),h=f(93);o.exports=function(b){return m(function(){return!!h[b]()||"\u200B\x85\u180E"[b]()!=="\u200B\x85\u180E"||d&&h[b].name!==b})}},function(o,u,b){var $=b(0),d=b(2),w=b(1),m=b(23),h=b(92).trim,b=b(93),y=w("".charAt),_=$.parseFloat,w=$.Symbol,M=w&&w.iterator,$=1/_(b+"-0")!=-1/0||M&&!d(function(){_(Object(M))});o.exports=$?function(v){var v=h(m(v)),k=_(v);return k===0&&y(v,0)=="-"?-0:k}:_},function(o,u,f){f=f(1),o.exports=f(1 .valueOf)},function(o,u,m){var d=m(56).forEach,m=m(118)("forEach");o.exports=m?[].forEach:function(h){return d(this,h,1<arguments.length?arguments[1]:void 0)}},function(o,u,_){var d=_(2),m=_(19),h=_(48),b=_(170),y=Object.isExtensible,_=d(function(){});o.exports=_||b?function(w){return!!m(w)&&(!b||h(w)!="ArrayBuffer")&&(!y||y(w))}:y},function(o,u,f){f=f(2),o.exports=f(function(){var d;typeof ArrayBuffer=="function"&&(d=new ArrayBuffer(8),Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8}))})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(o,u,f){var d=f(37);o.exports=function(m,h,b){for(var y in h)d(m,y,h[y],b);return m}},function(o,u,f){var d=f(1),m=f(36),h=Math.floor,b=d("".charAt),y=d("".replace),_=d("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;o.exports=function($,g,v,k,C,S){var I=v+$.length,O=k.length,x=M;return C!==void 0&&(C=m(C),x=w),y(S,x,function(F,R){var L;switch(b(R,0)){case"$":return"$";case"&":return $;case"`":return _(g,0,v);case"'":return _(g,I);case"<":L=C[_(R,1,-1)];break;default:var D,J=+R;if(J==0)return F;if(O<J)return(D=h(J/10))!==0&&D<=O?k[D-1]===void 0?b(R,1):k[D-1]+b(R,1):F;L=k[J-1]}return L===void 0?"":L})}},function(o,u,f){var d=f(0),m=f(88),h=f(21),b=f(36),y=f(175),_=f(148),w=f(85),M=f(46),$=f(67),g=f(149),v=f(120),k=d.Array;o.exports=function(D){var S,I,O,x,F,R,L=b(D),D=w(this),ee=arguments.length,J=1<ee?arguments[1]:void 0,K=J!==void 0,ee=(K&&(J=m(J,2<ee?arguments[2]:void 0)),v(L)),H=0;if(!ee||this==k&&_(ee))for(S=M(L),I=D?new this(S):k(S);H<S;H++)R=K?J(L[H],H):L[H],$(I,H,R);else for(F=(x=g(L,ee)).next,I=D?new this:[];!(O=h(F,x)).done;H++)R=K?y(x,J,[O.value,H],!0):O.value,$(I,H,R);return I.length=H,I}},function(o,u,f){var d=f(18),m=f(150);o.exports=function(h,b,y,_){try{return _?b(d(y)[0],y[1]):b(y)}catch(w){m(h,"throw",w)}}},function(o,u,h){var d=h(3),m=h(2),h=h(107).f;d({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},function(o,u,f){f(145)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,y){var g=y(0),d=y(2),m=y(1),h=y(23),b=y(92).trim,y=y(93),_=g.parseInt,g=g.Symbol,w=g&&g.iterator,M=/^[+-]?0x/i,$=m(M.exec),g=_(y+"08")!==8||_(y+"0x16")!==22||w&&!d(function(){_(Object(w))});o.exports=g?function(v,k){return v=b(h(v)),_(v,k>>>0||($(M,v)?16:10))}:_},function(o,u,f){var d=f(20);o.exports=function(m){return m!==void 0&&(d(m,"value")||d(m,"writable"))}},function(o,u,I){var d=I(3),O=I(1),m=I(62),h=I(36),b=I(46),y=I(23),_=I(2),w=I(181),x=I(118),M=I(182),$=I(183),g=I(74),v=I(184),k=[],C=O(k.sort),S=O(k.push),I=_(function(){k.sort(void 0)}),O=_(function(){k.sort(null)}),x=x("sort"),F=!_(function(){if(g)return g<70;if(!(M&&3<M)){if($)return!0;if(v)return v<603;for(var R,L,D,J="",K=65;K<76;K++){switch(R=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:L=3;break;case 68:case 71:L=4;break;default:L=2}for(D=0;D<47;D++)k.push({k:R+D,v:L})}for(k.sort(function(ee,H){return H.v-ee.v}),D=0;D<k.length;D++)R=k[D].k.charAt(0),J.charAt(J.length-1)!==R&&(J+=R);return J!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:I||!O||!x||!F},{sort:function(R){R!==void 0&&m(R);var L=h(this);if(F)return R===void 0?C(L):C(L,R);for(var D,J,K=[],ee=b(L),H=0;H<ee;H++)H in L&&S(K,L[H]);for(w(K,(J=R,function(q,X){return X===void 0?-1:q===void 0?1:J!==void 0?+J(q,X)||0:y(q)>y(X)?1:-1})),D=K.length,H=0;H<D;)L[H]=K[H++];for(;H<ee;)delete L[H++];return L}})},function(o,u,f){function d(b,y){var _=b.length,w=h(_/2);if(_<8){for(var M,$,g=b,v=y,k=g.length,C=1;C<k;){for(M=g[$=C];$&&0<v(g[$-1],M);)g[$]=g[--$];$!==C++&&(g[$]=M)}return g}for(var S=b,I=d(m(b,0,w),y),O=d(m(b,w),y),x=y,F=I.length,R=O.length,L=0,D=0;L<F||D<R;)S[L+D]=L<F&&D<R?x(I[L],O[D])<=0?I[L++]:O[D++]:L<F?I[L++]:O[D++];return S}var m=f(108),h=Math.floor;o.exports=d},function(o,u,f){f=f(75).match(/firefox\/(\d+)/i),o.exports=!!f&&+f[1]},function(o,u,f){f=f(75),o.exports=/MSIE|Trident/.test(f)},function(o,u,f){f=f(75).match(/AppleWebKit\/(\d+)\./),o.exports=!!f&&+f[1]},function(o,u,m){var d=m(3),m=m(186);d({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},function(o,u,f){var d=f(17),m=f(1),h=f(21),b=f(2),y=f(66),_=f(103),w=f(70),M=f(36),$=f(71),g=Object.assign,v=Object.defineProperty,k=m([].concat);o.exports=!g||b(function(){if(d&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var C={},S={},I=Symbol(),O="abcdefghijklmnopqrst";return C[I]=7,O.split("").forEach(function(x){S[x]=x}),g({},C)[I]!=7||y(g({},S)).join("")!=O})?function(C,S){for(var I=M(C),O=arguments.length,x=1,F=_.f,R=w.f;x<O;)for(var L,D=$(arguments[x++]),J=F?k(y(D),F(D)):y(D),K=J.length,ee=0;ee<K;)L=J[ee++],d&&!h(R,D,L)||(I[L]=D[L]);return I}:g},function(o,u,h){var d=h(3),m=h(56).findIndex,h=h(89),b="findIndex",y=!0;b in[]&&Array(1)[b](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{findIndex:function(_){return m(this,_,1<arguments.length?arguments[1]:void 0)}}),h(b)},function(o,u,f){f(3)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(o,u,f){var d=f(3),m=f(190).values;d({target:"Object",stat:!0},{values:function(h){return m(h)}})},function(o,u,f){function d(M){return function($){for(var g,v=y($),k=b(v),C=k.length,S=0,I=[];S<C;)g=k[S++],m&&!_(v,g)||w(I,M?[g,v[g]]:v[g]);return I}}var m=f(17),h=f(1),b=f(66),y=f(30),_=h(f(70).f),w=h([].push);o.exports={entries:d(!0),values:d(!1)}},function(o,u,d){var d=d(3),m=Math.ceil,h=Math.floor;d({target:"Math",stat:!0},{trunc:function(b){return(0<b?h:m)(b)}})},,function(o,Ze,Ve){Ve.r(Ze);var d={};Ve.r(d),Ve.d(d,"top",function(){return rt}),Ve.d(d,"bottom",function(){return et}),Ve.d(d,"right",function(){return at}),Ve.d(d,"left",function(){return bt}),Ve.d(d,"auto",function(){return $t}),Ve.d(d,"basePlacements",function(){return Ke}),Ve.d(d,"start",function(){return Et}),Ve.d(d,"end",function(){return dt}),Ve.d(d,"clippingParents",function(){return xt}),Ve.d(d,"viewport",function(){return Bt}),Ve.d(d,"popper",function(){return Ft}),Ve.d(d,"reference",function(){return Ct}),Ve.d(d,"variationPlacements",function(){return Vt}),Ve.d(d,"placements",function(){return Ut}),Ve.d(d,"beforeRead",function(){return fn}),Ve.d(d,"read",function(){return Ye}),Ve.d(d,"afterRead",function(){return qe}),Ve.d(d,"beforeMain",function(){return gt}),Ve.d(d,"main",function(){return yt}),Ve.d(d,"afterMain",function(){return Tt}),Ve.d(d,"beforeWrite",function(){return kn}),Ve.d(d,"write",function(){return Ot}),Ve.d(d,"afterWrite",function(){return Wn}),Ve.d(d,"modifierPhases",function(){return Fn}),Ve.d(d,"applyStyles",function(){return pt}),Ve.d(d,"arrow",function(){return mn}),Ve.d(d,"computeStyles",function(){return Pr}),Ve.d(d,"eventListeners",function(){return Ar}),Ve.d(d,"flip",function(){return ai}),Ve.d(d,"hide",function(){return dr}),Ve.d(d,"offset",function(){return ui}),Ve.d(d,"popperOffsets",function(){return Fr}),Ve.d(d,"preventOverflow",function(){return mr}),Ve.d(d,"popperGenerator",function(){return z}),Ve.d(d,"detectOverflow",function(){return Mn}),Ve.d(d,"createPopperBase",function(){return V}),Ve.d(d,"createPopper",function(){return Z}),Ve.d(d,"createPopperLite",function(){return ae}),Ve(29),Ve(31),Ve(4),Ve(32),Ve(7),Ve(10),Ve(11),Ve(5),Ve(6),Ve(8),Ve(16),Ve(69),Ve(33),Ve(51),Ve(57),Ve(38),Ve(91),Ve(116),Ve(34),Ve(9),Ve(13),Ve(52),Ve(40),Ve(26);function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function h(A){return(A=D(A))&&document.querySelector(A)?A:null}function b(A){return(A=D(A))?document.querySelector(A):null}function y(A){A.dispatchEvent(new Event(L))}function _(A){return J(A)?A.jquery?A[0]:A:typeof A=="string"&&0<A.length?document.querySelector(A):null}function w(A,P,N){Object.keys(N).forEach(function(B){var E=N[B],T=P[B],T=T&&J(T)?"element":(T=T)==null?"".concat(T):{}.toString.call(T).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(E).test(T))throw new TypeError("".concat(A.toUpperCase(),': Option "').concat(B,'" provided type "').concat(T,'" but expected type "').concat(E,'".'))})}function M(A){return!(!J(A)||A.getClientRects().length===0)&&getComputedStyle(A).getPropertyValue("visibility")==="visible"}function $(A){return!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false")}function g(A){return document.documentElement.attachShadow?typeof A.getRootNode=="function"?(P=A.getRootNode())instanceof ShadowRoot?P:null:A instanceof ShadowRoot?A:A.parentNode?g(A.parentNode):null:null;var P}function v(){}function k(A){A.offsetHeight}function C(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-bs-no-jquery")?A:null}function S(){return document.documentElement.dir==="rtl"}function I(A){var P;P=function(){var N,B,E=C();E&&(N=A.NAME,B=E.fn[N],E.fn[N]=A.jQueryInterface,E.fn[N].Constructor=A,E.fn[N].noConflict=function(){return E.fn[N]=B,A.jQueryInterface})},document.readyState==="loading"?(K.length||document.addEventListener("DOMContentLoaded",function(){K.forEach(function(N){return N()})}),K.push(P)):P()}function O(A){typeof A=="function"&&A()}function x(A,P){var N,B;2<arguments.length&&arguments[2]!==void 0&&!arguments[2]?O(A):(N=function(j){if(!j)return 0;var j=window.getComputedStyle(j),T=j.transitionDuration,j=j.transitionDelay,W=Number.parseFloat(T),te=Number.parseFloat(j);return W||te?(T=T.split(",")[0],j=j.split(",")[0],(Number.parseFloat(T)+Number.parseFloat(j))*R):0}(P)+5,B=!1,P.addEventListener(L,function E(T){T.target===P&&(B=!0,P.removeEventListener(L,E),O(A))}),setTimeout(function(){B||y(P)},N))}function F(A,P,N,B){if((P=A.indexOf(P))===-1)return A[!N&&B?A.length-1:0];var E=A.length;return P+=N?1:-1,B&&(P=(P+E)%E),A[Math.max(0,Math.min(P,E-1))]}var R=1e3,L="transitionend",D=function(A){var P=A.getAttribute("data-bs-target");if(!P||P==="#"){if(A=A.getAttribute("href"),!A||!A.includes("#")&&!A.startsWith("."))return null;P=(A=A.includes("#")&&!A.startsWith("#")?"#".concat(A.split("#")[1]):A)&&A!=="#"?A.trim():null}return P},J=function(A){return!(!A||m(A)!=="object")&&(A=A.jquery!==void 0?A[0]:A).nodeType!==void 0},K=[];Ve(119),Ve(47),Ve(27),Ve(41),Ve(35);function ee(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,B){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var T,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(T=E.next()).done)&&(W.push(T.value),!B||W.length!==B);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,B){if(N){if(typeof N=="string")return H(N,B);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?H(N,B):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}var q=/[^.]*(?=\..*)\.|.*/,X=/\..*/,ie=/::\d+$/,Q={},G=1,ne={mouseenter:"mouseover",mouseleave:"mouseout"},re=/^(mouseenter|mouseleave)/i,Y=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function le(A,P){return P&&"".concat(P,"::").concat(G++)||A.uidEvent||G++}function ue(A){var P=le(A);return A.uidEvent=P,Q[P]=Q[P]||{},Q[P]}function ge(A,P,N){for(var B=2<arguments.length&&N!==void 0?N:null,E=Object.keys(A),T=0,j=E.length;T<j;T++){var W=A[E[T]];if(W.originalHandler===P&&W.delegationSelector===B)return W}return null}function ye(A,T,E){var B=typeof T=="string",E=B?E:T,T=be(A);return[B,E,T=Y.has(T)?T:A]}function _e(A,P,N,B,E){var T,j,W,te,se,oe,he,de,Se,Pe;typeof P=="string"&&A&&(N||(N=B,B=null),re.test(P)&&(W=function(Te){return function(Fe){if(!Fe.relatedTarget||Fe.relatedTarget!==Fe.delegateTarget&&!Fe.delegateTarget.contains(Fe.relatedTarget))return Te.call(this,Fe)}},B?B=W(B):N=W(N)),T=(W=ee(ye(P,N,B),3))[0],j=W[1],W=W[2],(se=ge(te=(te=ue(A))[W]||(te[W]={}),j,T?N:null))?se.oneOff=se.oneOff&&E:(se=le(j,P.replace(q,"")),(P=T?(de=A,Se=N,Pe=B,function Te(Fe){for(var Me=de.querySelectorAll(Se),Oe=Fe.target;Oe&&Oe!==this;Oe=Oe.parentNode)for(var Ue=Me.length;Ue--;)if(Me[Ue]===Oe)return Fe.delegateTarget=Oe,Te.oneOff&&Ne.off(de,Fe.type,Se,Pe),Pe.apply(Oe,[Fe]);return null}):(oe=A,he=N,function Te(Fe){return Fe.delegateTarget=oe,Te.oneOff&&Ne.off(oe,Fe.type,he),he.apply(oe,[Fe])})).delegationSelector=T?N:null,P.originalHandler=j,P.oneOff=E,te[P.uidEvent=se]=P,A.addEventListener(W,P,T)))}function Ce(A,P,N,B,E){B=ge(P[N],B,E),B&&(A.removeEventListener(N,B,Boolean(E)),delete P[N][B.uidEvent])}function be(A){return A=A.replace(X,""),ne[A]||A}var Ne={on:function(A,P,N,B){_e(A,P,N,B,!1)},one:function(A,P,N,B){_e(A,P,N,B,!0)},off:function(A,P,N,B){if(typeof P=="string"&&A){var B=ee(ye(P,N,B),3),E=B[0],T=B[1],j=B[2],W=j!==P,te=ue(A),B=P.startsWith(".");if(T!==void 0)return te&&te[j]?void Ce(A,te,j,T,E?N:null):void 0;B&&Object.keys(te).forEach(function(he){var de,Se,Pe,Te,Fe;de=A,Se=te,Pe=he,Te=P.slice(1),Fe=Se[Pe]||{},Object.keys(Fe).forEach(function(Me){Me.includes(Te)&&(Me=Fe[Me],Ce(de,Se,Pe,Me.originalHandler,Me.delegationSelector))})});var se=te[j]||{};Object.keys(se).forEach(function(he){var de=he.replace(ie,"");W&&!P.includes(de)||(de=se[he],Ce(A,te,j,de.originalHandler,de.delegationSelector))})}},trigger:function(A,P,N){if(typeof P!="string"||!A)return null;var B,E=C(),T=be(P),j=P!==T,W=Y.has(T),te=!0,se=!0,oe=!1,he=null;return j&&E&&(B=E.Event(P,N),E(A).trigger(B),te=!B.isPropagationStopped(),se=!B.isImmediatePropagationStopped(),oe=B.isDefaultPrevented()),W?(he=document.createEvent("HTMLEvents")).initEvent(T,te,!0):he=new CustomEvent(P,{bubbles:te,cancelable:!0}),N!==void 0&&Object.keys(N).forEach(function(de){Object.defineProperty(he,de,{get:function(){return N[de]}})}),oe&&he.preventDefault(),se&&A.dispatchEvent(he),he.defaultPrevented&&B!==void 0&&B.preventDefault(),he}},fe=Ne,ve=(Ve(176),Ve(177),new Map),Le=function(A,P,N){ve.has(A)||ve.set(A,new Map),A=ve.get(A),A.has(P)||A.size===0?A.set(P,N):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(A.keys())[0],"."))},Ie=function(A,P){return ve.has(A)&&ve.get(A).get(P)||null},We=function(A,P){var N;ve.has(A)&&((N=ve.get(A)).delete(P),N.size===0&&ve.delete(A))};function nt(A){return(nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function it(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var De=function(){function A(E){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");(E=_(E))&&(this._element=E,Le(this._element,this.constructor.DATA_KEY,this))}var P,N,B;return P=A,B=[{key:"getInstance",value:function(E){return Ie(_(E),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,nt(T)==="object"?T:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}],(N=[{key:"dispose",value:function(){var E=this;We(this._element,this.constructor.DATA_KEY),fe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(T){E[T]=null})}},{key:"_queueCallback",value:function(E,T){x(E,T,!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])}}])&&it(P.prototype,N),B&&it(P,B),Object.defineProperty(P,"prototype",{writable:!1}),A}();function ct(A){return(ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ae(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Xe(A,P){return(Xe=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function ot(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=je(A),B=(N=P?(N=je(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(ct(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function je(A){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Ze=".".concat("bs.button"),Je='[data-bs-toggle="button"]',Ze="click".concat(Ze).concat(".data-api"),Ge=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Xe(A,P);var N,B=ot(E);function E(){var T=this,j=E;if(T instanceof j)return B.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this);T==="toggle"&&j[T]()})}}],(N=[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}])&&Ae(A.prototype,N),P&&Ae(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Ze=(fe.on(document,Ze,Je,function(A){A.preventDefault(),A=A.target.closest(Je),Ge.getOrCreateInstance(A).toggle()}),I(Ge),Ge),rt=(Ve(28),Ve(58),Ve(121),Ve(15),Ve(59),Ve(24),Ve(25),"top"),et="bottom",at="right",bt="left",$t="auto",Ke=[rt,et,at,bt],Et="start",dt="end",xt="clippingParents",Bt="viewport",Ft="popper",Ct="reference",Vt=Ke.reduce(function(A,P){return A.concat([P+"-"+Et,P+"-"+dt])},[]),Ut=[].concat(Ke,[$t]).reduce(function(A,P){return A.concat([P,P+"-"+Et,P+"-"+dt])},[]),fn="beforeRead",Ye="read",qe="afterRead",gt="beforeMain",yt="main",Tt="afterMain",kn="beforeWrite",Ot="write",Wn="afterWrite",Fn=[fn,Ye,qe,gt,yt,Tt,kn,Ot,Wn];function nn(A){return A?(A.nodeName||"").toLowerCase():null}function rn(A){return A==null?window:A.toString()!=="[object Window]"?(P=A.ownerDocument)&&P.defaultView||window:A;var P}function me(A){return A instanceof rn(A).Element||A instanceof Element}function ke(A){return A instanceof rn(A).HTMLElement||A instanceof HTMLElement}function He(A){if(typeof ShadowRoot<"u")return A instanceof rn(A).ShadowRoot||A instanceof ShadowRoot}var pt={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var P=A.state;Object.keys(P.elements).forEach(function(N){var B=P.styles[N]||{},E=P.attributes[N]||{},T=P.elements[N];ke(T)&&nn(T)&&(Object.assign(T.style,B),Object.keys(E).forEach(function(j){var W=E[j];W===!1?T.removeAttribute(j):T.setAttribute(j,W===!0?"":W)}))})},effect:function(A){var P=A.state,N={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,N.popper),P.styles=N,P.elements.arrow&&Object.assign(P.elements.arrow.style,N.arrow),function(){Object.keys(P.elements).forEach(function(j){var E=P.elements[j],T=P.attributes[j]||{},j=Object.keys((P.styles.hasOwnProperty(j)?P.styles:N)[j]).reduce(function(W,te){return W[te]="",W},{});ke(E)&&nn(E)&&(Object.assign(E.style,j),Object.keys(T).forEach(function(W){E.removeAttribute(W)}))})}},requires:["computeStyles"]};function kt(A){return A.split("-")[0]}var zt=Math.max,Lt=Math.min,Nt=Math.round;function Zt(A,P){P===void 0&&(P=!1);var N=A.getBoundingClientRect(),B=1,E=1;return ke(A)&&P&&(P=A.offsetHeight,0<(A=A.offsetWidth)&&(B=Nt(N.width)/A||1),0<P&&(E=Nt(N.height)/P||1)),{width:N.width/B,height:N.height/E,top:N.top/E,right:N.right/B,bottom:N.bottom/E,left:N.left/B,x:N.left/B,y:N.top/E}}function an(A){var P=Zt(A),N=A.offsetWidth,B=A.offsetHeight;return Math.abs(P.width-N)<=1&&(N=P.width),Math.abs(P.height-B)<=1&&(B=P.height),{x:A.offsetLeft,y:A.offsetTop,width:N,height:B}}function Vn(A,P){var N=P.getRootNode&&P.getRootNode();if(A.contains(P))return!0;if(N&&He(N)){var B=P;do if(B&&A.isSameNode(B))return!0;while(B=B.parentNode||B.host)}return!1}function ln(A){return rn(A).getComputedStyle(A)}function pn(A){return((me(A)?A.ownerDocument:A.document)||window.document).documentElement}function ht(A){return nn(A)==="html"?A:A.assignedSlot||A.parentNode||(He(A)?A.host:null)||pn(A)}function Mt(A){return ke(A)&&ln(A).position!=="fixed"?A.offsetParent:null}function jt(A){for(var P,N=rn(A),B=Mt(A);B&&(P=B,0<=["table","td","th"].indexOf(nn(P)))&&ln(B).position==="static";)B=Mt(B);return(!B||nn(B)!=="html"&&(nn(B)!=="body"||ln(B).position!=="static"))&&(B||function(E){var T=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,j=navigator.userAgent.indexOf("Trident")!==-1;if(j&&ke(E)&&ln(E).position==="fixed")return null;var W=ht(E);for(He(W)&&(W=W.host);ke(W)&&["html","body"].indexOf(nn(W))<0;){var te=ln(W);if(te.transform!=="none"||te.perspective!=="none"||te.contain==="paint"||["transform","perspective"].indexOf(te.willChange)!==-1||T&&te.willChange==="filter"||T&&te.filter&&te.filter!=="none")return W;W=W.parentNode}return null}(A))||N}function en(A){return 0<=["top","bottom"].indexOf(A)?"x":"y"}function dn(A,P,N){return zt(A,Lt(P,N))}function Tn(){return{top:0,right:0,bottom:0,left:0}}function St(A){return Object.assign({},Tn(),A)}function Rt(A,P){return P.reduce(function(N,B){return N[B]=A,N},{})}var mn={name:"arrow",enabled:!0,phase:"main",fn:function(W){var P,N,B,E,T=W.state,j=W.name,W=W.options,te=T.elements.arrow,se=T.modifiersData.popperOffsets,oe=en(he=kt(T.placement)),he=0<=[bt,at].indexOf(he)?"height":"width";te&&se&&(W=W.padding,N=T,N=St(typeof(W=typeof W=="function"?W(Object.assign({},N.rects,{placement:N.placement})):W)!="number"?W:Rt(W,Ke)),W=an(te),E=oe==="y"?rt:bt,B=oe==="y"?et:at,P=T.rects.reference[he]+T.rects.reference[oe]-se[oe]-T.rects.popper[he],se=se[oe]-T.rects.reference[oe],te=(te=jt(te))?oe==="y"?te.clientHeight||0:te.clientWidth||0:0,E=N[E],N=te-W[he]-N[B],E=dn(E,B=te/2-W[he]/2+(P/2-se/2),N),T.modifiersData[j]=((te={})[oe]=E,te.centerOffset=E-B,te))},effect:function(A){var P=A.state;(A=(A=A.options.element)===void 0?"[data-popper-arrow]":A)!=null&&(typeof A!="string"||(A=P.elements.popper.querySelector(A)))&&Vn(P.elements.popper,A)&&(P.elements.arrow=A)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jn(A){return A.split("-")[1]}var Wi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tr(Ue){var P,N,B,Oe=Ue.popper,E=Ue.popperRect,T=Ue.placement,j=Ue.variation,Pe=Ue.offsets,W=Ue.position,te=Ue.gpuAcceleration,se=Ue.adaptive,oe=Ue.roundOffsets,Ue=Ue.isFixed,he=Pe.x,he=he===void 0?0:he,de=Pe.y,de=de===void 0?0:de,Se=typeof oe=="function"?oe({x:he,y:de}):{x:he,y:de},Se=(he=Se.x,de=Se.y,Pe.hasOwnProperty("x")),Pe=Pe.hasOwnProperty("y"),Te=bt,Fe=rt,Me=window,Oe=(se&&(N="clientHeight",P="clientWidth",(B=jt(Oe))===rn(Oe)&&ln(B=pn(Oe)).position!=="static"&&W==="absolute"&&(N="scrollHeight",P="scrollWidth"),T!==rt&&(T!==bt&&T!==at||j!==dt)||(Fe=et,de=(de-((Ue&&B===Me&&Me.visualViewport?Me.visualViewport.height:B[N])-E.height))*(te?1:-1)),T!==bt&&(T!==rt&&T!==et||j!==dt)||(Te=at,he=(he-((Ue&&B===Me&&Me.visualViewport?Me.visualViewport.width:B[P])-E.width))*(te?1:-1))),Object.assign({position:W},se&&Wi)),Ue=oe===!0?(T=(N={x:he,y:de}).x,N=N.y,j=window.devicePixelRatio||1,{x:Nt(T*j)/j||0,y:Nt(N*j)/j||0}):{x:he,y:de};return he=Ue.x,de=Ue.y,te?Object.assign({},Oe,((B={})[Fe]=Pe?"0":"",B[Te]=Se?"0":"",B.transform=(Me.devicePixelRatio||1)<=1?"translate("+he+"px, "+de+"px)":"translate3d("+he+"px, "+de+"px, 0)",B)):Object.assign({},Oe,((P={})[Fe]=Pe?de+"px":"",P[Te]=Se?he+"px":"",P.transform="",P))}var Pr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(B){var P=B.state,B=B.options,E=(E=B.gpuAcceleration)===void 0||E,N=(N=B.adaptive)===void 0||N,B=(B=B.roundOffsets)===void 0||B,E={placement:kt(P.placement),variation:jn(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:E,isFixed:P.options.strategy==="fixed"};P.modifiersData.popperOffsets!=null&&(P.styles.popper=Object.assign({},P.styles.popper,Tr(Object.assign({},E,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:N,roundOffsets:B})))),P.modifiersData.arrow!=null&&(P.styles.arrow=Object.assign({},P.styles.arrow,Tr(Object.assign({},E,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:B})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})},data:{}},Gn={passive:!0},Ar={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var P=A.state,N=A.instance,B=(A=A.options).scroll,E=B===void 0||B,T=(B=A.resize)===void 0||B,j=rn(P.elements.popper),W=[].concat(P.scrollParents.reference,P.scrollParents.popper);return E&&W.forEach(function(te){te.addEventListener("scroll",N.update,Gn)}),T&&j.addEventListener("resize",N.update,Gn),function(){E&&W.forEach(function(te){te.removeEventListener("scroll",N.update,Gn)}),T&&j.removeEventListener("resize",N.update,Gn)}},data:{}},Vi={left:"right",right:"left",bottom:"top",top:"bottom"};function cr(A){return A.replace(/left|right|bottom|top/g,function(P){return Vi[P]})}var $n={start:"end",end:"start"};function oi(A){return A.replace(/start|end/g,function(P){return $n[P]})}function Pt(A){return A=rn(A),{scrollLeft:A.pageXOffset,scrollTop:A.pageYOffset}}function xr(A){return Zt(pn(A)).left+Pt(A).scrollLeft}function fr(B){var B=ln(B),P=B.overflow,N=B.overflowX,B=B.overflowY;return/auto|scroll|overlay|hidden/.test(P+B+N)}function qn(N,P){P===void 0&&(P=[]);var E=function T(j){return 0<=["html","body","#document"].indexOf(nn(j))?j.ownerDocument.body:ke(j)&&fr(j)?j:T(ht(j))}(N),N=E===((N=N.ownerDocument)==null?void 0:N.body),B=rn(E),B=N?[B].concat(B.visualViewport||[],fr(E)?E:[]):E,E=P.concat(B);return N?E:E.concat(qn(ht(B)))}function Or(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Pn(A,P){return P===Bt?Or((B=rn(N=A),E=pn(N),B=B.visualViewport,T=E.clientWidth,E=E.clientHeight,W=j=0,B&&(T=B.width,E=B.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(j=B.offsetLeft,W=B.offsetTop)),{width:T,height:E,x:j+xr(N),y:W})):me(P)?((T=Zt(B=P)).top=T.top+B.clientTop,T.left=T.left+B.clientLeft,T.bottom=T.top+B.clientHeight,T.right=T.left+B.clientWidth,T.width=B.clientWidth,T.height=B.clientHeight,T.x=T.left,T.y=T.top,T):Or((E=pn(A),j=pn(E),N=Pt(E),W=(W=E.ownerDocument)==null?void 0:W.body,P=zt(j.scrollWidth,j.clientWidth,W?W.scrollWidth:0,W?W.clientWidth:0),A=zt(j.scrollHeight,j.clientHeight,W?W.scrollHeight:0,W?W.clientHeight:0),E=-N.scrollLeft+xr(E),N=-N.scrollTop,ln(W||j).direction==="rtl"&&(E+=zt(j.clientWidth,W?W.clientWidth:0)-P),{width:P,height:A,x:E,y:N}));var N,B,E,T,j,W}function Ui(A,j,W){var B,E=j==="clippingParents"?(T=qn(ht(E=A)),me(B=0<=["absolute","fixed"].indexOf(ln(E).position)&&ke(E)?jt(E):E)?T.filter(function(te){return me(te)&&Vn(te,B)&&nn(te)!=="body"}):[]):[].concat(j),T=[].concat(E,[W]),j=T[0],W=T.reduce(function(te,se){return se=Pn(A,se),te.top=zt(se.top,te.top),te.right=Lt(se.right,te.right),te.bottom=Lt(se.bottom,te.bottom),te.left=zt(se.left,te.left),te},Pn(A,j));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}function pr(T){var P,N=T.reference,B=T.element,T=T.placement,E=T?kt(T):null,T=T?jn(T):null,j=N.x+N.width/2-B.width/2,W=N.y+N.height/2-B.height/2;switch(E){case rt:P={x:j,y:N.y-B.height};break;case et:P={x:j,y:N.y+N.height};break;case at:P={x:N.x+N.width,y:W};break;case bt:P={x:N.x-B.width,y:W};break;default:P={x:N.x,y:N.y}}var te=E?en(E):null;if(te!=null){var se=te==="y"?"height":"width";switch(T){case Et:P[te]=P[te]-(N[se]/2-B[se]/2);break;case dt:P[te]=P[te]+(N[se]/2-B[se]/2)}}return P}function Mn(A,T){var N,T=T=T===void 0?{}:T,B=T.placement,B=B===void 0?A.placement:B,W=T.boundary,W=W===void 0?xt:W,te=T.rootBoundary,te=te===void 0?Bt:te,E=T.elementContext,E=E===void 0?Ft:E,j=T.altBoundary,j=j!==void 0&&j,T=T.padding,T=T===void 0?0:T,T=St(typeof T!="number"?T:Rt(T,Ke)),oe=A.rects.popper,j=A.elements[j?E===Ft?Ct:Ft:E],j=Ui(me(j)?j:j.contextElement||pn(A.elements.popper),W,te),W=Zt(A.elements.reference),te=pr({reference:W,element:oe,strategy:"absolute",placement:B}),oe=Or(Object.assign({},oe,te)),te=E===Ft?oe:W,se={top:j.top-te.top+T.top,bottom:te.bottom-j.bottom+T.bottom,left:j.left-te.left+T.left,right:te.right-j.right+T.right},oe=A.modifiersData.offset;return E===Ft&&oe&&(N=oe[B],Object.keys(se).forEach(function(he){var de=0<=[at,et].indexOf(he)?1:-1,Se=0<=[rt,et].indexOf(he)?"y":"x";se[he]+=N[Se]*de})),se}var ai={name:"flip",enabled:!0,phase:"main",fn:function(B){var P=B.state,N=B.options,B=B.name;if(!P.modifiersData[B]._skip){for(var Se=N.mainAxis,E=Se===void 0||Se,Se=N.altAxis,T=Se===void 0||Se,Se=N.fallbackPlacements,j=N.padding,W=N.boundary,te=N.rootBoundary,se=N.altBoundary,de=N.flipVariations,oe=de===void 0||de,he=N.allowedAutoPlacements,de=P.options.placement,N=kt(de),Se=Se||(N===de||!oe?[cr(de)]:function(Dt){if(kt(Dt)===$t)return[];var Sn=cr(Dt);return[oi(Dt),Sn,oi(Sn)]}(de)),Pe=[de].concat(Se).reduce(function(Dt,Sn){return Dt.concat(kt(Sn)===$t?(Qt=P,ri=(Dt=Dt=(Dt={placement:Sn,boundary:W,rootBoundary:te,padding:j,flipVariations:oe,allowedAutoPlacements:he})===void 0?{}:Dt).placement,ur=Dt.boundary,At=Dt.rootBoundary,lr=Dt.padding,ji=Dt.flipVariations,Di=(Dt=Dt.allowedAutoPlacements)===void 0?Ut:Dt,Yo=jn(ri),Dt=Yo?ji?Vt:Vt.filter(function(Hn){return jn(Hn)===Yo}):Ke,zi=(ri=(ri=Dt.filter(function(Hn){return 0<=Di.indexOf(Hn)})).length===0?Dt:ri).reduce(function(Hn,ii){return Hn[ii]=Mn(Qt,{placement:ii,boundary:ur,rootBoundary:At,padding:lr})[kt(ii)],Hn},{}),Object.keys(zi).sort(function(Hn,ii){return zi[Hn]-zi[ii]})):Sn);var Qt,ri,ur,At,lr,ji,Di,Yo,zi},[]),Te=P.rects.reference,Fe=P.rects.popper,Me=new Map,Oe=!0,Ue=Pe[0],Qe=0;Qe<Pe.length;Qe++){var lt=Pe[Qe],vt=kt(lt),Wt=jn(lt)===Et,mt=0<=[rt,et].indexOf(vt),sn=mt?"width":"height",st=Mn(P,{placement:lt,boundary:W,rootBoundary:te,altBoundary:se,padding:j}),mt=mt?Wt?at:bt:Wt?et:rt,Wt=(Te[sn]>Fe[sn]&&(mt=cr(mt)),cr(mt)),sn=[];if(E&&sn.push(st[vt]<=0),T&&sn.push(st[mt]<=0,st[Wt]<=0),sn.every(function(Dt){return Dt})){Ue=lt,Oe=!1;break}Me.set(lt,sn)}if(Oe)for(var Kt=oe?3:1;0<Kt&&function(un){var Dt=Pe.find(function(Sn){if(Sn=Me.get(Sn),Sn)return Sn.slice(0,un).every(function(Qt){return Qt})});if(Dt)return Ue=Dt,"break"}(Kt)!=="break";Kt--);P.placement!==Ue&&(P.modifiersData[B]._skip=!0,P.placement=Ue,P.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function si(A,P,N){return{top:A.top-P.height-(N=N===void 0?{x:0,y:0}:N).y,right:A.right-P.width+N.x,bottom:A.bottom-P.height+N.y,left:A.left-P.width-N.x}}function Br(A){return[rt,at,et,bt].some(function(P){return 0<=A[P]})}var dr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(N){var P=N.state,N=N.name,T=P.rects.reference,W=P.rects.popper,B=P.modifiersData.preventOverflow,E=Mn(P,{elementContext:"reference"}),j=Mn(P,{altBoundary:!0}),E=si(E,T),T=si(j,W,B),j=Br(E),W=Br(T);P.modifiersData[N]={referenceClippingOffsets:E,popperEscapeOffsets:T,isReferenceHidden:j,hasPopperEscaped:W},P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":W})}},ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(N){var P=N.state,E=N.options,N=N.name,B=(E=E.offset)===void 0?[0,0]:E,E=Ut.reduce(function(W,te){var se,oe,he,de;return W[te]=(te=te,se=P.rects,oe=B,he=kt(te),de=0<=[bt,rt].indexOf(he)?-1:1,te=(se=typeof oe=="function"?oe(Object.assign({},se,{placement:te})):oe)[0]||0,oe=(se[1]||0)*de,0<=[bt,at].indexOf(he)?{x:oe,y:te}:{x:te,y:oe}),W},{}),T=(j=E[P.placement]).x,j=j.y;P.modifiersData.popperOffsets!=null&&(P.modifiersData.popperOffsets.x+=T,P.modifiersData.popperOffsets.y+=j),P.modifiersData[N]=E}},Fr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(N){var P=N.state,N=N.name;P.modifiersData[N]=pr({reference:P.rects.reference,element:P.rects.popper,strategy:"absolute",placement:P.placement})},data:{}},mr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(he){var P,N,B,E,T,j,W,te,se,oe=he.state,mt=he.options,he=he.name,de=(de=mt.mainAxis)===void 0||de,Se=(Se=mt.altAxis)!==void 0&&Se,Fe=mt.boundary,Me=mt.rootBoundary,Oe=mt.altBoundary,Pe=mt.padding,Te=(Te=mt.tether)===void 0||Te,mt=(mt=mt.tetherOffset)===void 0?0:mt,Fe=Mn(oe,{boundary:Fe,rootBoundary:Me,padding:Pe,altBoundary:Oe}),Me=kt(oe.placement),Oe=!(Pe=jn(oe.placement)),Ue=en(Me),Qe=Ue==="x"?"y":"x",lt=oe.modifiersData.popperOffsets,vt=oe.rects.reference,st=oe.rects.popper,mt=typeof(mt=typeof mt=="function"?mt(Object.assign({},oe.rects,{placement:oe.placement})):mt)=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Wt=oe.modifiersData.offset?oe.modifiersData.offset[oe.placement]:null,sn={x:0,y:0};lt&&(de&&(de=Ue==="y"?"height":"width",j=(W=lt[Ue])+Fe[N=Ue==="y"?rt:bt],te=W-Fe[se=Ue==="y"?et:at],P=Te?-st[de]/2:0,E=(Pe===Et?vt:st)[de],Pe=Pe===Et?-st[de]:-vt[de],T=oe.elements.arrow,T=Te&&T?an(T):{width:0,height:0},N=(B=oe.modifiersData["arrow#persistent"]?oe.modifiersData["arrow#persistent"].padding:Tn())[N],B=B[se],se=dn(0,vt[de],T[de]),T=Oe?vt[de]/2-P-se-N-mt.mainAxis:E-se-N-mt.mainAxis,E=Oe?-vt[de]/2+P+se+B+mt.mainAxis:Pe+se+B+mt.mainAxis,Oe=(N=oe.elements.arrow&&jt(oe.elements.arrow))?Ue==="y"?N.clientTop||0:N.clientLeft||0:0,Pe=W+E-(P=(de=Wt==null?void 0:Wt[Ue])!=null?de:0),se=dn(Te?Lt(j,W+T-P-Oe):j,W,Te?zt(te,Pe):te),lt[Ue]=se,sn[Ue]=se-W),Se&&(B=Qe=="y"?"height":"width",E=(N=lt[Qe])+Fe[Ue==="x"?rt:bt],de=N-Fe[Ue==="x"?et:at],T=[rt,bt].indexOf(Me)!==-1,Oe=(P=Wt==null?void 0:Wt[Qe])!=null?P:0,j=T?E:N-vt[B]-st[B]-Oe+mt.altAxis,Pe=T?N+vt[B]+st[B]-Oe-mt.altAxis:de,W=Te&&T?(te=dn(te=j,N,se=Pe),se<te?se:te):dn(Te?j:E,N,Te?Pe:de),lt[Qe]=W,sn[Qe]=W-N),oe.modifiersData[he]=sn)},requiresIfExists:["offset"]};function Nr(W,P,N){N===void 0&&(N=!1);var B=ke(P),E=ke(P)&&(j=(E=P).getBoundingClientRect(),T=Nt(j.width)/E.offsetWidth||1,j=Nt(j.height)/E.offsetHeight||1,T!==1||j!==1),T=pn(P),j=Zt(W,E),W={scrollLeft:0,scrollTop:0},te={x:0,y:0};return!B&&N||(nn(P)==="body"&&!fr(T)||(W=(B=P)!==rn(B)&&ke(B)?{scrollLeft:B.scrollLeft,scrollTop:B.scrollTop}:Pt(B)),ke(P)?((te=Zt(P,!0)).x+=P.clientLeft,te.y+=P.clientTop):T&&(te.x=xr(T))),{x:j.left+W.scrollLeft-te.x,y:j.top+W.scrollTop-te.y,width:j.width,height:j.height}}function Ji(A){var P=new Map,N=new Set,B=[];return A.forEach(function(E){P.set(E.name,E)}),A.forEach(function(E){N.has(E.name)||function T(j){N.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(W){N.has(W)||(W=P.get(W))&&T(W)}),B.push(j)}(E)}),B}var li={placement:"bottom",modifiers:[],strategy:"absolute"};function U(){for(var A=arguments.length,P=new Array(A),N=0;N<A;N++)P[N]=arguments[N];return!P.some(function(B){return!(B&&typeof B.getBoundingClientRect=="function")})}function z(P){var P=P=P===void 0?{}:P,B=P.defaultModifiers,N=B===void 0?[]:B,B=P.defaultOptions,E=B===void 0?li:B;return function(T,j,W){W===void 0&&(W=E);var te,se,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},li,E),modifiersData:{},elements:{reference:T,popper:j},attributes:{},styles:{}},he=[],de=!1,Se={state:oe,setOptions:function(Oe){var Fe,Me,Oe=typeof Oe=="function"?Oe(oe.options):Oe,Oe=(Pe(),oe.options=Object.assign({},E,oe.options,Oe),oe.scrollParents={reference:me(T)?qn(T):T.contextElement?qn(T.contextElement):[],popper:qn(j)},Oe=[].concat(N,oe.options.modifiers),Me=Oe.reduce(function(Ue,Qe){var lt=Ue[Qe.name];return Ue[Qe.name]=lt?Object.assign({},lt,Qe,{options:Object.assign({},lt.options,Qe.options),data:Object.assign({},lt.data,Qe.data)}):Qe,Ue},{}),Oe=Object.keys(Me).map(function(Ue){return Me[Ue]}),Fe=Ji(Oe),Fn.reduce(function(Ue,Qe){return Ue.concat(Fe.filter(function(lt){return lt.phase===Qe}))},[]));return oe.orderedModifiers=Oe.filter(function(Ue){return Ue.enabled}),oe.orderedModifiers.forEach(function(vt){var Qe=vt.name,lt=vt.options,vt=vt.effect;typeof vt=="function"&&(vt=vt({state:oe,name:Qe,instance:Se,options:lt===void 0?{}:lt}),he.push(vt||function(){}))}),Se.update()},forceUpdate:function(){if(!de){var Fe=oe.elements,Te=Fe.reference,Fe=Fe.popper;if(U(Te,Fe)){oe.rects={reference:Nr(Te,jt(Fe),oe.options.strategy==="fixed"),popper:an(Fe)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(lt){return oe.modifiersData[lt.name]=Object.assign({},lt.data)});for(var Me,Oe,Ue,Qe=0;Qe<oe.orderedModifiers.length;Qe++)oe.reset===!0?(oe.reset=!1,Qe=-1):(Me=(Ue=oe.orderedModifiers[Qe]).fn,Oe=Ue.options,Ue=Ue.name,typeof Me=="function"&&(oe=Me({state:oe,options:Oe===void 0?{}:Oe,name:Ue,instance:Se})||oe))}}},update:(te=function(){return new Promise(function(Te){Se.forceUpdate(),Te(oe)})},function(){return se=se||new Promise(function(Te){Promise.resolve().then(function(){se=void 0,Te(te())})})}),destroy:function(){Pe(),de=!0}};return U(T,j)&&Se.setOptions(W).then(function(Te){!de&&W.onFirstUpdate&&W.onFirstUpdate(Te)}),Se;function Pe(){he.forEach(function(Te){return Te()}),he=[]}}}var V=z(),Z=z({defaultModifiers:[Ar,Fr,Pr,pt,ui,ai,mr,mn,dr]}),ae=z({defaultModifiers:[Ar,Fr,Pr,pt]});function ce(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function pe(A){return A.replace(/[A-Z]/g,function(P){return"-".concat(P.toLowerCase())})}var we={setDataAttribute:function(A,P,N){A.setAttribute("data-bs-".concat(pe(P)),N)},removeDataAttribute:function(A,P){A.removeAttribute("data-bs-".concat(pe(P)))},getDataAttributes:function(A){if(!A)return{};var P={};return Object.keys(A.dataset).filter(function(N){return N.startsWith("bs")}).forEach(function(N){var B=(B=N.replace(/^bs/,"")).charAt(0).toLowerCase()+B.slice(1,B.length);P[B]=ce(A.dataset[N])}),P},getDataAttribute:function(A,P){return ce(A.getAttribute("data-bs-".concat(pe(P))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+window.pageYOffset,left:A.left+window.pageXOffset}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}}};Ve(95);function Re(A){return function(P){if(Array.isArray(P))return xe(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return xe(P,N);var B=Object.prototype.toString.call(P).slice(8,-1);return(B=B==="Object"&&P.constructor?P.constructor.name:B)==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?xe(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xe(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}var Ee={find:function(A){var P,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(P=[]).concat.apply(P,Re(Element.prototype.querySelectorAll.call(N,A)))},findOne:function(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(P,A)},children:function(A,P){var N;return(N=[]).concat.apply(N,Re(A.children)).filter(function(B){return B.matches(P)})},parents:function(A,P){for(var N=[],B=A.parentNode;B&&B.nodeType===Node.ELEMENT_NODE&&B.nodeType!==3;)B.matches(P)&&N.push(B),B=B.parentNode;return N},prev:function(A,P){for(var N=A.previousElementSibling;N;){if(N.matches(P))return[N];N=N.previousElementSibling}return[]},next:function(A,P){for(var N=A.nextElementSibling;N;){if(N.matches(P))return[N];N=N.nextElementSibling}return[]},focusableChildren:function(A){var P=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(N){return"".concat(N,':not([tabindex^="-"])')}).join(", ");return this.find(P,A).filter(function(N){return!$(N)&&M(N)})}};function tt(A){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ze(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function ut(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ze(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ze(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function _t(A){return function(P){if(Array.isArray(P))return qt(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return qt(P,N);var B=Object.prototype.toString.call(P).slice(8,-1);return(B=B==="Object"&&P.constructor?P.constructor.name:B)==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?qt(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qt(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}function cn(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Xt(){return(Xt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=hn(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function Ht(A,P){return(Ht=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Nn(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=hn(A),B=(N=P?(N=hn(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(tt(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function hn(A){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Dn="dropdown",Gt=".".concat("bs.dropdown"),Lr=".data-api",Yn="Escape",Cn="ArrowUp",ci="ArrowDown",Cu=new RegExp("".concat(Cn,"|").concat(ci,"|").concat(Yn)),wu="hide".concat(Gt),Iu="hidden".concat(Gt),Eu="show".concat(Gt),Su="shown".concat(Gt),pi="click".concat(Gt).concat(Lr),on="keydown".concat(Gt).concat(Lr),Gt="keyup".concat(Gt).concat(Lr),hr="show",Rr='[data-bs-toggle="dropdown"]',qi=".dropdown-menu",ku=S()?"top-end":"top-start",Tu=S()?"top-start":"top-end",Pu=S()?"bottom-end":"bottom-start",Au=S()?"bottom-start":"bottom-end",xu=S()?"left-start":"right-start",Ou=S()?"right-start":"left-start",Bu={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Fu={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Zn=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Ht(A,P);var N,B=Nn(E);function E(T,j){if(this instanceof E)return(T=B.call(this,T))._popper=null,T._config=T._getConfig(j),T._menu=T._getMenuElement(),T._inNavbar=T._detectNavbar(),T;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Bu}},{key:"DefaultType",get:function(){return Fu}},{key:"NAME",get:function(){return Dn}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}},{key:"clearMenus",value:function(T){if(!T||T.button!==2&&(T.type!=="keyup"||T.key==="Tab"))for(var j=Ee.find(Rr),W=0,te=j.length;W<te;W++){var se=E.getInstance(j[W]);if(se&&se._config.autoClose!==!1&&se._isShown()){var oe={relatedTarget:se._element};if(T){var he=T.composedPath(),de=he.includes(se._menu);if(he.includes(se._element)||se._config.autoClose==="inside"&&!de||se._config.autoClose==="outside"&&de||se._menu.contains(T.target)&&(T.type==="keyup"&&T.key==="Tab"||/input|select|option|textarea|form/i.test(T.target.tagName)))continue;T.type==="click"&&(oe.clickEvent=T)}se._completeHide(oe)}}}},{key:"getParentFromElement",value:function(T){return b(T)||T.parentNode}},{key:"dataApiKeydownHandler",value:function(T){if(/input|textarea/i.test(T.target.tagName)?!(T.key==="Space"||T.key!==Yn&&(T.key!==ci&&T.key!==Cn||T.target.closest(qi))):Cu.test(T.key)){var j=this.classList.contains(hr);if((j||T.key!==Yn)&&(T.preventDefault(),T.stopPropagation(),!$(this))){var W=this.matches(Rr)?this:Ee.prev(this,Rr)[0],W=E.getOrCreateInstance(W);if(T.key!==Yn)return T.key===Cn||T.key===ci?(j||W.show(),void W._selectMenuItem(T)):void(j&&T.key!=="Space"||E.clearMenus());W.hide()}}}}],(N=[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var T,j;$(this._element)||this._isShown(this._menu)||(T={relatedTarget:this._element},fe.trigger(this._element,Eu,T).defaultPrevented||(j=E.getParentFromElement(this._element),this._inNavbar?we.setDataAttribute(this._menu,"popper","none"):this._createPopper(j),"ontouchstart"in document.documentElement&&!j.closest(".navbar-nav")&&(j=[]).concat.apply(j,_t(document.body.children)).forEach(function(W){return fe.on(W,"mouseover",v)}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(hr),this._element.classList.add(hr),fe.trigger(this._element,Su,T)))}},{key:"hide",value:function(){var T;!$(this._element)&&this._isShown(this._menu)&&(T={relatedTarget:this._element},this._completeHide(T))}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),Xt(hn(E.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(T){var j;fe.trigger(this._element,wu,T).defaultPrevented||("ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,_t(document.body.children)).forEach(function(W){return fe.off(W,"mouseover",v)}),this._popper&&this._popper.destroy(),this._menu.classList.remove(hr),this._element.classList.remove(hr),this._element.setAttribute("aria-expanded","false"),we.removeDataAttribute(this._menu,"popper"),fe.trigger(this._element,Iu,T))}},{key:"_getConfig",value:function(T){if(T=ut(ut(ut({},this.constructor.Default),we.getDataAttributes(this._element)),T),w(Dn,T,this.constructor.DefaultType),tt(T.reference)!=="object"||J(T.reference)||typeof T.reference.getBoundingClientRect=="function")return T;throw new TypeError("".concat(Dn.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}},{key:"_createPopper",value:function(W){if(d===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var j=this._element,W=(this._config.reference==="parent"?j=W:J(this._config.reference)?j=_(this._config.reference):tt(this._config.reference)==="object"&&(j=this._config.reference),this._getPopperConfig()),te=W.modifiers.find(function(se){return se.name==="applyStyles"&&se.enabled===!1});this._popper=Z(j,this._menu,W),te&&we.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(hr)}},{key:"_getMenuElement",value:function(){return Ee.next(this._element,qi)[0]}},{key:"_getPlacement",value:function(){var T=this._element.parentNode;if(T.classList.contains("dropend"))return xu;if(T.classList.contains("dropstart"))return Ou;var j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return T.classList.contains("dropup")?j?Tu:ku:j?Au:Pu}},{key:"_detectNavbar",value:function(){return this._element.closest(".".concat("navbar"))!==null}},{key:"_getOffset",value:function(){var T=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,T._element)}:j}},{key:"_getPopperConfig",value:function(){var T={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(T.modifiers=[{name:"applyStyles",enabled:!1}]),ut(ut({},T),typeof this._config.popperConfig=="function"?this._config.popperConfig(T):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(W){var j=W.key,W=W.target,te=Ee.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(M);te.length&&F(te,W,j===ci,!te.includes(W)).focus()}}])&&cn(A.prototype,N),P&&cn(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Lr=(fe.on(document,on,Rr,Zn.dataApiKeydownHandler),fe.on(document,on,qi,Zn.dataApiKeydownHandler),fe.on(document,pi,Zn.clearMenus),fe.on(document,Gt,Zn.clearMenus),fe.on(document,pi,Rr,function(A){A.preventDefault(),Zn.getOrCreateInstance(this).toggle()}),I(Zn),Zn);function Zo(A){return(Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Xo(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function Hi(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Xo(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Xo(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Ko(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Qo(A,P){return(Qo=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Nu(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=Gi(A),B=(N=P?(N=Gi(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(Zo(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Gi(A){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var ea="collapse",ta="bs.collapse",on=".".concat(ta),na={toggle:!0,parent:null},Ru={toggle:"boolean",parent:"(null|element)"},Lu="show".concat(on),ju="shown".concat(on),Du="hide".concat(on),zu="hidden".concat(on),Gt="click".concat(on).concat(".data-api"),Yi="show",gr="collapse",fi="collapsing",ra="collapsed",ia=":scope .".concat(gr," .").concat(gr),Zi='[data-bs-toggle="collapse"]',Xi=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Qo(A,P);var N,B=Nu(E);function E(T,j){var W;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");(W=B.call(this,T))._isTransitioning=!1,W._config=W._getConfig(j),W._triggerArray=[];for(var te=Ee.find(Zi),se=0,oe=te.length;se<oe;se++){var he=te[se],de=h(he),Se=Ee.find(de).filter(function(Pe){return Pe===W._element});de!==null&&Se.length&&(W._selector=de,W._triggerArray.push(he))}return W._initializeChildren(),W._config.parent||W._addAriaAndCollapsedClass(W._triggerArray,W._isShown()),W._config.toggle&&W.toggle(),W}return A=E,P=[{key:"Default",get:function(){return na}},{key:"NAME",get:function(){return ea}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j={},j=(typeof T=="string"&&/show|hide/.test(T)&&(j.toggle=!1),E.getOrCreateInstance(this,j));if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}}],(N=[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var T=this;if(!this._isTransitioning&&!this._isShown()){var j,W,te=[],se=(this._config.parent&&(j=Ee.find(ia,this._config.parent),te=Ee.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(function(de){return!j.includes(de)})),Ee.findOne(this._selector));if(te.length){var oe,he=te.find(function(de){return se!==de});if((oe=he?E.getInstance(he):null)&&oe._isTransitioning)return}fe.trigger(this._element,Lu).defaultPrevented||(te.forEach(function(de){se!==de&&E.getOrCreateInstance(de,{toggle:!1}).hide(),oe||Le(de,ta,null)}),W=this._getDimension(),this._element.classList.remove(gr),this._element.classList.add(fi),this._element.style[W]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,he=W[0].toUpperCase()+W.slice(1),te="scroll".concat(he),this._queueCallback(function(){T._isTransitioning=!1,T._element.classList.remove(fi),T._element.classList.add(gr,Yi),T._element.style[W]="",fe.trigger(T._element,ju)},this._element,!0),this._element.style[W]="".concat(this._element[te],"px"))}}},{key:"hide",value:function(){var T=this;if(!this._isTransitioning&&this._isShown()){var j=fe.trigger(this._element,Du);if(!j.defaultPrevented){for(var j=this._getDimension(),W=(this._element.style[j]="".concat(this._element.getBoundingClientRect()[j],"px"),k(this._element),this._element.classList.add(fi),this._element.classList.remove(gr,Yi),this._triggerArray.length),te=0;te<W;te++){var se=this._triggerArray[te],oe=b(se);oe&&!this._isShown(oe)&&this._addAriaAndCollapsedClass([se],!1)}this._isTransitioning=!0,this._element.style[j]="",this._queueCallback(function(){T._isTransitioning=!1,T._element.classList.remove(fi),T._element.classList.add(gr),fe.trigger(T._element,zu)},this._element,!0)}}}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Yi)}},{key:"_getConfig",value:function(T){return(T=Hi(Hi(Hi({},na),we.getDataAttributes(this._element)),T)).toggle=Boolean(T.toggle),T.parent=_(T.parent),w(ea,T,Ru),T}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var T,j=this;this._config.parent&&(T=Ee.find(ia,this._config.parent),Ee.find(Zi,this._config.parent).filter(function(W){return!T.includes(W)}).forEach(function(W){var te=b(W);te&&j._addAriaAndCollapsedClass([W],j._isShown(te))}))}},{key:"_addAriaAndCollapsedClass",value:function(T,j){T.length&&T.forEach(function(W){j?W.classList.remove(ra):W.classList.add(ra),W.setAttribute("aria-expanded",j)})}}])&&Ko(A.prototype,N),P&&Ko(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),pi=(fe.on(document,Gt,Zi,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault(),A=h(this),Ee.find(A).forEach(function(P){Xi.getOrCreateInstance(P,{toggle:!1}).toggle()})}),I(Xi),Xi);function Wu(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var oa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aa=".sticky-top",Ki=function(){function A(){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=document.body}var P,N;return P=A,(N=[{key:"getWidth",value:function(){var B=document.documentElement.clientWidth;return Math.abs(window.innerWidth-B)}},{key:"hide",value:function(){var B=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(E){return E+B}),this._setElementAttributes(oa,"paddingRight",function(E){return E+B}),this._setElementAttributes(aa,"marginRight",function(E){return E-B})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(B,E,T){var j=this,W=this.getWidth();this._applyManipulationCallback(B,function(te){var se;te!==j._element&&window.innerWidth>te.clientWidth+W||(j._saveInitialAttribute(te,E),se=window.getComputedStyle(te)[E],te.style[E]="".concat(T(Number.parseFloat(se)),"px"))})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(oa,"paddingRight"),this._resetElementAttributes(aa,"marginRight")}},{key:"_saveInitialAttribute",value:function(B,E){var T=B.style[E];T&&we.setDataAttribute(B,E,T)}},{key:"_resetElementAttributes",value:function(B,E){this._applyManipulationCallback(B,function(T){var j=we.getDataAttribute(T,E);j===void 0?T.style.removeProperty(E):(we.removeDataAttribute(T,E),T.style[E]=j)})}},{key:"_applyManipulationCallback",value:function(B,E){J(B)?E(B):Ee.find(B,this._element).forEach(E)}},{key:"isOverflowing",value:function(){return 0<this.getWidth()}}])&&Wu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function sa(A){return(sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ua(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function la(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ua(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ua(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Vu(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var Uu={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Ju={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},ca="backdrop",fa="mousedown.bs.".concat(ca),pa=function(){function A(B){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(B),this._isAppended=!1,this._element=null}var P,N;return P=A,(N=[{key:"show",value:function(B){this._config.isVisible?(this._append(),this._config.isAnimated&&k(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){O(B)})):O(B)}},{key:"hide",value:function(B){var E=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){E.dispose(),O(B)})):O(B)}},{key:"_getElement",value:function(){var B;return this._element||((B=document.createElement("div")).className=this._config.className,this._config.isAnimated&&B.classList.add("fade"),this._element=B),this._element}},{key:"_getConfig",value:function(B){return(B=la(la({},Uu),sa(B)==="object"?B:{})).rootElement=_(B.rootElement),w(ca,B,Ju),B}},{key:"_append",value:function(){var B=this;this._isAppended||(this._config.rootElement.append(this._getElement()),fe.on(this._getElement(),fa,function(){O(B._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(fe.off(this._element,fa),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(B){x(B,this._getElement(),this._config.isAnimated)}}])&&Vu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function da(A){return(da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ma(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function ha(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ma(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ma(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function qu(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function di(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide",N="click.dismiss".concat(A.EVENT_KEY),B=A.NAME;fe.on(document,N,'[data-bs-dismiss="'.concat(B,'"]'),function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),$(this)||(E=b(this)||this.closest(".".concat(B)),A.getOrCreateInstance(E)[P]())})}var Hu={trapElement:null,autofocus:!0},Gu={trapElement:"element",autofocus:"boolean"},mi=".".concat("bs.focustrap"),Yu="focusin".concat(mi),Zu="keydown.tab".concat(mi),ga="backward",ya=function(){function A(B){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(B),this._isActive=!1,this._lastTabNavDirection=null}var P,N;return P=A,(N=[{key:"activate",value:function(){var B=this,T=this._config,E=T.trapElement,T=T.autofocus;this._isActive||(T&&E.focus(),fe.off(document,mi),fe.on(document,Yu,function(j){return B._handleFocusin(j)}),fe.on(document,Zu,function(j){return B._handleKeydown(j)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,fe.off(document,mi))}},{key:"_handleFocusin",value:function(E){var E=E.target,T=this._config.trapElement;E===document||E===T||T.contains(E)||((E=Ee.focusableChildren(T)).length===0?T:this._lastTabNavDirection===ga?E[E.length-1]:E[0]).focus()}},{key:"_handleKeydown",value:function(B){B.key==="Tab"&&(this._lastTabNavDirection=B.shiftKey?ga:"forward")}},{key:"_getConfig",value:function(B){return B=ha(ha({},Hu),da(B)==="object"?B:{}),w("focustrap",B,Gu),B}}])&&qu(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();function Qi(A){return(Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ba(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function eo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ba(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ba(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function _a(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function va(){return(va=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=jr(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function $a(A,P){return($a=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Xu(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=jr(A),B=(N=P?(N=jr(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(Qi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function jr(A){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Ma="offcanvas",on=".".concat("bs.offcanvas"),Gt=".data-api",wt="load".concat(on).concat(Gt),Ca={backdrop:!0,keyboard:!0,scroll:!1},Ku={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},wa=".offcanvas.show",Qu="show".concat(on),el="shown".concat(on),tl="hide".concat(on),Ia="hidden".concat(on),Gt="click".concat(on).concat(Gt),nl="keydown.dismiss".concat(on),yr=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&$a(A,P);var N,B=Xu(E);function E(T,j){if(this instanceof E)return(T=B.call(this,T))._config=T._getConfig(j),T._isShown=!1,T._backdrop=T._initializeBackDrop(),T._focustrap=T._initializeFocusTrap(),T._addEventListeners(),T;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return Ma}},{key:"Default",get:function(){return Ca}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0||T.startsWith("_")||T==="constructor")throw new TypeError('No method named "'.concat(T,'"'));j[T](this)}})}}],(N=[{key:"toggle",value:function(T){return this._isShown?this.hide():this.show(T)}},{key:"show",value:function(T){var j=this;this._isShown||fe.trigger(this._element,Qu,{relatedTarget:T}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new Ki().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(function(){j._config.scroll||j._focustrap.activate(),fe.trigger(j._element,el,{relatedTarget:T})},this._element,!0))}},{key:"hide",value:function(){var T=this;this._isShown&&!fe.trigger(this._element,tl).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(function(){T._element.setAttribute("aria-hidden",!0),T._element.removeAttribute("aria-modal"),T._element.removeAttribute("role"),T._element.style.visibility="hidden",T._config.scroll||new Ki().reset(),fe.trigger(T._element,Ia)},this._element,!0))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),va(jr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(T){return T=eo(eo(eo({},Ca),we.getDataAttributes(this._element)),Qi(T)==="object"?T:{}),w(Ma,T,Ku),T}},{key:"_initializeBackDrop",value:function(){var T=this;return new pa({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return T.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new ya({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var T=this;fe.on(this._element,nl,function(j){T._config.keyboard&&j.key==="Escape"&&T.hide()})}}])&&_a(A.prototype,N),P&&_a(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),on=(fe.on(document,Gt,'[data-bs-toggle="offcanvas"]',function(A){var P=this,N=b(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),$(this)||(fe.one(N,Ia,function(){M(P)&&P.focus()}),(A=Ee.findOne(wa))&&A!==N&&yr.getInstance(A).hide(),yr.getOrCreateInstance(N).toggle(this))}),fe.on(window,wt,function(){return Ee.find(wa).forEach(function(A){return yr.getOrCreateInstance(A).show()})}),di(yr),I(yr),yr);function Ea(A){return(Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Sa(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function ka(A,P){return(ka=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function rl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=to(A),B=(N=P?(N=to(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(Ea(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function to(A){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Gt=".".concat("bs.alert"),il="close".concat(Gt),ol="closed".concat(Gt),wt=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&ka(A,P);var N,B=rl(E);function E(){var T=this,j=E;if(T instanceof j)return B.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof T=="string"){if(j[T]===void 0||T.startsWith("_")||T==="constructor")throw new TypeError('No method named "'.concat(T,'"'));j[T](this)}})}}],(N=[{key:"close",value:function(){var T,j=this;fe.trigger(this._element,il).defaultPrevented||(this._element.classList.remove("show"),T=this._element.classList.contains("fade"),this._queueCallback(function(){return j._destroyElement()},this._element,T))}},{key:"_destroyElement",value:function(){this._element.remove(),fe.trigger(this._element,ol),this.dispose()}}])&&Sa(A.prototype,N),P&&Sa(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Gt=(di(wt,"close"),I(wt),wt);function hi(A){return(hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ta(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function Xn(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ta(Object(N),!0).forEach(function(B){ro(A,B,N[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ta(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Pa(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Aa(A,P){return(Aa=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function al(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=no(A),B=(N=P?(N=no(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(hi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function no(A){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function ro(A,P,N){P in A?Object.defineProperty(A,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[P]=N}var xa="carousel",wt=".".concat("bs.carousel"),yi=".data-api",Oa={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},sl={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Kn="next",Qn="prev",er="left",Dr="right",ul=(ro(br={},"ArrowLeft",Dr),ro(br,"ArrowRight",er),br),ll="slide".concat(wt),Ba="slid".concat(wt),cl="keydown".concat(wt),fl="mouseenter".concat(wt),pl="mouseleave".concat(wt),dl="touchstart".concat(wt),ml="touchmove".concat(wt),hl="touchend".concat(wt),gl="pointerdown".concat(wt),yl="pointerup".concat(wt),bl="dragstart".concat(wt),br="load".concat(wt).concat(yi),wt="click".concat(wt).concat(yi),tr="active",gi=".active.carousel-item",zr=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Aa(A,P);var N,B=al(E);function E(T,j){if(this instanceof E)return(T=B.call(this,T))._items=null,T._interval=null,T._activeElement=null,T._isPaused=!1,T._isSliding=!1,T.touchTimeout=null,T.touchStartX=0,T.touchDeltaX=0,T._config=T._getConfig(j),T._indicatorsElement=Ee.findOne(".carousel-indicators",T._element),T._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,T._pointerEvent=Boolean(window.PointerEvent),T._addEventListeners(),T;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Oa}},{key:"NAME",get:function(){return xa}},{key:"carouselInterface",value:function(W,j){var W=E.getOrCreateInstance(W,j),te=W._config,se=(hi(j)==="object"&&(te=Xn(Xn({},te),j)),typeof j=="string"?j:te.slide);if(typeof j=="number")W.to(j);else if(typeof se=="string"){if(W[se]===void 0)throw new TypeError('No method named "'.concat(se,'"'));W[se]()}else te.interval&&te.ride&&(W.pause(),W.cycle())}},{key:"jQueryInterface",value:function(T){return this.each(function(){E.carouselInterface(this,T)})}},{key:"dataApiClickHandler",value:function(T){var j,W,te=b(this);te&&te.classList.contains("carousel")&&(j=Xn(Xn({},we.getDataAttributes(te)),we.getDataAttributes(this)),(W=this.getAttribute("data-bs-slide-to"))&&(j.interval=!1),E.carouselInterface(te,j),W&&E.getInstance(te).to(W),T.preventDefault())}}],(N=[{key:"next",value:function(){this._slide(Kn)}},{key:"nextWhenVisible",value:function(){!document.hidden&&M(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Qn)}},{key:"pause",value:function(T){T||(this._isPaused=!0),Ee.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(y(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(T){T||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(T){var j=this,W=(this._activeElement=Ee.findOne(gi,this._element),this._getItemIndex(this._activeElement));if(!(T>this._items.length-1||T<0))if(this._isSliding)fe.one(this._element,Ba,function(){return j.to(T)});else{if(W===T)return this.pause(),void this.cycle();this._slide(W<T?Kn:Qn,this._items[T])}}},{key:"_getConfig",value:function(T){return T=Xn(Xn(Xn({},Oa),we.getDataAttributes(this._element)),hi(T)==="object"?T:{}),w(xa,T,sl),T}},{key:"_handleSwipe",value:function(){var T=Math.abs(this.touchDeltaX);T<=40||(T=T/this.touchDeltaX,this.touchDeltaX=0,T&&this._slide(0<T?Dr:er))}},{key:"_addEventListeners",value:function(){var T=this;this._config.keyboard&&fe.on(this._element,cl,function(j){return T._keydown(j)}),this._config.pause==="hover"&&(fe.on(this._element,fl,function(j){return T.pause(j)}),fe.on(this._element,pl,function(j){return T.cycle(j)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){function T(se){te(se)?W.touchStartX=se.clientX:W._pointerEvent||(W.touchStartX=se.touches[0].clientX)}function j(se){te(se)&&(W.touchDeltaX=se.clientX-W.touchStartX),W._handleSwipe(),W._config.pause==="hover"&&(W.pause(),W.touchTimeout&&clearTimeout(W.touchTimeout),W.touchTimeout=setTimeout(function(oe){return W.cycle(oe)},500+W._config.interval))}var W=this,te=function(se){return W._pointerEvent&&(se.pointerType==="pen"||se.pointerType==="touch")};Ee.find(".carousel-item img",this._element).forEach(function(se){fe.on(se,bl,function(oe){return oe.preventDefault()})}),this._pointerEvent?(fe.on(this._element,gl,T),fe.on(this._element,yl,j),this._element.classList.add("pointer-event")):(fe.on(this._element,dl,T),fe.on(this._element,ml,function(se){se=se,W.touchDeltaX=se.touches&&1<se.touches.length?0:se.touches[0].clientX-W.touchStartX}),fe.on(this._element,hl,j))}},{key:"_keydown",value:function(T){var j;/input|textarea/i.test(T.target.tagName)||(j=ul[T.key])&&(T.preventDefault(),this._slide(j))}},{key:"_getItemIndex",value:function(T){return this._items=T&&T.parentNode?Ee.find(".carousel-item",T.parentNode):[],this._items.indexOf(T)}},{key:"_getItemByOrder",value:function(T,j){return F(this._items,j,T===Kn,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(T,j){var W=this._getItemIndex(T),te=this._getItemIndex(Ee.findOne(gi,this._element));return fe.trigger(this._element,ll,{relatedTarget:T,direction:j,from:te,to:W})}},{key:"_setActiveIndicatorElement",value:function(T){if(this._indicatorsElement){for(var j=Ee.findOne(".active",this._indicatorsElement),W=(j.classList.remove(tr),j.removeAttribute("aria-current"),Ee.find("[data-bs-target]",this._indicatorsElement)),te=0;te<W.length;te++)if(Number.parseInt(W[te].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(T)){W[te].classList.add(tr),W[te].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var T=this._activeElement||Ee.findOne(gi,this._element);T&&((T=Number.parseInt(T.getAttribute("data-bs-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=T):this._config.interval=this._config.defaultInterval||this._config.interval)}},{key:"_slide",value:function(se,Pe){var W,te=this,se=this._directionToOrder(se),oe=Ee.findOne(gi,this._element),he=this._getItemIndex(oe),de=Pe||this._getItemByOrder(se,oe),Se=this._getItemIndex(de),Pe=Boolean(this._interval),Te=se===Kn,Fe=Te?"carousel-item-start":"carousel-item-end",Me=Te?"carousel-item-next":"carousel-item-prev",Oe=this._orderToDirection(se);de&&de.classList.contains(tr)?this._isSliding=!1:this._isSliding||this._triggerSlideEvent(de,Oe).defaultPrevented||oe&&de&&(this._isSliding=!0,Pe&&this.pause(),this._setActiveIndicatorElement(de),this._activeElement=de,W=function(){fe.trigger(te._element,Ba,{relatedTarget:de,direction:Oe,from:he,to:Se})},this._element.classList.contains("slide")?(de.classList.add(Me),k(de),oe.classList.add(Fe),de.classList.add(Fe),this._queueCallback(function(){de.classList.remove(Fe,Me),de.classList.add(tr),oe.classList.remove(tr,Me,Fe),te._isSliding=!1,setTimeout(W,0)},oe,!0)):(oe.classList.remove(tr),de.classList.add(tr),this._isSliding=!1,W()),Pe&&this.cycle())}},{key:"_directionToOrder",value:function(T){return[Dr,er].includes(T)?S()?T===er?Qn:Kn:T===er?Kn:Qn:T}},{key:"_orderToDirection",value:function(T){return[Kn,Qn].includes(T)?S()?T===Qn?er:Dr:T===Qn?Dr:er:T}}])&&Pa(A.prototype,N),P&&Pa(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),yi=(fe.on(document,wt,"[data-bs-slide], [data-bs-slide-to]",zr.dataApiClickHandler),fe.on(window,br,function(){for(var A=Ee.find('[data-bs-ride="carousel"]'),P=0,N=A.length;P<N;P++)zr.carouselInterface(A[P],zr.getInstance(A[P]))}),I(zr),zr);function io(A){return(io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Fa(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function oo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Fa(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Fa(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Na(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Ra(){return(Ra=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=Wr(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function La(A,P){return(La=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function _l(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=Wr(A),B=(N=P?(N=Wr(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(io(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Wr(A){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var An=".".concat("bs.modal"),ja={backdrop:!0,keyboard:!0,focus:!0},vl={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},$l="hide".concat(An),Ml="hidePrevented".concat(An),Da="hidden".concat(An),za="show".concat(An),Cl="shown".concat(An),Wa="resize".concat(An),Va="click.dismiss".concat(An),Ua="keydown.dismiss".concat(An),wl="mouseup.dismiss".concat(An),Ja="mousedown.dismiss".concat(An),wt="click".concat(An).concat(".data-api"),qa="modal-open",ao="modal-static",Vr=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&La(A,P);var N,B=_l(E);function E(T,j){if(this instanceof E)return(T=B.call(this,T))._config=T._getConfig(j),T._dialog=Ee.findOne(".modal-dialog",T._element),T._backdrop=T._initializeBackDrop(),T._focustrap=T._initializeFocusTrap(),T._isShown=!1,T._ignoreBackdropClick=!1,T._isTransitioning=!1,T._scrollBar=new Ki,T;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return ja}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(T,j){return this.each(function(){var W=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(W[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));W[T](j)}})}}],(N=[{key:"toggle",value:function(T){return this._isShown?this.hide():this.show(T)}},{key:"show",value:function(T){var j=this;this._isShown||this._isTransitioning||fe.trigger(this._element,za,{relatedTarget:T}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(qa),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),fe.on(this._dialog,Ja,function(){fe.one(j._element,wl,function(W){W.target===j._element&&(j._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return j._showElement(T)}))}},{key:"hide",value:function(){var T,j=this;!this._isShown||this._isTransitioning||fe.trigger(this._element,$l).defaultPrevented||(this._isShown=!1,(T=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),fe.off(this._element,Va),fe.off(this._dialog,Ja),this._queueCallback(function(){return j._hideModal()},this._element,T))}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(T){return fe.off(T,An)}),this._backdrop.dispose(),this._focustrap.deactivate(),Ra(Wr(E.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new pa({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new ya({trapElement:this._element})}},{key:"_getConfig",value:function(T){return T=oo(oo(oo({},ja),we.getDataAttributes(this._element)),io(T)==="object"?T:{}),w("modal",T,vl),T}},{key:"_showElement",value:function(T){var j=this,W=this._isAnimated(),te=Ee.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,te&&(te.scrollTop=0),W&&k(this._element),this._element.classList.add("show"),this._queueCallback(function(){j._config.focus&&j._focustrap.activate(),j._isTransitioning=!1,fe.trigger(j._element,Cl,{relatedTarget:T})},this._dialog,W)}},{key:"_setEscapeEvent",value:function(){var T=this;this._isShown?fe.on(this._element,Ua,function(j){T._config.keyboard&&j.key==="Escape"?(j.preventDefault(),T.hide()):T._config.keyboard||j.key!=="Escape"||T._triggerBackdropTransition()}):fe.off(this._element,Ua)}},{key:"_setResizeEvent",value:function(){var T=this;this._isShown?fe.on(window,Wa,function(){return T._adjustDialog()}):fe.off(window,Wa)}},{key:"_hideModal",value:function(){var T=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove(qa),T._resetAdjustments(),T._scrollBar.reset(),fe.trigger(T._element,Da)})}},{key:"_showBackdrop",value:function(T){var j=this;fe.on(this._element,Va,function(W){j._ignoreBackdropClick?j._ignoreBackdropClick=!1:W.target===W.currentTarget&&(j._config.backdrop===!0?j.hide():j._config.backdrop==="static"&&j._triggerBackdropTransition())}),this._backdrop.show(T)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var T,j,W,te,se,oe=this;fe.trigger(this._element,Ml).defaultPrevented||(T=this._element,j=T.classList,W=T.scrollHeight,te=T.style,!(se=W>document.documentElement.clientHeight)&&te.overflowY==="hidden"||j.contains(ao)||(se||(te.overflowY="hidden"),j.add(ao),this._queueCallback(function(){j.remove(ao),se||oe._queueCallback(function(){te.overflowY=""},oe._dialog)},this._dialog),this._element.focus()))}},{key:"_adjustDialog",value:function(){var T=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),W=0<j;(!W&&T&&!S()||W&&!T&&S())&&(this._element.style.paddingLeft="".concat(j,"px")),(W&&!T&&!S()||!W&&T&&S())&&(this._element.style.paddingRight="".concat(j,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}])&&Na(A.prototype,N),P&&Na(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),br=(fe.on(document,wt,'[data-bs-toggle="modal"]',function(B){var P=this,N=b(this),B=(["A","AREA"].includes(this.tagName)&&B.preventDefault(),fe.one(N,za,function(E){E.defaultPrevented||fe.one(N,Da,function(){M(P)&&P.focus()})}),Ee.findOne(".modal.show"));B&&Vr.getInstance(B).hide(),Vr.getOrCreateInstance(N).toggle(this)}),di(Vr),I(Vr),Vr);function Ha(A){return function(P){if(Array.isArray(P))return so(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return so(P,N);var B=Object.prototype.toString.call(P).slice(8,-1);return(B=B==="Object"&&P.constructor?P.constructor.name:B)==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?so(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function so(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}var Il=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),El=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Sl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,wt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ga(A,P,N){if(!A.length)return A;if(N&&typeof N=="function")return N(A);for(var N=new window.DOMParser().parseFromString(A,"text/html"),B=(A=[]).concat.apply(A,Ha(N.body.querySelectorAll("*"))),E=function(he,se){var oe=B[he],he=oe.nodeName.toLowerCase();if(!Object.keys(P).includes(he))return oe.remove(),"continue";var de=(de=[]).concat.apply(de,Ha(oe.attributes)),Se=[].concat(P["*"]||[],P[he]||[]);de.forEach(function(Pe){!function(Te,Fe){var Me=Te.nodeName.toLowerCase();if(Fe.includes(Me))return!Il.has(Me)||Boolean(El.test(Te.nodeValue)||Sl.test(Te.nodeValue));for(var Oe=Fe.filter(function(lt){return lt instanceof RegExp}),Ue=0,Qe=Oe.length;Ue<Qe;Ue++)if(Oe[Ue].test(Me))return!0;return!1}(Pe,Se)&&oe.removeAttribute(Pe.nodeName)})},T=0,j=B.length;T<j;T++)E(T);return N.body.innerHTML}function bi(A){return(bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ya(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function nr(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ya(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ya(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function uo(A){return function(P){if(Array.isArray(P))return lo(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return lo(P,N);var B=Object.prototype.toString.call(P).slice(8,-1);return(B=B==="Object"&&P.constructor?P.constructor.name:B)==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?lo(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lo(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}function Za(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Xa(){return(Xa=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=Ur(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function Ka(A,P){return(Ka=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function kl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=Ur(A),B=(N=P?(N=Ur(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(bi(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ur(A){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Qa="tooltip",Jt=".".concat("bs.tooltip"),Tl=new Set(["sanitize","allowList","sanitizeFn"]),Pl={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Al={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},xl={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:wt,popperConfig:null},Ol={HIDE:"hide".concat(Jt),HIDDEN:"hidden".concat(Jt),SHOW:"show".concat(Jt),SHOWN:"shown".concat(Jt),INSERTED:"inserted".concat(Jt),CLICK:"click".concat(Jt),FOCUSIN:"focusin".concat(Jt),FOCUSOUT:"focusout".concat(Jt),MOUSEENTER:"mouseenter".concat(Jt),MOUSELEAVE:"mouseleave".concat(Jt)},_i="fade",Jr="show",qr="show",es=".tooltip-inner",ts=".".concat("modal"),ns="hide.bs.modal",Hr="hover",co="focus",wt=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&Ka(A,P);var N,B=kl(E);function E(T,j){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");if(d===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(T=B.call(this,T))._isEnabled=!0,T._timeout=0,T._hoverState="",T._activeTrigger={},T._popper=null,T._config=T._getConfig(j),T.tip=null,T._setListeners(),T}return A=E,P=[{key:"Default",get:function(){return xl}},{key:"NAME",get:function(){return Qa}},{key:"Event",get:function(){return Ol}},{key:"DefaultType",get:function(){return Pl}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}}],(N=[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(T){this._isEnabled&&(T?((T=this._initializeOnDelegatedTarget(T))._activeTrigger.click=!T._activeTrigger.click,T._isWithActiveTrigger()?T._enter(null,T):T._leave(null,T)):this.getTipElement().classList.contains(Jr)?this._leave(null,this):this._enter(null,this))}},{key:"dispose",value:function(){clearTimeout(this._timeout),fe.off(this._element.closest(ts),ns,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),Xa(Ur(E.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var T,j,W,te=this;if(this._element.style.display==="none")throw new Error("Please use show on visible elements");this.isWithContent()&&this._isEnabled&&(j=fe.trigger(this._element,this.constructor.Event.SHOW),W=((W=g(this._element))===null?this._element.ownerDocument.documentElement:W).contains(this._element),!j.defaultPrevented&&W&&(this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(es).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null),j=this.getTipElement(),W=function(se){for(;se+=Math.floor(1e6*Math.random()),document.getElementById(se););return se}(this.constructor.NAME),j.setAttribute("id",W),this._element.setAttribute("aria-describedby",W),this._config.animation&&j.classList.add(_i),W=typeof this._config.placement=="function"?this._config.placement.call(this,j,this._element):this._config.placement,W=this._getAttachment(W),this._addAttachmentClass(W),T=this._config.container,Le(j,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(T.append(j),fe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Z(this._element,j,this._getPopperConfig(W)),j.classList.add(Jr),(T=this._resolvePossibleFunction(this._config.customClass))&&(W=j.classList).add.apply(W,uo(T.split(" "))),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,uo(document.body.children)).forEach(function(se){fe.on(se,"mouseover",v)}),W=this.tip.classList.contains(_i),this._queueCallback(function(){var se=te._hoverState;te._hoverState=null,fe.trigger(te._element,te.constructor.Event.SHOWN),se==="out"&&te._leave(null,te)},this.tip,W)))}},{key:"hide",value:function(){var T,j,W=this;this._popper&&(T=this.getTipElement(),fe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(T.classList.remove(Jr),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,uo(document.body.children)).forEach(function(te){return fe.off(te,"mouseover",v)}),this._activeTrigger.click=!1,this._activeTrigger[co]=!1,this._activeTrigger[Hr]=!1,j=this.tip.classList.contains(_i),this._queueCallback(function(){W._isWithActiveTrigger()||(W._hoverState!==qr&&T.remove(),W._cleanTipClass(),W._element.removeAttribute("aria-describedby"),fe.trigger(W._element,W.constructor.Event.HIDDEN),W._disposePopper())},this.tip,j),this._hoverState=""))}},{key:"update",value:function(){this._popper!==null&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var T=document.createElement("div"),T=(T.innerHTML=this._config.template,T.children[0]);return this.setContent(T),T.classList.remove(_i,Jr),this.tip=T,this.tip}},{key:"setContent",value:function(T){this._sanitizeAndSetContent(T,this.getTitle(),es)}},{key:"_sanitizeAndSetContent",value:function(T,j,W){W=Ee.findOne(W,T),!j&&W?W.remove():this.setElementContent(W,j)}},{key:"setElementContent",value:function(T,j){if(T!==null)return J(j)?(j=_(j),void(this._config.html?j.parentNode!==T&&(T.innerHTML="",T.append(j)):T.textContent=j.textContent)):void(this._config.html?(this._config.sanitize&&(j=Ga(j,this._config.allowList,this._config.sanitizeFn)),T.innerHTML=j):T.textContent=j)}},{key:"getTitle",value:function(){var T=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(T)}},{key:"updateAttachment",value:function(T){return T==="right"?"end":T==="left"?"start":T}},{key:"_initializeOnDelegatedTarget",value:function(T,j){return j||this.constructor.getOrCreateInstance(T.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var T=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,T._element)}:j}},{key:"_resolvePossibleFunction",value:function(T){return typeof T=="function"?T.call(this._element):T}},{key:"_getPopperConfig",value:function(W){var j=this,W={placement:W,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(te){return j._handlePopperPlacementChange(te)}}],onFirstUpdate:function(te){te.options.placement!==te.placement&&j._handlePopperPlacementChange(te)}};return nr(nr({},W),typeof this._config.popperConfig=="function"?this._config.popperConfig(W):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(T){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(T)))}},{key:"_getAttachment",value:function(T){return Al[T.toUpperCase()]}},{key:"_setListeners",value:function(){var T=this;this._config.trigger.split(" ").forEach(function(j){var W;j==="click"?fe.on(T._element,T.constructor.Event.CLICK,T._config.selector,function(te){return T.toggle(te)}):j!=="manual"&&(W=j===Hr?T.constructor.Event.MOUSEENTER:T.constructor.Event.FOCUSIN,j=j===Hr?T.constructor.Event.MOUSELEAVE:T.constructor.Event.FOCUSOUT,fe.on(T._element,W,T._config.selector,function(te){return T._enter(te)}),fe.on(T._element,j,T._config.selector,function(te){return T._leave(te)}))}),this._hideModalHandler=function(){T._element&&T.hide()},fe.on(this._element.closest(ts),ns,this._hideModalHandler),this._config.selector?this._config=nr(nr({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var T=this._element.getAttribute("title"),j=bi(this._element.getAttribute("data-bs-original-title"));!T&&j==="string"||(this._element.setAttribute("data-bs-original-title",T||""),!T||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",T),this._element.setAttribute("title",""))}},{key:"_enter",value:function(T,j){j=this._initializeOnDelegatedTarget(T,j),T&&(j._activeTrigger[T.type==="focusin"?co:Hr]=!0),j.getTipElement().classList.contains(Jr)||j._hoverState===qr?j._hoverState=qr:(clearTimeout(j._timeout),j._hoverState=qr,j._config.delay&&j._config.delay.show?j._timeout=setTimeout(function(){j._hoverState===qr&&j.show()},j._config.delay.show):j.show())}},{key:"_leave",value:function(T,j){j=this._initializeOnDelegatedTarget(T,j),T&&(j._activeTrigger[T.type==="focusout"?co:Hr]=j._element.contains(T.relatedTarget)),j._isWithActiveTrigger()||(clearTimeout(j._timeout),j._hoverState="out",j._config.delay&&j._config.delay.hide?j._timeout=setTimeout(function(){j._hoverState==="out"&&j.hide()},j._config.delay.hide):j.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var T in this._activeTrigger)if(this._activeTrigger[T])return!0;return!1}},{key:"_getConfig",value:function(T){var j=we.getDataAttributes(this._element);return Object.keys(j).forEach(function(W){Tl.has(W)&&delete j[W]}),(T=nr(nr(nr({},this.constructor.Default),j),bi(T)==="object"&&T?T:{})).container=T.container===!1?document.body:_(T.container),typeof T.delay=="number"&&(T.delay={show:T.delay,hide:T.delay}),typeof T.title=="number"&&(T.title=T.title.toString()),typeof T.content=="number"&&(T.content=T.content.toString()),w(Qa,T,this.constructor.DefaultType),T.sanitize&&(T.template=Ga(T.template,T.allowList,T.sanitizeFn)),T}},{key:"_getDelegateConfig",value:function(){var T,j={};for(T in this._config)this.constructor.Default[T]!==this._config[T]&&(j[T]=this._config[T]);return j}},{key:"_cleanTipClass",value:function(){var T=this.getTipElement(),j=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),j=T.getAttribute("class").match(j);j!==null&&0<j.length&&j.map(function(W){return W.trim()}).forEach(function(W){return T.classList.remove(W)})}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(T){T=T.state,T&&(this.tip=T.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(T.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}])&&Za(A.prototype,N),P&&Za(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),vi=(I(wt),wt);function rs(A){return(rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function is(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function os(A,P){return(os=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Bl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=fo(A),B=(N=P?(N=fo(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(rs(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function fo(A){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function as(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function $i(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?as(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):as(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}var Jt=".".concat("bs.popover"),Fl=$i($i({},vi.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Nl=$i($i({},vi.DefaultType),{},{content:"(string|element|function)"}),Rl={HIDE:"hide".concat(Jt),HIDDEN:"hidden".concat(Jt),SHOW:"show".concat(Jt),SHOWN:"shown".concat(Jt),INSERTED:"inserted".concat(Jt),CLICK:"click".concat(Jt),FOCUSIN:"focusin".concat(Jt),FOCUSOUT:"focusout".concat(Jt),MOUSEENTER:"mouseenter".concat(Jt),MOUSELEAVE:"mouseleave".concat(Jt)},wt=function(){var A=E,P=vi;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&os(A,P);var N,B=Bl(E);function E(){var T=this,j=E;if(T instanceof j)return B.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return Fl}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Rl}},{key:"DefaultType",get:function(){return Nl}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}}],(N=[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(T){this._sanitizeAndSetContent(T,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(T,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}])&&is(A.prototype,N),P&&is(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Jt=(I(wt),wt);Ve(180);function po(A){return(po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ss(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function mo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?ss(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):ss(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function us(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function ls(){return(ls=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=Gr(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function cs(A,P){return(cs=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Ll(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=Gr(A),B=(N=P?(N=Gr(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(po(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Gr(A){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var fs="scrollspy",Mi=".".concat("bs.scrollspy"),ps={offset:10,method:"auto",target:""},jl={offset:"number",method:"string",target:"(string|element)"},Dl="activate".concat(Mi),zl="scroll".concat(Mi),wt="load".concat(Mi).concat(".data-api"),ds="dropdown-item",_r="active",ho=".nav-link",ms=".list-group-item",go="".concat(ho,", ").concat(ms,", .").concat(ds),hs="position",yo=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&cs(A,P);var N,B=Ll(E);function E(T,j){var W;if(this instanceof E)return(W=B.call(this,T))._scrollElement=W._element.tagName==="BODY"?window:W._element,W._config=W._getConfig(j),W._offsets=[],W._targets=[],W._activeTarget=null,W._scrollHeight=0,fe.on(W._scrollElement,zl,function(){return W._process()}),W.refresh(),W._process(),W;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"Default",get:function(){return ps}},{key:"NAME",get:function(){return fs}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}}],(N=[{key:"refresh",value:function(){var T=this,j=this._scrollElement===this._scrollElement.window?"offset":hs,W=this._config.method==="auto"?j:this._config.method,te=W===hs?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ee.find(go,this._config.target).map(function(oe){var oe=h(oe),he=oe?Ee.findOne(oe):null;if(he){var de=he.getBoundingClientRect();if(de.width||de.height)return[we[W](he).top+te,oe]}return null}).filter(function(se){return se}).sort(function(se,oe){return se[0]-oe[0]}).forEach(function(se){T._offsets.push(se[0]),T._targets.push(se[1])})}},{key:"dispose",value:function(){fe.off(this._scrollElement,Mi),ls(Gr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(T){return(T=mo(mo(mo({},ps),we.getDataAttributes(this._element)),po(T)==="object"&&T?T:{})).target=_(T.target)||document.documentElement,w(fs,T,jl),T}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var T=this._getScrollTop()+this._config.offset,j=this._getScrollHeight(),W=this._config.offset+j-this._getOffsetHeight();if(this._scrollHeight!==j&&this.refresh(),W<=T)return j=this._targets[this._targets.length-1],void(this._activeTarget!==j&&this._activate(j));if(this._activeTarget&&T<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var te=this._offsets.length;te--;)this._activeTarget!==this._targets[te]&&T>=this._offsets[te]&&(this._offsets[te+1]===void 0||T<this._offsets[te+1])&&this._activate(this._targets[te])}},{key:"_activate",value:function(T){this._activeTarget=T,this._clear();var j=go.split(",").map(function(W){return"".concat(W,'[data-bs-target="').concat(T,'"],').concat(W,'[href="').concat(T,'"]')}),j=Ee.findOne(j.join(","),this._config.target);j.classList.add(_r),j.classList.contains(ds)?Ee.findOne(".dropdown-toggle",j.closest(".dropdown")).classList.add(_r):Ee.parents(j,".nav, .list-group").forEach(function(W){Ee.prev(W,"".concat(ho,", ").concat(ms)).forEach(function(te){return te.classList.add(_r)}),Ee.prev(W,".nav-item").forEach(function(te){Ee.children(te,ho).forEach(function(se){return se.classList.add(_r)})})}),fe.trigger(this._scrollElement,Dl,{relatedTarget:T})}},{key:"_clear",value:function(){Ee.find(go,this._config.target).filter(function(T){return T.classList.contains(_r)}).forEach(function(T){return T.classList.remove(_r)})}}])&&us(A.prototype,N),P&&us(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),wt=(fe.on(window,wt,function(){Ee.find('[data-bs-spy="scroll"]').forEach(function(A){return new yo(A)})}),I(yo),yo);function gs(A){return(gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function ys(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function bs(A,P){return(bs=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Wl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=bo(A),B=(N=P?(N=bo(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(gs(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function bo(A){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}var Un=".".concat("bs.tab"),Vl="hide".concat(Un),Ul="hidden".concat(Un),Jl="show".concat(Un),ql="shown".concat(Un),Un="click".concat(Un).concat(".data-api"),Yr="active",_s=".active",vs=":scope > li > .active",_o=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&bs(A,P);var N,B=Wl(E);function E(){var T=this,j=E;if(T instanceof j)return B.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T]()}})}}],(N=[{key:"show",value:function(){var T,j,W,te,se=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Yr)||(T=b(this._element),(j=this._element.closest(".nav, .list-group"))&&(te=j.nodeName==="UL"||j.nodeName==="OL"?vs:_s,W=(W=Ee.find(te,j))[W.length-1]),te=W?fe.trigger(W,Vl,{relatedTarget:this._element}):null,fe.trigger(this._element,Jl,{relatedTarget:W}).defaultPrevented||te!==null&&te.defaultPrevented||(this._activate(this._element,j),te=function(){fe.trigger(W,Ul,{relatedTarget:se._element}),fe.trigger(se._element,ql,{relatedTarget:W})},T?this._activate(T,T.parentNode,te):te()))}},{key:"_activate",value:function(T,he,W){function te(){return se._transitionComplete(T,oe,W)}var se=this,oe=(!he||he.nodeName!=="UL"&&he.nodeName!=="OL"?Ee.children(he,_s):Ee.find(vs,he))[0],he=W&&oe&&oe.classList.contains("fade");oe&&he?(oe.classList.remove("show"),this._queueCallback(te,T,!0)):te()}},{key:"_transitionComplete",value:function(T,j,W){j&&(j.classList.remove(Yr),(te=Ee.findOne(":scope > .dropdown-menu .active",j.parentNode))&&te.classList.remove(Yr),j.getAttribute("role")==="tab"&&j.setAttribute("aria-selected",!1)),T.classList.add(Yr),T.getAttribute("role")==="tab"&&T.setAttribute("aria-selected",!0),k(T),T.classList.contains("fade")&&T.classList.add("show");var te=T.parentNode;(te=te&&te.nodeName==="LI"?te.parentNode:te)&&te.classList.contains("dropdown-menu")&&((j=T.closest(".dropdown"))&&Ee.find(".dropdown-toggle",j).forEach(function(se){return se.classList.add(Yr)}),T.setAttribute("aria-expanded",!0)),W&&W()}}])&&ys(A.prototype,N),P&&ys(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Un=(fe.on(document,Un,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),$(this)||_o.getOrCreateInstance(this).show()}),I(_o),_o);function vo(A){return(vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function $s(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function $o(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?$s(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):$s(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Ms(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function Cs(){return(Cs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,P,N){var B=function(E,T){for(;!Object.prototype.hasOwnProperty.call(E,T)&&(E=Zr(E))!==null;);return E}(A,P);if(B)return B=Object.getOwnPropertyDescriptor(B,P),B.get?B.get.call(arguments.length<3?A:N):B.value}).apply(this,arguments)}function ws(A,P){return(ws=Object.setPrototypeOf||function(N,B){return N.__proto__=B,N})(A,P)}function Hl(A){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,B=Zr(A),B=(N=P?(N=Zr(this).constructor,Reflect.construct(B,arguments,N)):B.apply(this,arguments),this);if(N&&(vo(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(B!==void 0)return B;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Zr(A){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(A)}function Is(A){for(;A+=Math.floor(Math.random()*ic),document.getElementById(A););return A}function Ci(A,P,N){Object.keys(N).forEach(function(B){var E,T=N[B],j=P[B],j=j&&((E=j)[0]||E).nodeType?"element":(E=j)==null?"".concat(E):{}.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(j))throw new Error("".concat(A.toUpperCase(),": ")+'Option "'.concat(B,'" provided type "').concat(j,'" ')+'but expected type "'.concat(T,'".'))})}function Es(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-mdb-no-jquery")?A:null}function Gl(A){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A()}function vr(A){return document.createElement(A)}var wi,Mo,xn=".".concat("bs.toast"),Yl="mouseover".concat(xn),Zl="mouseout".concat(xn),Xl="focusin".concat(xn),Kl="focusout".concat(xn),Ql="hide".concat(xn),ec="hidden".concat(xn),tc="show".concat(xn),nc="shown".concat(xn),Xr="show",Ii="showing",rc={animation:"boolean",autohide:"boolean",delay:"number"},Ss={animation:!0,autohide:!0,delay:5e3},xn=function(){var A=E,P=De;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),P&&ws(A,P);var N,B=Hl(E);function E(T,j){if(this instanceof E)return(T=B.call(this,T))._config=T._getConfig(j),T._timeout=null,T._hasMouseInteraction=!1,T._hasKeyboardInteraction=!1,T._setListeners(),T;throw new TypeError("Cannot call a class as a function")}return A=E,P=[{key:"DefaultType",get:function(){return rc}},{key:"Default",get:function(){return Ss}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(T){return this.each(function(){var j=E.getOrCreateInstance(this,T);if(typeof T=="string"){if(j[T]===void 0)throw new TypeError('No method named "'.concat(T,'"'));j[T](this)}})}}],(N=[{key:"show",value:function(){var T=this;fe.trigger(this._element,tc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),k(this._element),this._element.classList.add(Xr),this._element.classList.add(Ii),this._queueCallback(function(){T._element.classList.remove(Ii),fe.trigger(T._element,nc),T._maybeScheduleHide()},this._element,this._config.animation))}},{key:"hide",value:function(){var T=this;this._element.classList.contains(Xr)&&!fe.trigger(this._element,Ql).defaultPrevented&&(this._element.classList.add(Ii),this._queueCallback(function(){T._element.classList.add("hide"),T._element.classList.remove(Ii),T._element.classList.remove(Xr),fe.trigger(T._element,ec)},this._element,this._config.animation))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Xr)&&this._element.classList.remove(Xr),Cs(Zr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(T){return T=$o($o($o({},Ss),we.getDataAttributes(this._element)),vo(T)==="object"&&T?T:{}),w("toast",T,this.constructor.DefaultType),T}},{key:"_maybeScheduleHide",value:function(){var T=this;!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(function(){T.hide()},this._config.delay))}},{key:"_onInteraction",value:function(T,j){switch(T.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}j?this._clearTimeout():(T=T.relatedTarget,this._element===T||this._element.contains(T)||this._maybeScheduleHide())}},{key:"_setListeners",value:function(){var T=this;fe.on(this._element,Yl,function(j){return T._onInteraction(j,!0)}),fe.on(this._element,Zl,function(j){return T._onInteraction(j,!1)}),fe.on(this._element,Xl,function(j){return T._onInteraction(j,!0)}),fe.on(this._element,Kl,function(j){return T._onInteraction(j,!1)})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}])&&Ms(A.prototype,N),P&&Ms(A,P),Object.defineProperty(A,"prototype",{writable:!1}),E}(),ic=(di(xn),I(xn),1e6),Co=(document.documentElement.dir,wi={},Mo=1,{set:function(A,P,N){A[P]===void 0&&(A[P]={key:P,id:Mo},Mo++),wi[A[P].id]=N},get:function(A,P){return!A||A[P]===void 0?null:(A=A[P],A.key===P?wi[A.id]:null)},delete:function(A,P){var N;A[P]!==void 0&&(N=A[P]).key===P&&(delete wi[N.id],delete A[P])}}),wn={setData:function(A,P,N){Co.set(A,P,N)},getData:function(A,P){return Co.get(A,P)},removeData:function(A,P){Co.delete(A,P)}};function ks(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,B){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var T,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(T=E.next()).done)&&(W.push(T.value),!B||W.length!==B);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,B){if(N){if(typeof N=="string")return Ts(N,B);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?Ts(N,B):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ts(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}var wo=Es(),oc=/[^.]*(?=\..*)\.|.*/,Ps=/\..*/,ac=/::\d+$/,Io={},As=1,sc={mouseenter:"mouseover",mouseleave:"mouseout"},xs=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Os(A,P){return P&&"".concat(P,"::").concat(As++)||A.uidEvent||As++}function Bs(A){var P=Os(A);return A.uidEvent=P,Io[P]=Io[P]||{},Io[P]}function Fs(A,P,N){for(var B=2<arguments.length&&N!==void 0?N:null,E=Object.keys(A),T=0,j=E.length;T<j;T++){var W=A[E[T]];if(W.originalHandler===P&&W.delegationSelector===B)return W}return null}function Ns(A,T,E){var B=typeof T=="string",E=B?E:T,T=A.replace(Ps,""),j=sc[T];return[B,E,T=-1<xs.indexOf(T=j||T)?T:A]}function Rs(A,P,N,B,E){var T,j,W,te,se,oe,he,de,Se,Pe;typeof P=="string"&&A&&(N||(N=B,B=null),T=(W=ks(Ns(P,N,B),3))[0],j=W[1],W=W[2],(se=Fs(te=(te=Bs(A))[W]||(te[W]={}),j,T?N:null))?se.oneOff=se.oneOff&&E:(se=Os(j,P.replace(oc,"")),(P=T?(de=A,Se=N,Pe=B,function Te(Fe){for(var Me=de.querySelectorAll(Se),Oe=Fe.target;Oe&&Oe!==this;Oe=Oe.parentNode)for(var Ue=Me.length;Ue--;)if(Me[Ue]===Oe)return Fe.delegateTarget=Oe,Te.oneOff&&Kr.off(de,Fe.type,Pe),Pe.apply(Oe,[Fe]);return null}):(oe=A,he=N,function Te(Fe){return Fe.delegateTarget=oe,Te.oneOff&&Kr.off(oe,Fe.type,he),he.apply(oe,[Fe])})).delegationSelector=T?N:null,P.originalHandler=j,P.oneOff=E,te[P.uidEvent=se]=P,A.addEventListener(W,P,T)))}function Eo(A,P,N,B,E){B=Fs(P[N],B,E),B&&(A.removeEventListener(N,B,Boolean(E)),delete P[N][B.uidEvent])}var Kr={on:function(A,P,N,B){Rs(A,P,N,B,!1)},one:function(A,P,N,B){Rs(A,P,N,B,!0)},off:function(A,P,N,B){if(typeof P=="string"&&A){var B=ks(Ns(P,N,B),3),E=B[0],T=B[1],j=B[2],W=j!==P,te=Bs(A),B=P.charAt(0)===".";if(T!==void 0)return te&&te[j]?void Eo(A,te,j,T,E?N:null):void 0;B&&Object.keys(te).forEach(function(he){var de,Se,Pe,Te,Fe;de=A,Se=te,Pe=he,Te=P.slice(1),Fe=Se[Pe]||{},Object.keys(Fe).forEach(function(Me){-1<Me.indexOf(Te)&&(Me=Fe[Me],Eo(de,Se,Pe,Me.originalHandler,Me.delegationSelector))})});var se=te[j]||{};Object.keys(se).forEach(function(he){var de=he.replace(ac,"");(!W||-1<P.indexOf(de))&&(de=se[he],Eo(A,te,j,de.originalHandler,de.delegationSelector))})}},trigger:function(A,P,N){if(typeof P!="string"||!A)return null;var B,E=P.replace(Ps,""),T=P!==E,j=-1<xs.indexOf(E),W=!0,te=!0,se=!1,oe=null;return T&&wo&&(B=wo.Event(P,N),wo(A).trigger(B),W=!B.isPropagationStopped(),te=!B.isImmediatePropagationStopped(),se=B.isDefaultPrevented()),j?(oe=document.createEvent("HTMLEvents")).initEvent(E,W,!0):oe=new CustomEvent(P,{bubbles:W,cancelable:!0}),N!==void 0&&Object.keys(N).forEach(function(he){Object.defineProperty(oe,he,{get:function(){return N[he]}})}),se&&oe.preventDefault(),te&&A.dispatchEvent(oe),oe.defaultPrevented&&B!==void 0&&B.preventDefault(),oe}},Qr=function(A,P,N,B){for(var E=P.split(" "),T=0;T<E.length;T++)Kr.on(A,E[T],N,B)},uc=function(A,P,N,B){for(var E=P.split(" "),T=0;T<E.length;T++)Kr.off(A,E[T],N,B)},ft=Kr;Ve(185);function Ls(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function lc(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ls(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ls(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function js(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function So(A){return A.replace(/[A-Z]/g,function(P){return"-".concat(P.toLowerCase())})}var $e={setDataAttribute:function(A,P,N){A.setAttribute("data-mdb-".concat(So(P)),N)},removeDataAttribute:function(A,P){A.removeAttribute("data-mdb-".concat(So(P)))},getDataAttributes:function(A){if(!A)return{};var P=lc({},A.dataset);return Object.keys(P).filter(function(N){return N.startsWith("mdb")}).forEach(function(N){var B=(B=N.replace(/^mdb/,"")).charAt(0).toLowerCase()+B.slice(1,B.length);P[B]=js(P[N])}),P},getDataAttribute:function(A,P){return js(A.getAttribute("data-mdb-".concat(So(P))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+document.body.scrollTop,left:A.left+document.body.scrollLeft}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}},style:function(A,P){Object.assign(A.style,P)},toggleClass:function(A,P){A&&(A.classList.contains(P)?A.classList.remove(P):A.classList.add(P))},addClass:function(A,P){A.classList.contains(P)||A.classList.add(P)},addStyle:function(A,P){Object.keys(P).forEach(function(N){A.style[N]=P[N]})},removeClass:function(A,P){A.classList.contains(P)&&A.classList.remove(P)},hasClass:function(A,P){return A.classList.contains(P)}};function Ds(A){return function(P){if(Array.isArray(P))return ko(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||function(P,N){if(P){if(typeof P=="string")return ko(P,N);var B=Object.prototype.toString.call(P).slice(8,-1);return(B=B==="Object"&&P.constructor?P.constructor.name:B)==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?ko(P,N):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ko(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}var Be={closest:function(A,P){return A.closest(P)},matches:function(A,P){return A.matches(P)},find:function(A){var P,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(P=[]).concat.apply(P,Ds(Element.prototype.querySelectorAll.call(N,A)))},findOne:function(A){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(P,A)},children:function(A,P){var N;return(N=[]).concat.apply(N,Ds(A.children)).filter(function(B){return B.matches(P)})},parents:function(A,P){for(var N=[],B=A.parentNode;B&&B.nodeType===Node.ELEMENT_NODE&&B.nodeType!==3;)this.matches(B,P)&&N.push(B),B=B.parentNode;return N},prev:function(A,P){for(var N=A.previousElementSibling;N;){if(N.matches(P))return[N];N=N.previousElementSibling}return[]},next:function(A,P){for(var N=A.nextElementSibling;N;){if(this.matches(N,P))return[N];N=N.nextElementSibling}return[]}};function zs(A){return(zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Ws(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function To(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Ws(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Ws(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Vs(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var rr="ripple",Ei="mdb.ripple",ir="ripple-surface",Us="ripple-wave",Js=["[data-mdb-ripple]"],qs="ripple-surface-unbound",Si=[0,0,0],cc=["primary","secondary","success","danger","warning","info","light","dark"],fc={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},pc={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},$r=function(){function A(E,T){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(T),this._element&&(wn.setData(E,Ei,this),$e.addClass(this._element,ir)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}var P,N,B;return P=A,B=[{key:"NAME",get:function(){return rr}},{key:"autoInitial",value:function(E){return function(T){E._autoInit(T)}}},{key:"jQueryInterface",value:function(E){return this.each(function(){return wn.getData(this,Ei)?null:new A(this,E)})}},{key:"getInstance",value:function(E){return wn.getData(E,Ei)}},{key:"getOrCreateInstance",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,zs(T)==="object"?T:null)}}],(N=[{key:"init",value:function(){this._addClickEvent(this._element)}},{key:"dispose",value:function(){wn.removeData(this._element,Ei),ft.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}},{key:"_autoInit",value:function(E){var T=this;Js.forEach(function(j){Be.closest(E.target,j)&&(T._element=Be.closest(E.target,j))}),this._element.style.minWidth||($e.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),$e.addClass(this._element,ir),this._options=this._getConfig(),this._createRipple(E)}},{key:"_addClickEvent",value:function(E){ft.on(E,"mousedown",this._clickHandler)}},{key:"_createRipple",value:function(T){$e.hasClass(this._element,ir)||$e.addClass(this._element,ir);var de=T.layerX,T=T.layerY,j=this._element.offsetHeight,he=this._element.offsetWidth,W=this._durationToMsNumber(this._options.rippleDuration),te={offsetX:this._options.rippleCentered?j/2:de,offsetY:this._options.rippleCentered?he/2:T,height:j,width:he},te=this._getDiameter(te),se=this._options.rippleRadius||te/2,oe={delay:.5*W,duration:W-.5*W},he={left:this._options.rippleCentered?"".concat(he/2-se,"px"):"".concat(de-se,"px"),top:this._options.rippleCentered?"".concat(j/2-se,"px"):"".concat(T-se,"px"),height:"".concat(2*this._options.rippleRadius||te,"px"),width:"".concat(2*this._options.rippleRadius||te,"px"),transitionDelay:"0s, ".concat(oe.delay,"ms"),transitionDuration:"".concat(W,"ms, ").concat(oe.duration,"ms")},de=vr("div");this._createHTMLRipple({wrapper:this._element,ripple:de,styles:he}),this._removeHTMLRipple({ripple:de,duration:W})}},{key:"_createHTMLRipple",value:function(E){var T=E.wrapper,j=E.ripple,W=E.styles;Object.keys(W).forEach(function(te){return j.style[te]=W[te]}),j.classList.add(Us),this._options.rippleColor!==""&&(this._removeOldColorClasses(T),this._addColor(j,T)),this._toggleUnbound(T),this._appendRipple(j,T)}},{key:"_removeHTMLRipple",value:function(W){var T=this,j=W.ripple,W=W.duration;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(function(){j&&(j.remove(),T._element&&(Be.find(".".concat(Us),T._element).forEach(function(te){te.remove()}),T._isMinWidthSet&&($e.style(T._element,{"min-width":""}),T._isMinWidthSet=!1),$e.removeClass(T._element,ir)))},W)}},{key:"_durationToMsNumber",value:function(E){return Number(E.replace("ms","").replace("s","000"))}},{key:"_getConfig",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=$e.getDataAttributes(this._element),T=To(To(To({},fc),E),T);return Ci(rr,T,pc),T}},{key:"_getDiameter",value:function(Te){function T(Fe,Me){return Math.sqrt(Math.pow(Fe,2)+Math.pow(Me,2))}var j=Te.offsetX,W=Te.offsetY,te=Te.height,Te=Te.width,Se=W<=te/2,Pe=j<=Te/2,se=W===te/2&&j===Te/2,oe=Se==!0&&Pe==!1,he=Se==!0&&Pe==!0,de=Se==!1&&Pe==!0,Se=Se==!1&&Pe==!1,Pe={topLeft:T(j,W),topRight:T(Te-j,W),bottomLeft:T(j,te-W),bottomRight:T(Te-j,te-W)},Te=0;return se||Se?Te=Pe.topLeft:de?Te=Pe.topRight:he?Te=Pe.bottomRight:oe&&(Te=Pe.bottomLeft),2*Te}},{key:"_appendRipple",value:function(E,T){T.appendChild(E),setTimeout(function(){$e.addClass(E,"active")},50)}},{key:"_toggleUnbound",value:function(E){this._options.rippleUnbound===!0?$e.addClass(E,qs):E.classList.remove(qs)}},{key:"_addColor",value:function(E,T){var j=this;cc.find(function(W){return W===j._options.rippleColor.toLowerCase()})?$e.addClass(T,"".concat(ir,"-").concat(this._options.rippleColor.toLowerCase())):(T=this._colorToRGB(this._options.rippleColor).join(","),T="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(T)),E.style.backgroundImage="radial-gradient(circle, ".concat(T,")"))}},{key:"_removeOldColorClasses",value:function(E){var T=new RegExp("".concat(ir,"-[a-z]+"),"gi");(E.classList.value.match(T)||[]).forEach(function(j){E.classList.remove(j)})}},{key:"_colorToRGB",value:function(E){return E.toLowerCase()==="transparent"?Si:E[0]==="#"?((T=E).length<7&&(T="#".concat(T[1]).concat(T[1]).concat(T[2]).concat(T[2]).concat(T[3]).concat(T[3])),[parseInt(T.substr(1,2),16),parseInt(T.substr(3,2),16),parseInt(T.substr(5,2),16)]):(E.indexOf("rgb")===-1&&(T=E,j=document.body.appendChild(document.createElement("fictum")),W="rgb(1, 2, 3)",j.style.color=W,E=j.style.color!==W?Si:(j.style.color=T,j.style.color===W||j.style.color===""?Si:(T=getComputedStyle(j).color,document.body.removeChild(j),T))),E.indexOf("rgb")===0?((W=(W=E).match(/[.\d]+/g).map(function(te){return+Number(te)})).length=3,W):Si);var T,j,W}}])&&Vs(P.prototype,N),B&&Vs(P,B),Object.defineProperty(P,"prototype",{writable:!1}),A}(),dc=(Js.forEach(function(A){ft.one(document,"mousedown",A,$r.autoInitial(new $r))}),Gl(function(){var A,P=Es();P&&(A=P.fn[rr],P.fn[rr]=$r.jQueryInterface,P.fn[rr].Constructor=$r,P.fn[rr].noConflict=function(){return P.fn[rr]=A,$r.jQueryInterface})}),$r);Ve(187);function mc(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var Hs=function(){function A(B){var E=this,T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},j=2<arguments.length?arguments[2]:void 0,W=this,te=A;if(!(W instanceof te))throw new TypeError("Cannot call a class as a function");this._element=B,this._toggler=j,this._event=T.event||"blur",this._condition=T.condition||function(){return!0},this._selector=T.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=T.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=function(se){E._condition(se)&&se.target===E._lastElement&&(se.preventDefault(),E._firstElement.focus())}}var P,N;return P=A,(N=[{key:"trap",value:function(){this._setElements(),this._init(),this._setFocusTrap()}},{key:"disable",value:function(){var B=this;this._focusableElements.forEach(function(E){E.removeEventListener(B._event,B.handler)}),this._toggler&&this._toggler.focus()}},{key:"update",value:function(){this._setElements(),this._setFocusTrap()}},{key:"_init",value:function(){var B=this;window.addEventListener("keydown",function E(T){B._firstElement&&T.key==="Tab"&&!B._focusableElements.includes(T.target)&&(T.preventDefault(),B._firstElement.focus(),window.removeEventListener("keydown",E))})}},{key:"_filterVisible",value:function(B){return B.filter(function(E){if(!(T=E)||!(T.style&&T.parentNode&&T.parentNode.style)||(j=getComputedStyle(T),T=getComputedStyle(T.parentNode),j.display==="none"||T.display==="none"||j.visibility==="hidden"))return!1;for(var T,j,W=Be.parents(E,"*"),te=0;te<W.length;te++){var se=window.getComputedStyle(W[te]);if(se&&(se.display==="none"||se.visibility==="hidden"))return!1}return!0})}},{key:"_setElements",value:function(){this._focusableElements=Be.find(this._selector,this._element),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}},{key:"_setFocusTrap",value:function(){var B=this;this._focusableElements.forEach(function(E,T){T===B._focusableElements.length-1?E.addEventListener(B._event,B.handler):E.removeEventListener(B._event,B.handler)})}}])&&mc(P.prototype,N),Object.defineProperty(P,"prototype",{writable:!1}),A}();Ve(188);function In(A){return A.getDate()}function ki(A){return A.getDay()}function gn(A){return A.getMonth()}function tn(A){return A.getFullYear()}function Po(A){return zn((A=A).getFullYear(),A.getMonth()+1,0).getDate()}function ei(){return new Date}function yn(A,P){return bn(A,12*P)}function bn(A,P){return P=zn(A.getFullYear(),A.getMonth()+P,A.getDate()),In(A)!==In(P)&&P.setDate(0),P}function Mr(A,P){return zn(A.getFullYear(),A.getMonth(),A.getDate()+P)}function zn(A,P,N){return P=new Date(A,P,N),0<=A&&A<100&&P.setFullYear(P.getFullYear()-1900),P}function Gs(A){return A=A.split("-"),zn(A[0],A[1],A[2])}function or(A,P){return A.setHours(0,0,0,0),P.setHours(0,0,0,0),A.getTime()===P.getTime()}function Ti(A,P){return((tn(A)-function(N,B,E){var T=0;return E?(E=tn(E),T=E-N+1):B&&(T=tn(B)),T}())%P+P)%P}function Ao(A,P,N,B,E){return N==="days"?tn(A)===tn(P)&&gn(A)===gn(P):N==="months"?tn(A)===tn(P):N==="years"&&tn(P)>=E&&tn(P)<=B}function hc(A,P,N,B,E,T,Fe,W,te){var se,oe,he=gn(A),de=tn(A),Se=In(A),Pe=ki(A),Te=vr("div"),Fe=`
      `.concat((Se=Se,Pe=Pe,se=he,`
      <div class="datepicker-header">
        <div class="datepicker-title">
          <span class="datepicker-title-text">`.concat((oe=E).title,`</span>
        </div>
        <div class="datepicker-date">
          <span class="datepicker-date-text">`).concat(oe.weekdaysShort[Pe],", ").concat(oe.monthsShort[se]," ").concat(Se,`</span>
        </div>
      </div>
    `)),`
      `).concat((Pe=A,oe=P,se=N,Se=B,A=T,P=Fe,N=W,`
    <div class="datepicker-main">
      `.concat(function(Me,Oe,Ue){return`
    <div class="datepicker-date-controls">
      <button class="datepicker-view-change-button" aria-label="`.concat(Ue.switchToMultiYearViewLabel,`">
        `).concat(Ue.monthsFull[Me]," ").concat(Oe,`
      </button>
      <div class="datepicker-arrow-controls">
        <button class="datepicker-previous-button" aria-label="`).concat(Ue.prevMonthLabel,`"></button>
        <button class="datepicker-next-button" aria-label="`).concat(Ue.nextMonthLabel,`"></button>
      </div>
    </div>
    `)}(he,B=de,T=E),`
      <div class="datepicker-view" tabindex="0">
        `).concat(function(Me,Oe,Ue,Qe,lt,vt,st,mt,Wt){return Ue=vt.view==="days"?Pi(Me,Ue,vt):vt.view==="months"?Ai(Oe,Qe,lt,vt,st):xi(Me,Qe,0,mt,Wt),Ue}(Pe,B,oe,se,Se,T,A,P,N),`
      </div>
      `).concat(function(Me){return`
        <div class="datepicker-footer">
          <button class="datepicker-footer-btn datepicker-clear-btn" aria-label="`.concat(Me.clearBtnLabel,'">').concat(Me.clearBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-cancel-btn" aria-label="`).concat(Me.cancelBtnLabel,'">').concat(Me.cancelBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-ok-btn" aria-label="`).concat(Me.okBtnLabel,'">').concat(Me.okBtnText,`</button>
        </div>
      `)}(T),`
    </div>
  `)),`
    `);return $e.addClass(Te,"datepicker-modal-container"),$e.addClass(Te,"datepicker-modal-container-".concat(te)),Te.innerHTML=Fe,Te}function Pi(A,P,N){return A=function(B,E,T){for(var j=[],W=gn(B),te=gn(bn(B,-1)),se=gn(bn(B,1)),oe=tn(B),he=function(Wt,sn,Kt){return Kt=0<(Kt=Kt.startDay)?7-Kt:0,7<=(Wt=new Date(Wt,sn).getDay()+Kt)?Wt-7:Wt}(oe,W,T),de=Po(B),Se=Po(bn(B,-1)),Pe=1,Te=!1,Fe=1;Fe<7;Fe++){var Me=[];if(Fe===1){for(var Oe=Se-he+1;Oe<=Se;Oe++){var Ue=zn(oe,te,Oe);Me.push({date:Ue,currentMonth:Te,isSelected:E&&or(Ue,E),isToday:or(Ue,ei()),dayNumber:In(Ue)})}Te=!0;for(var Qe=7-Me.length,lt=0;lt<Qe;lt++){var vt=zn(oe,W,Pe);Me.push({date:vt,currentMonth:Te,isSelected:E&&or(vt,E),isToday:or(vt,ei()),dayNumber:In(vt)}),Pe++}}else for(var st=1;st<8;st++){de<Pe&&(Te=!(Pe=1));var mt=zn(oe,Te?W:se,Pe);Me.push({date:mt,currentMonth:Te,isSelected:E&&or(mt,E),isToday:or(mt,ei()),dayNumber:In(mt)}),Pe++}j.push(Me)}return j}(A,P,N),P=N.weekdaysNarrow,P=`
      <tr>
        `.concat(P.map(function(B,E){return'<th class="datepicker-day-heading" scope="col" aria-label="'.concat(N.weekdaysFull[E],'">').concat(B,"</th>")}).join(""),`
      </tr>
    `),A=A.map(function(B){return`
        <tr>
          `.concat(B.map(function(E){return`
              <td
              class="datepicker-cell datepicker-small-cell datepicker-day-cell
              `.concat(E.currentMonth?"":"disabled"," ").concat(E.disabled?"disabled":"",`
              `).concat(E.isToday&&"current"," ").concat(E.isSelected&&"selected",`"
              data-mdb-date="`).concat(tn(E.date),"-").concat(gn(E.date),"-").concat(In(E.date),`"
              aria-label="`).concat(E.date,`"
              aria-selected="`).concat(E.isSelected,`">
                <div
                  class="datepicker-cell-content datepicker-small-cell-content"
                  style="`).concat(E.currentMonth?"display: block":"display: none",`">
                  `).concat(E.dayNumber,`
                  </div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
      <table class="datepicker-table">
        <thead>
          `.concat(P,`
        </thead>
        <tbody class="datepicker-table-body">
         `).concat(A,`
        </tbody>
      </table>
    `)}function Ai(A,P,N,B,j){var j=function(W,te){for(var se=[],oe=[],he=0;he<W.monthsShort.length;he++){var de;oe.push(W.monthsShort[he]),oe.length===te&&(de=oe,se.push(de),oe=[])}return se}(B,j),T=gn(ei()),j=`
      `.concat(j.map(function(W){return`
          <tr>
            `.concat(W.map(function(te){var se=B.monthsShort.indexOf(te);return`
                <td class="datepicker-cell datepicker-large-cell datepicker-month-cell `.concat(se===N&&A===P?"selected":""," ").concat(se===T?"current":"",'" data-mdb-month="').concat(se,'" data-mdb-year="').concat(A,'" aria-label="').concat(te,", ").concat(A,`">
                  <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(te,`</div>
                </td>
              `)}).join(""),`
          </tr>
        `)}).join(""),`
    `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
         `.concat(j,`
        </tbody>
      </table>
    `)}function xi(T,P,N,W,E){var T=function(te,se,oe){for(var he=[],de=tn(te),te=Ti(te,se),Se=de-te,Pe=[],Te=0;Te<se;Te++){var Fe;Pe.push(Se+Te),Pe.length===oe&&(Fe=Pe,he.push(Fe),Pe=[])}return he}(T,W,E),j=tn(ei()),W=`
    `.concat(T.map(function(te){return`
        <tr>
          `.concat(te.map(function(se){return`
              <td class="datepicker-cell datepicker-large-cell datepicker-year-cell `.concat(se===P?"selected":""," ").concat(se===j?"current":"",'" aria-label="').concat(se,'" data-mdb-year="').concat(se,`">
                <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(se,`</div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
  `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
        `.concat(W,`
        </tbody>
      </table>
    `)}function Ys(A){return(Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function Zs(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function xo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?Zs(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):Zs(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Xs(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}var Ks="datepicker",Oi="mdb.datepicker",Cr=".".concat(Oi),gc="close".concat(Cr),yc="open".concat(Cr),bc="dateChange".concat(Cr),Bi="click".concat(Cr).concat(".data-api"),_c={title:"Select date",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",okBtnLabel:"Confirm selection",clearBtnLabel:"Clear selection",cancelBtnLabel:"Cancel selection",nextMonthLabel:"Next month",prevMonthLabel:"Previous month",nextYearLabel:"Next year",prevYearLabel:"Previous year",nextMultiYearLabel:"Next 24 years",prevMultiYearLabel:"Previous 24 years",switchToMultiYearViewLabel:"Choose year and month",switchToMonthViewLabel:"Choose date",switchToDayViewLabel:"Choose date",startDate:null,startDay:0,format:"dd/mm/yyyy",view:"days",toggleButton:!0,disableToggleButton:!1,disableInput:!1},vc={title:"string",monthsFull:"array",monthsShort:"array",weekdaysFull:"array",weekdaysShort:"array",weekdaysNarrow:"array",okBtnText:"string",clearBtnText:"string",cancelBtnText:"string",okBtnLabel:"string",clearBtnLabel:"string",cancelBtnLabel:"string",nextMonthLabel:"string",prevMonthLabel:"string",nextYearLabel:"string",prevYearLabel:"string",nextMultiYearLabel:"string",prevMultiYearLabel:"string",switchToMultiYearViewLabel:"string",switchToMonthViewLabel:"string",switchToDayViewLabel:"string",startDate:"(null|string|date)",startDay:"number",format:"string",view:"string",toggleButton:"boolean",disableToggleButton:"boolean",disableInput:"boolean"},Oo=function(){function A(E,T){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._input=Be.findOne("input",this._element),this._options=this._getConfig(T),this._activeDate=new Date,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=this._options.view,this._popper=null,this._focusTrap=null,this._isOpen=!1,this._toggleButtonId=Is("datepicker-toggle-"),this._element&&wn.setData(E,Oi,this),this._init(),this.toggleButton&&this._options.disableToggle&&(this.toggleButton.disabled="true"),this._options.disableInput&&(this._input.disabled="true")}var P,N,B;return P=A,B=[{key:"NAME",get:function(){return Ks}},{key:"getInstance",value:function(E){return wn.getData(E,Oi)}},{key:"getOrCreateInstance",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,Ys(T)==="object"?T:null)}}],(N=[{key:"container",get:function(){return Be.findOne(".datepicker-modal-container".concat("-",this._toggleButtonId))||Be.findOne(".datepicker-dropdown-container".concat("-",this._toggleButtonId))}},{key:"options",get:function(){return this._options}},{key:"activeCell",get:function(){var E;return this._view==="days"&&(E=this._getActiveDayCell()),this._view==="months"&&(E=this._getActiveMonthCell()),E=this._view==="years"?this._getActiveYearCell():E}},{key:"activeDay",get:function(){return In(this._activeDate)}},{key:"activeMonth",get:function(){return gn(this._activeDate)}},{key:"activeYear",get:function(){return tn(this._activeDate)}},{key:"firstYearInView",get:function(){return this.activeYear-Ti(this._activeDate,24)}},{key:"lastYearInView",get:function(){return this.firstYearInView+24-1}},{key:"viewChangeButton",get:function(){return Be.findOne(".datepicker-view-change-button",this.container)}},{key:"previousButton",get:function(){return Be.findOne(".datepicker-previous-button",this.container)}},{key:"nextButton",get:function(){return Be.findOne(".datepicker-next-button",this.container)}},{key:"okButton",get:function(){return Be.findOne(".datepicker-ok-btn",this.container)}},{key:"cancelButton",get:function(){return Be.findOne(".datepicker-cancel-btn",this.container)}},{key:"clearButton",get:function(){return Be.findOne(".datepicker-clear-btn",this.container)}},{key:"datesContainer",get:function(){return Be.findOne(".datepicker-view",this.container)}},{key:"toggleButton",get:function(){return Be.findOne(".datepicker-toggle-button",this._element)}},{key:"_getConfig",value:function(E){var T=$e.getDataAttributes(this._element);return E=xo(xo(xo({},_c),T),E),Ci(Ks,E,vc),E.startDay&&E.startDay!==0&&(T=this._getNewDaysOrderArray(E),E.weekdaysNarrow=T),E}},{key:"_getNewDaysOrderArray",value:function(j){var T=j.startDay,j=j.weekdaysNarrow;return j.slice(T).concat(j.slice(0,T))}},{key:"_init",value:function(){!this.toggleButton&&this._options.toggleButton&&(this._appendToggleButton(),(this._input.readOnly||this._input.disabled)&&(this.toggleButton.style.pointerEvents="none")),this._listenToUserInput(),this._listenToToggleClick(),this._listenToToggleKeydown()}},{key:"_appendToggleButton",value:function(){var E=`
    <button id="`.concat(this._toggleButtonId,`" type="button" class="datepicker-toggle-button" data-mdb-toggle="datepicker">
      <i class="far fa-calendar datepicker-toggle-icon"></i>
    </button>
  `);this._element.insertAdjacentHTML("beforeend",E),$e.addClass(this._input,"form-icon-trailing")}},{key:"open",value:function(){var E,T,j=this;this._input.readOnly||this._input.disabled||(E=ft.trigger(this._element,yc),this._isOpen||E.defaultPrevented||(this._setInitialDate(),E=vr("div"),$e.addClass(E,"datepicker-backdrop"),E=E,T=hc(this._activeDate,this._selectedDate,this._selectedYear,this._selectedMonth,this._options,4,24,24,this._toggleButtonId),this._openModal(E,T),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-in"),this.container.style.animationDuration="300ms",$e.addClass(E,"animation"),$e.addClass(E,"fade-in"),E.style.animationDuration="150ms",this._setFocusTrap(this.container),this._listenToDateSelection(),this._addControlsListeners(),this._listenToEscapeClick(),this._listenToKeyboardNavigation(),this._listenToDatesContainerFocus(),this._listenToDatesContainerBlur(),this._asyncFocusDatesContainer(),this._updateViewControlsAndAttributes(this._view),this._isOpen=!0,setTimeout(function(){j._listenToOutsideClick()},0)))}},{key:"_openDropdown",value:function(E){this._popper=Z(this._input,E,{placement:"bottom-start"}),document.body.appendChild(E)}},{key:"_openModal",value:function(E,T){document.body.appendChild(E),document.body.appendChild(T),window.innerWidth>document.documentElement.clientWidth&&(document.body.style.overflow="hidden",document.body.style.paddingRight="15px")}},{key:"_setFocusTrap",value:function(E){this._focusTrap=new Hs(E,{event:"keydown",condition:function(T){return T.key==="Tab"}}),this._focusTrap.trap()}},{key:"_listenToUserInput",value:function(){var E=this;ft.on(this._input,"input",function(T){E._handleUserInput(T.target.value)})}},{key:"_listenToToggleClick",value:function(){var E=this;ft.on(this._element,Bi,'[data-mdb-toggle="datepicker"]',function(T){T.preventDefault(),E.open()})}},{key:"_listenToToggleKeydown",value:function(){var E=this;ft.on(this._element,"keydown",'[data-mdb-toggle="datepicker"]',function(T){T.keyCode!==13||E._isOpen||E.open()})}},{key:"_listenToDateSelection",value:function(){var E=this;ft.on(this.datesContainer,"click",function(te){var j,W=(te.target.nodeName==="DIV"?te.target.parentNode:te.target).dataset,te=te.target.nodeName==="DIV"?te.target.parentNode:te.target;W.mdbDate&&E._pickDay(W.mdbDate,te),W.mdbMonth&&W.mdbYear&&(te=parseInt(W.mdbMonth,10),j=parseInt(W.mdbYear,10),E._pickMonth(te,j)),W.mdbYear&&!W.mdbMonth&&(te=parseInt(W.mdbYear,10),E._pickYear(te)),E._updateHeaderDate(E._activeDate,E._options.monthsShort,E._options.weekdaysShort)})}},{key:"_updateHeaderDate",value:function(oe,T,j){var W=Be.findOne(".datepicker-date-text",this.container),te=gn(oe),se=In(oe),oe=ki(oe);W.innerHTML="".concat(j[oe],", ").concat(T[te]," ").concat(se)}},{key:"_addControlsListeners",value:function(){var E=this;ft.on(this.nextButton,"click",function(){E._view==="days"?E.nextMonth():E._view==="years"?E.nextYears():E.nextYear()}),ft.on(this.previousButton,"click",function(){E._view==="days"?E.previousMonth():E._view==="years"?E.previousYears():E.previousYear()}),ft.on(this.viewChangeButton,"click",function(){E._view==="days"?E._changeView("years"):E._view!=="years"&&E._view!=="months"||E._changeView("days")}),this._listenToFooterButtonsClick()}},{key:"_listenToFooterButtonsClick",value:function(){var E=this;ft.on(this.okButton,"click",function(){return E.handleOk()}),ft.on(this.cancelButton,"click",function(){return E.handleCancel()}),ft.on(this.clearButton,"click",function(){return E.handleClear()})}},{key:"_listenToOutsideClick",value:function(){var E=this;ft.on(document,Bi,function(W){var j=W.target===E.container,W=E.container&&E.container.contains(W.target);j||W||E.close()})}},{key:"_listenToEscapeClick",value:function(){var E=this;ft.on(document,"keydown",function(T){T.keyCode===27&&E._isOpen&&E.close()})}},{key:"_listenToKeyboardNavigation",value:function(){var E=this;ft.on(this.datesContainer,"keydown",function(T){E._handleKeydown(T)})}},{key:"_listenToDatesContainerFocus",value:function(){var E=this;ft.on(this.datesContainer,"focus",function(){E._focusActiveCell(E.activeCell)})}},{key:"_listenToDatesContainerBlur",value:function(){var E=this;ft.on(this.datesContainer,"blur",function(){E._removeCurrentFocusStyles()})}},{key:"_handleKeydown",value:function(E){this._view==="days"&&this._handleDaysViewKeydown(E),this._view==="months"&&this._handleMonthsViewKeydown(E),this._view==="years"&&this._handleYearsViewKeydown(E)}},{key:"_handleDaysViewKeydown",value:function(E){var T=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=Mr(this._activeDate,-1);break;case 39:this._activeDate=Mr(this._activeDate,1);break;case 38:this._activeDate=Mr(this._activeDate,-7);break;case 40:this._activeDate=Mr(this._activeDate,7);break;case 36:this._activeDate=Mr(this._activeDate,1-In(this._activeDate));break;case 35:this._activeDate=Mr(this._activeDate,Po(this._activeDate)-In(this._activeDate));break;case 33:this._activeDate=bn(this._activeDate,-1);break;case 34:this._activeDate=bn(this._activeDate,1);break;case 13:case 32:return this._selectDate(this._activeDate),void E.preventDefault();default:return}Ao(T,this._activeDate,this._view,24,0)||this._changeView("days"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_asyncFocusDatesContainer",value:function(){var E=this;setTimeout(function(){E.datesContainer.focus()},0)}},{key:"_focusActiveCell",value:function(E){E&&$e.addClass(E,"focused")}},{key:"_removeHighlightFromCell",value:function(E){E&&E.classList.remove("focused")}},{key:"_getActiveDayCell",value:function(){var E=this,T=Be.find("td",this.datesContainer);return Array.from(T).find(function(j){return or(Gs(j.dataset.mdbDate),E._activeDate)})}},{key:"_handleMonthsViewKeydown",value:function(E){var T=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=bn(this._activeDate,-1);break;case 39:this._activeDate=bn(this._activeDate,1);break;case 38:this._activeDate=bn(this._activeDate,-4);break;case 40:this._activeDate=bn(this._activeDate,4);break;case 36:this._activeDate=bn(this._activeDate,-this.activeMonth);break;case 35:this._activeDate=bn(this._activeDate,11-this.activeMonth);break;case 33:this._activeDate=yn(this._activeDate,-1);break;case 34:this._activeDate=yn(this._activeDate,1);break;case 13:case 32:return void this._selectMonth(this.activeMonth);default:return}Ao(T,this._activeDate,this._view,24,0)||this._changeView("months"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveMonthCell",value:function(){var E=this,T=Be.find("td",this.datesContainer);return Array.from(T).find(function(te){var W=parseInt(te.dataset.mdbYear,10),te=parseInt(te.dataset.mdbMonth,10);return W===E.activeYear&&te===E.activeMonth})}},{key:"_handleYearsViewKeydown",value:function(E){var T=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=yn(this._activeDate,-1);break;case 39:this._activeDate=yn(this._activeDate,1);break;case 38:this._activeDate=yn(this._activeDate,-4);break;case 40:this._activeDate=yn(this._activeDate,4);break;case 36:this._activeDate=yn(this._activeDate,-Ti(this._activeDate,24));break;case 35:this._activeDate=yn(this._activeDate,24-Ti(this._activeDate,24)-1);break;case 33:this._activeDate=yn(this._activeDate,-24);break;case 34:this._activeDate=yn(this._activeDate,24);break;case 13:case 32:return void this._selectYear(this.activeYear);default:return}Ao(T,this._activeDate,this._view,24,0)||this._changeView("years"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveYearCell",value:function(){var E=this,T=Be.find("td",this.datesContainer);return Array.from(T).find(function(j){return parseInt(j.dataset.mdbYear,10)===E.activeYear})}},{key:"_setInitialDate",value:function(){this._input.value?this._handleUserInput(this._input.value):this._options.startDate?this._activeDate=new Date(this._options.startDate):this._activeDate=new Date}},{key:"close",value:function(){var E=ft.trigger(this._element,gc);this._isOpen&&!E.defaultPrevented&&(this._removeDatepickerListeners(),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-out"),this._closeModal(),this._isOpen=!1,this._view=this._options.view,(this.toggleButton||this._input).focus())}},{key:"_closeDropdown",value:function(){var E=this,T=Be.findOne(".datepicker-dropdown-container");T.addEventListener("animationend",function(){T&&document.body.removeChild(T),E._popper&&E._popper.destroy()}),this._removeFocusTrap()}},{key:"_closeModal",value:function(){var E=Be.findOne(".datepicker-backdrop"),T=Be.findOne(".datepicker-modal-container");$e.addClass(E,"animation"),$e.addClass(E,"fade-out"),T&&E&&E.addEventListener("animationend",function(){document.body.removeChild(E),document.body.removeChild(T),document.body.style.overflow="",document.body.style.paddingRight=""})}},{key:"_removeFocusTrap",value:function(){this._focusTrap&&(this._focusTrap.disable(),this._focusTrap=null)}},{key:"_removeDatepickerListeners",value:function(){ft.off(this.nextButton,"click"),ft.off(this.previousButton,"click"),ft.off(this.viewChangeButton,"click"),ft.off(this.okButton,"click"),ft.off(this.cancelButton,"click"),ft.off(this.clearButton,"click"),ft.off(this.datesContainer,"click"),ft.off(this.datesContainer,"keydown"),ft.off(this.datesContainer,"focus"),ft.off(this.datesContainer,"blur"),ft.off(document,Bi)}},{key:"dispose",value:function(){this._isOpen&&this.close(),this._removeInputAndToggleListeners();var E=Be.findOne("#".concat(this._toggleButtonId));E&&this._element.removeChild(E),wn.removeData(this._element,Oi),this._element=null,this._input=null,this._options=null,this._activeDate=null,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=null,this._popper=null,this._focusTrap=null}},{key:"_removeInputAndToggleListeners",value:function(){ft.off(this._input,"input"),ft.off(this._element,Bi,'[data-mdb-toggle="datepicker"]'),ft.off(this._element,"keydown",'[data-mdb-toggle="datepicker"]')}},{key:"handleOk",value:function(){this._confirmSelection(this._selectedDate),this.close()}},{key:"_selectDate",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(T),this._selectedDate=E}},{key:"_selectYear",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(T),this._selectedYear=E,this._asyncChangeView("months")}},{key:"_selectMonth",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(T),this._selectedMonth=E,this._asyncChangeView("days")}},{key:"_removeSelectedStyles",value:function(E){E&&E.classList.remove("selected")}},{key:"_addSelectedStyles",value:function(E){E&&$e.addClass(E,"selected")}},{key:"_confirmSelection",value:function(E){var T;E&&(T=this.formatDate(E),this._input.value=T,$e.addClass(this._input,"active"),ft.trigger(this._element,bc,{date:E}))}},{key:"handleCancel",value:function(){this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this.close()}},{key:"handleClear",value:function(){this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._removeCurrentSelectionStyles(),this._input.value="",this._input.classList.remove("active"),this._setInitialDate(),this._changeView("days")}},{key:"_removeCurrentSelectionStyles",value:function(){var E=Be.findOne(".selected",this.container);E&&E.classList.remove("selected")}},{key:"_removeCurrentFocusStyles",value:function(){var E=Be.findOne(".focused",this.container);E&&E.classList.remove("focused")}},{key:"formatDate",value:function(Te){var T=In(Te),j=this._addLeadingZero(In(Te)),W=this._options.weekdaysShort[ki(Te)],te=this._options.weekdaysFull[ki(Te)],se=gn(Te)+1,oe=this._addLeadingZero(gn(Te)+1),he=this._options.monthsShort[gn(Te)],de=this._options.monthsFull[gn(Te)],Se=tn(Te).toString().length===2?tn(Te):tn(Te).toString().slice(2,4),Pe=tn(Te),Te=this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),Fe="";return Te.forEach(function(Me){switch(Me){case"dddd":Me=Me.replace(Me,te);break;case"ddd":Me=Me.replace(Me,W);break;case"dd":Me=Me.replace(Me,j);break;case"d":Me=Me.replace(Me,T);break;case"mmmm":Me=Me.replace(Me,de);break;case"mmm":Me=Me.replace(Me,he);break;case"mm":Me=Me.replace(Me,oe);break;case"m":Me=Me.replace(Me,se);break;case"yyyy":Me=Me.replace(Me,Pe);break;case"yy":Me=Me.replace(Me,Se)}Fe+=Me}),Fe}},{key:"_addLeadingZero",value:function(E){return parseInt(E,10)<10?"0".concat(E):E}},{key:"_pickDay",value:function(E,T){E=Gs(E),this._activeDate=E,this._selectDate(E,T)}},{key:"_pickYear",value:function(E){var T=zn(E,this.activeMonth,this.activeDay);this._activeDate=T,this._selectedDate=T,this._selectYear(E)}},{key:"_pickMonth",value:function(E,T){T=zn(T,E,this.activeDay),this._activeDate=T,this._selectMonth(E)}},{key:"nextMonth",value:function(){var E,T=Pi(E=bn(this._activeDate,1),this._selectedDate,this._options);this._activeDate=E,this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=T}},{key:"previousMonth",value:function(){var E=bn(this._activeDate,-1),E=Pi(this._activeDate=E,this._selectedDate,this._options);this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=E}},{key:"nextYear",value:function(){var E=yn(this._activeDate,1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"previousYear",value:function(){var E=yn(this._activeDate,-1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"nextYears",value:function(){var E=yn(this._activeDate,24),E=xi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"previousYears",value:function(){var E=yn(this._activeDate,-24),E=xi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"_asyncChangeView",value:function(E){var T=this;setTimeout(function(){T._changeView(E)},0)}},{key:"_changeView",value:function(E){this._view=E,this.datesContainer.blur(),E==="days"&&(this.datesContainer.innerHTML=Pi(this._activeDate,this._selectedDate,this._options)),E==="months"&&(this.datesContainer.innerHTML=Ai(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4)),E==="years"&&(this.datesContainer.innerHTML=xi(this._activeDate,this._selectedYear,this._options,24,4)),this.datesContainer.focus(),this._updateViewControlsAndAttributes(E)}},{key:"_updateViewControlsAndAttributes",value:function(E){E==="days"&&(this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMultiYearViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMonthLabel),this.nextButton.setAttribute("aria-label",this._options.nextMonthLabel)),E==="months"&&(this.viewChangeButton.textContent="".concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToDayViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextYearLabel)),E==="years"&&(this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMonthViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMultiYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextMultiYearLabel))}},{key:"_handleUserInput",value:function(j){var T=this._getDelimeters(this._options.format),j=this._parseDate(j,this._options.format,T);Number.isNaN(j.getTime())?(this._activeDate=new Date,this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null):(this._activeDate=j,this._selectedDate=j)}},{key:"_getDelimeters",value:function(E){return E.match(/[^(dmy)]{1,}/g)}},{key:"_parseDate",value:function(E,T,j){for(var j=j[0]!==j[1]?j[0]+j[1]:j[0],j=new RegExp("[".concat(j,"]")),W=E.split(j),te=T.split(j),E=T.indexOf("mmm")!==-1,se=[],oe=0;oe<te.length;oe++)te[oe].indexOf("yy")!==-1&&(se[0]={value:W[oe],format:te[oe]}),te[oe].indexOf("m")!==-1&&(se[1]={value:W[oe],format:te[oe]}),te[oe].indexOf("d")!==-1&&te[oe].length<=2&&(se[2]={value:W[oe],format:te[oe]});return j=T.indexOf("mmmm")!==-1?this._options.monthsFull:this._options.monthsShort,zn(Number(se[0].value),E?this.getMonthNumberByMonthName(se[1].value,j):Number(se[1].value)-1,Number(se[2].value))}},{key:"getMonthNumberByMonthName",value:function(E,T){return T.findIndex(function(j){return j===E})}}])&&Xs(P.prototype,N),B&&Xs(P,B),Object.defineProperty(P,"prototype",{writable:!1}),A}(),Cr=Oo;Be.find(".datepicker").forEach(function(A){var P=Oo.getInstance(A);P||new Oo(A)}),Ve(189),Ve(191);function $c(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,B){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var T,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(T=E.next()).done)&&(W.push(T.value),!B||W.length!==B);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||function(N,B){if(N){if(typeof N=="string")return Qs(N,B);var E=Object.prototype.toString.call(N).slice(8,-1);return(E=E==="Object"&&N.constructor?N.constructor.name:E)==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?Qs(N,B):void 0}}(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qs(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}function eu(E,W){var N=E.clientX,B=E.clientY,E=E.touches,T=2<arguments.length&&arguments[2]!==void 0&&arguments[2],W=W.getBoundingClientRect(),j=W.left,W=W.top,te={};return T&&E?T&&0<Object.keys(E).length&&(te={x:E[0].clientX-j,y:E[0].clientY-W}):te={x:N-j,y:B-W},te}function wr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var Mc=function(A){return A&&Object.prototype.toString.call(A)==="[object Date]"&&!isNaN(A)},En=function(A){return A=(!(1<arguments.length&&arguments[1]!==void 0)||arguments[1]?A.value:A).replace(/:/gi," "),A.split(" ")};function tu(A){return(tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function nu(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function Bo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?nu(Object(N),!0).forEach(function(B){ar(A,B,N[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):nu(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function Fi(A,P){return function(N){if(Array.isArray(N))return N}(A)||function(N,B){var E=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(E!=null){var T,j,W=[],te=!0,se=!1;try{for(E=E.call(N);!(te=(T=E.next()).done)&&(W.push(T.value),!B||W.length!==B);te=!0);}catch(oe){se=!0,j=oe}finally{try{te||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,P)||iu(A,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ru(A){return function(P){if(Array.isArray(P))return Fo(P)}(A)||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(A)||iu(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iu(A,P){if(A){if(typeof A=="string")return Fo(A,P);var N=Object.prototype.toString.call(A).slice(8,-1);return(N=N==="Object"&&A.constructor?A.constructor.name:N)==="Map"||N==="Set"?Array.from(A):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Fo(A,P):void 0}}function Fo(A,P){(P==null||P>A.length)&&(P=A.length);for(var N=0,B=new Array(P);N<P;N++)B[N]=A[N];return B}function ou(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function ar(A,P,N){P in A?Object.defineProperty(A,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[P]=N}var It="timepicker",No="mdb.".concat(It),Yt="active",Cc="".concat(It,"-am"),Ro="".concat(It,"-cancel"),au="".concat(It,"-clear"),su="".concat(It,"-submit"),Lo="".concat(It,"-circle"),wc="".concat(It,"-clock-animation"),Ir="".concat(It,"-clock"),ti="".concat(It,"-clock-inner"),uu="".concat(It,"-clock-wrapper"),jo=".".concat(It,"-current"),Ic="".concat(It,"-current-inline"),Do="".concat(It,"-hand-pointer"),Ni="".concat(It,"-hour"),Ri="".concat(It,"-hour-mode"),lu="".concat(It,"-icon-down"),Ec="".concat(It,"-icon-inline-hour"),Sc="".concat(It,"-icon-inline-minute"),cu="".concat(It,"-icon-up"),fu="".concat(It,"-inline-hour-icons"),pu="".concat(It,"-middle-dot"),du="".concat(It,"-minute"),mu="".concat(It,"-modal"),kc="".concat(It,"-pm"),zo="".concat(It,"-tips-element"),Rn="".concat(It,"-time-tips-hours"),ni="".concat(It,"-tips-inner-element"),Jn="".concat(It,"-time-tips-inner"),_n="".concat(It,"-time-tips-minutes"),Wo="".concat(It,"-transform"),Vo="".concat(It,"-wrapper"),Tc="".concat(It,"-input"),Pc={appendValidationInfo:!0,bodyID:"",cancelLabel:"Cancel",clearLabel:"Clear",closeModalOnBackdropClick:!0,closeModalOnMinutesClick:!1,defaultTime:"",disabled:!1,focusInputAfterApprove:!1,footerID:"",format12:!0,headID:"",increment:!1,invalidLabel:"Invalid Time Format",maxHour:"",minHour:"",maxTime:"",minTime:"",modalID:"",okLabel:"Ok",overflowHidden:!0,pickerID:"",readOnly:!1,showClearBtn:!0,switchHoursToMinutesOnClick:!0,iconClass:"far fa-clock fa-sm timepicker-icon",withIcon:!0,pmLabel:"PM",amLabel:"AM"},Ac={appendValidationInfo:"boolean",bodyID:"string",cancelLabel:"string",clearLabel:"string",closeModalOnBackdropClick:"boolean",closeModalOnMinutesClick:"boolean",disabled:"boolean",footerID:"string",format12:"boolean",headID:"string",increment:"boolean",invalidLabel:"string",maxHour:"(string|number)",minHour:"(string|number)",modalID:"string",okLabel:"string",overflowHidden:"boolean",pickerID:"string",readOnly:"boolean",showClearBtn:"boolean",switchHoursToMinutesOnClick:"boolean",defaultTime:"(string|date|number)",iconClass:"string",withIcon:"boolean",pmLabel:"string",amLabel:"string"},Uo=function(){function A(E){var T=this,j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},W=this,te=A;if(!(W instanceof te))throw new TypeError("Cannot call a class as a function");ar(this,"_toggleBackgroundColorCircle",function(se){T._modal.querySelector(".".concat(se,".").concat(Yt))!==null?$e.addStyle(T._circle,{backgroundColor:"#1976d2"}):$e.addStyle(T._circle,{backgroundColor:"transparent"})}),ar(this,"_toggleClassActive",function(se,oe,he){var de=oe.textContent,Se=ru(se).find(function(Pe){return Number(Pe)===Number(de)});return he.forEach(function(Pe){$e.hasClass(Pe,"disabled")||(Pe.textContent===Se?$e.addClass(Pe,Yt):$e.removeClass(Pe,Yt))})}),ar(this,"_makeMinutesDegrees",function(se,oe){var he=T._options.increment;return se=se<0?(oe=Math.round(360+se/6)%60,360+6*Math.round(se/6)):(oe=Math.round(se/6)%60,6*Math.round(se/6)),he&&(se=30*Math.round(se/30),(oe=6*Math.round(se/6)/6)===60&&(oe="00")),{degrees:se=360<=se?0:se,minute:oe,addDegrees:he?30:6}}),ar(this,"_makeHourDegrees",function(se,oe,he){var Se=T._options,de=Se.maxHour,Se=Se.minHour;if(se&&($e.hasClass(se,ti)||$e.hasClass(se,Jn)||$e.hasClass(se,ni)?oe<0?(he=Math.round(360+oe/30)%24,oe=360+oe):(he=Math.round(oe/30)+12)===12&&(he="00"):oe<0?(he=Math.round(360+oe/30)%12,oe=360+oe):((he=Math.round(oe/30)%12)===0||12<he)&&(he=12),360<=oe&&(oe=0),!(de!==""&&he>Number(de)||Se!==""&&he<Number(Se))))return{degrees:oe,hour:he,addDegrees:30}}),ar(this,"_makeInnerHoursDegrees",function(se,oe){return se<0?(oe=Math.round(360+se/30)%24,se=360+se):(oe=Math.round(se/30)+12)===12&&(oe="00"),{degrees:se,hour:oe,addDegrees:30}}),ar(this,"_getAppendClock",function(){var se,oe,he,de=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],Se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:".".concat(Ir),Pe=2<arguments.length?arguments[2]:void 0,Qe=T._options,Te=Qe.maxHour,Fe=Qe.minHour,Me=Qe.minTime,Oe=Qe.maxTime,Ue=Qe.inline,Qe=Qe.format12,mt=Fi(En(Oe,!1),3),lt=mt[0],vt=mt[1],st=mt[2],mt=Fi(En(Me,!1),3),Wt=mt[0],sn=mt[1],Kt=mt[2],un=(Ue||Qe&&T._isInvalidTimeFormat&&!$e.hasClass(T._AM,"active")&&$e.addClass(T._PM,"active"),Be.findOne(".".concat(Ri,".").concat(Yt))),Dt=Be.findOne(Se),Sn=360/de.length;Dt!==null&&(se=(Dt.offsetWidth-32)/2,oe=(Dt.offsetHeight-32)/2,he=se-4,ru(de).forEach(function(Qt,ur){var ur=ur*Sn*(Math.PI/180),At=vr("span"),lr=vr("span"),ji=(lr.innerHTML=Qt,$e.addClass(At,Pe),At.offsetWidth),Di=At.offsetHeight;return $e.addStyle(At,{left:"".concat(se+Math.sin(ur)*he-ji,"px"),bottom:"".concat(oe+Math.cos(ur)*he-Di,"px")}),de.includes("05")&&$e.addClass(At,"".concat(_n)),de.includes("13")?lr.classList.add(ni):lr.classList.add(zo),$e.hasClass(At,"".concat(_n))?$e.hasClass(At,"".concat(_n))&&(Oe!==""&&Number(Qt)>Number(vt)&&Number(T._hour.textContent)>=Number(lt)&&$e.addClass(At,"disabled"),Me!==""&&Number(Qt)<Number(sn)&&Number(T._hour.textContent)<=Number(Wt)&&$e.addClass(At,"disabled"),Oe!==""&&st!==void 0&&(st==="PM"&&un.textContent==="PM"?Number(Qt)>Number(vt)&&Number(T._hour.textContent)>=Number(lt)&&$e.addClass(At,"disabled"):st==="PM"&&un.textContent==="AM"&&$e.removeClass(At,"disabled"),(st==="AM"&&un.textContent==="PM"||st==="AM"&&un.textContent==="AM"&&Number(T._hour.textContent)>=Number(lt)&&Number(Qt)>Number(vt))&&$e.addClass(At,"disabled")),Me!==""&&Kt!==void 0&&(Kt==="PM"&&un.textContent==="PM"?(Number(Qt)<Number(sn)&&Number(T._hour.textContent)===Number(Wt)||Number(T._hour.textContent)<Number(Wt))&&$e.addClass(At,"disabled"):Kt==="PM"&&un.textContent==="AM"&&$e.addClass(At,"disabled"),Kt==="AM"&&un.textContent==="PM"?$e.removeClass(At,"disabled"):Kt==="AM"&&un.textContent==="AM"&&(Number(T._hour.textContent)===Number(Wt)&&Number(Qt)<Number(sn)||Number(T._hour.textContent)<Number(Wt))&&$e.addClass(At,"disabled"))):(Te!==""&&Number(Qt)>Number(Te)&&$e.addClass(At,"disabled"),Fe!==""&&Number(Qt)<Number(Fe)&&$e.addClass(At,"disabled"),Oe!==""&&(st!==void 0?(st==="PM"&&un.textContent==="PM"&&(T._isAmEnabled=!1,T._isPmEnabled=!0,Number(Qt)>Number(lt)&&$e.addClass(At,"disabled")),st==="AM"&&un.textContent==="PM"?(T._isAmEnabled=!1,T._isPmEnabled=!0,$e.addClass(At,"disabled")):st==="AM"&&un.textContent==="AM"&&(T._isAmEnabled=!0,T._isPmEnabled=!1,Number(Qt)>Number(lt)&&$e.addClass(At,"disabled"))):Number(Qt)>Number(lt)&&$e.addClass(At,"disabled")),Me!==""&&Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled"),Me!==""&&Kt!==void 0&&(Kt==="PM"&&un.textContent==="PM"?(T._isAmEnabled=!1,T._isPmEnabled=!0,Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled")):Kt==="PM"&&un.textContent==="AM"&&(T._isAmEnabled=!0,T._isPmEnabled=!1,$e.addClass(At,"disabled")),Kt==="AM"&&un.textContent==="PM"?(T._isAmEnabled=!1,T._isPmEnabled=!0,$e.removeClass(At,"disabled")):Kt==="AM"&&un.textContent==="AM"&&(T._isAmEnabled=!0,T._isPmEnabled=!1,Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled")))),At.appendChild(lr),Dt.appendChild(At)}))}),this._element=E,this._element&&wn.setData(E,No,this),this._document=document,this._options=this._getConfig(j),this._currentTime=null,this._toggleButtonId=Is("timepicker-toggle-"),this.hoursArray=["12","1","2","3","4","5","6","7","8","9","10","11"],this.innerHours=["00","13","14","15","16","17","18","19","20","21","22","23"],this.minutesArray=["00","05","10","15","20","25","30","35","40","45","50","55"],this.input=Be.findOne("input",this._element),this.dataWithIcon=E.dataset.withIcon,this.dataToggle=E.dataset.toggle,this.customIcon=Be.findOne(".timepicker-toggle-button",this._element),this._checkToggleButton(),this.inputFormatShow=Be.findOne("[data-mdb-timepicker-format24]",this._element),this.inputFormat=this.inputFormatShow===null?"":Object.values(this.inputFormatShow.dataset)[0],this.elementToggle=Be.findOne("[data-mdb-toggle]",this._element),this.toggleElement=Object.values(E.querySelector("[data-mdb-toggle]").dataset)[0],this._hour=null,this._minutes=null,this._AM=null,this._PM=null,this._wrapper=null,this._modal=null,this._hand=null,this._circle=null,this._focusTrap=null,this._popper=null,this._interval=null,this._inputValue=this._options.defaultTime!==""?this._options.defaultTime:this.input.value,this._options.format12&&(this._currentTime=function(se){var oe,he,de;if(se!=="")return Mc(se)?(oe=se.getHours(),(oe%=12)===0&&(de="AM"),oe=oe||12,de===void 0&&(de=12<=oe?"PM":"AM"),he=(he=se.getMinutes())<10?"0".concat(he):he):(oe=(se=$c(En(se,!1),3))[0],he=se[1],de=se[2],(oe%=12)===0&&(de="AM"),oe=oe||12,de===void 0&&(de=12<=oe?"PM":"AM")),{hours:oe,minutes:he,amOrPm:de}}(this._inputValue)),this._options.readOnly&&this.input.setAttribute("readonly",!0),this.init(),this._isHours=!0,this._isMinutes=!1,this._isInvalidTimeFormat=!1,this._isMouseMove=!1,this._isInner=!1,this._isAmEnabled=!1,this._isPmEnabled=!1,this._objWithDataOnChange={degrees:null}}var P,N,B;return P=A,B=[{key:"NAME",get:function(){return It}},{key:"getInstance",value:function(E){return wn.getData(E,No)}},{key:"getOrCreateInstance",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,tu(T)==="object"?T:null)}}],(N=[{key:"init",value:function(){var E,T,j,W;$e.addClass(this.input,Tc),this._currentTime!==void 0?(j=(E=this._currentTime).hours,W=E.minutes,E=E.amOrPm,T=Number(j)<10?0:"",j="".concat(T).concat(Number(j),":").concat(W),W=E,this.input.value="".concat(j," ").concat(W)):this.input.value=W=j=T="",0<this.input.value.length&&this.input.value!==""&&$e.addClass(this.input,"active"),this._options===null&&this._element===null||(this._handleOpen(),this._listenToToggleKeydown())}},{key:"dispose",value:function(){this._removeModal(),this._element!==null&&wn.removeData(this._element,No),this._element=null,this._options=null,this.input=null,this._focusTrap=null,ft.off(this._document,"click","[data-mdb-toggle='".concat(this.toggleElement,"']")),ft.off(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"))}},{key:"_checkToggleButton",value:function(){this.customIcon===null&&(this.dataWithIcon!==void 0&&(this._options.withIcon=null,this.dataWithIcon==="true"&&this._appendToggleButton(this._options)),this._options.withIcon&&this._appendToggleButton(this._options))}},{key:"_appendToggleButton",value:function(){var E=function(T,j){return T=T.iconClass,`
  <button id="`.concat(j,`" tabindex="0" type="button" class="timepicker-toggle-button" data-mdb-toggle="timepicker"  >
    <i class="`).concat(T,`"></i>
  </button>
`)}(this._options,this._toggleButtonId);this.input.insertAdjacentHTML("afterend",E)}},{key:"_getDomElements",value:function(){this._hour=Be.findOne(".".concat(Ni)),this._minutes=Be.findOne(".".concat(du)),this._AM=Be.findOne(".".concat(Cc)),this._PM=Be.findOne(".".concat(kc)),this._wrapper=Be.findOne(".".concat(Vo)),this._modal=Be.findOne(".".concat(mu)),this._hand=Be.findOne(".".concat(Do)),this._circle=Be.findOne(".".concat(Lo)),this._clock=Be.findOne(".".concat(Ir)),this._clockInner=Be.findOne(".".concat(ti))}},{key:"_handlerMaxMinHoursOptions",value:function(E,T,j,W,te,se){var oe=j!==""?30*j:"",he=W!==""?30*W:"";if(j!==""&&W!==""){if((E=E<=0?360+E:E)<=oe&&he<=E)return T()}else if(W!==""){if(E<=0&&(E=360+E),(he=12<Number(W)?30*W-he:he)<=E&&se===void 0)return T();if(se!==void 0){if(se==="PM"&&this._isAmEnabled)return;if(se==="PM"&&this._isPmEnabled&&he<=E||se==="AM"&&this._isPmEnabled||se==="AM"&&this._isAmEnabled&&he<=E)return T()}}else{if(j===""||(E=E<=0?360+E:E)<=oe&&te===void 0)return T();if(te!==void 0){if(te==="AM"&&this._isPmEnabled)return;if(te==="AM"&&this._isAmEnabled&&E<=oe)return T();if(te==="PM"&&this._isPmEnabled){if(E<=oe)return T()}else if(te==="PM"&&this._isAmEnabled)return T()}}return T}},{key:"_handleKeyboard",value:function(){var E=this;ft.on(this._document,"keydown","",function(T){var j,se=E._options,W=se.maxHour,te=se.minHour,se=se.increment,oe=Be.findOne(".".concat(_n))!==null,he=Be.findOne(".".concat(Jn))!==null,st=Number(E._hand.style.transform.replace(/[^\d-]/g,"")),de=Be.find(".".concat(_n),E._modal),Se=Be.find(".".concat(Rn),E._modal),Pe=Be.find(".".concat(Jn),E._modal),Te=W!==""?Number(W):"",Fe=te!==""?Number(te):"",Me=E._makeHourDegrees(T.target,st,void 0).hour,lt=E._makeHourDegrees(T.target,st,void 0),Oe=lt.degrees,Ue=lt.addDegrees,lt=E._makeMinutesDegrees(st,void 0),Qe=lt.minute,lt=lt.degrees,vt=E._makeMinutesDegrees(st,void 0).addDegrees,st=E._makeInnerHoursDegrees(st,void 0).hour;T.keyCode===27&&(j=Be.findOne(".".concat(Ro),E._modal),ft.trigger(j,"click")),oe?(T.keyCode===38&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(lt+=vt,"deg)")}),Qe+=1,se&&(Qe+=4)==="0014"&&(Qe=5),E._minutes.textContent=E._setHourOrMinute(59<Qe?0:Qe),E._toggleClassActive(E.minutesArray,E._minutes,de),E._toggleBackgroundColorCircle("".concat(_n))),T.keyCode===40&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(lt-=vt,"deg)")}),se?Qe-=5:--Qe,Qe===-1?Qe=59:Qe===-5&&(Qe=55),E._minutes.textContent=E._setHourOrMinute(Qe),E._toggleClassActive(E.minutesArray,E._minutes,de),E._toggleBackgroundColorCircle("".concat(_n)))):(he&&(T.keyCode===39&&(E._isInner=!1,$e.addStyle(E._hand,{height:"calc(40% + 1px)"}),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Se),E._toggleClassActive(E.innerHours,E._hour,Pe)),T.keyCode===37&&(E._isInner=!0,$e.addStyle(E._hand,{height:"21.5%"}),E._hour.textContent=E._setHourOrMinute(24<=st||st==="00"?0:st),E._toggleClassActive(E.innerHours,E._hour,Pe),E._toggleClassActive(E.hoursArray,E._hour-1,Se))),T.keyCode===38&&(E._handlerMaxMinHoursOptions(Oe+30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Oe+Ue,"deg)")})},W,te),E._isInner?((st+=1)===24?st=0:st!==25&&st!=="001"||(st=13),E._hour.textContent=E._setHourOrMinute(st),E._toggleClassActive(E.innerHours,E._hour,Pe)):(Me+=1,W!==""&&te!==""?W<Me?Me=Te:Me<te&&(Me=Fe):W!==""&&te===""?W<Me&&(Me=Te):W===""&&te!==""&&12<=Me&&(Me=12),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Se))),T.keyCode===40&&(E._handlerMaxMinHoursOptions(Oe-30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Oe-Ue,"deg)")})},W,te),E._isInner?(--st===12?st=0:st===-1&&(st=23),E._hour.textContent=E._setHourOrMinute(st),E._toggleClassActive(E.innerHours,E._hour,Pe)):(--Me,W!==""&&te!==""?Te<Me?Me=Te:Me<Fe&&(Me=Fe):W===""&&te!==""?Me<=Fe&&(Me=Fe):W!==""&&te===""&&Me<=1&&(Me=1),E._hour.textContent=E._setHourOrMinute(Me===0?12:Me),E._toggleClassActive(E.hoursArray,E._hour,Se))))})}},{key:"_setActiveClassToTipsOnOpen",value:function(E){var T=this;if(!this._isInvalidTimeFormat){for(var j=arguments.length,W=new Array(1<j?j-1:0),te=1;te<j;te++)W[te-1]=arguments[te];[].concat(W).filter(function(oe){return oe==="PM"?$e.addClass(T._PM,Yt):oe==="AM"?$e.addClass(T._AM,Yt):($e.removeClass(T._AM,Yt),$e.removeClass(T._PM,Yt)),oe});var se=Be.find(".".concat(Rn),this._modal);this._addActiveClassToTip(se,E)}}},{key:"_setTipsAndTimesDependOnInputValue",value:function(E,T){var W=this._options,j=W.inline,W=W.format12;this._isInvalidTimeFormat?(this._hour.textContent="12",this._minutes.textContent="00",j||$e.addStyle(this._hand,{transform:"rotateZ(0deg)"}),W&&$e.addClass(this._PM,Yt)):(W=12<E?30*E-360:30*E,this._hour.textContent=E,this._minutes.textContent=T,j||($e.addStyle(this._hand,{transform:"rotateZ(".concat(W,"deg)")}),$e.addStyle(this._circle,{backgroundColor:"#1976d2"}),(12<Number(E)||E==="00")&&$e.addStyle(this._hand,{height:"21.5%"})))}},{key:"_listenToToggleKeydown",value:function(){var E=this;ft.on(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(T){T.keyCode===13&&(T.preventDefault(),ft.trigger(E.elementToggle,"click"))})}},{key:"_handleOpen",value:function(){var E=this;Qr(this._element,"click","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(T){var j;E._options!==null&&(j=$e.getDataAttribute(E.input,"toggle")!==null?200:0,setTimeout(function(){$e.addStyle(E.elementToggle,{pointerEvents:"none"}),E.elementToggle.blur(),st=En(E.input)[0]===""?["12","00","PM"]:En(E.input);var W,te,se,oe,he,de,Se,Pe,Te,Fe,Qe=E._options,Me=Qe.modalID,Oe=Qe.inline,Ue=Qe.format12,Qe=Qe.overflowHidden,st=Fi(st,3),lt=st[0],vt=st[1],st=st[2],mt=vr("div");(12<Number(lt)||lt==="00")&&(E._isInner=!0),E.input.blur(),T.target.blur(),mt.innerHTML=(W=E._options,te=W.okLabel,se=W.cancelLabel,Fe=W.headID,oe=W.footerID,he=W.bodyID,Te=W.pickerID,de=W.clearLabel,Se=W.showClearBtn,Pe=W.amLabel,W=W.pmLabel,"<div id='".concat(Te,`' class='timepicker-wrapper h-full flex items-center justify-center flex-col fixed'>
      <div class="flex items-center justify-center flex-col timepicker-container">
        <div class="flex flex-col timepicker-elements justify-around">
        <div id='`).concat(Fe,`' class='timepicker-head flex flex-row items-center justify-center'>
        <div class='timepicker-head-content flex w-100 justify-evenly'>
            <div class="timepicker-current-wrapper">
              <span class="relative h-100">
                <button type='button' class='timepicker-current timepicker-hour active ripple' tabindex="0">21</button>
              </span>
              <button type='button' class='timepicker-dot' disabled>:</button>
            <span class="relative h-100">
              <button type='button' class='timepicker-current timepicker-minute ripple' tabindex="0">21</button>
            </span>
            </div>
            <div class="flex flex-col justify-center timepicker-mode-wrapper">
              <button type='button' class="timepicker-hour-mode timepicker-am ripple" tabindex="0">`).concat(Pe,`</button>
              <button class="timepicker-hour-mode timepicker-pm ripple" tabindex="0">`).concat(W,`</button>
            </div>
        </div>
      </div>
      <div id='`).concat(he,`' class='timepicker-clock-wrapper flex justify-center flex-col items-center'>
        <div class='timepicker-clock'>
          <span class='timepicker-middle-dot absolute'></span>
          <div class='timepicker-hand-pointer absolute'>
            <div class='timepicker-circle absolute'></div>
          </div>
        </div>
      </div>
    </div>
    <div id='`).concat(oe,`' class='timepicker-footer'>
      <div class="w-full flex justify-between">
        `).concat(Se?`<button type='button' class='timepicker-button timepicker-clear ripple' tabindex="0">`.concat(de,"</button>"):"",`
        <button type='button' class='timepicker-button timepicker-cancel ripple' tabindex="0">`).concat(se,`</button>
        <button type='button' class='timepicker-button timepicker-submit ripple' tabindex="0">`).concat(te,`</button>
      </div>
    </div>
  </div>
</div>`)),$e.addClass(mt,mu),mt.setAttribute("role","dialog"),mt.setAttribute("tabIndex","-1"),mt.setAttribute("id",Me),Oe&&(E._popper=Z(E.input,mt,{placement:"bottom-start"})),E._document.body.appendChild(mt),E._getDomElements(),E._toggleBackdropAnimation(),E._setActiveClassToTipsOnOpen(lt,vt,st),E._appendTimes(),E._setActiveClassToTipsOnOpen(lt,vt,st),E._setTipsAndTimesDependOnInputValue(lt,vt),E.input.value===""&&(Te=Be.find(".".concat(Rn),E._modal),Ue&&$e.addClass(E._PM,Yt),E._hour.textContent="12",E._minutes.textContent="00",E._addActiveClassToTip(Te,Number(E._hour.textContent))),E._handleSwitchTimeMode(),E._handleOkButton(),E._handleClose(),Oe?(E._handleHoverInlineBtn(),E._handleDocumentClickInline(),E._handleInlineClicks()):(E._handleSwitchHourMinute(),E._handleClockClick(),E._handleKeyboard(),$e.addStyle(E._hour,{pointerEvents:"none"}),$e.addStyle(E._minutes,{pointerEvents:""})),Qe&&(Fe=window.innerWidth>document.documentElement.clientWidth,$e.addStyle(E._document.body,{overflow:"hidden"}),!wr()&&Fe&&$e.addStyle(E._document.body,{paddingRight:"15px"})),E._focusTrap=new Hs(E._wrapper,{event:"keydown",condition:function(Wt){return Wt.key==="Tab"}}),E._focusTrap.trap()},j))})}},{key:"_handleInlineClicks",value:function(){var E=this;Qr(this._modal,"click mousedown mouseup touchstart touchend contextmenu",".".concat(cu,", .").concat(lu),function(Se){function j(Oe){Oe=Me(Oe),E._hour.textContent=E._setHourOrMinute(Oe)}function W(Oe){Oe=Fe(Oe),E._minutes.textContent=E._setHourOrMinute(Oe)}function te(){j(Pe+=1)}function se(){W(Te+=1)}function oe(){j(--Pe)}function he(){W(--Te)}var de=Se.target,Se=Se.type,Pe=Number(E._hour.textContent),Te=Number(E._minutes.textContent),Fe=function(Oe){return 59<Oe?Oe=0:Oe<0&&(Oe=59),Oe},Me=function(Oe){return 12<Oe?Oe=1:Oe<1&&(Oe=12),Oe=12<Oe?1:Oe};$e.hasClass(de,cu)?$e.hasClass(de.parentNode,fu)?Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(te,100)):Se==="mouseup"||Se==="touchend"||Se==="contextmenu"?clearInterval(E._interval):te():Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(se,100)):Se==="mouseup"||Se==="touchend"||Se==="contextmenu"?clearInterval(E._interval):se():$e.hasClass(de,lu)&&($e.hasClass(de.parentNode,fu)?Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(oe,100)):Se==="mouseup"||Se==="touchend"?clearInterval(E._interval):oe():Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(he,100)):Se==="mouseup"||Se==="touchend"?clearInterval(E._interval):he())})}},{key:"_handleClose",value:function(){var E=this;ft.on(this._modal,"click",".".concat(Vo,", .").concat(Ro,", .").concat(au),function(oe){function j(){$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._toggleBackdropAnimation(!0),E._removeModal(),E._focusTrap.disable(),E._focusTrap=null,E.elementToggle?E.elementToggle.focus():E.input&&E.input.focus()}var W,te,se,oe=oe.target,he=E._options.closeModalOnBackdropClick;$e.hasClass(oe,au)?(E.input.value="",$e.removeClass(E.input,"active"),se=En(E.input)[0]===""?["12","00","PM"]:En(E.input),W=(se=Fi(se,3))[0],te=se[1],se=se[2],E._setTipsAndTimesDependOnInputValue("12","00"),E._setActiveClassToTipsOnOpen(W,te,se),E._hour.click()):($e.hasClass(oe,Ro)||$e.hasClass(oe,Vo)&&he)&&j()})}},{key:"showValueInput",value:function(){return this.input.value}},{key:"_handleOkButton",value:function(){var E=this;Qr(this._modal,"click",".".concat(su),function(){var j=E._options,T=j.readOnly,j=j.focusInputAfterApprove,W=E._document.querySelector(".".concat(Ri,".").concat(Yt)),te="".concat(E._hour.textContent,":").concat(E._minutes.textContent);$e.addClass(E.input,"active"),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._isInvalidTimeFormat&&$e.removeClass(E.input,"is-invalid"),!T&&j&&E.input.focus(),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E.input.value=W===null?"".concat(te," PM"):"".concat(te," ").concat(W.textContent),E._toggleBackdropAnimation(!0),E._removeModal(),ft.trigger(E.input,"input.mdb.timepicker")})}},{key:"_handleHoverInlineBtn",value:function(){var E=this;Qr(this._modal,"mouseover mouseleave",".".concat(Ic),function(W){var j=W.type,W=W.target,te=Be.find(".".concat(Ec),E._modal),se=Be.find(".".concat(Sc),E._modal);j==="mouseover"?$e.hasClass(W,Ni)?te.forEach(function(oe){return $e.addClass(oe,Yt)}):se.forEach(function(oe){return $e.addClass(oe,Yt)}):$e.hasClass(W,Ni)?te.forEach(function(oe){return $e.removeClass(oe,Yt)}):se.forEach(function(oe){return $e.removeClass(oe,Yt)})})}},{key:"_handleDocumentClickInline",value:function(){var E=this;ft.on(document,"click",function(T){T=T.target,!E._modal||E._modal.contains(T)||$e.hasClass(T,"timepicker-icon")||(clearInterval(E._interval),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._removeModal())})}},{key:"_handleSwitchHourMinute",value:function(){var E,T,j=this;E="click",T=jo,ft.on(document,E,T,function(W){W=W.target,$e.hasClass(W,"active")||(document.querySelectorAll(T).forEach(function(te){$e.hasClass(te,"active")&&$e.removeClass(te,"active")}),$e.addClass(W,"active"))}),ft.on(this._modal,"click",jo,function(){function W(Pe,Te){oe.forEach(function(Fe){return Fe.remove()}),se.forEach(function(Fe){return Fe.remove()}),$e.addClass(j._hand,Wo),setTimeout(function(){$e.removeClass(j._hand,Wo)},401),j._getAppendClock(Pe,".".concat(Ir),Te),setTimeout(function(){var Fe,Me;Fe=Be.find(".".concat(Rn),j._modal),Me=Be.find(".".concat(_n),j._modal),j._addActiveClassToTip(Fe,de),j._addActiveClassToTip(Me,Se)},401)}var te=Be.find(jo,j._modal),se=Be.find(".".concat(_n),j._modal),oe=Be.find(".".concat(Rn),j._modal),he=Be.find(".".concat(Jn),j._modal),de=Number(j._hour.textContent),Se=Number(j._minutes.textContent);te.forEach(function(Pe){$e.hasClass(Pe,Yt)&&($e.hasClass(Pe,du)?($e.addClass(j._hand,Wo),$e.addStyle(j._hand,{transform:"rotateZ(".concat(6*j._minutes.textContent,"deg)"),height:"calc(40% + 1px)"}),0<he.length&&he.forEach(function(Te){return Te.remove()}),W(j.minutesArray,"".concat(_n)),j._hour.style.pointerEvents="",j._minutes.style.pointerEvents="none"):$e.hasClass(Pe,Ni)&&($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent,"deg)")}),12<Number(j._hour.textContent)?($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent-360,"deg)"),height:"21.5%"}),12<Number(j._hour.textContent)&&$e.addStyle(j._hand,{height:"21.5%"})):$e.addStyle(j._hand,{height:"calc(40% + 1px)"}),0<he.length&&he.forEach(function(Te){return Te.remove()}),W(j.hoursArray,"".concat(Rn)),$e.addStyle(j._hour,{pointerEvents:"none"}),$e.addStyle(j._minutes,{pointerEvents:""})))})})}},{key:"_handleSwitchTimeMode",value:function(){ft.on(document,"click",".".concat(Ri),function(E){E=E.target,$e.hasClass(E,Yt)||(Be.find(".".concat(Ri)).forEach(function(T){$e.hasClass(T,Yt)&&$e.removeClass(T,Yt)}),$e.addClass(E,Yt))})}},{key:"_handleClockClick",value:function(){var E=this,T=Be.findOne(".".concat(uu));Qr(document,"mousedown mouseup mousemove mouseleave mouseover touchstart touchmove touchend","",function(j){wr()||j.preventDefault();var te=E._options,W=te.maxHour,te=te.minHour,se=j.type,oe=j.target,de=E._options,he=de.closeModalOnMinutesClick,de=de.switchHoursToMinutesOnClick,Se=Be.findOne(".".concat(_n),E._modal)!==null,Pe=Be.findOne(".".concat(Rn),E._modal)!==null,Te=Be.findOne(".".concat(Jn),E._modal)!==null,Fe=Be.find(".".concat(_n),E._modal),Oe=eu(j,T),Me=T.offsetWidth/2,Oe=Math.atan2(Oe.y-Me,Oe.x-Me),Ue=(wr()&&(Qe=eu(j,T,!0),Oe=Math.atan2(Qe.y-Me,Qe.x-Me)),null);if(se==="mousedown"||se==="mousemove"||se==="touchmove"||se==="touchstart"?se!=="mousedown"&&se!=="touchstart"&&se!=="touchmove"||($e.hasClass(oe,uu)||$e.hasClass(oe,Ir)||$e.hasClass(oe,_n)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Rn)||$e.hasClass(oe,Lo)||$e.hasClass(oe,Do)||$e.hasClass(oe,pu)||$e.hasClass(oe,zo)||$e.hasClass(oe,ni))&&(E._isMouseMove=!0,wr()&&j.touches&&(Qe=j.touches[0].clientX,Me=j.touches[0].clientY,Ue=document.elementFromPoint(Qe,Me))):se!=="mouseup"&&se!=="touchend"||(E._isMouseMove=!1,($e.hasClass(oe,Ir)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Rn)||$e.hasClass(oe,Lo)||$e.hasClass(oe,Do)||$e.hasClass(oe,pu)||$e.hasClass(oe,zo)||$e.hasClass(oe,ni))&&(Pe||Te)&&de&&ft.trigger(E._minutes,"click"),Se&&he&&(Qe=Be.findOne(".".concat(su),E._modal),ft.trigger(Qe,"click"))),Se){if(Me=Math.trunc(180*Oe/Math.PI)+90,se=E._makeMinutesDegrees(Me,void 0),de=se.degrees,he=se.minute,E._handlerMaxMinMinutesOptions(de,he)===void 0)return;var Qe=E._handlerMaxMinMinutesOptions(de,he),Se=Qe.degrees,Me=Qe.minute;if(E._isMouseMove){if($e.addStyle(E._hand,{transform:"rotateZ(".concat(Se,"deg)")}),Me===void 0)return;E._minutes.textContent=10<=Me||Me==="00"?Me:"0".concat(Me),E._toggleClassActive(E.minutesArray,E._minutes,Fe),E._toggleBackgroundColorCircle("".concat(_n)),E._objWithDataOnChange.degreesMinutes=Se,E._objWithDataOnChange.minutes=Me}}if(Pe||Te){var lt=Math.trunc(180*Oe/Math.PI)+90,lt=30*Math.round(lt/30);if($e.addStyle(E._circle,{backgroundColor:"#1976d2"}),E._makeHourDegrees(oe,lt,void 0)===void 0)return;E._objWithDataOnChange.degreesHours=lt,E._handlerMaxMinHoursOptions(lt,function(){var vt,st;return wr()&&lt?(vt=(st=E._makeHourDegrees(Ue,lt,void 0)).degrees,st=st.hour,E._handleMoveHand(Ue,st,vt)):(vt=(st=E._makeHourDegrees(oe,lt,void 0)).degrees,st=st.hour,E._handleMoveHand(oe,st,vt))},W,te)}j.stopPropagation()})}},{key:"_handleMoveHand",value:function(E,T,j){var W=Be.find(".".concat(Rn),this._modal),te=Be.find(".".concat(Jn),this._modal);this._isMouseMove&&($e.hasClass(E,ti)||$e.hasClass(E,Jn)||$e.hasClass(E,ni)?$e.addStyle(this._hand,{height:"21.5%"}):$e.addStyle(this._hand,{height:"calc(40% + 1px)"}),$e.addStyle(this._hand,{transform:"rotateZ(".concat(j,"deg)")}),this._hour.textContent=10<=T||T==="00"?T:"0".concat(T),this._toggleClassActive(this.hoursArray,this._hour,W),this._toggleClassActive(this.innerHours,this._hour,te),this._objWithDataOnChange.hour=10<=T||T==="00"?T:"0".concat(T))}},{key:"_handlerMaxMinMinutesOptions",value:function(E,T){var te=this._options,j=te.increment,W=te.maxTime,te=te.minTime,Se=En(W,!1)[1],Pe=En(te,!1)[1],se=En(W,!1)[0],oe=En(te,!1)[0],he=En(W,!1)[2],de=En(te,!1)[2],Se=Se!==""?6*Se:"",Pe=Pe!==""?6*Pe:"";if(he===void 0&&de===void 0){if(W!==""&&te!==""){if(E<=Se&&Pe<=E)return E}else if(te!==""&&Number(this._hour.textContent)<=Number(oe)){if(E<=Pe-6)return E}else if(W!==""&&Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}else if(te!==""){if(de==="PM"&&this._isAmEnabled)return;if(de==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Pe-6)return E}else if(de==="AM"&&this._isAmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Pe-6)return E}}else if(W!==""){if(he==="AM"&&this._isPmEnabled)return;if(he==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}else if(he==="AM"&&this._isAmEnabled&&Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}return(E=j?30*Math.round(E/30):E)<=0?E=360+E:360<=E&&(E=0),{degrees:E,minute:T}}},{key:"_removeModal",value:function(){var E=this;setTimeout(function(){E._modal.remove(),$e.addStyle(E._document.body,{overflow:""}),wr()||$e.addStyle(E._document.body,{paddingRight:""})},300),uc(this._document,"click keydown mousedown mouseup mousemove mouseleave mouseover touchmove touchend")}},{key:"_toggleBackdropAnimation",value:function(){0<arguments.length&&arguments[0]!==void 0&&arguments[0]?($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-out"),this._wrapper.style.animationDuration="300ms"):($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-in"),this._wrapper.style.animationDuration="300ms",this._options.inline||$e.addClass(this._clock,wc))}},{key:"_addActiveClassToTip",value:function(E,T){E.forEach(function(j){Number(j.textContent)===Number(T)&&$e.addClass(j,Yt)})}},{key:"_setHourOrMinute",value:function(E){return E<10?"0".concat(E):E}},{key:"_appendTimes",value:function(){this._getAppendClock(this.hoursArray,".".concat(Ir),"".concat(Rn))}},{key:"_getConfig",value:function(E){var T=$e.getDataAttributes(this._element);return E=Bo(Bo(Bo({},Pc),T),E),Ci(It,E,Ac),E}}])&&ou(P.prototype,N),B&&ou(P,B),Object.defineProperty(P,"prototype",{writable:!1}),A}(),Ve=Uo;function hu(A){return(hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}function gu(A,P){var N,B=Object.keys(A);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(A),P&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),B.push.apply(B,N)),B}function Jo(A){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?gu(Object(N),!0).forEach(function(B){var E,T;E=A,T=N[B=B],B in E?Object.defineProperty(E,B,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[B]=T}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(N)):gu(Object(N)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(N,B))})}return A}function yu(A,P){for(var N=0;N<P.length;N++){var B=P[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}ft.on(window,"DOMContentLoaded",function(){Be.find(".".concat(It)).forEach(function(A){var P=Uo.getInstance(A);P||new Uo(A)})});var On="stepper",Li="mdb.stepper",kr=".".concat(Li),Er="horizontal",Ln="vertical",xc={stepperType:"string",stepperLinear:"boolean",stepperNoEditable:"boolean",stepperActive:"string",stepperCompleted:"string",stepperInvalid:"string",stepperDisabled:"string",stepperVerticalBreakpoint:"number",stepperMobileBreakpoint:"number",stepperMobileBarBreakpoint:"number"},Oc={stepperType:Er,stepperLinear:!1,stepperNoEditable:!1,stepperActive:"",stepperCompleted:"",stepperInvalid:"",stepperDisabled:"",stepperVerticalBreakpoint:0,stepperMobileBreakpoint:0,stepperMobileBarBreakpoint:4},bu="mousedown".concat(kr),_u="keydown".concat(kr),Bc="keyup".concat(kr),vu="resize".concat(kr),$u="animationend",sr="".concat(On,"-step"),vn="".concat(On,"-head"),Bn="".concat(On,"-content"),Sr="".concat(On,"-active"),Fc="".concat(On,"-completed"),Nc="".concat(On,"-invalid"),Rc="".concat(On,"-disabled"),qo="".concat(On,"-").concat(Ln),Ho="".concat(On,"-content-hide"),Mu="".concat(On,"-").concat(Er),Go=function(){function A(E,T){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(T),this._elementHeight=0,this._steps=Be.find(".".concat(sr),this._element),this._currentView="",this._activeStepIndex=0,this._verticalStepperStyles=[],this._element&&(wn.setData(E,Li,this),this._init())}var P,N,B;return P=A,B=[{key:"NAME",get:function(){return On}},{key:"getInstance",value:function(E){return wn.getData(E,Li)}},{key:"getOrCreateInstance",value:function(E){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,hu(T)==="object"?T:null)}}],(N=[{key:"activeStep",get:function(){return this._steps[this._activeStepIndex]}},{key:"activeStepIndex",get:function(){return this._activeStepIndex}},{key:"dispose",value:function(){this._steps.forEach(function(E){ft.off(E,bu),ft.off(E,_u)}),ft.off(window,vu),wn.removeData(this._element,Li),this._element=null}},{key:"changeStep",value:function(E){this._toggleStep(E)}},{key:"nextStep",value:function(){this._toggleStep(this._activeStepIndex+1)}},{key:"previousStep",value:function(){this._toggleStep(this._activeStepIndex-1)}},{key:"_init",value:function(){var E=Be.findOne(".".concat(Sr),this._element);E?this._activeStepIndex=this._steps.indexOf(E):this._toggleStepClass(this._activeStepIndex,"add",Sr),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperActive),this._bindMouseDown(),this._bindKeysNavigation(),this._options.stepperType===Ln?this._toggleVertical():this._toggleHorizontal(),(this._options.stepperVerticalBreakpoint||this._options.stepperMobileBreakpoint)&&this._toggleStepperView(),this._bindResize()}},{key:"_getConfig",value:function(E){var T=$e.getDataAttributes(this._element);return E=Jo(Jo(Jo({},Oc),T),E),Ci(On,E,xc),E}},{key:"_bindMouseDown",value:function(){var E=this;this._steps.forEach(function(T){T=Be.findOne(".".concat(vn),T),ft.on(T,bu,function(j){var W=Be.parents(j.target,".".concat(sr))[0],W=E._steps.indexOf(W);j.preventDefault(),E._toggleStep(W)})})}},{key:"_bindResize",value:function(){var E=this;ft.on(window,vu,function(){E._currentView===Ln&&E._setSingleStepHeight(E.activeStep),E._currentView===Er&&E._setHeight(E.activeStep),(E._options.stepperVerticalBreakpoint||E._options.stepperMobileBreakpoint)&&E._toggleStepperView()})}},{key:"_toggleStepperView",value:function(){var E=this,T=this._options.stepperVerticalBreakpoint<window.innerWidth,j=this._options.stepperVerticalBreakpoint>window.innerWidth,W=this._options.stepperMobileBreakpoint>window.innerWidth;T&&this._currentView!==Er&&this._toggleHorizontal(),j&&!W&&this._currentView!==Ln&&(this._steps.forEach(function(te){te=Be.findOne(".".concat(Bn),te),E._resetStepperHeight(),E._showElement(te)}),this._toggleVertical())}},{key:"_toggleStep",value:function(E){this._activeStepIndex!==E&&(this._options.stepperNoEditable&&this._toggleDisabled(),this._showElement(Be.findOne(".".concat(Bn),this._steps[E])),this._toggleActive(E),E>this._activeStepIndex&&this._toggleCompleted(this._activeStepIndex),this._currentView===Er?this._animateHorizontalStep(E):(this._animateVerticalStep(E),this._setSingleStepHeight(this._steps[E])),this._toggleStepTabIndex(Be.findOne(".".concat(vn),this.activeStep),Be.findOne(".".concat(vn),this._steps[E])),this._activeStepIndex=E)}},{key:"_resetStepperHeight",value:function(){this._element.style.height=""}},{key:"_setStepsHeight",value:function(){var E=this;this._steps.forEach(function(j){var j=Be.findOne(".".concat(Bn),j),W=window.getComputedStyle(j),W=(E._verticalStepperStyles.push({paddingTop:parseFloat(W.paddingTop),paddingBottom:parseFloat(W.paddingBottom)}),j.scrollHeight);j.style.height="".concat(W,"px")})}},{key:"_setSingleStepHeight",value:function(j){var T=Be.findOne(".".concat(Bn),j),W=this.activeStep===j,j=this._steps.indexOf(j),W=W?(T.style.height="",T.scrollHeight):T.scrollHeight+this._verticalStepperStyles[j].paddingTop+this._verticalStepperStyles[j].paddingBottom;T.style.height="".concat(W,"px")}},{key:"_toggleVertical",value:function(){this._currentView=Ln,this._toggleStepperClass(qo),this._setStepsHeight(),this._hideInactiveSteps()}},{key:"_toggleHorizontal",value:function(){this._currentView=Er,this._toggleStepperClass(Mu),this._setHeight(this.activeStep),this._hideInactiveSteps()}},{key:"_toggleStepperClass",value:function(E){this._element.classList.remove(Mu,qo),this._element.classList.add(E),E!==qo&&this._steps.forEach(function(T){Be.findOne(".".concat(Bn),T).classList.remove(Ho)})}},{key:"_toggleStepClass",value:function(E,T,j){j&&this._steps[E].classList[T](j)}},{key:"_bindKeysNavigation",value:function(){var E=this;this._toggleStepTabIndex(!1,Be.findOne(".".concat(vn),this.activeStep)),this._steps.forEach(function(T){T=Be.findOne(".".concat(vn),T),ft.on(T,_u,function(j){var W=Be.parents(j.currentTarget,".".concat(sr))[0],te=Be.next(W,".".concat(sr))[0],se=Be.prev(W,".".concat(sr))[0],oe=Be.findOne(".".concat(vn),W),he=Be.findOne(".".concat(vn),E.activeStep),de=null,Se=null;te&&(de=Be.findOne(".".concat(vn),te)),se&&(Se=Be.findOne(".".concat(vn),se)),j.keyCode===37&&E._currentView!==Ln&&(Se?(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus()):de&&(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus())),j.keyCode===39&&E._currentView!==Ln&&(de?(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus()):Se&&(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus())),j.keyCode===40&&E._currentView===Ln&&(j.preventDefault(),de&&(E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus())),j.keyCode===38&&E._currentView===Ln&&(j.preventDefault(),Se&&(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus())),j.keyCode===36&&(te=Be.findOne(".".concat(vn),E._steps[0]),E._toggleStepTabIndex(oe,te),E._toggleOutlineStyles(oe,te),te.focus()),j.keyCode===35&&(se=E._steps[E._steps.length-1],de=Be.findOne(".".concat(vn),se),E._toggleStepTabIndex(oe,de),E._toggleOutlineStyles(oe,de),de.focus()),j.keyCode!==13&&j.keyCode!==32||(j.preventDefault(),E.changeStep(E._steps.indexOf(W))),j.keyCode===9&&(E._toggleStepTabIndex(oe,he),E._toggleOutlineStyles(oe,!1),he.focus())}),ft.on(T,Bc,function(j){var W=Be.parents(j.currentTarget,".".concat(sr))[0],W=Be.findOne(".".concat(vn),W),te=Be.findOne(".".concat(vn),E.activeStep);j.keyCode===9&&(E._toggleStepTabIndex(W,te),E._toggleOutlineStyles(!1,te),te.focus())})})}},{key:"_toggleStepTabIndex",value:function(E,T){E&&E.setAttribute("tabIndex",-1),T&&T.setAttribute("tabIndex",0)}},{key:"_toggleOutlineStyles",value:function(E,T){E&&(E.style.outline=""),T&&(T.style.outline="revert")}},{key:"_toggleDisabled",value:function(){this._toggleStepClass(this._activeStepIndex,"add",Rc),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperDisabled)}},{key:"_toggleActive",value:function(E){this._toggleStepClass(E,"add",Sr),this._toggleStepClass(this._activeStepIndex,"remove",Sr),this._toggleStepClass(E,"add",this._options.stepperActive),this._toggleStepClass(this._activeStepIndex,"remove",this._options.stepperActive)}},{key:"_toggleCompleted",value:function(E){this._toggleStepClass(E,"add",Fc),this._toggleStepClass(E,"remove",Nc),this._toggleStepClass(E,"add",this._options.stepperCompleted),this._toggleStepClass(E,"remove",this._options.stepperInvalid)}},{key:"_hideInactiveSteps",value:function(){var E=this;this._steps.forEach(function(T){T.classList.contains(Sr)||E._hideElement(Be.findOne(".".concat(Bn),T))})}},{key:"_setHeight",value:function(T){var W=Be.findOne(".".concat(Bn),T),te=getComputedStyle(W),T=Be.findOne(".".concat(vn),T),j=getComputedStyle(T),W=W.offsetHeight+parseFloat(te.marginTop)+parseFloat(te.marginBottom),te=T.offsetHeight+parseFloat(j.marginTop)+parseFloat(j.marginBottom);this._element.style.height="".concat(te+W,"px")}},{key:"_hideElement",value:function(E){Be.parents(E,".".concat(sr))[0].classList.contains(Sr)||this._currentView===Ln?E.classList.add(Ho):E.style.display="none"}},{key:"_showElement",value:function(E){this._currentView===Ln?E.classList.remove(Ho):E.style.display="block"}},{key:"_animateHorizontalStep",value:function(E){var T,j=this,W=E>this._activeStepIndex,te=Be.findOne(".".concat(Bn),this._steps[E]),se=Be.findOne(".".concat(Bn),this.activeStep);this._steps.forEach(function(oe,he){oe=Be.findOne(".".concat(Bn),oe),j._clearStepAnimation(oe),he!==E&&he!==j._activeStepIndex&&j._hideElement(oe)}),W=W?(T="slide-out-left","slide-in-right"):(T="slide-out-right","slide-in-left"),se.classList.add(T,"animation","fast"),te.classList.add(W,"animation","fast"),this._setHeight(this._steps[E]),ft.one(se,$u,function(oe){j._clearStepAnimation(oe.target),j._hideElement(oe.target)}),ft.one(te,$u,function(oe){j._clearStepAnimation(oe.target)})}},{key:"_animateVerticalStep",value:function(T){var T=Be.findOne(".".concat(Bn),this._steps[T]),j=Be.findOne(".".concat(Bn),this.activeStep);this._hideElement(j),this._showElement(T)}},{key:"_clearStepAnimation",value:function(E){E.classList.remove("slide-out-left","slide-in-right","slide-out-right","slide-in-left","animation","fast")}}])&&yu(P.prototype,N),B&&yu(P,B),Object.defineProperty(P,"prototype",{writable:!1}),A}(),kr=(Be.find('[data-mdb-stepper="stepper"]').forEach(function(A){return Go.getInstance(A)||new Go(A)}),Go);window.Alert=Gt,window.Button=Ze,window.Dropdown=Lr,window.Carousel=yi,window.Collapse=pi,window.Offcanvas=on,window.Modal=br,window.Popover=Jt,window.ScrollSpy=wt,window.Tab=Un,window.Toast=xn,window.Tooltip=vi,window.Ripple=dc,window.Datepicker=Cr,window.Timepicker=Ve,window.Stepper=kr}]);const openplayer_min="";function binding(o){let u=0,f;return()=>{if(u===2)return f;if(u===1)throw new Error("Binding demanded before initialized");return u=1,f=o(),u=2,f}}function fail$3(){throw new Error("Failed pattern match")}const $$const=o=>u=>o,applyFlipped=o=>u=>u(o),semigroupoidFn={compose:o=>u=>f=>o(u(f))},unit=void 0,$Proxy=()=>({tag:"Proxy"}),$$Proxy=$Proxy(),arrayMap=function(o){return function(u){for(var f=u.length,d=new Array(f),m=0;m<f;m++)d[m]=o(u[m]);return d}},functorArray={map:arrayMap},identity$v=o=>o,arrayBind=function(o){return function(u){for(var f=[],d=0,m=o.length;d<m;d++)Array.prototype.push.apply(f,u(o[d]));return f}},identity$u=o=>o,unsafeHas=function(o){return function(u){return{}.hasOwnProperty.call(u,o)}},unsafeGet=function(o){return function(u){return u[o]}},unsafeSet=function(o){return function(u){return function(f){var d={};for(var m in f)({}).hasOwnProperty.call(f,m)&&(d[m]=f[m]);return d[o]=u,d}}},unsafeDelete=function(o){return function(u){var f={};for(var d in u)d!==o&&{}.hasOwnProperty.call(u,d)&&(f[d]=u[d]);return f}},showIntImpl=function(o){return o.toString()},showNumberImpl=function(o){var u=o.toString();return isNaN(u+".0")?u:u+".0"},showStringImpl=function(o){var u=o.length;return'"'+o.replace(/[\0-\x1F\x7F"\\]/g,function(f,d){switch(f){case'"':case"\\":return"\\"+f;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var m=d+1,h=m<u&&o[m]>="0"&&o[m]<="9"?"\\&":"";return"\\"+f.charCodeAt(0).toString(10)+h})+'"'},showArrayImpl=function(o){return function(u){for(var f=[],d=0,m=u.length;d<m;d++)f[d]=o(u[d]);return"["+f.join(",")+"]"}},cons=function(o){return function(u){return[o].concat(u)}},intercalate$2=function(o){return function(u){return u.join(o)}},$NoArguments=()=>({tag:"NoArguments"}),$Product=(o,u)=>({tag:"Product",_1:o,_2:u}),$Sum=(o,u)=>({tag:o,_1:u}),Inl=o=>$Sum("Inl",o),Inr=o=>$Sum("Inr",o),Product=o=>u=>$Product(o,u),NoArguments=$NoArguments(),Constructor=o=>o,Argument=o=>o,$Ordering=o=>({tag:o}),LT=$Ordering("LT"),GT=$Ordering("GT"),EQ=$Ordering("EQ"),$Maybe=(o,u)=>({tag:o,_1:u}),Nothing=$Maybe("Nothing"),Just=o=>$Maybe("Just",o),maybe=o=>u=>f=>{if(f.tag==="Nothing")return o;if(f.tag==="Just")return u(f._1);fail$3()},isNothing=o=>{if(o.tag==="Nothing")return!0;if(o.tag==="Just")return!1;fail$3()},functorMaybe={map:o=>u=>u.tag==="Just"?$Maybe("Just",o(u._1)):Nothing},applyMaybe={apply:o=>u=>{if(o.tag==="Just")return u.tag==="Just"?$Maybe("Just",o._1(u._1)):Nothing;if(o.tag==="Nothing")return Nothing;fail$3()},Functor0:()=>functorMaybe},applicativeMaybe={pure:Just,Apply0:()=>applyMaybe},altMaybe={alt:o=>u=>o.tag==="Nothing"?u:o,Functor0:()=>functorMaybe},plusMaybe={empty:Nothing,Alt0:()=>altMaybe},$Either=(o,u)=>({tag:o,_1:u}),Left=o=>$Either("Left",o),Right=o=>$Either("Right",o),functorEither={map:o=>u=>{if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o(u._1));fail$3()}},applyEither$1={apply:o=>u=>{if(o.tag==="Left")return $Either("Left",o._1);if(o.tag==="Right"){if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o._1(u._1));fail$3()}fail$3()},Functor0:()=>functorEither},bindEither={bind:o=>{if(o.tag==="Left")return u=>$Either("Left",o._1);if(o.tag==="Right")return u=>u(o._1);fail$3()},Apply0:()=>applyEither$1},Identity=o=>o,functorIdentity={map:o=>u=>o(u)},applyIdentity={apply:o=>u=>o(u),Functor0:()=>functorIdentity},bindIdentity={bind:o=>u=>u(o),Apply0:()=>applyIdentity},applicativeIdentity={pure:Identity,Apply0:()=>applyIdentity},monadIdentity={Applicative0:()=>applicativeIdentity,Bind1:()=>bindIdentity},pureE=function(o){return function(){return o}},bindE=function(o){return function(u){return function(){return u(o())()}}},foreachE=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},monadEffect={Applicative0:()=>applicativeEffect,Bind1:()=>bindEffect},bindEffect={bind:bindE,Apply0:()=>applyEffect},applyEffect={apply:o=>u=>()=>{const f=o(),d=u();return applicativeEffect.pure(f(d))()},Functor0:()=>functorEffect},applicativeEffect={pure:pureE,Apply0:()=>applyEffect},functorEffect={map:o=>u=>()=>{const f=u();return o(f)}},_new=function(o){return function(){return{value:o}}},$Tuple=(o,u)=>({tag:"Tuple",_1:o,_2:u}),Tuple=o=>u=>$Tuple(o,u),snd=o=>o._2,functorTuple={map:o=>u=>$Tuple(u._1,o(u._2))},fst=o=>o._1,ordTuple$1=o=>{const u=o.Eq0();return f=>{const d=f.Eq0(),m={eq:h=>b=>u.eq(h._1)(b._1)&&d.eq(h._2)(b._2)};return{compare:h=>b=>{const y=o.compare(h._1)(b._1);return y.tag==="LT"?LT:y.tag==="GT"?GT:f.compare(h._2)(b._2)},Eq0:()=>m}}},curry=o=>u=>f=>o($Tuple(u,f)),withExceptT=o=>u=>f=>o.map(d=>{if(d.tag==="Right")return $Either("Right",d._1);if(d.tag==="Left")return $Either("Left",u(d._1));fail$3()})(f),monadExceptT=o=>({Applicative0:()=>applicativeExceptT$3(o),Bind1:()=>bindExceptT$1(o)}),bindExceptT$1=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return{bind:d=>m=>u(d)(h=>{if(h.tag==="Left")return f($Either("Left",h._1));if(h.tag==="Right")return m(h._1);fail$3()}),Apply0:()=>applyExceptT(o)}},applyExceptT=o=>{const u=o.Bind1().Apply0().Functor0(),f={map:d=>u.map(functorEither.map(d))};return{apply:(()=>{const d=monadExceptT(o),m=d.Bind1().bind,h=d.Applicative0().pure;return b=>y=>m(b)(_=>m(y)(w=>h(_(w))))})(),Functor0:()=>f}},applicativeExceptT$3=o=>({pure:(()=>{const u=o.Applicative0().pure;return f=>u($Either("Right",f))})(),Apply0:()=>applyExceptT(o)}),monadThrowExceptT=o=>{const u=monadExceptT(o);return{throwError:(()=>{const f=o.Applicative0().pure;return d=>f($Either("Left",d))})(),Monad0:()=>u}},altExceptT=o=>u=>{const f=u.Bind1(),d=u.Applicative0().pure,m=f.Apply0().Functor0(),h={map:b=>m.map(functorEither.map(b))};return{alt:b=>y=>f.bind(b)(_=>{if(_.tag==="Right")return d($Either("Right",_._1));if(_.tag==="Left")return f.bind(y)(w=>{if(w.tag==="Right")return d($Either("Right",w._1));if(w.tag==="Left")return d($Either("Left",o.append(_._1)(w._1)));fail$3()});fail$3()}),Functor0:()=>h}},$NonEmpty=(o,u)=>({tag:"NonEmpty",_1:o,_2:u}),functorNonEmpty=o=>({map:u=>f=>$NonEmpty(u(f._1),o.map(u)(f._2))}),$List=(o,u,f)=>({tag:o,_1:u,_2:f}),identity$t=o=>o,Nil=$List("Nil"),Cons=o=>u=>$List("Cons",o,u),listMap=o=>(f=>d=>{let m=f,h=d,b=!0,y;for(;b;){const _=m,w=h,M=($,g)=>(k=>C=>{let S=k,I=C,O=!0,x;for(;O;){const F=S,R=I;if(F.tag==="Cons"){if(F._1.tag==="Cons"){if(F._1._2.tag==="Cons"){if(F._1._2._2.tag==="Cons"){S=F._2,I=$List("Cons",o(F._1._1),$List("Cons",o(F._1._2._1),$List("Cons",o(F._1._2._2._1),R)));continue}O=!1,x=R;continue}O=!1,x=R;continue}O=!1,x=R;continue}O=!1,x=R}return x})($)((()=>g.tag==="Cons"?g._2.tag==="Cons"?g._2._2.tag==="Nil"?$List("Cons",o(g._1),$List("Cons",o(g._2._1),Nil)):Nil:g._2.tag==="Nil"?$List("Cons",o(g._1),Nil):Nil:Nil)());if(w.tag==="Cons"){if(w._2.tag==="Cons"){if(w._2._2.tag==="Cons"){m=$List("Cons",w,_),h=w._2._2._2;continue}b=!1,y=M(_,w);continue}b=!1,y=M(_,w);continue}b=!1,y=M(_,w)}return y})(Nil),functorList={map:listMap},functorNonEmptyList=functorNonEmpty(functorList),foldableList={foldr:o=>u=>{const f=foldableList.foldl(m=>h=>o(h)(m))(u),d=(()=>(h=>b=>{let y=h,_=b,w=!0,M;for(;w;){const $=y,g=_;if(g.tag==="Nil"){w=!1,M=$;continue}if(g.tag==="Cons"){y=$List("Cons",g._1,$),_=g._2;continue}fail$3()}return M})(Nil))();return m=>f(d(m))},foldl:o=>f=>d=>{let m=f,h=d,b=!0,y;for(;b;){const _=m,w=h;if(w.tag==="Nil"){b=!1,y=_;continue}if(w.tag==="Cons"){m=o(_)(w._1),h=w._2;continue}fail$3()}return y},foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableList.foldl(d=>{const m=u(d);return h=>m(f(h))})(o.mempty)}},foldableWithIndexList={foldrWithIndex:o=>u=>f=>{const d=(()=>(b=>y=>{let _=b,w=y,M=!0,$;for(;M;){const g=_,v=w;if(v.tag==="Nil"){M=!1,$=g;continue}if(v.tag==="Cons"){_=$Tuple(g._1+1|0,$List("Cons",v._1,g._2)),w=v._2;continue}fail$3()}return $})($Tuple(0,Nil))(f))();return(h=>b=>{let y=h,_=b,w=!0,M;for(;w;){const $=y,g=_;if(g.tag==="Nil"){w=!1,M=$;continue}if(g.tag==="Cons"){y=$Tuple($._1-1|0,o($._1-1|0)(g._1)($._2)),_=g._2;continue}fail$3()}return M})($Tuple(d._1,u))(d._2)._2},foldlWithIndex:o=>u=>{const f=(()=>(m=>h=>{let b=m,y=h,_=!0,w;for(;_;){const M=b,$=y;if($.tag==="Nil"){_=!1,w=M;continue}if($.tag==="Cons"){b=$Tuple(M._1+1|0,o(M._1)(M._2)($._1)),y=$._2;continue}fail$3()}return w})($Tuple(0,u)))();return d=>f(d)._2},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexList.foldlWithIndex(d=>m=>{const h=u(m),b=f(d);return y=>h(b(y))})(o.mempty)},Foldable0:()=>foldableList},semigroupNonEmptyList={append:o=>u=>$NonEmpty(o._1,foldableList.foldr(Cons)($List("Cons",u._1,u._2))(o._2))},showList=o=>({show:u=>u.tag==="Nil"?"Nil":"("+((d=>m=>{let h=d,b=m,y=!0,_;for(;y;){const w=h,M=b;if(M.tag==="Nil"){y=!1,_=w;continue}if(M.tag==="Cons"){h=(()=>w.init?{init:!1,acc:M._1}:{init:!1,acc:w.acc+(" : "+M._1)})(),b=M._2;continue}fail$3()}return _})({init:!0,acc:""})(listMap(o.show)(u)).acc+" : Nil)")}),showNonEmptyList$1=o=>{const u=showList(o);return{show:f=>"(NonEmptyList (NonEmpty "+(o.show(f._1)+(" "+(u.show(f._2)+")")))+")"}},traversableList={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map,d=u.Functor0().map;return m=>{const h=f((()=>(_=>w=>{let M=_,$=w,g=!0,v;for(;g;){const k=M,C=$;if(C.tag==="Nil"){g=!1,v=k;continue}if(C.tag==="Cons"){M=$List("Cons",C._1,k),$=C._2;continue}fail$3()}return v})(Nil))()),b=(()=>(_=>w=>{let M=_,$=w,g=!0,v;for(;g;){const k=M,C=$;if(C.tag==="Nil"){g=!1,v=k;continue}if(C.tag==="Cons"){M=u.apply(d(S=>I=>$List("Cons",I,S))(k))(m(C._1)),$=C._2;continue}fail$3()}return v})(o.pure(Nil)))();return y=>h(b(y))}},sequence:o=>traversableList.traverse(o)(identity$t),Functor0:()=>functorList,Foldable1:()=>foldableList};function showErrorImpl(o){return o.stack||o.toString()}function error$1(o){return new Error(o)}function message(o){return o.message}function throwException(o){return function(){throw o}}function catchException(o){return function(u){return function(){try{return u()}catch(f){return f instanceof Error||Object.prototype.toString.call(f)==="[object Error]"?o(f)():o(new Error(f.toString()))()}}}}const $$try$2=o=>{const u=o.MonadThrow0().Monad0(),f=u.Bind1().Apply0().Functor0().map,d=u.Applicative0().pure;return m=>o.catchError(f(Right)(m))(h=>d($Either("Left",h)))},foldrArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=m-1;h>=0;h--)d=o(f[h])(d);return d}}},foldlArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=0;h<m;h++)d=o(d)(f[h]);return d}}},identity$s=o=>o,traverse_$9=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldr(h=>{const b=m(h);return y=>u.apply(f(_=>identity$v)(b))(y)})(o.pure(unit))},for_$9=o=>{const u=traverse_$9(o);return f=>{const d=u(f);return m=>h=>d(h)(m)}},indexl=o=>u=>{const f=o.foldl(d=>m=>d.elem.tag==="Just"?d:d.pos===u?{elem:$Maybe("Just",m),pos:d.pos}:{pos:d.pos+1|0,elem:d.elem})({elem:Nothing,pos:0});return d=>f(d).elem},foldableTuple={foldr:o=>u=>f=>o(f._2)(u),foldl:o=>u=>f=>o(u)(f._2),foldMap:o=>u=>f=>u(f._2)},foldableMaybe={foldr:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(f._1)(u);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(u)(f._1);fail$3()},foldMap:o=>u=>f=>{if(f.tag==="Nothing")return o.mempty;if(f.tag==="Just")return u(f._1);fail$3()}},foldableEither={foldr:o=>u=>f=>{if(f.tag==="Left")return u;if(f.tag==="Right")return o(f._1)(u);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Left")return u;if(f.tag==="Right")return o(u)(f._1);fail$3()},foldMap:o=>u=>f=>{if(f.tag==="Left")return o.mempty;if(f.tag==="Right")return u(f._1);fail$3()}},foldableArray={foldr:foldrArray,foldl:foldlArray,foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableArray.foldr(d=>m=>u(f(d))(m))(o.mempty)}},parTraverse_$1=o=>{const u=traverse_$9(o.Applicative1());return f=>{const d=u(f);return m=>{const h=d(b=>o.parallel(m(b)));return b=>o.sequential(h(b))}}},unsafePerformEffect=function(o){return o()},_crashWith=function(o){throw new Error(o)},unsafeCoerce=function(o){return o};var Aff=function(){var o={},u="Pure",f="Throw",d="Catch",m="Sync",h="Async",b="Bind",y="Bracket",_="Fork",w="Sequential",M="Map",$="Apply",g="Alt",v="Cons",k="Resume",C="Release",S="Finalizer",I="Finalized",O="Forked";function x(ue,ge,ye,_e){this.tag=ue,this._1=ge,this._2=ye,this._3=_e}function F(ue){var ge=function(ye,_e,Ce){return new x(ue,ye,_e,Ce)};return ge.tag=ue,ge}function R(ue){return new x(u,void 0)}function L(ue){try{ue()}catch(ge){setTimeout(function(){throw ge},0)}}function D(ue,ge,ye){try{return ge(ye())}catch(_e){return ue(_e)}}function J(ue,ge,ye){try{return ge(ye)()}catch(_e){return ye(ue(_e))(),R}}var K=function(){var ue=1024,ge=0,ye=0,_e=new Array(ue),Ce=!1;function be(){var Ne;for(Ce=!0;ge!==0;)ge--,Ne=_e[ye],_e[ye]=void 0,ye=(ye+1)%ue,Ne();Ce=!1}return{isDraining:function(){return Ce},enqueue:function(Ne){var fe;ge===ue&&(fe=Ce,be(),Ce=fe),_e[(ye+ge)%ue]=Ne,ge++,Ce||be()}}}();function ee(ue){var ge={},ye=0,_e=0;return{register:function(Ce){var be=ye++;Ce.onComplete({rethrow:!0,handler:function(Ne){return function(){_e--,delete ge[be]}}})(),ge[be]=Ce,_e++},isEmpty:function(){return _e===0},killAll:function(Ce,be){return function(){if(_e===0)return be();var Ne=0,fe={};function ve(Ie){fe[Ie]=ge[Ie].kill(Ce,function(We){return function(){delete fe[Ie],Ne--,ue.isLeft(We)&&ue.fromLeft(We)&&setTimeout(function(){throw ue.fromLeft(We)},0),Ne===0&&be()}})()}for(var Le in ge)ge.hasOwnProperty(Le)&&(Ne++,ve(Le));return ge={},ye=0,_e=0,function(Ie){return new x(m,function(){for(var We in fe)fe.hasOwnProperty(We)&&fe[We]()})}}}}}var H=0,q=1,X=2,ie=3,Q=4,G=5,ne=6;function re(ue,ge,ye){var _e=0,Ce=H,be=ye,Ne=null,fe=null,ve=null,Le=null,Ie=null,We=0,nt=0,it=null,De=!0;function ct(je){for(var Je,Ge,Ze;;)switch(Je=null,Ge=null,Ze=null,Ce){case X:Ce=q;try{be=ve(be),Le===null?ve=null:(ve=Le._1,Le=Le._2)}catch(et){Ce=G,Ne=ue.left(et),be=null}break;case ie:ue.isLeft(be)?(Ce=G,Ne=be,be=null):ve===null?Ce=G:(Ce=X,be=ue.fromRight(be));break;case q:switch(be.tag){case b:ve&&(Le=new x(v,ve,Le)),ve=be._2,Ce=q,be=be._1;break;case u:ve===null?(Ce=G,be=ue.right(be._1)):(Ce=X,be=be._1);break;case m:Ce=ie,be=D(ue.left,ue.right,be._1);break;case h:Ce=Q,be=J(ue.left,be._1,function(et){return function(){_e===je&&(_e++,K.enqueue(function(){_e===je+1&&(Ce=ie,be=et,ct(_e))}))}});return;case f:Ce=G,Ne=ue.left(be._1),be=null;break;case d:ve===null?Ie=new x(v,be,Ie,fe):Ie=new x(v,be,new x(v,new x(k,ve,Le),Ie,fe),fe),ve=null,Le=null,Ce=q,be=be._1;break;case y:We++,ve===null?Ie=new x(v,be,Ie,fe):Ie=new x(v,be,new x(v,new x(k,ve,Le),Ie,fe),fe),ve=null,Le=null,Ce=q,be=be._1;break;case _:Ce=ie,Je=re(ue,ge,be._2),ge&&ge.register(Je),be._1&&Je.run(),be=ue.right(Je);break;case w:Ce=q,be=le(ue,ge,be._1);break}break;case G:if(ve=null,Le=null,Ie===null)Ce=ne,be=fe||Ne||be;else switch(Je=Ie._3,Ze=Ie._1,Ie=Ie._2,Ze.tag){case d:fe&&fe!==Je&&We===0?Ce=G:Ne&&(Ce=q,be=Ze._2(ue.fromLeft(Ne)),Ne=null);break;case k:fe&&fe!==Je&&We===0||Ne?Ce=G:(ve=Ze._1,Le=Ze._2,Ce=X,be=ue.fromRight(be));break;case y:We--,Ne===null&&(Ge=ue.fromRight(be),Ie=new x(v,new x(C,Ze._2,Ge),Ie,Je),(fe===Je||We>0)&&(Ce=q,be=Ze._3(Ge)));break;case C:Ie=new x(v,new x(I,be,Ne),Ie,fe),Ce=q,fe&&fe!==Je&&We===0?be=Ze._1.killed(ue.fromLeft(fe))(Ze._2):Ne?be=Ze._1.failed(ue.fromLeft(Ne))(Ze._2):be=Ze._1.completed(ue.fromRight(be))(Ze._2),Ne=null,We++;break;case S:We++,Ie=new x(v,new x(I,be,Ne),Ie,fe),Ce=q,be=Ze._1;break;case I:We--,Ce=G,be=Ze._1,Ne=Ze._2;break}break;case ne:for(var rt in it)it.hasOwnProperty(rt)&&(De=De&&it[rt].rethrow,L(it[rt].handler(be)));it=null,fe&&Ne?setTimeout(function(){throw ue.fromLeft(Ne)},0):ue.isLeft(be)&&De&&setTimeout(function(){if(De)throw ue.fromLeft(be)},0);return;case H:Ce=q;break;case Q:return}}function Ae(je){return function(){if(Ce===ne)return De=De&&je.rethrow,je.handler(be)(),function(){};var Je=nt++;return it=it||{},it[Je]=je,function(){it!==null&&delete it[Je]}}}function Xe(je,Je){return function(){if(Ce===ne)return Je(ue.right(void 0))(),function(){};var Ge=Ae({rethrow:!1,handler:function(){return Je(ue.right(void 0))}})();switch(Ce){case H:fe=ue.left(je),Ce=ne,be=fe,ct(_e);break;case Q:fe===null&&(fe=ue.left(je)),We===0&&(Ce===Q&&(Ie=new x(v,new x(S,be(je)),Ie,fe)),Ce=G,be=null,Ne=null,ct(++_e));break;default:fe===null&&(fe=ue.left(je)),We===0&&(Ce=G,be=null,Ne=null)}return Ge}}function ot(je){return function(){var Je=Ae({rethrow:!1,handler:je})();return Ce===H&&ct(_e),Je}}return{kill:Xe,join:ot,onComplete:Ae,isSuspended:function(){return Ce===H},run:function(){Ce===H&&(K.isDraining()?ct(_e):K.enqueue(function(){ct(_e)}))}}}function Y(ue,ge,ye,_e){var Ce=0,be={},Ne=0,fe={},ve=new Error("[ParAff] Early exit"),Le=null,Ie=o;function We(Ae,Xe,ot){var je=Xe,Je=null,Ge=null,Ze=0,rt={},et,at;e:for(;;)switch(et=null,je.tag){case O:if(je._3===o&&(et=be[je._1],rt[Ze++]=et.kill(Ae,function(bt){return function(){Ze--,Ze===0&&ot(bt)()}})),Je===null)break e;je=Je._2,Ge===null?Je=null:(Je=Ge._1,Ge=Ge._2);break;case M:je=je._2;break;case $:case g:Je&&(Ge=new x(v,Je,Ge)),Je=je,je=je._1;break}if(Ze===0)ot(ue.right(void 0))();else for(at=0,et=Ze;at<et;at++)rt[at]=rt[at]();return rt}function nt(Ae,Xe,ot){var je,Je,Ge,Ze,rt,et;for(ue.isLeft(Ae)?(je=Ae,Je=null):(Je=Ae,je=null);;){if(Ge=null,Ze=null,rt=null,et=null,Le!==null)return;if(Xe===null){_e(je||Je)();return}if(Xe._3!==o)return;switch(Xe.tag){case M:je===null?(Xe._3=ue.right(Xe._1(ue.fromRight(Je))),Je=Xe._3):Xe._3=je;break;case $:if(Ge=Xe._1._3,Ze=Xe._2._3,je){if(Xe._3=je,rt=!0,et=Ne++,fe[et]=We(ve,je===Ge?Xe._2:Xe._1,function(){return function(){delete fe[et],rt?rt=!1:ot===null?nt(je,null,null):nt(je,ot._1,ot._2)}}),rt){rt=!1;return}}else{if(Ge===o||Ze===o)return;Je=ue.right(ue.fromRight(Ge)(ue.fromRight(Ze))),Xe._3=Je}break;case g:if(Ge=Xe._1._3,Ze=Xe._2._3,Ge===o&&ue.isLeft(Ze)||Ze===o&&ue.isLeft(Ge))return;if(Ge!==o&&ue.isLeft(Ge)&&Ze!==o&&ue.isLeft(Ze))je=Je===Ge?Ze:Ge,Je=null,Xe._3=je;else if(Xe._3=Je,rt=!0,et=Ne++,fe[et]=We(ve,Je===Ge?Xe._2:Xe._1,function(){return function(){delete fe[et],rt?rt=!1:ot===null?nt(Je,null,null):nt(Je,ot._1,ot._2)}}),rt){rt=!1;return}break}ot===null?Xe=null:(Xe=ot._1,ot=ot._2)}}function it(Ae){return function(Xe){return function(){delete be[Ae._1],Ae._3=Xe,nt(Xe,Ae._2._1,Ae._2._2)}}}function De(){var Ae=q,Xe=ye,ot=null,je=null,Je,Ge;e:for(;;)switch(Je=null,Ge=null,Ae){case q:switch(Xe.tag){case M:ot&&(je=new x(v,ot,je)),ot=new x(M,Xe._1,o,o),Xe=Xe._2;break;case $:ot&&(je=new x(v,ot,je)),ot=new x($,o,Xe._2,o),Xe=Xe._1;break;case g:ot&&(je=new x(v,ot,je)),ot=new x(g,o,Xe._2,o),Xe=Xe._1;break;default:Ge=Ce++,Ae=G,Je=Xe,Xe=new x(O,Ge,new x(v,ot,je),o),Je=re(ue,ge,Je),Je.onComplete({rethrow:!1,handler:it(Xe)})(),be[Ge]=Je,ge&&ge.register(Je)}break;case G:if(ot===null)break e;ot._1===o?(ot._1=Xe,Ae=q,Xe=ot._2,ot._2=o):(ot._2=Xe,Xe=ot,je===null?ot=null:(ot=je._1,je=je._2))}for(Ie=Xe,Ge=0;Ge<Ce;Ge++)be[Ge].run()}function ct(Ae,Xe){Le=ue.left(Ae);var ot;for(var je in fe)if(fe.hasOwnProperty(je)){ot=fe[je];for(je in ot)ot.hasOwnProperty(je)&&ot[je]()}fe=null;var Je=We(Ae,Ie,Xe);return function(Ge){return new x(h,function(Ze){return function(){for(var rt in Je)Je.hasOwnProperty(rt)&&Je[rt]();return R}})}}return De(),function(Ae){return new x(h,function(Xe){return function(){return ct(Ae,Xe)}})}}function le(ue,ge,ye){return new x(h,function(_e){return function(){return Y(ue,ge,ye,_e)}})}return x.EMPTY=o,x.Pure=F(u),x.Throw=F(f),x.Catch=F(d),x.Sync=F(m),x.Async=F(h),x.Bind=F(b),x.Bracket=F(y),x.Fork=F(_),x.Seq=F(w),x.ParMap=F(M),x.ParApply=F($),x.ParAlt=F(g),x.Fiber=re,x.Supervisor=ee,x.Scheduler=K,x.nonCanceler=R,x}();const _pure=Aff.Pure,_throwError=Aff.Throw;function _catchError(o){return function(u){return Aff.Catch(o,u)}}function _map(o){return function(u){return u.tag===Aff.Pure.tag?Aff.Pure(o(u._1)):Aff.Bind(u,function(f){return Aff.Pure(o(f))})}}function _bind(o){return function(u){return Aff.Bind(o,u)}}function _fork(o){return function(u){return Aff.Fork(o,u)}}const _liftEffect=Aff.Sync;function _parAffMap(o){return function(u){return Aff.ParMap(o,u)}}function _parAffApply(o){return function(u){return Aff.ParApply(o,u)}}const makeAff=Aff.Async;function _makeFiber(o,u){return function(){return Aff.Fiber(o,null,u)}}const _delay=function(){function o(f,d){return f===0&&typeof setImmediate<"u"?setImmediate(d):setTimeout(d,f)}function u(f,d){return f===0&&typeof clearImmediate<"u"?clearImmediate(d):clearTimeout(d)}return function(f,d){return Aff.Async(function(m){return function(){var h=o(d,m(f()));return function(){return Aff.Sync(function(){return f(u(d,h))})}}})}}(),_sequential=Aff.Seq,functorParAff={map:_parAffMap},functorAff={map:_map},forkAff=_fork(!0),ffiUtil$1={isLeft:o=>{if(o.tag==="Left")return!0;if(o.tag==="Right")return!1;fail$3()},fromLeft:o=>{if(o.tag==="Left")return o._1;if(o.tag==="Right")return _crashWith("unsafeFromLeft: Right");fail$3()},fromRight:o=>{if(o.tag==="Right")return o._1;if(o.tag==="Left")return _crashWith("unsafeFromRight: Left");fail$3()},left:Left,right:Right},applyParAff={apply:_parAffApply,Functor0:()=>functorParAff},monadAff={Applicative0:()=>applicativeAff,Bind1:()=>bindAff},bindAff={bind:_bind,Apply0:()=>applyAff},applyAff={apply:o=>u=>_bind(o)(f=>_bind(u)(d=>applicativeAff.pure(f(d)))),Functor0:()=>functorAff},applicativeAff={pure:_pure,Apply0:()=>applyAff},joinFiber=o=>makeAff(u=>{const f=o.join(u);return()=>{const d=f();return(()=>{const m=_liftEffect(d);return h=>m})()}}),monadThrowAff={throwError:_throwError,Monad0:()=>monadAff},monadErrorAff={catchError:_catchError,MonadThrow0:()=>monadThrowAff},parallelAff={parallel:unsafeCoerce,sequential:_sequential,Monad0:()=>monadAff,Applicative1:()=>applicativeParAff},applicativeParAff={pure:o=>_pure(o),Apply0:()=>applyParAff},monoidAff=o=>{const u=o.Semigroup0(),f={append:d=>m=>applyAff.apply(_map(u.append)(d))(m)};return{mempty:_pure(o.mempty),Semigroup0:()=>f}},nonCanceler=(()=>{const o=_pure(unit);return u=>o})(),never=makeAff(o=>()=>nonCanceler),isFiniteImpl=isFinite,abs=Math.abs,cos=Math.cos,floor=Math.floor,pow=function(o){return function(u){return Math.pow(o,u)}},remainder=function(o){return function(u){return o%u}},round=Math.round,sin=Math.sin,sqrt=Math.sqrt,fromNumberImpl=function(o){return function(u){return function(f){return(f|0)===f?o(f):u}}},toNumber=function(o){return o},fromNumber=fromNumberImpl(Just)(Nothing),unsafeClamp=o=>{if(!isFiniteImpl(o))return 0;if(o>=toNumber(2147483647))return 2147483647;if(o<=toNumber(-2147483648))return-2147483648;const u=fromNumber(o);if(u.tag==="Nothing")return 0;if(u.tag==="Just")return u._1;fail$3()};var refEq=function(o){return function(u){return o===u}};const eqBooleanImpl=refEq,eqIntImpl=refEq,eqNumberImpl=refEq,eqStringImpl=refEq,eqArrayImpl=function(o){return function(u){return function(f){if(u.length!==f.length)return!1;for(var d=0;d<u.length;d++)if(!o(u[d])(f[d]))return!1;return!0}}},eqString={eq:eqStringImpl},eqNumber={eq:eqNumberImpl},eqInt={eq:eqIntImpl},eqBoolean={eq:eqBooleanImpl};var unsafeCompareImpl=function(o){return function(u){return function(f){return function(d){return function(m){return d<m?o:d===m?u:f}}}}};const ordIntImpl=unsafeCompareImpl,ordNumberImpl=unsafeCompareImpl,ordStringImpl=unsafeCompareImpl,ordString={compare:ordStringImpl(LT)(EQ)(GT),Eq0:()=>eqString},ordNumber={compare:ordNumberImpl(LT)(EQ)(GT),Eq0:()=>eqNumber},ordInt={compare:ordIntImpl(LT)(EQ)(GT),Eq0:()=>eqInt},charAt=function(o){return function(u){if(o>=0&&o<u.length)return u.charAt(o);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},singleton$1=function(o){return o},length=function(o){return o.length},_indexOf=function(o){return function(u){return function(f){return function(d){var m=d.indexOf(f);return m===-1?u:o(m)}}}},take$4=function(o){return function(u){return u.substr(0,o)}},drop$1=function(o){return function(u){return u.substring(o)}},splitAt=function(o){return function(u){return{before:u.substring(0,o),after:u.substring(o)}}},stripPrefix=o=>u=>{const f=splitAt(length(o))(u);return f.before===o?$Maybe("Just",f.after):Nothing},indexOf=_indexOf(Just)(Nothing),contains=o=>{const u=indexOf(o);return f=>{const d=u(f);if(d.tag==="Nothing")return!1;if(d.tag==="Just")return!0;fail$3()}};function typeOf(o){return typeof o}function tagOf(o){return Object.prototype.toString.call(o).slice(8,-1)}function isNull(o){return o===null}function isUndefined(o){return o===void 0}const isArray=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},$ForeignError=(o,u,f)=>({tag:o,_1:u,_2:f}),ErrorAtIndex=o=>u=>$ForeignError("ErrorAtIndex",o,u),ErrorAtProperty=o=>u=>$ForeignError("ErrorAtProperty",o,u),showForeignError={show:o=>{if(o.tag==="ForeignError")return"(ForeignError "+(showStringImpl(o._1)+")");if(o.tag==="ErrorAtIndex")return"(ErrorAtIndex "+(showIntImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="ErrorAtProperty")return"(ErrorAtProperty "+(showStringImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="TypeMismatch")return"(TypeMismatch "+(showStringImpl(o._1)+(" "+(showStringImpl(o._2)+")")));fail$3()}},renderForeignError=o=>{if(o.tag==="ForeignError")return o._1;if(o.tag==="ErrorAtIndex")return"Error at array index "+(showIntImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="ErrorAtProperty")return"Error at property "+(showStringImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="TypeMismatch")return"Type mismatch: expected "+(o._1+(", found "+o._2));fail$3()},readArray$1=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>isArray(d)?u(d):f($NonEmpty($ForeignError("TypeMismatch","array",tagOf(d)),Nil))},unsafeReadTagged$2=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>m=>tagOf(m)===d?u(m):f($NonEmpty($ForeignError("TypeMismatch",d,tagOf(m)),Nil))},readInt$1=o=>{const u=o.Bind1().Apply0().Functor0().map,f=unsafeReadTagged$2(o)("Number");return d=>{const m=$Either("Left",$NonEmpty($ForeignError("TypeMismatch","Int",tagOf(d)),Nil));return u(h=>{if(h.tag==="Left")return m;if(h.tag==="Right"){const b=fromNumber(h._1);if(b.tag==="Nothing")return m;if(b.tag==="Just")return $Either("Right",b._1);fail$3()}fail$3()})(f(d))}};function thenImpl(o){return function(u){return function(f){return function(){o.then(f,u)}}}}const alt$1=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),unsafeReadTagged$1=unsafeReadTagged$2(monadIdentity),readString$1=unsafeReadTagged$2(monadIdentity)("String"),toAff$p=o=>u=>makeAff(f=>{const d=thenImpl(u)(m=>f($Either("Left",o(m)))())(m=>f($Either("Right",m))());return()=>(d(),nonCanceler)}),coerce=o=>{const u=alt$1(unsafeReadTagged$1("Error")(o))((()=>{const f=readString$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",error$1(f._1));fail$3()})());if(u.tag==="Left")return error$1("Promise failed, couldn't extract JS Error or String");if(u.tag==="Right")return u._1;fail$3()},map_=function(o){return function(u){return function(){return o(u())}}},pure_=function(o){return function(){return o}},bind_=function(o){return function(u){return function(){return u(o())()}}},run$2=function(o){return o()};function whileST(o){return function(u){return function(){for(;o();)u()}}}const foreach=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},functorST={map:map_},monadST={Applicative0:()=>applicativeST,Bind1:()=>bindST},bindST={bind:bind_,Apply0:()=>applyST},applyST={apply:o=>u=>()=>{const f=o(),d=u();return applicativeST.pure(f(d))()},Functor0:()=>functorST},applicativeST={pure:pure_,Apply0:()=>applyST};function newSTArray(){return[]}const pushAll=function(o){return function(u){return function(){return u.push.apply(u,o)}}},splice=function(o){return function(u){return function(f){return function(d){return function(){return d.splice.apply(d,[o,u].concat(f))}}}}},unsafeFreeze=function(o){return function(){return o}},unsafeThaw=function(o){return function(){return o}};function copyImpl(o){return function(){return o.slice()}}const freeze=copyImpl,thaw=copyImpl,withArray=o=>u=>{const f=thaw(u);return()=>{const d=f();return o(d)(),unsafeFreeze(d)()}},$Iterator=(o,u)=>({tag:"Iterator",_1:o,_2:u}),iterate=o=>u=>()=>{const f={value:!1};return whileST(()=>!f.value)(()=>{const d=o._2.value,m=o._2.value;o._2.value=m+1|0;const h=o._1(d);if(h.tag==="Just")return u(h._1)();if(h.tag==="Nothing")return f.value=!0,unit;fail$3()})()},absurd=o=>(f=>{let d;return d})(),concatString=function(o){return function(u){return o+u}},concatArray=function(o){return function(u){return o.length===0?u:u.length===0?o:o.concat(u)}},semigroupString={append:concatString},semigroupArray={append:concatArray},identity$r=o=>o,bifunctorEither={bimap:o=>u=>f=>{if(f.tag==="Left")return $Either("Left",o(f._1));if(f.tag==="Right")return $Either("Right",u(f._1));fail$3()}},traverseArrayImpl=function(){function o(m){return[m]}function u(m){return function(h){return[m,h]}}function f(m){return function(h){return function(b){return[m,h,b]}}}function d(m){return function(h){return m.concat(h)}}return function(m){return function(h){return function(b){return function(y){return function(_){function w(M,$){switch($-M){case 0:return b([]);case 1:return h(o)(y(_[M]));case 2:return m(h(u)(y(_[M])))(y(_[M+1]));case 3:return m(m(h(f)(y(_[M])))(y(_[M+1])))(y(_[M+2]));default:var g=M+Math.floor(($-M)/4)*2;return m(h(d)(w(M,g)))(w(g,$))}}return w(0,_.length)}}}}}}(),identity$q=o=>o,traversableTuple={traverse:o=>{const u=o.Apply0().Functor0().map;return f=>d=>u(Tuple(d._1))(f(d._2))},sequence:o=>{const u=o.Apply0().Functor0().map;return f=>u(Tuple(f._1))(f._2)},Functor0:()=>functorTuple,Foldable1:()=>foldableTuple},traversableMaybe={traverse:o=>{const u=o.Apply0().Functor0().map;return f=>d=>{if(d.tag==="Nothing")return o.pure(Nothing);if(d.tag==="Just")return u(Just)(f(d._1));fail$3()}},sequence:o=>{const u=o.Apply0().Functor0().map;return f=>{if(f.tag==="Nothing")return o.pure(Nothing);if(f.tag==="Just")return u(Just)(f._1);fail$3()}},Functor0:()=>functorMaybe,Foldable1:()=>foldableMaybe},traversableArray={traverse:o=>{const u=o.Apply0();return traverseArrayImpl(u.apply)(u.Functor0().map)(o.pure)},sequence:o=>traversableArray.traverse(o)(identity$q),Functor0:()=>functorArray,Foldable1:()=>foldableArray},range=function(o){return function(u){for(var f=o>u?-1:1,d=new Array(f*(u-o)+1),m=o,h=0;m!==u;)d[h++]=m,m+=f;return d[h]=m,d}};var replicateFill=function(o){return function(u){if(o<1)return[];var f=new Array(o);return f.fill(u)}},replicatePolyfill=function(o){return function(u){for(var f=[],d=0,m=0;m<o;m++)f[d++]=u;return f}};const replicate$1=typeof Array.prototype.fill=="function"?replicateFill:replicatePolyfill,fromFoldableImpl=function(){function o(m,h){this.head=m,this.tail=h}var u={};function f(m){return function(h){return new o(m,h)}}function d(m){for(var h=[],b=0,y=m;y!==u;)h[b++]=y.head,y=y.tail;return h}return function(m){return function(h){return d(m(f)(u)(h))}}}(),unconsImpl=function(o){return function(u){return function(f){return f.length===0?o({}):u(f[0])(f.slice(1))}}},indexImpl$1=function(o){return function(u){return function(f){return function(d){return d<0||d>=f.length?u:o(f[d])}}}},findIndexImpl=function(o){return function(u){return function(f){return function(d){for(var m=0,h=d.length;m<h;m++)if(f(d[m]))return o(m);return u}}}},_deleteAt=function(o){return function(u){return function(f){return function(d){if(f<0||f>=d.length)return u;var m=d.slice();return m.splice(f,1),o(m)}}}},_updateAt=function(o){return function(u){return function(f){return function(d){return function(m){if(f<0||f>=m.length)return u;var h=m.slice();return h[f]=d,o(h)}}}}},filter$1=function(o){return function(u){return u.filter(o)}},sortByImpl=function(){function o(u,f,d,m,h,b){var y,_,w,M,$,g,v;for(y=h+(b-h>>1),y-h>1&&o(u,f,m,d,h,y),b-y>1&&o(u,f,m,d,y,b),_=h,w=y,M=h;_<y&&w<b;)$=m[_],g=m[w],v=f(u($)(g)),v>0?(d[M++]=g,++w):(d[M++]=$,++_);for(;_<y;)d[M++]=m[_++];for(;w<b;)d[M++]=m[w++]}return function(u){return function(f){return function(d){var m;return d.length<2?d:(m=d.slice(0),o(u,f,m,d.slice(0),0,d.length),m)}}}}(),slice=function(o){return function(u){return function(f){return f.slice(o,u)}}},zipWith=function(o){return function(u){return function(f){for(var d=u.length<f.length?u.length:f.length,m=new Array(d),h=0;h<d;h++)m[h]=o(u[h])(f[h]);return m}}},intercalate1=o=>{const u=o.Semigroup0().append;return f=>d=>foldlArray(m=>h=>m.init?{init:!1,acc:h}:{init:!1,acc:u(m.acc)(u(f)(h))})({init:!0,acc:o.mempty})(d).acc},updateAt=_updateAt(Just)(Nothing),uncons$1=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",{head:o,tail:u})),tail=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",u)),sortBy$1=o=>sortByImpl(o)(u=>{if(u.tag==="GT")return 1;if(u.tag==="EQ")return 0;if(u.tag==="LT")return-1;fail$3()}),sortWith=o=>u=>sortBy$1(f=>d=>o.compare(u(f))(u(d))),init$1=o=>o.length===0?Nothing:$Maybe("Just",slice(0)(o.length-1|0)(o)),index=indexImpl$1(Just)(Nothing),span$1=o=>u=>{const d=(m=>{let h=m,b=!0,y;for(;b;){const _=h,w=index(u)(_);if(w.tag==="Just"){if(o(w._1)){h=_+1|0;continue}b=!1,y=$Maybe("Just",_);continue}if(w.tag==="Nothing"){b=!1,y=Nothing;continue}fail$3()}return y})(0);if(d.tag==="Just")return d._1===0?{init:[],rest:u}:{init:slice(0)(d._1)(u),rest:slice(d._1)(u.length)(u)};if(d.tag==="Nothing")return{init:u,rest:[]};fail$3()},nubBy=o=>u=>{const f=sortBy$1(m=>h=>o(m._2)(h._2))(zipWith(Tuple)(range(0)(u.length-1|0))(u)),d=index(f)(0);if(d.tag==="Nothing")return[];if(d.tag==="Just")return arrayMap(snd)(sortWith(ordInt)(fst)(run$2((()=>{const m=unsafeThaw([d._1]);return()=>{const h=m();return foreach(f)(b=>()=>{const y=unsafeFreeze(h)(),_=index(y)(y.length-1|0),w=o((()=>{if(_.tag==="Just")return _._1._2;fail$3()})())(b._2);return(w.tag==="LT"||w.tag==="GT"||w.tag!=="EQ")&&pushAll([b])(h)(),unit})(),unsafeFreeze(h)()}})())));fail$3()},findIndex=findIndexImpl(Just)(Nothing),deleteAt=_deleteAt(Just)(Nothing),deleteBy=o=>u=>f=>{if(f.length===0)return[];const d=findIndex(o(u))(f);if(d.tag==="Nothing")return f;if(d.tag==="Just"){const m=deleteAt(d._1)(f);if(m.tag==="Just")return m._1;fail$3()}fail$3()},concatMap=o=>u=>arrayBind(u)(o),mapMaybe=o=>concatMap(u=>{const f=o(u);if(f.tag==="Nothing")return[];if(f.tag==="Just")return[f._1];fail$3()}),topNumber=Number.POSITIVE_INFINITY,toUnfoldable$2=o=>o.unfoldr(u=>{if(u.tag==="Nil")return Nothing;if(u.tag==="Cons")return $Maybe("Just",$Tuple(u._1,u._2));fail$3()}),span=o=>u=>{if(u.tag==="Cons"){if(o(u._1)){const f=span(o)(u._2);return{init:$List("Cons",u._1,f.init),rest:f.rest}}return{init:Nil,rest:u}}return{init:Nil,rest:u}},sortBy=o=>{const u=b=>y=>{if(b.tag==="Cons"){if(y.tag==="Cons")return o(b._1)(y._1).tag==="GT"?$List("Cons",y._1,u(b)(y._2)):$List("Cons",b._1,u(b._2)(y));if(y.tag==="Nil")return b;fail$3()}if(b.tag==="Nil")return y;if(y.tag==="Nil")return b;fail$3()},f=b=>b.tag==="Cons"&&b._2.tag==="Cons"?$List("Cons",u(b._1)(b._2._1),f(b._2._2)):b,d=b=>{let y=b,_=!0,w;for(;_;){const M=y;if(M.tag==="Cons"){if(M._2.tag==="Nil"){_=!1,w=M._1;continue}y=f(M);continue}y=f(M)}return w},m=(b,y,_,w)=>{let M=b,$=y,g=_,v=w,k=!0,C;for(;k;){if(M===0){const S=$;if(S.tag==="Cons"){if(S._2.tag==="Cons"){if(o(S._1)(S._2._1).tag==="GT"){M=1,$=S._2._1,g=$List("Cons",S._1,Nil),v=S._2._2;continue}M=2,$=S._2._1,g=I=>$List("Cons",S._1,I),v=S._2._2;continue}k=!1,C=$List("Cons",S,Nil);continue}k=!1,C=$List("Cons",S,Nil);continue}if(M===1){const S=$,I=g,O=v;if(O.tag==="Cons"){if(o(S)(O._1).tag==="GT"){M=1,$=O._1,g=$List("Cons",S,I),v=O._2;continue}k=!1,C=$List("Cons",$List("Cons",S,I),h(O));continue}k=!1,C=$List("Cons",$List("Cons",S,I),h(O));continue}if(M===2){const S=$,I=g,O=v;if(O.tag==="Cons"){if((()=>{const x=o(S)(O._1);return x.tag==="LT"||x.tag!=="GT"})()){M=2,$=O._1,g=x=>I($List("Cons",S,x)),v=O._2;continue}k=!1,C=$List("Cons",I($List("Cons",S,Nil)),h(O));continue}k=!1,C=$List("Cons",I($List("Cons",S,Nil)),h(O));continue}}return C},h=b=>m(0,b);return b=>d(h(b))},reverse=(()=>(u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,_=m;if(_.tag==="Nil"){h=!1,b=y;continue}if(_.tag==="Cons"){d=$List("Cons",_._1,y),m=_._2;continue}fail$3()}return b})(Nil))(),take$3=(()=>(u=>f=>d=>{let m=u,h=f,b=d,y=!0,_;for(;y;){const w=m,M=h,$=b;if(M<1){y=!1,_=reverse(w);continue}if($.tag==="Nil"){y=!1,_=reverse(w);continue}if($.tag==="Cons"){m=$List("Cons",$._1,w),h=M-1|0,b=$._2;continue}fail$3()}return _})(Nil))(),drop=o=>u=>{let f=o,d=u,m=!0,h;for(;m;){const b=f,y=d;if(b<1){m=!1,h=y;continue}if(y.tag==="Nil"){m=!1,h=Nil;continue}if(y.tag==="Cons"){f=b-1|0,d=y._2;continue}fail$3()}return h},defer=function(o){var u=null;return function(){return o===void 0||(u=o(),o=void 0),u}},force=function(o){return o()},unfoldr1ArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var b=[],y=h;;){var _=m(y);b.push(f(_));var w=d(_);if(o(w))return b;y=u(w)}}}}}}},fromJust$1=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldable1Array={unfoldr1:unfoldr1ArrayImpl(isNothing)(fromJust$1)(fst)(snd)},unfoldrArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var b=[],y=h;;){var _=m(y);if(o(_))return b;var w=u(_);b.push(f(w)),y=d(w)}}}}}}},fromJust=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldableArray={unfoldr:unfoldrArrayImpl(isNothing)(fromJust)(fst)(snd),Unfoldable10:()=>unfoldable1Array},replicate=o=>u=>f=>o.unfoldr(d=>d<=0?Nothing:$Maybe("Just",$Tuple(f,d-1|0)))(u),$KickUp=(o,u,f,d)=>({tag:"KickUp",_1:o,_2:u,_3:f,_4:d}),$Map=(o,u,f,d,m,h,b,y)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:b,_7:y}),$TreeContext=(o,u,f,d,m,h,b)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:b}),identity$p=o=>o,Leaf=$Map("Leaf"),Two=o=>u=>f=>d=>$Map("Two",o,u,f,d),Three=o=>u=>f=>d=>m=>h=>b=>$Map("Three",o,u,f,d,m,h,b),toUnfoldable$1=o=>u=>{const f=d=>{let m=d,h=!0,b;for(;h;){const y=m;if(y.tag==="Nil"){h=!1,b=Nothing;continue}if(y.tag==="Cons"){if(y._1.tag==="Leaf"){m=y._2;continue}if(y._1.tag==="Two"){if(y._1._1.tag==="Leaf"){if(y._1._4.tag==="Leaf"){h=!1,b=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),y._2));continue}h=!1,b=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),$List("Cons",y._1._4,y._2)));continue}m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,y._2)));continue}if(y._1.tag==="Three"){m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,$List("Cons",$Map("Two",Leaf,y._1._5,y._1._6,Leaf),$List("Cons",y._1._7,y._2)))));continue}fail$3()}fail$3()}return b};return o.unfoldr(f)($List("Cons",u,Nil))},showMap=o=>u=>{const f=showArrayImpl(d=>"(Tuple "+(o.show(d._1)+(" "+(u.show(d._2)+")"))));return{show:d=>"(fromFoldable "+(f(toUnfoldable$1(unfoldableArray)(d))+")")}},lookup$1=o=>u=>d=>{let m=d,h=!0,b;for(;h;){const y=m;if(y.tag==="Leaf"){h=!1,b=Nothing;continue}if(y.tag==="Two"){const _=o.compare(u)(y._2);if(_.tag==="EQ"){h=!1,b=$Maybe("Just",y._3);continue}if(_.tag==="LT"){m=y._1;continue}m=y._4;continue}if(y.tag==="Three"){const _=o.compare(u)(y._2);if(_.tag==="EQ"){h=!1,b=$Maybe("Just",y._3);continue}const w=o.compare(u)(y._5);if(w.tag==="EQ"){h=!1,b=$Maybe("Just",y._6);continue}if(_.tag==="LT"){m=y._1;continue}if(w.tag==="GT"){m=y._7;continue}m=y._4;continue}fail$3()}return b},functorMap={map:o=>u=>{if(u.tag==="Leaf")return Leaf;if(u.tag==="Two")return $Map("Two",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4));if(u.tag==="Three")return $Map("Three",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4),u._5,o(u._6),functorMap.map(o)(u._7));fail$3()}},fromZipper=o=>u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,_=m;if(y.tag==="Nil"){h=!1,b=_;continue}if(y.tag==="Cons"){if(y._1.tag==="TwoLeft"){d=y._2,m=$Map("Two",_,y._1._1,y._1._2,y._1._3);continue}if(y._1.tag==="TwoRight"){d=y._2,m=$Map("Two",y._1._1,y._1._2,y._1._3,_);continue}if(y._1.tag==="ThreeLeft"){d=y._2,m=$Map("Three",_,y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeMiddle"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,_,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeRight"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6,_);continue}fail$3()}fail$3()}return b},insert$2=o=>u=>f=>{const d=h=>b=>{let y=h,_=b,w=!0,M;for(;w;){const $=y,g=_;if($.tag==="Nil"){w=!1,M=$Map("Two",g._1,g._2,g._3,g._4);continue}if($.tag==="Cons"){if($._1.tag==="TwoLeft"){w=!1,M=fromZipper()($._2)($Map("Three",g._1,g._2,g._3,g._4,$._1._1,$._1._2,$._1._3));continue}if($._1.tag==="TwoRight"){w=!1,M=fromZipper()($._2)($Map("Three",$._1._1,$._1._2,$._1._3,g._1,g._2,g._3,g._4));continue}if($._1.tag==="ThreeLeft"){y=$._2,_=$KickUp($Map("Two",g._1,g._2,g._3,g._4),$._1._1,$._1._2,$Map("Two",$._1._3,$._1._4,$._1._5,$._1._6));continue}if($._1.tag==="ThreeMiddle"){y=$._2,_=$KickUp($Map("Two",$._1._1,$._1._2,$._1._3,g._1),g._2,g._3,$Map("Two",g._4,$._1._4,$._1._5,$._1._6));continue}if($._1.tag==="ThreeRight"){y=$._2,_=$KickUp($Map("Two",$._1._1,$._1._2,$._1._3,$._1._4),$._1._5,$._1._6,$Map("Two",g._1,g._2,g._3,g._4));continue}fail$3()}fail$3()}return M};return(h=>b=>{let y=h,_=b,w=!0,M;for(;w;){const $=y,g=_;if(g.tag==="Leaf"){w=!1,M=d($)($KickUp(Leaf,u,f,Leaf));continue}if(g.tag==="Two"){const v=o.compare(u)(g._2);if(v.tag==="EQ"){w=!1,M=fromZipper()($)($Map("Two",g._1,u,f,g._4));continue}if(v.tag==="LT"){y=$List("Cons",$TreeContext("TwoLeft",g._2,g._3,g._4),$),_=g._1;continue}y=$List("Cons",$TreeContext("TwoRight",g._1,g._2,g._3),$),_=g._4;continue}if(g.tag==="Three"){const v=o.compare(u)(g._2);if(v.tag==="EQ"){w=!1,M=fromZipper()($)($Map("Three",g._1,u,f,g._4,g._5,g._6,g._7));continue}const k=o.compare(u)(g._5);if(k.tag==="EQ"){w=!1,M=fromZipper()($)($Map("Three",g._1,g._2,g._3,g._4,u,f,g._7));continue}if(v.tag==="LT"){y=$List("Cons",$TreeContext("ThreeLeft",g._2,g._3,g._4,g._5,g._6,g._7),$),_=g._1;continue}if(v.tag==="GT"){if(k.tag==="LT"){y=$List("Cons",$TreeContext("ThreeMiddle",g._1,g._2,g._3,g._5,g._6,g._7),$),_=g._4;continue}y=$List("Cons",$TreeContext("ThreeRight",g._1,g._2,g._3,g._4,g._5,g._6),$),_=g._7;continue}y=$List("Cons",$TreeContext("ThreeRight",g._1,g._2,g._3,g._4,g._5,g._6),$),_=g._7;continue}fail$3()}return M})(Nil)},pop=o=>u=>{const f=b=>y=>{let _=b,w=y,M=!0,$;for(;M;){const g=_,v=w;if(g.tag==="Nil"){M=!1,$=v;continue}if(g.tag==="Cons"){const k=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",$Map("Two",J,q,Q,K),X,G,$Map("Two",ee,ie,ne,H))),C=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",$Map("Two",J,q,Q,K),X,G,$Map("Two",ee,ie,ne,H))),S=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",$Map("Three",J,q,Q,K,X,G,ee),ie,ne,H)),I=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",$Map("Three",J,q,Q,K,X,G,ee),ie,ne,H)),O=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",J,q,Q,$Map("Three",K,X,G,ee,ie,ne,H))),x=(J,K,ee,H,q,X,ie,Q,G,ne)=>fromZipper()(g._2)($Map("Two",J,q,Q,$Map("Three",K,X,G,ee,ie,ne,H))),F=(J,K,ee,H,q,X,ie,Q,G,ne,re,Y,le)=>fromZipper()(g._2)($Map("Three",$Map("Two",J,X,ne,K),ie,re,$Map("Two",ee,Q,Y,H),G,le,q)),R=(J,K,ee,H,q,X,ie,Q,G,ne,re,Y,le)=>fromZipper()(g._2)($Map("Three",$Map("Two",J,X,ne,K),ie,re,$Map("Two",ee,Q,Y,H),G,le,q)),L=(J,K,ee,H,q,X,ie,Q,G,ne,re,Y,le)=>fromZipper()(g._2)($Map("Three",J,X,ne,$Map("Two",K,ie,re,ee),Q,Y,$Map("Two",H,G,le,q))),D=(J,K,ee,H,q,X,ie,Q,G,ne,re,Y,le)=>fromZipper()(g._2)($Map("Three",J,X,ne,$Map("Two",K,ie,re,ee),Q,Y,$Map("Two",H,G,le,q)));if(v.tag==="Leaf"){if(g._1.tag==="TwoLeft"){if(g._1._3.tag==="Leaf"){M=!1,$=fromZipper()(g._2)($Map("Two",Leaf,g._1._1,g._1._2,Leaf));continue}if(g._1._3.tag==="Two"){_=g._2,w=$Map("Three",v,g._1._1,g._1._2,g._1._3._1,g._1._3._2,g._1._3._3,g._1._3._4);continue}if(g._1._3.tag==="Three"){M=!1,$=k(v,g._1._3._1,g._1._3._4,g._1._3._7,g._1._1,g._1._3._2,g._1._3._5,g._1._2,g._1._3._3,g._1._3._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoRight"){if(g._1._1.tag==="Leaf"){M=!1,$=fromZipper()(g._2)($Map("Two",Leaf,g._1._2,g._1._3,Leaf));continue}if(g._1._1.tag==="Two"){_=g._2,w=$Map("Three",g._1._1._1,g._1._1._2,g._1._1._3,g._1._1._4,g._1._2,g._1._3,v);continue}if(g._1._1.tag==="Three"){M=!1,$=C(g._1._1._1,g._1._1._4,g._1._1._7,v,g._1._1._2,g._1._1._5,g._1._2,g._1._1._3,g._1._1._6,g._1._3);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeLeft"){if(g._1._6.tag==="Leaf"){if(g._1._3.tag==="Leaf"){M=!1,$=fromZipper()(g._2)($Map("Three",Leaf,g._1._1,g._1._2,Leaf,g._1._4,g._1._5,Leaf));continue}if(g._1._3.tag==="Two"){M=!1,$=S(v,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){M=!1,$=F(v,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._3.tag==="Two"){M=!1,$=S(v,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){M=!1,$=F(v,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeMiddle"){if(g._1._1.tag==="Leaf"){if(g._1._6.tag==="Leaf"){M=!1,$=fromZipper()(g._2)($Map("Three",Leaf,g._1._2,g._1._3,Leaf,g._1._4,g._1._5,Leaf));continue}if(g._1._6.tag==="Two"){M=!1,$=O(g._1._1,v,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._6.tag==="Three"){M=!1,$=L(g._1._1,v,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._1.tag==="Two"){M=!1,$=I(g._1._1._1,g._1._1._4,v,g._1._6,g._1._1._2,g._1._2,g._1._4,g._1._1._3,g._1._3,g._1._5);continue}if(g._1._6.tag==="Two"){M=!1,$=O(g._1._1,v,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._1.tag==="Three"){M=!1,$=R(g._1._1._1,g._1._1._4,g._1._1._7,v,g._1._6,g._1._1._2,g._1._1._5,g._1._2,g._1._4,g._1._1._3,g._1._1._6,g._1._3,g._1._5);continue}if(g._1._6.tag==="Three"){M=!1,$=L(g._1._1,v,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeRight"){if(g._1._1.tag==="Leaf"){if(g._1._4.tag==="Leaf"){M=!1,$=fromZipper()(g._2)($Map("Three",Leaf,g._1._2,g._1._3,Leaf,g._1._5,g._1._6,Leaf));continue}if(g._1._4.tag==="Two"){M=!1,$=x(g._1._1,g._1._4._1,g._1._4._4,v,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){M=!1,$=D(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,v,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1._4.tag==="Two"){M=!1,$=x(g._1._1,g._1._4._1,g._1._4._4,v,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){M=!1,$=D(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,v,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoLeft"){if(g._1._3.tag==="Two"){_=g._2,w=$Map("Three",v,g._1._1,g._1._2,g._1._3._1,g._1._3._2,g._1._3._3,g._1._3._4);continue}if(g._1._3.tag==="Three"){M=!1,$=k(v,g._1._3._1,g._1._3._4,g._1._3._7,g._1._1,g._1._3._2,g._1._3._5,g._1._2,g._1._3._3,g._1._3._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="TwoRight"){if(g._1._1.tag==="Two"){_=g._2,w=$Map("Three",g._1._1._1,g._1._1._2,g._1._1._3,g._1._1._4,g._1._2,g._1._3,v);continue}if(g._1._1.tag==="Three"){M=!1,$=C(g._1._1._1,g._1._1._4,g._1._1._7,v,g._1._1._2,g._1._1._5,g._1._2,g._1._1._3,g._1._1._6,g._1._3);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeLeft"){if(g._1._3.tag==="Two"){M=!1,$=S(v,g._1._3._1,g._1._3._4,g._1._6,g._1._1,g._1._3._2,g._1._4,g._1._2,g._1._3._3,g._1._5);continue}if(g._1._3.tag==="Three"){M=!1,$=F(v,g._1._3._1,g._1._3._4,g._1._3._7,g._1._6,g._1._1,g._1._3._2,g._1._3._5,g._1._4,g._1._2,g._1._3._3,g._1._3._6,g._1._5);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeMiddle"){if(g._1._1.tag==="Two"){M=!1,$=I(g._1._1._1,g._1._1._4,v,g._1._6,g._1._1._2,g._1._2,g._1._4,g._1._1._3,g._1._3,g._1._5);continue}if(g._1._6.tag==="Two"){M=!1,$=O(g._1._1,v,g._1._6._1,g._1._6._4,g._1._2,g._1._4,g._1._6._2,g._1._3,g._1._5,g._1._6._3);continue}if(g._1._1.tag==="Three"){M=!1,$=R(g._1._1._1,g._1._1._4,g._1._1._7,v,g._1._6,g._1._1._2,g._1._1._5,g._1._2,g._1._4,g._1._1._3,g._1._1._6,g._1._3,g._1._5);continue}if(g._1._6.tag==="Three"){M=!1,$=L(g._1._1,v,g._1._6._1,g._1._6._4,g._1._6._7,g._1._2,g._1._4,g._1._6._2,g._1._6._5,g._1._3,g._1._5,g._1._6._3,g._1._6._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}if(g._1.tag==="ThreeRight"){if(g._1._4.tag==="Two"){M=!1,$=x(g._1._1,g._1._4._1,g._1._4._4,v,g._1._2,g._1._4._2,g._1._5,g._1._3,g._1._4._3,g._1._6);continue}if(g._1._4.tag==="Three"){M=!1,$=D(g._1._1,g._1._4._1,g._1._4._4,g._1._4._7,v,g._1._2,g._1._4._2,g._1._4._5,g._1._5,g._1._3,g._1._4._3,g._1._4._6,g._1._6);continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}M=!1,$=_crashWith("The impossible happened in partial function `up`.");continue}fail$3()}return $},d=b=>y=>{let _=b,w=y,M=!0,$;for(;M;){const g=_,v=w;if(v.tag==="Two"){if(v._1.tag==="Leaf"){if(v._4.tag==="Leaf"){M=!1,$=f(g)(Leaf);continue}_=$List("Cons",$TreeContext("TwoRight",v._1,v._2,v._3),g),w=v._4;continue}_=$List("Cons",$TreeContext("TwoRight",v._1,v._2,v._3),g),w=v._4;continue}if(v.tag==="Three"){if(v._1.tag==="Leaf"){if(v._4.tag==="Leaf"){if(v._7.tag==="Leaf"){M=!1,$=f($List("Cons",$TreeContext("TwoRight",Leaf,v._2,v._3),g))(Leaf);continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}M=!1,$=_crashWith("The impossible happened in partial function `removeMaxNode`.")}return $},m=b=>{let y=b,_=!0,w;for(;_;){const M=y;if(M.tag==="Two"){if(M._4.tag==="Leaf"){_=!1,w={key:M._2,value:M._3};continue}y=M._4;continue}if(M.tag==="Three"){if(M._7.tag==="Leaf"){_=!1,w={key:M._5,value:M._6};continue}y=M._7;continue}_=!1,w=_crashWith("The impossible happened in partial function `maxNode`.")}return w};return(b=>y=>{let _=b,w=y,M=!0,$;for(;M;){const g=_,v=w;if(v.tag==="Leaf"){M=!1,$=Nothing;continue}if(v.tag==="Two"){const k=o.compare(u)(v._2);if(k.tag==="EQ"){if(v._4.tag==="Leaf"){M=!1,$=$Maybe("Just",$Tuple(v._3,f(g)(Leaf)));continue}const C=m(v._1);M=!1,$=$Maybe("Just",$Tuple(v._3,d($List("Cons",$TreeContext("TwoLeft",C.key,C.value,v._4),g))(v._1)));continue}if(k.tag==="LT"){_=$List("Cons",$TreeContext("TwoLeft",v._2,v._3,v._4),g),w=v._1;continue}_=$List("Cons",$TreeContext("TwoRight",v._1,v._2,v._3),g),w=v._4;continue}if(v.tag==="Three"){const k=o.compare(u)(v._5),C=o.compare(u)(v._2);if((()=>v._1.tag==="Leaf"&&v._4.tag==="Leaf"?v._7.tag==="Leaf":!1)()){if(C.tag==="EQ"){M=!1,$=$Maybe("Just",$Tuple(v._3,fromZipper()(g)($Map("Two",Leaf,v._5,v._6,Leaf))));continue}if(k.tag==="EQ"){M=!1,$=$Maybe("Just",$Tuple(v._6,fromZipper()(g)($Map("Two",Leaf,v._2,v._3,Leaf))));continue}if(C.tag==="LT"){_=$List("Cons",$TreeContext("ThreeLeft",v._2,v._3,v._4,v._5,v._6,v._7),g),w=v._1;continue}if(C.tag==="GT"){if(k.tag==="LT"){_=$List("Cons",$TreeContext("ThreeMiddle",v._1,v._2,v._3,v._5,v._6,v._7),g),w=v._4;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}if(C.tag==="EQ"){const S=m(v._1);M=!1,$=$Maybe("Just",$Tuple(v._3,d($List("Cons",$TreeContext("ThreeLeft",S.key,S.value,v._4,v._5,v._6,v._7),g))(v._1)));continue}if(k.tag==="EQ"){const S=m(v._4);M=!1,$=$Maybe("Just",$Tuple(v._6,d($List("Cons",$TreeContext("ThreeMiddle",v._1,v._2,v._3,S.key,S.value,v._7),g))(v._4)));continue}if(C.tag==="LT"){_=$List("Cons",$TreeContext("ThreeLeft",v._2,v._3,v._4,v._5,v._6,v._7),g),w=v._1;continue}if(C.tag==="GT"){if(k.tag==="LT"){_=$List("Cons",$TreeContext("ThreeMiddle",v._1,v._2,v._3,v._5,v._6,v._7),g),w=v._4;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}_=$List("Cons",$TreeContext("ThreeRight",v._1,v._2,v._3,v._4,v._5,v._6),g),w=v._7;continue}fail$3()}return $})(Nil)},foldableMap={foldr:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(o(f._6)(foldableMap.foldr(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMap:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(foldableMap.foldMap(o)(f)(d._4)));if(d.tag==="Three")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(u(foldableMap.foldMap(o)(f)(d._4))(u(f(d._6))(foldableMap.foldMap(o)(f)(d._7)))));fail$3()}}},foldableWithIndexMap={foldrWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(o(f._5)(f._6)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldlWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableWithIndexMap.foldlWithIndex(o)(o(f._5)(foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4)));if(d.tag==="Three")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4))(u(f(d._5)(d._6))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._7)))));fail$3()}},Foldable0:()=>foldableMap},traversableMap={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>{if(m.tag==="Leaf")return o.pure(Leaf);if(m.tag==="Two")return u.apply(u.apply(u.apply(f(Two)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4));if(m.tag==="Three")return u.apply(u.apply(u.apply(u.apply(u.apply(u.apply(f(Three)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4)))(o.pure(m._5)))(d(m._6)))(traversableMap.traverse(o)(d)(m._7));fail$3()}},sequence:o=>traversableMap.traverse(o)(identity$p),Functor0:()=>functorMap,Foldable1:()=>foldableMap},fromFoldable$9=o=>u=>u.foldl(f=>d=>insert$2(o)(d._1)(d._2)(f))(Leaf),$$delete=o=>u=>f=>{const d=pop(o)(u)(f);if(d.tag==="Nothing")return f;if(d.tag==="Just")return d._1._2;fail$3()},alter=o=>u=>f=>d=>{const m=u(lookup$1(o)(f)(d));if(m.tag==="Nothing")return $$delete(o)(f)(d);if(m.tag==="Just")return insert$2(o)(f)(m._1)(d);fail$3()},unionWith=o=>u=>f=>d=>foldableWithIndexMap.foldlWithIndex(m=>h=>b=>alter(o)((()=>{const y=u(b);return _=>$Maybe("Just",(()=>{if(_.tag==="Nothing")return b;if(_.tag==="Just")return y(_._1);fail$3()})())})())(m)(h))(d)(f),update=o=>u=>f=>d=>alter(o)(m=>{if(m.tag==="Nothing")return Nothing;if(m.tag==="Just")return u(m._1);fail$3()})(f)(d),numAdd=function(o){return function(u){return o+u}},intDiv=function(o){return function(u){return u===0?0:u>0?Math.floor(o/u):-Math.floor(o/-u)}},intMod=function(o){return function(u){if(u===0)return 0;var f=Math.abs(u);return(o%f+f)%f}},monoidString={mempty:"",Semigroup0:()=>semigroupString},monoidArray={mempty:[],Semigroup0:()=>semigroupArray},monoidRecord=()=>o=>{const u={append:o.SemigroupRecord0().appendRecord($$Proxy)};return{mempty:o.memptyRecord($$Proxy),Semigroup0:()=>u}},replace=function(o){return function(u){return function(f){return f.replace(o,u)}}},split=function(o){return function(u){return u.split(o)}},joinWith=function(o){return function(u){return u.join(o)}},toUnfoldable=o=>{const u=toUnfoldable$2(o);return f=>u(foldableWithIndexMap.foldrWithIndex(d=>m=>h=>$List("Cons",d,h))(Nil)(f))},foldableSet={foldMap:o=>{const u=foldableList.foldMap(o);return f=>{const d=u(f);return m=>d(foldableWithIndexMap.foldrWithIndex(h=>b=>y=>$List("Cons",h,y))(Nil)(m))}},foldl:o=>u=>{const f=(()=>(m=>h=>{let b=m,y=h,_=!0,w;for(;_;){const M=b,$=y;if($.tag==="Nil"){_=!1,w=M;continue}if($.tag==="Cons"){b=o(M)($._1),y=$._2;continue}fail$3()}return w})(u))();return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>b=>$List("Cons",m,b))(Nil)(d))},foldr:o=>u=>{const f=foldableList.foldr(o)(u);return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>b=>$List("Cons",m,b))(Nil)(d))}};function setTimeoutImpl(o){return function(u){return function(){return setTimeout(u,o)}}}function clearTimeoutImpl(o){return function(){clearTimeout(o)}}function setIntervalImpl(o){return function(u){return function(){return setInterval(u,o)}}}function clearIntervalImpl(o){return function(){clearInterval(o)}}const eqTimeoutId={eq:o=>u=>o===u},ordTimeoutId={compare:o=>u=>ordInt.compare(o)(u),Eq0:()=>eqTimeoutId};function reallyUnsafeRefEq(o){return function(u){return o===u}}const for_$8=for_$9(applicativeEffect),for_1$2=for_$8(foldableMaybe),mempty$2=o=>unit,for_2$2=for_$8(foldableSet),sampleOn=o=>u=>(f,d)=>{const m={value:Nothing},h=o(f,y=>m.value=$Maybe("Just",y)),b=u(f,y=>{const _=m.value;return for_1$2(_)(w=>()=>d(y(w)))()});return()=>(h(),b())},keepLatest=o=>(u,f)=>{const d={value:()=>unit},m=o(u,h=>{const b=d.value;b();const y=h(u,f);return d.value=y});return()=>{const h=d.value;return h(),m()}},functorEvent={map:o=>u=>(f,d)=>u(f,m=>{const h=o(m);return d(h)})},fold$2=o=>u=>f=>(d,m)=>{const h={value:f};return u(d,b=>{const y=h.value,_=h.value=o(b)(y);return m(_)})},filter=o=>u=>(f,d)=>u(f,m=>{const h=o(m);if(h.tag==="Just")return d(h._1);if(h.tag==="Nothing")return unit;fail$3()}),filter$p=o=>filter(u=>o(u)?$Maybe("Just",u):Nothing),create$p=()=>{const o={value:[]};return{event:(u,f)=>{const d={value:f},m=o.value;return o.value=concatArray(m)([d]),()=>{d.value=mempty$2;const h=o.value;return o.value=deleteBy(reallyUnsafeRefEq)(d)(h),unit}},push:u=>{const f=o.value;return foreachE(f)(d=>()=>{const m=d.value;return m(u)})()}}},fix=o=>(u,f)=>{const d=create$p(),m=o(d.event),h=m.input(u,d.push),b=m.output(u,f);return()=>(h(),b())},compactableEvent={compact:filter(o=>o),separate:o=>({left:filter(u=>{if(u.tag==="Left")return $Maybe("Just",u._1);if(u.tag==="Right")return Nothing;fail$3()})(o),right:filter(u=>{if(u.tag==="Right")return $Maybe("Just",u._1);if(u.tag==="Left")return Nothing;fail$3()})(o)})},filterableEvent={filter:filter$p,filterMap:filter,partition:o=>u=>({yes:filter$p(o)(u),no:filter$p(f=>!o(f))(u)}),partitionMap:o=>u=>({left:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return $Maybe("Just",d._1);if(d.tag==="Right")return Nothing;fail$3()})(u),right:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return Nothing;if(d.tag==="Right")return $Maybe("Just",d._1);fail$3()})(u)}),Compactable0:()=>compactableEvent,Functor1:()=>functorEvent},biSampleOn$5=o=>u=>(f,d)=>{const m={value:Nothing},h=newSTArray(),b={value:Nothing},y=newSTArray(),_={value:!0},w=o(f,v=>{if(_.value)return pushAll([v])(h)(),unit;m.value=$Maybe("Just",v);const C=b.value;return for_1$2(C)(S=>()=>d(S(v)))()}),M=u(f,v=>{if(_.value)return pushAll([v])(y)(),unit;b.value=$Maybe("Just",v);const C=m.value;return for_1$2(C)(S=>()=>d(v(S)))()});_.value=!1;const $=freeze(h)(),g=freeze(y)();return(()=>{if($.length===0){const v=index(g)(g.length-1|0);return()=>b.value=v}return foreachE($)(v=>()=>(m.value=$Maybe("Just",v),foreachE(g)(k=>()=>(b.value=$Maybe("Just",k),d(k(v))))()))})()(),splice(0)($.length)([])(h)(),splice(0)(g.length)([])(y)(),()=>(w(),M())},subscribe=o=>backdoor$lazy().subscribe(o),create$lazy=binding(()=>backdoor$lazy().create),backdoor$lazy=binding(()=>{const o=()=>{const u={value:[]};return{event:(f,d)=>{const m={value:d},h=u.value;return u.value=concatArray(h)([m]),()=>{m.value=mempty$2;const b=u.value;return u.value=deleteBy(reallyUnsafeRefEq)(m)(b),unit}},push:f=>()=>{const d=u.value;return foreachE(d)(m=>()=>{const h=m.value;return h(f)})()}}};return{makeEvent:u=>(f,d)=>f?()=>unit:u(m=>()=>d(m))(),makePureEvent:u=>(f,d)=>u(m=>()=>d(m))(),makeLemmingEvent:u=>(f,d)=>u(m=>h=>()=>m(f,b=>h(b)()))(m=>()=>d(m))(),create:o,createPure:o,subscribe:u=>f=>()=>u(!1,d=>f(d)()),subscribePure:u=>f=>()=>u(!0,d=>f(d)()),bus:u=>(f,d)=>{const m=create$lazy()();return d(u(m.push)(m.event)),()=>unit},memoize:u=>f=>(d,m)=>{const h=create$p();return m(f(h.event)),u(d,h.push)},hot:u=>()=>{const f=create$lazy()(),d=subscribe(u)(f.push)();return{event:f.event,unsubscribe:d}},mailboxed:u=>f=>d=>(m,h)=>{const b={value:Leaf};h(d(_=>(w,M)=>{const $=b.value;b.value=alter(u)(v=>{if(v.tag==="Nothing")return $Maybe("Just",[M]);if(v.tag==="Just")return $Maybe("Just",concatArray(v._1)([M]));fail$3()})(_)($);const g=alter(u)(v=>{if(v.tag==="Nothing")return Nothing;if(v.tag==="Just")return $Maybe("Just",deleteBy(reallyUnsafeRefEq)(M)(v._1));fail$3()})(_);return()=>{const v=b.value;return b.value=g(v),unit}}));const y=f(m,_=>{const w=b.value,M=lookup$1(u)(_.address)(w);if(M.tag==="Nothing")return unit;if(M.tag==="Just")return foreachE(M._1)($=>()=>$(_.payload))();fail$3()});return()=>(b.value=Leaf,y())},delay:u=>f=>(d,m)=>{const h={value:Leaf},b=f(d,y=>{const _={value:Nothing},w=setTimeoutImpl(u)(()=>{m(y);const $=_.value;if($.tag==="Nothing")return unit;if($.tag==="Just"){const g=h.value;return h.value=$$delete(ordTimeoutId)($._1)(g),unit}fail$3()})();_.value=$Maybe("Just",w);const M=h.value;return h.value=unionWith(ordTimeoutId)($$const)($Map("Two",Leaf,w,unit,Leaf))(M),unit});return()=>{const y=h.value;return for_2$2(y)(clearTimeoutImpl)(),b()}}}}),create=create$lazy(),backdoor=backdoor$lazy(),applyEvent={apply:o=>u=>biSampleOn$5(o)((f,d)=>u(f,m=>d(applyFlipped(m)))),Functor0:()=>functorEvent},applicativeEvent={pure:o=>(u,f)=>(f(o),()=>unit),Apply0:()=>applyEvent},altEvent={alt:o=>u=>(f,d)=>{const m=o(f,d),h=u(f,d);return()=>(m(),h())},Functor0:()=>functorEvent},burning=o=>u=>()=>{const f={value:o},d=create$p(),m=u(!0,h=>(f.value=h,d.push(h)));return{event:(h,b)=>{const y=d.event(h,b),_=f.value;return b(_),()=>(y(),unit)},unsubscribe:m}},plusEvent={empty:(o,u)=>()=>unit,Alt0:()=>altEvent},alternativeEvent={Applicative0:()=>applicativeEvent,Plus1:()=>plusEvent},eventIsEvent={fold:fold$2,keepLatest,sampleOn,fix,Alternative0:()=>alternativeEvent,Filterable1:()=>filterableEvent},vbusNil={vb:o=>()=>$Tuple({},{})},vbackdoor={vbus:()=>o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=o.vb($$Proxy);return()=>{const b=h();return m(f(b._1)(b._2))(),()=>unit}})},vbus$2=()=>o=>u=>vbackdoor.vbus()(o)(u),vbusCons2=o=>()=>()=>u=>()=>()=>({vb:f=>{const d=u.vb($$Proxy);return()=>{const m=d(),h=create();return $Tuple(unsafeSet(o.reflectSymbol($$Proxy))(h.push)(m._1),unsafeSet(o.reflectSymbol($$Proxy))(h.event)(m._2))}}}),$Child=(o,u)=>({tag:o,_1:u}),$Entity=(o,u)=>({tag:o,_1:u}),$Scope=(o,u)=>({tag:o,_1:u}),Global=$Scope("Global"),Remove=$Child("Remove"),eqScope={eq:o=>u=>o.tag==="Local"?u.tag==="Local"?o._1===u._1:!1:o.tag==="Global"?u.tag==="Global":!1},mapWithIndexArray=function(o){return function(u){for(var f=u.length,d=Array(f),m=0;m<f;m++)d[m]=o(m)(u[m]);return d}},functorWithIndexArray={mapWithIndex:mapWithIndexArray,Functor0:()=>functorArray},mapAccum$e=o=>{const u=o.Filterable1().filterMap;return f=>d=>m=>u(snd)(o.fold(h=>b=>{const y=f(h)(b._1);return $Tuple(y._1,$Maybe("Just",y._2))})(d)($Tuple(m,Nothing)))},biSampleOn$4=o=>{const u=o.Alternative0().Applicative0().Apply0().apply,f=o.Filterable1().Functor1().map;return d=>m=>u(f(applyFlipped)(d))(m)},newImpl=function(){return{}};function poke(o){return function(u){return function(f){return function(){return f[o]=u,f}}}}const deleteImpl=function(o){return function(u){return function(){return delete u[o],u}}};function _copyST(o){return function(){var u={};for(var f in o)hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}}const empty$2={};function runST(o){return o()}function _fmapObject(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(o[d]));return f}function _mapWithKey(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(d)(o[d]));return f}function _foldM(o){return function(u){return function(f){return function(d){var m=f;function h(y){return function(_){return u(_)(y)(d[y])}}for(var b in d)hasOwnProperty.call(d,b)&&(m=o(m)(h(b)));return m}}}}function _lookup(o,u,f,d){return f in d?u(d[f]):o}function toArrayWithKey(o){return function(u){var f=[];for(var d in u)hasOwnProperty.call(u,d)&&f.push(o(d)(u[d]));return f}}const identity$o=o=>o,values=toArrayWithKey(o=>u=>u),mutate=o=>u=>runST((()=>{const f=_copyST(u);return()=>{const d=f();return o(d)(),d}})()),mapWithKey=o=>u=>_mapWithKey(u,o),lookup=o=>u=>_lookup(Nothing,Just,o,u),functorObject={map:o=>u=>_fmapObject(u,o)},functorWithIndexObject={mapWithIndex:mapWithKey,Functor0:()=>functorObject},fromFoldable$8=o=>{const u=fromFoldableImpl(o.foldr);return f=>runST(()=>{const d=newImpl();return foreach(u(f))(m=>()=>(poke(m._1)(m._2)(d)(),unit))(),d})},foldM=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return d=>m=>_foldM(u)(d)(f(m))},foldM1=foldM(monadST),union=o=>mutate(u=>foldM1(f=>d=>m=>poke(d)(m)(f))(u)(o)),fold$1=_foldM(applyFlipped),foldMap=o=>{const u=o.Semigroup0().append;return f=>fold$1(d=>m=>h=>u(d)(f(m)(h)))(o.mempty)},foldableObject={foldl:o=>fold$1(u=>f=>o(u)),foldr:o=>u=>f=>foldrArray(o)(u)(values(f)),foldMap:o=>{const u=foldMap(o);return f=>u(d=>f)}},foldableWithIndexObject={foldlWithIndex:o=>fold$1(u=>f=>o(f)(u)),foldrWithIndex:o=>u=>f=>foldrArray(d=>o(d._1)(d._2))(u)(toArrayWithKey(Tuple)(f)),foldMapWithIndex:o=>foldMap(o),Foldable0:()=>foldableObject},traversableWithIndexObject={traverseWithIndex:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>fold$1(h=>b=>y=>u.apply(f(_=>w=>mutate(poke(b)(w))(_))(h))(d(b)(y)))(o.pure(empty$2))(m)},FunctorWithIndex0:()=>functorWithIndexObject,FoldableWithIndex1:()=>foldableWithIndexObject,Traversable2:()=>traversableObject},traversableObject={traverse:o=>{const u=traversableWithIndexObject.traverseWithIndex(o);return f=>u(d=>f)},sequence:o=>traversableObject.traverse(o)(identity$o),Functor0:()=>functorObject,Foldable1:()=>foldableObject};function mutAr(o){return()=>o.slice()}function unsafeUpdateMutAr(o){return u=>f=>()=>{f[o]=u}}function readAr(o){return()=>o.slice()}const $Stage$1=o=>({tag:o}),mapAccum$d=mapAccum$e(eventIsEvent),oneOf$B=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$7=for_$9(applicativeST),for_1$1=for_$7(foldableMaybe),for_2$1=for_$7(foldableArray),oneOfMap$c=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),traverse_$8=traverse_$9(applicativeST)(foldableArray),Begin$1=$Stage$1("Begin"),Middle$1=$Stage$1("Middle"),End$2=$Stage$1("End"),switcher=o=>u=>$Entity("DynamicChildren'",keepLatest(backdoor.memoize(mapAccum$d(f=>d=>$Tuple(d+1|0,$Tuple(f,d)))(u)(0))(f=>(d,m)=>f(d,h=>{const b=oneOf$B([(()=>{const y=filter$p((()=>{const _=h._2+1|0;return w=>_===w._2})())(f);return(_,w)=>y(_,M=>w(Remove))})(),applicativeEvent.pure($Child("Insert",o(h._1)))]);return m(b)})))),flatten=o=>u=>f=>d=>{if(d.tag==="FixedChildren'")return oneOfMap$c(flatten(o)(u)(f))(d._1);if(d.tag==="EventfulElement'")return keepLatest((()=>{const m=flatten(o)(u)(f);return(h,b)=>d._1(h,y=>{const _=m(y);return b(_)})})());if(d.tag==="Element'")return o.toElt(d._1)(u)(f);if(d.tag==="DynamicChildren'")return backdoor.makeLemmingEvent(m=>h=>()=>{const b={value:empty$2},y=m(d._1)(w=>{const M=o.ids(f);return()=>{const $=M(),g={value:()=>unit},v=o.ids(f)(),k={value:()=>unit},C={value:[]},S={value:()=>unit},I=o.ids(f)(),O={value:Begin$1},x=m(w)(L=>()=>{const D=O.value;if(D.tag==="Middle"){if(L.tag==="Logic")return bind_(()=>C.value)(traverse_$8((()=>{const J=o.doLogic(L._1)(f);return K=>h(J(K))})()))();if(L.tag==="Remove"){O.value=End$2;const J=()=>{const K=C.value;for_2$1(K)(ie=>for_1$1(u.parent)(Q=>h(o.disconnectElement(f)({id:ie,parent:Q,scope:$Scope("Local",I)}))))();const ee=g.value;ee();const H=k.value;H();const q=b.value;b.value=mutate(deleteImpl($))(q);const X=b.value;return b.value=mutate(deleteImpl(v))(X),unit};return S.value=J,J()}return unit}if(L.tag==="Insert"){if(D.tag==="Begin"){O.value=Middle$1;const J=m(flatten(o)({...u,scope:$Scope("Local",I),raiseId:ee=>()=>((()=>{const H=concatArray([ee]);return()=>{const q=C.value;return C.value=H(q)}})()(),unit)})(f)(L._1))(h)(),K=b.value;return b.value=mutate(poke(v)(J))(K),k.value=J,unit}return unit}return unit})();g.value=x;const F=b.value;b.value=mutate(poke($)(x))(F);const R=S.value;return R()}})(),_=bind_(()=>b.value)(fold$1(w=>M=>$=>()=>(w(),$()))(()=>unit));return()=>(_(),y())});fail$3()},internalPortalSimpleComplex=()=>o=>u=>f=>d=>m=>h=>$Entity("Element'",d.fromEltO2(b=>y=>backdoor.makeLemmingEvent(_=>w=>{const M=mutAr(arrayMap($=>"")(m));return()=>{const $=M(),g=_(oneOf$B(mapWithIndexArray(S=>I=>d.toElt(I)({...b,parent:Nothing,scope:u(b.scope),raiseId:O=>unsafeUpdateMutAr(S)(O)($)})(y))(m)))(w)(),v={value:()=>unit},k=readAr($)(),C=_(flatten(f)(b)(y)(h(arrayMap(S=>I=>d.fromEltO1(O=>x=>backdoor.makeLemmingEvent(F=>R=>{const L=O.raiseId(S);return()=>(L(),for_1$1(O.parent)(D=>R(d.giveNewParent(x)({id:S,parent:D,scope:O.scope})(I)))(),()=>unit)})))(k))(unsafeCoerce)))(w)();return v.value=C,()=>{g();const S=for_2$1(k)(O=>w(d.deleteFromCache(y)({id:O})));(()=>o?()=>unit:S)()();const I=v.value;return I()}}}))),globalPortalSimpleComplex=()=>o=>u=>f=>d=>internalPortalSimpleComplex()(!0)(m=>Global)(o)(u)(f)(m=>h=>d(m)),oneOf$A=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),text=o=>$Entity("Element'",u=>f=>backdoor.makeLemmingEvent(d=>m=>()=>{const h=f.ids();u.raiseId(h)();const b=d(oneOf$A([applicativeEvent.pure(f.makeText({id:h,parent:u.parent,scope:u.scope})),(_,w)=>o(_,M=>{const $=f.setText({id:h,text:M});return w($)})]))(m)(),y=m(f.deleteFromCache({id:h}));return()=>(y(),b())})),portalFlatten=()=>({doLogic:o=>u=>f=>u.sendToPos({id:f,pos:o}),ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:eqScope.eq}),toElt:o=>o}),portalFlatten1=portalFlatten(),deku=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>()=>{const h=f.ids();return d((()=>{const b=applicativeEvent.pure(f.makeRoot({id:h,root:o})),y=flatten(portalFlatten1)({parent:$Maybe("Just",h),scope:$Scope("Local","rootScope"),raiseId:_=>()=>unit,pos:Nothing})(f)(u);return(_,w)=>{const M=b(_,w),$=y(_,w);return()=>(M(),$())}})())(m)()}),elementify=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const _=h((()=>{const M=oneOf$A(concatArray([applicativeEvent.pure(m.makeElement({id:y,parent:d.parent,scope:d.scope,tag:o})),(g,v)=>u(g,k=>{const C=(()=>{if(k.value.tag==="Prop'")return m.setProp({id:y,key:k.key,value:k.value._1});if(k.value.tag==="Cb'")return m.setCb({id:y,key:k.key,value:k.value._1});fail$3()})();return v(C)})])((()=>{if(d.parent.tag==="Nothing")return[];if(d.parent.tag==="Just")return[applicativeEvent.pure(m.attributeParent({id:y,parent:d.parent._1,pos:d.pos}))];fail$3()})())),$=flatten(portalFlatten1)({parent:$Maybe("Just",y),scope:d.scope,raiseId:g=>()=>unit,pos:Nothing})(m)(f);return(g,v)=>{const k=M(g,v),C=$(g,v);return()=>(k(),C())}})())(b)(),w=b(m.deleteFromCache({id:y}));return()=>(w(),_())});function toCharCode(o){return o.charCodeAt(0)}function fromCharCode$1(o){return String.fromCharCode(o)}const functorStateT$1=o=>({map:u=>f=>d=>o.map(m=>$Tuple(u(m._1),m._2))(f(d))}),monadStateT=o=>({Applicative0:()=>applicativeStateT$1(o),Bind1:()=>bindStateT$1(o)}),bindStateT$1=o=>{const u=o.Bind1().bind;return{bind:f=>d=>m=>u(f(m))(h=>d(h._1)(h._2)),Apply0:()=>applyStateT(o)}},applyStateT=o=>{const u=functorStateT$1(o.Bind1().Apply0().Functor0());return{apply:(()=>{const f=monadStateT(o),d=f.Bind1().bind,m=f.Applicative0().pure;return h=>b=>d(h)(y=>d(b)(_=>m(y(_))))})(),Functor0:()=>u}},applicativeStateT$1=o=>{const u=o.Applicative0().pure;return{pure:f=>d=>u($Tuple(f,d)),Apply0:()=>applyStateT(o)}},monadStateStateT$2=o=>{const u=o.Applicative0().pure,f=monadStateT(o);return{state:d=>m=>u(d(m)),Monad0:()=>f}},traverseWithIndex_$1=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldrWithIndex(h=>{const b=m(h);return y=>{const _=b(y);return w=>u.apply(f(M=>identity$v)(_))(w)}})(o.pure(unit))},foldableWithIndexArray={foldrWithIndex:o=>u=>{const f=foldrArray(m=>h=>o(m._1)(m._2)(h))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldlWithIndex:o=>u=>{const f=foldlArray(m=>h=>o(h._1)(m)(h._2))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexArray.foldrWithIndex(d=>m=>h=>u(f(d)(m))(h))(o.mempty)},Foldable0:()=>foldableArray},traversableWithIndexArray={traverseWithIndex:o=>{const u=traversableWithIndexArray.FunctorWithIndex0().mapWithIndex,f=traversableWithIndexArray.Traversable2().sequence(o);return d=>{const m=u(d);return h=>f(m(h))}},FunctorWithIndex0:()=>functorWithIndexArray,FoldableWithIndex1:()=>foldableWithIndexArray,Traversable2:()=>traversableArray},random=Math.random,randomInt=o=>u=>()=>{const f=random();return unsafeClamp(floor((toNumber(u)-toNumber(o)+1)*f+toNumber(o)))},lcgPerturb=o=>u=>{const f=fromNumber(remainder(toNumber(48271)*toNumber(u)+toNumber(o))(toNumber(2147483647)));if(f.tag==="Just")return f._1;fail$3()},monadStateStateT$1=monadStateStateT$2(monadIdentity),functorStateT=functorStateT$1(functorIdentity),lcgStep=(()=>monadStateStateT$1.state(o=>$Tuple(o.newSeed,{...o,newSeed:lcgPerturb(0)(o.newSeed)})))(),applyGen=applyStateT(monadIdentity),chooseInt$p=o=>u=>{const f=toNumber(u),d=toNumber(o),m=functorStateT.map(toNumber)(lcgStep);return functorStateT.map(h=>unsafeClamp(floor(d+remainder(h)(f-d+1))))(applyGen.apply(functorStateT.map(numAdd)(m))(functorStateT.map(h=>2*h)(m)))},arbInt={arbitrary:chooseInt$p(-1e6)(1e6)},connectXToY_$1=(o,u,f,d)=>{o(m=>d.units[m].main.appendChild(d.units[u].main))(f)},attributeParent_=o=>u=>f=>()=>{f.units[u.id]&&(f.units[u.id].main.parentNode||o(u.pos)(m=>()=>f.units[u.parent].main.children[m]?(f.units[u.parent].main.insertBefore(f.units[u.id].main,f.units[u.parent].main.children[m]),!0):!1)()||(u.parent.indexOf("@!%")!==-1?f.units[u.parent].main.parentNode.replaceChild(f.units[u.id].main,f.units[u.parent].main):f.units[u.parent].main.appendChild(f.units[u.id].main)))},makeElement_=o=>u=>f=>d=>()=>{var m,h=f.id;d.scopes[f.scope]||(d.scopes[f.scope]=[]),d.scopes[f.scope].push(h),o(f.parent)(()=>()=>d.hydrating&&u&&(m=document.body.querySelectorAll("[data-deku-ssr-"+h+"]").item(0))?(d.units[h]={listeners:{},parent:f.parent,scope:f.scope,main:m},!0):!1)()||(d.units[h]={listeners:{},parent:f.parent,scope:f.scope,main:document.createElement(f.tag)})},makeText_=o=>u=>f=>d=>m=>()=>{var h=d.id,b;m.scopes[d.scope]||(m.scopes[d.scope]=[]),m.scopes[d.scope].push(h),o(d.parent)(_=>()=>{if(m.hydrating&&u&&(b=document.body.querySelectorAll("[data-deku-ssr-"+_+"]").item(0))){var w=0;if(b.childNodes.length===1)b.prepend(document.createTextNode(""));else for(var w=0;w<b.childNodes.length;w++)if(b.childNodes[w].nodeType===8&&b.childNodes[w].nodeValue===h){w=w-1;break}return m.units[h]={main:b.childNodes[w],parent:d.parent,scope:d.scope},!0}return!1})()||(m.units[h]={main:document.createTextNode(""),parent:d.parent,scope:d.scope},connectXToY_$1(f,h,d.parent,m))};function makeFFIDOMSnapshot(){return{units:{},scopes:{}}}const setProp_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;f.hydrating&&o&&!f.units[d]&&(dom=document.body.querySelectorAll("[data-deku-ssr-"+d+"]").item(0))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),f.units[d].main.tagName==="INPUT"&&u.key==="value"?f.units[d].main.value=m:f.units[d].main.tagName==="INPUT"&&u.key==="checked"?f.units[d].main.checked=m==="true":u.key==="disabled"?f.units[d].main.disabled=m==="true":f.units[d].main.setAttribute(u.key,m)}},setCb_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;if(f.hydrating&&o&&!f.units[d]&&(dom=document.body.querySelectorAll("[data-deku-ssr-"+d+"]").item(0))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),u.key==="@self@")m(f.units[d].main)();else{f.units[d].listeners[u.key]&&f.units[d].main.removeEventListener(u.key,f.units[d].listeners[u.key]);var h=b=>m(b)();f.units[d].main.addEventListener(u.key,h),f.units[d].listeners[u.key]=h}}},setText_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;u.units[f].main.nodeValue=o.text}},makePursx_=o=>u=>f=>d=>m=>()=>{var h,b,y=d.id,_=d.html,w=d.verb,M=d.cache,$=d.parent,g=d.scope,v=d.pxScope;if(!o(d.parent)(()=>()=>m.hydrating&&u&&(h=document.body.querySelectorAll("[data-deku-ssr-"+y+"]").item(0))?(m.units[y]={listeners:{},scope:g,parent:$,main:h},!0):!1)()){const S=Object.entries(M);for(var C=0;C<S.length;C++){const I=S[C][0];S[C][1]===!0?_=_.replace(w+I+w,'data-deku-attr-internal="'+I+'"'):_=_.replace(w+I+w,'<span style="display:contents;" data-deku-elt-internal="'+I+'"></span>')}b=document.createElement("div"),b.innerHTML=_.trim(),m.units[y]={listeners:{},scope:g,parent:$,main:b.firstChild}}m.scopes[g]||(m.scopes[g]=[]),m.scopes[g].push(y),b||(b=h),b.querySelectorAll("[data-deku-attr-internal]").forEach(function(S){var I=S.getAttribute("data-deku-attr-internal");const O=I+"@!%"+v;m.units[O]={listeners:{},main:S,scope:g},m.scopes[g].push(O)}),b.querySelectorAll("[data-deku-elt-internal]").forEach(function(S){var I=S.getAttribute("data-deku-elt-internal");const O=I+"@!%"+v;m.units[I+"@!%"+v]={listeners:{},main:S,scope:g},m.scopes[g].push(O)}),h||connectXToY_$1(f,y,$,m)},makeRoot_=o=>u=>()=>{var f=o.id;u.units[f]={main:o.root}},giveNewParent_=o=>u=>()=>{if(u.units[o.id]){var f=o.id,d=o.parent;u.units[f].containingScope=o.scope,u.units[d].main.prepend(u.units[f].main)}},disconnectElement_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;if(u.units[f].noop||u.units[f].containingScope&&!o.scopeEq(u.units[f].containingScope)(o.scope))return;u.units[f].main.remove()}},deleteFromCache_$2=o=>u=>()=>{u.units[o.id]&&delete u.units[o.id]},sendToPos_=o=>u=>()=>{if(u.units[o.id]){var f=o.id,d=o.pos,m=u.units[f].main.parentNode;m.insertBefore(u.units[f].main,m.children.length<=d?m.children[m.children.length-1]:d<0?m.children[0]:m.children[d])}},runOnJust=o=>u=>o.tag==="Just"?u(o._1):()=>!1,fullDOMInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},makeElement:makeElement_(runOnJust)(!1),attributeParent:attributeParent_(runOnJust),makeRoot:makeRoot_,makeText:makeText_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),makePursx:makePursx_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),setProp:setProp_(!1),setCb:setCb_(!1),setText:setText_,sendToPos:sendToPos_,deleteFromCache:deleteFromCache_$2,giveNewParent:giveNewParent_,disconnectElement:disconnectElement_}),windowImpl=function(){return window},nullImpl=null;function nullable(o,u,f){return o==null?u:f(o)}function notNull(o){return o}function _unsafeReadProtoTagged(o,u,f,d){if(typeof window<"u"){var m=window[f];if(m!=null&&d instanceof m)return u(d)}for(var h=d;h!=null;){var b=Object.getPrototypeOf(h),y=b.constructor.name;if(y===f)return u(d);if(y==="Object")return o;h=b}return o}function _body(o){return function(){return o.body}}const body=o=>{const u=_body(o);return()=>{const f=u();return nullable(f,Nothing,Just)}};function document$1(o){return function(){return o.document}}function location(o){return function(){return o.location}}function innerWidth(o){return function(){return o.innerWidth}}function innerHeight(o){return function(){return o.innerHeight}}function alert(o){return function(u){return function(){u.alert(o)}}}function localStorage$1(o){return function(){return o.localStorage}}function requestAnimationFrame(o){return function(u){return function(){return u.requestAnimationFrame(o)}}}function requestIdleCallback(o){return function(u){return function(f){return function(){return f.requestIdleCallback(u,o)}}}}function cancelIdleCallback(o){return function(u){return function(){return u.cancelIdleCallback(o)}}}const runInElement$p=o=>u=>()=>{const f=makeFFIDOMSnapshot(),d={value:0};return subscribe(deku(o)(u)(fullDOMInterpret(d)))(m=>m(f))()},runInBody$p=o=>{const u=bindE(bindE(windowImpl)(document$1))(body);return()=>{const f=u();return f.tag==="Just"?runInElement$p(f._1)(o)():()=>unit}},log=function(o){return function(){console.log(o)}},error=function(o){return function(){console.error(o)}},info=function(o){return function(){console.info(o)}},logShow$1=o=>u=>log(o.show(u)),animationFrame=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!1},d=binding(()=>{const h=requestAnimationFrame((()=>{const b=o(unit);return()=>{b();const y=f.value;if(!y)return d()();if(y)return unit;fail$3()}})())(u);return()=>(h(),unit)});return d()(),()=>f.value=!0}))(),sampleBy=o=>u=>f=>d=>f(o.map(m=>h=>m(u(h)))(o.map(applyFlipped)(d))),applyABehavior=o=>{const u={map:f=>d=>m=>d(o.map(h=>b=>h(f(b)))(m))};return{apply:f=>d=>m=>d(f(o.map(semigroupoidFn.compose)(m))),Functor0:()=>u}},applicativeABehavior=o=>{const u=applyABehavior(o);return{pure:f=>d=>o.map(applyFlipped(f))(d),Apply0:()=>u}},onMatch=()=>()=>()=>o=>u=>f=>unsafeHas(f.type)(o)?unsafeGet(f.type)(o)(f.value):u(f),case_=o=>_crashWith("Data.Variant: pattern match failure ["+(o.type+"]")),foldlRecordNil={foldlRecordRowList:o=>u=>f=>d=>u},foldlRecordCons=o=>()=>u=>f=>({foldlRecordRowList:d=>m=>h=>b=>f.foldlRecordRowList(d)(u.foldingWithIndex(d)($$Proxy)(m)(unsafeGet(o.reflectSymbol($$Proxy))(b)))($$Proxy)(b)}),categoryFn={identity:o=>o,Semigroupoid0:()=>semigroupoidFn};function unsafeUnionFn(o,u){var f={};for(var d in u)({}).hasOwnProperty.call(u,d)&&(f[d]=u[d]);for(var m in o)({}).hasOwnProperty.call(o,m)&&(f[m]=o[m]);return f}function copyRecord(o){var u={};for(var f in o)({}).hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}function unsafeInsert(o){return function(u){return function(f){return f[o]=u,f}}}function unsafeModify(o){return function(u){return function(f){return f[o]=u(f[o]),f}}}const modify=()=>()=>o=>u=>f=>d=>unsafeModify(o.reflectSymbol(u))(f)(d),insert$1=()=>()=>o=>u=>f=>d=>unsafeInsert(o.reflectSymbol(u))(f)(d),identity$n=o=>o,mapRecordWithIndexNil={mapRecordWithIndexBuilder:o=>u=>identity$n},mapRecordWithIndexCons=o=>u=>f=>()=>()=>({mapRecordWithIndexBuilder:d=>m=>{const h=modify()()(o)($$Proxy)(u.mappingWithIndex(m)($$Proxy)),b=f.mapRecordWithIndexBuilder($$Proxy)(m);return y=>h(b(y))}}),hmapRecord=()=>o=>({hmap:(()=>{const u=o.mapRecordWithIndexBuilder($$Proxy);return f=>{const d=u(f);return m=>d(copyRecord(m))}})()}),compactableArray={compact:o=>run$2(()=>{const u=newSTArray();return iterate($Iterator(d=>index(o)(d),{value:0}))((()=>{const d=map_(m=>unit);return m=>d((()=>{if(m.tag==="Nothing")return()=>0;if(m.tag==="Just")return pushAll([m._1])(u);fail$3()})())})())(),unsafeFreeze(u)()}),separate:o=>run$2(()=>{const u=newSTArray(),f=newSTArray();iterate($Iterator(b=>index(o)(b),{value:0}))((()=>{const b=map_(y=>unit);return y=>b((()=>{if(y.tag==="Left")return pushAll([y._1])(u);if(y.tag==="Right")return pushAll([y._1])(f);fail$3()})())})())();const m=unsafeFreeze(u)(),h=unsafeFreeze(f)();return{left:m,right:h}})},profunctorFn={dimap:o=>u=>f=>d=>u(f(o(d)))},identity$m=o=>o,strongFn=(()=>({first:o=>u=>$Tuple(o(u._1),u._2),second:functorTuple.map,Profunctor0:()=>profunctorFn}))(),fanout$1=o=>{const u=o.Semigroupoid0(),f=o.Semigroupoid0();return d=>{const m=d.Profunctor0().dimap;return h=>b=>u.compose(f.compose(d.second(b))(d.first(h)))(m(identity$m)(y=>$Tuple(y,y))(o.identity))}},fanout=fanout$1(categoryFn)(strongFn),affineTraversal=o=>u=>f=>d=>{const m=fanout(o)(u),h=d.Profunctor0().dimap;return b=>h(m)(y=>{if(y._2.tag==="Left")return y._2._1;if(y._2.tag==="Right")return y._1(y._2._1);fail$3()})(f.second(d.right(b)))},indexArray={ix:o=>u=>f=>affineTraversal(d=>m=>{const h=updateAt(o)(m)(d);if(h.tag==="Nothing")return d;if(h.tag==="Just")return h._1;fail$3()})(d=>{const m=index(d)(o);if(m.tag==="Nothing")return $Either("Left",d);if(m.tag==="Just")return $Either("Right",m._1);fail$3()})(u)(f)};function wrap(o){return function(u){return function(f){return o.apply(f,[u])}}}const toPrecisionNative=wrap(Number.prototype.toPrecision),toFixedNative=wrap(Number.prototype.toFixed),toExponentialNative=wrap(Number.prototype.toExponential),$Format=(o,u)=>({tag:o,_1:u}),clamp$3=o=>u=>f=>{const d=ordInt.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordInt.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},toStringWith=o=>{if(o.tag==="Precision")return toPrecisionNative(o._1);if(o.tag==="Fixed")return toFixedNative(o._1);if(o.tag==="Exponential")return toExponentialNative(o._1);fail$3()},choiceFn=(()=>({left:o=>u=>{if(u.tag==="Left")return $Either("Left",o(u._1));if(u.tag==="Right")return $Either("Right",u._1);fail$3()},right:functorEither.map,Profunctor0:()=>profunctorFn}))(),$AttributeValue=(o,u)=>({tag:o,_1:u}),$Class=()=>({tag:"Class"}),Class=$Class(),attrUl_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrSpan_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrP_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrLi_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrLabel_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrInput_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrImg_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrH2_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrH1_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrDiv_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrButton_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},klass=o=>u=>(f,d)=>u(f,m=>{const h=o.attr(Class)(m);return d(h)}),klass_=o=>u=>klass(o)(applicativeEvent.pure(u)),vbussed$1=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(f)),vbussedUncurried$1=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(curry(f)));function _target(o){return o.target}function value(o){return function(){return o.value}}function valueAsNumber(o){return function(){return o.valueAsNumber}}const for_$6=for_$9(applicativeEffect)(foldableMaybe),slider=o=>(u,f)=>{const d=applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","range")})(u,f),m=o(u,h=>f({key:"input",value:$AttributeValue("Cb'",b=>()=>(for_$6((()=>{const y=nullable(_target(b),Nothing,Just);if(y.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",y._1);if(y.tag==="Nothing")return Nothing;fail$3()})())(y=>bindE(valueAsNumber(y))(h))(),!0))}));return()=>(d(),m())};function toRFC3896(o){return o.replace(/[!'()*]/g,function(u){return"%"+u.charCodeAt(0).toString(16)})}const _encodeURIComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)))}catch(m){return u(m)}},_encodeFormURLComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)).replace(/%20/g,"+"))}catch(m){return u(m)}};function _decodeURIComponent(o,u,f){try{return u(decodeURIComponent(f))}catch(d){return o(d)}}const Reflectable$Dict$3={reflectType:()=>"~"},pursxToElementNil={pursxToElement:o=>u=>f=>({cache:empty$2,element:d=>m=>plusEvent.empty})},makePursx$p=o=>u=>()=>()=>f=>d=>m=>h=>$Entity("Element'",b=>y=>backdoor.makeLemmingEvent(_=>w=>()=>{const M=y.ids(),$=y.ids();b.raiseId(M)();const g=f.pursxToElement($)($$Proxy)(h),v=_((()=>{const C=applicativeEvent.pure(y.makePursx({id:M,parent:b.parent,cache:g.cache,pxScope:$,scope:b.scope,html:o.reflectType(m),verb:u.reflectType(d)})),S=g.element(b)(y);return(I,O)=>{const x=C(I,O),F=S(I,O);return()=>(x(),F())}})())(w)(),k=w(y.deleteFromCache({id:M}));return()=>(k(),v())})),loadingPage=makePursx$p({reflectType:()=>`
    <div class="wave-center">
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
</div>`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),monadEffectEffect={liftEffect:o=>o,Monad0:()=>monadEffect};function now(){return Date.now()}const requestIdleCallbackIsDefined=()=>window.requestIdleCallback!==void 0,identity$l=o=>o,convertRecordOptionsNil={convertRecordOptions:o=>u=>f=>identity$l},convertRecordOptionsCons=o=>u=>()=>()=>()=>f=>({convertRecordOptions:d=>m=>h=>{const b=insert$1()()(f)($$Proxy)(u.convertOption(d)($$Proxy)(unsafeGet(f.reflectSymbol($$Proxy))(h))),y=o.convertRecordOptions(d)($$Proxy)(h);return _=>b(y(_))}}),identity$k=o=>o,mapAccum$c=mapAccum$e(eventIsEvent),withUnsubscribe=o=>backdoor.makeEvent(u=>()=>{const f={value:!0},d={value:()=>unit},m=subscribe(o)(b=>{const y=u({unsubscribe:()=>(f.value=!1,bindE(()=>d.value)(identity$u)()),value:b});return()=>f.value?y():unit})(),h=f.value;if(!h)return m(),()=>unit;if(h)return d.value=m,m;fail$3()}),scheduleCf=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:o},m={value:()=>unit},h=subscribe(u)(b=>()=>{const y=d.value,_=y(b);return f(force(_)._1)(),d.value=force(_)._2,unit})();return m.value=h,bindE(()=>m.value)(identity$u)}),emitUntil=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(withUnsubscribe(u))(m=>{const h=o(m.value);if(h.tag==="Just")return f(h._1);if(h.tag==="Nothing")return m.unsubscribe;fail$3()});return()=>d()}),oneOff=o=>u=>compactableEvent.compact(emitUntil(identity$k)(mapAccum$c(f=>d=>{const m=o(f);if(d)return $Tuple(!0,Nothing);if(m.tag==="Nothing")return $Tuple(!1,$Maybe("Just",Nothing));if(m.tag==="Just")return $Tuple(!0,$Maybe("Just",$Maybe("Just",m._1)));fail$3()})(u)(!1))),insert=o=>()=>()=>u=>f=>d=>unsafeSet(o.reflectSymbol(u))(f)(d),intercalate$1=function(o){return function(u){return u.join(o)}},genericShowArgsNoArguments={genericShowArgs:o=>[]},genericShowArgsProduct=o=>u=>({genericShowArgs:f=>concatArray(o.genericShowArgs(f._1))(u.genericShowArgs(f._2))}),genericShowConstructor=o=>u=>({"genericShow'":f=>{const d=u.reflectSymbol($$Proxy),m=o.genericShowArgs(f);return m.length===0?d:"("+(intercalate$1(" ")(concatArray([d])(m))+")")}}),runEffectFn1=function(u){return function(f){return function(){return u(f)}}};function unsafeReadPropImpl(o,u,f,d){return d==null?o:u(d[f])}const unsafeReadProp=o=>{const u=monadThrowExceptT(o).throwError,f=applicativeExceptT$3(o).pure;return d=>m=>unsafeReadPropImpl(u($NonEmpty($ForeignError("TypeMismatch","object",typeOf(m)),Nil)),f,d,m)},_parseJSON=JSON.parse,_undefined=void 0,_unsafeStringify=JSON.stringify,applicativeExceptT$2=applicativeExceptT$3(monadIdentity),bindExceptT=bindExceptT$1(monadIdentity),identity$j=o=>o,traverseWithIndex=(()=>traversableWithIndexArray.traverseWithIndex(applicativeExceptT$2))(),readArray1=readArray$1(monadIdentity),readProp=unsafeReadProp(monadIdentity),writeJSON$1=o=>u=>_unsafeStringify(o.writeImpl(u)),writeForeignString={writeImpl:unsafeCoerce},writeForeignNumber={writeImpl:unsafeCoerce},writeForeignInt={writeImpl:unsafeCoerce},writeForeignBoolean={writeImpl:unsafeCoerce},readString={readImpl:unsafeReadTagged$2(monadIdentity)("String")},readNumber={readImpl:unsafeReadTagged$2(monadIdentity)("Number")},readInt={readImpl:readInt$1(monadIdentity)},readMaybe$3=o=>({readImpl:u=>{if(isNull(u)||isUndefined(u))return applicativeExceptT$2.pure(Nothing);const f=o.readImpl(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$Maybe("Just",f._1));fail$3()}}),readFieldsNil={getFields:o=>u=>applicativeExceptT$2.pure(identity$j)},readBoolean={readImpl:unsafeReadTagged$2(monadIdentity)("Boolean")},readArray=o=>({readImpl:(()=>{const u=traverseWithIndex(f=>d=>withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtIndex(f)))(o.readImpl(d)));return f=>bindExceptT.bind(readArray1(f))(u)})()}),parseJSON=(()=>{const o=bifunctorEither.bimap(f=>$NonEmpty($ForeignError("ForeignError",message(f)),Nil))(identity$r),u=runEffectFn1(_parseJSON);return f=>o(unsafePerformEffect((()=>{const d=u(f);return catchException(m=>()=>$Either("Left",m))(()=>{const m=d();return $Either("Right",m)})})()))})(),readJSON$2=o=>u=>bindExceptT.bind(parseJSON(u))(o.readImpl),nilWriteForeignFields={writeImplFields:o=>u=>identity$j},readRecord=()=>o=>({readImpl:u=>{const f=o.getFields($$Proxy)(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",f._1({}));fail$3()}}),consWriteForeignFields$1=o=>u=>f=>()=>()=>()=>({writeImplFields:d=>m=>{const h=insert$1()()(o)($$Proxy)(u.writeImpl(unsafeGet(o.reflectSymbol($$Proxy))(m))),b=f.writeImplFields($$Proxy)(m);return y=>h(b(y))}}),applyEither=o=>u=>f=>{if(u.tag==="Left"){if(f.tag==="Right")return $Either("Left",u._1);if(f.tag==="Left")return $Either("Left",o.append(u._1)(f._1));fail$3()}if(u.tag==="Right"){if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",u._1(f._1));fail$3()}fail$3()},exceptTApply=o=>u=>{const f=u.Apply0(),d=f.Functor0().map;return m=>h=>f.apply(d(applyEither(o))(m))(h)},exceptTApply1=exceptTApply(semigroupNonEmptyList)(applicativeIdentity),readFieldsCons$1=o=>u=>f=>()=>()=>({getFields:d=>m=>{const h=o.reflectSymbol($$Proxy);return exceptTApply1((()=>{const b=bindExceptT.bind(withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtProperty(h)))(bindExceptT.bind(readProp(h)(m))(u.readImpl)))(y=>applicativeExceptT$2.pure(insert$1()()(o)($$Proxy)(y)));if(b.tag==="Left")return $Either("Left",b._1);if(b.tag==="Right")return $Either("Right",semigroupoidFn.compose(b._1));fail$3()})())(f.getFields($$Proxy)(m))}}),_on={type:"on",value:unit},_off={type:"off",value:unit},$PlayBufOptions=()=>({tag:"PlayBufOptions"}),identity$i=o=>o,PlayBufOptions=$PlayBufOptions(),initialGainNumber={toInitializeGain:o=>({gain:o})},initialConvolverBrowserAu={toInitializeConvolver:o=>({buffer:o})},convertOptionPlayBufOptio={convertOption:o=>u=>identity$i},defaultPlayBuf={bufferOffset:0,playbackRate:1,duration:Nothing},indexImpl=o=>u=>u[o],__internalOcarinaFlatten=flatten({doLogic:absurd,ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectXFromY({from:u.id,to:u.parent}),toElt:o=>o}),convolver=o=>u=>f=>{const d=o.toInitializeConvolver(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=(()=>{const M=applicativeEvent.pure(h.makeConvolver({id:_,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer})),$=__internalOcarinaFlatten({parent:$Maybe("Just",_),scope:m.scope,raiseId:g=>()=>unit})(h)($Entity("FixedChildren'",f));return b((g,v)=>{const k=M(g,v),C=$(g,v);return()=>(k(),C())})(y)})()();return(()=>{const M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})()}))},speaker=o=>u=>backdoor.makeLemmingEvent(f=>d=>()=>{const m=u.ids();return d(u.makeSpeaker({id:m}))(),f(__internalOcarinaFlatten({parent:$Maybe("Just",m),scope:$Scope("Local","toplevel"),raiseId:h=>()=>unit})(u)($Entity("FixedChildren'",o)))(d)()}),tmpResolveAU=o=>u=>f=>d=>onMatch()()()({numeric:m=>applicativeEvent.pure(f({type:"numeric",value:m})),envelope:m=>applicativeEvent.pure(f({type:"envelope",value:m})),cancel:m=>applicativeEvent.pure(f({type:"cancel",value:m})),sudden:m=>applicativeEvent.pure(f({type:"sudden",value:m})),unit:m=>{const h=gain_(initialGainNumber)(1)([m.u]);return backdoor.makeLemmingEvent(b=>y=>()=>{const _={value:Nothing};return b((()=>{const w=__internalOcarinaFlatten({parent:Nothing,scope:o,raiseId:$=>()=>(_.value=$Maybe("Just",$),unit)})(u)(h),M=backdoor.makeLemmingEvent($=>g=>()=>{const v=_.value;return(()=>{if(v.tag==="Nothing")return()=>unit;if(v.tag==="Just")return g(f({type:"unit",value:{i:v._1}}));fail$3()})()(),()=>unit});return($,g)=>{const v=w($,g),k=M($,g);return()=>(v(),k())}})())(y)()})}})(case_)(d),gain_=o=>u=>f=>gain(o)(u)(plusEvent.empty)(f),gain=o=>u=>f=>d=>{const m=o.toInitializeGain(u);return $Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=b.ids();h.raiseId(w)();const M=(()=>{const $=applicativeEvent.pure(b.makeGain({id:w,parent:h.parent,scope:(()=>{if(h.scope.tag==="Global")return Nothing;if(h.scope.tag==="Local")return $Maybe("Just",h.scope._1);fail$3()})(),gain:m.gain})),g=keepLatest((k,C)=>f(k,S=>{const I=onMatch()()()({gain:tmpResolveAU(h.scope)(b)(O=>b.setGain({id:w,gain:O}))})(case_)(S);return C(I)})),v=__internalOcarinaFlatten({parent:$Maybe("Just",w),scope:h.scope,raiseId:k=>()=>unit})(b)($Entity("FixedChildren'",d));return y((k,C)=>{const S=$(k,C),I=g(k,C),O=v(k,C);return()=>(S(),I(),O())})(_)})()();return(()=>{const $=_(b.deleteFromCache({id:w}));return()=>($(),M())})()}))},__playBuf=o=>u=>f=>{const d=o.toInitializePlayBuf(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=(()=>{const M=applicativeEvent.pure(h.makePlayBuf({id:_,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer,playbackRate:d.playbackRate,bufferOffset:d.bufferOffset,duration:d.duration})),$=keepLatest((g,v)=>f(g,k=>{const C=onMatch()()()({buffer:S=>applicativeEvent.pure(h.setBuffer({id:_,buffer:S})),playbackRate:tmpResolveAU(m.scope)(h)(S=>h.setPlaybackRate({id:_,playbackRate:S})),bufferOffset:S=>applicativeEvent.pure(h.setBufferOffset({id:_,bufferOffset:S})),onOff:S=>applicativeEvent.pure(h.setOnOff({id:_,onOff:S})),duration:S=>applicativeEvent.pure(h.setDuration({id:_,duration:S}))})(case_)(k);return v(C)}));return b((g,v)=>{const k=M(g,v),C=$(g,v);return()=>(k(),C())})(y)})()();return(()=>{const M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})()}))},playBuf$5=o=>__playBuf(o),playBuf$4=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$z=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph$1=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,b=>h(b)))))]),convolver(initialConvolverBrowserAu)(o.longVerb)([$Entity("DynamicChildren'",(u,f)=>o.longs(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([playBuf$4({buffer:o.silence})(oneOf$z([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),b=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(b)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>.94?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*1+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])],refToBehavior=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o.value;return f(d(m))()})),misbehavior=o=>u=>f=>compactableEvent.compact(sampleBy(functorEvent)(d=>m=>{const h=o(d);if(h.tag==="Nothing")return Nothing;if(h.tag==="Just")return $Maybe("Just",m(h._1));fail$3()})(u)(f)),howShouldIBehave=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m={value:o},h=subscribe(u)(y=>()=>(m.value=y,unit))(),b=subscribe(f)(y=>()=>{const _=m.value,w=_();return d(y(w))()})();return()=>(h(),b())}),$RequestHeader=(o,u,f)=>({tag:o,_1:u,_2:f}),$ResponseFormat=(o,u)=>({tag:o,_1:u}),identity$h=o=>o,$ResponseHeader=(o,u)=>({tag:"ResponseHeader",_1:o,_2:u}),ResponseHeader=o=>u=>$ResponseHeader(o,u);function id(o){return o}function stringify$1(o){return JSON.stringify(o)}const jsonEmptyObject=empty$2;function _jsonParser(o,u,f){try{return u(JSON.parse(f))}catch(d){return o(d.message)}}const traverse$4=(()=>traversableArray.traverse(applicativeMaybe))(),encode=(()=>{const o=functorMaybe.map(joinWith("&")),u=traverse$4(f=>{if(f._2.tag==="Nothing")return _encodeFormURLComponent(d=>Nothing,Just,f._1);if(f._2.tag==="Just")return applyMaybe.apply((()=>{const d=_encodeFormURLComponent(m=>Nothing,Just,f._1);return d.tag==="Just"?$Maybe("Just",m=>d._1+("="+m)):Nothing})())(_encodeFormURLComponent(d=>Nothing,Just,f._2._1));fail$3()});return f=>o(u(f))})(),$Method=o=>({tag:o}),GET=$Method("GET"),print=o=>{if(o.tag==="Left"){if(o._1.tag==="OPTIONS")return"OPTIONS";if(o._1.tag==="GET")return"GET";if(o._1.tag==="HEAD")return"HEAD";if(o._1.tag==="POST")return"POST";if(o._1.tag==="PUT")return"PUT";if(o._1.tag==="DELETE")return"DELETE";if(o._1.tag==="TRACE")return"TRACE";if(o._1.tag==="CONNECT")return"CONNECT";if(o._1.tag==="PROPFIND")return"PROPFIND";if(o._1.tag==="PROPPATCH")return"PROPPATCH";if(o._1.tag==="MKCOL")return"MKCOL";if(o._1.tag==="COPY")return"COPY";if(o._1.tag==="MOVE")return"MOVE";if(o._1.tag==="LOCK")return"LOCK";if(o._1.tag==="UNLOCK")return"UNLOCK";if(o._1.tag==="PATCH")return"PATCH";fail$3()}if(o.tag==="Right")return o._1;fail$3()},fromEffectFnAff=o=>makeAff(u=>()=>{const f=o(d=>u($Either("Left",d))(),d=>u($Either("Right",d))());return d=>makeAff(m=>()=>(f(d,h=>m($Either("Left",h))(),h=>m($Either("Right",h))()),nonCanceler))});function _ajax(o,u,f,d,m){return function(h,b){var y=o.newXHR(),_=o.fixupUrl(m.url,y);if(y.open(m.method||"GET",_,!0,m.username,m.password),m.headers)try{for(var w=0,M;(M=m.headers[w])!=null;w++)y.setRequestHeader(M.field,M.value)}catch(g){h(g)}var $=function(g){return function(){h(new Error(g))}};return y.onerror=$(f),y.ontimeout=$(u),y.onload=function(){b({status:y.status,statusText:y.statusText,headers:y.getAllResponseHeaders().split(`\r
`).filter(function(g){return g.length>0}).map(function(g){var v=g.indexOf(":");return d(g.substring(0,v))(g.substring(v+2))}),body:y.response})},y.responseType=m.responseType,y.withCredentials=m.withCredentials,y.timeout=m.timeout,y.send(m.content),function(g,v,k){try{y.abort()}catch(C){return v(C)}return k()}}}const $Error=(o,u,f)=>({tag:o,_1:u,_2:f}),pure$3=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$2=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),unsafeReadTagged=unsafeReadTagged$2(monadIdentity),alt=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),any=(()=>foldableArray.foldMap((()=>{const o={append:u=>f=>u||f};return{mempty:!1,Semigroup0:()=>o}})()))(),$$try$1=$$try$2(monadErrorAff),TimeoutError=$Error("TimeoutError"),RequestFailedError=$Error("RequestFailedError"),request=o=>u=>{const f=(()=>{if(u.responseFormat.tag==="ArrayBuffer")return unsafeReadTagged("ArrayBuffer");if(u.responseFormat.tag==="Blob")return unsafeReadTagged("Blob");if(u.responseFormat.tag==="Document")return m=>alt(unsafeReadTagged("Document")(m))(alt(unsafeReadTagged("XMLDocument")(m))(unsafeReadTagged("HTMLDocument")(m)));if(u.responseFormat.tag==="Json"){const m=bindExceptT$1(monadIdentity),h=unsafeReadTagged("String");return b=>m.bind(h(b))(y=>u.responseFormat._1((()=>{if(y==="")return pure$3(jsonEmptyObject);const _=_jsonParser(Left,Right,y);if(_.tag==="Left")return fail$2($ForeignError("ForeignError",_._1));if(_.tag==="Right")return pure$3(_._1);fail$3()})()))}if(u.responseFormat.tag==="String")return unsafeReadTagged("String");if(u.responseFormat.tag==="Ignore"){const m=u.responseFormat._1(pure$3(unit));return h=>m}fail$3()})(),d=m=>_map(h=>{if(h.tag==="Right"){const b=f(h._1.body);if(b.tag==="Left")return $Either("Left",$Error("ResponseBodyError",b._1._1,h._1));if(b.tag==="Right")return $Either("Right",{body:b._1,headers:h._1.headers,status:h._1.status,statusText:h._1.statusText});fail$3()}if(h.tag==="Left")return $Either("Left",(()=>{const b=message(h._1);return b==="AffjaxTimeoutErrorMessageIdent"?TimeoutError:b==="AffjaxRequestFailedMessageIdent"?RequestFailedError:$Error("XHROtherError",h._1)})());fail$3()})($$try$1(fromEffectFnAff(_ajax(o,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",ResponseHeader,{method:print(u.method),url:u.url,headers:arrayMap(h=>({field:(()=>{if(h.tag==="Accept")return"Accept";if(h.tag==="ContentType")return"Content-Type";if(h.tag==="RequestHeader")return h._1;fail$3()})(),value:(()=>{if(h.tag==="Accept"||h.tag==="ContentType")return h._1;if(h.tag==="RequestHeader")return h._2;fail$3()})()}))((()=>{const h=(()=>{if(u.content.tag==="Just")return u.content._1.tag==="FormURLEncoded"?$Maybe("Just","application/x-www-form-urlencoded"):u.content._1.tag==="Json"?$Maybe("Just","application/json"):Nothing;if(u.content.tag==="Nothing")return Nothing;fail$3()})();if(h.tag==="Just"){if(u.responseFormat.tag==="Json"){const b=(()=>any(y=>{if(y.tag==="Accept")return!0;if(y.tag==="ContentType")return!1;if(y.tag==="RequestHeader")return y._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)))();return any(y=>{if(y.tag==="Accept")return!1;if(y.tag==="ContentType")return!0;if(y.tag==="RequestHeader")return y._1==="Content-Type";fail$3()})(b)?b:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(b))}return any(b=>{if(b.tag==="Accept")return!1;if(b.tag==="ContentType")return!0;if(b.tag==="RequestHeader")return b._1==="Content-Type";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(u.headers))}return u.responseFormat.tag==="Json"?any(b=>{if(b.tag==="Accept")return!0;if(b.tag==="ContentType")return!1;if(b.tag==="RequestHeader")return b._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)):u.headers})()),content:m,responseType:(()=>{if(u.responseFormat.tag==="ArrayBuffer")return"arraybuffer";if(u.responseFormat.tag==="Blob")return"blob";if(u.responseFormat.tag==="Document")return"document";if(u.responseFormat.tag==="Json"||u.responseFormat.tag==="String")return"text";if(u.responseFormat.tag==="Ignore")return"";fail$3()})(),username:(()=>{if(u.username.tag==="Nothing")return nullImpl;if(u.username.tag==="Just")return u.username._1;fail$3()})(),password:(()=>{if(u.password.tag==="Nothing")return nullImpl;if(u.password.tag==="Just")return u.password._1;fail$3()})(),withCredentials:u.withCredentials,timeout:(()=>u.timeout.tag==="Just"?u.timeout._1:0)()}))));if(u.content.tag==="Nothing")return d(nullImpl);if(u.content.tag==="Just"){if(u.content._1.tag==="ArrayView")return d(u.content._1._1(unsafeCoerce));if(u.content._1.tag==="Blob"||u.content._1.tag==="Document"||u.content._1.tag==="String"||u.content._1.tag==="FormData")return d(u.content._1._1);if(u.content._1.tag==="FormURLEncoded"){const m=encode(u.content._1._1);return m.tag==="Just"?d(m._1):_pure($Either("Left",$Error("RequestContentError","Body contains values that cannot be encoded as application/x-www-form-urlencoded")))}if(u.content._1.tag==="Json")return d(stringify$1(u.content._1._1));fail$3()}fail$3()},printError=o=>{if(o.tag==="RequestContentError")return"There was a problem with the request content: "+o._1;if(o.tag==="ResponseBodyError")return"There was a problem with the response body: "+renderForeignError(o._1);if(o.tag==="TimeoutError")return"There was a problem making the request: timeout";if(o.tag==="RequestFailedError")return"There was a problem making the request: request failed";if(o.tag==="XHROtherError")return"There was a problem making the request: "+message(o._1);fail$3()},driver={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(o){return o||"/"}};function dateMethod(o,u){return u[o]()}function parse$1(o){return function(){return new Date(o)}}const readJSON$1=readJSON$2(readRecord()(readFieldsCons$1({reflectSymbol:()=>"datetime"})(readString)(readFieldsNil)()())),show1$4=(()=>showNonEmptyList$1(showForeignError).show)(),clamp$2=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},withCTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o();return f({time:m,value:d})()})),halfITime=intDiv(2e3)(2),cnow=()=>{const o={value:0},u={value:0},f={value:Nothing},d=setIntervalImpl(2e3)((()=>{const m=_makeFiber(ffiUtil$1,_bind(_liftEffect(now))(h=>_bind(request(driver)({method:$Either("Left",GET),url:"https://worldtimeapi.org/api/ip",headers:[],content:Nothing,username:Nothing,password:Nothing,withCredentials:!1,responseFormat:$ResponseFormat("String",identity$h),timeout:Nothing}))(b=>{if(b.tag==="Left")return _liftEffect(error(showStringImpl(printError(b._1))));if(b.tag==="Right"){const y=readJSON$1(b._1.body);if(y.tag==="Left")return _liftEffect(error(show1$4(y._1)));if(y.tag==="Right")return _liftEffect(()=>{const _=now(),w=parse$1(y._1.datetime)(),M=u.value;return o.value=M,u.value=(_+h)/2-dateMethod("getTime",w),f.value=$Maybe("Just",_)});fail$3()}fail$3()})));return()=>(m().run(),unit)})())();return{unsubscribe:clearIntervalImpl(d),cnow:()=>{const m=f.value,h=now();if(m.tag==="Nothing")return{time:h,diff:0,pdiff:0};if(m.tag==="Just"){const b=clamp$2(0)(1)((h-m._1)/toNumber(halfITime)),y=o.value,_=u.value;return{time:h-(y*(1-b)+_*b),diff:_,pdiff:y}}fail$3()}}},cInstant=o=>u=>{const f=withCTime(o)(u);return(d,m)=>f(d,h=>{const b=h.value(h.time);return m(b)})},mapAccum$b=mapAccum$e(eventIsEvent),apply=(()=>applyABehavior(functorEvent).apply)(),timeFromRate=o=>u=>f=>mapAccum$b(d=>m=>{const h=(()=>{if(m.prevTime.tag==="Nothing")return(d.acTime-0)/d.behaviors.clength;if(m.prevTime.tag==="Just")return(d.acTime-m.prevTime._1)/d.behaviors.clength;fail$3()})()+(()=>{if(m.prevBeats.tag==="Nothing")return 0;if(m.prevBeats.tag==="Just")return m.prevBeats._1;fail$3()})();return $Tuple({prevTime:$Maybe("Just",d.acTime),prevBeats:$Maybe("Just",h)},{prevTime:m.prevTime,prevBeats:m.prevBeats,time:d.acTime,beats:h,epochTime:d.behaviors.epochTime})})(sampleBy(functorEvent)(d=>m=>({behaviors:d,acTime:m}))(apply(d=>u((m,h)=>d(m,b=>h(y=>b(_=>({clength:y.rate,epochTime:_}))))))(d=>cInstant(o)((m,h)=>d(m,b=>h(y=>b(y))))))((d,m)=>f(d,h=>m(h.real))))({prevTime:Nothing,prevBeats:Nothing}),initializeWithEmpty=o=>u=>f=>(d,m)=>{const h=applicativeEvent.pure(o.empty)(d,m),b=f(d,y=>m(u.pure(y)));return()=>(h(),b())},emitsTouchEvents=()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}};function _getItem(o){return function(u){return function(){return u.getItem(o)}}}function setItem(o){return function(u){return function(f){return function(){f.setItem(o,u)}}}}const getItem=o=>{const u=_getItem(o);return f=>{const d=u(f);return()=>{const m=d();return nullable(m,Nothing,Just)}}},fullscreenEnabled=()=>!!document.fullscreenEnabled,requestFullScreen=o=>u=>()=>{if(document.body.requestFullscreen)return document.body.requestFullscreen().then(u,o);o(),Promise.reject()},exitFullScreen=o=>u=>()=>{if(document.exitFullscreen)return document.fullscreenElement?document.exitFullscreen().then(u,o):Promise.resolve(u());o(),Promise.reject()},simpleExitFullScreen=exitFullScreen(()=>unit)(()=>unit),fullScreenFlow=o=>()=>{const u=emitsTouchEvents();if(!u)return o();if(u){const f=windowImpl(),d=localStorage$1(f)(),m=getItem("full-screen-grant-state")(d)(),h=()=>fullscreenEnabled()?requestFullScreen(()=>(setItem("full-screen-grant-state")("denied")(d)(),o()))(()=>(setItem("full-screen-grant-state")("granted")(d)(),o()))():o();if(m.tag==="Nothing")return h();if(m.tag==="Just")return m._1==="granted"?h():o();fail$3()}fail$3()},distinctColors=["#b09b34","#3c66e8","#e99084","#88502e","#39c14a","#9139b6","#80ce4f","#985fe0","#6ab337","#d071e6","#41961c","#c047b4","#49cc70","#c23198","#34a54f","#724fbe","#aec334","#835d26","#a94153","#3c4dbb","#d0b737","#235fc9","#749e20","#646bde","#97ad3f","#987dee","#378736","#ef6ecf","#4acd95","#e84c93","#69aa55","#8d4aaa","#8ec677","#554baa","#e5a43e","#4483f2","#e2751e","#5e64c1","#6c8121","#bc87e0","#3f7429","#bd67ba","#445a06","#6f87de","#bb8028","#499ae1","#e13f3d","#4ed1c3","#ad7b4c","#8a4756","#e8426a","#3f9f72","#c72b67","#73bf95","#9c418c","#7c9d57","#644999","#7a781f","#8567bb","#576c1c","#864490","#beba6f","#3464ab","#e46b42","#36bddc","#b23b1a","#6ab0e1","#b42d3b","#31a49d","#ab356f","#3b8251","#dc7ab6","#b26462","#a6503b","#296437","#cca0e2","#5b5b10","#969de0","#8f711c","#625ca1","#dc8651","#4280b1","#a2571e","#5d679c","#705d18","#764e90","#476025","#9577b8","#69773d","#e999c0","#1a6447","#de6762","#368166","#df728d","#5f5c28","#ae6b9c","#978c4d","#864e78","#dda573","#9a456a"],buttonCls="my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded",buttonActiveCls="my-4 bg-white hover:bg-slate-300 text-black font-semibold hover:text-zinc-100 py-2 px-4 border border-slate-300 hover:border-transparent rounded",mapAccum$a=mapAccum$e(eventIsEvent),lpf=o=>{const u=mapAccum$a(f=>d=>$Tuple($Maybe("Just",f),(()=>{if(d.tag==="Nothing")return f;if(d.tag==="Just")return d._1*o+f*(1-o);fail$3()})()));return f=>u(f)(Nothing)},vbust$2=()=>o=>u=>f=>vbackdoor.vbus()(o)(u)(d=>m=>f($Tuple(d,m))),mapAccum$9=mapAccum$e(eventIsEvent),dedup$p=o=>u=>compactableEvent.compact(mapAccum$9(f=>d=>$Tuple($Maybe("Just",f),(()=>{if(d.tag==="Nothing")return $Maybe("Just",f);if(d.tag==="Just")return o(d._1)(f)?Nothing:$Maybe("Just",f);fail$3()})()))(u)(Nothing)),dedup=o=>dedup$p(o.eq),$Column=o=>({tag:o}),$EventV0=(o,u)=>({tag:o,_1:u}),$Event_=o=>({tag:"EventV0",_1:o}),$Position=o=>({tag:o}),$Track=o=>({tag:"TrackV0",_1:o}),$Version=o=>({tag:"Version",_1:o}),ownerIsSymbol={reflectSymbol:()=>"owner"},privateIsSymbol={reflectSymbol:()=>"private"},titleIsSymbol={reflectSymbol:()=>"title"},writeForeignMaybe$2={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},urlIsSymbol={reflectSymbol:()=>"url"},versionIsSymbol$1={reflectSymbol:()=>"version"},Reflectable$Dict$2={reflectType:()=>0},whitelistIsSymbol={reflectSymbol:()=>"whitelist"},readImpl=(()=>readMaybe$3(readArray(readString)).readImpl)(),bind$1=(()=>bindExceptT$1(monadIdentity).bind)(),pure$2=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$1=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$2=readMaybe$3(readString),_typeIsSymbol$1={reflectSymbol:()=>"_type"},readImpl3$1=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol$1)(readString)(readFieldsNil)()()).readImpl)(),columnIsSymbol={reflectSymbol:()=>"column"},marker1AudioURLIsSymbol={reflectSymbol:()=>"marker1AudioURL"},marker1TimeIsSymbol={reflectSymbol:()=>"marker1Time"},marker2AudioURLIsSymbol={reflectSymbol:()=>"marker2AudioURL"},marker2TimeIsSymbol={reflectSymbol:()=>"marker2Time"},marker3AudioURLIsSymbol={reflectSymbol:()=>"marker3AudioURL"},marker3TimeIsSymbol={reflectSymbol:()=>"marker3Time"},marker4AudioURLIsSymbol={reflectSymbol:()=>"marker4AudioURL"},marker4TimeIsSymbol={reflectSymbol:()=>"marker4Time"},nameIsSymbol$1={reflectSymbol:()=>"name"},audioURLIsSymbol={reflectSymbol:()=>"audioURL"},positionIsSymbol={reflectSymbol:()=>"position"},lengthIsSymbol={reflectSymbol:()=>"length"},Position1=$Position("Position1"),Position2=$Position("Position2"),Position3=$Position("Position3"),Position4=$Position("Position4"),C1=$Column("C1"),C2=$Column("C2"),C3=$Column("C3"),C4=$Column("C4"),C5=$Column("C5"),C6=$Column("C6"),C7=$Column("C7"),C8=$Column("C8"),C9=$Column("C9"),C10=$Column("C10"),C11=$Column("C11"),C12=$Column("C12"),C13=$Column("C13"),C14=$Column("C14"),C15=$Column("C15"),C16=$Column("C16"),C17=$Column("C17"),EventV0=o=>$Event_(o),writeForeignWhitelist={writeImpl:o=>arrayMap(unsafeCoerce)(o)},writeImpl3$1=(()=>{const o=consWriteForeignFields$1(ownerIsSymbol)(writeForeignString)(consWriteForeignFields$1(privateIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(titleIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(urlIsSymbol)(writeForeignString)(consWriteForeignFields$1(versionIsSymbol$1)({writeImpl:u=>0})(consWriteForeignFields$1(whitelistIsSymbol)(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields6=consWriteForeignFields$1(versionIsSymbol$1)({writeImpl:o=>0})(nilWriteForeignFields)()()(),consWriteForeignFields7=consWriteForeignFields$1(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields6)()()(),writeForeignTrack={writeImpl:o=>writeImpl3$1(o._1)},writeForeignPosition={writeImpl:o=>{if(o.tag==="Position1")return"Position1";if(o.tag==="Position2")return"Position2";if(o.tag==="Position3")return"Position3";if(o.tag==="Position4")return"Position4";fail$3()}},showWhitelist={show:showArrayImpl(showStringImpl)},show1$3=o=>{const u=cons(intercalate$2(": ")(["owner",showStringImpl(o.owner)]))(cons(intercalate$2(": ")(["private",(()=>o.private?"true":"false")()]))(cons(intercalate$2(": ")(["title",(()=>{if(o.title.tag==="Just")return"(Just "+(showStringImpl(o.title._1)+")");if(o.title.tag==="Nothing")return"Nothing";fail$3()})()]))(cons(intercalate$2(": ")(["url",showStringImpl(o.url)]))(cons(intercalate$2(": ")(["version","Version 0"]))(cons(intercalate$2(": ")(["whitelist",showWhitelist.show(o.whitelist)]))([]))))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},readForeignWhitelist={readImpl:o=>{const u=readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",(()=>{if(u._1.tag==="Nothing")return[];if(u._1.tag==="Just")return u._1._1;fail$3()})());fail$3()}},readForeignVersion=o=>({readImpl:u=>bind$1(readInt.readImpl(u))(f=>{const d=o.reflectType($$Proxy);return f===d?pure$2($Version(f)):fail$1($ForeignError("ForeignError","Expecting version "+(showIntImpl(d)+(" but received "+showIntImpl(f)))))})}),readImpl4$1=(()=>readRecord()(readFieldsCons$1(ownerIsSymbol)(readString)(readFieldsCons$1(privateIsSymbol)(readBoolean)(readFieldsCons$1(titleIsSymbol)(readMaybe$2)(readFieldsCons$1(urlIsSymbol)(readString)(readFieldsCons$1(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsCons$1(whitelistIsSymbol)(readForeignWhitelist)(readFieldsNil)()())()())()())()())()())()()).readImpl)(),readFieldsCons5=readFieldsCons$1(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsNil)()(),readFieldsCons6=readFieldsCons$1(nameIsSymbol$1)(readMaybe$2)(readFieldsCons5)()(),readForeignTrack={readImpl:o=>{const u=readImpl4$1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Track(u._1));fail$3()}},readForeignPosition={readImpl:o=>bind$1(readString.readImpl(o))(u=>u==="Position1"?pure$2(Position1):u==="Position2"?pure$2(Position2):u==="Position3"?pure$2(Position3):u==="Position4"?pure$2(Position4):fail$1($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},eqWhitelist={eq:eqArrayImpl(eqStringImpl)},eqTrack={eq:o=>u=>o._1.owner===u._1.owner&&o._1.private===u._1.private&&(()=>o._1.title.tag==="Nothing"?u._1.title.tag==="Nothing":o._1.title.tag==="Just"&&u._1.title.tag==="Just"?o._1.title._1===u._1.title._1:!1)()&&o._1.url===u._1.url&&o._1.version._1===u._1.version._1&&eqWhitelist.eq(o._1.whitelist)(u._1.whitelist)},eqColumn={eq:o=>u=>o.tag==="C1"?u.tag==="C1":o.tag==="C2"?u.tag==="C2":o.tag==="C3"?u.tag==="C3":o.tag==="C4"?u.tag==="C4":o.tag==="C5"?u.tag==="C5":o.tag==="C6"?u.tag==="C6":o.tag==="C7"?u.tag==="C7":o.tag==="C8"?u.tag==="C8":o.tag==="C9"?u.tag==="C9":o.tag==="C10"?u.tag==="C10":o.tag==="C11"?u.tag==="C11":o.tag==="C12"?u.tag==="C12":o.tag==="C13"?u.tag==="C13":o.tag==="C14"?u.tag==="C14":o.tag==="C15"?u.tag==="C15":o.tag==="C16"?u.tag==="C16":o.tag==="C17"?u.tag==="C17":!1},ordColumn={compare:o=>u=>{if(o.tag==="C1")return u.tag==="C1"?EQ:LT;if(u.tag==="C1")return GT;if(o.tag==="C2")return u.tag==="C2"?EQ:LT;if(u.tag==="C2")return GT;if(o.tag==="C3")return u.tag==="C3"?EQ:LT;if(u.tag==="C3")return GT;if(o.tag==="C4")return u.tag==="C4"?EQ:LT;if(u.tag==="C4")return GT;if(o.tag==="C5")return u.tag==="C5"?EQ:LT;if(u.tag==="C5")return GT;if(o.tag==="C6")return u.tag==="C6"?EQ:LT;if(u.tag==="C6")return GT;if(o.tag==="C7")return u.tag==="C7"?EQ:LT;if(u.tag==="C7")return GT;if(o.tag==="C8")return u.tag==="C8"?EQ:LT;if(u.tag==="C8")return GT;if(o.tag==="C9")return u.tag==="C9"?EQ:LT;if(u.tag==="C9")return GT;if(o.tag==="C10")return u.tag==="C10"?EQ:LT;if(u.tag==="C10")return GT;if(o.tag==="C11")return u.tag==="C11"?EQ:LT;if(u.tag==="C11")return GT;if(o.tag==="C12")return u.tag==="C12"?EQ:LT;if(u.tag==="C12")return GT;if(o.tag==="C13")return u.tag==="C13"?EQ:LT;if(u.tag==="C13")return GT;if(o.tag==="C14")return u.tag==="C14"?EQ:LT;if(u.tag==="C14")return GT;if(o.tag==="C15")return u.tag==="C15"?EQ:LT;if(u.tag==="C15")return GT;if(o.tag==="C16")return u.tag==="C16"?EQ:LT;if(u.tag==="C16")return GT;if(o.tag==="C17"){if(u.tag==="C17")return EQ;fail$3()}fail$3()},Eq0:()=>eqColumn},intToColumn=o=>o===1?$Either("Right",C1):o===2?$Either("Right",C2):o===3?$Either("Right",C3):o===4?$Either("Right",C4):o===5?$Either("Right",C5):o===6?$Either("Right",C6):o===7?$Either("Right",C7):o===8?$Either("Right",C8):o===9?$Either("Right",C9):o===10?$Either("Right",C10):o===11?$Either("Right",C11):o===12?$Either("Right",C12):o===13?$Either("Right",C13):o===14?$Either("Right",C14):o===15?$Either("Right",C15):o===16?$Either("Right",C16):o===17?$Either("Right",C17):$Either("Left",o),readForeignColumn={readImpl:o=>bind$1(readInt.readImpl(o))(u=>{const f=intToColumn(u);if(f.tag==="Right")return pure$2(f._1);if(f.tag==="Left")return fail$1($ForeignError("ForeignError","No idea how to parse column: "+_unsafeStringify(f._1)));fail$3()})},readImpl5$1=(()=>readRecord()(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(marker1AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons$1(marker3AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker3TimeIsSymbol)(readNumber)(readFieldsCons$1(marker4AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker4TimeIsSymbol)(readNumber)(readFieldsCons6)()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl6$1=(()=>readRecord()(readFieldsCons$1(audioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons$1(nameIsSymbol$1)(readMaybe$2)(readFieldsCons$1(positionIsSymbol)(readForeignPosition)(readFieldsCons5)()())()())()())()())()())()()).readImpl)(),readImpl7$1=(()=>readRecord()(readFieldsCons$1(audioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(lengthIsSymbol)(readNumber)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons6)()())()())()())()())()()).readImpl)(),readForeignEventV0={readImpl:o=>bind$1(readImpl3$1(o))(u=>{if(u._type==="Basic"){const f=readImpl5$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("BasicEventV0",f._1));fail$3()}if(u._type==="Leap"){const f=readImpl6$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LeapEventV0",f._1));fail$3()}if(u._type==="Long"){const f=readImpl7$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LongEventV0",f._1));fail$3()}return fail$1($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},readForeignEvent_={readImpl:o=>{const u=readForeignEventV0.readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Event_(u._1));fail$3()}},semigroupColumn={append:o=>u=>{const f=intToColumn(intMod(((()=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()})()+(()=>{if(u.tag==="C1")return 1;if(u.tag==="C2")return 2;if(u.tag==="C3")return 3;if(u.tag==="C4")return 4;if(u.tag==="C5")return 5;if(u.tag==="C6")return 6;if(u.tag==="C7")return 7;if(u.tag==="C8")return 8;if(u.tag==="C9")return 9;if(u.tag==="C10")return 10;if(u.tag==="C11")return 11;if(u.tag==="C12")return 12;if(u.tag==="C13")return 13;if(u.tag==="C14")return 14;if(u.tag==="C15")return 15;if(u.tag==="C16")return 16;if(u.tag==="C17")return 17;fail$3()})()|0)-1|0)(17)+1|0);if(f.tag==="Left")return C7;if(f.tag==="Right")return f._1;fail$3()}},writeForeignColumn={writeImpl:o=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()}},writeImpl4$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(marker1AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker3AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker3TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker4AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker4TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl5$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields$1(positionIsSymbol)(writeForeignPosition)(consWriteForeignFields6)()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(lengthIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignEventV0={writeImpl:o=>{if(o.tag==="BasicEventV0")return writeImpl4$1({...o._1,_type:"Basic"});if(o.tag==="LeapEventV0")return writeImpl5$1({...o._1,_type:"Leap"});if(o.tag==="LongEventV0")return writeImpl6$1({...o._1,_type:"Long"});fail$3()}},writeForeignEvent_={writeImpl:o=>writeForeignEventV0.writeImpl(o._1)},ctorRGB_=o=>({r:u,g:f,b:d})=>new o(u,f,d),$RGB=(o,u,f)=>({tag:"RGB",_1:o,_2:u,_3:f}),colorRepresentationRGB={color:o=>u=>ctorRGB_(o)({r:u._1,g:u._2,b:u._3})},$BoxOptions=()=>({tag:"BoxOptions"}),identity$g=o=>o,BoxOptions=$BoxOptions(),convertOptionBoxOptions$x34b1={convertOption:o=>u=>identity$g},defaultBox={width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},box$4=o=>u=>{const f=o.toInitializeBox(u);return d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const _=h(applicativeEvent.pure(m.makeBox({id:y,parent:d.parent,scope:d.scope,box:f.box,width:f.width,height:f.height,depth:f.depth,widthSegments:f.widthSegments,heightSegments:f.heightSegments,depthSegments:f.depthSegments,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(b)(),w=b(m.deleteFromCache({id:y}));return()=>(w(),_())})},object3D=o=>u=>({matrix4:f=>u.setMatrix4({id:o,matrix4:f}),quaternion:f=>u.setQuaternion({id:o,quaternion:f}),rotationFromAxisAngle:f=>u.setRotationFromAxisAngle({id:o,axis:f.axis,angle:f.angle}),rotationFromEuler:f=>u.setRotationFromEuler({id:o,euler:f}),rotationFromMatrix:f=>u.setRotationFromMatrix({id:o,matrix4:f}),rotationFromQuaternion:f=>u.setRotationFromQuaternion({id:o,quaternion:f}),rotateOnAxis:f=>u.setRotateOnAxis({id:o,axis:f.axis,angle:f.angle}),rotateOnWorldAxis:f=>u.setRotateOnWorldAxis({id:o,axis:f.axis,angle:f.angle}),rotateX:f=>u.setRotateX({id:o,rotateX:f}),rotateY:f=>u.setRotateY({id:o,rotateY:f}),rotateZ:f=>u.setRotateZ({id:o,rotateZ:f}),translateOnAxis:f=>u.setTranslateOnAxis({id:o,axis:f.axis,distance:f.distance}),translateX:f=>u.setTranslateX({id:o,translateX:f}),translateY:f=>u.setTranslateY({id:o,translateY:f}),translateZ:f=>u.setTranslateZ({id:o,translateZ:f}),positionX:f=>u.setPositionX({id:o,positionX:f}),positionY:f=>u.setPositionY({id:o,positionY:f}),positionZ:f=>u.setPositionZ({id:o,positionZ:f}),scaleX:f=>u.setScaleX({id:o,scaleX:f}),scaleY:f=>u.setScaleY({id:o,scaleY:f}),scaleZ:f=>u.setScaleZ({id:o,scaleZ:f}),lookAt:f=>u.setLookAt({id:o,v:f})}),defaultMaterials={alphaTest:Nothing,alphaToCoverage:Nothing,blendDst:Nothing,blendDstAlpha:Nothing,blendEquation:Nothing,blendEquationAlpha:Nothing,blending:Nothing,blendSrc:Nothing,blendSrcAlpha:Nothing,clipIntersection:Nothing,clipShadows:Nothing,colorWrite:Nothing,depthFunc:Nothing,depthTest:Nothing,depthWrite:Nothing,opacity:Nothing,polygonOffset:Nothing,polygonOffsetFactor:Nothing,polygonOffsetUnits:Nothing,precision:Nothing,premultipliedAlpha:Nothing,dithering:Nothing,shadowSide:Nothing,side:Nothing,toneMapped:Nothing,transparent:Nothing,vertexColors:Nothing,visible:Nothing},$MeshStandardMaterialOptions=()=>({tag:"MeshStandardMaterialOptions"}),identity$f=o=>o,oneOf$y=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshStandardMaterialOptions=$MeshStandardMaterialOptions(),convertOptionMeshStandard={convertOption:o=>u=>Just},convertOptionMeshStandard53={convertOption:o=>u=>Just},convertOptionMeshStandard54={convertOption:o=>u=>Just},convertOptionMeshStandard55={convertOption:o=>u=>identity$f},meshStandardMaterial$5=o=>u=>f=>{const d=o.toInitializeMeshStandardMaterial(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$y([applicativeEvent.pure(h.makeMeshStandardMaterial({id:_,parent:m.parent,scope:m.scope,parameters:{meshStandardMaterial:d.meshStandardMaterial,color:d.color,roughness:d.roughness,metalness:d.metalness,map:d.map,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,roughnessMap:d.roughnessMap,metalnessMap:d.metalnessMap,alphaMap:d.alphaMap,envMap:d.envMap,envMapIntensity:d.envMapIntensity,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),($,g)=>f($,v=>{const k=onMatch()()()({color:C=>h.setColor({id:_,color:C}),roughness:C=>h.setRoughness({id:_,roughness:C}),metalness:C=>h.setMetalness({id:_,metalness:C}),map:C=>h.setMap({id:_,map:C}),lightMap:C=>h.setLightMap({id:_,lightMap:C}),lightMapIntensity:C=>h.setLightMapIntensity({id:_,lightMapIntensity:C}),aoMap:C=>h.setAoMap({id:_,aoMap:C}),aoMapIntensity:C=>h.setAoMapIntensity({id:_,aoMapIntensity:C}),emissive:C=>h.setEmissive({id:_,emissive:C}),emissiveIntensity:C=>h.setEmissiveIntensity({id:_,emissiveIntensity:C}),emissiveMap:C=>h.setEmissiveMap({id:_,emissiveMap:C}),bumpMap:C=>h.setBumpMap({id:_,bumpMap:C}),bumpScale:C=>h.setBumpScale({id:_,bumpScale:C}),normalMap:C=>h.setNormalMap({id:_,normalMap:C}),normalMapType:C=>h.setNormalMapType({id:_,normalMapType:C}),normalScale:C=>h.setNormalScale({id:_,normalScale:C}),displacementMap:C=>h.setDisplacementMap({id:_,displacementMap:C}),displacementScale:C=>h.setDisplacementScale({id:_,displacementScale:C}),displacementBias:C=>h.setDisplacementBias({id:_,displacementBias:C}),roughnessMap:C=>h.setRoughnessMap({id:_,roughnessMap:C}),metalnessMap:C=>h.setMetalnessMap({id:_,metalnessMap:C}),alphaMap:C=>h.setAlphaMap({id:_,alphaMap:C}),envMap:C=>h.setEnvMap({id:_,envMap:C}),envMapIntensity:C=>h.setEnvMapIntensity({id:_,envMapIntensity:C}),wireframe:C=>h.setWireframe({id:_,wireframe:C}),wireframeLinewidth:C=>h.setWireframeLinewidth({id:_,wireframeLinewidth:C}),flatShading:C=>h.setFlatShading({id:_,flatShading:C})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})},defaultMeshStandardMaterial={...defaultMaterials,color:Nothing,roughness:Nothing,metalness:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,roughnessMap:Nothing,metalnessMap:Nothing,alphaMap:Nothing,envMap:Nothing,envMapIntensity:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing},$MakeEvent=()=>({tag:"MakeEvent"}),oneOf$x=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MakeEvent=$MakeEvent(),mappingMakeEventFunctionF={mapping:o=>semigroupoidFn.compose(pure_)},constMapping$1={mappingWithIndex:o=>u=>mappingMakeEventFunctionF.mapping(o)},hmap=(()=>hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"lookAt"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"matrix4"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"positionZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"quaternion"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateOnAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateOnWorldAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotateZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromAxisAngle"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromEuler"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromMatrix"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"rotationFromQuaternion"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"scaleZ"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateOnAxis"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateX"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateY"})(constMapping$1)(mapRecordWithIndexCons({reflectSymbol:()=>"translateZ"})(constMapping$1)(mapRecordWithIndexNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).hmap)(),withRemoval$p$1=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},mesh$p=o=>u=>f=>d=>m=>$Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=b.ids();h.raiseId(w)();const M=y(oneOf$x([applicativeEvent.pure(b.makeMesh({id:w,parent:h.parent,scope:h.scope,mesh:o.mesh})),u({parent:$Maybe("Just",w),scope:h.scope,raiseId:g=>()=>unit})(b),f({parent:$Maybe("Just",w),scope:h.scope,raiseId:g=>()=>unit})(b),backdoor.makeLemmingEvent(g=>v=>()=>{const k={value:empty$2},C=g(d)(S=>bind_(onMatch()()()({...hmap(MakeEvent)(object3D(w)(b)),onClick:I=>withRemoval$p$1(k)("click")(b.setOnClick({id:w,onClick:I}))(b.removeOnClick({id:w,onClick:I})),onMouseDown:I=>withRemoval$p$1(k)("mousedown")(b.setOnMouseDown({id:w,onMouseDown:I}))(b.removeOnMouseDown({id:w,onMouseDown:I})),onMouseUp:I=>withRemoval$p$1(k)("mouseup")(b.setOnMouseUp({id:w,onMouseUp:I}))(b.removeOnMouseUp({id:w,onMouseUp:I})),onMouseMove:I=>withRemoval$p$1(k)("mousemove")(b.setOnMouseMove({id:w,onMouseMove:I}))(b.removeOnMouseMove({id:w,onMouseMove:I})),onTouchStart:I=>withRemoval$p$1(k)("touchstart")(b.setOnTouchStart({id:w,onTouchStart:I}))(b.removeOnTouchStart({id:w,onTouchStart:I})),onTouchEnd:I=>withRemoval$p$1(k)("touchend")(b.setOnTouchEnd({id:w,onTouchEnd:I}))(b.removeOnTouchEnd({id:w,onTouchEnd:I})),onTouchMove:I=>withRemoval$p$1(k)("touchmove")(b.setOnTouchMove({id:w,onTouchMove:I}))(b.removeOnTouchMove({id:w,onTouchMove:I})),onTouchCancel:I=>withRemoval$p$1(k)("touchcancel")(b.setOnTouchCancel({id:w,onTouchCancel:I}))(b.removeOnTouchCancel({id:w,onTouchCancel:I}))})(case_)(S))(v))();return()=>{const S=k.value;return foreachE(values(S))(v)(),C()}}),flatten({doLogic:absurd,ids:g=>g.ids,disconnectElement:g=>g.disconnect,toElt:g=>g})({parent:$Maybe("Just",w),scope:h.scope,raiseId:g=>()=>unit})(b)($Entity("FixedChildren'",m))]))(_)(),$=_(b.deleteFromCache({id:w}));return()=>($(),M())})),box$3=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$4=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$w=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleX=o=>({type:"scaleX",value:o}),scaleY$1=o=>({type:"scaleY",value:o}),scaleZ$1=o=>({type:"scaleZ",value:o}),makeBar=o=>{const u=(f,d)=>{const m=applicativeEvent.pure(f(0)),h=oneOff(Just)((()=>{const b=f(d);return(y,_)=>o.rateE(y,w=>_(b))})());return(b,y)=>{const _=m(b,y),w=h(b,y);return()=>(_(),w())}};return mesh$p({mesh:o.threeDI.mesh})(box$3({box:o.threeDI.boxGeometry}))(meshStandardMaterial$4({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3((()=>{if(o.position.tag==="Position1")return $RGB(.2196078431372549,.8431372549019608,.9058823529411765);if(o.position.tag==="Position2")return $RGB(.9764705882352941,.8784313725490196,.4627450980392157);if(o.position.tag==="Position3")return $RGB(.9333333333333333,.19215686274509805,.4196078431372549);if(o.position.tag==="Position4")return $RGB(.5176470588235295,.17647058823529413,.4470588235294118);fail$3()})())})(oneOf$w([(()=>{const f=applyEvent.apply((d,m)=>o.rateE(d,h=>{const b=Tuple(h);return m(b)}))(dedup$p(d=>m=>!d&&m===d)(o.isMe));return(d,m)=>f(d,h=>{const b={type:"emissive",value:o.c3((()=>{if(h._2){const y=sin(h._1.beats*2.199114857512855)*.14+.14;return $RGB(y,y,y)}return $RGB(0,0,0)})())};return m(b)})})()])))(oneOf$w([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),sampleBy(functorEvent)(f=>d=>({type:"positionZ",value:(()=>{if(o.position.tag==="Position1")return-3*f.barZSpacing;if(o.position.tag==="Position2")return-2*f.barZSpacing;if(o.position.tag==="Position3")return-1*f.barZSpacing;if(o.position.tag==="Position4")return 0;fail$3()})()}))(o.renderingInfo)((()=>o.debug?(f,d)=>o.rateE(f,m=>d(unit)):applicativeEvent.pure(unit))()),u(scaleX,10),u(scaleY$1,.01),u(scaleZ$1,.01)]))([])},lowPrioritySchedule=o=>u=>f=>backdoor.makeEvent(d=>{const m=subscribe(f)(h=>o(u)(d(h)));return()=>(m(),()=>unit)}),$BasicOutcome=o=>({tag:o}),Perfect=$BasicOutcome("Perfect"),Nice=$BasicOutcome("Nice"),Early=$BasicOutcome("Early"),Late=$BasicOutcome("Late"),beatsToBasicOutcome=o=>(()=>o>=0?o<.085:-o<.085)()?Perfect:(()=>o>=0?o<.13:-o<.13)()?Nice:o>0?Late:Early,basicOutcomeToPointOutcome=o=>{if(o.tag==="Perfect")return $Either("Right",50);if(o.tag==="Nice")return $Either("Right",20);if(o.tag==="Late"||o.tag==="Early")return $Either("Left",30);fail$3()};function createElement(o){return function(u){return function(){return u.createElement(o)}}}const oneOf$v=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DObject$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeEvent(m=>()=>{const h=d.ids();f.raiseId(h)();const b=bindE(bindE(windowImpl)(document$1))(createElement("div"))(),y=runInElement$p(b)(o.nut)(),_=subscribe(oneOf$v([applicativeEvent.pure(d.makeCSS2DObject({id:h,parent:f.parent,scope:f.scope,nut:b,css2DObject:o.css2DObject})),(M,$)=>u(M,g=>{const v=onMatch()()()(object3D(h)(d))(case_)(g);return $(v)})]))(m)(),w=m(d.deleteFromCache({id:h}));return()=>(w(),y(),_())})),oneOfMap$b=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),mapAccum$8=mapAccum$e(eventIsEvent),basicLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.basicTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:$Entity("Element'",elementify("span")(oneOfMap$b(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[(()=>{const b=beatsToBasicOutcome(d.deltaBeats);return text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1"){if(b.tag==="Perfect")return"Player 1 Perfect!";if(b.tag==="Nice")return"Player 1 Nice!";if(b.tag==="Late")return"Player 1 Late";if(b.tag==="Early")return"Player 1 Early";fail$3()}if(d.player.tag==="Player2"){if(b.tag==="Perfect")return"Player 2 Perfect!";if(b.tag==="Nice")return"Player 2 Nice!";if(b.tag==="Late")return"Player 2 Late";if(b.tag==="Early")return"Player 2 Early";fail$3()}if(d.player.tag==="Player3"){if(b.tag==="Perfect")return"Player 3 Perfect!";if(b.tag==="Nice")return"Player 3 Nice!";if(b.tag==="Late")return"Player 3 Late";if(b.tag==="Early")return"Player 3 Early";fail$3()}if(d.player.tag==="Player4"){if(b.tag==="Perfect")return"Player 4 Perfect!";if(b.tag==="Nice")return"Player 4 Nice!";if(b.tag==="Late")return"Player 4 Late";if(b.tag==="Early")return"Player 4 Early";fail$3()}fail$3()})()))})()])))})((()=>{const b=keepLatest((()=>{const y=mapAccum$8(_=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",_),_);if(w.tag==="Just")return $Tuple($Maybe("Just",w._1),{z:w._1.z,x:_.x,y:_.y});fail$3()})(d.translation)(Nothing);return(_,w)=>y(_,M=>{const $=oneOfMap$b(applicativeEvent.pure)([{type:"positionX",value:M.x},{type:"positionY",value:M.y},{type:"positionZ",value:M.z}]);return w($)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),M=b(y,_);return()=>(w(),M())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const _=m(b,y),w=h(b,y);return()=>(_(),w())})})),oneOfMap$a=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),mapAccum$7=mapAccum$e(eventIsEvent),leapLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.leapTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:$Entity("Element'",elementify("span")(oneOfMap$a(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1")return"Player 1 Leap!";if(d.player.tag==="Player2")return"Player 2 Leap!";if(d.player.tag==="Player3")return"Player 3 Leap!";if(d.player.tag==="Player4")return"Player 4 Leap!";fail$3()})()))])))})((()=>{const b=keepLatest((()=>{const y=mapAccum$7(_=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",_),_);if(w.tag==="Just")return $Tuple($Maybe("Just",w._1),{z:w._1.z,x:_.x,y:_.y});fail$3()})(d.translation)(Nothing);return(_,w)=>y(_,M=>{const $=oneOfMap$a(applicativeEvent.pure)([{type:"positionX",value:M.x},{type:"positionY",value:M.y},{type:"positionZ",value:M.z}]);return w($)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),M=b(y,_);return()=>(w(),M())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const _=m(b,y),w=h(b,y);return()=>(_(),w())})})),oneOfMap$9=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),oneOf$u=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$6=mapAccum$e(eventIsEvent),css2DNut=o=>u=>$Entity("Element'",elementify("span")(oneOfMap$9(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))($Entity("FixedChildren'",[text(oneOf$u([applicativeEvent.pure((()=>{if(u.player.tag==="Player1")return"Player 1 Long on!";if(u.player.tag==="Player2")return"Player 2 Long on!";if(u.player.tag==="Player3")return"Player 3 Long on!";if(u.player.tag==="Player4")return"Player 4 Long on!";fail$3()})()),(f,d)=>o.longRelease(f,m=>{const h=(()=>{if(u.player.tag==="Player1")return"Player 1 Long off!";if(u.player.tag==="Player2")return"Player 2 Long off!";if(u.player.tag==="Player3")return"Player 3 Long off!";if(u.player.tag==="Player4")return"Player 4 Long off!";fail$3()})();return d(h)})]))]))),longLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.longTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:css2DNut(o)(d)})((()=>{const b=keepLatest((()=>{const y=mapAccum$6(_=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",_),_);if(w.tag==="Just")return $Tuple($Maybe("Just",w._1),{z:w._1.z,x:_.x,y:_.y});fail$3()})(d.translation)(Nothing);return(_,w)=>y(_,M=>{const $=oneOfMap$9(applicativeEvent.pure)([{type:"positionX",value:M.x},{type:"positionY",value:M.y},{type:"positionZ",value:M.z}]);return w($)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),M=b(y,_);return()=>(w(),M())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((b,y)=>{const _=m(b,y),w=h(b,y);return()=>(_(),w())})}));function clientX$1(o){return o.clientX}function clientY$1(o){return o.clientY}function clientX(o){return o.clientX}function clientY(o){return o.clientY}const box$2=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$3=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard)()()()({reflectSymbol:()=>"visible"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$t=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleY=o=>({type:"scaleY",value:o}),scaleZ=o=>({type:"scaleZ",value:o}),show$1=o=>{const u=cons(intercalate$2(": ")(["cx",showIntImpl(o.cx)]))(cons(intercalate$2(": ")(["cy",showIntImpl(o.cy)]))([]));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},makeRaycastableLane=o=>{const u=(d,m)=>{const h=applicativeEvent.pure(d(0)),b=oneOff(Just)((()=>{const y=d(m);return(_,w)=>o.rateE(_,M=>w(y))})());return(y,_)=>{const w=h(y,_),M=b(y,_);return()=>(w(),M())}},f=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((d,m)=>{const h=applicativeEvent.pure(o.initialDims)(d,y=>{const _={iw:y.iw,ih:y.ih,r:y.iw/y.ih};return m(_)}),b=o.resizeEvent(d,y=>m({iw:y.iw,ih:y.ih,r:y.iw/y.ih}));return()=>(h(),b())})((d,m)=>o.rateInfo(d,h=>m(b=>y=>({rateInfo:h,ratio:b,renderingInfo:y})))));return mesh$p({mesh:o.threeDI.mesh})(box$2({box:o.threeDI.boxGeometry}))(meshStandardMaterial$3({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3($RGB(.5,.5,.5)),visible:!1})(plusEvent.empty))(oneOf$t([(d,m)=>f(d,h=>{const b=(()=>{if(o.column.tag==="C1")return h.renderingInfo.halfAmbitus*-1*h.ratio.r;if(o.column.tag==="C2")return h.renderingInfo.halfAmbitus*-.875*h.ratio.r;if(o.column.tag==="C3")return h.renderingInfo.halfAmbitus*-.75*h.ratio.r;if(o.column.tag==="C4")return h.renderingInfo.halfAmbitus*-.625*h.ratio.r;if(o.column.tag==="C5")return h.renderingInfo.halfAmbitus*-.5*h.ratio.r;if(o.column.tag==="C6")return h.renderingInfo.halfAmbitus*-.375*h.ratio.r;if(o.column.tag==="C7")return h.renderingInfo.halfAmbitus*-.25*h.ratio.r;if(o.column.tag==="C8")return h.renderingInfo.halfAmbitus*-.125*h.ratio.r;if(o.column.tag==="C9")return h.renderingInfo.halfAmbitus*0*h.ratio.r;if(o.column.tag==="C10")return h.renderingInfo.halfAmbitus*.125*h.ratio.r;if(o.column.tag==="C11")return h.renderingInfo.halfAmbitus*.25*h.ratio.r;if(o.column.tag==="C12")return h.renderingInfo.halfAmbitus*.375*h.ratio.r;if(o.column.tag==="C13")return h.renderingInfo.halfAmbitus*.5*h.ratio.r;if(o.column.tag==="C14")return h.renderingInfo.halfAmbitus*.625*h.ratio.r;if(o.column.tag==="C15")return h.renderingInfo.halfAmbitus*.75*h.ratio.r;if(o.column.tag==="C16")return h.renderingInfo.halfAmbitus*.875*h.ratio.r;if(o.column.tag==="C17")return h.renderingInfo.halfAmbitus*1*h.ratio.r;fail$3()})();return m({type:"positionX",value:b})}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:-1.5}),(d,m)=>{const h=applicativeEvent.pure({type:"scaleX",value:0})(d,m),b=f(d,y=>m({type:"scaleX",value:y.renderingInfo.halfAmbitus*y.ratio.r/9}));return()=>(h(),b())},u(scaleY,.1),u(scaleZ,5),(()=>{const d=applicativeEvent.pure(m=>{const h=log("position: "+(show$1(m)+(" column: "+_unsafeStringify((()=>{if(o.column.tag==="C1")return 1;if(o.column.tag==="C2")return 2;if(o.column.tag==="C3")return 3;if(o.column.tag==="C4")return 4;if(o.column.tag==="C5")return 5;if(o.column.tag==="C6")return 6;if(o.column.tag==="C7")return 7;if(o.column.tag==="C8")return 8;if(o.column.tag==="C9")return 9;if(o.column.tag==="C10")return 10;if(o.column.tag==="C11")return 11;if(o.column.tag==="C12")return 12;if(o.column.tag==="C13")return 13;if(o.column.tag==="C14")return 14;if(o.column.tag==="C15")return 15;if(o.column.tag==="C16")return 16;if(o.column.tag==="C17")return 17;fail$3()})()))));return()=>(h(),o.columnPusher(),()=>unit)});return o.isMobile?(m,h)=>d(m,b=>h({type:"onTouchStart",value:y=>{const _=b({cx:clientX$1(y),cy:clientY$1(y)});return()=>{const w=_();return{end:M=>w,cancel:M=>w}}}})):(m,h)=>d(m,b=>h({type:"onMouseDown",value:y=>{const _=b({cx:clientX(y),cy:clientY(y)});return()=>{const w=_();return M=>w}}}))})()]))([])},$PerspectiveCameraOptions=()=>({tag:"PerspectiveCameraOptions"}),identity$e=o=>o,oneOf$s=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PerspectiveCameraOptions=$PerspectiveCameraOptions(),convertOptionPerspectiveC={convertOption:o=>u=>identity$e},convertOptionPerspectiveC1={convertOption:o=>u=>identity$e},convertOptionPerspectiveC2={convertOption:o=>u=>identity$e},convertOptionPerspectiveC3={convertOption:o=>u=>identity$e},convertOptionPerspectiveC4={convertOption:o=>u=>identity$e},perspectiveCamera$4=o=>u=>f=>{const d=o.toInitializePerspectiveCamera(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$s([applicativeEvent.pure(h.makePerspectiveCamera({id:_,parent:m.parent,scope:m.scope,perspectiveCamera:d.perspectiveCamera,aspect:d.aspect,far:d.far,fov:d.fov,near:d.near})),($,g)=>f($,v=>{const k=onMatch()()()({...object3D(_)(h),aspect:C=>h.setAspect({id:_,aspect:C}),far:C=>h.setFar({id:_,far:C}),filmGauge:C=>h.setFilmGauge({id:_,filmGauge:C}),filmOffset:C=>h.setFilmOffset({id:_,filmOffset:C}),focus:C=>h.setFocus({id:_,focus:C}),fov:C=>h.setFov({id:_,fov:C}),near:C=>h.setNear({id:_,near:C}),zoom:C=>h.setZoom({id:_,zoom:C}),focalLength:C=>h.setFocalLength({id:_,focalLength:C}),viewOffset:C=>h.setViewOffset({id:_,fullWidth:C.fullWidth,fullHeight:C.fullHeight,x:C.x,y:C.y,width:C.width,height:C.height})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})},defaultPerspectiveCamera={fov:50,aspect:1,near:.1,far:2e3},ctor_$1=o=>({x:u,y:f,z:d})=>new o(u,f,d),oneOf$r=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),unsafeInternalGroup=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$r([applicativeEvent.pure(o(h)({id:_,parent:m.parent,scope:m.scope,group:u.group})),($,g)=>f($,v=>{const k=onMatch()()()(object3D(_)(h))(case_)(v);return g(k)}),flatten({doLogic:absurd,ids:$=>$.ids,disconnectElement:$=>$.disconnect,toElt:$=>$})({parent:$Maybe("Just",_),scope:m.scope,raiseId:$=>()=>unit})(h)($Entity("FixedChildren'",arrayMap(unsafeCoerce)(d)))]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})),loader$2=o=>()=>new o,load$2=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},sceneImpl=o=>o.scene.clone(),loadAff$2=o=>u=>makeAff(f=>{const d=load$2(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),$AmbientLightOptions=()=>({tag:"AmbientLightOptions"}),identity$d=o=>o,oneOf$q=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),AmbientLightOptions=$AmbientLightOptions(),convertOptionAmbientLight={convertOption:o=>u=>identity$d},convertOptionAmbientLight1={convertOption:o=>u=>identity$d},convertOptionAmbientLight2={convertOption:o=>u=>identity$d},defaultAmbientLight={intensity:1},ambientLight$3=o=>u=>f=>{const d=o.toInitializeAmbientLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$q([applicativeEvent.pure(h.makeAmbientLight({id:_,parent:m.parent,scope:m.scope,ambientLight:d.ambientLight,color:d.color,intensity:d.intensity})),($,g)=>f($,v=>{const k=onMatch()()()({...object3D(_)(h),color:C=>h.setColor({id:_,color:C}),intensity:C=>h.setIntensity({id:_,intensity:C})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())}))},$PointLightOptions=()=>({tag:"PointLightOptions"}),identity$c=o=>o,oneOf$p=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PointLightOptions=$PointLightOptions(),convertOptionPointLightOp={convertOption:o=>u=>identity$c},convertOptionPointLightOp1={convertOption:o=>u=>identity$c},convertOptionPointLightOp2={convertOption:o=>u=>identity$c},convertOptionPointLightOp3={convertOption:o=>u=>identity$c},convertOptionPointLightOp4={convertOption:o=>u=>identity$c},pointLight$3=o=>u=>f=>{const d=o.toInitializePointLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$p([applicativeEvent.pure(h.makePointLight({id:_,parent:m.parent,scope:m.scope,pointLight:d.pointLight,color:d.color,intensity:d.intensity,distance:d.distance,decay:d.decay})),($,g)=>f($,v=>{const k=onMatch()()()({...object3D(_)(h),color:C=>h.setColor({id:_,color:C}),intensity:C=>h.setIntensity({id:_,intensity:C}),distance:C=>h.setDistance({id:_,distance:C}),decay:C=>h.setDecay({id:_,decay:C})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())}))},defaultPointLight={intensity:1,distance:0,decay:1},globalWebGLRendererPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.webGLRendererConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalWebGLRendererPortal1=()=>()=>o=>u=>globalWebGLRendererPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalScenePortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectScene(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalScenePortal1=()=>()=>o=>u=>globalScenePortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalEffectComposerPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.effectComposerConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalEffectComposerPortal1=()=>()=>o=>u=>globalEffectComposerPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalCameraPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectCamera(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalCameraPortal1=()=>()=>o=>u=>globalCameraPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),oneOf$o=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),M={value:Nothing},$={value:Nothing},g=b(oneOf$o([o({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:I=>()=>(M.value=$Maybe("Just",I),unit)})(h),u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:I=>()=>($.value=$Maybe("Just",I),unit)})(h)]))(y)(),v=M.value,k=$.value,C=(()=>{if(v.tag==="Nothing")return()=>()=>unit;if(v.tag==="Just"){if(k.tag==="Nothing")return()=>()=>unit;if(k.tag==="Just")return b(oneOf$o([applicativeEvent.pure(h.makeCSS2DRenderer({...f,id:_,camera:k._1})),backdoor.makeLemmingEvent(I=>O=>()=>{const x={value:()=>unit},F=I((R,L)=>d(R,D=>{const J=onMatch()()()({render:K=>h.css2DRender({id:_,scene:v._1,camera:k._1}),size:K=>h.setSize({id:_,width:K.width,height:K.height})})(case_)(D);return L(J)}))(O)();return x.value=F,()=>{const R=x.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:_}));return()=>(S(),g(),C())})),oneOf$n=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css3DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),M={value:Nothing},$={value:Nothing},g=b(oneOf$n([o({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:I=>()=>(M.value=$Maybe("Just",I),unit)})(h),u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:I=>()=>($.value=$Maybe("Just",I),unit)})(h)]))(y)(),v=M.value,k=$.value,C=(()=>{if(v.tag==="Nothing")return()=>()=>unit;if(v.tag==="Just"){if(k.tag==="Nothing")return()=>()=>unit;if(k.tag==="Just")return b(oneOf$n([applicativeEvent.pure(h.makeCSS3DRenderer({...f,id:_,camera:k._1})),backdoor.makeLemmingEvent(I=>O=>()=>{const x={value:()=>unit},F=I((R,L)=>d(R,D=>{const J=onMatch()()()({render:K=>h.css3DRender({id:_,scene:v._1,camera:k._1}),size:K=>h.setSize({id:_,width:K.width,height:K.height})})(case_)(D);return L(J)}))(O)();return x.value=F,()=>{const R=x.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:_}));return()=>(S(),g(),C())})),oneOf$m=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),raycaster$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const b=d.ids();f.raiseId(b)();const y=d.ids(),_={value:Nothing},w=m(oneOf$m([u({parent:$Maybe("Just",b),scope:$Scope("Local",y),raiseId:v=>()=>(_.value=$Maybe("Just",v),unit)})(d)]))(h)(),M=_.value,$=(()=>{if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just")return m(oneOf$m([applicativeEvent.pure(d.makeRaycaster({id:b,raycaster:o.raycaster,canvas:o.canvas,camera:M._1}))]))(h);fail$3()})()(),g=h(d.deleteFromCache({id:b}));return()=>(g(),w(),$())})),$WebGLRenderingPowerPreference=o=>({tag:o}),Default=$WebGLRenderingPowerPreference("Default"),$WebGLRenderingPrecision=o=>({tag:o}),High=$WebGLRenderingPrecision("High"),$WebGLRendererOptions=()=>({tag:"WebGLRendererOptions"}),identity$b=o=>o,oneOf$l=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),WebGLRendererOptions=$WebGLRendererOptions(),convertOptionWebGLRendere10={convertOption:o=>u=>identity$b},convertOptionWebGLRendere11={convertOption:o=>u=>identity$b},webGLRenderer$4=o=>u=>f=>d=>m=>{const h=o.toInitializeWebGLRenderer(d);return b=>y=>backdoor.makeLemmingEvent(_=>w=>()=>{const M=y.ids();b.raiseId(M)();const $=y.ids(),g={value:Nothing},v={value:Nothing},k=_(oneOf$l([u({parent:$Maybe("Just",M),scope:$Scope("Local",$),raiseId:x=>()=>(g.value=$Maybe("Just",x),unit)})(y),f({parent:$Maybe("Just",M),scope:$Scope("Local",$),raiseId:x=>()=>(v.value=$Maybe("Just",x),unit)})(y)]))(w)(),C=g.value,S=v.value,I=(()=>{if(C.tag==="Nothing")return()=>()=>unit;if(C.tag==="Just"){if(S.tag==="Nothing")return()=>()=>unit;if(S.tag==="Just")return _(oneOf$l([applicativeEvent.pure(y.makeWebGLRenderer({id:M,webGLRenderer:h.webGLRenderer,canvas:h.canvas,camera:S._1,precision:h.precision,alpha:h.alpha,premultipliedAlpha:h.premultipliedAlpha,antialias:h.antialias,stencil:h.stencil,preserveDrawingBuffer:h.preserveDrawingBuffer,powerPreference:h.powerPreference,failIfMajorPerformanceCaveat:h.failIfMajorPerformanceCaveat,depth:h.depth,logarithmicDepthBuffer:h.logarithmicDepthBuffer})),backdoor.makeLemmingEvent(x=>F=>()=>{const R={value:()=>unit},L=x((D,J)=>m(D,K=>{const ee=onMatch()()()({render:H=>y.webGLRender({id:M,scene:C._1,camera:S._1}),size:H=>y.setSize({id:M,width:H.width,height:H.height})})(case_)(K);return J(ee)}))(F)();return R.value=L,()=>{const D=R.value;return D()}})]))(w);fail$3()}fail$3()})()(),O=w(y.deleteFromCache({id:M}));return()=>(O(),k(),I())})},defaultWebGLRenderer={precision:High,alpha:!1,premultipliedAlpha:!0,antialias:!1,stencil:!0,preserveDrawingBuffer:!1,powerPreference:Default,failIfMajorPerformanceCaveat:!1,depth:!0,logarithmicDepthBuffer:!1},oneOf$k=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposer$1=o=>u=>f=>d=>m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),M={value:Nothing},$=b(oneOf$k([u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:C=>()=>(M.value=$Maybe("Just",C),unit)})(h)]))(y)(),g=M.value,v=(()=>{if(g.tag==="Nothing")return()=>()=>unit;if(g.tag==="Just")return b(oneOf$k([applicativeEvent.pure(h.makeEffectComposer({id:_,effectComposer:o.effectComposer,webGLRenderer:g._1})),(C,S)=>f(C,I=>{const O=onMatch()()()({render:x=>h.effectComposerRender({id:_})})(case_)(I);return S(O)}),flatten({doLogic:absurd,ids:C=>C.ids,disconnectElement:C=>C.disconnectPass,toElt:C=>C})({parent:$Maybe("Just",_),scope:m.scope,raiseId:C=>()=>unit})(h)($Entity("FixedChildren'",d))]))(y);fail$3()})()(),k=y(h.deleteFromCache({id:_}));return()=>(k(),$(),v())}),oneOf$j=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposerPass$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const b=d.ids();f.raiseId(b)();const y=d.ids(),_={value:Nothing},w=m(oneOf$j([u({parent:$Maybe("Just",b),scope:$Scope("Local",y),raiseId:v=>()=>(_.value=$Maybe("Just",v),unit)})(d)]))(h)(),M=_.value,$=(()=>{if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just")return m(oneOf$j([applicativeEvent.pure(d.makeEffectComposerPass({id:b,parent:f.parent,effectComposerPass:o.effectComposerPass,effectComposer:M._1}))]))(h);fail$3()})()(),g=h(d.deleteFromCache({id:b}));return()=>(g(),w(),$())})),oneOf$i=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),renderPass$1=o=>u=>f=>$Entity("Element'",d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const _=m.ids(),w={value:Nothing},M={value:Nothing},$=h(oneOf$i([u({parent:$Maybe("Just",y),scope:$Scope("Local",_),raiseId:S=>()=>(w.value=$Maybe("Just",S),unit)})(m),f({parent:$Maybe("Just",y),scope:$Scope("Local",_),raiseId:S=>()=>(M.value=$Maybe("Just",S),unit)})(m)]))(b)(),g=w.value,v=M.value,k=(()=>{if(g.tag==="Nothing")return()=>()=>unit;if(g.tag==="Just"){if(v.tag==="Nothing")return()=>()=>unit;if(v.tag==="Just")return h(oneOf$i([applicativeEvent.pure(m.makeRenderPass({id:y,parent:d.parent,renderPass:o.renderPass,camera:v._1,scene:g._1}))]))(b);fail$3()}fail$3()})()(),C=b(m.deleteFromCache({id:y}));return()=>(C(),$(),k())})),$UnrealBloomPassOptions=()=>({tag:"UnrealBloomPassOptions"}),identity$a=o=>o,oneOf$h=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),UnrealBloomPassOptions=$UnrealBloomPassOptions(),convertOptionUnrealBloomP={convertOption:o=>u=>identity$a},convertOptionUnrealBloomP1={convertOption:o=>u=>identity$a},convertOptionUnrealBloomP2={convertOption:o=>u=>identity$a},convertOptionUnrealBloomP3={convertOption:o=>u=>identity$a},convertOptionUnrealBloomP4={convertOption:o=>u=>identity$a},unrealBloomPass$3=o=>u=>f=>{const d=o.toInitializeUnrealBloomPass(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$h([applicativeEvent.pure(h.makeUnrealBloomPass({id:_,parent:m.parent,unrealBloomPass:d.unrealBloomPass,resolution:d.resolution,strength:d.strength,radius:d.radius,threshold:d.threshold})),($,g)=>f($,v=>{const k=onMatch()()()({resolution:C=>h.setResolution({id:_,resolution:C}),strength:C=>h.setStrength({id:_,strength:C}),radius:C=>h.setRadius({id:_,radius:C}),threshold:C=>h.setThreshold({id:_,threshold:C})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())}))},defaultUnrealBloomPass={},undefinedImpl=void 0,GLOBAL_SCOPE="@global@",genericMake_=o=>u=>f=>d=>()=>{const{id:m,scope:h,parent:b,...y}=f,_=h||GLOBAL_SCOPE;d.scopes[_]||(d.scopes[_]=[]),d.scopes[_].push(m),d.units[m]={listeners:{},parent:b,scope:_,main:o(y)},b!==void 0&&u(d.units[m],d.units[b])},stripUndefined_=o=>{const u={...o};for(const f in o)o[f]===void 0&&delete u[f];return u},connectToScene_=o=>u=>()=>u.units[o.parent].main.add(u.units[o.id].main),connectMesh_=o=>u=>()=>u.units[o.parent].main.add(u.units[o.id].main),connectGeometry_=o=>u=>()=>{u.units[o.parent].main.geometry=u.units[o.id].main},connectScene_=o=>u=>()=>{},connectCamera_=o=>u=>()=>{u.units[o.parent]&&(u.units[o.parent].main.isScene||u.units[o.parent].main.isGroup)&&u.units[o.parent].main.add(u.units[o.id].main)},connectMaterial_=o=>u=>()=>{u.units[o.parent].main.material=u.units[o.id].main},withAtts=o=>u=>{const f=o(u),d=Object.entries(u.bufferAttributes);for(var m=0;m<d.length;m++)f.setAttribute(d[m][0],d[m][1]);const h=Object.entries(u.instancedBufferAttributes);for(var m=0;m<h.length;m++)f.setAttribute(h[m][0],h[m][1]);return f},makeBox_=genericMake_(withAtts(o=>new o.box(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)))((o,u)=>{u.main.geometry=o.main}),makePlane_=genericMake_(withAtts(o=>new o.plane(o.width,o.height,o.widthSegments,o.heightSegments)))((o,u)=>{u.main.geometry=o.main}),makeBufferGeometry_=genericMake_(withAtts(o=>new o.bufferGeometry))((o,u)=>{u.main.geometry=o.main}),makeCapsule_=genericMake_(withAtts(o=>new o.capsule(o.radius,o.length,o.capSegments,o.radialSegments)))((o,u)=>{u.main.geometry=o.main}),makeCylinder_=genericMake_(withAtts(o=>new o.cylinder(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makeSphere_=genericMake_(withAtts(o=>new o.sphere(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makePerspectiveCamera_=o=>u=>()=>{genericMake_(f=>new f.perspectiveCamera(f.fov,f.aspect,f.near,f.far))(()=>{})(o)(u)()},makeGLTFCamera_=o=>u=>()=>{genericMake_(({camera:f})=>f)(()=>{})(o)(u)()},ascSort=function(o,u){return o.distance-u.distance},makeInstancedMesh_=o=>u=>()=>{const f=new o.matrix4,d=new o.matrix4,m=[],h=new o.mesh;class b extends o.instancedMesh{constructor(C,S,I){super(C,S,I)}raycastInstances(C,S,I){const O=this.matrixWorld,x=S!==void 0?S.length:this.count;if(h.geometry=this.geometry,h.material=this.material,h.material!==void 0)for(let F=0;F<x;F++){const R=S!==void 0?S[F]:F;this.getMatrixAt(R,f),d.multiplyMatrices(O,f),h.matrixWorld=d,h.raycast(C,m);for(let L=0,D=m.length;L<D;L++){const J=m[L];J.instanceId=R,J.object=this,I.push(J)}m.length=0}}}const{id:y,scope:_,parent:w,geometry:M,material:$,count:g}=o,v=_||GLOBAL_SCOPE;u.scopes[v]||(u.scopes[v]=[]),u.scopes[v].push(y),u.units[y]={listeners:{},parent:w,scope:v,main:new b(u.units[M].main,u.units[$].main,g)},w!==void 0&&u.units[w].main.add(u.units[y].main)},makeMesh_=genericMake_(o=>new o.mesh)((o,u)=>{u.main.add(o.main)}),makePoints_=genericMake_(o=>new o.points)((o,u)=>{u.main.add(o.main)}),makeCSS2DObject_=genericMake_(o=>new o.css2DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeCSS3DObject_=genericMake_(o=>new o.css3DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeAmbientLight_=genericMake_(o=>new o.ambientLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makeDirectionalLight_=genericMake_(o=>new o.directionalLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makePointLight_=genericMake_(o=>new o.pointLight(o.color,o.intensity,o.distance,o.decay))((o,u)=>{u.main.add(o.main)}),withMaterialParameters_=o=>u=>{const f=o(u);return Object.entries(u.materialParameters).forEach(([m,h])=>{f[m]=h}),f},makeShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{shaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeRawShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{rawShaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshBasicMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshBasicMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshPhongMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshPhongMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshStandardMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshStandardMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),setSize_=o=>u=>()=>{u.units[o.id].main.setSize(o.width,o.height)},setSizeThroughEffectComposer_=o=>u=>()=>{u.units[o.id].main.renderer.setSize(o.width,o.height)},makeScene_=genericMake_(o=>new o.scene)(()=>{}),makeGroup_=genericMake_(o=>new o.group)((o,u)=>{u.main.add(o.main)}),makeGLTFGroup_=genericMake_(({group:o})=>o)((o,u)=>{u.main.add(o.main)}),effectComposerRender_=o=>u=>()=>{u.units[o.id].main.render()},webGLRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css2DRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css3DRender_=o=>u=>()=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},getAllTouches=o=>{const u=[];for(let f=0;f<o.length;f++)u.push(o.item(f));return u},intersectInstance=(o,u,f,d=[])=>(u.layers.test(o.layers)&&u.raycastInstances(o,f,d),d.sort(ascSort),d),doFinalThunk=(o,u,f)=>{u==="mouseup"?(Object.entries(f.listeners.upformousedown).forEach(([m,h])=>{h(o)()}),f.listeners.upformousedown={}):u==="touchend"?(Object.values(f.listeners.endfortouchstart).forEach(m=>{m(o)()}),f.listeners.endfortouchstart={}):u==="touchcancel"&&(Object.values(f.listeners.cancelfortouchstart).forEach(m=>{m(o)()}),f.listeners.cancelfortouchstart={})},assignThunk=(o,u,f,d)=>{f==="mousedown"?d.listeners.upformousedown[o]=u:f==="touchstart"&&(d.listeners.endfortouchstart[o]=u.end,d.listeners.cancelfortouchstart[o]=u.cancel)},makeRenderPass_=o=>u=>()=>{const f=new o.renderPass(u.units[o.scene].main,u.units[o.camera].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeRaycaster_=o=>u=>()=>{setUpForRaycasting(o,u)},makeGlitchPass_=o=>u=>()=>{const f=new o.glitchPass(o.dtSize);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposerPass_=o=>u=>()=>{const f=new o.effectComposerPass(u.units[o.effectComposer].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeBloomPass_=o=>u=>()=>{const f=new o.bloomPass(o.strength,o.kernelSize,o.sigma,o.resolution);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeUnrealBloomPass_=o=>u=>()=>{const f=new o.unrealBloomPass(o.resolution,o.strength,o.radius,o.threshold);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposer_=o=>u=>()=>{const f=o.id,d=new o.effectComposer(u.units[o.webGLRenderer].main);u.units[f]={main:d}},setUpForRaycasting=(o,u)=>{const f=new o.raycaster,d=u.units[o.camera].main,m=h=>{o.canvas.addEventListener(h,b=>{const y=Object.entries(u.listeners[h]),_=h.indexOf("touch")!==-1?getAllTouches(b.touches):[b];doFinalThunk(b,h,u),y.length>0&&_.forEach(M=>{const $=M.clientX/window.innerWidth*2-1,g=-(M.clientY/window.innerHeight)*2+1;f.setFromCamera({x:$,y:g},d),y.forEach(([v,k])=>{const C=u.units[v].main;if(f.intersectObject(C).length>0){const I=k(M)();assignThunk(v,I,h,u)}})});const w=Object.entries(u.listeners[h+"Instanced"]);w.length>0&&_.forEach(M=>{const $=M.clientX/window.innerWidth*2-1,g=-(M.clientY/window.innerHeight)*2+1;f.setFromCamera({x:$,y:g},d),w.forEach(([v,k])=>{const C=u.units[v].main;Object.entries(k).forEach(([S,I])=>{if(intersectInstance(f,C,[S]).length>0){const x=I(M)();assignThunk(S,x,h,u)}})})})})};m("click"),m("mousedown"),m("mouseup"),m("mousemove"),m("touchstart"),m("touchend"),m("touchmove"),m("touchcancel")},makeWebGLRendererInternal_=(o,u)=>{const{id:f,...d}=o,m=d.canvas,h=new o.webGLRenderer(d);u.units[o.id]={main:h},h.setSize(m.width,m.height),h.setPixelRatio(Math.min(window.devicePixelRatio,2))},makeWebGLRenderer_=o=>u=>()=>{makeWebGLRendererInternal_(o,u)},makeCSS2DRenderer_=o=>u=>()=>{const{id:f,canvas:d,element:m}=o,h=new o.css2DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},makeCSS3DRenderer_=o=>u=>()=>{const{id:f,canvas:d,element:m}=o,h=new o.css3DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},setOnClick_=o=>u=>()=>{u.listeners.click[o.id]=o.onClick},setOnMouseDown_=o=>u=>()=>{u.listeners.mousedown[o.id]=o.onMouseDown},setOnMouseUp_=o=>u=>()=>{u.listeners.mouseup[o.id]=o.onMouseUp},setOnMouseMove_=o=>u=>()=>{u.listeners.mousemove[o.id]=o.onMouseMove},setOnTouchStart_=o=>u=>()=>{u.listeners.touchstart[o.id]=o.onTouchStart},setOnTouchEnd_=o=>u=>()=>{u.listeners.touchend[o.id]=o.onTouchEnd},setOnTouchMove_=o=>u=>()=>{u.listeners.touchmove[o.id]=o.onTouchMove},setOnTouchCancel_=o=>u=>()=>{u.listeners.touchcancel[o.id]=o.onTouchCancel},removeOnClick_=o=>u=>()=>{delete u.listeners.click[o.id]},removeOnMouseDown_=o=>u=>()=>{delete u.listeners.mousedown[o.id]},removeOnMouseUp_=o=>u=>()=>{delete u.listeners.mouseup[o.id]},removeOnMouseMove_=o=>u=>()=>{delete u.listeners.mousemove[o.id]},removeOnTouchStart_=o=>u=>()=>{delete u.listeners.touchstart[o.id]},removeOnTouchEnd_=o=>u=>()=>{delete u.listeners.touchend[o.id]},removeOnTouchMove_=o=>u=>()=>{delete u.listeners.touchmove[o.id]},removeOnTouchCancel_=o=>u=>()=>{delete u.listeners.touchcancel[o.id]},setIMOnClick_=o=>u=>()=>{u.listeners.clickInstanced[o.id]||(u.listeners.clickInstanced[o.id]={}),u.listeners.clickInstanced[o.id][o.instanceId]=o.onClick},setIMOnMouseDown_=o=>u=>()=>{u.listeners.mousedownInstanced[o.id]||(u.listeners.mousedownInstanced[o.id]={}),u.listeners.mousedownInstanced[o.id][o.instanceId]=o.onMouseDown},setIMOnMouseUp_=o=>u=>()=>{u.listeners.mouseupInstanced[o.id]||(u.listeners.mouseupInstanced[o.id]={}),u.listeners.mouseupInstanced[o.id][o.instanceId]=o.onMouseUp},setIMOnMouseMove_=o=>u=>()=>{u.listeners.mousemoveInstanced[o.id]||(u.listeners.mousemoveInstanced[o.id]={}),u.listeners.mousemoveInstanced[o.id][o.instanceId]=o.onMouseMove},setIMOnTouchStart_=o=>u=>()=>{u.listeners.touchstartInstanced[o.id]||(u.listeners.touchstartInstanced[o.id]={}),u.listeners.touchstartInstanced[o.id][o.instanceId]=o.onTouchStart},setIMOnTouchEnd_=o=>u=>()=>{u.listeners.touchendInstanced[o.id]||(u.listeners.touchendInstanced[o.id]={}),u.listeners.touchendInstanced[o.id][o.instanceId]=o.onTouchEnd},setIMOnTouchMove_=o=>u=>()=>{u.listeners.touchmoveInstanced[o.id]||(u.listeners.touchmoveInstanced[o.id]={}),u.listeners.touchmoveInstanced[o.id][o.instanceId]=o.onTouchMove},setIMOnTouchCancel_=o=>u=>()=>{u.listeners.touchcancelInstanced[o.id]||(u.listeners.touchcancelInstanced[o.id]={}),u.listeners.touchcancelInstanced[o.id][o.instanceId]=o.onTouchCancel},removeIMOnClick_=o=>u=>()=>{delete u.listeners.clickInstanced[o.id][o.instanceId]},removeIMOnMouseDown_=o=>u=>()=>{delete u.listeners.mousedownInstanced[o.id][o.instanceId]},removeIMOnMouseUp_=o=>u=>()=>{delete u.listeners.mouseupInstanced[o.id][o.instanceId]},removeIMOnMouseMove_=o=>u=>()=>{delete u.listeners.mousemoveInstanced[o.id][o.instanceId]},removeIMOnTouchStart_=o=>u=>()=>{delete u.listeners.touchstartInstanced[o.id][o.instanceId]},removeIMOnTouchEnd_=o=>u=>()=>{delete u.listeners.touchendInstanced[o.id][o.instanceId]},removeIMOnTouchMove_=o=>u=>()=>{delete u.listeners.touchmoveInstanced[o.id][o.instanceId]},removeIMOnTouchCancel_=o=>u=>()=>{delete u.listeners.touchcancelInstanced[o.id][o.instanceId]},setWidth_=o=>u=>()=>{u.units[o.id].main.width=o.width},setHeight_=o=>u=>()=>{u.units[o.id].main.height=o.height},setDepth_=o=>u=>()=>{u.units[o.id].main.depth=o.depth},setLength_=o=>u=>()=>{u.units[o.id].main.length=o.length},setAlphaTest_=o=>u=>()=>{u.units[o.id].main.alphaTest=o.alphaTest},setAlphaToCoverage_=o=>u=>()=>{u.units[o.id].main.alphaToCoverage=o.alphaToCoverage},setBlendDst_=o=>u=>()=>{u.units[o.id].main.blendDst=o.blendDst},setBlendDstAlpha_=o=>u=>()=>{u.units[o.id].main.blendDstAlpha=o.blendDstAlpha},setBlendEquation_=o=>u=>()=>{u.units[o.id].main.blendEquation=o.blendEquation},setBlendEquationAlpha_=o=>u=>()=>{u.units[o.id].main.blendEquationAlpha=o.blendEquationAlpha},setBlending_=o=>u=>()=>{u.units[o.id].main.blending=o.blending},setBlendSrc_=o=>u=>()=>{u.units[o.id].main.blendSrc=o.blendSrc},setBlendSrcAlpha_=o=>u=>()=>{u.units[o.id].main.blendSrcAlpha=o.blendSrcAlpha},setClipIntersection_=o=>u=>()=>{u.units[o.id].main.clipIntersection=o.clipIntersection},setClipShadows_=o=>u=>()=>{u.units[o.id].main.clipShadows=o.clipShadows},setColorWrite_=o=>u=>()=>{u.units[o.id].main.colorWrite=o.colorWrite},setDepthFunc_=o=>u=>()=>{u.units[o.id].main.depthFunc=o.depthFunc},setDepthTest_=o=>u=>()=>{u.units[o.id].main.depthTest=o.depthTest},setDepthWrite_=o=>u=>()=>{u.units[o.id].main.depthWrite=o.depthWrite},setOpacity_=o=>u=>()=>{u.units[o.id].main.opacity=o.opacity},setPolygonOffset_=o=>u=>()=>{u.units[o.id].main.polygonOffset=o.polygonOffset},setPolygonOffsetFactor_=o=>u=>()=>{u.units[o.id].main.polygonOffsetFactor=o.polygonOffsetFactor},setPolygonOffsetUnits_=o=>u=>()=>{u.units[o.id].main.polygonOffsetUnits=o.polygonOffsetUnits},setPrecision_=o=>u=>()=>{u.units[o.id].main.precision=o.precision},setPremultipliedAlpha_=o=>u=>()=>{u.units[o.id].main.premultipliedAlpha=o.premultipliedAlpha},setDithering_=o=>u=>()=>{u.units[o.id].main.dithering=o.dithering},setShadowSide_=o=>u=>()=>{u.units[o.id].main.shadowSide=o.shadowSide},setSide_=o=>u=>()=>{u.units[o.id].main.side=o.side},setToneMapped_=o=>u=>()=>{u.units[o.id].main.toneMapped=o.toneMapped},setTransparent_=o=>u=>()=>{u.units[o.id].main.transparent=o.transparent},setVertexColors_=o=>u=>()=>{u.units[o.id].main.vertexColors=o.vertexColors},setVisible_=o=>u=>()=>{u.units[o.id].main.visible=o.visible},setBackgroundColor_=o=>u=>()=>{u.units[o.id].main.background=o.color},setBackgroundTexture_=o=>u=>()=>{u.units[o.id].main.background=o.texture},setBackgroundCubeTexture_=o=>u=>()=>{u.units[o.id].main.background=o.cubeTexture},setThreshold_$1=o=>u=>()=>{u.units[o.id].main.threshold=o.threshold},setStrength_=o=>u=>()=>{u.units[o.id].main.strength=o.strength},setResolution_=o=>u=>()=>{u.units[o.id].main.resolution=o.resolution},setRadius_=o=>u=>()=>{u.units[o.id].main.radius=o.radius},setWidthSegments_=o=>u=>()=>{u.units[o.id].main.widthSegments=o.widthSegments},setHeightSegments_=o=>u=>()=>{u.units[o.id].main.heightSegments=o.heightSegments},setDepthSegments_=o=>u=>()=>{u.units[o.id].main.depthSegments=o.depthSegments},setCapSegments_=o=>u=>()=>{u.units[o.id].main.capSegments=o.capSegments},setRadialSegments_=o=>u=>()=>{u.units[o.id].main.radialSegments=o.radialSegments},setPhiStart_=o=>u=>()=>{u.units[o.id].main.phiStart=o.phiStart},setPhiLength_=o=>u=>()=>{u.units[o.id].main.phiLength=o.phiLength},setThetaStart_=o=>u=>()=>{u.units[o.id].main.thetaStart=o.thetaStart},setThetaLength_=o=>u=>()=>{u.units[o.id].main.thetaLength=o.thetaLength},setMatrix4_=o=>u=>()=>{u.units[o.id].main.applyMatrix4(o.matrix4)},setQuaternion_=o=>u=>()=>{u.units[o.id].main.applyQuaternion(o.quaternion)},setRotateX_=o=>u=>()=>{u.units[o.id].main.rotateX(o.rotateX)},setRotateY_=o=>u=>()=>{u.units[o.id].main.rotateY(o.rotateY)},setRotateZ_=o=>u=>()=>{u.units[o.id].main.rotateZ(o.rotateZ)},setTranslate_=o=>u=>()=>{u.units[o.id].main.translate(o.x,o.y,o.z)},setScale_=o=>u=>()=>{u.units[o.id].main.scale(o.x,o.y,o.z)},setScaleX_=o=>u=>()=>{u.units[o.id].main.scale.x=o.scaleX},setScaleY_=o=>u=>()=>{u.units[o.id].main.scale.y=o.scaleY},setScaleZ_=o=>u=>()=>{u.units[o.id].main.scale.z=o.scaleZ},setLookAt_=o=>u=>()=>{u.units[o.id].main.lookAt(o.v)},setCenter_=o=>u=>()=>{u.units[o.id].main.center()},getBoundingBox_=o=>u=>()=>{u.units[o.id].main.computeBoundingBox(),o.box(u.units[o.id].main.boundingBox)()},getBoundingSphere_=o=>u=>()=>{u.units[o.id].main.computeBoundingSphere(),o.box(u.units[o.id].main.boundingSphere)()},setInstancedMeshMatrix4_=o=>u=>()=>{const f=u.units[o.id].main;let d=!1;o.setMatrix4(m=>h=>()=>{d=!0,f.setMatrixAt(m,h)})(),f.instanceMatrix.needsUpdate=d},setInstancedMeshColor_=o=>u=>()=>{const f=u.units[o.id].main;let d=!1;o.setColor(m=>h=>()=>{d=!0,f.setColorAt(m,h)})(),f.instanceColor.needsUpdate=d},setSingleInstancedMeshMatrix4_=o=>u=>()=>{const f=u.units[o.id].main;f.setMatrixAt(o.instanceId,o.matrix4),f.instanceMatrix.needsUpdate=!0},setSingleInstancedMeshColor_=o=>u=>()=>{const f=u.units[o.id].main;f.setColorAt(o.instanceId,o.color),f.instanceColor.needsUpdate=!0},setCombine_=o=>u=>()=>{u.units[o.id].main.combine=o.combine},setFog_=o=>u=>()=>{u.units[o.id].main.fog=o.fog},setReflectivity_=o=>u=>()=>{u.units[o.id].main.reflectivity=o.reflectivity},setRefractionRatio_=o=>u=>()=>{u.units[o.id].main.refractionRatio=o.refractionRatio},setShininess_=o=>u=>()=>{u.units[o.id].main.shininess=o.shininess},setSpecular_=o=>u=>()=>{u.units[o.id].main.specular=o.specular},setSpecularMap_=o=>u=>()=>{u.units[o.id].main.specularMap=o.specularMap},setWireframeLinecap_=o=>u=>()=>{u.units[o.id].main.wireframeLinecap=o.wireframeLinecap},setWireframeLinejoin_=o=>u=>()=>{u.units[o.id].main.wireframeLinejoin=o.wireframeLinejoin},setColor_=o=>u=>()=>{u.units[o.id].main.color=o.color},setRoughness_=o=>u=>()=>{u.units[o.id].main.roughness=o.roughness},setMetalness_=o=>u=>()=>{u.units[o.id].main.metalness=o.metalness},setMap_=o=>u=>()=>{u.units[o.id].main.map=o.map},setLightMap_=o=>u=>()=>{u.units[o.id].main.lightMap=o.lightMap},setLightMapIntensity_=o=>u=>()=>{u.units[o.id].main.lightMapIntensity=o.lightMapIntensity},setAoMap_=o=>u=>()=>{u.units[o.id].main.aoMap=o.aoMap},setAoMapIntensity_=o=>u=>()=>{u.units[o.id].main.aoMapIntensity=o.aoMapIntensity},setEmissive_=o=>u=>()=>{u.units[o.id].main.emissive=o.emissive},setEmissiveIntensity_=o=>u=>()=>{u.units[o.id].main.emissiveIntensity=o.emissiveIntensity},setEmissiveMap_=o=>u=>()=>{u.units[o.id].main.emissiveMap=o.emissiveMap},setBumpMap_=o=>u=>()=>{u.units[o.id].main.bumpMap=o.bumpMap},setBumpScale_=o=>u=>()=>{u.units[o.id].main.bumpScale=o.bumpScale},setNormalMap_=o=>u=>()=>{u.units[o.id].main.normalMap=o.normalMap},setNormalMapType_=o=>u=>()=>{u.units[o.id].main.normalMapType=o.normalMapType},setNormalScale_=o=>u=>()=>{u.units[o.id].main.normalScale=o.normalScale},setDisplacementMap_=o=>u=>()=>{u.units[o.id].main.displacementMap=o.displacementMap},setDisplacementScale_=o=>u=>()=>{u.units[o.id].main.displacementScale=o.displacementScale},setDisplacementBias_=o=>u=>()=>{u.units[o.id].main.displacementBias=o.displacementBias},setRoughnessMap_=o=>u=>()=>{u.units[o.id].main.roughnessMap=o.roughnessMap},setMetalnessMap_=o=>u=>()=>{u.units[o.id].main.metalnessMap=o.metalnessMap},setAlphaMap_=o=>u=>()=>{u.units[o.id].main.alphaMap=o.alphaMap},setEnvMap_=o=>u=>()=>{u.units[o.id].main.envMap=o.envMap},setEnvMapIntensity_=o=>u=>()=>{u.units[o.id].main.envMapIntensity=o.envMapIntensity},setWireframe_=o=>u=>()=>{u.units[o.id].main.wireframe=o.wireframe},setWireframeLinewidth_=o=>u=>()=>{u.units[o.id].main.wireframeLinewidth=o.wireframeLinewidth},setFlatShading_=o=>u=>()=>{u.units[o.id].main.flatShading=o.flatShading},setDistance_=o=>u=>()=>{u.units[o.id].main.distance=o.distance},setDecay_=o=>u=>()=>{u.units[o.id].main.decay=o.decay},setIntensity_=o=>u=>()=>{u.units[o.id].main.intensity=o.intensity},setRotationFromAxisAngle_=o=>u=>()=>{u.units[o.id].main.setRotationFromAxisAngle(o.axis,o.angle)},setRotationFromEuler_=o=>u=>()=>{u.units[o.id].main.setRotationFromEuler(o.euler)},setRotationFromMatrix_=o=>u=>()=>{u.units[o.id].main.setRotationFromMatrix(o.matrix4)},setRotationFromQuaternion_=o=>u=>()=>{u.units[o.id].main.setRotationFromQuaternion(o.quaternion)},setRotateOnAxis_=o=>u=>()=>{u.units[o.id].main.rotateOnAxis(o.axis,o.angle)},setRotateOnWorldAxis_=o=>u=>()=>{u.units[o.id].main.rotateOnWorldAxis(o.axis,o.angle)},setTranslateOnAxis_=o=>u=>()=>{u.units[o.id].main.translateOnAxis(o.axis,o.distance)},setTranslateX_=o=>u=>()=>{u.units[o.id].main.translateX(o.translateX)},setTranslateY_=o=>u=>()=>{u.units[o.id].main.translateY(o.translateY)},setTranslateZ_=o=>u=>()=>{u.units[o.id].main.translateZ(o.translateZ)},setPositionX_=o=>u=>()=>{u.units[o.id].main.position.x=o.positionX},setPositionY_=o=>u=>()=>{u.units[o.id].main.position.y=o.positionY},setPositionZ_=o=>u=>()=>{u.units[o.id].main.position.z=o.positionZ},setUniform_=o=>u=>()=>{u.units[o.id].main.uniforms[o.key].value=o.value},setAspect_=o=>u=>()=>{u.units[o.id].main.aspect=o.aspect,u.units[o.id].main.updateProjectionMatrix()},setFar_=o=>u=>()=>{u.units[o.id].main.far=o.far,u.units[o.id].main.updateProjectionMatrix()},setFilmGauge_=o=>u=>()=>{u.units[o.id].main.filmGauge=o.filmGauge,u.units[o.id].main.updateProjectionMatrix()},setFilmOffset_=o=>u=>()=>{u.units[o.id].main.filmOffset=o.filmOffset,u.units[o.id].main.updateProjectionMatrix()},setFocus_=o=>u=>()=>{u.units[o.id].main.focus=o.focus,u.units[o.id].main.updateProjectionMatrix()},setFov_=o=>u=>()=>{u.units[o.id].main.fov=o.fov,u.units[o.id].main.updateProjectionMatrix()},setNear_=o=>u=>()=>{u.units[o.id].main.updateProjectionMatrix(),u.units[o.id].main.near=o.near},setZoom_=o=>u=>()=>{u.units[o.id].main.zoom=o.zoom,u.units[o.id].main.updateProjectionMatrix()},setFocalLength_=o=>u=>()=>{u.units[o.id].main.setFocalLength(o.focalLength)},setViewOffset_=({id:o,fullWidth:u,fullHeight:f,x:d,y:m,width:h,height:b})=>y=>()=>{y.units[o].main.setViewOffset(u,f,d,m,h,b)},makeFFIThreeSnapshot=()=>({units:{},scopes:{},listeners:{click:{},mousemove:{},mouseup:{},mousedown:{},touchstart:{},touchend:{},touchmove:{},touchcancel:{},clickInstanced:{},mousemoveInstanced:{},mouseupInstanced:{},mousedownInstanced:{},touchstartInstanced:{},touchendInstanced:{},touchmoveInstanced:{},touchcancelInstanced:{},upformousedown:{},endfortouchstart:{},cancelfortouchstart:{}}});function disconnect_(o){return function(u){return function(){const f=o.id;u.units[f].main.removeFromParent(),o.scope!==GLOBAL_SCOPE&&(u.units[f].main.isBufferGeometry||u.units[f].main.isMaterial)&&u.units[f].main.dispose()}}}function disconnectPass_(o){return function(u){return function(){const f=o.id,d=o.parent;u.units[d].main.removePass(u.units[f].main)}}}function deleteFromCache_$1(o){return function(u){return function(){!u.units[o.id].main.isScene&&u.units[o.id].main.dispose&&u.units[o.id].main.dispose(),u.units[o.id].main.removeFromParent&&u.units[o.id].main.removeFromParent(),delete u.units[o.id]}}}const identity$9=o=>o,identity1=o=>o,mempty$1=o=>u=>()=>unit,fFIMeWireframeLinejoinStr={ffiMe:o=>{if(o.tag==="Round")return"round";if(o.tag==="Bevel")return"bevel";if(o.tag==="Miter")return"miter";fail$3()}},fFIMeWireframeLinecapStri={ffiMe:o=>{if(o.tag==="Butt")return"butt";if(o.tag==="Round")return"round";if(o.tag==="Square")return"square";fail$3()}},fFIMeWebGLRenderingPrecis={ffiMe:o=>{if(o.tag==="High")return"highp";if(o.tag==="Medium")return"mediump";if(o.tag==="Low")return"lowp";fail$3()}},fFIMeWebGLRenderingPowerP={ffiMe:o=>{if(o.tag==="High")return"high-performance";if(o.tag==="Default")return"default";if(o.tag==="Low")return"low-power";fail$3()}},fFIMeVector2Vector2={ffiMe:identity$9},fFIMeTWebGLRendererTWebGL={ffiMe:identity$9},fFIMeTUnrealBloomPassTUnr={ffiMe:identity$9},fFIMeTSphereGeometryTSphe={ffiMe:identity$9},fFIMeTShaderMaterialTShad={ffiMe:identity$9},fFIMeTSceneTScene={ffiMe:identity$9},fFIMeTRenderPassTRenderPa={ffiMe:identity$9},fFIMeTRaycasterTRaycaster={ffiMe:identity$9},fFIMeTRawShaderMaterialTR={ffiMe:identity$9},fFIMeTPointsTPoints={ffiMe:identity$9},fFIMeTPointLightTPointLig={ffiMe:identity$9},fFIMeTPlaneGeometryTPlane={ffiMe:identity$9},fFIMeTPerspectiveCameraTP={ffiMe:identity$9},fFIMeTMeshTMesh={ffiMe:identity$9},fFIMeTMeshStandardMateria={ffiMe:identity$9},fFIMeTMeshPhongMaterialTM={ffiMe:identity$9},fFIMeTMeshBasicMaterialTM={ffiMe:identity$9},fFIMeTMatrix4TMatrix4={ffiMe:identity$9},fFIMeTInstancedMeshTInsta={ffiMe:identity$9},fFIMeTGroupTGroup={ffiMe:identity$9},fFIMeTGlitchPassTGlitchPa={ffiMe:identity$9},fFIMeTEffectComposerTEffe={ffiMe:identity$9},fFIMeTEffectComposerPassT={ffiMe:identity$9},fFIMeTDirectionalLightTDi={ffiMe:identity$9},fFIMeTCylinderGeometryTCy={ffiMe:identity$9},fFIMeTCapsuleGeometryTCap={ffiMe:identity$9},fFIMeTCSS3DRendererTCSS3D={ffiMe:identity$9},fFIMeTCSS3DObjectTCSS3DOb={ffiMe:identity$9},fFIMeTCSS2DRendererTCSS2D={ffiMe:identity$9},fFIMeTCSS2DObjectTCSS2DOb={ffiMe:identity$9},fFIMeTBufferGeometryTBuff={ffiMe:identity$9},fFIMeTBoxGeometryTBoxGeom={ffiMe:identity$9},fFIMeTBloomPassTBloomPass={ffiMe:identity$9},fFIMeTAmbientLightTAmbien={ffiMe:identity$9},fFIMeStringString={ffiMe:identity$9},fFIMeScopeUndefinableStri={ffiMe:o=>{if(o.tag==="Global")return undefinedImpl;if(o.tag==="Local")return o._1;fail$3()}},fFIMeRawGroupRawGroup={ffiMe:identity$9},fFIMeRawCameraRawCamera={ffiMe:identity$9},fFIMeNumberNumber={ffiMe:identity$9},fFIMeNormalMapTypeInt={ffiMe:o=>{if(o.tag==="TangentSpaceNormalMap")return 0;if(o.tag==="ObjectSpaceNormalMap")return 1;fail$3()}},fFIMeIntInt={ffiMe:identity$9},fFIMeHTMLCanvasElementHTM={ffiMe:identity$9},fFIMeForeignForeign={ffiMe:identity$9},fFIMeElementElement={ffiMe:identity$9},fFIMeCombineOperationInt={ffiMe:o=>{if(o.tag==="MultiplyOperation")return 0;if(o.tag==="MixOperation")return 1;if(o.tag==="AddOperation")return 2;fail$3()}},fFIMeColorColor={ffiMe:identity$9},fFIMeBooleanBoolean={ffiMe:identity$9},fFIIzeNilRow={"ffiize'":o=>u=>identity1},ffiize=()=>o=>u=>stripUndefined_(o["ffiize'"]($$Proxy)(u)({})),fFIIzeCons=o=>u=>f=>()=>()=>()=>()=>({"ffiize'":d=>m=>{const h=insert$1()()(o)($$Proxy)(u.ffiMe(unsafeGet(o.reflectSymbol($$Proxy))(m))),b=f["ffiize'"]($$Proxy)(m);return y=>h(b(y))}}),ffiize2=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeTEffectComposerTEffe)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()()),ffiize3=ffiize()(fFIIzeCons({reflectSymbol:()=>"alpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"antialias"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"failIfMajorPerformanceCaveat"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"logarithmicDepthBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"powerPreference"})(fFIMeWebGLRenderingPowerP)(fFIIzeCons({reflectSymbol:()=>"precision"})(fFIMeWebGLRenderingPrecis)(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"preserveDrawingBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"stencil"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeTWebGLRendererTWebGL)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons14=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeNilRow)()()()(),fFIIzeCons15=fFIIzeCons({reflectSymbol:()=>"element"})(fFIMeElementElement)(fFIIzeCons14)()()()(),ffiize4=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css2DRenderer"})(fFIMeTCSS2DRendererTCSS2D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize5=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css3DRenderer"})(fFIMeTCSS3DRendererTCSS3D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize6=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"raycaster"})(fFIMeTRaycasterTRaycaster)(fFIIzeNilRow)()()()())()()()())()()()())()()()()),fFIIzeCons17=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeNilRow)()()()(),fFIIzeCons24=fFIIzeCons({reflectSymbol:()=>"widthSegments"})(fFIMeIntInt)(fFIIzeNilRow)()()()(),fFIIzeCons25=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"width"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()(),fFIIzeCons31=fFIIzeCons({reflectSymbol:()=>"uniforms"})(fFIMeForeignForeign)(fFIIzeCons({reflectSymbol:()=>"vertexShader"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()(),fFIIzeCons33=fFIIzeCons({reflectSymbol:()=>"normalMapType"}),ffiize7=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"normalMapType"})(fFIMeNormalMapTypeInt)(fFIIzeNilRow)()()()())()()()()),ffiize8=ffiize()(fFIIzeCons({reflectSymbol:()=>"combine"})(fFIMeCombineOperationInt)(fFIIzeCons14)()()()()),ffiize9=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})(fFIMeWireframeLinecapStri)(fFIIzeNilRow)()()()())()()()()),ffiize10=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})(fFIMeWireframeLinejoinStr)(fFIIzeNilRow)()()()())()()()()),ffiize11=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"renderPass"})(fFIMeTRenderPassTRenderPa)(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()()),fFIIzeCons37=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeNilRow)()()()())()()()(),ffiize12=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"effectComposerPass"})(fFIMeTEffectComposerPassT)(fFIIzeCons37)()()()())()()()()),ffiize13=ffiize()(fFIIzeCons({reflectSymbol:()=>"dtSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"glitchPass"})(fFIMeTGlitchPassTGlitchPa)(fFIIzeCons37)()()()())()()()()),ffiize14=ffiize()(fFIIzeCons({reflectSymbol:()=>"bloomPass"})(fFIMeTBloomPassTBloomPass)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"kernelSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"sigma"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize15=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeVector2Vector2)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"threshold"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"unrealBloomPass"})(fFIMeTUnrealBloomPassTUnr)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize16=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeTSceneTScene)(fFIIzeCons17)()()()())()()()())()()()()),fFIIzeCons38=fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons17)()()()(),fFIIzeCons39=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons38)()()()(),ffiize17=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeTGroupTGroup)(fFIIzeCons39)()()()()),ffiize18=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeRawGroupRawGroup)(fFIIzeCons39)()()()()),fFIIzeCons40=fFIIzeCons({reflectSymbol:()=>"mesh"})(fFIMeTMeshTMesh)(fFIIzeCons38)()()()(),ffiize19=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons40)()()()()),ffiize20=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"points"})(fFIMeTPointsTPoints)(fFIIzeCons17)()()()())()()()())()()()()),ffiize21=ffiize()(fFIIzeCons({reflectSymbol:()=>"count"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"geometry"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedMesh"})(fFIMeTInstancedMeshTInsta)(fFIIzeCons({reflectSymbol:()=>"material"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"matrix4"})(fFIMeTMatrix4TMatrix4)(fFIIzeCons40)()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons41=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons38)()()()())()()()(),ffiize22=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"directionalLight"})(fFIMeTDirectionalLightTDi)(fFIIzeCons41)()()()())()()()()),ffiize23=ffiize()(fFIIzeCons({reflectSymbol:()=>"ambientLight"})(fFIMeTAmbientLightTAmbien)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons41)()()()())()()()()),ffiize24=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"decay"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"distance"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"pointLight"})(fFIMeTPointLightTPointLig)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize25=ffiize()(fFIIzeCons({reflectSymbol:()=>"aspect"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"far"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"fov"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"near"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"perspectiveCamera"})(fFIMeTPerspectiveCameraTP)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize26=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeRawCameraRawCamera)(fFIIzeCons39)()()()()),fFIMeMaybeUndefinable1={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable2={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable3={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="AddEquation")return 100;if(o._1.tag==="SubtractEquation")return 101;if(o._1.tag==="ReverseSubtractEquation")return 102;if(o._1.tag==="MinEquation")return 103;if(o._1.tag==="MaxEquation")return 104;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable4={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;if(o._1.tag==="SrcAlphaSaturateFactor")return 210;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable5={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable6={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable7={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="FrontSide")return 0;if(o._1.tag==="BackSide")return 1;if(o._1.tag==="DoubleSide")return 2;fail$3()}return undefinedImpl}},fFIIzeCons42=fFIIzeCons({reflectSymbol:()=>"materialParameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaTest"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"alphaToCoverage"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"blendDst"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendDstAlpha"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendEquation"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendEquationAlpha"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendSrc"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blendSrcAlpha"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blending"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NoBlending")return 0;if(o._1.tag==="NormalBlending")return 1;if(o._1.tag==="AdditiveBlending")return 2;if(o._1.tag==="SubtractiveBlending")return 3;if(o._1.tag==="MultiplyBlending")return 4;if(o._1.tag==="CustomBlending")return 5;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"clipIntersection"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"clipShadows"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"colorWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthFunc"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NeverDepth")return 0;if(o._1.tag==="AlwaysDepth")return 1;if(o._1.tag==="LessDepth")return 2;if(o._1.tag==="LessEqualDepth")return 3;if(o._1.tag==="EqualDepth")return 4;if(o._1.tag==="GreaterEqualDepth")return 5;if(o._1.tag==="GreaterDepth")return 6;if(o._1.tag==="NotEqualDepth")return 7;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"depthTest"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"dithering"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"opacity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"polygonOffset"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetFactor"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetUnits"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"precision"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="LowP")return"lowp";if(o._1.tag==="MediumP")return"mediump";if(o._1.tag==="HighP")return"highp";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"shadowSide"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"side"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"toneMapped"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"transparent"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"vertexColors"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"visible"})(fFIMeMaybeUndefinable5)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())}),ffiize27=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"rawShaderMaterial"})(fFIMeTRawShaderMaterialTR)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize28=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"shaderMaterial"})(fFIMeTShaderMaterialTShad)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIMeMaybeUndefinable8={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable9={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIIzeCons61=fFIIzeCons33({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="TangentSpaceNormalMap")return 0;if(o._1.tag==="ObjectSpaceNormalMap")return 1;fail$3()}return undefinedImpl}}),fFIIzeCons64=fFIIzeCons({reflectSymbol:()=>"wireframeLinewidth"})(fFIMeMaybeUndefinable1)(fFIIzeNilRow)()()()(),ffiize29=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"combine"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="MultiplyOperation")return 0;if(o._1.tag==="MixOperation")return 1;if(o._1.tag==="AddOperation")return 2;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"fog"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshPhongMaterial"})(fFIMeTMeshPhongMaterialTM)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"reflectivity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"refractionRatio"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"shininess"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"specular"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"specularMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Butt")return"butt";if(o._1.tag==="Round")return"round";if(o._1.tag==="Square")return"square";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Round")return"round";if(o._1.tag==="Bevel")return"bevel";if(o._1.tag==="Miter")return"miter";fail$3()}return undefinedImpl}})(fFIIzeCons64)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons65=fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons64)()()()(),ffiize30=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshBasicMaterial"})(fFIMeTMeshBasicMaterialTM)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize31=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshStandardMaterial"})(fFIMeTMeshStandardMateria)(fFIIzeCons({reflectSymbol:()=>"metalness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"metalnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"roughness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"roughnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons66=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"nut"})(fFIMeElementElement)(fFIIzeCons38)()()()())()()()(),ffiize32=ffiize()(fFIIzeCons({reflectSymbol:()=>"css2DObject"})(fFIMeTCSS2DObjectTCSS2DOb)(fFIIzeCons66)()()()()),ffiize33=ffiize()(fFIIzeCons({reflectSymbol:()=>"css3DObject"})(fFIMeTCSS3DObjectTCSS3DOb)(fFIIzeCons66)()()()()),ffiize34=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"capSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"capsule"})(fFIMeTCapsuleGeometryTCap)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"length"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize35=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"cylinder"})(fFIMeTCylinderGeometryTCy)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"openEnded"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radiusBottom"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radiusTop"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize36=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"phiLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"phiStart"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"sphere"})(fFIMeTSphereGeometryTSphe)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize37=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"box"})(fFIMeTBoxGeometryTBoxGeom)(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"depthSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize38=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"plane"})(fFIMeTPlaneGeometryTPlane)(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize39=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons({reflectSymbol:()=>"bufferGeometry"})(fFIMeTBufferGeometryTBuff)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$9)})(fFIIzeCons38)()()()())()()()())()()()())()()()()))(),effectfulThreeInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},effectComposerRender:effectComposerRender_,webGLRender:webGLRender_,css2DRender:css2DRender_,css3DRender:css3DRender_,makeRenderPass:u=>makeRenderPass_(ffiize11(u)),makeEffectComposerPass:u=>makeEffectComposerPass_(ffiize12(u)),makeGlitchPass:u=>makeGlitchPass_(ffiize13(u)),makeBloomPass:u=>makeBloomPass_(ffiize14(u)),makeUnrealBloomPass:u=>makeUnrealBloomPass_(ffiize15(u)),makeEffectComposer:u=>makeEffectComposer_(ffiize2(u)),makeWebGLRenderer:u=>makeWebGLRenderer_(ffiize3(u)),makeCSS2DRenderer:u=>makeCSS2DRenderer_(ffiize4(u)),makeCSS3DRenderer:u=>makeCSS3DRenderer_(ffiize5(u)),makeRaycaster:u=>makeRaycaster_(ffiize6(u)),makeScene:u=>makeScene_(ffiize16(u)),makeGroup:u=>makeGroup_(ffiize17(u)),makeGLTFGroup:u=>makeGLTFGroup_(ffiize18(u)),makeMesh:u=>makeMesh_(ffiize19(u)),makePoints:u=>makePoints_(ffiize20(u)),makeInstancedMesh:u=>makeInstancedMesh_(ffiize21(u)),makeCapsule:u=>makeCapsule_(ffiize34(u)),makeCylinder:u=>makeCylinder_(ffiize35(u)),makeSphere:u=>makeSphere_(ffiize36(u)),makeBox:u=>makeBox_(ffiize37(u)),makePlane:u=>makePlane_(ffiize38(u)),makeBufferGeometry:u=>makeBufferGeometry_(ffiize39(u)),makeDirectionalLight:u=>makeDirectionalLight_(ffiize22(u)),makeAmbientLight:u=>makeAmbientLight_(ffiize23(u)),makePointLight:u=>makePointLight_(ffiize24(u)),makePerspectiveCamera:u=>makePerspectiveCamera_(ffiize25(u)),makeGLTFCamera:u=>makeGLTFCamera_(ffiize26(u)),makeRawShaderMaterial:u=>makeRawShaderMaterial_(ffiize27(u)),makeShaderMaterial:u=>makeShaderMaterial_(ffiize28(u)),makeMeshPhongMaterial:u=>makeMeshPhongMaterial_(ffiize29(u)),makeMeshBasicMaterial:u=>makeMeshBasicMaterial_(ffiize30(u)),makeMeshStandardMaterial:u=>makeMeshStandardMaterial_(ffiize31(u)),makeCSS2DObject:u=>makeCSS2DObject_(ffiize32(u)),makeCSS3DObject:u=>makeCSS3DObject_(ffiize33(u)),setBackgroundCubeTexture:setBackgroundCubeTexture_,setBackgroundTexture:setBackgroundTexture_,setBackgroundColor:setBackgroundColor_,setOnClick:setOnClick_,setOnMouseDown:setOnMouseDown_,setOnMouseUp:setOnMouseUp_,setOnMouseMove:setOnMouseMove_,setOnTouchStart:setOnTouchStart_,setOnTouchEnd:setOnTouchEnd_,setOnTouchMove:setOnTouchMove_,setOnTouchCancel:setOnTouchCancel_,removeOnClick:removeOnClick_,removeOnMouseDown:removeOnMouseDown_,removeOnMouseUp:removeOnMouseUp_,removeOnMouseMove:removeOnMouseMove_,removeOnTouchStart:removeOnTouchStart_,removeOnTouchEnd:removeOnTouchEnd_,removeOnTouchMove:removeOnTouchMove_,removeOnTouchCancel:removeOnTouchCancel_,setIMOnClick:setIMOnClick_,setIMOnMouseDown:setIMOnMouseDown_,setIMOnMouseUp:setIMOnMouseUp_,setIMOnMouseMove:setIMOnMouseMove_,setIMOnTouchStart:setIMOnTouchStart_,setIMOnTouchEnd:setIMOnTouchEnd_,setIMOnTouchMove:setIMOnTouchMove_,setIMOnTouchCancel:setIMOnTouchCancel_,removeIMOnClick:removeIMOnClick_,removeIMOnMouseDown:removeIMOnMouseDown_,removeIMOnMouseUp:removeIMOnMouseUp_,removeIMOnMouseMove:removeIMOnMouseMove_,removeIMOnTouchStart:removeIMOnTouchStart_,removeIMOnTouchEnd:removeIMOnTouchEnd_,removeIMOnTouchMove:removeIMOnTouchMove_,removeIMOnTouchCancel:removeIMOnTouchCancel_,setWidth:setWidth_,setHeight:setHeight_,setDepth:setDepth_,setLength:setLength_,setCapSegments:setCapSegments_,setRadialSegments:setRadialSegments_,setRadius:setRadius_,setWidthSegments:setWidthSegments_,setHeightSegments:setHeightSegments_,setDepthSegments:setDepthSegments_,setPhiStart:setPhiStart_,setPhiLength:setPhiLength_,setThetaStart:setThetaStart_,setThetaLength:setThetaLength_,setMatrix4:setMatrix4_,setQuaternion:setQuaternion_,setRotateX:setRotateX_,setRotateY:setRotateY_,setRotateZ:setRotateZ_,setTranslate:setTranslate_,setScale:setScale_,setLookAt:setLookAt_,setCenter:setCenter_,getBoundingBox:getBoundingBox_,getBoundingSphere:getBoundingSphere_,setInstancedMeshMatrix4:setInstancedMeshMatrix4_,setInstancedMeshColor:setInstancedMeshColor_,setSingleInstancedMeshMatrix4:setSingleInstancedMeshMatrix4_,setSingleInstancedMeshColor:setSingleInstancedMeshColor_,setAlphaTest:setAlphaTest_,setAlphaToCoverage:setAlphaToCoverage_,setBlendDst:setBlendDst_,setBlendDstAlpha:setBlendDstAlpha_,setBlendEquation:setBlendEquation_,setBlendEquationAlpha:setBlendEquationAlpha_,setBlending:setBlending_,setBlendSrc:setBlendSrc_,setBlendSrcAlpha:setBlendSrcAlpha_,setClipIntersection:setClipIntersection_,setClipShadows:setClipShadows_,setColorWrite:setColorWrite_,setDepthFunc:setDepthFunc_,setDepthTest:setDepthTest_,setDepthWrite:setDepthWrite_,setOpacity:setOpacity_,setPolygonOffset:setPolygonOffset_,setPolygonOffsetFactor:setPolygonOffsetFactor_,setPolygonOffsetUnits:setPolygonOffsetUnits_,setPrecision:setPrecision_,setPremultipliedAlpha:setPremultipliedAlpha_,setDithering:setDithering_,setShadowSide:setShadowSide_,setSide:setSide_,setToneMapped:setToneMapped_,setTransparent:setTransparent_,setVertexColors:setVertexColors_,setVisible:setVisible_,setUniform:setUniform_,setColor:setColor_,setRoughness:setRoughness_,setMetalness:setMetalness_,setMap:setMap_,setLightMap:setLightMap_,setLightMapIntensity:setLightMapIntensity_,setAoMap:setAoMap_,setAoMapIntensity:setAoMapIntensity_,setEmissive:setEmissive_,setEmissiveIntensity:setEmissiveIntensity_,setEmissiveMap:setEmissiveMap_,setBumpMap:setBumpMap_,setBumpScale:setBumpScale_,setNormalMap:setNormalMap_,setNormalMapType:u=>setNormalMapType_(ffiize7(u)),setNormalScale:setNormalScale_,setDisplacementMap:setDisplacementMap_,setDisplacementScale:setDisplacementScale_,setDisplacementBias:setDisplacementBias_,setRoughnessMap:setRoughnessMap_,setMetalnessMap:setMetalnessMap_,setAlphaMap:setAlphaMap_,setEnvMap:setEnvMap_,setEnvMapIntensity:setEnvMapIntensity_,setWireframe:setWireframe_,setWireframeLinewidth:setWireframeLinewidth_,setFlatShading:setFlatShading_,setRotationFromAxisAngle:setRotationFromAxisAngle_,setRotationFromEuler:setRotationFromEuler_,setRotationFromMatrix:setRotationFromMatrix_,setRotationFromQuaternion:setRotationFromQuaternion_,setRotateOnAxis:setRotateOnAxis_,setRotateOnWorldAxis:setRotateOnWorldAxis_,setTranslateOnAxis:setTranslateOnAxis_,setTranslateX:setTranslateX_,setTranslateY:setTranslateY_,setTranslateZ:setTranslateZ_,setPositionX:setPositionX_,setPositionY:setPositionY_,setPositionZ:setPositionZ_,setScaleX:setScaleX_,setScaleY:setScaleY_,setScaleZ:setScaleZ_,setCombine:u=>setCombine_(ffiize8(u)),setFog:setFog_,setReflectivity:setReflectivity_,setRefractionRatio:setRefractionRatio_,setShininess:setShininess_,setSpecular:setSpecular_,setSpecularMap:setSpecularMap_,setWireframeLinecap:u=>setWireframeLinecap_(ffiize9(u)),setWireframeLinejoin:u=>setWireframeLinejoin_(ffiize10(u)),setDecay:setDecay_,setDistance:setDistance_,setIntensity:setIntensity_,setAspect:setAspect_,setFar:setFar_,setFilmGauge:setFilmGauge_,setFilmOffset:setFilmOffset_,setFocus:setFocus_,setFov:setFov_,setNear:setNear_,setZoom:setZoom_,setFocalLength:setFocalLength_,setViewOffset:setViewOffset_,setSize:setSize_,setSizeThroughEffectComposer:setSizeThroughEffectComposer_,setThreshold:setThreshold_$1,setStrength:setStrength_,setResolution:setResolution_,connectMesh:connectMesh_,connectScene:connectScene_,connectCamera:connectCamera_,connectGeometry:connectGeometry_,connectMaterial:connectMaterial_,connectToScene:connectToScene_,disconnect:disconnect_,disconnectPass:disconnectPass_,deleteFromCache:deleteFromCache_$1,webGLRendererConnectionNoop:mempty$1,effectComposerConnectionNoop:mempty$1}),run$1=o=>()=>{const u=makeFFIThreeSnapshot(),f={value:0};return subscribe(flatten({doLogic:absurd,ids:m=>m.ids,disconnectElement:m=>m.disconnect,toElt:m=>m})({parent:Nothing,scope:Global,raiseId:m=>()=>unit})(effectfulThreeInterpret(f))(o))(m=>m(u))()},$Background=(o,u)=>({tag:o,_1:u}),oneOf$g=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scene$1=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const _=h(oneOf$g([applicativeEvent.pure(m.makeScene({id:y,parent:d.parent,scope:d.scope,scene:o.scene})),(M,$)=>u(M,g=>{const v=onMatch()()()({...object3D(y)(m),background:k=>{if(k.tag==="CubeTexture")return m.setBackgroundCubeTexture({id:y,cubeTexture:k._1});if(k.tag==="Texture")return m.setBackgroundTexture({id:y,texture:k._1});if(k.tag==="Color")return m.setBackgroundColor({id:y,color:k._1});fail$3()}})(case_)(g);return $(v)}),flatten({doLogic:absurd,ids:M=>M.ids,disconnectElement:M=>M.disconnect,toElt:M=>M})({parent:$Maybe("Just",y),scope:d.scope,raiseId:M=>()=>unit})(m)($Entity("FixedChildren'",f))]))(b)(),w=b(m.deleteFromCache({id:y}));return()=>(w(),_())}),ctor_=o=>({x:u,y:f})=>new o(u,f),$AppOrientationState=o=>({tag:o}),$Axis=o=>({tag:o}),$ChannelChooser=(o,u,f,d)=>({tag:o,_1:u,_2:f,_3:d}),$Negotiation=(o,u,f)=>({tag:o,_1:u,_2:f}),$Player=o=>({tag:o}),$PlayerAction=(o,u)=>({tag:o,_1:u}),$Profile=o=>({tag:"ProfileV0",_1:o}),$Ride=o=>({tag:"RideV0",_1:o}),$StartStatus=(o,u)=>({tag:o,_1:u}),$XDirection=o=>({tag:o}),openIsSymbol={reflectSymbol:()=>"open"},player1IsSymbol={reflectSymbol:()=>"player1"},writeForeignMaybe$1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1NameIsSymbol={reflectSymbol:()=>"player1Name"},player1PenaltiesIsSymbol={reflectSymbol:()=>"player1Penalties"},writeForeignMaybe1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1PointsIsSymbol={reflectSymbol:()=>"player1Points"},player1StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player1StartTimeInMilliseconds"},player2IsSymbol={reflectSymbol:()=>"player2"},player2NameIsSymbol={reflectSymbol:()=>"player2Name"},player2PenaltiesIsSymbol={reflectSymbol:()=>"player2Penalties"},player2PointsIsSymbol={reflectSymbol:()=>"player2Points"},player2StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player2StartTimeInMilliseconds"},player3IsSymbol={reflectSymbol:()=>"player3"},player3NameIsSymbol={reflectSymbol:()=>"player3Name"},player3PenaltiesIsSymbol={reflectSymbol:()=>"player3Penalties"},player3PointsIsSymbol={reflectSymbol:()=>"player3Points"},player3StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player3StartTimeInMilliseconds"},player4IsSymbol={reflectSymbol:()=>"player4"},player4NameIsSymbol={reflectSymbol:()=>"player4Name"},player4PenaltiesIsSymbol={reflectSymbol:()=>"player4Penalties"},player4PointsIsSymbol={reflectSymbol:()=>"player4Points"},player4StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player4StartTimeInMilliseconds"},versionIsSymbol={reflectSymbol:()=>"version"},Reflectable$Dict$1={reflectType:()=>0},consWriteForeignFields=consWriteForeignFields$1(versionIsSymbol)({writeImpl:o=>0})(nilWriteForeignFields)()()(),writeImpl1=(()=>{const o=consWriteForeignFields$1(openIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(player1IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player1NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player1PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player1PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player1StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player2NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player2PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player3NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player3PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player4NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player4PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),avatarURLIsSymbol={reflectSymbol:()=>"avatarURL"},friendsIsSymbol={reflectSymbol:()=>"friends"},ridesIsSymbol={reflectSymbol:()=>"rides"},usernameIsSymbol={reflectSymbol:()=>"username"},_typeIsSymbol={reflectSymbol:()=>"_type"},valIsSymbol={reflectSymbol:()=>"val"},nameIsSymbol={reflectSymbol:()=>"name"},startedAtIsSymbol={reflectSymbol:()=>"startedAt"},deltaBeatsIsSymbol={reflectSymbol:()=>"deltaBeats"},hitAtIsSymbol={reflectSymbol:()=>"hitAt"},logicalBeatIsSymbol={reflectSymbol:()=>"logicalBeat"},outcomeIsSymbol={reflectSymbol:()=>"outcome"},playerIsSymbol={reflectSymbol:()=>"player"},uniqueIdIsSymbol={reflectSymbol:()=>"uniqueId"},consWriteForeignFields4=consWriteForeignFields$1(uniqueIdIsSymbol)(writeForeignInt)(nilWriteForeignFields)()()(),newPositionIsSymbol={reflectSymbol:()=>"newPosition"},oldPositionIsSymbol={reflectSymbol:()=>"oldPosition"},distanceIsSymbol={reflectSymbol:()=>"distance"},pctConsumedIsSymbol={reflectSymbol:()=>"pctConsumed"},releasedAtIsSymbol={reflectSymbol:()=>"releasedAt"},bind=(()=>bindExceptT$1(monadIdentity).bind)(),pure$1=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$1=readMaybe$3(readString),readMaybe1=readMaybe$3(readNumber),readFieldsCons=readFieldsCons$1(versionIsSymbol)(readForeignVersion(Reflectable$Dict$1))(readFieldsNil)()(),readImpl1=(()=>readRecord()(readFieldsCons$1(openIsSymbol)(readBoolean)(readFieldsCons$1(player1IsSymbol)(readMaybe$1)(readFieldsCons$1(player1NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player1PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player1PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player1StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player2IsSymbol)(readMaybe$1)(readFieldsCons$1(player2NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player2PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player2PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player2StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player3IsSymbol)(readMaybe$1)(readFieldsCons$1(player3NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player3PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player3PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player3StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player4IsSymbol)(readMaybe$1)(readFieldsCons$1(player4NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player4PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player4PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player4StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl2=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol)(readString)(readFieldsCons$1(valIsSymbol)(readNumber)(readFieldsNil)()())()()).readImpl)(),readFieldsCons3=readFieldsCons$1(uniqueIdIsSymbol)(readInt)(readFieldsNil)()(),showMaybe={show:o=>{if(o.tag==="Just")return"(Just "+(showStringImpl(o._1)+")");if(o.tag==="Nothing")return"Nothing";fail$3()}},readImpl3=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol)(readString)(readFieldsNil)()()).readImpl)(),ktpdIsSymbol={reflectSymbol:()=>"ktpd"},curXDirIsSymbol={reflectSymbol:()=>"curXDir"},dampeningIsSymbol={reflectSymbol:()=>"dampening"},posIsSymbol={reflectSymbol:()=>"pos"},timeIsSymbol={reflectSymbol:()=>"time"},gtpdIsSymbol={reflectSymbol:()=>"gtpd"},gammaIsSymbol={reflectSymbol:()=>"gamma"},ToLeft=$XDirection("ToLeft"),ToRight=$XDirection("ToRight"),Still=$XDirection("Still"),Player1=$Player("Player1"),Player2=$Player("Player2"),Player3=$Player("Player3"),Player4=$Player("Player4"),HasNotStartedYet=$StartStatus("HasNotStartedYet"),NoChannel=$ChannelChooser("NoChannel"),RideChannel=o=>u=>f=>$ChannelChooser("RideChannel",o,u,f),TutorialChannel=$ChannelChooser("TutorialChannel"),EditorChannel=$ChannelChooser("EditorChannel"),PageLoad=$Negotiation("PageLoad"),WillNotWorkWithoutOrientation=$Negotiation("WillNotWorkWithoutOrientation"),StartingNegotiation=$Negotiation("StartingNegotiation"),GameHasStarted=$Negotiation("GameHasStarted"),AxisX=$Axis("AxisX"),AxisY=$Axis("AxisY"),AxisZ=$Axis("AxisZ"),UnknownOrientationPermission=$AppOrientationState("UnknownOrientationPermission"),SuccessfulOrientationPermission=$AppOrientationState("SuccessfulOrientationPermission"),CannotUseAppDueToLackOfOrientationPermission=$AppOrientationState("CannotUseAppDueToLackOfOrientationPermission"),writeForeignXDirection={writeImpl:o=>{if(o.tag==="ToLeft")return"ToLeft";if(o.tag==="ToRight")return"ToRight";if(o.tag==="Still")return"Still";fail$3()}},writeImpl3=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPlayer={writeImpl:o=>{if(o.tag==="Player1")return"Player1";if(o.tag==="Player2")return"Player2";if(o.tag==="Player3")return"Player3";if(o.tag==="Player4")return"Player4";fail$3()}},consWriteForeignFields8=consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields4)()()(),consWriteForeignFields9=consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(nilWriteForeignFields)()()(),writeImpl4=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPointOutcome={writeImpl:o=>{if(o.tag==="Left")return writeImpl4({_type:"Penalty",val:o._1});if(o.tag==="Right")return writeImpl3({_type:"Points",val:o._1});fail$3()}},consWriteForeignFields11=consWriteForeignFields$1(startedAtIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()(),consWriteForeignFields12=consWriteForeignFields$1(posIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(timeIsSymbol)({writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}})(nilWriteForeignFields)()()())()()(),writeImpl5=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(ktpdIsSymbol)((()=>{const u=consWriteForeignFields$1(curXDirIsSymbol)(writeForeignXDirection)(consWriteForeignFields$1(dampeningIsSymbol)(writeForeignNumber)(consWriteForeignFields12)()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields9)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(gtpdIsSymbol)((()=>{const u=consWriteForeignFields$1(dampeningIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(gammaIsSymbol)(writeForeignNumber)(consWriteForeignFields12)()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields9)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl7=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(nameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields11)()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields14=consWriteForeignFields$1(deltaBeatsIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(logicalBeatIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields8)()()())()()())()()())()()(),consWriteForeignFields15=consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(newPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields$1(oldPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields8)()()())()()())()()(),consWriteForeignFields16=consWriteForeignFields$1(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields8)()()())()()(),consWriteForeignFields17=consWriteForeignFields$1(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields$1(pctConsumedIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields$1(releasedAtIsSymbol)(writeForeignNumber)(consWriteForeignFields4)()()())()()())()()())()()())()()())()()(),writeImpl10=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields14)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl11=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields15)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl12=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields16)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl13=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields17)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),showPointOutcome={show:o=>{if(o.tag==="Left")return"(Left "+(showNumberImpl(o._1)+")");if(o.tag==="Right")return"(Right "+(showNumberImpl(o._1)+")");fail$3()}},readForeignXDirection={readImpl:o=>bind(readString.readImpl(o))(u=>u==="ToLeft"?pure$1(ToLeft):u==="ToRight"?pure$1(ToRight):u==="Still"?pure$1(Still):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readForeignRide={readImpl:o=>{const u=readImpl1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Ride(u._1));fail$3()}},readForeignPotentiallyMis=o=>{const u=readMaybe$3(readArray(o)).readImpl;return{readImpl:f=>{const d=bind(u(f))(m=>pure$1((()=>{if(m.tag==="Nothing")return[];if(m.tag==="Just")return m._1;fail$3()})()));if(d.tag==="Left")return $Either("Left",d._1);if(d.tag==="Right")return $Either("Right",d._1);fail$3()}}},readForeignPotentiallyMis1=readForeignPotentiallyMis(readString),readImpl4=(()=>readRecord()(readFieldsCons$1(avatarURLIsSymbol)(readMaybe$1)(readFieldsCons$1(friendsIsSymbol)(readForeignPotentiallyMis1)(readFieldsCons$1(ridesIsSymbol)(readForeignPotentiallyMis1)(readFieldsCons$1(usernameIsSymbol)(readString)(readFieldsCons)()())()())()())()()).readImpl)(),readForeignProfile={readImpl:o=>{const u=readImpl4(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Profile(u._1));fail$3()}},readForeignPointOutcome={readImpl:o=>bind(readImpl2(o))(u=>u._type==="Points"?pure$1($Either("Right",u.val)):u._type==="Penalty"?pure$1($Either("Left",u.val)):fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o))))},readForeignPlayer={readImpl:o=>bind(readString.readImpl(o))(u=>u==="Player1"?pure$1(Player1):u==="Player2"?pure$1(Player2):u==="Player3"?pure$1(Player3):u==="Player4"?pure$1(Player4):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readFieldsCons8=readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons3)()(),readFieldsCons9=readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsNil)()(),readFieldsCons10=readFieldsCons$1(startedAtIsSymbol)(readNumber)(readFieldsNil)()(),readFieldsCons11=readFieldsCons$1(posIsSymbol)(readNumber)(readFieldsCons$1(timeIsSymbol)(readMaybe$3(readNumber))(readFieldsNil)()())()(),readImpl5=(()=>readRecord()(readFieldsCons$1(ktpdIsSymbol)(readRecord()(readFieldsCons$1(curXDirIsSymbol)(readForeignXDirection)(readFieldsCons$1(dampeningIsSymbol)(readNumber)(readFieldsCons11)()())()()))(readFieldsCons9)()()).readImpl)(),readImpl6=(()=>readRecord()(readFieldsCons$1(gtpdIsSymbol)(readRecord()(readFieldsCons$1(dampeningIsSymbol)(readNumber)(readFieldsCons$1(gammaIsSymbol)(readNumber)(readFieldsCons11)()())()()))(readFieldsCons9)()()).readImpl)(),readImpl7=(()=>readRecord()(readFieldsCons$1(nameIsSymbol)(readMaybe$1)(readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons10)()())()()).readImpl)(),readForeignHitBasicOverTh=readRecord()(readFieldsCons$1(deltaBeatsIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(logicalBeatIsSymbol)(readNumber)(readFieldsCons$1(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons8)()())()())()())()()),readForeignHitLeapOverThe=readRecord()(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(newPositionIsSymbol)(readForeignPosition)(readFieldsCons$1(oldPositionIsSymbol)(readForeignPosition)(readFieldsCons8)()())()())()()),readForeignHitLongOverThe=readRecord()(readFieldsCons$1(distanceIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons8)()())()()),readForeignReleaseLongOve=readRecord()(readFieldsCons$1(distanceIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons$1(pctConsumedIsSymbol)(readNumber)(readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons$1(releasedAtIsSymbol)(readNumber)(readFieldsCons3)()())()())()())()())()())()()),max$9=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},max1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},genericPlayer_={to:o=>{if(o.tag==="Inl")return Player1;if(o.tag==="Inr"){if(o._1.tag==="Inl")return Player2;if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return Player3;if(o._1._1.tag==="Inr")return Player4;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Player1")return $Sum("Inl",NoArguments);if(o.tag==="Player2")return $Sum("Inr",$Sum("Inl",NoArguments));if(o.tag==="Player3")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="Player4")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showPlayer={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player1"}),u=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player2"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player3"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player4"});return m=>{const h=genericPlayer_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},genericChannelChooser_={to:o=>{if(o.tag==="Inl")return NoChannel;if(o.tag==="Inr"){if(o._1.tag==="Inl")return $ChannelChooser("RideChannel",o._1._1._1,o._1._1._2._1,o._1._1._2._2);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return TutorialChannel;if(o._1._1.tag==="Inr")return EditorChannel;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="NoChannel")return $Sum("Inl",NoArguments);if(o.tag==="RideChannel")return $Sum("Inr",$Sum("Inl",$Product(o._1,$Product(o._2,o._3))));if(o.tag==="TutorialChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="EditorChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showChannelChooser={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"NoChannel"}),u=genericShowConstructor(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})({genericShowArgs:m=>["TrackV0 <"+(show1$3(m._1)+">")]})))({reflectSymbol:()=>"RideChannel"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"TutorialChannel"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EditorChannel"});return m=>{const h=genericChannelChooser_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},genericAppOrientationStat={to:o=>{if(o.tag==="Inl")return UnknownOrientationPermission;if(o.tag==="Inr"){if(o._1.tag==="Inl")return SuccessfulOrientationPermission;if(o._1.tag==="Inr")return CannotUseAppDueToLackOfOrientationPermission;fail$3()}fail$3()},from:o=>{if(o.tag==="UnknownOrientationPermission")return $Sum("Inl",NoArguments);if(o.tag==="SuccessfulOrientationPermission")return $Sum("Inr",$Sum("Inl",NoArguments));if(o.tag==="CannotUseAppDueToLackOfOrientationPermission")return $Sum("Inr",$Sum("Inr",NoArguments));fail$3()}},showAppOrientationState={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"UnknownOrientationPermission"}),u=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"SuccessfulOrientationPermission"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"CannotUseAppDueToLackOfOrientationPermission"});return d=>{const m=genericAppOrientationStat.from(d);if(m.tag==="Inl")return o["genericShow'"](m._1);if(m.tag==="Inr"){if(m._1.tag==="Inl")return u["genericShow'"](m._1._1);if(m._1.tag==="Inr")return f["genericShow'"](m._1._1);fail$3()}fail$3()}})()},eqPlayer={eq:o=>u=>o.tag==="Player1"?u.tag==="Player1":o.tag==="Player2"?u.tag==="Player2":o.tag==="Player3"?u.tag==="Player3":o.tag==="Player4"?u.tag==="Player4":!1},ordPlayer={compare:o=>u=>{if(o.tag==="Player1")return u.tag==="Player1"?EQ:LT;if(u.tag==="Player1")return GT;if(o.tag==="Player2")return u.tag==="Player2"?EQ:LT;if(u.tag==="Player2")return GT;if(o.tag==="Player3")return u.tag==="Player3"?EQ:LT;if(u.tag==="Player3")return GT;if(o.tag==="Player4"){if(u.tag==="Player4")return EQ;fail$3()}fail$3()},Eq0:()=>eqPlayer},semigroupKnownPlayers={append:o=>u=>unionWith(ordPlayer)(f=>d=>{if(f.tag==="HasNotStartedYet")return d.tag==="HasNotStartedYet"?HasNotStartedYet:d;if(d.tag==="HasNotStartedYet")return f;if(f.tag==="HasStarted"){if(d.tag==="HasStarted")return $StartStatus("HasStarted",{startedAt:min$5(f._1.startedAt)(d._1.startedAt),points:max$9(f._1.points)(d._1.points),name:(()=>f._1.name.tag==="Nothing"?d._1.name:f._1.name)(),penalties:max1(f._1.penalties)(d._1.penalties)});fail$3()}fail$3()})(o)(u)},toJSONPubNubPlayerAction={readImpl:o=>bind(readImpl3(o))(u=>{if(u._type==="XPositionKeyboard"){const f=readImpl5(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionKeyboard",f._1));fail$3()}if(u._type==="XPositionMobile"){const f=readImpl6(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionMobile",f._1));fail$3()}if(u._type==="HitBasic"){const f=readForeignHitBasicOverTh.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitBasic",f._1));fail$3()}if(u._type==="HitLeap"){const f=readForeignHitLeapOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLeap",f._1));fail$3()}if(u._type==="HitLong"){const f=readForeignHitLongOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLong",f._1));fail$3()}if(u._type==="ReleaseLong"){const f=readForeignReleaseLongOve.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("ReleaseLong",f._1));fail$3()}if(u._type==="PressedStart"){const f=readImpl7(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("PressedStart",f._1));fail$3()}return fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},showRecordFieldsCons9={showRecordFields:o=>u=>cons(intercalate$2(": ")(["startedAt","(JMilliseconds "+(showNumberImpl(u.startedAt)+")")]))([])},showInFlightGameInfo={show:o=>{const u=cons(intercalate$2(": ")(["name",showMaybe.show(o.name)]))(cons(intercalate$2(": ")(["penalties",showNumberImpl(o.penalties)]))(cons(intercalate$2(": ")(["points",showNumberImpl(o.points)]))(showRecordFieldsCons9.showRecordFields($$Proxy)(o))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}},showStartStatus={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"HasNotStartedYet"}),u=genericShowConstructor({genericShowArgs:f=>[showInFlightGameInfo.show(f)]})({reflectSymbol:()=>"HasStarted"});return f=>{if(f.tag==="HasNotStartedYet")return o["genericShow'"](NoArguments);if(f.tag==="HasStarted")return u["genericShow'"](f._1);fail$3()}})()},showKnownPlayers=showMap(showPlayer)(showStartStatus),playerPosition=o=>u=>{if(o.tag==="Player1"){if(u.tag==="AxisX")return f=>f.p1x;if(u.tag==="AxisY")return f=>f.p1y;if(u.tag==="AxisZ")return f=>f.p1z;fail$3()}if(o.tag==="Player2"){if(u.tag==="AxisX")return f=>f.p2x;if(u.tag==="AxisY")return f=>f.p2y;if(u.tag==="AxisZ")return f=>f.p2z;fail$3()}if(o.tag==="Player3"){if(u.tag==="AxisX")return f=>f.p3x;if(u.tag==="AxisY")return f=>f.p3y;if(u.tag==="AxisZ")return f=>f.p3z;fail$3()}if(o.tag==="Player4"){if(u.tag==="AxisX")return f=>f.p4x;if(u.tag==="AxisY")return f=>f.p4y;if(u.tag==="AxisZ")return f=>f.p4z;fail$3()}fail$3()},initialPositions=o=>({p1x:u=>0,p1y:0,p1z:-3*o.barZSpacing,p1p:Position1,p2x:u=>0,p2y:0,p2z:-2*o.barZSpacing,p2p:Position2,p3x:u=>0,p3y:0,p3z:-1*o.barZSpacing,p3p:Position3,p4x:u=>0,p4y:0,p4z:0,p4p:Position4}),fromJSONPubNubPlayerAction={writeImpl:o=>{if(o.tag==="XPositionKeyboard")return writeImpl5({...o._1,_type:"XPositionKeyboard"});if(o.tag==="XPositionMobile")return writeImpl6({...o._1,_type:"XPositionMobile"});if(o.tag==="HitBasic")return writeImpl10({...o._1,_type:"HitBasic"});if(o.tag==="HitLeap")return writeImpl11({...o._1,_type:"HitLeap"});if(o.tag==="HitLong")return writeImpl12({...o._1,_type:"HitLong"});if(o.tag==="ReleaseLong")return writeImpl13({...o._1,_type:"ReleaseLong"});if(o.tag==="PressedStart")return writeImpl7({...o._1,_type:"PressedStart"});fail$3()}},defaultRide=$Ride({player1:Nothing,player2:Nothing,player3:Nothing,player4:Nothing,player1StartTimeInMilliseconds:Nothing,player2StartTimeInMilliseconds:Nothing,player3StartTimeInMilliseconds:Nothing,player4StartTimeInMilliseconds:Nothing,player1Points:Nothing,player2Points:Nothing,player3Points:Nothing,player4Points:Nothing,player1Penalties:Nothing,player2Penalties:Nothing,player3Penalties:Nothing,player4Penalties:Nothing,player1Name:Nothing,player2Name:Nothing,player3Name:Nothing,player4Name:Nothing,open:!0,version:$Version(0)}),allPositions=[Position1,Position2,Position3,Position4],allPlayers=[Player1,Player2,Player3,Player4],allColumns=[C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,C17],mapAccum$5=mapAccum$e(eventIsEvent),vbust$1=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$3=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$f=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$8=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),intensityIsSymbol$1={reflectSymbol:()=>"intensity"},colorIsSymbol$2={reflectSymbol:()=>"color"},ambientLight$2=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol$1))(convertOptionAmbientLight1)()()()(colorIsSymbol$2))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$2=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol$1))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$2);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$3=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$2=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render$2={type:"render",value:unit},runThree$1=o=>{const u=d=>{if(!d)return m=>mapAccum$5(h=>b=>h._2?$Tuple(b+1|0,(()=>b>120?h._1:h._1*toNumber(b)/toNumber(120))()):$Tuple(0,0))(applyEvent.apply((h,b)=>m(h,y=>{const _=Tuple(y);return b(_)}))((h,b)=>{const y=applicativeEvent.pure(!1)(h,b),_=o.pressedStart(h,b);return()=>(y(),_())}))(0);if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust$1($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$3({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$f([(()=>{const b=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(_,w)=>o.animatedStuff(_,M=>{const $=y(M.playerPositions);return w($)})})());return(y,_)=>b(y,w=>_({type:"positionX",value:w}))})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(_,w)=>o.animatedStuff(_,M=>{const $=y(M.playerPositions);return w($)})})());return(y,_)=>b(y,w=>{const M={type:"positionY",value:w._1.cameraOffsetY+w._2};return _(M)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const M=h(w.playerPositions);return _(M)}));return(y,_)=>b(y,w=>{const M={type:"positionZ",value:w._1.cameraOffsetZ+w._2};return _(M)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const M=h(w.playerPositions);return _(M)}));return(y,_)=>b(y,w=>{const M={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:w._1.cameraRotationAroundX,y:0,z:0})};return _(M)})})(),(b,y)=>o.resizeE(b,_=>{const w={type:"aspect",value:_.iw/_.ih};return y(w)})])})()))(h=>{const b=y=>arrayMap(_=>unsafeInternalGroup(w=>w.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$f([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const M=playerPosition(_)(AxisX);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>{const v={type:"positionX",value:y+g};return $(v)})})(),(()=>{const w=sampleBy(functorEvent)(M=>$=>M.sphereOffsetY+$)(o.renderingInfo)((()=>{const M=playerPosition(_)(AxisY);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>$({type:"positionY",value:g}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(_.tag==="Player1")return-4;if(_.tag==="Player2")return-3;if(_.tag==="Player3")return-2;if(_.tag==="Player4")return-1;fail$3()})()}),(()=>{const w=playerPosition(_)(AxisZ);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $({type:"positionZ",value:v})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(_.tag==="Player1")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin($.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos($.rateInfo.time*.21991148575128555)*.12566370614359174})};return M(g)});if(_.tag==="Player3")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin($.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos($.rateInfo.time*.09424777960769379)*-.09424777960769379})};return M(g)});if(_.tag==="Player2")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos($.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin($.rateInfo.time*-.25132741228718347)*.25132741228718347})};return M(g)});if(_.tag==="Player4")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos($.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin($.rateInfo.time*.06283185307179587)*-.2827433388230814})};return M(g)});fail$3()})()]))([]))(filter$1(_=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum$5(_=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",_),0);if(w.tag==="Just")return $Tuple($Maybe("Just",_),_-w._1);fail$3()})((_,w)=>o.animatedStuff(_,M=>{const $=M.rateInfo.epochTime/1e3;return w($)}))(Nothing);return(_,w)=>y(_,M=>{const $=M/1e3,g=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos($*.031415926535897934)},{type:"rotateY",value:.001*cos($*.031415926535897934)},{type:"rotateZ",value:.001*cos($*.031415926535897934)}]);return w(g)})})()))(concatArray(b(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((_,w)=>o.animatedStuff(_,M=>{const $=(()=>{if(o.myPlayer.tag==="Player1")return M.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return M.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return M.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return M.playerPositions.p4p;fail$3()})(),g=(()=>y.tag==="Position1"?$.tag==="Position1":y.tag==="Position2"?$.tag==="Position2":y.tag==="Position3"?$.tag==="Position3":y.tag==="Position4"?$.tag==="Position4":!1)();return w(g)})),rateE:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray([ambientLight$2({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$f([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionX",value:$}))})(),(()=>{const _=sampleBy(functorEvent)(w=>M=>w.lightOffsetY+M)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionY",value:$}))})(),(()=>{const _=playerPosition(y)(AxisZ);return(w,M)=>o.animatedStuff(w,$=>{const g=_($.playerPositions);return M({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))([o.basicE(m._1.hitBasicVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)]))))))]))(y=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(_=>_.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const _=mapAccum$5(w=>M=>{if(M.tag==="Nothing")return $Tuple($Maybe("Just",w),0);if(M.tag==="Just")return $Tuple($Maybe("Just",w),w-M._1);fail$3()})((w,M)=>o.animatedStuff(w,$=>{const g=$.rateInfo.epochTime/1e3;return M(g)}))(Nothing);return(w,M)=>_(w,$=>{const g=$/1e3,v=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(g*.031415926535897934)},{type:"rotateY",value:.001*cos(g*.031415926535897934)},{type:"rotateZ",value:.001*cos(g*.031415926535897934)}]);return M(v)})})()))(concatArray(b(0))(arrayMap(_=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$f([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const M=playerPosition(_)(AxisX);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>$({type:"positionX",value:g}))})(),(()=>{const w=sampleBy(functorEvent)(M=>$=>M.lightOffsetY+$)(o.renderingInfo)((()=>{const M=playerPosition(_)(AxisY);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>$({type:"positionY",value:g}))})(),(()=>{const w=playerPosition(_)(AxisZ);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $({type:"positionZ",value:v})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(_=>globalWebGLRendererPortal1()()(webGLRenderer$3(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$f([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(w,M)=>o.resizeE(w,$=>M({type:"size",value:{width:$.iw,height:$.ih}}))])))(w=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(w)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(_)(h),unrealBloomPass$2({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))(M=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(w)(oneOf$f([applicativeEvent.pure(render$2),($,g)=>o.animatedStuff($,v=>g(render$2))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})(M)])),$Entity("EventfulElement'",($,g)=>o.css2DRendererElt($,v=>{const k=css2DRenderer$1(y)(h)({canvas:o.canvas,element:v,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$f([(C,S)=>o.resizeE(C,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render$2),(C,S)=>o.animatedStuff(C,I=>S(render$2))]));return g(k)})),$Entity("EventfulElement'",($,g)=>o.css3DRendererElt($,v=>{const k=css3DRenderer$1(y)(h)({canvas:o.canvas,element:v,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$f([(C,S)=>o.resizeE(C,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render$2),(C,S)=>o.animatedStuff(C,I=>S(render$2))]));return g(k)}))])))))}))))));return()=>(f(),unit)};var hasStringIterator=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",hasFromCodePoint=typeof String.prototype.fromCodePoint=="function";const _singleton=function(o){return hasFromCodePoint?String.fromCodePoint:o},_take=function(o){return function(u){return hasStringIterator?function(f){for(var d="",m=f[Symbol.iterator](),h=0;h<u;++h){var b=m.next();if(b.done)return d;d+=b.value}return d}:o(u)}},uncons=o=>{const u=length(o);if(u===0)return Nothing;if(u===1)return $Maybe("Just",{head:toCharCode(charAt(0)(o)),tail:""});const f=toCharCode(charAt(1)(o)),d=toCharCode(charAt(0)(o));return 55296<=d&&d<=56319&&56320<=f&&f<=57343?$Maybe("Just",{head:(((d-55296|0)*1024|0)+(f-56320|0)|0)+65536|0,tail:drop$1(2)(o)}):$Maybe("Just",{head:d,tail:drop$1(1)(o)})},fromCharCode=o=>singleton$1((()=>o>=-2147483648&&o<=2147483647?fromCharCode$1(o):o<0?"\0":"\uFFFF")()),singletonFallback=o=>o<=65535?fromCharCode(o):fromCharCode(intDiv(o-65536|0)(1024)+55296|0)+fromCharCode(intMod(o-65536|0)(1024)+56320|0),singleton=_singleton(singletonFallback),takeFallback=o=>u=>{if(o<1)return"";const f=uncons(u);return f.tag==="Just"?singleton(f._1.head)+takeFallback(o-1|0)(f._1.tail):u},take$2=_take(takeFallback);var NUMERIC="numeric",SUDDEN="sudden",UNIT="unit",CANCEL="cancel",NO_RAMP="step",LINEAR_RAMP="linear",EXPONENTIAL_RAMP="exponential",ENVELOPE="envelope",protoSetter=function(o,u,f,d){if(f.type===SUDDEN)o.value=f.value.n;else if(f.type===UNIT)u.id&&disconnectCtrl(u.id,d),d.units[f.value.i].main.connect(o),u.id=f.value.i;else if(f.type===NUMERIC)o[f.value.t.type===NO_RAMP?"setValueAtTime":f.value.t.type===LINEAR_RAMP?"linearRampToValueAtTime":f.value.t.type===EXPONENTIAL_RAMP?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](f.value.n,f.value.o);else if(f.type===CANCEL)f.value.hold?o.cancelAndHoldAtTime(f.value.o):o.cancelScheduledValues(f.value.o);else if(f.type===ENVELOPE){const m=f.value.o;o.cancelScheduledValues(Math.max(0,m)),o.setValueCurveAtTime(f.value.p,m,f.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(f))},workletSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u.parameters.get(f),d[f],m,o)},genericSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u[f],d[f],m,o)},addToScope=function(o,u,f,d){const m=o("@fan@")(h=>h)(f);d.scopes[m]||(d.scopes[m]=[]),d.scopes[m].push(u),d.units[u].scope=m},doDeferredConnections=function(o,u){u.toConnect[o]&&(u.toConnect[o].forEach(function(f){f.w?u.units[f.w]?f.f():(u.toConnect[f.w]||(u.toConnect[f.w]=[]),u.toConnect[f.w].push({f:f.f})):f.f()}),delete u.toConnect[o])},mConnectXToY_=function(o,u,f,d){o()(m=>connectXToYInternal_(u,m,d))(f)},connectXToYInternal_=function(o,u,f){var d=function(){f.units[o].audioOutgoing.push(u),f.units[o].pendingOn||(f.units[o].main.connect(f.units[u].main),f.units[u].se&&f.units[o].main.connect(f.units[u].se))};if(!f.units[o]){f.toConnect[o]||(f.toConnect[o]=[]);var m={f:d};u!==o&&!f.units[u]&&(m.w=u),f.toConnect[o].push(m);return}if(!f.units[u]){f.toConnect[u]||(f.toConnect[u]=[]);var m={f:d};u!==o&&!f.units[o]&&(m.w=o),f.toConnect[u].push(m);return}d()};function deleteFromCache_(o){return function(u){return function(){delete u.units[o.id]}}}function connectXToY_(o){return function(u){return function(){connectXToYInternal_(o.from,o.to,u)}}}var disconnectCtrl=function(o,u){if(u.units[o].scope==="@fan@")return;const f=u.units[o].scope;u.scopes[f].forEach(d=>{delete u.units[d]}),delete u.scopes[f]};function disconnectXFromY_(o){return function(u){return function(){var f=o.from,d=o.to;if(!u.units[f]||(u.units[f].audioOutgoing=u.units[f].audioOutgoing.filter(function(h){return h!==d}),u.units[f].main.disconnect(u.units[d].main),u.units[d].se&&u.units[f].main.disconnect(u.units[d].se),u.units[f].scope==="@fan@"))return;const m=u.units[f].scope;u.scopes[m].forEach(h=>{delete u.units[h]}),delete u.scopes[m]}}}const makeAllpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"allpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAnalyser_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=new AnalyserNode(f.context,u),b=m(h)();f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:m,analyser:b,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAudioWorkletNode_=o=>u=>f=>()=>{var d=u.id,m=u.options;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(f.context,m.name,{numberOfInputs:m.numberOfInputs,numberOfOutputs:m.numberOfOutputs,outputChannelCount:m.outputChannelCount,parameterData:m.parameterData,processorOptions:m.processorOptions})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeBandpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"bandpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConstant_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new ConstantSourceNode(b,y)},h={offset:u.offset};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConvolver_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(f.context,{buffer:u.buffer})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDelay_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(f.context,{delayTime:u.delayTime,maxDelayTime:u.maxDelayTime})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDynamicsCompressor_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(f.context,{knee:u.knee,ratio:u.ratio,threshold:u.threshold,attack:u.attack,release:u.release})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeGain_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(f.context,{gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeIIRFilter_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(f.context,{feedforward:u.feedforward,feedback:u.feedback})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLoopBuf_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new AudioBufferSourceNode(b,y)},h={loop:!0,buffer:u.buffer,loopStart:u.loopStart,loopEnd:u.loopEnd,playbackRate:u.playbackRate};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMediaElement_=o=>u=>f=>()=>{var d=u.id,m=u.element,h=function(){var b=f.context.createMediaElementSource(m);return b};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:h,resumeClosure:{},main:h()},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMicrophone_=o=>u=>f=>()=>{var d=u.id;f.units[u.id]={main:f.context.createMediaStreamSource(u.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeNotch_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"notch",frequency:u.frequency,Q:u.q})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeaking_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"peaking",frequency:u.frequency,Q:u.q,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeriodicOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){var _={frequency:y.frequency,periodicWave:y.spec.type==="wave"?y.spec.value:makePeriodicWaveImpl(f.context)(y.spec.value.real)(y.spec.value.img)()},w=new OscillatorNode(b,_);return w},h={frequency:u.frequency,type:"custom",spec:u.spec};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePlayBuf_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){var _={loop:y.loop,buffer:y.buffer,playbackRate:y.playbackRate};return new AudioBufferSourceNode(b,_)},h={loop:!1,buffer:u.buffer,playbackRate:u.playbackRate,bufferOffset:u.bufferOffset,duration:o(void 0)(b=>b)(u.duration)};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeRecorder_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=f.context.createMediaStreamDestination(),b=new MediaRecorder(h.stream);m(b)(),b.start(),f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:m,recorder:b,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSawtoothOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"sawtooth"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSinOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"sine"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSpeaker_=o=>u=>()=>{u.units[o.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:u.context.createGain(),se:u.context.destination}},makeStereoPanner_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(f.context,{pan:u.pan})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSquareOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"square"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeTriangleOsc_=o=>u=>f=>()=>{var d=u.id,m=function(b,y){return new OscillatorNode(b,y)},h={frequency:u.frequency,type:"triangle"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeWaveShaper_=o=>u=>f=>()=>{var d=u.id,m=u.curve,h=u.oversample;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(f.context,{curve:m,oversample:h.type})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)};function setAnalyserNodeCb_(o){return function(u){return function(){var f=o.id,d=o.cb;u.units[f].analyserOrig!==d&&(u.units[f].analyser&&u.units[f].analyser(),u.units[f].analyser=d(u.units[f].se)(),u.units[f].analyserOrig=d)}}}function setMediaRecorderCb_(o){return function(u){return function(){var f=o.cb,d=o.id;if(u.units[d].recorderOrig!==f){u.units[d].recorder&&u.units[d].recorder.stop();var m=f;u.units[d].recorderOrig=f;var h=new MediaRecorder(u.units[d].se);m(h)(),h.start()}}}}function setWaveShaperCurve_(o){return function(u){return function(){var f=o.id,d=o.curve;u.units[f].main.curve=d}}}function setAudioWorkletParameter_(o){return function(u){return function(){var f=o.id,d=o.paramName,m=o.paramValue;workletSetter(u,u.units[f].main,d,u.units[f].controllers,m)}}}const recalcResume=function(o,u,f){u.resume&&o.value.n!==void 0&&(u.resume[f]=o.value.n)};function setGain_(o){return function(u){return function(){var f=o.id,d=o.gain;genericSetter(u,u.units[f].main,"gain",u.units[f].controllers,d),recalcResume(d,u.units[f],"gain")}}}function setQ_(o){return function(u){return function(){var f=o.id,d=o.q;genericSetter(u,u.units[f].main,"Q",u.units[f].controllers,d),recalcResume(d,u.units[f],"Q")}}}function setBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].resume&&(u.units[f].resume.buffer=d)}}}function setConvolverBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].main.buffer=d}}}function setPeriodicOsc_(o){return function(u){return function(){var f=o.id,d=o.spec;u.units[f].resume&&(u.units[f].resume.spec=d)}}}function setPan_(o){return function(u){return function(){var f=o.id,d=o.pan;genericSetter(u,u.units[f].main,"pan",u.units[f].controllers,d),recalcResume(d,u.units[f],"pan")}}}function setThreshold_(o){return function(u){return function(){var f=o.id,d=o.threshold;genericSetter(u,u.units[f].main,"threshold",u.units[f].controllers,d),recalcResume(d,u.units[f],"threshold")}}}function setLoopStart_(o){return function(u){return function(){var f=o.id,d=o.loopStart;u.units[f].main.loopStart=d,u.units[f].resume.loopStart=d}}}function setLoopEnd_(o){return function(u){return function(){var f=o.id,d=o.loopEnd;u.units[f].main.loopEnd=d,u.units[f].resume.loopEnd=d}}}function setBufferOffset_(o){return function(u){return function(){var f=o.id,d=o.bufferOffset;u.units[f].resume.bufferOffset=d}}}function setDuration_(o){return function(u){return function(f){return function(){var d=u.id,m=u.duration;f.units[d].duration=o(void 0)(h=>h)(m)}}}}function setRelease_(o){return function(u){return function(){var f=o.id,d=o.release;genericSetter(u,u.units[f].main,"release",u.units[f].controllers,d),recalcResume(d,u.units[f],"release")}}}function setOffset_(o){return function(u){return function(){var f=o.id,d=o.offset;genericSetter(u,u.units[f].main,"offset",u.units[f].controllers,d),recalcResume(d,u.units[f],"offset")}}}function setRatio_(o){return function(u){return function(){var f=o.id,d=o.ratio;genericSetter(u,u.units[f].main,"ratio",u.units[f].controllers,d),recalcResume(d,u.units[f],"ratio")}}}function setAttack_(o){return function(u){return function(){var f=o.id,d=o.attack;genericSetter(u,u.units[f].main,"attack",u.units[f].controllers,d),recalcResume(d,u.units[f],"attack")}}}function setKnee_(o){return function(u){return function(){var f=o.id,d=o.knee;genericSetter(u,u.units[f].main,"knee",u.units[f].controllers,d),recalcResume(d,u.units[f],"knee")}}}function setDelay_(o){return function(u){return function(){var f=o.id,d=o.delayTime;genericSetter(u,u.units[f].main,"delayTime",u.units[f].controllers,d),recalcResume(d,u.units[f],"delayTime")}}}function setPlaybackRate_(o){return function(u){return function(){var f=o.id,d=o.playbackRate;genericSetter(u,u.units[f].main,"playbackRate",u.units[f].controllers,d),recalcResume(d,u.units[f],"playbackRate")}}}function setFrequency_(o){return function(u){return function(){var f=o.id,d=o.frequency;genericSetter(u,u.units[f].main,"frequency",u.units[f].controllers,d),recalcResume(d,u.units[f],"frequency")}}}function setOnOff_(o){return function(u){return function(){var f=o.id,d=o.onOff;d.x.type==="on"?setOn_(f)(d)(u)():d.x.type==="off"&&setOff_(f)(d)(u)()}}}var setOn_=function(o){return function(u){return function(f){return function(){if(!f.units[o].onOff){f.units[o].pendingOn=!1,f.units[o].onOff=!0,f.units[o].main=f.units[o].createClosure(f.context,f.units[o].resume);for(var d=0;d<f.units[o].audioOutgoing.length;d++){var m=f.units[o].audioOutgoing[d];f.units[o].main.connect(f.units[m].main),f.units[m].se&&f.units[o].main.connect(f.units[m].se)}f.units[o].resume&&f.units[o].resume.bufferOffset?typeof f.units[o].resume.duration=="number"?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset,f.units[o].resume.duration):f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset):f.units[o].resume&&f.units[o].resume.loopStart?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.loopStart):f.units[o].main.start(f.deprecatedWriteHead+u.o)}}}}},setOff_=function(o){return function(u){return function(f){return function(){if(!!f.units[o].onOff){f.units[o].onOff=!1;var d=f.units[o].main;d.addEventListener("ended",()=>{d.disconnect()}),d.stop(f.deprecatedWriteHead+u.o)}}}}};function constant0Hack_(o){return function(){var u=o.createConstantSource();return u.offset.value=0,u.connect(o.destination),u.start(),function(){u.stop(),u.disconnect(o.destination)}}}var makePeriodicWaveImpl=function(o){return function(u){return function(f){return function(){for(var d=new Float32Array(u.length),m=new Float32Array(f.length),h=0;h<u.length;h++)d[h]=u[h];for(var h=0;h<f.length;h++)m[h]=f[h];return o.createPeriodicWave(d,m,{disableNormalization:!0})}}}};function makeFFIAudioSnapshot(o){return function(){return{context:o,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function close_(o){return function(){o.close()}}function fetchArrayBuffer(o){return function(){return fetch(o).then(function(u){return u.arrayBuffer()},function(u){return console.error("Error fetching buffer",u),Promise.reject(u)})}}function decodeAudioDataFromArrayBuffer(o){return function(u){return function(){return o.decodeAudioData(u)}}}function context_(){return new(window.AudioContext||window.webkitAudioContext)}function contextState_(o){return function(){return o.state}}function getAudioClockTime(o){return function(){return o.currentTime}}function makeAudioBuffer_(o){return function(u){return function(){for(var f=o.createBuffer(u.arr.length,u.arr[0].length,u.size),d=0;d<f.numberOfChannels;d++)for(var m=f.getChannelData(d),h=0;h<f.length;h++)m[h]=u.arr[d][h];return f}}}const effectfulAudioInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},deleteFromCache:deleteFromCache_,disconnectXFromY:disconnectXFromY_,connectXToY:connectXToY_,makeAllpass:makeAllpass_(maybe),makeAnalyser:makeAnalyser_(maybe),makeAudioWorkletNode:makeAudioWorkletNode_(maybe),makeBandpass:makeBandpass_(maybe),makeConstant:makeConstant_(maybe),makeConvolver:makeConvolver_(maybe),makeDelay:makeDelay_(maybe),makeDynamicsCompressor:makeDynamicsCompressor_(maybe),makeGain:makeGain_(maybe),makeHighpass:makeHighpass_(maybe),makeHighshelf:makeHighshelf_(maybe),makeIIRFilter:makeIIRFilter_(maybe),makeLoopBuf:makeLoopBuf_(maybe),makeLowpass:makeLowpass_(maybe),makeLowshelf:makeLowshelf_(maybe),makeMediaElement:makeMediaElement_(maybe),makeMicrophone:makeMicrophone_(maybe),makeNotch:makeNotch_(maybe),makePeaking:makePeaking_(maybe),makePeriodicOsc:makePeriodicOsc_(maybe),makePlayBuf:makePlayBuf_(maybe),makeRecorder:makeRecorder_(maybe),makeSawtoothOsc:makeSawtoothOsc_(maybe),makeSinOsc:makeSinOsc_(maybe),makeSpeaker:makeSpeaker_,makeSquareOsc:makeSquareOsc_(maybe),makeStereoPanner:makeStereoPanner_(maybe),makeTriangleOsc:makeTriangleOsc_(maybe),makeWaveShaper:makeWaveShaper_(maybe),setAnalyserNodeCb:setAnalyserNodeCb_,setMediaRecorderCb:setMediaRecorderCb_,setWaveShaperCurve:setWaveShaperCurve_,setAudioWorkletParameter:setAudioWorkletParameter_,setBuffer:setBuffer_,setConvolverBuffer:setConvolverBuffer_,setDuration:setDuration_(maybe),setPeriodicOsc:setPeriodicOsc_,setOnOff:setOnOff_,setBufferOffset:setBufferOffset_,setLoopStart:setLoopStart_,setLoopEnd:setLoopEnd_,setRatio:setRatio_,setOffset:setOffset_,setAttack:setAttack_,setGain:setGain_,setQ:setQ_,setPan:setPan_,setThreshold:setThreshold_,setRelease:setRelease_,setKnee:setKnee_,setDelay:setDelay_,setPlaybackRate:setPlaybackRate_,setFrequency:setFrequency_}),decodeAudioDataFromUri=o=>u=>_bind(_bind(_liftEffect(fetchArrayBuffer(u)))(toAff$p(coerce)))((()=>{const f=decodeAudioDataFromArrayBuffer(o);return d=>_bind(_liftEffect(f(d)))(toAff$p(coerce))})()),close=o=>u=>o.liftEffect((()=>{const f=contextState_(u);return()=>{const d=f(),m=close_(u);return d!=="closed"?m():unit}})()),withACTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>{const m=getAudioClockTime(o);return()=>{const h=m();return f({acTime:h,value:d})()}})),run2=o=>u=>{const f=makeFFIAudioSnapshot(o);return()=>{const d=f(),m={value:0};return subscribe(speaker(u)(effectfulAudioInterpret(m)))(b=>b(d))()}},set_=o=>({n11:u,n12:f,n13:d,n14:m,n21:h,n22:b,n23:y,n24:_,n31:w,n32:M,n33:$,n34:g,n41:v,n42:k,n43:C,n44:S})=>new o().set(u,f,d,m,h,b,y,_,w,M,$,g,v,k,C,S),$CenterState=(o,u)=>({tag:o,_1:u}),$FadeInstruction=o=>({tag:o}),identity$8=o=>o,oneOf$e=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussed=vbussed$1()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"longAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusCons2({reflectSymbol:()=>"tutorialCenterState"})()()(vbusNil)()())()())()())()())()())()())()())()())()()),traverse_$7=traverse_$9(applicativeEffect)(foldableMaybe),fromFoldable$7=fromFoldable$9(ordNumber)(foldableArray),pure2$1=(()=>applicativeABehavior(functorEvent).pure)(),max$8=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT$1=applicativeExceptT$3(monadIdentity),traverse$3=(()=>traversableMap.traverse(applicativeExceptT$1))(),throwError$1=(()=>monadThrowExceptT(monadIdentity).throwError)(),biSampleOn$3=biSampleOn$4(eventIsEvent),oneOfMap$7=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),FadeIn=$FadeInstruction("FadeIn"),FadeOut=$FadeInstruction("FadeOut"),FadeInOut=$FadeInstruction("FadeInOut"),Intro=$CenterState("Intro"),Tiles=$CenterState("Tiles"),Tilt=$CenterState("Tilt"),Leap=$CenterState("Leap"),Long=$CenterState("Long"),End$1=$CenterState("End"),Empty$1=$CenterState("Empty"),tutorial$1=o=>u=>f=>{const d=contains("tutorial-fade-in-animation"),m=replace("tutorial-fade-in-animation")("tutorial-fade-out-animation opacity-0 "),h=(b,y,_,w,M,$,g)=>$Entity("EventfulElement'",backdoor.bus(v=>k=>$Entity("Element'",elementify("div")((C,S)=>{const I=F=>{const R={key:"class",value:$AttributeValue("Prop'",F((()=>M.tag==="FadeIn"||M.tag==="FadeInOut"?"tutorial-fade-in-animation ":"opacity-100 ")())+"z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900")};return S(R)},O=applicativeEvent.pure(identity$8)(C,I),x=k(C,I);return()=>(O(),x())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6 md:col-start-3 md:col-end-5"))($Entity("FixedChildren'",concatArray([$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(b))])))])))])(concatArray((()=>{if(y.tag==="Just")return[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))($Entity("FixedChildren'",[y._1])))];if(y.tag==="Nothing")return[];fail$3()})())([$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))($Entity("FixedChildren'",concatArray((()=>{const C=[$Entity("Element'",elementify("button")(oneOf$e([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),applicativeEvent.pure((()=>{const S=v(O=>{const x=m(O),F="tutorial-fade-out-animation opacity-0 "+O;return d(O)?x:F}),I=_makeFiber(ffiUtil$1,applyAff.apply(_map(O=>identity$v)(_delay(Right,1500)))(_liftEffect(g(Empty$1))));return{key:"click",value:$AttributeValue("Cb'",O=>()=>(S(),I().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Keep playing"))])))];return _?C:[]})())([$Entity("Element'",elementify("button")(oneOf$e([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),applicativeEvent.pure((()=>{const C=g(Empty$1),S=v(F=>{const R=m(F),L="tutorial-fade-out-animation opacity-0 "+F;return d(F)?R:L}),I=_makeFiber(ffiUtil$1,applyAff.apply(_map(F=>identity$v)(_delay(Right,1500)))(_liftEffect(C))),O=()=>(S(),I().run(),unit),x=(()=>M.tag==="FadeOut"||M.tag==="FadeInOut"?O:C)();return{key:"click",value:$AttributeValue("Cb'",F=>()=>(x(),$(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure(w))])))]))))])))))])))));return vbussed($$Proxy)(b=>y=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",backdoor.memoize(sampleBy(functorEvent)(_=>w=>({rateInfo:w,playerPositions:{p1x:_.p1x(w),p1y:_.p1y,p1z:_.p1z,p1p:_.p1p,p2x:_.p2x(w),p2y:_.p2y,p2z:_.p2z,p2p:_.p2p,p3x:_.p3x(w),p3y:_.p3y,p3z:_.p3z,p3p:_.p3p,p4x:_.p4x(w),p4y:_.p4y,p4z:_.p4z,p4p:_.p4p}}))(f.playerPositions)(biSampleOn$3(oneOff(Just)(filter(_=>applyMaybe.apply((()=>{if(_.tag==="Leaf")return Nothing;const w=traverse$3(M=>{if(M.tag==="HasNotStartedYet")return throwError$1(unit);if(M.tag==="HasStarted")return applicativeExceptT$1.pure(M._1.startedAt);fail$3()})(_);if(w.tag==="Left")return Nothing;if(w.tag==="Right")return $Maybe("Just",M=>({startTime:foldableMap.foldl(max$8)(0)(w._1),myTime:M}));fail$3()})())((()=>{const w=lookup$1(ordPlayer)(f.player)(_);if(w.tag==="Just"){if(w._1.tag==="HasNotStartedYet")return Nothing;if(w._1.tag==="HasStarted")return $Maybe("Just",w._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))((_,w)=>y.rateInfo(_,M=>w($=>{const g=($.startTime-$.myTime)/1e3;return{epochTime:M.epochTime,time:M.time,prevTime:M.prevTime,beats:M.beats-g,prevBeats:(()=>{if(M.prevBeats.tag==="Nothing")return Nothing;if(M.prevBeats.tag==="Just")return $Maybe("Just",M.prevBeats._1-g);fail$3()})()}})))))(_=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("z-10 pointer-events-none absolute w-screen h-screen grid grid-rows-6 grid-cols-6"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("row-start-1 row-end-3 col-start-1 col-end-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("mx-2 mt-2 "))($Entity("FixedChildren'",[switcher(w=>{if(w._2.tag==="Nothing")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(M=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>M._1.tag==="Player1"?f.player.tag==="Player1":M._1.tag==="Player2"?f.player.tag==="Player2":M._1.tag==="Player3"?f.player.tag==="Player3":M._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if(M._2.tag==="HasStarted"){if(M._2._1.name.tag==="Just")return M._2._1.name._1+" has joined!";if(M._2._1.name.tag==="Nothing"){if(M._1.tag==="Player1")return"Player 1 has joined!";if(M._1.tag==="Player2")return"Player 2 has joined!";if(M._1.tag==="Player3")return"Player 3 has joined!";if(M._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if(M._2.tag==="HasNotStartedYet"){if(M._1.tag==="Player1")return"Player 1 has joined!";if(M._1.tag==="Player2")return"Player 2 has joined!";if(M._1.tag==="Player3")return"Player 3 has joined!";if(M._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])))]))))(toUnfoldable$1(unfoldableArray)(w._1)))));if(w._2.tag==="Just")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(M=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>M._1.tag==="Player1"?f.player.tag==="Player1":M._1.tag==="Player2"?f.player.tag==="Player2":M._1.tag==="Player3"?f.player.tag==="Player3":M._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if(M._2.name.tag==="Just")return"You ("+(M._2.name._1+")");if(M._2.name.tag==="Nothing")return"You";fail$3()}if(M._2.name.tag==="Just")return M._2.name._1;if(M._2.name.tag==="Nothing"){if(M._1.tag==="Player1")return"Player 1";if(M._1.tag==="Player2")return"Player 2";if(M._1.tag==="Player3")return"Player 3";if(M._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round(M._2.points+-1*M._2.penalties)))+" Points"))))])))]))))(mapMaybe(M=>{if(M._2.tag==="HasNotStartedYet")return Nothing;if(M._2.tag==="HasStarted")return $Maybe("Just",$Tuple(M._1,M._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(w._1))))));fail$3()})(biSampleOn$3(initializeWithEmpty(plusMaybe)(applicativeMaybe)(y.iAmReady))((w,M)=>f.playerStatus(w,$=>{const g=Tuple($);return M(g)})))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",(w,M)=>y.iAmReady(w,$=>{const g=$Entity("Element'",elementify("div")(oneOf$e([klass_(attrDiv_ClassString)("mx-2")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$e([klass_(attrButton_ClassString)("pointer-events-auto p-1 "+buttonCls),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",v=>()=>(simpleExitFullScreen(),$(),o.goHome(),!0))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>(()=>{if(u.isPreviewPage.tag==="Nothing")return!1;if(u.isPreviewPage.tag==="Just")return!0;fail$3()})()?"Exit preview":"Exit tutorial")()))])))])));return M(g)}))])))])))]))),(()=>{const w=applicativeEvent.pure((()=>{if(u.isPreviewPage.tag==="Nothing")return Intro;if(u.isPreviewPage.tag==="Just")return $CenterState("Preview",u.isPreviewPage._1);fail$3()})()),M=()=>{const $=requestIdleCallbackIsDefined(),g=context_(),v=constant0Hack_(g)(),k=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$7(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const D=now(),J=o.unschedule.value,K=span$1(ee=>ee._1<D)(toUnfoldable$1(unfoldableArray)(J));return foreachE(K.init)(snd)(),o.unschedule.value=fromFoldable$7(K.rest),unit};if($){const D=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",D)}return L()}})())(),C=withACTime(g)(animationFrame),S=backdoor.hot((R,L)=>C(R,D=>L(D.acTime)))(),I=backdoor.hot(timeFromRate(f.cNow)(pure2$1({rate:1}))((R,L)=>S.event(R,D=>L({real:D}))))(),O=subscribe(I.event)(b.rateInfo)(),x=run2(g)(graph$1({basics:y.basicAudio,leaps:y.leapAudio,longs:y.longAudio,rateInfo:(R,L)=>_(R,D=>L(D.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,longVerb:f.longVerb,bgtrack:u.bgtrack,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds}))();b.pressedStart(!0)(),b.iAmReady((()=>{const R=clearIntervalImpl(k),L=close(monadEffectEffect)(g);return()=>(x(),v(),R(),S.unsubscribe(),O(),I.unsubscribe(),L())})())();const F=f.cNow();return f.optMeIn(F)()};return switcher($=>{if($.tag==="Preview")return h("Preview your ride!",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Starting at "+(toStringWith($Format("Fixed",clamp$3(0)(20)(2)))($._1.startsAt)+" seconds.")))])))])))),!1,"Start",FadeOut,fullScreenFlow(M),b.tutorialCenterState);if($.tag==="Intro")return h("Welcome to Joyride!",Nothing,!1,"Start Tutorial",FadeOut,fullScreenFlow((()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(v=>identity$v)(_delay(Right,4e3)))(_liftEffect(b.tutorialCenterState(Tiles))));return()=>(M(),g().run(),unit)})()),b.tutorialCenterState);if($.tag==="Tiles")return h("Points",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Earn points by touching the "))]))),$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("italic"))($Entity("FixedChildren'",[text(applicativeEvent.pure("gray"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tiles as soon as their edge touches the line. You'll lose points if you're too early or late."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(v=>identity$v)(_delay(Right,12e3)))(_liftEffect(b.tutorialCenterState(Tilt))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if($.tag==="Tilt")return h("Tilt",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Tilt your phone left or right to move sideways and reach far-off tiles."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(v=>identity$v)(_delay(Right,9500)))(_liftEffect(b.tutorialCenterState(Leap))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if($.tag==="Leap")return h("Leaps",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Leap to a new line by touching a "))]))),$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("italic"))($Entity("FixedChildren'",[text(applicativeEvent.pure("leap"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tile. Leap tiles have the same color as the line you'll leap to."))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(v=>identity$v)(_delay(Right,1e4)))(_liftEffect(b.tutorialCenterState(Long))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if($.tag==="Long")return h("Press",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Long-press the "))]))),$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("italic"))($Entity("FixedChildren'",[text(applicativeEvent.pure("green"))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure(" tiles to earn points. The closer the tile is, the higher the points!"))])))])))),!1,"Next >",FadeInOut,(()=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(v=>identity$v)(_delay(Right,25e3)))(_liftEffect(b.tutorialCenterState(End$1))));return()=>(g().run(),unit)})(),b.tutorialCenterState);if($.tag==="End")return h("That's it!",$Maybe("Just",$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Play against up to four people! The ride is more fun when shared with friends \u{1F917}"))])))),!0,"Home >",FadeIn,o.goHome,b.tutorialCenterState);if($.tag==="Empty")return $Entity("EventfulElement'",plusEvent.empty);fail$3()})(($,g)=>{const v=w($,g),k=y.tutorialCenterState($,g);return()=>(v(),k())})})(),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("canvas")(oneOf$e([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute w-screen h-screen")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const w=traverse_$7(M=>runThree$1({threeDI:f.threeDI,css2DRendererElt:y.render2DElement,css3DRendererElt:y.render3DElement,pressedStart:y.pressedStart,isMobile:o.isMobile,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,columnPusher:o.columnPusher,lowPriorityCb:o.lpsCallback,myPlayer:f.player,debug:o.debug,models:f.models,textures:f.textures,cubeTextures:f.cubeTextures,pushBasic:o.pushBasic,basicE:$=>g=>u.basicE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:g,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushBasic:o.pushBasic,pushBasicVisualForLabel:$}),leapE:$=>g=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,columnEventConstructor:g,debug:o.debug,notifications:{hitLeap:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushLeap:o.pushLeap,pushLeapVisualForLabel:$}),longE:$=>g=>v=>u.longE({initialDims:f.initialDims,columnEventConstructor:v,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:plusEvent.empty,releaseLong:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:b.longAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:$,pushReleaseLongVisualForLabel:g}),animatedStuff:_,resizeE:o.resizeE,initialDims:f.initialDims,canvas:M}));return M=>w(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",M))})())})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",b.render2DElement)}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",b.render3DElement)}]))($Entity("FixedChildren'",[])))])))])))))]))))},$Landmark=(o,u)=>({tag:o,_1:u}),eventToAff=o=>makeAff(u=>()=>{const f={value:()=>unit},d=subscribe(o)(m=>{const h=u($Either("Right",m));return()=>(h(),bindE(()=>f.value)(identity$u)(),f.value=()=>unit)})();return f.value=d,m=>_liftEffect(bindE(()=>f.value)(identity$u))}),memoBeh=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m=create(),h={value:u};return d(f(backdoor.makeEvent(b=>{const y=bindE(()=>h.value)(b);return()=>(y(),subscribe(m.event)(b)())})))(),subscribe(o)(b=>()=>(h.value=b,m.push(b)()))()}),rider=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(u)(f);return()=>{const m=d(),h=subscribe(o.event)(o.push)();return()=>(m(),h())}});/*!
 * MIT License
 * 
 * Copyright (c) 2020 Filestack
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */var filestack=function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}return f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var b in d)f.d(h,b,function(y){return d[y]}.bind(null,b));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=52)}([function(o,u,f){f.d(u,"c",function(){return m}),f.d(u,"a",function(){return h}),f.d(u,"b",function(){return b}),f.d(u,"d",function(){return y}),f.d(u,"f",function(){return _}),f.d(u,"e",function(){return M});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function($,g){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,k){v.__proto__=k}||function(v,k){for(var C in k)k.hasOwnProperty(C)&&(v[C]=k[C])})($,g)};function m($,g){function v(){this.constructor=$}d($,g),$.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}var h=function(){return(h=Object.assign||function($){for(var g,v=1,k=arguments.length;v<k;v++)for(var C in g=arguments[v])Object.prototype.hasOwnProperty.call(g,C)&&($[C]=g[C]);return $}).apply(this,arguments)};function b($,g,v,k){return new(v||(v=Promise))(function(C,S){function I(F){try{x(k.next(F))}catch(R){S(R)}}function O(F){try{x(k.throw(F))}catch(R){S(R)}}function x(F){var R;F.done?C(F.value):(R=F.value,R instanceof v?R:new v(function(L){L(R)})).then(I,O)}x((k=k.apply($,g||[])).next())})}function y($,g){var v,k,C,S,I={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(x){return function(F){return function(R){if(v)throw new TypeError("Generator is already executing.");for(;I;)try{if(v=1,k&&(C=2&R[0]?k.return:R[0]?k.throw||((C=k.return)&&C.call(k),0):k.next)&&!(C=C.call(k,R[1])).done)return C;switch(k=0,C&&(R=[2&R[0],C.value]),R[0]){case 0:case 1:C=R;break;case 4:return I.label++,{value:R[1],done:!1};case 5:I.label++,k=R[1],R=[0];continue;case 7:R=I.ops.pop(),I.trys.pop();continue;default:if(C=I.trys,!((C=C.length>0&&C[C.length-1])||R[0]!==6&&R[0]!==2)){I=0;continue}if(R[0]===3&&(!C||R[1]>C[0]&&R[1]<C[3])){I.label=R[1];break}if(R[0]===6&&I.label<C[1]){I.label=C[1],C=R;break}if(C&&I.label<C[2]){I.label=C[2],I.ops.push(R);break}C[2]&&I.ops.pop(),I.trys.pop();continue}R=g.call($,I)}catch(L){R=[6,L],k=0}finally{v=C=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([x,F])}}}function _($){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&$[g],k=0;if(v)return v.call($);if($&&typeof $.length=="number")return{next:function(){return $&&k>=$.length&&($=void 0),{value:$&&$[k++],done:!$}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function w($,g){var v=typeof Symbol=="function"&&$[Symbol.iterator];if(!v)return $;var k,C,S=v.call($),I=[];try{for(;(g===void 0||g-- >0)&&!(k=S.next()).done;)I.push(k.value)}catch(O){C={error:O}}finally{try{k&&!k.done&&(v=S.return)&&v.call(S)}finally{if(C)throw C.error}}return I}function M(){for(var $=[],g=0;g<arguments.length;g++)$=$.concat(w(arguments[g]));return $}},function(o,u,f){f.r(u),f.d(u,"resolveCdnUrl",function(){return S}),f.d(u,"resolveHost",function(){return I}),f.d(u,"removeEmpty",function(){return O}),f.d(u,"uniqueTime",function(){return x}),f.d(u,"uniqueId",function(){return F}),f.d(u,"getMimetype",function(){return R}),f.d(u,"extensionToMime",function(){return L}),f.d(u,"sanitizeName",function(){return D}),f.d(u,"filterObject",function(){return J}),f.d(u,"cleanUpCallbacks",function(){return K}),f.d(u,"md5",function(){return $}),f.d(u,"b64",function(){return g}),f.d(u,"getVersion",function(){return v}),f.d(u,"isMobile",function(){return k}),f.d(u,"isFacebook",function(){return C});var d,m=f(0),h={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","msp","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"application/font-ttf":"ttf","application/vnd.ms-fontobject":"eot","application/font-otf":"otf","text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard","vcr"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote","key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.key":["key"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"],"application/x-msi":"msi","application/x-ms":"ms","application/vnd.geo+json":"geojson","application/vnd.debian.binary-package":"deb","application/font-woff":"woff","application/font-woff2":"woff2","application/x-font-ttf":["ttc","ttf"],"font/opentype":"otf","application/x-bb-appworld":"bbaw","application/x-cd-image":"iso","application/x-opera-extension":"oex","application/x-ms-dos-executable":"exe","text/vnd.rim.location.xloc":"xloc","application/x-desktop":"desktop","application/x-typescript":"ts","application/x-java-archive":"jar","application/x-sharedlib":"so"},b=f(17),y=f.n(b),_=f(27),w=f(28),M=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i,$=function(ee){return btoa(w.ArrayBuffer.hash(ee,!0))},g=function(ee,H){H===void 0&&(H=!1);var q=btoa(ee);return H?q.replace(/\//g,"_").replace(/\+/g,"-"):q},v=function(){return"JS-3.25.0"},k=function(){return navigator&&navigator.userAgent&&M.test(navigator.userAgent)},C=function(){return navigator&&navigator.userAgent&&/\[FB.*;/i.test(navigator.userAgent)},S=function(ee,H){var q=ee.urls.cdnUrl;if(H&&(H.indexOf("src:")===0||H.indexOf("http")===0)){if(!ee.apikey)throw new Error("Api key is required when storage alias is provided");return q+"/"+ee.apikey}return q},I=function(ee,H){if(!H)return ee;var q=/filestackapi.com|filestackcontent.com/i;return Object.keys(ee).forEach(function(X){ee[X]=ee[X].replace(q,H)}),ee},O=function(ee){var H=Object(m.a)({},ee);return Object.keys(H).forEach(function(q){return!H[q]&&typeof H[q]!="boolean"&&delete H[q]}),H},x=function(){var ee=Date.now();return d=ee===d?ee+1:ee},F=function(ee){return ee===void 0&&(ee=10),new Array(ee).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()})},R=function(ee,H){var q=y()(ee);if(q&&["text/plain","application/octet-stream","application/x-ms","application/x-msi","application/zip"].indexOf(q.mime)===-1)return q.mime;if(H&&H.indexOf(".")>-1){var X=L(H);if(X)return X}try{if(_(ee))return"text/plain"}catch{console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers")}return q?q.mime:"application/octet-stream"},L=function(ee){if(ee&&ee.length!==0){if(ee.split("/").length===2)return ee;ee.indexOf(".")>-1&&(ee=ee.split(".").pop()),ee=ee.toLocaleLowerCase();for(var H=Object.keys(h),q=H.length,X=0;X<q;X++)if(h[H[X]].indexOf(ee)>-1)return H[X]}},D=function(ee,H){if(H===void 0&&(H=!0),typeof H=="boolean"&&!H)return ee;var q,X=typeof H!="boolean"&&H.replacement?H.replacement:"-",ie=typeof H!="boolean"&&H.exclude?H.exclude:["\\","{","}","|","%","`",'"',"'","~","[","]","#","|","^","<",">"];if(!ee||ee.length===0)return"undefined";var Q=ee.split(".");return Q.length>1&&(q=Q.pop()),Q.join(".").split("").map(function(G){return ie.indexOf(G)>-1?X:G}).join("")+(q?"."+q:"")},J=function(ee,H){return H&&H.length!==0?Object.keys(ee).length===0?ee:Object.keys(ee).filter(function(q){return H.indexOf(q)>-1}).reduce(function(q,X){var ie;return Object(m.a)(Object(m.a)({},q),((ie={})[X]=ee[X],ie))},{}):ee},K=function ee(H){return H&&Object.keys(H).length!==0&&Object.keys(H).forEach(function(q){typeof H[q]=="function"&&(H[q]=void 0),H[q]===Object(H[q])&&(H[q]=ee(H[q]))}),H}},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return h});var d,m=f(0);(function(b){b.ABORTED="ABORTED",b.NETWORK="NETWORK",b.TIMEOUT="TIMEDOUT",b.SERVER="SERVER",b.REQUEST="REQUEST",b.OTHER="OTHER",b.REDIRECT="REDIRECT"})(d||(d={}));var h=function(b){function y(_,w,M,$){var g,v,k,C=this.constructor,S=b.call(this,_)||this;return S.config=w,S.response=M,S.code=$,g=S,v=C.prototype,(k=Object.setPrototypeOf)?k(g,v):g.__proto__=v,S}return Object(m.c)(y,b),y}(Error)},function(o,u,f){(function(d){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}u.log=function(){var h;return(typeof console>"u"?"undefined":m(console))==="object"&&console.log&&(h=console).log.apply(h,arguments)},u.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!!this.useColors){var b="color: "+this.color;h.splice(1,0,b,"color: inherit");var y=0,_=0;h[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(y++,w==="%c"&&(_=y))}),h.splice(_,0,b)}},u.save=function(h){try{h?u.storage.setItem("debug",h):u.storage.removeItem("debug")}catch{}},u.load=function(){var h;try{h=u.storage.getItem("debug")}catch{}return!h&&d!==void 0&&"env"in d&&(h=d.env.DEBUG),h},u.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},u.storage=function(){try{return localStorage}catch{}}(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.exports=f(41)(u),o.exports.formatters.j=function(h){try{return JSON.stringify(h)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}).call(this,f(26))},function(o,u,f){function d(k){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(k)}function m(k){switch(Object.prototype.toString.call(k)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(k,Error)}}function h(k){return Object.prototype.toString.call(k)==="[object String]"}function b(k){return k===null||d(k)!=="object"&&typeof k!="function"}function y(k){return Object.prototype.toString.call(k)==="[object Object]"}function _(k){return typeof Event<"u"&&v(k,Event)}function w(k){return typeof Element<"u"&&v(k,Element)}function M(k){return Object.prototype.toString.call(k)==="[object RegExp]"}function $(k){return Boolean(k&&k.then&&typeof k.then=="function")}function g(k){return y(k)&&"nativeEvent"in k&&"preventDefault"in k&&"stopPropagation"in k}function v(k,C){try{return k instanceof C}catch{return!1}}f.d(u,"b",function(){return m}),f.d(u,"h",function(){return h}),f.d(u,"f",function(){return b}),f.d(u,"e",function(){return y}),f.d(u,"c",function(){return _}),f.d(u,"a",function(){return w}),f.d(u,"g",function(){return M}),f.d(u,"j",function(){return $}),f.d(u,"i",function(){return g}),f.d(u,"d",function(){return v})},function(o,u,f){f.d(u,"a",function(){return b}),f.d(u,"f",function(){return y}),f.d(u,"d",function(){return _}),f.d(u,"b",function(){return w}),f.d(u,"h",function(){return M}),f.d(u,"e",function(){return $}),f.d(u,"i",function(){return g}),f.d(u,"c",function(){return d}),f.d(u,"g",function(){return m});var d=function(){return!1},m=function(){return!1};function h(v){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(v)}var b=function(v){return Object.prototype.toString.call(v)==="[object ArrayBuffer]"},y=function(v){return v!==null&&h(v)==="object"},_=function(v){return Object.prototype.toString.call(v)==="[object File]"},w=function(v){return Object.prototype.toString.call(v)==="[object Blob]"},M=function(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams},$=function(v){return typeof FormData<"u"&&v instanceof FormData},g=function(v){return v.replace(/^\s*/,"").replace(/\s*$/,"")}},function(o,u,f){var d;f.d(u,"a",function(){return d}),function(m){m.GET="GET",m.DELETE="DELETE",m.HEAD="HEAD",m.PURGE="PURGE",m.OPTIONS="OPTIONS",m.POST="POST",m.PUT="PUT",m.PATH="PATH"}(d||(d={}))},function(o,u,f){var d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m="["+d+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",h=new RegExp("^"+m+"$");u.isExist=function(b){return b!==void 0},u.isEmptyObject=function(b){return Object.keys(b).length===0},u.merge=function(b,y,_){if(y)for(var w=Object.keys(y),M=w.length,$=0;$<M;$++)b[w[$]]=_==="strict"?[y[w[$]]]:y[w[$]]},u.getValue=function(b){return u.isExist(b)?b:""},u.buildOptions=function(b,y,_){var w={};if(!b)return y;for(var M=0;M<_.length;M++)b[_[M]]!==void 0?w[_[M]]=b[_[M]]:w[_[M]]=y[_[M]];return w},u.isName=function(b){var y=h.exec(b);return y!=null},u.getAllMatches=function(b,y){for(var _=[],w=y.exec(b);w;){for(var M=[],$=w.length,g=0;g<$;g++)M.push(w[g]);_.push(M),w=y.exec(b)}return _},u.nameRegexp=m},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function b(M,$,g){this.fn=M,this.context=$,this.once=g||!1}function y(M,$,g,v,k){if(typeof g!="function")throw new TypeError("The listener must be a function");var C=new b(g,v||M,k),S=m?m+$:$;return M._events[S]?M._events[S].fn?M._events[S]=[M._events[S],C]:M._events[S].push(C):(M._events[S]=C,M._eventsCount++),M}function _(M,$){--M._eventsCount==0?M._events=new h:delete M._events[$]}function w(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),w.prototype.eventNames=function(){var M,$,g=[];if(this._eventsCount===0)return g;for($ in M=this._events)d.call(M,$)&&g.push(m?$.slice(1):$);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(M)):g},w.prototype.listeners=function(M){var $=m?m+M:M,g=this._events[$];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,k=g.length,C=new Array(k);v<k;v++)C[v]=g[v].fn;return C},w.prototype.listenerCount=function(M){var $=m?m+M:M,g=this._events[$];return g?g.fn?1:g.length:0},w.prototype.emit=function(M,$,g,v,k,C){var S=m?m+M:M;if(!this._events[S])return!1;var I,O,x=this._events[S],F=arguments.length;if(x.fn){switch(x.once&&this.removeListener(M,x.fn,void 0,!0),F){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,$),!0;case 3:return x.fn.call(x.context,$,g),!0;case 4:return x.fn.call(x.context,$,g,v),!0;case 5:return x.fn.call(x.context,$,g,v,k),!0;case 6:return x.fn.call(x.context,$,g,v,k,C),!0}for(O=1,I=new Array(F-1);O<F;O++)I[O-1]=arguments[O];x.fn.apply(x.context,I)}else{var R,L=x.length;for(O=0;O<L;O++)switch(x[O].once&&this.removeListener(M,x[O].fn,void 0,!0),F){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,$);break;case 3:x[O].fn.call(x[O].context,$,g);break;case 4:x[O].fn.call(x[O].context,$,g,v);break;default:if(!I)for(R=1,I=new Array(F-1);R<F;R++)I[R-1]=arguments[R];x[O].fn.apply(x[O].context,I)}}return!0},w.prototype.on=function(M,$,g){return y(this,M,$,g,!1)},w.prototype.once=function(M,$,g){return y(this,M,$,g,!0)},w.prototype.removeListener=function(M,$,g,v){var k=m?m+M:M;if(!this._events[k])return this;if(!$)return _(this,k),this;var C=this._events[k];if(C.fn)C.fn!==$||v&&!C.once||g&&C.context!==g||_(this,k);else{for(var S=0,I=[],O=C.length;S<O;S++)(C[S].fn!==$||v&&!C[S].once||g&&C[S].context!==g)&&I.push(C[S]);I.length?this._events[k]=I.length===1?I[0]:I:_(this,k)}return this},w.prototype.removeAllListeners=function(M){var $;return M?($=m?m+M:M,this._events[$]&&_(this,$)):(this._events=new h,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=m,w.EventEmitter=w,o.exports=w},function(o,u,f){(function(d){f.d(u,"b",function(){return b}),f.d(u,"c",function(){return y}),f.d(u,"a",function(){return _});var m=f(13),h=(f(10),{});function b(){return Object(m.b)()?d:typeof window<"u"?window:typeof self<"u"?self:h}function y(){var w=b(),M=w.crypto||w.msCrypto;if(M!==void 0&&M.getRandomValues){var $=new Uint16Array(8);M.getRandomValues($),$[3]=4095&$[3]|16384,$[4]=16383&$[4]|32768;var g=function(v){for(var k=v.toString(16);k.length<4;)k="0"+k;return k};return g($[0])+g($[1])+g($[2])+g($[3])+g($[4])+g($[5])+g($[6])+g($[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(v){var k=16*Math.random()|0;return(v==="x"?k:3&k|8).toString(16)})}function _(w){var M=b();if(!("console"in M))return w();var $=M.console,g={};["debug","info","warn","error","log","assert"].forEach(function(k){k in M.console&&$[k].__sentry_original__&&(g[k]=$[k],$[k]=$[k].__sentry_original__)});var v=w();return Object.keys(g).forEach(function(k){$[k]=g[k]}),v}}).call(this,f(14))},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return m}),f(4);function d(h,b){return b===void 0&&(b=0),typeof h!="string"||b===0||h.length<=b?h:h.substr(0,b)+"..."}function m(h,b){var y=h,_=y.length;if(_<=150)return y;b>_&&(b=_);var w=Math.max(b-60,0);w<5&&(w=0);var M=Math.min(w+140,_);return M>_-5&&(M=_),M===_&&(w=Math.max(M-140,0)),y=y.slice(w,M),w>0&&(y="'{snip} "+y),M<_&&(y+=" {snip}"),y}},function(o,u,f){f.d(u,"b",function(){return h}),f.d(u,"d",function(){return v}),f.d(u,"c",function(){return C}),f.d(u,"a",function(){return I}),f.d(u,"e",function(){return x.a});var d=f(5),m=["expires","from","host","if-modified-since","if-unmodified-since","age","authorization","content-length","content-type","etag","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],h=function(F){var R,L,D,J={};return F&&F.split(`
`).forEach(function(K){D=K.indexOf(":"),R=Object(d.i)(K.substr(0,D)).toLowerCase(),L=Object(d.i)(K.substr(D+1)),R&&(J[R]&&m.indexOf(R)>=0||(J[R]=R==="set-cookie"?(J[R]?J[R]:[]).concat([L]):J[R]?J[R]+", "+L:L))}),J},b=function(F,R,L,D){D===void 0&&(D=!1);var J=y(R);return F||(F={}),(F=JSON.parse(JSON.stringify(F)))[R]===void 0&&F[J]===void 0?F[J]=L:D&&(delete F[R],F[J]=L),F},y=function(F){var R={"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag","last-event-id":"Last-Event-ID",tcn:"TCN",te:"TE","www-authenticate":"WWW-Authenticate","x-dnsprefetch-control":"X-DNSPrefetch-Control"}[F.toLowerCase()];return R||F.split("-").map(function(L){return L.charAt(0).toUpperCase()+L.substr(1).toLowerCase()}).join("-")},_=f(0),w=f(1),M=f(21),$=f(3),g=f.n($)()("fs:request:data"),v=function(F){return F=k(F),Object(d.e)(F.data)||Object(d.c)(F.data)||Object(d.g)(F.data)||Object(d.d)(F.data)||Object(d.b)(F.data)||Object(d.a)(F.data)||(Object(d.h)(F.data)?(F.headers=b(F.headers,"content-type","application/x-www-form-urlencoded;charset=utf-8"),F.data=F.data.toString()):Object(d.f)(F.data)&&(F.headers=b(F.headers,"content-type","application/json",!0),F.data=JSON.stringify(F.data))),F},k=function(F){return F.filestackHeaders&&(F.headers=b(F.headers,"filestack-source",Object(w.getVersion)()),F.headers=b(F.headers,"filestack-trace-id",Math.floor(Date.now()/1e3)+"-"+Object(w.uniqueId)()),F.headers=b(F.headers,"filestack-trace-span","jssdk-"+Object(w.uniqueId)())),F},C=function(F){return Object(_.b)(void 0,void 0,void 0,function(){var R,L;return Object(_.d)(this,function(D){if(!F.headers||!F.headers["content-type"])return[2,Promise.resolve(F)];if(R=F.headers["content-type"],/application\/json/.test(R))try{F.data=JSON.parse(F.data)}catch{g("Cannot parse response %O - %O",F.data,F.headers)}else/text\/(plain|html)/.test(R)?Object(d.c)(F.data)&&(F.data=S(F.data)):/application\/xml/.test(R)&&(L=F.data,Object(d.c)(F.data)&&(L=S(F.data)),M.validate(L)===!0&&(F.data=M.parse(L,{ignoreAttributes:!0,trimValues:!0})));return[2,Promise.resolve(F)]})})};function S(F){for(var R=new Uint16Array(F),L=R.length,D="",J=Math.pow(2,16)-1,K=0;K<L;K+=J)K+J>L&&(J=L-K),D+=String.fromCharCode.apply(null,R.subarray(K,K+J));return D}var I=function(F,R){if(!R)return F;var L=O(R),D=F.indexOf("#");return D!==-1&&(F=F.slice(0,D)),F+(F.indexOf("?")===-1?"?":"&")+L},O=function(F){return Object.keys(F).filter(function(R){return R&&F[R]!==void 0}).map(function(R){return encodeURIComponent(R)+"="+encodeURIComponent(F[R])}).join("&")},x=f(16)},function(o,u,f){function d(I){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}var m=f(19),h=u.ValidationError=function(I,O,x,F,R,L){F&&(this.property=F),I&&(this.message=I),x&&(x.id?this.schema=x.id:this.schema=x),O&&(this.instance=O),this.name=R,this.argument=L,this.stack=this.toString()};h.prototype.toString=function(){return this.property+" "+this.message};var b=u.ValidatorResult=function(I,O,x,F){this.instance=I,this.schema=O,this.propertyPath=F.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.disableFormat=x&&x.disableFormat===!0};function y(I,O){return O+": "+I.toString()+`
`}b.prototype.addError=function(I){var O;if(typeof I=="string")O=new h(I,this.instance,this.schema,this.propertyPath);else{if(!I)throw new Error("Missing error detail");if(!I.message)throw new Error("Missing error message");if(!I.name)throw new Error("Missing validator type");O=new h(I.message,this.instance,this.schema,this.propertyPath,I.name,I.argument)}if(this.throwError)throw O;return this.errors.push(O),O},b.prototype.importErrors=function(I){typeof I=="string"||I&&I.validatorType?this.addError(I):I&&I.errors&&Array.prototype.push.apply(this.errors,I.errors)},b.prototype.toString=function(I){return this.errors.map(y).join("")},Object.defineProperty(b.prototype,"valid",{get:function(){return!this.errors.length}});var _=u.SchemaError=function I(O,x){this.message=O,this.schema=x,Error.call(this,O),Error.captureStackTrace(this,I)};_.prototype=Object.create(Error.prototype,{constructor:{value:_,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var w=u.SchemaContext=function(I,O,x,F,R){this.schema=I,this.options=O,this.propertyPath=x,this.base=F,this.schemas=R};w.prototype.resolve=function(I){return m.resolve(this.base,I)},w.prototype.makeChild=function(I,O){var x=O===void 0?this.propertyPath:this.propertyPath+$(O),F=m.resolve(this.base,I.id||""),R=new w(I,this.options,x,F,Object.create(this.schemas));return I.id&&!R.schemas[F]&&(R.schemas[F]=I),R};var M=u.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(I){return typeof I=="string"&&parseFloat(I)===parseInt(I,10)&&!isNaN(I)},regex:function(I){var O=!0;try{new RegExp(I)}catch{O=!1}return O},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};M.regexp=M.regex,M.pattern=M.regex,M.ipv4=M["ip-address"],u.isFormat=function(I,O,x){if(typeof I=="string"&&M[O]!==void 0){if(M[O]instanceof RegExp)return M[O].test(I);if(typeof M[O]=="function")return M[O](I)}else if(x&&x.customFormats&&typeof x.customFormats[O]=="function")return x.customFormats[O](I);return!0};var $=u.makeSuffix=function(I){return(I=I.toString()).match(/[.\s\[\]]/)||I.match(/^[\d]/)?I.match(/^\d+$/)?"["+I+"]":"["+JSON.stringify(I)+"]":"."+I};function g(I,O,x,F){d(x)==="object"?O[F]=C(I[F],x):I.indexOf(x)===-1&&O.push(x)}function v(I,O,x){O[x]=I[x]}function k(I,O,x,F){d(O[F])==="object"&&O[F]&&I[F]?x[F]=C(I[F],O[F]):x[F]=O[F]}function C(I,O){var x=Array.isArray(O),F=x&&[]||{};return x?(I=I||[],F=F.concat(I),O.forEach(g.bind(null,I,F))):(I&&d(I)==="object"&&Object.keys(I).forEach(v.bind(null,I,F)),Object.keys(O).forEach(k.bind(null,I,O,F))),F}function S(I){return"/"+encodeURIComponent(I).replace(/~/g,"%7E")}u.deepCompareStrict=function I(O,x){if(d(O)!==d(x))return!1;if(O instanceof Array)return x instanceof Array&&O.length===x.length&&O.every(function(L,D){return I(O[D],x[D])});if(d(O)==="object"){if(!O||!x)return O===x;var F=Object.keys(O),R=Object.keys(x);return F.length===R.length&&F.every(function(L){return I(O[L],x[L])})}return O===x},o.exports.deepMerge=C,u.objectGetPath=function(I,O){for(var x,F=O.split("/").slice(1);typeof(x=F.shift())=="string";){var R=decodeURIComponent(x.replace(/~0/,"~").replace(/~1/g,"/"));if(!(R in I))return;I=I[R]}return I},u.encodePath=function(I){return I.map(S).join("")},u.getDecimalPlaces=function(I){var O=0;if(isNaN(I))return O;typeof I!="number"&&(I=Number(I));var x=I.toString().split("e");if(x.length===2){if(x[1][0]!=="-")return O;O=Number(x[1].slice(1))}var F=x[0].split(".");return F.length===2&&(O+=F[1].length),O}},function(o,u,f){(function(d){function m(){return Object.prototype.toString.call(d!==void 0?d:0)==="[object process]"}function h(b,y){return b.require(y)}f.d(u,"b",function(){return m}),f.d(u,"a",function(){return h})}).call(this,f(26))},function(o,u){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{(typeof window>"u"?"undefined":f(window))==="object"&&(d=window)}o.exports=d},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(45),b=1,y=2,_=3,w=4,M="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,d.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var $={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(x,F){return x},attrValueProcessor:function(x,F){return x},stopNodes:[]};u.defaultOptions=$;var g=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];u.props=g;function v(x,F,R){var L=x[7]||R,D=x[12];return D&&(F.trimValues&&(D=D.trim()),D=S(D=F.tagValueProcessor(D,L),F.parseNodeValue,F.parseTrueNumberOnly)),D}function k(x){return x[4]==="]]>"?w:x[10]==="/"?y:x[8]!==void 0&&x[8].substr(x[8].length-1)==="/"?_:b}function C(x,F){if(F.ignoreNameSpace){var R=x.split(":"),L=x.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(x=L+R[1])}return x}function S(x,F,R){var L;return F&&typeof x=="string"?(x.trim()===""||isNaN(x)?L=x==="true"||x!=="false"&&x:(x.indexOf("0x")!==-1?L=Number.parseInt(x,16):x.indexOf(".")!==-1?(L=Number.parseFloat(x),x=x.replace(/0+$/,"")):L=Number.parseInt(x,10),R&&(L=String(L)===x?L:x)),L):d.isExist(x)?x:""}var I=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function O(x,F){if(!F.ignoreAttributes&&typeof x=="string"){x=x.replace(/\r?\n/g," ");for(var R=d.getAllMatches(x,I),L=R.length,D={},J=0;J<L;J++){var K=C(R[J][1],F);K.length&&(R[J][4]!==void 0?(F.trimValues&&(R[J][4]=R[J][4].trim()),R[J][4]=F.attrValueProcessor(R[J][4],K),D[F.attributeNamePrefix+K]=S(R[J][4],F.parseAttributeValue,F.parseTrueNumberOnly)):F.allowBooleanAttributes&&(D[F.attributeNamePrefix+K]=!0))}if(!Object.keys(D).length)return;if(F.attrNodeName){var ee={};return ee[F.attrNodeName]=D,ee}return D}}u.getTraversalObj=function(x,F){F=m(F,$,g),x=x.replace(/<!--[\s\S]*?-->/g,"");for(var R=new h("!xml"),L=R,D=new RegExp(M,"g"),J=D.exec(x),K=D.exec(x);J;){var ee=k(J);if(ee===y)L.parent&&J[12]&&(L.parent.val=d.getValue(L.parent.val)+""+v(J,F,L.parent.tagname)),F.stopNodes.length&&F.stopNodes.includes(L.tagname)&&(L.child=[],L.attrsMap==null&&(L.attrsMap={}),L.val=x.substr(L.startIndex+1,J.index-L.startIndex-1)),L=L.parent;else if(ee===w)if(F.cdataTagName){var H=new h(F.cdataTagName,L,J[3]);H.attrsMap=O(J[8],F),L.addChild(H),L.val=d.getValue(L.val)+F.cdataPositionChar,J[12]&&(L.val+=v(J,F))}else L.val=(L.val||"")+(J[3]||"")+v(J,F);else if(ee===_){L&&J[12]&&(L.val=d.getValue(L.val)+""+v(J,F));var q=new h(F.ignoreNameSpace?J[7]:J[5],L,"");J[8]&&J[8].length>0&&(J[8]=J[8].substr(0,J[8].length-1)),q.attrsMap=O(J[8],F),L.addChild(q)}else{var X=new h(F.ignoreNameSpace?J[7]:J[5],L,v(J,F));F.stopNodes.length&&F.stopNodes.includes(X.tagname)&&(X.startIndex=J.index+J[1].length),X.attrsMap=O(J[8],F),L.addChild(X),L=X}J=K,K=D.exec(x)}return R}},function(o,u,f){f.d(u,"a",function(){return b});var d=f(2),m=f(3),h=f.n(m)()("fs:request:shouldRetry"),b=function(y){switch(h("Checking error for retry. Code: %n, type: %s",y.response?y.response.status:"Malformed response",y.code),y.code){case d.b.NETWORK:case d.b.SERVER:case d.b.TIMEOUT:return!0;case d.b.ABORTED:return!1}return!!y.response&&500<=y.response.status&&y.response.status<=599}},function(module,exports,__webpack_require__){function _typeof(o){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function _arrayWithoutHoles(o){if(Array.isArray(o)){for(var u=0,f=new Array(o.length);u<o.length;u++)f[u]=o[u];return f}}var toBytes=function(o){return _toConsumableArray(o).map(function(u){return u.charCodeAt(0)})},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(o){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=o[u],d=1,m=0;++m<8;)d*=256,f+=o[u+m]*d;return f}var fileType=function(o){if(!(o instanceof Uint8Array||o instanceof ArrayBuffer||Buffer.isBuffer(o)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(o),"`"));var u=o instanceof Uint8Array?o:new Uint8Array(o);if(!(u&&u.length>1))return null;var f=function(S,I){I=Object.assign({offset:0},I);for(var O=0;O<S.length;O++)if(I.mask){if(S[O]!==(I.mask[O]&u[O+I.offset]))return!1}else if(S[O]!==u[O+I.offset])return!1;return!0},d=function(S,I){return f(toBytes(S),I)};if(f([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(f([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(f([71,73,70]))return{ext:"gif",mime:"image/gif"};if(f([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(f([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((f([73,73,42,0])||f([77,77,0,42]))&&f([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(f([73,73,42,0])||f([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(f([66,77]))return{ext:"bmp",mime:"image/bmp"};if(f([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(f([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(f([80,75,3,4])){if(f([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(f(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(d("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(d("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(d("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var m=function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return S.findIndex(function(O,x,F){return x>=I&&F[x]===80&&F[x+1]===75&&F[x+2]===3&&F[x+3]===4})},h=0,b=!1,y=null;do{var _=h+30;if(b||(b=f(oxmlContentTypes,{offset:_})||f(oxmlRels,{offset:_})),y||(d("word/",{offset:_})?y={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:d("ppt/",{offset:_})?y={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:d("xl/",{offset:_})&&(y={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),b&&y)return y;h=m(u,_)}while(h>=0);if(y)return y}if(f([80,75])&&(u[2]===3||u[2]===5||u[2]===7)&&(u[3]===4||u[3]===6||u[3]===8))return{ext:"zip",mime:"application/zip"};if(f([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(f([82,97,114,33,26,7])&&(u[6]===0||u[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(f([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(f([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(f([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(f([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(f([51,103,112,53])||f([0,0,0])&&f([102,116,121,112],{offset:4})&&(f([109,112,52,49],{offset:8})||f([109,112,52,50],{offset:8})||f([105,115,111,109],{offset:8})||f([105,115,111,50],{offset:8})||f([109,109,112,52],{offset:8})||f([77,52,86],{offset:8})||f([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(f([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(f([26,69,223,163])){var w=u.subarray(4,4100),M=w.findIndex(function(S,I,O){return O[I]===66&&O[I+1]===130});if(M!==-1){var $=M+3,g=function(S){return _toConsumableArray(S).every(function(I,O){return w[$+O]===I.charCodeAt(0)})};if(g("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(g("webm"))return{ext:"webm",mime:"video/webm"}}}if(f([0,0,0,20,102,116,121,112,113,116,32,32])||f([102,114,101,101],{offset:4})||f([102,116,121,112,113,116,32,32],{offset:4})||f([109,100,97,116],{offset:4})||f([109,111,111,118],{offset:4})||f([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(f([82,73,70,70])){if(f([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(f([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(f([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(f([48,38,178,117,142,102,207,17,166,217])){var v=30;do{var k=readUInt64LE(u,v+16);if(f([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:v})){if(f([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:v+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(f([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:v+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}v+=k}while(v+24<=u.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(f([0,0,1,186])||f([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(f([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var C=0;C<2&&C<u.length-16;C++){if(f([73,68,51],{offset:C})||f([255,226],{offset:C,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(f([255,228],{offset:C,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,248],{offset:C,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,240],{offset:C,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(f([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(f([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(f([79,103,103,83]))return f([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:f([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:f([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:f([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:f([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(f([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(f([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(f([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(f([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(f([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(f([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((u[0]===67||u[0]===70)&&f([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(f([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(f([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(f([119,79,70,70])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(f([119,79,70,50])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(f([76,80],{offset:34})&&(f([0,0,1],{offset:8})||f([1,0,2],{offset:8})||f([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(f([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(f([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(f([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(f([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(f([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(f([37,33]))return{ext:"ps",mime:"application/postscript"};if(f([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(f([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(f([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(f([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(f([77,83,67,70])||f([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(f([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(f([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(f([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(f([31,160])||f([31,157]))return{ext:"Z",mime:"application/x-compress"};if(f([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(f([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(f([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(f([71],{offset:4})&&(f([71],{offset:192})||f([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(f([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(f([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(f([0,0,0,12,106,80,32,32,13,10,135,10])){if(f([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(f([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(f([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(f([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(f([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(d("<?xml "))return{ext:"xml",mime:"application/xml"};if(f([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(f([102,116,121,112],{offset:4})){if(f([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(f([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(f([104,101,105,99],{offset:8})||f([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(f([104,101,118,99],{offset:8})||f([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return f([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:f([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:f([77,80,43])||f([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:f([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:f([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:f([212,195,178,161])||f([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",function(){var o=new stream.PassThrough,u=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{o.fileType=fileType(u)}catch(f){reject(f)}readableStream.unshift(u),stream.pipeline?resolve(stream.pipeline(readableStream,o,function(){})):resolve(readableStream.pipe(o))})})}},function(o,u,f){var d=o.exports.Validator=f(34);o.exports.ValidatorResult=f(12).ValidatorResult,o.exports.ValidationError=f(12).ValidationError,o.exports.SchemaError=f(12).SchemaError,o.exports.SchemaScanResult=f(20).SchemaScanResult,o.exports.scan=f(20).scan,o.exports.validate=function(m,h,b){return new d().validate(m,h,b)}},function(o,u,f){function d(R){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}var m=f(35),h=f(36);function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}u.parse=F,u.resolve=function(R,L){return F(R,!1,!0).resolve(L)},u.resolveObject=function(R,L){return R?F(R,!1,!0).resolveObject(L):L},u.format=function(R){return h.isString(R)&&(R=F(R)),R instanceof b?R.format():b.prototype.format.call(R)},u.Url=b;var y=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,M=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),$=["'"].concat(M),g=["%","/","?",";","#"].concat($),v=["/","?","#"],k=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},I={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=f(37);function F(R,L,D){if(R&&h.isObject(R)&&R instanceof b)return R;var J=new b;return J.parse(R,L,D),J}b.prototype.parse=function(R,L,D){if(!h.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+d(R));var J=R.indexOf("?"),K=J!==-1&&J<R.indexOf("#")?"?":"#",ee=R.split(K);ee[0]=ee[0].replace(/\\/g,"/");var H=R=ee.join(K);if(H=H.trim(),!D&&R.split("#").length===1){var q=w.exec(H);if(q)return this.path=H,this.href=H,this.pathname=q[1],q[2]?(this.search=q[2],this.query=L?x.parse(this.search.substr(1)):this.search.substr(1)):L&&(this.search="",this.query={}),this}var X=y.exec(H);if(X){var ie=(X=X[0]).toLowerCase();this.protocol=ie,H=H.substr(X.length)}if(D||X||H.match(/^\/\/[^@\/]+@[^@\/]+/)){var Q=H.substr(0,2)==="//";!Q||X&&I[X]||(H=H.substr(2),this.slashes=!0)}if(!I[X]&&(Q||X&&!O[X])){for(var G,ne,re=-1,Y=0;Y<v.length;Y++)(le=H.indexOf(v[Y]))!==-1&&(re===-1||le<re)&&(re=le);for((ne=re===-1?H.lastIndexOf("@"):H.lastIndexOf("@",re))!==-1&&(G=H.slice(0,ne),H=H.slice(ne+1),this.auth=decodeURIComponent(G)),re=-1,Y=0;Y<g.length;Y++){var le;(le=H.indexOf(g[Y]))!==-1&&(re===-1||le<re)&&(re=le)}re===-1&&(re=H.length),this.host=H.slice(0,re),H=H.slice(re),this.parseHost(),this.hostname=this.hostname||"";var ue=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ue)for(var ge=this.hostname.split(/\./),ye=(Y=0,ge.length);Y<ye;Y++){var _e=ge[Y];if(_e&&!_e.match(k)){for(var Ce="",be=0,Ne=_e.length;be<Ne;be++)_e.charCodeAt(be)>127?Ce+="x":Ce+=_e[be];if(!Ce.match(k)){var fe=ge.slice(0,Y),ve=ge.slice(Y+1),Le=_e.match(C);Le&&(fe.push(Le[1]),ve.unshift(Le[2])),ve.length&&(H="/"+ve.join(".")+H),this.hostname=fe.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ue||(this.hostname=m.toASCII(this.hostname));var Ie=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ie,this.href+=this.host,ue&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),H[0]!=="/"&&(H="/"+H))}if(!S[ie])for(Y=0,ye=$.length;Y<ye;Y++){var nt=$[Y];if(H.indexOf(nt)!==-1){var it=encodeURIComponent(nt);it===nt&&(it=escape(nt)),H=H.split(nt).join(it)}}var De=H.indexOf("#");De!==-1&&(this.hash=H.substr(De),H=H.slice(0,De));var ct=H.indexOf("?");if(ct!==-1?(this.search=H.substr(ct),this.query=H.substr(ct+1),L&&(this.query=x.parse(this.query)),H=H.slice(0,ct)):L&&(this.search="",this.query={}),H&&(this.pathname=H),O[ie]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ie=this.pathname||"";var Ae=this.search||"";this.path=Ie+Ae}return this.href=this.format(),this},b.prototype.format=function(){var R=this.auth||"";R&&(R=(R=encodeURIComponent(R)).replace(/%3A/i,":"),R+="@");var L=this.protocol||"",D=this.pathname||"",J=this.hash||"",K=!1,ee="";this.host?K=R+this.host:this.hostname&&(K=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(K+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(ee=x.stringify(this.query));var H=this.search||ee&&"?"+ee||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||O[L])&&K!==!1?(K="//"+(K||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):K||(K=""),J&&J.charAt(0)!=="#"&&(J="#"+J),H&&H.charAt(0)!=="?"&&(H="?"+H),L+K+(D=D.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(H=H.replace("#","%23"))+J},b.prototype.resolve=function(R){return this.resolveObject(F(R,!1,!0)).format()},b.prototype.resolveObject=function(R){if(h.isString(R)){var L=new b;L.parse(R,!1,!0),R=L}for(var D=new b,J=Object.keys(this),K=0;K<J.length;K++){var ee=J[K];D[ee]=this[ee]}if(D.hash=R.hash,R.href==="")return D.href=D.format(),D;if(R.slashes&&!R.protocol){for(var H=Object.keys(R),q=0;q<H.length;q++){var X=H[q];X!=="protocol"&&(D[X]=R[X])}return O[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(R.protocol&&R.protocol!==D.protocol){if(!O[R.protocol]){for(var ie=Object.keys(R),Q=0;Q<ie.length;Q++){var G=ie[Q];D[G]=R[G]}return D.href=D.format(),D}if(D.protocol=R.protocol,R.host||I[R.protocol])D.pathname=R.pathname;else{for(var ne=(R.pathname||"").split("/");ne.length&&!(R.host=ne.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),ne[0]!==""&&ne.unshift(""),ne.length<2&&ne.unshift(""),D.pathname=ne.join("/")}if(D.search=R.search,D.query=R.query,D.host=R.host||"",D.auth=R.auth,D.hostname=R.hostname||R.host,D.port=R.port,D.pathname||D.search){var re=D.pathname||"",Y=D.search||"";D.path=re+Y}return D.slashes=D.slashes||R.slashes,D.href=D.format(),D}var le=D.pathname&&D.pathname.charAt(0)==="/",ue=R.host||R.pathname&&R.pathname.charAt(0)==="/",ge=ue||le||D.host&&R.pathname,ye=ge,_e=D.pathname&&D.pathname.split("/")||[],Ce=(ne=R.pathname&&R.pathname.split("/")||[],D.protocol&&!O[D.protocol]);if(Ce&&(D.hostname="",D.port=null,D.host&&(_e[0]===""?_e[0]=D.host:_e.unshift(D.host)),D.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(ne[0]===""?ne[0]=R.host:ne.unshift(R.host)),R.host=null),ge=ge&&(ne[0]===""||_e[0]==="")),ue)D.host=R.host||R.host===""?R.host:D.host,D.hostname=R.hostname||R.hostname===""?R.hostname:D.hostname,D.search=R.search,D.query=R.query,_e=ne;else if(ne.length)_e||(_e=[]),_e.pop(),_e=_e.concat(ne),D.search=R.search,D.query=R.query;else if(!h.isNullOrUndefined(R.search))return Ce&&(D.hostname=D.host=_e.shift(),(Le=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=Le.shift(),D.host=D.hostname=Le.shift())),D.search=R.search,D.query=R.query,h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!_e.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var be=_e.slice(-1)[0],Ne=(D.host||R.host||_e.length>1)&&(be==="."||be==="..")||be==="",fe=0,ve=_e.length;ve>=0;ve--)(be=_e[ve])==="."?_e.splice(ve,1):be===".."?(_e.splice(ve,1),fe++):fe&&(_e.splice(ve,1),fe--);if(!ge&&!ye)for(;fe--;fe)_e.unshift("..");!ge||_e[0]===""||_e[0]&&_e[0].charAt(0)==="/"||_e.unshift(""),Ne&&_e.join("/").substr(-1)!=="/"&&_e.push("");var Le,Ie=_e[0]===""||_e[0]&&_e[0].charAt(0)==="/";return Ce&&(D.hostname=D.host=Ie?"":_e.length?_e.shift():"",(Le=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=Le.shift(),D.host=D.hostname=Le.shift())),(ge=ge||D.host&&_e.length)&&!Ie&&_e.unshift(""),_e.length?D.pathname=_e.join("/"):(D.pathname=null,D.path=null),h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=R.auth||D.auth,D.slashes=D.slashes||R.slashes,D.href=D.format(),D},b.prototype.parseHost=function(){var R=this.host,L=_.exec(R);L&&((L=L[0])!==":"&&(this.port=L.substr(1)),R=R.substr(0,R.length-L.length)),R&&(this.hostname=R)}},function(o,u,f){function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}var m=f(19),h=f(12);function b(y,_){this.id=y,this.ref=_}o.exports.SchemaScanResult=b,o.exports.scan=function(y,_){function w(k,C){if(C&&d(C)=="object")if(C.$ref){var S=m.resolve(k,C.$ref);v[S]=v[S]?v[S]+1:0}else{var I=C.id?m.resolve(k,C.id):k;if(I){if(I.indexOf("#")<0&&(I+="#"),g[I]){if(!h.deepCompareStrict(g[I],C))throw new Error("Schema <"+C+"> already exists with different definition");return g[I]}g[I]=C,I[I.length-1]=="#"&&(g[I.substring(0,I.length-1)]=C)}M(I+"/items",C.items instanceof Array?C.items:[C.items]),M(I+"/extends",C.extends instanceof Array?C.extends:[C.extends]),w(I+"/additionalItems",C.additionalItems),$(I+"/properties",C.properties),w(I+"/additionalProperties",C.additionalProperties),$(I+"/definitions",C.definitions),$(I+"/patternProperties",C.patternProperties),$(I+"/dependencies",C.dependencies),M(I+"/disallow",C.disallow),M(I+"/allOf",C.allOf),M(I+"/anyOf",C.anyOf),M(I+"/oneOf",C.oneOf),w(I+"/not",C.not)}}function M(k,C){if(C instanceof Array)for(var S=0;S<C.length;S++)w(k+"/"+S,C[S])}function $(k,C){if(C&&d(C)=="object")for(var S in C)w(k+"/"+S,C[S])}var g={},v={};return w(y,_),new b(g,v)}},function(o,u,f){var d=f(44),m=f(15),h=f(15),b=f(7).buildOptions,y=f(46);u.parse=function(_,w,M){if(M){M===!0&&(M={});var $=y.validate(_,M);if($!==!0)throw Error($.err.msg)}return w=b(w,h.defaultOptions,h.props),d.convertToJson(m.getTraversalObj(_,w),w)},u.convertTonimn=f(47).convert2nimn,u.getTraversalObj=m.getTraversalObj,u.convertToJson=d.convertToJson,u.convertToJsonString=f(48).convertToJsonString,u.validate=y.validate,u.j2xParser=f(49),u.parseToNimn=function(_,w,M){return u.convertTonimn(u.getTraversalObj(_,M),w,M)}},function(o,u,f){f.d(u,"a",function(){return m});var d=f(4);function m(b){try{for(var y=b,_=[],w=0,M=0,$=3,g=void 0;y&&w++<5&&!((g=h(y))==="html"||w>1&&M+_.length*$+g.length>=80);)_.push(g),M+=g.length,y=y.parentNode;return _.reverse().join(" > ")}catch{return"<unknown>"}}function h(b){var y,_,w,M,$,g=b,v=[];if(!g||!g.tagName)return"";if(v.push(g.tagName.toLowerCase()),g.id&&v.push("#"+g.id),(y=g.className)&&Object(d.h)(y))for(_=y.split(/\s+/),$=0;$<_.length;$++)v.push("."+_[$]);var k=["type","name","title","alt"];for($=0;$<k.length;$++)w=k[$],(M=g.getAttribute(w))&&v.push("["+w+'="'+M+'"]');return v.join("")}},,function(o,u){o.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(o,u){(function(f){o.exports=f}).call(this,{})},function(o,u){var f,d,m=o.exports={};function h(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function y(S){if(f===setTimeout)return setTimeout(S,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(S,0);try{return f(S,0)}catch{try{return f.call(null,S,0)}catch{return f.call(this,S,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:h}catch{f=h}try{d=typeof clearTimeout=="function"?clearTimeout:b}catch{d=b}})();var _,w=[],M=!1,$=-1;function g(){M&&_&&(M=!1,_.length?w=_.concat(w):$=-1,w.length&&v())}function v(){if(!M){var S=y(g);M=!0;for(var I=w.length;I;){for(_=w,w=[];++$<I;)_&&_[$].run();$=-1,I=w.length}_=null,M=!1,function(O){if(d===clearTimeout)return clearTimeout(O);if((d===b||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(O);try{d(O)}catch{try{return d.call(null,O)}catch{return d.call(this,O)}}}(S)}}function k(S,I){this.fun=S,this.array=I}function C(){}m.nextTick=function(S){var I=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)I[O-1]=arguments[O];w.push(new k(S,I)),w.length!==1||M||y(v)},k.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=C,m.addListener=C,m.once=C,m.off=C,m.removeListener=C,m.removeAllListeners=C,m.emit=C,m.prependListener=C,m.prependOnceListener=C,m.listeners=function(S){return[]},m.binding=function(S){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(S){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(o,u,f){o.exports=function(d){if(!d)return!1;for(var m=0,h=d.length;m<h;)if(d[m]<=127)m++;else{if(d[m]>=194&&d[m]<=223){if(d[m+1]>>6==2){m+=2;continue}return!1}if((d[m]===224&&d[m+1]>=160&&d[m+1]<=191||d[m]===237&&d[m+1]>=128&&d[m+1]<=159)&&d[m+2]>>6==2)m+=3;else if((d[m]>=225&&d[m]<=236||d[m]>=238&&d[m]<=239)&&d[m+1]>>6==2&&d[m+2]>>6==2)m+=3;else{if(!(d[m]===240&&d[m+1]>=144&&d[m+1]<=191||d[m]>=241&&d[m]<=243&&d[m+1]>>6==2||d[m]===244&&d[m+1]>=128&&d[m+1]<=143)||d[m+2]>>6!=2||d[m+3]>>6!=2)return!1;m+=4}}return!0}},function(o,u,f){var d,m,h;function b(y){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}h=function(y){var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function w(O,x){var F=O[0],R=O[1],L=O[2],D=O[3];R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&L|~R&D)+x[0]-680876936|0)<<7|F>>>25)+R|0)&R|~F&L)+x[1]-389564586|0)<<12|D>>>20)+F|0)&F|~D&R)+x[2]+606105819|0)<<17|L>>>15)+D|0)&D|~L&F)+x[3]-1044525330|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&L|~R&D)+x[4]-176418897|0)<<7|F>>>25)+R|0)&R|~F&L)+x[5]+1200080426|0)<<12|D>>>20)+F|0)&F|~D&R)+x[6]-1473231341|0)<<17|L>>>15)+D|0)&D|~L&F)+x[7]-45705983|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&L|~R&D)+x[8]+1770035416|0)<<7|F>>>25)+R|0)&R|~F&L)+x[9]-1958414417|0)<<12|D>>>20)+F|0)&F|~D&R)+x[10]-42063|0)<<17|L>>>15)+D|0)&D|~L&F)+x[11]-1990404162|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&L|~R&D)+x[12]+1804603682|0)<<7|F>>>25)+R|0)&R|~F&L)+x[13]-40341101|0)<<12|D>>>20)+F|0)&F|~D&R)+x[14]-1502002290|0)<<17|L>>>15)+D|0)&D|~L&F)+x[15]+1236535329|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&D|L&~D)+x[1]-165796510|0)<<5|F>>>27)+R|0)&L|R&~L)+x[6]-1069501632|0)<<9|D>>>23)+F|0)&R|F&~R)+x[11]+643717713|0)<<14|L>>>18)+D|0)&F|D&~F)+x[0]-373897302|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&D|L&~D)+x[5]-701558691|0)<<5|F>>>27)+R|0)&L|R&~L)+x[10]+38016083|0)<<9|D>>>23)+F|0)&R|F&~R)+x[15]-660478335|0)<<14|L>>>18)+D|0)&F|D&~F)+x[4]-405537848|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&D|L&~D)+x[9]+568446438|0)<<5|F>>>27)+R|0)&L|R&~L)+x[14]-1019803690|0)<<9|D>>>23)+F|0)&R|F&~R)+x[3]-187363961|0)<<14|L>>>18)+D|0)&F|D&~F)+x[8]+1163531501|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R&D|L&~D)+x[13]-1444681467|0)<<5|F>>>27)+R|0)&L|R&~L)+x[2]-51403784|0)<<9|D>>>23)+F|0)&R|F&~R)+x[7]+1735328473|0)<<14|L>>>18)+D|0)&F|D&~F)+x[12]-1926607734|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R^L^D)+x[5]-378558|0)<<4|F>>>28)+R|0)^R^L)+x[8]-2022574463|0)<<11|D>>>21)+F|0)^F^R)+x[11]+1839030562|0)<<16|L>>>16)+D|0)^D^F)+x[14]-35309556|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R^L^D)+x[1]-1530992060|0)<<4|F>>>28)+R|0)^R^L)+x[4]+1272893353|0)<<11|D>>>21)+F|0)^F^R)+x[7]-155497632|0)<<16|L>>>16)+D|0)^D^F)+x[10]-1094730640|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R^L^D)+x[13]+681279174|0)<<4|F>>>28)+R|0)^R^L)+x[0]-358537222|0)<<11|D>>>21)+F|0)^F^R)+x[3]-722521979|0)<<16|L>>>16)+D|0)^D^F)+x[6]+76029189|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((D=((D+=((F=((F+=(R^L^D)+x[9]-640364487|0)<<4|F>>>28)+R|0)^R^L)+x[12]-421815835|0)<<11|D>>>21)+F|0)^F^R)+x[15]+530742520|0)<<16|L>>>16)+D|0)^D^F)+x[2]-995338651|0)<<23|R>>>9)+L|0,R=((R+=((D=((D+=(R^((F=((F+=(L^(R|~D))+x[0]-198630844|0)<<6|F>>>26)+R|0)|~L))+x[7]+1126891415|0)<<10|D>>>22)+F|0)^((L=((L+=(F^(D|~R))+x[14]-1416354905|0)<<15|L>>>17)+D|0)|~F))+x[5]-57434055|0)<<21|R>>>11)+L|0,R=((R+=((D=((D+=(R^((F=((F+=(L^(R|~D))+x[12]+1700485571|0)<<6|F>>>26)+R|0)|~L))+x[3]-1894986606|0)<<10|D>>>22)+F|0)^((L=((L+=(F^(D|~R))+x[10]-1051523|0)<<15|L>>>17)+D|0)|~F))+x[1]-2054922799|0)<<21|R>>>11)+L|0,R=((R+=((D=((D+=(R^((F=((F+=(L^(R|~D))+x[8]+1873313359|0)<<6|F>>>26)+R|0)|~L))+x[15]-30611744|0)<<10|D>>>22)+F|0)^((L=((L+=(F^(D|~R))+x[6]-1560198380|0)<<15|L>>>17)+D|0)|~F))+x[13]+1309151649|0)<<21|R>>>11)+L|0,R=((R+=((D=((D+=(R^((F=((F+=(L^(R|~D))+x[4]-145523070|0)<<6|F>>>26)+R|0)|~L))+x[11]-1120210379|0)<<10|D>>>22)+F|0)^((L=((L+=(F^(D|~R))+x[2]+718787259|0)<<15|L>>>17)+D|0)|~F))+x[9]-343485551|0)<<21|R>>>11)+L|0,O[0]=F+O[0]|0,O[1]=R+O[1]|0,O[2]=L+O[2]|0,O[3]=D+O[3]|0}function M(O){var x,F=[];for(x=0;x<64;x+=4)F[x>>2]=O.charCodeAt(x)+(O.charCodeAt(x+1)<<8)+(O.charCodeAt(x+2)<<16)+(O.charCodeAt(x+3)<<24);return F}function $(O){var x,F=[];for(x=0;x<64;x+=4)F[x>>2]=O[x]+(O[x+1]<<8)+(O[x+2]<<16)+(O[x+3]<<24);return F}function g(O){var x,F,R,L,D,J,K=O.length,ee=[1732584193,-271733879,-1732584194,271733878];for(x=64;x<=K;x+=64)w(ee,M(O.substring(x-64,x)));for(F=(O=O.substring(x-64)).length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<F;x+=1)R[x>>2]|=O.charCodeAt(x)<<(x%4<<3);if(R[x>>2]|=128<<(x%4<<3),x>55)for(w(ee,R),x=0;x<16;x+=1)R[x]=0;return L=(L=8*K).toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(L[2],16),J=parseInt(L[1],16)||0,R[14]=D,R[15]=J,w(ee,R),ee}function v(O){var x,F="";for(x=0;x<4;x+=1)F+=_[O>>8*x+4&15]+_[O>>8*x&15];return F}function k(O){var x;for(x=0;x<O.length;x+=1)O[x]=v(O[x]);return O.join("")}function C(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function S(O){var x,F=[],R=O.length;for(x=0;x<R-1;x+=2)F.push(parseInt(O.substr(x,2),16));return String.fromCharCode.apply(String,F)}function I(){this.reset()}return k(g("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function O(x,F){return(x=0|x||0)<0?Math.max(x+F,0):Math.min(x,F)}ArrayBuffer.prototype.slice=function(x,F){var R,L,D,J,K=this.byteLength,ee=O(x,K),H=K;return F!==y&&(H=O(F,K)),ee>H?new ArrayBuffer(0):(R=H-ee,L=new ArrayBuffer(R),D=new Uint8Array(L),J=new Uint8Array(this,ee,R),D.set(J),L)}}(),I.prototype.append=function(O){return this.appendBinary(C(O)),this},I.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var x,F=this._buff.length;for(x=64;x<=F;x+=64)w(this._hash,M(this._buff.substring(x-64,x)));return this._buff=this._buff.substring(x-64),this},I.prototype.end=function(O){var x,F,R=this._buff,L=R.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(x=0;x<L;x+=1)D[x>>2]|=R.charCodeAt(x)<<(x%4<<3);return this._finish(D,L),F=k(this._hash),O&&(F=S(F)),this.reset(),F},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},I.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(O,x){var F,R,L,D=x;if(O[D>>2]|=128<<(D%4<<3),D>55)for(w(this._hash,O),D=0;D<16;D+=1)O[D]=0;F=(F=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(F[2],16),L=parseInt(F[1],16)||0,O[14]=R,O[15]=L,w(this._hash,O)},I.hash=function(O,x){return I.hashBinary(C(O),x)},I.hashBinary=function(O,x){var F=k(g(O));return x?S(F):F},I.ArrayBuffer=function(){this.reset()},I.ArrayBuffer.prototype.append=function(O){var x,F,R,L,D,J=(F=this._buff.buffer,R=O,L=!0,(D=new Uint8Array(F.byteLength+R.byteLength)).set(new Uint8Array(F)),D.set(new Uint8Array(R),F.byteLength),L?D:D.buffer),K=J.length;for(this._length+=O.byteLength,x=64;x<=K;x+=64)w(this._hash,$(J.subarray(x-64,x)));return this._buff=x-64<K?new Uint8Array(J.buffer.slice(x-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(O){var x,F,R=this._buff,L=R.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(x=0;x<L;x+=1)D[x>>2]|=R[x]<<(x%4<<3);return this._finish(D,L),F=k(this._hash),O&&(F=S(F)),this.reset(),F},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var O,x=I.prototype.getState.call(this);return x.buff=(O=x.buff,String.fromCharCode.apply(null,new Uint8Array(O))),x},I.ArrayBuffer.prototype.setState=function(O){return O.buff=function(x,F){var R,L=x.length,D=new ArrayBuffer(L),J=new Uint8Array(D);for(R=0;R<L;R+=1)J[R]=x.charCodeAt(R);return F?J:D}(O.buff,!0),I.prototype.setState.call(this,O)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(O,x){var F=k(function(R){var L,D,J,K,ee,H,q=R.length,X=[1732584193,-271733879,-1732584194,271733878];for(L=64;L<=q;L+=64)w(X,$(R.subarray(L-64,L)));for(D=(R=L-64<q?R.subarray(L-64):new Uint8Array(0)).length,J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=0;L<D;L+=1)J[L>>2]|=R[L]<<(L%4<<3);if(J[L>>2]|=128<<(L%4<<3),L>55)for(w(X,J),L=0;L<16;L+=1)J[L]=0;return K=(K=8*q).toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(K[2],16),H=parseInt(K[1],16)||0,J[14]=ee,J[15]=H,w(X,J),X}(new Uint8Array(O)));return x?S(F):F},I},b(u)==="object"?o.exports=h():(m=typeof(d=h)=="function"?d.call(u,f,u,o):d)===void 0||(o.exports=m)},function(o,u,f){function d(v){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(v)}function m(v,k){return!k||d(k)!=="object"&&typeof k!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(v):k}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(v)}function b(v,k){return(b=Object.setPrototypeOf||function(C,S){return C.__proto__=S,C})(v,k)}function y(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function _(v,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function w(v,k,C){return k&&_(v.prototype,k),C&&_(v,C),v}var M=f(50),$=function(){function v(){y(this,v),this._queue=[]}return w(v,[{key:"enqueue",value:function(k,C){var S={priority:(C=Object.assign({priority:0},C)).priority,run:k};if(this.size&&this._queue[this.size-1].priority>=C.priority)this._queue.push(S);else{var I=function(O,x,F){for(var R=0,L=O.length;L>0;){var D=L/2|0,J=R+D;F(O[J],x)<=0?(R=++J,L-=D+1):L=D}return R}(this._queue,S,function(O,x){return x.priority-O.priority});this._queue.splice(I,0,S)}}},{key:"dequeue",value:function(){return this._queue.shift().run}},{key:"size",get:function(){return this._queue.length}}]),v}(),g=function(v){function k(C){var S;if(y(this,k),S=m(this,h(k).call(this)),!(typeof(C=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:$},C)).concurrency=="number"&&C.concurrency>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(C.concurrency,"` (").concat(d(C.concurrency),")"));if(!(typeof C.intervalCap=="number"&&C.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(C.intervalCap,"` (").concat(d(C.intervalCap),")"));if(!(Number.isFinite(C.interval)&&C.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(C.interval,"` (").concat(d(C.interval),")"));return S._carryoverConcurrencyCount=C.carryoverConcurrencyCount,S._isIntervalIgnored=C.intervalCap===1/0||C.interval===0,S._intervalCount=0,S._intervalCap=C.intervalCap,S._interval=C.interval,S._intervalId=null,S._intervalEnd=0,S._timeoutId=null,S.queue=new C.queueClass,S._queueClass=C.queueClass,S._pendingCount=0,S._concurrency=C.concurrency,S._isPaused=C.autoStart===!1,S._resolveEmpty=function(){},S._resolveIdle=function(){},S}return function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),S&&b(C,S)}(k,v),w(k,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=function(){},this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=function(){})}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}},{key:"_intervalPaused",value:function(){var C=this,S=Date.now();if(this._intervalId===null){var I=this._intervalEnd-S;if(!(I<0))return this._timeoutId===null&&(this._timeoutId=setTimeout(function(){return C._onResumeInterval()},I)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(this.queue.size===0)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){var C=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),C&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var C=this;this._isIntervalIgnored||this._intervalId!==null||(this._intervalId=setInterval(function(){return C._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){for(this._intervalCount===0&&this._pendingCount===0&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}},{key:"add",value:function(C,S){var I=this;return new Promise(function(O,x){I.queue.enqueue(function(){I._pendingCount++,I._intervalCount++;try{Promise.resolve(C()).then(function(F){O(F),I._next()},function(F){x(F),I._next()})}catch(F){x(F),I._next()}},S),I._tryToStartAnother()})}},{key:"addAll",value:function(C,S){var I=this;return Promise.all(C.map(function(O){return I.add(O,S)}))}},{key:"start",value:function(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this.queue=new this._queueClass}},{key:"onEmpty",value:function(){var C=this;return this.queue.size===0?Promise.resolve():new Promise(function(S){var I=C._resolveEmpty;C._resolveEmpty=function(){I(),S()}})}},{key:"onIdle",value:function(){var C=this;return this._pendingCount===0&&this.queue.size===0?Promise.resolve():new Promise(function(S){var I=C._resolveIdle;C._resolveIdle=function(){I(),S()}})}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"size",get:function(){return this.queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}}]),k}(M);o.exports=g,o.exports.default=g},function(o,u,f){(function(d,m){function h(me){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke})(me)}var b="[object Arguments]",y="[object Function]",_="[object GeneratorFunction]",w="[object Map]",M="[object Set]",$=/\w*$/,g=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,k={};k[b]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k[w]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k[M]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[y]=k["[object WeakMap]"]=!1;var C=(d===void 0?"undefined":h(d))=="object"&&d&&d.Object===Object&&d,S=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,I=C||S||Function("return this")(),O=h(u)=="object"&&u&&!u.nodeType&&u,x=O&&h(m)=="object"&&m&&!m.nodeType&&m,F=x&&x.exports===O;function R(me,ke){return me.set(ke[0],ke[1]),me}function L(me,ke){return me.add(ke),me}function D(me,ke,He,pt){var kt=-1,zt=me?me.length:0;for(pt&&zt&&(He=me[++kt]);++kt<zt;)He=ke(He,me[kt],kt,me);return He}function J(me){var ke=!1;if(me!=null&&typeof me.toString!="function")try{ke=!!(me+"")}catch{}return ke}function K(me){var ke=-1,He=Array(me.size);return me.forEach(function(pt,kt){He[++ke]=[kt,pt]}),He}function ee(me,ke){return function(He){return me(ke(He))}}function H(me){var ke=-1,He=Array(me.size);return me.forEach(function(pt){He[++ke]=pt}),He}var q,X=Array.prototype,ie=Function.prototype,Q=Object.prototype,G=I["__core-js_shared__"],ne=(q=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",re=ie.toString,Y=Q.hasOwnProperty,le=Q.toString,ue=RegExp("^"+re.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=F?I.Buffer:void 0,ye=I.Symbol,_e=I.Uint8Array,Ce=ee(Object.getPrototypeOf,Object),be=Object.create,Ne=Q.propertyIsEnumerable,fe=X.splice,ve=Object.getOwnPropertySymbols,Le=ge?ge.isBuffer:void 0,Ie=ee(Object.keys,Object),We=Ut(I,"DataView"),nt=Ut(I,"Map"),it=Ut(I,"Promise"),De=Ut(I,"Set"),ct=Ut(I,"WeakMap"),Ae=Ut(Object,"create"),Xe=yt(We),ot=yt(nt),je=yt(it),Je=yt(De),Ge=yt(ct),Ze=ye?ye.prototype:void 0,rt=Ze?Ze.valueOf:void 0;function et(me){var ke=-1,He=me?me.length:0;for(this.clear();++ke<He;){var pt=me[ke];this.set(pt[0],pt[1])}}function at(me){var ke=-1,He=me?me.length:0;for(this.clear();++ke<He;){var pt=me[ke];this.set(pt[0],pt[1])}}function bt(me){var ke=-1,He=me?me.length:0;for(this.clear();++ke<He;){var pt=me[ke];this.set(pt[0],pt[1])}}function $t(me){this.__data__=new at(me)}function Ke(me,ke){var He=kn(me)||function(Lt){return function(Nt){return function(Zt){return!!Zt&&h(Zt)=="object"}(Nt)&&Ot(Nt)}(Lt)&&Y.call(Lt,"callee")&&(!Ne.call(Lt,"callee")||le.call(Lt)==b)}(me)?function(Lt,Nt){for(var Zt=-1,an=Array(Lt);++Zt<Lt;)an[Zt]=Nt(Zt);return an}(me.length,String):[],pt=He.length,kt=!!pt;for(var zt in me)!ke&&!Y.call(me,zt)||kt&&(zt=="length"||qe(zt,pt))||He.push(zt);return He}function Et(me,ke,He){var pt=me[ke];Y.call(me,ke)&&Tt(pt,He)&&(He!==void 0||ke in me)||(me[ke]=He)}function dt(me,ke){for(var He=me.length;He--;)if(Tt(me[He][0],ke))return He;return-1}function xt(me,ke,He,pt,kt,zt,Lt){var Nt;if(pt&&(Nt=zt?pt(me,kt,zt,Lt):pt(me)),Nt!==void 0)return Nt;if(!nn(me))return me;var Zt=kn(me);if(Zt){if(Nt=function(ht){var Mt=ht.length,jt=ht.constructor(Mt);return Mt&&typeof ht[0]=="string"&&Y.call(ht,"index")&&(jt.index=ht.index,jt.input=ht.input),jt}(me),!ke)return function(ht,Mt){var jt=-1,en=ht.length;for(Mt||(Mt=Array(en));++jt<en;)Mt[jt]=ht[jt];return Mt}(me,Nt)}else{var an=Ye(me),Vn=an==y||an==_;if(Wn(me))return function(ht,Mt){if(Mt)return ht.slice();var jt=new ht.constructor(ht.length);return ht.copy(jt),jt}(me,ke);if(an=="[object Object]"||an==b||Vn&&!zt){if(J(me))return zt?me:{};if(Nt=function(ht){return typeof ht.constructor!="function"||gt(ht)?{}:(Mt=Ce(ht),nn(Mt)?be(Mt):{});var Mt}(Vn?{}:me),!ke)return function(ht,Mt){return Ct(ht,fn(ht),Mt)}(me,function(ht,Mt){return ht&&Ct(Mt,rn(Mt),ht)}(Nt,me))}else{if(!k[an])return zt?me:{};Nt=function(ht,Mt,jt,en){var dn=ht.constructor;switch(Mt){case"[object ArrayBuffer]":return Ft(ht);case"[object Boolean]":case"[object Date]":return new dn(+ht);case"[object DataView]":return function(St,Rt){var mn=Rt?Ft(St.buffer):St.buffer;return new St.constructor(mn,St.byteOffset,St.byteLength)}(ht,en);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(St,Rt){var mn=Rt?Ft(St.buffer):St.buffer;return new St.constructor(mn,St.byteOffset,St.length)}(ht,en);case w:return function(St,Rt,mn){return D(Rt?mn(K(St),!0):K(St),R,new St.constructor)}(ht,en,jt);case"[object Number]":case"[object String]":return new dn(ht);case"[object RegExp]":return function(St){var Rt=new St.constructor(St.source,$.exec(St));return Rt.lastIndex=St.lastIndex,Rt}(ht);case M:return function(St,Rt,mn){return D(Rt?mn(H(St),!0):H(St),L,new St.constructor)}(ht,en,jt);case"[object Symbol]":return Tn=ht,rt?Object(rt.call(Tn)):{}}var Tn}(me,an,xt,ke)}}Lt||(Lt=new $t);var ln=Lt.get(me);if(ln)return ln;if(Lt.set(me,Nt),!Zt)var pn=He?function(ht){return function(Mt,jt,en){var dn=jt(Mt);return kn(Mt)?dn:function(Tn,St){for(var Rt=-1,mn=St.length,jn=Tn.length;++Rt<mn;)Tn[jn+Rt]=St[Rt];return Tn}(dn,en(Mt))}(ht,rn,fn)}(me):rn(me);return function(ht,Mt){for(var jt=-1,en=ht?ht.length:0;++jt<en&&Mt(ht[jt],jt,ht)!==!1;);}(pn||me,function(ht,Mt){pn&&(ht=me[Mt=ht]),Et(Nt,Mt,xt(ht,ke,He,pt,Mt,me,Lt))}),Nt}function Bt(me){return!(!nn(me)||(ke=me,ne&&ne in ke))&&(Fn(me)||J(me)?ue:g).test(yt(me));var ke}function Ft(me){var ke=new me.constructor(me.byteLength);return new _e(ke).set(new _e(me)),ke}function Ct(me,ke,He,pt){He||(He={});for(var kt=-1,zt=ke.length;++kt<zt;){var Lt=ke[kt],Nt=pt?pt(He[Lt],me[Lt],Lt,He,me):void 0;Et(He,Lt,Nt===void 0?me[Lt]:Nt)}return He}function Vt(me,ke){var He,pt,kt=me.__data__;return((pt=h(He=ke))=="string"||pt=="number"||pt=="symbol"||pt=="boolean"?He!=="__proto__":He===null)?kt[typeof ke=="string"?"string":"hash"]:kt.map}function Ut(me,ke){var He=function(pt,kt){return pt==null?void 0:pt[kt]}(me,ke);return Bt(He)?He:void 0}et.prototype.clear=function(){this.__data__=Ae?Ae(null):{}},et.prototype.delete=function(me){return this.has(me)&&delete this.__data__[me]},et.prototype.get=function(me){var ke=this.__data__;if(Ae){var He=ke[me];return He==="__lodash_hash_undefined__"?void 0:He}return Y.call(ke,me)?ke[me]:void 0},et.prototype.has=function(me){var ke=this.__data__;return Ae?ke[me]!==void 0:Y.call(ke,me)},et.prototype.set=function(me,ke){return this.__data__[me]=Ae&&ke===void 0?"__lodash_hash_undefined__":ke,this},at.prototype.clear=function(){this.__data__=[]},at.prototype.delete=function(me){var ke=this.__data__,He=dt(ke,me);return!(He<0)&&(He==ke.length-1?ke.pop():fe.call(ke,He,1),!0)},at.prototype.get=function(me){var ke=this.__data__,He=dt(ke,me);return He<0?void 0:ke[He][1]},at.prototype.has=function(me){return dt(this.__data__,me)>-1},at.prototype.set=function(me,ke){var He=this.__data__,pt=dt(He,me);return pt<0?He.push([me,ke]):He[pt][1]=ke,this},bt.prototype.clear=function(){this.__data__={hash:new et,map:new(nt||at),string:new et}},bt.prototype.delete=function(me){return Vt(this,me).delete(me)},bt.prototype.get=function(me){return Vt(this,me).get(me)},bt.prototype.has=function(me){return Vt(this,me).has(me)},bt.prototype.set=function(me,ke){return Vt(this,me).set(me,ke),this},$t.prototype.clear=function(){this.__data__=new at},$t.prototype.delete=function(me){return this.__data__.delete(me)},$t.prototype.get=function(me){return this.__data__.get(me)},$t.prototype.has=function(me){return this.__data__.has(me)},$t.prototype.set=function(me,ke){var He=this.__data__;if(He instanceof at){var pt=He.__data__;if(!nt||pt.length<199)return pt.push([me,ke]),this;He=this.__data__=new bt(pt)}return He.set(me,ke),this};var fn=ve?ee(ve,Object):function(){return[]},Ye=function(me){return le.call(me)};function qe(me,ke){return!!(ke=ke==null?9007199254740991:ke)&&(typeof me=="number"||v.test(me))&&me>-1&&me%1==0&&me<ke}function gt(me){var ke=me&&me.constructor;return me===(typeof ke=="function"&&ke.prototype||Q)}function yt(me){if(me!=null){try{return re.call(me)}catch{}try{return me+""}catch{}}return""}function Tt(me,ke){return me===ke||me!=me&&ke!=ke}(We&&Ye(new We(new ArrayBuffer(1)))!="[object DataView]"||nt&&Ye(new nt)!=w||it&&Ye(it.resolve())!="[object Promise]"||De&&Ye(new De)!=M||ct&&Ye(new ct)!="[object WeakMap]")&&(Ye=function(me){var ke=le.call(me),He=ke=="[object Object]"?me.constructor:void 0,pt=He?yt(He):void 0;if(pt)switch(pt){case Xe:return"[object DataView]";case ot:return w;case je:return"[object Promise]";case Je:return M;case Ge:return"[object WeakMap]"}return ke});var kn=Array.isArray;function Ot(me){return me!=null&&function(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991}(me.length)&&!Fn(me)}var Wn=Le||function(){return!1};function Fn(me){var ke=nn(me)?le.call(me):"";return ke==y||ke==_}function nn(me){var ke=h(me);return!!me&&(ke=="object"||ke=="function")}function rn(me){return Ot(me)?Ke(me):function(ke){if(!gt(ke))return Ie(ke);var He=[];for(var pt in Object(ke))Y.call(ke,pt)&&pt!="constructor"&&He.push(pt);return He}(me)}m.exports=function(me){return xt(me,!0,!0)}}).call(this,f(14),f(24)(o))},function(o,u,f){f.d(u,"a",function(){return d});function d(m){try{return m&&typeof m=="function"&&m.name||"<anonymous>"}catch{return"<anonymous>"}}},function(o,u,f){f.d(u,"a",function(){return d});var d=function(){function m(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return m.prototype.memoize=function(h){if(this._hasWeakSet)return!!this._inner.has(h)||(this._inner.add(h),!1);for(var b=0;b<this._inner.length;b++)if(this._inner[b]===h)return!0;return this._inner.push(h),!1},m.prototype.unmemoize=function(h){if(this._hasWeakSet)this._inner.delete(h);else for(var b=0;b<this._inner.length;b++)if(this._inner[b]===h){this._inner.splice(b,1);break}},m}()},,function(o,u,f){function d(k){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(k)}var m=f(19),h=f(40),b=f(12),y=f(20).scan,_=b.ValidatorResult,w=b.SchemaError,M=b.SchemaContext,$=function k(){this.customFormats=Object.create(k.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(v),this.attributes=Object.create(h.validators)};function g(k){var C=typeof k=="string"?k:k.$ref;return typeof C=="string"&&C}$.prototype.customFormats={},$.prototype.schemas=null,$.prototype.types=null,$.prototype.attributes=null,$.prototype.unresolvedRefs=null,$.prototype.addSchema=function(k,C){var S=this;if(!k)return null;var I=y(C||"/",k),O=C||k.id;for(var x in I.id)this.schemas[x]=I.id[x];for(var x in I.ref)this.unresolvedRefs.push(x);return this.unresolvedRefs=this.unresolvedRefs.filter(function(F){return S.schemas[F]===void 0}),this.schemas[O]},$.prototype.addSubSchemaArray=function(k,C){if(C instanceof Array)for(var S=0;S<C.length;S++)this.addSubSchema(k,C[S])},$.prototype.addSubSchemaObject=function(k,C){if(C&&d(C)=="object")for(var S in C)this.addSubSchema(k,C[S])},$.prototype.setSchemas=function(k){this.schemas=k},$.prototype.getSchema=function(k){return this.schemas[k]},$.prototype.validate=function(k,C,S,I){S||(S={});var O=S.propertyName||"instance",x=m.resolve(S.base||"/",C.id||"");if(!I){(I=new M(C,S,O,x,Object.create(this.schemas))).schemas[x]||(I.schemas[x]=C);var F=y(x,C);for(var R in F.id){var L=F.id[R];I.schemas[R]=L}}if(C){var D=this.validateSchema(k,C,S,I);if(!D)throw new Error("Result undefined");return D}throw new w("no schema specified",C)},$.prototype.validateSchema=function(k,C,S,I){var O,x=new _(k,C,S,I);if(typeof C=="boolean")C===!0?C={}:C===!1&&(C={type:[]});else if(!C)throw new Error("schema is undefined");if(C.extends)if(C.extends instanceof Array){var F={schema:C,ctx:I};C.extends.forEach(this.schemaTraverser.bind(this,F)),C=F.schema,F.schema=null,F.ctx=null,F=null}else C=b.deepMerge(C,this.superResolve(C.extends,I));if(O=g(C)){var R=this.resolve(C,O,I),L=new M(R.subschema,S,I.propertyPath,R.switchSchema,I.schemas);return this.validateSchema(k,R.subschema,S,L)}var D=S&&S.skipAttributes||[];for(var J in C)if(!h.ignoreProperties[J]&&D.indexOf(J)<0){var K=null,ee=this.attributes[J];if(ee)K=ee.call(this,k,C,S,I);else if(S.allowUnknownAttributes===!1)throw new w("Unsupported attribute: "+J,C);K&&x.importErrors(K)}if(typeof S.rewrite=="function"){var H=S.rewrite.call(this,k,C,S,I);x.instance=H}return x},$.prototype.schemaTraverser=function(k,C){k.schema=b.deepMerge(k.schema,this.superResolve(C,k.ctx))},$.prototype.superResolve=function(k,C){var S;return(S=g(k))?this.resolve(k,S,C).subschema:k},$.prototype.resolve=function(k,C,S){if(C=S.resolve(C),S.schemas[C])return{subschema:S.schemas[C],switchSchema:C};var I=m.parse(C),O=I&&I.hash,x=O&&O.length&&C.substr(0,C.length-O.length);if(!x||!S.schemas[x])throw new w("no such schema <"+C+">",k);var F=b.objectGetPath(S.schemas[x],O.substr(1));if(F===void 0)throw new w("no such schema "+O+" located in <"+x+">",k);return{subschema:F,switchSchema:C}},$.prototype.testType=function(k,C,S,I,O){if(typeof this.types[O]=="function")return this.types[O].call(this,k);if(O&&d(O)=="object"){var x=this.validateSchema(k,O,S,I);return x===void 0||!(x&&x.errors.length)}return!0};var v=$.prototype.types={};v.string=function(k){return typeof k=="string"},v.number=function(k){return typeof k=="number"&&isFinite(k)},v.integer=function(k){return typeof k=="number"&&k%1==0},v.boolean=function(k){return typeof k=="boolean"},v.array=function(k){return Array.isArray(k)},v.null=function(k){return k===null},v.date=function(k){return k instanceof Date},v.any=function(k){return!0},v.object=function(k){return k&&d(k)==="object"&&!(k instanceof Array)&&!(k instanceof Date)},o.exports=$},function(o,u,f){(function(d,m){var h;function b(y){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}/*! https://mths.be/punycode v1.3.2 by @mathias */(function(y){var _=b(u)=="object"&&u&&!u.nodeType&&u,w=b(d)=="object"&&d&&!d.nodeType&&d,M=(m===void 0?"undefined":b(m))=="object"&&m;M.global!==M&&M.window!==M&&M.self!==M||(y=M);var $,g,v=2147483647,k=/^xn--/,C=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=Math.floor,x=String.fromCharCode;function F(X){throw RangeError(I[X])}function R(X,ie){for(var Q=X.length,G=[];Q--;)G[Q]=ie(X[Q]);return G}function L(X,ie){var Q=X.split("@"),G="";return Q.length>1&&(G=Q[0]+"@",X=Q[1]),G+R((X=X.replace(S,".")).split("."),ie).join(".")}function D(X){for(var ie,Q,G=[],ne=0,re=X.length;ne<re;)(ie=X.charCodeAt(ne++))>=55296&&ie<=56319&&ne<re?(64512&(Q=X.charCodeAt(ne++)))==56320?G.push(((1023&ie)<<10)+(1023&Q)+65536):(G.push(ie),ne--):G.push(ie);return G}function J(X){return R(X,function(ie){var Q="";return ie>65535&&(Q+=x((ie-=65536)>>>10&1023|55296),ie=56320|1023&ie),Q+=x(ie)}).join("")}function K(X,ie){return X+22+75*(X<26)-((ie!=0)<<5)}function ee(X,ie,Q){var G=0;for(X=Q?O(X/700):X>>1,X+=O(X/ie);X>455;G+=36)X=O(X/35);return O(G+36*X/(X+38))}function H(X){var ie,Q,G,ne,re,Y,le,ue,ge,ye,_e,Ce=[],be=X.length,Ne=0,fe=128,ve=72;for((Q=X.lastIndexOf("-"))<0&&(Q=0),G=0;G<Q;++G)X.charCodeAt(G)>=128&&F("not-basic"),Ce.push(X.charCodeAt(G));for(ne=Q>0?Q+1:0;ne<be;){for(re=Ne,Y=1,le=36;ne>=be&&F("invalid-input"),((ue=(_e=X.charCodeAt(ne++))-48<10?_e-22:_e-65<26?_e-65:_e-97<26?_e-97:36)>=36||ue>O((v-Ne)/Y))&&F("overflow"),Ne+=ue*Y,!(ue<(ge=le<=ve?1:le>=ve+26?26:le-ve));le+=36)Y>O(v/(ye=36-ge))&&F("overflow"),Y*=ye;ve=ee(Ne-re,ie=Ce.length+1,re==0),O(Ne/ie)>v-fe&&F("overflow"),fe+=O(Ne/ie),Ne%=ie,Ce.splice(Ne++,0,fe)}return J(Ce)}function q(X){var ie,Q,G,ne,re,Y,le,ue,ge,ye,_e,Ce,be,Ne,fe,ve=[];for(Ce=(X=D(X)).length,ie=128,Q=0,re=72,Y=0;Y<Ce;++Y)(_e=X[Y])<128&&ve.push(x(_e));for(G=ne=ve.length,ne&&ve.push("-");G<Ce;){for(le=v,Y=0;Y<Ce;++Y)(_e=X[Y])>=ie&&_e<le&&(le=_e);for(le-ie>O((v-Q)/(be=G+1))&&F("overflow"),Q+=(le-ie)*be,ie=le,Y=0;Y<Ce;++Y)if((_e=X[Y])<ie&&++Q>v&&F("overflow"),_e==ie){for(ue=Q,ge=36;!(ue<(ye=ge<=re?1:ge>=re+26?26:ge-re));ge+=36)fe=ue-ye,Ne=36-ye,ve.push(x(K(ye+fe%Ne,0))),ue=O(fe/Ne);ve.push(x(K(ue,0))),re=ee(Q,be,G==ne),Q=0,++G}++Q,++ie}return ve.join("")}if($={version:"1.3.2",ucs2:{decode:D,encode:J},decode:H,encode:q,toASCII:function(X){return L(X,function(ie){return C.test(ie)?"xn--"+q(ie):ie})},toUnicode:function(X){return L(X,function(ie){return k.test(ie)?H(ie.slice(4).toLowerCase()):ie})}},b(f(25))=="object"&&f(25))(h=function(){return $}.call(u,f,u,d))===void 0||(d.exports=h);else if(_&&w)if(d.exports==_)w.exports=$;else for(g in $)$.hasOwnProperty(g)&&(_[g]=$[g]);else y.punycode=$})(this)}).call(this,f(24)(o),f(14))},function(o,u,f){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}o.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return d(m)==="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},function(o,u,f){u.decode=u.parse=f(38),u.encode=u.stringify=f(39)},function(o,u,f){function d(h,b){return Object.prototype.hasOwnProperty.call(h,b)}o.exports=function(h,b,y,_){b=b||"&",y=y||"=";var w={};if(typeof h!="string"||h.length===0)return w;var M=/\+/g;h=h.split(b);var $=1e3;_&&typeof _.maxKeys=="number"&&($=_.maxKeys);var g=h.length;$>0&&g>$&&(g=$);for(var v=0;v<g;++v){var k,C,S,I,O=h[v].replace(M,"%20"),x=O.indexOf(y);x>=0?(k=O.substr(0,x),C=O.substr(x+1)):(k=O,C=""),S=decodeURIComponent(k),I=decodeURIComponent(C),d(w,S)?m(w[S])?w[S].push(I):w[S]=[w[S],I]:w[S]=I}return w};var m=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}},function(o,u,f){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}var m=function(_){switch(d(_)){case"string":return _;case"boolean":return _?"true":"false";case"number":return isFinite(_)?_:"";default:return""}};o.exports=function(_,w,M,$){return w=w||"&",M=M||"=",_===null&&(_=void 0),d(_)==="object"?b(y(_),function(g){var v=encodeURIComponent(m(g))+M;return h(_[g])?b(_[g],function(k){return v+encodeURIComponent(m(k))}).join(w):v+encodeURIComponent(m(_[g]))}).join(w):$?encodeURIComponent(m($))+M+encodeURIComponent(m(_)):""};var h=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"};function b(_,w){if(_.map)return _.map(w);for(var M=[],$=0;$<_.length;$++)M.push(w(_[$],$));return M}var y=Object.keys||function(_){var w=[];for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&w.push(M);return w}},function(o,u,f){var d=f(12),m=d.ValidatorResult,h=d.SchemaError,b={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},y=b.validators={};function _(g,v,k,C,S){var I=v.throwError;v.throwError=!1;var O=this.validateSchema(g,S,v,k);return v.throwError=I,!O.valid&&C instanceof Function&&C(O),O.valid}function w(g,v,k,C,S,I){if(this.types.object(g)&&(!v.properties||v.properties[S]===void 0))if(v.additionalProperties===!1)I.addError({name:"additionalProperties",argument:S,message:"additionalProperty "+JSON.stringify(S)+" exists in instance when not allowed"});else{var O=v.additionalProperties||{};typeof k.preValidateProperty=="function"&&k.preValidateProperty(g,S,O,k,C);var x=this.validateSchema(g[S],O,k,C.makeChild(O,S));x.instance!==I.instance[S]&&(I.instance[S]=x.instance),I.importErrors(x)}}y.type=function(g,v,k,C){if(g===void 0)return null;var S=new m(g,v,k,C),I=Array.isArray(v.type)?v.type:[v.type];if(!I.some(this.testType.bind(this,g,v,k,C))){var O=I.map(function(x){return x.id&&"<"+x.id+">"||x+""});S.addError({name:"type",argument:O,message:"is not of a type(s) "+O})}return S},y.anyOf=function(g,v,k,C){if(g===void 0)return null;var S=new m(g,v,k,C),I=new m(g,v,k,C);if(!Array.isArray(v.anyOf))throw new h("anyOf must be an array");if(!v.anyOf.some(_.bind(this,g,k,C,function(x){I.importErrors(x)}))){var O=v.anyOf.map(function(x,F){return x.id&&"<"+x.id+">"||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+F+"]"});k.nestedErrors&&S.importErrors(I),S.addError({name:"anyOf",argument:O,message:"is not any of "+O.join(",")})}return S},y.allOf=function(g,v,k,C){if(g===void 0)return null;if(!Array.isArray(v.allOf))throw new h("allOf must be an array");var S=new m(g,v,k,C),I=this;return v.allOf.forEach(function(O,x){var F=I.validateSchema(g,O,k,C);if(!F.valid){var R=O.id&&"<"+O.id+">"||O.title&&JSON.stringify(O.title)||O.$ref&&"<"+O.$ref+">"||"[subschema "+x+"]";S.addError({name:"allOf",argument:{id:R,length:F.errors.length,valid:F},message:"does not match allOf schema "+R+" with "+F.errors.length+" error[s]:"}),S.importErrors(F)}}),S},y.oneOf=function(g,v,k,C){if(g===void 0)return null;if(!Array.isArray(v.oneOf))throw new h("oneOf must be an array");var S=new m(g,v,k,C),I=new m(g,v,k,C),O=v.oneOf.filter(_.bind(this,g,k,C,function(F){I.importErrors(F)})).length,x=v.oneOf.map(function(F,R){return F.id&&"<"+F.id+">"||F.title&&JSON.stringify(F.title)||F.$ref&&"<"+F.$ref+">"||"[subschema "+R+"]"});return O!==1&&(k.nestedErrors&&S.importErrors(I),S.addError({name:"oneOf",argument:x,message:"is not exactly one from "+x.join(",")})),S},y.properties=function(g,v,k,C){if(this.types.object(g)){var S=new m(g,v,k,C),I=v.properties||{};for(var O in I){typeof k.preValidateProperty=="function"&&k.preValidateProperty(g,O,I[O],k,C);var x=Object.hasOwnProperty.call(g,O)?g[O]:void 0,F=this.validateSchema(x,I[O],k,C.makeChild(I[O],O));F.instance!==S.instance[O]&&(S.instance[O]=F.instance),S.importErrors(F)}return S}},y.patternProperties=function(g,v,k,C){if(this.types.object(g)){var S=new m(g,v,k,C),I=v.patternProperties||{};for(var O in g){var x=!0;for(var F in I)if(new RegExp(F).test(O)){x=!1,typeof k.preValidateProperty=="function"&&k.preValidateProperty(g,O,I[F],k,C);var R=this.validateSchema(g[O],I[F],k,C.makeChild(I[F],O));R.instance!==S.instance[O]&&(S.instance[O]=R.instance),S.importErrors(R)}x&&w.call(this,g,v,k,C,O,S)}return S}},y.additionalProperties=function(g,v,k,C){if(this.types.object(g)){if(v.patternProperties)return null;var S=new m(g,v,k,C);for(var I in g)w.call(this,g,v,k,C,I,S);return S}},y.minProperties=function(g,v,k,C){if(this.types.object(g)){var S=new m(g,v,k,C);return Object.keys(g).length>=v.minProperties||S.addError({name:"minProperties",argument:v.minProperties,message:"does not meet minimum property length of "+v.minProperties}),S}},y.maxProperties=function(g,v,k,C){if(this.types.object(g)){var S=new m(g,v,k,C);return Object.keys(g).length<=v.maxProperties||S.addError({name:"maxProperties",argument:v.maxProperties,message:"does not meet maximum property length of "+v.maxProperties}),S}},y.items=function(g,v,k,C){var S=this;if(this.types.array(g)&&v.items){var I=new m(g,v,k,C);return g.every(function(O,x){var F=Array.isArray(v.items)?v.items[x]||v.additionalItems:v.items;if(F===void 0)return!0;if(F===!1)return I.addError({name:"items",message:"additionalItems not permitted"}),!1;var R=S.validateSchema(O,F,k,C.makeChild(F,x));return R.instance!==I.instance[x]&&(I.instance[x]=R.instance),I.importErrors(R),!0}),I}},y.minimum=function(g,v,k,C){if(this.types.number(g)){var S=new m(g,v,k,C);return(v.exclusiveMinimum&&v.exclusiveMinimum===!0?g>v.minimum:g>=v.minimum)||S.addError({name:"minimum",argument:v.minimum,message:"must have a minimum value of "+v.minimum}),S}},y.maximum=function(g,v,k,C){if(this.types.number(g)){var S=new m(g,v,k,C);return(v.exclusiveMaximum&&v.exclusiveMaximum===!0?g<v.maximum:g<=v.maximum)||S.addError({name:"maximum",argument:v.maximum,message:"must have a maximum value of "+v.maximum}),S}};var M=function(g,v,k,C,S,I){if(this.types.number(g)){var O=v[S];if(O==0)throw new h(S+" cannot be zero");var x=new m(g,v,k,C),F=d.getDecimalPlaces(g),R=d.getDecimalPlaces(O),L=Math.max(F,R),D=Math.pow(10,L);return Math.round(g*D)%Math.round(O*D)!=0&&x.addError({name:S,argument:O,message:I+JSON.stringify(O)}),x}};function $(g,v,k){var C,S=k.length;for(C=v+1;C<S;C++)if(d.deepCompareStrict(g,k[C]))return!1;return!0}y.multipleOf=function(g,v,k,C){return M.call(this,g,v,k,C,"multipleOf","is not a multiple of (divisible by) ")},y.divisibleBy=function(g,v,k,C){return M.call(this,g,v,k,C,"divisibleBy","is not divisible by (multiple of) ")},y.required=function(g,v,k,C){var S=new m(g,v,k,C);return g===void 0&&v.required===!0?S.addError({name:"required",message:"is required"}):this.types.object(g)&&Array.isArray(v.required)&&v.required.forEach(function(I){g[I]===void 0&&S.addError({name:"required",argument:I,message:"requires property "+JSON.stringify(I)})}),S},y.pattern=function(g,v,k,C){if(this.types.string(g)){var S=new m(g,v,k,C);return g.match(v.pattern)||S.addError({name:"pattern",argument:v.pattern,message:"does not match pattern "+JSON.stringify(v.pattern.toString())}),S}},y.format=function(g,v,k,C){if(g!==void 0){var S=new m(g,v,k,C);return S.disableFormat||d.isFormat(g,v.format,this)||S.addError({name:"format",argument:v.format,message:"does not conform to the "+JSON.stringify(v.format)+" format"}),S}},y.minLength=function(g,v,k,C){if(this.types.string(g)){var S=new m(g,v,k,C),I=g.match(/[\uDC00-\uDFFF]/g);return g.length-(I?I.length:0)>=v.minLength||S.addError({name:"minLength",argument:v.minLength,message:"does not meet minimum length of "+v.minLength}),S}},y.maxLength=function(g,v,k,C){if(this.types.string(g)){var S=new m(g,v,k,C),I=g.match(/[\uDC00-\uDFFF]/g);return g.length-(I?I.length:0)<=v.maxLength||S.addError({name:"maxLength",argument:v.maxLength,message:"does not meet maximum length of "+v.maxLength}),S}},y.minItems=function(g,v,k,C){if(this.types.array(g)){var S=new m(g,v,k,C);return g.length>=v.minItems||S.addError({name:"minItems",argument:v.minItems,message:"does not meet minimum length of "+v.minItems}),S}},y.maxItems=function(g,v,k,C){if(this.types.array(g)){var S=new m(g,v,k,C);return g.length<=v.maxItems||S.addError({name:"maxItems",argument:v.maxItems,message:"does not meet maximum length of "+v.maxItems}),S}},y.uniqueItems=function(g,v,k,C){if(this.types.array(g)){var S=new m(g,v,k,C);return g.every(function(I,O,x){for(var F=O+1;F<x.length;F++)if(d.deepCompareStrict(I,x[F]))return!1;return!0})||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.uniqueItems=function(g,v,k,C){if(this.types.array(g)){var S=new m(g,v,k,C);return g.every($)||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.dependencies=function(g,v,k,C){if(this.types.object(g)){var S=new m(g,v,k,C);for(var I in v.dependencies)if(g[I]!==void 0){var O=v.dependencies[I],x=C.makeChild(O,I);if(typeof O=="string"&&(O=[O]),Array.isArray(O))O.forEach(function(R){g[R]===void 0&&S.addError({name:"dependencies",argument:x.propertyPath,message:"property "+R+" not found, required by "+x.propertyPath})});else{var F=this.validateSchema(g,O,k,x);S.instance!==F.instance&&(S.instance=F.instance),F&&F.errors.length&&(S.addError({name:"dependencies",argument:x.propertyPath,message:"does not meet dependency required by "+x.propertyPath}),S.importErrors(F))}}return S}},y.enum=function(g,v,k,C){if(g===void 0)return null;if(!Array.isArray(v.enum))throw new h("enum expects an array",v);var S=new m(g,v,k,C);return v.enum.some(d.deepCompareStrict.bind(null,g))||S.addError({name:"enum",argument:v.enum,message:"is not one of enum values: "+v.enum.map(String).join(",")}),S},y.const=function(g,v,k,C){if(g===void 0)return null;var S=new m(g,v,k,C);return d.deepCompareStrict(v.const,g)||S.addError({name:"const",argument:v.const,message:"does not exactly match expected constant: "+v.const}),S},y.not=y.disallow=function(g,v,k,C){var S=this;if(g===void 0)return null;var I=new m(g,v,k,C),O=v.not||v.disallow;return O?(Array.isArray(O)||(O=[O]),O.forEach(function(x){if(S.testType(g,v,k,C,x)){var F=x&&x.id&&"<"+x.id+">"||x;I.addError({name:"not",argument:F,message:"is of prohibited type "+F})}}),I):null},o.exports=b},function(o,u,f){function d(m){return function(h){if(Array.isArray(h)){for(var b=0,y=new Array(h.length);b<h.length;b++)y[b]=h[b];return y}}(m)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.exports=function(m){function h(M){for(var $=0,g=0;g<M.length;g++)$=($<<5)-$+M.charCodeAt(g),$|=0;return b.colors[Math.abs($)%b.colors.length]}function b(M){var $;function g(){for(var v=arguments.length,k=new Array(v),C=0;C<v;C++)k[C]=arguments[C];if(g.enabled){var S=g,I=Number(new Date),O=I-($||I);S.diff=O,S.prev=$,S.curr=I,$=I,k[0]=b.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");var x=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,function(R,L){if(R==="%%")return R;x++;var D=b.formatters[L];if(typeof D=="function"){var J=k[x];R=D.call(S,J),k.splice(x,1),x--}return R}),b.formatArgs.call(S,k);var F=S.log||b.log;F.apply(S,k)}}return g.namespace=M,g.enabled=b.enabled(M),g.useColors=b.useColors(),g.color=h(M),g.destroy=y,g.extend=_,typeof b.init=="function"&&b.init(g),b.instances.push(g),g}function y(){var M=b.instances.indexOf(this);return M!==-1&&(b.instances.splice(M,1),!0)}function _(M,$){var g=b(this.namespace+($===void 0?":":$)+M);return g.log=this.log,g}function w(M){return M.toString().substring(2,M.toString().length-2).replace(/\.\*\?$/,"*")}return b.debug=b,b.default=b,b.coerce=function(M){return M instanceof Error?M.stack||M.message:M},b.disable=function(){var M=[].concat(d(b.names.map(w)),d(b.skips.map(w).map(function($){return"-"+$}))).join(",");return b.enable(""),M},b.enable=function(M){var $;b.save(M),b.names=[],b.skips=[];var g=(typeof M=="string"?M:"").split(/[\s,]+/),v=g.length;for($=0;$<v;$++)g[$]&&((M=g[$].replace(/\*/g,".*?"))[0]==="-"?b.skips.push(new RegExp("^"+M.substr(1)+"$")):b.names.push(new RegExp("^"+M+"$")));for($=0;$<b.instances.length;$++){var k=b.instances[$];k.enabled=b.enabled(k.namespace)}},b.enabled=function(M){if(M[M.length-1]==="*")return!0;var $,g;for($=0,g=b.skips.length;$<g;$++)if(b.skips[$].test(M))return!1;for($=0,g=b.names.length;$<g;$++)if(b.names[$].test(M))return!0;return!1},b.humanize=f(42),Object.keys(m).forEach(function(M){b[M]=m[M]}),b.instances=[],b.names=[],b.skips=[],b.formatters={},b.selectColor=h,b.enable(b.load()),b}},function(o,u){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}var d=1e3,m=6e4,h=60*m,b=24*h;function y(_,w,M,$){var g=w>=1.5*M;return Math.round(_/M)+" "+$+(g?"s":"")}o.exports=function(_,w){w=w||{};var M=f(_);if(M==="string"&&_.length>0)return function($){if(!(($=String($)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!!g){var v=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*v;case"weeks":case"week":case"w":return 6048e5*v;case"days":case"day":case"d":return v*b;case"hours":case"hour":case"hrs":case"hr":case"h":return v*h;case"minutes":case"minute":case"mins":case"min":case"m":return v*m;case"seconds":case"second":case"secs":case"sec":case"s":return v*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}(_);if(M==="number"&&isFinite(_))return w.long?function($){var g=Math.abs($);return g>=b?y($,g,b,"day"):g>=h?y($,g,h,"hour"):g>=m?y($,g,m,"minute"):g>=d?y($,g,d,"second"):$+" ms"}(_):function($){var g=Math.abs($);return g>=b?Math.round($/b)+"d":g>=h?Math.round($/h)+"h":g>=m?Math.round($/m)+"m":g>=d?Math.round($/d)+"s":$+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},function(o,u,f){f.r(u),f.d(u,"XhrAdapter",function(){return $});var d=f(0),m=f(3),h=f.n(m),b=f(5),y=f(6),_=f(2),w=f(11),M=h()("fs:request:xhr"),$=function(){function g(){}return g.prototype.request=function(v){var k=this;v.filestackHeaders===void 0&&(v.filestackHeaders=!0),(v=Object(w.d)(v)).headers=v.headers||{};var C=v.data,S=v.headers;b.e(C)&&delete S["Content-Type"];var I=new XMLHttpRequest;if(v.blobResponse&&(I.responseType="blob"),v.auth){if(!v.auth.username||v.auth.username.length===0||!v.auth.password||v.auth.password.length===0)return Promise.reject(new _.a("Basic auth: username and password are required "+v.auth,v));S.Authorization="Basic "+btoa(unescape(encodeURIComponent(v.auth.username+":"+v.auth.password))),M("Set request authorization to %s",v.auth.username+v.auth.password)}var O=v.url.trim();return/^http(s)?:\/\//.test(O)||(O="https://"+O),O=Object(w.a)(O,v.params),M("Starting request to %s with options %O",O,v),I.open(v.method.toUpperCase(),O,!0),I.timeout=v.timeout,new Promise(function(x,F){var R;if(v.cancelToken&&(R=function(D){return I&&(I.abort(),I=null),M("Request canceled by user %s, config: %O",D,v),F(new _.a("Request aborted. Reason: "+D,v,null,_.b.ABORTED))},v.cancelToken.once("cancel",R)),I.onreadystatechange=function(){return Object(d.b)(k,void 0,void 0,function(){var D,J,K;return Object(d.d)(this,function(ee){switch(ee.label){case 0:return I&&I.readyState===4&&(I.status!==0||I.responseURL)?(D=Object(w.b)(I.getAllResponseHeaders()),J=I.response,K={data:J,status:I.status,statusText:I.statusText,headers:D,config:v},I=null,[4,Object(w.c)(K)]):[2];case 1:return 500<=(K=ee.sent()).status&&K.status<=599?(M("Server error(5xx) - %O",K),[2,F(new _.a("Server error "+O,v,K,_.b.SERVER))]):400<=K.status&&K.status<=499?(M("Request error(4xx) - %O",K),[2,F(new _.a("Request error "+O,v,K,_.b.REQUEST))]):(v.cancelToken&&(v.cancelToken.removeListener("cancel",R),R=null),[2,x(K)])}})})},I.onabort=function(){I&&(I=null,F(new _.a("Request aborted",v,null,_.b.ABORTED)))},I.onerror=function(D){I=null,M("Request error! %O",D),F(new _.a("Network Error",v,null,_.b.NETWORK))},I.ontimeout=function(){I=null,M("Request timed out. %O",v),F(new _.a("Request timeout",v,null,_.b.TIMEOUT))},"setRequestHeader"in I&&S&&Object.keys(S).length)for(var L in S)S[L]!==void 0&&(M("Set request header %s to %s",L,S[L]),I.setRequestHeader(L,S[L]));typeof v.onProgress=="function"&&[y.a.POST,y.a.PUT].indexOf(v.method)>-1&&(I.upload?(M("Bind to upload progress event"),I.upload.addEventListener("progress",v.onProgress)):(M("Bind to progress event"),I.addEventListener("progress",v.onProgress))),C===void 0&&(C=null),I.send(C)})},g}()},function(o,u,f){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}var m=f(7);u.convertToJson=function h(b,y){var _={};if(!(b.child&&!m.isEmptyObject(b.child)||b.attrsMap&&!m.isEmptyObject(b.attrsMap)))return m.isExist(b.val)?b.val:"";m.isExist(b.val)&&(typeof b.val!="string"||b.val!==""&&b.val!==y.cdataPositionChar)&&(y.arrayMode==="strict"?_[y.textNodeName]=[b.val]:_[y.textNodeName]=b.val),m.merge(_,b.attrsMap,y.arrayMode);for(var w=Object.keys(b.child),M=0;M<w.length;M++){var $=w[M];if(b.child[$]&&b.child[$].length>1)for(var g in _[$]=[],b.child[$])_[$].push(h(b.child[$][g],y));else if(y.arrayMode===!0){var v=h(b.child[$][0],y);d(v)==="object"?_[$]=[v]:_[$]=v}else y.arrayMode==="strict"?_[$]=[h(b.child[$][0],y)]:_[$]=h(b.child[$][0],y)}return _}},function(o,u,f){o.exports=function(d,m,h){this.tagname=d,this.parent=m,this.child={},this.attrsMap={},this.val=h,this.addChild=function(b){Array.isArray(this.child[b.tagname])?this.child[b.tagname].push(b):this.child[b.tagname]=[b]}}},function(o,u,f){var d=f(7),m={allowBooleanAttributes:!1},h=["allowBooleanAttributes"];function b(S,I){for(var O=I;I<S.length;I++)if(!(S[I]!="?"&&S[I]!=" ")){var x=S.substr(O,I-O);if(I>5&&x==="xml")return g("InvalidXml","XML declaration allowed only at the start of the document.",k(S,I));if(S[I]=="?"&&S[I+1]==">"){I++;break}}return I}function y(S,I){if(S.length>I+5&&S[I+1]==="-"&&S[I+2]==="-"){for(I+=3;I<S.length;I++)if(S[I]==="-"&&S[I+1]==="-"&&S[I+2]===">"){I+=2;break}}else if(S.length>I+8&&S[I+1]==="D"&&S[I+2]==="O"&&S[I+3]==="C"&&S[I+4]==="T"&&S[I+5]==="Y"&&S[I+6]==="P"&&S[I+7]==="E"){var O=1;for(I+=8;I<S.length;I++)if(S[I]==="<")O++;else if(S[I]===">"&&--O===0)break}else if(S.length>I+9&&S[I+1]==="["&&S[I+2]==="C"&&S[I+3]==="D"&&S[I+4]==="A"&&S[I+5]==="T"&&S[I+6]==="A"&&S[I+7]==="["){for(I+=8;I<S.length;I++)if(S[I]==="]"&&S[I+1]==="]"&&S[I+2]===">"){I+=2;break}}return I}u.validate=function(S,I){I=d.buildOptions(I,m,h);var O,x=[],F=!1,R=!1;S[0]==="\uFEFF"&&(S=S.substr(1));for(var L=0;L<S.length;L++){if(S[L]!=="<"){if(S[L]===" "||S[L]==="	"||S[L]===`
`||S[L]==="\r")continue;return g("InvalidChar","char '".concat(S[L],"' is not expected."),k(S,L))}if(S[++L]==="?"){if((L=b(S,++L)).err)return L}else{if(S[L]==="!"){L=y(S,L);continue}var D=!1;S[L]==="/"&&(D=!0,L++);for(var J="";L<S.length&&S[L]!==">"&&S[L]!==" "&&S[L]!=="	"&&S[L]!==`
`&&S[L]!=="\r";L++)J+=S[L];if((J=J.trim())[J.length-1]==="/"&&(J=J.substring(0,J.length-1),L--),O=J,!d.isName(O))return g("InvalidTag",J.trim().length===0?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '".concat(J,"' is an invalid name."),k(S,L));var K=_(S,L);if(K===!1)return g("InvalidAttr","Attributes for '".concat(J,"' have open quote."),k(S,L));var ee=K.value;if(L=K.index,ee[ee.length-1]==="/"){var H=M(ee=ee.substring(0,ee.length-1),I);if(H!==!0)return g(H.err.code,H.err.msg,k(S,L-ee.length+H.err.line));F=!0}else if(D){if(!K.tagClosed)return g("InvalidTag","Closing tag '".concat(J,"' doesn't have proper closing."),k(S,L));if(ee.trim().length>0)return g("InvalidTag","Closing tag '".concat(J,"' can't have attributes or invalid starting."),k(S,L));var q=x.pop();if(J!==q)return g("InvalidTag","Closing tag '".concat(q,"' is expected inplace of '").concat(J,"'."),k(S,L));x.length==0&&(R=!0)}else{var X=M(ee,I);if(X!==!0)return g(X.err.code,X.err.msg,k(S,L-ee.length+X.err.line));if(R===!0)return g("InvalidXml","Multiple possible root nodes found.",k(S,L));x.push(J),F=!0}for(L++;L<S.length;L++){if(S[L]==="<"){if(S[L+1]==="!"){L=y(S,++L);continue}break}if(S[L]==="&"){var ie=$(S,L);if(ie==-1)return g("InvalidChar","char '&' is not expected.",k(S,L));L=ie}}S[L]==="<"&&L--}}return F?!(x.length>0)||g("InvalidXml","Invalid '".concat(JSON.stringify(x,null,4).replace(/\r?\n/g,""),"' found."),1):g("InvalidXml","Start tag expected.",1)};function _(S,I){for(var O="",x="",F=!1;I<S.length;I++){if(S[I]==='"'||S[I]==="'")if(x==="")x=S[I];else{if(x!==S[I])continue;x=""}else if(S[I]===">"&&x===""){F=!0;break}O+=S[I]}return x===""&&{value:O,index:I,tagClosed:F}}var w=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function M(S,I){for(var O=d.getAllMatches(S,w),x={},F=0;F<O.length;F++){if(O[F][1].length===0)return g("InvalidAttr","Attribute '".concat(O[F][2],"' has no space in starting."),C(S,O[F][0]));if(O[F][3]===void 0&&!I.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '".concat(O[F][2],"' is not allowed."),C(S,O[F][0]));var R=O[F][2];if(!v(R))return g("InvalidAttr","Attribute '".concat(R,"' is an invalid name."),C(S,O[F][0]));if(x.hasOwnProperty(R))return g("InvalidAttr","Attribute '".concat(R,"' is repeated."),C(S,O[F][0]));x[R]=1}return!0}function $(S,I){if(S[++I]===";")return-1;if(S[I]==="#")return function(x,F){var R=/\d/;for(x[F]==="x"&&(F++,R=/[\da-fA-F]/);F<x.length;F++){if(x[F]===";")return F;if(!x[F].match(R))break}return-1}(S,++I);for(var O=0;I<S.length;I++,O++)if(!(S[I].match(/\w/)&&O<20)){if(S[I]===";")break;return-1}return I}function g(S,I,O){return{err:{code:S,msg:I,line:O}}}function v(S){return d.isName(S)}function k(S,I){return S.substring(0,I).split(/\r?\n/).length}function C(S,I){return S.indexOf(I)+I.length}},function(o,u,f){var d=function(g){return String.fromCharCode(g)},m={nilChar:d(176),missingChar:d(201),nilPremitive:d(175),missingPremitive:d(200),emptyChar:d(178),emptyValue:d(177),boundryChar:d(179),objStart:d(198),arrStart:d(204),arrayEnd:d(185)},h=[m.nilChar,m.nilPremitive,m.missingChar,m.missingPremitive,m.boundryChar,m.emptyChar,m.emptyValue,m.arrayEnd,m.objStart,m.arrStart],b=function g(v,k,C){if(typeof k=="string")return v&&v[0]&&v[0].val!==void 0?y(v[0].val):y(v);var S,I=(S=v)===void 0?m.missingChar:S===null?m.nilChar:!(S.child&&Object.keys(S.child).length===0&&(!S.attrsMap||Object.keys(S.attrsMap).length===0))||m.emptyChar;if(I===!0){var O="";if(Array.isArray(k)){O+=m.arrStart;var x=k[0],F=v.length;if(typeof x=="string")for(var R=0;R<F;R++){var L=y(v[R].val);O=_(O,L)}else for(var D=0;D<F;D++){var J=g(v[D],x,C);O=_(O,J)}O+=m.arrayEnd}else{O+=m.objStart;var K=Object.keys(k);for(var ee in Array.isArray(v)&&(v=v[0]),K){var H=K[ee],q=void 0;q=!C.ignoreAttributes&&v.attrsMap&&v.attrsMap[H]?g(v.attrsMap[H],k[H],C):H===C.textNodeName?g(v.val,k[H],C):g(v.child[H],k[H],C),O=_(O,q)}}return O}return I},y=function(g){switch(g){case void 0:return m.missingPremitive;case null:return m.nilPremitive;case"":return m.emptyValue;default:return g}},_=function(g,v){return w(v[0])||w(g[g.length-1])||(g+=m.boundryChar),g+v},w=function(g){return h.indexOf(g)!==-1},M=f(15),$=f(7).buildOptions;u.convert2nimn=function(g,v,k){return k=$(k,M.defaultOptions,M.props),b(g,v,k)}},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(15),b=function y(_,w,M){for(var $,g="{",v=Object.keys(_.child),k=0;k<v.length;k++){var C=v[k];if(_.child[C]&&_.child[C].length>1){for(var S in g+='"'+C+'" : [ ',_.child[C])g+=y(_.child[C][S],w)+" , ";g=g.substr(0,g.length-1)+" ] "}else g+='"'+C+'" : '+y(_.child[C][0],w)+" ,"}return d.merge(g,_.attrsMap),d.isEmptyObject(g)?d.isExist(_.val)?_.val:"":(d.isExist(_.val)&&(typeof _.val!="string"||_.val!==""&&_.val!==w.cdataPositionChar)&&(g+='"'+w.textNodeName+'" : '+(($=_.val)!==!0&&$!==!1&&isNaN($)?'"'+$+'"':$)),g[g.length-1]===","&&(g=g.substr(0,g.length-2)),g+"}")};u.convertToJsonString=function(y,_){return(_=m(_,h.defaultOptions,h.props)).indentBy=_.indentBy||"",b(y,_)}},function(o,u,f){function d(I){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}var m=f(7).buildOptions,h={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(I){return I},attrValueProcessor:function(I){return I}},b=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function y(I){this.options=m(I,h,b),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=C),this.options.cdataTagName?this.isCDATA=S:this.isCDATA=function(){return!1},this.replaceCDATAstr=_,this.replaceCDATAarr=w,this.options.format?(this.indentate=k,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=v,this.buildObjNode=$):(this.buildTextNode=g,this.buildObjNode=M),this.buildTextValNode=g,this.buildObjectNode=M}function _(I,O){return I=this.options.tagValueProcessor(""+I),this.options.cdataPositionChar===""||I===""?I+"<![CDATA["+O+"]]"+this.tagEndChar:I.replace(this.options.cdataPositionChar,"<![CDATA["+O+"]]"+this.tagEndChar)}function w(I,O){if(I=this.options.tagValueProcessor(""+I),this.options.cdataPositionChar===""||I==="")return I+"<![CDATA["+O.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var x in O)I=I.replace(this.options.cdataPositionChar,"<![CDATA["+O[x]+"]]>");return I+this.newLine}function M(I,O,x,F){return x&&!I.includes("<")?this.indentate(F)+"<"+O+x+">"+I+"</"+O+this.tagEndChar:this.indentate(F)+"<"+O+x+this.tagEndChar+I+this.indentate(F)+"</"+O+this.tagEndChar}function $(I,O,x,F){return I!==""?this.buildObjectNode(I,O,x,F):this.indentate(F)+"<"+O+x+"/"+this.tagEndChar}function g(I,O,x,F){return this.indentate(F)+"<"+O+x+">"+this.options.tagValueProcessor(I)+"</"+O+this.tagEndChar}function v(I,O,x,F){return I!==""?this.buildTextValNode(I,O,x,F):this.indentate(F)+"<"+O+x+"/"+this.tagEndChar}function k(I){return this.options.indentBy.repeat(I)}function C(I){return!!I.startsWith(this.options.attributeNamePrefix)&&I.substr(this.attrPrefixLen)}function S(I){return I===this.options.cdataTagName}y.prototype.parse=function(I){return this.j2x(I,0).val},y.prototype.j2x=function(I,O){for(var x="",F="",R=Object.keys(I),L=R.length,D=0;D<L;D++){var J=R[D];if(I[J]!==void 0)if(I[J]===null)F+=this.indentate(O)+"<"+J+"/"+this.tagEndChar;else if(I[J]instanceof Date)F+=this.buildTextNode(I[J],J,"",O);else if(d(I[J])!=="object"){var K=this.isAttribute(J);K?x+=" "+K+'="'+this.options.attrValueProcessor(""+I[J])+'"':this.isCDATA(J)?I[this.options.textNodeName]?F+=this.replaceCDATAstr(I[this.options.textNodeName],I[J]):F+=this.replaceCDATAstr("",I[J]):J===this.options.textNodeName?I[this.options.cdataTagName]||(F+=this.options.tagValueProcessor(""+I[J])):F+=this.buildTextNode(I[J],J,"",O)}else if(Array.isArray(I[J]))if(this.isCDATA(J))F+=this.indentate(O),I[this.options.textNodeName]?F+=this.replaceCDATAarr(I[this.options.textNodeName],I[J]):F+=this.replaceCDATAarr("",I[J]);else for(var ee=I[J].length,H=0;H<ee;H++){var q=I[J][H];if(q!==void 0)if(q===null)F+=this.indentate(O)+"<"+J+"/"+this.tagEndChar;else if(d(q)==="object"){var X=this.j2x(q,O+1);F+=this.buildObjNode(X.val,J,X.attrStr,O)}else F+=this.buildTextNode(q,J,"",O)}else if(this.options.attrNodeName&&J===this.options.attrNodeName)for(var ie=Object.keys(I[J]),Q=ie.length,G=0;G<Q;G++)x+=" "+ie[G]+'="'+this.options.attrValueProcessor(""+I[J][ie[G]])+'"';else{var ne=this.j2x(I[J],O+1);F+=this.buildObjNode(ne.val,J,ne.attrStr,O)}}return{attrStr:x,val:F}},o.exports=y},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function b(M,$,g){this.fn=M,this.context=$,this.once=g||!1}function y(M,$,g,v,k){if(typeof g!="function")throw new TypeError("The listener must be a function");var C=new b(g,v||M,k),S=m?m+$:$;return M._events[S]?M._events[S].fn?M._events[S]=[M._events[S],C]:M._events[S].push(C):(M._events[S]=C,M._eventsCount++),M}function _(M,$){--M._eventsCount==0?M._events=new h:delete M._events[$]}function w(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),w.prototype.eventNames=function(){var M,$,g=[];if(this._eventsCount===0)return g;for($ in M=this._events)d.call(M,$)&&g.push(m?$.slice(1):$);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(M)):g},w.prototype.listeners=function(M){var $=m?m+M:M,g=this._events[$];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,k=g.length,C=new Array(k);v<k;v++)C[v]=g[v].fn;return C},w.prototype.listenerCount=function(M){var $=m?m+M:M,g=this._events[$];return g?g.fn?1:g.length:0},w.prototype.emit=function(M,$,g,v,k,C){var S=m?m+M:M;if(!this._events[S])return!1;var I,O,x=this._events[S],F=arguments.length;if(x.fn){switch(x.once&&this.removeListener(M,x.fn,void 0,!0),F){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,$),!0;case 3:return x.fn.call(x.context,$,g),!0;case 4:return x.fn.call(x.context,$,g,v),!0;case 5:return x.fn.call(x.context,$,g,v,k),!0;case 6:return x.fn.call(x.context,$,g,v,k,C),!0}for(O=1,I=new Array(F-1);O<F;O++)I[O-1]=arguments[O];x.fn.apply(x.context,I)}else{var R,L=x.length;for(O=0;O<L;O++)switch(x[O].once&&this.removeListener(M,x[O].fn,void 0,!0),F){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,$);break;case 3:x[O].fn.call(x[O].context,$,g);break;case 4:x[O].fn.call(x[O].context,$,g,v);break;default:if(!I)for(R=1,I=new Array(F-1);R<F;R++)I[R-1]=arguments[R];x[O].fn.apply(x[O].context,I)}}return!0},w.prototype.on=function(M,$,g){return y(this,M,$,g,!1)},w.prototype.once=function(M,$,g){return y(this,M,$,g,!0)},w.prototype.removeListener=function(M,$,g,v){var k=m?m+M:M;if(!this._events[k])return this;if(!$)return _(this,k),this;var C=this._events[k];if(C.fn)C.fn!==$||v&&!C.once||g&&C.context!==g||_(this,k);else{for(var S=0,I=[],O=C.length;S<O;S++)(C[S].fn!==$||v&&!C[S].once||g&&C[S].context!==g)&&I.push(C[S]);I.length?this._events[k]=I.length===1?I[0]:I:_(this,k)}return this},w.prototype.removeAllListeners=function(M){var $;return M?($=m?m+M:M,this._events[$]&&_(this,$)):(this._events=new h,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=m,w.EventEmitter=w,o.exports=w},function(o,u){o.exports=function(f){if(!f.webpackPolyfill){var d=Object.create(f);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(o,u,f){function d(U){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(U)}f.r(u),f.d(u,"Filestack",function(){return Nr}),f.d(u,"init",function(){return Ji}),f.d(u,"version",function(){return li}),f.d(u,"EAlignOptions",function(){return me}),f.d(u,"EAlignFacesOptions",function(){return ke}),f.d(u,"EFitOptions",function(){return He}),f.d(u,"EBlurMode",function(){return pt}),f.d(u,"EShapeType",function(){return kt}),f.d(u,"ENoiseType",function(){return zt}),f.d(u,"EStyleType",function(){return Lt}),f.d(u,"EColorspaceType",function(){return Nt}),f.d(u,"ECropfacesType",function(){return Zt}),f.d(u,"ESmartCropMode",function(){return an}),f.d(u,"EImageWatermarkPosition",function(){return Vn}),f.d(u,"EVideoTypes",function(){return ln}),f.d(u,"EUrlscreenshotAgent",function(){return pn}),f.d(u,"EUrlscreenshotMode",function(){return ht}),f.d(u,"EUrlscreenshotOrientation",function(){return Mt}),f.d(u,"EVideoLocations",function(){return jt}),f.d(u,"EVideoAccess",function(){return en}),f.d(u,"EVideoAccessMode",function(){return dn}),f.d(u,"transform",function(){return Tn}),f.d(u,"Align",function(){return nt}),f.d(u,"FitOptions",function(){return it}),f.d(u,"BlurMode",function(){return De}),f.d(u,"ShapeType",function(){return ct}),f.d(u,"NoiseType",function(){return Ae}),f.d(u,"StyleType",function(){return Xe}),f.d(u,"ColorspaceType",function(){return ot}),f.d(u,"CropfacesType",function(){return je}),f.d(u,"ImageWatermarkPosition",function(){return Je}),f.d(u,"SmartCropMode",function(){return Ge}),f.d(u,"VideoTypes",function(){return Ze}),f.d(u,"URLScreenshotAgent",function(){return rt}),f.d(u,"URLScreenshotMode",function(){return et}),f.d(u,"URLScreenshotOrientation",function(){return at}),f.d(u,"Locations",function(){return bt}),f.d(u,"VideoAccess",function(){return $t}),f.d(u,"VideoAccessMode",function(){return Ke}),f.d(u,"EnhancePreset",function(){return Et}),f.d(u,"Filelink",function(){return Bt}),f.d(u,"FilestackErrorType",function(){return ue}),f.d(u,"FsHttpMethod",function(){return qe.a}),f.d(u,"FsRequest",function(){return Ot}),f.d(u,"FsRequestErrorCode",function(){return Wn.b}),f.d(u,"FsRequestError",function(){return Wn.a}),f.d(u,"FsCancelToken",function(){return Fn}),f.d(u,"resolveCdnUrl",function(){return ve.resolveCdnUrl}),f.d(u,"resolveHost",function(){return ve.resolveHost}),f.d(u,"removeEmpty",function(){return ve.removeEmpty}),f.d(u,"uniqueTime",function(){return ve.uniqueTime}),f.d(u,"uniqueId",function(){return ve.uniqueId}),f.d(u,"extensionToMime",function(){return ve.extensionToMime}),f.d(u,"sanitizeName",function(){return ve.sanitizeName}),f.d(u,"filterObject",function(){return ve.filterObject}),f.d(u,"cleanUpCallbacks",function(){return ve.cleanUpCallbacks}),f.d(u,"md5",function(){return ve.md5}),f.d(u,"b64",function(){return ve.b64}),f.d(u,"getVersion",function(){return ve.getVersion}),f.d(u,"isMobile",function(){return ve.isMobile}),f.d(u,"isFacebook",function(){return ve.isFacebook}),f.d(u,"TransformSchema",function(){return _e}),f.d(u,"getSecurity",function(){return w}),f.d(u,"validateWebhookSignature",function(){return M}),f.d(u,"Client",function(){return mr}),f.d(u,"FilestackError",function(){return ye}),f.d(u,"PickerDisplayMode",function(){return dr}),f.d(u,"getMimetype",function(){return ve.getMimetype}),f.d(u,"PrefetchEvents",function(){return pr});var m,h=function(U){var z={};function V(Z){if(z[Z])return z[Z].exports;var ae=z[Z]={i:Z,l:!1,exports:{}};return U[Z].call(ae.exports,ae,ae.exports,V),ae.l=!0,ae.exports}return V.m=U,V.c=z,V.d=function(Z,ae,ce){V.o(Z,ae)||Object.defineProperty(Z,ae,{enumerable:!0,get:ce})},V.r=function(Z){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Z,"__esModule",{value:!0})},V.t=function(Z,ae){if(1&ae&&(Z=V(Z)),8&ae||4&ae&&d(Z)=="object"&&Z&&Z.__esModule)return Z;var ce=Object.create(null);if(V.r(ce),Object.defineProperty(ce,"default",{enumerable:!0,value:Z}),2&ae&&typeof Z!="string")for(var pe in Z)V.d(ce,pe,function(we){return Z[we]}.bind(null,pe));return ce},V.n=function(Z){var ae=Z&&Z.__esModule?function(){return Z.default}:function(){return Z};return V.d(ae,"a",ae),ae},V.o=function(Z,ae){return Object.prototype.hasOwnProperty.call(Z,ae)},V.p="",V(V.s=0)}([function(U,z,V){V.r(z),V.d(z,"loadModules",function(){return Re}),V.d(z,"loadModule",function(){return xe}),V.d(z,"registerModule",function(){return Ee}),V.d(z,"loadCss",function(){return tt}),V.d(z,"FILESTACK_MODULES",function(){return Z});var Z,ae={},ce=function(){var ze,ut=(ze=typeof window>"u"?ae:window).filestackInternals;return ut||(ut={modules:{}},ze.filestackInternals=ut),ut.modules||(ut.modules={}),ut}(),pe=ce&&ce.modules,we=function(ze,ut,_t){ze.detachEvent?ze.detachEvent("onreadystatechange",ut):ze.removeEventListener(_t,ut,!1)},Re=function(ze){return Promise.all(ze.map(function(ut){var _t=ut.id,qt=ut.url;return xe(_t,qt)})).then(function(ut){var _t={};return ut.forEach(function(qt,cn){var Xt=ze[cn];_t[Xt.id]=qt}),_t})},xe=function(ze,ut){if(typeof window>"u")return Promise.reject(new Error("Load module is working only on browser env"));if(!ze)throw new Error("Module id is required");var _t=pe[ze="fs-loader-"+ze];return _t||(pe[ze]={},_t=pe[ze]),_t.instance?Promise.resolve(_t.instance):_t.promise?_t.promise:_t.promise=new Promise(function(qt,cn){var Xt=function Nn(hn){if(hn.type==="load"||/^(complete|loaded)$/.test((hn.currentTarget||hn.srcElement).readyState)){var Dn=hn.currentTarget||hn.srcElement;we(Dn,Nn,"load"),we(Dn,cn,"error"),setTimeout(function(){return qt(pe[ze]?pe[ze].instance:void 0)},10)}},Ht=document.createElement("script");Ht.id=ze,!Ht.attachEvent||Ht.attachEvent.toString&&Ht.attachEvent.toString().indexOf("[native code")<0?(Ht.addEventListener("load",Xt,!1),Ht.addEventListener("onerror",cn,!1)):Ht.attachEvent("onreadystatechange",Xt),Ht.setAttribute("crossorigin","anonymous"),Ht.setAttribute("charset","utf-8"),Ht.setAttribute("async","true"),Ht.src=ut,document.body.appendChild(Ht)})},Ee=function(ze,ut,_t){if(typeof window<"u"){if(!ze)throw new Error("Module id is required");if(!pe)throw new Error("Loader is not initialized");pe[ze="fs-loader-"+ze]&&(pe[ze]={instance:ut,metadata:_t})}},tt=function(ze){return document.querySelector('link[href="'.concat(ze,'"]'))!==null?Promise.resolve():new Promise(function(ut){var _t=document.getElementsByTagName("head")[0],qt=document.createElement("link");qt.rel="stylesheet",qt.href=ze,qt.addEventListener("load",function cn(){ut(),qt.removeEventListener("load",cn)}),_t.appendChild(qt)})};(function(ze){ze.FILESTACK_SDK="filestack-sdk",ze.TRANSFORMS_UI="transforms-ui",ze.PICKER="picker"})(Z||(Z={}))}]),b=(h.loadModules,h.loadModule),y=h.registerModule,_=(h.loadCss,h.FILESTACK_MODULES),w=function(U,z){throw new Error("getSecurity is only supported in nodejs")},M=function(U,z,V){throw new Error("validateWebhookSignature is only supported in nodejs")},$=f(0),g=f(8);(function(U){U.Ok="ok",U.Exited="exited",U.Crashed="crashed",U.Abnormal="abnormal"})(m||(m={}));var v=f(9),k=f(54),C=Object(v.b)(),S="Sentry Logger ",I=function(){function U(){this._enabled=!1}return U.prototype.disable=function(){this._enabled=!1},U.prototype.enable=function(){this._enabled=!0},U.prototype.log=function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];this._enabled&&Object(v.a)(function(){C.console.log(S+"[Log]: "+z.join(" "))})},U.prototype.warn=function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];this._enabled&&Object(v.a)(function(){C.console.warn(S+"[Warn]: "+z.join(" "))})},U.prototype.error=function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];this._enabled&&Object(v.a)(function(){C.console.error(S+"[Error]: "+z.join(" "))})},U}();C.__SENTRY__=C.__SENTRY__||{};var O,x=C.__SENTRY__.logger||(C.__SENTRY__.logger=new I),F=f(13),R=f(4);(function(U){U.PENDING="PENDING",U.RESOLVED="RESOLVED",U.REJECTED="REJECTED"})(O||(O={}));var L=function(){function U(z){var V=this;this._state=O.PENDING,this._handlers=[],this._resolve=function(Z){V._setResult(O.RESOLVED,Z)},this._reject=function(Z){V._setResult(O.REJECTED,Z)},this._setResult=function(Z,ae){V._state===O.PENDING&&(Object(R.j)(ae)?ae.then(V._resolve,V._reject):(V._state=Z,V._value=ae,V._executeHandlers()))},this._attachHandler=function(Z){V._handlers=V._handlers.concat(Z),V._executeHandlers()},this._executeHandlers=function(){if(V._state!==O.PENDING){var Z=V._handlers.slice();V._handlers=[],Z.forEach(function(ae){ae.done||(V._state===O.RESOLVED&&ae.onfulfilled&&ae.onfulfilled(V._value),V._state===O.REJECTED&&ae.onrejected&&ae.onrejected(V._value),ae.done=!0)})}};try{z(this._resolve,this._reject)}catch(Z){this._reject(Z)}}return U.resolve=function(z){return new U(function(V){V(z)})},U.reject=function(z){return new U(function(V,Z){Z(z)})},U.all=function(z){return new U(function(V,Z){if(Array.isArray(z))if(z.length!==0){var ae=z.length,ce=[];z.forEach(function(pe,we){U.resolve(pe).then(function(Re){ce[we]=Re,(ae-=1)===0&&V(ce)}).then(null,Z)})}else V([]);else Z(new TypeError("Promise.all requires an array as input."))})},U.prototype.then=function(z,V){var Z=this;return new U(function(ae,ce){Z._attachHandler({done:!1,onfulfilled:function(pe){if(z)try{return void ae(z(pe))}catch(we){return void ce(we)}else ae(pe)},onrejected:function(pe){if(V)try{return void ae(V(pe))}catch(we){return void ce(we)}else ce(pe)}})})},U.prototype.catch=function(z){return this.then(function(V){return V},z)},U.prototype.finally=function(z){var V=this;return new U(function(Z,ae){var ce,pe;return V.then(function(we){pe=!1,ce=we,z&&z()},function(we){pe=!0,ce=we,z&&z()}).then(function(){pe?ae(ce):Z(ce)})})},U.prototype.toString=function(){return"[object SyncPromise]"},U}(),D=function(){function U(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return U.clone=function(z){var V=new U;return z&&(V._breadcrumbs=Object($.e)(z._breadcrumbs),V._tags=Object($.a)({},z._tags),V._extra=Object($.a)({},z._extra),V._contexts=Object($.a)({},z._contexts),V._user=z._user,V._level=z._level,V._span=z._span,V._session=z._session,V._transactionName=z._transactionName,V._fingerprint=z._fingerprint,V._eventProcessors=Object($.e)(z._eventProcessors)),V},U.prototype.addScopeListener=function(z){this._scopeListeners.push(z)},U.prototype.addEventProcessor=function(z){return this._eventProcessors.push(z),this},U.prototype.setUser=function(z){return this._user=z||{},this._session&&this._session.update({user:z}),this._notifyScopeListeners(),this},U.prototype.getUser=function(){return this._user},U.prototype.setTags=function(z){return this._tags=Object($.a)(Object($.a)({},this._tags),z),this._notifyScopeListeners(),this},U.prototype.setTag=function(z,V){var Z;return this._tags=Object($.a)(Object($.a)({},this._tags),((Z={})[z]=V,Z)),this._notifyScopeListeners(),this},U.prototype.setExtras=function(z){return this._extra=Object($.a)(Object($.a)({},this._extra),z),this._notifyScopeListeners(),this},U.prototype.setExtra=function(z,V){var Z;return this._extra=Object($.a)(Object($.a)({},this._extra),((Z={})[z]=V,Z)),this._notifyScopeListeners(),this},U.prototype.setFingerprint=function(z){return this._fingerprint=z,this._notifyScopeListeners(),this},U.prototype.setLevel=function(z){return this._level=z,this._notifyScopeListeners(),this},U.prototype.setTransactionName=function(z){return this._transactionName=z,this._notifyScopeListeners(),this},U.prototype.setTransaction=function(z){return this.setTransactionName(z)},U.prototype.setContext=function(z,V){var Z;return V===null?delete this._contexts[z]:this._contexts=Object($.a)(Object($.a)({},this._contexts),((Z={})[z]=V,Z)),this._notifyScopeListeners(),this},U.prototype.setSpan=function(z){return this._span=z,this._notifyScopeListeners(),this},U.prototype.getSpan=function(){return this._span},U.prototype.getTransaction=function(){var z,V,Z,ae,ce=this.getSpan();return!((z=ce)===null||z===void 0)&&z.transaction?(V=ce)===null||V===void 0?void 0:V.transaction:!((ae=(Z=ce)===null||Z===void 0?void 0:Z.spanRecorder)===null||ae===void 0)&&ae.spans[0]?ce.spanRecorder.spans[0]:void 0},U.prototype.setSession=function(z){return z?this._session=z:delete this._session,this._notifyScopeListeners(),this},U.prototype.getSession=function(){return this._session},U.prototype.update=function(z){if(!z)return this;if(typeof z=="function"){var V=z(this);return V instanceof U?V:this}return z instanceof U?(this._tags=Object($.a)(Object($.a)({},this._tags),z._tags),this._extra=Object($.a)(Object($.a)({},this._extra),z._extra),this._contexts=Object($.a)(Object($.a)({},this._contexts),z._contexts),z._user&&Object.keys(z._user).length&&(this._user=z._user),z._level&&(this._level=z._level),z._fingerprint&&(this._fingerprint=z._fingerprint)):Object(R.e)(z)&&(z=z,this._tags=Object($.a)(Object($.a)({},this._tags),z.tags),this._extra=Object($.a)(Object($.a)({},this._extra),z.extra),this._contexts=Object($.a)(Object($.a)({},this._contexts),z.contexts),z.user&&(this._user=z.user),z.level&&(this._level=z.level),z.fingerprint&&(this._fingerprint=z.fingerprint)),this},U.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},U.prototype.addBreadcrumb=function(z,V){var Z=Object($.a)({timestamp:Object(k.a)()},z);return this._breadcrumbs=V!==void 0&&V>=0?Object($.e)(this._breadcrumbs,[Z]).slice(-V):Object($.e)(this._breadcrumbs,[Z]),this._notifyScopeListeners(),this},U.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},U.prototype.applyToEvent=function(z,V){var Z;if(this._extra&&Object.keys(this._extra).length&&(z.extra=Object($.a)(Object($.a)({},this._extra),z.extra)),this._tags&&Object.keys(this._tags).length&&(z.tags=Object($.a)(Object($.a)({},this._tags),z.tags)),this._user&&Object.keys(this._user).length&&(z.user=Object($.a)(Object($.a)({},this._user),z.user)),this._contexts&&Object.keys(this._contexts).length&&(z.contexts=Object($.a)(Object($.a)({},this._contexts),z.contexts)),this._level&&(z.level=this._level),this._transactionName&&(z.transaction=this._transactionName),this._span){z.contexts=Object($.a)({trace:this._span.getTraceContext()},z.contexts);var ae=(Z=this._span.transaction)===null||Z===void 0?void 0:Z.name;ae&&(z.tags=Object($.a)({transaction:ae},z.tags))}return this._applyFingerprint(z),z.breadcrumbs=Object($.e)(z.breadcrumbs||[],this._breadcrumbs),z.breadcrumbs=z.breadcrumbs.length>0?z.breadcrumbs:void 0,this._notifyEventProcessors(Object($.e)(J(),this._eventProcessors),z,V)},U.prototype._notifyEventProcessors=function(z,V,Z,ae){var ce=this;return ae===void 0&&(ae=0),new L(function(pe,we){var Re=z[ae];if(V===null||typeof Re!="function")pe(V);else{var xe=Re(Object($.a)({},V),Z);Object(R.j)(xe)?xe.then(function(Ee){return ce._notifyEventProcessors(z,Ee,Z,ae+1).then(pe)}).then(null,we):ce._notifyEventProcessors(z,xe,Z,ae+1).then(pe).then(null,we)}})},U.prototype._notifyScopeListeners=function(){var z=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(V){V(z)}),this._notifyingListeners=!1)},U.prototype._applyFingerprint=function(z){z.fingerprint=z.fingerprint?Array.isArray(z.fingerprint)?z.fingerprint:[z.fingerprint]:[],this._fingerprint&&(z.fingerprint=z.fingerprint.concat(this._fingerprint)),z.fingerprint&&!z.fingerprint.length&&delete z.fingerprint},U}();function J(){var U=Object(v.b)();return U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.globalEventProcessors=U.__SENTRY__.globalEventProcessors||[],U.__SENTRY__.globalEventProcessors}var K=f(55),ee=function(){function U(z){this.errors=0,this.sid=Object(v.c)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=m.Ok,this.init=!0,z&&this.update(z)}return U.prototype.update=function(z){z===void 0&&(z={}),z.user&&(z.user.ip_address&&(this.ipAddress=z.user.ip_address),z.did||(this.did=z.user.id||z.user.email||z.user.username)),this.timestamp=z.timestamp||Date.now(),z.sid&&(this.sid=z.sid.length===32?z.sid:Object(v.c)()),z.init!==void 0&&(this.init=z.init),z.did&&(this.did=""+z.did),typeof z.started=="number"&&(this.started=z.started),typeof z.duration=="number"?this.duration=z.duration:this.duration=this.timestamp-this.started,z.release&&(this.release=z.release),z.environment&&(this.environment=z.environment),z.ipAddress&&(this.ipAddress=z.ipAddress),z.userAgent&&(this.userAgent=z.userAgent),typeof z.errors=="number"&&(this.errors=z.errors),z.status&&(this.status=z.status)},U.prototype.close=function(z){z?this.update({status:z}):this.status===m.Ok?this.update({status:m.Exited}):this.update()},U.prototype.toJSON=function(){return Object(K.a)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Object(K.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},U}(),H=function(){function U(z,V,Z){V===void 0&&(V=new D),Z===void 0&&(Z=3),this._version=Z,this._stack=[{}],this.getStackTop().scope=V,this.bindClient(z)}return U.prototype.isOlderThan=function(z){return this._version<z},U.prototype.bindClient=function(z){this.getStackTop().client=z,z&&z.setupIntegrations&&z.setupIntegrations()},U.prototype.pushScope=function(){var z=D.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:z}),z},U.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},U.prototype.withScope=function(z){var V=this.pushScope();try{z(V)}finally{this.popScope()}},U.prototype.getClient=function(){return this.getStackTop().client},U.prototype.getScope=function(){return this.getStackTop().scope},U.prototype.getStack=function(){return this._stack},U.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},U.prototype.captureException=function(z,V){var Z=this._lastEventId=Object(v.c)(),ae=V;if(!V){var ce=void 0;try{throw new Error("Sentry syntheticException")}catch(pe){ce=pe}ae={originalException:z,syntheticException:ce}}return this._invokeClient("captureException",z,Object($.a)(Object($.a)({},ae),{event_id:Z})),Z},U.prototype.captureMessage=function(z,V,Z){var ae=this._lastEventId=Object(v.c)(),ce=Z;if(!Z){var pe=void 0;try{throw new Error(z)}catch(we){pe=we}ce={originalException:z,syntheticException:pe}}return this._invokeClient("captureMessage",z,V,Object($.a)(Object($.a)({},ce),{event_id:ae})),ae},U.prototype.captureEvent=function(z,V){var Z=this._lastEventId=Object(v.c)();return this._invokeClient("captureEvent",z,Object($.a)(Object($.a)({},V),{event_id:Z})),Z},U.prototype.lastEventId=function(){return this._lastEventId},U.prototype.addBreadcrumb=function(z,V){var Z=this.getStackTop(),ae=Z.scope,ce=Z.client;if(ae&&ce){var pe=ce.getOptions&&ce.getOptions()||{},we=pe.beforeBreadcrumb,Re=we===void 0?null:we,xe=pe.maxBreadcrumbs,Ee=xe===void 0?100:xe;if(!(Ee<=0)){var tt=Object(k.a)(),ze=Object($.a)({timestamp:tt},z),ut=Re?Object(v.a)(function(){return Re(ze,V)}):ze;ut!==null&&ae.addBreadcrumb(ut,Math.min(Ee,100))}}},U.prototype.setUser=function(z){var V=this.getScope();V&&V.setUser(z)},U.prototype.setTags=function(z){var V=this.getScope();V&&V.setTags(z)},U.prototype.setExtras=function(z){var V=this.getScope();V&&V.setExtras(z)},U.prototype.setTag=function(z,V){var Z=this.getScope();Z&&Z.setTag(z,V)},U.prototype.setExtra=function(z,V){var Z=this.getScope();Z&&Z.setExtra(z,V)},U.prototype.setContext=function(z,V){var Z=this.getScope();Z&&Z.setContext(z,V)},U.prototype.configureScope=function(z){var V=this.getStackTop(),Z=V.scope,ae=V.client;Z&&ae&&z(Z)},U.prototype.run=function(z){var V=X(this);try{z(this)}finally{X(V)}},U.prototype.getIntegration=function(z){var V=this.getClient();if(!V)return null;try{return V.getIntegration(z)}catch{return x.warn("Cannot retrieve integration "+z.id+" from the current Hub"),null}},U.prototype.startSpan=function(z){return this._callExtensionMethod("startSpan",z)},U.prototype.startTransaction=function(z,V){return this._callExtensionMethod("startTransaction",z,V)},U.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},U.prototype.captureSession=function(z){if(z===void 0&&(z=!1),z)return this.endSession();this._sendSessionUpdate()},U.prototype.endSession=function(){var z,V,Z,ae,ce;(Z=(V=(z=this.getStackTop())===null||z===void 0?void 0:z.scope)===null||V===void 0?void 0:V.getSession())===null||Z===void 0||Z.close(),this._sendSessionUpdate(),(ce=(ae=this.getStackTop())===null||ae===void 0?void 0:ae.scope)===null||ce===void 0||ce.setSession()},U.prototype.startSession=function(z){var V=this.getStackTop(),Z=V.scope,ae=V.client,ce=ae&&ae.getOptions()||{},pe=ce.release,we=ce.environment,Re=new ee(Object($.a)(Object($.a)({release:pe,environment:we},Z&&{user:Z.getUser()}),z));if(Z){var xe=Z.getSession&&Z.getSession();xe&&xe.status===m.Ok&&xe.update({status:m.Exited}),this.endSession(),Z.setSession(Re)}return Re},U.prototype._sendSessionUpdate=function(){var z=this.getStackTop(),V=z.scope,Z=z.client;if(V){var ae=V.getSession&&V.getSession();ae&&Z&&Z.captureSession&&Z.captureSession(ae)}},U.prototype._invokeClient=function(z){for(var V,Z=[],ae=1;ae<arguments.length;ae++)Z[ae-1]=arguments[ae];var ce=this.getStackTop(),pe=ce.scope,we=ce.client;we&&we[z]&&(V=we)[z].apply(V,Object($.e)(Z,[pe]))},U.prototype._callExtensionMethod=function(z){for(var V=[],Z=1;Z<arguments.length;Z++)V[Z-1]=arguments[Z];var ae=q(),ce=ae.__SENTRY__;if(ce&&ce.extensions&&typeof ce.extensions[z]=="function")return ce.extensions[z].apply(this,V);x.warn("Extension method "+z+" couldn't be found, doing nothing.")},U}();function q(){var U=Object(v.b)();return U.__SENTRY__=U.__SENTRY__||{extensions:{},hub:void 0},U}function X(U){var z=q(),V=G(z);return ne(z,U),V}function ie(){var U=q();return Q(U)&&!G(U).isOlderThan(3)||ne(U,new H),Object(F.b)()?function(z){var V,Z,ae;try{var ce=(ae=(Z=(V=q().__SENTRY__)===null||V===void 0?void 0:V.extensions)===null||Z===void 0?void 0:Z.domain)===null||ae===void 0?void 0:ae.active;if(!ce)return G(z);if(!Q(ce)||G(ce).isOlderThan(3)){var pe=G(z).getStackTop();ne(ce,new H(pe.client,D.clone(pe.scope)))}return G(ce)}catch{return G(z)}}(U):G(U)}function Q(U){return!!(U&&U.__SENTRY__&&U.__SENTRY__.hub)}function G(U){return U&&U.__SENTRY__&&U.__SENTRY__.hub||(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=new H),U.__SENTRY__.hub}function ne(U,z){return!!U&&(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=z,!0)}function re(U){for(var z=[],V=1;V<arguments.length;V++)z[V-1]=arguments[V];var Z=ie();if(Z&&Z[U])return Z[U].apply(Z,Object($.e)(z));throw new Error("No hub defined or "+U+" was not found on the hub, please open a bug report.")}function Y(U,z){var V;try{throw new Error("Sentry syntheticException")}catch(Z){V=Z}return re("captureException",U,{captureContext:z,originalException:U,syntheticException:V})}function le(U){re("withScope",U)}var ue,ge={urls:{processUrl:"https://process.filestackapi.com",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/1.23.0/picker.js"}};(function(U){U.VALIDATION="validation",U.REQUEST="request",U.ABORTED="aborted",U.OTHER="other"})(ue||(ue={}));var ye=function(U){function z(V,Z,ae){var ce=U.call(this,V)||this;return Object.setPrototypeOf(ce,z.prototype),ce.details=Z,ce.type=ae,ce}return Object($.c)(z,U),z}(Error),_e={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,properties:{flip:{type:"boolean",additionalProperties:!1},auto_image:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enhance:{default:!0,oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["auto","vivid","beautify","beautify_plus","fix_dark","fix_noise","fix_tint","outdoor","fireworks"]}}}]},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},smart_crop:{width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",default:"auto",enum:["face","auto"]}},animate:{type:"object",properties:{delay:{type:"integer",minimum:0,maximum:1e4,default:1e3},loop:{type:"integer",minimum:0,maximum:1e3,default:0},width:{type:"integer",minimum:1,maximum:1800},height:{type:"integer",minimum:1,maximum:1800},fit:{type:"string",default:"clip",enum:["clip","scale","crop"]},background:{$ref:"colorDef",default:"transparent"},align:{$ref:"positionDef",default:"center"}}},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",enum:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"colorDef",default:"snow"},background:{$ref:"colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"colorDef"},background:{$ref:"colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"colorDef"},background:{$ref:"colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},ascii:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"colorDef",default:"000000FF"},background:{$ref:"colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"colorDef"},pageformat:{type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:4096},height:{type:"integer",minimum:1,maximum:4096},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]},pdfinfo:{oneOf:[{type:"boolean"},{type:"object",properties:{colorinfo:{type:"boolean"}}}]},pdfconvert:{type:"object",additionalProperties:!1,properties:{pageorientation:{type:"string",enum:["portrait","landscape"]},pageformat:{$ref:"pageFormatDef"},pages:{$ref:"pageRangeDef"}},anyOf:[{required:["pageorientation"]},{required:["pageformat"]},{required:["pages"]}]},fallback:{type:"object",additionalProperties:!1,properties:{handle:{type:"string"},cache:{type:"integer",minimum:1,maximum:31536e3}},required:["handle"]},zip:{type:"string"},minify_css:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},level:{type:"number",enum:[1,2]}}},minify_js:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},use_babel_polyfill:{type:"boolean"},keep_fn_name:{type:"boolean"},keep_class_name:{type:"boolean"},mangle:{type:"boolean"},merge_vars:{type:"boolean"},remove_console:{type:"boolean"},remove_undefined:{type:"boolean"},targets:{type:"string"}}}}},Ce=f(18),be={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack",description:"Filestack common definitions",type:"object",additionalProperties:!1,definitions:{workflowsDef:{id:"/workflowsDef",type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}]},securityCallDef:{id:"/securityCallDef",oneOf:[{additionalProperties:!1,type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},{type:"array",additionalProperties:!1,items:[{minItems:1,maxItems:10,type:"string",additionalProperties:!1,enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]}]}]},regionsDef:{id:"/regionsDef",type:"string"},locationsDef:{id:"/locationsDef",type:"string",enum:["s3","S3","rackspace","gcs","azure","dropbox"]},colorDef:{id:"colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent"]}]},pageFormatDef:{id:"/pageFormatDef",type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageRangeDef:{id:"/pageRangeDef",type:"array",uniqueItems:!0,items:[{oneOf:[{type:"integer",minimum:1},{type:"string",pattern:"^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$",errorMessage:'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" '}]}]},facesDef:{id:"/facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{id:"/objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{id:"/positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right","faces"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,maxItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}}},Ne=new Ce.Validator;Ce.Validator.prototype.customFormats.callback=function(U){return typeof U=="function"},Ce.Validator.prototype.customFormats.HTMLContainer=function(U){return typeof U=="string"||U.toString&&U.toString().indexOf("HTML")>-1};var fe=function(U){return function(z){return Ne.addSchema(be),Ne.validate(z,U)}},ve=f(1),Le=f(3),Ie=f.n(Le);function We(U){return(We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(U)}var nt,it,De,ct,Ae,Xe,ot,je,Je,Ge,Ze,rt,et,at,bt,$t,Ke,Et,dt=Ie()("fs:filelink");(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces",U.middle="middle"})(nt||(nt={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(it||(it={})),function(U){U.linear="linear",U.gaussian="gaussian"}(De||(De={})),function(U){U.oval="oval",U.rect="rect"}(ct||(ct={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(Ae||(Ae={})),function(U){U.artwork="artwork",U.photo="photo"}(Xe||(Xe={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(ot||(ot={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(je||(je={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(Je||(Je={})),function(U){U.face="face",U.auto="auto"}(Ge||(Ge={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(Ze||(Ze={})),function(U){U.desktop="desktop",U.mobile="mobile"}(rt||(rt={})),function(U){U.all="all",U.window="window"}(et||(et={})),function(U){U.portrait="portrait",U.landscape="landscape"}(at||(at={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(bt||(bt={})),function(U){U.private="private",U.public="public"}($t||($t={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(Ke||(Ke={})),function(U){U.auto="auto",U.vivid="vivid",U.beautify="beautify",U.beautifyPlus="beautify_plus",U.fixDark="fix_dark",U.fixNoise="fix_noise",U.fixTint="fix_tint",U.outdor="outdoor",U.fireworks="fireworks"}(Et||(Et={}));var xt=/^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/,Bt=function(){function U(z,V){this.transforms=[],this.b64=!1,this.useValidator=!0,this.arrayToObject=function(Z,ae,ce){return Z===void 0&&(Z=[]),Z.reduce(function(pe,we){return pe[we[ae]]=we[ce],pe},{})},this.apikey=V,this.setSource(z)}return U.prototype.setBase64=function(z){return this.b64=z,this},U.prototype.setUseValidator=function(z){return this.useValidator=z,this},U.prototype.setCname=function(z){return this.cname=z,this},U.prototype.setCustomDomain=function(z){return this.customDomain=z,this},U.prototype.setSource=function(z){this.source=z;var V=this.isSourceExternal();if(dt("Source "+z+" - isExternal? "+V),V&&!this.apikey)throw new ye("External sources requires apikey to handle transforms");if(!V&&typeof this.source=="string"&&!xt.test(this.source)&&this.source.indexOf("filestackcontent")===-1)throw new ye("Invalid filestack source provided")},U.prototype.getValidationSchema=function(){return _e},U.prototype.getTransformations=function(){return this.useValidator&&this.validateTasks(this.transforms),this.transforms},U.prototype.toString=function(){var z=[];z.push(this.getCdnHost()),this.useValidator&&this.validateTasks(this.transforms),this.apikey&&z.push(this.apikey);var V=this.generateTransformString(),Z=this.source;return this.b64?(this.transforms.length>0&&(V="b64/"+Object(ve.b64)(JSON.stringify(this.transforms),!0)),Array.isArray(Z)&&(Z=this.arrayToString(Z)),Z="b64://"+Object(ve.b64)(Z,!0)):Z=Array.isArray(Z)?this.arrayToString(Z):this.escapeValue(Z),V.length&&z.push(V),z.push(Z),z.join("/")},U.prototype.addTask=function(z,V){if(Ie()("Add task  "+z+" with params %O",V),z!=="cache"&&typeof V=="boolean"){if(!V)return this;V=void 0}else We(V)!=="object"||Object.keys(V).length||(V=void 0);return this.transforms.push({name:z,params:V}),this},U.prototype.getTasks=function(){return this.transforms},U.prototype.reset=function(){return this.transforms=[],this},U.prototype.autoImage=function(){return this.addTask("auto_image",!0)},U.prototype.flip=function(){return this.addTask("flip",!0)},U.prototype.flop=function(){return this.addTask("flop",!0)},U.prototype.imagesize=function(){return this.addTask("imagesize",!0)},U.prototype.noMetadata=function(){return this.addTask("no_metadata",!0)},U.prototype.pjpg=function(z){return this.addTask("pjpg",z)},U.prototype.smartCrop=function(z){return this.addTask("smart_crop",z)},U.prototype.watermark=function(z){return this.addTask("watermark",z)},U.prototype.enhance=function(z){return this.addTask("enhance",z||!0)},U.prototype.redeye=function(){return this.addTask("redeye",!0)},U.prototype.monochrome=function(){return this.addTask("monochrome",!0)},U.prototype.compress=function(z){return this.addTask("compress",z||!0)},U.prototype.negative=function(){return this.addTask("negative",!0)},U.prototype.tags=function(){return this.addTask("tags",!0)},U.prototype.sfw=function(){return this.addTask("sfw",!0)},U.prototype.animate=function(z){return this.addTask("animate",z)},U.prototype.store=function(z){return this.addTask("store",z)},U.prototype.cache=function(z){return this.addTask("cache",z)},U.prototype.resize=function(z){return this.addTask("resize",z)},U.prototype.crop=function(z){return this.addTask("crop",z)},U.prototype.rotate=function(z){return this.addTask("rotate",z)},U.prototype.detectFaces=function(z){return this.addTask("detect_faces",z)},U.prototype.cropFaces=function(z){return this.addTask("crop_faces",z)},U.prototype.pixelateFaces=function(z){return this.addTask("pixelate_faces",z)},U.prototype.blurFaces=function(z){return this.addTask("blur_faces",z)},U.prototype.roundedCorners=function(z){return this.addTask("rounded_corners",z)},U.prototype.polaroid=function(z){return this.addTask("polaroid",z)},U.prototype.vignette=function(z){return this.addTask("vignette",z)},U.prototype.tornEdges=function(z){return this.addTask("torn_edges",z)},U.prototype.shadow=function(z){return this.addTask("shadow",z)},U.prototype.circle=function(z){return this.addTask("circle",z)},U.prototype.border=function(z){return this.addTask("border",z)},U.prototype.sharpen=function(z){return this.addTask("sharpen",z)},U.prototype.blur=function(z){return this.addTask("blur",z)},U.prototype.blackwhite=function(z){return this.addTask("blackwhite",z)},U.prototype.sepia=function(z){return this.addTask("sepia",z)},U.prototype.pixelate=function(z){return this.addTask("pixelate",z)},U.prototype.oilPaint=function(z){return this.addTask("oil_paint",z)},U.prototype.modulate=function(z){return this.addTask("modulate",z)},U.prototype.partialPixelate=function(z){return this.addTask("partial_pixelate",z)},U.prototype.partialBlur=function(z){return this.addTask("partial_blur",z)},U.prototype.collage=function(z){return this.addTask("collage",z)},U.prototype.upscale=function(z){return this.addTask("upscale",z)},U.prototype.ascii=function(z){return this.addTask("ascii",z)},U.prototype.quality=function(z){return this.addTask("quality",z)},U.prototype.security=function(z){return this.addTask("security",z)},U.prototype.output=function(z){return this.addTask("output",z)},U.prototype.videoConvert=function(z){return this.addTask("video_convert",z)},U.prototype.URLScreenshot=function(z){return this.addTask("urlscreenshot",z)},U.prototype.PDFInfo=function(z){return this.addTask("pdfinfo",z)},U.prototype.PDFConvert=function(z){return this.addTask("pdfconvert",z)},U.prototype.fallback=function(z){return this.addTask("fallback",z)},U.prototype.zip=function(){return this.addTask("zip",!0)},U.prototype.minifyCss=function(z){return this.addTask("minify_css",z)},U.prototype.minifyJs=function(z){return this.addTask("minify_js",z)},U.prototype.isSourceExternal=function(){if(!this.source)throw new ye("Source not Set");var z=Array.isArray(this.source)?this.source:[this.source];for(var V in z)if(z.hasOwnProperty(V)&&(z[V].indexOf("src:")===0||z[V].indexOf("http")===0&&z[V].indexOf("filestackcontent")===-1))return!0;return!1},U.prototype.validateTasks=function(z){var V=U.validator(this.arrayToObject(z,"name","params"));if(V.errors.length)throw new ye("Params validation error",V.errors,ue.VALIDATION)},U.prototype.getCdnHost=function(){var z=Object.assign({},ge.urls);return this.customDomain&&(z.cdnUrl=this.customDomain),(z=Object(ve.resolveHost)(z,this.cname)).cdnUrl},U.prototype.generateTransformString=function(){var z=this,V=[];return this.transforms.forEach(function(Z){V.push(z.optionToString(Z.name,Z.params))}),V.join("/")},U.prototype.optionToString=function(z,V){var Z=this,ae=[];return V===void 0?z:typeof V=="boolean"?V||z!=="cache"?z:"cache=false":(Object.keys(V).forEach(function(ce){Array.isArray(V[ce])?ae.push(ce+":"+Z.arrayToString(V[ce])):ae.push(ce+":"+Z.escapeValue(V[ce]))}),z+"="+ae.join(","))},U.prototype.escapeValue=function(z){return typeof z!="string"?z:z.indexOf("/")>-1||z.indexOf(",")>-1?'"'+z+'"':z},U.prototype.arrayToString=function(z){var V=this;return"["+z.map(function(Z){return Array.isArray(Z)?V.arrayToString(Z):V.escapeValue(Z)})+"]"},U.validator=fe(_e),U}(),Ft={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Store",description:"Filestack Store Options",type:"object",additionalProperties:!1,properties:{filename:{oneOf:[{type:"string"},{format:"callback"}]},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"},disableStorageKey:{type:"boolean"},tags:{type:"object",additionalProperties:{type:"string"}},sanitizer:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{exclude:{type:"array",items:[{type:"string"}]},replacement:{type:"string"}}}]}}},Ct={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Preview",description:"Filestack Preview Options",type:"object",additionalProperties:!1,properties:{id:{type:"string"},css:{type:"string"}}},Vt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Upload",description:"Filestack Upload Options",type:"object",additionalProperties:!1,properties:{partSize:{type:"integer",minimum:5242880},concurrency:{type:"integer",minimum:1,maximum:20},progressInterval:{type:"integer",minimum:1},retry:{type:"integer",minimum:0,maximum:20},retryFactor:{type:"integer"},retryMaxTime:{type:"integer"},timeout:{type:"integer",minimum:1,maximum:36e5},intelligent:{oneOf:[{type:"boolean"},{type:"string",enum:["fallback"]}]},intelligentChunkSize:{type:"integer"},onProgress:{format:"callback"},onRetry:{format:"callback"},disableIntegrityCheck:{type:"boolean"},tags:{type:"object",maxItems:10,additionalProperties:{type:"string",maxlength:256}}}},Ut={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Picker",description:"Filestack Picker Options",type:"object",additionalProperties:!1,properties:{allowManualRetry:{type:"boolean"},accept:{additionalProperties:!1,oneOf:[{type:"string"},{type:"array",minItems:1,items:[{type:"string"}]}]},acceptFn:{format:"callback"},fromSources:{type:"array",items:[{type:["string","object"],additionalProperties:!1,enum:["local_file_system","url","imagesearch","facebook","instagram","googledrive","unsplash","dropbox","webcam","video","audio","box","github","gmail","googlephotos","onedrive","onedriveforbusiness","clouddrive","googlephotos","customsource","tint"]}]},container:{format:"HTMLContainer"},cleanupImageExif:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{keepOrientation:{type:"boolean"},keepICCandAPP:{type:"boolean"}}}]},displayMode:{type:"string",enum:["inline","overlay","dropPane"]},concurrency:{type:"integer",minimum:1,maximum:20},supportEmail:{type:"string"},customSourceContainer:{type:"string"},customSourcePath:{type:"string"},customSourceName:{type:"string"},disableStorageKey:{type:"boolean"},disableTransformer:{type:"boolean"},disableThumbnails:{type:"boolean"},exposeOriginalFile:{type:"boolean"},globalDropZone:{type:"boolean"},hideModalWhenUploading:{type:"boolean"},imageDim:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMax:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMin:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMinMaxBlock:{type:"boolean",default:!1},lang:{type:"string",enum:["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"]},minFiles:{type:"integer",minimum:1,maximum:1e6},maxFiles:{type:"integer",minimum:1,maximum:1e6},maxSize:{type:"integer",minimum:1},modalSize:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1,maximum:1e6}]},rootId:{type:"string"},startUploadingWhenMaxFilesReached:{type:"boolean"},uploadInBackground:{type:"boolean"},videoResolution:{type:"string"},onCancel:{format:"callback"},onClose:{format:"callback"},onOpen:{format:"callback"},onFileSelected:{format:"callback"},onFileUploadCancel:{format:"callback"},onFileUploadStarted:{format:"callback"},onFileUploadFinished:{format:"callback"},onFileUploadFailed:{format:"callback"},onFileUploadProgress:{format:"callback"},onUploadStarted:{format:"callback"},onUploadDone:{format:"callback"},onFileCropped:{format:"callback"},storeTo:{additionalProperties:!1,type:"object",properties:{filename:{type:"string"},location:{$ref:"locationsDef"},container:{type:"string"},path:{type:"string"},region:{type:"string"},access:{type:"string",enum:["public","private"]},workflows:{$ref:"workflowsDef"}}},viewType:{type:"string",enum:["grid","list"]},transformations:{type:"object",additionalProperties:!1,properties:{circle:{type:"boolean"},rotate:{type:"boolean"},force:{type:"boolean"},crop:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{force:{type:"boolean"},aspectRatio:{type:"number"}}}]}}},customText:{type:"object",patternProperties:{".*":{type:"string"}}},cropFiles:{type:"array",minItems:1},loadCss:{type:"string"},failOverMaxFiles:{type:"boolean"},dropPane:{type:"object",properties:{cropFiles:{type:"array",minItems:1},customText:{type:"string"},disableClick:{type:"boolean"},overlay:{type:"boolean"},showIcon:{type:"boolean"},showProgress:{type:"boolean"},onDragEnter:{format:"callback"},onProgress:{format:"callback"},onDragLeave:{format:"callback"},onDragOver:{format:"callback"},onDrop:{format:"callback"},onSuccess:{format:"callback"},onError:{format:"callback"},onClick:{format:"callback"}}},errorsTimeout:{type:"number",minimum:0},customAuthText:{type:"object",patternProperties:{".*":{additionalProperties:!1,type:"object",required:["top","bottom"],properties:{top:{type:"string"},bottom:{type:"string"}}}}},uploadConfig:{type:"object",additionalProperties:!1,properties:Object($.a)(Object($.a)({},Vt.properties),{tags:{type:"object",additionalProperties:{anyOf:[{type:"string"},{format:"callback"}]}}})},useSentryBreadcrumbs:{type:"boolean"},pasteMode:{type:"object",additionalProperties:!1,properties:{pasteToFirstInViewPort:{type:"boolean"},pasteToFirstInstance:{type:"boolean"}}}}},fn={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Metadata",description:"Filestack Metadata Options",type:"object",additionalProperties:!1,properties:{size:{type:"boolean"},mimetype:{type:"boolean"},filename:{type:"boolean"},width:{type:"boolean"},metadata:{type:"boolean"},height:{type:"boolean"},uploaded:{type:"boolean"},writeable:{type:"boolean"},cloud:{type:"boolean"},sourceUrl:{type:"boolean"},md5:{type:"boolean"},sha1:{type:"boolean"},sha224:{type:"boolean"},sha256:{type:"boolean"},sha384:{type:"boolean"},sha512:{type:"boolean"},location:{type:"boolean"},path:{type:"boolean"},container:{type:"boolean"},exif:{type:"boolean"}}},Ye={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Retrieve",description:"Filestack Retrieve Options",type:"object",additionalProperties:!1,properties:{metadata:{type:"boolean"},head:{type:"boolean"},dl:{type:"boolean"},cache:{type:"boolean"},extension:{type:"string"}}},qe=f(6),gt=f(16),yt=Ie()("fs:request:dispatch"),Tt=function(){function U(z){this.adapter=z}return U.prototype.request=function(z){var V=this;return z.headers=z.headers||{},yt("Dispatching request %O",z),this.adapter.request(z).catch(function(Z){return yt('Request error "%s": %O',Z,Z.response),V.retry(Z)})},U.prototype.retry=function(z){var V=this,Z=z.config;if(!Object(gt.a)(z))return yt("[Retry] Request error is not retriable. Exiting"),Promise.reject(z);if(!Z.retry)return yt("[Retry] Retry config not found. Exiting"),Promise.reject(z);var ae=Z.retry,ce=Z.runtime&&Z.runtime.retryCount?Z.runtime.retryCount:0;if(ae.retry&&ae.retry<=ce)return yt("[Retry] Retry attempts reached %d. Exiting",ce),Promise.reject(z);var pe=Math.max(Math.min(ae.retryMaxTime,1e3*Math.pow(ae.retryFactor,ce)),1);return Z.runtime=Object($.a)(Object($.a)({},Z.runtime),{retryCount:ce+1}),yt("[Retry] Retrying request to "+Z.url+", count "+ce+" of "+ae.retry+" - Delay: "+pe),new Promise(function(we){setTimeout(function(){return we(V.request(Z))},pe)})},U}(),kn=f(43).XhrAdapter,Ot=function(){function U(z){this.defaults=z,this.dispatcher=new Tt(new kn)}return U.getInstance=function(){return U.instance||(U.instance=new U),U.instance},U.prototype.dispatch=function(z){return z.method||(z.method=qe.a.GET),this.dispatcher.request(Object.assign({},this.defaults,z))},U.dispatch=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{url:z}))},U.get=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:qe.a.GET,url:z}))},U.head=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:qe.a.HEAD,url:z}))},U.options=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:qe.a.OPTIONS,url:z}))},U.purge=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:qe.a.PURGE,url:z}))},U.delete=function(z,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:qe.a.DELETE,url:z}))},U.post=function(z,V,Z){return U.getInstance().dispatch(Object.assign({},Z||{},{method:qe.a.POST,url:z,data:V}))},U.put=function(z,V,Z){return U.getInstance().dispatch(Object.assign({},Z||{},{method:qe.a.PUT,url:z,data:V}))},U.path=function(z,V,Z){return U.getInstance().dispatch(Object.assign({},Z||{},{method:qe.a.PATH,url:z,data:V}))},U}(),Wn=f(2),Fn=function(U){function z(){return U!==null&&U.apply(this,arguments)||this}return Object($.c)(z,U),z.prototype.cancel=function(V){this.emit("cancel",V),this.removeAllListeners()},z}(g.EventEmitter),nn=function(U,z,V,Z){if(!z||typeof z!="string")throw new ye("A valid Filestack handle is required for remove");if(!(U.policy&&U.signature||Z&&Z.policy&&Z.signature))throw new ye("Security policy and signature are required for remove");var ae=U.urls.fileApiUrl+"/"+z,ce={key:U.apikey,policy:Z&&Z.policy||U.policy,signature:Z&&Z.signature||U.signature};return V&&(ce.skip_storage=!0),Ot.delete(ae,{filestackHeaders:!1,params:Object(ve.removeEmpty)(ce)})};function rn(U){return(rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(U)}var me,ke,He,pt,kt,zt,Lt,Nt,Zt,an,Vn,ln,pn,ht,Mt,jt,en,dn;(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top"})(me||(me={})),function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces"}(ke||(ke={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(He||(He={})),function(U){U.linear="linear",U.gaussian="gaussian"}(pt||(pt={})),function(U){U.oval="oval",U.rect="rect"}(kt||(kt={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(zt||(zt={})),function(U){U.artwork="artwork",U.photo="photo"}(Lt||(Lt={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(Nt||(Nt={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(Zt||(Zt={})),function(U){U.fit="fit",U.auto="auto"}(an||(an={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(Vn||(Vn={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(ln||(ln={})),function(U){U.desktop="desktop",U.mobile="mobile"}(pn||(pn={})),function(U){U.all="all",U.window="window"}(ht||(ht={})),function(U){U.portrait="portrait",U.landscape="landscape"}(Mt||(Mt={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(jt||(jt={})),function(U){U.private="private",U.public="public"}(en||(en={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(dn||(dn={}));var Tn=function(U,z,V,Z){V===void 0&&(V={}),Z===void 0&&(Z=!1),V=function ce(pe){for(var we={},Re=Object.keys(pe),xe=0;xe<Re.length;xe++){var Ee=Re[xe].split(/(?=[A-Z])/).join("_").toLowerCase();rn(pe[Re[xe]])!=="object"||Array.isArray(pe[Re[xe]])?we[Ee]=pe[Re[xe]]:we[Ee]=ce(pe[Re[xe]])}return we}(V),U.policy&&U.signature&&(V.security={policy:U.policy,signature:U.signature});var ae=new Bt(z,U.apikey);return ae.setCname(U.cname),ae.setBase64(Z),Object.keys(V).forEach(function(ce){(typeof V[ce]!="boolean"||V[ce]||ce==="cache")&&ae.addTask(ce,V[ce])}),ae.toString()};function St(U){return(St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(U)}var Rt,mn=function(){function U(z,V){this._file=z,this._sanitizeOptions=V,this._file.name=Object(ve.sanitizeName)(this._file.name,this._sanitizeOptions)}return Object.defineProperty(U.prototype,"name",{get:function(){return this._file.name},set:function(z){this._file.name=Object(ve.sanitizeName)(z,this._sanitizeOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"filename",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"customName",{set:function(z){switch(St(z)){case"string":this.name=z;break;case"function":if(typeof z(this)!="string")throw new Error("Name function must return a string. Current return type is "+St(z));this.name=z(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"type",{get:function(){return this._file.type||"application/octet-stream"},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"mimetype",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"size",{get:function(){return this._file.size},enumerable:!0,configurable:!0}),U.prototype.getPartsCount=function(z){return Math.ceil(this._file.size/z)},U.prototype.getPartMetadata=function(z,V){var Z=V*z;if(Z>this._file.size)throw new Error("Start byte of the part is higher than buffer size");var ae=Math.min(Z+V,this._file.size);return{partNumber:z,startByte:Z,endByte:ae,size:ae-Z}},U.prototype.getPartByMetadata=function(z,V){return V===void 0&&(V=!0),Object($.b)(this,void 0,void 0,function(){var Z;return Object($.d)(this,function(ae){switch(ae.label){case 0:return[4,this._file.slice(z.startByte,z.endByte)];case 1:return Z=ae.sent(),[2,Promise.resolve(Object($.a)(Object($.a)({},z),{buffer:Z,md5:V?Object(ve.md5)(Z):void 0}))]}})})},U.prototype.getChunkByMetadata=function(z,V,Z,ae){return ae===void 0&&(ae=!0),Object($.b)(this,void 0,void 0,function(){var ce,pe,we;return Object($.d)(this,function(Re){switch(Re.label){case 0:return ce=z.startByte+V,pe=Math.min(ce+Z,z.endByte),[4,this._file.slice(ce,pe)];case 1:return we=Re.sent(),[2,Promise.resolve(Object($.a)(Object($.a)({},z),{buffer:we,md5:ae?Object(ve.md5)(we):void 0,size:we.byteLength,startByte:ce,endByte:pe,offset:V}))]}})})},U.prototype.release=function(){this._file.release&&this._file.release()},U.prototype.toJSON=function(){return{name:this.name,status:this.status,type:this.type,size:this.size,url:this.url,handle:this.handle,uploadTags:this.uploadTags}},U}(),jn=f(17),Wi=f.n(jn),Tr=/data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i,Pr=function(U,z,V){return new Promise(function(Z,ae){var ce=new FileReader,pe=V.slice(U,z);ce.onload=function(){return Z(ce.result)},ce.onerror=ae,ce.readAsArrayBuffer(pe)})},Gn=function(U,z){var V,Z;if(function(ae){return ae&&ae.file&&ae.name}(U)&&(V=U.name,U=U.file),function(ae){return ae instanceof File}(U))Z=U,V=U.name;else if(function(ae){if(typeof ae!="string")return!1;ae.indexOf("base64")>-1&&(ae=ae.match(Tr).pop());try{return btoa(atob(ae))===ae}catch{return!1}}(U))Z=function(ae,ce){ce===void 0&&(ce=512);var pe="";if(ae.indexOf("base64")>-1){var we=ae.match(Tr);ae=we.pop(),pe=we[1]}for(var Re=atob(ae),xe=[],Ee=0;Ee<Re.length;Ee+=ce){for(var tt=Re.slice(Ee,Ee+ce),ze=new Array(tt.length),ut=0;ut<tt.length;ut+=1)ze[ut]=tt.charCodeAt(ut);xe.push(new Uint8Array(ze))}return new Blob(xe,{type:pe})}(U);else{if(!function(ae){return ae.toString()==="[object Blob]"}(U))return Promise.reject(new ye("Unsupported input file type"));Z=U}return function(ae){return Object($.b)(void 0,void 0,void 0,function(){return Object($.d)(this,function(ce){return File&&FileReader&&Blob?[2,Promise.resolve({slice:function(pe,we){return Pr(pe,we,ae)},release:function(){ae=null}})]:[2,Promise.reject(new ye("The File APIs are not fully supported by your browser"))]})})}(Z).then(function(ae){return Object($.b)(void 0,void 0,void 0,function(){var ce,pe;return Object($.d)(this,function(we){switch(we.label){case 0:return ce=Z.type,Z.type&&Z.type.length!==0&&Z.type!=="text/plain"?[3,2]:(pe=ve.getMimetype,[4,ae.slice(0,Wi.a.minimumBytes)]);case 1:ce=pe.apply(void 0,[we.sent(),V]),we.label=2;case 2:return[2,new mn({name:V,size:Z.size,type:ce,slice:ae.slice,release:ae.release},z)]}})})})},Ar=f(29),Vi=f.n(Ar),cr=f(11),$n=Ie()("fs:upload:abstract"),oi=function(U){function z(V,Z){Z===void 0&&(Z=3);var ae=U.call(this)||this;return ae.storeOptions=V,ae.concurrency=Z,ae.partSize=6291456,ae.intelligentChunkSize=Object(ve.isMobile)()?1048576:8388608,ae.timeout=3e4,ae.uploadMode="default",ae.isModeLocked=!1,ae.integrityCheck=!0,ae.uploadTags=null,ae}return Object($.c)(z,U),z.prototype.setSecurity=function(V){$n("Set security %O",V),this.security=V},z.prototype.setApikey=function(V){$n("Set apikey to "+V),this.apikey=V},z.prototype.setTimeout=function(V){$n("Set request timeout to "+V),this.timeout=V},z.prototype.setRetryConfig=function(V){$n("Set retry config to "+V),this.retryConfig=V},z.prototype.setUrl=function(V){$n("Set upload url to "+V),this.url=V},z.prototype.setUploadTags=function(V){$n("Set tags to %O",V),this.uploadTags=V},z.prototype.setIntegrityCheck=function(V){this.integrityCheck=V},z.prototype.setUploadMode=function(V,Z){Z===void 0&&(Z=!1),this.isModeLocked!==!0?(this.isModeLocked=Z,$n("Set upload mode to "+V),this.uploadMode=V):$n("Cannot switch mode to "+V+". Locked! Probably mode is not supported at this apikey")},z.prototype.setPartSize=function(V){if(this.uploadMode==="default"){if($n("Set part size to "+V),V<5242880)throw new ye("Minimum part size is 5MB");this.partSize=V}else $n("Cannot set part size because upload mode is other than default. ")},z.prototype.getPartSize=function(){return this.partSize},z.prototype.setIntelligentChunkSize=function(V){if($n("Set inteligent chunk size to "+V),V<32768)throw new ye("Minimum intelligent chunk size is 32768");this.intelligentChunkSize=V},z.prototype.getIntelligentChunkSize=function(){return this.intelligentChunkSize},z.prototype.getUrl=function(){if(!this.url)throw new ye("Upload url not set");return this.url},z}(g),Pt=Ie()("fs:upload:s3"),xr=function(U){function z(V,Z){var ae=U.call(this,V,Z)||this;return ae.payloads={},ae.partsQueue=new Vi.a({autoStart:!1,concurrency:ae.concurrency}),ae.cancelToken=new Fn,ae}return Object($.c)(z,U),z.prototype.pause=function(){this.partsQueue.pause()},z.prototype.resume=function(){this.partsQueue.isPaused&&this.partsQueue.start()},z.prototype.abort=function(V){this.partsQueue.pause(),this.partsQueue.clear(),this.cancelToken.cancel(V||"Aborted by user")},z.prototype.execute=function(){return Object($.b)(this,void 0,void 0,function(){var V,Z=this;return Object($.d)(this,function(ae){return V=Object.keys(this.payloads).map(function(ce){return new Promise(function(pe){return Object($.b)(Z,void 0,void 0,function(){var we,Re;return Object($.d)(this,function(xe){switch(xe.label){case 0:return xe.trys.push([0,5,,6]),[4,this.startRequest(ce)];case 1:return xe.sent(),[4,this.prepareParts(ce)];case 2:return xe.sent(),[4,this.startPartsQueue(ce)];case 3:return xe.sent(),[4,this.completeRequest(ce)];case 4:return xe.sent(),[3,6];case 5:return we=xe.sent(),this.emit("error",we),Pt("["+ce+`] File upload failed. %O, 
Details: %O `,we.message,we.details),[3,6];case 6:return(Re=this.getPayloadById(ce).file).release(),delete this.payloads[ce],pe(Re),[2]}})})})}),[2,Promise.all(V)]})})},z.prototype.addFile=function(V){Pt(`Add file to queue: 
 %o`,V);var Z=Object(ve.uniqueId)(15)+"_"+Object(ve.uniqueTime)();return V.status="Initialized",this.payloads[Z]={file:V,parts:[]},Z},z.prototype.getUploadUrl=function(V){var Z=this.getDefaultFields(V,["location_url"]).location_url;return Z.indexOf("http")===0?Z:"https://"+Z},z.prototype.getStoreOptions=function(V){var Z=Object($.a)({location:"s3"},this.storeOptions);if(this.storeOptions.disableStorageKey){var ae=this.getPayloadById(V);Z.path&&Z.path.substr(-1)!=="/"&&(Z.path=Z.path+"/"),Z.path=""+(Z.path?Z.path:"/")+ae.file.name,delete Z.disableStorageKey}return Z},z.prototype.getDefaultFields=function(V,Z,ae){ae===void 0&&(ae=!1);var ce=this.getPayloadById(V),pe=Object($.a)(Object($.a)({},this.security),{apikey:this.apikey,uri:ce.uri,location_url:ce.location_url,upload_id:ce.upload_id,region:ce.region});return(this.uploadMode==="intelligent"||this.uploadMode==="fallback"&&ae)&&(pe.fii=!0),Object($.a)(Object($.a)({},Object(ve.filterObject)(pe,Z)),{store:this.getStoreOptions(V)})},z.prototype.getDefaultHeaders=function(V){var Z={},ae=this.getPayloadById(V);return ae.location_region&&(Z["Filestack-Upload-Region"]=ae.location_region),Z},z.prototype.getPayloadById=function(V){return this.payloads[V]},z.prototype.prepareParts=function(V){var Z=this.getPayloadById(V).file;["intelligent","fallback"].indexOf(this.uploadMode)>-1&&(this.partSize=8388608);for(var ae=Z.getPartsCount(this.partSize),ce=[],pe=0;pe<ae;pe++)ce[pe]=Object($.a)(Object($.a)({},Z.getPartMetadata(pe,this.partSize)),{offset:0});return this.payloads[V].parts=ce,Promise.resolve()},z.prototype.startRequest=function(V){var Z=this,ae=this.getPayloadById(V);return ae.file.size===0?(this.setPayloadStatus(V,"Failed"),Promise.reject(new ye('Invalid file "'+ae.file.name+'" size - 0',{},ue.VALIDATION))):(Pt("["+V+"] Make start request"),Ot.post(this.getUrl()+"/multipart/start",Object($.a)({filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size},this.getDefaultFields(V,["apikey","policy","signature","fii"],!0)),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(ce){var pe=ce.data;return pe&&pe.location_url&&pe.region&&pe.upload_id&&pe.uri?(Pt("["+V+`] Assign payload data: 
%O
`,pe),Z.updatePayload(V,pe),["intelligent","fallback"].indexOf(Z.uploadMode)>-1&&(!pe.upload_type||pe.upload_type!=="intelligent_ingestion")&&(Pt("["+V+"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change"),Z.setUploadMode("default",!0)),pe):(Pt("["+V+`] Incorrect start response: 
%O
`,pe),Z.setPayloadStatus(V,"Failed"),Promise.reject(new ye("Incorrect start response",pe,ue.REQUEST)))}).catch(function(ce){return Pt("["+V+"] Start request error %O",ce),Z.setPayloadStatus(V,"Failed"),Z.rejectUpload("Cannot upload file. Start request failed",ce)}))},z.prototype.startPartsQueue=function(V){return Object($.b)(this,void 0,void 0,function(){var Z,ae,ce,pe=this;return Object($.d)(this,function(we){return Z=this.getPayloadById(V),ae=Z.parts,ce=ae.length,Pt("["+V+"] Create uploading queue from file. parts count - %d",ce),[2,new Promise(function(Re,xe){return Object($.b)(pe,void 0,void 0,function(){var Ee,tt=this;return Object($.d)(this,function(ze){switch(ze.label){case 0:return ae.forEach(function(ut){return tt.partsQueue.add(function(){return tt.startPart(V,ut.partNumber)}).catch(function(_t){return tt.setPayloadStatus(V,"Failed"),Pt("["+V+"] Failed to upload part %s",_t.message),tt.partsQueue.pause(),tt.partsQueue.clear(),xe(_t)})}),Pt("["+V+"] All tasks for %s enqueued. Start processing main upload queue",V),this.emit("start"),this.partsQueue.start(),Ee=Re,[4,this.partsQueue.onIdle()];case 1:return Ee.apply(void 0,[ze.sent()]),[2]}})})})]})})},z.prototype.startPart=function(V,Z){return Pt("["+V+"] Start processing part "+Z+" with mode "+this.uploadMode),this.getPayloadById(V).file.status="Progress",(this.uploadMode!=="intelligent"?this.uploadRegular:this.uploadIntelligent).apply(this,[V,Z])},z.prototype.getS3PartMetadata=function(V,Z,ae){var ce=this,pe=this.getUploadUrl(V);Pt("["+V+"] Get data for part "+Z.partNumber+", url "+pe+", Md5: "+Z.md5+", Size: "+Z.size);var we=Object($.a)(Object($.a)({},this.getDefaultFields(V,["apikey","uri","region","signature","policy","upload_id","fii"])),{part:Z.partNumber+1,size:Z.size,offset:ae});return this.integrityCheck&&Z.md5&&(we.md5=Z.md5),Ot.post(pe+"/multipart/upload",we,{headers:this.getDefaultHeaders(V),cancelToken:this.cancelToken,timeout:this.timeout,retry:this.retryConfig}).catch(function(Re){return ce.setPayloadStatus(V,"Failed"),ce.rejectUpload("Cannot get part metadata",Re)})},z.prototype.uploadRegular=function(V,Z){return Object($.b)(this,void 0,void 0,function(){var ae,ce,pe,we,Re,xe,Ee=this;return Object($.d)(this,function(tt){switch(tt.label){case 0:return ae=this.getPayloadById(V),ce=ae.parts[Z],[4,ae.file.getPartByMetadata(ce,this.integrityCheck)];case 1:return pe=tt.sent(),[4,this.getS3PartMetadata(V,pe)];case 2:return we=tt.sent(),Re=we.data,xe=we.headers,Pt("["+V+"] Received part "+Z+` info body: 
%O
 headers: 
%O
`,Re,xe),[2,Ot.put(Re.url,pe.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:Re.headers,filestackHeaders:!1,onProgress:function(ze){return Ee.onProgressUpdate(V,Z,ze.loaded)},retry:this.retryConfig&&this.uploadMode!=="fallback"?this.retryConfig:void 0}).then(function(ze){if(!ze.headers.etag)throw pe=null,new ye("Cannot upload file, check S3 bucket settings","Etag header is not exposed in CORS settings",ue.REQUEST);return Ee.setPartETag(V,Z,ze.headers.etag),Pt("["+V+"] S3 Upload response headers for "+Z+`: 
%O
`,ze.headers),Ee.onProgressUpdate(V,Z,pe.size),pe=null,ze}).catch(function(ze){var ut=ze&&ze.response?ze.response:null;if(ut&&ut.status===403&&ut.data&&ut.data.Error&&ut.data.Error.code){var _t=ut.data.Error.code;switch(Array.isArray(_t)&&(_t=_t.pop()),_t){case"RequestTimeTooSkewed":return Ee.startPart(V,Z);default:return Promise.reject(new ye("Cannot upload file",ut.data.Error,ue.REQUEST))}}return pe=null,ze instanceof ye?Promise.reject(ze):(Ee.onProgressUpdate(V,Z,0),Ee.uploadMode==="fallback"&&!Ee.isModeLocked||Ee.uploadMode==="intelligent"?(Pt("["+V+"] Regular upload failed. Switching to intelligent ingestion mode"),Ee.setUploadMode("intelligent"),Ee.startPart(V,Z)):Ee.rejectUpload("Cannot upload file part",ze))})]}})})},z.prototype.uploadIntelligent=function(V,Z){return Object($.b)(this,void 0,void 0,function(){var ae=this;return Object($.d)(this,function(ce){return[2,this.uploadNextChunk(V,Z).then(function(){return ae.commitPart(V,Z)})]})})},z.prototype.uploadNextChunk=function(V,Z,ae){return ae===void 0&&(ae=this.intelligentChunkSize),Object($.b)(this,void 0,void 0,function(){var ce,pe,we,Re,xe=this;return Object($.d)(this,function(Ee){switch(Ee.label){case 0:return ce=this.getPayloadById(V),pe=ce.parts[Z],ae=Math.min(ae,pe.size-pe.offset),[4,ce.file.getChunkByMetadata(pe,pe.offset,ae,this.integrityCheck)];case 1:return we=Ee.sent(),Pt("["+V+"] PartNum: "+Z+", PartSize: "+pe.size+", StartByte: "+pe.startByte+", Offset: "+pe.offset+", ChunkSize: "+we.size+`,
       Left: `+(pe.size-pe.offset-we.size)),[4,this.getS3PartMetadata(V,we,pe.offset).catch(function(tt){return Pt("["+V+"] Getting chunk data for ii failed %O, Chunk size: "+ae+", offset "+pe.offset+", part "+Z,tt),Promise.reject(tt)})];case 2:return Re=Ee.sent().data,[2,Ot.put(Re.url,we.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:Re.headers,filestackHeaders:!1,onProgress:function(tt){return pe?xe.onProgressUpdate(V,Z,pe.offset+tt.loaded):null}}).then(function(tt){xe.onProgressUpdate(V,Z,pe.offset+we.size);var ze=Math.min(pe.offset+ae,pe.size);return Pt("["+V+"] S3 Chunk uploaded! offset: "+pe.offset+", part "+Z+"! response headers for "+Z+`: 
%O
`,tt.headers),xe.setPartData(V,Z,"offset",ze),ze===pe.size?Promise.resolve(tt):(pe=null,we=null,xe.uploadNextChunk(V,Z,ae))}).catch(function(tt){var ze=tt&&tt.response?tt.response:null;if(ze&&ze.status===403&&ze.data&&ze.data.Error&&ze.data.Error.code){var ut=ze.data.Error.code;switch(Array.isArray(ut)&&(ut=ut.pop()),ut){case"RequestTimeTooSkewed":return xe.startPart(V,Z);default:return Promise.reject(new ye("Cannot upload file",ze.data.Error,ue.REQUEST))}}xe.onProgressUpdate(V,Z,pe.offset);var _t=Math.ceil(ae/2);return _t<32768?(Pt("["+V+"] Minimal chunk size limit. Upload file failed!"),Promise.reject(new ye("Min chunk size reached",tt.data,ue.REQUEST))):Object(cr.e)(tt)?(Pt("["+V+"] Request network error. Retry with new chunk size: "+_t),xe.uploadNextChunk(V,Z,_t)):(pe=null,we=null,xe.rejectUpload("Cannot upload file part (FII)",tt))})]}})})},z.prototype.commitPart=function(V,Z){var ae=this,ce=this.getPayloadById(V),pe=ce.parts[Z];return Ot.post(this.getUploadUrl(V)+"/multipart/commit",Object($.a)(Object($.a)({},this.getDefaultFields(V,["apikey","region","upload_id","policy","signature","uri"])),{size:ce.file.size,part:pe.partNumber+1}),{cancelToken:this.cancelToken,timeout:this.timeout,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(we){return Pt("["+V+"] Commit Part number "+pe.partNumber+". Response: %O",we.data),we}).catch(function(we){return ae.rejectUpload("Cannot commit file part metadata",we)})},z.prototype.completeRequest=function(V){var Z=this,ae=this.getPayloadById(V),ce=[];Pt("["+V+"] Run complete request");for(var pe=ae.parts,we=pe.length,Re=0;Re<we;Re++)pe[Re].etag&&ce.push({part_number:Re+1,etag:pe[Re].etag});return Pt("["+V+"] Etags %O",ce),Ot.post(this.getUploadUrl(V)+"/multipart/complete",Object($.a)(Object($.a)({},this.getDefaultFields(V,["apikey","policy","signature","uri","region","upload_id","fii"],!0)),{filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size,upload_tags:this.uploadTags&&Object.keys(this.uploadTags).length?this.uploadTags:void 0,parts:ce.length?ce:void 0}),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(xe){if(xe.status===202)return new Promise(function(tt,ze){setTimeout(function(){return Z.completeRequest(V).then(tt).catch(ze)},1e3)});var Ee=Z.getPayloadById(V).file;return Ee.handle=xe.data.handle,Ee.url=xe.data.url,Ee.container=xe.data.container,Ee.key=xe.data.key,Ee.uploadTags=xe.data.upload_tags,Ee.workflows=xe.data.workflows,Ee.status=xe.data.status,Ee}).catch(function(xe){return Z.setPayloadStatus(V,"Failed"),Z.rejectUpload("Cannot complete file",xe)})},z.prototype.onProgressUpdate=function(V,Z,ae){this.setPartData(V,Z,"progress",ae),this.emitProgress()},z.prototype.emitProgress=function(){var V=0,Z=0,ae={};for(var ce in this.payloads){var pe=this.payloads[ce];if(pe.file.status!=="Failed"){var we=pe.parts.map(function(xe){return xe.progress||0}).reduce(function(xe,Ee){return xe+Ee},0);Z+=we,ae[ce]={totalBytes:we,totalPercent:Math.round(100*we/pe.file.size)||0},V+=pe.file.size}}var Re={totalBytes:Z||0,totalPercent:Math.round(100*Z/V)||0,files:ae};Pt("Upload progress %O",Re),this.emit("progress",Re)},z.prototype.updatePayload=function(V,Z){this.payloads[V]=Object($.a)(Object($.a)({},this.payloads[V]),Z)},z.prototype.setPartETag=function(V,Z,ae){Pt("["+V+"] Set "+ae+" etag for part "+Z),this.getPayloadById(V).parts[Z].etag=ae},z.prototype.setPartData=function(V,Z,ae,ce){Pt("["+V+"] Set "+ae+" = "+ce+" for part "+Z);var pe=this.getPayloadById(V);pe?pe.parts[Z][ae]=ce:Pt("["+V+"] Cannot set "+ae+" = "+ce+" for part "+Z)},z.prototype.setPayloadStatus=function(V,Z){Pt("["+V+"] Set payload status to "+Z),this.payloads[V]&&(this.payloads[V].file.status=Z)},z.prototype.parseError=function(V){return V.response?{code:V.response.status,data:V.response.data,headers:V.response.headers}:{}},z.prototype.rejectUpload=function(V,Z){return Z instanceof Wn.a&&Z.code===Wn.b.ABORTED?Promise.reject(new ye(V,{reason:Z.message},ue.ABORTED)):Promise.reject(new ye(V,this.parseError(Z),ue.REQUEST))},z}(oi),fr=function(U,z){return U.totalBytes=Math.max(U.totalBytes,z.totalBytes),U.totalPercent=Math.max(U.totalPercent,z.totalPercent),U},qn=function(U){function z(V,Z){V===void 0&&(V={}),Z===void 0&&(Z={});var ae=U.call(this)||this;ae.options=V,ae.storeOptions=Z,ae.lastProgress={totalBytes:0,totalPercent:0},ae.storeOptions=Object.assign({},Z);var ce=fe(Vt)(V);if(ce.errors.length)throw new ye("Invalid upload params",ce.errors,ue.VALIDATION);var pe=fe(Ft)(Z);if(pe.errors.length)throw new ye("Invalid store upload params",pe.errors,ue.VALIDATION);return Z.filename&&(ae.overrideFileName=Z.filename,delete ae.storeOptions.filename),ae.storeOptions.sanitizer&&(ae.sanitizerOptions=ae.storeOptions.sanitizer,delete ae.storeOptions.sanitizer),ae.uploader=new xr(ae.storeOptions,V.concurrency),ae.uploader.setRetryConfig({retry:V.retry||10,onRetry:V.onRetry,retryFactor:V.retryFactor||2,retryMaxTime:V.retryMaxTime||15e3}),ae.uploader.setTimeout(V.timeout||12e4),V.partSize&&ae.uploader.setPartSize(V.partSize),V.intelligentChunkSize&&ae.uploader.setIntelligentChunkSize(V.intelligentChunkSize),V.disableIntegrityCheck&&ae.uploader.setIntegrityCheck(!1),V.intelligent&&ae.uploader.setUploadMode(V.intelligent==="fallback"?"fallback":"intelligent"),ae.uploader.setUploadTags(V.tags),ae.uploader.on("start",function(){return ae.emit("start")}),ae.uploader.on("error",function(we){return ae.emit("error",we)}),ae.uploader.on("progress",ae.handleProgress.bind(ae)),ae}return Object($.c)(z,U),z.prototype.setSession=function(V){this.uploader.setApikey(V.apikey),V.policy&&V.signature&&this.uploader.setSecurity({policy:V.policy,signature:V.signature}),this.uploader.setUrl(V.urls.uploadApiUrl)},z.prototype.setToken=function(V){var Z=this;if(!V||V!==Object(V))throw new Error("Incorrect upload token. Must be instance of object");return V.pause=function(){return Z.uploader.pause()},V.resume=function(){return Z.uploader.resume()},V.cancel=function(){return Z.uploader.abort()},V},z.prototype.setSecurity=function(V){this.uploader.setSecurity(V)},z.prototype.setUploadTags=function(V){this.uploader.setUploadTags(V)},z.prototype.upload=function(V){return Object($.b)(this,void 0,void 0,function(){var Z,ae;return Object($.d)(this,function(ce){switch(ce.label){case 0:return[4,Gn(V,this.sanitizerOptions)];case 1:return(Z=ce.sent()).customName=this.overrideFileName,this.uploader.addFile(Z),this.startProgressInterval(),[4,this.uploader.execute()];case 2:return ae=ce.sent().shift(),this.stopProgressInterval(),this.uploader.removeAllListeners(),ae.status==="Failed"?[2,Promise.reject(ae)]:[2,Promise.resolve(ae)]}})})},z.prototype.multiupload=function(V){return Object($.b)(this,void 0,void 0,function(){var Z,ae,ce,pe,we,Re;return Object($.d)(this,function(xe){switch(xe.label){case 0:for(ae in Z=[],V)Z.push(ae);ce=0,xe.label=1;case 1:return ce<Z.length?(pe=Z[ce],V.hasOwnProperty(pe)?[4,Gn(V[pe],this.sanitizerOptions)]:[3,3]):[3,4];case 2:(we=xe.sent()).customName=this.overrideFileName,this.uploader.addFile(we),xe.label=3;case 3:return ce++,[3,1];case 4:return this.startProgressInterval(),[4,this.uploader.execute()];case 5:return Re=xe.sent(),this.stopProgressInterval(),this.uploader.removeAllListeners(),[2,Promise.resolve(Re)]}})})},z.prototype.startProgressInterval=function(){var V=this;typeof this.options.onProgress=="function"&&(this.progressIntervalHandler=setInterval(function(){V.options.onProgress(V.lastProgress)},this.options.progressInterval||1e3),this.options.onProgress(this.lastProgress))},z.prototype.stopProgressInterval=function(){clearInterval(this.progressIntervalHandler)},z.prototype.handleProgress=function(V){if(V=fr(V,this.lastProgress),this.lastProgress.files)for(var Z in V.files)this.lastProgress.files[Z]&&(V.files[Z]=fr(V.files[Z],this.lastProgress.files[Z]));this.lastProgress=V},z}(g.EventEmitter),Or=function(U,z,V){if(!z||typeof z!="string")throw new Error("A valid Filestack handle or storage alias is required for preview");var Z=fe(Ct)(V);if(Z.errors.length)throw new ye("Invalid preview params",Z.errors,ue.VALIDATION);var ae=Object(ve.removeEmpty)(V||{}),ce=function(xe,Ee,tt,ze){var ut=Object($.a)({},tt),_t=ze&&ze.policy||xe.policy,qt=ze&&ze.signature||xe.signature,cn=qt&&_t,Xt=[xe.urls.cdnUrl],Ht=ut.css&&encodeURIComponent('"'+ut.css+'"'),Nn=Ht?"preview=css:"+Ht:"preview";return Ee.indexOf("src:")!==-1?Xt.push(xe.apikey+"/"+Nn):Xt.push(Nn),cn&&Xt.push("security=policy:"+_t+",signature:"+qt),Xt.push(Ee),Xt.join("/")}(U,z,ae);if(ae&&ae.id){var pe=ae.id,we=document.createElement("iframe"),Re=document.getElementById(pe);if(we.src=ce,we.width="100%",we.height="100%",!Re)throw new Error('DOM Element with id "'+pe+'" not found.');return Re.appendChild(we)}return window.open(ce,z)},Pn=Ie()("fs:storage"),Ui=function(){function U(){this.availableTypes=[],window.localStorage!==void 0&&(this.availableTypes.push(Rt.LOCAL),Pn("Local storage exists")),window.sessionStorage!==void 0&&(this.availableTypes.push(Rt.SESSION),Pn("Session storage exists")),Pn("availableTypes - %O",this.availableTypes)}return U.prototype.hasAccess=function(z){return Pn("Checking access to storage for %s. Available types: %O",z,this.availableTypes),z?this.availableTypes.indexOf(z)>-1:!!this.availableTypes.length},U.prototype.getItem=function(z,V){var Z=this.getStore(V);if(Pn("getItem %s from %O",z,Z),Z)return Z.getItem(z)},U.prototype.setItem=function(z,V,Z){var ae=this.getStore(Z);if(Pn("setItem %s to %O",z,ae),ae)return ae.setItem(z,V)},U.prototype.removeItem=function(z,V){var Z=this.getStore(V);if(Pn("removeItem %s from %O",z,Z),Z)return Z.removeItem(z)},U.prototype.getStore=function(z){if(Pn("get store with pref type - %s",z),this.hasAccess(z))switch(z){case Rt.LOCAL:return window.localStorage;case Rt.SESSION:return window.sessionStorage;default:return window[this.availableTypes[0]]}else Pn("User dont have access to any storage")},U}();(function(U){U.SESSION="sessionStorage",U.LOCAL="localStorage"})(Rt||(Rt={}));var pr,Mn="__fs_picker_token",ai=function(){function U(z,V){this.cache=!1,this.session=z,this.storeAdapter=new Ui,this.cloudApiUrl=z.urls.cloudApiUrl,V&&V.sessionCache&&(this.cache=V.sessionCache)}return Object.defineProperty(U.prototype,"token",{get:function(){if(this.cache){var z=this.storeAdapter.getItem(Mn,Rt.LOCAL);if(z)return z}return this.isInAppBrowser?this.storeAdapter.getItem(Mn,Rt.SESSION):this._token},set:function(z){this.cache&&this.storeAdapter.setItem(Mn,z,Rt.LOCAL),this.isInAppBrowser&&this.storeAdapter.setItem(Mn,z,Rt.SESSION),this._token=z},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"isInAppBrowser",{get:function(){return!!(this.session&&this.session.prefetch&&this.session.prefetch.settings&&this.session.prefetch.settings.inapp_browser)&&this.session.prefetch.settings.inapp_browser},enumerable:!0,configurable:!0}),U.prototype.list=function(z,V,Z){var ae=this,ce={apikey:this.session.apikey,clouds:z,flow:"web",token:this.token};Z&&(Array.isArray(Z)||(Z=[Z]),ce.accept=Z),this.isInAppBrowser&&(ce.appurl=this.currentAppUrl()),this.session.policy&&this.session.signature&&(ce.policy=this.session.policy,ce.signature=this.session.signature);var pe={};if(V){var we=new Fn;V.cancel=we.cancel.bind(we),pe.cancelToken=we}return Ot.post(this.cloudApiUrl+"/folder/list",ce,pe).then(function(Re){return Re.data&&Re.data.token&&(ae.token=Re.data.token),Re.data})},U.prototype.store=function(z,V,Z,ae,ce,pe){var we,Re=this;Z===void 0&&(Z={}),ae===void 0&&(ae={}),pe===void 0&&(pe=null),Z.location===void 0&&(Z.location="s3");var xe={apikey:this.session.apikey,token:this.token,flow:"web",upload_tags:pe||void 0,clouds:(we={},we[z]={path:V,store:Object(ve.removeEmpty)(Z)},we)};z==="customsource"&&ae.customSourcePath&&(xe.clouds.customsource.customSourcePath=ae.customSourcePath),z==="customsource"&&ae.customSourceContainer&&(xe.clouds.customsource.customSourceContainer=ae.customSourceContainer),this.session.policy&&this.session.signature&&(xe.policy=this.session.policy,xe.signature=this.session.signature);var Ee={};if(ce){var tt=new Fn;ce.cancel=tt.cancel.bind(tt),Ee.cancelToken=tt}return Ot.post(this.cloudApiUrl+"/store/",xe,Ee).then(function(ze){return ze.data&&ze.data.token&&(Re.token=ze.data.token),ze.data&&ze.data[z]?ze.data[z]:ze.data})},U.prototype.logout=function(z){var V,Z={apikey:this.session.apikey,flow:"web",token:this.token};return z?Z.clouds=((V={})[z]={},V):(this.cache&&this.storeAdapter.removeItem(Mn,Rt.LOCAL),this.isInAppBrowser&&this.storeAdapter.removeItem(Mn,Rt.SESSION)),Ot.post(this.cloudApiUrl+"/auth/logout",Z).then(function(ae){return ae.data&&ae.data[z]?ae.data[z]:ae.data})},U.prototype.metadata=function(z,V){var Z={apikey:this.session.apikey,url:z,headers:V};return this.session.policy&&this.session.signature&&(Z.policy=this.session.policy,Z.signature=this.session.signature),Ot.post(this.cloudApiUrl+"/metadata",Z).then(function(ae){return ae.data})},U.prototype.tokInit=function(z){if(z!=="video"&&z!=="audio")throw new ye("Type must be one of video or audio.");return Ot.post(this.cloudApiUrl+"/recording/"+z+"/init").then(function(V){return V.data})},U.prototype.tokStart=function(z,V,Z){if(z!=="video"&&z!=="audio")throw new ye("Type must be one of video or audio.");var ae={apikey:V,session_id:Z};return Ot.post(this.cloudApiUrl+"/recording/"+z+"/start",ae).then(function(ce){return ce.data})},U.prototype.tokStop=function(z,V,Z,ae){if(z!=="video"&&z!=="audio")throw new ye("Type must be one of video or audio.");var ce={apikey:V,session_id:Z,archive_id:ae};return Ot.post(this.cloudApiUrl+"/recording/"+z+"/stop",ce).then(function(pe){return pe.data})},U.prototype.currentAppUrl=function(){if(window.URLSearchParams){var z=new URLSearchParams(window.location.search);return z.set("fs-tab","init"),window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+z.toString()}},U}(),si=f(30);(function(U){U.PICKER="picker",U.TRANSFORM_UI="transform_ui"})(pr||(pr={}));var Br,dr,ui=function(){function U(z){this.session=z instanceof mr?z.session:z}return U.prototype.getConfig=function(z){var V=z.pickerOptions,Z=z.settings,ae=z.permissions,ce=z.events;return Object($.b)(this,void 0,void 0,function(){var pe,we,Re=this;return Object($.d)(this,function(xe){return pe={apikey:this.session.apikey},this.session.policy&&this.session.signature&&(pe.security={policy:this.session.policy,signature:this.session.signature}),Z=Z?(Z=Z.concat(["inapp_browser"])).filter(function(Ee,tt){return Z.indexOf(Ee)===tt}):["inapp_browser"],V&&Object.keys(V).length&&(we=Object(ve.cleanUpCallbacks)(si(Object($.a)({},V)))),pe=Object($.a)(Object($.a)({},pe),{permissions:ae,settings:Z,picker_config:we,events:ce}),this.session.prefetch=null,[2,Ot.post(this.session.urls.uploadApiUrl+"/prefetch",pe).then(function(Ee){if(Ee.status!==200)throw new ye("There is a problem with prefetch request");var tt=Ee.data;return tt.updated_config?(tt.pickerOptions=Re.reassignCallbacks(V,tt.updated_config||{}),delete tt.updated_config):tt.pickerOptions=V,Re.session.prefetch=tt,tt})]})})},U.prototype.reassignCallbacks=function(z,V){if(!z||Object.keys(z).length===0)return z;for(var Z in z)typeof z[Z]=="function"&&(V[Z]=z[Z]),z[Z]===Object(z[Z])&&(V[Z]=this.reassignCallbacks(z[Z],V[Z]));return V},U}();(function(U){U.cw="CW",U.ccw="CCW"})(Br||(Br={})),function(U){U.inline="inline",U.overlay="overlay",U.dropPane="dropPane"}(dr||(dr={}));var Fr=function(){function U(z,V){var Z=fe(Ut)(V);if(Z.errors.length)throw new ye("Invalid picker params",Z.errors,ue.VALIDATION);this._initialized=this.loadModule(z,V)}return U.prototype.open=function(){return Object($.b)(this,void 0,void 0,function(){return Object($.d)(this,function(z){switch(z.label){case 0:return[4,this._initialized];case 1:return[4,z.sent().open()];case 2:return z.sent(),[2]}})})},U.prototype.crop=function(z){return Object($.b)(this,void 0,void 0,function(){return Object($.d)(this,function(V){switch(V.label){case 0:return[4,this._initialized];case 1:return[4,V.sent().crop(z)];case 2:return V.sent(),[2]}})})},U.prototype.close=function(){return Object($.b)(this,void 0,void 0,function(){return Object($.d)(this,function(z){switch(z.label){case 0:return[4,this._initialized];case 1:return[4,z.sent().close()];case 2:return z.sent(),[2]}})})},U.prototype.cancel=function(){return Object($.b)(this,void 0,void 0,function(){return Object($.d)(this,function(z){switch(z.label){case 0:return[4,this._initialized];case 1:return[4,z.sent().cancel()];case 2:return z.sent(),[2]}})})},U.prototype.loadModule=function(z,V){return Object($.b)(this,void 0,void 0,function(){var Z;return Object($.d)(this,function(ae){switch(ae.label){case 0:return Z=z.session.urls.pickerUrl,[4,b(_.PICKER,Z)];case 1:return[2,new(ae.sent())(z,V)]}})})},U}();re("addBreadcrumb",{category:"sdk",message:"filestack-js-sdk scope"});var mr=function(U){function z(V,Z){var ae=U.call(this)||this;if(ae.options=Z,ae.forwardErrors=!0,Z&&Z.forwardErrors&&(ae.forwardErrors=Z.forwardErrors),!V||typeof V!="string"||V.length===0)throw new Error("An apikey is required to initialize the Filestack client");var ce=ge.urls;if(ae.session={apikey:V,urls:ce},Z){var pe=Z.cname,we=Z.security;ae.setSecurity(we),ae.setCname(pe)}return ae.prefetchInstance=new ui(ae.session),ae.cloud=new ai(ae.session,Z),ae}return Object($.c)(z,U),Object.defineProperty(z.prototype,"utils",{get:function(){return ve},enumerable:!0,configurable:!0}),z.prototype.prefetch=function(V){return this.prefetchInstance.getConfig(V)},z.prototype.setSecurity=function(V){if(V&&(!V.policy||!V.signature))throw new ye("Both policy and signature are required for client security");V&&V.policy&&V.signature&&(this.session.policy=V.policy,this.session.signature=V.signature)},z.prototype.setCname=function(V){V&&V.length!==0&&(this.session.cname=V,this.session.urls=ve.resolveHost(this.session.urls,V))},z.prototype.logout=function(V){return this.cloud.logout(V)},z.prototype.metadata=function(V,Z,ae){return function(ce,pe,we,Re){if(!pe||typeof pe!="string")throw new ye("A valid Filestack handle is required for metadata");var xe=fe(fn)(we);if(xe.errors.length)throw new ye("Invalid metadata params",xe.errors);var Ee=Object($.a)({},we);Ee.source_url=Ee.sourceUrl,Ee.policy=Re&&Re.policy||ce.policy,Ee.signature=Re&&Re.signature||ce.signature;var tt=ce.urls.fileApiUrl+"/"+pe+"/metadata";return new Promise(function(ze,ut){Ot.get(tt,{params:Object(ve.removeEmpty)(Ee),filestackHeaders:!1}).then(function(_t){return ze(Object($.a)(Object($.a)({},_t.data),{handle:pe}))}).catch(ut)})}(this.session,V,Z,ae)},z.prototype.picker=function(V){return function(Z,ae){return new Fr(Z,ae)}(this,V)},z.prototype.preview=function(V,Z){return Or(this.session,V,Z)},z.prototype.remove=function(V,Z){return nn(this.session,V,!1,Z)},z.prototype.removeMetadata=function(V,Z){return nn(this.session,V,!0,Z)},z.prototype.storeURL=function(V,Z,ae,ce,pe,we,Re){return function(xe){var Ee=xe.session,tt=xe.url,ze=xe.storeParams,ut=xe.token,_t=xe.security,qt=xe.uploadTags,cn=xe.headers,Xt=xe.workflowIds;if(!tt||typeof tt!="string")return Promise.reject(new ye("url is required for storeURL"));var Ht=fe(Ft)(ze);if(Ht.errors.length)return Promise.reject(new ye("Invalid store params",Ht.errors));Ee.policy=_t&&_t.policy||Ee.policy,Ee.signature=_t&&_t.signature||Ee.signature;var Nn=new Bt(tt,Ee.apikey);Nn.store(ze),Ee.policy&&Ee.signature&&Nn.security({policy:Ee.policy,signature:Ee.signature});var hn={};if(ut){var Dn=new Fn;ut.cancel=Dn.cancel.bind(Dn),hn.cancelToken=Dn}var Yn=[tt];return cn&&(Yn=[{source:tt,headers:cn}]),Xt&&Xt.length>0&&Nn.addTask("store",{workflows:Xt}),Ot.post(Ee.urls.processUrl+"/process",{apikey:Ee.apikey,sources:Yn,tasks:Nn.getTasks(),upload_tags:qt},hn).then(function(Cn){if(Cn.data&&Cn.data.handle)return Cn.data.upload_tags&&(Cn.data.uploadTags=Cn.data.upload_tags,delete Cn.data.upload_tags),Object($.a)(Object($.a)({},Cn.data),{mimetype:Cn.data.type});throw new ye("Invalid store response "+JSON.stringify(Cn.data))})}({session:this.session,url:V,storeParams:Z,token:ae,security:ce,uploadTags:pe,headers:we,workflowIds:Re})},z.prototype.retrieve=function(V,Z,ae){return function(ce,pe,we,Re){if(we===void 0&&(we={}),!pe||pe.length===0||typeof pe!="string")throw new ye("File handle is required");console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");var xe=fe(Ye)(we);if(xe.errors.length)throw new ye("Invalid retrieve params",xe.errors);var Ee=Object($.a)({},we);Ee.key=ce.apikey,Ee.policy=Re&&Re.policy||ce.policy,Ee.signature=Re&&Re.signature||ce.signature;var tt,ze,ut=qe.a.GET;if(Ee.head&&(ut=qe.a.HEAD,delete Ee.head),Ee.extension&&Ee.extension.length&&(tt=Ee.extension,delete Ee.extension),Ee.metadata){if(ut===qe.a.HEAD)throw new ye("Head and metadata options cannot be used together");ze=Ee.metadata,delete Ee.metadata}var _t=ce.urls.fileApiUrl+"/"+pe+(tt?"+"+tt:"")+(ze?"/metadata":"");return new Promise(function(qt,cn){Ot.dispatch(_t,{method:ut,filestackHeaders:!1,params:Object(ve.removeEmpty)(Ee)}).then(function(Xt){return qt(ut===qe.a.HEAD?Xt.headers:Xt.data)}).catch(cn)})}(this.session,V,Z,ae)},z.prototype.download=function(V,Z){return function(ae,ce,pe){var we=new Bt(ce,ae.apikey),Re=pe&&pe.policy||ae.policy,xe=pe&&pe.signature||ae.signature;return Re&&xe&&we.security({signature:xe,policy:Re}),Ot.dispatch(we.toString(),{method:qe.a.GET,blobResponse:!0})}(this.session,V,Z)},z.prototype.transform=function(V,Z,ae){return ae===void 0&&(ae=!1),Tn(this.session,V,Z,ae)},z.prototype.upload=function(V,Z,ae,ce,pe){var we=this,Re=new qn(Z,ae);return Re.setSession(this.session),ce&&Re.setToken(ce),pe&&Re.setSecurity(pe),Re.on("start",function(){return we.emit("upload.start")}),Re.on("error",function(xe){we.forwardErrors&&le(function(Ee){Ee.setTag("filestack-apikey",we.session.apikey),Ee.setTag("filestack-version",ve.getVersion()),Ee.setExtra("filestack-options",we.options),Ee.setExtras({uploadOptions:Z,storeOptions:ae,details:xe.details}),xe.message="FS-"+xe.message,Y(xe)}),we.emit("upload.error",xe)}),Re.upload(V)},z.prototype.multiupload=function(V,Z,ae,ce,pe){var we=this,Re=new qn(Z,ae);return Re.setSession(this.session),ce&&Re.setToken(ce),pe&&Re.setSecurity(pe),Re.on("start",function(){return we.emit("upload.start")}),Re.on("error",function(xe){le(function(Ee){Ee.setTag("filestack-apikey",we.session.apikey),Ee.setTag("filestack-version",ve.getVersion()),Ee.setExtra("filestack-options",we.options),Ee.setExtras(xe.details),Ee.setExtras({uploadOptions:Z,storeOptions:ae}),Y(xe)}),we.emit("upload.error",xe)}),Re.multiupload(V)},z}(g.EventEmitter),Nr=function(U,z){return new mr(U,z)},Ji=Nr,li="3.25.0";y(_.FILESTACK_SDK,Nr,{version:"3.25.0"})},,function(o,u,f){(function(d){f.d(u,"a",function(){return w});var m=f(9),h=f(13),b={nowSeconds:function(){return Date.now()/1e3}},y=Object(h.b)()?function(){try{return Object(h.a)(d,"perf_hooks").performance}catch{return}}():function(){var M=Object(m.b)().performance;if(M&&M.now)return{now:function(){return M.now()},timeOrigin:Date.now()-M.now()}}(),_=y===void 0?b:{nowSeconds:function(){return(y.timeOrigin+y.now())/1e3}},w=b.nowSeconds.bind(b);_.nowSeconds.bind(_),function(){var M=Object(m.b)().performance;M&&(M.timeOrigin?M.timeOrigin:M.timing&&M.timing.navigationStart||Date.now())}()}).call(this,f(51)(o))},function(o,u,f){(function(d){f.d(u,"a",function(){return b});var m=f(0),h=(f(22),f(4));f(32),f(31),f(10);function b(y){var _,w;if(Object(h.e)(y)){var M=y,$={};try{for(var g=Object(m.f)(Object.keys(M)),v=g.next();!v.done;v=g.next()){var k=v.value;M[k]!==void 0&&($[k]=b(M[k]))}}catch(C){_={error:C}}finally{try{v&&!v.done&&(w=g.return)&&w.call(g)}finally{if(_)throw _.error}}return $}return Array.isArray(y)?y.map(b):y}}).call(this,f(14))}]);filestack.Filestack;const _filestack$init=filestack.init;filestack.version;filestack.EAlignOptions;filestack.EAlignFacesOptions;filestack.EFitOptions;filestack.EBlurMode;filestack.EShapeType;filestack.ENoiseType;filestack.EStyleType;filestack.EColorspaceType;filestack.ECropfacesType;filestack.ESmartCropMode;filestack.EImageWatermarkPosition;filestack.EVideoTypes;filestack.EUrlscreenshotAgent;filestack.EUrlscreenshotMode;filestack.EUrlscreenshotOrientation;filestack.EVideoLocations;filestack.EVideoAccess;filestack.EVideoAccessMode;filestack.transform;filestack.Align;filestack.FitOptions;filestack.BlurMode;filestack.ShapeType;filestack.NoiseType;filestack.StyleType;filestack.ColorspaceType;filestack.CropfacesType;filestack.ImageWatermarkPosition;filestack.SmartCropMode;filestack.VideoTypes;filestack.URLScreenshotAgent;filestack.URLScreenshotMode;filestack.URLScreenshotOrientation;filestack.Locations;filestack.VideoAccess;filestack.VideoAccessMode;filestack.EnhancePreset;filestack.Filelink;filestack.FilestackErrorType;filestack.FsHttpMethod;filestack.FsRequest;filestack.FsRequestErrorCode;filestack.FsRequestError;filestack.FsCancelToken;filestack.resolveCdnUrl;filestack.resolveHost;filestack.removeEmpty;filestack.uniqueTime;filestack.uniqueId;filestack.extensionToMime;filestack.sanitizeName;filestack.filterObject;filestack.cleanUpCallbacks;filestack.md5;filestack.b64;filestack.getVersion;filestack.isMobile;filestack.isFacebook;filestack.TransformSchema;filestack.getSecurity;filestack.validateWebhookSignature;filestack.Client;filestack.FilestackError;filestack.PickerDisplayMode;filestack.getMimetype;filestack.PrefetchEvents;const init=()=>_filestack$init("ArcQnSXbqT4O0OORDyYxrz"),picker=o=>u=>f=>d=>m=>()=>m.picker({onFileUploadCancel:h=>o(h)(),onFileUploadFailed:(h,b)=>u(h)(b)(),onFileUploadProgress:(h,b)=>f(h)(b)(),onFileUploadFinished:h=>d(h)()}).open(),pickerAccepting=o=>u=>f=>d=>m=>h=>()=>h.picker({accept:o,onFileUploadCancel:b=>u(b)(),onFileUploadFailed:(b,y)=>f(b)(y)(),onFileUploadProgress:(b,y)=>d(b)(y)(),onFileUploadFinished:b=>m(b)()}).open(),scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function o(u,f,d){return!f||f.length===0?u():Promise.all(f.map(m=>{if(m=assetsURL(m),m in seen)return;seen[m]=!0;const h=m.endsWith(".css"),b=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":scriptRel,h||(y.as="script",y.crossOrigin=""),y.href=m,document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>u())},firebaseAuth=o=>()=>__vitePreload(()=>import("./index.esm.b24f1840.js"),["assets/index.esm.b24f1840.js","assets/index.esm2017.ebad5f40.js"]).then(({getAuth:u})=>u(o)),initializeGoogleClient=o=>u=>()=>{window.google.accounts.id.initialize({client_id:"58052920677-fs42m1rdh38g8rt9u6jv6s63c4ga9v0r.apps.googleusercontent.com",callback:f=>{console.log("credential received"),__vitePreload(()=>import("./index.esm.b24f1840.js"),["assets/index.esm.b24f1840.js","assets/index.esm2017.ebad5f40.js"]).then(({GoogleAuthProvider:d,linkWithCredential:m,signInWithCredential:h})=>{console.log("attempting to use credential",f.credential);const b=d.credential(f.credential);m(o.currentUser,b).then(y=>{const _=y.user;console.log("Anonymous account successfully upgraded",_),u()},()=>h(o,b).then(y=>{const _=y.user;console.log("Account successfully linked to existing credential",_),u()},y=>console.log("Error upgrading anonymous account",y)))})}})},signInWithGoogle=o=>()=>{google.accounts.id.prompt(u=>{(u.isNotDisplayed()||u.isSkippedMoment())&&google.accounts.id.renderButton(document.getElementById("google_sign_in"),{})})},currentUserImpl=o=>u=>f=>()=>f.currentUser?u(f.currentUser):o,signOut=o=>u=>()=>o.signOut().then(()=>signInAnonymously(o).then(()=>{u()},f=>{console.error("Could not sign in anonymously after sign out",f)})),onAuthStateChanged=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.b24f1840.js"),["assets/index.esm.b24f1840.js","assets/index.esm2017.ebad5f40.js"]).then(({onAuthStateChanged:m,signInAnonymously:h})=>m(d,y=>{y?(console.log("auth state change with user",y),y.isAnonymous?u(y)():f(y)()):h(d).then(()=>{}).catch(_=>{o(_)()})})),$AuthProvider=o=>({tag:o}),displayNameIsSymbol={reflectSymbol:()=>"displayName"},writeForeignMaybe={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},emailIsSymbol={reflectSymbol:()=>"email"},emailVerifiedIsSymbol={reflectSymbol:()=>"emailVerified"},isAnonymousIsSymbol={reflectSymbol:()=>"isAnonymous"},metadataIsSymbol={reflectSymbol:()=>"metadata"},creationTimeIsSymbol={reflectSymbol:()=>"creationTime"},lastSignInTimeIsSymbol={reflectSymbol:()=>"lastSignInTime"},multiFactorIsSymbol={reflectSymbol:()=>"multiFactor"},enrolledFactorsIsSymbol={reflectSymbol:()=>"enrolledFactors"},enrollmentTimeIsSymbol={reflectSymbol:()=>"enrollmentTime"},factorIdIsSymbol={reflectSymbol:()=>"factorId"},uidIsSymbol={reflectSymbol:()=>"uid"},consWriteForeignFields2=consWriteForeignFields$1(uidIsSymbol)(writeForeignString)(nilWriteForeignFields)()()(),phoneNumberIsSymbol={reflectSymbol:()=>"phoneNumber"},photoURLIsSymbol={reflectSymbol:()=>"photoURL"},providerDataIsSymbol={reflectSymbol:()=>"providerData"},providerIdIsSymbol={reflectSymbol:()=>"providerId"},refreshTokenIsSymbol={reflectSymbol:()=>"refreshToken"},tenantIdIsSymbol={reflectSymbol:()=>"tenantId"},readMaybe=readMaybe$3(readString),readFieldsCons2=readFieldsCons$1(uidIsSymbol)(readString)(readFieldsNil)()(),show1$2=(()=>showNonEmptyList$1(showForeignError).show)(),AuthAnonymous=$AuthProvider("AuthAnonymous"),AuthGoogle=$AuthProvider("AuthGoogle"),writeForeignUser=(()=>{const o=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailVerifiedIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(isAnonymousIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(metadataIsSymbol)((()=>{const u=consWriteForeignFields$1(creationTimeIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(lastSignInTimeIsSymbol)(writeForeignMaybe)(nilWriteForeignFields)()()())()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields$1(multiFactorIsSymbol)((()=>{const u=consWriteForeignFields$1(enrolledFactorsIsSymbol)((()=>{const f=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(enrollmentTimeIsSymbol)(writeForeignString)(consWriteForeignFields$1(factorIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()();return{writeImpl:d=>arrayMap(m=>f.writeImplFields($$Proxy)(m)({}))(d)}})())(nilWriteForeignFields)()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields$1(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(providerDataIsSymbol)((()=>{const u=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()())()()())()()();return{writeImpl:f=>arrayMap(d=>u.writeImplFields($$Proxy)(d)({}))(f)}})())(consWriteForeignFields$1(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields$1(refreshTokenIsSymbol)(writeForeignString)(consWriteForeignFields$1(tenantIdIsSymbol)(writeForeignMaybe)(consWriteForeignFields2)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),readForeignUser=readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(emailIsSymbol)(readMaybe)(readFieldsCons$1(emailVerifiedIsSymbol)(readBoolean)(readFieldsCons$1(isAnonymousIsSymbol)(readBoolean)(readFieldsCons$1(metadataIsSymbol)(readMaybe$3(readRecord()(readFieldsCons$1(creationTimeIsSymbol)(readMaybe)(readFieldsCons$1(lastSignInTimeIsSymbol)(readMaybe)(readFieldsNil)()())()())))(readFieldsCons$1(multiFactorIsSymbol)(readMaybe$3(readRecord()(readFieldsCons$1(enrolledFactorsIsSymbol)(readArray(readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(enrollmentTimeIsSymbol)(readString)(readFieldsCons$1(factorIdIsSymbol)(readString)(readFieldsCons2)()())()())()())))(readFieldsNil)()())))(readFieldsCons$1(phoneNumberIsSymbol)(readMaybe)(readFieldsCons$1(photoURLIsSymbol)(readMaybe)(readFieldsCons$1(providerDataIsSymbol)(readArray(readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(emailIsSymbol)(readMaybe)(readFieldsCons$1(phoneNumberIsSymbol)(readMaybe)(readFieldsCons$1(photoURLIsSymbol)(readMaybe)(readFieldsCons$1(providerIdIsSymbol)(readString)(readFieldsCons2)()())()())()())()())()())))(readFieldsCons$1(providerIdIsSymbol)(readString)(readFieldsCons$1(refreshTokenIsSymbol)(readString)(readFieldsCons$1(tenantIdIsSymbol)(readMaybe)(readFieldsCons2)()())()())()())()())()())()())()())()())()())()())()())()()),currentUser=currentUserImpl(Nothing)(Just),authStateChangedEventWithAnonymousAccountCreation=o=>backdoor.makeEvent(u=>()=>{const f={value:()=>unit},d=h=>b=>{const y=readForeignUser.readImpl(b);if(y.tag==="Left")return throwException(error$1(showStringImpl(_unsafeStringify(b))+(" "+show1$2(y._1))));if(y.tag==="Right")return u({user:y._1,provider:h});fail$3()};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(onAuthStateChanged(h=>error(showErrorImpl(h)))(d(AuthAnonymous))(d(AuthGoogle))(o)))(toAff$p(coerce)))(h=>_liftEffect(()=>f.value=h)))().run(),bindE(()=>f.value)(identity$u)}),firestoreDb=o=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({getFirestore:u})=>u(o)),RIDES="rides",TRACKS="tracks",PROFILE="profile",EVENTS="events",MARKER1TIME="marker1Time",MARKER2TIME="marker2Time",MARKER3TIME="marker3Time",MARKER4TIME="marker4Time",NAME="name",USERNAME="username",AVATARURL="avatarURL",TITLE="title",PRIVATE="private",COLUMN="column",turnOnRealtimePresence=o=>u=>f=>()=>Promise.all([__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]),__vitePreload(()=>import("./index.esm.e0a9cda9.js"),["assets/index.esm.e0a9cda9.js","assets/index.esm2017.ebad5f40.js"])]).then(([d,m])=>{var h=f.currentUser.uid,b=m.getDatabase(o),y=m.ref(b,"/status/"+h),_={state:"offline",last_changed:m.serverTimestamp()},w={state:"online",last_changed:m.serverTimestamp()},M=d.doc(u,"/status/"+h),$={state:"offline",last_changed:d.serverTimestamp()},g={state:"online",last_changed:d.serverTimestamp()};const v=m.onValue(m.ref(b,".info/connected"),function(k){if(k.val()==!1){console.log("not connected to rtdb"),d.setDoc(M,$);return}m.onDisconnect(y).set(_).then(function(){console.log("connected to rtdb"),m.set(y,w),d.setDoc(M,g)})});return()=>{v(),m.onDisconnect(y).set(null)}}),addTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({collection:f,addDoc:d})=>d(f(o,TRACKS),u)),forkTrack=o=>u=>f=>()=>Promise.all([getTrack(u)(f)(),getEvents(u)(f)()]).then(([d,m])=>Promise.all([addTrack(u)({owner:o.currentUser.uid,...d})(),Promise.resolve(m)])).then(([d,m])=>Promise.all([...m.map(h=>addEvent(u)(d.id)(h.data)())])),getTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({getDoc:f,doc:d})=>f(d(o,TRACKS,u)).then(m=>m.data())),updateTrackTitle=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[TITLE]=f,d(m(o,TRACKS,u),h)}),updateTrackPrivate=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[PRIVATE]=f,d(m(o,TRACKS,u),h)}),addEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({collection:d,addDoc:m})=>(console.log(u,f),m(d(o,TRACKS,u,EVENTS),f))),getEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({getDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f)).then(h=>h.data())),getTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const b=f(m(u,TRACKS),h("owner","==",o.currentUser.uid));return d(b).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getProfile=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({getDoc:m,doc:h})=>m(h(d,PROFILE,f.currentUser.uid)).then(b=>b.exists()?u(b.data()):o)),updateProfileUsername=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({setDoc:d,doc:m})=>{const h={version:0};return h[USERNAME]=f,d(m(u,PROFILE,o.currentUser.uid),h,{merge:!0})}),updateProfileAvatarURL=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({setDoc:d,doc:m})=>{const h={version:0};return h[AVATARURL]=f,d(m(u,PROFILE,o.currentUser.uid),h,{merge:!0})}),listenToProfile=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({onSnapshot:d,doc:m})=>d(m(f,PROFILE,u.currentUser.uid),h=>h.exists()&&o(h.data())())),getWhitelistedTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const b=f(m(u,TRACKS),h("whitelist","array-contains",o.currentUser.uid));return d(b).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getPublicTracks=o=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({query:u,getDocs:f,collection:d,where:m,limit:h})=>{const b=u(d(o,TRACKS),m("private","==",!1),h(50));return f(b).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getEvents=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({query:f,getDocs:d,collection:m})=>{const h=f(m(o,TRACKS,u,EVENTS));return d(h).then(b=>{const y=[];return b.forEach(_=>{y.push({id:_.id,data:_.data()})}),y})}),updateEventName=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[NAME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateColumn=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[COLUMN]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),deleteEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({deleteDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f))),updateMarker1Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER1TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker2Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER2TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker3Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER3TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),updateMarker4Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return b[MARKER4TIME]=d,m(h(o,TRACKS,u,EVENTS,f),b)}),addRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({collection:f,addDoc:d})=>d(f(o,RIDES),u)),getRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({getDoc:f,doc:d})=>f(d(o,RIDES,u)).then(m=>m.data())),claimPlayer=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:m,doc:h})=>{const b={};return o.currentUser?(b[d]=o.currentUser.uid,console.log("claimPlayer",f,d),m(h(u,RIDES,f),b)):Promise.reject(new Error("No current user"))}),removeUndefineds=o=>JSON.parse(JSON.stringify(o)),listenToRemoteChannelChanges=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({doc:d,onSnapshot:m})=>m(d(o,RIDES,u),h=>{if(!h.metadata.hasPendingWrites){const b=h.data();f(b)()}})),sendMyPointsAndPenaltiesToFirebaseImpl=o=>u=>f=>d=>m=>h=>b=>()=>__vitePreload(()=>import("./index.esm.1f240b67.js"),["assets/index.esm.1f240b67.js","assets/index.esm2017.ebad5f40.js"]).then(({updateDoc:y,doc:_})=>{const w={};return u.currentUser?(w[d]=h,w[m]=b,y(_(o,RIDES,f),w)):Promise.reject(new Error("No current user"))}),showNonEmptyList=showNonEmptyList$1(showForeignError),readFieldsCons1=readFieldsCons$1({reflectSymbol:()=>"id"})(readString)(readFieldsNil)()(),read1=(()=>{const o=readArray(readRecord()(readFieldsCons$1({reflectSymbol:()=>"data"})(readForeignTrack)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),read2=(()=>{const o=readMaybe$3(readForeignTrack);return u=>o.readImpl(u)})(),read3=(()=>{const o=readMaybe$3(readForeignRide);return u=>o.readImpl(u)})(),traverse$2=(()=>traversableMaybe.traverse(applicativeAff))(),read4=(()=>{const o=readArray(readRecord()(readFieldsCons$1({reflectSymbol:()=>"data"})(readForeignEvent_)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),read5=(()=>{const o=readMaybe$3(readForeignEvent_);return u=>o.readImpl(u)})(),$$try=$$try$2(monadErrorAff),updateTrackTitleAff=o=>u=>f=>_bind(_liftEffect(updateTrackTitle(o)(u)(f)))(toAff$p(coerce)),updateTrackPrivateAff=o=>u=>f=>_bind(_liftEffect(updateTrackPrivate(o)(u)(f)))(toAff$p(coerce)),updateProfileUsernameAff=o=>u=>f=>_bind(_liftEffect(updateProfileUsername(o)(u)(f)))(toAff$p(coerce)),updateProfileAvatarURLAff=o=>u=>f=>_bind(_liftEffect(updateProfileAvatarURL(o)(u)(f)))(toAff$p(coerce)),updateMarker4TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker4Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker3TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker3Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker2TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker2Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker1TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker1Time(o)(u)(f)(d)))(toAff$p(coerce)),updateEventNameAff=o=>u=>f=>d=>_bind(_liftEffect(updateEventName(o)(u)(f)(d)))(toAff$p(coerce)),updateColumnAff=o=>u=>f=>d=>_bind(_liftEffect(updateColumn(o)(u)(f)((()=>{if(d.tag==="C1")return 1;if(d.tag==="C2")return 2;if(d.tag==="C3")return 3;if(d.tag==="C4")return 4;if(d.tag==="C5")return 5;if(d.tag==="C6")return 6;if(d.tag==="C7")return 7;if(d.tag==="C8")return 8;if(d.tag==="C9")return 9;if(d.tag==="C10")return 10;if(d.tag==="C11")return 11;if(d.tag==="C12")return 12;if(d.tag==="C13")return 13;if(d.tag==="C14")return 14;if(d.tag==="C15")return 15;if(d.tag==="C16")return 16;if(d.tag==="C17")return 17;fail$3()})())))(toAff$p(coerce)),turnOnRealtimePresenceAff=o=>u=>f=>_bind(_liftEffect(turnOnRealtimePresence(o)(u)(f)))(toAff$p(coerce)),sendMyPointsAndPenaltiesToFirebase=o=>u=>f=>d=>m=>h=>_bind(_liftEffect(sendMyPointsAndPenaltiesToFirebaseImpl(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1Points";if(d.tag==="Player2")return"player2Points";if(d.tag==="Player3")return"player3Points";if(d.tag==="Player4")return"player4Points";fail$3()})())((()=>{if(d.tag==="Player1")return"player1Penalties";if(d.tag==="Player2")return"player2Penalties";if(d.tag==="Player3")return"player3Penalties";if(d.tag==="Player4")return"player4Penalties";fail$3()})())(m)(h)))(toAff$p(coerce)),profileEvent=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:()=>unit};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(listenToProfile(h=>{const b=readForeignProfile.readImpl(h);if(b.tag==="Left")return error(showNonEmptyList.show(b._1));if(b.tag==="Right")return f(b._1);fail$3()})(o)(u)))(toAff$p(coerce)))(h=>_liftEffect(()=>d.value=h)))().run(),bindE(()=>d.value)(identity$u)}),getWhitelistedTracksAff=o=>u=>_bind(_bind(_liftEffect(getWhitelistedTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getTracksAff=o=>u=>_bind(_bind(_liftEffect(getTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getTrackAff=o=>u=>_bind(_bind(_liftEffect(getTrack(o)(u)))(toAff$p(coerce)))(f=>{const d=read2(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getRideAff=o=>u=>_bind(_bind(_liftEffect(getRide(o)(u)))(toAff$p(coerce)))(f=>{const d=read3(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getPublicTracksAff=o=>_bind(_bind(_liftEffect(getPublicTracks(o)))(toAff$p(coerce)))(u=>{const f=read1(u);if(f.tag==="Right")return _pure(f._1);if(f.tag==="Left")return _throwError(error$1(showNonEmptyList.show(f._1)));fail$3()}),getProfileAff=o=>u=>_bind(_bind(_liftEffect(getProfile(Nothing)(Just)(o)(u)))(toAff$p(coerce)))(traverse$2(f=>{const d=readForeignProfile.readImpl(f);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));if(d.tag==="Right")return _pure(d._1);fail$3()})),getLowestAvailablePlayer=o=>{const u=(()=>{if(o.player4.tag==="Nothing")return $Maybe("Just",Player4);if(o.player4.tag==="Just")return Nothing;fail$3()})(),f=(()=>{if(o.player3.tag==="Nothing")return $Maybe("Just",Player3);if(o.player3.tag==="Just")return Nothing;fail$3()})(),d=(()=>{if(o.player2.tag==="Nothing")return $Maybe("Just",Player2);if(o.player2.tag==="Just")return Nothing;fail$3()})(),m=(()=>{if(o.player1.tag==="Nothing")return $Maybe("Just",Player1);if(o.player1.tag==="Just")return Nothing;fail$3()})(),h=(()=>d.tag==="Nothing"?m:d)(),b=(()=>f.tag==="Nothing"?h:f)();return u.tag==="Nothing"?b:u},getEventsAff=o=>u=>_bind(_bind(_liftEffect(getEvents(o)(u)))(toAff$p(coerce)))(f=>{const d=read4(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getEventAff=o=>u=>f=>_bind(_bind(_liftEffect(getEvent(o)(u)(f)))(toAff$p(coerce)))(d=>{const m=read5(d);if(m.tag==="Right")return _pure(m._1);if(m.tag==="Left")return _throwError(error$1(showNonEmptyList.show(m._1)));fail$3()}),forkTrackAff=o=>u=>f=>_bind(_liftEffect(forkTrack(o)(u)(f)))(toAff$p(coerce)),eventChannelChanges=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:()=>unit};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(listenToRemoteChannelChanges(o)(u)(h=>{const b=readForeignRide.readImpl(h);if(b.tag==="Left")return throwException(error$1(showNonEmptyList.show(b._1)));if(b.tag==="Right")return f(b._1);fail$3()})))(toAff$p(coerce)))(h=>_liftEffect(()=>d.value=h)))().run(),bindE(()=>d.value)(identity$u)}),deleteEventAff=o=>u=>f=>_bind(_liftEffect(deleteEvent(o)(u)(f)))(toAff$p(coerce)),claimPlayerAff=o=>u=>f=>d=>_bind(_liftEffect(claimPlayer(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1";if(d.tag==="Player2")return"player2";if(d.tag==="Player3")return"player3";if(d.tag==="Player4")return"player4";fail$3()})())))(toAff$p(coerce)),getPlayerForChannel=(()=>{const o=u=>f=>d=>m=>h=>_bind((()=>{const b=_throwError(error$1("No player found"));return u>=4?b:_pure(unit)})())(()=>_bind(getRideAff(d)(m))(b=>{if(b.tag==="Nothing")return _throwError(error$1("PROGRAMMING ERROR: Ride has not been created yet, verify control flow!"));if(b.tag==="Just"){const y=getLowestAvailablePlayer(b._1._1);if(h.tag==="Nothing"){if(y.tag==="Nothing")return _pure(Nothing);if(y.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(y._1)))(_=>{if(_.tag==="Right")return _pure($Maybe("Just",y._1));if(_.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}if(h.tag==="Nothing")return _pure(Nothing);if(h.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(h._1)))(_=>{if(_.tag==="Right")return _pure($Maybe("Just",h._1));if(_.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}fail$3()}));return o(0)})(),addTrackAff=o=>u=>_bind(_liftEffect(addTrack(o)(removeUndefineds(writeImpl3$1(u._1)))))(toAff$p(coerce)),addRideAff=o=>u=>_bind(_liftEffect(addRide(o)(removeUndefineds(writeImpl1(u._1)))))(toAff$p(coerce)),createRideIfNotExistsYet=o=>u=>_bind(getRideAff(o)(u))(f=>{if(f.tag==="Nothing")return _map(d=>d.id)(addRideAff(o)(defaultRide));if(f.tag==="Just")return _pure(u);fail$3()}),addEventAff=o=>u=>f=>_bind(_liftEffect(addEvent(o)(u)(removeUndefineds(writeForeignEventV0.writeImpl(f._1)))))(toAff$p(coerce));class e$1 extends Error{}class t extends e$1{}class n$1 extends e$1{}const c=(o,u=",")=>o.join(u),l$1={accept:"*",multiple:!1,strict:!1},r$1=o=>{const{accept:u,multiple:f,strict:d}={...l$1,...o},m=p({multiple:f,accept:Array.isArray(u)?c(u):u});return new Promise(h=>{m.onchange=()=>{h(s(m.files,f,d)),m.remove()},m.click()})},s=(o,u,f)=>new Promise((d,m)=>{if(!o)return m(new t);const h=i$2(o,u,f);if(!h)return m(new n$1);d(h)}),i$2=(o,u,f)=>!u&&f?o.length===1?o[0]:null:o.length?o:null,p=({accept:o,multiple:u})=>{const f=document.createElement("input");return f.type="file",f.multiple=u,f.accept=o,f},fileList=()=>r$1(),$AugmentedEventV0=(o,u)=>({tag:o,_1:u}),$AugmentedEvent_=o=>({tag:"AugmentedEventV0",_1:o}),applicativeStateT=applicativeStateT$1(monadIdentity),traverse$1=(()=>traversableArray.traverse(applicativeStateT))(),bindStateT=bindStateT$1(monadIdentity),map=(()=>functorStateT$1(functorIdentity).map)(),monadStateStateT=monadStateStateT$2(monadIdentity),toAugmentedEvents=o=>traverse$1(u=>{if(u._1.tag==="BasicEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$1(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+u._1._1.marker2Time;if(m.tag==="Position3")return .2+u._1._1.marker3Time;if(m.tag==="Position4")return .2+u._1._1.marker4Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LeapEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$1(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LongEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$1(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));fail$3()})(sortBy$1(u=>f=>ordNumber.compare((()=>{if(u._1.tag==="BasicEventV0"||u._1.tag==="LeapEventV0"||u._1.tag==="LongEventV0")return u._1._1.marker1Time;fail$3()})())((()=>{if(f._1.tag==="BasicEventV0"||f._1.tag==="LeapEventV0"||f._1.tag==="LongEventV0")return f._1._1.marker1Time;fail$3()})()))(o))(Leaf)._1,withTime=o=>backdoor.makeEvent(u=>subscribe(o)(f=>()=>{const d=now();return u({time:d,value:f})()})),onAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_on}})),offAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_off}})),playBuf$3=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),basic$1=o=>gain_(initialGainNumber)(1)([playBuf$3({buffer:o.silence})((u,f)=>{const d=o.buffer(u,b=>f({type:"buffer",value:b})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),emptyMatrix={n11:0,n12:0,n13:0,n14:0,n21:0,n22:0,n23:0,n24:0,n31:0,n32:0,n33:0,n34:0,n41:0,n42:0,n43:0,n44:1},$Semaphore=(o,u)=>({tag:o,_1:u}),$Stage=o=>({tag:o}),oneOf$d=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$6=traverse_$9(applicativeST)(foldableObject),identity$7=o=>o,Begin=$Stage("Begin"),Middle=$Stage("Middle"),End=$Stage("End"),Release=$Semaphore("Release"),withRemoval$p=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},singleInstance=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=d(oneOf$d([backdoor.makeLemmingEvent(b=>y=>()=>{const _={value:empty$2},w=b(o)(M=>bind_(onMatch()()()({matrix4:$=>{const g=f.setSingleInstancedMeshMatrix4({id:u.meshId,instanceId:u.instanceId,matrix4:$});return()=>g},color:$=>{const g=f.setSingleInstancedMeshColor({id:u.meshId,instanceId:u.instanceId,color:$});return()=>g},onClick:$=>withRemoval$p(_)("click")(f.setIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:$}))(f.removeIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:$})),onMouseDown:$=>withRemoval$p(_)("mousedown")(f.setIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:$}))(f.removeIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:$})),onMouseUp:$=>withRemoval$p(_)("mouseup")(f.setIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:$}))(f.removeIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:$})),onMouseMove:$=>withRemoval$p(_)("mousemove")(f.setIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:$}))(f.removeIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:$})),onTouchStart:$=>withRemoval$p(_)("touchstart")(f.setIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:$}))(f.removeIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:$})),onTouchEnd:$=>withRemoval$p(_)("touchend")(f.setIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:$}))(f.removeIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:$})),onTouchMove:$=>withRemoval$p(_)("touchmove")(f.setIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:$}))(f.removeIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:$})),onTouchCancel:$=>withRemoval$p(_)("touchcancel")(f.setIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:$}))(f.removeIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:$}))})(case_)(M))(y))();return()=>{const M=_.value;return foreachE(values(M))(y)(),w()}})]))(m);return()=>h()}),roundRobinInstancedMesh=o=>u=>f=>d=>m=>$Entity("Element'",h=>b=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=b.ids(),M={value:Nothing},$={value:Nothing};h.raiseId(w)();const g=y(oneOf$d([f({parent:Nothing,scope:h.scope,raiseId:I=>()=>(M.value=$Maybe("Just",I),unit)})(b),d({parent:Nothing,scope:h.scope,raiseId:I=>()=>($.value=$Maybe("Just",I),unit)})(b)]))(_)(),v=M.value,k=$.value,C=y((()=>{if(v.tag==="Nothing"||k.tag==="Nothing")return plusEvent.empty;if(v.tag==="Just"){if(k.tag==="Just")return oneOf$d([applicativeEvent.pure(b.makeInstancedMesh({...o,id:w,parent:h.parent,scope:h.scope,geometry:v._1,material:k._1,count:u})),backdoor.makeLemmingEvent(I=>O=>{const x=range(0)(u-1|0);return()=>{const F={value:x},R={value:empty$2},L=I(m)(J=>()=>{const K=F.value,ee=uncons$1(K);if(ee.tag==="Nothing")return unit;if(ee.tag==="Just"){F.value=ee._1.tail;const H=b.ids(),q={value:()=>unit},X=b.ids(),ie={value:()=>unit},Q={value:()=>unit},G={value:Begin},ne=I(J)(le=>()=>{const ue=G.value;if(le.tag==="Release"){if(ue.tag==="Middle"){G.value=End;const ge=()=>{const ye=F.value;F.value=nubBy(ordInt.compare)(concatArray(ye)([ee._1.head])),bind_(()=>q.value)(identity$u)(),bind_(()=>ie.value)(identity$u)();const _e=R.value;R.value=mutate(deleteImpl(H))(_e);const Ce=R.value;return R.value=mutate(deleteImpl(X))(Ce),unit};return Q.value=ge,ge()}return unit}if(le.tag==="Acquire"){if(ue.tag==="Begin"){G.value=Middle;const ge=I(le._1({meshId:w,instanceId:ee._1.head})(b))(O)(),ye=R.value;return R.value=mutate(poke(X)(ge))(ye),ie.value=ge,unit}return unit}return unit})();q.value=ne;const re=R.value;R.value=mutate(poke(H)(ne))(re);const Y=Q.value;return Y()}fail$3()})(),D=bind_(()=>R.value)(traverse_$6(identity$7));return()=>(D(),L())}})]);fail$3()}fail$3()})())(_)(),S=_(b.deleteFromCache({id:w}));return()=>(S(),g(),C())})),max$7=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$c=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$6=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),for_$5=for_$9(applicativeAff)(foldableMaybe),basic=o=>{const u=indexImpl(3)(o.myInfo.beats),f=indexImpl(2)(o.myInfo.beats),d=indexImpl(1)(o.myInfo.beats),m=indexImpl(0)(o.myInfo.beats),h=filter$p(b=>o.myInfo.uniqueId===b.uniqueId)(o.notifications.hitBasic);return keepLatest(backdoor.bus(b=>y=>{const _=oneOf$c([(M,$)=>y(M,g=>$(g.logicalBeat)),(()=>{const M=filter$p($=>o.myInfo.uniqueId===$.uniqueId)(h);return($,g)=>M($,v=>g(v.logicalBeat))})()]),w=compactableEvent.compact(sampleOn((M,$)=>{const g=applicativeEvent.pure(Nothing)(M,$),v=_(M,k=>$($Maybe("Just",k)));return()=>(g(),v())})((M,$)=>o.animatedStuff(M,g=>$(v=>{if(v.tag==="Nothing")return $Maybe("Just",g.rateInfo);if(v.tag==="Just")return v._1>=g.rateInfo.beats?$Maybe("Just",g.rateInfo):Nothing;fail$3()}))));return keepLatest((()=>{const M=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const $=oneOff(Just)(sampleBy(functorEvent)($$const)(g=>cInstant(o.cnow)((v,k)=>g(v,C=>k(S=>C($Maybe("Just",S))))))(_));return(g,v)=>{const k=applicativeEvent.pure(Nothing)(g,v),C=$(g,v);return()=>(k(),C())}})())(sampleOn(($,g)=>{const v=applicativeEvent.pure(o.initialDims)($,C=>{const S={iw:C.iw,ih:C.ih,r:C.iw/C.ih};return g(S)}),k=o.resizeEvent($,C=>g({iw:C.iw,ih:C.ih,r:C.iw/C.ih}));return()=>(v(),k())})(($,g)=>o.animatedStuff($,v=>g(k=>C=>S=>({rateInfo:v.rateInfo,ratio:k,endTime:C,renderingInfo:S}))))));return backdoor.memoize(($,g)=>M($,v=>{const k={n14:(()=>{if(o.myInfo.column.tag==="C1")return v.renderingInfo.halfAmbitus*-1*v.ratio.r;if(o.myInfo.column.tag==="C2")return v.renderingInfo.halfAmbitus*-.875*v.ratio.r;if(o.myInfo.column.tag==="C3")return v.renderingInfo.halfAmbitus*-.75*v.ratio.r;if(o.myInfo.column.tag==="C4")return v.renderingInfo.halfAmbitus*-.625*v.ratio.r;if(o.myInfo.column.tag==="C5")return v.renderingInfo.halfAmbitus*-.5*v.ratio.r;if(o.myInfo.column.tag==="C6")return v.renderingInfo.halfAmbitus*-.375*v.ratio.r;if(o.myInfo.column.tag==="C7")return v.renderingInfo.halfAmbitus*-.25*v.ratio.r;if(o.myInfo.column.tag==="C8")return v.renderingInfo.halfAmbitus*-.125*v.ratio.r;if(o.myInfo.column.tag==="C9")return v.renderingInfo.halfAmbitus*0*v.ratio.r;if(o.myInfo.column.tag==="C10")return v.renderingInfo.halfAmbitus*.125*v.ratio.r;if(o.myInfo.column.tag==="C11")return v.renderingInfo.halfAmbitus*.25*v.ratio.r;if(o.myInfo.column.tag==="C12")return v.renderingInfo.halfAmbitus*.375*v.ratio.r;if(o.myInfo.column.tag==="C13")return v.renderingInfo.halfAmbitus*.5*v.ratio.r;if(o.myInfo.column.tag==="C14")return v.renderingInfo.halfAmbitus*.625*v.ratio.r;if(o.myInfo.column.tag==="C15")return v.renderingInfo.halfAmbitus*.75*v.ratio.r;if(o.myInfo.column.tag==="C16")return v.renderingInfo.halfAmbitus*.875*v.ratio.r;if(o.myInfo.column.tag==="C17")return v.renderingInfo.halfAmbitus*1*v.ratio.r;fail$3()})(),n24:0,n34:(()=>{if(v.rateInfo.beats<m.startsAt){const I=-5*v.renderingInfo.barZSpacing,O=-3*v.renderingInfo.barZSpacing;if(m.startsAt===o.myInfo.appearsAt||O===I)return I-.115;const x=(O-I)/(m.startsAt-o.myInfo.appearsAt);return x*v.rateInfo.beats+(I-x*o.myInfo.appearsAt)-.115}if(v.rateInfo.beats<d.startsAt){const I=-3*v.renderingInfo.barZSpacing,O=-2*v.renderingInfo.barZSpacing;if(d.startsAt===m.startsAt||O===I)return I-.115;const x=(O-I)/(d.startsAt-m.startsAt);return x*v.rateInfo.beats+(I-x*m.startsAt)-.115}if(v.rateInfo.beats<f.startsAt){const I=-2*v.renderingInfo.barZSpacing,O=-1*v.renderingInfo.barZSpacing;if(f.startsAt===d.startsAt||O===I)return I-.115;const x=(O-I)/(f.startsAt-d.startsAt);return x*v.rateInfo.beats+(I-x*d.startsAt)-.115}if(v.rateInfo.beats<u.startsAt){const I=-1*v.renderingInfo.barZSpacing;if(u.startsAt===f.startsAt||I===0)return I-.115;const O=-I/(u.startsAt-f.startsAt);return O*v.rateInfo.beats+(I-O*f.startsAt)-.115}const C=u.startsAt+.2;if(C===u.startsAt)return-.115;const S=.5/(C-u.startsAt);return S*v.rateInfo.beats+-(S*u.startsAt)-.115})(),n11:(()=>{const C=v.renderingInfo.halfAmbitus*v.ratio.r/9;if(v.endTime.tag==="Nothing")return C;if(v.endTime.tag==="Just")return max$7(0)(C-C*3*(v.rateInfo.epochTime-v.endTime._1)/1e3);fail$3()})(),n22:(()=>{if(v.endTime.tag==="Nothing")return .02;if(v.endTime.tag==="Just")return max$7(0)(.02-.06*(v.rateInfo.epochTime-v.endTime._1)/1e3);fail$3()})(),n33:(()=>{if(v.endTime.tag==="Nothing")return .23;if(v.endTime.tag==="Just")return max$7(0)(.23-.6900000000000001*(v.rateInfo.epochTime-v.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return g(k)}))($=>rider({event:oneOfMap$6(applicativeEvent.pure)(arrayMap(g=>oneOf$c([applicativeEvent.pure($Child("Insert",g.audio(w))),keepLatest((()=>{const v=withTime(applicativeEvent.pure(unit));return(k,C)=>v(k,S=>{const I=lowPrioritySchedule(o.lpsCallback)(1e4+S.time)(applicativeEvent.pure(Remove));return C(I)})})())]))(o.myInfo.beats)),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOn(applyEvent.apply((g,v)=>{const k=applicativeEvent.pure(Nothing)(g,S=>v(I=>({iWasPlayed:S,hbop:I}))),C=y(g,S=>v(I=>({iWasPlayed:$Maybe("Just",S),hbop:I})));return()=>(k(),C())})((()=>{const g=filter$p(v=>v.player.tag==="Player1"?o.myPlayer.tag!=="Player1":v.player.tag==="Player2"?o.myPlayer.tag!=="Player2":v.player.tag==="Player3"?o.myPlayer.tag!=="Player3":v.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(h);return(v,k)=>{const C=applicativeEvent.pure(Nothing)(v,k),S=g(v,I=>k($Maybe("Just",I)));return()=>(C(),S())}})()))((()=>{const g=o.columnEventConstructor(o.myInfo.column);return(v,k)=>g(v,C=>k(S=>(()=>{if(S.iWasPlayed.tag==="Nothing")return!1;if(S.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",I=>{const O=(()=>{if(o.myPlayer.tag==="Player1")return I.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return I.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return I.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return I.playerPositions.p4p;fail$3()})(),x=o.myInfo.raycastingCanStartAt(O);if(O.tag==="Position1"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D.n14,y:D.n24,z:D.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=m.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:m.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position2"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D.n14,y:D.n24,z:D.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=d.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:d.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position3"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D.n14,y:D.n24,z:D.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=f.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:f.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position4"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D.n14,y:D.n24,z:D.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const F=u.startsAt-I.rateInfo.beats;return I.rateInfo.beats>x&&F<2&&F>-.5?$Maybe("Just",$Either("Right",{cbeat:I.rateInfo.beats,canStartAt:x,rb:u.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",F=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D.n14,y:D.n24,z:D.n34})),player:S.hbop._1.player})));S.hbop.tag==="Nothing"&&fail$3(),fail$3()})))})())),push:g=>{const v=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))(k=>for_$5(g({rateInfo:k.rateInfo,playerPositions:k.playerPositions}))(C=>{if(C.tag==="Left")return _bind(_liftEffect(o.cnow))(S=>_liftEffect(o.pushBasicVisualForLabel(C._1(S))));if(C.tag==="Right")return _bind(_liftEffect(o.cnow))(S=>{const I=(()=>{if(o.myPlayer.tag==="Player1")return k.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return k.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return k.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return k.playerPositions.p4p;fail$3()})();if(I.tag==="Position1"){const O=k.rateInfo.beats-m.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S,translation:(F,R)=>$(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position2"){const O=k.rateInfo.beats-d.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S,translation:(F,R)=>$(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position3"){const O=k.rateInfo.beats-f.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S,translation:(F,R)=>$(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}if(I.tag==="Position4"){const O=k.rateInfo.beats-u.startsAt,x={uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:O,hitAt:k.rateInfo.beats,issuedAt:S,translation:(F,R)=>$(F,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(x)))(()=>_liftEffect(b(x))))}fail$3()});fail$3()})));return()=>(v().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$c([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(g,v)=>$(g,k=>{const C={type:"matrix4",value:o.mkMatrix4(k)};return v(C)})]))))))})())}))},$MeshPhongMaterialOptions=()=>({tag:"MeshPhongMaterialOptions"}),identity$6=o=>o,oneOf$b=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshPhongMaterialOptions=$MeshPhongMaterialOptions(),convertOptionMeshPhongMat49={convertOption:o=>u=>Just},convertOptionMeshPhongMat50={convertOption:o=>u=>identity$6},meshPhongMaterial$2=o=>u=>f=>{const d=o.toInitializeMeshPhongMaterial(u);return m=>h=>backdoor.makeLemmingEvent(b=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=b(oneOf$b([applicativeEvent.pure(h.makeMeshPhongMaterial({id:_,parent:m.parent,scope:m.scope,parameters:{meshPhongMaterial:d.meshPhongMaterial,color:d.color,map:d.map,combine:d.combine,fog:d.fog,reflectivity:d.reflectivity,refractionRatio:d.refractionRatio,shininess:d.shininess,specular:d.specular,specularMap:d.specularMap,wireframeLinecap:d.wireframeLinecap,wireframeLinejoin:d.wireframeLinejoin,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,alphaMap:d.alphaMap,envMap:d.envMap,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),($,g)=>f($,v=>{const k=onMatch()()()({color:C=>h.setColor({id:_,color:C}),map:C=>h.setMap({id:_,map:C}),lightMap:C=>h.setLightMap({id:_,lightMap:C}),lightMapIntensity:C=>h.setLightMapIntensity({id:_,lightMapIntensity:C}),aoMap:C=>h.setAoMap({id:_,aoMap:C}),aoMapIntensity:C=>h.setAoMapIntensity({id:_,aoMapIntensity:C}),emissive:C=>h.setEmissive({id:_,emissive:C}),emissiveIntensity:C=>h.setEmissiveIntensity({id:_,emissiveIntensity:C}),emissiveMap:C=>h.setEmissiveMap({id:_,emissiveMap:C}),bumpMap:C=>h.setBumpMap({id:_,bumpMap:C}),bumpScale:C=>h.setBumpScale({id:_,bumpScale:C}),normalMap:C=>h.setNormalMap({id:_,normalMap:C}),normalMapType:C=>h.setNormalMapType({id:_,normalMapType:C}),normalScale:C=>h.setNormalScale({id:_,normalScale:C}),displacementMap:C=>h.setDisplacementMap({id:_,displacementMap:C}),displacementScale:C=>h.setDisplacementScale({id:_,displacementScale:C}),displacementBias:C=>h.setDisplacementBias({id:_,displacementBias:C}),alphaMap:C=>h.setAlphaMap({id:_,alphaMap:C}),envMap:C=>h.setEnvMap({id:_,envMap:C}),wireframe:C=>h.setWireframe({id:_,wireframe:C}),wireframeLinewidth:C=>h.setWireframeLinewidth({id:_,wireframeLinewidth:C}),flatShading:C=>h.setFlatShading({id:_,flatShading:C}),combine:C=>h.setCombine({id:_,combine:C}),fog:C=>h.setFog({id:_,fog:C}),reflectivity:C=>h.setReflectivity({id:_,reflectivity:C}),refractionRatio:C=>h.setRefractionRatio({id:_,refractionRatio:C}),shininess:C=>h.setShininess({id:_,shininess:C}),specular:C=>h.setSpecular({id:_,specular:C}),specularMap:C=>h.setSpecularMap({id:_,specularMap:C}),wireframeLinecap:C=>h.setWireframeLinecap({id:_,wireframeLinecap:C}),wireframeLinejoin:C=>h.setWireframeLinejoin({id:_,wireframeLinejoin:C})})(case_)(v);return g(k)})]))(y)(),M=y(h.deleteFromCache({id:_}));return()=>(M(),w())})},defaultMeshPhongMaterial={...defaultMaterials,color:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,alphaMap:Nothing,envMap:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing,combine:Nothing,fog:Nothing,reflectivity:Nothing,refractionRatio:Nothing,shininess:Nothing,specular:Nothing,specularMap:Nothing,wireframeLinecap:Nothing,wireframeLinejoin:Nothing},identity$5=o=>o,pure=(()=>applicativeABehavior(functorEvent).pure)(),fromFoldable$6=foldrArray(Cons)(Nil),oneOfMap$5=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),box$1=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshPhongMaterial$1=meshPhongMaterial$2((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshPhongMat50)()()()({reflectSymbol:()=>"meshPhongMaterial"}))(convertOptionMeshPhongMat49)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshPhongMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshPhongMaterialOptions)($$Proxy)(u)({}),defaultMeshPhongMaterial)}})()),singleBeat$2=o=>({startsAt:o.myBeat,audio:u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$5)((f,d)=>u(f,m=>{const h=(()=>m.beats+4>=o.myBeat?$Maybe("Just",(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*o.myBeat+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})()):Nothing)();return d(h)})))(f=>basic$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f})))}),severalBeats=o=>[singleBeat$2({myBeat:o.b0,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b1,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b2,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b3,buffer:pure(o.silence),silence:o.silence})],rideBasics=o=>u=>{const f=d=>m=>h=>{if(m.tag==="Nil"){const w=f(d)(Nil);return defer(M=>$Tuple(Nil,w))}const b=span(w=>w.appearsAt<=h.beats+4)(m),y=listMap(d)(b.init),_=f(d)(b.rest);return defer(w=>$Tuple(y,_))};return $Entity("FixedChildren'",[roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(100)(box$1({box:u.threeDI.boxGeometry}))(meshPhongMaterial$1({meshPhongMaterial:u.threeDI.meshPhongMaterial,color:u.mkColor($RGB(.798,.927,.778))})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$5(applicativeEvent.pure),m=scheduleCf(f(h=>{const b=basic({myInfo:{beats:severalBeats({b0:h.b0,b1:h.b1,b2:h.b2,b3:h.b3,silence:u.silence}),raycastingCanStartAt:h.raycastingCanStartAt,uniqueId:h.uniqueId,appearsAt:h.appearsAt,column:h.column},...unsafeUnionFn(u,h)}),y=keepLatest((()=>{const _=withTime(applicativeEvent.pure(unit));return(w,M)=>_(w,$=>{const g=lowPrioritySchedule(u.lpsCallback)(15e3+$.time)(applicativeEvent.pure(Release));return M(g)})})());return(_,w)=>{const M=b(_,g=>w($Semaphore("Acquire",g))),$=y(_,w);return()=>(M(),$())}})(foldableWithIndexList.foldrWithIndex(h=>b=>y=>$List("Cons",{uniqueId:h,appearsAt:3*b.marker1Time-2*b.marker2Time+1,b0:b.marker1Time+1,b1:b.marker2Time+1,b2:b.marker3Time+1,b3:b.marker4Time+1,text:replicate$1(4)(""),raycastingCanStartAt:_=>1+b.raycastingCanStartAt(_),column:b.column},y))(Nil)(sortBy(h=>b=>ordNumber.compare(h.marker1Time)(b.marker1Time))(fromFoldable$6(o)))))((h,b)=>u.animatedStuff(h,y=>b(y.rateInfo)));return(h,b)=>m(h,y=>{const _=d(y);return b(_)})})()))])},playBuf$2=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),leap$1=o=>gain_(initialGainNumber)(1)([playBuf$2({buffer:o.silence})((u,f)=>{const d=o.buffer(u,b=>f({type:"buffer",value:b})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),max$6=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$a=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$4=for_$9(applicativeAff)(foldableMaybe),show1$1=o=>{const u=cons(intercalate$2(": ")(["canStartAt",showNumberImpl(o.canStartAt)]))(cons(intercalate$2(": ")(["cbeat",showNumberImpl(o.cbeat)]))(cons(intercalate$2(": ")(["rb",showNumberImpl(o.rb)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},leap=o=>{const u=filter$p(f=>o.uniqueId===f.uniqueId)(o.notifications.hitLeap);return keepLatest(backdoor.bus(f=>d=>{const m=filter$p(b=>o.uniqueId===b.uniqueId)(u),h=(b,y)=>{const _=d(b,M=>y(unit)),w=m(b,M=>y(unit));return()=>(_(),w())};return keepLatest((()=>{const b=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const y=oneOff(Just)(sampleBy(functorEvent)($$const)(_=>cInstant(o.cnow)((w,M)=>_(w,$=>M(g=>$($Maybe("Just",g))))))(h));return(_,w)=>{const M=applicativeEvent.pure(Nothing)(_,w),$=y(_,w);return()=>(M(),$())}})())(sampleOn((y,_)=>{const w=applicativeEvent.pure(o.initialDims)(y,$=>{const g={iw:$.iw,ih:$.ih,r:$.iw/$.ih};return _(g)}),M=o.resizeEvent(y,$=>_({iw:$.iw,ih:$.ih,r:$.iw/$.ih}));return()=>(w(),M())})((y,_)=>o.animatedStuff(y,w=>_(M=>$=>g=>({rateInfo:w.rateInfo,ratio:M,endTime:$,renderingInfo:g}))))));return backdoor.memoize((y,_)=>b(y,w=>{const M={n14:(()=>{if(o.column.tag==="C1")return w.renderingInfo.halfAmbitus*-1*w.ratio.r;if(o.column.tag==="C2")return w.renderingInfo.halfAmbitus*-.875*w.ratio.r;if(o.column.tag==="C3")return w.renderingInfo.halfAmbitus*-.75*w.ratio.r;if(o.column.tag==="C4")return w.renderingInfo.halfAmbitus*-.625*w.ratio.r;if(o.column.tag==="C5")return w.renderingInfo.halfAmbitus*-.5*w.ratio.r;if(o.column.tag==="C6")return w.renderingInfo.halfAmbitus*-.375*w.ratio.r;if(o.column.tag==="C7")return w.renderingInfo.halfAmbitus*-.25*w.ratio.r;if(o.column.tag==="C8")return w.renderingInfo.halfAmbitus*-.125*w.ratio.r;if(o.column.tag==="C9")return w.renderingInfo.halfAmbitus*0*w.ratio.r;if(o.column.tag==="C10")return w.renderingInfo.halfAmbitus*.125*w.ratio.r;if(o.column.tag==="C11")return w.renderingInfo.halfAmbitus*.25*w.ratio.r;if(o.column.tag==="C12")return w.renderingInfo.halfAmbitus*.375*w.ratio.r;if(o.column.tag==="C13")return w.renderingInfo.halfAmbitus*.5*w.ratio.r;if(o.column.tag==="C14")return w.renderingInfo.halfAmbitus*.625*w.ratio.r;if(o.column.tag==="C15")return w.renderingInfo.halfAmbitus*.75*w.ratio.r;if(o.column.tag==="C16")return w.renderingInfo.halfAmbitus*.875*w.ratio.r;if(o.column.tag==="C17")return w.renderingInfo.halfAmbitus*1*w.ratio.r;fail$3()})(),n24:0,n34:(()=>{const $=-3*w.renderingInfo.barZSpacing;if(o.hitsLastPositionAt===o.hitsFirstPositionAt||$===0)return $-.1;const g=-$/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return g*w.rateInfo.beats+($-g*o.hitsFirstPositionAt)-.1})(),n11:(()=>{const $=w.renderingInfo.halfAmbitus*w.ratio.r/24;if(w.endTime.tag==="Nothing")return $;if(w.endTime.tag==="Just")return max$6(0)($-$*3*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n22:(()=>{if(w.endTime.tag==="Nothing")return .02;if(w.endTime.tag==="Just")return max$6(0)(.02-.06*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n33:(()=>{if(w.endTime.tag==="Nothing")return .2;if(w.endTime.tag==="Just")return max$6(0)(.2-.6000000000000001*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return _(M)}))(y=>rider({event:applicativeEvent.pure(oneOf$a([applicativeEvent.pure($Child("Insert",o.sound(keepLatest((_,w)=>oneOff(Just)(h)(_,M=>w(($,g)=>o.animatedStuff($,v=>g(v.rateInfo)))))))),keepLatest((()=>{const _=withTime(applicativeEvent.pure(unit));return(w,M)=>_(w,$=>{const g=lowPrioritySchedule(o.lpsCallback)(1e4+$.time)(applicativeEvent.pure(Remove));return M(g)})})())])),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOn(applyEvent.apply((_,w)=>{const M=applicativeEvent.pure(Nothing)(_,g=>w(v=>({iWasPlayed:g,hbop:v}))),$=d(_,g=>w(v=>({iWasPlayed:$Maybe("Just",g),hbop:v})));return()=>(M(),$())})((()=>{const _=filter$p(w=>w.player.tag==="Player1"?o.myPlayer.tag!=="Player1":w.player.tag==="Player2"?o.myPlayer.tag!=="Player2":w.player.tag==="Player3"?o.myPlayer.tag!=="Player3":w.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u);return(w,M)=>{const $=applicativeEvent.pure(Nothing)(w,M),g=_(w,v=>M($Maybe("Just",v)));return()=>($(),g())}})()))((()=>{const _=o.columnEventConstructor(o.column);return(w,M)=>_(w,$=>M(g=>(()=>{if(g.iWasPlayed.tag==="Nothing")return!1;if(g.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",v=>{const k=(()=>{if(o.myPlayer.tag==="Player1")return v.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return v.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return v.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return v.playerPositions.p4p;fail$3()})(),C=o.raycastingCanStartAt(k),S=(()=>{if(k.tag==="Position1")return o.hitsFirstPositionAt;if(k.tag==="Position2")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.33+o.hitsFirstPositionAt;if(k.tag==="Position3")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.66+o.hitsFirstPositionAt;if(k.tag==="Position4")return o.hitsLastPositionAt;fail$3()})();if(g.hbop.tag==="Just")return $Maybe("Just",$Either("Left",I=>({uniqueId:g.hbop._1.uniqueId,oldPosition:g.hbop._1.oldPosition,newPosition:g.hbop._1.newPosition,hitAt:g.hbop._1.hitAt,issuedAt:I,translation:(O,x)=>y(O,F=>x({x:F.n14,y:F.n24,z:F.n34})),player:g.hbop._1.player})));if(g.hbop.tag==="Nothing"){const I=S-v.rateInfo.beats;return v.rateInfo.beats>C&&I<2&&I>-.5?$Maybe("Just",$Either("Right",{cbeat:v.rateInfo.beats,canStartAt:C,rb:S})):Nothing}fail$3()})))})())),push:_=>{const w=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))(M=>for_$4(_({rateInfo:M.rateInfo,playerPositions:M.playerPositions}))($=>{if($.tag==="Left")return _bind(_liftEffect(o.cnow))(g=>{const v=$._1(g);return _bind(_liftEffect(log("drats, it wudn't me: "+showIntImpl(v.uniqueId))))(()=>_liftEffect(o.pushLeapVisualForLabel(v)))});if($.tag==="Right")return _bind(_liftEffect(log("Raycaster strikes again! "+show1$1($._1))))(()=>_bind(_liftEffect(o.cnow))(g=>{const v=(()=>{if(o.myPlayer.tag==="Player1")return M.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return M.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return M.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return M.playerPositions.p4p;fail$3()})(),k={uniqueId:o.uniqueId,hitAt:M.rateInfo.beats,issuedAt:g,oldPosition:v,newPosition:o.newPosition};return _bind(_liftEffect(o.pushLeapVisualForLabel({uniqueId:o.uniqueId,oldPosition:v,newPosition:o.newPosition,hitAt:M.rateInfo.beats,issuedAt:g,translation:(C,S)=>y(C,I=>S({x:I.n14,y:I.n24,z:I.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushLeap.push(k)))(()=>_liftEffect(f(k))))}));fail$3()})));return()=>(w().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$a([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(_,w)=>y(_,M=>{const $={type:"matrix4",value:o.mkMatrix4(M)};return w($)})]))))))})())}))},$CylinderOptions=()=>({tag:"CylinderOptions"}),identity$4=o=>o,CylinderOptions=$CylinderOptions(),convertOptionCylinderOpti6={convertOption:o=>u=>identity$4},convertOptionCylinderOpti10={convertOption:o=>u=>identity$4},defaultCylinder={radiusTop:1,radiusBottom:1,height:1,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},cylinder$1=o=>u=>{const f=o.toInitializeCylinder(u);return d=>m=>backdoor.makeLemmingEvent(h=>b=>()=>{const y=m.ids();d.raiseId(y)();const _=h(applicativeEvent.pure(m.makeCylinder({id:y,parent:d.parent,scope:d.scope,cylinder:f.cylinder,radiusTop:f.radiusTop,radiusBottom:f.radiusBottom,height:f.height,radialSegments:f.radialSegments,heightSegments:f.heightSegments,openEnded:f.openEnded,thetaStart:f.thetaStart,thetaLength:f.thetaLength,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(b)(),w=b(m.deleteFromCache({id:y}));return()=>(w(),_())})},identity$3=o=>o,fromFoldable$5=foldrArray(Cons)(Nil),max$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$4=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),cylinder=cylinder$1((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionCylinderOpti6)()()()({reflectSymbol:()=>"radialSegments"}))(convertOptionCylinderOpti10)()()()({reflectSymbol:()=>"cylinder"});return{toInitializeCylinder:u=>unsafeUnionFn(o.convertRecordOptions(CylinderOptions)($$Proxy)(u)({}),defaultCylinder)}})()),meshStandardMaterial$2=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat$1=o=>u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$3)((f,d)=>u(f,m=>d($Maybe("Just",0)))))(f=>leap$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f}))),rideLeaps=o=>u=>{const f=d=>{const m=h=>b=>y=>{if(b.tag==="Nil"){const $=m(h)(Nil);return defer(g=>$Tuple(Nil,$))}const _=span($=>$.hitsFirstPositionAt<=y.beats+4)(b),w=listMap(h)(_.init),M=m(h)(_.rest);return defer($=>$Tuple(w,M))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(25)(cylinder({cylinder:u.threeDI.cylinderGeometry,radialSegments:32}))(meshStandardMaterial$2({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor(d.couleur),roughness:.4})(plusEvent.empty))(keepLatest((()=>{const h=oneOfMap$4(applicativeEvent.pure),b=scheduleCf(m(y=>{const _=leap({sound:singleBeat$1({silence:u.silence,buffer:misbehavior(lookup("floorTom"))(u.buffers)}),uniqueId:y.uniqueId,newPosition:y.position,...unsafeUnionFn(u,y)}),w=keepLatest((()=>{const M=withTime(applicativeEvent.pure(unit));return($,g)=>M($,v=>{const k=lowPrioritySchedule(u.lpsCallback)(15e3+v.time)(applicativeEvent.pure(Release));return g(k)})})());return(M,$)=>{const g=_(M,k=>$($Semaphore("Acquire",k))),v=w(M,$);return()=>(g(),v())}})(fromFoldable$5(mapWithIndexArray(y=>_=>({uniqueId:y,hitsFirstPositionAt:min$4(_.marker1Time)(_.marker2Time)+1,hitsLastPositionAt:max$5(_.marker1Time)(_.marker2Time)+1,column:_.column,raycastingCanStartAt:w=>1+_.raycastingCanStartAt(w),position:_.position}))(d.levs))))((y,_)=>u.animatedStuff(y,w=>_(w.rateInfo)));return(y,_)=>b(y,w=>{const M=h(w);return _(M)})})()))};return $Entity("FixedChildren'",[f({levs:filter$1(d=>d.position.tag==="Position1")(o),couleur:$RGB(.2196078431372549,.8431372549019608,.9058823529411765)}),f({levs:filter$1(d=>d.position.tag==="Position2")(o),couleur:$RGB(.9764705882352941,.8784313725490196,.4627450980392157)}),f({levs:filter$1(d=>d.position.tag==="Position3")(o),couleur:$RGB(.9333333333333333,.19215686274509805,.4196078431372549)}),f({levs:filter$1(d=>d.position.tag==="Position4")(o),couleur:$RGB(.5176470588235295,.17647058823529413,.4470588235294118)})])},playBuf$1=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),$$long$1=o=>gain(initialGainNumber)(1)((u,f)=>o.offAt(u,d=>f({type:"gain",value:{type:"envelope",value:{d:1,o:d,p:[1,0]}}})))([playBuf$1({buffer:o.silence})((u,f)=>{const d=o.buffer(u,h=>f({type:"buffer",value:h})),m=onAt()(o.onAt)(u,f);return()=>(d(),m())})]);var AVar=function(){function o(){this.head=null,this.last=null,this.size=0}function u(M,$){this.queue=M,this.value=$,this.next=null,this.prev=null}function f(M){this.draining=!1,this.error=null,this.value=M,this.takes=new o,this.reads=new o,this.puts=new o}var d={};function m(M){try{M()}catch($){setTimeout(function(){throw $},0)}}function h(M,$){var g=new u(M,$);switch(M.size){case 0:M.head=g;break;case 1:g.prev=M.head,M.head.next=g,M.last=g;break;default:g.prev=M.last,M.last.next=g,M.last=g}return M.size++,g}function b(M){var $;switch(M.size){case 0:return null;case 1:$=M.head,M.head=null;break;case 2:$=M.last,M.head.next=null,M.last=null;break;default:$=M.last,M.last=$.prev,M.last.next=null}return $.prev=null,$.queue=null,M.size--,$.value}function y(M){var $;switch(M.size){case 0:return null;case 1:$=M.head,M.head=null;break;case 2:$=M.head,M.last.prev=null,M.head=M.last,M.last=null;break;default:$=M.head,M.head=$.next,M.head.prev=null}return $.next=null,$.queue=null,M.size--,$.value}function _(M){if(M.queue!==null){if(M.queue.last===M){b(M.queue);return}if(M.queue.head===M){y(M.queue);return}M.prev&&(M.prev.next=M.next),M.next&&(M.next.prev=M.prev),M.queue.size--,M.queue=null,M.value=null,M.next=null,M.prev=null}}function w(M,$){if(!$.draining){var g=$.puts,v=$.takes,k=$.reads,C,S,I,O,x;for($.draining=!0;;){if(C=null,S=null,I=null,O=$.value,x=k.size,$.error!==null){for(O=M.left($.error);C=y(g);)m(C.cb(O));for(;S=y(k);)m(S(O));for(;I=y(v);)m(I(O));break}if(O===d&&(C=y(g))&&($.value=O=C.value),O!==d){for(I=y(v);x--&&(S=y(k));)m(S(M.right(O)));I!==null&&($.value=d,m(I(M.right(O))))}if(C!==null&&m(C.cb(M.right(void 0))),$.value===d&&g.size===0||$.value!==d&&v.size===0)break}$.draining=!1}}return f.EMPTY=d,f.putLast=h,f.takeLast=b,f.takeHead=y,f.deleteCell=_,f.drainVar=w,f}();function empty$1(){return new AVar(AVar.EMPTY)}function _putVar(o,u,f,d){return function(){var m=AVar.putLast(f.puts,{cb:d,value:u});return AVar.drainVar(o,f),function(){AVar.deleteCell(m)}}}function _takeVar(o,u,f){return function(){var d=AVar.putLast(u.takes,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _readVar(o,u,f){return function(){var d=AVar.putLast(u.reads,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _tryTakeVar(o,u){return function(){var f=u.value;return f===AVar.EMPTY?o.nothing:(u.value=AVar.EMPTY,AVar.drainVar(o,u),o.just(f))}}const $AVarStatus=(o,u)=>({tag:o,_1:u}),Killed=o=>$AVarStatus("Killed",o),Filled=o=>$AVarStatus("Filled",o),Empty=$AVarStatus("Empty"),ffiUtil={left:Left,right:Right,nothing:Nothing,just:Just,killed:Killed,filled:Filled,empty:Empty},take$1=o=>makeAff(u=>{const f=_takeVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),read=o=>makeAff(u=>{const f=_readVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),put$1=o=>u=>makeAff(f=>{const d=_putVar(ffiUtil,o,u,f);return()=>{const m=d(),h=_liftEffect(m);return b=>h}}),empty=_liftEffect(empty$1),sampleJIT=o=>u=>backdoor.makeEvent(f=>{const d=_makeFiber(ffiUtil$1,_bind(empty)(m=>_liftEffect((()=>{const h=subscribe(o)(b=>{const y=_makeFiber(ffiUtil$1,_bind(_map(_=>unit)(_liftEffect(_tryTakeVar(ffiUtil,m))))(()=>put$1(b)(m)));return()=>(y().run(),unit)});return()=>{const b=h(),y=subscribe(u)(_=>f(_(m)))();return()=>(b(),y())}})())));return()=>{const m=d();m.run();const h=_makeFiber(ffiUtil$1,_bind(joinFiber(m))(b=>_liftEffect(b)));return()=>(h().run(),unit)}}),vbus$1=vbus$2()(vbusCons2({reflectSymbol:()=>"iWasPlayed"})()()(vbusCons2({reflectSymbol:()=>"iWasReleased"})()()(vbusNil)()())()()),mapAccum$4=mapAccum$e(eventIsEvent),max$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$9=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),clamp$1=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},$$long=o=>{const u=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.releaseLong),f=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.hitLong);return keepLatest(vbus$1($$Proxy)(d=>m=>{const h=filter$p($=>o.uniqueId===$.uniqueId)(u),b=($,g)=>{const v=m.iWasReleased($,C=>g(unit)),k=h($,C=>g(unit));return()=>(v(),k())},y=filter$p($=>o.uniqueId===$.uniqueId)(f),_=($,g)=>{const v=m.iWasPlayed($,C=>g(unit)),k=y($,C=>g(unit));return()=>(v(),k())},w=mapAccum$4($=>g=>{const v=-3*$.renderingInfo.barZSpacing,k=(()=>{if(o.hitsLastPositionAt===o.hitsFirstPositionAt||v===0)return v;const S=-v/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return S*$.animatedStuff.rateInfo.beats+(v-S*o.hitsFirstPositionAt)})(),C=(()=>$.endTime.tag==="Just"&&g.prevZ.tag==="Just"?g.consumedByPress+(k-g.prevZ._1):g.consumedByPress)();return $Tuple({prevZ:$Maybe("Just",k),consumedByPress:C},{logicalZ:k,prevZ:g.prevZ,consumedByPress:C,...$})})(sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOn((()=>{const $=sampleBy(functorEvent)($$const)(g=>cInstant(o.cnow)((v,k)=>g(v,C=>k(S=>C($Maybe("Just",S))))))(_);return(g,v)=>{const k=applicativeEvent.pure(Nothing)(g,v),C=b(g,I=>v(Nothing)),S=$(g,v);return()=>(k(),C(),S())}})())(sampleOn(($,g)=>{const v=applicativeEvent.pure(o.initialDims)($,C=>{const S={iw:C.iw,ih:C.ih,r:C.iw/C.ih};return g(S)}),k=o.resizeEvent($,C=>g({iw:C.iw,ih:C.ih,r:C.iw/C.ih}));return()=>(v(),k())})(($,g)=>o.animatedStuff($,v=>g(k=>C=>S=>({animatedStuff:v,ratio:k,endTime:C,renderingInfo:S})))))))({prevZ:Nothing,consumedByPress:0}),M=($,g)=>w($,v=>{const k=max$4(0)(o.length-v.consumedByPress),C=$Tuple(v,{n14:(()=>{if(o.column.tag==="C1")return v.renderingInfo.halfAmbitus*-1*v.ratio.r;if(o.column.tag==="C2")return v.renderingInfo.halfAmbitus*-.875*v.ratio.r;if(o.column.tag==="C3")return v.renderingInfo.halfAmbitus*-.75*v.ratio.r;if(o.column.tag==="C4")return v.renderingInfo.halfAmbitus*-.625*v.ratio.r;if(o.column.tag==="C5")return v.renderingInfo.halfAmbitus*-.5*v.ratio.r;if(o.column.tag==="C6")return v.renderingInfo.halfAmbitus*-.375*v.ratio.r;if(o.column.tag==="C7")return v.renderingInfo.halfAmbitus*-.25*v.ratio.r;if(o.column.tag==="C8")return v.renderingInfo.halfAmbitus*-.125*v.ratio.r;if(o.column.tag==="C9")return v.renderingInfo.halfAmbitus*0*v.ratio.r;if(o.column.tag==="C10")return v.renderingInfo.halfAmbitus*.125*v.ratio.r;if(o.column.tag==="C11")return v.renderingInfo.halfAmbitus*.25*v.ratio.r;if(o.column.tag==="C12")return v.renderingInfo.halfAmbitus*.375*v.ratio.r;if(o.column.tag==="C13")return v.renderingInfo.halfAmbitus*.5*v.ratio.r;if(o.column.tag==="C14")return v.renderingInfo.halfAmbitus*.625*v.ratio.r;if(o.column.tag==="C15")return v.renderingInfo.halfAmbitus*.75*v.ratio.r;if(o.column.tag==="C16")return v.renderingInfo.halfAmbitus*.875*v.ratio.r;if(o.column.tag==="C17")return v.renderingInfo.halfAmbitus*1*v.ratio.r;fail$3()})(),n24:0,n34:v.logicalZ-o.length/2-v.consumedByPress,n11:(()=>k===0?0:v.renderingInfo.halfAmbitus*v.ratio.r/9)(),n22:(()=>k===0?0:.02)(),n33:k,n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1});return g(C)});return keepLatest(backdoor.memoize(M)($=>keepLatest(backdoor.memoize(filter$p(g=>g.player.tag==="Player1"?o.myPlayer.tag!=="Player1":g.player.tag==="Player2"?o.myPlayer.tag!=="Player2":g.player.tag==="Player3"?o.myPlayer.tag!=="Player3":g.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(f))(g=>keepLatest(backdoor.memoize(filter$p(v=>v.player.tag==="Player1"?o.myPlayer.tag!=="Player1":v.player.tag==="Player2"?o.myPlayer.tag!=="Player2":v.player.tag==="Player3"?o.myPlayer.tag!=="Player3":v.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u))(v=>rider({event:applicativeEvent.pure(oneOf$9([applicativeEvent.pure($Child("Insert",o.sound({on:keepLatest((k,C)=>oneOff(Just)(_)(k,S=>C((I,O)=>o.animatedStuff(I,x=>O(x.rateInfo))))),off:keepLatest((k,C)=>oneOff(Just)(b)(k,S=>C((I,O)=>o.animatedStuff(I,x=>O(x.rateInfo)))))}))),keepLatest((()=>{const k=withTime(applicativeEvent.pure(unit));return(C,S)=>k(C,I=>{const O=lowPrioritySchedule(o.lpsCallback)(1e4+I.time)(applicativeEvent.pure(Remove));return S(O)})})())])),push:o.pushAudio})(applicativeEvent.pure(singleInstance(oneOf$9([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(k,C)=>$(k,S=>{const I={type:"matrix4",value:o.mkMatrix4(S._2)};return C(I)}),(()=>{const k=S=>sampleJIT(M)((I,O)=>S(I,x=>O(F=>R=>{const L=_makeFiber(ffiUtil$1,empty);return()=>{const D=L();D.run();const J=_makeFiber(ffiUtil$1,empty)();J.run(),_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(H=>_bind(read(F))(q=>{const X=abs((()=>{const G=(()=>{if(o.myPlayer.tag==="Player1")return q._1.animatedStuff.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return q._1.animatedStuff.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return q._1.animatedStuff.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return q._1.animatedStuff.playerPositions.p4p;fail$3()})();if(G.tag==="Position1")return-3*q._1.renderingInfo.barZSpacing-q._2.n33;if(G.tag==="Position2")return-2*q._1.renderingInfo.barZSpacing-q._2.n33;if(G.tag==="Position3")return-1*q._1.renderingInfo.barZSpacing-q._2.n33;if(G.tag==="Position4")return-q._2.n33;fail$3()})()),ie={uniqueId:o.uniqueId,hitAt:q._1.animatedStuff.rateInfo.beats,issuedAt:H,distance:X},Q={uniqueId:o.uniqueId,hitAt:q._1.animatedStuff.rateInfo.beats,issuedAt:H,distance:X,translation:(G,ne)=>$(G,re=>ne({x:re._2.n14,y:re._2.n24,z:re._2.n34})),player:o.myPlayer};return _bind(joinFiber(D))(G=>_bind(put$1(q._1.animatedStuff.rateInfo.beats)(G))(()=>_bind(joinFiber(J))(ne=>_bind(put$1(X)(ne))(()=>_bind(_liftEffect(o.pushHitLongVisualForLabel(Q)))(()=>_bind(_liftEffect(o.pushHitLong.push(ie)))(()=>_liftEffect(d.iWasPlayed(ie))))))))})))().run();const ee=_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(H=>_bind(read(F))(q=>_bind(joinFiber(D))(X=>_bind(take$1(X))(ie=>_bind(joinFiber(J))(Q=>_bind(take$1(Q))(G=>{const ne=clamp$1(0)(1)(q._1.consumedByPress/o.length),re={uniqueId:o.uniqueId,releasedAt:q._1.animatedStuff.rateInfo.beats,issuedAt:H,pctConsumed:ne,hitAt:ie,distance:G};return _bind(_liftEffect(o.pushReleaseLongVisualForLabel({uniqueId:o.uniqueId,hitAt:ie,releasedAt:q._1.animatedStuff.rateInfo.beats,distance:G,pctConsumed:ne,issuedAt:H,translation:(Y,le)=>$(Y,ue=>le({x:ue._2.n14,y:ue._2.n24,z:ue._2.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushReleaseLong.push(re)))(()=>_liftEffect(d.iWasReleased(re))))})))))));return()=>(ee().run(),unit)}}))),C=oneOf$9([(S,I)=>m.iWasPlayed(S,O=>I(x=>()=>()=>unit)),k((S,I)=>m.iWasReleased(S,O=>I(unit))),oneOff(Just)(keepLatest((S,I)=>g(S,O=>{const x=rider({event:sampleBy(functorEvent)(applyFlipped)(F=>cInstant(o.cnow)((R,L)=>F(R,D=>L(J=>D(J)))))(applicativeEvent.pure(F=>({uniqueId:O.uniqueId,hitAt:O.hitAt,distance:O.distance,issuedAt:F,translation:(R,L)=>$(R,D=>L({x:D._2.n14,y:D._2.n24,z:D._2.n34})),player:O.player}))),push:o.pushHitLongVisualForLabel})(applicativeEvent.pure(F=>()=>()=>unit));return I(x)}))),oneOff(Just)(keepLatest((S,I)=>v(S,O=>{const x=rider({event:sampleBy(functorEvent)(applyFlipped)(F=>cInstant(o.cnow)((R,L)=>F(R,D=>L(J=>D(J)))))(applicativeEvent.pure(F=>({uniqueId:O.uniqueId,hitAt:O.hitAt,releasedAt:O.releasedAt,distance:O.distance,issuedAt:F,pctConsumed:O.pctConsumed,translation:(R,L)=>$(R,D=>L({x:D._2.n14,y:D._2.n24,z:D._2.n34})),player:O.player}))),push:o.pushReleaseLongVisualForLabel})(k(applicativeEvent.pure(unit)));return I(x)}))),k(applicativeEvent.pure(unit))]);return o.isMobile?(S,I)=>C(S,O=>I({type:"onTouchStart",value:x=>{const F=O({cx:clientX$1(x),cy:clientY$1(x)});return()=>{const R=F();return{end:L=>R,cancel:L=>R}}}})):(S,I)=>C(S,O=>I({type:"onMouseDown",value:x=>{const F=O({cx:clientX(x),cy:clientY(x)});return()=>{const R=F();return L=>R}}}))})()]))))))))))}))},identity$2=o=>o,fromFoldable$4=foldrArray(Cons)(Nil),max$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$3=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),box=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$1=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat=o=>u=>{const f=oneOff(identity$2)((d,m)=>u.on(d,h=>m($Maybe("Just",0))));return $$long$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),silence:o.silence,onAt:f,offAt:oneOff(identity$2)((d,m)=>u.off(d,h=>m($Maybe("Just",h.time))))})},rideLongs=o=>u=>{const f=d=>m=>{if(d.tag==="Nil"){const _=f(Nil);return defer(w=>$Tuple(Nil,_))}const h=span(_=>_.hitsFirstPositionAt<=m.beats+5)(d),b=listMap(_=>{const w=$$long({sound:singleBeat({silence:u.silence,buffer:misbehavior($=>{if(_.tag.tag==="Just")return _lookup(Nothing,Just,_.tag._1,$);if(_.tag.tag==="Nothing")return Nothing;fail$3()})(u.buffers)}),uniqueId:_.uniqueId,...unsafeUnionFn(u,_)}),M=keepLatest((()=>{const $=withTime(applicativeEvent.pure(unit));return(g,v)=>$(g,k=>{const C=lowPrioritySchedule(u.lpsCallback)(2e4+k.time)(applicativeEvent.pure(Release));return v(C)})})());return($,g)=>{const v=w($,C=>g($Semaphore("Acquire",C))),k=M($,g);return()=>(v(),k())}})(h.init),y=f(h.rest);return defer(_=>$Tuple(b,y))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,mesh:u.threeDI.mesh,matrix4:u.threeDI.matrix4})(100)(box({box:u.threeDI.boxGeometry}))(meshStandardMaterial$1({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor($RGB(.49,.83,.45)),roughness:.1})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$3(applicativeEvent.pure),m=scheduleCf(f(fromFoldable$4(mapWithIndexArray(h=>b=>({uniqueId:h,hitsFirstPositionAt:min$3(b.marker1Time)(b.marker2Time)+1,hitsLastPositionAt:max$3(b.marker1Time)(b.marker2Time)+1,tag:b.audioURL,length:b.length,column:b.column,raycastingCanStartAt:y=>1+b.raycastingCanStartAt(y)}))(o))))((h,b)=>u.animatedStuff(h,y=>b(y.rateInfo)));return(h,b)=>m(h,y=>{const _=d(y);return b(_)})})()))},a=o=>{o=1831565813+(o|=0)|0;let u=Math.imul(o^o>>>15,1|o);return u=u+Math.imul(u^u>>>7,61|u)^u,((u^u>>>14)>>>0)/4294967296};class e{constructor(u){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:f,separator:d,dictionaries:m,style:h,seed:b}=u;this.dictionaries=m,this.separator=d,this.length=f,this.style=h,this.seed=b}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let u=this.seed;return this.dictionaries.slice(0,this.length).reduce((f,d)=>{let m;u?(m=(b=>{if(typeof b=="string"){const y=b.split("").map(w=>w.charCodeAt(0)).reduce((w,M)=>w+M,1),_=Math.floor(Number(y));return a(_)}return a(b)})(u),u=4294967296*m):m=Math.random();let h=d[Math.floor(m*d.length)]||"";if(this.style==="lowerCase")h=h.toLowerCase();else if(this.style==="capital"){const[b,...y]=h.split("");h=b.toUpperCase()+y.join("")}else this.style==="upperCase"&&(h=h.toUpperCase());return f?`${f}${this.separator}${h}`:`${h}`},"")}}const i$1={separator:"_",dictionaries:[]},n=o=>{const u=[...o&&o.dictionaries||i$1.dictionaries],f={...i$1,...o,length:o&&o.length||u.length,dictionaries:u};if(!o||!o.dictionaries||!o.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new e(f).generate()};var l=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],r=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];const randomName=()=>n({dictionaries:[l,r],separator:"-"});function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var wavesurfer={exports:{}};/*!
 * wavesurfer.js 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/drawer.canvasentry.js":(b,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=$(_("./src/util/style.js")),M=$(_("./src/util/get-id.js"));function $(S){return S&&S.__esModule?S:{default:S}}function g(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function v(S,I){for(var O=0;O<I.length;O++){var x=I[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}function k(S,I,O){return I&&v(S.prototype,I),O&&v(S,O),Object.defineProperty(S,"prototype",{writable:!1}),S}var C=function(){function S(){g(this,S),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,M.default)(typeof this.constructor.name<"u"?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return k(S,[{key:"initWave",value:function(O){this.wave=O,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(O){this.progress=O,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(O,x,F,R){this.start=this.wave.offsetLeft/x||0,this.end=this.start+O/x,this.wave.width=F,this.wave.height=R;var L={width:O+"px"};(0,w.default)(this.wave,L),this.hasProgressCanvas&&(this.progress.width=F,this.progress.height=R,(0,w.default)(this.progress,L))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(O,x){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,O),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,x))}},{key:"getFillStyle",value:function(O,x){if(typeof x=="string"||x instanceof CanvasGradient)return x;var F=O.createLinearGradient(0,0,0,O.canvas.height);return x.forEach(function(R,L){return F.addColorStop(L/x.length,R)}),F}},{key:"applyCanvasTransforms",value:function(O){O&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(O,x,F,R,L){this.fillRectToContext(this.waveCtx,O,x,F,R,L),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,O,x,F,R,L)}},{key:"fillRectToContext",value:function(O,x,F,R,L,D){!O||(D?this.drawRoundedRect(O,x,F,R,L,D):O.fillRect(x,F,R,L))}},{key:"drawRoundedRect",value:function(O,x,F,R,L,D){L!==0&&(L<0&&(L*=-1,F-=L),O.beginPath(),O.moveTo(x+D,F),O.lineTo(x+R-D,F),O.quadraticCurveTo(x+R,F,x+R,F+D),O.lineTo(x+R,F+L-D),O.quadraticCurveTo(x+R,F+L,x+R-D,F+L),O.lineTo(x+D,F+L),O.quadraticCurveTo(x,F+L,x,F+L-D),O.lineTo(x,F+D),O.quadraticCurveTo(x,F,x+D,F),O.closePath(),O.fill())}},{key:"drawLines",value:function(O,x,F,R,L,D){this.drawLineToContext(this.waveCtx,O,x,F,R,L,D),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,O,x,F,R,L,D)}},{key:"drawLineToContext",value:function(O,x,F,R,L,D,J){if(!!O){var K=x.length/2,ee=Math.round(K*this.start),H=Math.round(K*this.end)+1,q=ee,X=H,ie=this.wave.width/(X-q-1),Q=R+L,G=F/R;O.beginPath(),O.moveTo((q-ee)*ie,Q),O.lineTo((q-ee)*ie,Q-Math.round((x[2*q]||0)/G));var ne,re,Y;for(ne=q;ne<X;ne++)re=x[2*ne]||0,Y=Math.round(re/G),O.lineTo((ne-ee)*ie+this.halfPixel,Q-Y);var le=X-1;for(le;le>=q;le--)re=x[2*le+1]||0,Y=Math.round(re/G),O.lineTo((le-ee)*ie+this.halfPixel,Q-Y);O.lineTo((q-ee)*ie,Q-Math.round((x[2*q+1]||0)/G)),O.closePath(),O.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(O,x,F){var R=this;if(F==="blob")return new Promise(function(L){R.wave.toBlob(L,O,x)});if(F==="dataURL")return this.wave.toDataURL(O,x)}}]),S}();y.default=C,b.exports=y.default},"./src/drawer.js":(b,y,_)=>{function w(J){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},w(J)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=g(_("./src/util/index.js"));function $(J){if(typeof WeakMap!="function")return null;var K=new WeakMap,ee=new WeakMap;return($=function(q){return q?ee:K})(J)}function g(J,K){if(!K&&J&&J.__esModule)return J;if(J===null||w(J)!=="object"&&typeof J!="function")return{default:J};var ee=$(K);if(ee&&ee.has(J))return ee.get(J);var H={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in J)if(X!=="default"&&Object.prototype.hasOwnProperty.call(J,X)){var ie=q?Object.getOwnPropertyDescriptor(J,X):null;ie&&(ie.get||ie.set)?Object.defineProperty(H,X,ie):H[X]=J[X]}return H.default=J,ee&&ee.set(J,H),H}function v(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}function k(J,K){for(var ee=0;ee<K.length;ee++){var H=K[ee];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(J,H.key,H)}}function C(J,K,ee){return K&&k(J.prototype,K),ee&&k(J,ee),Object.defineProperty(J,"prototype",{writable:!1}),J}function S(J,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(K&&K.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),K&&I(J,K)}function I(J,K){return I=Object.setPrototypeOf||function(H,q){return H.__proto__=q,H},I(J,K)}function O(J){var K=R();return function(){var H=L(J),q;if(K){var X=L(this).constructor;q=Reflect.construct(H,arguments,X)}else q=H.apply(this,arguments);return x(this,q)}}function x(J,K){if(K&&(w(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(J)}function F(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(J){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},L(J)}var D=function(J){S(ee,J);var K=O(ee);function ee(H,q){var X;return v(this,ee),X=K.call(this),X.container=M.withOrientation(H,q.vertical),X.params=q,X.width=0,X.height=q.height*X.params.pixelRatio,X.lastPos=0,X.wrapper=null,X}return C(ee,[{key:"style",value:function(q,X){return M.style(q,X)}},{key:"createWrapper",value:function(){this.wrapper=M.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(q,X){!X&&q.preventDefault();var ie=M.withOrientation(q.targetTouches?q.targetTouches[0]:q,this.params.vertical).clientX,Q=this.wrapper.getBoundingClientRect(),G=this.width,ne=this.getWidth(),re=this.getProgressPixels(Q,ie),Y;return!this.params.fillParent&&G<ne?Y=re*(this.params.pixelRatio/G)||0:Y=(re+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,M.clamp(Y,0,1)}},{key:"getProgressPixels",value:function(q,X){return this.params.rtl?q.right-X:X-q.left}},{key:"setupWrapperEvents",value:function(){var q=this;this.wrapper.addEventListener("click",function(X){var ie=M.withOrientation(X,q.params.vertical),Q=q.wrapper.offsetHeight-q.wrapper.clientHeight;if(Q!==0){var G=q.wrapper.getBoundingClientRect();if(ie.clientY>=G.bottom-Q)return}q.params.interact&&q.fireEvent("click",X,q.handleEvent(X))}),this.wrapper.addEventListener("dblclick",function(X){q.params.interact&&q.fireEvent("dblclick",X,q.handleEvent(X))}),this.wrapper.addEventListener("scroll",function(X){return q.fireEvent("scroll",X)})}},{key:"drawPeaks",value:function(q,X,ie,Q){this.setWidth(X)||this.clearWave(),this.params.barWidth?this.drawBars(q,0,ie,Q):this.drawWave(q,0,ie,Q)}},{key:"resetScroll",value:function(){this.wrapper!==null&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(q){var X=this.wrapper.scrollWidth*q;this.recenterOnPosition(X,!0)}},{key:"recenterOnPosition",value:function(q,X){var ie=this.wrapper.scrollLeft,Q=~~(this.wrapper.clientWidth/2),G=this.wrapper.scrollWidth-this.wrapper.clientWidth,ne=q-Q,re=ne-ie;if(G!=0){if(!X&&-Q<=re&&re<Q){var Y=this.params.autoCenterRate;Y/=Q,Y*=G,re=Math.max(-Y,Math.min(Y,re)),ne=ie+re}ne=Math.max(0,Math.min(G,ne)),ne!=ie&&(this.wrapper.scrollLeft=ne)}}},{key:"getScrollX",value:function(){var q=0;if(this.wrapper){var X=this.params.pixelRatio;if(q=Math.round(this.wrapper.scrollLeft*X),this.params.scrollParent){var ie=~~(this.wrapper.scrollWidth*X-this.getWidth());q=Math.min(ie,Math.max(0,q))}}return q}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(q){if(this.width==q)return!1;if(this.width=q,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var X=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:X})}return this.updateSize(),!0}},{key:"setHeight",value:function(q){return q==this.height?!1:(this.height=q,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(q){var X=1/this.params.pixelRatio,ie=Math.round(q*this.width)*X;if(ie<this.lastPos||ie-this.lastPos>=X){if(this.lastPos=ie,this.params.scrollParent&&this.params.autoCenter){var Q=~~(this.wrapper.scrollWidth*q);this.recenterOnPosition(Q,this.params.autoCenterImmediately)}this.updateProgress(ie)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(q,X,ie,Q){}},{key:"drawWave",value:function(q,X,ie,Q){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(q){}}]),ee}(M.Observer);y.default=D,b.exports=y.default},"./src/drawer.multicanvas.js":(b,y,_)=>{function w(H){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},w(H)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=C(_("./src/drawer.js")),$=k(_("./src/util/index.js")),g=C(_("./src/drawer.canvasentry.js"));function v(H){if(typeof WeakMap!="function")return null;var q=new WeakMap,X=new WeakMap;return(v=function(Q){return Q?X:q})(H)}function k(H,q){if(!q&&H&&H.__esModule)return H;if(H===null||w(H)!=="object"&&typeof H!="function")return{default:H};var X=v(q);if(X&&X.has(H))return X.get(H);var ie={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in H)if(G!=="default"&&Object.prototype.hasOwnProperty.call(H,G)){var ne=Q?Object.getOwnPropertyDescriptor(H,G):null;ne&&(ne.get||ne.set)?Object.defineProperty(ie,G,ne):ie[G]=H[G]}return ie.default=H,X&&X.set(H,ie),ie}function C(H){return H&&H.__esModule?H:{default:H}}function S(H,q){if(!(H instanceof q))throw new TypeError("Cannot call a class as a function")}function I(H,q){for(var X=0;X<q.length;X++){var ie=q[X];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(H,ie.key,ie)}}function O(H,q,X){return q&&I(H.prototype,q),X&&I(H,X),Object.defineProperty(H,"prototype",{writable:!1}),H}function x(H,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(q&&q.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),q&&F(H,q)}function F(H,q){return F=Object.setPrototypeOf||function(ie,Q){return ie.__proto__=Q,ie},F(H,q)}function R(H){var q=J();return function(){var ie=K(H),Q;if(q){var G=K(this).constructor;Q=Reflect.construct(ie,arguments,G)}else Q=ie.apply(this,arguments);return L(this,Q)}}function L(H,q){if(q&&(w(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(H)}function D(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(H){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)},K(H)}var ee=function(H){x(X,H);var q=R(X);function X(ie,Q){var G;return S(this,X),G=q.call(this,ie,Q),G.maxCanvasWidth=Q.maxCanvasWidth,G.maxCanvasElementWidth=Math.round(Q.maxCanvasWidth/Q.pixelRatio),G.hasProgressCanvas=Q.waveColor!=Q.progressColor,G.halfPixel=.5/Q.pixelRatio,G.canvases=[],G.progressWave=null,G.EntryClass=g.default,G.canvasContextAttributes=Q.drawingContextAttributes,G.overlap=2*Math.ceil(Q.pixelRatio/2),G.barRadius=Q.barRadius||0,G.vertical=Q.vertical,G}return O(X,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=$.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var Q=this,G=Math.round(this.width/this.params.pixelRatio),ne=Math.ceil(G/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<ne;)this.addCanvas();for(;this.canvases.length>ne;)this.removeCanvas();var re=this.maxCanvasWidth+this.overlap,Y=this.canvases.length-1;this.canvases.forEach(function(le,ue){ue==Y&&(re=Q.width-Q.maxCanvasWidth*Y),Q.updateDimensions(le,re,Q.height),le.clearWave()})}},{key:"addCanvas",value:function(){var Q=new this.EntryClass;Q.canvasContextAttributes=this.canvasContextAttributes,Q.hasProgressCanvas=this.hasProgressCanvas,Q.halfPixel=this.halfPixel;var G=this.maxCanvasElementWidth*this.canvases.length,ne=$.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(ne,{position:"absolute",zIndex:2,left:G+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),Q.initWave(ne),this.hasProgressCanvas){var re=$.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(re,{position:"absolute",left:G+"px",top:0,bottom:0,height:"100%"}),Q.initProgress(re)}this.canvases.push(Q)}},{key:"removeCanvas",value:function(){var Q=this.canvases[this.canvases.length-1];Q.wave.parentElement.removeChild(Q.wave.domElement),this.hasProgressCanvas&&Q.progress.parentElement.removeChild(Q.progress.domElement),Q&&(Q.destroy(),Q=null),this.canvases.pop()}},{key:"updateDimensions",value:function(Q,G,ne){var re=Math.round(G/this.params.pixelRatio),Y=Math.round(this.width/this.params.pixelRatio);Q.updateDimensions(re,Y,G,ne),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var Q=this;$.frame(function(){Q.canvases.forEach(function(G){return G.clearWave()})})()}},{key:"drawBars",value:function(Q,G,ne,re){var Y=this;return this.prepareDraw(Q,G,ne,re,function(le){var ue=le.absmax,ge=le.hasMinVals;le.height;var ye=le.offsetY,_e=le.halfH,Ce=le.peaks,be=le.channelIndex;if(ne!==void 0){var Ne=ge?2:1,fe=Ce.length/Ne,ve=Y.params.barWidth*Y.params.pixelRatio,Le=Y.params.barGap===null?Math.max(Y.params.pixelRatio,~~(ve/2)):Math.max(Y.params.pixelRatio,Y.params.barGap*Y.params.pixelRatio),Ie=ve+Le,We=fe/Y.width,nt=ne,it=re,De=nt;for(De;De<it;De+=Ie){var ct=0,Ae=Math.floor(De*We)*Ne,Xe=Math.floor((De+Ie)*We)*Ne;do{var ot=Math.abs(Ce[Ae]);ot>ct&&(ct=ot),Ae+=Ne}while(Ae<Xe);var je=Math.round(ct/ue*_e);je==0&&Y.params.barMinHeight&&(je=Y.params.barMinHeight),Y.fillRect(De+Y.halfPixel,_e-je+ye,ve+Y.halfPixel,je*2,Y.barRadius,be)}}})}},{key:"drawWave",value:function(Q,G,ne,re){var Y=this;return this.prepareDraw(Q,G,ne,re,function(le){var ue=le.absmax,ge=le.hasMinVals;le.height;var ye=le.offsetY,_e=le.halfH,Ce=le.peaks,be=le.channelIndex;if(!ge){var Ne=[],fe=Ce.length,ve=0;for(ve;ve<fe;ve++)Ne[2*ve]=Ce[ve],Ne[2*ve+1]=-Ce[ve];Ce=Ne}ne!==void 0&&Y.drawLine(Ce,ue,_e,ye,ne,re,be),Y.fillRect(0,_e+ye-Y.halfPixel,Y.width,Y.halfPixel,Y.barRadius,be)})}},{key:"drawLine",value:function(Q,G,ne,re,Y,le,ue){var ge=this,ye=this.params.splitChannelsOptions.channelColors[ue]||{},_e=ye.waveColor,Ce=ye.progressColor;this.canvases.forEach(function(be,Ne){ge.setFillStyles(be,_e,Ce),ge.applyCanvasTransforms(be,ge.params.vertical),be.drawLines(Q,G,ne,re,Y,le)})}},{key:"fillRect",value:function(Q,G,ne,re,Y,le){var ue=Math.floor(Q/this.maxCanvasWidth),ge=Math.min(Math.ceil((Q+ne)/this.maxCanvasWidth)+1,this.canvases.length),ye=ue;for(ye;ye<ge;ye++){var _e=this.canvases[ye],Ce=ye*this.maxCanvasWidth,be={x1:Math.max(Q,ye*this.maxCanvasWidth),y1:G,x2:Math.min(Q+ne,ye*this.maxCanvasWidth+_e.wave.width),y2:G+re};if(be.x1<be.x2){var Ne=this.params.splitChannelsOptions.channelColors[le]||{},fe=Ne.waveColor,ve=Ne.progressColor;this.setFillStyles(_e,fe,ve),this.applyCanvasTransforms(_e,this.params.vertical),_e.fillRects(be.x1-Ce,be.y1,be.x2-be.x1,be.y2-be.y1,Y)}}}},{key:"hideChannel",value:function(Q){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(Q)}},{key:"prepareDraw",value:function(Q,G,ne,re,Y,le,ue){var ge=this;return $.frame(function(){if(Q[0]instanceof Array){var ye=Q;if(ge.params.splitChannels){var _e=ye.filter(function(Ie,We){return!ge.hideChannel(We)});ge.params.splitChannelsOptions.overlay||ge.setHeight(Math.max(_e.length,1)*ge.params.height*ge.params.pixelRatio);var Ce;return ge.params.splitChannelsOptions&&ge.params.splitChannelsOptions.relativeNormalization&&(Ce=$.max(ye.map(function(Ie){return $.absMax(Ie)}))),ye.forEach(function(Ie,We){return ge.prepareDraw(Ie,We,ne,re,Y,_e.indexOf(Ie),Ce)})}Q=ye[0]}if(!ge.hideChannel(G)){var be=1/ge.params.barHeight;ge.params.normalize&&(be=ue===void 0?$.absMax(Q):ue);var Ne=[].some.call(Q,function(Ie){return Ie<0}),fe=ge.params.height*ge.params.pixelRatio,ve=fe/2,Le=fe*le||0;return ge.params.splitChannelsOptions&&ge.params.splitChannelsOptions.overlay&&(Le=0),Y({absmax:be,hasMinVals:Ne,height:fe,offsetY:Le,halfH:ve,peaks:Q,channelIndex:G})}})()}},{key:"setFillStyles",value:function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.params.waveColor,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.params.progressColor;Q.setFillStyles(G,ne)}},{key:"applyCanvasTransforms",value:function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Q.applyCanvasTransforms(G)}},{key:"getImage",value:function(Q,G,ne){if(ne==="blob")return Promise.all(this.canvases.map(function(Y){return Y.getImage(Q,G,ne)}));if(ne==="dataURL"){var re=this.canvases.map(function(Y){return Y.getImage(Q,G,ne)});return re.length>1?re:re[0]}}},{key:"updateProgress",value:function(Q){this.style(this.progressWave,{width:Q+"px"})}}]),X}(M.default);y.default=ee,b.exports=y.default},"./src/mediaelement-webaudio.js":(b,y,_)=>{function w(K){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},w(K)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=$(_("./src/mediaelement.js"));function $(K){return K&&K.__esModule?K:{default:K}}function g(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}function v(K,ee){for(var H=0;H<ee.length;H++){var q=ee[H];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(K,q.key,q)}}function k(K,ee,H){return ee&&v(K.prototype,ee),H&&v(K,H),Object.defineProperty(K,"prototype",{writable:!1}),K}function C(){return typeof Reflect<"u"&&Reflect.get?C=Reflect.get:C=function(ee,H,q){var X=S(ee,H);if(!!X){var ie=Object.getOwnPropertyDescriptor(X,H);return ie.get?ie.get.call(arguments.length<3?ee:q):ie.value}},C.apply(this,arguments)}function S(K,ee){for(;!Object.prototype.hasOwnProperty.call(K,ee)&&(K=D(K),K!==null););return K}function I(K,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(ee&&ee.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),ee&&O(K,ee)}function O(K,ee){return O=Object.setPrototypeOf||function(q,X){return q.__proto__=X,q},O(K,ee)}function x(K){var ee=L();return function(){var q=D(K),X;if(ee){var ie=D(this).constructor;X=Reflect.construct(q,arguments,ie)}else X=q.apply(this,arguments);return F(this,X)}}function F(K,ee){if(ee&&(w(ee)==="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(K)}function R(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D(K){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},D(K)}var J=function(K){I(H,K);var ee=x(H);function H(q){var X;return g(this,H),X=ee.call(this,q),X.params=q,X.sourceMediaElement=null,X}return k(H,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(X,ie,Q){C(D(H.prototype),"_load",this).call(this,X,ie,Q),this.createMediaElementSource(X)}},{key:"createMediaElementSource",value:function(X){this.sourceMediaElement=this.ac.createMediaElementSource(X),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(X,ie){return this.resumeAudioContext(),C(D(H.prototype),"play",this).call(this,X,ie)}},{key:"destroy",value:function(){C(D(H.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),H}(M.default);y.default=J,b.exports=y.default},"./src/mediaelement.js":(b,y,_)=>{function w(q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},w(q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=k(_("./src/webaudio.js")),$=v(_("./src/util/index.js"));function g(q){if(typeof WeakMap!="function")return null;var X=new WeakMap,ie=new WeakMap;return(g=function(G){return G?ie:X})(q)}function v(q,X){if(!X&&q&&q.__esModule)return q;if(q===null||w(q)!=="object"&&typeof q!="function")return{default:q};var ie=g(X);if(ie&&ie.has(q))return ie.get(q);var Q={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in q)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(q,ne)){var re=G?Object.getOwnPropertyDescriptor(q,ne):null;re&&(re.get||re.set)?Object.defineProperty(Q,ne,re):Q[ne]=q[ne]}return Q.default=q,ie&&ie.set(q,Q),Q}function k(q){return q&&q.__esModule?q:{default:q}}function C(q,X){if(!(q instanceof X))throw new TypeError("Cannot call a class as a function")}function S(q,X){for(var ie=0;ie<X.length;ie++){var Q=X[ie];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(q,Q.key,Q)}}function I(q,X,ie){return X&&S(q.prototype,X),ie&&S(q,ie),Object.defineProperty(q,"prototype",{writable:!1}),q}function O(){return typeof Reflect<"u"&&Reflect.get?O=Reflect.get:O=function(X,ie,Q){var G=x(X,ie);if(!!G){var ne=Object.getOwnPropertyDescriptor(G,ie);return ne.get?ne.get.call(arguments.length<3?X:Q):ne.value}},O.apply(this,arguments)}function x(q,X){for(;!Object.prototype.hasOwnProperty.call(q,X)&&(q=ee(q),q!==null););return q}function F(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(X&&X.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),X&&R(q,X)}function R(q,X){return R=Object.setPrototypeOf||function(Q,G){return Q.__proto__=G,Q},R(q,X)}function L(q){var X=K();return function(){var Q=ee(q),G;if(X){var ne=ee(this).constructor;G=Reflect.construct(Q,arguments,ne)}else G=Q.apply(this,arguments);return D(this,G)}}function D(q,X){if(X&&(w(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(q)}function J(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(q){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},ee(q)}var H=function(q){F(ie,q);var X=L(ie);function ie(Q){var G;return C(this,ie),G=X.call(this,Q),G.params=Q,G.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},G.mediaType=Q.mediaType.toLowerCase(),G.elementPosition=Q.elementPosition,G.peaks=null,G.playbackRate=1,G.volume=1,G.isMuted=!1,G.buffer=null,G.onPlayEnd=null,G.mediaListeners={},G}return I(ie,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var G=this;this.mediaListeners.error=function(){G.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){G.fireEvent("canplay")},this.mediaListeners.ended=function(){G.fireEvent("finish")},this.mediaListeners.play=function(){G.fireEvent("play")},this.mediaListeners.pause=function(){G.fireEvent("pause")},this.mediaListeners.seeked=function(ne){G.fireEvent("seek")},this.mediaListeners.volumechange=function(ne){G.isMuted=G.media.muted,G.isMuted?G.volume=0:G.volume=G.media.volume,G.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(ne){G.media.removeEventListener(ne,G.mediaListeners[ne]),G.media.addEventListener(ne,G.mediaListeners[ne])})}},{key:"createTimer",value:function(){var G=this,ne=function re(){G.isPaused()||(G.fireEvent("audioprocess",G.getCurrentTime()),$.frame(re)())};this.on("play",ne),this.on("pause",function(){G.fireEvent("audioprocess",G.getCurrentTime())})}},{key:"load",value:function(G,ne,re,Y){var le=document.createElement(this.mediaType);le.controls=this.params.mediaControls,le.autoplay=this.params.autoplay||!1,le.preload=Y==null?"auto":Y,le.src=G,le.style.width="100%";var ue=ne.querySelector(this.mediaType);ue&&ne.removeChild(ue),ne.appendChild(le),this._load(le,re,Y)}},{key:"loadElt",value:function(G,ne){G.controls=this.params.mediaControls,G.autoplay=this.params.autoplay||!1,this._load(G,ne,G.preload)}},{key:"_load",value:function(G,ne,re){if(!(G instanceof HTMLMediaElement)||typeof G.addEventListener>"u")throw new Error("media parameter is not a valid media element");typeof G.load=="function"&&!(ne&&re=="none")&&G.load(),this.media=G,this._setupMediaListeners(),this.peaks=ne,this.onPlayEnd=null,this.buffer=null,this.isMuted=G.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var G=(this.buffer||this.media).duration;return G>=1/0&&(G=this.media.seekable.end(0)),G}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(G){this.playbackRate=G||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(G){G!=null&&!isNaN(G)&&(this.media.currentTime=G),this.clearPlayEnd()}},{key:"play",value:function(G,ne){this.seekTo(G);var re=this.media.play();return ne&&this.setPlayEnd(ne),re}},{key:"pause",value:function(){var G;return this.media&&(G=this.media.pause()),this.clearPlayEnd(),G}},{key:"setPlayEnd",value:function(G){var ne=this;this.clearPlayEnd(),this._onPlayEnd=function(re){re>=G&&(ne.pause(),ne.seekTo(G))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(G,ne,re){return this.buffer?O(ee(ie.prototype),"getPeaks",this).call(this,G,ne,re):this.peaks||[]}},{key:"setSinkId",value:function(G){return G?this.media.setSinkId?this.media.setSinkId(G):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+G))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(G){this.volume=G,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(G){this.isMuted=this.media.muted=G}},{key:"destroy",value:function(){var G=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(ne){G.media&&G.media.removeEventListener(ne,G.mediaListeners[ne])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),ie}(M.default);y.default=H,b.exports=y.default},"./src/peakcache.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function w(g,v){for(var k=0;k<v.length;k++){var C=v[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function M(g,v,k){return v&&w(g.prototype,v),k&&w(g,k),Object.defineProperty(g,"prototype",{writable:!1}),g}var $=function(){function g(){_(this,g),this.clearPeakCache()}return M(g,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(k,C,S){k!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=k);for(var I=[],O=0;O<this.peakCacheRanges.length&&this.peakCacheRanges[O]<C;)O++;for(O%2==0&&I.push(C);O<this.peakCacheRanges.length&&this.peakCacheRanges[O]<=S;)I.push(this.peakCacheRanges[O]),O++;O%2==0&&I.push(S),I=I.filter(function(F,R,L){return R==0?F!=L[R+1]:R==L.length-1?F!=L[R-1]:F!=L[R-1]&&F!=L[R+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(I),this.peakCacheRanges=this.peakCacheRanges.sort(function(F,R){return F-R}).filter(function(F,R,L){return R==0?F!=L[R+1]:R==L.length-1?F!=L[R-1]:F!=L[R-1]&&F!=L[R+1]});var x=[];for(O=0;O<I.length;O+=2)x.push([I[O],I[O+1]]);return x}},{key:"getCacheRanges",value:function(){var k=[],C;for(C=0;C<this.peakCacheRanges.length;C+=2)k.push([this.peakCacheRanges[C],this.peakCacheRanges[C+1]]);return k}}]),g}();y.default=$,b.exports=y.default},"./src/util/absMax.js":(b,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=g;var w=$(_("./src/util/max.js")),M=$(_("./src/util/min.js"));function $(v){return v&&v.__esModule?v:{default:v}}function g(v){var k=(0,w.default)(v),C=(0,M.default)(v);return-C>k?-C:k}b.exports=y.default},"./src/util/clamp.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w,M,$){return Math.min(Math.max(M,w),$)}b.exports=y.default},"./src/util/fetch.js":(b,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=C;var w=M(_("./src/util/observer.js"));function M(S){return S&&S.__esModule?S:{default:S}}function $(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function g(S,I){for(var O=0;O<I.length;O++){var x=I[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}function v(S,I,O){return I&&g(S.prototype,I),O&&g(S,O),Object.defineProperty(S,"prototype",{writable:!1}),S}var k=function(){function S(I,O,x){$(this,S),this.instance=I,this.instance._reader=x.body.getReader(),this.total=parseInt(O,10),this.loaded=0}return v(S,[{key:"start",value:function(O){var x=this,F=function R(){x.instance._reader.read().then(function(L){var D=L.done,J=L.value;if(D){x.total===0&&x.instance.onProgress.call(x.instance,{loaded:x.loaded,total:x.total,lengthComputable:!1}),O.close();return}x.loaded+=J.byteLength,x.instance.onProgress.call(x.instance,{loaded:x.loaded,total:x.total,lengthComputable:x.total!==0}),O.enqueue(J),R()}).catch(function(L){O.error(L)})};F()}}]),S}();function C(S){if(S){if(!S.url)throw new Error("fetch url missing")}else throw new Error("fetch options missing");var I=new w.default,O=new Headers,x=new Request(S.url);I.controller=new AbortController,S&&S.requestHeaders&&S.requestHeaders.forEach(function(L){O.append(L.key,L.value)});var F=S.responseType||"json",R={method:S.method||"GET",headers:O,mode:S.mode||"cors",credentials:S.credentials||"same-origin",cache:S.cache||"default",redirect:S.redirect||"follow",referrer:S.referrer||"client",signal:I.controller.signal};return fetch(x,R).then(function(L){I.response=L;var D=!0;L.body||(D=!1);var J=L.headers.get("content-length");return J===null&&(D=!1),D?(I.onProgress=function(K){I.fireEvent("progress",K)},new Response(new ReadableStream(new k(I,J,L)),R)):L}).then(function(L){var D;if(L.ok)switch(F){case"arraybuffer":return L.arrayBuffer();case"json":return L.json();case"blob":return L.blob();case"text":return L.text();default:D="Unknown responseType: "+F;break}throw D||(D="HTTP error status: "+L.status),new Error(D)}).then(function(L){I.fireEvent("success",L)}).catch(function(L){I.fireEvent("error",L)}),I.fetchRequest=x,I}b.exports=y.default},"./src/util/frame.js":(b,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=$;var w=M(_("./src/util/request-animation-frame.js"));function M(g){return g&&g.__esModule?g:{default:g}}function $(g){return function(){for(var v=arguments.length,k=new Array(v),C=0;C<v;C++)k[C]=arguments[C];return(0,w.default)(function(){return g.apply(void 0,k)})}}b.exports=y.default},"./src/util/get-id.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){return w===void 0&&(w="wavesurfer_"),w+Math.random().toString(32).substring(2)}b.exports=y.default},"./src/util/index.js":(b,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"Observer",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(y,"absMax",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(y,"clamp",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(y,"debounce",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(y,"fetchFile",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(y,"frame",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(y,"getId",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(y,"ignoreSilenceMode",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(y,"max",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(y,"min",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(y,"preventClick",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(y,"requestAnimationFrame",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(y,"style",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(y,"withOrientation",{enumerable:!0,get:function(){return R.default}});var w=D(_("./src/util/get-id.js")),M=D(_("./src/util/max.js")),$=D(_("./src/util/min.js")),g=D(_("./src/util/absMax.js")),v=D(_("./src/util/observer.js")),k=D(_("./src/util/style.js")),C=D(_("./src/util/request-animation-frame.js")),S=D(_("./src/util/frame.js")),I=D(_("./node_modules/debounce/index.js")),O=D(_("./src/util/prevent-click.js")),x=D(_("./src/util/fetch.js")),F=D(_("./src/util/clamp.js")),R=D(_("./src/util/orientation.js")),L=D(_("./src/util/silence-mode.js"));function D(J){return J&&J.__esModule?J:{default:J}}},"./src/util/max.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){var M=-1/0;return Object.keys(w).forEach(function($){w[$]>M&&(M=w[$])}),M}b.exports=y.default},"./src/util/min.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){var M=Number(1/0);return Object.keys(w).forEach(function($){w[$]<M&&(M=w[$])}),M}b.exports=y.default},"./src/util/observer.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function w(g,v){for(var k=0;k<v.length;k++){var C=v[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}function M(g,v,k){return v&&w(g.prototype,v),k&&w(g,k),Object.defineProperty(g,"prototype",{writable:!1}),g}var $=function(){function g(){_(this,g),this._disabledEventEmissions=[],this.handlers=null}return M(g,[{key:"on",value:function(k,C){var S=this;this.handlers||(this.handlers={});var I=this.handlers[k];return I||(I=this.handlers[k]=[]),I.push(C),{name:k,callback:C,un:function(x,F){return S.un(x,F)}}}},{key:"un",value:function(k,C){if(!!this.handlers){var S=this.handlers[k],I;if(S)if(C)for(I=S.length-1;I>=0;I--)S[I]==C&&S.splice(I,1);else S.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(k,C){var S=this,I=function O(){for(var x=arguments.length,F=new Array(x),R=0;R<x;R++)F[R]=arguments[R];C.apply(S,F),setTimeout(function(){S.un(k,O)},0)};return this.on(k,I)}},{key:"setDisabledEventEmissions",value:function(k){this._disabledEventEmissions=k}},{key:"_isDisabledEventEmission",value:function(k){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(k)}},{key:"fireEvent",value:function(k){for(var C=arguments.length,S=new Array(C>1?C-1:0),I=1;I<C;I++)S[I-1]=arguments[I];if(!(!this.handlers||this._isDisabledEventEmission(k))){var O=this.handlers[k];O&&O.forEach(function(x){x.apply(void 0,S)})}}}]),g}();y.default=$,b.exports=y.default},"./src/util/orientation.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=$;var _={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function w(g,v){return Object.prototype.hasOwnProperty.call(_,g)&&v?_[g]:g}var M=Symbol("isProxy");function $(g,v){return g[M]?g:new Proxy(g,{get:function(C,S,I){if(S===M)return!0;if(S==="domElement")return C;if(S==="style")return $(C.style,v);if(S==="canvas")return $(C.canvas,v);if(S==="getBoundingClientRect")return function(){return $(C.getBoundingClientRect.apply(C,arguments),v)};if(S==="getContext")return function(){return $(C.getContext.apply(C,arguments),v)};var O=C[w(S,v)];return typeof O=="function"?O.bind(C):O},set:function(C,S,I){return C[w(S,v)]=I,!0}})}b.exports=y.default},"./src/util/prevent-click.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=w;function _(M){M.stopPropagation(),document.body.removeEventListener("click",_,!0)}function w(M){document.body.addEventListener("click",_,!0)}b.exports=y.default},"./src/util/request-animation-frame.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(w,M){return setTimeout(w,1e3/60)}).bind(window);y.default=_,b.exports=y.default},"./src/util/silence-mode.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(){var w="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",M=document.createElement("div");M.innerHTML='<audio x-webkit-airplay="deny"></audio>';var $=M.children.item(0);$.src=w,$.preload="auto",$.type="audio/mpeg",$.disableRemotePlayback=!0,$.play(),$.remove(),M.remove()}b.exports=y.default},"./src/util/style.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w,M){return Object.keys(M).forEach(function($){w.style[$]!==M[$]&&(w.style[$]=M[$])}),w}b.exports=y.default},"./src/wavesurfer.js":(b,y,_)=>{function w(Q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},w(Q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=O(_("./src/util/index.js")),$=S(_("./src/drawer.multicanvas.js")),g=S(_("./src/webaudio.js")),v=S(_("./src/mediaelement.js")),k=S(_("./src/peakcache.js")),C=S(_("./src/mediaelement-webaudio.js"));function S(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q){if(typeof WeakMap!="function")return null;var G=new WeakMap,ne=new WeakMap;return(I=function(Y){return Y?ne:G})(Q)}function O(Q,G){if(!G&&Q&&Q.__esModule)return Q;if(Q===null||w(Q)!=="object"&&typeof Q!="function")return{default:Q};var ne=I(G);if(ne&&ne.has(Q))return ne.get(Q);var re={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in Q)if(le!=="default"&&Object.prototype.hasOwnProperty.call(Q,le)){var ue=Y?Object.getOwnPropertyDescriptor(Q,le):null;ue&&(ue.get||ue.set)?Object.defineProperty(re,le,ue):re[le]=Q[le]}return re.default=Q,ne&&ne.set(Q,re),re}function x(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),G&&F(Q,G)}function F(Q,G){return F=Object.setPrototypeOf||function(re,Y){return re.__proto__=Y,re},F(Q,G)}function R(Q){var G=J();return function(){var re=K(Q),Y;if(G){var le=K(this).constructor;Y=Reflect.construct(re,arguments,le)}else Y=re.apply(this,arguments);return L(this,Y)}}function L(Q,G){if(G&&(w(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(Q)}function D(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(Q){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},K(Q)}function ee(Q,G,ne){return G in Q?Object.defineProperty(Q,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Q[G]=ne,Q}function H(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function q(Q,G){for(var ne=0;ne<G.length;ne++){var re=G[ne];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Q,re.key,re)}}function X(Q,G,ne){return G&&q(Q.prototype,G),ne&&q(Q,ne),Object.defineProperty(Q,"prototype",{writable:!1}),Q}var ie=function(Q){x(ne,Q);var G=R(ne);function ne(re){var Y;if(H(this,ne),Y=G.call(this),ee(D(Y),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:$.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1},vertical:!1,waveColor:"#999",xhr:{}}),ee(D(Y),"backends",{MediaElement:v.default,WebAudio:g.default,MediaElementWebAudio:C.default}),ee(D(Y),"util",M),Y.params=Object.assign({},Y.defaultParams,re),Y.params.splitChannelsOptions=Object.assign({},Y.defaultParams.splitChannelsOptions,re.splitChannelsOptions),Y.container=typeof re.container=="string"?document.querySelector(Y.params.container):Y.params.container,!Y.container)throw new Error("Container element not found");if(Y.params.mediaContainer==null?Y.mediaContainer=Y.container:typeof Y.params.mediaContainer=="string"?Y.mediaContainer=document.querySelector(Y.params.mediaContainer):Y.mediaContainer=Y.params.mediaContainer,!Y.mediaContainer)throw new Error("Media Container element not found");if(Y.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(Y.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(Y.params.rtl===!0&&(Y.params.vertical===!0?M.style(Y.container,{transform:"rotateX(180deg)"}):M.style(Y.container,{transform:"rotateY(180deg)"})),Y.params.backgroundColor&&Y.setBackgroundColor(Y.params.backgroundColor),Y.savedVolume=0,Y.isMuted=!1,Y.tmpEvents=[],Y.currentRequest=null,Y.arraybuffer=null,Y.drawer=null,Y.backend=null,Y.peakCache=null,typeof Y.params.renderer!="function")throw new Error("Renderer parameter is invalid");Y.Drawer=Y.params.renderer,Y.params.backend=="AudioElement"&&(Y.params.backend="MediaElement"),(Y.params.backend=="WebAudio"||Y.params.backend==="MediaElementWebAudio")&&!g.default.prototype.supportsWebAudio.call(null)&&(Y.params.backend="MediaElement"),Y.Backend=Y.backends[Y.params.backend],Y.initialisedPluginList={},Y.isDestroyed=!1,Y.isReady=!1;var le=0;return Y._onResize=M.debounce(function(){Y.drawer.wrapper&&le!=Y.drawer.wrapper.clientWidth&&!Y.params.scrollParent&&(le=Y.drawer.wrapper.clientWidth,le&&Y.drawer.fireEvent("redraw"))},typeof Y.params.responsive=="number"?Y.params.responsive:100),L(Y,D(Y))}return X(ne,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(Y){var le=this;return Y.forEach(function(ue){return le.addPlugin(ue)}),Y.forEach(function(ue){ue.deferInit||le.initPlugin(ue.name)}),this.fireEvent("plugins-registered",Y),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(Y){var le=this;if(!Y.name)throw new Error("Plugin does not have a name!");if(!Y.instance)throw new Error("Plugin ".concat(Y.name," does not have an instance property!"));Y.staticProps&&Object.keys(Y.staticProps).forEach(function(ye){le[ye]=Y.staticProps[ye]});var ue=Y.instance,ge=Object.getOwnPropertyNames(M.Observer.prototype);return ge.forEach(function(ye){ue.prototype[ye]=M.Observer.prototype[ye]}),this[Y.name]=new ue(Y.params||{},this),this.fireEvent("plugin-added",Y.name),this}},{key:"initPlugin",value:function(Y){if(!this[Y])throw new Error("Plugin ".concat(Y," has not been added yet!"));return this.initialisedPluginList[Y]&&this.destroyPlugin(Y),this[Y].init(),this.initialisedPluginList[Y]=!0,this.fireEvent("plugin-initialised",Y),this}},{key:"destroyPlugin",value:function(Y){if(!this[Y])throw new Error("Plugin ".concat(Y," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[Y])throw new Error("Plugin ".concat(Y," is not active and cannot be destroyed!"));if(typeof this[Y].destroy!="function")throw new Error("Plugin ".concat(Y," does not have a destroy function!"));return this[Y].destroy(),delete this.initialisedPluginList[Y],this.fireEvent("plugin-destroyed",Y),this}},{key:"destroyAllPlugins",value:function(){var Y=this;Object.keys(this.initialisedPluginList).forEach(function(le){return Y.destroyPlugin(le)})}},{key:"createDrawer",value:function(){var Y=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.params.responsive!==!1&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){Y.drawBuffer(),Y.drawer.progress(Y.backend.getPlayedPercents())}),this.drawer.on("click",function(le,ue){setTimeout(function(){return Y.seekTo(ue)},0)}),this.drawer.on("scroll",function(le){Y.params.partialRender&&Y.drawBuffer(),Y.fireEvent("scroll",le)})}},{key:"createBackend",value:function(){var Y=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){Y.drawer.progress(Y.backend.getPlayedPercents()),Y.fireEvent("finish")}),this.backend.on("play",function(){return Y.fireEvent("play")}),this.backend.on("pause",function(){return Y.fireEvent("pause")}),this.backend.on("audioprocess",function(le){Y.drawer.progress(Y.backend.getPlayedPercents()),Y.fireEvent("audioprocess",le)}),(this.params.backend==="MediaElement"||this.params.backend==="MediaElementWebAudio")&&(this.backend.on("seek",function(){Y.drawer.progress(Y.backend.getPlayedPercents())}),this.backend.on("volume",function(){var le=Y.getVolume();Y.fireEvent("volume",le),Y.backend.isMuted!==Y.isMuted&&(Y.isMuted=Y.backend.isMuted,Y.fireEvent("mute",Y.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new k.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(Y){Y>=this.getDuration()?this.seekTo(1):this.seekTo(Y/this.getDuration())}},{key:"play",value:function(Y,le){var ue=this;return this.params.ignoreSilenceMode&&M.ignoreSilenceMode(),this.fireEvent("interaction",function(){return ue.play(Y,le)}),this.backend.play(Y,le)}},{key:"setPlayEnd",value:function(Y){this.backend.setPlayEnd(Y)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(Y){this.skip(-Y||-this.params.skipLength)}},{key:"skipForward",value:function(Y){this.skip(Y||this.params.skipLength)}},{key:"skip",value:function(Y){var le=this.getDuration()||1,ue=this.getCurrentTime()||0;ue=Math.max(0,Math.min(le,ue+(Y||0))),this.seekAndCenter(ue/le)}},{key:"seekAndCenter",value:function(Y){this.seekTo(Y),this.drawer.recenter(Y)}},{key:"seekTo",value:function(Y){var le=this;if(typeof Y!="number"||!isFinite(Y)||Y<0||Y>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return le.seekTo(Y)});var ue=this.params.backend==="WebAudio",ge=this.backend.isPaused();ue&&!ge&&this.backend.pause();var ye=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(Y*this.getDuration()),this.drawer.progress(Y),ue&&!ge&&this.backend.play(),this.params.scrollParent=ye,this.fireEvent("seek",Y)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(Y){return this.backend.setSinkId(Y)}},{key:"setVolume",value:function(Y){this.backend.setVolume(Y),this.fireEvent("volume",Y)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(Y){this.backend.setPlaybackRate(Y)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(Y){if(Y===this.isMuted){this.fireEvent("mute",this.isMuted);return}this.backend.setMute?(this.backend.setMute(Y),this.isMuted=Y):Y?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[Y]?this.params.splitChannelsOptions.channelColors[Y].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(Y){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.params.splitChannelsOptions.channelColors[le]?this.params.splitChannelsOptions.channelColors[le].waveColor=Y:this.params.waveColor=Y,this.drawBuffer()}},{key:"getProgressColor",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[Y]?this.params.splitChannelsOptions.channelColors[Y].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(Y,le){this.params.splitChannelsOptions.channelColors[le]?this.params.splitChannelsOptions.channelColors[le].progressColor=Y:this.params.progressColor=Y,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(Y){this.params.backgroundColor=Y,M.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(Y){this.params.cursorColor=Y,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(Y){this.params.height=Y,this.drawer.setHeight(Y*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(Y){this.params.splitChannelsOptions.filterChannels=Y,this.drawBuffer()}},{key:"drawBuffer",value:function(){var Y=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),le=this.drawer.getWidth(),ue=Y,ge=0,ye=Math.max(ge+le,ue);this.params.fillParent&&(!this.params.scrollParent||Y<le)&&(ue=le,ge=0,ye=ue);var _e;if(this.params.partialRender){var Ce=this.peakCache.addRangeToPeakCache(ue,ge,ye),be;for(be=0;be<Ce.length;be++)_e=this.backend.getPeaks(ue,Ce[be][0],Ce[be][1]),this.drawer.drawPeaks(_e,ue,Ce[be][0],Ce[be][1])}else _e=this.backend.getPeaks(ue,ge,ye),this.drawer.drawPeaks(_e,ue,ge,ye);this.fireEvent("redraw",_e,ue)}},{key:"zoom",value:function(Y){Y?(this.params.minPxPerSec=Y,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",Y)}},{key:"loadArrayBuffer",value:function(Y){var le=this;this.decodeArrayBuffer(Y,function(ue){le.isDestroyed||le.loadDecodedBuffer(ue)})}},{key:"loadDecodedBuffer",value:function(Y){this.backend.load(Y),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(Y){var le=this,ue=new FileReader;ue.addEventListener("progress",function(ge){return le.onProgress(ge)}),ue.addEventListener("load",function(ge){return le.loadArrayBuffer(ge.target.result)}),ue.addEventListener("error",function(){return le.fireEvent("error","Error reading file")}),ue.readAsArrayBuffer(Y),this.empty()}},{key:"load",value:function(Y,le,ue,ge){if(!Y)throw new Error("url parameter cannot be empty");if(this.empty(),ue){var ye={"Preload is not 'auto', 'none' or 'metadata'":["auto","metadata","none"].indexOf(ue)===-1,"Peaks are not provided":!le,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend)===-1,"Url is not of type string":typeof Y!="string"},_e=Object.keys(ye).filter(function(Ce){return ye[Ce]});_e.length&&(console.warn(`Preload parameter of wavesurfer.load will be ignored because:
	- `+_e.join(`
	- `)),ue=null)}switch(this.params.backend==="WebAudio"&&Y instanceof HTMLMediaElement&&(Y=Y.src),this.params.backend){case"WebAudio":return this.loadBuffer(Y,le,ge);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(Y,le,ue,ge)}}},{key:"loadBuffer",value:function(Y,le,ue){var ge=this,ye=function(Ce){return Ce&&ge.tmpEvents.push(ge.once("ready",Ce)),ge.getArrayBuffer(Y,function(be){return ge.loadArrayBuffer(be)})};if(le)this.backend.setPeaks(le,ue),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",ye));else return ye()}},{key:"loadMediaElement",value:function(Y,le,ue,ge){var ye=this,_e=Y;if(typeof Y=="string")this.backend.load(_e,this.mediaContainer,le,ue);else{var Ce=Y;this.backend.loadElt(Ce,le),_e=Ce.src}this.tmpEvents.push(this.backend.once("canplay",function(){ye.backend.destroyed||(ye.drawBuffer(),ye.isReady=!0,ye.fireEvent("ready"))}),this.backend.once("error",function(be){return ye.fireEvent("error",be)})),le&&(this.backend.setPeaks(le,ge),this.drawBuffer(),this.fireEvent("waveform-ready")),(!le||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(_e,function(be){ye.decodeArrayBuffer(be,function(Ne){ye.backend.buffer=Ne,ye.backend.setPeaks(null),ye.drawBuffer(),ye.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(Y,le){var ue=this;this.isDestroyed||(this.arraybuffer=Y,this.backend.decodeArrayBuffer(Y,function(ge){!ue.isDestroyed&&ue.arraybuffer==Y&&(le(ge),ue.arraybuffer=null)},function(){return ue.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(Y,le){var ue=this,ge=Object.assign({url:Y,responseType:"arraybuffer"},this.params.xhr),ye=M.fetchFile(ge);return this.currentRequest=ye,this.tmpEvents.push(ye.on("progress",function(_e){ue.onProgress(_e)}),ye.on("success",function(_e){le(_e),ue.currentRequest=null}),ye.on("error",function(_e){ue.fireEvent("error",_e),ue.currentRequest=null})),ye}},{key:"onProgress",value:function(Y){var le;Y.lengthComputable?le=Y.loaded/Y.total:le=Y.loaded/(Y.loaded+1e6),this.fireEvent("loading",Math.round(le*100),Y.target)}},{key:"exportPCM",value:function(Y,le,ue,ge,ye){Y=Y||1024,ge=ge||0,le=le||1e4,ue=ue||!1;var _e=this.backend.getPeaks(Y,ge,ye),Ce=[].map.call(_e,function(be){return Math.round(be*le)/le});return new Promise(function(be,Ne){if(!ue){var fe=new Blob([JSON.stringify(Ce)],{type:"application/json;charset=utf-8"}),ve=URL.createObjectURL(fe);window.open(ve),URL.revokeObjectURL(ve)}be(Ce)})}},{key:"exportImage",value:function(Y,le,ue){return Y||(Y="image/png"),le||(le=1),ue||(ue="dataURL"),this.drawer.getImage(Y,le,ue)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch(function(Y){}),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(Y){return Y.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive!==!1&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(Y){var le=new ne(Y);return le.init()}}]),ne}(M.Observer);y.default=ie,ee(ie,"VERSION","6.2.0"),ee(ie,"util",M),b.exports=y.default},"./src/webaudio.js":(b,y,_)=>{function w(q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},w(q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var M=g(_("./src/util/index.js"));function $(q){if(typeof WeakMap!="function")return null;var X=new WeakMap,ie=new WeakMap;return($=function(G){return G?ie:X})(q)}function g(q,X){if(!X&&q&&q.__esModule)return q;if(q===null||w(q)!=="object"&&typeof q!="function")return{default:q};var ie=$(X);if(ie&&ie.has(q))return ie.get(q);var Q={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in q)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(q,ne)){var re=G?Object.getOwnPropertyDescriptor(q,ne):null;re&&(re.get||re.set)?Object.defineProperty(Q,ne,re):Q[ne]=q[ne]}return Q.default=q,ie&&ie.set(q,Q),Q}function v(q,X){if(!(q instanceof X))throw new TypeError("Cannot call a class as a function")}function k(q,X){for(var ie=0;ie<X.length;ie++){var Q=X[ie];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(q,Q.key,Q)}}function C(q,X,ie){return X&&k(q.prototype,X),ie&&k(q,ie),Object.defineProperty(q,"prototype",{writable:!1}),q}function S(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(X&&X.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),X&&I(q,X)}function I(q,X){return I=Object.setPrototypeOf||function(Q,G){return Q.__proto__=G,Q},I(q,X)}function O(q){var X=R();return function(){var Q=L(q),G;if(X){var ne=L(this).constructor;G=Reflect.construct(Q,arguments,ne)}else G=Q.apply(this,arguments);return x(this,G)}}function x(q,X){if(X&&(w(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(q)}function F(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(q){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},L(q)}function D(q,X,ie){return X in q?Object.defineProperty(q,X,{value:ie,enumerable:!0,configurable:!0,writable:!0}):q[X]=ie,q}var J="playing",K="paused",ee="finished",H=function(q){S(ie,q);var X=O(ie);function ie(Q){var G,ne,re;return v(this,ie),re=X.call(this),D(F(re),"audioContext",null),D(F(re),"offlineAudioContext",null),D(F(re),"stateBehaviors",(G={},D(G,J,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var le=this.getDuration();return this.getCurrentTime()/le||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),D(G,K,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var le=this.getDuration();return this.getCurrentTime()/le||0},getCurrentTime:function(){return this.startPosition}}),D(G,ee,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),G)),re.params=Q,re.ac=Q.audioContext||(re.supportsWebAudio()?re.getAudioContext():{}),re.lastPlay=re.ac.currentTime,re.startPosition=0,re.scheduledPause=null,re.states=(ne={},D(ne,J,Object.create(re.stateBehaviors[J])),D(ne,K,Object.create(re.stateBehaviors[K])),D(ne,ee,Object.create(re.stateBehaviors[ee])),ne),re.buffer=null,re.filters=[],re.gainNode=null,re.mergedPeaks=null,re.offlineAc=null,re.peaks=null,re.playbackRate=1,re.analyser=null,re.scriptNode=null,re.source=null,re.splitPeaks=[],re.state=null,re.explicitDuration=Q.duration,re.sinkStreamDestination=null,re.sinkAudioElement=null,re.destroyed=!1,re}return C(ie,[{key:"supportsWebAudio",value:function(){return!!(window.AudioContext||window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(G){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,G)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(K),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(G){G&&G.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(G){this.state!==this.states[G]&&(this.state=this.states[G],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var G=arguments.length,ne=new Array(G),re=0;re<G;re++)ne[re]=arguments[re];this.setFilters(ne)}},{key:"setFilters",value:function(G){this.disconnectFilters(),G&&G.length&&(this.filters=G,this.analyser.disconnect(),G.reduce(function(ne,re){return ne.connect(re),re},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(ie.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(ie.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var G=this;this.scriptNode.onaudioprocess=function(){var ne=G.getCurrentTime();ne>=G.getDuration()?(G.setState(ee),G.fireEvent("pause")):ne>=G.scheduledPause?G.pause():G.state===G.states[J]&&G.fireEvent("audioprocess",ne)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=null}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(G){return G?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(G)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+G))}},{key:"setVolume",value:function(G){this.gainNode.gain.setValueAtTime(G,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(G,ne,re){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(G,function(Y){return ne(Y)},re):this.offlineAc.decodeAudioData(G).then(function(Y){return ne(Y)}).catch(function(Y){return re(Y)})}},{key:"setPeaks",value:function(G,ne){ne!=null&&(this.explicitDuration=ne),this.peaks=G}},{key:"setLength",value:function(G){if(!(this.mergedPeaks&&G==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];var ne=this.buffer?this.buffer.numberOfChannels:1,re;for(re=0;re<ne;re++)this.splitPeaks[re]=[],this.splitPeaks[re][2*(G-1)]=0,this.splitPeaks[re][2*(G-1)+1]=0;this.mergedPeaks[2*(G-1)]=0,this.mergedPeaks[2*(G-1)+1]=0}}},{key:"getPeaks",value:function(G,ne,re){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(ne=ne||0,re=re||G-1,this.setLength(G),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var Y=this.createBuffer(1,4096,this.sampleRate);this.buffer=Y.buffer}var le=this.buffer.length/G,ue=~~(le/10)||1,ge=this.buffer.numberOfChannels,ye;for(ye=0;ye<ge;ye++){var _e=this.splitPeaks[ye],Ce=this.buffer.getChannelData(ye),be=void 0;for(be=ne;be<=re;be++){var Ne=~~(be*le),fe=~~(Ne+le),ve=Ce[Ne],Le=ve,Ie=void 0;for(Ie=Ne;Ie<fe;Ie+=ue){var We=Ce[Ie];We>Le&&(Le=We),We<ve&&(ve=We)}_e[2*be]=Le,_e[2*be+1]=ve,(ye==0||Le>this.mergedPeaks[2*be])&&(this.mergedPeaks[2*be]=Le),(ye==0||ve<this.mergedPeaks[2*be+1])&&(this.mergedPeaks[2*be+1]=ve)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(typeof this.ac.close=="function"&&this.ac.state!="closed"&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(G){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=G,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){this.ac.state=="suspended"&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[J]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(G,ne){if(!!this.buffer)return this.scheduledPause=null,G==null&&(G=this.getCurrentTime(),G>=this.getDuration()&&(G=0)),ne==null&&(ne=this.getDuration()),this.startPosition=G,this.lastPlay=this.ac.currentTime,this.state===this.states[ee]&&this.setState(K),{start:G,end:ne}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(G,ne){if(!!this.buffer){this.createSource();var re=this.seekTo(G,ne);G=re.start,ne=re.end,this.scheduledPause=ne,this.source.start(0,G),this.resumeAudioContext(),this.setState(J),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch{}this.setState(K),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(G){this.playbackRate=G||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(G){this.scheduledPause=G}}]),ie}(M.Observer);y.default=H,D(H,"scriptBufferSize",256),b.exports=y.default},"./node_modules/debounce/index.js":b=>{function y(_,w,M){var $,g,v,k,C;w==null&&(w=100);function S(){var O=Date.now()-k;O<w&&O>=0?$=setTimeout(S,w-O):($=null,M||(C=_.apply(v,g),v=g=null))}var I=function(){v=this,g=arguments,k=Date.now();var O=M&&!$;return $||($=setTimeout(S,w)),O&&(C=_.apply(v,g),v=g=null),C};return I.clear=function(){$&&(clearTimeout($),$=null)},I.flush=function(){$&&(C=_.apply(v,g),v=g=null,clearTimeout($),$=null)},I}y.debounce=y,b.exports=y}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var _=d[b]={exports:{}};return f[b](_,_.exports,m),_.exports}var h=m("./src/wavesurfer.js");return h})())})(wavesurfer);const WaveSurfer=getDefaultExportFromCjs(wavesurfer.exports);var wavesurfer_playhead={exports:{}};/*!
 * wavesurfer.js playhead plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/playhead/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function w(v,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function M(v,k,C){return k&&w(v.prototype,k),C&&w(v,C),Object.defineProperty(v,"prototype",{writable:!1}),v}var $="#CF2F00",g=function(){function v(k,C){var S=this;_(this,v),this.params=k,this.options={},["draw","moveOnSeek","returnOnPause"].forEach(function(I){I in k?S.options[I]=k[I]:S.options[I]=!0}),this.wavesurfer=C,this.util=C.util,this.style=this.util.style,this.markerWidth=21,this.markerHeight=16,this.playheadTime=0,this.unFuns=[],this._onResize=function(){S._updatePlayheadPosition()},this._onReady=function(){S.wrapper=S.wavesurfer.drawer.wrapper,S._updatePlayheadPosition()}}return M(v,[{key:"_onBackendCreated",value:function(){var C=this;this.wrapper=this.wavesurfer.drawer.wrapper,this.options.draw&&(this._createPlayheadElement(),window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0),this.wavesurferOn("zoom",this._onResize)),this.wavesurferOn("pause",function(){C.options.returnOnPause&&C.wavesurfer.setCurrentTime(C.playheadTime)}),this.wavesurferOn("seek",function(){C.options.moveOnSeek&&(C.playheadTime=C.wavesurfer.getCurrentTime(),C._updatePlayheadPosition())}),this.playheadTime=this.wavesurfer.getCurrentTime()}},{key:"wavesurferOn",value:function(C,S){var I=this,O=this.wavesurfer.on(C,S);return this.unFuns.push(function(){I.wavesurfer.un(C,S)}),O}},{key:"init",value:function(){var C=this;this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",function(){return C._onReady()}),this.wavesurfer.once("backend-created",function(){return C._onBackendCreated()}))}},{key:"destroy",value:function(){this.unFuns.forEach(function(C){return C()}),this.unFuns=[],this.wrapper.removeChild(this.element),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)}},{key:"setPlayheadTime",value:function(C){this.playheadTime=C,this.wavesurfer.isPlaying()||this.wavesurfer.setCurrentTime(C),this._updatePlayheadPosition()}},{key:"_createPointerSVG",value:function(){var C="http://www.w3.org/2000/svg",S=document.createElementNS(C,"svg"),I=document.createElementNS(C,"path");return S.setAttribute("viewBox","0 0 33 30"),I.setAttribute("d","M16.75 31 31.705 5.566A3 3 0 0 0 29.146 1H4.354a3 3 0 0 0-2.56 4.566L16.75 31z"),I.setAttribute("stroke","#979797"),I.setAttribute("fill",$),S.appendChild(I),this.style(S,{width:this.markerWidth+"px",height:this.markerHeight+"px",cursor:"pointer","z-index":5}),S}},{key:"_createPlayheadElement",value:function(){var C=this,S=document.createElement("playhead");S.className="wavesurfer-playhead",this.style(S,{position:"absolute",height:"100%",display:"flex","flex-direction":"column"});var I=this._createPointerSVG();S.appendChild(I),I.addEventListener("click",function(x){x.stopPropagation(),C.wavesurfer.setCurrentTime(C.playheadTime)});var O=document.createElement("div");this.style(O,{"flex-grow":1,"margin-left":this.markerWidth/2-.5+"px",background:"black",width:"1px",opacity:.1}),S.appendChild(O),this.element=S,this.wrapper.appendChild(S)}},{key:"_updatePlayheadPosition",value:function(){if(!!this.element){var C=this.wavesurfer.getDuration(),S=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,I=this.playheadTime/C;this.style(this.element,{left:S*I-this.markerWidth/2+"px"})}}}],[{key:"create",value:function(C){return{name:"playhead",deferInit:C&&C.deferInit?C.deferInit:!1,params:C,instance:v}}}]),v}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var _=d[b]={exports:{}};return f[b](_,_.exports,m),_.exports}var h=m("./src/plugin/playhead/index.js");return h})())})(wavesurfer_playhead);const PlayheadPlugin=getDefaultExportFromCjs(wavesurfer_playhead.exports);var wavesurfer_markers={exports:{}};/*!
 * wavesurfer.js markers plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/markers/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function w(k,C){for(var S=0;S<C.length;S++){var I=C[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}function M(k,C,S){return C&&w(k.prototype,C),S&&w(k,S),Object.defineProperty(k,"prototype",{writable:!1}),k}var $="#D8D8D8",g="bottom",v=function(){function k(C,S){var I=this;_(this,k),this.params=C,this.wavesurfer=S,this.util=S.util,this.style=this.util.style,this.markerLineWidth=1,this.markerWidth=11,this.markerHeight=22,this.dragging=!1,this._onResize=function(){I._updateMarkerPositions()},this._onBackendCreated=function(){I.wrapper=I.wavesurfer.drawer.wrapper,I.params.markers&&I.params.markers.forEach(function(O){return I.add(O)}),window.addEventListener("resize",I._onResize,!0),window.addEventListener("orientationchange",I._onResize,!0),I.wavesurfer.on("zoom",I._onResize),I.markers.find(function(O){return O.draggable})&&(I.onMouseMove=function(O){return I._onMouseMove(O)},window.addEventListener("mousemove",I.onMouseMove),I.onMouseUp=function(O){return I._onMouseUp(O)},window.addEventListener("mouseup",I.onMouseUp))},this.markers=[],this._onReady=function(){I.wrapper=I.wavesurfer.drawer.wrapper,I._updateMarkerPositions()}}return M(k,[{key:"init",value:function(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}},{key:"destroy",value:function(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.wavesurfer.un("zoom",this._onResize),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0),this.onMouseMove&&window.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&window.removeEventListener("mouseup",this.onMouseUp),this.clear()}},{key:"add",value:function(S){var I={time:S.time,label:S.label,color:S.color||$,position:S.position||g,draggable:!!S.draggable};return I.el=this._createMarkerElement(I,S.markerElement),this.wrapper.appendChild(I.el),this.markers.push(I),this._updateMarkerPositions(),I}},{key:"remove",value:function(S){var I=this.markers[S];!I||(this.wrapper.removeChild(I.el),this.markers.splice(S,1))}},{key:"_createPointerSVG",value:function(S,I){var O="http://www.w3.org/2000/svg",x=document.createElementNS(O,"svg"),F=document.createElementNS(O,"polygon");return x.setAttribute("viewBox","0 0 40 80"),F.setAttribute("id","polygon"),F.setAttribute("stroke","#979797"),F.setAttribute("fill",S),F.setAttribute("points","20 0 40 30 40 80 0 80 0 30"),I=="top"&&F.setAttribute("transform","rotate(180, 20 40)"),x.appendChild(F),this.style(x,{width:this.markerWidth+"px",height:this.markerHeight+"px","min-width":this.markerWidth+"px","margin-right":"5px","z-index":4}),x}},{key:"_createMarkerElement",value:function(S,I){var O=this,x=S.label,F=document.createElement("marker");F.className="wavesurfer-marker",this.style(F,{position:"absolute",height:"100%",display:"flex",overflow:"hidden","flex-direction":S.position=="top"?"column-reverse":"column"});var R=document.createElement("div"),L=I?I.width:this.markerWidth;S.offset=(L-this.markerLineWidth)/2,this.style(R,{"flex-grow":1,"margin-left":S.offset+"px",background:"black",width:this.markerLineWidth+"px",opacity:.1}),F.appendChild(R);var D=document.createElement("div"),J=I||this._createPointerSVG(S.color,S.position);if(S.draggable&&(J.draggable=!1),D.appendChild(J),x){var K=document.createElement("span");K.innerText=x,this.style(K,{"font-family":"monospace","font-size":"90%"}),D.appendChild(K)}return this.style(D,{display:"flex","align-items":"center",cursor:"pointer"}),F.appendChild(D),D.addEventListener("click",function(ee){ee.stopPropagation(),!O.dragging&&(O.wavesurfer.setCurrentTime(S.time),O.wavesurfer.fireEvent("marker-click",S,ee))}),S.draggable&&D.addEventListener("mousedown",function(ee){O.selectedMarker=S}),F}},{key:"_updateMarkerPositions",value:function(){for(var S=0;S<this.markers.length;S++){var I=this.markers[S];this._updateMarkerPosition(I)}}},{key:"_updateMarkerPosition",value:function(S){var I=this.wavesurfer.getDuration(),O=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,x=Math.min(S.time/I,1),F=O*x-S.offset;this.style(S.el,{left:F+"px","max-width":O-F+"px"})}},{key:"_onMouseMove",value:function(S){!this.selectedMarker||(this.dragging||(this.dragging=!0,this.wavesurfer.fireEvent("marker-drag",this.selectedMarker,S)),this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*this.wavesurfer.getDuration(),this._updateMarkerPositions())}},{key:"_onMouseUp",value:function(S){var I=this;if(this.selectedMarker&&setTimeout(function(){I.selectedMarker=!1,I.dragging=!1},0),!!this.dragging){S.stopPropagation();var O=this.wavesurfer.getDuration();this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*O,this._updateMarkerPositions(),this.wavesurfer.fireEvent("marker-drop",this.selectedMarker,S)}}},{key:"clear",value:function(){for(;this.markers.length>0;)this.remove(0)}}],[{key:"create",value:function(S){return{name:"markers",deferInit:S&&S.deferInit?S.deferInit:!1,params:S,staticProps:{addMarker:function(O){return this.initialisedPluginList.markers||this.initPlugin("markers"),this.markers.add(O)},clearMarkers:function(){this.markers&&this.markers.clear()}},instance:k}}}]),k}();y.default=v,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var _=d[b]={exports:{}};return f[b](_,_.exports,m),_.exports}var h=m("./src/plugin/markers/index.js");return h})())})(wavesurfer_markers);const MarkersPlugin=getDefaultExportFromCjs(wavesurfer_markers.exports);var wavesurfer_cursor={exports:{}};/*!
 * wavesurfer.js cursor plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/cursor/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function w(v,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function M(v,k,C){return k&&w(v.prototype,k),C&&w(v,C),Object.defineProperty(v,"prototype",{writable:!1}),v}function $(v,k,C){return k in v?Object.defineProperty(v,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[k]=C,v}var g=function(){function v(k,C){var S=this;_(this,v),$(this,"defaultParams",{hideOnBlur:!0,width:"1px",color:"black",opacity:"0.25",style:"solid",zIndex:4,customStyle:{},customShowTimeStyle:{},showTime:!1,followCursorY:!1,formatTimeCallback:null}),$(this,"_onMousemove",function(I){var O=S.util.withOrientation(I,S.wavesurfer.params.vertical),x=S.wrapper.getBoundingClientRect(),F=0,R=S.wrapper.scrollLeft+O.clientX-x.left,L=S.displayTime?S.displayTime.getBoundingClientRect().width:0,D=x.right<O.clientX+L;S.params.showTime&&S.params.followCursorY&&(F=O.clientY-(x.top+x.height/2)),S.updateCursorPosition(R,F,D)}),$(this,"_onMouseenter",function(){return S.showCursor()}),$(this,"_onMouseleave",function(){return S.hideCursor()}),this.wavesurfer=C,this.style=C.util.style,this.util=C.util,this.cursor=null,this.showTime=null,this.displayTime=null,this.params=Object.assign({},this.defaultParams,k)}return M(v,[{key:"_onReady",value:function(){this.wrapper=this.wavesurfer.drawer.wrapper,this.cursor=this.util.withOrientation(this.wrapper.appendChild(document.createElement("cursor")),this.wavesurfer.params.vertical),this.style(this.cursor,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"0",display:"flex",borderRightStyle:this.params.style,borderRightWidth:this.params.width,borderRightColor:this.params.color,opacity:this.params.opacity,pointerEvents:"none"},this.params.customStyle)),this.params.showTime&&(this.showTime=this.util.withOrientation(this.wrapper.appendChild(document.createElement("showTitle")),this.wavesurfer.params.vertical),this.style(this.showTime,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"auto",display:"flex",opacity:this.params.opacity,pointerEvents:"none",height:"100%"},this.params.customStyle)),this.displayTime=this.util.withOrientation(this.showTime.appendChild(document.createElement("div")),this.wavesurfer.params.vertical),this.style(this.displayTime,Object.assign({display:"inline",pointerEvents:"none",margin:"auto",visibility:"hidden"},this.params.customShowTimeStyle)),this.displayTime.innerHTML=this.formatTime(0)),this.wrapper.addEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.hideCursor(),this.wrapper.addEventListener("mouseenter",this._onMouseenter),this.wrapper.addEventListener("mouseleave",this._onMouseleave))}},{key:"init",value:function(){var C=this;this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",function(){return C._onReady()})}},{key:"destroy",value:function(){this.params.showTime&&this.showTime.remove(),this.cursor.remove(),this.wrapper.removeEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.wrapper.removeEventListener("mouseenter",this._onMouseenter),this.wrapper.removeEventListener("mouseleave",this._onMouseleave))}},{key:"updateCursorPosition",value:function(C,S){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.style(this.cursor,{left:"".concat(C,"px")}),this.params.showTime){var O=this.wavesurfer.getDuration(),x=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,F=this.wavesurfer.drawer.getScrollX(),R=O/this.wavesurfer.drawer.width*F,L=Math.max(0,(C-this.wrapper.scrollLeft)/x*O)+R,D=this.formatTime(L);if(I){var J=this.displayTime.getBoundingClientRect().width;C-=J}this.style(this.showTime,{left:"".concat(C,"px"),top:"".concat(S,"px")}),this.style(this.displayTime,{visibility:"visible"}),this.displayTime.innerHTML="".concat(D)}}},{key:"showCursor",value:function(){this.style(this.cursor,{display:"flex"}),this.params.showTime&&this.style(this.showTime,{display:"flex"})}},{key:"hideCursor",value:function(){this.style(this.cursor,{display:"none"}),this.params.showTime&&this.style(this.showTime,{display:"none"})}},{key:"formatTime",value:function(C){return C=isNaN(C)?0:C,this.params.formatTimeCallback?this.params.formatTimeCallback(C):[C].map(function(S){return[Math.floor(S%3600/60),("00"+Math.floor(S%60)).slice(-2),("000"+Math.floor(S%1*1e3)).slice(-3)].join(":")})}}],[{key:"create",value:function(C){return{name:"cursor",deferInit:C&&C.deferInit?C.deferInit:!1,params:C,staticProps:{},instance:v}}}]),v}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var _=d[b]={exports:{}};return f[b](_,_.exports,m),_.exports}var h=m("./src/plugin/cursor/index.js");return h})())})(wavesurfer_cursor);const CursorPlugin=getDefaultExportFromCjs(wavesurfer_cursor.exports);var wavesurfer_timeline={exports:{}};/*!
 * wavesurfer.js timeline plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/timeline/index.js":(b,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function w(v,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function M(v,k,C){return k&&w(v.prototype,k),C&&w(v,C),Object.defineProperty(v,"prototype",{writable:!1}),v}function $(v,k,C){return k in v?Object.defineProperty(v,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[k]=C,v}var g=function(){function v(k,C){var S=this;if(_(this,v),$(this,"_onScroll",function(){S.wrapper&&S.drawer.wrapper&&(S.wrapper.scrollLeft=S.drawer.wrapper.scrollLeft)}),$(this,"_onRedraw",function(){return S.render()}),$(this,"_onReady",function(){var I=S.wavesurfer;S.drawer=I.drawer,S.pixelRatio=I.drawer.params.pixelRatio,S.maxCanvasWidth=I.drawer.maxCanvasWidth||I.drawer.width,S.maxCanvasElementWidth=I.drawer.maxCanvasElementWidth||Math.round(S.maxCanvasWidth/S.pixelRatio),I.drawer.wrapper.addEventListener("scroll",S._onScroll),I.on("redraw",S._onRedraw),I.on("zoom",S._onZoom),S.render()}),$(this,"_onWrapperClick",function(I){I.preventDefault();var O="offsetX"in I?I.offsetX:I.layerX;S.fireEvent("click",O/S.wrapper.scrollWidth||0)}),this.container=typeof k.container=="string"?document.querySelector(k.container):k.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=C,this.util=C.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},k),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce(function(){return S.render()},this.params.zoomDebounce):function(){return S.render()}}return M(v,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var C=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height,"px")}),(C.fillParent||C.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var C=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(C),this.util.style(C,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var C=this.canvases.pop();C.parentElement.removeChild(C)}},{key:"updateCanvases",value:function(){for(var C=Math.round(this.drawer.wrapper.scrollWidth),S=Math.ceil(C/this.maxCanvasElementWidth);this.canvases.length<S;)this.addCanvas();for(;this.canvases.length>S;)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var C=this,S=this.canvases.length;this.canvases.forEach(function(I,O){var x=O===S-1?C.drawer.wrapper.scrollWidth-C.maxCanvasElementWidth*(S-1):C.maxCanvasElementWidth;I.width=x*C.pixelRatio,I.height=(C.params.height+1)*C.pixelRatio,C.util.style(I,{width:"".concat(x,"px"),height:"".concat(C.params.height,"px"),left:"".concat(O*C.maxCanvasElementWidth,"px")})})}},{key:"renderCanvases",value:function(){var C=this,S=this.params.duration||this.wavesurfer.backend.getDuration();if(!(S<=0)){var I=this.wavesurfer.params,O=this.params.fontSize*I.pixelRatio,x=parseInt(S,10)+1,F=I.fillParent&&!I.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*I.pixelRatio,R=this.params.height*this.pixelRatio,L=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,D=F/S,J=this.params.formatTimeCallback,K=function(le){return typeof le=="function"?le(D):le},ee=K(this.params.timeInterval),H=K(this.params.primaryLabelInterval),q=K(this.params.secondaryLabelInterval),X=D*this.params.offset,ie=0,Q,G=[],ne=this.params.offset<0?x-this.params.offset:x;for(Q=0;Q<ne/ee;Q++)G.push([Q,ie,X]),ie+=ee,X+=D*ee;var re=function(le){G.forEach(function(ue){le(ue[0],ue[1],ue[2])})};this.setFillStyles(this.params.primaryColor),this.setFonts("".concat(O,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.primaryFontColor),re(function(Y,le,ue){Y%H===0&&(C.fillRect(ue,0,1,R),C.fillText(J(le,D),ue+C.params.labelPadding*C.pixelRatio,R))}),this.setFillStyles(this.params.secondaryColor),this.setFonts("".concat(O,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.secondaryFontColor),re(function(Y,le,ue){Y%q===0&&(C.fillRect(ue,0,1,R),C.fillText(J(le,D),ue+C.params.labelPadding*C.pixelRatio,R))}),this.setFillStyles(this.params.unlabeledNotchColor),re(function(Y,le,ue){Y%q!==0&&Y%H!==0&&C.fillRect(ue,0,1,L)})}}},{key:"setFillStyles",value:function(C){this.canvases.forEach(function(S){var I=S.getContext("2d");I&&(I.fillStyle=C)})}},{key:"setFonts",value:function(C){this.canvases.forEach(function(S){var I=S.getContext("2d");I&&(I.font=C)})}},{key:"fillRect",value:function(C,S,I,O){var x=this;this.canvases.forEach(function(F,R){var L=R*x.maxCanvasWidth,D={x1:Math.max(C,R*x.maxCanvasWidth),y1:S,x2:Math.min(C+I,R*x.maxCanvasWidth+F.width),y2:S+O};if(D.x1<D.x2){var J=F.getContext("2d");J&&J.fillRect(D.x1-L,D.y1,D.x2-D.x1,D.y2-D.y1)}})}},{key:"fillText",value:function(C,S,I){var O,x=0;this.canvases.forEach(function(F){var R=F.getContext("2d");if(R){var L=R.canvas.width;if(x>S+O)return;x+L>S&&R&&(O=R.measureText(C).width,R.fillText(C,S-x,I)),x+=L}})}},{key:"defaultFormatTimeCallback",value:function(C,S){if(C/60>1){var I=parseInt(C/60,10);return C=parseInt(C%60,10),C=C<10?"0"+C:C,"".concat(I,":").concat(C)}return Math.round(C*1e3)/1e3}},{key:"defaultTimeInterval",value:function(C){return C>=25?1:C*5>=25?5:C*15>=25?15:Math.ceil(.5/C)*60}},{key:"defaultPrimaryLabelInterval",value:function(C){return C>=25?10:C*5>=25?6:(C*15>=25,4)}},{key:"defaultSecondaryLabelInterval",value:function(C){return C>=25?5:(C*5>=25||C*15>=25,2)}}],[{key:"create",value:function(C){return{name:"timeline",deferInit:C&&C.deferInit?C.deferInit:!1,params:C,instance:v}}}]),v}();y.default=g,b.exports=y.default}},d={};function m(b){var y=d[b];if(y!==void 0)return y.exports;var _=d[b]={exports:{}};return f[b](_,_.exports,m),_.exports}var h=m("./src/plugin/timeline/index.js");return h})())})(wavesurfer_timeline);const TimelinePlugin=getDefaultExportFromCjs(wavesurfer_timeline.exports);function formatTimeCallback(o,u){o=Number(o);var f=Math.floor(o/60);o=o%60;var d=Math.round(o).toString();return u>=25*10?d=o.toFixed(2):u>=25*1&&(d=o.toFixed(1)),f>0?(o<10&&(d="0"+d),`${f}:${d}`):d}function timeInterval(o){var u=1;return o>=25*100?u=.01:o>=25*40?u=.025:o>=25*10?u=.1:o>=25*4?u=.25:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function primaryLabelInterval(o){var u=1;return o>=25*100?u=10:o>=25*40?u=4:o>=25*10?u=10:o>=25*4?u=4:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function secondaryLabelInterval(o){return Math.floor(10/timeInterval(o))}const makeWavesurfer=o=>u=>f=>d=>m=>h=>()=>{const b=WaveSurfer.create({backend:"MediaElement",waveColor:"#A8DBA8",progressColor:"#3B8131",container:m,mediaControls:!0,scrollParent:!0,plugins:[PlayheadPlugin.create({returnOnPause:!0,moveOnSeek:!0,draw:!0}),TimelinePlugin.create({container:"#timeline",formatTimeCallback,timeInterval,primaryLabelInterval,secondaryLabelInterval,primaryColor:"#0b83a7",secondaryColor:"#ef0ea6",primaryFontColor:"#0b83a7",secondaryFontColor:"#ef0ea6"}),MarkersPlugin.create({markers:[{time:0,color:"#00ffff",draggable:!0,position:"top"}]}),CursorPlugin.create({showTime:!0,opacity:1,customShowTimeStyle:{"background-color":"#000",color:"#fff",padding:"2px","font-size":"10px"}})]});b.load(h),b.on("ready",d),b.markers.remove(0),b.on("marker-drop",function({time:w,el:{$$joyrideIndex:M,$$joyrideOffset:$,$$realIndex:g,$$documentId:v}}){f(M)($)(g)(v?u(v):o)(w)()});var y={play:function(){b.playPause()},back:function(){b.skipBackward()},forth:function(){b.skipForward()},stop:function(){b.stop()},"toggle-mute":function(){b.toggleMute()}};const _=function(w){let $={38:"play",37:"back",39:"forth",40:"stop"}[w.keyCode];$ in y&&((document==w.target||document.body==w.target||w.target.attributes["data-action"])&&w.preventDefault(),y[$](w))};return document.addEventListener("keydown",_),b.on("destroy",()=>{document.removeEventListener("keydown",_)}),b},zoom=o=>u=>()=>o.zoom(u),associateEventDocumentIdWithSortedMarkerIdList=o=>u=>()=>{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(o.markers.markers[d].el.$$joyrideIndex!==f[0].ix&&(console.log("shifting",o.markers.markers[d].el.$$joyrideIndex,f[0].ix),f.shift()),o.markers.markers[d].el.$$joyrideIndex!==f[0].ix)throw console.error("Programming error: something isn't sorted",o.markers.markers[d].el.$$joyrideIndex,f[0].ix,JSON.stringify(u),JSON.stringify(o.markers.markers.map(m=>m.el.$$joyrideIndex))),new Error("Programming error: something isn't sorted");o.markers.markers[d].el.$$documentId=f[0].id}},associateEventDocumentIdWithMarker=o=>u=>()=>{o.el.$$documentId=u},addMarker=o=>u=>f=>d=>()=>{const m=o.addMarker({draggable:!0,position:"top",...d});return m.el.$$joyrideIndex=u,m.el.$$joyrideOffset=f,m.el.$$realIndex=o.markers.markers.length-1,m},hideMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("visible"),o.markers.markers[u].el.classList.add("invisible")},muteExcept=o=>u=>()=>{if(u.length===0)for(let f=0;f<o.markers.markers.length;f++)o.markers.markers[f].el.classList.remove("invisible"),o.markers.markers[f].el.classList.add("visible");else{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(f.length&&d==f[0][1]&&f.shift(),f.length&&d>=f[0][0]&&d<f[0][1]){o.markers.markers[d].el.classList.remove("invisible"),o.markers.markers[d].el.classList.add("visible");continue}o.markers.markers[d].el.classList.remove("visible"),o.markers.markers[d].el.classList.add("invisible")}}},removeMarker=o=>u=>()=>{o.markers.remove(u)},getCurrentTime=o=>()=>o.getCurrentTime(),getDuration=o=>()=>o.getDuration(),showMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("invisible"),o.markers.markers[u].el.classList.add("visible")};var getEffProp=function(o){return function(u){return function(){return u[o]}}};const _firstChild=getEffProp("firstChild"),textContent=getEffProp("textContent");function eventListener(o){return function(){return function(u){return o(u)()}}}function addEventListener(o){return function(u){return function(f){return function(d){return function(){return d.addEventListener(o,u,f)}}}}}function removeEventListener(o){return function(u){return function(f){return function(d){return function(){return d.removeEventListener(o,u,f)}}}}}function _item(o){return function(u){return u.item(o)}}function fileReader(){return new FileReader}function result(o){return function(){return o.result}}function readAsText(o){return function(u){return function(){u.readAsText(o)}}}const styleAudio=()=>{const o=document.getElementsByTagName("audio");Array.prototype.slice.call(o).forEach(f=>{f.id="audio",f.classList.add("op-player"),f.classList.add("op-player__media"),f.setAttribute("controls",!0),f.setAttribute("playsinline",!0)})},$CAction=(o,u)=>({tag:o,_1:u}),$SoMu=(o,u)=>({tag:o,_1:u}),oneOf$8=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussedUncurried=vbussedUncurried$1()(vbusCons2({reflectSymbol:()=>"addBasic"})()()(vbusCons2({reflectSymbol:()=>"addLeap"})()()(vbusCons2({reflectSymbol:()=>"addLongPress"})()()(vbusCons2({reflectSymbol:()=>"atomicEventOperation"})()()(vbusCons2({reflectSymbol:()=>"atomicTrackOperation"})()()(vbusCons2({reflectSymbol:()=>"availableTracks"})()()(vbusCons2({reflectSymbol:()=>"chooserScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"currentTime"})()()(vbusCons2({reflectSymbol:()=>"documentId"})()()(vbusCons2({reflectSymbol:()=>"forkingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"importerScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"initialPrivate"})()()(vbusCons2({reflectSymbol:()=>"initialTitle"})()()(vbusCons2({reflectSymbol:()=>"initialWhitelist"})()()(vbusCons2({reflectSymbol:()=>"loadWave"})()()(vbusCons2({reflectSymbol:()=>"loadingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"markerMoved"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"previewScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusCons2({reflectSymbol:()=>"spamIdsOnSubscription"})()()(vbusCons2({reflectSymbol:()=>"unMute"})()()(vbusCons2({reflectSymbol:()=>"unSolo"})()()(vbusCons2({reflectSymbol:()=>"waveSurfer"})()()(vbusNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()),biSampleOn$2=biSampleOn$4(eventIsEvent),for_$3=for_$9(applicativeEffect),for_1=for_$3(foldableMaybe),folded$1=o=>(u,f)=>{const d={value:[]};return o(u,m=>{const h=d.value,b=d.value=concatArray(m)(h);return f(b)})},traverse_$5=traverse_$9(applicativeEffect)(foldableMaybe),parTraverse$2=(()=>{const o=traversableArray.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),mapAccum$3=mapAccum$e(eventIsEvent),ordTuple=ordTuple$1(ordInt)(ordInt),toUnfoldable1=toUnfoldable(unfoldableArray),for_2=for_$3(foldableArray),traverseWithIndex_=traverseWithIndex_$1(applicativeEffect)(foldableWithIndexArray),min$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},writeForeignArray={writeImpl:o=>arrayMap(writeForeignEvent_.writeImpl)(o)},trackIsSymbol={reflectSymbol:()=>"track"},writeJSON=writeJSON$1((()=>{const o=consWriteForeignFields$1({reflectSymbol:()=>"evs"})(writeForeignArray)(consWriteForeignFields$1(trackIsSymbol)((()=>{const u=consWriteForeignFields$1({reflectSymbol:()=>"owner"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"private"})(writeForeignBoolean)(consWriteForeignFields$1({reflectSymbol:()=>"title"})({writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return f._1;fail$3()}})(consWriteForeignFields$1({reflectSymbol:()=>"url"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"version"})({writeImpl:f=>0})(consWriteForeignFields$1({reflectSymbol:()=>"whitelist"})(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),fromFoldable$3=(()=>fromFoldableImpl(foldableList.foldr))(),click$6=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),eventsIsSymbol={reflectSymbol:()=>"events"},writeJSON1=writeJSON$1((()=>{const o=consWriteForeignFields$1(eventsIsSymbol)(writeForeignArray)(consWriteForeignFields$1(trackIsSymbol)(writeForeignTrack)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),vbus=vbus$2()(vbusCons2({reflectSymbol:()=>"changeColumn"})()()(vbusCons2({reflectSymbol:()=>"changeName"})()()(vbusCons2({reflectSymbol:()=>"delete"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusNil)()())()())()())()())()()),intercalate=intercalate1(monoidString),readJSON=readJSON$2(readRecord()(readFieldsCons$1(eventsIsSymbol)(readArray(readForeignEvent_))(readFieldsCons$1(trackIsSymbol)(readForeignTrack)(readFieldsNil)()())()())),show1=(()=>showNonEmptyList$1(showForeignError).show)(),parTraverse_=parTraverse_$1(parallelAff)(foldableMaybe),ldc=(()=>distinctColors.length)(),defaultLongPress=o=>u=>f=>d=>$Landmark("LLong",{start:{at:d.marker1Time},end:{at:d.marker2Time},len:{len:d.length},name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultLeap=o=>u=>f=>d=>$Landmark("LLeap",{start:{at:d.marker1Time},end:{at:d.marker2Time},position:d.position,name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultBasic=o=>u=>f=>d=>$Landmark("LBasic",{l1:{at:d.marker1Time},l2:{at:d.marker2Time},l3:{at:d.marker3Time},l4:{at:d.marker4Time},name:d.name,fbId:f,id:o,startIx:u,col:d.column}),dC=o=>{const u=index(distinctColors)(intMod(o)(ldc));if(u.tag==="Nothing")return"#8b6f1f";if(u.tag==="Just")return u._1;fail$3()},buttonClassWithMarginAndAutoPointerEvents=(()=>buttonCls+" mx-2 pointer-events-auto")(),aDeleteEvent_=o=>$$delete(ordInt)(o.id),aChangeTitle=o=>u=>$Track({url:u._1.url,private:u._1.private,title:o,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangePrivate=o=>u=>$Track({url:u._1.url,private:o,title:u._1.title,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangeOwner=o=>u=>$Track({url:u._1.url,private:u._1.private,title:u._1.title,owner:o,whitelist:u._1.whitelist,version:u._1.version}),aChangeName=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:o.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:o.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:o.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker4=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:o.time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker3=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:o.time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker2=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:o.time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker1=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:o.time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeColumn=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:o.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:o.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:o.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aAddLongPress=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LongEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,length:o.length,column:o.column,name:o.name,version:$Version(0)}))),aAddLeap=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LeapEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,position:o.position,column:o.column,name:o.name,version:$Version(0)}))),aAddBasic=o=>insert$2(ordInt)(o.id)($Event_($EventV0("BasicEventV0",{marker1Time:o.marker1Time,marker1AudioURL:Nothing,marker2Time:o.marker2Time,marker2AudioURL:Nothing,marker3Time:o.marker3Time,marker3AudioURL:Nothing,marker4Time:o.marker4Time,marker4AudioURL:Nothing,column:o.column,name:o.name,version:$Version(0)}))),editorPage=o=>u=>f=>vbussedUncurried($$Proxy)(d=>$Entity("EventfulElement'",memoBeh(keepLatest((()=>{const m=oneOff(Just)(applyEvent.apply(applyEvent.apply(applyEvent.apply((h,b)=>d._2.initialTitle(h,y=>b(_=>w=>M=>({initialTitle:y,url:_,initialPrivate:w,initialWhitelist:M}))))(d._2.loadWave))(d._2.initialPrivate))(d._2.initialWhitelist));return(h,b)=>m(h,y=>b((_,w)=>{const M={value:$Tuple($Track({title:Nothing,url:y.url,private:y.initialPrivate,version:$Version(0),whitelist:y.initialWhitelist,owner:""}),Leaf)},$=C=>{const S=M.value,I=M.value=(()=>{if(C.tag==="Left")return $Tuple(S._1,C._1(S._2));if(C.tag==="Right")return $Tuple(C._1(S._1),S._2);fail$3()})();return w(I)},g=d._2.atomicEventOperation(_,C=>$($Either("Left",C))),v=applicativeEvent.pure(aChangeTitle($Maybe("Just",y.initialTitle)))(_,C=>$($Either("Right",C))),k=d._2.atomicTrackOperation(_,C=>$($Either("Right",C)));return()=>(g(),v(),k())}))})()))($Tuple($Track({title:Nothing,url:"",private:!1,version:$Version(0),whitelist:[],owner:""}),Leaf))(m=>$Entity("EventfulElement'",rider({event:biSampleOn$2(d._2.markerMoved)((h,b)=>d._2.documentId(h,y=>{const _=Tuple(y);return b(_)})),push:h=>for_1(h._2.id)(b=>{const y=_makeFiber(ffiUtil$1,(()=>h._2.offset===0?updateMarker1TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):h._2.offset===1?updateMarker2TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):h._2.offset===2?updateMarker3TimeAff(u.firestoreDb)(h._1)(b)(h._2.time):updateMarker4TimeAff(u.firestoreDb)(h._1)(b)(h._2.time))());return()=>(y().run(),unit)})})(rider({event:sampleOn(m)(sampleOn(d._2.waveSurfer)(biSampleOn$2(folded$1((h,b)=>u.signedInNonAnonymously(h,y=>b([y]))))((h,b)=>{const y=d._2.documentId(h,w=>b(M=>$=>g=>({did:$Maybe("Just",w),sina:M,ws:$,mrd:g}))),_=applicativeEvent.pure(Nothing)(h,w=>b(M=>$=>g=>({did:w,sina:M,ws:$,mrd:g})));return()=>(y(),_())}))),push:h=>h.did.tag==="Nothing"?h.sina.length===2?h.sina[0]?h.sina[1]?()=>unit:bindE(currentUser(u.fbAuth))(traverse_$5(b=>{const y=_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)(aChangeOwner(b.uid)(h.mrd._1)))(_=>_bind(_liftEffect(d._1.documentId(_.id)))(()=>_bind(parTraverse$2(w=>_bind(addEventAff(u.firestoreDb)(_.id)(w._2))(M=>_pure({ix:w._1,id:M.id})))(toUnfoldable$1(unfoldableArray)(h.mrd._2)))(w=>_liftEffect(associateEventDocumentIdWithSortedMarkerIdList(h.ws)(w))))));return()=>(y().run(),unit)})):()=>unit:()=>unit:()=>unit})(rider({event:sampleOn(d._2.waveSurfer)((()=>{const h=mapAccum$3(b=>{if(b.tag==="Solo")return y=>{const _=insert$2(ordTuple)(b._1)(unit)(y);return $Tuple(_,$Either("Left",_))};if(b.tag==="UnSolo")return y=>{const _=$$delete(ordTuple)(b._1)(y);return $Tuple(_,$Either("Left",_))};if(b.tag==="Mute")return y=>$Tuple(y,$Either("Right",$Either("Right",b._1)));if(b.tag==="UnMute")return y=>$Tuple(y,$Either("Right",$Either("Left",b._1)));fail$3()})((b,y)=>{const _=d._2.solo(b,g=>y($SoMu("Solo",g))),w=d._2.mute(b,g=>y($SoMu("Mute",g))),M=d._2.unSolo(b,g=>y($SoMu("UnSolo",g))),$=d._2.unMute(b,g=>y($SoMu("UnMute",g)));return()=>(_(),w(),M(),$())})(Leaf);return(b,y)=>h(b,_=>{const w=Tuple(_);return y(w)})})()),push:h=>{if(h._1.tag==="Left")return muteExcept(h._2)(arrayMap(b=>[b._1,b._1+b._2|0])(toUnfoldable1(h._1._1)));if(h._1.tag==="Right"){if(h._1._1.tag==="Right")return for_2(range(h._1._1._1._1)((h._1._1._1._1+h._1._1._1._2|0)-1|0))(b=>hideMarker(h._2)(b));if(h._1._1.tag==="Left")return for_2(range(h._1._1._1._1)((h._1._1._1._1+h._1._1._1._2|0)-1|0))(b=>showMarker(h._2)(b));fail$3()}fail$3()}})(memoBeh((h,b)=>d._2.documentId(h,y=>b($Maybe("Just",y))))(Nothing)(h=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)(d._2.spamIdsOnSubscription)(b=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)((y,_)=>d._2.markerMoved(y,w=>_({address:w.ix,payload:w})))(y=>$Entity("EventfulElement'",memoBeh(d._2.currentTime)(()=>0)(_=>$Entity("EventfulElement'",backdoor.memoize(oneOf$8([(w,M)=>d._2.addBasic(w,$=>M($CAction("CBasic",$))),(w,M)=>d._2.addLeap(w,$=>M($CAction("CLeap",$))),(w,M)=>d._2.addLongPress(w,$=>M($CAction("CLongPress",$)))]))(w=>{const M=(g,v,k)=>{const C=sortBy$1(S=>I=>ordNumber.compare((()=>{if(S.data._1.tag==="BasicEventV0"||S.data._1.tag==="LeapEventV0"||S.data._1.tag==="LongEventV0")return S.data._1._1.marker1Time;fail$3()})())((()=>{if(I.data._1.tag==="BasicEventV0"||I.data._1.tag==="LeapEventV0"||I.data._1.tag==="LongEventV0")return I.data._1._1.marker1Time;fail$3()})()))(k);return _bind(forkAff(eventToAff(d._2.waveSurfer)))(S=>_bind(_liftEffect((()=>{const I=d._1.loadWave(v._1.url);return()=>(I(),for_1(v._1.title)(d._1.initialTitle)(),d._1.initialPrivate(v._1.private)(),d._1.initialWhitelist(v._1.whitelist)(),d._1.atomicTrackOperation(O=>v)())})()))(()=>_bind(joinFiber(S))(I=>_liftEffect((()=>{const O=d._1.documentId(g);return()=>(O(),traverseWithIndex_(x=>F=>()=>{if(d._1.atomicEventOperation(insert$2(ordInt)(x)(F.data))(),F.data._1.tag==="BasicEventV0"){d._1.addBasic($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"B1",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"B2",time:F.data._1._1.marker2Time})(),D=addMarker(I)(x)(2)({color:dC(x),label:"B3",time:F.data._1._1.marker3Time})(),J=addMarker(I)(x)(3)({color:dC(x),label:"B4",time:F.data._1._1.marker4Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)(),associateEventDocumentIdWithMarker(D)(F.id)(),associateEventDocumentIdWithMarker(J)(F.id)()}if(F.data._1.tag==="LeapEventV0"){d._1.addLeap($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"LSt",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"LEd",time:F.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)()}if(F.data._1.tag==="LongEventV0"){d._1.addLongPress($Tuple($Maybe("Just",F.id),F.data._1._1))();const R=addMarker(I)(x)(0)({color:dC(x),label:"LSt",time:F.data._1._1.marker1Time})(),L=addMarker(I)(x)(1)({color:dC(x),label:"LEd",time:F.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(R)(F.id)(),associateEventDocumentIdWithMarker(L)(F.id)()}fail$3()})(C)())})()))))},$=(g,v)=>{const k=applicativeEvent.pure($Tuple(0,0))(g,v),C={value:$Tuple(0,0)},S=w(g,I=>{const O=C.value,x=C.value=$Tuple(O._1+1|0,(()=>{if(I.tag==="CBasic")return O._2+4|0;if(I.tag==="CLeap"||I.tag==="CLongPress")return O._2+2|0;fail$3()})());return v(x)});return()=>(k(),S())};return $Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("absolute w-screen h-screen bg-zinc-900 overflow-hidden"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$8([(g,v)=>{const k=I=>{const O={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden hidden":"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden")())};return v(O)},C=d._2.previewScreenVisible(g,k),S=applicativeEvent.pure(Nothing)(g,k);return()=>(C(),S())}]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("flex flex-row justify-between")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),click$6(applicativeEvent.pure(u.goBack))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("<"))]))),$Entity("Element'",elementify("h2")(oneOf$8([applicativeEvent.pure({key:"contenteditable",value:$AttributeValue("Prop'","true")}),klass_(attrH2_ClassString)("text-2xl text-slate-200 p-2"),(g,v)=>h(g,k=>{const C={key:"input",value:$AttributeValue("Cb'",S=>{const I=for_1((()=>{const O=nullable(_target(S),Nothing,Just);if(O.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"Node",O._1);if(O.tag==="Nothing")return Nothing;fail$3()})())(O=>{const x=_firstChild(O);return()=>{const F=x();return for_1(nullable(F,Nothing,Just))(R=>()=>{const L=textContent(R)();return log("New title: "+L)(),d._1.atomicTrackOperation(aChangeTitle((()=>L===""?Nothing:$Maybe("Just",L))()))(),for_1(k)(D=>()=>(_makeFiber(ffiUtil$1,updateTrackTitleAff(u.firestoreDb)(D)(L))().run(),unit))()})()}});return()=>(I(),!0)})};return v(C)})]))($Entity("FixedChildren'",[text(d._2.initialTitle)]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("a")(oneOf$8([(g,v)=>{const k=I=>{const O={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return v(O)},C=applicativeEvent.pure(Nothing)(g,k),S=m(g,I=>k($Maybe("Just",I)));return()=>(C(),S())},(g,v)=>m(g,k=>{const C={key:"href",value:$AttributeValue("Prop'",(()=>{const S=_encodeURIComponent(I=>Nothing,Just,writeJSON1({track:k._1,events:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(k._2))}));if(S.tag==="Nothing")return"data:text/plain;charset=utf-8,";if(S.tag==="Just")return"data:text/plain;charset=utf-8,"+S._1;fail$3()})())};return v(C)}),(g,v)=>{const k=O=>{const x={key:"download",value:$AttributeValue("Prop'",(()=>{if(O.tag==="Just")return O._1+".json";if(O.tag==="Nothing")return"export.json";fail$3()})())};return v(x)},C=applicativeEvent.pure(Nothing)(g,k),S=d._2.initialTitle(g,O=>k($Maybe("Just",O))),I=m(g,O=>k(O._1._1.title));return()=>(C(),S(),I())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Export"))]))),$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Private?"))]))),$Entity("Element'",elementify("input")(oneOf$8([applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","checkbox")}),(g,v)=>oneOff(Just)(m)(g,k=>{const C={key:"checked",value:$AttributeValue("Prop'",(()=>k._1._1.private?"true":"false")())};return v(C)}),klass_(attrInput_ClassString)("w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"),(()=>{const g=biSampleOn$2(h)((v,k)=>m(v,C=>{const S=Tuple(C);return k(S)}));return(v,k)=>g(v,C=>{const S=!C._1._1._1.private,I=d._1.atomicTrackOperation(aChangePrivate(S)),O={key:"click",value:$AttributeValue("Cb'",x=>()=>(I(),for_1(C._2)(F=>()=>(_makeFiber(ffiUtil$1,updateTrackPrivateAff(u.firestoreDb)(F)(S))().run(),unit))(),!0))};return k(O)})})()]))($Entity("FixedChildren'",[text(applicativeEvent.pure("<"))])))])))]))),$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("bg-zinc-600"),(g,v)=>d._2.loadWave(g,k=>{const C={key:"@self@",value:$AttributeValue("Cb'",S=>{const I=makeWavesurfer(Nothing)(Just)(O=>x=>F=>R=>L=>{const D=d._1.markerMoved({ix:O,offset:x,inArray:F,time:L,id:R});return()=>(D(),d._1.atomicEventOperation((()=>x===0?aChangeMarker1({id:O,time:L}):x===1?aChangeMarker2({id:O,time:L}):x===2?aChangeMarker3({id:O,time:L}):aChangeMarker4({id:O,time:L}))())())})(d._1.importerScreenVisible(!1))(S)(k);return()=>{const O=I();return d._1.waveSurfer(O)(),d._1.currentTime(getCurrentTime(O))(),styleAudio(),d._1.loadingScreenVisible(!1)()}})};return v(C)})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","timeline")}),klass_(attrDiv_ClassString)("")]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$8([klass_(attrLabel_ClassString)("text-white")]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Zoom"))]))),$Entity("Element'",elementify("input")(oneOf$8([applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","1000")}),slider((g,v)=>d._2.waveSurfer(g,k=>{const C=zoom(k);return v(C)}))]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("flex flex-row justify-around")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([(()=>{const g=biSampleOn$2((v,k)=>{const C=d._2.documentId(v,I=>k($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)(v,k);return()=>(C(),S())})(biSampleOn$2($)((v,k)=>d._2.waveSurfer(v,C=>k(S=>I=>({ws:C,ixs:S,did:I})))));return(v,k)=>g(v,C=>{const S=getCurrentTime(C.ws),I={key:"click",value:$AttributeValue("Cb'",O=>()=>{const x=S(),F=getDuration(C.ws)();return(()=>{const R=min$2(F)(0+x),L=min$2(F)(.5+x),D=min$2(F)(1+x),J=min$2(F)(1.5+x),K=ee=>d._1.addBasic($Tuple(ee,{marker1Time:R,marker1AudioURL:Nothing,marker2Time:L,marker2AudioURL:Nothing,marker3Time:D,marker3AudioURL:Nothing,marker4Time:J,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}));return()=>{const ee=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"B1",time:R})(),H=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"B2",time:L})(),q=addMarker(C.ws)(C.ixs._1)(2)({color:dC(C.ixs._1),label:"B3",time:D})(),X=addMarker(C.ws)(C.ixs._1)(3)({color:dC(C.ixs._1),label:"B4",time:J})();d._1.atomicEventOperation(aAddBasic({id:C.ixs._1,name:Nothing,column:C9,marker1Time:R,marker2Time:L,marker3Time:D,marker4Time:J}))();const ie=K(Nothing);if(C.did.tag==="Nothing")return ie();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("BasicEventV0",{marker1Time:R,marker1AudioURL:Nothing,marker2Time:L,marker2AudioURL:Nothing,marker3Time:D,marker3AudioURL:Nothing,marker4Time:J,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}))))(G=>_liftEffect((()=>{const ne=associateEventDocumentIdWithMarker(ee)(G.id),re=associateEventDocumentIdWithMarker(H)(G.id),Y=associateEventDocumentIdWithMarker(q)(G.id),le=associateEventDocumentIdWithMarker(X)(G.id),ue=K($Maybe("Just",G.id));return()=>(ne(),re(),Y(),le(),ue())})())))().run(),unit;fail$3()}})()(),!0})};return k(I)})})(),klass_(attrButton_ClassString)(buttonCls)]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Tile"))]))),$Entity("Element'",elementify("button")(oneOf$8([(()=>{const g=biSampleOn$2((v,k)=>{const C=d._2.documentId(v,I=>k($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)(v,k);return()=>(C(),S())})(biSampleOn$2($)((v,k)=>d._2.waveSurfer(v,C=>k(S=>I=>({ws:C,ixs:S,did:I})))));return(v,k)=>g(v,C=>{const S=getCurrentTime(C.ws),I={key:"click",value:$AttributeValue("Cb'",O=>()=>{const x=S(),F=getDuration(C.ws)();return(()=>{const R=min$2(F)(.5+x),L=min$2(F)(0+x),D=(J,K)=>d._1.addLeap($Tuple(K,{marker1Time:L,audioURL:Nothing,marker2Time:R,column:C9,position:J,name:Nothing,version:$Version(0)}));return()=>{const J=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"LSt",time:L})(),K=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"LEd",time:R})(),ee=randomInt(0)(3)(),H=(()=>ee===0?Position1:ee===1?Position2:ee===2?Position3:Position4)();d._1.atomicEventOperation(aAddLeap({id:C.ixs._1,name:Nothing,column:C9,position:H,marker1Time:L,marker2Time:R}))();const q=D(H,Nothing);if(C.did.tag==="Nothing")return q();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("LeapEventV0",{marker1Time:L,audioURL:Nothing,marker2Time:R,position:H,name:Nothing,column:C9,version:$Version(0)}))))(ie=>_liftEffect((()=>{const Q=associateEventDocumentIdWithMarker(J)(ie.id),G=associateEventDocumentIdWithMarker(K)(ie.id),ne=D(H,$Maybe("Just",ie.id));return()=>(Q(),G(),ne())})())))().run(),unit;fail$3()}})()(),!0})};return k(I)})})(),klass_(attrButton_ClassString)(buttonCls)]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Leap"))]))),$Entity("Element'",elementify("button")(oneOf$8([(()=>{const g=biSampleOn$2((v,k)=>{const C=d._2.documentId(v,I=>k($Maybe("Just",I))),S=applicativeEvent.pure(Nothing)(v,k);return()=>(C(),S())})(biSampleOn$2($)((v,k)=>d._2.waveSurfer(v,C=>k(S=>I=>({ws:C,ixs:S,did:I})))));return(v,k)=>g(v,C=>{const S=getCurrentTime(C.ws),I={key:"click",value:$AttributeValue("Cb'",O=>()=>{const x=S(),F=getDuration(C.ws)();return(()=>{const R=min$2(F)(.5+x),L=min$2(F)(0+x),D=J=>d._1.addLongPress($Tuple(J,{marker1Time:L,audioURL:Nothing,marker2Time:R,length:1,column:C9,name:Nothing,version:$Version(0)}));return()=>{const J=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"P1",time:L})(),K=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"P2",time:R})();d._1.atomicEventOperation(aAddLongPress({id:C.ixs._1,name:Nothing,column:C9,marker1Time:L,marker2Time:R,length:1}))();const ee=D(Nothing);if(C.did.tag==="Nothing")return ee();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("LongEventV0",{marker1Time:L,audioURL:Nothing,marker2Time:R,length:1,name:Nothing,column:C9,version:$Version(0)}))))(q=>_liftEffect((()=>{const X=associateEventDocumentIdWithMarker(J)(q.id),ie=associateEventDocumentIdWithMarker(K)(q.id),Q=D($Maybe("Just",q.id));return()=>(X(),ie(),Q())})())))().run(),unit;fail$3()}})()(),!0})};return k(I)})})(),klass_(attrButton_ClassString)(buttonCls)]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Add Long Press"))]))),$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),(g,v)=>m(g,k=>{const C=fullScreenFlow((()=>{const I=log("starting from most recent data: "+writeJSON({track:k._1._1,evs:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(k._2))}));return()=>{I(),d._1.loadingScreenVisible(!0)();const O=context_();return _makeFiber(ffiUtil$1,_bind(decodeAudioDataFromUri(O)(k._1._1.url))(F=>_liftEffect(()=>{const R=o.soundObj.value;return o.soundObj.value=mutate(poke(k._1._1.url)(F))(R),d._1.previewScreenVisible($Maybe("Just",f))(),d._1.loadingScreenVisible(!1)()})))().run(),unit}})()),S={key:"click",value:$AttributeValue("Cb'",I=>()=>(C(),!0))};return v(S)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Preview"))]))),$Entity("Element'",elementify("button")(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const g=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),!0))}})()),(g,v)=>u.signedInNonAnonymously(g,k=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>k?buttonCls+" hidden":buttonCls+"")())};return v(C)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Save (sign in)"))])))]))),$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("overflow-scroll")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("accordion"),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","accordionExample")})]))($Entity("FixedChildren'",[(()=>{const g=sampleOn((v,k)=>{const C={value:$Tuple(!0,7)};return applicativeEvent.pure(unit)(v,S=>{const I=C.value,O=C.value=(()=>I._1&&I._2>=10?$Tuple(!1,9):!I._1&&I._2<=4?$Tuple(!0,5):$Tuple(I._1,(()=>I._1?I._2+1|0:I._2-1|0)()))();return k(O._2)})})(sampleOn(d._2.waveSurfer)((()=>{const v=mapAccum$3(k=>C=>{if(k.tag==="CBasic")return $Tuple({id:C.id+1|0,startIx:C.startIx+4|0},defaultBasic(C.id)(C.startIx)(k._1._1)(k._1._2));if(k.tag==="CLeap")return $Tuple({id:C.id+1|0,startIx:C.startIx+2|0},defaultLeap(C.id)(C.startIx)(k._1._1)(k._1._2));if(k.tag==="CLongPress")return $Tuple({id:C.id+1|0,startIx:C.startIx+2|0},defaultLongPress(C.id)(C.startIx)(k._1._1)(k._1._2));fail$3()})(w)({id:0,startIx:0});return(k,C)=>v(k,S=>C(I=>O=>({itm:S,ws:I,nac:O})))})()));return $Entity("DynamicChildren'",(v,k)=>g(v,C=>{const S=keepLatest(vbus($$Proxy)(I=>O=>{const x=(()=>{if(C.itm.tag==="LBasic")return $Tuple((()=>{const L="Tile "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return L;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2665");if(C.itm.tag==="LLeap")return $Tuple((()=>{const L="Leap "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return L;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2660");if(C.itm.tag==="LLong")return $Tuple((()=>{const L="Long "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return L;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2666");fail$3()})(),F=(()=>{if(C.itm.tag==="LBasic")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(4,[C.itm._1.l1.at,C.itm._1.l2.at,C.itm._1.l3.at,C.itm._1.l4.at]))))));if(C.itm.tag==="LLeap")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(2,[C.itm._1.start.at,C.itm._1.end.at]))))));if(C.itm.tag==="LLong")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(2,[C.itm._1.start.at,C.itm._1.end.at]))))));fail$3()})(),R=applicativeEvent.pure($Child("Insert",$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("accordion-item bg-zinc-900 border border-white")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(oneOf$8([klass_(attrH2_ClassString)("accordion-header bg-zinc-900 mb-0"),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","heading"+showIntImpl(F._1))})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(`accordion-button-ms accordion-button
      relative
      flex
      items-center
      w-full
      py-4
      px-5
      text-base text-white text-left
      bg-zinc-900
      border-0
      rounded-none
      transition
      focus:outline-none`),applicativeEvent.pure({key:"data-bs-toggle",value:$AttributeValue("Prop'","collapse")}),applicativeEvent.pure({key:"data-bs-target",value:$AttributeValue("Prop'","#collapse"+showIntImpl(F._1))})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$8([klass_(attrSpan_ClassString)("mr-2"),applicativeEvent.pure({key:"style",value:$AttributeValue("Prop'","color: "+(dC(F._1)+";"))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure(x._2))]))),$Entity("Element'",elementify("span")(plusEvent.empty)($Entity("FixedChildren'",[text((L,D)=>{const J=O.changeName(L,ee=>{const H=(()=>{if(ee.tag==="Just")return ee._1;if(ee.tag==="Nothing")return x._1;fail$3()})();return D(H)}),K=applicativeEvent.pure(x._1)(L,D);return()=>(J(),K())}),text(applicativeEvent.pure(" (Column ")),text((L,D)=>{const J=H=>{const q=_unsafeStringify((()=>{if(H.tag==="C1")return 1;if(H.tag==="C2")return 2;if(H.tag==="C3")return 3;if(H.tag==="C4")return 4;if(H.tag==="C5")return 5;if(H.tag==="C6")return 6;if(H.tag==="C7")return 7;if(H.tag==="C8")return 8;if(H.tag==="C9")return 9;if(H.tag==="C10")return 10;if(H.tag==="C11")return 11;if(H.tag==="C12")return 12;if(H.tag==="C13")return 13;if(H.tag==="C14")return 14;if(H.tag==="C15")return 15;if(H.tag==="C16")return 16;if(H.tag==="C17")return 17;fail$3()})());return D(q)},K=O.changeColumn(L,J),ee=applicativeEvent.pure(F._2._2._1)(L,J);return()=>(K(),ee())}),text(applicativeEvent.pure(") ")),text((()=>{const L=y(F._1);return(D,J)=>{const K=X=>{const ie=" ("+(intercalate(",")(arrayMap(toStringWith($Format("Fixed",clamp$3(0)(20)(2))))(X))+")");return J(ie)},ee=applicativeEvent.pure(F._2._2._2._2._2._2)(D,K),H={value:F._2._2._2._2._2._2},q=L(D,X=>{const ie=H.value,Q=H.value=indexArray.ix(X.offset)(strongFn)(choiceFn)(G=>X.time)(ie);return K(Q)});return()=>(ee(),q())}})())]))),$Entity("Element'",elementify("span")(oneOf$8([(L,D)=>{const J={value:!1},K=O.solo(L,H=>{const q=J.value,X=J.value=!q;return D({key:"class",value:$AttributeValue("Prop'",(()=>X?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())})}),ee=applicativeEvent.pure(!1)(L,H=>D({key:"class",value:$AttributeValue("Prop'",(()=>H?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())}));return()=>(K(),ee())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("S"))]))),$Entity("Element'",elementify("span")(oneOf$8([(L,D)=>{const J={value:!1},K=O.mute(L,H=>{const q=J.value,X=J.value=!q;return D({key:"class",value:$AttributeValue("Prop'",(()=>X?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())})}),ee=applicativeEvent.pure(!1)(L,H=>D({key:"class",value:$AttributeValue("Prop'",(()=>H?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())}));return()=>(K(),ee())}]))($Entity("FixedChildren'",[text(applicativeEvent.pure("M"))])))])))]))),$Entity("Element'",elementify("div")(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","collapse"+showIntImpl(F._1))}),klass_(attrDiv_ClassString)((()=>F._1===0?"accordion-collapse collapse show":"accordion-collapse collapse")()),applicativeEvent.pure({key:"data-bs-parent",value:$AttributeValue("Prop'","#accordionExample")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$8([klass_(attrDiv_ClassString)("accordion-body bg-zinc-900 py-4 px-5")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$8([klass_(attrLabel_ClassString)("text-white ml-2")]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Name"))]))),$Entity("Element'",elementify("input")(oneOf$8(concatArray([(()=>{const L=biSampleOn$2((()=>{const D=b(F._1);return(J,K)=>{const ee=D(J,q=>K($Maybe("Just",q))),H=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),H())}})())((D,J)=>h(D,K=>{const ee=Tuple(K);return J(ee)}));return(D,J)=>L(D,K=>{const ee={key:"input",value:$AttributeValue("Cb'",H=>{const q=for_1((()=>{const X=nullable(_target(H),Nothing,Just);if(X.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",X._1);if(X.tag==="Nothing")return Nothing;fail$3()})())(X=>{const ie=value(X);return()=>{const Q=ie(),G=(()=>Q===""?Nothing:$Maybe("Just",Q))();return I.changeName(G)(),d._1.atomicEventOperation(aChangeName({id:F._1,name:G}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateEventNameAff(u.firestoreDb)(ne._1)(ne._2)(Q))().run(),unit))()}});return()=>(q(),!0)})};return J(ee)})})(),klass_(attrInput_ClassString)("bg-inherit text-white mx-2 appearance-none border rounded py-2 px-2 leading-tight focus:outline-none focus:shadow-outline"),applicativeEvent.pure({key:"placeholder",value:$AttributeValue("Prop'",x._1)})])((()=>{if(F._2._1.tag==="Nothing")return[];if(F._2._1.tag==="Just")return[applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",F._2._1._1)})];fail$3()})())))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("span")(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("label")(oneOf$8([klass_(attrLabel_ClassString)("text-white")]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Column"))]))),$Entity("Element'",elementify("input")(oneOf$8([(()=>{const L=biSampleOn$2((()=>{const D=b(F._1);return(J,K)=>{const ee=D(J,q=>K($Maybe("Just",q))),H=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),H())}})())((D,J)=>h(D,K=>{const ee=Tuple(K);return J(ee)}));return(D,J)=>L(D,K=>{const ee={key:"input",value:$AttributeValue("Cb'",H=>{const q=for_1((()=>{const X=nullable(_target(H),Nothing,Just);if(X.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",X._1);if(X.tag==="Nothing")return Nothing;fail$3()})())(X=>{const ie=valueAsNumber(X);return()=>{const Q=ie(),G=intToColumn(unsafeClamp(floor(Q)));if(G.tag==="Left")return I.changeColumn(C9)(),d._1.atomicEventOperation(aChangeColumn({id:F._1,column:C9}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(ne._1)(ne._2)(C9))().run(),unit))();if(G.tag==="Right")return I.changeColumn(G._1)(),d._1.atomicEventOperation(aChangeColumn({id:F._1,column:G._1}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(ne=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(ne._1)(ne._2)(G._1))().run(),unit))();fail$3()}});return()=>(q(),!0)})};return J(ee)})})(),applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","number")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",_unsafeStringify((()=>{if(F._2._2._1.tag==="C1")return 1;if(F._2._2._1.tag==="C2")return 2;if(F._2._2._1.tag==="C3")return 3;if(F._2._2._1.tag==="C4")return 4;if(F._2._2._1.tag==="C5")return 5;if(F._2._2._1.tag==="C6")return 6;if(F._2._2._1.tag==="C7")return 7;if(F._2._2._1.tag==="C8")return 8;if(F._2._2._1.tag==="C9")return 9;if(F._2._2._1.tag==="C10")return 10;if(F._2._2._1.tag==="C11")return 11;if(F._2._2._1.tag==="C12")return 12;if(F._2._2._1.tag==="C13")return 13;if(F._2._2._1.tag==="C14")return 14;if(F._2._2._1.tag==="C15")return 15;if(F._2._2._1.tag==="C16")return 16;if(F._2._2._1.tag==="C17")return 17;fail$3()})()))}),applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","1")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","17")}),klass_(attrInput_ClassString)("bg-inherit text-white mx-2 appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline")]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("span")(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([(L,D)=>{const J={value:!1},K=O.solo(L,H=>{const q=J.value,X=J.value=!q;return D({key:"class",value:$AttributeValue("Prop'",(()=>X?buttonActiveCls+" mr-2":buttonCls+" mr-2")())})}),ee=applicativeEvent.pure(!1)(L,H=>D({key:"class",value:$AttributeValue("Prop'",(()=>H?buttonActiveCls+" mr-2":buttonCls+" mr-2")())}));return()=>(K(),ee())},click$6((L,D)=>{const J=q=>{const X=(()=>q?d._1.unSolo($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)):d._1.solo($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)))();return D(()=>(X(),I.solo(unit)()))},K={value:!1},ee=O.solo(L,q=>{const X=K.value,ie=K.value=!X;return J(ie)}),H=applicativeEvent.pure(!1)(L,J);return()=>(ee(),H())})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$8([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Solo"))])))]))),$Entity("Element'",elementify("button")(oneOf$8([(L,D)=>{const J={value:!1},K=O.mute(L,H=>{const q=J.value,X=J.value=!q;return D({key:"class",value:$AttributeValue("Prop'",(()=>X?buttonActiveCls+" mr-2":buttonCls+" mr-2")())})}),ee=applicativeEvent.pure(!1)(L,H=>D({key:"class",value:$AttributeValue("Prop'",(()=>H?buttonActiveCls+" mr-2":buttonCls+" mr-2")())}));return()=>(K(),ee())},click$6((L,D)=>{const J=q=>{const X=(()=>q?d._1.unMute($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)):d._1.mute($Tuple(F._2._2._2._1,F._2._2._2._2._2._1)))();return D(()=>(X(),I.mute(unit)()))},K={value:!1},ee=O.mute(L,q=>{const X=K.value,ie=K.value=!X;return J(ie)}),H=applicativeEvent.pure(!1)(L,J);return()=>(ee(),H())})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$8([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Mute"))])))]))),$Entity("Element'",elementify("button")(oneOf$8([(()=>{const L=biSampleOn$2((()=>{const D=b(F._1);return(J,K)=>{const ee=D(J,q=>K($Maybe("Just",q))),H=applicativeEvent.pure(Nothing)(J,K);return()=>(ee(),H())}})())((D,J)=>h(D,K=>{const ee=Tuple(K);return J(ee)}));return(D,J)=>L(D,K=>{const ee={key:"click",value:$AttributeValue("Cb'",H=>{const q=for_2(range(F._2._2._2._1)((F._2._2._2._1+F._2._2._2._2._2._1|0)-1|0))(X=>removeMarker(C.ws)(F._2._2._2._1));return()=>(q(),I.delete(unit)(),d._1.atomicEventOperation(aDeleteEvent_({id:F._1}))(),for_1(applyMaybe.apply((()=>K._1.tag==="Just"?$Maybe("Just",Tuple(K._1._1)):Nothing)())((()=>F._2._2._2._2._1.tag==="Nothing"?K._2:F._2._2._2._2._1)()))(X=>()=>(_makeFiber(ffiUtil$1,deleteEventAff(u.firestoreDb)(X._1)(X._2))().run(),unit))(),!0)})};return J(ee)})})(),klass_(attrButton_ClassString)(buttonCls+" mr-2")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(oneOf$8([]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Delete"))])))])))])))])))])))])))));return(L,D)=>{const J=R(L,D),K=O.delete(L,ee=>D(Remove));return()=>(J(),K())}}));return k(S)}))})()])))])))]))),$Entity("Element'",elementify("div")((g,v)=>{const k=d._2.importerScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return v(I)}),C=applicativeEvent.pure(!0)(g,S=>v({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(k(),C())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Joyride editor"))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))($Entity("FixedChildren'",[text((g,v)=>u.signedInNonAnonymously(g,k=>{const C=(()=>k?"Get started by importing an audio file or project.":"Get started by importing an audio file.")();return v(C)}))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([(g,v)=>u.signedInNonAnonymously(g,k=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>k?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return v(C)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(C=>_bind(_liftEffect(d._1.availableTracks(C)))(()=>_liftEffect((()=>{const S=d._1.forkingScreenVisible(!0);return()=>(S(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Fork project"))]))),$Entity("Element'",elementify("button")(oneOf$8([(g,v)=>u.signedInNonAnonymously(g,k=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>k?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return v(C)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),_makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(fileList))(toAff$p(coerce)))(C=>{const S=_liftEffect((()=>{const O=bindE(windowImpl)(alert("No valid files found"));return()=>(O(),d._1.loadingScreenVisible(!1)())})()),I=nullable(_item(0)(C),Nothing,Just);if(I.tag==="Nothing")return S;if(I.tag==="Just")return _bind(makeAff(O=>()=>{const x=fileReader(),F=eventListener(L=>{const D=result(x);return()=>{const J=D();return O($Either("Right",J))()}})(),R=eventListener(L=>O($Either("Left",error$1("Could not read the file"))))();return addEventListener("load")(F)(!0)(x)(),addEventListener("error")(R)(!0)(x)(),readAsText(I._1)(x)(),nonCanceler}))(O=>{const x=bindEither.bind(readString.readImpl(O))(readJSON);if(x.tag==="Left")return _liftEffect((()=>{const F=bindE(windowImpl)(alert("Parse error: "+show1(x._1)));return()=>(F(),d._1.loadingScreenVisible(!1)())})());if(x.tag==="Right")return _bind(_liftEffect(currentUser(u.fbAuth)))(F=>_bind(addTrackAff(u.firestoreDb)((()=>{if(F.tag==="Nothing")return x._1.track;if(F.tag==="Just")return aChangeOwner(F._1.uid)(x._1.track);fail$3()})()))(R=>_bind(getTrackAff(u.firestoreDb)(R.id))(L=>_bind(parTraverse_(D=>_bind(_map(compactableArray.compact)(parTraverse$2(J=>_bind(addEventAff(u.firestoreDb)(R.id)(J))(K=>_bind(getEventAff(u.firestoreDb)(R.id)(K.id))(ee=>_pure((()=>ee.tag==="Just"?$Maybe("Just",{id:K.id,data:ee._1}):Nothing)()))))(x._1.events)))(J=>M(R.id,D,J)))(L))(()=>_liftEffect((()=>{const D=d._1.chooserScreenVisible(!1);return()=>(D(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})())))));fail$3()});fail$3()}))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Import project"))]))),$Entity("Element'",elementify("button")(oneOf$8([(g,v)=>u.signedInNonAnonymously(g,k=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>k?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return v(C)}),applicativeEvent.pure((()=>{const g=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(C=>_bind(_liftEffect(d._1.availableTracks(C)))(()=>_liftEffect((()=>{const S=d._1.chooserScreenVisible(!0);return()=>(S(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Open project"))]))),$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",g=>()=>{const v=init();return picker(k=>()=>unit)(k=>C=>()=>unit)(k=>C=>()=>unit)(k=>()=>{log("Uploaded to: "+k.url)(),d._1.loadingScreenVisible(!0)();const C=randomName(),S=d._1.initialTitle(C),I=()=>(S(),d._1.loadWave(k.url)(),d._1.initialPrivate(!1)()),O=currentUser(u.fbAuth)();return O.tag==="Just"?O._1.isAnonymous?I():(_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)($Track({url:k.url,title:$Maybe("Just",C),owner:O._1.uid,private:!1,version:$Version(0),whitelist:[]})))(F=>_liftEffect((()=>{const R=d._1.documentId(F.id);return()=>(R(),I())})())))().run(),unit):I()})(v)(),!0})})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Import file"))])))])))])))]))),$Entity("Element'",elementify("div")((g,v)=>{const k=d._2.chooserScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return v(I)}),C=applicativeEvent.pure(!1)(g,S=>v({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(k(),C())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("select-auto row-start-1 row-end-2 col-start-1 col-end-2"))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const g=d._1.chooserScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("< Back"))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(klass_(attrH2_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Choose a project"))]))),switcher(g=>$Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(v=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const k=d._1.loadingScreenVisible(!0),C=_makeFiber(ffiUtil$1,_bind(getEventsAff(u.firestoreDb)(v.id))(S=>_bind(M(v.id,v.data,S))(()=>_liftEffect((()=>{const I=d._1.chooserScreenVisible(!1);return()=>(I(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})()))));return{key:"click",value:$AttributeValue("Cb'",S=>()=>(k(),C().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(v.data._1.title.tag==="Nothing")return"Untitled Track";if(v.data._1.title.tag==="Just")return v.data._1.title._1;fail$3()})()))])))]))))(g)))))(d._2.availableTracks)])))]))),$Entity("Element'",elementify("div")((g,v)=>{const k=d._2.forkingScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return v(I)}),C=applicativeEvent.pure(!1)(g,S=>v({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(k(),C())})($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("select-auto row-start-1 row-end-2 col-start-1 col-end-2"))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const g=d._1.forkingScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",v=>()=>(g(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("< Back"))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(klass_(attrH2_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Fork a project"))]))),switcher(g=>$Entity("Element'",elementify("ul")(klass_(attrUl_ClassString)(""))($Entity("FixedChildren'",arrayMap(v=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const k=d._1.loadingScreenVisible(!0),C=_makeFiber(ffiUtil$1,_bind(forkTrackAff(u.fbAuth)(u.firestoreDb)(v.id))(()=>_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(S=>_bind(_liftEffect(d._1.availableTracks(S)))(()=>_liftEffect((()=>{const I=d._1.forkingScreenVisible(!1);return()=>(I(),d._1.loadingScreenVisible(!1)())})())))));return{key:"click",value:$AttributeValue("Cb'",S=>()=>(k(),C().run(),!0))}})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(v.data._1.title.tag==="Nothing")return"Untitled Track";if(v.data._1.title.tag==="Just")return v.data._1.title._1;fail$3()})()))])))]))))(g)))))(d._2.availableTracks)])))]))),$Entity("Element'",elementify("div")((g,v)=>{const k=I=>{const O={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(I.tag==="Nothing")return!1;if(I.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return v(O)},C=d._2.previewScreenVisible(g,k),S=applicativeEvent.pure(Nothing)(g,k);return()=>(C(),S())})($Entity("FixedChildren'",[switcher(g=>{const v=toAugmentedEvents(fromFoldable$3(foldableMap.foldr(Cons)(Nil)(g.mrd._2)));if(g.psv.tag==="Nothing")return $Entity("EventfulElement'",plusEvent.empty);if(g.psv.tag==="Just")return tutorial$1({loaded:o.loaded,isMobile:o.isMobile,lpsCallback:o.lpsCallback,resizeE:o.resizeE,renderingInfo:o.renderingInfo,goHome:(()=>{const k=d._1.loadingScreenVisible(!0);return()=>(k(),d._1.previewScreenVisible(Nothing)(),d._1.loadingScreenVisible(!1)())})(),pushBasic:o.pushBasic,pushLeap:o.pushLeap,pushHitLong:o.pushHitLong,columnPusher:o.columnPusher,pushReleaseLong:o.pushReleaseLong,debug:o.debug,silence:o.silence,icid:o.icid,wdw:o.wdw,unschedule:o.unschedule,soundObj:o.soundObj,editor:o.editor,givePermission:o.givePermission,negotiation:o.negotiation,ride:o.ride,tutorial:o.tutorial})({basicE:rideBasics(sortBy$1(k=>C=>ordNumber.compare(k.marker1Time)(C.marker1Time))(mapMaybe(k=>k._1.tag==="AugmentedBasicEventV0"?k._1._1.marker4Time<g.ct?Nothing:$Maybe("Just",{marker1Time:k._1._1.marker1Time-g.ct,marker2Time:k._1._1.marker2Time-g.ct,marker3Time:k._1._1.marker3Time-g.ct,marker4Time:k._1._1.marker4Time-g.ct,column:k._1._1.column,marker1AudioURL:k._1._1.marker1AudioURL,marker2AudioURL:k._1._1.marker2AudioURL,marker3AudioURL:k._1._1.marker3AudioURL,marker4AudioURL:k._1._1.marker4AudioURL,name:k._1._1.name,raycastingCanStartAt:k._1._1.raycastingCanStartAt,version:k._1._1.version}):Nothing)(v))),leapE:rideLeaps(mapMaybe(k=>k._1.tag==="AugmentedLeapEventV0"?k._1._1.marker2Time<g.ct?Nothing:$Maybe("Just",{marker1Time:k._1._1.marker1Time-g.ct,marker2Time:k._1._1.marker2Time-g.ct,audioURL:k._1._1.audioURL,column:k._1._1.column,name:k._1._1.name,position:k._1._1.position,raycastingCanStartAt:k._1._1.raycastingCanStartAt,version:k._1._1.version}):Nothing)(v)),longE:rideLongs(mapMaybe(k=>k._1.tag==="AugmentedLongEventV0"?k._1._1.marker2Time<g.ct?Nothing:$Maybe("Just",{marker1Time:k._1._1.marker1Time-g.ct,marker2Time:k._1._1.marker2Time-g.ct,audioURL:k._1._1.audioURL,column:k._1._1.column,length:k._1._1.length,name:k._1._1.name,raycastingCanStartAt:k._1._1.raycastingCanStartAt,version:k._1._1.version}):Nothing)(v)),bgtrack:g.mrd._1._1.url,isPreviewPage:$Maybe("Just",{startsAt:g.ct}),baseFileOffsetInSeconds:g.ct})(g.psv._1);fail$3()})(howShouldIBehave(()=>0)(_)(sampleOn(d._2.waveSurfer)(sampleOn(m)((g,v)=>{const k=d._2.previewScreenVisible(g,S=>v(I=>O=>x=>({psv:S,mrd:I,ws:O,ct:x}))),C=applicativeEvent.pure(Nothing)(g,S=>v(I=>O=>x=>({psv:S,mrd:I,ws:O,ct:x})));return()=>(k(),C())}))))]))),$Entity("Element'",elementify("div")((g,v)=>{const k=d._2.loadingScreenVisible(g,S=>{const I={key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return v(I)}),C=applicativeEvent.pure(!1)(g,S=>v({key:"class",value:$AttributeValue("Prop'",(()=>S?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())}));return()=>(k(),C())})($Entity("FixedChildren'",[loadingPage])))])))})))))))))))))))),animationFrameEvent=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!0},d=binding(()=>{const h=requestAnimationFrame(()=>{const b=f.value,y=o(unit);return b?(y(),d()()):unit})(u);return()=>(h(),unit)});return d()(),()=>f.value=!1}))();function hash(o){return function(){return o.hash}}function setHash(o){return function(u){return function(){u.hash=o}}}const navigateToHash=o=>{const u=(()=>take$2(1)(o)!=="/"?"/"+o:take$2(2)(o)==="//"?drop$1(length(take$2(1)(o)))(o):o)();return()=>{const f=windowImpl(),d=location(f)();return setHash(u)(d)()}},perspectiveCamera$2=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$7=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$2=mapAccum$e(eventIsEvent),oneOfMap$2=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),webGLRenderer$2=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),render$1={type:"render",value:unit},click$5=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),for_$2=for_$9(applicativeEffect)(foldableMaybe),traverse_$4=traverse_$9(applicativeEffect)(foldableMaybe),threeLoader=o=>{const u=run$1((()=>{const f=withCTime(o.cnow)(animationFrameEvent);return $Entity("EventfulElement'",backdoor.memoize((d,m)=>f(d,h=>m(h.time)))(d=>globalCameraPortal1()()(perspectiveCamera$2({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})(oneOf$7([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:0}),(m,h)=>o.resizeE(m,b=>{const y={type:"aspect",value:b.iw/b.ih};return h(y)})])))(m=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(h=>h.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const h=mapAccum$2(b=>y=>{if(y.tag==="Nothing")return $Tuple($Maybe("Just",b),0);if(y.tag==="Just")return $Tuple($Maybe("Just",b),b-y._1);fail$3()})((b,y)=>d(b,_=>{const w=_/1e3;return y(w)}))(Nothing);return(b,y)=>h(b,_=>{const w=_/1e3,M=oneOfMap$2(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(w*.031415926535897934)},{type:"rotateY",value:.001*cos(w*.031415926535897934)},{type:"rotateZ",value:.001*cos(w*.031415926535897934)}]);return y(M)})})()))([$Entity("Element'",m)])]))(h=>$Entity("FixedChildren'",[$Entity("Element'",webGLRenderer$2(h)(m)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$7([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),applicativeEvent.pure(render$1),(b,y)=>d(b,_=>y(render$1)),(b,y)=>o.resizeE(b,_=>y({type:"size",value:{width:_.iw,height:_.ih}}))])))])))))})());return()=>{const f=u();return o.unsubscriber(f)()}},explainerPage=o=>$Entity("EventfulElement'",vbackdoor.vbus()(vbusCons2({reflectSymbol:()=>"unsubscriber"})()()(vbusNil)()())($$Proxy)(u=>f=>$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3 h-screen w-screen")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-3 col-end-3 row-start-1 row-end-1 align-top justify-self-end"))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$7([klass_(attrButton_ClassString)(buttonCls),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,b=>{const y=navigateToHash("settings");return h(()=>(y(),b()))})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("\u2699"))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("place-self-center col-start-2 col-end-3 row-start-2 row-end-3 flex flex-col"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h1")(oneOf$7([klass_(attrH1_ClassString)("text-center text-2xl text-slate-200"),click$5((d,m)=>o.signedInNonAnonymously(d,h=>{const b=currentUser(o.fbAuth),y=(()=>h?()=>{const _=b();return for_$2(_)(w=>bindE(windowImpl)(alert(w.uid)))()}:()=>unit)();return m(y)}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Joyride"))]))),$Entity("Element'",elementify("button")(oneOf$7([klass_(attrButton_ClassString)(buttonCls),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,b=>{const y=fullScreenFlow(()=>(o.tutorial(),b()));return h(y)})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Tutorial"))]))),$Entity("Element'",elementify("button")(oneOf$7([klass(attrButton_ClassString)(applicativeEvent.pure(buttonCls)),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,b=>{const y=fullScreenFlow((()=>{const _=navigateToHash("rides");return()=>(_(),b())})());return h(y)})})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Take a ride"))]))),$Entity("Element'",elementify("button")(oneOf$7([klass_(attrButton_ClassString)(buttonCls),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,b=>h(()=>(o.editor(),b())))})())]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Editor"))]))),$Entity("Element'",elementify("button")(oneOf$7([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const d=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",m=>()=>(d(),!0))}})()),(d,m)=>o.signedInNonAnonymously(d,h=>{const b={key:"class",value:$AttributeValue("Prop'",(()=>h?buttonCls+" hidden":buttonCls+"")())};return m(b)})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Sign In"))]))),$Entity("Element'",elementify("button")(oneOf$7([(d,m)=>o.signedInNonAnonymously(d,h=>{const b={key:"class",value:$AttributeValue("Prop'",(()=>h?buttonCls+"":buttonCls+" hidden")())};return m(b)}),click$5(applicativeEvent.pure(o.signOut))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Sign Out"))])))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("canvas")(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const d=traverse_$4(m=>threeLoader({threeDI:o.threeDI,isMobile:o.isMobile,cubeTextures:o.cubeTextures,unsubscriber:u.unsubscriber,resizeE:o.resizeE,cnow:o.cnow,initialDims:o.initialDims,canvas:m}));return m=>d(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",m))})())})]))($Entity("FixedChildren'",[])))]))))),gameHasStarted=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>The game has already started. You can make a new game, though!</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),hasOrientationPermission=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function",orientationPermission=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceMotionEvent.requestPermission().then(o=>o=="granted",o=>{console.error(o),Promise.reject(o)}):Promise.resolve(!0),min$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},posFromOrientation=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just")return min$1(2.5)(max$2(-2.5)((u-o.time._1)/1e3*o.gamma*o.dampening+o.pos));fail$3()},xForTouch=o=>u=>f=>d=>m=>()=>{const h=create(),b={value:{gamma:0,time:Nothing,pos:0,dampening:.055}},y=eventListener(_=>()=>{const w=u(),M=o.value,$=b.value,g=b.value={gamma:_.gamma,time:$Maybe("Just",w),dampening:M,pos:posFromOrientation($)(w)};return m($PlayerAction("XPositionMobile",{gtpd:g,player:d}))(),h.push(g)()})();return addEventListener("deviceorientation")(y)(!0)(f)(),(_,w)=>h.event(_,M=>w($=>posFromOrientation(M)($.epochTime)))},oneOf$6=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),click$4=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),orientationPermissionPage=o=>$Entity("Element'",elementify("div")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-1 col-end-4 row-start-1 row-end-2"))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(klass_(attrP_ClassString)("text-center text-2xl text-slate-800 p-3"))($Entity("FixedChildren'",[text(applicativeEvent.pure("To play Joyride, you need to ask for orientation permissions."))])))]))),$Entity("Element'",elementify("button")(oneOf$6([klass_(attrButton_ClassString)("text-center bg-gray-600 hover:bg-gray-400 text-white py-2 px-4 rounded col-start-2 col-end-2 row-start-2 row-end-3"),click$4(applicativeEvent.pure((()=>{const u=_makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(orientationPermission))(toAff$p(coerce)))(f=>_liftEffect((()=>{const d=o.givePermission(f);return()=>{if(d(),o.rideTrack.tag==="Just")return navigateToHash("/r/"+(o.rideTrack._1.ride+("/"+o.rideTrack._1.track)))();if(o.rideTrack.tag==="Nothing")return navigateToHash("/")();fail$3()}})())));return()=>(u().run(),unit)})()))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Ask for permission"))])))])))]))),boolNot=function(o){return!o},writeText=o=>()=>navigator.clipboard.writeText(o),playBuf=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$5=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,b=>h(b)))))]),gain_(initialGainNumber)(1)([playBuf({buffer:o.silence})(oneOf$5([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),b=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(b)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>1?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const b=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return b*1+(m.prevTime._1-b*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])],mapAccum$1=mapAccum$e(eventIsEvent),vbust=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$1=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$4=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$1=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),intensityIsSymbol={reflectSymbol:()=>"intensity"},colorIsSymbol$1={reflectSymbol:()=>"color"},ambientLight$1=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol))(convertOptionAmbientLight1)()()()(colorIsSymbol$1))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$1=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$1);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$1=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$1=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render={type:"render",value:unit},runThree=o=>{const u=d=>{if(!d)return m=>mapAccum$1(h=>b=>h._2?$Tuple(b+1|0,(()=>b>120?h._1:h._1*toNumber(b)/toNumber(120))()):$Tuple(0,0))(applyEvent.apply((h,b)=>m(h,y=>{const _=Tuple(y);return b(_)}))((h,b)=>{const y=applicativeEvent.pure(!1)(h,b),_=o.pressedStart(h,b);return()=>(y(),_())}))(0);if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$1({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$4([(()=>{const b=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(_,w)=>o.animatedStuff(_,M=>{const $=y(M.playerPositions);return w($)})})());return(y,_)=>b(y,w=>_({type:"positionX",value:w}))})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(_,w)=>o.animatedStuff(_,M=>{const $=y(M.playerPositions);return w($)})})());return(y,_)=>b(y,w=>{const M={type:"positionY",value:w._1.cameraOffsetY+w._2};return _(M)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const M=h(w.playerPositions);return _(M)}));return(y,_)=>b(y,w=>{const M={type:"positionZ",value:w._1.cameraOffsetZ+w._2};return _(M)})})(),(()=>{const b=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const M=h(w.playerPositions);return _(M)}));return(y,_)=>b(y,w=>{const M={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:w._1.cameraRotationAroundX,y:0,z:0})};return _(M)})})(),(b,y)=>o.resizeE(b,_=>{const w={type:"aspect",value:_.iw/_.ih};return y(w)})])})()))(h=>{const b=y=>arrayMap(_=>unsafeInternalGroup(w=>w.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$4([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const M=playerPosition(_)(AxisX);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>{const v={type:"positionX",value:y+g};return $(v)})})(),(()=>{const w=sampleBy(functorEvent)(M=>$=>M.sphereOffsetY+$)(o.renderingInfo)((()=>{const M=playerPosition(_)(AxisY);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g(k)})})());return(M,$)=>w(M,g=>$({type:"positionY",value:g}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(_.tag==="Player1")return-4;if(_.tag==="Player2")return-3;if(_.tag==="Player3")return-2;if(_.tag==="Player4")return-1;fail$3()})()}),(()=>{const w=playerPosition(_)(AxisZ);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $({type:"positionZ",value:v})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(_.tag==="Player1")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin($.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos($.rateInfo.time*.21991148575128555)*.12566370614359174})};return M(g)});if(_.tag==="Player3")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin($.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos($.rateInfo.time*.09424777960769379)*-.09424777960769379})};return M(g)});if(_.tag==="Player2")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos($.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin($.rateInfo.time*-.25132741228718347)*.25132741228718347})};return M(g)});if(_.tag==="Player4")return(w,M)=>o.animatedStuff(w,$=>{const g={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos($.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin($.rateInfo.time*.06283185307179587)*-.2827433388230814})};return M(g)});fail$3()})()]))([]))(filter$1(_=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum$1(_=>w=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",_),0);if(w.tag==="Just")return $Tuple($Maybe("Just",_),_-w._1);fail$3()})((_,w)=>o.animatedStuff(_,M=>{const $=M.rateInfo.epochTime/1e3;return w($)}))(Nothing);return(_,w)=>y(_,M=>{const $=M/1e3,g=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos($*.031415926535897934)},{type:"rotateY",value:.001*cos($*.031415926535897934)},{type:"rotateZ",value:.001*cos($*.031415926535897934)}]);return w(g)})})()))(concatArray(b(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((_,w)=>o.animatedStuff(_,M=>{const $=(()=>{if(o.myPlayer.tag==="Player1")return M.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return M.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return M.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return M.playerPositions.p4p;fail$3()})(),g=(()=>y.tag==="Position1"?$.tag==="Position1":y.tag==="Position2"?$.tag==="Position2":y.tag==="Position3"?$.tag==="Position3":y.tag==="Position4"?$.tag==="Position4":!1)();return w(g)})),rateE:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(_,w)=>o.animatedStuff(_,M=>w(M.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray(arrayMap(y=>unsafeInternalGroup(_=>_.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$4([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionX",value:$}))})(),(()=>{const _=sampleBy(functorEvent)(w=>M=>w.sphereOffsetY+M)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionY",value:$}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(y.tag==="Player1")return-4;if(y.tag==="Player2")return-3;if(y.tag==="Player3")return-2;if(y.tag==="Player4")return-1;fail$3()})()}),(()=>{const _=playerPosition(y)(AxisZ);return(w,M)=>o.animatedStuff(w,$=>{const g=_($.playerPositions);return M({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(y.tag==="Player1")return(_,w)=>o.animatedStuff(_,M=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(M.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(M.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(M.rateInfo.time*.21991148575128555)*.12566370614359174})};return w($)});if(y.tag==="Player3")return(_,w)=>o.animatedStuff(_,M=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(M.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(M.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(M.rateInfo.time*.09424777960769379)*-.09424777960769379})};return w($)});if(y.tag==="Player2")return(_,w)=>o.animatedStuff(_,M=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(M.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(M.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(M.rateInfo.time*-.25132741228718347)*.25132741228718347})};return w($)});if(y.tag==="Player4")return(_,w)=>o.animatedStuff(_,M=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(M.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(M.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(M.rateInfo.time*.06283185307179587)*-.2827433388230814})};return w($)});fail$3()})()]))([]))(filter$1(y=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers)))(concatArray([ambientLight$1({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$4([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionX",value:$}))})(),(()=>{const _=sampleBy(functorEvent)(w=>M=>w.sphereOffsetY/2+M)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return(M,$)=>o.animatedStuff(M,g=>{const v=w(g.playerPositions);return $(v)})})());return(w,M)=>_(w,$=>M({type:"positionY",value:$}))})(),(()=>{const _=playerPosition(y)(AxisZ);return(w,M)=>o.animatedStuff(w,$=>{const g=_($.playerPositions);return M({type:"positionZ",value:g})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))([o.basicE(m._1.hitBasicVisualForLabel)(d),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)])))))))]))(y=>globalWebGLRendererPortal1()()(webGLRenderer$1(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$4([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(_,w)=>o.resizeE(_,M=>w({type:"size",value:{width:M.iw,height:M.ih}}))])))(_=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(w=>w.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const w=mapAccum$1(M=>$=>{if($.tag==="Nothing")return $Tuple($Maybe("Just",M),0);if($.tag==="Just")return $Tuple($Maybe("Just",M),M-$._1);fail$3()})((M,$)=>o.animatedStuff(M,g=>{const v=g.rateInfo.epochTime/1e3;return $(v)}))(Nothing);return(M,$)=>w(M,g=>{const v=g/1e3,k=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(v*.031415926535897934)},{type:"rotateY",value:.001*cos(v*.031415926535897934)},{type:"rotateZ",value:.001*cos(v*.031415926535897934)}]);return $(k)})})()))(concatArray(b(0))(arrayMap(w=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$4([(()=>{const M=u((()=>w.tag==="Player1"?o.myPlayer.tag!=="Player1":w.tag==="Player2"?o.myPlayer.tag!=="Player2":w.tag==="Player3"?o.myPlayer.tag!=="Player3":w.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const $=playerPosition(w)(AxisX);return(g,v)=>o.animatedStuff(g,k=>{const C=$(k.playerPositions);return v(C)})})());return($,g)=>M($,v=>g({type:"positionX",value:v}))})(),(()=>{const M=sampleBy(functorEvent)($=>g=>$.lightOffsetY+g)(o.renderingInfo)((()=>{const $=playerPosition(w)(AxisY);return(g,v)=>o.animatedStuff(g,k=>{const C=$(k.playerPositions);return v(C)})})());return($,g)=>M($,v=>g({type:"positionY",value:v}))})(),(()=>{const M=playerPosition(w)(AxisZ);return($,g)=>o.animatedStuff($,v=>{const k=M(v.playerPositions);return g({type:"positionZ",value:k})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(w=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(_)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(w)(h),unrealBloomPass$1({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))(M=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(_)(oneOf$4([applicativeEvent.pure(render),($,g)=>o.animatedStuff($,v=>g(render))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})(M)])),$Entity("EventfulElement'",($,g)=>o.css2DRendererElt($,v=>{const k=css2DRenderer$1(y)(h)({canvas:o.canvas,element:v,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$4([(C,S)=>o.resizeE(C,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render),(C,S)=>o.animatedStuff(C,I=>S(render))]));return g(k)})),$Entity("EventfulElement'",($,g)=>o.css3DRendererElt($,v=>{const k=css3DRenderer$1(y)(h)({canvas:o.canvas,element:v,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$4([(C,S)=>o.resizeE(C,I=>S({type:"size",value:{width:I.iw,height:I.ih}})),applicativeEvent.pure(render),(C,S)=>o.animatedStuff(C,I=>S(render))]));return g(k)}))])))))}))))));return()=>(f(),unit)};function _read(o,u,f){var d=Object.prototype.toString.call(f);return d.indexOf("[object HTML")===0&&d.indexOf("Element]")===d.length-8?u(f):o}function click$3(o){return function(){return o.click()}}function focus(o){return function(){return o.focus()}}const addressHead="https://joyride.fm",$StartState=(o,u)=>({tag:o,_1:u}),vbussed1=vbussed$1()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"copiedToClipboard"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusNil)()())()())()())()())()())()())()())()()),oneOf$3=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$3=traverse_$9(applicativeEffect)(foldableMaybe),fromFoldable$2=fromFoldable$9(ordNumber)(foldableArray),pure2=(()=>applicativeABehavior(functorEvent).pure)(),vbussed2=vbussed$1()(vbusCons2({reflectSymbol:()=>"changeText"})()()(vbusCons2({reflectSymbol:()=>"requestName"})()()(vbusNil)()())()()),oneOfMap=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const b=f(m,h),y=d(m,h);return()=>(b(),y())}})(plusEvent.empty),for_$1=for_$9(applicativeEffect)(foldableMaybe),click$2=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),max$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT=applicativeExceptT$3(monadIdentity),traverse=(()=>traversableMap.traverse(applicativeExceptT))(),throwError=(()=>monadThrowExceptT(monadIdentity).throwError)(),biSampleOn$1=biSampleOn$4(eventIsEvent),identity$1=o=>o,WaitingForMe=$StartState("WaitingForMe"),WaitingForOthers=$StartState("WaitingForOthers"),eqStartState={eq:o=>u=>o.tag==="WaitingForMe"?u.tag==="WaitingForMe":o.tag==="WaitingForOthers"?u.tag==="WaitingForOthers":o.tag==="Started"&&u.tag==="Started"?o._1===u._1:!1},ride=o=>u=>f=>vbussed1($$Proxy)(d=>m=>$Entity("EventfulElement'",backdoor.memoize(sampleBy(functorEvent)(h=>b=>({rateInfo:b,playerPositions:{p1x:h.p1x(b),p1y:h.p1y,p1z:h.p1z,p1p:h.p1p,p2x:h.p2x(b),p2y:h.p2y,p2z:h.p2z,p2p:h.p2p,p3x:h.p3x(b),p3y:h.p3y,p3z:h.p3z,p3p:h.p3p,p4x:h.p4x(b),p4y:h.p4y,p4z:h.p4z,p4p:h.p4p}}))(f.playerPositions)(biSampleOn$1(oneOff(Just)(filter(h=>applyMaybe.apply((()=>{if(h.tag==="Leaf")return Nothing;const b=traverse(y=>{if(y.tag==="HasNotStartedYet")return throwError(unit);if(y.tag==="HasStarted")return applicativeExceptT.pure(y._1.startedAt);fail$3()})(h);if(b.tag==="Left")return Nothing;if(b.tag==="Right")return $Maybe("Just",y=>({startTime:foldableMap.foldl(max$1)(0)(b._1),myTime:y}));fail$3()})())((()=>{const b=lookup$1(ordPlayer)(f.player)(h);if(b.tag==="Just"){if(b._1.tag==="HasNotStartedYet")return Nothing;if(b._1.tag==="HasStarted")return $Maybe("Just",b._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))((h,b)=>m.rateInfo(h,y=>b(_=>{const w=(_.startTime-_.myTime)/1e3;return{epochTime:y.epochTime,time:y.time,prevTime:y.prevTime,beats:y.beats-w,prevBeats:(()=>{if(y.prevBeats.tag==="Nothing")return Nothing;if(y.prevBeats.tag==="Just")return $Maybe("Just",y.prevBeats._1-w);fail$3()})()}})))))(h=>$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("z-20 pointer-events-none absolute w-screen h-screen grid grid-rows-3 grid-cols-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("row-start-1 row-end-2 col-start-1 col-end-4"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("mx-2 mt-2"))($Entity("FixedChildren'",[switcher(b=>{if(b._2.tag==="Nothing")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(y=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if(y._2.tag==="HasStarted"){if(y._2._1.name.tag==="Just")return y._2._1.name._1+" has joined!";if(y._2._1.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if(y._2.tag==="HasNotStartedYet"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])))]))))(toUnfoldable$1(unfoldableArray)(b._1)))));if(b._2.tag==="Just")return $Entity("Element'",elementify("ul")(plusEvent.empty)($Entity("FixedChildren'",arrayMap(y=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if(y._2.name.tag==="Just")return"You ("+(y._2.name._1+")");if(y._2.name.tag==="Nothing")return"You";fail$3()}if(y._2.name.tag==="Just")return y._2.name._1;if(y._2.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1";if(y._1.tag==="Player2")return"Player 2";if(y._1.tag==="Player3")return"Player 3";if(y._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round(y._2.points+-1*y._2.penalties)))+" Points"))))])))]))))(mapMaybe(y=>{if(y._2.tag==="HasNotStartedYet")return Nothing;if(y._2.tag==="HasStarted")return $Maybe("Just",$Tuple(y._1,y._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(b._1))))));fail$3()})(biSampleOn$1(initializeWithEmpty(plusMaybe)(applicativeMaybe)(m.iAmReady))((b,y)=>f.playerStatus(b,_=>{const w=Tuple(_);return y(w)})))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("EventfulElement'",(b,y)=>m.iAmReady(b,_=>{const w=$Entity("Element'",elementify("div")(oneOf$3([klass_(attrDiv_ClassString)("mx-2")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$3([klass_(attrButton_ClassString)("pointer-events-auto p-1 "+buttonCls),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",M=>()=>(simpleExitFullScreen(),_(),o.goHome(),!0))})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Exit to main menu"))])))])));return y(w)}))])))])))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[switcher(b=>{if(b.tag==="WaitingForMe"){const y=_=>oneOf$3([klass_(attrButton_ClassString)(buttonCls+" pointer-events-auto"),sampleJIT(_)(applicativeEvent.pure(w=>{const M=fullScreenFlow(()=>{const $=requestIdleCallbackIsDefined(),g=context_(),v=constant0Hack_(g)(),k=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$3(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const D=now(),J=o.unschedule.value,K=span$1(ee=>ee._1<D)(toUnfoldable$1(unfoldableArray)(J));return foreachE(K.init)(snd)(),o.unschedule.value=fromFoldable$2(K.rest),unit};if($){const D=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",D)}return L()}})())(),C=withACTime(g)(animationFrame),S=backdoor.hot((R,L)=>C(R,D=>L(D.acTime)))(),I=backdoor.hot(timeFromRate(f.cNow)(pure2({rate:1}))((R,L)=>S.event(R,D=>L({real:D}))))(),O=subscribe(I.event)(d.rateInfo)(),x=run2(g)(graph({basics:m.basicAudio,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds,leaps:m.leapAudio,rateInfo:(R,L)=>h(R,D=>L(D.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,bgtrack:u.bgtrack}))();return d.pressedStart(!0)(),d.iAmReady((()=>{const R=clearIntervalImpl(k),L=close(monadEffectEffect)(g);return()=>(x(),v(),R(),S.unsubscribe(),O(),I.unsubscribe(),L())})())(),_makeFiber(ffiUtil$1,_bind(read(w))(R=>_liftEffect(()=>{const L=f.cNow();return f.optMeIn(L)(R)()})))().run(),unit});return{key:"click",value:$AttributeValue("Cb'",$=>()=>(M(),!0))}}))]);return $Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900"))($Entity("FixedChildren'",[vbussed2($$Proxy)(_=>w=>switcher(M=>M?$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("mb-4 select-auto"))($Entity("FixedChildren'",[$Entity("Element'",elementify("input")(oneOfMap(applicativeEvent.pure)([{key:"type",value:$AttributeValue("Prop'","text")},{key:"placeholder",value:$AttributeValue("Prop'","My name")},{key:"class",value:$AttributeValue("Prop'","pointer-events-auto shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline")},{key:"input",value:$AttributeValue("Cb'",$=>{const g=for_$1((()=>{const v=nullable(_target($),Nothing,Just);if(v.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",v._1);if(v.tag==="Nothing")return Nothing;fail$3()})())(v=>bindE(value(v))(_.changeText));return()=>(g(),!0)})},{key:"@self@",value:$AttributeValue("Cb'",$=>for_$1(_read(Nothing,Just,$))(g=>{const v=focus(g);return()=>(v(),click$3(g)())}))}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("button")(y(($,g)=>{const v=applicativeEvent.pure(Nothing)($,g),k=w.changeText($,C=>g($Maybe("Just",C)));return()=>(v(),k())}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))])))]))):$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("select-auto"))($Entity("FixedChildren'",[(()=>{const $=addressHead+("/#/r/"+(f.channelName+("/"+f.trackId)));return $Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("Press the clipboard and get a link to this ride:"))]))),$Entity("Element'",elementify("button")(oneOf$3([klass_(attrButton_ClassString)("pointer-events-auto text-center text-xl bg-gray-800 hover:bg-gray-600 text-white mx-2 rounded"),click$2(applicativeEvent.pure((()=>{const g=_makeFiber(ffiUtil$1,_bind(_liftEffect(d.copiedToClipboard(!0)))(()=>_bind(_bind(_liftEffect(writeText($)))(toAff$p(coerce)))(()=>_bind(_delay(Right,2e3))(()=>_liftEffect(d.copiedToClipboard(!1))))));return()=>(g().run(),unit)})()))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("\u{1F449}\u{1F3FD} \u{1F4CB} \u{1F448}\u{1F3FD}"))]))),$Entity("Element'",elementify("p")(plusEvent.empty)($Entity("FixedChildren'",[text(applicativeEvent.pure("You can send the link to up to 3 people. When everyone has joined, or if you're playing alone, press Start!"))])))])))})(),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))($Entity("FixedChildren'",[switcher($=>{if($.tag==="Just")return $Entity("Element'",elementify("button")(y((g,v)=>{const k=applicativeEvent.pure(Nothing)(g,v),C=w.changeText(g,S=>v($Maybe("Just",S)));return()=>(k(),C())}))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))])));if($.tag==="Nothing")return $Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$3([klass_(attrButton_ClassString)(buttonCls),y((g,v)=>{const k=applicativeEvent.pure(Nothing)(g,v),C=w.changeText(g,S=>v($Maybe("Just",S)));return()=>(k(),C())})]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start"))]))),$Entity("Element'",elementify("button")(oneOf$3([klass_(attrButton_ClassString)(buttonCls),click$2(applicativeEvent.pure(_.requestName(unit)))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Start with name"))])))])));fail$3()})((()=>{const $=oneOff(Just)((g,v)=>{const k=f.profileEvent(g,S=>v($Maybe("Just",S._1.username))),C=applicativeEvent.pure(Nothing)(g,v);return()=>(k(),C())});return(g,v)=>{const k=applicativeEvent.pure(f.locallyStoredPlayerNameInCaseThisIsAnAnonymousSession)(g,v),C=$(g,v);return()=>(k(),C())}})())])))]))))((M,$)=>{const g=applicativeEvent.pure(!1)(M,$),v=w.requestName(M,k=>$(!0));return()=>(g(),v())}))])))])))}if(b.tag==="WaitingForOthers")return $Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("text-center w-100"))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-lg text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Waiting for others to join"))])))])))])))])));if(b.tag==="Started")return $Entity("EventfulElement'",plusEvent.empty);fail$3()})(dedup(eqStartState)((b,y)=>f.playerStatus(b,_=>{const w=(()=>{if(_.tag==="Leaf")return(()=>{const $=lookup$1(ordPlayer)(f.player)(_);return(()=>$.tag==="Just"?$._1.tag!=="HasNotStartedYet":!0)()&&$.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;const M=traverse($=>{if($.tag==="HasNotStartedYet")return throwError(unit);if($.tag==="HasStarted")return applicativeExceptT.pure($._1.startedAt);fail$3()})(_);if(M.tag==="Left")return(()=>{const $=lookup$1(ordPlayer)(f.player)(_);return(()=>$.tag==="Just"?$._1.tag!=="HasNotStartedYet":!0)()&&$.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;if(M.tag==="Right")return $StartState("Started",foldableMap.foldl(max$1)(0)(M._1));fail$3()})();return y(w)})))]))),$Entity("Element'",elementify("div")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))($Entity("FixedChildren'",[$Entity("Element'",elementify("canvas")(oneOf$3([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const b=traverse_$3(y=>runThree({threeDI:f.threeDI,css2DRendererElt:m.render2DElement,css3DRendererElt:m.render3DElement,isMobile:o.isMobile,pressedStart:m.pressedStart,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,lowPriorityCb:o.lpsCallback,myPlayer:f.player,columnPusher:o.columnPusher,debug:o.debug,textures:f.textures,cubeTextures:f.cubeTextures,models:f.models,pushBasic:o.pushBasic,basicE:_=>w=>u.basicE({initialDims:f.initialDims,columnEventConstructor:w,renderingInfo:o.renderingInfo,textures:f.textures,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:filter(M=>M.value.tag==="HitBasic"?$Maybe("Just",{uniqueId:M.value._1.uniqueId,logicalBeat:M.value._1.logicalBeat,deltaBeats:M.value._1.deltaBeats,hitAt:M.value._1.hitAt,player:M.value._1.player,issuedAt:M.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushBasic:o.pushBasic,pushBasicVisualForLabel:_}),leapE:_=>w=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,columnEventConstructor:w,cnow:f.cNow,debug:o.debug,notifications:{hitLeap:filter(M=>M.value.tag==="HitLeap"?$Maybe("Just",{uniqueId:M.value._1.uniqueId,hitAt:M.value._1.hitAt,player:M.value._1.player,oldPosition:M.value._1.oldPosition,newPosition:M.value._1.newPosition,issuedAt:M.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushLeap:o.pushLeap,pushLeapVisualForLabel:_}),longE:_=>w=>M=>u.longE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:M,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:filter($=>$.value.tag==="HitLong"?$Maybe("Just",{uniqueId:$.value._1.uniqueId,hitAt:$.value._1.hitAt,player:$.value._1.player,distance:$.value._1.distance,issuedAt:$.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent)),releaseLong:filter($=>$.value.tag==="ReleaseLong"?$Maybe("Just",{uniqueId:$.value._1.uniqueId,releasedAt:$.value._1.releasedAt,pctConsumed:$.value._1.pctConsumed,player:$.value._1.player,hitAt:$.value._1.hitAt,distance:$.value._1.distance,issuedAt:$.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:_,pushReleaseLongVisualForLabel:w}),animatedStuff:h,resizeE:o.resizeE,initialDims:f.initialDims,canvas:y}));return y=>b(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",y))})())})]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render2DElement)}]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render3DElement)}]))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("div")(oneOf$3([klass_(attrDiv_ClassString)("z-1 snackbar text-white"),(b,y)=>filter$p(boolNot)(m.copiedToClipboard)(b,_=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar text-white")})),(b,y)=>filter$p(identity$1)(m.copiedToClipboard)(b,_=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar show text-white")}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Copied to clipboard"))])))])))))),$RouteError=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteParser=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteResult=(o,u,f)=>({tag:o,_1:u,_2:f}),genericShowArgsArgument$1={genericShowArgs:o=>[showStringImpl(o)]},EndOfPath=$RouteError("EndOfPath"),take=$RouteParser("Chomp",o=>{const u=uncons$1(o.segments);return u.tag==="Just"?$RouteResult("Success",{segments:u._1.tail,params:o.params,hash:o.hash},u._1.head):$RouteResult("Fail",EndOfPath)}),parsePath=(()=>{const o=arrayMap(f=>{const d=indexOf("=")(f);if(d.tag==="Just")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,take$4(d._1)(f));if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,drop$1(d._1+length("=")|0)(f));if(m.tag==="Just")return m._1;fail$3()})());if(d.tag==="Nothing")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,f);if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,"");if(m.tag==="Just")return m._1;fail$3()})());fail$3()}),u=f=>$Tuple((()=>{const d=(()=>f._1===""?[]:split("/")(f._1))();return d.length===2?d[0]===""?d[1]===""?[""]:arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(b=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d)})(),o((()=>f._2===""?[]:split("&")(f._2))()));return f=>{const d=indexOf("#")(f);if(d.tag==="Just"){const m=indexOf("?")(take$4(d._1)(f)),h=u((()=>{if(m.tag==="Just")return $Tuple(take$4(m._1)(take$4(d._1)(f)),drop$1(m._1+length("?")|0)(take$4(d._1)(f)));if(m.tag==="Nothing")return $Tuple(take$4(d._1)(f),"");fail$3()})());return{segments:h._1,params:h._2,hash:drop$1(d._1+length("#")|0)(f)}}if(d.tag==="Nothing"){const m=indexOf("?")(f),h=u((()=>{if(m.tag==="Just")return $Tuple(take$4(m._1)(f),drop$1(m._1+length("?")|0)(f));if(m.tag==="Nothing")return $Tuple(f,"");fail$3()})());return{segments:h._1,params:h._2,hash:""}}fail$3()}})(),genericRouteError={to:o=>{if(o.tag==="Inl")return $RouteError("Expected",o._1._1,o._1._2);if(o.tag==="Inr"){if(o._1.tag==="Inl")return $RouteError("ExpectedEndOfPath",o._1._1);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return $RouteError("MissingParam",o._1._1._1);if(o._1._1.tag==="Inr")return EndOfPath;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Expected")return $Sum("Inl",$Product(o._1,o._2));if(o.tag==="ExpectedEndOfPath")return $Sum("Inr",$Sum("Inl",o._1));if(o.tag==="MissingParam")return $Sum("Inr",$Sum("Inr",$Sum("Inl",o._1)));if(o.tag==="EndOfPath")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showRouteError={show:(()=>{const o=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument$1)(genericShowArgsArgument$1))({reflectSymbol:()=>"Expected"}),u=genericShowConstructor(genericShowArgsArgument$1)({reflectSymbol:()=>"ExpectedEndOfPath"}),f=genericShowConstructor(genericShowArgsArgument$1)({reflectSymbol:()=>"MissingParam"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EndOfPath"});return m=>{const h=genericRouteError.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},functorRouteResult={map:o=>u=>{if(u.tag==="Fail")return $RouteResult("Fail",u._1);if(u.tag==="Success")return $RouteResult("Success",u._1,o(u._2));fail$3()}},functorRouteParser={map:o=>u=>{if(u.tag==="Alt")return $RouteParser("Alt",arrayMap(functorRouteParser.map(o))(u._1));if(u.tag==="Chomp")return $RouteParser("Chomp",f=>functorRouteResult.map(o)(u._1(f)));if(u.tag==="Prefix")return $RouteParser("Prefix",u._1,functorRouteParser.map(o)(u._2));fail$3()}},end$1=$RouteParser("Chomp",o=>{const u=index(o.segments)(0);if(u.tag==="Nothing")return $RouteResult("Success",o,unit);if(u.tag==="Just")return $RouteResult("Fail",$RouteError("ExpectedEndOfPath",u._1));fail$3()}),chompPrefix=o=>u=>{const f=index(u.segments)(0);return f.tag==="Just"?o===f._1?$RouteResult("Success",{segments:slice(1)(u.segments.length)(u.segments),params:u.params,hash:u.hash},unit):$RouteResult("Fail",$RouteError("Expected",o,f._1)):$RouteResult("Fail",EndOfPath)},runRouteParser$lazy=binding(()=>u=>f=>{let d=u,m=f,h=!0,b;for(;h;){const y=d,_=m;if(_.tag==="Alt"){h=!1,b=foldlArray(w=>M=>w.tag==="Fail"?runRouteParser$lazy()(y)(M):w)($RouteResult("Fail",EndOfPath))(_._1);continue}if(_.tag==="Chomp"){h=!1,b=_._1(y);continue}if(_.tag==="Prefix"){const w=chompPrefix(_._1)(y);if(w.tag==="Fail"){h=!1,b=$RouteResult("Fail",w._1);continue}if(w.tag==="Success"){d=w._1,m=_._2;continue}fail$3()}fail$3()}return b}),runRouteParser=runRouteParser$lazy(),run=o=>u=>{const f=runRouteParser(parsePath(u))(o);if(f.tag==="Fail")return $Either("Left",f._1);if(f.tag==="Success")return $Either("Right",f._2);fail$3()},applyRouteParser={apply:o=>u=>$RouteParser("Chomp",f=>{const d=runRouteParser(f)(o);if(d.tag==="Fail")return $RouteResult("Fail",d._1);if(d.tag==="Success")return functorRouteResult.map(d._2)(runRouteParser(d._1)(u));fail$3()}),Functor0:()=>functorRouteParser},altSnoc=o=>u=>{if(u.tag==="Prefix"){const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(u._1===d._1){const m=init$1(o);return run$2(withArray(pushAll([$RouteParser("Prefix",u._1,altRouteParser.alt(d._2)(u._2))]))((()=>{if(m.tag==="Just")return m._1;fail$3()})()))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))},altRouteParser={alt:o=>u=>o.tag==="Alt"?u.tag==="Alt"?$RouteParser("Alt",altAppend(o._1)(u._1)):$RouteParser("Alt",altSnoc(o._1)(u)):u.tag==="Alt"?$RouteParser("Alt",altCons(o)(u._1)):o.tag==="Prefix"?u.tag==="Prefix"?o._1===u._1?$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(u._2)):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]),Functor0:()=>functorRouteParser},altCons=o=>u=>{if(o.tag==="Prefix"){const f=index(u)(0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(o._1===d._1){const m=tail(u);return concatArray([$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(d._2))])((()=>{if(m.tag==="Just")return m._1;fail$3()})())}return concatArray([o])(u)}return concatArray([o])(u)}return concatArray([o])(u)},altAppend=o=>u=>{const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){const m=index(u)(0),h=(()=>{if(m.tag==="Just")return m._1;fail$3()})();if(h.tag==="Prefix"){if(d._1===h._1){const b=tail(u),y=concatArray([$RouteParser("Prefix",d._1,altRouteParser.alt(d._2)(h._2))])((()=>{if(b.tag==="Just")return b._1;fail$3()})()),_=init$1(o),w=(()=>{if(_.tag==="Just")return _._1;fail$3()})();return w.length>0?altAppend(w)(y):y}return concatArray(o)(u)}return concatArray(o)(u)}return concatArray(o)(u)},emptyRouteState={segments:[],params:[],hash:""},semigroupRoutePrinter={append:o=>u=>f=>u(o(f))},put=o=>u=>({segments:run$2(withArray(pushAll([o]))(u.segments)),params:u.params,hash:u.hash}),printPath=o=>(()=>o.segments.length===1?o.segments[0]===""?"/":joinWith("/")(arrayMap(u=>{const f=_encodeURIComponent(d=>Nothing,Just,u);if(f.tag==="Just")return f._1;fail$3()})(o.segments)):joinWith("/")(arrayMap(u=>{const f=_encodeURIComponent(d=>Nothing,Just,u);if(f.tag==="Just")return f._1;fail$3()})(o.segments)))()+((()=>o.params.length===0?"":"?"+joinWith("&")(arrayMap(u=>{if(u._2===""){const m=_encodeURIComponent(h=>Nothing,Just,u._1);if(m.tag==="Just")return m._1;fail$3()}const f=_encodeURIComponent(m=>Nothing,Just,u._1),d=_encodeURIComponent(m=>Nothing,Just,u._2);return(()=>{if(f.tag==="Just")return f._1;fail$3()})()+(()=>{if(d.tag==="Just")return"="+d._1;fail$3()})()})(o.params)))()+(()=>o.hash===""?"":"#"+o.hash)()),monoidRoutePRinter={mempty:o=>o,Semigroup0:()=>semigroupRoutePrinter},$RouteDuplex=(o,u)=>({tag:"RouteDuplex",_1:o,_2:u}),RouteDuplex=o=>u=>$RouteDuplex(o,u),profunctorRouteDuplex={dimap:o=>u=>f=>$RouteDuplex(d=>f._1(o(d)),functorRouteParser.map(u)(f._2))},prefix=o=>u=>$RouteDuplex(f=>{const d=u._1(f);return m=>d(put(o)(m))},$RouteParser("Prefix",o,u._2)),path=(()=>{const o=foldrArray(prefix),u=split("/");return f=>{const d=u(f);return m=>o(m)(d)}})(),root=path(""),parse=o=>run(o._2),functorRouteDuplex={map:o=>u=>$RouteDuplex(u._1,functorRouteParser.map(o)(u._2))},end=o=>$RouteDuplex(o._1,applyRouteParser.apply(functorRouteParser.map($$const)(o._2))(end$1)),applyRouteDuplex={apply:o=>u=>$RouteDuplex(f=>{const d=o._1(f),m=u._1(f);return h=>m(d(h))},applyRouteParser.apply(o._2)(u._2)),Functor0:()=>functorRouteDuplex},applicativeRouteDuplex={pure:(()=>{const o=RouteDuplex(u=>monoidRoutePRinter.mempty);return u=>o($RouteParser("Chomp",f=>$RouteResult("Success",f,u)))})(),Apply0:()=>applyRouteDuplex},identity=o=>o,noArgs=(()=>applicativeRouteDuplex.pure(NoArguments))(),gRouteProduct={gRouteDuplexCtr:identity},gRouteNoArguments={gRouteDuplexCtr:identity},product=o=>u=>f=>{const d=o.gRouteDuplexCtr(f);return $RouteDuplex(m=>{const h=u._1(m._1),b=d._1(m._2);return y=>b(h(y))},applyRouteParser.apply(functorRouteParser.map(Product)(functorRouteParser.map(Argument)(u._2)))(d._2))},gRouteSum=o=>u=>({gRouteDuplex:f=>{const d=o.gRouteDuplex(f),m=u.gRouteDuplex(f);return $RouteDuplex(h=>{if(h.tag==="Inl")return d._1(h._1);if(h.tag==="Inr")return m._1(h._1);fail$3()},altRouteParser.alt(functorRouteParser.map(Inl)(d._2))(functorRouteParser.map(Inr)(m._2)))}}),gRouteConstructor=o=>()=>u=>({gRouteDuplex:f=>{const d=end(u.gRouteDuplexCtr(unsafeGet(o.reflectSymbol($$Proxy))(f)));return $RouteDuplex(m=>d._1(m),functorRouteParser.map(Constructor)(d._2))}}),gRouteArgument={gRouteDuplexCtr:identity},gRouteAll={gRouteDuplexCtr:o=>$RouteDuplex(u=>o._1(u),functorRouteParser.map(Argument)(o._2))},$Route=(o,u,f)=>({tag:o,_1:u,_2:f}),HomeIsSymbol={reflectSymbol:()=>"Home"},genericShowArgsArgument={genericShowArgs:o=>[showStringImpl(o)]},OrientationPermissionWithRideRequestIsSymbol={reflectSymbol:()=>"OrientationPermissionWithRideRequest"},OrientationPermissionWithoutRideRequestIsSymbol={reflectSymbol:()=>"OrientationPermissionWithoutRideRequest"},TutorialIsSymbol={reflectSymbol:()=>"Tutorial"},TakeRideIsSymbol={reflectSymbol:()=>"TakeRide"},SettingsIsSymbol={reflectSymbol:()=>"Settings"},TakeThisRideIsSymbol={reflectSymbol:()=>"TakeThisRide"},EditorIsSymbol={reflectSymbol:()=>"Editor"},SessionIsSymbol={reflectSymbol:()=>"Session"},eq1=o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?eqTrack.eq(o._1)(u._1):!1,Home=$Route("Home"),OrientationPermissionWithoutRideRequest=$Route("OrientationPermissionWithoutRideRequest"),Tutorial=$Route("Tutorial"),TakeRide=$Route("TakeRide"),Settings=$Route("Settings"),Editor=$Route("Editor"),genericRoute={to:o=>{if(o.tag==="Inl")return Home;if(o.tag==="Inr"){if(o._1.tag==="Inl")return $Route("OrientationPermissionWithRideRequest",o._1._1._1,o._1._1._2);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return OrientationPermissionWithoutRideRequest;if(o._1._1.tag==="Inr"){if(o._1._1._1.tag==="Inl")return Tutorial;if(o._1._1._1.tag==="Inr"){if(o._1._1._1._1.tag==="Inl")return TakeRide;if(o._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1.tag==="Inl")return Settings;if(o._1._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1._1.tag==="Inl")return $Route("TakeThisRide",o._1._1._1._1._1._1._1._1,o._1._1._1._1._1._1._1._2);if(o._1._1._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1._1._1.tag==="Inl")return Editor;if(o._1._1._1._1._1._1._1.tag==="Inr")return $Route("Session",o._1._1._1._1._1._1._1._1._1,o._1._1._1._1._1._1._1._1._2);fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Home")return $Sum("Inl",NoArguments);if(o.tag==="OrientationPermissionWithRideRequest")return $Sum("Inr",$Sum("Inl",$Product(o._1,o._2)));if(o.tag==="OrientationPermissionWithoutRideRequest")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="Tutorial")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))));if(o.tag==="TakeRide")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)))));if(o.tag==="Settings")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))))));if(o.tag==="TakeThisRide")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",$Product(o._1,o._2))))))));if(o.tag==="Editor")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))))))));if(o.tag==="Session")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Product(o._1,o._2)))))))));fail$3()}},showRoute={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)(HomeIsSymbol),u=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))(OrientationPermissionWithRideRequestIsSymbol),f=genericShowConstructor(genericShowArgsNoArguments)(OrientationPermissionWithoutRideRequestIsSymbol),d=genericShowConstructor(genericShowArgsNoArguments)(TutorialIsSymbol),m=genericShowConstructor(genericShowArgsNoArguments)(TakeRideIsSymbol),h=genericShowConstructor(genericShowArgsNoArguments)(SettingsIsSymbol),b=genericShowConstructor(genericShowArgsProduct({genericShowArgs:w=>[(()=>{if(w.tag==="Just")return"(Just TrackV0 <"+show1$3(w._1._1)+">)";if(w.tag==="Nothing")return"Nothing";fail$3()})()]})(genericShowArgsArgument))(TakeThisRideIsSymbol),y=genericShowConstructor(genericShowArgsNoArguments)(EditorIsSymbol),_=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))(SessionIsSymbol);return w=>{const M=genericRoute.from(w);if(M.tag==="Inl")return o["genericShow'"](M._1);if(M.tag==="Inr"){if(M._1.tag==="Inl")return u["genericShow'"](M._1._1);if(M._1.tag==="Inr"){if(M._1._1.tag==="Inl")return f["genericShow'"](M._1._1._1);if(M._1._1.tag==="Inr"){if(M._1._1._1.tag==="Inl")return d["genericShow'"](M._1._1._1._1);if(M._1._1._1.tag==="Inr"){if(M._1._1._1._1.tag==="Inl")return m["genericShow'"](M._1._1._1._1._1);if(M._1._1._1._1.tag==="Inr"){if(M._1._1._1._1._1.tag==="Inl")return h["genericShow'"](M._1._1._1._1._1._1);if(M._1._1._1._1._1.tag==="Inr"){if(M._1._1._1._1._1._1.tag==="Inl")return b["genericShow'"](M._1._1._1._1._1._1._1);if(M._1._1._1._1._1._1.tag==="Inr"){if(M._1._1._1._1._1._1._1.tag==="Inl")return y["genericShow'"](M._1._1._1._1._1._1._1._1);if(M._1._1._1._1._1._1._1.tag==="Inr")return _["genericShow'"](M._1._1._1._1._1._1._1._1);fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}})()},eqRoute={eq:o=>u=>o.tag==="Home"?u.tag==="Home":o.tag==="OrientationPermissionWithRideRequest"?u.tag==="OrientationPermissionWithRideRequest"?o._1===u._1&&o._2===u._2:!1:o.tag==="OrientationPermissionWithoutRideRequest"?u.tag==="OrientationPermissionWithoutRideRequest":o.tag==="Tutorial"?u.tag==="Tutorial":o.tag==="TakeRide"?u.tag==="TakeRide":o.tag==="Settings"?u.tag==="Settings":o.tag==="TakeThisRide"?u.tag==="TakeThisRide"?eq1(o._1)(u._1)&&o._2===u._2:!1:o.tag==="Editor"?u.tag==="Editor":o.tag==="Session"&&u.tag==="Session"?o._1===u._1&&o._2===u._2:!1},cached=$RouteDuplex(o=>monoidRoutePRinter.mempty,$RouteParser("Chomp",o=>$RouteResult("Success",o,Nothing))),route=(()=>root(profunctorRouteDuplex.dimap(genericRoute.from)(genericRoute.to)(gRouteSum(gRouteConstructor(HomeIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(OrientationPermissionWithRideRequestIsSymbol)()(gRouteProduct))(gRouteSum(gRouteConstructor(OrientationPermissionWithoutRideRequestIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TutorialIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TakeRideIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(SettingsIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TakeThisRideIsSymbol)()(gRouteProduct))(gRouteSum(gRouteConstructor(EditorIsSymbol)()(gRouteNoArguments))(gRouteConstructor(SessionIsSymbol)()(gRouteProduct))))))))).gRouteDuplex({Home:noArgs,TakeThisRide:product(gRouteArgument)(cached)(prefix("rides")($RouteDuplex(o=>put(o),functorRouteParser.map(Argument)(take)))),Settings:path("settings")(noArgs),TakeRide:path("rides")(noArgs),Editor:path("editor")(noArgs),Tutorial:path("tutorial")(noArgs),OrientationPermissionWithoutRideRequest:path("orientation-permission")(noArgs),OrientationPermissionWithRideRequest:prefix("orientation-permission")(product(gRouteAll)($RouteDuplex(put,take))($RouteDuplex(put,take))),Session:prefix("r")(product(gRouteAll)($RouteDuplex(put,take))($RouteDuplex(put,take)))}))))(),oneOf$2=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),click$1=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),availableRides=o=>$Entity("Element'",elementify("div")(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$2([klass_(attrDiv_ClassString)("z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(klass_(attrH2_ClassString)("text-2xl text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Choose a ride"))]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("ul")(klass_(attrUl_ClassString)(""))($Entity("FixedChildren'",arrayMap(u=>$Entity("Element'",elementify("li")(plusEvent.empty)($Entity("FixedChildren'",[$Entity("Element'",elementify("button")(oneOf$2([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),click$1(applicativeEvent.pure(o.navigateTo($Route("TakeThisRide",$Maybe("Just",u.data),u.id))))]))($Entity("FixedChildren'",[text(applicativeEvent.pure((()=>{if(u.data._1.title.tag==="Nothing")return"Untitled Track";if(u.data._1.title.tag==="Just")return u.data._1.title._1;fail$3()})()))])))]))))(o.availableRides))))])))])))])))]))),roomIsFull=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>It looks like four players have already joined this joyride. Pick another slug to get started.</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),clamp=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},reverseOrientationDampening=o=>clamp(0)(100)(pow((o-.01)/.3)(.5)*100),$UISwitch=o=>({tag:o}),oneOf$1=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),eqMaybe={eq:o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?o._1===u._1:!1},click=o=>(u,f)=>o(u,d=>{const m={key:"click",value:$AttributeValue("Cb'",h=>()=>(d(),!0))};return f(m)}),dedup2=dedup({eq:o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?o._1.tag==="Nothing"?u._1.tag==="Nothing":o._1.tag==="Just"&&u._1.tag==="Just"?o._1._1===u._1._1:!1:!1}),NotSignedIn=$UISwitch("NotSignedIn"),SignedInButHasNotSetProfile=$UISwitch("SignedInButHasNotSetProfile"),SignedInAndHasSetProfile=$UISwitch("SignedInAndHasSetProfile"),settings=o=>$Entity("EventfulElement'",backdoor.bus(u=>f=>{const d=$Entity("Element'",elementify("li")(klass_(attrLi_ClassString)("p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h1")(klass_(attrH1_ClassString)("text-lg text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Lateral speed"))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex flex-row p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure("\u{1F422}"))]))),$Entity("Element'",elementify("input")(oneOf$1([(()=>{const h=sampleBy(functorEvent)($$const)(refToBehavior(o.dampeningRef))(applicativeEvent.pure(unit));return(b,y)=>h(b,_=>{const w={key:"value",value:$AttributeValue("Prop'",showNumberImpl(reverseOrientationDampening(_)))};return y(w)})})(),slider(applicativeEvent.pure(h=>{const b=pow(h/100)(2)*.3+.01;return()=>o.dampeningRef.value=b})),klass_(attrInput_ClassString)("appearance-none raaaange grow h-6 p-0 bg-transparent focus:outline-none focus:ring-0 focus:shadow-none")]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("span")(klass_(attrSpan_ClassString)("text-white"))($Entity("FixedChildren'",[text(applicativeEvent.pure("\u{1F407}"))])))])))]))),m=$Entity("Element'",elementify("li")(klass_(attrLi_ClassString)("p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h1")(klass_(attrH1_ClassString)("text-lg text-slate-200"))($Entity("FixedChildren'",[text((()=>{const h=oneOf$1([applicativeEvent.pure(Nothing),dedup(eqMaybe)((b,y)=>o.myProfile(b,_=>y($Maybe("Just",_._1.username))))]);return(b,y)=>h(b,_=>{const w=(()=>{if(_.tag==="Nothing")return"Display name";if(_.tag==="Just")return"Display name: "+_._1;fail$3()})();return y(w)})})())]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex flex-row p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("input")(oneOf$1([applicativeEvent.pure({key:"placeholder",value:$AttributeValue("Prop'","Namey McName")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",h=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(y=>identity$v)(_delay(Right,0)))(_liftEffect(u(h))));return()=>(b().run(),unit)})}),klass_(attrInput_ClassString)("shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),(()=>{const h=dedup(eqString)((b,y)=>o.myProfile(b,_=>y(_._1.username)));return(b,y)=>h(b,_=>y({key:"value",value:$AttributeValue("Prop'",_)}))})()]))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex flex-row p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("button")(oneOf$1([klass_(attrButton_ClassString)(buttonCls),click((h,b)=>f(h,y=>{const _=value(y);return b(()=>{const w=_();return w===""?bindE(windowImpl)(alert("Sorry, that username is not allowed. Please try another one!"))():(_makeFiber(ffiUtil$1,updateProfileUsernameAff(o.fbAuth)(o.firestoreDb)(w))().run(),unit)})}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure("Update name"))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[])))])))])));return $Entity("Element'",elementify("div")(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","h-screen w-screen overflow-x-auto bg-zinc-900 absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("h2")(klass_(attrH2_ClassString)("text-2xl text-slate-200 p-6"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Settings"))]))),(()=>{const h=applyEvent.apply((b,y)=>o.signedInNonAnonymously(b,_=>{const w=Tuple(_);return y(w)}))((b,y)=>{const _=applicativeEvent.pure(Nothing)(b,y),w=o.myProfile(b,M=>y($Maybe("Just",M)));return()=>(_(),w())});return $Entity("Element'",elementify("div")(oneOf$1([]))($Entity("FixedChildren'",[switcher(b=>{if(b.tag==="NotSignedIn")return $Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",[d])));if(b.tag==="SignedInButHasNotSetProfile")return $Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",[d,m])));if(b.tag==="SignedInAndHasSetProfile"){const y=_=>$Entity("Element'",elementify("button")(oneOf$1([klass_(attrButton_ClassString)(buttonCls),click(applicativeEvent.pure(()=>{const w=init();return pickerAccepting(["image/*"])(M=>()=>unit)(M=>$=>bindE(windowImpl)(alert("Not a valid image format. Please try again!")))(M=>$=>()=>unit)(M=>()=>(log("Uploaded avatar to: "+M.url)(),_makeFiber(ffiUtil$1,updateProfileAvatarURLAff(o.fbAuth)(o.firestoreDb)(M.url))().run(),unit))(w)()}))]))($Entity("FixedChildren'",[text(applicativeEvent.pure(_))])));return $Entity("Element'",elementify("ul")(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))($Entity("FixedChildren'",[d,m,$Entity("Element'",elementify("li")(klass_(attrLi_ClassString)("p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("h1")(klass_(attrH1_ClassString)("text-lg text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("Avatar"))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("flex flex-row p-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[]))),$Entity("Element'",elementify("div")(plusEvent.empty)($Entity("FixedChildren'",[switcher(_=>{if(_.tag==="Nothing")return y("Upload image");if(_.tag==="Just"){if(_._1.tag==="Nothing")return y("Upload image");if(_._1.tag==="Just")return $Entity("Element'",elementify("div")(oneOf$1([klass_(attrDiv_ClassString)("flex flex-col items-center")]))($Entity("FixedChildren'",[$Entity("Element'",elementify("img")(oneOf$1([klass_(attrImg_ClassString)("object-cover rounded-full w-32 h-32"),applicativeEvent.pure({key:"src",value:$AttributeValue("Prop'",_._1._1)})]))($Entity("FixedChildren'",[]))),y("Change image")])));fail$3()}fail$3()})(dedup2(oneOf$1([applicativeEvent.pure(Nothing),(_,w)=>o.myProfile(_,M=>w($Maybe("Just",M._1.avatarURL)))])))]))),$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("grow"))($Entity("FixedChildren'",[])))])))])))])))}fail$3()})((b,y)=>h(b,_=>{const w=(()=>{if(_._1){if(_._2.tag==="Nothing")return SignedInButHasNotSetProfile;if(_._2.tag==="Just")return SignedInAndHasSetProfile;fail$3()}return NotSignedIn})();return y(w)}))])))})()])))])))})),oneOf=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),sorryNeedPermissionPage=(()=>$Entity("Element'",elementify("div")(oneOf([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(oneOf([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))($Entity("FixedChildren'",[$Entity("Element'",elementify("div")(klass_(attrDiv_ClassString)("col-start-2 col-end-3 row-start-2 row-end-3"))($Entity("FixedChildren'",[$Entity("Element'",elementify("p")(klass_(attrP_ClassString)("text-center text-2xl text-slate-200"))($Entity("FixedChildren'",[text(applicativeEvent.pure("This application needs access to your device's orientation in order to function properly. If you change your mind about the orientation permission, please reload the page. Thanks for visiting!"))])))])))])))]))))(),$BeatNumber=o=>({tag:o}),$MeasureNumber=o=>({tag:o}),$MeasureNumberBeatNumber=o=>({tag:o}),M1B1=$MeasureNumberBeatNumber("M1B1"),M2B1=$MeasureNumberBeatNumber("M2B1"),M3B1=$MeasureNumberBeatNumber("M3B1"),M3B3=$MeasureNumberBeatNumber("M3B3"),M4B1=$MeasureNumberBeatNumber("M4B1"),M5B1=$MeasureNumberBeatNumber("M5B1"),M6B1=$MeasureNumberBeatNumber("M6B1"),M7B1=$MeasureNumberBeatNumber("M7B1"),M7B3=$MeasureNumberBeatNumber("M7B3"),M8B1=$MeasureNumberBeatNumber("M8B1"),M9B1=$MeasureNumberBeatNumber("M9B1"),M10B1=$MeasureNumberBeatNumber("M10B1"),M11B1=$MeasureNumberBeatNumber("M11B1"),M12B1=$MeasureNumberBeatNumber("M12B1"),M13B1=$MeasureNumberBeatNumber("M13B1"),M14B1=$MeasureNumberBeatNumber("M14B1"),M15B1=$MeasureNumberBeatNumber("M15B1"),M15B3=$MeasureNumberBeatNumber("M15B3"),M16B1=$MeasureNumberBeatNumber("M16B1"),M17B1=$MeasureNumberBeatNumber("M17B1"),M18B1=$MeasureNumberBeatNumber("M18B1"),M19B1=$MeasureNumberBeatNumber("M19B1"),M19B3=$MeasureNumberBeatNumber("M19B3"),M20B1=$MeasureNumberBeatNumber("M20B1"),M21B1=$MeasureNumberBeatNumber("M21B1"),M22B1=$MeasureNumberBeatNumber("M22B1"),M23B1=$MeasureNumberBeatNumber("M23B1"),M23B3=$MeasureNumberBeatNumber("M23B3"),M24B1=$MeasureNumberBeatNumber("M24B1"),M24B2=$MeasureNumberBeatNumber("M24B2"),M24B3=$MeasureNumberBeatNumber("M24B3"),M24B4=$MeasureNumberBeatNumber("M24B4"),M25B1=$MeasureNumberBeatNumber("M25B1"),M25B2=$MeasureNumberBeatNumber("M25B2"),M25B3=$MeasureNumberBeatNumber("M25B3"),M25B4=$MeasureNumberBeatNumber("M25B4"),M26B1=$MeasureNumberBeatNumber("M26B1"),M26B2=$MeasureNumberBeatNumber("M26B2"),M26B3=$MeasureNumberBeatNumber("M26B3"),M26B4=$MeasureNumberBeatNumber("M26B4"),M27B1=$MeasureNumberBeatNumber("M27B1"),M27B2=$MeasureNumberBeatNumber("M27B2"),M27B3=$MeasureNumberBeatNumber("M27B3"),M27B4=$MeasureNumberBeatNumber("M27B4"),M28B1=$MeasureNumberBeatNumber("M28B1"),M28B2=$MeasureNumberBeatNumber("M28B2"),M28B3=$MeasureNumberBeatNumber("M28B3"),M28B4=$MeasureNumberBeatNumber("M28B4"),M29B1=$MeasureNumberBeatNumber("M29B1"),M29B2=$MeasureNumberBeatNumber("M29B2"),M29B3=$MeasureNumberBeatNumber("M29B3"),M29B4=$MeasureNumberBeatNumber("M29B4"),M30B1=$MeasureNumberBeatNumber("M30B1"),M30B2=$MeasureNumberBeatNumber("M30B2"),M30B3=$MeasureNumberBeatNumber("M30B3"),M30B4=$MeasureNumberBeatNumber("M30B4"),M31B1=$MeasureNumberBeatNumber("M31B1"),M31B2=$MeasureNumberBeatNumber("M31B2"),M31B3=$MeasureNumberBeatNumber("M31B3"),M31B4=$MeasureNumberBeatNumber("M31B4"),M32B1=$MeasureNumberBeatNumber("M32B1"),M32B2=$MeasureNumberBeatNumber("M32B2"),M32B3=$MeasureNumberBeatNumber("M32B3"),M32B4=$MeasureNumberBeatNumber("M32B4"),M33B1=$MeasureNumberBeatNumber("M33B1"),M33B2=$MeasureNumberBeatNumber("M33B2"),M33B3=$MeasureNumberBeatNumber("M33B3"),M33B4=$MeasureNumberBeatNumber("M33B4"),M34B1=$MeasureNumberBeatNumber("M34B1"),M34B2=$MeasureNumberBeatNumber("M34B2"),M34B3=$MeasureNumberBeatNumber("M34B3"),M34B4=$MeasureNumberBeatNumber("M34B4"),M35B1=$MeasureNumberBeatNumber("M35B1"),M35B2=$MeasureNumberBeatNumber("M35B2"),M35B3=$MeasureNumberBeatNumber("M35B3"),M35B4=$MeasureNumberBeatNumber("M35B4"),M36B1=$MeasureNumberBeatNumber("M36B1"),M36B2=$MeasureNumberBeatNumber("M36B2"),M36B3=$MeasureNumberBeatNumber("M36B3"),M36B4=$MeasureNumberBeatNumber("M36B4"),M37B1=$MeasureNumberBeatNumber("M37B1"),M37B2=$MeasureNumberBeatNumber("M37B2"),M37B3=$MeasureNumberBeatNumber("M37B3"),M37B4=$MeasureNumberBeatNumber("M37B4"),M38B1=$MeasureNumberBeatNumber("M38B1"),M38B2=$MeasureNumberBeatNumber("M38B2"),M38B3=$MeasureNumberBeatNumber("M38B3"),M38B4=$MeasureNumberBeatNumber("M38B4"),M39B1=$MeasureNumberBeatNumber("M39B1"),M39B2=$MeasureNumberBeatNumber("M39B2"),M39B3=$MeasureNumberBeatNumber("M39B3"),M39B4=$MeasureNumberBeatNumber("M39B4"),M40B1=$MeasureNumberBeatNumber("M40B1"),M40B2=$MeasureNumberBeatNumber("M40B2"),M40B3=$MeasureNumberBeatNumber("M40B3"),M40B4=$MeasureNumberBeatNumber("M40B4"),M41B1=$MeasureNumberBeatNumber("M41B1"),M41B2=$MeasureNumberBeatNumber("M41B2"),M41B3=$MeasureNumberBeatNumber("M41B3"),M41B4=$MeasureNumberBeatNumber("M41B4"),M42B1=$MeasureNumberBeatNumber("M42B1"),M42B2=$MeasureNumberBeatNumber("M42B2"),M42B3=$MeasureNumberBeatNumber("M42B3"),M42B4=$MeasureNumberBeatNumber("M42B4"),M43B1=$MeasureNumberBeatNumber("M43B1"),M43B2=$MeasureNumberBeatNumber("M43B2"),M43B3=$MeasureNumberBeatNumber("M43B3"),M43B4=$MeasureNumberBeatNumber("M43B4"),M44B1=$MeasureNumberBeatNumber("M44B1"),M44B2=$MeasureNumberBeatNumber("M44B2"),M44B3=$MeasureNumberBeatNumber("M44B3"),M44B4=$MeasureNumberBeatNumber("M44B4"),M45B1=$MeasureNumberBeatNumber("M45B1"),M45B2=$MeasureNumberBeatNumber("M45B2"),M45B3=$MeasureNumberBeatNumber("M45B3"),M45B4=$MeasureNumberBeatNumber("M45B4"),M46B1=$MeasureNumberBeatNumber("M46B1"),M46B2=$MeasureNumberBeatNumber("M46B2"),M46B3=$MeasureNumberBeatNumber("M46B3"),M46B4=$MeasureNumberBeatNumber("M46B4"),M47B1=$MeasureNumberBeatNumber("M47B1"),M47B2=$MeasureNumberBeatNumber("M47B2"),M47B3=$MeasureNumberBeatNumber("M47B3"),M47B4=$MeasureNumberBeatNumber("M47B4"),M48B1=$MeasureNumberBeatNumber("M48B1"),M48B2=$MeasureNumberBeatNumber("M48B2"),M48B3=$MeasureNumberBeatNumber("M48B3"),M48B4=$MeasureNumberBeatNumber("M48B4"),M49B1=$MeasureNumberBeatNumber("M49B1"),M49B2=$MeasureNumberBeatNumber("M49B2"),M49B3=$MeasureNumberBeatNumber("M49B3"),M49B4=$MeasureNumberBeatNumber("M49B4"),M50B1=$MeasureNumberBeatNumber("M50B1"),M50B2=$MeasureNumberBeatNumber("M50B2"),M50B3=$MeasureNumberBeatNumber("M50B3"),M50B4=$MeasureNumberBeatNumber("M50B4"),M51B1=$MeasureNumberBeatNumber("M51B1"),M51B2=$MeasureNumberBeatNumber("M51B2"),M51B3=$MeasureNumberBeatNumber("M51B3"),M51B4=$MeasureNumberBeatNumber("M51B4"),M52B1=$MeasureNumberBeatNumber("M52B1"),M52B2=$MeasureNumberBeatNumber("M52B2"),M52B3=$MeasureNumberBeatNumber("M52B3"),M52B4=$MeasureNumberBeatNumber("M52B4"),M53B1=$MeasureNumberBeatNumber("M53B1"),M53B2=$MeasureNumberBeatNumber("M53B2"),M53B3=$MeasureNumberBeatNumber("M53B3"),M53B4=$MeasureNumberBeatNumber("M53B4"),M54B1=$MeasureNumberBeatNumber("M54B1"),M54B2=$MeasureNumberBeatNumber("M54B2"),M54B3=$MeasureNumberBeatNumber("M54B3"),M54B4=$MeasureNumberBeatNumber("M54B4"),M55B1=$MeasureNumberBeatNumber("M55B1"),M55B2=$MeasureNumberBeatNumber("M55B2"),M55B3=$MeasureNumberBeatNumber("M55B3"),M55B4=$MeasureNumberBeatNumber("M55B4"),M56B1=$MeasureNumberBeatNumber("M56B1"),M56B2=$MeasureNumberBeatNumber("M56B2"),M56B3=$MeasureNumberBeatNumber("M56B3"),M56B4=$MeasureNumberBeatNumber("M56B4"),M57B1=$MeasureNumberBeatNumber("M57B1"),M57B2=$MeasureNumberBeatNumber("M57B2"),M57B3=$MeasureNumberBeatNumber("M57B3"),M57B4=$MeasureNumberBeatNumber("M57B4"),M58B1=$MeasureNumberBeatNumber("M58B1"),M58B2=$MeasureNumberBeatNumber("M58B2"),M58B3=$MeasureNumberBeatNumber("M58B3"),M58B4=$MeasureNumberBeatNumber("M58B4"),M59B1=$MeasureNumberBeatNumber("M59B1"),M59B2=$MeasureNumberBeatNumber("M59B2"),M59B3=$MeasureNumberBeatNumber("M59B3"),M59B4=$MeasureNumberBeatNumber("M59B4"),M60B1=$MeasureNumberBeatNumber("M60B1"),M60B2=$MeasureNumberBeatNumber("M60B2"),M60B3=$MeasureNumberBeatNumber("M60B3"),M60B4=$MeasureNumberBeatNumber("M60B4"),M61B1=$MeasureNumberBeatNumber("M61B1"),M61B2=$MeasureNumberBeatNumber("M61B2"),M61B3=$MeasureNumberBeatNumber("M61B3"),M61B4=$MeasureNumberBeatNumber("M61B4"),M62B1=$MeasureNumberBeatNumber("M62B1"),M62B2=$MeasureNumberBeatNumber("M62B2"),M62B3=$MeasureNumberBeatNumber("M62B3"),M62B4=$MeasureNumberBeatNumber("M62B4"),M63B1=$MeasureNumberBeatNumber("M63B1"),M63B2=$MeasureNumberBeatNumber("M63B2"),M63B3=$MeasureNumberBeatNumber("M63B3"),M63B4=$MeasureNumberBeatNumber("M63B4"),M64B1=$MeasureNumberBeatNumber("M64B1"),M64B2=$MeasureNumberBeatNumber("M64B2"),M64B3=$MeasureNumberBeatNumber("M64B3"),M64B4=$MeasureNumberBeatNumber("M64B4"),M65B1=$MeasureNumberBeatNumber("M65B1"),M65B2=$MeasureNumberBeatNumber("M65B2"),M65B3=$MeasureNumberBeatNumber("M65B3"),M65B4=$MeasureNumberBeatNumber("M65B4"),M66B1=$MeasureNumberBeatNumber("M66B1"),M66B2=$MeasureNumberBeatNumber("M66B2"),M66B3=$MeasureNumberBeatNumber("M66B3"),M66B4=$MeasureNumberBeatNumber("M66B4"),M67B1=$MeasureNumberBeatNumber("M67B1"),M67B2=$MeasureNumberBeatNumber("M67B2"),M67B3=$MeasureNumberBeatNumber("M67B3"),M67B4=$MeasureNumberBeatNumber("M67B4"),M68B1=$MeasureNumberBeatNumber("M68B1"),M68B2=$MeasureNumberBeatNumber("M68B2"),M68B3=$MeasureNumberBeatNumber("M68B3"),M68B4=$MeasureNumberBeatNumber("M68B4"),M69B1=$MeasureNumberBeatNumber("M69B1"),M69B2=$MeasureNumberBeatNumber("M69B2"),M69B3=$MeasureNumberBeatNumber("M69B3"),M69B4=$MeasureNumberBeatNumber("M69B4"),M70B1=$MeasureNumberBeatNumber("M70B1"),M70B2=$MeasureNumberBeatNumber("M70B2"),M70B3=$MeasureNumberBeatNumber("M70B3"),M70B4=$MeasureNumberBeatNumber("M70B4"),M71B1=$MeasureNumberBeatNumber("M71B1"),M71B2=$MeasureNumberBeatNumber("M71B2"),M71B3=$MeasureNumberBeatNumber("M71B3"),M71B4=$MeasureNumberBeatNumber("M71B4"),M72B1=$MeasureNumberBeatNumber("M72B1"),M72B2=$MeasureNumberBeatNumber("M72B2"),M72B3=$MeasureNumberBeatNumber("M72B3"),M72B4=$MeasureNumberBeatNumber("M72B4"),M73B1=$MeasureNumberBeatNumber("M73B1"),M73B2=$MeasureNumberBeatNumber("M73B2"),M73B3=$MeasureNumberBeatNumber("M73B3"),M73B4=$MeasureNumberBeatNumber("M73B4"),M74B1=$MeasureNumberBeatNumber("M74B1"),M74B2=$MeasureNumberBeatNumber("M74B2"),M74B3=$MeasureNumberBeatNumber("M74B3"),M74B4=$MeasureNumberBeatNumber("M74B4"),M75B1=$MeasureNumberBeatNumber("M75B1"),M75B2=$MeasureNumberBeatNumber("M75B2"),M75B3=$MeasureNumberBeatNumber("M75B3"),M75B4=$MeasureNumberBeatNumber("M75B4"),M76B1=$MeasureNumberBeatNumber("M76B1"),M76B2=$MeasureNumberBeatNumber("M76B2"),M76B3=$MeasureNumberBeatNumber("M76B3"),M76B4=$MeasureNumberBeatNumber("M76B4"),M77B1=$MeasureNumberBeatNumber("M77B1"),M77B2=$MeasureNumberBeatNumber("M77B2"),M77B3=$MeasureNumberBeatNumber("M77B3"),M77B4=$MeasureNumberBeatNumber("M77B4"),M78B1=$MeasureNumberBeatNumber("M78B1"),M78B2=$MeasureNumberBeatNumber("M78B2"),M78B3=$MeasureNumberBeatNumber("M78B3"),M78B4=$MeasureNumberBeatNumber("M78B4"),M79B1=$MeasureNumberBeatNumber("M79B1"),M79B2=$MeasureNumberBeatNumber("M79B2"),M79B3=$MeasureNumberBeatNumber("M79B3"),M79B4=$MeasureNumberBeatNumber("M79B4"),M80B1=$MeasureNumberBeatNumber("M80B1"),M80B2=$MeasureNumberBeatNumber("M80B2"),M80B3=$MeasureNumberBeatNumber("M80B3"),M80B4=$MeasureNumberBeatNumber("M80B4"),M81B1=$MeasureNumberBeatNumber("M81B1"),M81B2=$MeasureNumberBeatNumber("M81B2"),M81B3=$MeasureNumberBeatNumber("M81B3"),M81B4=$MeasureNumberBeatNumber("M81B4"),M82B1=$MeasureNumberBeatNumber("M82B1"),M82B2=$MeasureNumberBeatNumber("M82B2"),M82B3=$MeasureNumberBeatNumber("M82B3"),M82B4=$MeasureNumberBeatNumber("M82B4"),M83B1=$MeasureNumberBeatNumber("M83B1"),M83B2=$MeasureNumberBeatNumber("M83B2"),M83B3=$MeasureNumberBeatNumber("M83B3"),M83B4=$MeasureNumberBeatNumber("M83B4"),M84B1=$MeasureNumberBeatNumber("M84B1"),M84B2=$MeasureNumberBeatNumber("M84B2"),M84B3=$MeasureNumberBeatNumber("M84B3"),M1=$MeasureNumber("M1"),M2=$MeasureNumber("M2"),M3=$MeasureNumber("M3"),M4=$MeasureNumber("M4"),M5=$MeasureNumber("M5"),M6=$MeasureNumber("M6"),M7=$MeasureNumber("M7"),M8=$MeasureNumber("M8"),M9=$MeasureNumber("M9"),M10=$MeasureNumber("M10"),M11=$MeasureNumber("M11"),M12=$MeasureNumber("M12"),M13=$MeasureNumber("M13"),M14=$MeasureNumber("M14"),M15=$MeasureNumber("M15"),M16=$MeasureNumber("M16"),M17=$MeasureNumber("M17"),M18=$MeasureNumber("M18"),M19=$MeasureNumber("M19"),M20=$MeasureNumber("M20"),M21=$MeasureNumber("M21"),M22=$MeasureNumber("M22"),M23=$MeasureNumber("M23"),M24=$MeasureNumber("M24"),M25=$MeasureNumber("M25"),M26=$MeasureNumber("M26"),M27=$MeasureNumber("M27"),M28=$MeasureNumber("M28"),M29=$MeasureNumber("M29"),M30=$MeasureNumber("M30"),M31=$MeasureNumber("M31"),M32=$MeasureNumber("M32"),M33=$MeasureNumber("M33"),M34=$MeasureNumber("M34"),M35=$MeasureNumber("M35"),M36=$MeasureNumber("M36"),M37=$MeasureNumber("M37"),M38=$MeasureNumber("M38"),M39=$MeasureNumber("M39"),M40=$MeasureNumber("M40"),M41=$MeasureNumber("M41"),M42=$MeasureNumber("M42"),M43=$MeasureNumber("M43"),M44=$MeasureNumber("M44"),M45=$MeasureNumber("M45"),M46=$MeasureNumber("M46"),M47=$MeasureNumber("M47"),M48=$MeasureNumber("M48"),M49=$MeasureNumber("M49"),M50=$MeasureNumber("M50"),M51=$MeasureNumber("M51"),M52=$MeasureNumber("M52"),M53=$MeasureNumber("M53"),M54=$MeasureNumber("M54"),M55=$MeasureNumber("M55"),M56=$MeasureNumber("M56"),M57=$MeasureNumber("M57"),M58=$MeasureNumber("M58"),M59=$MeasureNumber("M59"),M60=$MeasureNumber("M60"),M61=$MeasureNumber("M61"),M62=$MeasureNumber("M62"),M63=$MeasureNumber("M63"),M64=$MeasureNumber("M64"),M65=$MeasureNumber("M65"),M66=$MeasureNumber("M66"),M67=$MeasureNumber("M67"),M68=$MeasureNumber("M68"),M69=$MeasureNumber("M69"),M70=$MeasureNumber("M70"),M71=$MeasureNumber("M71"),M72=$MeasureNumber("M72"),M73=$MeasureNumber("M73"),M74=$MeasureNumber("M74"),M75=$MeasureNumber("M75"),M76=$MeasureNumber("M76"),M77=$MeasureNumber("M77"),M78=$MeasureNumber("M78"),M79=$MeasureNumber("M79"),M80=$MeasureNumber("M80"),M81=$MeasureNumber("M81"),M82=$MeasureNumber("M82"),M83=$MeasureNumber("M83"),M84=$MeasureNumber("M84"),B1=$BeatNumber("B1"),B2=$BeatNumber("B2"),B3=$BeatNumber("B3"),B4=$BeatNumber("B4"),mb2info=o=>{if(o.tag==="M1B1")return{t:6.941271,b:B1,m:M1,mb:M1B1};if(o.tag==="M2B1")return{t:8.45158,b:B1,m:M2,mb:M2B1};if(o.tag==="M3B1")return{t:9.913475,b:B1,m:M3,mb:M3B1};if(o.tag==="M3B3")return{t:10.615054,b:B3,m:M3,mb:M3B3};if(o.tag==="M4B1")return{t:11.349264,b:B1,m:M4,mb:M4B1};if(o.tag==="M5B1")return{t:12.726317,b:B1,m:M5,mb:M5B1};if(o.tag==="M6B1")return{t:14.149054,b:B1,m:M6,mb:M6B1};if(o.tag==="M7B1")return{t:15.548949,b:B1,m:M7,mb:M7B1};if(o.tag==="M7B3")return{t:16.253791,b:B3,m:M7,mb:M7B3};if(o.tag==="M8B1")return{t:16.96516,b:B1,m:M8,mb:M8B1};if(o.tag==="M9B1")return{t:18.394423,b:B1,m:M9,mb:M9B1};if(o.tag==="M10B1")return{t:19.751897,b:B1,m:M10,mb:M10B1};if(o.tag==="M11B1")return{t:21.177897,b:B1,m:M11,mb:M11B1};if(o.tag==="M12B1")return{t:22.577792,b:B1,m:M12,mb:M12B1};if(o.tag==="M13B1")return{t:24.000529,b:B1,m:M13,mb:M13B1};if(o.tag==="M14B1")return{t:25.393897,b:B1,m:M14,mb:M14B1};if(o.tag==="M15B1")return{t:26.806845,b:B1,m:M15,mb:M15B1};if(o.tag==="M15B3")return{t:27.482318,b:B3,m:M15,mb:M15B3};if(o.tag==="M16B1")return{t:28.177371,b:B1,m:M16,mb:M16B1};if(o.tag==="M17B1")return{t:29.528319,b:B1,m:M17,mb:M17B1};if(o.tag==="M18B1")return{t:30.921687,b:B1,m:M18,mb:M18B1};if(o.tag==="M19B1")return{t:32.253056,b:B1,m:M19,mb:M19B1};if(o.tag==="M19B3")return{t:32.92853,b:B3,m:M19,mb:M19B3};if(o.tag==="M20B1")return{t:33.604003,b:B1,m:M20,mb:M20B1};if(o.tag==="M21B1")return{t:34.948424,b:B1,m:M21,mb:M21B1};if(o.tag==="M22B1")return{t:36.270004,b:B1,m:M22,mb:M22B1};if(o.tag==="M23B1")return{t:37.630741,b:B1,m:M23,mb:M23B1};if(o.tag==="M23B3")return{t:38.293162,b:B3,m:M23,mb:M23B3};if(o.tag==="M24B1")return{t:38.981688,b:B1,m:M24,mb:M24B1};if(o.tag==="M24B2")return{t:39.32432,b:B2,m:M24,mb:M24B2};if(o.tag==="M24B3")return{t:39.666951,b:B3,m:M24,mb:M24B3};if(o.tag==="M24B4")return{t:40.009583,b:B4,m:M24,mb:M24B4};if(o.tag==="M25B1")return{t:40.319583,b:B1,m:M25,mb:M25B1};if(o.tag==="M25B2")return{t:40.685057,b:B2,m:M25,mb:M25B2};if(o.tag==="M25B3")return{t:40.982004,b:B3,m:M25,mb:M25B3};if(o.tag==="M25B4")return{t:41.24632,b:B4,m:M25,mb:M25B4};if(o.tag==="M26B1")return{t:41.660741,b:B1,m:M26,mb:M26B1};if(o.tag==="M26B2")return{t:42.016425,b:B2,m:M26,mb:M26B2};if(o.tag==="M26B3")return{t:42.332952,b:B3,m:M26,mb:M26B3};if(o.tag==="M26B4")return{t:42.659267,b:B4,m:M26,mb:M26B4};if(o.tag==="M27B1")return{t:42.985583,b:B1,m:M27,mb:M27B1};if(o.tag==="M27B2")return{t:43.318425,b:B2,m:M27,mb:M27B2};if(o.tag==="M27B3")return{t:43.621899,b:B3,m:M27,mb:M27B3};if(o.tag==="M27B4")return{t:43.961267,b:B4,m:M27,mb:M27B4};if(o.tag==="M28B1")return{t:44.290846,b:B1,m:M28,mb:M28B1};if(o.tag==="M28B2")return{t:44.633478,b:B2,m:M28,mb:M28B2};if(o.tag==="M28B3")return{t:44.953268,b:B3,m:M28,mb:M28B3};if(o.tag==="M28B4")return{t:45.28611,b:B4,m:M28,mb:M28B4};if(o.tag==="M29B1")return{t:45.615689,b:B1,m:M29,mb:M29B1};if(o.tag==="M29B2")return{t:45.964847,b:B2,m:M29,mb:M29B2};if(o.tag==="M29B3")return{t:46.297689,b:B3,m:M29,mb:M29B3};if(o.tag==="M29B4")return{t:46.64032,b:B4,m:M29,mb:M29B4};if(o.tag==="M30B1")return{t:46.953584,b:B1,m:M30,mb:M30B1};if(o.tag==="M30B2")return{t:47.279899,b:B2,m:M30,mb:M30B2};if(o.tag==="M30B3")return{t:47.619268,b:B3,m:M30,mb:M30B3};if(o.tag==="M30B4")return{t:47.965163,b:B4,m:M30,mb:M30B4};if(o.tag==="M31B1")return{t:48.249057,b:B1,m:M31,mb:M31B1};if(o.tag==="M31B2")return{t:48.585163,b:B2,m:M31,mb:M31B2};if(o.tag==="M31B3")return{t:48.901689,b:B3,m:M31,mb:M31B3};if(o.tag==="M31B4")return{t:49.273689,b:B4,m:M31,mb:M31B4};if(o.tag==="M32B1")return{t:49.567373,b:B1,m:M32,mb:M32B1};if(o.tag==="M32B2")return{t:49.910005,b:B2,m:M32,mb:M32B2};if(o.tag==="M32B3")return{t:50.229794,b:B3,m:M32,mb:M32B3};if(o.tag==="M32B4")return{t:50.569163,b:B4,m:M32,mb:M32B4};if(o.tag==="M33B1")return{t:50.892216,b:B1,m:M33,mb:M33B1};if(o.tag==="M33B2")return{t:51.234847,b:B2,m:M33,mb:M33B2};if(o.tag==="M33B3")return{t:51.554637,b:B3,m:M33,mb:M33B3};if(o.tag==="M33B4")return{t:51.890742,b:B4,m:M33,mb:M33B4};if(o.tag==="M34B1")return{t:52.220321,b:B1,m:M34,mb:M34B1};if(o.tag==="M34B2")return{t:52.536847,b:B2,m:M34,mb:M34B2};if(o.tag==="M34B3")return{t:52.853374,b:B3,m:M34,mb:M34B3};if(o.tag==="M34B4")return{t:53.196005,b:B4,m:M34,mb:M34B4};if(o.tag==="M35B1")return{t:53.512532,b:B1,m:M35,mb:M35B1};if(o.tag==="M35B2")return{t:53.8519,b:B2,m:M35,mb:M35B2};if(o.tag==="M35B3")return{t:54.17169,b:B3,m:M35,mb:M35B3};if(o.tag==="M35B4")return{t:54.507795,b:B4,m:M35,mb:M35B4};if(o.tag==="M36B1")return{t:54.817795,b:B1,m:M36,mb:M36B1};if(o.tag==="M36B2")return{t:55.144111,b:B2,m:M36,mb:M36B2};if(o.tag==="M36B3")return{t:55.457374,b:B3,m:M36,mb:M36B3};if(o.tag==="M36B4")return{t:55.777163,b:B4,m:M36,mb:M36B4};if(o.tag==="M37B1")return{t:56.090427,b:B1,m:M37,mb:M37B1};if(o.tag==="M37B2")return{t:56.413479,b:B2,m:M37,mb:M37B2};if(o.tag==="M37B3")return{t:56.733269,b:B3,m:M37,mb:M37B3};if(o.tag==="M37B4")return{t:57.0759,b:B4,m:M37,mb:M37B4};if(o.tag==="M38B1")return{t:57.39569,b:B1,m:M38,mb:M38B1};if(o.tag==="M38B2")return{t:57.722006,b:B2,m:M38,mb:M38B2};if(o.tag==="M38B3")return{t:58.032006,b:B3,m:M38,mb:M38B3};if(o.tag==="M38B4")return{t:58.358322,b:B4,m:M38,mb:M38B4};if(o.tag==="M39B1")return{t:58.678111,b:B1,m:M39,mb:M39B1};if(o.tag==="M39B2")return{t:58.988111,b:B2,m:M39,mb:M39B2};if(o.tag==="M39B3")return{t:59.307901,b:B3,m:M39,mb:M39B3};if(o.tag==="M39B4")return{t:59.644006,b:B4,m:M39,mb:M39B4};if(o.tag==="M40B1")return{t:59.960532,b:B1,m:M40,mb:M40B1};if(o.tag==="M40B2")return{t:60.296637,b:B2,m:M40,mb:M40B2};if(o.tag==="M40B3")return{t:60.622953,b:B3,m:M40,mb:M40B3};if(o.tag==="M40B4")return{t:60.955795,b:B4,m:M40,mb:M40B4};if(o.tag==="M41B1")return{t:61.278848,b:B1,m:M41,mb:M41B1};if(o.tag==="M41B2")return{t:61.595374,b:B2,m:M41,mb:M41B2};if(o.tag==="M41B3")return{t:61.905374,b:B3,m:M41,mb:M41B3};if(o.tag==="M41B4")return{t:62.24148,b:B4,m:M41,mb:M41B4};if(o.tag==="M42B1")return{t:62.544953,b:B1,m:M42,mb:M42B1};if(o.tag==="M42B2")return{t:62.874532,b:B2,m:M42,mb:M42B2};if(o.tag==="M42B3")return{t:63.194322,b:B3,m:M42,mb:M42B3};if(o.tag==="M42B4")return{t:63.494533,b:B4,m:M42,mb:M42B4};if(o.tag==="M43B1")return{t:63.807796,b:B1,m:M43,mb:M43B1};if(o.tag==="M43B2")return{t:64.140638,b:B2,m:M43,mb:M43B2};if(o.tag==="M43B3")return{t:64.450638,b:B3,m:M43,mb:M43B3};if(o.tag==="M43B4")return{t:64.770427,b:B4,m:M43,mb:M43B4};if(o.tag==="M44B1")return{t:65.10327,b:B1,m:M44,mb:M44B1};if(o.tag==="M44B2")return{t:65.445901,b:B2,m:M44,mb:M44B2};if(o.tag==="M44B3")return{t:65.77548,b:B3,m:M44,mb:M44B3};if(o.tag==="M44B4")return{t:66.088743,b:B4,m:M44,mb:M44B4};if(o.tag==="M45B1")return{t:66.411796,b:B1,m:M45,mb:M45B1};if(o.tag==="M45B2")return{t:66.728322,b:B2,m:M45,mb:M45B2};if(o.tag==="M45B3")return{t:67.041586,b:B3,m:M45,mb:M45B3};if(o.tag==="M45B4")return{t:67.371164,b:B4,m:M45,mb:M45B4};if(o.tag==="M46B1")return{t:67.655059,b:B1,m:M46,mb:M46B1};if(o.tag==="M46B2")return{t:67.987901,b:B2,m:M46,mb:M46B2};if(o.tag==="M46B3")return{t:68.310954,b:B3,m:M46,mb:M46B3};if(o.tag==="M46B4")return{t:68.62748,b:B4,m:M46,mb:M46B4};if(o.tag==="M47B1")return{t:68.924428,b:B1,m:M47,mb:M47B1};if(o.tag==="M47B2")return{t:69.244217,b:B2,m:M47,mb:M47B2};if(o.tag==="M47B3")return{t:69.573796,b:B3,m:M47,mb:M47B3};if(o.tag==="M47B4")return{t:69.913165,b:B4,m:M47,mb:M47B4};if(o.tag==="M48B1")return{t:70.216638,b:B1,m:M48,mb:M48B1};if(o.tag==="M48B2")return{t:70.533165,b:B2,m:M48,mb:M48B2};if(o.tag==="M48B3")return{t:70.859481,b:B3,m:M48,mb:M48B3};if(o.tag==="M48B4")return{t:71.185796,b:B4,m:M48,mb:M48B4};if(o.tag==="M49B1")return{t:71.495796,b:B1,m:M49,mb:M49B1};if(o.tag==="M49B2")return{t:71.828639,b:B2,m:M49,mb:M49B2};if(o.tag==="M49B3")return{t:72.145165,b:B3,m:M49,mb:M49B3};if(o.tag==="M49B4")return{t:72.500849,b:B4,m:M49,mb:M49B4};if(o.tag==="M50B1")return{t:72.794533,b:B1,m:M50,mb:M50B1};if(o.tag==="M50B2")return{t:73.117586,b:B2,m:M50,mb:M50B2};if(o.tag==="M50B3")return{t:73.414534,b:B3,m:M50,mb:M50B3};if(o.tag==="M50B4")return{t:73.773481,b:B4,m:M50,mb:M50B4};if(o.tag==="M51B1")return{t:74.050849,b:B1,m:M51,mb:M51B1};if(o.tag==="M51B2")return{t:74.377165,b:B2,m:M51,mb:M51B2};if(o.tag==="M51B3")return{t:74.664323,b:B3,m:M51,mb:M51B3};if(o.tag==="M51B4")return{t:74.984113,b:B4,m:M51,mb:M51B4};if(o.tag==="M52B1")return{t:75.300639,b:B1,m:M52,mb:M52B1};if(o.tag==="M52B2")return{t:75.623692,b:B2,m:M52,mb:M52B2};if(o.tag==="M52B3")return{t:75.953271,b:B3,m:M52,mb:M52B3};if(o.tag==="M52B4")return{t:76.217586,b:B4,m:M52,mb:M52B4};if(o.tag==="M53B1")return{t:76.517797,b:B1,m:M53,mb:M53B1};if(o.tag==="M53B2")return{t:76.866955,b:B2,m:M53,mb:M53B2};if(o.tag==="M53B3")return{t:77.167165,b:B3,m:M53,mb:M53B3};if(o.tag==="M53B4")return{t:77.500008,b:B4,m:M53,mb:M53B4};if(o.tag==="M54B1")return{t:77.806744,b:B1,m:M54,mb:M54B1};if(o.tag==="M54B2")return{t:78.159166,b:B2,m:M54,mb:M54B2};if(o.tag==="M54B3")return{t:78.475692,b:B3,m:M54,mb:M54B3};if(o.tag==="M54B4")return{t:78.834639,b:B4,m:M54,mb:M54B4};if(o.tag==="M55B1")return{t:79.13485,b:B1,m:M55,mb:M55B1};if(o.tag==="M55B2")return{t:79.464429,b:B2,m:M55,mb:M55B2};if(o.tag==="M55B3")return{t:79.774429,b:B3,m:M55,mb:M55B3};if(o.tag==="M55B4")return{t:80.097482,b:B4,m:M55,mb:M55B4};if(o.tag==="M56B1")return{t:80.433587,b:B1,m:M56,mb:M56B1};if(o.tag==="M56B2")return{t:80.750113,b:B2,m:M56,mb:M56B2};if(o.tag==="M56B3")return{t:81.069903,b:B3,m:M56,mb:M56B3};if(o.tag==="M56B4")return{t:81.392955,b:B4,m:M56,mb:M56B4};if(o.tag==="M57B1")return{t:81.702955,b:B1,m:M57,mb:M57B1};if(o.tag==="M57B2")return{t:82.045587,b:B2,m:M57,mb:M57B2};if(o.tag==="M57B3")return{t:82.342534,b:B3,m:M57,mb:M57B3};if(o.tag==="M57B4")return{t:82.67864,b:B4,m:M57,mb:M57B4};if(o.tag==="M58B1")return{t:83.004956,b:B1,m:M58,mb:M58B1};if(o.tag==="M58B2")return{t:83.292113,b:B2,m:M58,mb:M58B2};if(o.tag==="M58B3")return{t:83.634745,b:B3,m:M58,mb:M58B3};if(o.tag==="M58B4")return{t:83.983903,b:B4,m:M58,mb:M58B4};if(o.tag==="M59B1")return{t:84.264535,b:B1,m:M59,mb:M59B1};if(o.tag==="M59B2")return{t:84.597377,b:B2,m:M59,mb:M59B2};if(o.tag==="M59B3")return{t:84.913903,b:B3,m:M59,mb:M59B3};if(o.tag==="M59B4")return{t:85.276114,b:B4,m:M59,mb:M59B4};if(o.tag==="M60B1")return{t:85.589377,b:B1,m:M60,mb:M60B1};if(o.tag==="M60B2")return{t:85.892851,b:B2,m:M60,mb:M60B2};if(o.tag==="M60B3")return{t:86.206114,b:B3,m:M60,mb:M60B3};if(o.tag==="M60B4")return{t:86.565061,b:B4,m:M60,mb:M60B4};if(o.tag==="M61B1")return{t:86.855482,b:B1,m:M61,mb:M61B1};if(o.tag==="M61B2")return{t:87.185061,b:B2,m:M61,mb:M61B2};if(o.tag==="M61B3")return{t:87.495061,b:B3,m:M61,mb:M61B3};if(o.tag==="M61B4")return{t:87.854009,b:B4,m:M61,mb:M61B4};if(o.tag==="M62B1")return{t:88.186851,b:B1,m:M62,mb:M62B1};if(o.tag==="M62B2")return{t:88.490324,b:B2,m:M62,mb:M62B2};if(o.tag==="M62B3")return{t:88.784009,b:B3,m:M62,mb:M62B3};if(o.tag==="M62B4")return{t:89.097272,b:B4,m:M62,mb:M62B4};if(o.tag==="M63B1")return{t:89.449693,b:B1,m:M63,mb:M63B1};if(o.tag==="M63B2")return{t:89.805377,b:B2,m:M63,mb:M63B2};if(o.tag==="M63B3")return{t:90.102325,b:B3,m:M63,mb:M63B3};if(o.tag==="M63B4")return{t:90.458009,b:B4,m:M63,mb:M63B4};if(o.tag==="M64B1")return{t:90.774535,b:B1,m:M64,mb:M64B1};if(o.tag==="M64B2")return{t:91.100851,b:B2,m:M64,mb:M64B2};if(o.tag==="M64B3")return{t:91.423904,b:B3,m:M64,mb:M64B3};if(o.tag==="M64B4")return{t:91.746956,b:B4,m:M64,mb:M64B4};if(o.tag==="M65B1")return{t:92.043904,b:B1,m:M65,mb:M65B1};if(o.tag==="M65B2")return{t:92.389799,b:B2,m:M65,mb:M65B2};if(o.tag==="M65B3")return{t:92.706325,b:B3,m:M65,mb:M65B3};if(o.tag==="M65B4")return{t:93.032641,b:B4,m:M65,mb:M65B4};if(o.tag==="M66B1")return{t:93.316535,b:B1,m:M66,mb:M66B1};if(o.tag==="M66B2")return{t:93.67222,b:B2,m:M66,mb:M66B2};if(o.tag==="M66B3")return{t:93.956114,b:B3,m:M66,mb:M66B3};if(o.tag==="M66B4")return{t:94.288957,b:B4,m:M66,mb:M66B4};if(o.tag==="M67B1")return{t:94.615272,b:B1,m:M67,mb:M67B1};if(o.tag==="M67B2")return{t:94.948115,b:B2,m:M67,mb:M67B2};if(o.tag==="M67B3")return{t:95.218957,b:B3,m:M67,mb:M67B3};if(o.tag==="M67B4")return{t:95.590957,b:B4,m:M67,mb:M67B4};if(o.tag==="M68B1")return{t:95.910746,b:B1,m:M68,mb:M68B1};if(o.tag==="M68B2")return{t:96.230536,b:B2,m:M68,mb:M68B2};if(o.tag==="M68B3")return{t:96.556852,b:B3,m:M68,mb:M68B3};if(o.tag==="M68B4")return{t:96.873378,b:B4,m:M68,mb:M68B4};if(o.tag==="M69B1")return{t:97.183378,b:B1,m:M69,mb:M69B1};if(o.tag==="M69B2")return{t:97.532536,b:B2,m:M69,mb:M69B2};if(o.tag==="M69B3")return{t:97.842536,b:B3,m:M69,mb:M69B3};if(o.tag==="M69B4")return{t:98.162325,b:B4,m:M69,mb:M69B4};if(o.tag==="M70B1")return{t:98.436431,b:B1,m:M70,mb:M70B1};if(o.tag==="M70B2")return{t:98.782325,b:B2,m:M70,mb:M70B2};if(o.tag==="M70B3")return{t:99.082536,b:B3,m:M70,mb:M70B3};if(o.tag==="M70B4")return{t:99.392536,b:B4,m:M70,mb:M70B4};if(o.tag==="M71B1")return{t:99.679694,b:B1,m:M71,mb:M71B1};if(o.tag==="M71B2")return{t:100.019062,b:B2,m:M71,mb:M71B2};if(o.tag==="M71B3")return{t:100.329062,b:B3,m:M71,mb:M71B3};if(o.tag==="M71B4")return{t:100.635799,b:B4,m:M71,mb:M71B4};if(o.tag==="M72B1")return{t:100.945799,b:B1,m:M72,mb:M72B1};if(o.tag==="M72B2")return{t:101.301484,b:B2,m:M72,mb:M72B2};if(o.tag==="M72B3")return{t:101.650642,b:B3,m:M72,mb:M72B3};if(o.tag==="M72B4")return{t:101.931273,b:B4,m:M72,mb:M72B4};if(o.tag==="M73B1")return{t:102.224957,b:B1,m:M73,mb:M73B1};if(o.tag==="M73B2")return{t:102.515378,b:B2,m:M73,mb:M73B2};if(o.tag==="M73B3")return{t:102.776431,b:B3,m:M73,mb:M73B3};if(o.tag==="M73B4")return{t:103.099484,b:B4,m:M73,mb:M73B4};if(o.tag==="M74B1")return{t:103.4878,b:B1,m:M74,mb:M74B1};if(o.tag==="M74B2")return{t:103.830431,b:B2,m:M74,mb:M74B2};if(o.tag==="M74B3")return{t:104.150221,b:B3,m:M74,mb:M74B3};if(o.tag==="M74B4")return{t:104.466747,b:B4,m:M74,mb:M74B4};if(o.tag==="M75B1")return{t:104.760431,b:B1,m:M75,mb:M75B1};if(o.tag==="M75B2")return{t:105.031273,b:B2,m:M75,mb:M75B2};if(o.tag==="M75B3")return{t:105.383695,b:B3,m:M75,mb:M75B3};if(o.tag==="M75B4")return{t:105.729589,b:B4,m:M75,mb:M75B4};if(o.tag==="M76B1")return{t:106.023274,b:B1,m:M76,mb:M76B1};if(o.tag==="M76B2")return{t:106.343063,b:B2,m:M76,mb:M76B2};if(o.tag==="M76B3")return{t:106.6498,b:B3,m:M76,mb:M76B3};if(o.tag==="M76B4")return{t:106.972853,b:B4,m:M76,mb:M76B4};if(o.tag==="M77B1")return{t:107.292642,b:B1,m:M77,mb:M77B1};if(o.tag==="M77B2")return{t:107.638537,b:B2,m:M77,mb:M77B2};if(o.tag==="M77B3")return{t:107.912642,b:B3,m:M77,mb:M77B3};if(o.tag==="M77B4")return{t:108.268326,b:B4,m:M77,mb:M77B4};if(o.tag==="M78B1")return{t:108.565274,b:B1,m:M78,mb:M78B1};if(o.tag==="M78B2")return{t:108.901379,b:B2,m:M78,mb:M78B2};if(o.tag==="M78B3")return{t:109.230958,b:B3,m:M78,mb:M78B3};if(o.tag==="M78B4")return{t:109.547484,b:B4,m:M78,mb:M78B4};if(o.tag==="M79B1")return{t:109.837906,b:B1,m:M79,mb:M79B1};if(o.tag==="M79B2")return{t:110.203379,b:B2,m:M79,mb:M79B2};if(o.tag==="M79B3")return{t:110.519906,b:B3,m:M79,mb:M79B3};if(o.tag==="M79B4")return{t:110.849485,b:B4,m:M79,mb:M79B4};if(o.tag==="M80B1")return{t:111.12359,b:B1,m:M80,mb:M80B1};if(o.tag==="M80B2")return{t:111.453169,b:B2,m:M80,mb:M80B2};if(o.tag==="M80B3")return{t:111.772958,b:B3,m:M80,mb:M80B3};if(o.tag==="M80B4")return{t:112.089485,b:B4,m:M80,mb:M80B4};if(o.tag==="M81B1")return{t:112.36359,b:B1,m:M81,mb:M81B1};if(o.tag==="M81B2")return{t:112.712748,b:B2,m:M81,mb:M81B2};if(o.tag==="M81B3")return{t:113.019485,b:B3,m:M81,mb:M81B3};if(o.tag==="M81B4")return{t:113.339274,b:B4,m:M81,mb:M81B4};if(o.tag==="M82B1")return{t:113.636222,b:B1,m:M82,mb:M82B1};if(o.tag==="M82B2")return{t:113.965801,b:B2,m:M82,mb:M82B2};if(o.tag==="M82B3")return{t:114.275801,b:B3,m:M82,mb:M82B3};if(o.tag==="M82B4")return{t:114.608643,b:B4,m:M82,mb:M82B4};if(o.tag==="M83B1")return{t:114.895801,b:B1,m:M83,mb:M83B1};if(o.tag==="M83B2")return{t:115.22538,b:B2,m:M83,mb:M83B2};if(o.tag==="M83B3")return{t:115.52559,b:B3,m:M83,mb:M83B3};if(o.tag==="M83B4")return{t:115.83559,b:B4,m:M83,mb:M83B4};if(o.tag==="M84B1")return{t:116.15538,b:B1,m:M84,mb:M84B1};if(o.tag==="M84B2")return{t:116.481696,b:B2,m:M84,mb:M84B2};if(o.tag==="M84B3")return{t:116.850433,b:B3,m:M84,mb:M84B3};fail$3()},tmpLeapScore=(()=>[{column:C7,hitsFirstPositionAt:mb2info(M16B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M18B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M20B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M21B1).t,position:Position4},{column:C7,hitsFirstPositionAt:mb2info(M22B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M23B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M24B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M25B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M26B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M26B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M27B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M27B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M29B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M29B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M30B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M30B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M31B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M32B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M33B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M34B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M35B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M36B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M37B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M38B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M39B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M40B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M41B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M42B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M43B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M44B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M45B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M46B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M47B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M48B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M49B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M50B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M51B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M51B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M51B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M51B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M55B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M55B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M55B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M55B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M59B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M59B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M59B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M59B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M63B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M63B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M63B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M63B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M67B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M67B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M67B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M67B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M71B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M71B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M71B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M71B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M75B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M75B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M75B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M75B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M79B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M79B1).t,position:Position1},{column:C3,hitsFirstPositionAt:mb2info(M83B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M83B1).t,position:Position1}])(),tmpLongScore=(()=>[{column:C10,hitsFirstPositionAt:mb2info(M29B1).t,length:1.25,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M33B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M36B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M39B1).t,length:1.5,tag:"shakuhachi3"},{column:C10,hitsFirstPositionAt:mb2info(M42B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M45B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M48B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M51B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M53B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M55B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M57B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M59B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M61B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M63B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M65B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M67B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M69B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M72B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M75B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M78B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M81B1).t,length:1.75,tag:"shakuhachi0"}])(),beats2=[$Tuple(C6,$Tuple(M1B1,$Tuple(M2B1,$Tuple(M3B1,M4B1)))),$Tuple(C9,$Tuple(M5B1,$Tuple(M6B1,$Tuple(M7B1,M8B1)))),$Tuple(C6,$Tuple(M9B1,$Tuple(M10B1,$Tuple(M11B1,M12B1)))),$Tuple(C4,$Tuple(M10B1,$Tuple(M11B1,$Tuple(M12B1,M13B1)))),$Tuple(C6,$Tuple(M11B1,$Tuple(M12B1,$Tuple(M13B1,M14B1)))),$Tuple(C9,$Tuple(M12B1,$Tuple(M13B1,$Tuple(M14B1,M15B1)))),$Tuple(C11,$Tuple(M13B1,$Tuple(M14B1,$Tuple(M15B1,M16B1)))),$Tuple(C9,$Tuple(M14B1,$Tuple(M15B1,$Tuple(M16B1,M17B1)))),$Tuple(C6,$Tuple(M15B1,$Tuple(M16B1,$Tuple(M17B1,M18B1)))),$Tuple(C4,$Tuple(M16B1,$Tuple(M17B1,$Tuple(M18B1,M19B1)))),$Tuple(C6,$Tuple(M17B1,$Tuple(M18B1,$Tuple(M19B1,M20B1)))),$Tuple(C9,$Tuple(M18B1,$Tuple(M19B1,$Tuple(M20B1,M21B1)))),$Tuple(C11,$Tuple(M19B1,$Tuple(M20B1,$Tuple(M21B1,M22B1)))),$Tuple(C9,$Tuple(M20B1,$Tuple(M21B1,$Tuple(M22B1,M23B1)))),$Tuple(C6,$Tuple(M21B1,$Tuple(M22B1,$Tuple(M23B1,M24B1)))),$Tuple(C4,$Tuple(M22B1,$Tuple(M23B1,$Tuple(M24B1,M25B1)))),$Tuple(C6,$Tuple(M23B1,$Tuple(M24B1,$Tuple(M25B1,M26B1)))),$Tuple(C9,$Tuple(M24B1,$Tuple(M25B1,$Tuple(M26B1,M27B1)))),$Tuple(C4,$Tuple(M24B3,$Tuple(M25B3,$Tuple(M26B3,M27B3)))),$Tuple(C6,$Tuple(M25B1,$Tuple(M26B1,$Tuple(M27B1,M28B1)))),$Tuple(C11,$Tuple(M25B3,$Tuple(M26B3,$Tuple(M27B3,M28B3)))),$Tuple(C9,$Tuple(M26B1,$Tuple(M27B1,$Tuple(M28B1,M29B1)))),$Tuple(C4,$Tuple(M26B3,$Tuple(M27B3,$Tuple(M28B3,M29B3)))),$Tuple(C6,$Tuple(M27B1,$Tuple(M28B1,$Tuple(M29B1,M30B1)))),$Tuple(C11,$Tuple(M27B3,$Tuple(M28B3,$Tuple(M29B3,M30B3)))),$Tuple(C9,$Tuple(M28B1,$Tuple(M29B1,$Tuple(M30B1,M31B1)))),$Tuple(C4,$Tuple(M28B3,$Tuple(M29B3,$Tuple(M30B3,M31B3)))),$Tuple(C6,$Tuple(M29B1,$Tuple(M30B1,$Tuple(M31B1,M32B1)))),$Tuple(C11,$Tuple(M29B3,$Tuple(M30B3,$Tuple(M31B3,M32B3)))),$Tuple(C9,$Tuple(M30B1,$Tuple(M31B1,$Tuple(M32B1,M33B1)))),$Tuple(C4,$Tuple(M30B3,$Tuple(M31B3,$Tuple(M32B3,M33B3)))),$Tuple(C6,$Tuple(M31B1,$Tuple(M32B1,$Tuple(M33B1,M34B1)))),$Tuple(C11,$Tuple(M31B3,$Tuple(M32B3,$Tuple(M33B3,M34B3)))),$Tuple(C9,$Tuple(M32B1,$Tuple(M33B1,$Tuple(M34B1,M35B1)))),$Tuple(C4,$Tuple(M33B1,$Tuple(M33B3,$Tuple(M34B1,M34B3)))),$Tuple(C6,$Tuple(M34B1,$Tuple(M35B1,$Tuple(M36B1,M37B1)))),$Tuple(C11,$Tuple(M35B1,$Tuple(M35B3,$Tuple(M36B1,M37B3)))),$Tuple(C4,$Tuple(M36B1,$Tuple(M37B1,$Tuple(M38B1,M39B1)))),$Tuple(C9,$Tuple(M37B1,$Tuple(M37B3,$Tuple(M38B1,M38B3)))),$Tuple(C11,$Tuple(M38B1,$Tuple(M39B1,$Tuple(M40B1,M41B1)))),$Tuple(C6,$Tuple(M39B1,$Tuple(M39B3,$Tuple(M40B1,M40B3)))),$Tuple(C1,$Tuple(M40B1,$Tuple(M42B1,$Tuple(M44B1,M46B1)))),$Tuple(C9,$Tuple(M40B1,$Tuple(M41B1,$Tuple(M42B1,M43B1)))),$Tuple(C4,$Tuple(M41B1,$Tuple(M41B3,$Tuple(M42B1,M42B3)))),$Tuple(C6,$Tuple(M42B1,$Tuple(M43B1,$Tuple(M44B1,M45B1)))),$Tuple(C11,$Tuple(M43B1,$Tuple(M43B3,$Tuple(M44B1,M44B3)))),$Tuple(C15,$Tuple(M44B1,$Tuple(M46B1,$Tuple(M48B1,M50B1)))),$Tuple(C4,$Tuple(M44B1,$Tuple(M45B1,$Tuple(M46B1,M47B1)))),$Tuple(C9,$Tuple(M45B1,$Tuple(M45B3,$Tuple(M46B1,M46B3)))),$Tuple(C11,$Tuple(M46B1,$Tuple(M47B1,$Tuple(M48B1,M49B1)))),$Tuple(C6,$Tuple(M47B1,$Tuple(M47B3,$Tuple(M48B1,M49B3)))),$Tuple(C9,$Tuple(M48B1,$Tuple(M48B3,$Tuple(M49B1,M49B3)))),$Tuple(C6,$Tuple(M48B2,$Tuple(M48B4,$Tuple(M49B2,M49B4)))),$Tuple(C9,$Tuple(M48B3,$Tuple(M49B1,$Tuple(M49B3,M50B1)))),$Tuple(C6,$Tuple(M48B4,$Tuple(M49B2,$Tuple(M49B4,M50B2)))),$Tuple(C9,$Tuple(M49B1,$Tuple(M49B3,$Tuple(M50B1,M50B3)))),$Tuple(C6,$Tuple(M49B2,$Tuple(M49B4,$Tuple(M50B2,M50B4)))),$Tuple(C9,$Tuple(M49B3,$Tuple(M50B1,$Tuple(M50B3,M51B1)))),$Tuple(C6,$Tuple(M49B4,$Tuple(M50B2,$Tuple(M50B4,M51B2)))),$Tuple(C9,$Tuple(M50B1,$Tuple(M50B3,$Tuple(M51B1,M51B3)))),$Tuple(C6,$Tuple(M50B2,$Tuple(M50B4,$Tuple(M51B2,M51B4)))),$Tuple(C9,$Tuple(M50B3,$Tuple(M51B1,$Tuple(M51B3,M52B1)))),$Tuple(C6,$Tuple(M50B4,$Tuple(M51B2,$Tuple(M51B4,M52B2)))),$Tuple(C9,$Tuple(M51B1,$Tuple(M51B3,$Tuple(M52B1,M52B3)))),$Tuple(C6,$Tuple(M51B2,$Tuple(M51B4,$Tuple(M52B2,M52B4)))),$Tuple(C9,$Tuple(M51B3,$Tuple(M52B1,$Tuple(M52B3,M53B1)))),$Tuple(C6,$Tuple(M51B4,$Tuple(M52B2,$Tuple(M52B4,M53B2)))),$Tuple(C9,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C11,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C6,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C4,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C9,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C11,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C6,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C4,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C1,$Tuple(M56B1,$Tuple(M57B1,$Tuple(M58B1,M59B1)))),$Tuple(C9,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M56B3,M56B4)))),$Tuple(C11,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M57B3,M57B4)))),$Tuple(C6,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C4,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C15,$Tuple(M58B1,$Tuple(M59B1,$Tuple(M60B1,M61B1)))),$Tuple(C9,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C11,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C6,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C4,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C11,$Tuple(M60B1,$Tuple(M60B2,$Tuple(M60B3,M60B4)))),$Tuple(C9,$Tuple(M60B2,$Tuple(M60B3,$Tuple(M60B4,M61B1)))),$Tuple(C6,$Tuple(M61B1,$Tuple(M61B2,$Tuple(M61B3,M61B4)))),$Tuple(C4,$Tuple(M61B2,$Tuple(M61B3,$Tuple(M61B4,M62B1)))),$Tuple(C11,$Tuple(M62B1,$Tuple(M62B2,$Tuple(M62B3,M63B1)))),$Tuple(C9,$Tuple(M62B2,$Tuple(M62B3,$Tuple(M62B4,M63B3)))),$Tuple(C6,$Tuple(M63B1,$Tuple(M63B2,$Tuple(M63B3,M63B4)))),$Tuple(C4,$Tuple(M63B2,$Tuple(M63B3,$Tuple(M63B4,M64B3)))),$Tuple(C11,$Tuple(M64B1,$Tuple(M64B2,$Tuple(M64B3,M64B4)))),$Tuple(C9,$Tuple(M64B2,$Tuple(M64B3,$Tuple(M64B4,M65B1)))),$Tuple(C6,$Tuple(M65B1,$Tuple(M65B2,$Tuple(M65B3,M65B4)))),$Tuple(C4,$Tuple(M65B2,$Tuple(M65B3,$Tuple(M65B4,M66B1)))),$Tuple(C11,$Tuple(M66B1,$Tuple(M66B2,$Tuple(M66B3,M67B1)))),$Tuple(C9,$Tuple(M66B2,$Tuple(M66B3,$Tuple(M66B4,M67B3)))),$Tuple(C6,$Tuple(M67B1,$Tuple(M67B2,$Tuple(M67B3,M67B4)))),$Tuple(C4,$Tuple(M67B2,$Tuple(M67B3,$Tuple(M67B4,M68B1)))),$Tuple(C4,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C6,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C9,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C11,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C4,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C6,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C9,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C11,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C4,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C6,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C9,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C11,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C4,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C6,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C9,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C11,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C4,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C6,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C9,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C11,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C4,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C6,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C9,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C11,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C4,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C6,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C9,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C11,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C4,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C6,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C9,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C11,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C4,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C6,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C9,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C11,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C4,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C6,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C9,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C11,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C4,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C6,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C9,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C11,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C4,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C6,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C9,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C11,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C4,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C6,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C9,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C11,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C4,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C6,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C9,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C11,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C4,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C6,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C9,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C11,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C4,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C9,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C6,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C11,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C6,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C9,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C6,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C9,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C6,$Tuple(M80B1,$Tuple(M80B3,$Tuple(M81B1,M81B3)))),$Tuple(C9,$Tuple(M81B1,$Tuple(M81B3,$Tuple(M82B1,M82B3)))),$Tuple(C6,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3)))),$Tuple(C9,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3))))],tutorialScore=toAugmentedEvents(arrayMap(EventV0)(arrayBind([arrayMap(o=>$EventV0("BasicEventV0",{marker1AudioURL:Nothing,marker1Time:mb2info(o._2._1).t,marker2AudioURL:Nothing,marker2Time:mb2info(o._2._2._1).t,marker3AudioURL:Nothing,marker3Time:mb2info(o._2._2._2._1).t,marker4AudioURL:Nothing,marker4Time:mb2info(o._2._2._2._2).t,name:Nothing,column:semigroupColumn.append(o._1)(C1),version:$Version(0)}))(beats2),arrayMap(o=>$EventV0("LeapEventV0",{audioURL:$Maybe("Just","floorTom"),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,position:o.position,version:$Version(0)}))(tmpLeapScore),arrayMap(o=>$EventV0("LongEventV0",{audioURL:$Maybe("Just",o.tag),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,length:o.length,version:$Version(0)}))(tmpLongScore)])(identity$u))),$TopLevelDisplay=(o,u,f)=>({tag:o,_1:u,_2:f}),biSampleOn=biSampleOn$4(eventIsEvent),startingWith=o=>u=>(f,d)=>{const m=applicativeEvent.pure(o)(f,d),h=u(f,d);return()=>(m(),h())},TLWillNotWorkWithoutOrientation=$TopLevelDisplay("TLWillNotWorkWithoutOrientation"),TLLoading=$TopLevelDisplay("TLLoading"),TLGameHasStarted=$TopLevelDisplay("TLGameHasStarted"),TLRoomIsFull=$TopLevelDisplay("TLRoomIsFull"),eqTopLevelDisplay={eq:o=>u=>o.tag==="TLExplainer"?u.tag==="TLExplainer":o.tag==="TLLoading"?u.tag==="TLLoading":o.tag==="TLRoomIsFull"?u.tag==="TLRoomIsFull":o.tag==="TLGameHasStarted"?u.tag==="TLGameHasStarted":o.tag==="TLSuccess"?u.tag==="TLSuccess":!1},toplevel=o=>switcher(u=>{if(u.tag==="TLNeedsOrientation")return orientationPermissionPage({givePermission:o.givePermission,rideTrack:u._1});if(u.tag==="TLChooseRide")return availableRides({availableRides:u._1,navigateTo:u._2});if(u.tag==="TLSettings")return settings(u._1);if(u.tag==="TLWillNotWorkWithoutOrientation")return sorryNeedPermissionPage;if(u.tag==="TLExplainer")return explainerPage({ride:o.ride,editor:o.editor,tutorial:o.tutorial,isMobile:o.isMobile,cnow:u._1.cNow,signOut:u._1.signOut,resizeE:o.resizeE,initialDims:u._1.initialDims,fbAuth:u._1.fbAuth,firestoreDb:u._1.firestoreDb,threeDI:u._1.threeDI,cubeTextures:u._1.cubeTextures,signedInNonAnonymously:u._1.signedInNonAnonymously});if(u.tag==="TLOpenEditor")return editorPage(o)(u._1.oe)(u._1.wt);if(u.tag==="TLLoading")return loadingPage;if(u.tag==="TLRoomIsFull")return roomIsFull;if(u.tag==="TLGameHasStarted")return gameHasStarted;if(u.tag==="TLWantsTutorial")return tutorial$1(o)({basicE:rideBasics(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),leapE:rideLeaps(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),longE:rideLongs(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),baseFileOffsetInSeconds:0,bgtrack:"tutorial",isPreviewPage:Nothing})(u._1);if(u.tag==="TLSuccess")return ride(o)({basicE:rideBasics(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),leapE:rideLeaps(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),longE:rideLongs(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),bgtrack:u._1.track._1.url,baseFileOffsetInSeconds:0})(u._1);fail$3()})(dedup(eqTopLevelDisplay)((()=>{const u=biSampleOn(startingWith(PageLoad)(o.negotiation))((f,d)=>startingWith(!1)(o.loaded)(f,m=>d(h=>({loaded:m,negotiation:h}))));return(f,d)=>u(f,m=>{const h=(()=>{if(m.negotiation.tag==="NeedsOrientation")return $TopLevelDisplay("TLNeedsOrientation",m.negotiation._1);if(m.negotiation.tag==="WillNotWorkWithoutOrientation")return TLWillNotWorkWithoutOrientation;if(m.negotiation.tag==="GetRulesOfGame")return $TopLevelDisplay("TLExplainer",m.negotiation._1);if(m.negotiation.tag==="SetSomeStuff")return $TopLevelDisplay("TLSettings",m.negotiation._1);if(m.negotiation.tag==="ChooseRide")return $TopLevelDisplay("TLChooseRide",m.negotiation._1,m.negotiation._2);if(!m.loaded||m.negotiation.tag==="PageLoad"||m.negotiation.tag==="StartingNegotiation")return TLLoading;if(m.negotiation.tag==="RoomIsFull")return TLRoomIsFull;if(m.negotiation.tag==="GameHasStarted")return TLGameHasStarted;if(m.negotiation.tag==="RequestingPlayer"||m.negotiation.tag==="ReceivedPossibilities")return TLLoading;if(m.negotiation.tag==="ClaimFail")return TLRoomIsFull;if(m.loaded){if(m.negotiation.tag==="Success")return $TopLevelDisplay("TLSuccess",m.negotiation._1);if(m.negotiation.tag==="WantsTutorial")return $TopLevelDisplay("TLWantsTutorial",m.negotiation._1);if(m.negotiation.tag==="OpenEditor")return $TopLevelDisplay("TLOpenEditor",m.negotiation._1);fail$3()}fail$3()})();return d(h)})})())),writeToRecordImpl=function(o){return function(u){return function(f){return function(){f.value[o]=u}}}},readFromRecordImpl=function(o){return function(u){return function(){return u.value[o]}}},traverse_$2=traverse_$9(applicativeEffect)(foldableMaybe),mempty=o=>()=>unit,burningWhenHot=()=>{const o={value:[]},u={value:Nothing};return{event:backdoor.makeEvent(f=>()=>{const d={value:f},m=o.value;return o.value=concatArray(m)([d]),bindE(()=>u.value)(traverse_$2(f))(),()=>{d.value=mempty;const h=o.value;return o.value=deleteBy(reallyUnsafeRefEq)(d)(h),unit}}),push:f=>()=>{u.value=$Maybe("Just",f);const d=o.value;return foreachE(d)(m=>()=>{const h=m.value;return h(f)()})()}}};function code(o){return o.code}const traverse_$1=traverse_$9(applicativeEffect)(foldableMaybe),posFromKeypress=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just"){const f=o.dampening*pow((u-o.time._1)*.001)(2)/2;if(o.curXDir.tag==="Still")return o.pos;if(o.curXDir.tag==="ToLeft")return-2*f+o.pos;if(o.curXDir.tag==="ToRight")return 2*f+o.pos;fail$3()}fail$3()},xForKeyboard=o=>u=>f=>d=>()=>{const m=create(),h={value:{curXDir:Still,time:Nothing,pos:0,dampening:.77}},b=w=>eventListener((()=>{const M=traverse_$1($=>{const g=code($),v=(()=>w?Still:g==="ArrowLeft"?ToLeft:ToRight)();return g==="ArrowLeft"||g==="ArrowRight"?()=>{const k=o(),C=h.value,S=h.value=(()=>(()=>C.curXDir.tag==="ToLeft"?v.tag==="ToLeft":C.curXDir.tag==="ToRight"?v.tag==="ToRight":C.curXDir.tag==="Still"?v.tag==="Still":!1)()?C:{curXDir:v,time:$Maybe("Just",k),pos:posFromKeypress(C)(k),dampening:C.dampening})();return m.push(S)(),d($PlayerAction("XPositionKeyboard",{ktpd:S,player:f}))()}:()=>unit});return $=>M(_unsafeReadProtoTagged(Nothing,Just,"KeyboardEvent",$))})()),y=b(!1)(),_=b(!0)();return addEventListener("keydown")(y)(!0)(u)(),addEventListener("keyup")(_)(!0)(u)(),(w,M)=>m.event(w,$=>M(g=>posFromKeypress($)(g.epochTime)))},firebaseAnalytics=o=>()=>__vitePreload(()=>import("./index.esm.1b33aa2a.js"),["assets/index.esm.1b33aa2a.js","assets/index.esm2017.ebad5f40.js","assets/index.esm2017.f5cc3b43.js"]).then(({getAnalytics:u})=>u(o)),firebaseCloudMessaging=o=>()=>__vitePreload(()=>import("./index.esm.b8cb379e.js"),["assets/index.esm.b8cb379e.js","assets/index.esm2017.f5cc3b43.js","assets/index.esm2017.ebad5f40.js"]).then(({getMessaging:u})=>u(o)),firebaseConfig={apiKey:"AIzaSyBwnikO21-Mmj0WKLEwLYQ801X5MsJkmCw",authDomain:"joyri-de.firebaseapp.com",projectId:"joyri-de",storageBucket:"joyri-de.appspot.com",messagingSenderId:"58052920677",databaseURL:"https://joyri-de-default-rtdb.europe-west1.firebasedatabase.app/",appId:"1:58052920677:web:7bd22ca2a8b3e0423e8d8c",measurementId:"G-G6P7FY8QWJ"},firebaseApp=()=>__vitePreload(()=>import("./index.esm.9974ce22.js"),["assets/index.esm.9974ce22.js","assets/index.esm2017.ebad5f40.js"]).then(({initializeApp:o})=>o(firebaseConfig)),firebaseAppAff=_bind(_liftEffect(firebaseApp))(toAff$p(coerce)),$ParFold=()=>({tag:"ParFold"}),ParFold=$ParFold(),foldingWithIndexParFoldPr=()=>o=>()=>({foldingWithIndex:u=>f=>d=>m=>_parAffApply(_parAffMap(insert(o)()()(f))(m))(d)}),guiImpl=()=>__vitePreload(()=>import("./lil-gui.esm.47a06ea7.js"),[]).then(o=>new o.default),mockGui=()=>({add:()=>{},addColor:()=>{}}),linkUpGuiImpl=o=>u=>()=>{const f={value:{}},d=f.value;for(const[m,h]of Object.entries(u))h.type==="slider"?(d[m]=h.v.default,o.add(d,m,h.v.min,h.v.max,h.v.step)):h.type==="numeric"||h.type==="checkbox"?(d[m]=h.v,o.add(d,m)):h.type==="color"&&(d[m]=h.v,o.addColor(d,m));return f},$Guiables=()=>({tag:"Guiables"}),$Tuple1=()=>({tag:"Tuple1"}),writeImpl=(()=>{const o=consWriteForeignFields$1({reflectSymbol:()=>"type"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"v"})((()=>{const u=consWriteForeignFields$1({reflectSymbol:()=>"default"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"max"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"min"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"step"})(writeForeignNumber)(nilWriteForeignFields)()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),Tuple1=$Tuple1(),Guiables=$Guiables(),mappingTuple2={mapping:o=>snd},mappingTuple1={mapping:o=>fst},guiableSlider={guiable:o=>$Tuple(writeImpl({type:"slider",v:o}),o.default)},gui$p=o=>u=>f=>d=>m=>_bind(d)(h=>_liftEffect(linkUpGuiImpl(h)(u.hmap(Tuple1)(o.hmap(Guiables)(m))))),noGui=o=>u=>f=>d=>_map(m=>({debug:!1,renderingInfo:m}))(gui$p(o)(u)(f)(_liftEffect(mockGui))(d)),gui=o=>u=>f=>d=>_map(m=>({debug:!0,renderingInfo:m}))(gui$p(o)(u)(f)(_bind(_liftEffect(guiImpl))(toAff$p(coerce)))(d)),parTraverse$1=(()=>{const o=traversableList.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),sequence$1=(()=>traversableTuple.sequence(applicativeAff))(),fromFoldable$1=fromFoldable$8(foldableList),dlInChunks=o=>u=>f=>d=>m=>{const h=b=>y=>{const _=span(w=>w._1<b)(y);return _bind(parTraverse$1((()=>{const w=functorTuple.map((()=>{const M=_throwError(error$1("Could not download file"));return $=>{const g=_lookup(Nothing,Just,$,o);if(g.tag==="Nothing")return M;if(g.tag==="Just")return decodeAudioDataFromUri(d)(g._1);fail$3()}})());return M=>sequence$1(w(M))})())(listMap(w=>$Tuple(w._2._1,w._2._2))(_.init)))(w=>_bind(_liftEffect((()=>{const M=union(fromFoldable$1(w));return()=>{const $=m.value;return m.value=M($),unit}})()))(()=>{const M=h(b+u|0)(_.rest);return _.rest.tag!=="Nil"?M:_pure(unit)}))};return h(u)(foldableWithIndexList.foldrWithIndex(b=>y=>_=>$List("Cons",$Tuple(b,y),_))(Nil)(f))},sfc32=o=>{let u=o.a,f=o.b,d=o.c,m=o.d;u>>>=0,f>>>=0,d>>>=0,m>>>=0;var h=u+f|0;return u=f^f>>>9,f=d+(d<<3)|0,d=d<<21|d>>>11,m=m+1|0,h=h+m|0,d=d+h|0,{r:(h>>>0)/4294967296,a:u,b:f,c:d,d:m}},cyrb128=o=>{let u=1779033703,f=3144134277,d=1013904242,m=2773480762;for(let h=0,b;h<o.length;h++)b=o.charCodeAt(h),u=f^Math.imul(u^b,597399067),f=d^Math.imul(f^b,2869860233),d=m^Math.imul(d^b,951274213),m=u^Math.imul(m^b,2716044179);return u=Math.imul(d^u>>>18,597399067),f=Math.imul(m^f>>>22,2869860233),d=Math.imul(u^d>>>17,951274213),m=Math.imul(f^m>>>19,2716044179),{a:(u^f^d^m)>>>0,b:(f^u)>>>0,c:(d^u)>>>0,d:(m^u)>>>0}},fold=(()=>foldableArray.foldMap(monoidString)(identity$s))(),sequence=(()=>traversableArray.traverse(applicativeEffect)(identity$q))(),randId$p=o=>{const u=sequence(replicate$1(o)((()=>{const f=randomInt(0)(9);return()=>{const d=f();return showIntImpl(d)}})()));return()=>{const f=u();return fold(f)}},randId=randId$p(32),bufferAttributesImpl=o=>u=>f=>d=>m=>{const h={};for(let _=0;_<u.length;_++)h[u[_].k]=new Float32Array(o*u[_].n);let b=d;for(let _=0;_<o;_++){const w=m(_)(b),M=w.l;b=w.r;for(let $=0;$<u.length;$++){const g=u[$].k,v=u[$].n,k=_*v;for(let C=0;C<v;C++)h[g][k+C]=M[g][C]}}const y={};for(let _=0;_<u.length;_++)y[u[_].k]=new f(h[u[_].k],u[_].n);return y},instancedBufferAttributes1={internalDoNotUseBA:o=>$Tuple([],$$Proxy)},instancedBufferAttributes2=o=>u=>f=>({internalDoNotUseBA:d=>$Tuple(concatArray([{k:u.reflectSymbol($$Proxy),n:f.reflectType($$Proxy)}])(o.internalDoNotUseBA($$Proxy)._1),$$Proxy)}),instancedBufferAttributes$1=o=>()=>()=>u=>f=>d=>m=>h=>bufferAttributesImpl(o.reflectType(f))(u.internalDoNotUseBA($$Proxy)._1)(d)(m)(b=>{const y=h(b);return _=>{const w=y(_);return{l:w._1,r:w._2}}}),Reflectable$Dict={reflectType:()=>3},instancedBufferAttributes=instancedBufferAttributes$1({reflectType:()=>2e3})()()(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes1)({reflectSymbol:()=>"aPosition2"})(Reflectable$Dict))({reflectSymbol:()=>"aPosition"})(Reflectable$Dict))({reflectSymbol:()=>"aColor2"})(Reflectable$Dict))({reflectSymbol:()=>"aColor"})(Reflectable$Dict)),makeGalaxyAttributes=o=>instancedBufferAttributes($$Proxy)(o)(cyrb128("galaxy"))(u=>f=>{const d=sfc32(sfc32(sfc32(f))),m=sfc32(d),h=sfc32(m),b=sfc32(h),y=sfc32(b),_=sfc32(y),w=sfc32(_),M=sfc32(w),$=sfc32(M),g=sfc32($),v=sfc32(g),k=sfc32(v);return $Tuple({aPosition:[d.r*2-1,h.r*2-1,y.r*2-1],aPosition2:[m.r*2-1,b.r*2-1,_.r*2-1],aColor:[w.r,$.r,v.r],aColor2:[M.r,g.r,k.r]},unsafeDelete("r")(k))});var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(o){return typeof o=="string"&&REGEX.test(o)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(byteToHex[o[u+0]]+byteToHex[o[u+1]]+byteToHex[o[u+2]]+byteToHex[o[u+3]]+"-"+byteToHex[o[u+4]]+byteToHex[o[u+5]]+"-"+byteToHex[o[u+6]]+byteToHex[o[u+7]]+"-"+byteToHex[o[u+8]]+byteToHex[o[u+9]]+"-"+byteToHex[o[u+10]]+byteToHex[o[u+11]]+byteToHex[o[u+12]]+byteToHex[o[u+13]]+byteToHex[o[u+14]]+byteToHex[o[u+15]]).toLowerCase();if(!validate(f))throw TypeError("Stringified UUID is invalid");return f}function v4(o,u,f){o=o||{};var d=o.random||(o.rng||rng)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u){f=f||0;for(var m=0;m<16;++m)u[f+m]=d[m];return u}return stringify(d)}const _PubNub=()=>__vitePreload(()=>import("./pubnub.min.b544f7dd.js").then(o=>o.p),[]),pubnub_=o=>u=>f=>function(){var d=v4(),m=new o.default({publishKey:"pub-c-672671ca-ea5d-4c31-9bbf-1c123cddfa2b",subscribeKey:"sub-c-9e61eeea-570c-48cd-8088-ad367df0dcf7",uuid:d});return m.subscribe({channels:[u]}),m.addListener({message:function(h){var b=Object.assign({},h);b.timetoken=parseInt(b.timetoken)/1e4,b.publisher!==d&&f(b)()}}),m},publish_=o=>function(u){return function(f){return function(){o.publish({channel:u,message:f})}}},messageIsSymbol={reflectSymbol:()=>"message"},actionIsSymbol={reflectSymbol:()=>"action"},iAmIsSymbol={reflectSymbol:()=>"iAm"},publisherIsSymbol={reflectSymbol:()=>"publisher"},timetokenIsSymbol={reflectSymbol:()=>"timetoken"},show=(()=>showNonEmptyList$1(showForeignError).show)(),recordWriteForeign1=(()=>{const o=consWriteForeignFields$1(actionIsSymbol)(fromJSONPubNubPlayerAction)(consWriteForeignFields$1(iAmIsSymbol)(writeForeignString)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),toJSONPubNubEvent=readRecord()(readFieldsCons$1(messageIsSymbol)(readRecord()(readFieldsCons$1(actionIsSymbol)(toJSONPubNubPlayerAction)(readFieldsCons$1(iAmIsSymbol)(readString)(readFieldsNil)()())()()))(readFieldsCons$1(publisherIsSymbol)(readString)(readFieldsCons$1(timetokenIsSymbol)(readNumber)(readFieldsNil)()())()())()()),pubnubE=o=>u=>f=>pubnub_(o)(u)(d=>bindE((()=>{const m=toJSONPubNubEvent.readImpl(d);if(m.tag==="Left")return throwException(error$1(show(m._1)));if(m.tag==="Right")return()=>m._1;fail$3()})())(f)),pubnub=o=>u=>_bind(_bind(_liftEffect(_PubNub))(toAff$p(coerce)))(f=>_bind(_liftEffect(create))(d=>_bind(_liftEffect(pubnubE(f)(u)(m=>d.push(m))))(m=>_pure({event:d.event,publish:h=>publish_(m)(u)(recordWriteForeign1.writeImpl({iAm:o,action:h}))})))),loader$1=o=>()=>new o,load$1=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff$1=o=>u=>makeAff(f=>{const d=load$1(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),loadAffRecord=o=>u=>loadAff$1(o)([u.right,u.left,u.top,u.bottom,u.front,u.back]),css2DRenderer=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DRenderer),css3DRenderer=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DRenderer),css2DObject=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DObject),css3DObject=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DObject),vector2=()=>__vitePreload(()=>import("./Vector2.3964b2c2.js"),[]).then(o=>o.Vector2),vector3=()=>__vitePreload(()=>import("./Vector3.5db2ef2e.js").then(o=>o.a),["assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Vector3),textureLoader=()=>__vitePreload(()=>import("./TextureLoader.60cda0eb.js"),["assets/TextureLoader.60cda0eb.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.TextureLoader),gltfLoader=()=>__vitePreload(()=>import("./GLTFLoader.3cfb26be.js"),["assets/GLTFLoader.3cfb26be.js","assets/three.module.81fc2a6a.js"]).then(o=>o.GLTFLoader),cubeTextureLoader=()=>__vitePreload(()=>import("./CubeTextureLoader.a71be225.js"),["assets/CubeTextureLoader.a71be225.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/CubeTexture.575c92d6.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.CubeTextureLoader),euler=()=>__vitePreload(()=>import("./Euler.d28ed76f.js"),["assets/Euler.d28ed76f.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js"]).then(o=>o.Euler),matrix4=()=>__vitePreload(()=>import("./Matrix4.0c7a2215.js"),["assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Matrix4),color=()=>__vitePreload(()=>import("./Color.5efc95ab.js"),["assets/Color.5efc95ab.js","assets/MathUtils.9169ae61.js","assets/constants.cc13e4fd.js"]).then(o=>o.Color),scene=()=>__vitePreload(()=>import("./Scene.5ac5f5be.js"),["assets/Scene.5ac5f5be.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Scene),group=()=>__vitePreload(()=>import("./Group.157021da.js"),["assets/Group.157021da.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Group),webGLRenderer=()=>__vitePreload(()=>import("./WebGLRenderer.16b7d376.js"),["assets/WebGLRenderer.16b7d376.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Frustum.21d548b8.js","assets/Vector3.5db2ef2e.js","assets/Sphere.bf80223e.js","assets/Matrix3.254ef6d6.js","assets/Matrix4.0c7a2215.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Color.5efc95ab.js","assets/Object3D.d81adcf4.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/utils.4cfc5b76.js","assets/PlaneGeometry.94665e38.js","assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/Mesh.53231fd1.js","assets/Ray.14000e07.js","assets/Texture.fb44cc87.js","assets/PerspectiveCamera.3def8065.js","assets/CubeTexture.575c92d6.js","assets/Group.157021da.js"]).then(o=>o.WebGLRenderer),mesh=()=>__vitePreload(()=>import("./Mesh.53231fd1.js").then(o=>o.b),["assets/Mesh.53231fd1.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Mesh),instancedMesh=()=>__vitePreload(()=>import("./InstancedMesh.016527f5.js"),["assets/InstancedMesh.016527f5.js","assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Mesh.53231fd1.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/BufferGeometry.d5615ad3.js","assets/utils.4cfc5b76.js"]).then(o=>o.InstancedMesh),meshStandardMaterial=()=>__vitePreload(()=>import("./MeshStandardMaterial.6787a3d9.js"),["assets/MeshStandardMaterial.6787a3d9.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshStandardMaterial),pointLight=()=>__vitePreload(()=>import("./PointLight.acc28636.js"),["assets/PointLight.acc28636.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/Frustum.21d548b8.js","assets/Sphere.bf80223e.js","assets/PerspectiveCamera.3def8065.js"]).then(o=>o.PointLight),ambientLight=()=>__vitePreload(()=>import("./AmbientLight.321e982d.js"),["assets/AmbientLight.321e982d.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.AmbientLight),sphereGeometry=()=>__vitePreload(()=>import("./SphereGeometry.46bea0af.js"),["assets/SphereGeometry.46bea0af.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.SphereGeometry),boxGeometry=()=>__vitePreload(()=>import("./BoxGeometry.d73cb17e.js"),["assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BoxGeometry),cylinderGeometry=()=>__vitePreload(()=>import("./CylinderGeometry.25a72d53.js"),["assets/CylinderGeometry.25a72d53.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.CylinderGeometry),planeGeometry=()=>__vitePreload(()=>import("./PlaneGeometry.94665e38.js"),["assets/PlaneGeometry.94665e38.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.PlaneGeometry),bufferGeometry=()=>__vitePreload(()=>import("./BufferGeometry.d5615ad3.js"),["assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BufferGeometry),perspectiveCamera=()=>__vitePreload(()=>import("./PerspectiveCamera.3def8065.js").then(o=>o.a),["assets/PerspectiveCamera.3def8065.js","assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.PerspectiveCamera),raycaster=()=>__vitePreload(()=>import("./Raycaster.8d6c944e.js"),["assets/Raycaster.8d6c944e.js","assets/Ray.14000e07.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Layers.61b05682.js"]).then(o=>o.Raycaster),shaderMaterial=()=>__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"]).then(o=>o.ShaderMaterial),bufferAttribute=()=>__vitePreload(()=>import("./BufferAttribute.ad6349b3.js"),["assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.BufferAttribute),instancedBufferAttribute=()=>__vitePreload(()=>import("./InstancedBufferAttribute.aa91042e.js"),["assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.InstancedBufferAttribute),points=()=>__vitePreload(()=>import("./Points.d53b4d59.js"),["assets/Points.d53b4d59.js","assets/Sphere.bf80223e.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/constants.cc13e4fd.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/Vector2.3964b2c2.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Points),meshPhongMaterial=()=>__vitePreload(()=>import("./MeshPhongMaterial.629d8a0e.js"),["assets/MeshPhongMaterial.629d8a0e.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshPhongMaterial),effectComposer=()=>__vitePreload(()=>import("./EffectComposer.45295e78.js"),["assets/EffectComposer.45295e78.js","assets/three.module.81fc2a6a.js","assets/CopyShader.1f7b6c4a.js","assets/ShaderPass.d65654b5.js","assets/Pass.09e32dfb.js"]).then(o=>o.EffectComposer),renderPass=()=>__vitePreload(()=>import("./RenderPass.fbc92c19.js"),["assets/RenderPass.fbc92c19.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.RenderPass),glitchPass=()=>__vitePreload(()=>import("./GlitchPass.345bbdd2.js"),["assets/GlitchPass.345bbdd2.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.GlitchPass),unrealBloomPass=()=>__vitePreload(()=>import("./UnrealBloomPass.2221478f.js"),["assets/UnrealBloomPass.2221478f.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js","assets/CopyShader.1f7b6c4a.js"]).then(o=>o.UnrealBloomPass),effectComposerPass=()=>Promise.all([__vitePreload(()=>import("./ShaderPass.d65654b5.js"),["assets/ShaderPass.d65654b5.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]),__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"])]).then(([o,u])=>{class f extends o.ShaderPass{constructor(m){super(new u.ShaderMaterial({uniforms:{tDiffuse:{value:null},incomingTexture:{value:m.renderTarget2.texture}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		uniform sampler2D tDiffuse;
    uniform sampler2D incomingTexture;

    varying vec2 vUv;

    void main() {

      gl_FragColor = ( texture2D( tDiffuse, vUv ) + texture2D( incomingTexture, vUv ) );

    }`})),this.effectComposer=m}render(m,h,b,y,_){this.effectComposer.renderToScreen=!1,this.effectComposer.render();const w=this.effectComposer.renderTarget2.texture;this.uniforms.incomingTexture.value=w,super.render(m,h,b,y,_)}}return f}),webGLRendererAff=_bind(_liftEffect(webGLRenderer))(toAff$p(coerce)),vector3Aff=_bind(_liftEffect(vector3))(toAff$p(coerce)),vector2Aff=_bind(_liftEffect(vector2))(toAff$p(coerce)),unrealBloomPassAff=_bind(_liftEffect(unrealBloomPass))(toAff$p(coerce)),textureLoaderAff=_bind(_liftEffect(textureLoader))(toAff$p(coerce)),sphereGeometryAff=_bind(_liftEffect(sphereGeometry))(toAff$p(coerce)),shaderMaterialAff=_bind(_liftEffect(shaderMaterial))(toAff$p(coerce)),sceneAff=_bind(_liftEffect(scene))(toAff$p(coerce)),renderPassAff=_bind(_liftEffect(renderPass))(toAff$p(coerce)),raycasterAff=_bind(_liftEffect(raycaster))(toAff$p(coerce)),pointsAff=_bind(_liftEffect(points))(toAff$p(coerce)),pointLightAff=_bind(_liftEffect(pointLight))(toAff$p(coerce)),planeGeometryAff=_bind(_liftEffect(planeGeometry))(toAff$p(coerce)),perspectiveCameraAff=_bind(_liftEffect(perspectiveCamera))(toAff$p(coerce)),meshStandardMaterialAff=_bind(_liftEffect(meshStandardMaterial))(toAff$p(coerce)),meshPhongMaterialAff=_bind(_liftEffect(meshPhongMaterial))(toAff$p(coerce)),meshAff=_bind(_liftEffect(mesh))(toAff$p(coerce)),matrix4Aff=_bind(_liftEffect(matrix4))(toAff$p(coerce)),instancedMeshAff=_bind(_liftEffect(instancedMesh))(toAff$p(coerce)),instancedBufferAttributeAff=_bind(_liftEffect(instancedBufferAttribute))(toAff$p(coerce)),groupAff=_bind(_liftEffect(group))(toAff$p(coerce)),gltfLoaderAff=_bind(_liftEffect(gltfLoader))(toAff$p(coerce)),glitchPassAff=_bind(_liftEffect(glitchPass))(toAff$p(coerce)),eulerAff=_bind(_liftEffect(euler))(toAff$p(coerce)),effectComposerPassAff=_bind(_liftEffect(effectComposerPass))(toAff$p(coerce)),effectComposerAff=_bind(_liftEffect(effectComposer))(toAff$p(coerce)),cylinderGeometryAff=_bind(_liftEffect(cylinderGeometry))(toAff$p(coerce)),cubeTextureLoaderAff=_bind(_liftEffect(cubeTextureLoader))(toAff$p(coerce)),css3DRendererAff=_bind(_liftEffect(css3DRenderer))(toAff$p(coerce)),css3DObjectAff=_bind(_liftEffect(css3DObject))(toAff$p(coerce)),css2DRendererAff=_bind(_liftEffect(css2DRenderer))(toAff$p(coerce)),css2DObjectAff=_bind(_liftEffect(css2DObject))(toAff$p(coerce)),colorAff=_bind(_liftEffect(color))(toAff$p(coerce)),bufferGeometryAff=_bind(_liftEffect(bufferGeometry))(toAff$p(coerce)),bufferAttributeAff=_bind(_liftEffect(bufferAttribute))(toAff$p(coerce)),boxGeometryAff=_bind(_liftEffect(boxGeometry))(toAff$p(coerce)),ambientLightAff=_bind(_liftEffect(ambientLight))(toAff$p(coerce)),loader=o=>()=>new o,load=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff=o=>u=>makeAff(f=>{const d=load(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),getHash=(()=>{const o=bindE(windowImpl)(location);return()=>{const u=o(),f=hash(u)();return(()=>{const d=stripPrefix("#")(f);if(d.tag==="Nothing")return"";if(d.tag==="Just")return d._1;fail$3()})()}})(),foldHashes=o=>u=>{const f=bindE(bindE(getHash)(u))(_new);return()=>{const d=f(),m=windowImpl(),h=eventListener(b=>()=>{const y=bindE(()=>{const _=d.value,w=getHash();return o(_)(w)})(identity$u)();return d.value=y})();return addEventListener("hashchange")(h)(!1)(m)(),removeEventListener("hashchange")(h)(!1)(m)}},matchesWith$1=o=>u=>f=>{const d=m=>{const h=indexl(o)(0);return b=>{const y=h(u(b));if(y.tag==="Nothing")return()=>m;if(y.tag==="Just"){const _=f(m)(y._1);return()=>(_(),$Maybe("Just",y._1))}fail$3()}};return foldHashes(m=>d(m))(d(Nothing))},matchesWith=o=>u=>()=>{const f={value:Nothing},d={value:Nothing};return{unsubscribe:matchesWith$1(foldableEither)(parse(o))(h=>b=>()=>{const y=f.value,_=d.value;if(d.value=y,f.value=Nothing,_.tag==="Nothing"){if(y.tag==="Nothing")return u(h)(b)();if(y.tag==="Just")return u(h)(y._1)();fail$3()}if(_.tag==="Just"){if(y.tag==="Just")return u($Maybe("Just",_._1))(y._1)();if(y.tag==="Nothing")return u($Maybe("Just",_._1))(b)();fail$3()}fail$3()})(),navigateTo:h=>()=>(f.value=$Maybe("Just",h),bindE(bindE(windowImpl)(location))(setHash(printPath(o._1(h)(emptyRouteState))))())}},useLilGui=()=>!1,force4=()=>!1,useFirebaseEmulatorInDevMode=o=>u=>()=>Promise.resolve(),min=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},monoidEffect=(()=>{const o={append:u=>f=>()=>(u(),f(),unit)};return{mempty:()=>unit,Semigroup0:()=>o}})(),for_=for_$9(applicativeEffect)(foldableMaybe),fromFoldable=fromFoldable$9(ordPlayer)(foldableArray),traverse_=traverse_$9(applicativeEffect)(foldableMaybe),constMapping={mappingWithIndex:o=>u=>guiableSlider.guiable},hmapRecord1=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping1={mappingWithIndex:o=>u=>mappingTuple1.mapping(o)},hmapRecord2=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping1)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping2={mappingWithIndex:o=>u=>mappingTuple2.mapping(o)},hmapRecord3=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping2)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),logShow=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["fsm",(()=>{const f=cons(intercalate$2(": ")(["orientationPermission",showAppOrientationState.show(o.fsm.orientationPermission)]))(cons(intercalate$2(": ")(["signedInNonAnon",(()=>o.fsm.signedInNonAnon?"true":"false")()]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])})()]))(cons(intercalate$2(": ")(["new",showRoute.show(o.new)]))(cons(intercalate$2(": ")(["old",(()=>{if(o.old.tag==="Just")return"(Just "+(showRoute.show(o.old._1)+")");if(o.old.tag==="Nothing")return"Nothing";fail$3()})()]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),parSequence=(()=>{const o=traversableArray.traverse(applicativeParAff)(u=>u);return u=>_sequential(o(u))})(),logShow1=logShow$1((()=>{const o=showArrayImpl(u=>{const f=cons(intercalate$2(": ")(["data","TrackV0 <"+(show1$3(u.data._1)+">")]))(cons(intercalate$2(": ")(["id",showStringImpl(u.id)]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])});return{show:u=>{const f=cons(intercalate$2(": ")(["msg",showStringImpl(u.msg)]))(cons(intercalate$2(": ")(["rides",o(u.rides)]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])}}})()),mapAccum=mapAccum$e(eventIsEvent),logShow2=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["e",showRouteError.show(o.e)]))(cons(intercalate$2(": ")(["initialHash",showStringImpl(o.initialHash)]))(cons(intercalate$2(": ")(["msg",showStringImpl(o.msg)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),ambientLightIsSymbol={reflectSymbol:()=>"ambientLight"},boxGeometryIsSymbol={reflectSymbol:()=>"boxGeometry"},bufferAttributeIsSymbol={reflectSymbol:()=>"bufferAttribute"},bufferGeometryIsSymbol={reflectSymbol:()=>"bufferGeometry"},colorIsSymbol={reflectSymbol:()=>"color"},css2DObjectIsSymbol={reflectSymbol:()=>"css2DObject"},css2DRendererIsSymbol={reflectSymbol:()=>"css2DRenderer"},css3DObjectIsSymbol={reflectSymbol:()=>"css3DObject"},css3DRendererIsSymbol={reflectSymbol:()=>"css3DRenderer"},cubeTextureLoaderIsSymbol={reflectSymbol:()=>"cubeTextureLoader"},cylinderGeometryIsSymbol={reflectSymbol:()=>"cylinderGeometry"},effectComposerIsSymbol={reflectSymbol:()=>"effectComposer"},effectComposerPassIsSymbol={reflectSymbol:()=>"effectComposerPass"},eulerIsSymbol={reflectSymbol:()=>"euler"},glitchPassIsSymbol={reflectSymbol:()=>"glitchPass"},gltfLoaderIsSymbol={reflectSymbol:()=>"gltfLoader"},groupIsSymbol={reflectSymbol:()=>"group"},instancedBufferAttributeIsSymbol={reflectSymbol:()=>"instancedBufferAttribute"},instancedMeshIsSymbol={reflectSymbol:()=>"instancedMesh"},matrix4IsSymbol={reflectSymbol:()=>"matrix4"},meshIsSymbol={reflectSymbol:()=>"mesh"},meshPhongMaterialIsSymbol={reflectSymbol:()=>"meshPhongMaterial"},meshStandardMaterialIsSymbol={reflectSymbol:()=>"meshStandardMaterial"},perspectiveCameraIsSymbol={reflectSymbol:()=>"perspectiveCamera"},planeIsSymbol={reflectSymbol:()=>"plane"},pointLightIsSymbol={reflectSymbol:()=>"pointLight"},pointsIsSymbol={reflectSymbol:()=>"points"},raycasterIsSymbol={reflectSymbol:()=>"raycaster"},renderPassIsSymbol={reflectSymbol:()=>"renderPass"},sceneIsSymbol={reflectSymbol:()=>"scene"},shaderMaterialIsSymbol={reflectSymbol:()=>"shaderMaterial"},sphereGeometryIsSymbol={reflectSymbol:()=>"sphereGeometry"},textureLoaderIsSymbol={reflectSymbol:()=>"textureLoader"},unrealBloomPassIsSymbol={reflectSymbol:()=>"unrealBloomPass"},vector2IsSymbol={reflectSymbol:()=>"vector2"},vector3IsSymbol={reflectSymbol:()=>"vector3"},webGLRendererIsSymbol={reflectSymbol:()=>"webGLRenderer"},hfoldlWithIndex=(()=>{const o=foldlRecordCons(ambientLightIsSymbol)()(foldingWithIndexParFoldPr()(ambientLightIsSymbol)())(foldlRecordCons(boxGeometryIsSymbol)()(foldingWithIndexParFoldPr()(boxGeometryIsSymbol)())(foldlRecordCons(bufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(bufferAttributeIsSymbol)())(foldlRecordCons(bufferGeometryIsSymbol)()(foldingWithIndexParFoldPr()(bufferGeometryIsSymbol)())(foldlRecordCons(colorIsSymbol)()(foldingWithIndexParFoldPr()(colorIsSymbol)())(foldlRecordCons(css2DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css2DObjectIsSymbol)())(foldlRecordCons(css2DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css2DRendererIsSymbol)())(foldlRecordCons(css3DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css3DObjectIsSymbol)())(foldlRecordCons(css3DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css3DRendererIsSymbol)())(foldlRecordCons(cubeTextureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(cubeTextureLoaderIsSymbol)())(foldlRecordCons(cylinderGeometryIsSymbol)()(foldingWithIndexParFoldPr()(cylinderGeometryIsSymbol)())(foldlRecordCons(effectComposerIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerIsSymbol)())(foldlRecordCons(effectComposerPassIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerPassIsSymbol)())(foldlRecordCons(eulerIsSymbol)()(foldingWithIndexParFoldPr()(eulerIsSymbol)())(foldlRecordCons(glitchPassIsSymbol)()(foldingWithIndexParFoldPr()(glitchPassIsSymbol)())(foldlRecordCons(gltfLoaderIsSymbol)()(foldingWithIndexParFoldPr()(gltfLoaderIsSymbol)())(foldlRecordCons(groupIsSymbol)()(foldingWithIndexParFoldPr()(groupIsSymbol)())(foldlRecordCons(instancedBufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(instancedBufferAttributeIsSymbol)())(foldlRecordCons(instancedMeshIsSymbol)()(foldingWithIndexParFoldPr()(instancedMeshIsSymbol)())(foldlRecordCons(matrix4IsSymbol)()(foldingWithIndexParFoldPr()(matrix4IsSymbol)())(foldlRecordCons(meshIsSymbol)()(foldingWithIndexParFoldPr()(meshIsSymbol)())(foldlRecordCons(meshPhongMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshPhongMaterialIsSymbol)())(foldlRecordCons(meshStandardMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshStandardMaterialIsSymbol)())(foldlRecordCons(perspectiveCameraIsSymbol)()(foldingWithIndexParFoldPr()(perspectiveCameraIsSymbol)())(foldlRecordCons(planeIsSymbol)()(foldingWithIndexParFoldPr()(planeIsSymbol)())(foldlRecordCons(pointLightIsSymbol)()(foldingWithIndexParFoldPr()(pointLightIsSymbol)())(foldlRecordCons(pointsIsSymbol)()(foldingWithIndexParFoldPr()(pointsIsSymbol)())(foldlRecordCons(raycasterIsSymbol)()(foldingWithIndexParFoldPr()(raycasterIsSymbol)())(foldlRecordCons(renderPassIsSymbol)()(foldingWithIndexParFoldPr()(renderPassIsSymbol)())(foldlRecordCons(sceneIsSymbol)()(foldingWithIndexParFoldPr()(sceneIsSymbol)())(foldlRecordCons(shaderMaterialIsSymbol)()(foldingWithIndexParFoldPr()(shaderMaterialIsSymbol)())(foldlRecordCons(sphereGeometryIsSymbol)()(foldingWithIndexParFoldPr()(sphereGeometryIsSymbol)())(foldlRecordCons(textureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(textureLoaderIsSymbol)())(foldlRecordCons(unrealBloomPassIsSymbol)()(foldingWithIndexParFoldPr()(unrealBloomPassIsSymbol)())(foldlRecordCons(vector2IsSymbol)()(foldingWithIndexParFoldPr()(vector2IsSymbol)())(foldlRecordCons(vector3IsSymbol)()(foldingWithIndexParFoldPr()(vector3IsSymbol)())(foldlRecordCons(webGLRendererIsSymbol)()(foldingWithIndexParFoldPr()(webGLRendererIsSymbol)())(foldlRecordNil)))))))))))))))))))))))))))))))))))));return u=>f=>o.foldlRecordRowList(u)(f)($$Proxy)})(),fromHomogeneous=o=>o,parTraverse=(()=>{const o=traversableWithIndexObject.traverseWithIndex(applicativeParAff);return u=>{const f=o(d=>m=>u(m));return d=>_sequential(f(d))}})(),mempty1=o=>monoidEffect.mempty,mempty2=(()=>monoidRecord()((()=>{const o=monoidEffect.Semigroup0(),u=monoidEffect.Semigroup0(),f=monoidEffect.Semigroup0(),d=monoidEffect.Semigroup0(),m={appendRecord:h=>b=>y=>({p1:o.append(b.p1)(y.p1),p2:u.append(b.p2)(y.p2),p3:f.append(b.p3)(y.p3),p4:d.append(b.p4)(y.p4)})};return{memptyRecord:h=>({p1:monoidEffect.mempty,p2:monoidEffect.mempty,p3:monoidEffect.mempty,p4:monoidEffect.mempty}),SemigroupRecord0:()=>m}})()).mempty)(),folded=o=>(u,f)=>{const d={value:Leaf};return o(u,m=>{const h=d.value,b=d.value=semigroupKnownPlayers.append(m)(h);return f(b)})},logShow3=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["kp",showKnownPlayers.show(o.kp)]))(cons(intercalate$2(": ")(["outcome",showPointOutcome.show(o.outcome)]))(cons(intercalate$2(": ")(["player",showPlayer.show(o.player)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),fromFoldable1=fromFoldable$8(foldableList),renderingInfoMobile={halfAmbitus:{default:3.5,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:1.05,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.15,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:1.45,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},renderingInfoDesktop={halfAmbitus:{default:3.1,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:.55,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.45,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:.35,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},magicLeap=o=>u=>f=>d=>m=>()=>{const h=o.value;(()=>{if(m.player.tag==="Player1")return h.p1;if(m.player.tag==="Player2")return h.p2;if(m.player.tag==="Player3")return h.p3;if(m.player.tag==="Player4")return h.p4;fail$3()})()();const b=u();(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1p")(m.newPosition)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2p")(m.newPosition)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3p")(m.newPosition)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4p")(m.newPosition)(f);fail$3()})()();const y=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1y")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2y")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3y")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4y")(f);fail$3()})()(),_=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1z")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2z")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3z")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4z")(f);fail$3()})()(),w=subscribe(sampleBy(functorEvent)($$const)(d)(animationFrame))($=>{const g=(()=>{if(m.newPosition.tag==="Position1")return-3*$.barZSpacing;if(m.newPosition.tag==="Position2")return-2*$.barZSpacing;if(m.newPosition.tag==="Position3")return-1*$.barZSpacing;if(m.newPosition.tag==="Position4")return 0;fail$3()})();return()=>{const v=u(),k=min(1)(max(0)((v-b)/1e3/(.4*sqrt(pow(g-_)(2)+pow(-y)(2))))),C=pow(1-k)(2)*y+2*(1-k)*k*((0+y)/2+.5)+pow(k)(2)*0,S=pow(1-k)(2)*_+2*(1-k)*k*((g+_)/2)+pow(k)(2)*g;(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1z")(S)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2z")(S)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3z")(S)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4z")(S)(f);fail$3()})()(),(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1y")(C)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2y")(C)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3y")(C)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4y")(C)(f);fail$3()})()();const I=(()=>{if(m.player.tag==="Player1")return x=>x.p1;if(m.player.tag==="Player2")return x=>x.p2;if(m.player.tag==="Player3")return x=>x.p3;if(m.player.tag==="Player4")return x=>x.p4;fail$3()})(),O=bindE(()=>{const x=o.value;return I(x)})(identity$u);if(k>=1){O();const x=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:monoidEffect.mempty,p2:x.p2,p3:x.p3,p4:x.p4};if(m.player.tag==="Player2")return{p2:monoidEffect.mempty,p1:x.p1,p3:x.p3,p4:x.p4};if(m.player.tag==="Player3")return{p3:monoidEffect.mempty,p1:x.p1,p2:x.p2,p4:x.p4};if(m.player.tag==="Player4")return{p4:monoidEffect.mempty,p1:x.p1,p2:x.p2,p3:x.p3};fail$3()})(),unit}return unit}})(),M=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:w,p2:M.p2,p3:M.p3,p4:M.p4};if(m.player.tag==="Player2")return{p2:w,p1:M.p1,p3:M.p3,p4:M.p4};if(m.player.tag==="Player3")return{p3:w,p1:M.p1,p2:M.p2,p4:M.p4};if(m.player.tag==="Player4")return{p4:w,p1:M.p1,p2:M.p2,p3:M.p3};fail$3()})(),unit},magicLeaps=o=>u=>f=>d=>m=>()=>{const h=f.value,b=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1p")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2p")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3p")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4p")(f);fail$3()})()();return magicLeap(o)(u)(f)(d)(m)(),for_((()=>(()=>h.p1p.tag==="Position1"?m.newPosition.tag==="Position1":h.p1p.tag==="Position2"?m.newPosition.tag==="Position2":h.p1p.tag==="Position3"?m.newPosition.tag==="Position3":h.p1p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player1):(()=>h.p2p.tag==="Position1"?m.newPosition.tag==="Position1":h.p2p.tag==="Position2"?m.newPosition.tag==="Position2":h.p2p.tag==="Position3"?m.newPosition.tag==="Position3":h.p2p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player2):(()=>h.p3p.tag==="Position1"?m.newPosition.tag==="Position1":h.p3p.tag==="Position2"?m.newPosition.tag==="Position2":h.p3p.tag==="Position3"?m.newPosition.tag==="Position3":h.p3p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player3):(()=>h.p4p.tag==="Position1"?m.newPosition.tag==="Position1":h.p4p.tag==="Position2"?m.newPosition.tag==="Position2":h.p4p.tag==="Position3"?m.newPosition.tag==="Position3":h.p4p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player4):Nothing)())(y=>magicLeap(o)(u)(f)(d)({player:y,newPosition:b}))()},updateKnownPlayerPoints=o=>u=>f=>()=>{const d=f.value;return f.value=update(ordPlayer)(m=>{if(m.tag==="HasNotStartedYet")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:topNumber,points:0,name:Nothing,penalties:u._1};if(u.tag==="Right")return{startedAt:topNumber,points:u._1,name:Nothing,penalties:0};fail$3()})()));if(m.tag==="HasStarted")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:m._1.startedAt,points:m._1.points,name:m._1.name,penalties:m._1.penalties+u._1};if(u.tag==="Right")return{startedAt:m._1.startedAt,points:m._1.points+u._1,name:m._1.name,penalties:m._1.penalties};fail$3()})()));fail$3()})(o)(d)},constructAppendableKnownPlayersFromRide=o=>fromFoldable(concatArray((()=>{if(o._1.player1.tag==="Just")return[$Tuple(Player1,(()=>{if(o._1.player1StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player1StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player1StartTimeInMilliseconds._1,points:(()=>{if(o._1.player1Points.tag==="Nothing")return 0;if(o._1.player1Points.tag==="Just")return o._1.player1Points._1;fail$3()})(),name:o._1.player1Name,penalties:(()=>{if(o._1.player1Penalties.tag==="Nothing")return 0;if(o._1.player1Penalties.tag==="Just")return o._1.player1Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player1.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player2.tag==="Just")return[$Tuple(Player2,(()=>{if(o._1.player2StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player2StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player2StartTimeInMilliseconds._1,points:(()=>{if(o._1.player2Points.tag==="Nothing")return 0;if(o._1.player2Points.tag==="Just")return o._1.player2Points._1;fail$3()})(),name:o._1.player2Name,penalties:(()=>{if(o._1.player2Penalties.tag==="Nothing")return 0;if(o._1.player2Penalties.tag==="Just")return o._1.player2Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player2.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player3.tag==="Just")return[$Tuple(Player3,(()=>{if(o._1.player3StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player3StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player3StartTimeInMilliseconds._1,points:(()=>{if(o._1.player3Points.tag==="Nothing")return 0;if(o._1.player3Points.tag==="Just")return o._1.player3Points._1;fail$3()})(),name:o._1.player3Name,penalties:(()=>{if(o._1.player3Penalties.tag==="Nothing")return 0;if(o._1.player3Penalties.tag==="Just")return o._1.player3Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player3.tag==="Nothing")return[];fail$3()})())((()=>{if(o._1.player4.tag==="Just")return[$Tuple(Player4,(()=>{if(o._1.player4StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player4StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player4StartTimeInMilliseconds._1,points:(()=>{if(o._1.player4Points.tag==="Nothing")return 0;if(o._1.player4Points.tag==="Just")return o._1.player4Points._1;fail$3()})(),name:o._1.player4Name,penalties:(()=>{if(o._1.player4Penalties.tag==="Nothing")return 0;if(o._1.player4Penalties.tag==="Just")return o._1.player4Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player4.tag==="Nothing")return[];fail$3()})())))),main=o=>u=>f=>d=>m=>{const h=_makeFiber(ffiUtil$1,_bind(_liftEffect((()=>{const b=bindE(windowImpl)(location);return()=>{const y=b();return hash(y)()===""?setHash("/")(y)():unit}})()))(()=>_bind(_liftEffect(()=>({value:.055})))(b=>_bind(firebaseAppAff)(y=>_bind(_bind(_liftEffect(firebaseAnalytics(y)))(toAff$p(coerce)))(()=>_bind(_bind(_liftEffect(firestoreDb(y)))(toAff$p(coerce)))(_=>_bind(_bind(_liftEffect(firebaseAuth(y)))(toAff$p(coerce)))(w=>_bind(_bind(_liftEffect(firebaseCloudMessaging(y)))(toAff$p(coerce)))(M=>_bind(_bind(_liftEffect(useFirebaseEmulatorInDevMode()(w)))(toAff$p(coerce)))(()=>_bind(_liftEffect(hasOrientationPermission))($=>_liftEffect(()=>{const g=create();initializeGoogleClient(w)(g.push(!0))();const v={value:()=>unit},k=burningWhenHot(),C={value:()=>unit};subscribe(authStateChangedEventWithAnonymousAccountCreation(w))(ie=>{const Q=info("I'm a user: "+_unsafeStringify(writeForeignUser.writeImpl(ie.user)));return()=>(Q(),(()=>{if(ie.provider.tag==="AuthGoogle"){const G=bindE(()=>C.value)(identity$u);return()=>{G(),_makeFiber(ffiUtil$1,_bind(getProfileAff(w)(_))((()=>{const le=traverse_(k.push);return ue=>_liftEffect(le(ue))})()))().run();const re=subscribe(profileEvent(w)(_))(k.push)();return C.value=re,_makeFiber(ffiUtil$1,_bind(turnOnRealtimePresenceAff(y)(_)(w))(le=>_liftEffect(()=>v.value=le)))().run(),unit}}if(ie.provider.tag==="AuthAnonymous"){const G=bindE(()=>C.value)(identity$u);return()=>(G(),bindE(()=>v.value)(unsafeCoerce)(),v.value=()=>unit)}fail$3()})()(),g.push((()=>{if(ie.provider.tag==="AuthGoogle")return!0;if(ie.provider.tag==="AuthAnonymous")return!1;fail$3()})())())})();const S=burning(!1)(g.event)(),I=cnow(),O=()=>I.cnow().time,x=windowImpl(),F=localStorage$1(x)(),R=create(),L=create(),D=create(),J=create(),K=create(),ee=create(),H=create(),q=emitsTouchEvents();return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(useLilGui))(ie=>(()=>ie?gui(hmapRecord1)(hmapRecord2)(hmapRecord3):noGui(hmapRecord1)(hmapRecord2)(hmapRecord3))()((()=>q?renderingInfoMobile:renderingInfoDesktop)())))(ie=>_liftEffect(()=>{const Q={value:Leaf},G={value:()=>unit},ne={value:Nothing},re=context_(),Y=makeAudioBuffer_(re)({size:44100,arr:[replicate(unfoldableArray)(1e3)(0)]})(),le=eventListener(Ie=>bindE((()=>{const We=innerWidth(x),nt=innerHeight(x);return()=>{const it=We(),De=nt();return{iw:toNumber(it),ih:toNumber(De)}}})())(R.push))();addEventListener("resize")(le)(!0)(x)();const ue={value:empty$2},ge=create(),ye=create(),_e=create(),Ce=create(),be=matchesWith(route)(curry(Ce.push))();subscribe(filter$p(Ie=>Ie._2._1.tag==="Nothing"?!0:Ie._2._1.tag==="Just"?!eqRoute.eq(Ie._2._1._1)(Ie._2._2):!0)(mapAccum(Ie=>We=>{const nt={orientationPermission:(()=>{if(Ie.orev.tag==="Just"){if(Ie.orev._1)return SuccessfulOrientationPermission;if(!Ie.orev._1)return CannotUseAppDueToLackOfOrientationPermission;fail$3()}if(Ie.orev.tag==="Nothing")return We.orientationPermission;fail$3()})(),signedInNonAnon:Ie.sinon};return $Tuple(nt,$Tuple(nt,$Tuple(Ie.rev._1,Ie.rev._2)))})(applyEvent.apply(applyEvent.apply((Ie,We)=>Ce.event(Ie,nt=>We(it=>De=>({rev:nt,orev:it,sinon:De}))))((Ie,We)=>{const nt=applicativeEvent.pure(Nothing)(Ie,We),it=_e.event(Ie,De=>We($Maybe("Just",De)));return()=>(nt(),it())}))(S.event))({orientationPermission:UnknownOrientationPermission,signedInNonAnon:!1})))(Ie=>{const We=logShow({fsm:Ie._1,old:Ie._2._1,new:Ie._2._2});return()=>{We();const nt=(()=>{if(Ie._2._2.tag==="Home")return ge.push(NoChannel);if(Ie._2._2.tag==="Session"){const it=_makeFiber(ffiUtil$1,_bind(_bind(getTrackAff(_)(Ie._2._2._2))(De=>_pure((()=>{const ct=RideChannel(Ie._2._2._1)(Ie._2._2._2);if(De.tag==="Nothing")return NoChannel;if(De.tag==="Just")return ct(De._1);fail$3()})())))(De=>_liftEffect(ge.push(De))));return()=>(it().run(),unit)}if(Ie._2._2.tag==="Tutorial")return ge.push(TutorialChannel);if(Ie._2._2.tag==="Settings")return D.push($Negotiation("SetSomeStuff",{dampeningRef:b,myProfile:k.event,firestoreDb:_,fbAuth:w,signedInNonAnonymously:S.event}));if(Ie._2._2.tag==="Editor")return ge.push(EditorChannel);if(Ie._2._2.tag==="TakeThisRide"){const it=randId$p(6);return()=>{const De=it();return _makeFiber(ffiUtil$1,_bind((()=>{const Ae=getTrackAff(_)(Ie._2._2._2);if(Ie._2._2._1.tag==="Nothing")return Ae;if(Ie._2._2._1.tag==="Just")return _pure($Maybe("Just",Ie._2._2._1._1));fail$3()})())(Ae=>_liftEffect((()=>{if(Ae.tag==="Just")return ge.push($ChannelChooser("RideChannel",De,Ie._2._2._2,Ae._1));if(Ae.tag==="Nothing")return navigateToHash("");fail$3()})())))().run(),unit}}if(Ie._2._2.tag==="TakeRide"){const it=_makeFiber(ffiUtil$1,_bind(_liftEffect(log("Got take ride as instuction")))(()=>_bind(_map((()=>{const De=nubBy(ct=>Ae=>ordString.compare(ct.id)(Ae.id));return ct=>De(arrayBind(ct)(identity$u))})())(parSequence([getPublicTracksAff(_),(()=>{const De=monoidAff(monoidArray),ct=getTracksAff(w)(_);return Ie._1.signedInNonAnon?ct:De.mempty})(),(()=>{const De=monoidAff(monoidArray),ct=getWhitelistedTracksAff(w)(_);return Ie._1.signedInNonAnon?ct:De.mempty})()])))(De=>_liftEffect((()=>{const ct=logShow1({msg:"Got rides",rides:De});return()=>(ct(),D.push($Negotiation("ChooseRide",De,be.navigateTo))())})()))));return()=>(it().run(),unit)}if(Ie._2._2.tag==="OrientationPermissionWithoutRideRequest")return D.push($Negotiation("NeedsOrientation",Nothing));if(Ie._2._2.tag==="OrientationPermissionWithRideRequest")return D.push($Negotiation("NeedsOrientation",$Maybe("Just",{ride:Ie._2._2._1,track:Ie._2._2._2})));fail$3()})();if(Ie._1.orientationPermission.tag==="SuccessfulOrientationPermission")return nt();if(Ie._1.orientationPermission.tag==="CannotUseAppDueToLackOfOrientationPermission")return D.push(WillNotWorkWithoutOrientation)();if(Ie._1.orientationPermission.tag==="UnknownOrientationPermission")return $?Ie._2._2.tag==="Session"?navigateToHash("orientation-permission/"+(Ie._2._2._1+("/"+Ie._2._2._2)))():navigateToHash("orientation-permission")():nt();fail$3()}})();const Ne=bindE(bindE(windowImpl)(location))(hash)(),fe=replace("#")("")(Ne);(()=>{const Ie=run(route._2)(fe);return()=>((()=>{if(Ie.tag==="Left"){const We=logShow2({msg:"malformed initial path",e:Ie._1,initialHash:fe});return()=>(We(),Ce.push($Tuple(Nothing,Home))())}if(Ie.tag==="Right"){const We=log("initial route "+showRoute.show(Ie._1));return()=>(We(),Ce.push($Tuple(Nothing,Ie._1))())}fail$3()})()(),unit)})()(),runInBody$p(toplevel({loaded:L.event,ride:Ie=>{const We=randId$p(6);return()=>{const nt=We();return ge.push($ChannelChooser("RideChannel",nt,Ie._1,Ie._2))()}},negotiation:D.event,tutorial:navigateToHash("tutorial"),editor:navigateToHash("editor"),isMobile:q,lpsCallback:Ie=>We=>()=>{const nt=random(),it=Q.value;return Q.value=insert$2(ordNumber)(Ie+nt*.25)(We)(it),unit},givePermission:_e.push,pushBasic:J,pushLeap:K,columnPusher:ye,pushHitLong:ee,pushReleaseLong:H,resizeE:R.event,goHome:navigateToHash(""),renderingInfo:refToBehavior(ie.renderingInfo),debug:ie.debug,silence:Y,icid:ne,wdw:x,unschedule:Q,soundObj:ue}))();const ve=randId();return _makeFiber(ffiUtil$1,_bind(_sequential(hfoldlWithIndex(ParFold)(_pure({}))({scene:sceneAff,vector2:vector2Aff,vector3:vector3Aff,meshStandardMaterial:meshStandardMaterialAff,bufferGeometry:bufferGeometryAff,points:pointsAff,meshPhongMaterial:meshPhongMaterialAff,boxGeometry:boxGeometryAff,cylinderGeometry:cylinderGeometryAff,pointLight:pointLightAff,ambientLight:ambientLightAff,css2DObject:css2DObjectAff,webGLRenderer:webGLRendererAff,effectComposer:effectComposerAff,effectComposerPass:effectComposerPassAff,unrealBloomPass:unrealBloomPassAff,glitchPass:glitchPassAff,renderPass:renderPassAff,color:colorAff,instancedMesh:instancedMeshAff,euler:eulerAff,raycaster:raycasterAff,mesh:meshAff,perspectiveCamera:perspectiveCameraAff,matrix4:matrix4Aff,plane:planeGeometryAff,bufferAttribute:bufferAttributeAff,instancedBufferAttribute:instancedBufferAttributeAff,shaderMaterial:shaderMaterialAff,gltfLoader:gltfLoaderAff,cubeTextureLoader:cubeTextureLoaderAff,sphereGeometry:sphereGeometryAff,css2DRenderer:css2DRendererAff,css3DObject:css3DObjectAff,css3DRenderer:css3DRendererAff,group:groupAff,textureLoader:textureLoaderAff})))(Ie=>_bind(_liftEffect(loader(Ie.textureLoader)))(We=>_bind(_liftEffect(loader$1(Ie.cubeTextureLoader)))(nt=>_bind(_liftEffect(loader$2(Ie.gltfLoader)))(it=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff(We))(d))))(De=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff$2(it))(o))))(ct=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAffRecord(nt))(_fmapObject(f,unsafeCoerce)))))(Ae=>{const Xe=makeGalaxyAttributes(Ie.instancedBufferAttribute),ot=_bind(_liftEffect(()=>({value:Leaf})))(je=>_bind(_liftEffect(create))(Je=>_bind(_liftEffect((()=>q?xForTouch(b)(O)(x)(Player4)(mempty1):xForKeyboard(O)(x)(Player4)(mempty1))()))(Ge=>_bind(_liftEffect(()=>{const Ze=ie.renderingInfo.value;return{value:initialPositions(Ze)}}))(Ze=>_bind(_liftEffect(subscribe(Ge)(rt=>writeToRecordImpl("p4x")(rt)(Ze))))(()=>_bind(_liftEffect(subscribe(J.event)(rt=>{const et=updateKnownPlayerPoints(Player4)(basicOutcomeToPointOutcome(beatsToBasicOutcome(rt.deltaBeats)))(je);return()=>{const at=et();return Je.push(at)()}})))(()=>_bind(_liftEffect(subscribe(H.event)(rt=>{const et=updateKnownPlayerPoints(Player4)($Either("Right",abs(2-rt.distance)*rt.pctConsumed*20))(je);return()=>{const at=et();return Je.push(at)()}})))(()=>_bind(_liftEffect(()=>({value:mempty2})))(rt=>_bind(_liftEffect(subscribe(K.event)(et=>magicLeaps(rt)(O)(Ze)(refToBehavior(ie.renderingInfo))({player:Player4,newPosition:et.newPosition}))))(()=>{const et=drop(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil)))))))));return _bind(dlInChunks(m)(100)(take$3(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil))))))))))(re)(ue))(()=>_bind(_liftEffect(L.push(!0)))(()=>_bind(dlInChunks(m)(100)(et)(re)(ue))(()=>_bind(joinFiber(De))(at=>_bind(joinFiber(ct))(bt=>_bind(joinFiber(Ae))($t=>_liftEffect(()=>{const Ke=ue.value,Et=_lookup(Nothing,Just,"elvedenHallLordsCloakroom",Ke),dt=innerWidth(x)(),xt=innerHeight(x)();return{player:Player4,threeDI:Ie,initialDims:{iw:toNumber(dt),ih:toNumber(xt)},shaders:u,galaxyAttributes:Xe,cNow:O,playerPositions:refToBehavior(Ze),models:bt,textures:at,cubeTextures:$t,longVerb:(()=>{if(Et.tag==="Nothing")return Y;if(Et.tag==="Just")return Et._1;fail$3()})(),playerStatus:folded((()=>{const Bt=sampleBy(functorEvent)($$const)(refToBehavior(je))(applicativeEvent.pure(unit));return(Ft,Ct)=>{const Vt=Bt(Ft,Ct),Ut=Je.event(Ft,Ct);return()=>(Vt(),Ut())}})()),optMeIn:Bt=>()=>{const Ft=je.value,Ct=je.value=semigroupKnownPlayers.append($Map("Two",Leaf,Player4,$StartStatus("HasStarted",{startedAt:Bt,points:0,penalties:0,name:Nothing}),Leaf))(Ft);return Je.push(Ct)()}}})))))))})))))))));return _map(je=>unit)(_liftEffect(subscribe(ge.event)(je=>{const Je=_makeFiber(ffiUtil$1,_bind(_liftEffect(info("received channel "+showChannelChooser.show(je))))(()=>_bind(_liftEffect(bindE(()=>G.value)(identity$u)))(()=>{if(je.tag==="EditorChannel")return _bind(_liftEffect(D.push(StartingNegotiation)))(()=>_bind(ot)(Ge=>_liftEffect(D.push($Negotiation("OpenEditor",{oe:{fbAuth:w,firestoreDb:_,goBack:ge.push(NoChannel),signedInNonAnonymously:dedup(eqBoolean)(S.event)},wt:Ge})))));if(je.tag==="TutorialChannel")return _bind(_liftEffect(D.push(StartingNegotiation)))(()=>_bind(ot)(Ge=>_liftEffect(D.push($Negotiation("WantsTutorial",Ge)))));if(je.tag==="NoChannel")return _bind(joinFiber(ct))(Ge=>_bind(joinFiber(Ae))(Ze=>_bind(_liftEffect((()=>{const rt=innerWidth(x),et=innerHeight(x);return()=>{const at=rt(),bt=et();return{iw:toNumber(at),ih:toNumber(bt)}}})()))(rt=>_liftEffect(D.push($Negotiation("GetRulesOfGame",{threeDI:Ie,initialDims:rt,firestoreDb:_,fbAuth:w,models:Ge,signOut:(()=>{const et=_makeFiber(ffiUtil$1,_bind(_liftEffect(signOut(w)(()=>unit)))(toAff$p(coerce)));return()=>(et().run(),unit)})(),cubeTextures:Ze,cNow:O,signedInNonAnonymously:S.event}))))));if(je.tag==="RideChannel")return _bind(_liftEffect(()=>({value:Leaf})))(Ge=>_bind(_liftEffect(create))(Ze=>_bind(_liftEffect(D.push(StartingNegotiation)))(()=>_bind(_liftEffect(force4))(rt=>_bind(createRideIfNotExistsYet(_)(je._1))(et=>_bind(_liftEffect((()=>{const at=subscribe(eventChannelChanges(_)(et))(bt=>()=>{const $t=Ge.value,Ke=Ge.value=semigroupKnownPlayers.append(constructAppendableKnownPlayersFromRide(bt))($t);return Ze.push(Ke)()});return()=>{const bt=at();return G.value=bt}})()))(()=>_bind(_bind(pubnub(ve)(et))(at=>_pure({publish:at.publish,event:filter(bt=>bt.message.iAm!==ve?$Maybe("Just",bt.message.action):Nothing)(at.event)})))(at=>_bind(_liftEffect(()=>({value:mempty2})))(bt=>_bind(_liftEffect(()=>{const $t=ie.renderingInfo.value;return{value:initialPositions($t)}}))($t=>_bind(_liftEffect(subscribe(at.event)(Ke=>{if(Ke.tag==="HitLeap")return magicLeaps(bt)(O)($t)(refToBehavior(ie.renderingInfo))(Ke._1);if(Ke.tag==="HitBasic"){const Et=updateKnownPlayerPoints(Ke._1.player)(Ke._1.outcome)(Ge);return()=>{const dt=Et();return logShow3({player:Ke._1.player,outcome:Ke._1.outcome,kp:dt})(),Ze.push(dt)()}}if(Ke.tag==="PressedStart")return()=>{const Et=Ge.value,dt=Ge.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1.player,$StartStatus("HasStarted",{name:Ke._1.name,startedAt:Ke._1.startedAt,points:0,penalties:0}),Leaf))(Et);return Ze.push(dt)()};if(Ke.tag==="HitLong")return()=>unit;if(Ke.tag==="ReleaseLong"){const Et=updateKnownPlayerPoints(Ke._1.player)(Ke._1.outcome)(Ge);return()=>{const dt=Et();return Ze.push(dt)()}}if(Ke.tag==="XPositionKeyboard")return(()=>{if(Ke._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Ke._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Ke._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Ke._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(Et=>posFromKeypress(Ke._1.ktpd)(Et.epochTime))($t);if(Ke.tag==="XPositionMobile")return(()=>{if(Ke._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Ke._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Ke._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Ke._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(Et=>posFromOrientation(Ke._1.gtpd)(Et.epochTime))($t);fail$3()})))(()=>_bind(getPlayerForChannel(w)(_)(et)((()=>rt?$Maybe("Just",Player4):Nothing)()))(Ke=>{if(Ke.tag==="Nothing")return _bind(_liftEffect(D.push(GameHasStarted)))(()=>never);if(Ke.tag==="Just")return _bind(_liftEffect(()=>{const Et=Ge.value;return Ge.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1,HasNotStartedYet,Leaf))(Et),unit}))(()=>_bind(_liftEffect((()=>q?xForTouch(b)(O)(x)(Ke._1)(at.publish):xForKeyboard(O)(x)(Ke._1)(at.publish))()))(Et=>_bind(_liftEffect(subscribe(Et)(dt=>{if(Ke._1.tag==="Player1")return writeToRecordImpl("p1x")(dt)($t);if(Ke._1.tag==="Player2")return writeToRecordImpl("p2x")(dt)($t);if(Ke._1.tag==="Player3")return writeToRecordImpl("p3x")(dt)($t);if(Ke._1.tag==="Player4")return writeToRecordImpl("p4x")(dt)($t);fail$3()})))(()=>_bind(_liftEffect(subscribe(J.event)(dt=>{const xt=basicOutcomeToPointOutcome(beatsToBasicOutcome(dt.deltaBeats)),Bt=updateKnownPlayerPoints(Ke._1)(xt)(Ge);return()=>{const Ft=Bt();return Ze.push(Ft)(),for_((()=>{const Ct=lookup$1(ordPlayer)(Ke._1)(Ft);if(Ct.tag==="Just"){if(Ct._1.tag==="HasNotStartedYet")return Nothing;if(Ct._1.tag==="HasStarted")return $Maybe("Just",Ct._1._1);fail$3()}if(Ct.tag==="Nothing")return Nothing;fail$3()})())(Ct=>{const Vt=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(_)(w)(et)(Ke._1)(Ct.points)(Ct.penalties));return()=>(Vt().run(),unit)})(),at.publish($PlayerAction("HitBasic",{uniqueId:dt.uniqueId,logicalBeat:dt.logicalBeat,deltaBeats:dt.deltaBeats,hitAt:dt.hitAt,player:Ke._1,outcome:xt}))()}})))(()=>_bind(_liftEffect(subscribe(ee.event)(dt=>at.publish($PlayerAction("HitLong",{uniqueId:dt.uniqueId,hitAt:dt.hitAt,distance:dt.distance,player:Ke._1})))))(()=>_bind(_liftEffect(subscribe(H.event)(dt=>{const xt=$Either("Right",abs(2-dt.distance)*dt.pctConsumed*20),Bt=updateKnownPlayerPoints(Ke._1)(xt)(Ge);return()=>{const Ft=Bt();return Ze.push(Ft)(),for_((()=>{const Ct=lookup$1(ordPlayer)(Ke._1)(Ft);if(Ct.tag==="Just"){if(Ct._1.tag==="HasNotStartedYet")return Nothing;if(Ct._1.tag==="HasStarted")return $Maybe("Just",Ct._1._1);fail$3()}if(Ct.tag==="Nothing")return Nothing;fail$3()})())(Ct=>{const Vt=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(_)(w)(et)(Ke._1)(Ct.points)(Ct.penalties));return()=>(Vt().run(),unit)})(),at.publish($PlayerAction("ReleaseLong",{uniqueId:dt.uniqueId,hitAt:dt.hitAt,player:Ke._1,distance:dt.distance,pctConsumed:dt.pctConsumed,releasedAt:dt.releasedAt,outcome:xt}))()}})))(()=>_bind(_liftEffect(subscribe(K.event)(dt=>{const xt=magicLeaps(bt)(O)($t)(refToBehavior(ie.renderingInfo))({player:Ke._1,newPosition:dt.newPosition});return()=>(xt(),at.publish($PlayerAction("HitLeap",{uniqueId:dt.uniqueId,hitAt:dt.hitAt,player:Ke._1,oldPosition:dt.oldPosition,newPosition:dt.newPosition}))())})))(()=>{const dt=drop(300)($List("Cons",$Tuple(je._3._1.url,je._3._1.url),Nil)),xt=fromFoldable1(listMap(Bt=>$Tuple(Bt._1,Bt._2))($List("Cons",$Tuple(je._3._1.url,je._3._1.url),Nil)));return _bind(dlInChunks(xt)(100)(take$3(300)($List("Cons",$Tuple(je._3._1.url,je._3._1.url),Nil)))(re)(ue))(()=>_bind(_liftEffect(L.push(!0)))(()=>_bind(dlInChunks(xt)(100)(dt)(re)(ue))(()=>_bind(_liftEffect(getItem("player-name")(F)))(Bt=>_bind(joinFiber(De))(Ft=>_bind(joinFiber(ct))(Ct=>_bind(joinFiber(Ae))(Vt=>_bind(_liftEffect((()=>{const Ut=innerWidth(x),fn=innerHeight(x);return()=>{const Ye=Ut(),qe=fn();return{iw:toNumber(Ye),ih:toNumber(qe)}}})()))(Ut=>_bind(getEventsAff(_)(je._2))(fn=>_liftEffect(D.push($Negotiation("Success",{player:Ke._1,trackId:je._2,track:je._3,events:toAugmentedEvents(arrayMap(Ye=>Ye.data)(fn)),initialDims:Ut,threeDI:Ie,locallyStoredPlayerNameInCaseThisIsAnAnonymousSession:Bt,shaders:u,galaxyAttributes:Xe,cNow:O,playerPositions:refToBehavior($t),models:Ct,channelName:et,pubNubEvent:at.event,textures:Ft,profileEvent:k.event,cubeTextures:Vt,playerStatus:folded((()=>{const Ye=sampleBy(functorEvent)($$const)(refToBehavior(Ge))(applicativeEvent.pure(unit));return(qe,gt)=>{const yt=Ye(qe,gt),Tt=Ze.event(qe,gt);return()=>(yt(),Tt())}})()),optMeIn:Ye=>qe=>{const gt=(()=>qe.tag==="Nothing"?Bt:qe)(),yt=for_(qe)(Tt=>setItem("player-name")(Tt)(F));return()=>{yt();const Tt=Ge.value,kn=Ge.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1,$StartStatus("HasStarted",{startedAt:Ye,points:0,penalties:0,name:gt}),Leaf))(Tt);return at.publish($PlayerAction("PressedStart",{startedAt:Ye,name:gt,player:Ke._1}))(),Ze.push(kn)()}}}))))))))))))})))))));fail$3()})))))))))));fail$3()})));return()=>(Je().run(),unit)})))}))))))))().run(),unit})))().run(),unit})))))))))));return()=>(h().run(),unit)},butterflies="/assets/butterflies.50d2e6a4.mp3",tutorial="/assets/tutorial.28f8239c.mp3",shakuhachi0="/assets/shakuhachi0.87441ba1.mp3",shakuhachi1="/assets/shakuhachi1.467979ab.mp3",shakuhachi2="/assets/shakuhachi2.e7dcdf09.mp3",shakuhachi3="/assets/shakuhachi3.d5a25298.mp3",floorTom="/assets/floorTom.72a3bc1a.mp3",elvedenHallLordsCloakroom="/assets/elvedenHallLordsCloakroom.16b64111.m4a",audio={butterflies,tutorial,shakuhachi0,shakuhachi1,shakuhachi2,shakuhachi3,floorTom,elvedenHallLordsCloakroom},galaxyVertex="data:application/octet-stream;base64,dW5pZm9ybSBmbG9hdCB1U2l6ZTsKdW5pZm9ybSBmbG9hdCB1VGltZTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb24yOwphdHRyaWJ1dGUgdmVjMyBhQ29sb3I7CmF0dHJpYnV0ZSB2ZWMzIGFDb2xvcjI7CnZhcnlpbmcgdmVjMiB2VXY7CiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0NgoKbWF0NCByb3RhdGlvblgoIGluIGZsb2F0IGFuZ2xlICkgewoJcmV0dXJuIG1hdDQoCTEuMCwJCTAsCQkJMCwJCQkwLAoJCQkgCQkwLCAJY29zKGFuZ2xlKSwJLXNpbihhbmdsZSksCQkwLAoJCQkJCTAsIAlzaW4oYW5nbGUpLAkgY29zKGFuZ2xlKSwJCTAsCgkJCQkJMCwgCQkJMCwJCQkgIDAsIAkJMSk7Cn0KCm1hdDQgcm90YXRpb25ZKCBpbiBmbG9hdCBhbmdsZSApIHsKCXJldHVybiBtYXQ0KAljb3MoYW5nbGUpLAkJMCwJCXNpbihhbmdsZSksCTAsCgkJCSAJCQkJMCwJCTEuMCwJCQkgMCwJMCwKCQkJCQktc2luKGFuZ2xlKSwJMCwJCWNvcyhhbmdsZSksCTAsCgkJCQkJCQkwLCAJCTAsCQkJCTAsCTEpOwp9CgptYXQ0IHJvdGF0aW9uWiggaW4gZmxvYXQgYW5nbGUgKSB7CglyZXR1cm4gbWF0NCgJY29zKGFuZ2xlKSwJCS1zaW4oYW5nbGUpLAkwLAkwLAoJCQkgCQlzaW4oYW5nbGUpLAkJY29zKGFuZ2xlKSwJCTAsCTAsCgkJCQkJCQkwLAkJCQkwLAkJMSwJMCwKCQkJCQkJCTAsCQkJCTAsCQkwLAkxKTsKfQoKbWF0MyByb3RNYXQoZmxvYXQgY29zdGhldGEsIHZlYzMgdmMpIHsKICBmbG9hdCBjID0gY29zdGhldGE7CiAgZmxvYXQgcyA9IHNxcnQoMS4wLShjKmMpKTsKICBmbG9hdCBDID0gMS4wLWM7CiAgZmxvYXQgeCA9IHZjLng7CiAgZmxvYXQgeSA9IHZjLnk7CiAgZmxvYXQgeiA9IHZjLno7CiAgbWF0MyBvdXR2OwogIG91dHZbMF1bMF0gPSB4KngqQytjOwogIG91dHZbMV1bMF0gPSB4KnkqQy16KnM7CiAgb3V0dlsyXVswXSA9IHgqeipDK3kqczsKICBvdXR2WzFdWzBdID0geSp4KkMreipzOwogIG91dHZbMV1bMV0gPSB5KnkqQytjOwogIG91dHZbMV1bMl0gPSB5KnoqQy14KnM7CiAgb3V0dlsyXVswXSA9IHoqeCpDLXkqczsKICBvdXR2WzJdWzFdID0geip5KkMreCpzOwogIG91dHZbMl1bMl0gPSB6KnoqQytjOwogIHJldHVybiBvdXR2Owp9CgpmbG9hdCBta1NpblRpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gc2luKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueCAqIDAuMDMpICsgZnV6ei55ICogUEkpICogMC41ICsgMC41Owp9CgpmbG9hdCBta0Nvc1RpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gY29zKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueSAqIDAuMDMpICsgZnV6ei56ICogUEkpICogMC41ICsgMC41Owp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgZHQgPSAwLjAyOwogIGZsb2F0IHNpblRpbWUgPSBta1NpblRpbWUodVRpbWUsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZSA9IG1rQ29zVGltZSh1VGltZSwgYVBvc2l0aW9uKTsKICBmbG9hdCBzaW5UaW1lRnV0dXJlID0gbWtTaW5UaW1lKHVUaW1lICsgZHQsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZUZ1dHVyZSA9IG1rQ29zVGltZSh1VGltZSArIGR0LCBhUG9zaXRpb24pOwogIGZsb2F0IHNpblRpbWUyID0gc2luKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IGNvc1RpbWUyID0gY29zKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IHNpblRpbWUzID0gc2luKHVUaW1lICogUEkgKiA2LjAgKiBhUG9zaXRpb24ueikgKiAwLjUgKyAwLjU7CiAgdmVjMyBtb2RQb3NpdGlvbjsKICBmbG9hdCBmbGFwRmFjdG9yID0gMC43NTsKICBtb2RQb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqIHNpblRpbWUzICogLTEuMCAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi54OwogIG1vZFBvc2l0aW9uLnkgPSBwb3NpdGlvbi55OwogIG1vZFBvc2l0aW9uLnogPSBhYnMocG9zaXRpb24ueCkgKiBzaW5UaW1lMyAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi56OwogIG1hdDQgc2NhbGVNYXRyaXggPSBtYXQ0KDEuMCk7CiAgc2NhbGVNYXRyaXhbMF1bMF0gPSAwLjA1OwogIHNjYWxlTWF0cml4WzFdWzFdID0gMC4wNTsKICBzY2FsZU1hdHJpeFsyXVsyXSA9IDAuMDU7CiAgbWF0NCB0cmFuc2xhdGlvbk1hdHJpeCA9IG1hdDQoMS4wKTsKICBmbG9hdCB4bm93ID0gbWl4KGFQb3NpdGlvbi54ICogMi4wLCBhUG9zaXRpb24yLnggKiAyLjAsIHNpblRpbWUpOwogIGZsb2F0IHlub3cgPSBtaXgoYVBvc2l0aW9uLnkgKiAyLjAsIGFQb3NpdGlvbjIueSAqIDIuMCwgY29zVGltZSk7CiAgZmxvYXQgem5vdyA9IC0yLjAgKyBtaXgoYVBvc2l0aW9uLnogKiAyLjAsIGFQb3NpdGlvbjIueiAqIDIuMCwgc2luVGltZSk7CiAgZmxvYXQgeEZ1dHVyZSA9IG1peChhUG9zaXRpb24ueCAqIDIuMCwgYVBvc2l0aW9uMi54ICogMi4wLCBzaW5UaW1lRnV0dXJlKTsKICBmbG9hdCB5RnV0dXJlID0gbWl4KGFQb3NpdGlvbi55ICogMi4wLCBhUG9zaXRpb24yLnkgKiAyLjAsIGNvc1RpbWVGdXR1cmUpOwogIGZsb2F0IHpGdXR1cmUgPSAtMi4wICsgbWl4KGFQb3NpdGlvbi56ICogMi4wLCBhUG9zaXRpb24yLnogKiAyLjAsIHNpblRpbWVGdXR1cmUpOwogIGZsb2F0IHhWZWwgPSAoeEZ1dHVyZSAtIHhub3cpIC8gZHQ7CiAgZmxvYXQgeVZlbCA9ICh5RnV0dXJlIC0geW5vdykgLyBkdDsKICBmbG9hdCB6VmVsID0gKHpGdXR1cmUgLSB6bm93KSAvIGR0OwogIHZlYzMgdmVsID0gbm9ybWFsaXplKHZlYzMoeFZlbCwgeVZlbCwgelZlbCkpOwogIHZlYzMgTSA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgdmVjMyBOID0gTSAtICh2ZWMzKDAuMCwgMS4wLCAwLjApIC0gdmVsKTsKICBmbG9hdCBjb3N0aGV0YSA9IGRvdChNLE4pLyhsZW5ndGgoTSkqbGVuZ3RoKE4pKTsKICB2ZWMzIGNyb3NzTU4gPSBjcm9zcyhNLCBOKTsKICB2ZWMzIGF4aXMgPSBjcm9zc01OIC8gbGVuZ3RoKGNyb3NzTU4pOwogIHRyYW5zbGF0aW9uTWF0cml4WzNdWzBdID0geG5vdzsKICB0cmFuc2xhdGlvbk1hdHJpeFszXVsxXSA9IHlub3c7CiAgdHJhbnNsYXRpb25NYXRyaXhbM11bMl0gPSB6bm93OwogIHZVdiA9IHV2OwogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogIHNjYWxlTWF0cml4ICogdmVjNChyb3RNYXQoY29zdGhldGEsIGNyb3NzTU4pICogbW9kUG9zaXRpb24sIDEuMCk7CiAgdkNvbG9yID0gdmVjMyhtaXgoYUNvbG9yLngsYUNvbG9yMi54LHNpblRpbWUyKSwgbWl4KGFDb2xvci55LGFDb2xvcjIueSxjb3NUaW1lMiksIG1peChhQ29sb3IueixhQ29sb3IyLnosc2luVGltZTIpKTsKfQ==",galaxyFragment="data:application/octet-stream;base64,dW5pZm9ybSBzYW1wbGVyMkQgdUJ1dHRlcmZseTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKdmFyeWluZyB2ZWMyIHZVdjsKCnZvaWQgbWFpbigpIHsKICAgIC8vIExpZ2h0IHBvaW50CiAgICAvLyBkaXN0YW5jZSBmcm9tIGNlbnRlcgogICAgLy9mbG9hdCBzdHJlbmd0aCA9IGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoMC41KSk7CiAgICAvL2Zsb2F0IHN0cmVuZ3RoID0gZGlzdGFuY2UodlV2LCB2ZWMyKDAuNSkpOwogICAgLy8gYnJpZ2h0ZXN0IGF0IGNlbnRlcgogICAgLy8gc3RyZW5ndGggPSAxLjAgLSBzdHJlbmd0aDsKICAgIC8vIGZhc3QgZmFsbCBvZmYKICAgIC8vIHN0cmVuZ3RoID0gcG93KHN0cmVuZ3RoLCAxMC4wKTsKICAgIC8vIGFtcCB1cCB0byBvdXIgZGVzaXJlZCBjb2xvciBiYXNlZCBvbiBzdHJlbmd0aAogICAgLy92ZWM0IGNvbG9yUmF3ID0gdGV4dHVyZTJEKHVCdXR0ZXJmbHksIHZlYzIoZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnkpKTsKICAgIHZlYzQgY29sb3JSYXcgPSB0ZXh0dXJlMkQodUJ1dHRlcmZseSwgdlV2KTsKICAgIHZlYzQgY29sb3IgPSB2ZWM0KG1peCh2Q29sb3IueCwgY29sb3JSYXcueCwgMC41KSwgbWl4KHZDb2xvci55LCBjb2xvclJhdy55LCAwLjUpLCBtaXgodkNvbG9yLnosIGNvbG9yUmF3LnosIDAuNSksIGNvbG9yUmF3LmEgKiAwLjgpOwogICAgLy92ZWM0IGNvbG9yID0gY29sb3JSYXc7CiAgICAvLyB2ZWMzIGNvbG9yMyA9IG1peCh2ZWMzKDAuMCksIHZDb2xvciwgc3RyZW5ndGgpOwogICAgLy8gdmVjNCBjb2xvciA9IHZlYzQoY29sb3IzLCAxLjApOwogICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn0=",shaders={galaxy:{vertex:galaxyVertex,fragment:galaxyFragment}},skyboxBack="/assets/back.8d9e29a9.png",skyboxBottom="/assets/bottom.12fd9dfa.png",skyboxFront="/assets/front.0bb4245b.png",skyboxLeft="/assets/left.9c5ded93.png",skyboxRight="/assets/right.dc686941.png",skyboxTop="/assets/top.56ee4123.png",cubeTextures={skybox:{back:skyboxBack,bottom:skyboxBottom,front:skyboxFront,left:skyboxLeft,right:skyboxRight,top:skyboxTop}},textures={},models={spaceship:"./models/spaceship26_mod.gltf"};main(models)(shaders)(cubeTextures)(textures)(audio)();export{getDefaultExportFromCjs as g};
