import{V as l}from"./Vector4.27798d04.js";import{V as y}from"./Vector3.5db2ef2e.js";import{Vector2 as c}from"./Vector2.3964b2c2.js";import{Color as p}from"./Color.5efc95ab.js";import{b5 as f}from"./constants.cc13e4fd.js";import"./MathUtils.9169ae61.js";const a=new y,h=new c;class o{constructor(t,r,e){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=r,this.count=t!==void 0?t.length/r:0,this.normalized=e===!0,this.usage=f,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,r,e){t*=this.itemSize,e*=r.itemSize;for(let i=0,n=this.itemSize;i<n;i++)this.array[t+i]=r.array[e+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const r=this.array;let e=0;for(let i=0,n=t.length;i<n;i++){let s=t[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new p),r[e++]=s.r,r[e++]=s.g,r[e++]=s.b}return this}copyVector2sArray(t){const r=this.array;let e=0;for(let i=0,n=t.length;i<n;i++){let s=t[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new c),r[e++]=s.x,r[e++]=s.y}return this}copyVector3sArray(t){const r=this.array;let e=0;for(let i=0,n=t.length;i<n;i++){let s=t[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new y),r[e++]=s.x,r[e++]=s.y,r[e++]=s.z}return this}copyVector4sArray(t){const r=this.array;let e=0;for(let i=0,n=t.length;i<n;i++){let s=t[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new l),r[e++]=s.x,r[e++]=s.y,r[e++]=s.z,r[e++]=s.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let r=0,e=this.count;r<e;r++)h.fromBufferAttribute(this,r),h.applyMatrix3(t),this.setXY(r,h.x,h.y);else if(this.itemSize===3)for(let r=0,e=this.count;r<e;r++)a.fromBufferAttribute(this,r),a.applyMatrix3(t),this.setXYZ(r,a.x,a.y,a.z);return this}applyMatrix4(t){for(let r=0,e=this.count;r<e;r++)a.fromBufferAttribute(this,r),a.applyMatrix4(t),this.setXYZ(r,a.x,a.y,a.z);return this}applyNormalMatrix(t){for(let r=0,e=this.count;r<e;r++)a.fromBufferAttribute(this,r),a.applyNormalMatrix(t),this.setXYZ(r,a.x,a.y,a.z);return this}transformDirection(t){for(let r=0,e=this.count;r<e;r++)a.fromBufferAttribute(this,r),a.transformDirection(t),this.setXYZ(r,a.x,a.y,a.z);return this}set(t,r=0){return this.array.set(t,r),this}getX(t){return this.array[t*this.itemSize]}setX(t,r){return this.array[t*this.itemSize]=r,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,r){return this.array[t*this.itemSize+1]=r,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,r){return this.array[t*this.itemSize+2]=r,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,r){return this.array[t*this.itemSize+3]=r,this}setXY(t,r,e){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this}setXYZ(t,r,e,i){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=i,this}setXYZW(t,r,e,i,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=i,this.array[t+3]=n,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==f&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}o.prototype.isBufferAttribute=!0;class B extends o{constructor(t,r,e){super(new Int8Array(t),r,e)}}class S extends o{constructor(t,r,e){super(new Uint8Array(t),r,e)}}class x extends o{constructor(t,r,e){super(new Uint8ClampedArray(t),r,e)}}class U extends o{constructor(t,r,e){super(new Int16Array(t),r,e)}}class E extends o{constructor(t,r,e){super(new Uint16Array(t),r,e)}}class V extends o{constructor(t,r,e){super(new Int32Array(t),r,e)}}class R extends o{constructor(t,r,e){super(new Uint32Array(t),r,e)}}class m extends o{constructor(t,r,e){super(new Uint16Array(t),r,e)}}m.prototype.isFloat16BufferAttribute=!0;class X extends o{constructor(t,r,e){super(new Float32Array(t),r,e)}}class Y extends o{constructor(t,r,e){super(new Float64Array(t),r,e)}}export{o as BufferAttribute,m as Float16BufferAttribute,X as Float32BufferAttribute,Y as Float64BufferAttribute,U as Int16BufferAttribute,V as Int32BufferAttribute,B as Int8BufferAttribute,E as Uint16BufferAttribute,R as Uint32BufferAttribute,S as Uint8BufferAttribute,x as Uint8ClampedBufferAttribute};
