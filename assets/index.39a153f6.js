(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function f(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerpolicy&&(h.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?h.credentials="include":m.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(m){if(m.ep)return;m.ep=!0;const h=f(m);fetch(m.href,h)}})();const style$1="",style="";(function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var g in d)f.d(h,g,function(y){return d[y]}.bind(null,g));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=193)})([function(o,u,f){(function(d){function m(h){return h&&h.Math==Math&&h}o.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,f(154))},function(o,u,d){var d=d(60),m=Function.prototype,h=m.bind,g=m.call,y=d&&h.bind(g,g);o.exports=d?function(_){return _&&y(_)}:function(_){return _&&function(){return g.apply(_,arguments)}}},function(o,u){o.exports=function(f){try{return!!f()}catch{return!0}}},function(o,u,f){var d=f(0),m=f(42).f,h=f(45),g=f(37),y=f(98),_=f(126),w=f(81);o.exports=function($,v){var b,M,P,I=$.target,S=$.global,C=$.stat,O=S?d:C?d[I]||y(I,{}):(d[I]||{}).prototype;if(O)for(b in v){if(M=v[b],P=$.noTargetGet?(P=m(O,b))&&P.value:O[b],!w(S?b:I+(C?".":"#")+b,$.forced)&&P!==void 0){if(typeof M==typeof P)continue;_(M,P)}($.sham||P&&P.sham)&&h(M,"sham",!0),g(O,b,M,$)}}},function(o,u,h){var d=h(105),m=h(37),h=h(158);d||m(Object.prototype,"toString",h,{unsafe:!0})},function(o,u,w){var d=w(30),m=w(89),h=w(68),M=w(49),g=w(22).f,y=w(109),_=w(54),w=w(17),$="Array Iterator",v=M.set,b=M.getterFor($),M=(o.exports=y(Array,"Array",function(P,I){v(this,{type:$,target:d(P),index:0,kind:I})},function(){var P=b(this),I=P.target,S=P.kind,C=P.index++;return!I||C>=I.length?{value:P.target=void 0,done:!0}:S=="keys"?{value:C,done:!1}:S=="values"?{value:I[C],done:!1}:{value:[C,I[C]],done:!1}},"values"),h.Arguments=h.Array);if(m("keys"),m("values"),m("entries"),!_&&w&&M.name!=="values")try{g(M,"name",{value:"values"})}catch{}},function(o,u,g){var d=g(137).charAt,m=g(23),h=g(49),g=g(109),y="String Iterator",_=h.set,w=h.getterFor(y);g(String,"String",function($){_(this,{type:y,string:m($),index:0})},function(){var $=w(this),v=$.string,b=$.index;return b>=v.length?{value:void 0,done:!0}:(v=d(v,b),$.index+=v.length,{value:v,done:!1})})},function(o,u,Te){function d(Xe,Je){var yt=pt[Xe]=H(qe);return ot(yt,{type:et,tag:Xe,description:Je}),C||(yt.description=Je),yt}function m(Xe,Je,yt){return Xe===Le&&m(Rt,Je,yt),K(Xe),Je=Z(Je),K(yt),N(pt,Je)?(yt.enumerable?(N(Xe,Ue)&&Xe[Ue][Je]&&(Xe[Ue][Je]=!1),yt=H(yt,{enumerable:q(0,!1)})):(N(Xe,Ue)||Mt(Xe,Ue,q(1,{})),Xe[Ue][Je]=!0),en(Xe,Je,yt)):Mt(Xe,Je,yt)}function h(Xe,bt){K(Xe);var yt=J(bt),bt=re(yt).concat(w(yt));return rt(bt,function(xt){C&&!P(g,yt,xt)||m(Xe,xt,yt[xt])}),Xe}function g(Je){var Je=Z(Je),yt=P(Ke,this,Je);return!(this===Le&&N(pt,Je)&&!N(Rt,Je))&&(!(yt||!N(this,Je)||!N(pt,Je)||N(this,Ue)&&this[Ue][Je])||yt)}function y(bt,xt){var yt,bt=J(bt),xt=Z(xt);if(bt!==Le||!N(pt,xt)||N(Rt,xt))return!(yt=ht(bt,xt))||!N(pt,xt)||N(bt,Ue)&&bt[Ue][xt]||(yt.enumerable=!0),yt}function _(Je){var Je=Bt(J(Je)),yt=[];return rt(Je,function(bt){N(pt,bt)||N(pe,bt)||St(yt,bt)}),yt}function w(yt){var Je=yt===Le,yt=Bt(Je?Rt:J(yt)),bt=[];return rt(yt,function(xt){!N(pt,xt)||Je&&!N(Le,xt)||St(bt,pt[xt])}),bt}var $,v=Te(3),$t=Te(0),b=Te(43),M=Te(84),P=Te(21),I=Te(1),S=Te(54),C=Te(17),O=Te(96),B=Te(2),N=Te(20),R=Te(86),L=Te(14),z=Te(19),Y=Te(44),te=Te(73),K=Te(18),Q=Te(36),J=Te(30),Z=Te(72),ne=Te(23),q=Te(61),H=Te(50),re=Te(66),ie=Te(55),G=Te(107),ue=Te(103),le=Te(42),he=Te(22),fe=Te(132),_e=Te(70),Ie=Te(106),be=Te(37),Ne=Te(77),Ve=Te(79),pe=Te(63),ve=Te(78),Re=Te(12),Ge=Te(133),ke=Te(134),Ze=Te(87),it=Te(49),rt=Te(56).forEach,Ue=Ve("hidden"),et="Symbol",Te="prototype",Ve=Re("toPrimitive"),ot=it.set,Ye=it.getterFor(et),Le=Object[Te],at=$t.Symbol,qe=at&&at[Te],nt=$t.TypeError,it=$t.QObject,ft=b("JSON","stringify"),ht=le.f,Mt=he.f,Bt=G.f,Ke=_e.f,St=I([].push),pt=Ne("symbols"),Rt=Ne("op-symbols"),Ot=Ne("string-to-symbol-registry"),Vt=Ne("symbol-to-string-registry"),$t=Ne("wks"),Ut=!it||!it[Te]||!it[Te].findChild,en=C&&B(function(){return H(Mt({},"a",{get:function(){return Mt(this,"a",{value:7}).a}})).a!=7})?function(Xe,Je,yt){var bt=ht(Le,Je);bt&&delete Le[Je],Mt(Xe,Je,yt),bt&&Xe!==Le&&Mt(Le,Je,bt)}:Mt;O||(be(qe=(at=function(){if(Y(qe,this))throw nt("Symbol is not a constructor");var Xe=arguments.length&&arguments[0]!==void 0?ne(arguments[0]):void 0,Je=ve(Xe),yt=function(bt){this===Le&&P(yt,Rt,bt),N(this,Ue)&&N(this[Ue],Je)&&(this[Ue][Je]=!1),en(this,Je,q(1,bt))};return C&&Ut&&en(Le,Je,{configurable:!0,set:yt}),d(Je,Xe)})[Te],"toString",function(){return Ye(this).tag}),be(at,"withoutSetter",function(Xe){return d(ve(Xe),Xe)}),_e.f=g,he.f=m,fe.f=h,le.f=y,ie.f=G.f=_,ue.f=w,Ge.f=function(Xe){return d(Re(Xe),Xe)},C&&(Mt(qe,"description",{configurable:!0,get:function(){return Ye(this).description}}),S||be(Le,"propertyIsEnumerable",g,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!O,sham:!O},{Symbol:at}),rt(re($t),function(Xe){ke(Xe)}),v({target:et,stat:!0,forced:!O},{for:function(Xe){if(Xe=ne(Xe),N(Ot,Xe))return Ot[Xe];var Je=at(Xe);return Ot[Xe]=Je,Vt[Je]=Xe,Je},keyFor:function(Xe){if(!te(Xe))throw nt(Xe+" is not a symbol");if(N(Vt,Xe))return Vt[Xe]},useSetter:function(){Ut=!0},useSimple:function(){Ut=!1}}),v({target:"Object",stat:!0,forced:!O,sham:!C},{create:function(Xe,Je){return Je===void 0?H(Xe):h(H(Xe),Je)},defineProperty:m,defineProperties:h,getOwnPropertyDescriptor:y}),v({target:"Object",stat:!0,forced:!O},{getOwnPropertyNames:_,getOwnPropertySymbols:w}),v({target:"Object",stat:!0,forced:B(function(){ue.f(1)})},{getOwnPropertySymbols:function(Xe){return ue.f(Q(Xe))}}),ft&&v({target:"JSON",stat:!0,forced:!O||B(function(){var Xe=at();return ft([Xe])!="[null]"||ft({a:Xe})!="{}"||ft(Object(Xe))!="{}"})},{stringify:function(Xe,Je,yt){var bt=Ie(arguments),xt=Je;if((z(Je)||Xe!==void 0)&&!te(Xe))return R(Je)||(Je=function(cn,kt){if(L(xt)&&(kt=P(xt,this,cn,kt)),!te(kt))return kt}),bt[1]=Je,M(ft,null,bt)}}),qe[Ve]||($=qe.valueOf,be(qe,Ve,function(Xe){return P($,this)})),Ze(at,et),pe[Ue]=!0},function(o,u,$){function d(P,I){if(P){if(P[v]!==M)try{w(P,v,M)}catch{P[v]=M}if(P[b]||w(P,b,I),g[I]){for(var S in _)if(P[S]!==_[S])try{w(P,S,_[S])}catch{P[S]=_[S]}}}}var m,h=$(0),g=$(138),y=$(139),_=$(5),w=$(45),$=$(12),v=$("iterator"),b=$("toStringTag"),M=_.values;for(m in g)d(h[m]&&h[m].prototype,m);d(y,"DOMTokenList")},function(o,u,f){function d($){if($&&$.forEach!==_)try{w($,"forEach",_)}catch{$.forEach=_}}var m,h=f(0),g=f(138),y=f(139),_=f(168),w=f(45);for(m in g)g[m]&&d(h[m]&&h[m].prototype);d(y)},function(o,u,B){var d,m,h,g,y,_,w,$=B(3),v=B(17),b=B(0),M=B(1),P=B(20),I=B(14),S=B(44),C=B(23),O=B(22).f,B=B(126),N=b.Symbol,R=N&&N.prototype;!v||!I(N)||"description"in R&&N().description===void 0||(d={},B(b=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:C(arguments[0]),z=S(R,this)?new N(L):L===void 0?N():N(L);return L===""&&(d[z]=!0),z},N),(b.prototype=R).constructor=b,m=String(N("test"))=="Symbol(test)",h=M(R.toString),g=M(R.valueOf),y=/^Symbol\((.*)\)[^)]+$/,_=M("".replace),w=M("".slice),O(R,"description",{configurable:!0,get:function(){var L=g(this),z=h(L);return P(d,L)?"":(L=m?w(z,7,-1):_(z,y,"$1"),L===""?void 0:L)}}),$({global:!0,forced:!0},{Symbol:b}))},function(o,u,f){f(134)("iterator")},function(o,u,f){var d=f(0),m=f(77),h=f(20),g=f(78),y=f(96),_=f(123),w=m("wks"),$=d.Symbol,v=$&&$.for,b=_?$:$&&$.withoutSetter||g;o.exports=function(M){var P;return h(w,M)&&(y||typeof w[M]=="string")||(P="Symbol."+M,y&&h($,M)?w[M]=$[M]:w[M]=(_&&v?v:b)(P)),w[M]}},function(o,u,f){var d=f(3),m=f(36),h=f(66);d({target:"Object",stat:!0,forced:f(2)(function(){h(1)})},{keys:function(g){return h(m(g))}})},function(o,u){o.exports=function(f){return typeof f=="function"}},function(o,u,f){var d=f(3),m=f(56).filter;d({target:"Array",proto:!0,forced:!f(94)("filter")},{filter:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,m){var d=m(3),m=m(90);d({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(o,u,f){var d=f(0),m=f(19),h=d.String,g=d.TypeError;o.exports=function(y){if(m(y))return y;throw g(h(y)+" is not an object")}},function(o,u,f){var d=f(14);o.exports=function(m){return typeof m=="object"?m!==null:d(m)}},function(o,u,f){var d=f(1),m=f(36),h=d({}.hasOwnProperty);o.exports=Object.hasOwn||function(g,y){return h(m(g),y)}},function(o,u,d){var d=d(60),m=Function.prototype.call;o.exports=d?m.bind(m):function(){return m.apply(m,arguments)}},function(o,u,f){var d=f(0),m=f(17),h=f(124),g=f(125),y=f(18),_=f(72),w=d.TypeError,$=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b="enumerable",M="configurable",P="writable";u.f=m?g?function(I,S,C){var O;return y(I),S=_(S),y(C),typeof I=="function"&&S==="prototype"&&"value"in C&&P in C&&!C[P]&&(O=v(I,S))&&O[P]&&(I[S]=C.value,C={configurable:(M in C?C:O)[M],enumerable:(b in C?C:O)[b],writable:!1}),$(I,S,C)}:$:function(I,S,C){if(y(I),S=_(S),y(C),h)try{return $(I,S,C)}catch{}if("get"in C||"set"in C)throw w("Accessors not supported");return"value"in C&&(I[S]=C.value),I}},function(o,u,f){var d=f(0),m=f(83),h=d.String;o.exports=function(g){if(m(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return h(g)}},function(o,u,g){var d=g(3),y=g(2),m=g(30),h=g(42).f,g=g(17),y=y(function(){h(1)});d({target:"Object",stat:!0,forced:!g||y,sham:!g},{getOwnPropertyDescriptor:function(_,w){return h(m(_),w)}})},function(o,u,f){var d=f(3),m=f(17),h=f(127),g=f(30),y=f(42),_=f(67);d({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(w){for(var $,v,b=g(w),M=y.f,P=h(b),I={},S=0;P.length>S;)(v=M(b,$=P[S++]))!==void 0&&_(I,$,v);return I}})},function(o,u,b){var d=b(3),O=b(0),m=b(2),h=b(86),g=b(19),y=b(36),_=b(46),w=b(67),$=b(135),v=b(94),C=b(12),b=b(74),M=C("isConcatSpreadable"),P=9007199254740991,I="Maximum allowed index exceeded",S=O.TypeError,C=51<=b||!m(function(){var B=[];return B[M]=!1,B.concat()[0]!==B}),O=v("concat");d({target:"Array",proto:!0,forced:!C||!O},{concat:function(B){for(var N,R,L,z=y(this),Y=$(z,0),te=0,K=-1,Q=arguments.length;K<Q;K++)if(function(J){if(!g(J))return!1;var Z=J[M];return Z!==void 0?!!Z:h(J)}(L=K===-1?z:arguments[K])){if(R=_(L),P<te+R)throw S(I);for(N=0;N<R;N++,te++)N in L&&w(Y,te,L[N])}else{if(P<=te)throw S(I);w(Y,te++,L)}return Y.length=te,Y}})},function(o,u,I){var d=I(3),m=I(0),h=I(86),g=I(85),y=I(19),_=I(101),w=I(46),$=I(30),v=I(67),b=I(12),M=I(94),P=I(106),I=M("slice"),S=b("species"),C=m.Array,O=Math.max;d({target:"Array",proto:!0,forced:!I},{slice:function(B,N){var R,L,z,Y=$(this),te=w(Y),K=_(B,te),Q=_(N===void 0?te:N,te);if(h(Y)&&(R=Y.constructor,(R=g(R)&&(R===C||h(R.prototype))||y(R)&&(R=R[S])===null?void 0:R)===C||R===void 0))return P(Y,K,Q);for(L=new(R===void 0?C:R)(O(Q-K,0)),z=0;K<Q;K++,z++)K in Y&&v(L,z,Y[K]);return L.length=z,L}})},function(o,u,h){var d=h(3),m=h(56).find,h=h(89),g="find",y=!0;g in[]&&Array(1)[g](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{find:function(_){return m(this,_,1<arguments.length?arguments[1]:void 0)}}),h(g)},function(o,u,f){f(3)({target:"Object",stat:!0},{setPrototypeOf:f(104)})},function(o,u,f){var d=f(71),m=f(39);o.exports=function(h){return d(m(h))}},function(o,u,y){var d=y(3),m=y(2),h=y(36),g=y(82),y=y(130);d({target:"Object",stat:!0,forced:m(function(){g(1)}),sham:!y},{getPrototypeOf:function(_){return g(h(_))}})},function(o,u,$){var d=$(3),S=$(43),m=$(84),h=$(159),g=$(131),y=$(18),_=$(19),w=$(50),$=$(2),v=S("Reflect","construct"),b=Object.prototype,M=[].push,P=$(function(){function C(){}return!(v(function(){},[],C)instanceof C)}),I=!$(function(){v(function(){})}),S=P||I;d({target:"Reflect",stat:!0,forced:S,sham:S},{construct:function(C,O){g(C),y(O);var B=arguments.length<3?C:g(arguments[2]);if(I&&!P)return v(C,O,B);if(C==B){switch(O.length){case 0:return new C;case 1:return new C(O[0]);case 2:return new C(O[0],O[1]);case 3:return new C(O[0],O[1],O[2]);case 4:return new C(O[0],O[1],O[2],O[3])}var N=[null];return m(M,N,O),new(m(h,C,N))}return N=B.prototype,B=w(_(N)?N:b),N=m(C,B,O),_(N)?N:B}})},function(o,u,h){var d=h(3),m=h(129).includes,h=h(89);d({target:"Array",proto:!0},{includes:function(g){return m(this,g,1<arguments.length?arguments[1]:void 0)}}),h("includes")},function(o,u,B){var d=B(17),m=B(0),h=B(1),g=B(81),y=B(37),_=B(20),w=B(117),$=B(44),v=B(73),b=B(122),M=B(2),P=B(55).f,I=B(42).f,S=B(22).f,C=B(167),O=B(92).trim,B="Number",N=m[B],R=N.prototype,L=m.TypeError,z=h("".slice),Y=h("".charCodeAt),te=function(ne){var q,H,re,ie,G,ue,le,he=b(ne,"number");if(v(he))throw L("Cannot convert a Symbol value to a number");if(typeof he=="string"&&2<he.length){if(he=O(he),(ne=Y(he,0))===43||ne===45){if((q=Y(he,2))===88||q===120)return NaN}else if(ne===48){switch(Y(he,1)){case 66:case 98:H=2,re=49;break;case 79:case 111:H=8,re=55;break;default:return+he}for(G=(ie=z(he,2)).length,ue=0;ue<G;ue++)if((le=Y(ie,ue))<48||re<le)return NaN;return parseInt(ie,H)}}return+he};if(g(B,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var K,Q=function(q){var q=arguments.length<1?0:N(function(re){return re=b(re,"number"),typeof re=="bigint"?re:te(re)}(q)),H=this;return $(R,H)&&M(function(){C(H)})?w(Object(q),H,Q):q},J=d?P(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0;J.length>Z;Z++)_(N,K=J[Z])&&!_(Q,K)&&S(Q,K,I(N,K));y(m,B,(Q.prototype=R).constructor=Q)}},function(o,u,f){var d=f(3),m=f(174);d({target:"Array",stat:!0,forced:!f(152)(function(h){Array.from(h)})},{from:m})},function(o,u,f){var d=f(0),m=f(39),h=d.Object;o.exports=function(g){return h(m(g))}},function(o,u,f){var d=f(0),m=f(14),h=f(20),g=f(45),y=f(98),_=f(100),w=f(49),$=f(64).CONFIGURABLE,v=w.get,b=w.enforce,M=String(String).split("String");(o.exports=function(P,I,S,L){var O,B=!!L&&!!L.unsafe,N=!!L&&!!L.enumerable,R=!!L&&!!L.noTargetGet,L=L&&L.name!==void 0?L.name:I;m(S)&&(String(L).slice(0,7)==="Symbol("&&(L="["+String(L).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!h(S,"name")||$&&S.name!==L)&&g(S,"name",L),(O=b(S)).source||(O.source=M.join(typeof L=="string"?L:""))),P===d?N?P[I]=S:y(I,S):(B?!R&&P[I]&&(N=!0):delete P[I],N?P[I]=S:g(P,I,S))})(Function.prototype,"toString",function(){return m(this)&&v(this).source||_(this)})},function(o,u,B){var d=B(84),m=B(21),h=B(1),g=B(112),y=B(115),_=B(18),w=B(39),$=B(164),v=B(113),b=B(65),M=B(23),P=B(53),I=B(108),S=B(114),C=B(90),O=B(111),B=B(2),N=O.UNSUPPORTED_Y,R=4294967295,L=Math.min,z=[].push,Y=h(/./.exec),te=h(z),K=h("".slice);g("split",function(Q,J,Z){var ne="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(q,H){var re=M(w(this)),ie=H===void 0?R:H>>>0;if(ie==0)return[];if(q===void 0)return[re];if(!y(q))return m(J,re,q,ie);for(var G,ue,le,he=[],H=(q.ignoreCase?"i":"")+(q.multiline?"m":"")+(q.unicode?"u":"")+(q.sticky?"y":""),fe=0,_e=new RegExp(q.source,H+"g");(G=m(C,_e,re))&&!(fe<(ue=_e.lastIndex)&&(te(he,K(re,fe,G.index)),1<G.length&&G.index<re.length&&d(z,he,I(G,1)),le=G[0].length,fe=ue,ie<=he.length));)_e.lastIndex===G.index&&_e.lastIndex++;return fe===re.length?!le&&Y(_e,"")||te(he,""):te(he,K(re,fe)),ie<he.length?I(he,0,ie):he}:"0".split(void 0,0).length?function(q,H){return q===void 0&&H===0?[]:m(J,this,q,H)}:J;return[function(q,H){var re=w(this),ie=q==null?void 0:P(q,Q);return ie?m(ie,q,re,H):m(ne,M(re),q,H)},function(G,H){var re=_(this),ie=M(G),G=Z(ne,re,ie,H,ne!==J);if(G.done)return G.value;var G=$(re,RegExp),ue=re.unicode,le=(re.ignoreCase?"i":"")+(re.multiline?"m":"")+(re.unicode?"u":"")+(N?"g":"y"),he=new G(N?"^(?:"+re.source+")":re,le),fe=H===void 0?R:H>>>0;if(fe==0)return[];if(ie.length===0)return S(he,ie)===null?[ie]:[];for(var _e=0,Ie=0,be=[];Ie<ie.length;){he.lastIndex=N?0:Ie;var Ne,pe=S(he,N?K(ie,Ie):ie);if(pe===null||(Ne=L(b(he.lastIndex+(N?Ie:0)),ie.length))===_e)Ie=v(ie,Ie,ue);else{if(te(be,K(ie,_e,Ie)),be.length===fe)return be;for(var ve=1;ve<=pe.length-1;ve++)if(te(be,pe[ve]),be.length===fe)return be;Ie=_e=Ne}}return te(be,K(ie,_e)),be}]},!!B(function(){var J=/(?:)/,Q=J.exec,J=(J.exec=function(){return Q.apply(this,arguments)},"ab".split(J));return J.length!==2||J[0]!=="a"||J[1]!=="b"}),N)},function(o,u,f){var d=f(0).TypeError;o.exports=function(m){if(m==null)throw d("Can't call method on "+m);return m}},function(o,u,P){var M=P(1),d=P(64).PROPER,m=P(37),h=P(18),g=P(44),y=P(23),_=P(2),P=P(110),w="toString",$=RegExp.prototype,v=$[w],b=M(P),M=_(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),P=d&&v.name!=w;(M||P)&&m(RegExp.prototype,w,function(){var I=h(this),S=y(I.source),C=I.flags;return"/"+S+"/"+y(C!==void 0||!g($,I)||"flags"in $?C:b(I))},{unsafe:!0})},function(o,u,g){var d=g(17),m=g(64).EXISTS,h=g(1),g=g(22).f,y=Function.prototype,_=h(y.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,$=h(w.exec);d&&!m&&g(y,"name",{configurable:!0,get:function(){try{return $(w,_(this))[1]}catch{return""}}})},function(o,u,f){var d=f(17),m=f(21),h=f(70),g=f(61),y=f(30),_=f(72),w=f(20),$=f(124),v=Object.getOwnPropertyDescriptor;u.f=d?v:function(b,M){if(b=y(b),M=_(M),$)try{return v(b,M)}catch{}if(w(b,M))return g(!m(h.f,b,M),b[M])}},function(o,u,f){var d=f(0),m=f(14);o.exports=function(h,g){return arguments.length<2?(y=d[h],m(y)?y:void 0):d[h]&&d[h][g];var y}},function(o,u,f){f=f(1),o.exports=f({}.isPrototypeOf)},function(o,u,f){var d=f(17),m=f(22),h=f(61);o.exports=d?function(g,y,_){return m.f(g,y,h(1,_))}:function(g,y,_){return g[y]=_,g}},function(o,u,f){var d=f(65);o.exports=function(m){return d(m.length)}},function(o,u,te){var d=te(84),m=te(21),h=te(1),g=te(112),y=te(2),_=te(18),w=te(14),$=te(80),v=te(65),b=te(23),M=te(39),P=te(113),I=te(53),S=te(173),C=te(114),O=te(12)("replace"),B=Math.max,N=Math.min,R=h([].concat),L=h([].push),z=h("".indexOf),Y=h("".slice),te="a".replace(/./,"$0")==="$0",K=!!/./[O]&&/./[O]("a","$0")==="";g("replace",function(Q,J,Z){var ne=K?"$":"$0";return[function(q,H){var re=M(this),ie=q==null?void 0:I(q,O);return ie?m(ie,q,re,H):m(J,b(re),q,H)},function(q,H){var re=_(this),ie=b(q);if(typeof H=="string"&&z(H,ne)===-1&&z(H,"$<")===-1&&(q=Z(J,re,ie,H),q.done))return q.value;for(var G,ue=w(H),le=(ue||(H=b(H)),re.global),he=(le&&(G=re.unicode,re.lastIndex=0),[]);(Ne=C(re,ie))!==null&&(L(he,Ne),le);)b(Ne[0])===""&&(re.lastIndex=P(ie,v(re.lastIndex),G));for(var fe,_e="",Ie=0,be=0;be<he.length;be++){for(var Ne,pe=b((Ne=he[be])[0]),ve=B(N($(Ne.index),ie.length),0),Re=[],Ge=1;Ge<Ne.length;Ge++)L(Re,(fe=Ne[Ge])===void 0?fe:String(fe));var ke=Ne.groups,Ze=ue?(Ze=R([pe],Re,ve,ie),ke!==void 0&&L(Ze,ke),b(d(H,void 0,Ze))):S(pe,ie,ve,Re,ke,H);Ie<=ve&&(_e+=Y(ie,Ie,ve)+Ze,Ie=ve+pe.length)}return _e+Y(ie,Ie)}]},!!y(function(){var Q=/./;return Q.exec=function(){var J=[];return J.groups={a:"7"},J},"".replace(Q,"$<a>")!=="7"})||!te||K)},function(o,u,d){var d=d(1),m=d({}.toString),h=d("".slice);o.exports=function(g){return h(m(g),8,-1)}},function(o,u,O){var d,m,h,g,y,_,w,$,v=O(156),R=O(0),b=O(1),M=O(19),P=O(45),I=O(20),S=O(97),C=O(79),O=O(63),B="Object already initialized",N=R.TypeError,R=R.WeakMap;w=v||S.state?(d=S.state||(S.state=new R),m=b(d.get),h=b(d.has),g=b(d.set),y=function(L,z){if(h(d,L))throw new N(B);return z.facade=L,g(d,L,z),z},_=function(L){return m(d,L)||{}},function(L){return h(d,L)}):(O[$=C("state")]=!0,y=function(L,z){if(I(L,$))throw new N(B);return z.facade=L,P(L,$,z),z},_=function(L){return I(L,$)?L[$]:{}},function(L){return I(L,$)}),o.exports={set:y,get:_,has:w,enforce:function(L){return w(L)?_(L):y(L,{})},getterFor:function(L){return function(z){if(M(z)&&(z=_(z)).type===L)return z;throw N("Incompatible receiver, "+L+" required")}}}},function(o,u,b){function d(){}function m(O){O.write(S("")),O.close();var B=O.parentWindow.Object;return O=null,B}var h,g=b(18),y=b(132),_=b(102),w=b(63),$=b(160),v=b(99),b=b(79),M="prototype",P="script",I=b("IE_PROTO"),S=function(O){return"<"+P+">"+O+"</"+P+">"},C=function(){try{h=new ActiveXObject("htmlfile")}catch{}C=typeof document>"u"||document.domain&&h?m(h):(O=v("iframe"),B="java"+P+":",O.style.display="none",$.appendChild(O),O.src=String(B),(B=O.contentWindow.document).open(),B.write(S("document.F=Object")),B.close(),B.F);for(var O,B,N=_.length;N--;)delete C[M][_[N]];return C()};w[I]=!0,o.exports=Object.create||function(O,B){var N;return O!==null?(d[M]=g(O),N=new d,d[M]=null,N[I]=O):N=C(),B===void 0?N:y.f(N,B)}},function(o,u,_){var d=_(3),m=_(1),h=_(142),g=_(39),y=_(23),_=_(143),w=m("".indexOf);d({target:"String",proto:!0,forced:!_("includes")},{includes:function($){return!!~w(y(g(this)),y(h($)),1<arguments.length?arguments[1]:void 0)}})},function(o,u,ue){var d=ue(17),m=ue(0),h=ue(1),g=ue(81),y=ue(117),_=ue(45),w=ue(22).f,$=ue(55).f,v=ue(44),b=ue(115),M=ue(23),P=ue(110),I=ue(111),S=ue(37),C=ue(2),O=ue(20),B=ue(49).enforce,N=ue(144),fe=ue(12),R=ue(140),L=ue(141),z=fe("match"),Y=m.RegExp,te=Y.prototype,K=m.SyntaxError,Q=h(P),J=h(te.exec),Z=h("".charAt),ne=h("".replace),q=h("".indexOf),H=h("".slice),re=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ie=/a/g,G=/a/g,ue=new Y(ie)!==ie,le=I.MISSED_STICKY,he=I.UNSUPPORTED_Y,fe=d&&(!ue||le||R||L||C(function(){return G[z]=!1,Y(ie)!=ie||Y(G)==G||Y(ie,"i")!="/a/i"})),_e=function(ve){for(var Re,Ge=ve.length,ke=0,Ze="",rt=!1;ke<=Ge;ke++)(Re=Z(ve,ke))==="\\"?Ze+=Re+Z(ve,++ke):rt||Re!=="."?(Re==="["?rt=!0:Re==="]"&&(rt=!1),Ze+=Re):Ze+="[\\s\\S]";return Ze},Ie=function(ve){for(var Re,Ge=ve.length,ke=0,Ze="",rt=[],Ue={},et=!1,Te=!1,Ve=0,ot="";ke<=Ge;ke++){if((Re=Z(ve,ke))==="\\")Re+=Z(ve,++ke);else if(Re==="]")et=!1;else if(!et)switch(!0){case Re==="[":et=!0;break;case Re==="(":J(re,H(ve,ke+1))&&(ke+=2,Te=!0),Ze+=Re,Ve++;continue;case(Re===">"&&Te):if(ot===""||O(Ue,ot))throw new K("Invalid capture group name");Ue[ot]=!0,Te=!(rt[rt.length]=[ot,Ve]),ot="";continue}Te?ot+=Re:Ze+=Re}return[Ze,rt]};if(g("RegExp",fe)){for(var be=function(ve,Re){var Ge,ke,Ze=v(te,this),rt=b(ve),Ue=Re===void 0,et=[],Te=ve;if(!Ze&&rt&&Ue&&ve.constructor===be)return ve;if((rt||v(te,ve))&&(ve=ve.source,Ue&&(Re="flags"in Te?Te.flags:Q(Te))),ve=ve===void 0?"":M(ve),Re=Re===void 0?"":M(Re),Te=ve,rt=Re=R&&"dotAll"in ie&&(Ge=!!Re&&-1<q(Re,"s"))?ne(Re,/s/g,""):Re,le&&"sticky"in ie&&(ke=!!Re&&-1<q(Re,"y"))&&he&&(Re=ne(Re,/y/g,"")),L&&(ve=(Ue=Ie(ve))[0],et=Ue[1]),Ue=y(Y(ve,Re),Ze?this:te,be),(Ge||ke||et.length)&&(Re=B(Ue),Ge&&(Re.dotAll=!0,Re.raw=be(_e(ve),rt)),ke&&(Re.sticky=!0),et.length&&(Re.groups=et)),ve!==Te)try{_(Ue,"source",Te===""?"(?:)":Te)}catch{}return Ue},Ne=$(Y),pe=0;Ne.length>pe;)(function(ve){ve in be||w(be,ve,{configurable:!0,get:function(){return Y[ve]},set:function(Re){Y[ve]=Re}})})(Ne[pe++]);(te.constructor=be).prototype=te,S(m,"RegExp",be)}N("RegExp")},function(o,u,f){var d=f(62);o.exports=function(m,h){return m=m[h],m==null?void 0:d(m)}},function(o,u){o.exports=!1},function(o,u,f){var d=f(128),m=f(102).concat("length","prototype");u.f=Object.getOwnPropertyNames||function(h){return d(h,m)}},function(o,u,f){function d(v){var b=v==1,M=v==2,P=v==3,I=v==4,S=v==6,C=v==7,O=v==5||S;return function(B,N,R,L){for(var z,Y,te=y(B),K=g(te),Q=m(N,R),J=_(K),Z=0,N=L||w,ne=b?N(B,J):M||C?N(B,0):void 0;Z<J;Z++)if((O||Z in K)&&(Y=Q(z=K[Z],Z,te),v))if(b)ne[Z]=Y;else if(Y)switch(v){case 3:return!0;case 5:return z;case 6:return Z;case 2:$(ne,z)}else switch(v){case 4:return!1;case 7:$(ne,z)}return S?-1:P||I?I:ne}}var m=f(88),h=f(1),g=f(71),y=f(36),_=f(46),w=f(135),$=h([].push);o.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(o,u,$){var d=$(3),P=$(1),m=$(42).f,h=$(65),g=$(23),y=$(142),_=$(39),w=$(143),$=$(54),v=P("".startsWith),b=P("".slice),M=Math.min,P=w("startsWith");d({target:"String",proto:!0,forced:!!($||P||!(w=m(String.prototype,"startsWith"))||w.writable)&&!P},{startsWith:function(O){var S=g(_(this)),C=(y(O),h(M(1<arguments.length?arguments[1]:void 0,S.length))),O=g(O);return v?v(S,O,C):b(S,C,C+O.length)===O}})},function(o,u,f){var d=f(3),m=f(56).map;d({target:"Array",proto:!0,forced:!f(94)("map")},{map:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}})},function(o,u,f){var d=f(3),m=f(21),h=f(19),g=f(18),y=f(179),_=f(42),w=f(82);d({target:"Reflect",stat:!0},{get:function $(v,b){var M,P=arguments.length<3?v:arguments[2];return g(v)===P?v[b]:(M=_.f(v,b))?y(M)?M.value:M.get===void 0?void 0:m(M.get,P):h(M=w(v))?$(M,b,P):void 0}})},function(o,u,f){f=f(2),o.exports=!f(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},function(o,u){o.exports=function(f,d){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:d}}},function(o,u,f){var d=f(0),m=f(14),h=f(76),g=d.TypeError;o.exports=function(y){if(m(y))return y;throw g(h(y)+" is not a function")}},function(o,u){o.exports={}},function(o,u,h){var y=h(17),h=h(20),d=Function.prototype,m=y&&Object.getOwnPropertyDescriptor,h=h(d,"name"),g=h&&function(){}.name==="something",y=h&&(!y||m(d,"name").configurable);o.exports={EXISTS:h,PROPER:g,CONFIGURABLE:y}},function(o,u,f){var d=f(80),m=Math.min;o.exports=function(h){return 0<h?m(d(h),9007199254740991):0}},function(o,u,f){var d=f(128),m=f(102);o.exports=Object.keys||function(h){return d(h,m)}},function(o,u,f){var d=f(72),m=f(22),h=f(61);o.exports=function(g,y,_){y=d(y),y in g?m.f(g,y,h(0,_)):g[y]=_}},function(o,u){o.exports={}},function(o,u,f){var d=f(21),m=f(112),h=f(18),g=f(65),y=f(23),_=f(39),w=f(53),$=f(113),v=f(114);m("match",function(b,M,P){return[function(I){var S=_(this),C=I==null?void 0:w(I,b);return C?d(C,I,S):new RegExp(I)[b](y(S))},function(O){var S=h(this),C=y(O),O=P(M,S,C);if(O.done)return O.value;if(!S.global)return v(S,C);for(var B=S.unicode,N=[],R=S.lastIndex=0;(L=v(S,C))!==null;){var L=y(L[0]);(N[R]=L)===""&&(S.lastIndex=$(C,g(S.lastIndex),B)),R++}return R===0?null:N}]})},function(o,u,f){var d={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,h=m&&!d.call({1:2},1);u.f=h?function(g){return g=m(this,g),!!g&&g.enumerable}:d},function(o,u,f){var d=f(0),m=f(1),h=f(2),g=f(48),y=d.Object,_=m("".split);o.exports=h(function(){return!y("z").propertyIsEnumerable(0)})?function(w){return g(w)=="String"?_(w,""):y(w)}:y},function(o,u,f){var d=f(122),m=f(73);o.exports=function(h){return h=d(h,"string"),m(h)?h:h+""}},function(o,u,y){var d=y(0),m=y(43),h=y(14),g=y(44),y=y(123),_=d.Object;o.exports=y?function(w){return typeof w=="symbol"}:function(w){var $=m("Symbol");return h($)&&g($.prototype,_(w))}},function(o,u,h){var d,m,y=h(0),h=h(75),g=y.process,y=y.Deno,g=g&&g.versions||y&&y.version,y=g&&g.v8;!(m=y?0<(d=y.split("."))[0]&&d[0]<4?1:+(d[0]+d[1]):m)&&h&&(!(d=h.match(/Edge\/(\d+)/))||74<=d[1])&&(d=h.match(/Chrome\/(\d+)/))&&(m=+d[1]),o.exports=m},function(o,u,f){f=f(43),o.exports=f("navigator","userAgent")||""},function(o,u,f){var d=f(0).String;o.exports=function(m){try{return d(m)}catch{return"Object"}}},function(o,u,f){var d=f(54),m=f(97);(o.exports=function(h,g){return m[h]||(m[h]=g!==void 0?g:{})})("versions",[]).push({version:"3.21.1",mode:d?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(o,u,d){var d=d(1),m=0,h=Math.random(),g=d(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+g(++m+h,36)}},function(o,u,f){var d=f(77),m=f(78),h=d("keys");o.exports=function(g){return h[g]||(h[g]=m(g))}},function(o,u){var f=Math.ceil,d=Math.floor;o.exports=function(m){return m=+m,m!=m||m==0?0:(0<m?d:f)(m)}},function(o,u,f){function d(v,b){return(v=_[y(v)])==$||v!=w&&(h(b)?m(b):!!b)}var m=f(2),h=f(14),g=/#|\.prototype\./,y=d.normalize=function(v){return String(v).replace(g,".").toLowerCase()},_=d.data={},w=d.NATIVE="N",$=d.POLYFILL="P";o.exports=d},function(o,u,_){var d=_(0),m=_(20),h=_(14),g=_(36),y=_(79),_=_(130),w=y("IE_PROTO"),$=d.Object,v=$.prototype;o.exports=_?$.getPrototypeOf:function(b){if(b=g(b),m(b,w))return b[w];var M=b.constructor;return h(M)&&b instanceof M?M.prototype:b instanceof $?v:null}},function(o,u,f){var d=f(0),m=f(105),h=f(14),g=f(48),y=f(12)("toStringTag"),_=d.Object,w=g(function(){return arguments}())=="Arguments";o.exports=m?g:function($){var v;return $===void 0?"Undefined":$===null?"Null":typeof(v=function(b,M){try{return b[M]}catch{}}($=_($),y))=="string"?v:w?g($):(v=g($))=="Object"&&h($.callee)?"Arguments":v}},function(o,u,d){var d=d(60),m=Function.prototype,h=m.apply,g=m.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(d?g.bind(h):function(){return g.apply(h,arguments)})},function(o,u,f){function d(){}function m(C){if(!_(C))return!1;try{return M(d,b,C),!0}catch{return!1}}function h(C){if(!_(C))return!1;switch(w(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!I(P,v(C))}catch{return!0}}var g=f(1),y=f(2),_=f(14),w=f(83),$=f(43),v=f(100),b=[],M=$("Reflect","construct"),P=/^\s*(?:class|function)\b/,I=g(P.exec),S=!P.exec(d);h.sham=!0,o.exports=!M||y(function(){var C;return m(m.call)||!m(Object)||!m(function(){C=!0})||C})?h:m},function(o,u,f){var d=f(48);o.exports=Array.isArray||function(m){return d(m)=="Array"}},function(o,u,f){var d=f(22).f,m=f(20),h=f(12)("toStringTag");o.exports=function(g,y,_){(g=g&&!_?g.prototype:g)&&!m(g,h)&&d(g,h,{configurable:!0,value:y})}},function(o,u,f){var d=f(1),m=f(62),h=f(60),g=d(d.bind);o.exports=function(y,_){return m(y),_===void 0?y:h?g(y,_):function(){return y.apply(_,arguments)}}},function(o,u,h){var d=h(12),m=h(50),h=h(22),g=d("unscopables"),y=Array.prototype;y[g]==null&&h.f(y,g,{configurable:!0,value:m(null)}),o.exports=function(_){y[g][_]=!0}},function(o,u,b){var d=b(21),m=b(1),h=b(23),g=b(110),y=b(111),_=b(77),w=b(50),$=b(49).get,v=b(140),b=b(141),M=_("native-string-replace",String.prototype.replace),P=RegExp.prototype.exec,I=P,S=m("".charAt),C=m("".indexOf),O=m("".replace),B=m("".slice),N=(_=/b*/g,d(P,m=/a/,"a"),d(P,_,"a"),m.lastIndex!==0||_.lastIndex!==0),R=y.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0;(N||L||R||v||b)&&(I=function(q){var Y,te,K,Q,J,Z,ne=this,G=$(ne),q=h(q),re=G.raw;if(re)return re.lastIndex=ne.lastIndex,ie=d(I,re,q),ne.lastIndex=re.lastIndex,ie;var H=G.groups,re=R&&ne.sticky,ie=d(g,ne),G=ne.source,ue=0,le=q;if(re&&(ie=O(ie,"y",""),C(ie,"g")===-1&&(ie+="g"),le=B(q,ne.lastIndex),0<ne.lastIndex&&(!ne.multiline||ne.multiline&&S(q,ne.lastIndex-1)!==`
`)&&(G="(?: "+G+")",le=" "+le,ue++),Y=new RegExp("^(?:"+G+")",ie)),L&&(Y=new RegExp("^"+G+"$(?!\\s)",ie)),N&&(te=ne.lastIndex),K=d(P,re?Y:ne,le),re?K?(K.input=B(K.input,ue),K[0]=B(K[0],ue),K.index=ne.lastIndex,ne.lastIndex+=K[0].length):ne.lastIndex=0:N&&K&&(ne.lastIndex=ne.global?K.index+K[0].length:te),L&&K&&1<K.length&&d(M,K[0],Y,function(){for(Q=1;Q<arguments.length-2;Q++)arguments[Q]===void 0&&(K[Q]=void 0)}),K&&H)for(K.groups=J=w(null),Q=0;Q<H.length;Q++)J[(Z=H[Q])[0]]=K[Z[1]];return K}),o.exports=I},function(o,u,f){var d=f(3),m=f(92).trim;d({target:"String",proto:!0,forced:f(165)("trim")},{trim:function(){return m(this)}})},function(o,u,g){function d(v){return function(b){return b=h(m(b)),1&v&&(b=y(b,w,"")),b=2&v?y(b,$,""):b}}var _=g(1),m=g(39),h=g(23),g=g(93),y=_("".replace),_="["+g+"]",w=RegExp("^"+_+_+"*"),$=RegExp(_+_+"*$");o.exports={start:d(1),end:d(2),trim:d(3)}},function(o,u){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(o,u,f){var d=f(2),m=f(12),h=f(74),g=m("species");o.exports=function(y){return 51<=h||!d(function(){var _=[];return(_.constructor={})[g]=function(){return{foo:1}},_[y](Boolean).foo!==1})}},function(o,u,h){var d=h(3),y=h(1),_=h(71),m=h(30),h=h(118),g=y([].join),y=_!=Object,_=h("join",",");d({target:"Array",proto:!0,forced:y||!_},{join:function(w){return g(m(this),w===void 0?",":w)}})},function(o,u,m){var d=m(74),m=m(2);o.exports=!!Object.getOwnPropertySymbols&&!m(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(o,u,d){var h=d(0),d=d(98),m="__core-js_shared__",h=h[m]||d(m,{});o.exports=h},function(o,u,f){var d=f(0),m=Object.defineProperty;o.exports=function(h,g){try{m(d,h,{value:g,configurable:!0,writable:!0})}catch{d[h]=g}return g}},function(o,u,m){var d=m(0),m=m(19),h=d.document,g=m(h)&&m(h.createElement);o.exports=function(y){return g?h.createElement(y):{}}},function(o,u,h){var d=h(1),m=h(14),h=h(97),g=d(Function.toString);m(h.inspectSource)||(h.inspectSource=function(y){return g(y)}),o.exports=h.inspectSource},function(o,u,f){var d=f(80),m=Math.max,h=Math.min;o.exports=function(g,y){return g=d(g),g<0?m(g+y,0):h(g,y)}},function(o,u){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(o,u){u.f=Object.getOwnPropertySymbols},function(o,u,f){var d=f(1),m=f(18),h=f(157);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,y=!1,_={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),y=_ instanceof Array}catch{}return function(w,$){return m(w),h($),y?g(w,$):w.__proto__=$,w}}():void 0)},function(o,u,f){var d={};d[f(12)("toStringTag")]="z",o.exports=String(d)==="[object z]"},function(o,u,f){f=f(1),o.exports=f([].slice)},function(o,u,f){var d=f(48),m=f(30),h=f(55).f,g=f(108),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(_){if(!y||d(_)!="Window")return h(m(_));try{return h(_)}catch{return g(y)}}},function(o,u,f){var d=f(0),m=f(101),h=f(46),g=f(67),y=d.Array,_=Math.max;o.exports=function(w,$,v){for(var b=h(w),M=m($,b),P=m(v===void 0?b:v,b),I=y(_(P-M,0)),S=0;M<P;M++,S++)g(I,S,w[M]);return I.length=S,I}},function(o,u,C){function d(){return this}var m=C(3),h=C(21),g=C(54),y=C(64),_=C(14),w=C(163),$=C(82),v=C(104),b=C(87),M=C(45),P=C(37),I=C(12),S=C(68),C=C(136),O=y.PROPER,B=y.CONFIGURABLE,N=C.IteratorPrototype,R=C.BUGGY_SAFARI_ITERATORS,L=I("iterator"),z="values",Y="entries";o.exports=function(te,K,Q,G,Z,ne,q){w(Q,K,G);function H(Ie){if(Ie===Z&&fe)return fe;if(!R&&Ie in le)return le[Ie];switch(Ie){case"keys":case z:case Y:return function(){return new Q(this,Ie)}}return function(){return new Q(this)}}var re,ie,G=K+" Iterator",ue=!1,le=te.prototype,he=le[L]||le["@@iterator"]||Z&&le[Z],fe=!R&&he||H(Z),_e=K=="Array"&&le.entries||he;if(_e&&(_e=$(_e.call(new te)))!==Object.prototype&&_e.next&&(g||$(_e)===N||(v?v(_e,N):_(_e[L])||P(_e,L,d)),b(_e,G,!0,!0),g&&(S[G]=d)),O&&Z==z&&he&&he.name!==z&&(!g&&B?M(le,"name",z):(ue=!0,fe=function(){return h(he,this)})),Z)if(re={values:H(z),keys:ne?fe:H("keys"),entries:H(Y)},q)for(ie in re)!R&&!ue&&ie in le||P(le,ie,re[ie]);else m({target:K,proto:!0,forced:R||ue},re);return g&&!q||le[L]===fe||P(le,L,fe,{name:Z}),S[K]=fe,re}},function(o,u,f){var d=f(18);o.exports=function(){var m=d(this),h="";return m.global&&(h+="g"),m.ignoreCase&&(h+="i"),m.multiline&&(h+="m"),m.dotAll&&(h+="s"),m.unicode&&(h+="u"),m.sticky&&(h+="y"),h}},function(o,u,m){var g=m(2),d=m(0).RegExp,m=g(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!=null}),h=m||g(function(){return!d("a","y").sticky}),g=m||g(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!=null});o.exports={BROKEN_CARET:g,MISSED_STICKY:h,UNSUPPORTED_Y:m}},function(o,u,f){f(16);var d=f(1),m=f(37),h=f(90),g=f(2),y=f(12),_=f(45),w=y("species"),$=RegExp.prototype;o.exports=function(v,b,M,P){var I,S=y(v),C=!g(function(){var B={};return B[S]=function(){return 7},""[v](B)!=7}),O=C&&!g(function(){var B=!1,N=/a/;return v==="split"&&((N={constructor:{}}).constructor[w]=function(){return N},N.flags="",N[S]=/./[S]),N.exec=function(){return B=!0,null},N[S](""),!B});C&&O&&!M||(I=d(/./[S]),O=b(S,""[v],function(Y,N,R,L,z){var Y=d(Y),te=N.exec;return te===h||te===$.exec?C&&!z?{done:!0,value:I(N,R,L)}:{done:!0,value:Y(R,N,L)}:{done:!1}}),m(String.prototype,v,O[0]),m($,S,O[1])),P&&_($[S],"sham",!0)}},function(o,u,f){var d=f(137).charAt;o.exports=function(m,h,g){return h+(g?d(m,h).length:1)}},function(o,u,f){var d=f(0),m=f(21),h=f(18),g=f(14),y=f(48),_=f(90),w=d.TypeError;o.exports=function($,v){var b=$.exec;if(g(b))return(b=m(b,$,v))!==null&&h(b),b;if(y($)==="RegExp")return m(_,$,v);throw w("RegExp#exec called on incompatible receiver")}},function(o,u,f){var d=f(19),m=f(48),h=f(12)("match");o.exports=function(g){var y;return d(g)&&((y=g[h])!==void 0?!!y:m(g)=="RegExp")}},function(o,u,m){var d=m(3),m=m(166);d({target:"Number",stat:!0,forced:Number.parseFloat!=m},{parseFloat:m})},function(o,u,f){var d=f(14),m=f(19),h=f(104);o.exports=function(g,y,_){return h&&d(y=y.constructor)&&y!==_&&m(y=y.prototype)&&y!==_.prototype&&h(g,y),g}},function(o,u,f){var d=f(2);o.exports=function(m,h){var g=[][m];return!!g&&d(function(){g.call(null,h||function(){return 1},1)})}},function(o,u,f){f(145)("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,f){var d=f(83),m=f(53),h=f(68),g=f(12)("iterator");o.exports=function(y){if(y!=null)return m(y,g)||m(y,"@@iterator")||h[d(y)]}},function(o,u,m){var d=m(3),m=m(178);d({target:"Number",stat:!0,forced:Number.parseInt!=m},{parseInt:m})},function(o,u,w){var d=w(0),m=w(21),h=w(19),g=w(73),y=w(53),_=w(155),w=w(12),$=d.TypeError,v=w("toPrimitive");o.exports=function(b,M){if(!h(b)||g(b))return b;var P=y(b,v);if(P){if(P=m(P,b,M=M===void 0?"default":M),!h(P)||g(P))return P;throw $("Can't convert object to primitive value")}return _(b,M=M===void 0?"number":M)}},function(o,u,f){f=f(96),o.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(o,u,f){var d=f(17),m=f(2),h=f(99);o.exports=!d&&!m(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},function(o,u,m){var d=m(17),m=m(2);o.exports=d&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(o,u,f){var d=f(20),m=f(127),h=f(42),g=f(22);o.exports=function(y,_,w){for(var $=m(_),v=g.f,b=h.f,M=0;M<$.length;M++){var P=$[M];d(y,P)||w&&d(w,P)||v(y,P,b(_,P))}}},function(o,u,f){var d=f(43),m=f(1),h=f(55),g=f(103),y=f(18),_=m([].concat);o.exports=d("Reflect","ownKeys")||function(w){var $=h.f(y(w)),v=g.f;return v?_($,v(w)):$}},function(o,u,f){var d=f(1),m=f(20),h=f(30),g=f(129).indexOf,y=f(63),_=d([].push);o.exports=function(w,$){var v,b=h(w),M=0,P=[];for(v in b)!m(y,v)&&m(b,v)&&_(P,v);for(;$.length>M;)!m(b,v=$[M++])||~g(P,v)||_(P,v);return P}},function(o,u,f){function d(y){return function(_,w,$){var v,b=m(_),M=g(b),P=h($,M);if(y&&w!=w){for(;P<M;)if((v=b[P++])!=v)return!0}else for(;P<M;P++)if((y||P in b)&&b[P]===w)return y||P||0;return!y&&-1}}var m=f(30),h=f(101),g=f(46);o.exports={includes:d(!0),indexOf:d(!1)}},function(o,u,f){f=f(2),o.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(o,u,f){var d=f(0),m=f(85),h=f(76),g=d.TypeError;o.exports=function(y){if(m(y))return y;throw g(h(y)+" is not a constructor")}},function(o,u,f){var d=f(17),m=f(125),h=f(22),g=f(18),y=f(30),_=f(66);u.f=d&&!m?Object.defineProperties:function(w,$){g(w);for(var v,b=y($),M=_($),P=M.length,I=0;I<P;)h.f(w,v=M[I++],b[v]);return w}},function(o,u,f){f=f(12),u.f=f},function(o,u,f){var d=f(161),m=f(20),h=f(133),g=f(22).f;o.exports=function(y){var _=d.Symbol||(d.Symbol={});m(_,y)||g(_,y,{value:h.f(y)})}},function(o,u,f){var d=f(162);o.exports=function(m,h){return new(d(m))(h===0?0:h)}},function(o,u,$){var d,m,h=$(2),g=$(14),y=$(50),_=$(82),w=$(37),b=$(12),$=$(54),v=b("iterator"),b=!1;[].keys&&("next"in(m=[].keys())?(_=_(_(m)))!==Object.prototype&&(d=_):b=!0),d==null||h(function(){var M={};return d[v].call(M)!==M})?d={}:$&&(d=y(d)),g(d[v])||w(d,v,function(){return this}),o.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:b}},function(o,u,f){function d(v){return function(I,S){var P,I=g(y(I)),S=h(S),C=I.length;return S<0||C<=S?v?"":void 0:(P=w(I,S))<55296||56319<P||S+1===C||(C=w(I,S+1))<56320||57343<C?v?_(I,S):P:v?$(I,S,S+2):C-56320+(P-55296<<10)+65536}}var m=f(1),h=f(80),g=f(23),y=f(39),_=m("".charAt),w=m("".charCodeAt),$=m("".slice);o.exports={codeAt:d(!1),charAt:d(!0)}},function(o,u){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(o,u,f){f=f(99)("span").classList,f=f&&f.constructor&&f.constructor.prototype,o.exports=f===Object.prototype?void 0:f},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m(".","s");return!(h.dotAll&&h.exec(`
`)&&h.flags==="s")})},function(o,u,f){var d=f(2),m=f(0).RegExp;o.exports=d(function(){var h=m("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},function(o,u,f){var d=f(0),m=f(115),h=d.TypeError;o.exports=function(g){if(m(g))throw h("The method doesn't accept regular expressions");return g}},function(o,u,f){var d=f(12)("match");o.exports=function(m){var h=/./;try{"/./"[m](h)}catch{try{return h[d]=!1,"/./"[m](h)}catch{}}return!1}},function(o,u,f){var d=f(43),m=f(22),h=f(12),g=f(17),y=h("species");o.exports=function(w){var w=d(w),$=m.f;g&&w&&!w[y]&&$(w,y,{configurable:!0,get:function(){return this}})}},function(o,u,f){var d=f(3),m=f(0),h=f(1),g=f(81),y=f(37),_=f(146),w=f(147),$=f(151),v=f(14),b=f(19),M=f(2),P=f(152),I=f(87),S=f(117);o.exports=function(C,O,B){function N(re){var ie=h(ne[re]);y(ne,re,re=="add"?function(G){return ie(this,G===0?0:G),this}:re=="delete"?function(G){return!(Q&&!b(G))&&ie(this,G===0?0:G)}:re=="get"?function(G){return Q&&!b(G)?void 0:ie(this,G===0?0:G)}:re=="has"?function(G){return!(Q&&!b(G))&&ie(this,G===0?0:G)}:function(G,ue){return ie(this,G===0?0:G,ue),this})}var R,L,z,Y,te,K=C.indexOf("Map")!==-1,Q=C.indexOf("Weak")!==-1,J=K?"set":"add",Z=m[C],ne=Z&&Z.prototype,q=Z,H={};return g(C,!v(Z)||!(Q||ne.forEach&&!M(function(){new Z().entries().next()})))?(q=B.getConstructor(O,C,K,J),_.enable()):g(C,!0)&&(L=(R=new q)[J](Q?{}:-0,1)!=R,z=M(function(){R.has(1)}),Y=P(function(re){new Z(re)}),te=!Q&&M(function(){for(var re=new Z,ie=5;ie--;)re[J](ie,ie);return!re.has(-0)}),Y||(((q=O(function(re,ie){return $(re,ne),re=S(new Z,re,q),ie!=null&&w(ie,re[J],{that:re,AS_ENTRIES:K}),re})).prototype=ne).constructor=q),(z||te)&&(N("delete"),N("has"),K&&N("get")),(te||L)&&N(J),Q&&ne.clear&&delete ne.clear),H[C]=q,d({global:!0,forced:q!=Z},H),I(q,C),Q||B.setStrong(q,C,K),q}},function(o,u,f){function d(B){w(B,S,{value:{objectID:"O"+C++,weakData:{}}})}var m=f(3),h=f(1),g=f(63),y=f(19),_=f(20),w=f(22).f,$=f(55),v=f(107),b=f(169),M=f(78),P=f(171),I=!1,S=M("meta"),C=0,O=o.exports={enable:function(){O.enable=function(){},I=!0;var B=$.f,N=h([].splice),R={};R[S]=1,B(R).length&&($.f=function(L){for(var z=B(L),Y=0,te=z.length;Y<te;Y++)if(z[Y]===S){N(z,Y,1);break}return z},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},fastKey:function(B,N){if(!y(B))return typeof B=="symbol"?B:(typeof B=="string"?"S":"P")+B;if(!_(B,S)){if(!b(B))return"F";if(!N)return"E";d(B)}return B[S].objectID},getWeakData:function(B,N){if(!_(B,S)){if(!b(B))return!0;if(!N)return!1;d(B)}return B[S].weakData},onFreeze:function(B){return P&&I&&b(B)&&!_(B,S)&&d(B),B}};g[S]=!0},function(o,u,f){function d(C,O){this.stopped=C,this.result=O}var m=f(0),h=f(88),g=f(21),y=f(18),_=f(76),w=f(148),$=f(46),v=f(44),b=f(149),M=f(120),P=f(150),I=m.TypeError,S=d.prototype;o.exports=function(C,O,B){function N(re){return L&&P(L,"normal",re),new d(!0,re)}function R(re){return Z?(y(re),q?H(re[0],re[1],N):H(re[0],re[1])):q?H(re,N):H(re)}var L,z,Y,te,K,Q,J=B&&B.that,Z=!(!B||!B.AS_ENTRIES),ne=!(!B||!B.IS_ITERATOR),q=!(!B||!B.INTERRUPTED),H=h(O,J);if(ne)L=C;else{if(!(B=M(C)))throw I(_(C)+" is not iterable");if(w(B)){for(z=0,Y=$(C);z<Y;z++)if((te=R(C[z]))&&v(S,te))return te;return new d(!1)}L=b(C,B)}for(K=L.next;!(Q=g(K,L)).done;){try{te=R(Q.value)}catch(re){P(L,"throw",re)}if(typeof te=="object"&&te&&v(S,te))return te}return new d(!1)}},function(o,u,f){var d=f(12),m=f(68),h=d("iterator"),g=Array.prototype;o.exports=function(y){return y!==void 0&&(m.Array===y||g[h]===y)}},function(o,u,f){var d=f(0),m=f(21),h=f(62),g=f(18),y=f(76),_=f(120),w=d.TypeError;o.exports=function($,v){var b=arguments.length<2?_($):v;if(h(b))return g(m(b,$));throw w(y($)+" is not iterable")}},function(o,u,f){var d=f(21),m=f(18),h=f(53);o.exports=function(g,y,_){var w,$;m(g);try{if(!(w=h(g,"return"))){if(y==="throw")throw _;return _}w=d(w,g)}catch(v){$=!0,w=v}if(y==="throw")throw _;if($)throw w;return m(w),_}},function(o,u,f){var d=f(0),m=f(44),h=d.TypeError;o.exports=function(g,y){if(m(y,g))return g;throw h("Incorrect invocation")}},function(o,u,f){var d=f(12)("iterator"),m=!1;try{var h=0,g={next:function(){return{done:!!h++}},return:function(){m=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}o.exports=function(y,_){if(!_&&!m)return!1;var w=!1;try{var $={};$[d]=function(){return{next:function(){return{done:w=!0}}}},y($)}catch{}return w}},function(o,u,M){var d=M(22).f,m=M(50),h=M(172),g=M(88),y=M(151),_=M(147),w=M(109),$=M(144),v=M(17),b=M(146).fastKey,M=M(49),P=M.set,I=M.getterFor;o.exports={getConstructor:function(L,C,O,B){function N(te,K,Q){var J,Z=Y(te),ne=R(te,K);return ne?ne.value=Q:(Z.last=ne={index:J=b(K,!0),key:K,value:Q,previous:K=Z.last,next:void 0,removed:!1},Z.first||(Z.first=ne),K&&(K.next=ne),v?Z.size++:te.size++,J!=="F"&&(Z.index[J]=ne)),te}function R(J,K){var Q,J=Y(J),Z=b(K);if(Z!=="F")return J.index[Z];for(Q=J.first;Q;Q=Q.next)if(Q.key==K)return Q}var L=L(function(te,K){y(te,z),P(te,{type:C,index:m(null),first:void 0,last:void 0,size:0}),v||(te.size=0),K!=null&&_(K,te[B],{that:te,AS_ENTRIES:O})}),z=L.prototype,Y=I(C);return h(z,{clear:function(){for(var te=Y(this),K=te.index,Q=te.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete K[Q.index],Q=Q.next;te.first=te.last=void 0,v?te.size=0:this.size=0},delete:function(Z){var K,Q,J=Y(this),Z=R(this,Z);return Z&&(K=Z.next,Q=Z.previous,delete J.index[Z.index],Z.removed=!0,Q&&(Q.next=K),K&&(K.previous=Q),J.first==Z&&(J.first=K),J.last==Z&&(J.last=Q),v?J.size--:this.size--),!!Z},forEach:function(te){for(var K,Q=Y(this),J=g(te,1<arguments.length?arguments[1]:void 0);K=K?K.next:Q.first;)for(J(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(te){return!!R(this,te)}}),h(z,O?{get:function(te){return te=R(this,te),te&&te.value},set:function(te,K){return N(this,te===0?0:te,K)}}:{add:function(te){return N(this,te=te===0?0:te,te)}}),v&&d(z,"size",{get:function(){return Y(this).size}}),L},setStrong:function(S,C,O){var B=C+" Iterator",N=I(C),R=I(B);w(S,C,function(L,z){P(this,{type:B,target:L,state:N(L),kind:z,last:void 0})},function(){for(var L=R(this),z=L.kind,Y=L.last;Y&&Y.removed;)Y=Y.previous;return L.target&&(L.last=Y=Y?Y.next:L.state.first)?z=="keys"?{value:Y.key,done:!1}:z=="values"?{value:Y.value,done:!1}:{value:[Y.key,Y.value],done:!1}:{value:L.target=void 0,done:!0}},O?"entries":"values",!O,!0),$(C)}}},function(o,u){var f=function(){return this}();try{f=f||new Function("return this")()}catch{typeof window=="object"&&(f=window)}o.exports=f},function(o,u,f){var d=f(0),m=f(21),h=f(14),g=f(19),y=d.TypeError;o.exports=function(_,w){var $,v;if(w==="string"&&h($=_.toString)&&!g(v=m($,_))||h($=_.valueOf)&&!g(v=m($,_))||w!=="string"&&h($=_.toString)&&!g(v=m($,_)))return v;throw y("Can't convert object to primitive value")}},function(o,u,m){var h=m(0),d=m(14),m=m(100),h=h.WeakMap;o.exports=d(h)&&/native code/.test(m(h))},function(o,u,f){var d=f(0),m=f(14),h=d.String,g=d.TypeError;o.exports=function(y){if(typeof y=="object"||m(y))return y;throw g("Can't set "+h(y)+" as a prototype")}},function(o,u,f){var d=f(105),m=f(83);o.exports=d?{}.toString:function(){return"[object "+m(this)+"]"}},function(o,u,w){var d=w(0),m=w(1),h=w(62),g=w(19),y=w(20),_=w(106),w=w(60),$=d.Function,v=m([].concat),b=m([].join),M={};o.exports=w?$.bind:function(P){var I=h(this),S=I.prototype,C=_(arguments,1),O=function(){var B=v(C,_(arguments));if(this instanceof O){var N=I,R=B.length,L=B;if(!y(M,R)){for(var z=[],Y=0;Y<R;Y++)z[Y]="a["+Y+"]";M[R]=$("C,a","return new C("+b(z,",")+")")}return M[R](N,L)}return I.apply(P,B)};return g(S)&&(O.prototype=S),O}},function(o,u,f){f=f(43),o.exports=f("document","documentElement")},function(o,u,f){f=f(0),o.exports=f},function(o,u,f){var d=f(0),m=f(86),h=f(85),g=f(19),y=f(12)("species"),_=d.Array;o.exports=function(w){var $;return m(w)&&($=w.constructor,(h($)&&($===_||m($.prototype))||g($)&&($=$[y])===null)&&($=void 0)),$===void 0?_:$}},function(o,u,f){function d(){return this}var m=f(136).IteratorPrototype,h=f(50),g=f(61),y=f(87),_=f(68);o.exports=function(w,$,v,b){return $+=" Iterator",w.prototype=h(m,{next:g(+!b,v)}),y(w,$,!1,!0),_[$]=d,w}},function(o,u,f){var d=f(18),m=f(131),h=f(12)("species");o.exports=function(_,y){var _=d(_).constructor;return _===void 0||(_=d(_)[h])==null?y:m(_)}},function(o,u,f){var d=f(64).PROPER,m=f(2),h=f(93);o.exports=function(g){return m(function(){return!!h[g]()||"\u200B\x85\u180E"[g]()!=="\u200B\x85\u180E"||d&&h[g].name!==g})}},function(o,u,g){var v=g(0),d=g(2),w=g(1),m=g(23),h=g(92).trim,g=g(93),y=w("".charAt),_=v.parseFloat,w=v.Symbol,$=w&&w.iterator,v=1/_(g+"-0")!=-1/0||$&&!d(function(){_(Object($))});o.exports=v?function(M){var M=h(m(M)),P=_(M);return P===0&&y(M,0)=="-"?-0:P}:_},function(o,u,f){f=f(1),o.exports=f(1 .valueOf)},function(o,u,m){var d=m(56).forEach,m=m(118)("forEach");o.exports=m?[].forEach:function(h){return d(this,h,1<arguments.length?arguments[1]:void 0)}},function(o,u,_){var d=_(2),m=_(19),h=_(48),g=_(170),y=Object.isExtensible,_=d(function(){});o.exports=_||g?function(w){return!!m(w)&&(!g||h(w)!="ArrayBuffer")&&(!y||y(w))}:y},function(o,u,f){f=f(2),o.exports=f(function(){var d;typeof ArrayBuffer=="function"&&(d=new ArrayBuffer(8),Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8}))})},function(o,u,f){f=f(2),o.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(o,u,f){var d=f(37);o.exports=function(m,h,g){for(var y in h)d(m,y,h[y],g);return m}},function(o,u,f){var d=f(1),m=f(36),h=Math.floor,g=d("".charAt),y=d("".replace),_=d("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$=/\$([$&'`]|\d{1,2})/g;o.exports=function(v,b,M,P,I,S){var C=M+v.length,O=P.length,B=$;return I!==void 0&&(I=m(I),B=w),y(S,B,function(N,R){var L;switch(g(R,0)){case"$":return"$";case"&":return v;case"`":return _(b,0,M);case"'":return _(b,C);case"<":L=I[_(R,1,-1)];break;default:var z,Y=+R;if(Y==0)return N;if(O<Y)return(z=h(Y/10))!==0&&z<=O?P[z-1]===void 0?g(R,1):P[z-1]+g(R,1):N;L=P[Y-1]}return L===void 0?"":L})}},function(o,u,f){var d=f(0),m=f(88),h=f(21),g=f(36),y=f(175),_=f(148),w=f(85),$=f(46),v=f(67),b=f(149),M=f(120),P=d.Array;o.exports=function(z){var S,C,O,B,N,R,L=g(z),z=w(this),K=arguments.length,Y=1<K?arguments[1]:void 0,te=Y!==void 0,K=(te&&(Y=m(Y,2<K?arguments[2]:void 0)),M(L)),Q=0;if(!K||this==P&&_(K))for(S=$(L),C=z?new this(S):P(S);Q<S;Q++)R=te?Y(L[Q],Q):L[Q],v(C,Q,R);else for(N=(B=b(L,K)).next,C=z?new this:[];!(O=h(N,B)).done;Q++)R=te?y(B,Y,[O.value,Q],!0):O.value,v(C,Q,R);return C.length=Q,C}},function(o,u,f){var d=f(18),m=f(150);o.exports=function(h,g,y,_){try{return _?g(d(y)[0],y[1]):g(y)}catch(w){m(h,"throw",w)}}},function(o,u,h){var d=h(3),m=h(2),h=h(107).f;d({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},function(o,u,f){f(145)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},f(153))},function(o,u,y){var b=y(0),d=y(2),m=y(1),h=y(23),g=y(92).trim,y=y(93),_=b.parseInt,b=b.Symbol,w=b&&b.iterator,$=/^[+-]?0x/i,v=m($.exec),b=_(y+"08")!==8||_(y+"0x16")!==22||w&&!d(function(){_(Object(w))});o.exports=b?function(M,P){return M=g(h(M)),_(M,P>>>0||(v($,M)?16:10))}:_},function(o,u,f){var d=f(20);o.exports=function(m){return m!==void 0&&(d(m,"value")||d(m,"writable"))}},function(o,u,C){var d=C(3),O=C(1),m=C(62),h=C(36),g=C(46),y=C(23),_=C(2),w=C(181),B=C(118),$=C(182),v=C(183),b=C(74),M=C(184),P=[],I=O(P.sort),S=O(P.push),C=_(function(){P.sort(void 0)}),O=_(function(){P.sort(null)}),B=B("sort"),N=!_(function(){if(b)return b<70;if(!($&&3<$)){if(v)return!0;if(M)return M<603;for(var R,L,z,Y="",te=65;te<76;te++){switch(R=String.fromCharCode(te),te){case 66:case 69:case 70:case 72:L=3;break;case 68:case 71:L=4;break;default:L=2}for(z=0;z<47;z++)P.push({k:R+z,v:L})}for(P.sort(function(K,Q){return Q.v-K.v}),z=0;z<P.length;z++)R=P[z].k.charAt(0),Y.charAt(Y.length-1)!==R&&(Y+=R);return Y!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:C||!O||!B||!N},{sort:function(R){R!==void 0&&m(R);var L=h(this);if(N)return R===void 0?I(L):I(L,R);for(var z,Y,te=[],K=g(L),Q=0;Q<K;Q++)Q in L&&S(te,L[Q]);for(w(te,(Y=R,function(J,Z){return Z===void 0?-1:J===void 0?1:Y!==void 0?+Y(J,Z)||0:y(J)>y(Z)?1:-1})),z=te.length,Q=0;Q<z;)L[Q]=te[Q++];for(;Q<K;)delete L[Q++];return L}})},function(o,u,f){function d(g,y){var _=g.length,w=h(_/2);if(_<8){for(var $,v,b=g,M=y,P=b.length,I=1;I<P;){for($=b[v=I];v&&0<M(b[v-1],$);)b[v]=b[--v];v!==I++&&(b[v]=$)}return b}for(var S=g,C=d(m(g,0,w),y),O=d(m(g,w),y),B=y,N=C.length,R=O.length,L=0,z=0;L<N||z<R;)S[L+z]=L<N&&z<R?B(C[L],O[z])<=0?C[L++]:O[z++]:L<N?C[L++]:O[z++];return S}var m=f(108),h=Math.floor;o.exports=d},function(o,u,f){f=f(75).match(/firefox\/(\d+)/i),o.exports=!!f&&+f[1]},function(o,u,f){f=f(75),o.exports=/MSIE|Trident/.test(f)},function(o,u,f){f=f(75).match(/AppleWebKit\/(\d+)\./),o.exports=!!f&&+f[1]},function(o,u,m){var d=m(3),m=m(186);d({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},function(o,u,f){var d=f(17),m=f(1),h=f(21),g=f(2),y=f(66),_=f(103),w=f(70),$=f(36),v=f(71),b=Object.assign,M=Object.defineProperty,P=m([].concat);o.exports=!b||g(function(){if(d&&b({b:1},b(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},S={},C=Symbol(),O="abcdefghijklmnopqrst";return I[C]=7,O.split("").forEach(function(B){S[B]=B}),b({},I)[C]!=7||y(b({},S)).join("")!=O})?function(I,S){for(var C=$(I),O=arguments.length,B=1,N=_.f,R=w.f;B<O;)for(var L,z=v(arguments[B++]),Y=N?P(y(z),N(z)):y(z),te=Y.length,K=0;K<te;)L=Y[K++],d&&!h(R,z,L)||(C[L]=z[L]);return C}:b},function(o,u,h){var d=h(3),m=h(56).findIndex,h=h(89),g="findIndex",y=!0;g in[]&&Array(1)[g](function(){y=!1}),d({target:"Array",proto:!0,forced:y},{findIndex:function(_){return m(this,_,1<arguments.length?arguments[1]:void 0)}}),h(g)},function(o,u,f){f(3)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(o,u,f){var d=f(3),m=f(190).values;d({target:"Object",stat:!0},{values:function(h){return m(h)}})},function(o,u,f){function d($){return function(v){for(var b,M=y(v),P=g(M),I=P.length,S=0,C=[];S<I;)b=P[S++],m&&!_(M,b)||w(C,$?[b,M[b]]:M[b]);return C}}var m=f(17),h=f(1),g=f(66),y=f(30),_=h(f(70).f),w=h([].push);o.exports={entries:d(!0),values:d(!1)}},function(o,u,d){var d=d(3),m=Math.ceil,h=Math.floor;d({target:"Math",stat:!0},{trunc:function(g){return(0<g?h:m)(g)}})},,function(o,qe,ze){ze.r(qe);var d={};ze.r(d),ze.d(d,"top",function(){return nt}),ze.d(d,"bottom",function(){return it}),ze.d(d,"right",function(){return ft}),ze.d(d,"left",function(){return ht}),ze.d(d,"auto",function(){return Mt}),ze.d(d,"basePlacements",function(){return Bt}),ze.d(d,"start",function(){return Ke}),ze.d(d,"end",function(){return St}),ze.d(d,"clippingParents",function(){return pt}),ze.d(d,"viewport",function(){return Rt}),ze.d(d,"popper",function(){return Ot}),ze.d(d,"reference",function(){return Vt}),ze.d(d,"variationPlacements",function(){return $t}),ze.d(d,"placements",function(){return Ut}),ze.d(d,"beforeRead",function(){return en}),ze.d(d,"read",function(){return Xe}),ze.d(d,"afterRead",function(){return Je}),ze.d(d,"beforeMain",function(){return yt}),ze.d(d,"main",function(){return bt}),ze.d(d,"afterMain",function(){return xt}),ze.d(d,"beforeWrite",function(){return cn}),ze.d(d,"write",function(){return kt}),ze.d(d,"afterWrite",function(){return Wn}),ze.d(d,"modifierPhases",function(){return Fn}),ze.d(d,"applyStyles",function(){return dt}),ze.d(d,"arrow",function(){return hn}),ze.d(d,"computeStyles",function(){return Pr}),ze.d(d,"eventListeners",function(){return Ar}),ze.d(d,"flip",function(){return ai}),ze.d(d,"hide",function(){return dr}),ze.d(d,"offset",function(){return ui}),ze.d(d,"popperOffsets",function(){return Fr}),ze.d(d,"preventOverflow",function(){return mr}),ze.d(d,"popperGenerator",function(){return D}),ze.d(d,"detectOverflow",function(){return wn}),ze.d(d,"createPopperBase",function(){return V}),ze.d(d,"createPopper",function(){return X}),ze.d(d,"createPopperLite",function(){return ae}),ze(29),ze(31),ze(4),ze(32),ze(7),ze(10),ze(11),ze(5),ze(6),ze(8),ze(16),ze(69),ze(33),ze(51),ze(57),ze(38),ze(91),ze(116),ze(34),ze(9),ze(13),ze(52),ze(40),ze(26);function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function h(A){return(A=z(A))&&document.querySelector(A)?A:null}function g(A){return(A=z(A))?document.querySelector(A):null}function y(A){A.dispatchEvent(new Event(L))}function _(A){return Y(A)?A.jquery?A[0]:A:typeof A=="string"&&0<A.length?document.querySelector(A):null}function w(A,T,F){Object.keys(F).forEach(function(x){var E=F[x],k=T[x],k=k&&Y(k)?"element":(k=k)==null?"".concat(k):{}.toString.call(k).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(E).test(k))throw new TypeError("".concat(A.toUpperCase(),': Option "').concat(x,'" provided type "').concat(k,'" but expected type "').concat(E,'".'))})}function $(A){return!(!Y(A)||A.getClientRects().length===0)&&getComputedStyle(A).getPropertyValue("visibility")==="visible"}function v(A){return!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false")}function b(A){return document.documentElement.attachShadow?typeof A.getRootNode=="function"?(T=A.getRootNode())instanceof ShadowRoot?T:null:A instanceof ShadowRoot?A:A.parentNode?b(A.parentNode):null:null;var T}function M(){}function P(A){A.offsetHeight}function I(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-bs-no-jquery")?A:null}function S(){return document.documentElement.dir==="rtl"}function C(A){var T;T=function(){var F,x,E=I();E&&(F=A.NAME,x=E.fn[F],E.fn[F]=A.jQueryInterface,E.fn[F].Constructor=A,E.fn[F].noConflict=function(){return E.fn[F]=x,A.jQueryInterface})},document.readyState==="loading"?(te.length||document.addEventListener("DOMContentLoaded",function(){te.forEach(function(F){return F()})}),te.push(T)):T()}function O(A){typeof A=="function"&&A()}function B(A,T){var F,x;2<arguments.length&&arguments[2]!==void 0&&!arguments[2]?O(A):(F=function(j){if(!j)return 0;var j=window.getComputedStyle(j),k=j.transitionDuration,j=j.transitionDelay,W=Number.parseFloat(k),ee=Number.parseFloat(j);return W||ee?(k=k.split(",")[0],j=j.split(",")[0],(Number.parseFloat(k)+Number.parseFloat(j))*R):0}(T)+5,x=!1,T.addEventListener(L,function E(k){k.target===T&&(x=!0,T.removeEventListener(L,E),O(A))}),setTimeout(function(){x||y(T)},F))}function N(A,T,F,x){if((T=A.indexOf(T))===-1)return A[!F&&x?A.length-1:0];var E=A.length;return T+=F?1:-1,x&&(T=(T+E)%E),A[Math.max(0,Math.min(T,E-1))]}var R=1e3,L="transitionend",z=function(A){var T=A.getAttribute("data-bs-target");if(!T||T==="#"){if(A=A.getAttribute("href"),!A||!A.includes("#")&&!A.startsWith("."))return null;T=(A=A.includes("#")&&!A.startsWith("#")?"#".concat(A.split("#")[1]):A)&&A!=="#"?A.trim():null}return T},Y=function(A){return!(!A||m(A)!=="object")&&(A=A.jquery!==void 0?A[0]:A).nodeType!==void 0},te=[];ze(119),ze(47),ze(27),ze(41),ze(35);function K(A,T){return function(F){if(Array.isArray(F))return F}(A)||function(F,x){var E=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(E!=null){var k,j,W=[],ee=!0,se=!1;try{for(E=E.call(F);!(ee=(k=E.next()).done)&&(W.push(k.value),!x||W.length!==x);ee=!0);}catch(oe){se=!0,j=oe}finally{try{ee||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,T)||function(F,x){if(F){if(typeof F=="string")return Q(F,x);var E=Object.prototype.toString.call(F).slice(8,-1);return(E=E==="Object"&&F.constructor?F.constructor.name:E)==="Map"||E==="Set"?Array.from(F):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?Q(F,x):void 0}}(A,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}var J=/[^.]*(?=\..*)\.|.*/,Z=/\..*/,ne=/::\d+$/,q={},H=1,re={mouseenter:"mouseover",mouseleave:"mouseout"},ie=/^(mouseenter|mouseleave)/i,G=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ue(A,T){return T&&"".concat(T,"::").concat(H++)||A.uidEvent||H++}function le(A){var T=ue(A);return A.uidEvent=T,q[T]=q[T]||{},q[T]}function he(A,T,F){for(var x=2<arguments.length&&F!==void 0?F:null,E=Object.keys(A),k=0,j=E.length;k<j;k++){var W=A[E[k]];if(W.originalHandler===T&&W.delegationSelector===x)return W}return null}function fe(A,k,E){var x=typeof k=="string",E=x?E:k,k=be(A);return[x,E,k=G.has(k)?k:A]}function _e(A,T,F,x,E){var k,j,W,ee,se,oe,ye,me,Se,Ae;typeof T=="string"&&A&&(F||(F=x,x=null),ie.test(T)&&(W=function(Pe){return function(Fe){if(!Fe.relatedTarget||Fe.relatedTarget!==Fe.delegateTarget&&!Fe.delegateTarget.contains(Fe.relatedTarget))return Pe.call(this,Fe)}},x?x=W(x):F=W(F)),k=(W=K(fe(T,F,x),3))[0],j=W[1],W=W[2],(se=he(ee=(ee=le(A))[W]||(ee[W]={}),j,k?F:null))?se.oneOff=se.oneOff&&E:(se=ue(j,T.replace(J,"")),(T=k?(me=A,Se=F,Ae=x,function Pe(Fe){for(var Me=me.querySelectorAll(Se),Oe=Fe.target;Oe&&Oe!==this;Oe=Oe.parentNode)for(var We=Me.length;We--;)if(Me[We]===Oe)return Fe.delegateTarget=Oe,Pe.oneOff&&Ne.off(me,Fe.type,Se,Ae),Ae.apply(Oe,[Fe]);return null}):(oe=A,ye=F,function Pe(Fe){return Fe.delegateTarget=oe,Pe.oneOff&&Ne.off(oe,Fe.type,ye),ye.apply(oe,[Fe])})).delegationSelector=k?F:null,T.originalHandler=j,T.oneOff=E,ee[T.uidEvent=se]=T,A.addEventListener(W,T,k)))}function Ie(A,T,F,x,E){x=he(T[F],x,E),x&&(A.removeEventListener(F,x,Boolean(E)),delete T[F][x.uidEvent])}function be(A){return A=A.replace(Z,""),re[A]||A}var Ne={on:function(A,T,F,x){_e(A,T,F,x,!1)},one:function(A,T,F,x){_e(A,T,F,x,!0)},off:function(A,T,F,x){if(typeof T=="string"&&A){var x=K(fe(T,F,x),3),E=x[0],k=x[1],j=x[2],W=j!==T,ee=le(A),x=T.startsWith(".");if(k!==void 0)return ee&&ee[j]?void Ie(A,ee,j,k,E?F:null):void 0;x&&Object.keys(ee).forEach(function(ye){var me,Se,Ae,Pe,Fe;me=A,Se=ee,Ae=ye,Pe=T.slice(1),Fe=Se[Ae]||{},Object.keys(Fe).forEach(function(Me){Me.includes(Pe)&&(Me=Fe[Me],Ie(me,Se,Ae,Me.originalHandler,Me.delegationSelector))})});var se=ee[j]||{};Object.keys(se).forEach(function(ye){var me=ye.replace(ne,"");W&&!T.includes(me)||(me=se[ye],Ie(A,ee,j,me.originalHandler,me.delegationSelector))})}},trigger:function(A,T,F){if(typeof T!="string"||!A)return null;var x,E=I(),k=be(T),j=T!==k,W=G.has(k),ee=!0,se=!0,oe=!1,ye=null;return j&&E&&(x=E.Event(T,F),E(A).trigger(x),ee=!x.isPropagationStopped(),se=!x.isImmediatePropagationStopped(),oe=x.isDefaultPrevented()),W?(ye=document.createEvent("HTMLEvents")).initEvent(k,ee,!0):ye=new CustomEvent(T,{bubbles:ee,cancelable:!0}),F!==void 0&&Object.keys(F).forEach(function(me){Object.defineProperty(ye,me,{get:function(){return F[me]}})}),oe&&ye.preventDefault(),se&&A.dispatchEvent(ye),ye.defaultPrevented&&x!==void 0&&x.preventDefault(),ye}},pe=Ne,ve=(ze(176),ze(177),new Map),Re=function(A,T,F){ve.has(A)||ve.set(A,new Map),A=ve.get(A),A.has(T)||A.size===0?A.set(T,F):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(A.keys())[0],"."))},Ge=function(A,T){return ve.has(A)&&ve.get(A).get(T)||null},ke=function(A,T){var F;ve.has(A)&&((F=ve.get(A)).delete(T),F.size===0&&ve.delete(A))};function Ze(A){return(Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function rt(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var Ue=function(){function A(E){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");(E=_(E))&&(this._element=E,Re(this._element,this.constructor.DATA_KEY,this))}var T,F,x;return T=A,x=[{key:"getInstance",value:function(E){return Ge(_(E),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,Ze(k)==="object"?k:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}],(F=[{key:"dispose",value:function(){var E=this;ke(this._element,this.constructor.DATA_KEY),pe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(k){E[k]=null})}},{key:"_queueCallback",value:function(E,k){B(E,k,!(2<arguments.length&&arguments[2]!==void 0)||arguments[2])}}])&&rt(T.prototype,F),x&&rt(T,x),Object.defineProperty(T,"prototype",{writable:!1}),A}();function et(A){return(et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Te(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Ve(A,T){return(Ve=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function ot(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Ye(A),x=(F=T?(F=Ye(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(et(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ye(A){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var qe=".".concat("bs.button"),Le='[data-bs-toggle="button"]',qe="click".concat(qe).concat(".data-api"),at=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ve(A,T);var F,x=ot(E);function E(){var k=this,j=E;if(k instanceof j)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);k==="toggle"&&j[k]()})}}],(F=[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}])&&Te(A.prototype,F),T&&Te(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),qe=(pe.on(document,qe,Le,function(A){A.preventDefault(),A=A.target.closest(Le),at.getOrCreateInstance(A).toggle()}),C(at),at),nt=(ze(28),ze(58),ze(121),ze(15),ze(59),ze(24),ze(25),"top"),it="bottom",ft="right",ht="left",Mt="auto",Bt=[nt,it,ft,ht],Ke="start",St="end",pt="clippingParents",Rt="viewport",Ot="popper",Vt="reference",$t=Bt.reduce(function(A,T){return A.concat([T+"-"+Ke,T+"-"+St])},[]),Ut=[].concat(Bt,[Mt]).reduce(function(A,T){return A.concat([T,T+"-"+Ke,T+"-"+St])},[]),en="beforeRead",Xe="read",Je="afterRead",yt="beforeMain",bt="main",xt="afterMain",cn="beforeWrite",kt="write",Wn="afterWrite",Fn=[en,Xe,Je,yt,bt,xt,cn,kt,Wn];function rn(A){return A?(A.nodeName||"").toLowerCase():null}function on(A){return A==null?window:A.toString()!=="[object Window]"?(T=A.ownerDocument)&&T.defaultView||window:A;var T}function ge(A){return A instanceof on(A).Element||A instanceof Element}function Ee(A){return A instanceof on(A).HTMLElement||A instanceof HTMLElement}function He(A){if(typeof ShadowRoot<"u")return A instanceof on(A).ShadowRoot||A instanceof ShadowRoot}var dt={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var T=A.state;Object.keys(T.elements).forEach(function(F){var x=T.styles[F]||{},E=T.attributes[F]||{},k=T.elements[F];Ee(k)&&rn(k)&&(Object.assign(k.style,x),Object.keys(E).forEach(function(j){var W=E[j];W===!1?k.removeAttribute(j):k.setAttribute(j,W===!0?"":W)}))})},effect:function(A){var T=A.state,F={popper:{position:T.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(T.elements.popper.style,F.popper),T.styles=F,T.elements.arrow&&Object.assign(T.elements.arrow.style,F.arrow),function(){Object.keys(T.elements).forEach(function(j){var E=T.elements[j],k=T.attributes[j]||{},j=Object.keys((T.styles.hasOwnProperty(j)?T.styles:F)[j]).reduce(function(W,ee){return W[ee]="",W},{});Ee(E)&&rn(E)&&(Object.assign(E.style,j),Object.keys(k).forEach(function(W){E.removeAttribute(W)}))})}},requires:["computeStyles"]};function Tt(A){return A.split("-")[0]}var zt=Math.max,Lt=Math.min,Ft=Math.round;function Zt(A,T){T===void 0&&(T=!1);var F=A.getBoundingClientRect(),x=1,E=1;return Ee(A)&&T&&(T=A.offsetHeight,0<(A=A.offsetWidth)&&(x=Ft(F.width)/A||1),0<T&&(E=Ft(F.height)/T||1)),{width:F.width/x,height:F.height/E,top:F.top/E,right:F.right/x,bottom:F.bottom/E,left:F.left/x,x:F.left/x,y:F.top/E}}function sn(A){var T=Zt(A),F=A.offsetWidth,x=A.offsetHeight;return Math.abs(T.width-F)<=1&&(F=T.width),Math.abs(T.height-x)<=1&&(x=T.height),{x:A.offsetLeft,y:A.offsetTop,width:F,height:x}}function Vn(A,T){var F=T.getRootNode&&T.getRootNode();if(A.contains(T))return!0;if(F&&He(F)){var x=T;do if(x&&A.isSameNode(x))return!0;while(x=x.parentNode||x.host)}return!1}function fn(A){return on(A).getComputedStyle(A)}function dn(A){return((ge(A)?A.ownerDocument:A.document)||window.document).documentElement}function gt(A){return rn(A)==="html"?A:A.assignedSlot||A.parentNode||(He(A)?A.host:null)||dn(A)}function wt(A){return Ee(A)&&fn(A).position!=="fixed"?A.offsetParent:null}function jt(A){for(var T,F=on(A),x=wt(A);x&&(T=x,0<=["table","td","th"].indexOf(rn(T)))&&fn(x).position==="static";)x=wt(x);return(!x||rn(x)!=="html"&&(rn(x)!=="body"||fn(x).position!=="static"))&&(x||function(E){var k=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,j=navigator.userAgent.indexOf("Trident")!==-1;if(j&&Ee(E)&&fn(E).position==="fixed")return null;var W=gt(E);for(He(W)&&(W=W.host);Ee(W)&&["html","body"].indexOf(rn(W))<0;){var ee=fn(W);if(ee.transform!=="none"||ee.perspective!=="none"||ee.contain==="paint"||["transform","perspective"].indexOf(ee.willChange)!==-1||k&&ee.willChange==="filter"||k&&ee.filter&&ee.filter!=="none")return W;W=W.parentNode}return null}(A))||F}function tn(A){return 0<=["top","bottom"].indexOf(A)?"x":"y"}function mn(A,T,F){return zt(A,Lt(T,F))}function Tn(){return{top:0,right:0,bottom:0,left:0}}function Et(A){return Object.assign({},Tn(),A)}function Nt(A,T){return T.reduce(function(F,x){return F[x]=A,F},{})}var hn={name:"arrow",enabled:!0,phase:"main",fn:function(W){var T,F,x,E,k=W.state,j=W.name,W=W.options,ee=k.elements.arrow,se=k.modifiersData.popperOffsets,oe=tn(ye=Tt(k.placement)),ye=0<=[ht,ft].indexOf(ye)?"height":"width";ee&&se&&(W=W.padding,F=k,F=Et(typeof(W=typeof W=="function"?W(Object.assign({},F.rects,{placement:F.placement})):W)!="number"?W:Nt(W,Bt)),W=sn(ee),E=oe==="y"?nt:ht,x=oe==="y"?it:ft,T=k.rects.reference[ye]+k.rects.reference[oe]-se[oe]-k.rects.popper[ye],se=se[oe]-k.rects.reference[oe],ee=(ee=jt(ee))?oe==="y"?ee.clientHeight||0:ee.clientWidth||0:0,E=F[E],F=ee-W[ye]-F[x],E=mn(E,x=ee/2-W[ye]/2+(T/2-se/2),F),k.modifiersData[j]=((ee={})[oe]=E,ee.centerOffset=E-x,ee))},effect:function(A){var T=A.state;(A=(A=A.options.element)===void 0?"[data-popper-arrow]":A)!=null&&(typeof A!="string"||(A=T.elements.popper.querySelector(A)))&&Vn(T.elements.popper,A)&&(T.elements.arrow=A)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jn(A){return A.split("-")[1]}var Vi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tr(We){var T,F,x,Oe=We.popper,E=We.popperRect,k=We.placement,j=We.variation,Ae=We.offsets,W=We.position,ee=We.gpuAcceleration,se=We.adaptive,oe=We.roundOffsets,We=We.isFixed,ye=Ae.x,ye=ye===void 0?0:ye,me=Ae.y,me=me===void 0?0:me,Se=typeof oe=="function"?oe({x:ye,y:me}):{x:ye,y:me},Se=(ye=Se.x,me=Se.y,Ae.hasOwnProperty("x")),Ae=Ae.hasOwnProperty("y"),Pe=ht,Fe=nt,Me=window,Oe=(se&&(F="clientHeight",T="clientWidth",(x=jt(Oe))===on(Oe)&&fn(x=dn(Oe)).position!=="static"&&W==="absolute"&&(F="scrollHeight",T="scrollWidth"),k!==nt&&(k!==ht&&k!==ft||j!==St)||(Fe=it,me=(me-((We&&x===Me&&Me.visualViewport?Me.visualViewport.height:x[F])-E.height))*(ee?1:-1)),k!==ht&&(k!==nt&&k!==it||j!==St)||(Pe=ft,ye=(ye-((We&&x===Me&&Me.visualViewport?Me.visualViewport.width:x[T])-E.width))*(ee?1:-1))),Object.assign({position:W},se&&Vi)),We=oe===!0?(k=(F={x:ye,y:me}).x,F=F.y,j=window.devicePixelRatio||1,{x:Ft(k*j)/j||0,y:Ft(F*j)/j||0}):{x:ye,y:me};return ye=We.x,me=We.y,ee?Object.assign({},Oe,((x={})[Fe]=Ae?"0":"",x[Pe]=Se?"0":"",x.transform=(Me.devicePixelRatio||1)<=1?"translate("+ye+"px, "+me+"px)":"translate3d("+ye+"px, "+me+"px, 0)",x)):Object.assign({},Oe,((T={})[Fe]=Ae?me+"px":"",T[Pe]=Se?ye+"px":"",T.transform="",T))}var Pr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var T=x.state,x=x.options,E=(E=x.gpuAcceleration)===void 0||E,F=(F=x.adaptive)===void 0||F,x=(x=x.roundOffsets)===void 0||x,E={placement:Tt(T.placement),variation:jn(T.placement),popper:T.elements.popper,popperRect:T.rects.popper,gpuAcceleration:E,isFixed:T.options.strategy==="fixed"};T.modifiersData.popperOffsets!=null&&(T.styles.popper=Object.assign({},T.styles.popper,Tr(Object.assign({},E,{offsets:T.modifiersData.popperOffsets,position:T.options.strategy,adaptive:F,roundOffsets:x})))),T.modifiersData.arrow!=null&&(T.styles.arrow=Object.assign({},T.styles.arrow,Tr(Object.assign({},E,{offsets:T.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:x})))),T.attributes.popper=Object.assign({},T.attributes.popper,{"data-popper-placement":T.placement})},data:{}},Gn={passive:!0},Ar={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var T=A.state,F=A.instance,x=(A=A.options).scroll,E=x===void 0||x,k=(x=A.resize)===void 0||x,j=on(T.elements.popper),W=[].concat(T.scrollParents.reference,T.scrollParents.popper);return E&&W.forEach(function(ee){ee.addEventListener("scroll",F.update,Gn)}),k&&j.addEventListener("resize",F.update,Gn),function(){E&&W.forEach(function(ee){ee.removeEventListener("scroll",F.update,Gn)}),k&&j.removeEventListener("resize",F.update,Gn)}},data:{}},Ui={left:"right",right:"left",bottom:"top",top:"bottom"};function cr(A){return A.replace(/left|right|bottom|top/g,function(T){return Ui[T]})}var Mn={start:"end",end:"start"};function oi(A){return A.replace(/start|end/g,function(T){return Mn[T]})}function Pt(A){return A=on(A),{scrollLeft:A.pageXOffset,scrollTop:A.pageYOffset}}function Br(A){return Zt(dn(A)).left+Pt(A).scrollLeft}function fr(x){var x=fn(x),T=x.overflow,F=x.overflowX,x=x.overflowY;return/auto|scroll|overlay|hidden/.test(T+x+F)}function qn(F,T){T===void 0&&(T=[]);var E=function k(j){return 0<=["html","body","#document"].indexOf(rn(j))?j.ownerDocument.body:Ee(j)&&fr(j)?j:k(gt(j))}(F),F=E===((F=F.ownerDocument)==null?void 0:F.body),x=on(E),x=F?[x].concat(x.visualViewport||[],fr(E)?E:[]):E,E=T.concat(x);return F?E:E.concat(qn(gt(x)))}function Or(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Pn(A,T){return T===Rt?Or((x=on(F=A),E=dn(F),x=x.visualViewport,k=E.clientWidth,E=E.clientHeight,W=j=0,x&&(k=x.width,E=x.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(j=x.offsetLeft,W=x.offsetTop)),{width:k,height:E,x:j+Br(F),y:W})):ge(T)?((k=Zt(x=T)).top=k.top+x.clientTop,k.left=k.left+x.clientLeft,k.bottom=k.top+x.clientHeight,k.right=k.left+x.clientWidth,k.width=x.clientWidth,k.height=x.clientHeight,k.x=k.left,k.y=k.top,k):Or((E=dn(A),j=dn(E),F=Pt(E),W=(W=E.ownerDocument)==null?void 0:W.body,T=zt(j.scrollWidth,j.clientWidth,W?W.scrollWidth:0,W?W.clientWidth:0),A=zt(j.scrollHeight,j.clientHeight,W?W.scrollHeight:0,W?W.clientHeight:0),E=-F.scrollLeft+Br(E),F=-F.scrollTop,fn(W||j).direction==="rtl"&&(E+=zt(j.clientWidth,W?W.clientWidth:0)-T),{width:T,height:A,x:E,y:F}));var F,x,E,k,j,W}function Ji(A,j,W){var x,E=j==="clippingParents"?(k=qn(gt(E=A)),ge(x=0<=["absolute","fixed"].indexOf(fn(E).position)&&Ee(E)?jt(E):E)?k.filter(function(ee){return ge(ee)&&Vn(ee,x)&&rn(ee)!=="body"}):[]):[].concat(j),k=[].concat(E,[W]),j=k[0],W=k.reduce(function(ee,se){return se=Pn(A,se),ee.top=zt(se.top,ee.top),ee.right=Lt(se.right,ee.right),ee.bottom=Lt(se.bottom,ee.bottom),ee.left=zt(se.left,ee.left),ee},Pn(A,j));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}function pr(k){var T,F=k.reference,x=k.element,k=k.placement,E=k?Tt(k):null,k=k?jn(k):null,j=F.x+F.width/2-x.width/2,W=F.y+F.height/2-x.height/2;switch(E){case nt:T={x:j,y:F.y-x.height};break;case it:T={x:j,y:F.y+F.height};break;case ft:T={x:F.x+F.width,y:W};break;case ht:T={x:F.x-x.width,y:W};break;default:T={x:F.x,y:F.y}}var ee=E?tn(E):null;if(ee!=null){var se=ee==="y"?"height":"width";switch(k){case Ke:T[ee]=T[ee]-(F[se]/2-x[se]/2);break;case St:T[ee]=T[ee]+(F[se]/2-x[se]/2)}}return T}function wn(A,k){var F,k=k=k===void 0?{}:k,x=k.placement,x=x===void 0?A.placement:x,W=k.boundary,W=W===void 0?pt:W,ee=k.rootBoundary,ee=ee===void 0?Rt:ee,E=k.elementContext,E=E===void 0?Ot:E,j=k.altBoundary,j=j!==void 0&&j,k=k.padding,k=k===void 0?0:k,k=Et(typeof k!="number"?k:Nt(k,Bt)),oe=A.rects.popper,j=A.elements[j?E===Ot?Vt:Ot:E],j=Ji(ge(j)?j:j.contextElement||dn(A.elements.popper),W,ee),W=Zt(A.elements.reference),ee=pr({reference:W,element:oe,strategy:"absolute",placement:x}),oe=Or(Object.assign({},oe,ee)),ee=E===Ot?oe:W,se={top:j.top-ee.top+k.top,bottom:ee.bottom-j.bottom+k.bottom,left:j.left-ee.left+k.left,right:ee.right-j.right+k.right},oe=A.modifiersData.offset;return E===Ot&&oe&&(F=oe[x],Object.keys(se).forEach(function(ye){var me=0<=[ft,it].indexOf(ye)?1:-1,Se=0<=[nt,it].indexOf(ye)?"y":"x";se[ye]+=F[Se]*me})),se}var ai={name:"flip",enabled:!0,phase:"main",fn:function(x){var T=x.state,F=x.options,x=x.name;if(!T.modifiersData[x]._skip){for(var Se=F.mainAxis,E=Se===void 0||Se,Se=F.altAxis,k=Se===void 0||Se,Se=F.fallbackPlacements,j=F.padding,W=F.boundary,ee=F.rootBoundary,se=F.altBoundary,me=F.flipVariations,oe=me===void 0||me,ye=F.allowedAutoPlacements,me=T.options.placement,F=Tt(me),Se=Se||(F===me||!oe?[cr(me)]:function(Dt){if(Tt(Dt)===Mt)return[];var kn=cr(Dt);return[oi(Dt),kn,oi(kn)]}(me)),Ae=[me].concat(Se).reduce(function(Dt,kn){return Dt.concat(Tt(kn)===Mt?(Qt=T,ri=(Dt=Dt=(Dt={placement:kn,boundary:W,rootBoundary:ee,padding:j,flipVariations:oe,allowedAutoPlacements:ye})===void 0?{}:Dt).placement,ur=Dt.boundary,At=Dt.rootBoundary,lr=Dt.padding,Di=Dt.flipVariations,zi=(Dt=Dt.allowedAutoPlacements)===void 0?Ut:Dt,Zo=jn(ri),Dt=Zo?Di?$t:$t.filter(function(Hn){return jn(Hn)===Zo}):Bt,Wi=(ri=(ri=Dt.filter(function(Hn){return 0<=zi.indexOf(Hn)})).length===0?Dt:ri).reduce(function(Hn,ii){return Hn[ii]=wn(Qt,{placement:ii,boundary:ur,rootBoundary:At,padding:lr})[Tt(ii)],Hn},{}),Object.keys(Wi).sort(function(Hn,ii){return Wi[Hn]-Wi[ii]})):kn);var Qt,ri,ur,At,lr,Di,zi,Zo,Wi},[]),Pe=T.rects.reference,Fe=T.rects.popper,Me=new Map,Oe=!0,We=Ae[0],Qe=0;Qe<Ae.length;Qe++){var lt=Ae[Qe],vt=Tt(lt),Wt=jn(lt)===Ke,mt=0<=[nt,it].indexOf(vt),un=mt?"width":"height",st=wn(T,{placement:lt,boundary:W,rootBoundary:ee,altBoundary:se,padding:j}),mt=mt?Wt?ft:ht:Wt?it:nt,Wt=(Pe[un]>Fe[un]&&(mt=cr(mt)),cr(mt)),un=[];if(E&&un.push(st[vt]<=0),k&&un.push(st[mt]<=0,st[Wt]<=0),un.every(function(Dt){return Dt})){We=lt,Oe=!1;break}Me.set(lt,un)}if(Oe)for(var Kt=oe?3:1;0<Kt&&function(ln){var Dt=Ae.find(function(kn){if(kn=Me.get(kn),kn)return kn.slice(0,ln).every(function(Qt){return Qt})});if(Dt)return We=Dt,"break"}(Kt)!=="break";Kt--);T.placement!==We&&(T.modifiersData[x]._skip=!0,T.placement=We,T.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function si(A,T,F){return{top:A.top-T.height-(F=F===void 0?{x:0,y:0}:F).y,right:A.right-T.width+F.x,bottom:A.bottom-T.height+F.y,left:A.left-T.width-F.x}}function xr(A){return[nt,ft,it,ht].some(function(T){return 0<=A[T]})}var dr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(F){var T=F.state,F=F.name,k=T.rects.reference,W=T.rects.popper,x=T.modifiersData.preventOverflow,E=wn(T,{elementContext:"reference"}),j=wn(T,{altBoundary:!0}),E=si(E,k),k=si(j,W,x),j=xr(E),W=xr(k);T.modifiersData[F]={referenceClippingOffsets:E,popperEscapeOffsets:k,isReferenceHidden:j,hasPopperEscaped:W},T.attributes.popper=Object.assign({},T.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":W})}},ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(F){var T=F.state,E=F.options,F=F.name,x=(E=E.offset)===void 0?[0,0]:E,E=Ut.reduce(function(W,ee){var se,oe,ye,me;return W[ee]=(ee=ee,se=T.rects,oe=x,ye=Tt(ee),me=0<=[ht,nt].indexOf(ye)?-1:1,ee=(se=typeof oe=="function"?oe(Object.assign({},se,{placement:ee})):oe)[0]||0,oe=(se[1]||0)*me,0<=[ht,ft].indexOf(ye)?{x:oe,y:ee}:{x:ee,y:oe}),W},{}),k=(j=E[T.placement]).x,j=j.y;T.modifiersData.popperOffsets!=null&&(T.modifiersData.popperOffsets.x+=k,T.modifiersData.popperOffsets.y+=j),T.modifiersData[F]=E}},Fr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(F){var T=F.state,F=F.name;T.modifiersData[F]=pr({reference:T.rects.reference,element:T.rects.popper,strategy:"absolute",placement:T.placement})},data:{}},mr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ye){var T,F,x,E,k,j,W,ee,se,oe=ye.state,mt=ye.options,ye=ye.name,me=(me=mt.mainAxis)===void 0||me,Se=(Se=mt.altAxis)!==void 0&&Se,Fe=mt.boundary,Me=mt.rootBoundary,Oe=mt.altBoundary,Ae=mt.padding,Pe=(Pe=mt.tether)===void 0||Pe,mt=(mt=mt.tetherOffset)===void 0?0:mt,Fe=wn(oe,{boundary:Fe,rootBoundary:Me,padding:Ae,altBoundary:Oe}),Me=Tt(oe.placement),Oe=!(Ae=jn(oe.placement)),We=tn(Me),Qe=We==="x"?"y":"x",lt=oe.modifiersData.popperOffsets,vt=oe.rects.reference,st=oe.rects.popper,mt=typeof(mt=typeof mt=="function"?mt(Object.assign({},oe.rects,{placement:oe.placement})):mt)=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Wt=oe.modifiersData.offset?oe.modifiersData.offset[oe.placement]:null,un={x:0,y:0};lt&&(me&&(me=We==="y"?"height":"width",j=(W=lt[We])+Fe[F=We==="y"?nt:ht],ee=W-Fe[se=We==="y"?it:ft],T=Pe?-st[me]/2:0,E=(Ae===Ke?vt:st)[me],Ae=Ae===Ke?-st[me]:-vt[me],k=oe.elements.arrow,k=Pe&&k?sn(k):{width:0,height:0},F=(x=oe.modifiersData["arrow#persistent"]?oe.modifiersData["arrow#persistent"].padding:Tn())[F],x=x[se],se=mn(0,vt[me],k[me]),k=Oe?vt[me]/2-T-se-F-mt.mainAxis:E-se-F-mt.mainAxis,E=Oe?-vt[me]/2+T+se+x+mt.mainAxis:Ae+se+x+mt.mainAxis,Oe=(F=oe.elements.arrow&&jt(oe.elements.arrow))?We==="y"?F.clientTop||0:F.clientLeft||0:0,Ae=W+E-(T=(me=Wt==null?void 0:Wt[We])!=null?me:0),se=mn(Pe?Lt(j,W+k-T-Oe):j,W,Pe?zt(ee,Ae):ee),lt[We]=se,un[We]=se-W),Se&&(x=Qe=="y"?"height":"width",E=(F=lt[Qe])+Fe[We==="x"?nt:ht],me=F-Fe[We==="x"?it:ft],k=[nt,ht].indexOf(Me)!==-1,Oe=(T=Wt==null?void 0:Wt[Qe])!=null?T:0,j=k?E:F-vt[x]-st[x]-Oe+mt.altAxis,Ae=k?F+vt[x]+st[x]-Oe-mt.altAxis:me,W=Pe&&k?(ee=mn(ee=j,F,se=Ae),se<ee?se:ee):mn(Pe?j:E,F,Pe?Ae:me),lt[Qe]=W,un[Qe]=W-F),oe.modifiersData[ye]=un)},requiresIfExists:["offset"]};function Nr(W,T,F){F===void 0&&(F=!1);var x=Ee(T),E=Ee(T)&&(j=(E=T).getBoundingClientRect(),k=Ft(j.width)/E.offsetWidth||1,j=Ft(j.height)/E.offsetHeight||1,k!==1||j!==1),k=dn(T),j=Zt(W,E),W={scrollLeft:0,scrollTop:0},ee={x:0,y:0};return!x&&F||(rn(T)==="body"&&!fr(k)||(W=(x=T)!==on(x)&&Ee(x)?{scrollLeft:x.scrollLeft,scrollTop:x.scrollTop}:Pt(x)),Ee(T)?((ee=Zt(T,!0)).x+=T.clientLeft,ee.y+=T.clientTop):k&&(ee.x=Br(k))),{x:j.left+W.scrollLeft-ee.x,y:j.top+W.scrollTop-ee.y,width:j.width,height:j.height}}function qi(A){var T=new Map,F=new Set,x=[];return A.forEach(function(E){T.set(E.name,E)}),A.forEach(function(E){F.has(E.name)||function k(j){F.add(j.name),[].concat(j.requires||[],j.requiresIfExists||[]).forEach(function(W){F.has(W)||(W=T.get(W))&&k(W)}),x.push(j)}(E)}),x}var ci={placement:"bottom",modifiers:[],strategy:"absolute"};function U(){for(var A=arguments.length,T=new Array(A),F=0;F<A;F++)T[F]=arguments[F];return!T.some(function(x){return!(x&&typeof x.getBoundingClientRect=="function")})}function D(T){var T=T=T===void 0?{}:T,x=T.defaultModifiers,F=x===void 0?[]:x,x=T.defaultOptions,E=x===void 0?ci:x;return function(k,j,W){W===void 0&&(W=E);var ee,se,oe={placement:"bottom",orderedModifiers:[],options:Object.assign({},ci,E),modifiersData:{},elements:{reference:k,popper:j},attributes:{},styles:{}},ye=[],me=!1,Se={state:oe,setOptions:function(Oe){var Fe,Me,Oe=typeof Oe=="function"?Oe(oe.options):Oe,Oe=(Ae(),oe.options=Object.assign({},E,oe.options,Oe),oe.scrollParents={reference:ge(k)?qn(k):k.contextElement?qn(k.contextElement):[],popper:qn(j)},Oe=[].concat(F,oe.options.modifiers),Me=Oe.reduce(function(We,Qe){var lt=We[Qe.name];return We[Qe.name]=lt?Object.assign({},lt,Qe,{options:Object.assign({},lt.options,Qe.options),data:Object.assign({},lt.data,Qe.data)}):Qe,We},{}),Oe=Object.keys(Me).map(function(We){return Me[We]}),Fe=qi(Oe),Fn.reduce(function(We,Qe){return We.concat(Fe.filter(function(lt){return lt.phase===Qe}))},[]));return oe.orderedModifiers=Oe.filter(function(We){return We.enabled}),oe.orderedModifiers.forEach(function(vt){var Qe=vt.name,lt=vt.options,vt=vt.effect;typeof vt=="function"&&(vt=vt({state:oe,name:Qe,instance:Se,options:lt===void 0?{}:lt}),ye.push(vt||function(){}))}),Se.update()},forceUpdate:function(){if(!me){var Fe=oe.elements,Pe=Fe.reference,Fe=Fe.popper;if(U(Pe,Fe)){oe.rects={reference:Nr(Pe,jt(Fe),oe.options.strategy==="fixed"),popper:sn(Fe)},oe.reset=!1,oe.placement=oe.options.placement,oe.orderedModifiers.forEach(function(lt){return oe.modifiersData[lt.name]=Object.assign({},lt.data)});for(var Me,Oe,We,Qe=0;Qe<oe.orderedModifiers.length;Qe++)oe.reset===!0?(oe.reset=!1,Qe=-1):(Me=(We=oe.orderedModifiers[Qe]).fn,Oe=We.options,We=We.name,typeof Me=="function"&&(oe=Me({state:oe,options:Oe===void 0?{}:Oe,name:We,instance:Se})||oe))}}},update:(ee=function(){return new Promise(function(Pe){Se.forceUpdate(),Pe(oe)})},function(){return se=se||new Promise(function(Pe){Promise.resolve().then(function(){se=void 0,Pe(ee())})})}),destroy:function(){Ae(),me=!0}};return U(k,j)&&Se.setOptions(W).then(function(Pe){!me&&W.onFirstUpdate&&W.onFirstUpdate(Pe)}),Se;function Ae(){ye.forEach(function(Pe){return Pe()}),ye=[]}}}var V=D(),X=D({defaultModifiers:[Ar,Fr,Pr,dt,ui,ai,mr,hn,dr]}),ae=D({defaultModifiers:[Ar,Fr,Pr,dt]});function ce(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function de(A){return A.replace(/[A-Z]/g,function(T){return"-".concat(T.toLowerCase())})}var we={setDataAttribute:function(A,T,F){A.setAttribute("data-bs-".concat(de(T)),F)},removeDataAttribute:function(A,T){A.removeAttribute("data-bs-".concat(de(T)))},getDataAttributes:function(A){if(!A)return{};var T={};return Object.keys(A.dataset).filter(function(F){return F.startsWith("bs")}).forEach(function(F){var x=(x=F.replace(/^bs/,"")).charAt(0).toLowerCase()+x.slice(1,x.length);T[x]=ce(A.dataset[F])}),T},getDataAttribute:function(A,T){return ce(A.getAttribute("data-bs-".concat(de(T))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+window.pageYOffset,left:A.left+window.pageXOffset}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}}};ze(95);function je(A){return function(T){if(Array.isArray(T))return Be(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||function(T,F){if(T){if(typeof T=="string")return Be(T,F);var x=Object.prototype.toString.call(T).slice(8,-1);return(x=x==="Object"&&T.constructor?T.constructor.name:x)==="Map"||x==="Set"?Array.from(T):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Be(T,F):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}var Ce={find:function(A){var T,F=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(T=[]).concat.apply(T,je(Element.prototype.querySelectorAll.call(F,A)))},findOne:function(A){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(T,A)},children:function(A,T){var F;return(F=[]).concat.apply(F,je(A.children)).filter(function(x){return x.matches(T)})},parents:function(A,T){for(var F=[],x=A.parentNode;x&&x.nodeType===Node.ELEMENT_NODE&&x.nodeType!==3;)x.matches(T)&&F.push(x),x=x.parentNode;return F},prev:function(A,T){for(var F=A.previousElementSibling;F;){if(F.matches(T))return[F];F=F.previousElementSibling}return[]},next:function(A,T){for(var F=A.nextElementSibling;F;){if(F.matches(T))return[F];F=F.nextElementSibling}return[]},focusableChildren:function(A){var T=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(F){return"".concat(F,':not([tabindex^="-"])')}).join(", ");return this.find(T,A).filter(function(F){return!v(F)&&$(F)})}};function tt(A){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function De(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function ut(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?De(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):De(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function _t(A){return function(T){if(Array.isArray(T))return qt(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||function(T,F){if(T){if(typeof T=="string")return qt(T,F);var x=Object.prototype.toString.call(T).slice(8,-1);return(x=x==="Object"&&T.constructor?T.constructor.name:x)==="Map"||x==="Set"?Array.from(T):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?qt(T,F):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qt(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}function pn(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Xt(){return(Xt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=gn(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function Ht(A,T){return(Ht=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Nn(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=gn(A),x=(F=T?(F=gn(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(tt(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function gn(A){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var Dn="dropdown",Gt=".".concat("bs.dropdown"),Lr=".data-api",Yn="Escape",In="ArrowUp",fi="ArrowDown",Cu=new RegExp("".concat(In,"|").concat(fi,"|").concat(Yn)),Su="hide".concat(Gt),Eu="hidden".concat(Gt),ku="show".concat(Gt),Tu="shown".concat(Gt),di="click".concat(Gt).concat(Lr),an="keydown".concat(Gt).concat(Lr),Gt="keyup".concat(Gt).concat(Lr),hr="show",Rr='[data-bs-toggle="dropdown"]',Hi=".dropdown-menu",Pu=S()?"top-end":"top-start",Au=S()?"top-start":"top-end",Bu=S()?"bottom-end":"bottom-start",Ou=S()?"bottom-start":"bottom-end",xu=S()?"left-start":"right-start",Fu=S()?"right-start":"left-start",Nu={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Ru={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},Zn=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ht(A,T);var F,x=Nn(E);function E(k,j){if(this instanceof E)return(k=x.call(this,k))._popper=null,k._config=k._getConfig(j),k._menu=k._getMenuElement(),k._inNavbar=k._detectNavbar(),k;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"Default",get:function(){return Nu}},{key:"DefaultType",get:function(){return Ru}},{key:"NAME",get:function(){return Dn}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}},{key:"clearMenus",value:function(k){if(!k||k.button!==2&&(k.type!=="keyup"||k.key==="Tab"))for(var j=Ce.find(Rr),W=0,ee=j.length;W<ee;W++){var se=E.getInstance(j[W]);if(se&&se._config.autoClose!==!1&&se._isShown()){var oe={relatedTarget:se._element};if(k){var ye=k.composedPath(),me=ye.includes(se._menu);if(ye.includes(se._element)||se._config.autoClose==="inside"&&!me||se._config.autoClose==="outside"&&me||se._menu.contains(k.target)&&(k.type==="keyup"&&k.key==="Tab"||/input|select|option|textarea|form/i.test(k.target.tagName)))continue;k.type==="click"&&(oe.clickEvent=k)}se._completeHide(oe)}}}},{key:"getParentFromElement",value:function(k){return g(k)||k.parentNode}},{key:"dataApiKeydownHandler",value:function(k){if(/input|textarea/i.test(k.target.tagName)?!(k.key==="Space"||k.key!==Yn&&(k.key!==fi&&k.key!==In||k.target.closest(Hi))):Cu.test(k.key)){var j=this.classList.contains(hr);if((j||k.key!==Yn)&&(k.preventDefault(),k.stopPropagation(),!v(this))){var W=this.matches(Rr)?this:Ce.prev(this,Rr)[0],W=E.getOrCreateInstance(W);if(k.key!==Yn)return k.key===In||k.key===fi?(j||W.show(),void W._selectMenuItem(k)):void(j&&k.key!=="Space"||E.clearMenus());W.hide()}}}}],(F=[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var k,j;v(this._element)||this._isShown(this._menu)||(k={relatedTarget:this._element},pe.trigger(this._element,ku,k).defaultPrevented||(j=E.getParentFromElement(this._element),this._inNavbar?we.setDataAttribute(this._menu,"popper","none"):this._createPopper(j),"ontouchstart"in document.documentElement&&!j.closest(".navbar-nav")&&(j=[]).concat.apply(j,_t(document.body.children)).forEach(function(W){return pe.on(W,"mouseover",M)}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(hr),this._element.classList.add(hr),pe.trigger(this._element,Tu,k)))}},{key:"hide",value:function(){var k;!v(this._element)&&this._isShown(this._menu)&&(k={relatedTarget:this._element},this._completeHide(k))}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),Xt(gn(E.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(k){var j;pe.trigger(this._element,Su,k).defaultPrevented||("ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,_t(document.body.children)).forEach(function(W){return pe.off(W,"mouseover",M)}),this._popper&&this._popper.destroy(),this._menu.classList.remove(hr),this._element.classList.remove(hr),this._element.setAttribute("aria-expanded","false"),we.removeDataAttribute(this._menu,"popper"),pe.trigger(this._element,Eu,k))}},{key:"_getConfig",value:function(k){if(k=ut(ut(ut({},this.constructor.Default),we.getDataAttributes(this._element)),k),w(Dn,k,this.constructor.DefaultType),tt(k.reference)!=="object"||Y(k.reference)||typeof k.reference.getBoundingClientRect=="function")return k;throw new TypeError("".concat(Dn.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'))}},{key:"_createPopper",value:function(W){if(d===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var j=this._element,W=(this._config.reference==="parent"?j=W:Y(this._config.reference)?j=_(this._config.reference):tt(this._config.reference)==="object"&&(j=this._config.reference),this._getPopperConfig()),ee=W.modifiers.find(function(se){return se.name==="applyStyles"&&se.enabled===!1});this._popper=X(j,this._menu,W),ee&&we.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(hr)}},{key:"_getMenuElement",value:function(){return Ce.next(this._element,Hi)[0]}},{key:"_getPlacement",value:function(){var k=this._element.parentNode;if(k.classList.contains("dropend"))return xu;if(k.classList.contains("dropstart"))return Fu;var j=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return k.classList.contains("dropup")?j?Au:Pu:j?Ou:Bu}},{key:"_detectNavbar",value:function(){return this._element.closest(".".concat("navbar"))!==null}},{key:"_getOffset",value:function(){var k=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,k._element)}:j}},{key:"_getPopperConfig",value:function(){var k={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(k.modifiers=[{name:"applyStyles",enabled:!1}]),ut(ut({},k),typeof this._config.popperConfig=="function"?this._config.popperConfig(k):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(W){var j=W.key,W=W.target,ee=Ce.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($);ee.length&&N(ee,W,j===fi,!ee.includes(W)).focus()}}])&&pn(A.prototype,F),T&&pn(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Lr=(pe.on(document,an,Rr,Zn.dataApiKeydownHandler),pe.on(document,an,Hi,Zn.dataApiKeydownHandler),pe.on(document,di,Zn.clearMenus),pe.on(document,Gt,Zn.clearMenus),pe.on(document,di,Rr,function(A){A.preventDefault(),Zn.getOrCreateInstance(this).toggle()}),C(Zn),Zn);function Xo(A){return(Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Ko(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Gi(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Ko(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Ko(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Qo(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function ea(A,T){return(ea=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Lu(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Yi(A),x=(F=T?(F=Yi(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(Xo(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Yi(A){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var ta="collapse",na="bs.collapse",an=".".concat(na),ra={toggle:!0,parent:null},ju={toggle:"boolean",parent:"(null|element)"},Du="show".concat(an),zu="shown".concat(an),Wu="hide".concat(an),Vu="hidden".concat(an),Gt="click".concat(an).concat(".data-api"),Zi="show",gr="collapse",pi="collapsing",ia="collapsed",oa=":scope .".concat(gr," .").concat(gr),Xi='[data-bs-toggle="collapse"]',Ki=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&ea(A,T);var F,x=Lu(E);function E(k,j){var W;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");(W=x.call(this,k))._isTransitioning=!1,W._config=W._getConfig(j),W._triggerArray=[];for(var ee=Ce.find(Xi),se=0,oe=ee.length;se<oe;se++){var ye=ee[se],me=h(ye),Se=Ce.find(me).filter(function(Ae){return Ae===W._element});me!==null&&Se.length&&(W._selector=me,W._triggerArray.push(ye))}return W._initializeChildren(),W._config.parent||W._addAriaAndCollapsedClass(W._triggerArray,W._isShown()),W._config.toggle&&W.toggle(),W}return A=E,T=[{key:"Default",get:function(){return ra}},{key:"NAME",get:function(){return ta}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j={},j=(typeof k=="string"&&/show|hide/.test(k)&&(j.toggle=!1),E.getOrCreateInstance(this,j));if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(F=[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var k=this;if(!this._isTransitioning&&!this._isShown()){var j,W,ee=[],se=(this._config.parent&&(j=Ce.find(oa,this._config.parent),ee=Ce.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(function(me){return!j.includes(me)})),Ce.findOne(this._selector));if(ee.length){var oe,ye=ee.find(function(me){return se!==me});if((oe=ye?E.getInstance(ye):null)&&oe._isTransitioning)return}pe.trigger(this._element,Du).defaultPrevented||(ee.forEach(function(me){se!==me&&E.getOrCreateInstance(me,{toggle:!1}).hide(),oe||Re(me,na,null)}),W=this._getDimension(),this._element.classList.remove(gr),this._element.classList.add(pi),this._element.style[W]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0,ye=W[0].toUpperCase()+W.slice(1),ee="scroll".concat(ye),this._queueCallback(function(){k._isTransitioning=!1,k._element.classList.remove(pi),k._element.classList.add(gr,Zi),k._element.style[W]="",pe.trigger(k._element,zu)},this._element,!0),this._element.style[W]="".concat(this._element[ee],"px"))}}},{key:"hide",value:function(){var k=this;if(!this._isTransitioning&&this._isShown()){var j=pe.trigger(this._element,Wu);if(!j.defaultPrevented){for(var j=this._getDimension(),W=(this._element.style[j]="".concat(this._element.getBoundingClientRect()[j],"px"),P(this._element),this._element.classList.add(pi),this._element.classList.remove(gr,Zi),this._triggerArray.length),ee=0;ee<W;ee++){var se=this._triggerArray[ee],oe=g(se);oe&&!this._isShown(oe)&&this._addAriaAndCollapsedClass([se],!1)}this._isTransitioning=!0,this._element.style[j]="",this._queueCallback(function(){k._isTransitioning=!1,k._element.classList.remove(pi),k._element.classList.add(gr),pe.trigger(k._element,Vu)},this._element,!0)}}}},{key:"_isShown",value:function(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._element).classList.contains(Zi)}},{key:"_getConfig",value:function(k){return(k=Gi(Gi(Gi({},ra),we.getDataAttributes(this._element)),k)).toggle=Boolean(k.toggle),k.parent=_(k.parent),w(ta,k,ju),k}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var k,j=this;this._config.parent&&(k=Ce.find(oa,this._config.parent),Ce.find(Xi,this._config.parent).filter(function(W){return!k.includes(W)}).forEach(function(W){var ee=g(W);ee&&j._addAriaAndCollapsedClass([W],j._isShown(ee))}))}},{key:"_addAriaAndCollapsedClass",value:function(k,j){k.length&&k.forEach(function(W){j?W.classList.remove(ia):W.classList.add(ia),W.setAttribute("aria-expanded",j)})}}])&&Qo(A.prototype,F),T&&Qo(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),di=(pe.on(document,Gt,Xi,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault(),A=h(this),Ce.find(A).forEach(function(T){Ki.getOrCreateInstance(T,{toggle:!1}).toggle()})}),C(Ki),Ki);function Uu(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var aa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sa=".sticky-top",Qi=function(){function A(){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=document.body}var T,F;return T=A,(F=[{key:"getWidth",value:function(){var x=document.documentElement.clientWidth;return Math.abs(window.innerWidth-x)}},{key:"hide",value:function(){var x=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(E){return E+x}),this._setElementAttributes(aa,"paddingRight",function(E){return E+x}),this._setElementAttributes(sa,"marginRight",function(E){return E-x})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(x,E,k){var j=this,W=this.getWidth();this._applyManipulationCallback(x,function(ee){var se;ee!==j._element&&window.innerWidth>ee.clientWidth+W||(j._saveInitialAttribute(ee,E),se=window.getComputedStyle(ee)[E],ee.style[E]="".concat(k(Number.parseFloat(se)),"px"))})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(aa,"paddingRight"),this._resetElementAttributes(sa,"marginRight")}},{key:"_saveInitialAttribute",value:function(x,E){var k=x.style[E];k&&we.setDataAttribute(x,E,k)}},{key:"_resetElementAttributes",value:function(x,E){this._applyManipulationCallback(x,function(k){var j=we.getDataAttribute(k,E);j===void 0?k.style.removeProperty(E):(we.removeDataAttribute(k,E),k.style[E]=j)})}},{key:"_applyManipulationCallback",value:function(x,E){Y(x)?E(x):Ce.find(x,this._element).forEach(E)}},{key:"isOverflowing",value:function(){return 0<this.getWidth()}}])&&Uu(T.prototype,F),Object.defineProperty(T,"prototype",{writable:!1}),A}();function ua(A){return(ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function la(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function ca(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?la(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):la(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Ju(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var qu={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Hu={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},fa="backdrop",pa="mousedown.bs.".concat(fa),da=function(){function A(x){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(x),this._isAppended=!1,this._element=null}var T,F;return T=A,(F=[{key:"show",value:function(x){this._config.isVisible?(this._append(),this._config.isAnimated&&P(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){O(x)})):O(x)}},{key:"hide",value:function(x){var E=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){E.dispose(),O(x)})):O(x)}},{key:"_getElement",value:function(){var x;return this._element||((x=document.createElement("div")).className=this._config.className,this._config.isAnimated&&x.classList.add("fade"),this._element=x),this._element}},{key:"_getConfig",value:function(x){return(x=ca(ca({},qu),ua(x)==="object"?x:{})).rootElement=_(x.rootElement),w(fa,x,Hu),x}},{key:"_append",value:function(){var x=this;this._isAppended||(this._config.rootElement.append(this._getElement()),pe.on(this._getElement(),pa,function(){O(x._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(pe.off(this._element,pa),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(x){B(x,this._getElement(),this._config.isAnimated)}}])&&Ju(T.prototype,F),Object.defineProperty(T,"prototype",{writable:!1}),A}();function ma(A){return(ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function ha(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function ga(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?ha(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):ha(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Gu(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function mi(A){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"hide",F="click.dismiss".concat(A.EVENT_KEY),x=A.NAME;pe.on(document,F,'[data-bs-dismiss="'.concat(x,'"]'),function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),v(this)||(E=g(this)||this.closest(".".concat(x)),A.getOrCreateInstance(E)[T]())})}var Yu={trapElement:null,autofocus:!0},Zu={trapElement:"element",autofocus:"boolean"},hi=".".concat("bs.focustrap"),Xu="focusin".concat(hi),Ku="keydown.tab".concat(hi),ya="backward",ba=function(){function A(x){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._config=this._getConfig(x),this._isActive=!1,this._lastTabNavDirection=null}var T,F;return T=A,(F=[{key:"activate",value:function(){var x=this,k=this._config,E=k.trapElement,k=k.autofocus;this._isActive||(k&&E.focus(),pe.off(document,hi),pe.on(document,Xu,function(j){return x._handleFocusin(j)}),pe.on(document,Ku,function(j){return x._handleKeydown(j)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,pe.off(document,hi))}},{key:"_handleFocusin",value:function(E){var E=E.target,k=this._config.trapElement;E===document||E===k||k.contains(E)||((E=Ce.focusableChildren(k)).length===0?k:this._lastTabNavDirection===ya?E[E.length-1]:E[0]).focus()}},{key:"_handleKeydown",value:function(x){x.key==="Tab"&&(this._lastTabNavDirection=x.shiftKey?ya:"forward")}},{key:"_getConfig",value:function(x){return x=ga(ga({},Yu),ma(x)==="object"?x:{}),w("focustrap",x,Zu),x}}])&&Gu(T.prototype,F),Object.defineProperty(T,"prototype",{writable:!1}),A}();function eo(A){return(eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function _a(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function to(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?_a(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):_a(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function va(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function $a(){return($a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=jr(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function Ma(A,T){return(Ma=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Qu(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=jr(A),x=(F=T?(F=jr(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(eo(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function jr(A){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var wa="offcanvas",an=".".concat("bs.offcanvas"),Gt=".data-api",It="load".concat(an).concat(Gt),Ia={backdrop:!0,keyboard:!0,scroll:!1},el={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Ca=".offcanvas.show",tl="show".concat(an),nl="shown".concat(an),rl="hide".concat(an),Sa="hidden".concat(an),Gt="click".concat(an).concat(Gt),il="keydown.dismiss".concat(an),yr=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ma(A,T);var F,x=Qu(E);function E(k,j){if(this instanceof E)return(k=x.call(this,k))._config=k._getConfig(j),k._isShown=!1,k._backdrop=k._initializeBackDrop(),k._focustrap=k._initializeFocusTrap(),k._addEventListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"NAME",get:function(){return wa}},{key:"Default",get:function(){return Ia}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(F=[{key:"toggle",value:function(k){return this._isShown?this.hide():this.show(k)}},{key:"show",value:function(k){var j=this;this._isShown||pe.trigger(this._element,tl,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new Qi().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(function(){j._config.scroll||j._focustrap.activate(),pe.trigger(j._element,nl,{relatedTarget:k})},this._element,!0))}},{key:"hide",value:function(){var k=this;this._isShown&&!pe.trigger(this._element,rl).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(function(){k._element.setAttribute("aria-hidden",!0),k._element.removeAttribute("aria-modal"),k._element.removeAttribute("role"),k._element.style.visibility="hidden",k._config.scroll||new Qi().reset(),pe.trigger(k._element,Sa)},this._element,!0))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),$a(jr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return k=to(to(to({},Ia),we.getDataAttributes(this._element)),eo(k)==="object"?k:{}),w(wa,k,el),k}},{key:"_initializeBackDrop",value:function(){var k=this;return new da({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return k.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new ba({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var k=this;pe.on(this._element,il,function(j){k._config.keyboard&&j.key==="Escape"&&k.hide()})}}])&&va(A.prototype,F),T&&va(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),an=(pe.on(document,Gt,'[data-bs-toggle="offcanvas"]',function(A){var T=this,F=g(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),v(this)||(pe.one(F,Sa,function(){$(T)&&T.focus()}),(A=Ce.findOne(Ca))&&A!==F&&yr.getInstance(A).hide(),yr.getOrCreateInstance(F).toggle(this))}),pe.on(window,It,function(){return Ce.find(Ca).forEach(function(A){return yr.getOrCreateInstance(A).show()})}),mi(yr),C(yr),yr);function Ea(A){return(Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function ka(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Ta(A,T){return(Ta=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function ol(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=no(A),x=(F=T?(F=no(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(Ea(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function no(A){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var Gt=".".concat("bs.alert"),al="close".concat(Gt),sl="closed".concat(Gt),It=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ta(A,T);var F,x=ol(E);function E(){var k=this,j=E;if(k instanceof j)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof k=="string"){if(j[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(F=[{key:"close",value:function(){var k,j=this;pe.trigger(this._element,al).defaultPrevented||(this._element.classList.remove("show"),k=this._element.classList.contains("fade"),this._queueCallback(function(){return j._destroyElement()},this._element,k))}},{key:"_destroyElement",value:function(){this._element.remove(),pe.trigger(this._element,sl),this.dispose()}}])&&ka(A.prototype,F),T&&ka(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Gt=(mi(It,"close"),C(It),It);function gi(A){return(gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Pa(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Xn(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Pa(Object(F),!0).forEach(function(x){io(A,x,F[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Pa(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Aa(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Ba(A,T){return(Ba=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function ll(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=ro(A),x=(F=T?(F=ro(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(gi(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ro(A){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}function io(A,T,F){T in A?Object.defineProperty(A,T,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[T]=F}var Oa="carousel",It=".".concat("bs.carousel"),bi=".data-api",xa={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},cl={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Kn="next",Qn="prev",er="left",Dr="right",fl=(io(br={},"ArrowLeft",Dr),io(br,"ArrowRight",er),br),pl="slide".concat(It),Fa="slid".concat(It),dl="keydown".concat(It),ml="mouseenter".concat(It),hl="mouseleave".concat(It),gl="touchstart".concat(It),yl="touchmove".concat(It),bl="touchend".concat(It),_l="pointerdown".concat(It),vl="pointerup".concat(It),$l="dragstart".concat(It),br="load".concat(It).concat(bi),It="click".concat(It).concat(bi),tr="active",yi=".active.carousel-item",zr=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ba(A,T);var F,x=ll(E);function E(k,j){if(this instanceof E)return(k=x.call(this,k))._items=null,k._interval=null,k._activeElement=null,k._isPaused=!1,k._isSliding=!1,k.touchTimeout=null,k.touchStartX=0,k.touchDeltaX=0,k._config=k._getConfig(j),k._indicatorsElement=Ce.findOne(".carousel-indicators",k._element),k._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,k._pointerEvent=Boolean(window.PointerEvent),k._addEventListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"Default",get:function(){return xa}},{key:"NAME",get:function(){return Oa}},{key:"carouselInterface",value:function(W,j){var W=E.getOrCreateInstance(W,j),ee=W._config,se=(gi(j)==="object"&&(ee=Xn(Xn({},ee),j)),typeof j=="string"?j:ee.slide);if(typeof j=="number")W.to(j);else if(typeof se=="string"){if(W[se]===void 0)throw new TypeError('No method named "'.concat(se,'"'));W[se]()}else ee.interval&&ee.ride&&(W.pause(),W.cycle())}},{key:"jQueryInterface",value:function(k){return this.each(function(){E.carouselInterface(this,k)})}},{key:"dataApiClickHandler",value:function(k){var j,W,ee=g(this);ee&&ee.classList.contains("carousel")&&(j=Xn(Xn({},we.getDataAttributes(ee)),we.getDataAttributes(this)),(W=this.getAttribute("data-bs-slide-to"))&&(j.interval=!1),E.carouselInterface(ee,j),W&&E.getInstance(ee).to(W),k.preventDefault())}}],(F=[{key:"next",value:function(){this._slide(Kn)}},{key:"nextWhenVisible",value:function(){!document.hidden&&$(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(Qn)}},{key:"pause",value:function(k){k||(this._isPaused=!0),Ce.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(y(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(k){k||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(k){var j=this,W=(this._activeElement=Ce.findOne(yi,this._element),this._getItemIndex(this._activeElement));if(!(k>this._items.length-1||k<0))if(this._isSliding)pe.one(this._element,Fa,function(){return j.to(k)});else{if(W===k)return this.pause(),void this.cycle();this._slide(W<k?Kn:Qn,this._items[k])}}},{key:"_getConfig",value:function(k){return k=Xn(Xn(Xn({},xa),we.getDataAttributes(this._element)),gi(k)==="object"?k:{}),w(Oa,k,cl),k}},{key:"_handleSwipe",value:function(){var k=Math.abs(this.touchDeltaX);k<=40||(k=k/this.touchDeltaX,this.touchDeltaX=0,k&&this._slide(0<k?Dr:er))}},{key:"_addEventListeners",value:function(){var k=this;this._config.keyboard&&pe.on(this._element,dl,function(j){return k._keydown(j)}),this._config.pause==="hover"&&(pe.on(this._element,ml,function(j){return k.pause(j)}),pe.on(this._element,hl,function(j){return k.cycle(j)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){function k(se){ee(se)?W.touchStartX=se.clientX:W._pointerEvent||(W.touchStartX=se.touches[0].clientX)}function j(se){ee(se)&&(W.touchDeltaX=se.clientX-W.touchStartX),W._handleSwipe(),W._config.pause==="hover"&&(W.pause(),W.touchTimeout&&clearTimeout(W.touchTimeout),W.touchTimeout=setTimeout(function(oe){return W.cycle(oe)},500+W._config.interval))}var W=this,ee=function(se){return W._pointerEvent&&(se.pointerType==="pen"||se.pointerType==="touch")};Ce.find(".carousel-item img",this._element).forEach(function(se){pe.on(se,$l,function(oe){return oe.preventDefault()})}),this._pointerEvent?(pe.on(this._element,_l,k),pe.on(this._element,vl,j),this._element.classList.add("pointer-event")):(pe.on(this._element,gl,k),pe.on(this._element,yl,function(se){se=se,W.touchDeltaX=se.touches&&1<se.touches.length?0:se.touches[0].clientX-W.touchStartX}),pe.on(this._element,bl,j))}},{key:"_keydown",value:function(k){var j;/input|textarea/i.test(k.target.tagName)||(j=fl[k.key])&&(k.preventDefault(),this._slide(j))}},{key:"_getItemIndex",value:function(k){return this._items=k&&k.parentNode?Ce.find(".carousel-item",k.parentNode):[],this._items.indexOf(k)}},{key:"_getItemByOrder",value:function(k,j){return N(this._items,j,k===Kn,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(k,j){var W=this._getItemIndex(k),ee=this._getItemIndex(Ce.findOne(yi,this._element));return pe.trigger(this._element,pl,{relatedTarget:k,direction:j,from:ee,to:W})}},{key:"_setActiveIndicatorElement",value:function(k){if(this._indicatorsElement){for(var j=Ce.findOne(".active",this._indicatorsElement),W=(j.classList.remove(tr),j.removeAttribute("aria-current"),Ce.find("[data-bs-target]",this._indicatorsElement)),ee=0;ee<W.length;ee++)if(Number.parseInt(W[ee].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(k)){W[ee].classList.add(tr),W[ee].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var k=this._activeElement||Ce.findOne(yi,this._element);k&&((k=Number.parseInt(k.getAttribute("data-bs-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=k):this._config.interval=this._config.defaultInterval||this._config.interval)}},{key:"_slide",value:function(se,Ae){var W,ee=this,se=this._directionToOrder(se),oe=Ce.findOne(yi,this._element),ye=this._getItemIndex(oe),me=Ae||this._getItemByOrder(se,oe),Se=this._getItemIndex(me),Ae=Boolean(this._interval),Pe=se===Kn,Fe=Pe?"carousel-item-start":"carousel-item-end",Me=Pe?"carousel-item-next":"carousel-item-prev",Oe=this._orderToDirection(se);me&&me.classList.contains(tr)?this._isSliding=!1:this._isSliding||this._triggerSlideEvent(me,Oe).defaultPrevented||oe&&me&&(this._isSliding=!0,Ae&&this.pause(),this._setActiveIndicatorElement(me),this._activeElement=me,W=function(){pe.trigger(ee._element,Fa,{relatedTarget:me,direction:Oe,from:ye,to:Se})},this._element.classList.contains("slide")?(me.classList.add(Me),P(me),oe.classList.add(Fe),me.classList.add(Fe),this._queueCallback(function(){me.classList.remove(Fe,Me),me.classList.add(tr),oe.classList.remove(tr,Me,Fe),ee._isSliding=!1,setTimeout(W,0)},oe,!0)):(oe.classList.remove(tr),me.classList.add(tr),this._isSliding=!1,W()),Ae&&this.cycle())}},{key:"_directionToOrder",value:function(k){return[Dr,er].includes(k)?S()?k===er?Qn:Kn:k===er?Kn:Qn:k}},{key:"_orderToDirection",value:function(k){return[Kn,Qn].includes(k)?S()?k===Qn?er:Dr:k===Qn?Dr:er:k}}])&&Aa(A.prototype,F),T&&Aa(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),bi=(pe.on(document,It,"[data-bs-slide], [data-bs-slide-to]",zr.dataApiClickHandler),pe.on(window,br,function(){for(var A=Ce.find('[data-bs-ride="carousel"]'),T=0,F=A.length;T<F;T++)zr.carouselInterface(A[T],zr.getInstance(A[T]))}),C(zr),zr);function oo(A){return(oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Na(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function ao(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Na(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Na(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Ra(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function La(){return(La=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Wr(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function ja(A,T){return(ja=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Ml(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Wr(A),x=(F=T?(F=Wr(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(oo(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Wr(A){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var An=".".concat("bs.modal"),Da={backdrop:!0,keyboard:!0,focus:!0},wl={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Il="hide".concat(An),Cl="hidePrevented".concat(An),za="hidden".concat(An),Wa="show".concat(An),Sl="shown".concat(An),Va="resize".concat(An),Ua="click.dismiss".concat(An),Ja="keydown.dismiss".concat(An),El="mouseup.dismiss".concat(An),qa="mousedown.dismiss".concat(An),It="click".concat(An).concat(".data-api"),Ha="modal-open",so="modal-static",Vr=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&ja(A,T);var F,x=Ml(E);function E(k,j){if(this instanceof E)return(k=x.call(this,k))._config=k._getConfig(j),k._dialog=Ce.findOne(".modal-dialog",k._element),k._backdrop=k._initializeBackDrop(),k._focustrap=k._initializeFocusTrap(),k._isShown=!1,k._ignoreBackdropClick=!1,k._isTransitioning=!1,k._scrollBar=new Qi,k;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"Default",get:function(){return Da}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(k,j){return this.each(function(){var W=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));W[k](j)}})}}],(F=[{key:"toggle",value:function(k){return this._isShown?this.hide():this.show(k)}},{key:"show",value:function(k){var j=this;this._isShown||this._isTransitioning||pe.trigger(this._element,Wa,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Ha),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),pe.on(this._dialog,qa,function(){pe.one(j._element,El,function(W){W.target===j._element&&(j._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return j._showElement(k)}))}},{key:"hide",value:function(){var k,j=this;!this._isShown||this._isTransitioning||pe.trigger(this._element,Il).defaultPrevented||(this._isShown=!1,(k=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),pe.off(this._element,Ua),pe.off(this._dialog,qa),this._queueCallback(function(){return j._hideModal()},this._element,k))}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(k){return pe.off(k,An)}),this._backdrop.dispose(),this._focustrap.deactivate(),La(Wr(E.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new da({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new ba({trapElement:this._element})}},{key:"_getConfig",value:function(k){return k=ao(ao(ao({},Da),we.getDataAttributes(this._element)),oo(k)==="object"?k:{}),w("modal",k,wl),k}},{key:"_showElement",value:function(k){var j=this,W=this._isAnimated(),ee=Ce.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,ee&&(ee.scrollTop=0),W&&P(this._element),this._element.classList.add("show"),this._queueCallback(function(){j._config.focus&&j._focustrap.activate(),j._isTransitioning=!1,pe.trigger(j._element,Sl,{relatedTarget:k})},this._dialog,W)}},{key:"_setEscapeEvent",value:function(){var k=this;this._isShown?pe.on(this._element,Ja,function(j){k._config.keyboard&&j.key==="Escape"?(j.preventDefault(),k.hide()):k._config.keyboard||j.key!=="Escape"||k._triggerBackdropTransition()}):pe.off(this._element,Ja)}},{key:"_setResizeEvent",value:function(){var k=this;this._isShown?pe.on(window,Va,function(){return k._adjustDialog()}):pe.off(window,Va)}},{key:"_hideModal",value:function(){var k=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove(Ha),k._resetAdjustments(),k._scrollBar.reset(),pe.trigger(k._element,za)})}},{key:"_showBackdrop",value:function(k){var j=this;pe.on(this._element,Ua,function(W){j._ignoreBackdropClick?j._ignoreBackdropClick=!1:W.target===W.currentTarget&&(j._config.backdrop===!0?j.hide():j._config.backdrop==="static"&&j._triggerBackdropTransition())}),this._backdrop.show(k)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var k,j,W,ee,se,oe=this;pe.trigger(this._element,Cl).defaultPrevented||(k=this._element,j=k.classList,W=k.scrollHeight,ee=k.style,!(se=W>document.documentElement.clientHeight)&&ee.overflowY==="hidden"||j.contains(so)||(se||(ee.overflowY="hidden"),j.add(so),this._queueCallback(function(){j.remove(so),se||oe._queueCallback(function(){ee.overflowY=""},oe._dialog)},this._dialog),this._element.focus()))}},{key:"_adjustDialog",value:function(){var k=this._element.scrollHeight>document.documentElement.clientHeight,j=this._scrollBar.getWidth(),W=0<j;(!W&&k&&!S()||W&&!k&&S())&&(this._element.style.paddingLeft="".concat(j,"px")),(W&&!k&&!S()||!W&&k&&S())&&(this._element.style.paddingRight="".concat(j,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}])&&Ra(A.prototype,F),T&&Ra(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),br=(pe.on(document,It,'[data-bs-toggle="modal"]',function(x){var T=this,F=g(this),x=(["A","AREA"].includes(this.tagName)&&x.preventDefault(),pe.one(F,Wa,function(E){E.defaultPrevented||pe.one(F,za,function(){$(T)&&T.focus()})}),Ce.findOne(".modal.show"));x&&Vr.getInstance(x).hide(),Vr.getOrCreateInstance(F).toggle(this)}),mi(Vr),C(Vr),Vr);function Ga(A){return function(T){if(Array.isArray(T))return uo(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||function(T,F){if(T){if(typeof T=="string")return uo(T,F);var x=Object.prototype.toString.call(T).slice(8,-1);return(x=x==="Object"&&T.constructor?T.constructor.name:x)==="Map"||x==="Set"?Array.from(T):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?uo(T,F):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uo(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}var kl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Tl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Pl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,It={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ya(A,T,F){if(!A.length)return A;if(F&&typeof F=="function")return F(A);for(var F=new window.DOMParser().parseFromString(A,"text/html"),x=(A=[]).concat.apply(A,Ga(F.body.querySelectorAll("*"))),E=function(ye,se){var oe=x[ye],ye=oe.nodeName.toLowerCase();if(!Object.keys(T).includes(ye))return oe.remove(),"continue";var me=(me=[]).concat.apply(me,Ga(oe.attributes)),Se=[].concat(T["*"]||[],T[ye]||[]);me.forEach(function(Ae){!function(Pe,Fe){var Me=Pe.nodeName.toLowerCase();if(Fe.includes(Me))return!kl.has(Me)||Boolean(Tl.test(Pe.nodeValue)||Pl.test(Pe.nodeValue));for(var Oe=Fe.filter(function(lt){return lt instanceof RegExp}),We=0,Qe=Oe.length;We<Qe;We++)if(Oe[We].test(Me))return!0;return!1}(Ae,Se)&&oe.removeAttribute(Ae.nodeName)})},k=0,j=x.length;k<j;k++)E(k);return F.body.innerHTML}function _i(A){return(_i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Za(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function nr(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Za(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Za(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function lo(A){return function(T){if(Array.isArray(T))return co(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||function(T,F){if(T){if(typeof T=="string")return co(T,F);var x=Object.prototype.toString.call(T).slice(8,-1);return(x=x==="Object"&&T.constructor?T.constructor.name:x)==="Map"||x==="Set"?Array.from(T):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?co(T,F):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function co(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}function Xa(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Ka(){return(Ka=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Ur(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function Qa(A,T){return(Qa=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Al(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Ur(A),x=(F=T?(F=Ur(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(_i(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ur(A){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var es="tooltip",Jt=".".concat("bs.tooltip"),Bl=new Set(["sanitize","allowList","sanitizeFn"]),Ol={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},xl={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},Fl={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:It,popperConfig:null},Nl={HIDE:"hide".concat(Jt),HIDDEN:"hidden".concat(Jt),SHOW:"show".concat(Jt),SHOWN:"shown".concat(Jt),INSERTED:"inserted".concat(Jt),CLICK:"click".concat(Jt),FOCUSIN:"focusin".concat(Jt),FOCUSOUT:"focusout".concat(Jt),MOUSEENTER:"mouseenter".concat(Jt),MOUSELEAVE:"mouseleave".concat(Jt)},vi="fade",Jr="show",qr="show",ts=".tooltip-inner",ns=".".concat("modal"),rs="hide.bs.modal",Hr="hover",fo="focus",It=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Qa(A,T);var F,x=Al(E);function E(k,j){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");if(d===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(k=x.call(this,k))._isEnabled=!0,k._timeout=0,k._hoverState="",k._activeTrigger={},k._popper=null,k._config=k._getConfig(j),k.tip=null,k._setListeners(),k}return A=E,T=[{key:"Default",get:function(){return Fl}},{key:"NAME",get:function(){return es}},{key:"Event",get:function(){return Nl}},{key:"DefaultType",get:function(){return Ol}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(F=[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(k){this._isEnabled&&(k?((k=this._initializeOnDelegatedTarget(k))._activeTrigger.click=!k._activeTrigger.click,k._isWithActiveTrigger()?k._enter(null,k):k._leave(null,k)):this.getTipElement().classList.contains(Jr)?this._leave(null,this):this._enter(null,this))}},{key:"dispose",value:function(){clearTimeout(this._timeout),pe.off(this._element.closest(ns),rs,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),Ka(Ur(E.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var k,j,W,ee=this;if(this._element.style.display==="none")throw new Error("Please use show on visible elements");this.isWithContent()&&this._isEnabled&&(j=pe.trigger(this._element,this.constructor.Event.SHOW),W=((W=b(this._element))===null?this._element.ownerDocument.documentElement:W).contains(this._element),!j.defaultPrevented&&W&&(this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(ts).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null),j=this.getTipElement(),W=function(se){for(;se+=Math.floor(1e6*Math.random()),document.getElementById(se););return se}(this.constructor.NAME),j.setAttribute("id",W),this._element.setAttribute("aria-describedby",W),this._config.animation&&j.classList.add(vi),W=typeof this._config.placement=="function"?this._config.placement.call(this,j,this._element):this._config.placement,W=this._getAttachment(W),this._addAttachmentClass(W),k=this._config.container,Re(j,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(j),pe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=X(this._element,j,this._getPopperConfig(W)),j.classList.add(Jr),(k=this._resolvePossibleFunction(this._config.customClass))&&(W=j.classList).add.apply(W,lo(k.split(" "))),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,lo(document.body.children)).forEach(function(se){pe.on(se,"mouseover",M)}),W=this.tip.classList.contains(vi),this._queueCallback(function(){var se=ee._hoverState;ee._hoverState=null,pe.trigger(ee._element,ee.constructor.Event.SHOWN),se==="out"&&ee._leave(null,ee)},this.tip,W)))}},{key:"hide",value:function(){var k,j,W=this;this._popper&&(k=this.getTipElement(),pe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(k.classList.remove(Jr),"ontouchstart"in document.documentElement&&(j=[]).concat.apply(j,lo(document.body.children)).forEach(function(ee){return pe.off(ee,"mouseover",M)}),this._activeTrigger.click=!1,this._activeTrigger[fo]=!1,this._activeTrigger[Hr]=!1,j=this.tip.classList.contains(vi),this._queueCallback(function(){W._isWithActiveTrigger()||(W._hoverState!==qr&&k.remove(),W._cleanTipClass(),W._element.removeAttribute("aria-describedby"),pe.trigger(W._element,W.constructor.Event.HIDDEN),W._disposePopper())},this.tip,j),this._hoverState=""))}},{key:"update",value:function(){this._popper!==null&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var k=document.createElement("div"),k=(k.innerHTML=this._config.template,k.children[0]);return this.setContent(k),k.classList.remove(vi,Jr),this.tip=k,this.tip}},{key:"setContent",value:function(k){this._sanitizeAndSetContent(k,this.getTitle(),ts)}},{key:"_sanitizeAndSetContent",value:function(k,j,W){W=Ce.findOne(W,k),!j&&W?W.remove():this.setElementContent(W,j)}},{key:"setElementContent",value:function(k,j){if(k!==null)return Y(j)?(j=_(j),void(this._config.html?j.parentNode!==k&&(k.innerHTML="",k.append(j)):k.textContent=j.textContent)):void(this._config.html?(this._config.sanitize&&(j=Ya(j,this._config.allowList,this._config.sanitizeFn)),k.innerHTML=j):k.textContent=j)}},{key:"getTitle",value:function(){var k=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(k)}},{key:"updateAttachment",value:function(k){return k==="right"?"end":k==="left"?"start":k}},{key:"_initializeOnDelegatedTarget",value:function(k,j){return j||this.constructor.getOrCreateInstance(k.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var k=this,j=this._config.offset;return typeof j=="string"?j.split(",").map(function(W){return Number.parseInt(W,10)}):typeof j=="function"?function(W){return j(W,k._element)}:j}},{key:"_resolvePossibleFunction",value:function(k){return typeof k=="function"?k.call(this._element):k}},{key:"_getPopperConfig",value:function(W){var j=this,W={placement:W,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(ee){return j._handlePopperPlacementChange(ee)}}],onFirstUpdate:function(ee){ee.options.placement!==ee.placement&&j._handlePopperPlacementChange(ee)}};return nr(nr({},W),typeof this._config.popperConfig=="function"?this._config.popperConfig(W):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(k){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(k)))}},{key:"_getAttachment",value:function(k){return xl[k.toUpperCase()]}},{key:"_setListeners",value:function(){var k=this;this._config.trigger.split(" ").forEach(function(j){var W;j==="click"?pe.on(k._element,k.constructor.Event.CLICK,k._config.selector,function(ee){return k.toggle(ee)}):j!=="manual"&&(W=j===Hr?k.constructor.Event.MOUSEENTER:k.constructor.Event.FOCUSIN,j=j===Hr?k.constructor.Event.MOUSELEAVE:k.constructor.Event.FOCUSOUT,pe.on(k._element,W,k._config.selector,function(ee){return k._enter(ee)}),pe.on(k._element,j,k._config.selector,function(ee){return k._leave(ee)}))}),this._hideModalHandler=function(){k._element&&k.hide()},pe.on(this._element.closest(ns),rs,this._hideModalHandler),this._config.selector?this._config=nr(nr({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var k=this._element.getAttribute("title"),j=_i(this._element.getAttribute("data-bs-original-title"));!k&&j==="string"||(this._element.setAttribute("data-bs-original-title",k||""),!k||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",k),this._element.setAttribute("title",""))}},{key:"_enter",value:function(k,j){j=this._initializeOnDelegatedTarget(k,j),k&&(j._activeTrigger[k.type==="focusin"?fo:Hr]=!0),j.getTipElement().classList.contains(Jr)||j._hoverState===qr?j._hoverState=qr:(clearTimeout(j._timeout),j._hoverState=qr,j._config.delay&&j._config.delay.show?j._timeout=setTimeout(function(){j._hoverState===qr&&j.show()},j._config.delay.show):j.show())}},{key:"_leave",value:function(k,j){j=this._initializeOnDelegatedTarget(k,j),k&&(j._activeTrigger[k.type==="focusout"?fo:Hr]=j._element.contains(k.relatedTarget)),j._isWithActiveTrigger()||(clearTimeout(j._timeout),j._hoverState="out",j._config.delay&&j._config.delay.hide?j._timeout=setTimeout(function(){j._hoverState==="out"&&j.hide()},j._config.delay.hide):j.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var k in this._activeTrigger)if(this._activeTrigger[k])return!0;return!1}},{key:"_getConfig",value:function(k){var j=we.getDataAttributes(this._element);return Object.keys(j).forEach(function(W){Bl.has(W)&&delete j[W]}),(k=nr(nr(nr({},this.constructor.Default),j),_i(k)==="object"&&k?k:{})).container=k.container===!1?document.body:_(k.container),typeof k.delay=="number"&&(k.delay={show:k.delay,hide:k.delay}),typeof k.title=="number"&&(k.title=k.title.toString()),typeof k.content=="number"&&(k.content=k.content.toString()),w(es,k,this.constructor.DefaultType),k.sanitize&&(k.template=Ya(k.template,k.allowList,k.sanitizeFn)),k}},{key:"_getDelegateConfig",value:function(){var k,j={};for(k in this._config)this.constructor.Default[k]!==this._config[k]&&(j[k]=this._config[k]);return j}},{key:"_cleanTipClass",value:function(){var k=this.getTipElement(),j=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),j=k.getAttribute("class").match(j);j!==null&&0<j.length&&j.map(function(W){return W.trim()}).forEach(function(W){return k.classList.remove(W)})}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(k){k=k.state,k&&(this.tip=k.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(k.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}])&&Xa(A.prototype,F),T&&Xa(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),$i=(C(It),It);function is(A){return(is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function os(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function ss(A,T){return(ss=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Rl(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=po(A),x=(F=T?(F=po(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(is(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function po(A){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}function us(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Mi(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?us(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):us(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}var Jt=".".concat("bs.popover"),Ll=Mi(Mi({},$i.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),jl=Mi(Mi({},$i.DefaultType),{},{content:"(string|element|function)"}),Dl={HIDE:"hide".concat(Jt),HIDDEN:"hidden".concat(Jt),SHOW:"show".concat(Jt),SHOWN:"shown".concat(Jt),INSERTED:"inserted".concat(Jt),CLICK:"click".concat(Jt),FOCUSIN:"focusin".concat(Jt),FOCUSOUT:"focusout".concat(Jt),MOUSEENTER:"mouseenter".concat(Jt),MOUSELEAVE:"mouseleave".concat(Jt)},It=function(){var A=E,T=$i;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&ss(A,T);var F,x=Rl(E);function E(){var k=this,j=E;if(k instanceof j)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"Default",get:function(){return Ll}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Dl}},{key:"DefaultType",get:function(){return jl}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(F=[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(k){this._sanitizeAndSetContent(k,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(k,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}])&&os(A.prototype,F),T&&os(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Jt=(C(It),It);ze(180);function mo(A){return(mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function ls(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function ho(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?ls(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):ls(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function cs(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function fs(){return(fs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Gr(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function ps(A,T){return(ps=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function zl(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Gr(A),x=(F=T?(F=Gr(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(mo(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Gr(A){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var ds="scrollspy",wi=".".concat("bs.scrollspy"),ms={offset:10,method:"auto",target:""},Wl={offset:"number",method:"string",target:"(string|element)"},Vl="activate".concat(wi),Ul="scroll".concat(wi),It="load".concat(wi).concat(".data-api"),hs="dropdown-item",_r="active",go=".nav-link",gs=".list-group-item",yo="".concat(go,", ").concat(gs,", .").concat(hs),ys="position",bo=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&ps(A,T);var F,x=zl(E);function E(k,j){var W;if(this instanceof E)return(W=x.call(this,k))._scrollElement=W._element.tagName==="BODY"?window:W._element,W._config=W._getConfig(j),W._offsets=[],W._targets=[],W._activeTarget=null,W._scrollHeight=0,pe.on(W._scrollElement,Ul,function(){return W._process()}),W.refresh(),W._process(),W;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"Default",get:function(){return ms}},{key:"NAME",get:function(){return ds}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(F=[{key:"refresh",value:function(){var k=this,j=this._scrollElement===this._scrollElement.window?"offset":ys,W=this._config.method==="auto"?j:this._config.method,ee=W===ys?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ce.find(yo,this._config.target).map(function(oe){var oe=h(oe),ye=oe?Ce.findOne(oe):null;if(ye){var me=ye.getBoundingClientRect();if(me.width||me.height)return[we[W](ye).top+ee,oe]}return null}).filter(function(se){return se}).sort(function(se,oe){return se[0]-oe[0]}).forEach(function(se){k._offsets.push(se[0]),k._targets.push(se[1])})}},{key:"dispose",value:function(){pe.off(this._scrollElement,wi),fs(Gr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return(k=ho(ho(ho({},ms),we.getDataAttributes(this._element)),mo(k)==="object"&&k?k:{})).target=_(k.target)||document.documentElement,w(ds,k,Wl),k}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var k=this._getScrollTop()+this._config.offset,j=this._getScrollHeight(),W=this._config.offset+j-this._getOffsetHeight();if(this._scrollHeight!==j&&this.refresh(),W<=k)return j=this._targets[this._targets.length-1],void(this._activeTarget!==j&&this._activate(j));if(this._activeTarget&&k<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var ee=this._offsets.length;ee--;)this._activeTarget!==this._targets[ee]&&k>=this._offsets[ee]&&(this._offsets[ee+1]===void 0||k<this._offsets[ee+1])&&this._activate(this._targets[ee])}},{key:"_activate",value:function(k){this._activeTarget=k,this._clear();var j=yo.split(",").map(function(W){return"".concat(W,'[data-bs-target="').concat(k,'"],').concat(W,'[href="').concat(k,'"]')}),j=Ce.findOne(j.join(","),this._config.target);j.classList.add(_r),j.classList.contains(hs)?Ce.findOne(".dropdown-toggle",j.closest(".dropdown")).classList.add(_r):Ce.parents(j,".nav, .list-group").forEach(function(W){Ce.prev(W,"".concat(go,", ").concat(gs)).forEach(function(ee){return ee.classList.add(_r)}),Ce.prev(W,".nav-item").forEach(function(ee){Ce.children(ee,go).forEach(function(se){return se.classList.add(_r)})})}),pe.trigger(this._scrollElement,Vl,{relatedTarget:k})}},{key:"_clear",value:function(){Ce.find(yo,this._config.target).filter(function(k){return k.classList.contains(_r)}).forEach(function(k){return k.classList.remove(_r)})}}])&&cs(A.prototype,F),T&&cs(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),It=(pe.on(window,It,function(){Ce.find('[data-bs-spy="scroll"]').forEach(function(A){return new bo(A)})}),C(bo),bo);function bs(A){return(bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function _s(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function vs(A,T){return(vs=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Jl(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=_o(A),x=(F=T?(F=_o(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&(bs(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function _o(A){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}var Un=".".concat("bs.tab"),ql="hide".concat(Un),Hl="hidden".concat(Un),Gl="show".concat(Un),Yl="shown".concat(Un),Un="click".concat(Un).concat(".data-api"),Yr="active",$s=".active",Ms=":scope > li > .active",vo=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&vs(A,T);var F,x=Jl(E);function E(){var k=this,j=E;if(k instanceof j)return x.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k]()}})}}],(F=[{key:"show",value:function(){var k,j,W,ee,se=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Yr)||(k=g(this._element),(j=this._element.closest(".nav, .list-group"))&&(ee=j.nodeName==="UL"||j.nodeName==="OL"?Ms:$s,W=(W=Ce.find(ee,j))[W.length-1]),ee=W?pe.trigger(W,ql,{relatedTarget:this._element}):null,pe.trigger(this._element,Gl,{relatedTarget:W}).defaultPrevented||ee!==null&&ee.defaultPrevented||(this._activate(this._element,j),ee=function(){pe.trigger(W,Hl,{relatedTarget:se._element}),pe.trigger(se._element,Yl,{relatedTarget:W})},k?this._activate(k,k.parentNode,ee):ee()))}},{key:"_activate",value:function(k,ye,W){function ee(){return se._transitionComplete(k,oe,W)}var se=this,oe=(!ye||ye.nodeName!=="UL"&&ye.nodeName!=="OL"?Ce.children(ye,$s):Ce.find(Ms,ye))[0],ye=W&&oe&&oe.classList.contains("fade");oe&&ye?(oe.classList.remove("show"),this._queueCallback(ee,k,!0)):ee()}},{key:"_transitionComplete",value:function(k,j,W){j&&(j.classList.remove(Yr),(ee=Ce.findOne(":scope > .dropdown-menu .active",j.parentNode))&&ee.classList.remove(Yr),j.getAttribute("role")==="tab"&&j.setAttribute("aria-selected",!1)),k.classList.add(Yr),k.getAttribute("role")==="tab"&&k.setAttribute("aria-selected",!0),P(k),k.classList.contains("fade")&&k.classList.add("show");var ee=k.parentNode;(ee=ee&&ee.nodeName==="LI"?ee.parentNode:ee)&&ee.classList.contains("dropdown-menu")&&((j=k.closest(".dropdown"))&&Ce.find(".dropdown-toggle",j).forEach(function(se){return se.classList.add(Yr)}),k.setAttribute("aria-expanded",!0)),W&&W()}}])&&_s(A.prototype,F),T&&_s(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),Un=(pe.on(document,Un,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),v(this)||vo.getOrCreateInstance(this).show()}),C(vo),vo);function $o(A){return($o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function ws(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Mo(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?ws(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):ws(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Is(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function Cs(){return(Cs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,T,F){var x=function(E,k){for(;!Object.prototype.hasOwnProperty.call(E,k)&&(E=Zr(E))!==null;);return E}(A,T);if(x)return x=Object.getOwnPropertyDescriptor(x,T),x.get?x.get.call(arguments.length<3?A:F):x.value}).apply(this,arguments)}function Ss(A,T){return(Ss=Object.setPrototypeOf||function(F,x){return F.__proto__=x,F})(A,T)}function Zl(A){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,x=Zr(A),x=(F=T?(F=Zr(this).constructor,Reflect.construct(x,arguments,F)):x.apply(this,arguments),this);if(F&&($o(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");if(x!==void 0)return x;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Zr(A){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(A)}function Es(A){for(;A+=Math.floor(Math.random()*sc),document.getElementById(A););return A}function Ii(A,T,F){Object.keys(F).forEach(function(x){var E,k=F[x],j=T[x],j=j&&((E=j)[0]||E).nodeType?"element":(E=j)==null?"".concat(E):{}.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(k).test(j))throw new Error("".concat(A.toUpperCase(),": ")+'Option "'.concat(x,'" provided type "').concat(j,'" ')+'but expected type "'.concat(k,'".'))})}function ks(){var A=window.jQuery;return A&&!document.body.hasAttribute("data-mdb-no-jquery")?A:null}function Xl(A){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A()}function vr(A){return document.createElement(A)}var Ci,wo,Bn=".".concat("bs.toast"),Kl="mouseover".concat(Bn),Ql="mouseout".concat(Bn),ec="focusin".concat(Bn),tc="focusout".concat(Bn),nc="hide".concat(Bn),rc="hidden".concat(Bn),ic="show".concat(Bn),oc="shown".concat(Bn),Xr="show",Si="showing",ac={animation:"boolean",autohide:"boolean",delay:"number"},Ts={animation:!0,autohide:!0,delay:5e3},Bn=function(){var A=E,T=Ue;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&Ss(A,T);var F,x=Zl(E);function E(k,j){if(this instanceof E)return(k=x.call(this,k))._config=k._getConfig(j),k._timeout=null,k._hasMouseInteraction=!1,k._hasKeyboardInteraction=!1,k._setListeners(),k;throw new TypeError("Cannot call a class as a function")}return A=E,T=[{key:"DefaultType",get:function(){return ac}},{key:"Default",get:function(){return Ts}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(k){return this.each(function(){var j=E.getOrCreateInstance(this,k);if(typeof k=="string"){if(j[k]===void 0)throw new TypeError('No method named "'.concat(k,'"'));j[k](this)}})}}],(F=[{key:"show",value:function(){var k=this;pe.trigger(this._element,ic).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),P(this._element),this._element.classList.add(Xr),this._element.classList.add(Si),this._queueCallback(function(){k._element.classList.remove(Si),pe.trigger(k._element,oc),k._maybeScheduleHide()},this._element,this._config.animation))}},{key:"hide",value:function(){var k=this;this._element.classList.contains(Xr)&&!pe.trigger(this._element,nc).defaultPrevented&&(this._element.classList.add(Si),this._queueCallback(function(){k._element.classList.add("hide"),k._element.classList.remove(Si),k._element.classList.remove(Xr),pe.trigger(k._element,rc)},this._element,this._config.animation))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Xr)&&this._element.classList.remove(Xr),Cs(Zr(E.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(k){return k=Mo(Mo(Mo({},Ts),we.getDataAttributes(this._element)),$o(k)==="object"&&k?k:{}),w("toast",k,this.constructor.DefaultType),k}},{key:"_maybeScheduleHide",value:function(){var k=this;!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(function(){k.hide()},this._config.delay))}},{key:"_onInteraction",value:function(k,j){switch(k.type){case"mouseover":case"mouseout":this._hasMouseInteraction=j;break;case"focusin":case"focusout":this._hasKeyboardInteraction=j}j?this._clearTimeout():(k=k.relatedTarget,this._element===k||this._element.contains(k)||this._maybeScheduleHide())}},{key:"_setListeners",value:function(){var k=this;pe.on(this._element,Kl,function(j){return k._onInteraction(j,!0)}),pe.on(this._element,Ql,function(j){return k._onInteraction(j,!1)}),pe.on(this._element,ec,function(j){return k._onInteraction(j,!0)}),pe.on(this._element,tc,function(j){return k._onInteraction(j,!1)})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}])&&Is(A.prototype,F),T&&Is(A,T),Object.defineProperty(A,"prototype",{writable:!1}),E}(),sc=(mi(Bn),C(Bn),1e6),Io=(document.documentElement.dir,Ci={},wo=1,{set:function(A,T,F){A[T]===void 0&&(A[T]={key:T,id:wo},wo++),Ci[A[T].id]=F},get:function(A,T){return!A||A[T]===void 0?null:(A=A[T],A.key===T?Ci[A.id]:null)},delete:function(A,T){var F;A[T]!==void 0&&(F=A[T]).key===T&&(delete Ci[F.id],delete A[T])}}),Cn={setData:function(A,T,F){Io.set(A,T,F)},getData:function(A,T){return Io.get(A,T)},removeData:function(A,T){Io.delete(A,T)}};function Ps(A,T){return function(F){if(Array.isArray(F))return F}(A)||function(F,x){var E=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(E!=null){var k,j,W=[],ee=!0,se=!1;try{for(E=E.call(F);!(ee=(k=E.next()).done)&&(W.push(k.value),!x||W.length!==x);ee=!0);}catch(oe){se=!0,j=oe}finally{try{ee||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,T)||function(F,x){if(F){if(typeof F=="string")return As(F,x);var E=Object.prototype.toString.call(F).slice(8,-1);return(E=E==="Object"&&F.constructor?F.constructor.name:E)==="Map"||E==="Set"?Array.from(F):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?As(F,x):void 0}}(A,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function As(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}var Co=ks(),uc=/[^.]*(?=\..*)\.|.*/,Bs=/\..*/,lc=/::\d+$/,So={},Os=1,cc={mouseenter:"mouseover",mouseleave:"mouseout"},xs=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Fs(A,T){return T&&"".concat(T,"::").concat(Os++)||A.uidEvent||Os++}function Ns(A){var T=Fs(A);return A.uidEvent=T,So[T]=So[T]||{},So[T]}function Rs(A,T,F){for(var x=2<arguments.length&&F!==void 0?F:null,E=Object.keys(A),k=0,j=E.length;k<j;k++){var W=A[E[k]];if(W.originalHandler===T&&W.delegationSelector===x)return W}return null}function Ls(A,k,E){var x=typeof k=="string",E=x?E:k,k=A.replace(Bs,""),j=cc[k];return[x,E,k=-1<xs.indexOf(k=j||k)?k:A]}function js(A,T,F,x,E){var k,j,W,ee,se,oe,ye,me,Se,Ae;typeof T=="string"&&A&&(F||(F=x,x=null),k=(W=Ps(Ls(T,F,x),3))[0],j=W[1],W=W[2],(se=Rs(ee=(ee=Ns(A))[W]||(ee[W]={}),j,k?F:null))?se.oneOff=se.oneOff&&E:(se=Fs(j,T.replace(uc,"")),(T=k?(me=A,Se=F,Ae=x,function Pe(Fe){for(var Me=me.querySelectorAll(Se),Oe=Fe.target;Oe&&Oe!==this;Oe=Oe.parentNode)for(var We=Me.length;We--;)if(Me[We]===Oe)return Fe.delegateTarget=Oe,Pe.oneOff&&Kr.off(me,Fe.type,Ae),Ae.apply(Oe,[Fe]);return null}):(oe=A,ye=F,function Pe(Fe){return Fe.delegateTarget=oe,Pe.oneOff&&Kr.off(oe,Fe.type,ye),ye.apply(oe,[Fe])})).delegationSelector=k?F:null,T.originalHandler=j,T.oneOff=E,ee[T.uidEvent=se]=T,A.addEventListener(W,T,k)))}function Eo(A,T,F,x,E){x=Rs(T[F],x,E),x&&(A.removeEventListener(F,x,Boolean(E)),delete T[F][x.uidEvent])}var Kr={on:function(A,T,F,x){js(A,T,F,x,!1)},one:function(A,T,F,x){js(A,T,F,x,!0)},off:function(A,T,F,x){if(typeof T=="string"&&A){var x=Ps(Ls(T,F,x),3),E=x[0],k=x[1],j=x[2],W=j!==T,ee=Ns(A),x=T.charAt(0)===".";if(k!==void 0)return ee&&ee[j]?void Eo(A,ee,j,k,E?F:null):void 0;x&&Object.keys(ee).forEach(function(ye){var me,Se,Ae,Pe,Fe;me=A,Se=ee,Ae=ye,Pe=T.slice(1),Fe=Se[Ae]||{},Object.keys(Fe).forEach(function(Me){-1<Me.indexOf(Pe)&&(Me=Fe[Me],Eo(me,Se,Ae,Me.originalHandler,Me.delegationSelector))})});var se=ee[j]||{};Object.keys(se).forEach(function(ye){var me=ye.replace(lc,"");(!W||-1<T.indexOf(me))&&(me=se[ye],Eo(A,ee,j,me.originalHandler,me.delegationSelector))})}},trigger:function(A,T,F){if(typeof T!="string"||!A)return null;var x,E=T.replace(Bs,""),k=T!==E,j=-1<xs.indexOf(E),W=!0,ee=!0,se=!1,oe=null;return k&&Co&&(x=Co.Event(T,F),Co(A).trigger(x),W=!x.isPropagationStopped(),ee=!x.isImmediatePropagationStopped(),se=x.isDefaultPrevented()),j?(oe=document.createEvent("HTMLEvents")).initEvent(E,W,!0):oe=new CustomEvent(T,{bubbles:W,cancelable:!0}),F!==void 0&&Object.keys(F).forEach(function(ye){Object.defineProperty(oe,ye,{get:function(){return F[ye]}})}),se&&oe.preventDefault(),ee&&A.dispatchEvent(oe),oe.defaultPrevented&&x!==void 0&&x.preventDefault(),oe}},Qr=function(A,T,F,x){for(var E=T.split(" "),k=0;k<E.length;k++)Kr.on(A,E[k],F,x)},fc=function(A,T,F,x){for(var E=T.split(" "),k=0;k<E.length;k++)Kr.off(A,E[k],F,x)},ct=Kr;ze(185);function Ds(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function pc(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Ds(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Ds(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function zs(A){return A==="true"||A!=="false"&&(A===Number(A).toString()?Number(A):A===""||A==="null"?null:A)}function ko(A){return A.replace(/[A-Z]/g,function(T){return"-".concat(T.toLowerCase())})}var $e={setDataAttribute:function(A,T,F){A.setAttribute("data-mdb-".concat(ko(T)),F)},removeDataAttribute:function(A,T){A.removeAttribute("data-mdb-".concat(ko(T)))},getDataAttributes:function(A){if(!A)return{};var T=pc({},A.dataset);return Object.keys(T).filter(function(F){return F.startsWith("mdb")}).forEach(function(F){var x=(x=F.replace(/^mdb/,"")).charAt(0).toLowerCase()+x.slice(1,x.length);T[x]=zs(T[F])}),T},getDataAttribute:function(A,T){return zs(A.getAttribute("data-mdb-".concat(ko(T))))},offset:function(A){return A=A.getBoundingClientRect(),{top:A.top+document.body.scrollTop,left:A.left+document.body.scrollLeft}},position:function(A){return{top:A.offsetTop,left:A.offsetLeft}},style:function(A,T){Object.assign(A.style,T)},toggleClass:function(A,T){A&&(A.classList.contains(T)?A.classList.remove(T):A.classList.add(T))},addClass:function(A,T){A.classList.contains(T)||A.classList.add(T)},addStyle:function(A,T){Object.keys(T).forEach(function(F){A.style[F]=T[F]})},removeClass:function(A,T){A.classList.contains(T)&&A.classList.remove(T)},hasClass:function(A,T){return A.classList.contains(T)}};function Ws(A){return function(T){if(Array.isArray(T))return To(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||function(T,F){if(T){if(typeof T=="string")return To(T,F);var x=Object.prototype.toString.call(T).slice(8,-1);return(x=x==="Object"&&T.constructor?T.constructor.name:x)==="Map"||x==="Set"?Array.from(T):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?To(T,F):void 0}}(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function To(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}var xe={closest:function(A,T){return A.closest(T)},matches:function(A,T){return A.matches(T)},find:function(A){var T,F=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return(T=[]).concat.apply(T,Ws(Element.prototype.querySelectorAll.call(F,A)))},findOne:function(A){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(T,A)},children:function(A,T){var F;return(F=[]).concat.apply(F,Ws(A.children)).filter(function(x){return x.matches(T)})},parents:function(A,T){for(var F=[],x=A.parentNode;x&&x.nodeType===Node.ELEMENT_NODE&&x.nodeType!==3;)this.matches(x,T)&&F.push(x),x=x.parentNode;return F},prev:function(A,T){for(var F=A.previousElementSibling;F;){if(F.matches(T))return[F];F=F.previousElementSibling}return[]},next:function(A,T){for(var F=A.nextElementSibling;F;){if(this.matches(F,T))return[F];F=F.nextElementSibling}return[]}};function Vs(A){return(Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Us(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Po(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Us(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Us(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Js(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var rr="ripple",Ei="mdb.ripple",ir="ripple-surface",qs="ripple-wave",Hs=["[data-mdb-ripple]"],Gs="ripple-surface-unbound",ki=[0,0,0],dc=["primary","secondary","success","danger","warning","info","light","dark"],mc={rippleCentered:!1,rippleColor:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},hc={rippleCentered:"boolean",rippleColor:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},$r=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(k),this._element&&(Cn.setData(E,Ei,this),$e.addClass(this._element,ir)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this.init()}var T,F,x;return T=A,x=[{key:"NAME",get:function(){return rr}},{key:"autoInitial",value:function(E){return function(k){E._autoInit(k)}}},{key:"jQueryInterface",value:function(E){return this.each(function(){return Cn.getData(this,Ei)?null:new A(this,E)})}},{key:"getInstance",value:function(E){return Cn.getData(E,Ei)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,Vs(k)==="object"?k:null)}}],(F=[{key:"init",value:function(){this._addClickEvent(this._element)}},{key:"dispose",value:function(){Cn.removeData(this._element,Ei),ct.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}},{key:"_autoInit",value:function(E){var k=this;Hs.forEach(function(j){xe.closest(E.target,j)&&(k._element=xe.closest(E.target,j))}),this._element.style.minWidth||($e.style(this._element,{"min-width":"".concat(this._element.offsetWidth,"px")}),this._isMinWidthSet=!0),$e.addClass(this._element,ir),this._options=this._getConfig(),this._createRipple(E)}},{key:"_addClickEvent",value:function(E){ct.on(E,"mousedown",this._clickHandler)}},{key:"_createRipple",value:function(k){$e.hasClass(this._element,ir)||$e.addClass(this._element,ir);var me=k.layerX,k=k.layerY,j=this._element.offsetHeight,ye=this._element.offsetWidth,W=this._durationToMsNumber(this._options.rippleDuration),ee={offsetX:this._options.rippleCentered?j/2:me,offsetY:this._options.rippleCentered?ye/2:k,height:j,width:ye},ee=this._getDiameter(ee),se=this._options.rippleRadius||ee/2,oe={delay:.5*W,duration:W-.5*W},ye={left:this._options.rippleCentered?"".concat(ye/2-se,"px"):"".concat(me-se,"px"),top:this._options.rippleCentered?"".concat(j/2-se,"px"):"".concat(k-se,"px"),height:"".concat(2*this._options.rippleRadius||ee,"px"),width:"".concat(2*this._options.rippleRadius||ee,"px"),transitionDelay:"0s, ".concat(oe.delay,"ms"),transitionDuration:"".concat(W,"ms, ").concat(oe.duration,"ms")},me=vr("div");this._createHTMLRipple({wrapper:this._element,ripple:me,styles:ye}),this._removeHTMLRipple({ripple:me,duration:W})}},{key:"_createHTMLRipple",value:function(E){var k=E.wrapper,j=E.ripple,W=E.styles;Object.keys(W).forEach(function(ee){return j.style[ee]=W[ee]}),j.classList.add(qs),this._options.rippleColor!==""&&(this._removeOldColorClasses(k),this._addColor(j,k)),this._toggleUnbound(k),this._appendRipple(j,k)}},{key:"_removeHTMLRipple",value:function(W){var k=this,j=W.ripple,W=W.duration;this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),this._rippleTimer=setTimeout(function(){j&&(j.remove(),k._element&&(xe.find(".".concat(qs),k._element).forEach(function(ee){ee.remove()}),k._isMinWidthSet&&($e.style(k._element,{"min-width":""}),k._isMinWidthSet=!1),$e.removeClass(k._element,ir)))},W)}},{key:"_durationToMsNumber",value:function(E){return Number(E.replace("ms","").replace("s","000"))}},{key:"_getConfig",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=$e.getDataAttributes(this._element),k=Po(Po(Po({},mc),E),k);return Ii(rr,k,hc),k}},{key:"_getDiameter",value:function(Pe){function k(Fe,Me){return Math.sqrt(Math.pow(Fe,2)+Math.pow(Me,2))}var j=Pe.offsetX,W=Pe.offsetY,ee=Pe.height,Pe=Pe.width,Se=W<=ee/2,Ae=j<=Pe/2,se=W===ee/2&&j===Pe/2,oe=Se==!0&&Ae==!1,ye=Se==!0&&Ae==!0,me=Se==!1&&Ae==!0,Se=Se==!1&&Ae==!1,Ae={topLeft:k(j,W),topRight:k(Pe-j,W),bottomLeft:k(j,ee-W),bottomRight:k(Pe-j,ee-W)},Pe=0;return se||Se?Pe=Ae.topLeft:me?Pe=Ae.topRight:ye?Pe=Ae.bottomRight:oe&&(Pe=Ae.bottomLeft),2*Pe}},{key:"_appendRipple",value:function(E,k){k.appendChild(E),setTimeout(function(){$e.addClass(E,"active")},50)}},{key:"_toggleUnbound",value:function(E){this._options.rippleUnbound===!0?$e.addClass(E,Gs):E.classList.remove(Gs)}},{key:"_addColor",value:function(E,k){var j=this;dc.find(function(W){return W===j._options.rippleColor.toLowerCase()})?$e.addClass(k,"".concat(ir,"-").concat(this._options.rippleColor.toLowerCase())):(k=this._colorToRGB(this._options.rippleColor).join(","),k="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(k)),E.style.backgroundImage="radial-gradient(circle, ".concat(k,")"))}},{key:"_removeOldColorClasses",value:function(E){var k=new RegExp("".concat(ir,"-[a-z]+"),"gi");(E.classList.value.match(k)||[]).forEach(function(j){E.classList.remove(j)})}},{key:"_colorToRGB",value:function(E){return E.toLowerCase()==="transparent"?ki:E[0]==="#"?((k=E).length<7&&(k="#".concat(k[1]).concat(k[1]).concat(k[2]).concat(k[2]).concat(k[3]).concat(k[3])),[parseInt(k.substr(1,2),16),parseInt(k.substr(3,2),16),parseInt(k.substr(5,2),16)]):(E.indexOf("rgb")===-1&&(k=E,j=document.body.appendChild(document.createElement("fictum")),W="rgb(1, 2, 3)",j.style.color=W,E=j.style.color!==W?ki:(j.style.color=k,j.style.color===W||j.style.color===""?ki:(k=getComputedStyle(j).color,document.body.removeChild(j),k))),E.indexOf("rgb")===0?((W=(W=E).match(/[.\d]+/g).map(function(ee){return+Number(ee)})).length=3,W):ki);var k,j,W}}])&&Js(T.prototype,F),x&&Js(T,x),Object.defineProperty(T,"prototype",{writable:!1}),A}(),gc=(Hs.forEach(function(A){ct.one(document,"mousedown",A,$r.autoInitial(new $r))}),Xl(function(){var A,T=ks();T&&(A=T.fn[rr],T.fn[rr]=$r.jQueryInterface,T.fn[rr].Constructor=$r,T.fn[rr].noConflict=function(){return T.fn[rr]=A,$r.jQueryInterface})}),$r);ze(187);function yc(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var Ys=function(){function A(x){var E=this,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},j=2<arguments.length?arguments[2]:void 0,W=this,ee=A;if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function");this._element=x,this._toggler=j,this._event=k.event||"blur",this._condition=k.condition||function(){return!0},this._selector=k.selector||'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])',this._onlyVisible=k.onlyVisible||!1,this._focusableElements=[],this._firstElement=null,this._lastElement=null,this.handler=function(se){E._condition(se)&&se.target===E._lastElement&&(se.preventDefault(),E._firstElement.focus())}}var T,F;return T=A,(F=[{key:"trap",value:function(){this._setElements(),this._init(),this._setFocusTrap()}},{key:"disable",value:function(){var x=this;this._focusableElements.forEach(function(E){E.removeEventListener(x._event,x.handler)}),this._toggler&&this._toggler.focus()}},{key:"update",value:function(){this._setElements(),this._setFocusTrap()}},{key:"_init",value:function(){var x=this;window.addEventListener("keydown",function E(k){x._firstElement&&k.key==="Tab"&&!x._focusableElements.includes(k.target)&&(k.preventDefault(),x._firstElement.focus(),window.removeEventListener("keydown",E))})}},{key:"_filterVisible",value:function(x){return x.filter(function(E){if(!(k=E)||!(k.style&&k.parentNode&&k.parentNode.style)||(j=getComputedStyle(k),k=getComputedStyle(k.parentNode),j.display==="none"||k.display==="none"||j.visibility==="hidden"))return!1;for(var k,j,W=xe.parents(E,"*"),ee=0;ee<W.length;ee++){var se=window.getComputedStyle(W[ee]);if(se&&(se.display==="none"||se.visibility==="hidden"))return!1}return!0})}},{key:"_setElements",value:function(){this._focusableElements=xe.find(this._selector,this._element),this._onlyVisible&&(this._focusableElements=this._filterVisible(this._focusableElements)),this._firstElement=this._focusableElements[0],this._lastElement=this._focusableElements[this._focusableElements.length-1]}},{key:"_setFocusTrap",value:function(){var x=this;this._focusableElements.forEach(function(E,k){k===x._focusableElements.length-1?E.addEventListener(x._event,x.handler):E.removeEventListener(x._event,x.handler)})}}])&&yc(T.prototype,F),Object.defineProperty(T,"prototype",{writable:!1}),A}();ze(188);function Sn(A){return A.getDate()}function Ti(A){return A.getDay()}function yn(A){return A.getMonth()}function nn(A){return A.getFullYear()}function Ao(A){return zn((A=A).getFullYear(),A.getMonth()+1,0).getDate()}function ei(){return new Date}function bn(A,T){return _n(A,12*T)}function _n(A,T){return T=zn(A.getFullYear(),A.getMonth()+T,A.getDate()),Sn(A)!==Sn(T)&&T.setDate(0),T}function Mr(A,T){return zn(A.getFullYear(),A.getMonth(),A.getDate()+T)}function zn(A,T,F){return T=new Date(A,T,F),0<=A&&A<100&&T.setFullYear(T.getFullYear()-1900),T}function Zs(A){return A=A.split("-"),zn(A[0],A[1],A[2])}function or(A,T){return A.setHours(0,0,0,0),T.setHours(0,0,0,0),A.getTime()===T.getTime()}function Pi(A,T){return((nn(A)-function(F,x,E){var k=0;return E?(E=nn(E),k=E-F+1):x&&(k=nn(x)),k}())%T+T)%T}function Bo(A,T,F,x,E){return F==="days"?nn(A)===nn(T)&&yn(A)===yn(T):F==="months"?nn(A)===nn(T):F==="years"&&nn(T)>=E&&nn(T)<=x}function bc(A,T,F,x,E,k,Fe,W,ee){var se,oe,ye=yn(A),me=nn(A),Se=Sn(A),Ae=Ti(A),Pe=vr("div"),Fe=`
      `.concat((Se=Se,Ae=Ae,se=ye,`
      <div class="datepicker-header">
        <div class="datepicker-title">
          <span class="datepicker-title-text">`.concat((oe=E).title,`</span>
        </div>
        <div class="datepicker-date">
          <span class="datepicker-date-text">`).concat(oe.weekdaysShort[Ae],", ").concat(oe.monthsShort[se]," ").concat(Se,`</span>
        </div>
      </div>
    `)),`
      `).concat((Ae=A,oe=T,se=F,Se=x,A=k,T=Fe,F=W,`
    <div class="datepicker-main">
      `.concat(function(Me,Oe,We){return`
    <div class="datepicker-date-controls">
      <button class="datepicker-view-change-button" aria-label="`.concat(We.switchToMultiYearViewLabel,`">
        `).concat(We.monthsFull[Me]," ").concat(Oe,`
      </button>
      <div class="datepicker-arrow-controls">
        <button class="datepicker-previous-button" aria-label="`).concat(We.prevMonthLabel,`"></button>
        <button class="datepicker-next-button" aria-label="`).concat(We.nextMonthLabel,`"></button>
      </div>
    </div>
    `)}(ye,x=me,k=E),`
      <div class="datepicker-view" tabindex="0">
        `).concat(function(Me,Oe,We,Qe,lt,vt,st,mt,Wt){return We=vt.view==="days"?Ai(Me,We,vt):vt.view==="months"?Bi(Oe,Qe,lt,vt,st):Oi(Me,Qe,0,mt,Wt),We}(Ae,x,oe,se,Se,k,A,T,F),`
      </div>
      `).concat(function(Me){return`
        <div class="datepicker-footer">
          <button class="datepicker-footer-btn datepicker-clear-btn" aria-label="`.concat(Me.clearBtnLabel,'">').concat(Me.clearBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-cancel-btn" aria-label="`).concat(Me.cancelBtnLabel,'">').concat(Me.cancelBtnText,`</button>
          <button class="datepicker-footer-btn datepicker-ok-btn" aria-label="`).concat(Me.okBtnLabel,'">').concat(Me.okBtnText,`</button>
        </div>
      `)}(k),`
    </div>
  `)),`
    `);return $e.addClass(Pe,"datepicker-modal-container"),$e.addClass(Pe,"datepicker-modal-container-".concat(ee)),Pe.innerHTML=Fe,Pe}function Ai(A,T,F){return A=function(x,E,k){for(var j=[],W=yn(x),ee=yn(_n(x,-1)),se=yn(_n(x,1)),oe=nn(x),ye=function(Wt,un,Kt){return Kt=0<(Kt=Kt.startDay)?7-Kt:0,7<=(Wt=new Date(Wt,un).getDay()+Kt)?Wt-7:Wt}(oe,W,k),me=Ao(x),Se=Ao(_n(x,-1)),Ae=1,Pe=!1,Fe=1;Fe<7;Fe++){var Me=[];if(Fe===1){for(var Oe=Se-ye+1;Oe<=Se;Oe++){var We=zn(oe,ee,Oe);Me.push({date:We,currentMonth:Pe,isSelected:E&&or(We,E),isToday:or(We,ei()),dayNumber:Sn(We)})}Pe=!0;for(var Qe=7-Me.length,lt=0;lt<Qe;lt++){var vt=zn(oe,W,Ae);Me.push({date:vt,currentMonth:Pe,isSelected:E&&or(vt,E),isToday:or(vt,ei()),dayNumber:Sn(vt)}),Ae++}}else for(var st=1;st<8;st++){me<Ae&&(Pe=!(Ae=1));var mt=zn(oe,Pe?W:se,Ae);Me.push({date:mt,currentMonth:Pe,isSelected:E&&or(mt,E),isToday:or(mt,ei()),dayNumber:Sn(mt)}),Ae++}j.push(Me)}return j}(A,T,F),T=F.weekdaysNarrow,T=`
      <tr>
        `.concat(T.map(function(x,E){return'<th class="datepicker-day-heading" scope="col" aria-label="'.concat(F.weekdaysFull[E],'">').concat(x,"</th>")}).join(""),`
      </tr>
    `),A=A.map(function(x){return`
        <tr>
          `.concat(x.map(function(E){return`
              <td
              class="datepicker-cell datepicker-small-cell datepicker-day-cell
              `.concat(E.currentMonth?"":"disabled"," ").concat(E.disabled?"disabled":"",`
              `).concat(E.isToday&&"current"," ").concat(E.isSelected&&"selected",`"
              data-mdb-date="`).concat(nn(E.date),"-").concat(yn(E.date),"-").concat(Sn(E.date),`"
              aria-label="`).concat(E.date,`"
              aria-selected="`).concat(E.isSelected,`">
                <div
                  class="datepicker-cell-content datepicker-small-cell-content"
                  style="`).concat(E.currentMonth?"display: block":"display: none",`">
                  `).concat(E.dayNumber,`
                  </div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
      <table class="datepicker-table">
        <thead>
          `.concat(T,`
        </thead>
        <tbody class="datepicker-table-body">
         `).concat(A,`
        </tbody>
      </table>
    `)}function Bi(A,T,F,x,j){var j=function(W,ee){for(var se=[],oe=[],ye=0;ye<W.monthsShort.length;ye++){var me;oe.push(W.monthsShort[ye]),oe.length===ee&&(me=oe,se.push(me),oe=[])}return se}(x,j),k=yn(ei()),j=`
      `.concat(j.map(function(W){return`
          <tr>
            `.concat(W.map(function(ee){var se=x.monthsShort.indexOf(ee);return`
                <td class="datepicker-cell datepicker-large-cell datepicker-month-cell `.concat(se===F&&A===T?"selected":""," ").concat(se===k?"current":"",'" data-mdb-month="').concat(se,'" data-mdb-year="').concat(A,'" aria-label="').concat(ee,", ").concat(A,`">
                  <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(ee,`</div>
                </td>
              `)}).join(""),`
          </tr>
        `)}).join(""),`
    `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
         `.concat(j,`
        </tbody>
      </table>
    `)}function Oi(k,T,F,W,E){var k=function(ee,se,oe){for(var ye=[],me=nn(ee),ee=Pi(ee,se),Se=me-ee,Ae=[],Pe=0;Pe<se;Pe++){var Fe;Ae.push(Se+Pe),Ae.length===oe&&(Fe=Ae,ye.push(Fe),Ae=[])}return ye}(k,W,E),j=nn(ei()),W=`
    `.concat(k.map(function(ee){return`
        <tr>
          `.concat(ee.map(function(se){return`
              <td class="datepicker-cell datepicker-large-cell datepicker-year-cell `.concat(se===T?"selected":""," ").concat(se===j?"current":"",'" aria-label="').concat(se,'" data-mdb-year="').concat(se,`">
                <div class="datepicker-cell-content datepicker-large-cell-content">`).concat(se,`</div>
              </td>
            `)}).join(""),`
        </tr>
      `)}).join(""),`
  `);return`
      <table class="datepicker-table">
        <tbody class="datepicker-table-body">
        `.concat(W,`
        </tbody>
      </table>
    `)}function Xs(A){return(Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function Ks(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Oo(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?Ks(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Ks(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Qs(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}var eu="datepicker",xi="mdb.datepicker",wr=".".concat(xi),_c="close".concat(wr),vc="open".concat(wr),$c="dateChange".concat(wr),Fi="click".concat(wr).concat(".data-api"),Mc={title:"Select date",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",okBtnLabel:"Confirm selection",clearBtnLabel:"Clear selection",cancelBtnLabel:"Cancel selection",nextMonthLabel:"Next month",prevMonthLabel:"Previous month",nextYearLabel:"Next year",prevYearLabel:"Previous year",nextMultiYearLabel:"Next 24 years",prevMultiYearLabel:"Previous 24 years",switchToMultiYearViewLabel:"Choose year and month",switchToMonthViewLabel:"Choose date",switchToDayViewLabel:"Choose date",startDate:null,startDay:0,format:"dd/mm/yyyy",view:"days",toggleButton:!0,disableToggleButton:!1,disableInput:!1},wc={title:"string",monthsFull:"array",monthsShort:"array",weekdaysFull:"array",weekdaysShort:"array",weekdaysNarrow:"array",okBtnText:"string",clearBtnText:"string",cancelBtnText:"string",okBtnLabel:"string",clearBtnLabel:"string",cancelBtnLabel:"string",nextMonthLabel:"string",prevMonthLabel:"string",nextYearLabel:"string",prevYearLabel:"string",nextMultiYearLabel:"string",prevMultiYearLabel:"string",switchToMultiYearViewLabel:"string",switchToMonthViewLabel:"string",switchToDayViewLabel:"string",startDate:"(null|string|date)",startDay:"number",format:"string",view:"string",toggleButton:"boolean",disableToggleButton:"boolean",disableInput:"boolean"},xo=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._input=xe.findOne("input",this._element),this._options=this._getConfig(k),this._activeDate=new Date,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=this._options.view,this._popper=null,this._focusTrap=null,this._isOpen=!1,this._toggleButtonId=Es("datepicker-toggle-"),this._element&&Cn.setData(E,xi,this),this._init(),this.toggleButton&&this._options.disableToggle&&(this.toggleButton.disabled="true"),this._options.disableInput&&(this._input.disabled="true")}var T,F,x;return T=A,x=[{key:"NAME",get:function(){return eu}},{key:"getInstance",value:function(E){return Cn.getData(E,xi)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,Xs(k)==="object"?k:null)}}],(F=[{key:"container",get:function(){return xe.findOne(".datepicker-modal-container".concat("-",this._toggleButtonId))||xe.findOne(".datepicker-dropdown-container".concat("-",this._toggleButtonId))}},{key:"options",get:function(){return this._options}},{key:"activeCell",get:function(){var E;return this._view==="days"&&(E=this._getActiveDayCell()),this._view==="months"&&(E=this._getActiveMonthCell()),E=this._view==="years"?this._getActiveYearCell():E}},{key:"activeDay",get:function(){return Sn(this._activeDate)}},{key:"activeMonth",get:function(){return yn(this._activeDate)}},{key:"activeYear",get:function(){return nn(this._activeDate)}},{key:"firstYearInView",get:function(){return this.activeYear-Pi(this._activeDate,24)}},{key:"lastYearInView",get:function(){return this.firstYearInView+24-1}},{key:"viewChangeButton",get:function(){return xe.findOne(".datepicker-view-change-button",this.container)}},{key:"previousButton",get:function(){return xe.findOne(".datepicker-previous-button",this.container)}},{key:"nextButton",get:function(){return xe.findOne(".datepicker-next-button",this.container)}},{key:"okButton",get:function(){return xe.findOne(".datepicker-ok-btn",this.container)}},{key:"cancelButton",get:function(){return xe.findOne(".datepicker-cancel-btn",this.container)}},{key:"clearButton",get:function(){return xe.findOne(".datepicker-clear-btn",this.container)}},{key:"datesContainer",get:function(){return xe.findOne(".datepicker-view",this.container)}},{key:"toggleButton",get:function(){return xe.findOne(".datepicker-toggle-button",this._element)}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=Oo(Oo(Oo({},Mc),k),E),Ii(eu,E,wc),E.startDay&&E.startDay!==0&&(k=this._getNewDaysOrderArray(E),E.weekdaysNarrow=k),E}},{key:"_getNewDaysOrderArray",value:function(j){var k=j.startDay,j=j.weekdaysNarrow;return j.slice(k).concat(j.slice(0,k))}},{key:"_init",value:function(){!this.toggleButton&&this._options.toggleButton&&(this._appendToggleButton(),(this._input.readOnly||this._input.disabled)&&(this.toggleButton.style.pointerEvents="none")),this._listenToUserInput(),this._listenToToggleClick(),this._listenToToggleKeydown()}},{key:"_appendToggleButton",value:function(){var E=`
    <button id="`.concat(this._toggleButtonId,`" type="button" class="datepicker-toggle-button" data-mdb-toggle="datepicker">
      <i class="far fa-calendar datepicker-toggle-icon"></i>
    </button>
  `);this._element.insertAdjacentHTML("beforeend",E),$e.addClass(this._input,"form-icon-trailing")}},{key:"open",value:function(){var E,k,j=this;this._input.readOnly||this._input.disabled||(E=ct.trigger(this._element,vc),this._isOpen||E.defaultPrevented||(this._setInitialDate(),E=vr("div"),$e.addClass(E,"datepicker-backdrop"),E=E,k=bc(this._activeDate,this._selectedDate,this._selectedYear,this._selectedMonth,this._options,4,24,24,this._toggleButtonId),this._openModal(E,k),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-in"),this.container.style.animationDuration="300ms",$e.addClass(E,"animation"),$e.addClass(E,"fade-in"),E.style.animationDuration="150ms",this._setFocusTrap(this.container),this._listenToDateSelection(),this._addControlsListeners(),this._listenToEscapeClick(),this._listenToKeyboardNavigation(),this._listenToDatesContainerFocus(),this._listenToDatesContainerBlur(),this._asyncFocusDatesContainer(),this._updateViewControlsAndAttributes(this._view),this._isOpen=!0,setTimeout(function(){j._listenToOutsideClick()},0)))}},{key:"_openDropdown",value:function(E){this._popper=X(this._input,E,{placement:"bottom-start"}),document.body.appendChild(E)}},{key:"_openModal",value:function(E,k){document.body.appendChild(E),document.body.appendChild(k),window.innerWidth>document.documentElement.clientWidth&&(document.body.style.overflow="hidden",document.body.style.paddingRight="15px")}},{key:"_setFocusTrap",value:function(E){this._focusTrap=new Ys(E,{event:"keydown",condition:function(k){return k.key==="Tab"}}),this._focusTrap.trap()}},{key:"_listenToUserInput",value:function(){var E=this;ct.on(this._input,"input",function(k){E._handleUserInput(k.target.value)})}},{key:"_listenToToggleClick",value:function(){var E=this;ct.on(this._element,Fi,'[data-mdb-toggle="datepicker"]',function(k){k.preventDefault(),E.open()})}},{key:"_listenToToggleKeydown",value:function(){var E=this;ct.on(this._element,"keydown",'[data-mdb-toggle="datepicker"]',function(k){k.keyCode!==13||E._isOpen||E.open()})}},{key:"_listenToDateSelection",value:function(){var E=this;ct.on(this.datesContainer,"click",function(ee){var j,W=(ee.target.nodeName==="DIV"?ee.target.parentNode:ee.target).dataset,ee=ee.target.nodeName==="DIV"?ee.target.parentNode:ee.target;W.mdbDate&&E._pickDay(W.mdbDate,ee),W.mdbMonth&&W.mdbYear&&(ee=parseInt(W.mdbMonth,10),j=parseInt(W.mdbYear,10),E._pickMonth(ee,j)),W.mdbYear&&!W.mdbMonth&&(ee=parseInt(W.mdbYear,10),E._pickYear(ee)),E._updateHeaderDate(E._activeDate,E._options.monthsShort,E._options.weekdaysShort)})}},{key:"_updateHeaderDate",value:function(oe,k,j){var W=xe.findOne(".datepicker-date-text",this.container),ee=yn(oe),se=Sn(oe),oe=Ti(oe);W.innerHTML="".concat(j[oe],", ").concat(k[ee]," ").concat(se)}},{key:"_addControlsListeners",value:function(){var E=this;ct.on(this.nextButton,"click",function(){E._view==="days"?E.nextMonth():E._view==="years"?E.nextYears():E.nextYear()}),ct.on(this.previousButton,"click",function(){E._view==="days"?E.previousMonth():E._view==="years"?E.previousYears():E.previousYear()}),ct.on(this.viewChangeButton,"click",function(){E._view==="days"?E._changeView("years"):E._view!=="years"&&E._view!=="months"||E._changeView("days")}),this._listenToFooterButtonsClick()}},{key:"_listenToFooterButtonsClick",value:function(){var E=this;ct.on(this.okButton,"click",function(){return E.handleOk()}),ct.on(this.cancelButton,"click",function(){return E.handleCancel()}),ct.on(this.clearButton,"click",function(){return E.handleClear()})}},{key:"_listenToOutsideClick",value:function(){var E=this;ct.on(document,Fi,function(W){var j=W.target===E.container,W=E.container&&E.container.contains(W.target);j||W||E.close()})}},{key:"_listenToEscapeClick",value:function(){var E=this;ct.on(document,"keydown",function(k){k.keyCode===27&&E._isOpen&&E.close()})}},{key:"_listenToKeyboardNavigation",value:function(){var E=this;ct.on(this.datesContainer,"keydown",function(k){E._handleKeydown(k)})}},{key:"_listenToDatesContainerFocus",value:function(){var E=this;ct.on(this.datesContainer,"focus",function(){E._focusActiveCell(E.activeCell)})}},{key:"_listenToDatesContainerBlur",value:function(){var E=this;ct.on(this.datesContainer,"blur",function(){E._removeCurrentFocusStyles()})}},{key:"_handleKeydown",value:function(E){this._view==="days"&&this._handleDaysViewKeydown(E),this._view==="months"&&this._handleMonthsViewKeydown(E),this._view==="years"&&this._handleYearsViewKeydown(E)}},{key:"_handleDaysViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=Mr(this._activeDate,-1);break;case 39:this._activeDate=Mr(this._activeDate,1);break;case 38:this._activeDate=Mr(this._activeDate,-7);break;case 40:this._activeDate=Mr(this._activeDate,7);break;case 36:this._activeDate=Mr(this._activeDate,1-Sn(this._activeDate));break;case 35:this._activeDate=Mr(this._activeDate,Ao(this._activeDate)-Sn(this._activeDate));break;case 33:this._activeDate=_n(this._activeDate,-1);break;case 34:this._activeDate=_n(this._activeDate,1);break;case 13:case 32:return this._selectDate(this._activeDate),void E.preventDefault();default:return}Bo(k,this._activeDate,this._view,24,0)||this._changeView("days"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_asyncFocusDatesContainer",value:function(){var E=this;setTimeout(function(){E.datesContainer.focus()},0)}},{key:"_focusActiveCell",value:function(E){E&&$e.addClass(E,"focused")}},{key:"_removeHighlightFromCell",value:function(E){E&&E.classList.remove("focused")}},{key:"_getActiveDayCell",value:function(){var E=this,k=xe.find("td",this.datesContainer);return Array.from(k).find(function(j){return or(Zs(j.dataset.mdbDate),E._activeDate)})}},{key:"_handleMonthsViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=_n(this._activeDate,-1);break;case 39:this._activeDate=_n(this._activeDate,1);break;case 38:this._activeDate=_n(this._activeDate,-4);break;case 40:this._activeDate=_n(this._activeDate,4);break;case 36:this._activeDate=_n(this._activeDate,-this.activeMonth);break;case 35:this._activeDate=_n(this._activeDate,11-this.activeMonth);break;case 33:this._activeDate=bn(this._activeDate,-1);break;case 34:this._activeDate=bn(this._activeDate,1);break;case 13:case 32:return void this._selectMonth(this.activeMonth);default:return}Bo(k,this._activeDate,this._view,24,0)||this._changeView("months"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveMonthCell",value:function(){var E=this,k=xe.find("td",this.datesContainer);return Array.from(k).find(function(ee){var W=parseInt(ee.dataset.mdbYear,10),ee=parseInt(ee.dataset.mdbMonth,10);return W===E.activeYear&&ee===E.activeMonth})}},{key:"_handleYearsViewKeydown",value:function(E){var k=this._activeDate,j=this.activeCell;switch(E.keyCode){case 37:this._activeDate=bn(this._activeDate,-1);break;case 39:this._activeDate=bn(this._activeDate,1);break;case 38:this._activeDate=bn(this._activeDate,-4);break;case 40:this._activeDate=bn(this._activeDate,4);break;case 36:this._activeDate=bn(this._activeDate,-Pi(this._activeDate,24));break;case 35:this._activeDate=bn(this._activeDate,24-Pi(this._activeDate,24)-1);break;case 33:this._activeDate=bn(this._activeDate,-24);break;case 34:this._activeDate=bn(this._activeDate,24);break;case 13:case 32:return void this._selectYear(this.activeYear);default:return}Bo(k,this._activeDate,this._view,24,0)||this._changeView("years"),this._removeHighlightFromCell(j),this._focusActiveCell(this.activeCell),E.preventDefault()}},{key:"_getActiveYearCell",value:function(){var E=this,k=xe.find("td",this.datesContainer);return Array.from(k).find(function(j){return parseInt(j.dataset.mdbYear,10)===E.activeYear})}},{key:"_setInitialDate",value:function(){this._input.value?this._handleUserInput(this._input.value):this._options.startDate?this._activeDate=new Date(this._options.startDate):this._activeDate=new Date}},{key:"close",value:function(){var E=ct.trigger(this._element,_c);this._isOpen&&!E.defaultPrevented&&(this._removeDatepickerListeners(),$e.addClass(this.container,"animation"),$e.addClass(this.container,"fade-out"),this._closeModal(),this._isOpen=!1,this._view=this._options.view,(this.toggleButton||this._input).focus())}},{key:"_closeDropdown",value:function(){var E=this,k=xe.findOne(".datepicker-dropdown-container");k.addEventListener("animationend",function(){k&&document.body.removeChild(k),E._popper&&E._popper.destroy()}),this._removeFocusTrap()}},{key:"_closeModal",value:function(){var E=xe.findOne(".datepicker-backdrop"),k=xe.findOne(".datepicker-modal-container");$e.addClass(E,"animation"),$e.addClass(E,"fade-out"),k&&E&&E.addEventListener("animationend",function(){document.body.removeChild(E),document.body.removeChild(k),document.body.style.overflow="",document.body.style.paddingRight=""})}},{key:"_removeFocusTrap",value:function(){this._focusTrap&&(this._focusTrap.disable(),this._focusTrap=null)}},{key:"_removeDatepickerListeners",value:function(){ct.off(this.nextButton,"click"),ct.off(this.previousButton,"click"),ct.off(this.viewChangeButton,"click"),ct.off(this.okButton,"click"),ct.off(this.cancelButton,"click"),ct.off(this.clearButton,"click"),ct.off(this.datesContainer,"click"),ct.off(this.datesContainer,"keydown"),ct.off(this.datesContainer,"focus"),ct.off(this.datesContainer,"blur"),ct.off(document,Fi)}},{key:"dispose",value:function(){this._isOpen&&this.close(),this._removeInputAndToggleListeners();var E=xe.findOne("#".concat(this._toggleButtonId));E&&this._element.removeChild(E),Cn.removeData(this._element,xi),this._element=null,this._input=null,this._options=null,this._activeDate=null,this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this._view=null,this._popper=null,this._focusTrap=null}},{key:"_removeInputAndToggleListeners",value:function(){ct.off(this._input,"input"),ct.off(this._element,Fi,'[data-mdb-toggle="datepicker"]'),ct.off(this._element,"keydown",'[data-mdb-toggle="datepicker"]')}},{key:"handleOk",value:function(){this._confirmSelection(this._selectedDate),this.close()}},{key:"_selectDate",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedDate=E}},{key:"_selectYear",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedYear=E,this._asyncChangeView("months")}},{key:"_selectMonth",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.activeCell;this._removeCurrentSelectionStyles(),this._removeCurrentFocusStyles(),this._addSelectedStyles(k),this._selectedMonth=E,this._asyncChangeView("days")}},{key:"_removeSelectedStyles",value:function(E){E&&E.classList.remove("selected")}},{key:"_addSelectedStyles",value:function(E){E&&$e.addClass(E,"selected")}},{key:"_confirmSelection",value:function(E){var k;E&&(k=this.formatDate(E),this._input.value=k,$e.addClass(this._input,"active"),ct.trigger(this._element,$c,{date:E}))}},{key:"handleCancel",value:function(){this._selectedDate=null,this._selectedYear=null,this._selectedMonth=null,this.close()}},{key:"handleClear",value:function(){this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null,this._removeCurrentSelectionStyles(),this._input.value="",this._input.classList.remove("active"),this._setInitialDate(),this._changeView("days")}},{key:"_removeCurrentSelectionStyles",value:function(){var E=xe.findOne(".selected",this.container);E&&E.classList.remove("selected")}},{key:"_removeCurrentFocusStyles",value:function(){var E=xe.findOne(".focused",this.container);E&&E.classList.remove("focused")}},{key:"formatDate",value:function(Pe){var k=Sn(Pe),j=this._addLeadingZero(Sn(Pe)),W=this._options.weekdaysShort[Ti(Pe)],ee=this._options.weekdaysFull[Ti(Pe)],se=yn(Pe)+1,oe=this._addLeadingZero(yn(Pe)+1),ye=this._options.monthsShort[yn(Pe)],me=this._options.monthsFull[yn(Pe)],Se=nn(Pe).toString().length===2?nn(Pe):nn(Pe).toString().slice(2,4),Ae=nn(Pe),Pe=this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),Fe="";return Pe.forEach(function(Me){switch(Me){case"dddd":Me=Me.replace(Me,ee);break;case"ddd":Me=Me.replace(Me,W);break;case"dd":Me=Me.replace(Me,j);break;case"d":Me=Me.replace(Me,k);break;case"mmmm":Me=Me.replace(Me,me);break;case"mmm":Me=Me.replace(Me,ye);break;case"mm":Me=Me.replace(Me,oe);break;case"m":Me=Me.replace(Me,se);break;case"yyyy":Me=Me.replace(Me,Ae);break;case"yy":Me=Me.replace(Me,Se)}Fe+=Me}),Fe}},{key:"_addLeadingZero",value:function(E){return parseInt(E,10)<10?"0".concat(E):E}},{key:"_pickDay",value:function(E,k){E=Zs(E),this._activeDate=E,this._selectDate(E,k)}},{key:"_pickYear",value:function(E){var k=zn(E,this.activeMonth,this.activeDay);this._activeDate=k,this._selectedDate=k,this._selectYear(E)}},{key:"_pickMonth",value:function(E,k){k=zn(k,E,this.activeDay),this._activeDate=k,this._selectMonth(E)}},{key:"nextMonth",value:function(){var E,k=Ai(E=_n(this._activeDate,1),this._selectedDate,this._options);this._activeDate=E,this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=k}},{key:"previousMonth",value:function(){var E=_n(this._activeDate,-1),E=Ai(this._activeDate=E,this._selectedDate,this._options);this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.datesContainer.innerHTML=E}},{key:"nextYear",value:function(){var E=bn(this._activeDate,1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Bi(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"previousYear",value:function(){var E=bn(this._activeDate,-1),E=(this._activeDate=E,this.viewChangeButton.textContent="".concat(this.activeYear),Bi(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4));this.datesContainer.innerHTML=E}},{key:"nextYears",value:function(){var E=bn(this._activeDate,24),E=Oi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"previousYears",value:function(){var E=bn(this._activeDate,-24),E=Oi(this._activeDate=E,this._selectedYear,this._options,24,4);this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.datesContainer.innerHTML=E}},{key:"_asyncChangeView",value:function(E){var k=this;setTimeout(function(){k._changeView(E)},0)}},{key:"_changeView",value:function(E){this._view=E,this.datesContainer.blur(),E==="days"&&(this.datesContainer.innerHTML=Ai(this._activeDate,this._selectedDate,this._options)),E==="months"&&(this.datesContainer.innerHTML=Bi(this.activeYear,this._selectedYear,this._selectedMonth,this._options,4)),E==="years"&&(this.datesContainer.innerHTML=Oi(this._activeDate,this._selectedYear,this._options,24,4)),this.datesContainer.focus(),this._updateViewControlsAndAttributes(E)}},{key:"_updateViewControlsAndAttributes",value:function(E){E==="days"&&(this.viewChangeButton.textContent="".concat(this._options.monthsFull[this.activeMonth]," ").concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMultiYearViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMonthLabel),this.nextButton.setAttribute("aria-label",this._options.nextMonthLabel)),E==="months"&&(this.viewChangeButton.textContent="".concat(this.activeYear),this.viewChangeButton.setAttribute("aria-label",this._options.switchToDayViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextYearLabel)),E==="years"&&(this.viewChangeButton.textContent="".concat(this.firstYearInView," - ").concat(this.lastYearInView),this.viewChangeButton.setAttribute("aria-label",this._options.switchToMonthViewLabel),this.previousButton.setAttribute("aria-label",this._options.prevMultiYearLabel),this.nextButton.setAttribute("aria-label",this._options.nextMultiYearLabel))}},{key:"_handleUserInput",value:function(j){var k=this._getDelimeters(this._options.format),j=this._parseDate(j,this._options.format,k);Number.isNaN(j.getTime())?(this._activeDate=new Date,this._selectedDate=null,this._selectedMonth=null,this._selectedYear=null):(this._activeDate=j,this._selectedDate=j)}},{key:"_getDelimeters",value:function(E){return E.match(/[^(dmy)]{1,}/g)}},{key:"_parseDate",value:function(E,k,j){for(var j=j[0]!==j[1]?j[0]+j[1]:j[0],j=new RegExp("[".concat(j,"]")),W=E.split(j),ee=k.split(j),E=k.indexOf("mmm")!==-1,se=[],oe=0;oe<ee.length;oe++)ee[oe].indexOf("yy")!==-1&&(se[0]={value:W[oe],format:ee[oe]}),ee[oe].indexOf("m")!==-1&&(se[1]={value:W[oe],format:ee[oe]}),ee[oe].indexOf("d")!==-1&&ee[oe].length<=2&&(se[2]={value:W[oe],format:ee[oe]});return j=k.indexOf("mmmm")!==-1?this._options.monthsFull:this._options.monthsShort,zn(Number(se[0].value),E?this.getMonthNumberByMonthName(se[1].value,j):Number(se[1].value)-1,Number(se[2].value))}},{key:"getMonthNumberByMonthName",value:function(E,k){return k.findIndex(function(j){return j===E})}}])&&Qs(T.prototype,F),x&&Qs(T,x),Object.defineProperty(T,"prototype",{writable:!1}),A}(),wr=xo;xe.find(".datepicker").forEach(function(A){var T=xo.getInstance(A);T||new xo(A)}),ze(189),ze(191);function Ic(A,T){return function(F){if(Array.isArray(F))return F}(A)||function(F,x){var E=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(E!=null){var k,j,W=[],ee=!0,se=!1;try{for(E=E.call(F);!(ee=(k=E.next()).done)&&(W.push(k.value),!x||W.length!==x);ee=!0);}catch(oe){se=!0,j=oe}finally{try{ee||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,T)||function(F,x){if(F){if(typeof F=="string")return tu(F,x);var E=Object.prototype.toString.call(F).slice(8,-1);return(E=E==="Object"&&F.constructor?F.constructor.name:E)==="Map"||E==="Set"?Array.from(F):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?tu(F,x):void 0}}(A,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tu(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}function nu(E,W){var F=E.clientX,x=E.clientY,E=E.touches,k=2<arguments.length&&arguments[2]!==void 0&&arguments[2],W=W.getBoundingClientRect(),j=W.left,W=W.top,ee={};return k&&E?k&&0<Object.keys(E).length&&(ee={x:E[0].clientX-j,y:E[0].clientY-W}):ee={x:F-j,y:x-W},ee}function Ir(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var Cc=function(A){return A&&Object.prototype.toString.call(A)==="[object Date]"&&!isNaN(A)},En=function(A){return A=(!(1<arguments.length&&arguments[1]!==void 0)||arguments[1]?A.value:A).replace(/:/gi," "),A.split(" ")};function ru(A){return(ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function iu(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function Fo(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?iu(Object(F),!0).forEach(function(x){ar(A,x,F[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):iu(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function Ni(A,T){return function(F){if(Array.isArray(F))return F}(A)||function(F,x){var E=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(E!=null){var k,j,W=[],ee=!0,se=!1;try{for(E=E.call(F);!(ee=(k=E.next()).done)&&(W.push(k.value),!x||W.length!==x);ee=!0);}catch(oe){se=!0,j=oe}finally{try{ee||E.return==null||E.return()}finally{if(se)throw j}}return W}}(A,T)||au(A,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ou(A){return function(T){if(Array.isArray(T))return No(T)}(A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(A)||au(A)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function au(A,T){if(A){if(typeof A=="string")return No(A,T);var F=Object.prototype.toString.call(A).slice(8,-1);return(F=F==="Object"&&A.constructor?A.constructor.name:F)==="Map"||F==="Set"?Array.from(A):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?No(A,T):void 0}}function No(A,T){(T==null||T>A.length)&&(T=A.length);for(var F=0,x=new Array(T);F<T;F++)x[F]=A[F];return x}function su(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function ar(A,T,F){T in A?Object.defineProperty(A,T,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[T]=F}var Ct="timepicker",Ro="mdb.".concat(Ct),Yt="active",Sc="".concat(Ct,"-am"),Lo="".concat(Ct,"-cancel"),uu="".concat(Ct,"-clear"),lu="".concat(Ct,"-submit"),jo="".concat(Ct,"-circle"),Ec="".concat(Ct,"-clock-animation"),Cr="".concat(Ct,"-clock"),ti="".concat(Ct,"-clock-inner"),cu="".concat(Ct,"-clock-wrapper"),Do=".".concat(Ct,"-current"),kc="".concat(Ct,"-current-inline"),zo="".concat(Ct,"-hand-pointer"),Ri="".concat(Ct,"-hour"),Li="".concat(Ct,"-hour-mode"),fu="".concat(Ct,"-icon-down"),Tc="".concat(Ct,"-icon-inline-hour"),Pc="".concat(Ct,"-icon-inline-minute"),pu="".concat(Ct,"-icon-up"),du="".concat(Ct,"-inline-hour-icons"),mu="".concat(Ct,"-middle-dot"),hu="".concat(Ct,"-minute"),gu="".concat(Ct,"-modal"),Ac="".concat(Ct,"-pm"),Wo="".concat(Ct,"-tips-element"),Rn="".concat(Ct,"-time-tips-hours"),ni="".concat(Ct,"-tips-inner-element"),Jn="".concat(Ct,"-time-tips-inner"),vn="".concat(Ct,"-time-tips-minutes"),Vo="".concat(Ct,"-transform"),Uo="".concat(Ct,"-wrapper"),Bc="".concat(Ct,"-input"),Oc={appendValidationInfo:!0,bodyID:"",cancelLabel:"Cancel",clearLabel:"Clear",closeModalOnBackdropClick:!0,closeModalOnMinutesClick:!1,defaultTime:"",disabled:!1,focusInputAfterApprove:!1,footerID:"",format12:!0,headID:"",increment:!1,invalidLabel:"Invalid Time Format",maxHour:"",minHour:"",maxTime:"",minTime:"",modalID:"",okLabel:"Ok",overflowHidden:!0,pickerID:"",readOnly:!1,showClearBtn:!0,switchHoursToMinutesOnClick:!0,iconClass:"far fa-clock fa-sm timepicker-icon",withIcon:!0,pmLabel:"PM",amLabel:"AM"},xc={appendValidationInfo:"boolean",bodyID:"string",cancelLabel:"string",clearLabel:"string",closeModalOnBackdropClick:"boolean",closeModalOnMinutesClick:"boolean",disabled:"boolean",footerID:"string",format12:"boolean",headID:"string",increment:"boolean",invalidLabel:"string",maxHour:"(string|number)",minHour:"(string|number)",modalID:"string",okLabel:"string",overflowHidden:"boolean",pickerID:"string",readOnly:"boolean",showClearBtn:"boolean",switchHoursToMinutesOnClick:"boolean",defaultTime:"(string|date|number)",iconClass:"string",withIcon:"boolean",pmLabel:"string",amLabel:"string"},Jo=function(){function A(E){var k=this,j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},W=this,ee=A;if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function");ar(this,"_toggleBackgroundColorCircle",function(se){k._modal.querySelector(".".concat(se,".").concat(Yt))!==null?$e.addStyle(k._circle,{backgroundColor:"#1976d2"}):$e.addStyle(k._circle,{backgroundColor:"transparent"})}),ar(this,"_toggleClassActive",function(se,oe,ye){var me=oe.textContent,Se=ou(se).find(function(Ae){return Number(Ae)===Number(me)});return ye.forEach(function(Ae){$e.hasClass(Ae,"disabled")||(Ae.textContent===Se?$e.addClass(Ae,Yt):$e.removeClass(Ae,Yt))})}),ar(this,"_makeMinutesDegrees",function(se,oe){var ye=k._options.increment;return se=se<0?(oe=Math.round(360+se/6)%60,360+6*Math.round(se/6)):(oe=Math.round(se/6)%60,6*Math.round(se/6)),ye&&(se=30*Math.round(se/30),(oe=6*Math.round(se/6)/6)===60&&(oe="00")),{degrees:se=360<=se?0:se,minute:oe,addDegrees:ye?30:6}}),ar(this,"_makeHourDegrees",function(se,oe,ye){var Se=k._options,me=Se.maxHour,Se=Se.minHour;if(se&&($e.hasClass(se,ti)||$e.hasClass(se,Jn)||$e.hasClass(se,ni)?oe<0?(ye=Math.round(360+oe/30)%24,oe=360+oe):(ye=Math.round(oe/30)+12)===12&&(ye="00"):oe<0?(ye=Math.round(360+oe/30)%12,oe=360+oe):((ye=Math.round(oe/30)%12)===0||12<ye)&&(ye=12),360<=oe&&(oe=0),!(me!==""&&ye>Number(me)||Se!==""&&ye<Number(Se))))return{degrees:oe,hour:ye,addDegrees:30}}),ar(this,"_makeInnerHoursDegrees",function(se,oe){return se<0?(oe=Math.round(360+se/30)%24,se=360+se):(oe=Math.round(se/30)+12)===12&&(oe="00"),{degrees:se,hour:oe,addDegrees:30}}),ar(this,"_getAppendClock",function(){var se,oe,ye,me=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],Se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:".".concat(Cr),Ae=2<arguments.length?arguments[2]:void 0,Qe=k._options,Pe=Qe.maxHour,Fe=Qe.minHour,Me=Qe.minTime,Oe=Qe.maxTime,We=Qe.inline,Qe=Qe.format12,mt=Ni(En(Oe,!1),3),lt=mt[0],vt=mt[1],st=mt[2],mt=Ni(En(Me,!1),3),Wt=mt[0],un=mt[1],Kt=mt[2],ln=(We||Qe&&k._isInvalidTimeFormat&&!$e.hasClass(k._AM,"active")&&$e.addClass(k._PM,"active"),xe.findOne(".".concat(Li,".").concat(Yt))),Dt=xe.findOne(Se),kn=360/me.length;Dt!==null&&(se=(Dt.offsetWidth-32)/2,oe=(Dt.offsetHeight-32)/2,ye=se-4,ou(me).forEach(function(Qt,ur){var ur=ur*kn*(Math.PI/180),At=vr("span"),lr=vr("span"),Di=(lr.innerHTML=Qt,$e.addClass(At,Ae),At.offsetWidth),zi=At.offsetHeight;return $e.addStyle(At,{left:"".concat(se+Math.sin(ur)*ye-Di,"px"),bottom:"".concat(oe+Math.cos(ur)*ye-zi,"px")}),me.includes("05")&&$e.addClass(At,"".concat(vn)),me.includes("13")?lr.classList.add(ni):lr.classList.add(Wo),$e.hasClass(At,"".concat(vn))?$e.hasClass(At,"".concat(vn))&&(Oe!==""&&Number(Qt)>Number(vt)&&Number(k._hour.textContent)>=Number(lt)&&$e.addClass(At,"disabled"),Me!==""&&Number(Qt)<Number(un)&&Number(k._hour.textContent)<=Number(Wt)&&$e.addClass(At,"disabled"),Oe!==""&&st!==void 0&&(st==="PM"&&ln.textContent==="PM"?Number(Qt)>Number(vt)&&Number(k._hour.textContent)>=Number(lt)&&$e.addClass(At,"disabled"):st==="PM"&&ln.textContent==="AM"&&$e.removeClass(At,"disabled"),(st==="AM"&&ln.textContent==="PM"||st==="AM"&&ln.textContent==="AM"&&Number(k._hour.textContent)>=Number(lt)&&Number(Qt)>Number(vt))&&$e.addClass(At,"disabled")),Me!==""&&Kt!==void 0&&(Kt==="PM"&&ln.textContent==="PM"?(Number(Qt)<Number(un)&&Number(k._hour.textContent)===Number(Wt)||Number(k._hour.textContent)<Number(Wt))&&$e.addClass(At,"disabled"):Kt==="PM"&&ln.textContent==="AM"&&$e.addClass(At,"disabled"),Kt==="AM"&&ln.textContent==="PM"?$e.removeClass(At,"disabled"):Kt==="AM"&&ln.textContent==="AM"&&(Number(k._hour.textContent)===Number(Wt)&&Number(Qt)<Number(un)||Number(k._hour.textContent)<Number(Wt))&&$e.addClass(At,"disabled"))):(Pe!==""&&Number(Qt)>Number(Pe)&&$e.addClass(At,"disabled"),Fe!==""&&Number(Qt)<Number(Fe)&&$e.addClass(At,"disabled"),Oe!==""&&(st!==void 0?(st==="PM"&&ln.textContent==="PM"&&(k._isAmEnabled=!1,k._isPmEnabled=!0,Number(Qt)>Number(lt)&&$e.addClass(At,"disabled")),st==="AM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,$e.addClass(At,"disabled")):st==="AM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,Number(Qt)>Number(lt)&&$e.addClass(At,"disabled"))):Number(Qt)>Number(lt)&&$e.addClass(At,"disabled")),Me!==""&&Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled"),Me!==""&&Kt!==void 0&&(Kt==="PM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled")):Kt==="PM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,$e.addClass(At,"disabled")),Kt==="AM"&&ln.textContent==="PM"?(k._isAmEnabled=!1,k._isPmEnabled=!0,$e.removeClass(At,"disabled")):Kt==="AM"&&ln.textContent==="AM"&&(k._isAmEnabled=!0,k._isPmEnabled=!1,Number(Qt)<Number(Wt)&&$e.addClass(At,"disabled")))),At.appendChild(lr),Dt.appendChild(At)}))}),this._element=E,this._element&&Cn.setData(E,Ro,this),this._document=document,this._options=this._getConfig(j),this._currentTime=null,this._toggleButtonId=Es("timepicker-toggle-"),this.hoursArray=["12","1","2","3","4","5","6","7","8","9","10","11"],this.innerHours=["00","13","14","15","16","17","18","19","20","21","22","23"],this.minutesArray=["00","05","10","15","20","25","30","35","40","45","50","55"],this.input=xe.findOne("input",this._element),this.dataWithIcon=E.dataset.withIcon,this.dataToggle=E.dataset.toggle,this.customIcon=xe.findOne(".timepicker-toggle-button",this._element),this._checkToggleButton(),this.inputFormatShow=xe.findOne("[data-mdb-timepicker-format24]",this._element),this.inputFormat=this.inputFormatShow===null?"":Object.values(this.inputFormatShow.dataset)[0],this.elementToggle=xe.findOne("[data-mdb-toggle]",this._element),this.toggleElement=Object.values(E.querySelector("[data-mdb-toggle]").dataset)[0],this._hour=null,this._minutes=null,this._AM=null,this._PM=null,this._wrapper=null,this._modal=null,this._hand=null,this._circle=null,this._focusTrap=null,this._popper=null,this._interval=null,this._inputValue=this._options.defaultTime!==""?this._options.defaultTime:this.input.value,this._options.format12&&(this._currentTime=function(se){var oe,ye,me;if(se!=="")return Cc(se)?(oe=se.getHours(),(oe%=12)===0&&(me="AM"),oe=oe||12,me===void 0&&(me=12<=oe?"PM":"AM"),ye=(ye=se.getMinutes())<10?"0".concat(ye):ye):(oe=(se=Ic(En(se,!1),3))[0],ye=se[1],me=se[2],(oe%=12)===0&&(me="AM"),oe=oe||12,me===void 0&&(me=12<=oe?"PM":"AM")),{hours:oe,minutes:ye,amOrPm:me}}(this._inputValue)),this._options.readOnly&&this.input.setAttribute("readonly",!0),this.init(),this._isHours=!0,this._isMinutes=!1,this._isInvalidTimeFormat=!1,this._isMouseMove=!1,this._isInner=!1,this._isAmEnabled=!1,this._isPmEnabled=!1,this._objWithDataOnChange={degrees:null}}var T,F,x;return T=A,x=[{key:"NAME",get:function(){return Ct}},{key:"getInstance",value:function(E){return Cn.getData(E,Ro)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,ru(k)==="object"?k:null)}}],(F=[{key:"init",value:function(){var E,k,j,W;$e.addClass(this.input,Bc),this._currentTime!==void 0?(j=(E=this._currentTime).hours,W=E.minutes,E=E.amOrPm,k=Number(j)<10?0:"",j="".concat(k).concat(Number(j),":").concat(W),W=E,this.input.value="".concat(j," ").concat(W)):this.input.value=W=j=k="",0<this.input.value.length&&this.input.value!==""&&$e.addClass(this.input,"active"),this._options===null&&this._element===null||(this._handleOpen(),this._listenToToggleKeydown())}},{key:"dispose",value:function(){this._removeModal(),this._element!==null&&Cn.removeData(this._element,Ro),this._element=null,this._options=null,this.input=null,this._focusTrap=null,ct.off(this._document,"click","[data-mdb-toggle='".concat(this.toggleElement,"']")),ct.off(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"))}},{key:"_checkToggleButton",value:function(){this.customIcon===null&&(this.dataWithIcon!==void 0&&(this._options.withIcon=null,this.dataWithIcon==="true"&&this._appendToggleButton(this._options)),this._options.withIcon&&this._appendToggleButton(this._options))}},{key:"_appendToggleButton",value:function(){var E=function(k,j){return k=k.iconClass,`
  <button id="`.concat(j,`" tabindex="0" type="button" class="timepicker-toggle-button" data-mdb-toggle="timepicker"  >
    <i class="`).concat(k,`"></i>
  </button>
`)}(this._options,this._toggleButtonId);this.input.insertAdjacentHTML("afterend",E)}},{key:"_getDomElements",value:function(){this._hour=xe.findOne(".".concat(Ri)),this._minutes=xe.findOne(".".concat(hu)),this._AM=xe.findOne(".".concat(Sc)),this._PM=xe.findOne(".".concat(Ac)),this._wrapper=xe.findOne(".".concat(Uo)),this._modal=xe.findOne(".".concat(gu)),this._hand=xe.findOne(".".concat(zo)),this._circle=xe.findOne(".".concat(jo)),this._clock=xe.findOne(".".concat(Cr)),this._clockInner=xe.findOne(".".concat(ti))}},{key:"_handlerMaxMinHoursOptions",value:function(E,k,j,W,ee,se){var oe=j!==""?30*j:"",ye=W!==""?30*W:"";if(j!==""&&W!==""){if((E=E<=0?360+E:E)<=oe&&ye<=E)return k()}else if(W!==""){if(E<=0&&(E=360+E),(ye=12<Number(W)?30*W-ye:ye)<=E&&se===void 0)return k();if(se!==void 0){if(se==="PM"&&this._isAmEnabled)return;if(se==="PM"&&this._isPmEnabled&&ye<=E||se==="AM"&&this._isPmEnabled||se==="AM"&&this._isAmEnabled&&ye<=E)return k()}}else{if(j===""||(E=E<=0?360+E:E)<=oe&&ee===void 0)return k();if(ee!==void 0){if(ee==="AM"&&this._isPmEnabled)return;if(ee==="AM"&&this._isAmEnabled&&E<=oe)return k();if(ee==="PM"&&this._isPmEnabled){if(E<=oe)return k()}else if(ee==="PM"&&this._isAmEnabled)return k()}}return k}},{key:"_handleKeyboard",value:function(){var E=this;ct.on(this._document,"keydown","",function(k){var j,se=E._options,W=se.maxHour,ee=se.minHour,se=se.increment,oe=xe.findOne(".".concat(vn))!==null,ye=xe.findOne(".".concat(Jn))!==null,st=Number(E._hand.style.transform.replace(/[^\d-]/g,"")),me=xe.find(".".concat(vn),E._modal),Se=xe.find(".".concat(Rn),E._modal),Ae=xe.find(".".concat(Jn),E._modal),Pe=W!==""?Number(W):"",Fe=ee!==""?Number(ee):"",Me=E._makeHourDegrees(k.target,st,void 0).hour,lt=E._makeHourDegrees(k.target,st,void 0),Oe=lt.degrees,We=lt.addDegrees,lt=E._makeMinutesDegrees(st,void 0),Qe=lt.minute,lt=lt.degrees,vt=E._makeMinutesDegrees(st,void 0).addDegrees,st=E._makeInnerHoursDegrees(st,void 0).hour;k.keyCode===27&&(j=xe.findOne(".".concat(Lo),E._modal),ct.trigger(j,"click")),oe?(k.keyCode===38&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(lt+=vt,"deg)")}),Qe+=1,se&&(Qe+=4)==="0014"&&(Qe=5),E._minutes.textContent=E._setHourOrMinute(59<Qe?0:Qe),E._toggleClassActive(E.minutesArray,E._minutes,me),E._toggleBackgroundColorCircle("".concat(vn))),k.keyCode===40&&($e.addStyle(E._hand,{transform:"rotateZ(".concat(lt-=vt,"deg)")}),se?Qe-=5:--Qe,Qe===-1?Qe=59:Qe===-5&&(Qe=55),E._minutes.textContent=E._setHourOrMinute(Qe),E._toggleClassActive(E.minutesArray,E._minutes,me),E._toggleBackgroundColorCircle("".concat(vn)))):(ye&&(k.keyCode===39&&(E._isInner=!1,$e.addStyle(E._hand,{height:"calc(40% + 1px)"}),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Se),E._toggleClassActive(E.innerHours,E._hour,Ae)),k.keyCode===37&&(E._isInner=!0,$e.addStyle(E._hand,{height:"21.5%"}),E._hour.textContent=E._setHourOrMinute(24<=st||st==="00"?0:st),E._toggleClassActive(E.innerHours,E._hour,Ae),E._toggleClassActive(E.hoursArray,E._hour-1,Se))),k.keyCode===38&&(E._handlerMaxMinHoursOptions(Oe+30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Oe+We,"deg)")})},W,ee),E._isInner?((st+=1)===24?st=0:st!==25&&st!=="001"||(st=13),E._hour.textContent=E._setHourOrMinute(st),E._toggleClassActive(E.innerHours,E._hour,Ae)):(Me+=1,W!==""&&ee!==""?W<Me?Me=Pe:Me<ee&&(Me=Fe):W!==""&&ee===""?W<Me&&(Me=Pe):W===""&&ee!==""&&12<=Me&&(Me=12),E._hour.textContent=E._setHourOrMinute(12<Me?1:Me),E._toggleClassActive(E.hoursArray,E._hour,Se))),k.keyCode===40&&(E._handlerMaxMinHoursOptions(Oe-30,function(){return $e.addStyle(E._hand,{transform:"rotateZ(".concat(Oe-We,"deg)")})},W,ee),E._isInner?(--st===12?st=0:st===-1&&(st=23),E._hour.textContent=E._setHourOrMinute(st),E._toggleClassActive(E.innerHours,E._hour,Ae)):(--Me,W!==""&&ee!==""?Pe<Me?Me=Pe:Me<Fe&&(Me=Fe):W===""&&ee!==""?Me<=Fe&&(Me=Fe):W!==""&&ee===""&&Me<=1&&(Me=1),E._hour.textContent=E._setHourOrMinute(Me===0?12:Me),E._toggleClassActive(E.hoursArray,E._hour,Se))))})}},{key:"_setActiveClassToTipsOnOpen",value:function(E){var k=this;if(!this._isInvalidTimeFormat){for(var j=arguments.length,W=new Array(1<j?j-1:0),ee=1;ee<j;ee++)W[ee-1]=arguments[ee];[].concat(W).filter(function(oe){return oe==="PM"?$e.addClass(k._PM,Yt):oe==="AM"?$e.addClass(k._AM,Yt):($e.removeClass(k._AM,Yt),$e.removeClass(k._PM,Yt)),oe});var se=xe.find(".".concat(Rn),this._modal);this._addActiveClassToTip(se,E)}}},{key:"_setTipsAndTimesDependOnInputValue",value:function(E,k){var W=this._options,j=W.inline,W=W.format12;this._isInvalidTimeFormat?(this._hour.textContent="12",this._minutes.textContent="00",j||$e.addStyle(this._hand,{transform:"rotateZ(0deg)"}),W&&$e.addClass(this._PM,Yt)):(W=12<E?30*E-360:30*E,this._hour.textContent=E,this._minutes.textContent=k,j||($e.addStyle(this._hand,{transform:"rotateZ(".concat(W,"deg)")}),$e.addStyle(this._circle,{backgroundColor:"#1976d2"}),(12<Number(E)||E==="00")&&$e.addStyle(this._hand,{height:"21.5%"})))}},{key:"_listenToToggleKeydown",value:function(){var E=this;ct.on(this._element,"keydown","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(k){k.keyCode===13&&(k.preventDefault(),ct.trigger(E.elementToggle,"click"))})}},{key:"_handleOpen",value:function(){var E=this;Qr(this._element,"click","[data-mdb-toggle='".concat(this.toggleElement,"']"),function(k){var j;E._options!==null&&(j=$e.getDataAttribute(E.input,"toggle")!==null?200:0,setTimeout(function(){$e.addStyle(E.elementToggle,{pointerEvents:"none"}),E.elementToggle.blur(),st=En(E.input)[0]===""?["12","00","PM"]:En(E.input);var W,ee,se,oe,ye,me,Se,Ae,Pe,Fe,Qe=E._options,Me=Qe.modalID,Oe=Qe.inline,We=Qe.format12,Qe=Qe.overflowHidden,st=Ni(st,3),lt=st[0],vt=st[1],st=st[2],mt=vr("div");(12<Number(lt)||lt==="00")&&(E._isInner=!0),E.input.blur(),k.target.blur(),mt.innerHTML=(W=E._options,ee=W.okLabel,se=W.cancelLabel,Fe=W.headID,oe=W.footerID,ye=W.bodyID,Pe=W.pickerID,me=W.clearLabel,Se=W.showClearBtn,Ae=W.amLabel,W=W.pmLabel,"<div id='".concat(Pe,`' class='timepicker-wrapper h-full flex items-center justify-center flex-col fixed'>
      <div class="flex items-center justify-center flex-col timepicker-container">
        <div class="flex flex-col timepicker-elements justify-around">
        <div id='`).concat(Fe,`' class='timepicker-head flex flex-row items-center justify-center'>
        <div class='timepicker-head-content flex w-100 justify-evenly'>
            <div class="timepicker-current-wrapper">
              <span class="relative h-100">
                <button type='button' class='timepicker-current timepicker-hour active ripple' tabindex="0">21</button>
              </span>
              <button type='button' class='timepicker-dot' disabled>:</button>
            <span class="relative h-100">
              <button type='button' class='timepicker-current timepicker-minute ripple' tabindex="0">21</button>
            </span>
            </div>
            <div class="flex flex-col justify-center timepicker-mode-wrapper">
              <button type='button' class="timepicker-hour-mode timepicker-am ripple" tabindex="0">`).concat(Ae,`</button>
              <button class="timepicker-hour-mode timepicker-pm ripple" tabindex="0">`).concat(W,`</button>
            </div>
        </div>
      </div>
      <div id='`).concat(ye,`' class='timepicker-clock-wrapper flex justify-center flex-col items-center'>
        <div class='timepicker-clock'>
          <span class='timepicker-middle-dot absolute'></span>
          <div class='timepicker-hand-pointer absolute'>
            <div class='timepicker-circle absolute'></div>
          </div>
        </div>
      </div>
    </div>
    <div id='`).concat(oe,`' class='timepicker-footer'>
      <div class="w-full flex justify-between">
        `).concat(Se?`<button type='button' class='timepicker-button timepicker-clear ripple' tabindex="0">`.concat(me,"</button>"):"",`
        <button type='button' class='timepicker-button timepicker-cancel ripple' tabindex="0">`).concat(se,`</button>
        <button type='button' class='timepicker-button timepicker-submit ripple' tabindex="0">`).concat(ee,`</button>
      </div>
    </div>
  </div>
</div>`)),$e.addClass(mt,gu),mt.setAttribute("role","dialog"),mt.setAttribute("tabIndex","-1"),mt.setAttribute("id",Me),Oe&&(E._popper=X(E.input,mt,{placement:"bottom-start"})),E._document.body.appendChild(mt),E._getDomElements(),E._toggleBackdropAnimation(),E._setActiveClassToTipsOnOpen(lt,vt,st),E._appendTimes(),E._setActiveClassToTipsOnOpen(lt,vt,st),E._setTipsAndTimesDependOnInputValue(lt,vt),E.input.value===""&&(Pe=xe.find(".".concat(Rn),E._modal),We&&$e.addClass(E._PM,Yt),E._hour.textContent="12",E._minutes.textContent="00",E._addActiveClassToTip(Pe,Number(E._hour.textContent))),E._handleSwitchTimeMode(),E._handleOkButton(),E._handleClose(),Oe?(E._handleHoverInlineBtn(),E._handleDocumentClickInline(),E._handleInlineClicks()):(E._handleSwitchHourMinute(),E._handleClockClick(),E._handleKeyboard(),$e.addStyle(E._hour,{pointerEvents:"none"}),$e.addStyle(E._minutes,{pointerEvents:""})),Qe&&(Fe=window.innerWidth>document.documentElement.clientWidth,$e.addStyle(E._document.body,{overflow:"hidden"}),!Ir()&&Fe&&$e.addStyle(E._document.body,{paddingRight:"15px"})),E._focusTrap=new Ys(E._wrapper,{event:"keydown",condition:function(Wt){return Wt.key==="Tab"}}),E._focusTrap.trap()},j))})}},{key:"_handleInlineClicks",value:function(){var E=this;Qr(this._modal,"click mousedown mouseup touchstart touchend contextmenu",".".concat(pu,", .").concat(fu),function(Se){function j(Oe){Oe=Me(Oe),E._hour.textContent=E._setHourOrMinute(Oe)}function W(Oe){Oe=Fe(Oe),E._minutes.textContent=E._setHourOrMinute(Oe)}function ee(){j(Ae+=1)}function se(){W(Pe+=1)}function oe(){j(--Ae)}function ye(){W(--Pe)}var me=Se.target,Se=Se.type,Ae=Number(E._hour.textContent),Pe=Number(E._minutes.textContent),Fe=function(Oe){return 59<Oe?Oe=0:Oe<0&&(Oe=59),Oe},Me=function(Oe){return 12<Oe?Oe=1:Oe<1&&(Oe=12),Oe=12<Oe?1:Oe};$e.hasClass(me,pu)?$e.hasClass(me.parentNode,du)?Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(ee,100)):Se==="mouseup"||Se==="touchend"||Se==="contextmenu"?clearInterval(E._interval):ee():Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(se,100)):Se==="mouseup"||Se==="touchend"||Se==="contextmenu"?clearInterval(E._interval):se():$e.hasClass(me,fu)&&($e.hasClass(me.parentNode,du)?Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(oe,100)):Se==="mouseup"||Se==="touchend"?clearInterval(E._interval):oe():Se==="mousedown"||Se==="touchstart"?(clearInterval(E._interval),E._interval=setInterval(ye,100)):Se==="mouseup"||Se==="touchend"?clearInterval(E._interval):ye())})}},{key:"_handleClose",value:function(){var E=this;ct.on(this._modal,"click",".".concat(Uo,", .").concat(Lo,", .").concat(uu),function(oe){function j(){$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._toggleBackdropAnimation(!0),E._removeModal(),E._focusTrap.disable(),E._focusTrap=null,E.elementToggle?E.elementToggle.focus():E.input&&E.input.focus()}var W,ee,se,oe=oe.target,ye=E._options.closeModalOnBackdropClick;$e.hasClass(oe,uu)?(E.input.value="",$e.removeClass(E.input,"active"),se=En(E.input)[0]===""?["12","00","PM"]:En(E.input),W=(se=Ni(se,3))[0],ee=se[1],se=se[2],E._setTipsAndTimesDependOnInputValue("12","00"),E._setActiveClassToTipsOnOpen(W,ee,se),E._hour.click()):($e.hasClass(oe,Lo)||$e.hasClass(oe,Uo)&&ye)&&j()})}},{key:"showValueInput",value:function(){return this.input.value}},{key:"_handleOkButton",value:function(){var E=this;Qr(this._modal,"click",".".concat(lu),function(){var j=E._options,k=j.readOnly,j=j.focusInputAfterApprove,W=E._document.querySelector(".".concat(Li,".").concat(Yt)),ee="".concat(E._hour.textContent,":").concat(E._minutes.textContent);$e.addClass(E.input,"active"),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._isInvalidTimeFormat&&$e.removeClass(E.input,"is-invalid"),!k&&j&&E.input.focus(),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E.input.value=W===null?"".concat(ee," PM"):"".concat(ee," ").concat(W.textContent),E._toggleBackdropAnimation(!0),E._removeModal(),ct.trigger(E.input,"input.mdb.timepicker")})}},{key:"_handleHoverInlineBtn",value:function(){var E=this;Qr(this._modal,"mouseover mouseleave",".".concat(kc),function(W){var j=W.type,W=W.target,ee=xe.find(".".concat(Tc),E._modal),se=xe.find(".".concat(Pc),E._modal);j==="mouseover"?$e.hasClass(W,Ri)?ee.forEach(function(oe){return $e.addClass(oe,Yt)}):se.forEach(function(oe){return $e.addClass(oe,Yt)}):$e.hasClass(W,Ri)?ee.forEach(function(oe){return $e.removeClass(oe,Yt)}):se.forEach(function(oe){return $e.removeClass(oe,Yt)})})}},{key:"_handleDocumentClickInline",value:function(){var E=this;ct.on(document,"click",function(k){k=k.target,!E._modal||E._modal.contains(k)||$e.hasClass(k,"timepicker-icon")||(clearInterval(E._interval),$e.addStyle(E.elementToggle,{pointerEvents:"auto"}),E._removeModal())})}},{key:"_handleSwitchHourMinute",value:function(){var E,k,j=this;E="click",k=Do,ct.on(document,E,k,function(W){W=W.target,$e.hasClass(W,"active")||(document.querySelectorAll(k).forEach(function(ee){$e.hasClass(ee,"active")&&$e.removeClass(ee,"active")}),$e.addClass(W,"active"))}),ct.on(this._modal,"click",Do,function(){function W(Ae,Pe){oe.forEach(function(Fe){return Fe.remove()}),se.forEach(function(Fe){return Fe.remove()}),$e.addClass(j._hand,Vo),setTimeout(function(){$e.removeClass(j._hand,Vo)},401),j._getAppendClock(Ae,".".concat(Cr),Pe),setTimeout(function(){var Fe,Me;Fe=xe.find(".".concat(Rn),j._modal),Me=xe.find(".".concat(vn),j._modal),j._addActiveClassToTip(Fe,me),j._addActiveClassToTip(Me,Se)},401)}var ee=xe.find(Do,j._modal),se=xe.find(".".concat(vn),j._modal),oe=xe.find(".".concat(Rn),j._modal),ye=xe.find(".".concat(Jn),j._modal),me=Number(j._hour.textContent),Se=Number(j._minutes.textContent);ee.forEach(function(Ae){$e.hasClass(Ae,Yt)&&($e.hasClass(Ae,hu)?($e.addClass(j._hand,Vo),$e.addStyle(j._hand,{transform:"rotateZ(".concat(6*j._minutes.textContent,"deg)"),height:"calc(40% + 1px)"}),0<ye.length&&ye.forEach(function(Pe){return Pe.remove()}),W(j.minutesArray,"".concat(vn)),j._hour.style.pointerEvents="",j._minutes.style.pointerEvents="none"):$e.hasClass(Ae,Ri)&&($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent,"deg)")}),12<Number(j._hour.textContent)?($e.addStyle(j._hand,{transform:"rotateZ(".concat(30*j._hour.textContent-360,"deg)"),height:"21.5%"}),12<Number(j._hour.textContent)&&$e.addStyle(j._hand,{height:"21.5%"})):$e.addStyle(j._hand,{height:"calc(40% + 1px)"}),0<ye.length&&ye.forEach(function(Pe){return Pe.remove()}),W(j.hoursArray,"".concat(Rn)),$e.addStyle(j._hour,{pointerEvents:"none"}),$e.addStyle(j._minutes,{pointerEvents:""})))})})}},{key:"_handleSwitchTimeMode",value:function(){ct.on(document,"click",".".concat(Li),function(E){E=E.target,$e.hasClass(E,Yt)||(xe.find(".".concat(Li)).forEach(function(k){$e.hasClass(k,Yt)&&$e.removeClass(k,Yt)}),$e.addClass(E,Yt))})}},{key:"_handleClockClick",value:function(){var E=this,k=xe.findOne(".".concat(cu));Qr(document,"mousedown mouseup mousemove mouseleave mouseover touchstart touchmove touchend","",function(j){Ir()||j.preventDefault();var ee=E._options,W=ee.maxHour,ee=ee.minHour,se=j.type,oe=j.target,me=E._options,ye=me.closeModalOnMinutesClick,me=me.switchHoursToMinutesOnClick,Se=xe.findOne(".".concat(vn),E._modal)!==null,Ae=xe.findOne(".".concat(Rn),E._modal)!==null,Pe=xe.findOne(".".concat(Jn),E._modal)!==null,Fe=xe.find(".".concat(vn),E._modal),Oe=nu(j,k),Me=k.offsetWidth/2,Oe=Math.atan2(Oe.y-Me,Oe.x-Me),We=(Ir()&&(Qe=nu(j,k,!0),Oe=Math.atan2(Qe.y-Me,Qe.x-Me)),null);if(se==="mousedown"||se==="mousemove"||se==="touchmove"||se==="touchstart"?se!=="mousedown"&&se!=="touchstart"&&se!=="touchmove"||($e.hasClass(oe,cu)||$e.hasClass(oe,Cr)||$e.hasClass(oe,vn)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Rn)||$e.hasClass(oe,jo)||$e.hasClass(oe,zo)||$e.hasClass(oe,mu)||$e.hasClass(oe,Wo)||$e.hasClass(oe,ni))&&(E._isMouseMove=!0,Ir()&&j.touches&&(Qe=j.touches[0].clientX,Me=j.touches[0].clientY,We=document.elementFromPoint(Qe,Me))):se!=="mouseup"&&se!=="touchend"||(E._isMouseMove=!1,($e.hasClass(oe,Cr)||$e.hasClass(oe,ti)||$e.hasClass(oe,Jn)||$e.hasClass(oe,Rn)||$e.hasClass(oe,jo)||$e.hasClass(oe,zo)||$e.hasClass(oe,mu)||$e.hasClass(oe,Wo)||$e.hasClass(oe,ni))&&(Ae||Pe)&&me&&ct.trigger(E._minutes,"click"),Se&&ye&&(Qe=xe.findOne(".".concat(lu),E._modal),ct.trigger(Qe,"click"))),Se){if(Me=Math.trunc(180*Oe/Math.PI)+90,se=E._makeMinutesDegrees(Me,void 0),me=se.degrees,ye=se.minute,E._handlerMaxMinMinutesOptions(me,ye)===void 0)return;var Qe=E._handlerMaxMinMinutesOptions(me,ye),Se=Qe.degrees,Me=Qe.minute;if(E._isMouseMove){if($e.addStyle(E._hand,{transform:"rotateZ(".concat(Se,"deg)")}),Me===void 0)return;E._minutes.textContent=10<=Me||Me==="00"?Me:"0".concat(Me),E._toggleClassActive(E.minutesArray,E._minutes,Fe),E._toggleBackgroundColorCircle("".concat(vn)),E._objWithDataOnChange.degreesMinutes=Se,E._objWithDataOnChange.minutes=Me}}if(Ae||Pe){var lt=Math.trunc(180*Oe/Math.PI)+90,lt=30*Math.round(lt/30);if($e.addStyle(E._circle,{backgroundColor:"#1976d2"}),E._makeHourDegrees(oe,lt,void 0)===void 0)return;E._objWithDataOnChange.degreesHours=lt,E._handlerMaxMinHoursOptions(lt,function(){var vt,st;return Ir()&&lt?(vt=(st=E._makeHourDegrees(We,lt,void 0)).degrees,st=st.hour,E._handleMoveHand(We,st,vt)):(vt=(st=E._makeHourDegrees(oe,lt,void 0)).degrees,st=st.hour,E._handleMoveHand(oe,st,vt))},W,ee)}j.stopPropagation()})}},{key:"_handleMoveHand",value:function(E,k,j){var W=xe.find(".".concat(Rn),this._modal),ee=xe.find(".".concat(Jn),this._modal);this._isMouseMove&&($e.hasClass(E,ti)||$e.hasClass(E,Jn)||$e.hasClass(E,ni)?$e.addStyle(this._hand,{height:"21.5%"}):$e.addStyle(this._hand,{height:"calc(40% + 1px)"}),$e.addStyle(this._hand,{transform:"rotateZ(".concat(j,"deg)")}),this._hour.textContent=10<=k||k==="00"?k:"0".concat(k),this._toggleClassActive(this.hoursArray,this._hour,W),this._toggleClassActive(this.innerHours,this._hour,ee),this._objWithDataOnChange.hour=10<=k||k==="00"?k:"0".concat(k))}},{key:"_handlerMaxMinMinutesOptions",value:function(E,k){var ee=this._options,j=ee.increment,W=ee.maxTime,ee=ee.minTime,Se=En(W,!1)[1],Ae=En(ee,!1)[1],se=En(W,!1)[0],oe=En(ee,!1)[0],ye=En(W,!1)[2],me=En(ee,!1)[2],Se=Se!==""?6*Se:"",Ae=Ae!==""?6*Ae:"";if(ye===void 0&&me===void 0){if(W!==""&&ee!==""){if(E<=Se&&Ae<=E)return E}else if(ee!==""&&Number(this._hour.textContent)<=Number(oe)){if(E<=Ae-6)return E}else if(W!==""&&Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}else if(ee!==""){if(me==="PM"&&this._isAmEnabled)return;if(me==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Ae-6)return E}else if(me==="AM"&&this._isAmEnabled){if(Number(this._hour.textContent)<Number(oe))return;if(Number(this._hour.textContent)<=Number(oe)&&E<=Ae-6)return E}}else if(W!==""){if(ye==="AM"&&this._isPmEnabled)return;if(ye==="PM"&&this._isPmEnabled){if(Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}else if(ye==="AM"&&this._isAmEnabled&&Number(this._hour.textContent)>=Number(se)&&Se+6<=E)return E}return(E=j?30*Math.round(E/30):E)<=0?E=360+E:360<=E&&(E=0),{degrees:E,minute:k}}},{key:"_removeModal",value:function(){var E=this;setTimeout(function(){E._modal.remove(),$e.addStyle(E._document.body,{overflow:""}),Ir()||$e.addStyle(E._document.body,{paddingRight:""})},300),fc(this._document,"click keydown mousedown mouseup mousemove mouseleave mouseover touchmove touchend")}},{key:"_toggleBackdropAnimation",value:function(){0<arguments.length&&arguments[0]!==void 0&&arguments[0]?($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-out"),this._wrapper.style.animationDuration="300ms"):($e.addClass(this._wrapper,"animation"),$e.addClass(this._wrapper,"fade-in"),this._wrapper.style.animationDuration="300ms",this._options.inline||$e.addClass(this._clock,Ec))}},{key:"_addActiveClassToTip",value:function(E,k){E.forEach(function(j){Number(j.textContent)===Number(k)&&$e.addClass(j,Yt)})}},{key:"_setHourOrMinute",value:function(E){return E<10?"0".concat(E):E}},{key:"_appendTimes",value:function(){this._getAppendClock(this.hoursArray,".".concat(Cr),"".concat(Rn))}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=Fo(Fo(Fo({},Oc),k),E),Ii(Ct,E,xc),E}}])&&su(T.prototype,F),x&&su(T,x),Object.defineProperty(T,"prototype",{writable:!1}),A}(),ze=Jo;function yu(A){return(yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}function bu(A,T){var F,x=Object.keys(A);return Object.getOwnPropertySymbols&&(F=Object.getOwnPropertySymbols(A),T&&(F=F.filter(function(E){return Object.getOwnPropertyDescriptor(A,E).enumerable})),x.push.apply(x,F)),x}function qo(A){for(var T=1;T<arguments.length;T++){var F=arguments[T]!=null?arguments[T]:{};T%2?bu(Object(F),!0).forEach(function(x){var E,k;E=A,k=F[x=x],x in E?Object.defineProperty(E,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[x]=k}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):bu(Object(F)).forEach(function(x){Object.defineProperty(A,x,Object.getOwnPropertyDescriptor(F,x))})}return A}function _u(A,T){for(var F=0;F<T.length;F++){var x=T[F];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}ct.on(window,"DOMContentLoaded",function(){xe.find(".".concat(Ct)).forEach(function(A){var T=Jo.getInstance(A);T||new Jo(A)})});var On="stepper",ji="mdb.stepper",kr=".".concat(ji),Sr="horizontal",Ln="vertical",Fc={stepperType:"string",stepperLinear:"boolean",stepperNoEditable:"boolean",stepperActive:"string",stepperCompleted:"string",stepperInvalid:"string",stepperDisabled:"string",stepperVerticalBreakpoint:"number",stepperMobileBreakpoint:"number",stepperMobileBarBreakpoint:"number"},Nc={stepperType:Sr,stepperLinear:!1,stepperNoEditable:!1,stepperActive:"",stepperCompleted:"",stepperInvalid:"",stepperDisabled:"",stepperVerticalBreakpoint:0,stepperMobileBreakpoint:0,stepperMobileBarBreakpoint:4},vu="mousedown".concat(kr),$u="keydown".concat(kr),Rc="keyup".concat(kr),Mu="resize".concat(kr),wu="animationend",sr="".concat(On,"-step"),$n="".concat(On,"-head"),xn="".concat(On,"-content"),Er="".concat(On,"-active"),Lc="".concat(On,"-completed"),jc="".concat(On,"-invalid"),Dc="".concat(On,"-disabled"),Ho="".concat(On,"-").concat(Ln),Go="".concat(On,"-content-hide"),Iu="".concat(On,"-").concat(Sr),Yo=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this._element=E,this._options=this._getConfig(k),this._elementHeight=0,this._steps=xe.find(".".concat(sr),this._element),this._currentView="",this._activeStepIndex=0,this._verticalStepperStyles=[],this._element&&(Cn.setData(E,ji,this),this._init())}var T,F,x;return T=A,x=[{key:"NAME",get:function(){return On}},{key:"getInstance",value:function(E){return Cn.getData(E,ji)}},{key:"getOrCreateInstance",value:function(E){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.getInstance(E)||new this(E,yu(k)==="object"?k:null)}}],(F=[{key:"activeStep",get:function(){return this._steps[this._activeStepIndex]}},{key:"activeStepIndex",get:function(){return this._activeStepIndex}},{key:"dispose",value:function(){this._steps.forEach(function(E){ct.off(E,vu),ct.off(E,$u)}),ct.off(window,Mu),Cn.removeData(this._element,ji),this._element=null}},{key:"changeStep",value:function(E){this._toggleStep(E)}},{key:"nextStep",value:function(){this._toggleStep(this._activeStepIndex+1)}},{key:"previousStep",value:function(){this._toggleStep(this._activeStepIndex-1)}},{key:"_init",value:function(){var E=xe.findOne(".".concat(Er),this._element);E?this._activeStepIndex=this._steps.indexOf(E):this._toggleStepClass(this._activeStepIndex,"add",Er),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperActive),this._bindMouseDown(),this._bindKeysNavigation(),this._options.stepperType===Ln?this._toggleVertical():this._toggleHorizontal(),(this._options.stepperVerticalBreakpoint||this._options.stepperMobileBreakpoint)&&this._toggleStepperView(),this._bindResize()}},{key:"_getConfig",value:function(E){var k=$e.getDataAttributes(this._element);return E=qo(qo(qo({},Nc),k),E),Ii(On,E,Fc),E}},{key:"_bindMouseDown",value:function(){var E=this;this._steps.forEach(function(k){k=xe.findOne(".".concat($n),k),ct.on(k,vu,function(j){var W=xe.parents(j.target,".".concat(sr))[0],W=E._steps.indexOf(W);j.preventDefault(),E._toggleStep(W)})})}},{key:"_bindResize",value:function(){var E=this;ct.on(window,Mu,function(){E._currentView===Ln&&E._setSingleStepHeight(E.activeStep),E._currentView===Sr&&E._setHeight(E.activeStep),(E._options.stepperVerticalBreakpoint||E._options.stepperMobileBreakpoint)&&E._toggleStepperView()})}},{key:"_toggleStepperView",value:function(){var E=this,k=this._options.stepperVerticalBreakpoint<window.innerWidth,j=this._options.stepperVerticalBreakpoint>window.innerWidth,W=this._options.stepperMobileBreakpoint>window.innerWidth;k&&this._currentView!==Sr&&this._toggleHorizontal(),j&&!W&&this._currentView!==Ln&&(this._steps.forEach(function(ee){ee=xe.findOne(".".concat(xn),ee),E._resetStepperHeight(),E._showElement(ee)}),this._toggleVertical())}},{key:"_toggleStep",value:function(E){this._activeStepIndex!==E&&(this._options.stepperNoEditable&&this._toggleDisabled(),this._showElement(xe.findOne(".".concat(xn),this._steps[E])),this._toggleActive(E),E>this._activeStepIndex&&this._toggleCompleted(this._activeStepIndex),this._currentView===Sr?this._animateHorizontalStep(E):(this._animateVerticalStep(E),this._setSingleStepHeight(this._steps[E])),this._toggleStepTabIndex(xe.findOne(".".concat($n),this.activeStep),xe.findOne(".".concat($n),this._steps[E])),this._activeStepIndex=E)}},{key:"_resetStepperHeight",value:function(){this._element.style.height=""}},{key:"_setStepsHeight",value:function(){var E=this;this._steps.forEach(function(j){var j=xe.findOne(".".concat(xn),j),W=window.getComputedStyle(j),W=(E._verticalStepperStyles.push({paddingTop:parseFloat(W.paddingTop),paddingBottom:parseFloat(W.paddingBottom)}),j.scrollHeight);j.style.height="".concat(W,"px")})}},{key:"_setSingleStepHeight",value:function(j){var k=xe.findOne(".".concat(xn),j),W=this.activeStep===j,j=this._steps.indexOf(j),W=W?(k.style.height="",k.scrollHeight):k.scrollHeight+this._verticalStepperStyles[j].paddingTop+this._verticalStepperStyles[j].paddingBottom;k.style.height="".concat(W,"px")}},{key:"_toggleVertical",value:function(){this._currentView=Ln,this._toggleStepperClass(Ho),this._setStepsHeight(),this._hideInactiveSteps()}},{key:"_toggleHorizontal",value:function(){this._currentView=Sr,this._toggleStepperClass(Iu),this._setHeight(this.activeStep),this._hideInactiveSteps()}},{key:"_toggleStepperClass",value:function(E){this._element.classList.remove(Iu,Ho),this._element.classList.add(E),E!==Ho&&this._steps.forEach(function(k){xe.findOne(".".concat(xn),k).classList.remove(Go)})}},{key:"_toggleStepClass",value:function(E,k,j){j&&this._steps[E].classList[k](j)}},{key:"_bindKeysNavigation",value:function(){var E=this;this._toggleStepTabIndex(!1,xe.findOne(".".concat($n),this.activeStep)),this._steps.forEach(function(k){k=xe.findOne(".".concat($n),k),ct.on(k,$u,function(j){var W=xe.parents(j.currentTarget,".".concat(sr))[0],ee=xe.next(W,".".concat(sr))[0],se=xe.prev(W,".".concat(sr))[0],oe=xe.findOne(".".concat($n),W),ye=xe.findOne(".".concat($n),E.activeStep),me=null,Se=null;ee&&(me=xe.findOne(".".concat($n),ee)),se&&(Se=xe.findOne(".".concat($n),se)),j.keyCode===37&&E._currentView!==Ln&&(Se?(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus()):me&&(E._toggleStepTabIndex(oe,me),E._toggleOutlineStyles(oe,me),me.focus())),j.keyCode===39&&E._currentView!==Ln&&(me?(E._toggleStepTabIndex(oe,me),E._toggleOutlineStyles(oe,me),me.focus()):Se&&(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus())),j.keyCode===40&&E._currentView===Ln&&(j.preventDefault(),me&&(E._toggleStepTabIndex(oe,me),E._toggleOutlineStyles(oe,me),me.focus())),j.keyCode===38&&E._currentView===Ln&&(j.preventDefault(),Se&&(E._toggleStepTabIndex(oe,Se),E._toggleOutlineStyles(oe,Se),Se.focus())),j.keyCode===36&&(ee=xe.findOne(".".concat($n),E._steps[0]),E._toggleStepTabIndex(oe,ee),E._toggleOutlineStyles(oe,ee),ee.focus()),j.keyCode===35&&(se=E._steps[E._steps.length-1],me=xe.findOne(".".concat($n),se),E._toggleStepTabIndex(oe,me),E._toggleOutlineStyles(oe,me),me.focus()),j.keyCode!==13&&j.keyCode!==32||(j.preventDefault(),E.changeStep(E._steps.indexOf(W))),j.keyCode===9&&(E._toggleStepTabIndex(oe,ye),E._toggleOutlineStyles(oe,!1),ye.focus())}),ct.on(k,Rc,function(j){var W=xe.parents(j.currentTarget,".".concat(sr))[0],W=xe.findOne(".".concat($n),W),ee=xe.findOne(".".concat($n),E.activeStep);j.keyCode===9&&(E._toggleStepTabIndex(W,ee),E._toggleOutlineStyles(!1,ee),ee.focus())})})}},{key:"_toggleStepTabIndex",value:function(E,k){E&&E.setAttribute("tabIndex",-1),k&&k.setAttribute("tabIndex",0)}},{key:"_toggleOutlineStyles",value:function(E,k){E&&(E.style.outline=""),k&&(k.style.outline="revert")}},{key:"_toggleDisabled",value:function(){this._toggleStepClass(this._activeStepIndex,"add",Dc),this._toggleStepClass(this._activeStepIndex,"add",this._options.stepperDisabled)}},{key:"_toggleActive",value:function(E){this._toggleStepClass(E,"add",Er),this._toggleStepClass(this._activeStepIndex,"remove",Er),this._toggleStepClass(E,"add",this._options.stepperActive),this._toggleStepClass(this._activeStepIndex,"remove",this._options.stepperActive)}},{key:"_toggleCompleted",value:function(E){this._toggleStepClass(E,"add",Lc),this._toggleStepClass(E,"remove",jc),this._toggleStepClass(E,"add",this._options.stepperCompleted),this._toggleStepClass(E,"remove",this._options.stepperInvalid)}},{key:"_hideInactiveSteps",value:function(){var E=this;this._steps.forEach(function(k){k.classList.contains(Er)||E._hideElement(xe.findOne(".".concat(xn),k))})}},{key:"_setHeight",value:function(k){var W=xe.findOne(".".concat(xn),k),ee=getComputedStyle(W),k=xe.findOne(".".concat($n),k),j=getComputedStyle(k),W=W.offsetHeight+parseFloat(ee.marginTop)+parseFloat(ee.marginBottom),ee=k.offsetHeight+parseFloat(j.marginTop)+parseFloat(j.marginBottom);this._element.style.height="".concat(ee+W,"px")}},{key:"_hideElement",value:function(E){xe.parents(E,".".concat(sr))[0].classList.contains(Er)||this._currentView===Ln?E.classList.add(Go):E.style.display="none"}},{key:"_showElement",value:function(E){this._currentView===Ln?E.classList.remove(Go):E.style.display="block"}},{key:"_animateHorizontalStep",value:function(E){var k,j=this,W=E>this._activeStepIndex,ee=xe.findOne(".".concat(xn),this._steps[E]),se=xe.findOne(".".concat(xn),this.activeStep);this._steps.forEach(function(oe,ye){oe=xe.findOne(".".concat(xn),oe),j._clearStepAnimation(oe),ye!==E&&ye!==j._activeStepIndex&&j._hideElement(oe)}),W=W?(k="slide-out-left","slide-in-right"):(k="slide-out-right","slide-in-left"),se.classList.add(k,"animation","fast"),ee.classList.add(W,"animation","fast"),this._setHeight(this._steps[E]),ct.one(se,wu,function(oe){j._clearStepAnimation(oe.target),j._hideElement(oe.target)}),ct.one(ee,wu,function(oe){j._clearStepAnimation(oe.target)})}},{key:"_animateVerticalStep",value:function(k){var k=xe.findOne(".".concat(xn),this._steps[k]),j=xe.findOne(".".concat(xn),this.activeStep);this._hideElement(j),this._showElement(k)}},{key:"_clearStepAnimation",value:function(E){E.classList.remove("slide-out-left","slide-in-right","slide-out-right","slide-in-left","animation","fast")}}])&&_u(T.prototype,F),x&&_u(T,x),Object.defineProperty(T,"prototype",{writable:!1}),A}(),kr=(xe.find('[data-mdb-stepper="stepper"]').forEach(function(A){return Yo.getInstance(A)||new Yo(A)}),Yo);window.Alert=Gt,window.Button=qe,window.Dropdown=Lr,window.Carousel=bi,window.Collapse=di,window.Offcanvas=an,window.Modal=br,window.Popover=Jt,window.ScrollSpy=It,window.Tab=Un,window.Toast=Bn,window.Tooltip=$i,window.Ripple=gc,window.Datepicker=wr,window.Timepicker=ze,window.Stepper=kr}]);const openplayer_min="";function binding(o){let u=0,f;return()=>{if(u===2)return f;if(u===1)throw new Error("Binding demanded before initialized");return u=1,f=o(),u=2,f}}function fail$3(){throw new Error("Failed pattern match")}const $$const=o=>u=>o,applyFlipped=o=>u=>u(o),semigroupoidFn={compose:o=>u=>f=>o(u(f))},unit=void 0,$Proxy=()=>({tag:"Proxy"}),$$Proxy=$Proxy(),arrayMap=function(o){return function(u){for(var f=u.length,d=new Array(f),m=0;m<f;m++)d[m]=o(u[m]);return d}},functorArray={map:arrayMap},identity$w=o=>o,arrayBind=function(o){return function(u){for(var f=[],d=0,m=o.length;d<m;d++)Array.prototype.push.apply(f,u(o[d]));return f}},identity$v=o=>o,unsafeHas=function(o){return function(u){return{}.hasOwnProperty.call(u,o)}},unsafeGet=function(o){return function(u){return u[o]}},unsafeSet=function(o){return function(u){return function(f){var d={};for(var m in f)({}).hasOwnProperty.call(f,m)&&(d[m]=f[m]);return d[o]=u,d}}},unsafeDelete$1=function(o){return function(u){var f={};for(var d in u)d!==o&&{}.hasOwnProperty.call(u,d)&&(f[d]=u[d]);return f}},showIntImpl=function(o){return o.toString()},showNumberImpl=function(o){var u=o.toString();return isNaN(u+".0")?u:u+".0"},showStringImpl=function(o){var u=o.length;return'"'+o.replace(/[\0-\x1F\x7F"\\]/g,function(f,d){switch(f){case'"':case"\\":return"\\"+f;case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v"}var m=d+1,h=m<u&&o[m]>="0"&&o[m]<="9"?"\\&":"";return"\\"+f.charCodeAt(0).toString(10)+h})+'"'},showArrayImpl=function(o){return function(u){for(var f=[],d=0,m=u.length;d<m;d++)f[d]=o(u[d]);return"["+f.join(",")+"]"}},cons=function(o){return function(u){return[o].concat(u)}},intercalate$2=function(o){return function(u){return u.join(o)}},showBoolean={show:o=>o?"true":"false"},$NoArguments=()=>({tag:"NoArguments"}),$Product=(o,u)=>({tag:"Product",_1:o,_2:u}),$Sum=(o,u)=>({tag:o,_1:u}),Inl=o=>$Sum("Inl",o),Inr=o=>$Sum("Inr",o),Product=o=>u=>$Product(o,u),NoArguments=$NoArguments(),Constructor=o=>o,Argument=o=>o,$Ordering=o=>({tag:o}),LT=$Ordering("LT"),GT=$Ordering("GT"),EQ=$Ordering("EQ"),$Maybe=(o,u)=>({tag:o,_1:u}),Nothing=$Maybe("Nothing"),Just=o=>$Maybe("Just",o),maybe=o=>u=>f=>{if(f.tag==="Nothing")return o;if(f.tag==="Just")return u(f._1);fail$3()},isNothing=o=>{if(o.tag==="Nothing")return!0;if(o.tag==="Just")return!1;fail$3()},functorMaybe={map:o=>u=>u.tag==="Just"?$Maybe("Just",o(u._1)):Nothing},applyMaybe={apply:o=>u=>{if(o.tag==="Just")return u.tag==="Just"?$Maybe("Just",o._1(u._1)):Nothing;if(o.tag==="Nothing")return Nothing;fail$3()},Functor0:()=>functorMaybe},applicativeMaybe={pure:Just,Apply0:()=>applyMaybe},altMaybe={alt:o=>u=>o.tag==="Nothing"?u:o,Functor0:()=>functorMaybe},plusMaybe={empty:Nothing,Alt0:()=>altMaybe},$Either=(o,u)=>({tag:o,_1:u}),Left=o=>$Either("Left",o),Right=o=>$Either("Right",o),functorEither={map:o=>u=>{if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o(u._1));fail$3()}},applyEither$1={apply:o=>u=>{if(o.tag==="Left")return $Either("Left",o._1);if(o.tag==="Right"){if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",o._1(u._1));fail$3()}fail$3()},Functor0:()=>functorEither},bindEither={bind:o=>{if(o.tag==="Left")return u=>$Either("Left",o._1);if(o.tag==="Right")return u=>u(o._1);fail$3()},Apply0:()=>applyEither$1},Identity=o=>o,functorIdentity={map:o=>u=>o(u)},applyIdentity={apply:o=>u=>o(u),Functor0:()=>functorIdentity},bindIdentity={bind:o=>u=>u(o),Apply0:()=>applyIdentity},applicativeIdentity={pure:Identity,Apply0:()=>applyIdentity},monadIdentity={Applicative0:()=>applicativeIdentity,Bind1:()=>bindIdentity},pureE=function(o){return function(){return o}},bindE=function(o){return function(u){return function(){return u(o())()}}},foreachE=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},monadEffect={Applicative0:()=>applicativeEffect,Bind1:()=>bindEffect},bindEffect={bind:bindE,Apply0:()=>applyEffect},applyEffect={apply:o=>u=>()=>{const f=o(),d=u();return applicativeEffect.pure(f(d))()},Functor0:()=>functorEffect},applicativeEffect={pure:pureE,Apply0:()=>applyEffect},functorEffect={map:o=>u=>()=>{const f=u();return o(f)}},_new=function(o){return function(){return{value:o}}},$Tuple=(o,u)=>({tag:"Tuple",_1:o,_2:u}),Tuple=o=>u=>$Tuple(o,u),snd=o=>o._2,functorTuple={map:o=>u=>$Tuple(u._1,o(u._2))},fst=o=>o._1,ordTuple$1=o=>{const u=o.Eq0();return f=>{const d=f.Eq0(),m={eq:h=>g=>u.eq(h._1)(g._1)&&d.eq(h._2)(g._2)};return{compare:h=>g=>{const y=o.compare(h._1)(g._1);return y.tag==="LT"?LT:y.tag==="GT"?GT:f.compare(h._2)(g._2)},Eq0:()=>m}}},curry=o=>u=>f=>o($Tuple(u,f)),withExceptT=o=>u=>f=>o.map(d=>{if(d.tag==="Right")return $Either("Right",d._1);if(d.tag==="Left")return $Either("Left",u(d._1));fail$3()})(f),monadExceptT=o=>({Applicative0:()=>applicativeExceptT$3(o),Bind1:()=>bindExceptT$1(o)}),bindExceptT$1=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return{bind:d=>m=>u(d)(h=>{if(h.tag==="Left")return f($Either("Left",h._1));if(h.tag==="Right")return m(h._1);fail$3()}),Apply0:()=>applyExceptT(o)}},applyExceptT=o=>{const u=o.Bind1().Apply0().Functor0(),f={map:d=>u.map(functorEither.map(d))};return{apply:(()=>{const d=monadExceptT(o),m=d.Bind1().bind,h=d.Applicative0().pure;return g=>y=>m(g)(_=>m(y)(w=>h(_(w))))})(),Functor0:()=>f}},applicativeExceptT$3=o=>({pure:(()=>{const u=o.Applicative0().pure;return f=>u($Either("Right",f))})(),Apply0:()=>applyExceptT(o)}),monadThrowExceptT=o=>{const u=monadExceptT(o);return{throwError:(()=>{const f=o.Applicative0().pure;return d=>f($Either("Left",d))})(),Monad0:()=>u}},altExceptT=o=>u=>{const f=u.Bind1(),d=u.Applicative0().pure,m=f.Apply0().Functor0(),h={map:g=>m.map(functorEither.map(g))};return{alt:g=>y=>f.bind(g)(_=>{if(_.tag==="Right")return d($Either("Right",_._1));if(_.tag==="Left")return f.bind(y)(w=>{if(w.tag==="Right")return d($Either("Right",w._1));if(w.tag==="Left")return d($Either("Left",o.append(_._1)(w._1)));fail$3()});fail$3()}),Functor0:()=>h}},$NonEmpty=(o,u)=>({tag:"NonEmpty",_1:o,_2:u}),functorNonEmpty=o=>({map:u=>f=>$NonEmpty(u(f._1),o.map(u)(f._2))}),$List=(o,u,f)=>({tag:o,_1:u,_2:f}),identity$u=o=>o,Nil=$List("Nil"),Cons=o=>u=>$List("Cons",o,u),listMap=o=>(f=>d=>{let m=f,h=d,g=!0,y;for(;g;){const _=m,w=h,$=(v,b)=>(P=>I=>{let S=P,C=I,O=!0,B;for(;O;){const N=S,R=C;if(N.tag==="Cons"){if(N._1.tag==="Cons"){if(N._1._2.tag==="Cons"){if(N._1._2._2.tag==="Cons"){S=N._2,C=$List("Cons",o(N._1._1),$List("Cons",o(N._1._2._1),$List("Cons",o(N._1._2._2._1),R)));continue}O=!1,B=R;continue}O=!1,B=R;continue}O=!1,B=R;continue}O=!1,B=R}return B})(v)((()=>b.tag==="Cons"?b._2.tag==="Cons"?b._2._2.tag==="Nil"?$List("Cons",o(b._1),$List("Cons",o(b._2._1),Nil)):Nil:b._2.tag==="Nil"?$List("Cons",o(b._1),Nil):Nil:Nil)());if(w.tag==="Cons"){if(w._2.tag==="Cons"){if(w._2._2.tag==="Cons"){m=$List("Cons",w,_),h=w._2._2._2;continue}g=!1,y=$(_,w);continue}g=!1,y=$(_,w);continue}g=!1,y=$(_,w)}return y})(Nil),functorList={map:listMap},functorNonEmptyList=functorNonEmpty(functorList),foldableList={foldr:o=>u=>{const f=foldableList.foldl(m=>h=>o(h)(m))(u),d=(()=>(h=>g=>{let y=h,_=g,w=!0,$;for(;w;){const v=y,b=_;if(b.tag==="Nil"){w=!1,$=v;continue}if(b.tag==="Cons"){y=$List("Cons",b._1,v),_=b._2;continue}fail$3()}return $})(Nil))();return m=>f(d(m))},foldl:o=>f=>d=>{let m=f,h=d,g=!0,y;for(;g;){const _=m,w=h;if(w.tag==="Nil"){g=!1,y=_;continue}if(w.tag==="Cons"){m=o(_)(w._1),h=w._2;continue}fail$3()}return y},foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableList.foldl(d=>{const m=u(d);return h=>m(f(h))})(o.mempty)}},foldableWithIndexList={foldrWithIndex:o=>u=>f=>{const d=(()=>(g=>y=>{let _=g,w=y,$=!0,v;for(;$;){const b=_,M=w;if(M.tag==="Nil"){$=!1,v=b;continue}if(M.tag==="Cons"){_=$Tuple(b._1+1|0,$List("Cons",M._1,b._2)),w=M._2;continue}fail$3()}return v})($Tuple(0,Nil))(f))();return(h=>g=>{let y=h,_=g,w=!0,$;for(;w;){const v=y,b=_;if(b.tag==="Nil"){w=!1,$=v;continue}if(b.tag==="Cons"){y=$Tuple(v._1-1|0,o(v._1-1|0)(b._1)(v._2)),_=b._2;continue}fail$3()}return $})($Tuple(d._1,u))(d._2)._2},foldlWithIndex:o=>u=>{const f=(()=>(m=>h=>{let g=m,y=h,_=!0,w;for(;_;){const $=g,v=y;if(v.tag==="Nil"){_=!1,w=$;continue}if(v.tag==="Cons"){g=$Tuple($._1+1|0,o($._1)($._2)(v._1)),y=v._2;continue}fail$3()}return w})($Tuple(0,u)))();return d=>f(d)._2},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexList.foldlWithIndex(d=>m=>{const h=u(m),g=f(d);return y=>h(g(y))})(o.mempty)},Foldable0:()=>foldableList},semigroupNonEmptyList={append:o=>u=>$NonEmpty(o._1,foldableList.foldr(Cons)($List("Cons",u._1,u._2))(o._2))},showList=o=>({show:u=>u.tag==="Nil"?"Nil":"("+((d=>m=>{let h=d,g=m,y=!0,_;for(;y;){const w=h,$=g;if($.tag==="Nil"){y=!1,_=w;continue}if($.tag==="Cons"){h=(()=>w.init?{init:!1,acc:$._1}:{init:!1,acc:w.acc+(" : "+$._1)})(),g=$._2;continue}fail$3()}return _})({init:!0,acc:""})(listMap(o.show)(u)).acc+" : Nil)")}),showNonEmptyList$1=o=>{const u=showList(o);return{show:f=>"(NonEmptyList (NonEmpty "+(o.show(f._1)+(" "+(u.show(f._2)+")")))+")"}},traversableList={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map,d=u.Functor0().map;return m=>{const h=f((()=>(_=>w=>{let $=_,v=w,b=!0,M;for(;b;){const P=$,I=v;if(I.tag==="Nil"){b=!1,M=P;continue}if(I.tag==="Cons"){$=$List("Cons",I._1,P),v=I._2;continue}fail$3()}return M})(Nil))()),g=(()=>(_=>w=>{let $=_,v=w,b=!0,M;for(;b;){const P=$,I=v;if(I.tag==="Nil"){b=!1,M=P;continue}if(I.tag==="Cons"){$=u.apply(d(S=>C=>$List("Cons",C,S))(P))(m(I._1)),v=I._2;continue}fail$3()}return M})(o.pure(Nil)))();return y=>h(g(y))}},sequence:o=>traversableList.traverse(o)(identity$u),Functor0:()=>functorList,Foldable1:()=>foldableList};function showErrorImpl(o){return o.stack||o.toString()}function error$1(o){return new Error(o)}function message(o){return o.message}function throwException(o){return function(){throw o}}function catchException(o){return function(u){return function(){try{return u()}catch(f){return f instanceof Error||Object.prototype.toString.call(f)==="[object Error]"?o(f)():o(new Error(f.toString()))()}}}}const $$try$2=o=>{const u=o.MonadThrow0().Monad0(),f=u.Bind1().Apply0().Functor0().map,d=u.Applicative0().pure;return m=>o.catchError(f(Right)(m))(h=>d($Either("Left",h)))},semigroupFirst={append:o=>u=>o.tag==="Just"?o:u},monoidFirst={mempty:Nothing,Semigroup0:()=>semigroupFirst},foldrArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=m-1;h>=0;h--)d=o(f[h])(d);return d}}},foldlArray=function(o){return function(u){return function(f){for(var d=u,m=f.length,h=0;h<m;h++)d=o(d)(f[h]);return d}}},identity$t=o=>o,traverse_$9=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldr(h=>{const g=m(h);return y=>u.apply(f(_=>identity$w)(g))(y)})(o.pure(unit))},for_$9=o=>{const u=traverse_$9(o);return f=>{const d=u(f);return m=>h=>d(h)(m)}},indexl=o=>u=>{const f=o.foldl(d=>m=>d.elem.tag==="Just"?d:d.pos===u?{elem:$Maybe("Just",m),pos:d.pos}:{pos:d.pos+1|0,elem:d.elem})({elem:Nothing,pos:0});return d=>f(d).elem},foldableTuple={foldr:o=>u=>f=>o(f._2)(u),foldl:o=>u=>f=>o(u)(f._2),foldMap:o=>u=>f=>u(f._2)},foldableMaybe={foldr:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(f._1)(u);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Nothing")return u;if(f.tag==="Just")return o(u)(f._1);fail$3()},foldMap:o=>u=>f=>{if(f.tag==="Nothing")return o.mempty;if(f.tag==="Just")return u(f._1);fail$3()}},foldableEither={foldr:o=>u=>f=>{if(f.tag==="Left")return u;if(f.tag==="Right")return o(f._1)(u);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Left")return u;if(f.tag==="Right")return o(u)(f._1);fail$3()},foldMap:o=>u=>f=>{if(f.tag==="Left")return o.mempty;if(f.tag==="Right")return u(f._1);fail$3()}},foldableArray={foldr:foldrArray,foldl:foldlArray,foldMap:o=>{const u=o.Semigroup0().append;return f=>foldableArray.foldr(d=>m=>u(f(d))(m))(o.mempty)}},lookup$3=o=>{const u=o.foldMap(monoidFirst);return f=>d=>u(m=>f.eq(d)(m._1)?$Maybe("Just",m._2):Nothing)},parTraverse_$1=o=>{const u=traverse_$9(o.Applicative1());return f=>{const d=u(f);return m=>{const h=d(g=>o.parallel(m(g)));return g=>o.sequential(h(g))}}},unsafePerformEffect=function(o){return o()},_crashWith=function(o){throw new Error(o)},unsafeCoerce=function(o){return o};var Aff=function(){var o={},u="Pure",f="Throw",d="Catch",m="Sync",h="Async",g="Bind",y="Bracket",_="Fork",w="Sequential",$="Map",v="Apply",b="Alt",M="Cons",P="Resume",I="Release",S="Finalizer",C="Finalized",O="Forked";function B(le,he,fe,_e){this.tag=le,this._1=he,this._2=fe,this._3=_e}function N(le){var he=function(fe,_e,Ie){return new B(le,fe,_e,Ie)};return he.tag=le,he}function R(le){return new B(u,void 0)}function L(le){try{le()}catch(he){setTimeout(function(){throw he},0)}}function z(le,he,fe){try{return he(fe())}catch(_e){return le(_e)}}function Y(le,he,fe){try{return he(fe)()}catch(_e){return fe(le(_e))(),R}}var te=function(){var le=1024,he=0,fe=0,_e=new Array(le),Ie=!1;function be(){var Ne;for(Ie=!0;he!==0;)he--,Ne=_e[fe],_e[fe]=void 0,fe=(fe+1)%le,Ne();Ie=!1}return{isDraining:function(){return Ie},enqueue:function(Ne){var pe;he===le&&(pe=Ie,be(),Ie=pe),_e[(fe+he)%le]=Ne,he++,Ie||be()}}}();function K(le){var he={},fe=0,_e=0;return{register:function(Ie){var be=fe++;Ie.onComplete({rethrow:!0,handler:function(Ne){return function(){_e--,delete he[be]}}})(),he[be]=Ie,_e++},isEmpty:function(){return _e===0},killAll:function(Ie,be){return function(){if(_e===0)return be();var Ne=0,pe={};function ve(Ge){pe[Ge]=he[Ge].kill(Ie,function(ke){return function(){delete pe[Ge],Ne--,le.isLeft(ke)&&le.fromLeft(ke)&&setTimeout(function(){throw le.fromLeft(ke)},0),Ne===0&&be()}})()}for(var Re in he)he.hasOwnProperty(Re)&&(Ne++,ve(Re));return he={},fe=0,_e=0,function(Ge){return new B(m,function(){for(var ke in pe)pe.hasOwnProperty(ke)&&pe[ke]()})}}}}}var Q=0,J=1,Z=2,ne=3,q=4,H=5,re=6;function ie(le,he,fe){var _e=0,Ie=Q,be=fe,Ne=null,pe=null,ve=null,Re=null,Ge=null,ke=0,Ze=0,rt=null,Ue=!0;function et(Ye){for(var Le,at,qe;;)switch(Le=null,at=null,qe=null,Ie){case Z:Ie=J;try{be=ve(be),Re===null?ve=null:(ve=Re._1,Re=Re._2)}catch(it){Ie=H,Ne=le.left(it),be=null}break;case ne:le.isLeft(be)?(Ie=H,Ne=be,be=null):ve===null?Ie=H:(Ie=Z,be=le.fromRight(be));break;case J:switch(be.tag){case g:ve&&(Re=new B(M,ve,Re)),ve=be._2,Ie=J,be=be._1;break;case u:ve===null?(Ie=H,be=le.right(be._1)):(Ie=Z,be=be._1);break;case m:Ie=ne,be=z(le.left,le.right,be._1);break;case h:Ie=q,be=Y(le.left,be._1,function(it){return function(){_e===Ye&&(_e++,te.enqueue(function(){_e===Ye+1&&(Ie=ne,be=it,et(_e))}))}});return;case f:Ie=H,Ne=le.left(be._1),be=null;break;case d:ve===null?Ge=new B(M,be,Ge,pe):Ge=new B(M,be,new B(M,new B(P,ve,Re),Ge,pe),pe),ve=null,Re=null,Ie=J,be=be._1;break;case y:ke++,ve===null?Ge=new B(M,be,Ge,pe):Ge=new B(M,be,new B(M,new B(P,ve,Re),Ge,pe),pe),ve=null,Re=null,Ie=J,be=be._1;break;case _:Ie=ne,Le=ie(le,he,be._2),he&&he.register(Le),be._1&&Le.run(),be=le.right(Le);break;case w:Ie=J,be=ue(le,he,be._1);break}break;case H:if(ve=null,Re=null,Ge===null)Ie=re,be=pe||Ne||be;else switch(Le=Ge._3,qe=Ge._1,Ge=Ge._2,qe.tag){case d:pe&&pe!==Le&&ke===0?Ie=H:Ne&&(Ie=J,be=qe._2(le.fromLeft(Ne)),Ne=null);break;case P:pe&&pe!==Le&&ke===0||Ne?Ie=H:(ve=qe._1,Re=qe._2,Ie=Z,be=le.fromRight(be));break;case y:ke--,Ne===null&&(at=le.fromRight(be),Ge=new B(M,new B(I,qe._2,at),Ge,Le),(pe===Le||ke>0)&&(Ie=J,be=qe._3(at)));break;case I:Ge=new B(M,new B(C,be,Ne),Ge,pe),Ie=J,pe&&pe!==Le&&ke===0?be=qe._1.killed(le.fromLeft(pe))(qe._2):Ne?be=qe._1.failed(le.fromLeft(Ne))(qe._2):be=qe._1.completed(le.fromRight(be))(qe._2),Ne=null,ke++;break;case S:ke++,Ge=new B(M,new B(C,be,Ne),Ge,pe),Ie=J,be=qe._1;break;case C:ke--,Ie=H,be=qe._1,Ne=qe._2;break}break;case re:for(var nt in rt)rt.hasOwnProperty(nt)&&(Ue=Ue&&rt[nt].rethrow,L(rt[nt].handler(be)));rt=null,pe&&Ne?setTimeout(function(){throw le.fromLeft(Ne)},0):le.isLeft(be)&&Ue&&setTimeout(function(){if(Ue)throw le.fromLeft(be)},0);return;case Q:Ie=J;break;case q:return}}function Te(Ye){return function(){if(Ie===re)return Ue=Ue&&Ye.rethrow,Ye.handler(be)(),function(){};var Le=Ze++;return rt=rt||{},rt[Le]=Ye,function(){rt!==null&&delete rt[Le]}}}function Ve(Ye,Le){return function(){if(Ie===re)return Le(le.right(void 0))(),function(){};var at=Te({rethrow:!1,handler:function(){return Le(le.right(void 0))}})();switch(Ie){case Q:pe=le.left(Ye),Ie=re,be=pe,et(_e);break;case q:pe===null&&(pe=le.left(Ye)),ke===0&&(Ie===q&&(Ge=new B(M,new B(S,be(Ye)),Ge,pe)),Ie=H,be=null,Ne=null,et(++_e));break;default:pe===null&&(pe=le.left(Ye)),ke===0&&(Ie=H,be=null,Ne=null)}return at}}function ot(Ye){return function(){var Le=Te({rethrow:!1,handler:Ye})();return Ie===Q&&et(_e),Le}}return{kill:Ve,join:ot,onComplete:Te,isSuspended:function(){return Ie===Q},run:function(){Ie===Q&&(te.isDraining()?et(_e):te.enqueue(function(){et(_e)}))}}}function G(le,he,fe,_e){var Ie=0,be={},Ne=0,pe={},ve=new Error("[ParAff] Early exit"),Re=null,Ge=o;function ke(Te,Ve,ot){var Ye=Ve,Le=null,at=null,qe=0,nt={},it,ft;e:for(;;)switch(it=null,Ye.tag){case O:if(Ye._3===o&&(it=be[Ye._1],nt[qe++]=it.kill(Te,function(ht){return function(){qe--,qe===0&&ot(ht)()}})),Le===null)break e;Ye=Le._2,at===null?Le=null:(Le=at._1,at=at._2);break;case $:Ye=Ye._2;break;case v:case b:Le&&(at=new B(M,Le,at)),Le=Ye,Ye=Ye._1;break}if(qe===0)ot(le.right(void 0))();else for(ft=0,it=qe;ft<it;ft++)nt[ft]=nt[ft]();return nt}function Ze(Te,Ve,ot){var Ye,Le,at,qe,nt,it;for(le.isLeft(Te)?(Ye=Te,Le=null):(Le=Te,Ye=null);;){if(at=null,qe=null,nt=null,it=null,Re!==null)return;if(Ve===null){_e(Ye||Le)();return}if(Ve._3!==o)return;switch(Ve.tag){case $:Ye===null?(Ve._3=le.right(Ve._1(le.fromRight(Le))),Le=Ve._3):Ve._3=Ye;break;case v:if(at=Ve._1._3,qe=Ve._2._3,Ye){if(Ve._3=Ye,nt=!0,it=Ne++,pe[it]=ke(ve,Ye===at?Ve._2:Ve._1,function(){return function(){delete pe[it],nt?nt=!1:ot===null?Ze(Ye,null,null):Ze(Ye,ot._1,ot._2)}}),nt){nt=!1;return}}else{if(at===o||qe===o)return;Le=le.right(le.fromRight(at)(le.fromRight(qe))),Ve._3=Le}break;case b:if(at=Ve._1._3,qe=Ve._2._3,at===o&&le.isLeft(qe)||qe===o&&le.isLeft(at))return;if(at!==o&&le.isLeft(at)&&qe!==o&&le.isLeft(qe))Ye=Le===at?qe:at,Le=null,Ve._3=Ye;else if(Ve._3=Le,nt=!0,it=Ne++,pe[it]=ke(ve,Le===at?Ve._2:Ve._1,function(){return function(){delete pe[it],nt?nt=!1:ot===null?Ze(Le,null,null):Ze(Le,ot._1,ot._2)}}),nt){nt=!1;return}break}ot===null?Ve=null:(Ve=ot._1,ot=ot._2)}}function rt(Te){return function(Ve){return function(){delete be[Te._1],Te._3=Ve,Ze(Ve,Te._2._1,Te._2._2)}}}function Ue(){var Te=J,Ve=fe,ot=null,Ye=null,Le,at;e:for(;;)switch(Le=null,at=null,Te){case J:switch(Ve.tag){case $:ot&&(Ye=new B(M,ot,Ye)),ot=new B($,Ve._1,o,o),Ve=Ve._2;break;case v:ot&&(Ye=new B(M,ot,Ye)),ot=new B(v,o,Ve._2,o),Ve=Ve._1;break;case b:ot&&(Ye=new B(M,ot,Ye)),ot=new B(b,o,Ve._2,o),Ve=Ve._1;break;default:at=Ie++,Te=H,Le=Ve,Ve=new B(O,at,new B(M,ot,Ye),o),Le=ie(le,he,Le),Le.onComplete({rethrow:!1,handler:rt(Ve)})(),be[at]=Le,he&&he.register(Le)}break;case H:if(ot===null)break e;ot._1===o?(ot._1=Ve,Te=J,Ve=ot._2,ot._2=o):(ot._2=Ve,Ve=ot,Ye===null?ot=null:(ot=Ye._1,Ye=Ye._2))}for(Ge=Ve,at=0;at<Ie;at++)be[at].run()}function et(Te,Ve){Re=le.left(Te);var ot;for(var Ye in pe)if(pe.hasOwnProperty(Ye)){ot=pe[Ye];for(Ye in ot)ot.hasOwnProperty(Ye)&&ot[Ye]()}pe=null;var Le=ke(Te,Ge,Ve);return function(at){return new B(h,function(qe){return function(){for(var nt in Le)Le.hasOwnProperty(nt)&&Le[nt]();return R}})}}return Ue(),function(Te){return new B(h,function(Ve){return function(){return et(Te,Ve)}})}}function ue(le,he,fe){return new B(h,function(_e){return function(){return G(le,he,fe,_e)}})}return B.EMPTY=o,B.Pure=N(u),B.Throw=N(f),B.Catch=N(d),B.Sync=N(m),B.Async=N(h),B.Bind=N(g),B.Bracket=N(y),B.Fork=N(_),B.Seq=N(w),B.ParMap=N($),B.ParApply=N(v),B.ParAlt=N(b),B.Fiber=ie,B.Supervisor=K,B.Scheduler=te,B.nonCanceler=R,B}();const _pure=Aff.Pure,_throwError=Aff.Throw;function _catchError(o){return function(u){return Aff.Catch(o,u)}}function _map(o){return function(u){return u.tag===Aff.Pure.tag?Aff.Pure(o(u._1)):Aff.Bind(u,function(f){return Aff.Pure(o(f))})}}function _bind(o){return function(u){return Aff.Bind(o,u)}}function _fork(o){return function(u){return Aff.Fork(o,u)}}const _liftEffect=Aff.Sync;function _parAffMap(o){return function(u){return Aff.ParMap(o,u)}}function _parAffApply(o){return function(u){return Aff.ParApply(o,u)}}const makeAff=Aff.Async;function _makeFiber(o,u){return function(){return Aff.Fiber(o,null,u)}}const _delay=function(){function o(f,d){return f===0&&typeof setImmediate<"u"?setImmediate(d):setTimeout(d,f)}function u(f,d){return f===0&&typeof clearImmediate<"u"?clearImmediate(d):clearTimeout(d)}return function(f,d){return Aff.Async(function(m){return function(){var h=o(d,m(f()));return function(){return Aff.Sync(function(){return f(u(d,h))})}}})}}(),_sequential=Aff.Seq,functorParAff={map:_parAffMap},functorAff={map:_map},forkAff=_fork(!0),ffiUtil$1={isLeft:o=>{if(o.tag==="Left")return!0;if(o.tag==="Right")return!1;fail$3()},fromLeft:o=>{if(o.tag==="Left")return o._1;if(o.tag==="Right")return _crashWith("unsafeFromLeft: Right");fail$3()},fromRight:o=>{if(o.tag==="Right")return o._1;if(o.tag==="Left")return _crashWith("unsafeFromRight: Left");fail$3()},left:Left,right:Right},applyParAff={apply:_parAffApply,Functor0:()=>functorParAff},monadAff={Applicative0:()=>applicativeAff,Bind1:()=>bindAff},bindAff={bind:_bind,Apply0:()=>applyAff},applyAff={apply:o=>u=>_bind(o)(f=>_bind(u)(d=>applicativeAff.pure(f(d)))),Functor0:()=>functorAff},applicativeAff={pure:_pure,Apply0:()=>applyAff},joinFiber=o=>makeAff(u=>{const f=o.join(u);return()=>{const d=f();return(()=>{const m=_liftEffect(d);return h=>m})()}}),monadThrowAff={throwError:_throwError,Monad0:()=>monadAff},monadErrorAff={catchError:_catchError,MonadThrow0:()=>monadThrowAff},parallelAff={parallel:unsafeCoerce,sequential:_sequential,Monad0:()=>monadAff,Applicative1:()=>applicativeParAff},applicativeParAff={pure:o=>_pure(o),Apply0:()=>applyParAff},monoidAff=o=>{const u=o.Semigroup0(),f={append:d=>m=>applyAff.apply(_map(u.append)(d))(m)};return{mempty:_pure(o.mempty),Semigroup0:()=>f}},nonCanceler=(()=>{const o=_pure(unit);return u=>o})(),never=makeAff(o=>()=>nonCanceler),isFiniteImpl=isFinite,abs=Math.abs,cos=Math.cos,floor=Math.floor,pow=function(o){return function(u){return Math.pow(o,u)}},remainder=function(o){return function(u){return o%u}},round=Math.round,sin=Math.sin,sqrt=Math.sqrt,fromNumberImpl=function(o){return function(u){return function(f){return(f|0)===f?o(f):u}}},toNumber=function(o){return o},fromNumber=fromNumberImpl(Just)(Nothing),unsafeClamp=o=>{if(!isFiniteImpl(o))return 0;if(o>=toNumber(2147483647))return 2147483647;if(o<=toNumber(-2147483648))return-2147483648;const u=fromNumber(o);if(u.tag==="Nothing")return 0;if(u.tag==="Just")return u._1;fail$3()};var refEq=function(o){return function(u){return o===u}};const eqBooleanImpl=refEq,eqIntImpl=refEq,eqNumberImpl=refEq,eqStringImpl=refEq,eqArrayImpl=function(o){return function(u){return function(f){if(u.length!==f.length)return!1;for(var d=0;d<u.length;d++)if(!o(u[d])(f[d]))return!1;return!0}}},eqString={eq:eqStringImpl},eqNumber={eq:eqNumberImpl},eqInt={eq:eqIntImpl},eqBoolean={eq:eqBooleanImpl};var unsafeCompareImpl=function(o){return function(u){return function(f){return function(d){return function(m){return d<m?o:d===m?u:f}}}}};const ordIntImpl=unsafeCompareImpl,ordNumberImpl=unsafeCompareImpl,ordStringImpl=unsafeCompareImpl,ordString={compare:ordStringImpl(LT)(EQ)(GT),Eq0:()=>eqString},ordNumber={compare:ordNumberImpl(LT)(EQ)(GT),Eq0:()=>eqNumber},ordInt={compare:ordIntImpl(LT)(EQ)(GT),Eq0:()=>eqInt},charAt=function(o){return function(u){if(o>=0&&o<u.length)return u.charAt(o);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},singleton$1=function(o){return o},length=function(o){return o.length},_indexOf=function(o){return function(u){return function(f){return function(d){var m=d.indexOf(f);return m===-1?u:o(m)}}}},take$4=function(o){return function(u){return u.substr(0,o)}},drop$1=function(o){return function(u){return u.substring(o)}},splitAt=function(o){return function(u){return{before:u.substring(0,o),after:u.substring(o)}}},stripPrefix=o=>u=>{const f=splitAt(length(o))(u);return f.before===o?$Maybe("Just",f.after):Nothing},indexOf=_indexOf(Just)(Nothing),contains=o=>{const u=indexOf(o);return f=>{const d=u(f);if(d.tag==="Nothing")return!1;if(d.tag==="Just")return!0;fail$3()}};function typeOf(o){return typeof o}function tagOf(o){return Object.prototype.toString.call(o).slice(8,-1)}function isNull(o){return o===null}function isUndefined(o){return o===void 0}const isArray=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},$ForeignError=(o,u,f)=>({tag:o,_1:u,_2:f}),ErrorAtIndex=o=>u=>$ForeignError("ErrorAtIndex",o,u),ErrorAtProperty=o=>u=>$ForeignError("ErrorAtProperty",o,u),showForeignError={show:o=>{if(o.tag==="ForeignError")return"(ForeignError "+(showStringImpl(o._1)+")");if(o.tag==="ErrorAtIndex")return"(ErrorAtIndex "+(showIntImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="ErrorAtProperty")return"(ErrorAtProperty "+(showStringImpl(o._1)+(" "+(showForeignError.show(o._2)+")")));if(o.tag==="TypeMismatch")return"(TypeMismatch "+(showStringImpl(o._1)+(" "+(showStringImpl(o._2)+")")));fail$3()}},renderForeignError=o=>{if(o.tag==="ForeignError")return o._1;if(o.tag==="ErrorAtIndex")return"Error at array index "+(showIntImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="ErrorAtProperty")return"Error at property "+(showStringImpl(o._1)+(": "+renderForeignError(o._2)));if(o.tag==="TypeMismatch")return"Type mismatch: expected "+(o._1+(", found "+o._2));fail$3()},readArray$1=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>isArray(d)?u(d):f($NonEmpty($ForeignError("TypeMismatch","array",tagOf(d)),Nil))},unsafeReadTagged$2=o=>{const u=applicativeExceptT$3(o).pure,f=monadThrowExceptT(o).throwError;return d=>m=>tagOf(m)===d?u(m):f($NonEmpty($ForeignError("TypeMismatch",d,tagOf(m)),Nil))},readInt$1=o=>{const u=o.Bind1().Apply0().Functor0().map,f=unsafeReadTagged$2(o)("Number");return d=>{const m=$Either("Left",$NonEmpty($ForeignError("TypeMismatch","Int",tagOf(d)),Nil));return u(h=>{if(h.tag==="Left")return m;if(h.tag==="Right"){const g=fromNumber(h._1);if(g.tag==="Nothing")return m;if(g.tag==="Just")return $Either("Right",g._1);fail$3()}fail$3()})(f(d))}};function thenImpl(o){return function(u){return function(f){return function(){o.then(f,u)}}}}const alt$1=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),unsafeReadTagged$1=unsafeReadTagged$2(monadIdentity),readString$1=unsafeReadTagged$2(monadIdentity)("String"),toAff$p=o=>u=>makeAff(f=>{const d=thenImpl(u)(m=>f($Either("Left",o(m)))())(m=>f($Either("Right",m))());return()=>(d(),nonCanceler)}),coerce=o=>{const u=alt$1(unsafeReadTagged$1("Error")(o))((()=>{const f=readString$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",error$1(f._1));fail$3()})());if(u.tag==="Left")return error$1("Promise failed, couldn't extract JS Error or String");if(u.tag==="Right")return u._1;fail$3()},map_=function(o){return function(u){return function(){return o(u())}}},pure_=function(o){return function(){return o}},bind_=function(o){return function(u){return function(){return u(o())()}}},run$2=function(o){return o()};function whileST(o){return function(u){return function(){for(;o();)u()}}}const foreach=function(o){return function(u){return function(){for(var f=0,d=o.length;f<d;f++)u(o[f])()}}},functorST={map:map_},monadST={Applicative0:()=>applicativeST,Bind1:()=>bindST},bindST={bind:bind_,Apply0:()=>applyST},applyST={apply:o=>u=>()=>{const f=o(),d=u();return applicativeST.pure(f(d))()},Functor0:()=>functorST},applicativeST={pure:pure_,Apply0:()=>applyST};function newSTArray(){return[]}const pushAll=function(o){return function(u){return function(){return u.push.apply(u,o)}}},splice=function(o){return function(u){return function(f){return function(d){return function(){return d.splice.apply(d,[o,u].concat(f))}}}}},unsafeFreeze=function(o){return function(){return o}},unsafeThaw=function(o){return function(){return o}};function copyImpl(o){return function(){return o.slice()}}const freeze=copyImpl,thaw=copyImpl,withArray=o=>u=>{const f=thaw(u);return()=>{const d=f();return o(d)(),unsafeFreeze(d)()}},$Iterator=(o,u)=>({tag:"Iterator",_1:o,_2:u}),iterate=o=>u=>()=>{const f={value:!1};return whileST(()=>!f.value)(()=>{const d=o._2.value,m=o._2.value;o._2.value=m+1|0;const h=o._1(d);if(h.tag==="Just")return u(h._1)();if(h.tag==="Nothing")return f.value=!0,unit;fail$3()})()},absurd=o=>(f=>{let d;return d})(),concatString=function(o){return function(u){return o+u}},concatArray=function(o){return function(u){return o.length===0?u:u.length===0?o:o.concat(u)}},semigroupString={append:concatString},semigroupArray={append:concatArray},identity$s=o=>o,bifunctorEither={bimap:o=>u=>f=>{if(f.tag==="Left")return $Either("Left",o(f._1));if(f.tag==="Right")return $Either("Right",u(f._1));fail$3()}},traverseArrayImpl=function(){function o(m){return[m]}function u(m){return function(h){return[m,h]}}function f(m){return function(h){return function(g){return[m,h,g]}}}function d(m){return function(h){return m.concat(h)}}return function(m){return function(h){return function(g){return function(y){return function(_){function w($,v){switch(v-$){case 0:return g([]);case 1:return h(o)(y(_[$]));case 2:return m(h(u)(y(_[$])))(y(_[$+1]));case 3:return m(m(h(f)(y(_[$])))(y(_[$+1])))(y(_[$+2]));default:var b=$+Math.floor((v-$)/4)*2;return m(h(d)(w($,b)))(w(b,v))}}return w(0,_.length)}}}}}}(),identity$r=o=>o,traversableTuple={traverse:o=>{const u=o.Apply0().Functor0().map;return f=>d=>u(Tuple(d._1))(f(d._2))},sequence:o=>{const u=o.Apply0().Functor0().map;return f=>u(Tuple(f._1))(f._2)},Functor0:()=>functorTuple,Foldable1:()=>foldableTuple},traversableMaybe={traverse:o=>{const u=o.Apply0().Functor0().map;return f=>d=>{if(d.tag==="Nothing")return o.pure(Nothing);if(d.tag==="Just")return u(Just)(f(d._1));fail$3()}},sequence:o=>{const u=o.Apply0().Functor0().map;return f=>{if(f.tag==="Nothing")return o.pure(Nothing);if(f.tag==="Just")return u(Just)(f._1);fail$3()}},Functor0:()=>functorMaybe,Foldable1:()=>foldableMaybe},traversableArray={traverse:o=>{const u=o.Apply0();return traverseArrayImpl(u.apply)(u.Functor0().map)(o.pure)},sequence:o=>traversableArray.traverse(o)(identity$r),Functor0:()=>functorArray,Foldable1:()=>foldableArray},range=function(o){return function(u){for(var f=o>u?-1:1,d=new Array(f*(u-o)+1),m=o,h=0;m!==u;)d[h++]=m,m+=f;return d[h]=m,d}};var replicateFill=function(o){return function(u){if(o<1)return[];var f=new Array(o);return f.fill(u)}},replicatePolyfill=function(o){return function(u){for(var f=[],d=0,m=0;m<o;m++)f[d++]=u;return f}};const replicate$1=typeof Array.prototype.fill=="function"?replicateFill:replicatePolyfill,fromFoldableImpl=function(){function o(m,h){this.head=m,this.tail=h}var u={};function f(m){return function(h){return new o(m,h)}}function d(m){for(var h=[],g=0,y=m;y!==u;)h[g++]=y.head,y=y.tail;return h}return function(m){return function(h){return d(m(f)(u)(h))}}}(),unconsImpl=function(o){return function(u){return function(f){return f.length===0?o({}):u(f[0])(f.slice(1))}}},indexImpl$1=function(o){return function(u){return function(f){return function(d){return d<0||d>=f.length?u:o(f[d])}}}},findIndexImpl=function(o){return function(u){return function(f){return function(d){for(var m=0,h=d.length;m<h;m++)if(f(d[m]))return o(m);return u}}}},_deleteAt=function(o){return function(u){return function(f){return function(d){if(f<0||f>=d.length)return u;var m=d.slice();return m.splice(f,1),o(m)}}}},_updateAt=function(o){return function(u){return function(f){return function(d){return function(m){if(f<0||f>=m.length)return u;var h=m.slice();return h[f]=d,o(h)}}}}},filter$1=function(o){return function(u){return u.filter(o)}},sortByImpl=function(){function o(u,f,d,m,h,g){var y,_,w,$,v,b,M;for(y=h+(g-h>>1),y-h>1&&o(u,f,m,d,h,y),g-y>1&&o(u,f,m,d,y,g),_=h,w=y,$=h;_<y&&w<g;)v=m[_],b=m[w],M=f(u(v)(b)),M>0?(d[$++]=b,++w):(d[$++]=v,++_);for(;_<y;)d[$++]=m[_++];for(;w<g;)d[$++]=m[w++]}return function(u){return function(f){return function(d){var m;return d.length<2?d:(m=d.slice(0),o(u,f,m,d.slice(0),0,d.length),m)}}}}(),slice=function(o){return function(u){return function(f){return f.slice(o,u)}}},zipWith=function(o){return function(u){return function(f){for(var d=u.length<f.length?u.length:f.length,m=new Array(d),h=0;h<d;h++)m[h]=o(u[h])(f[h]);return m}}},intercalate1=o=>{const u=o.Semigroup0().append;return f=>d=>foldlArray(m=>h=>m.init?{init:!1,acc:h}:{init:!1,acc:u(m.acc)(u(f)(h))})({init:!0,acc:o.mempty})(d).acc},updateAt=_updateAt(Just)(Nothing),uncons$1=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",{head:o,tail:u})),tail=unconsImpl(o=>Nothing)(o=>u=>$Maybe("Just",u)),sortBy$1=o=>sortByImpl(o)(u=>{if(u.tag==="GT")return 1;if(u.tag==="EQ")return 0;if(u.tag==="LT")return-1;fail$3()}),sortWith=o=>u=>sortBy$1(f=>d=>o.compare(u(f))(u(d))),init$1=o=>o.length===0?Nothing:$Maybe("Just",slice(0)(o.length-1|0)(o)),index=indexImpl$1(Just)(Nothing),span$2=o=>u=>{const d=(m=>{let h=m,g=!0,y;for(;g;){const _=h,w=index(u)(_);if(w.tag==="Just"){if(o(w._1)){h=_+1|0;continue}g=!1,y=$Maybe("Just",_);continue}if(w.tag==="Nothing"){g=!1,y=Nothing;continue}fail$3()}return y})(0);if(d.tag==="Just")return d._1===0?{init:[],rest:u}:{init:slice(0)(d._1)(u),rest:slice(d._1)(u.length)(u)};if(d.tag==="Nothing")return{init:u,rest:[]};fail$3()},nubBy=o=>u=>{const f=sortBy$1(m=>h=>o(m._2)(h._2))(zipWith(Tuple)(range(0)(u.length-1|0))(u)),d=index(f)(0);if(d.tag==="Nothing")return[];if(d.tag==="Just")return arrayMap(snd)(sortWith(ordInt)(fst)(run$2((()=>{const m=unsafeThaw([d._1]);return()=>{const h=m();return foreach(f)(g=>()=>{const y=unsafeFreeze(h)(),_=index(y)(y.length-1|0),w=o((()=>{if(_.tag==="Just")return _._1._2;fail$3()})())(g._2);return(w.tag==="LT"||w.tag==="GT"||w.tag!=="EQ")&&pushAll([g])(h)(),unit})(),unsafeFreeze(h)()}})())));fail$3()},findIndex=findIndexImpl(Just)(Nothing),deleteAt=_deleteAt(Just)(Nothing),deleteBy=o=>u=>f=>{if(f.length===0)return[];const d=findIndex(o(u))(f);if(d.tag==="Nothing")return f;if(d.tag==="Just"){const m=deleteAt(d._1)(f);if(m.tag==="Just")return m._1;fail$3()}fail$3()},concatMap=o=>u=>arrayBind(u)(o),mapMaybe=o=>concatMap(u=>{const f=o(u);if(f.tag==="Nothing")return[];if(f.tag==="Just")return[f._1];fail$3()}),topNumber=Number.POSITIVE_INFINITY,toUnfoldable$2=o=>o.unfoldr(u=>{if(u.tag==="Nil")return Nothing;if(u.tag==="Cons")return $Maybe("Just",$Tuple(u._1,u._2));fail$3()}),span$1=o=>u=>{if(u.tag==="Cons"){if(o(u._1)){const f=span$1(o)(u._2);return{init:$List("Cons",u._1,f.init),rest:f.rest}}return{init:Nil,rest:u}}return{init:Nil,rest:u}},sortBy=o=>{const u=g=>y=>{if(g.tag==="Cons"){if(y.tag==="Cons")return o(g._1)(y._1).tag==="GT"?$List("Cons",y._1,u(g)(y._2)):$List("Cons",g._1,u(g._2)(y));if(y.tag==="Nil")return g;fail$3()}if(g.tag==="Nil")return y;if(y.tag==="Nil")return g;fail$3()},f=g=>g.tag==="Cons"&&g._2.tag==="Cons"?$List("Cons",u(g._1)(g._2._1),f(g._2._2)):g,d=g=>{let y=g,_=!0,w;for(;_;){const $=y;if($.tag==="Cons"){if($._2.tag==="Nil"){_=!1,w=$._1;continue}y=f($);continue}y=f($)}return w},m=(g,y,_,w)=>{let $=g,v=y,b=_,M=w,P=!0,I;for(;P;){if($===0){const S=v;if(S.tag==="Cons"){if(S._2.tag==="Cons"){if(o(S._1)(S._2._1).tag==="GT"){$=1,v=S._2._1,b=$List("Cons",S._1,Nil),M=S._2._2;continue}$=2,v=S._2._1,b=C=>$List("Cons",S._1,C),M=S._2._2;continue}P=!1,I=$List("Cons",S,Nil);continue}P=!1,I=$List("Cons",S,Nil);continue}if($===1){const S=v,C=b,O=M;if(O.tag==="Cons"){if(o(S)(O._1).tag==="GT"){$=1,v=O._1,b=$List("Cons",S,C),M=O._2;continue}P=!1,I=$List("Cons",$List("Cons",S,C),h(O));continue}P=!1,I=$List("Cons",$List("Cons",S,C),h(O));continue}if($===2){const S=v,C=b,O=M;if(O.tag==="Cons"){if((()=>{const B=o(S)(O._1);return B.tag==="LT"||B.tag!=="GT"})()){$=2,v=O._1,b=B=>C($List("Cons",S,B)),M=O._2;continue}P=!1,I=$List("Cons",C($List("Cons",S,Nil)),h(O));continue}P=!1,I=$List("Cons",C($List("Cons",S,Nil)),h(O));continue}}return I},h=g=>m(0,g);return g=>d(h(g))},reverse=(()=>(u=>f=>{let d=u,m=f,h=!0,g;for(;h;){const y=d,_=m;if(_.tag==="Nil"){h=!1,g=y;continue}if(_.tag==="Cons"){d=$List("Cons",_._1,y),m=_._2;continue}fail$3()}return g})(Nil))(),take$3=(()=>(u=>f=>d=>{let m=u,h=f,g=d,y=!0,_;for(;y;){const w=m,$=h,v=g;if($<1){y=!1,_=reverse(w);continue}if(v.tag==="Nil"){y=!1,_=reverse(w);continue}if(v.tag==="Cons"){m=$List("Cons",v._1,w),h=$-1|0,g=v._2;continue}fail$3()}return _})(Nil))(),drop=o=>u=>{let f=o,d=u,m=!0,h;for(;m;){const g=f,y=d;if(g<1){m=!1,h=y;continue}if(y.tag==="Nil"){m=!1,h=Nil;continue}if(y.tag==="Cons"){f=g-1|0,d=y._2;continue}fail$3()}return h},defer=function(o){var u=null;return function(){return o===void 0||(u=o(),o=void 0),u}},force=function(o){return o()},unfoldr1ArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var g=[],y=h;;){var _=m(y);g.push(f(_));var w=d(_);if(o(w))return g;y=u(w)}}}}}}},fromJust$1=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldable1Array={unfoldr1:unfoldr1ArrayImpl(isNothing)(fromJust$1)(fst)(snd)},unfoldrArrayImpl=function(o){return function(u){return function(f){return function(d){return function(m){return function(h){for(var g=[],y=h;;){var _=m(y);if(o(_))return g;var w=u(_);g.push(f(w)),y=d(w)}}}}}}},fromJust=o=>{if(o.tag==="Just")return o._1;fail$3()},unfoldableArray={unfoldr:unfoldrArrayImpl(isNothing)(fromJust)(fst)(snd),Unfoldable10:()=>unfoldable1Array},replicate=o=>u=>f=>o.unfoldr(d=>d<=0?Nothing:$Maybe("Just",$Tuple(f,d-1|0)))(u),$KickUp=(o,u,f,d)=>({tag:"KickUp",_1:o,_2:u,_3:f,_4:d}),$Map=(o,u,f,d,m,h,g,y)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:g,_7:y}),$TreeContext=(o,u,f,d,m,h,g)=>({tag:o,_1:u,_2:f,_3:d,_4:m,_5:h,_6:g}),identity$q=o=>o,Leaf=$Map("Leaf"),Two=o=>u=>f=>d=>$Map("Two",o,u,f,d),Three=o=>u=>f=>d=>m=>h=>g=>$Map("Three",o,u,f,d,m,h,g),toUnfoldable$1=o=>u=>{const f=d=>{let m=d,h=!0,g;for(;h;){const y=m;if(y.tag==="Nil"){h=!1,g=Nothing;continue}if(y.tag==="Cons"){if(y._1.tag==="Leaf"){m=y._2;continue}if(y._1.tag==="Two"){if(y._1._1.tag==="Leaf"){if(y._1._4.tag==="Leaf"){h=!1,g=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),y._2));continue}h=!1,g=$Maybe("Just",$Tuple($Tuple(y._1._2,y._1._3),$List("Cons",y._1._4,y._2)));continue}m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,y._2)));continue}if(y._1.tag==="Three"){m=$List("Cons",y._1._1,$List("Cons",$Map("Two",Leaf,y._1._2,y._1._3,Leaf),$List("Cons",y._1._4,$List("Cons",$Map("Two",Leaf,y._1._5,y._1._6,Leaf),$List("Cons",y._1._7,y._2)))));continue}fail$3()}fail$3()}return g};return o.unfoldr(f)($List("Cons",u,Nil))},showMap=o=>u=>{const f=showArrayImpl(d=>"(Tuple "+(o.show(d._1)+(" "+(u.show(d._2)+")"))));return{show:d=>"(fromFoldable "+(f(toUnfoldable$1(unfoldableArray)(d))+")")}},lookup$2=o=>u=>d=>{let m=d,h=!0,g;for(;h;){const y=m;if(y.tag==="Leaf"){h=!1,g=Nothing;continue}if(y.tag==="Two"){const _=o.compare(u)(y._2);if(_.tag==="EQ"){h=!1,g=$Maybe("Just",y._3);continue}if(_.tag==="LT"){m=y._1;continue}m=y._4;continue}if(y.tag==="Three"){const _=o.compare(u)(y._2);if(_.tag==="EQ"){h=!1,g=$Maybe("Just",y._3);continue}const w=o.compare(u)(y._5);if(w.tag==="EQ"){h=!1,g=$Maybe("Just",y._6);continue}if(_.tag==="LT"){m=y._1;continue}if(w.tag==="GT"){m=y._7;continue}m=y._4;continue}fail$3()}return g},functorMap={map:o=>u=>{if(u.tag==="Leaf")return Leaf;if(u.tag==="Two")return $Map("Two",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4));if(u.tag==="Three")return $Map("Three",functorMap.map(o)(u._1),u._2,o(u._3),functorMap.map(o)(u._4),u._5,o(u._6),functorMap.map(o)(u._7));fail$3()}},fromZipper=o=>u=>f=>{let d=u,m=f,h=!0,g;for(;h;){const y=d,_=m;if(y.tag==="Nil"){h=!1,g=_;continue}if(y.tag==="Cons"){if(y._1.tag==="TwoLeft"){d=y._2,m=$Map("Two",_,y._1._1,y._1._2,y._1._3);continue}if(y._1.tag==="TwoRight"){d=y._2,m=$Map("Two",y._1._1,y._1._2,y._1._3,_);continue}if(y._1.tag==="ThreeLeft"){d=y._2,m=$Map("Three",_,y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeMiddle"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,_,y._1._4,y._1._5,y._1._6);continue}if(y._1.tag==="ThreeRight"){d=y._2,m=$Map("Three",y._1._1,y._1._2,y._1._3,y._1._4,y._1._5,y._1._6,_);continue}fail$3()}fail$3()}return g},insert$2=o=>u=>f=>{const d=h=>g=>{let y=h,_=g,w=!0,$;for(;w;){const v=y,b=_;if(v.tag==="Nil"){w=!1,$=$Map("Two",b._1,b._2,b._3,b._4);continue}if(v.tag==="Cons"){if(v._1.tag==="TwoLeft"){w=!1,$=fromZipper()(v._2)($Map("Three",b._1,b._2,b._3,b._4,v._1._1,v._1._2,v._1._3));continue}if(v._1.tag==="TwoRight"){w=!1,$=fromZipper()(v._2)($Map("Three",v._1._1,v._1._2,v._1._3,b._1,b._2,b._3,b._4));continue}if(v._1.tag==="ThreeLeft"){y=v._2,_=$KickUp($Map("Two",b._1,b._2,b._3,b._4),v._1._1,v._1._2,$Map("Two",v._1._3,v._1._4,v._1._5,v._1._6));continue}if(v._1.tag==="ThreeMiddle"){y=v._2,_=$KickUp($Map("Two",v._1._1,v._1._2,v._1._3,b._1),b._2,b._3,$Map("Two",b._4,v._1._4,v._1._5,v._1._6));continue}if(v._1.tag==="ThreeRight"){y=v._2,_=$KickUp($Map("Two",v._1._1,v._1._2,v._1._3,v._1._4),v._1._5,v._1._6,$Map("Two",b._1,b._2,b._3,b._4));continue}fail$3()}fail$3()}return $};return(h=>g=>{let y=h,_=g,w=!0,$;for(;w;){const v=y,b=_;if(b.tag==="Leaf"){w=!1,$=d(v)($KickUp(Leaf,u,f,Leaf));continue}if(b.tag==="Two"){const M=o.compare(u)(b._2);if(M.tag==="EQ"){w=!1,$=fromZipper()(v)($Map("Two",b._1,u,f,b._4));continue}if(M.tag==="LT"){y=$List("Cons",$TreeContext("TwoLeft",b._2,b._3,b._4),v),_=b._1;continue}y=$List("Cons",$TreeContext("TwoRight",b._1,b._2,b._3),v),_=b._4;continue}if(b.tag==="Three"){const M=o.compare(u)(b._2);if(M.tag==="EQ"){w=!1,$=fromZipper()(v)($Map("Three",b._1,u,f,b._4,b._5,b._6,b._7));continue}const P=o.compare(u)(b._5);if(P.tag==="EQ"){w=!1,$=fromZipper()(v)($Map("Three",b._1,b._2,b._3,b._4,u,f,b._7));continue}if(M.tag==="LT"){y=$List("Cons",$TreeContext("ThreeLeft",b._2,b._3,b._4,b._5,b._6,b._7),v),_=b._1;continue}if(M.tag==="GT"){if(P.tag==="LT"){y=$List("Cons",$TreeContext("ThreeMiddle",b._1,b._2,b._3,b._5,b._6,b._7),v),_=b._4;continue}y=$List("Cons",$TreeContext("ThreeRight",b._1,b._2,b._3,b._4,b._5,b._6),v),_=b._7;continue}y=$List("Cons",$TreeContext("ThreeRight",b._1,b._2,b._3,b._4,b._5,b._6),v),_=b._7;continue}fail$3()}return $})(Nil)},pop=o=>u=>{const f=g=>y=>{let _=g,w=y,$=!0,v;for(;$;){const b=_,M=w;if(b.tag==="Nil"){$=!1,v=M;continue}if(b.tag==="Cons"){const P=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",$Map("Two",Y,J,q,te),Z,H,$Map("Two",K,ne,re,Q))),I=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",$Map("Two",Y,J,q,te),Z,H,$Map("Two",K,ne,re,Q))),S=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",$Map("Three",Y,J,q,te,Z,H,K),ne,re,Q)),C=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",$Map("Three",Y,J,q,te,Z,H,K),ne,re,Q)),O=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",Y,J,q,$Map("Three",te,Z,H,K,ne,re,Q))),B=(Y,te,K,Q,J,Z,ne,q,H,re)=>fromZipper()(b._2)($Map("Two",Y,J,q,$Map("Three",te,Z,H,K,ne,re,Q))),N=(Y,te,K,Q,J,Z,ne,q,H,re,ie,G,ue)=>fromZipper()(b._2)($Map("Three",$Map("Two",Y,Z,re,te),ne,ie,$Map("Two",K,q,G,Q),H,ue,J)),R=(Y,te,K,Q,J,Z,ne,q,H,re,ie,G,ue)=>fromZipper()(b._2)($Map("Three",$Map("Two",Y,Z,re,te),ne,ie,$Map("Two",K,q,G,Q),H,ue,J)),L=(Y,te,K,Q,J,Z,ne,q,H,re,ie,G,ue)=>fromZipper()(b._2)($Map("Three",Y,Z,re,$Map("Two",te,ne,ie,K),q,G,$Map("Two",Q,H,ue,J))),z=(Y,te,K,Q,J,Z,ne,q,H,re,ie,G,ue)=>fromZipper()(b._2)($Map("Three",Y,Z,re,$Map("Two",te,ne,ie,K),q,G,$Map("Two",Q,H,ue,J)));if(M.tag==="Leaf"){if(b._1.tag==="TwoLeft"){if(b._1._3.tag==="Leaf"){$=!1,v=fromZipper()(b._2)($Map("Two",Leaf,b._1._1,b._1._2,Leaf));continue}if(b._1._3.tag==="Two"){_=b._2,w=$Map("Three",M,b._1._1,b._1._2,b._1._3._1,b._1._3._2,b._1._3._3,b._1._3._4);continue}if(b._1._3.tag==="Three"){$=!1,v=P(M,b._1._3._1,b._1._3._4,b._1._3._7,b._1._1,b._1._3._2,b._1._3._5,b._1._2,b._1._3._3,b._1._3._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="TwoRight"){if(b._1._1.tag==="Leaf"){$=!1,v=fromZipper()(b._2)($Map("Two",Leaf,b._1._2,b._1._3,Leaf));continue}if(b._1._1.tag==="Two"){_=b._2,w=$Map("Three",b._1._1._1,b._1._1._2,b._1._1._3,b._1._1._4,b._1._2,b._1._3,M);continue}if(b._1._1.tag==="Three"){$=!1,v=I(b._1._1._1,b._1._1._4,b._1._1._7,M,b._1._1._2,b._1._1._5,b._1._2,b._1._1._3,b._1._1._6,b._1._3);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeLeft"){if(b._1._6.tag==="Leaf"){if(b._1._3.tag==="Leaf"){$=!1,v=fromZipper()(b._2)($Map("Three",Leaf,b._1._1,b._1._2,Leaf,b._1._4,b._1._5,Leaf));continue}if(b._1._3.tag==="Two"){$=!1,v=S(M,b._1._3._1,b._1._3._4,b._1._6,b._1._1,b._1._3._2,b._1._4,b._1._2,b._1._3._3,b._1._5);continue}if(b._1._3.tag==="Three"){$=!1,v=N(M,b._1._3._1,b._1._3._4,b._1._3._7,b._1._6,b._1._1,b._1._3._2,b._1._3._5,b._1._4,b._1._2,b._1._3._3,b._1._3._6,b._1._5);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1._3.tag==="Two"){$=!1,v=S(M,b._1._3._1,b._1._3._4,b._1._6,b._1._1,b._1._3._2,b._1._4,b._1._2,b._1._3._3,b._1._5);continue}if(b._1._3.tag==="Three"){$=!1,v=N(M,b._1._3._1,b._1._3._4,b._1._3._7,b._1._6,b._1._1,b._1._3._2,b._1._3._5,b._1._4,b._1._2,b._1._3._3,b._1._3._6,b._1._5);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeMiddle"){if(b._1._1.tag==="Leaf"){if(b._1._6.tag==="Leaf"){$=!1,v=fromZipper()(b._2)($Map("Three",Leaf,b._1._2,b._1._3,Leaf,b._1._4,b._1._5,Leaf));continue}if(b._1._6.tag==="Two"){$=!1,v=O(b._1._1,M,b._1._6._1,b._1._6._4,b._1._2,b._1._4,b._1._6._2,b._1._3,b._1._5,b._1._6._3);continue}if(b._1._6.tag==="Three"){$=!1,v=L(b._1._1,M,b._1._6._1,b._1._6._4,b._1._6._7,b._1._2,b._1._4,b._1._6._2,b._1._6._5,b._1._3,b._1._5,b._1._6._3,b._1._6._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1._1.tag==="Two"){$=!1,v=C(b._1._1._1,b._1._1._4,M,b._1._6,b._1._1._2,b._1._2,b._1._4,b._1._1._3,b._1._3,b._1._5);continue}if(b._1._6.tag==="Two"){$=!1,v=O(b._1._1,M,b._1._6._1,b._1._6._4,b._1._2,b._1._4,b._1._6._2,b._1._3,b._1._5,b._1._6._3);continue}if(b._1._1.tag==="Three"){$=!1,v=R(b._1._1._1,b._1._1._4,b._1._1._7,M,b._1._6,b._1._1._2,b._1._1._5,b._1._2,b._1._4,b._1._1._3,b._1._1._6,b._1._3,b._1._5);continue}if(b._1._6.tag==="Three"){$=!1,v=L(b._1._1,M,b._1._6._1,b._1._6._4,b._1._6._7,b._1._2,b._1._4,b._1._6._2,b._1._6._5,b._1._3,b._1._5,b._1._6._3,b._1._6._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeRight"){if(b._1._1.tag==="Leaf"){if(b._1._4.tag==="Leaf"){$=!1,v=fromZipper()(b._2)($Map("Three",Leaf,b._1._2,b._1._3,Leaf,b._1._5,b._1._6,Leaf));continue}if(b._1._4.tag==="Two"){$=!1,v=B(b._1._1,b._1._4._1,b._1._4._4,M,b._1._2,b._1._4._2,b._1._5,b._1._3,b._1._4._3,b._1._6);continue}if(b._1._4.tag==="Three"){$=!1,v=z(b._1._1,b._1._4._1,b._1._4._4,b._1._4._7,M,b._1._2,b._1._4._2,b._1._4._5,b._1._5,b._1._3,b._1._4._3,b._1._4._6,b._1._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1._4.tag==="Two"){$=!1,v=B(b._1._1,b._1._4._1,b._1._4._4,M,b._1._2,b._1._4._2,b._1._5,b._1._3,b._1._4._3,b._1._6);continue}if(b._1._4.tag==="Three"){$=!1,v=z(b._1._1,b._1._4._1,b._1._4._4,b._1._4._7,M,b._1._2,b._1._4._2,b._1._4._5,b._1._5,b._1._3,b._1._4._3,b._1._4._6,b._1._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="TwoLeft"){if(b._1._3.tag==="Two"){_=b._2,w=$Map("Three",M,b._1._1,b._1._2,b._1._3._1,b._1._3._2,b._1._3._3,b._1._3._4);continue}if(b._1._3.tag==="Three"){$=!1,v=P(M,b._1._3._1,b._1._3._4,b._1._3._7,b._1._1,b._1._3._2,b._1._3._5,b._1._2,b._1._3._3,b._1._3._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="TwoRight"){if(b._1._1.tag==="Two"){_=b._2,w=$Map("Three",b._1._1._1,b._1._1._2,b._1._1._3,b._1._1._4,b._1._2,b._1._3,M);continue}if(b._1._1.tag==="Three"){$=!1,v=I(b._1._1._1,b._1._1._4,b._1._1._7,M,b._1._1._2,b._1._1._5,b._1._2,b._1._1._3,b._1._1._6,b._1._3);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeLeft"){if(b._1._3.tag==="Two"){$=!1,v=S(M,b._1._3._1,b._1._3._4,b._1._6,b._1._1,b._1._3._2,b._1._4,b._1._2,b._1._3._3,b._1._5);continue}if(b._1._3.tag==="Three"){$=!1,v=N(M,b._1._3._1,b._1._3._4,b._1._3._7,b._1._6,b._1._1,b._1._3._2,b._1._3._5,b._1._4,b._1._2,b._1._3._3,b._1._3._6,b._1._5);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeMiddle"){if(b._1._1.tag==="Two"){$=!1,v=C(b._1._1._1,b._1._1._4,M,b._1._6,b._1._1._2,b._1._2,b._1._4,b._1._1._3,b._1._3,b._1._5);continue}if(b._1._6.tag==="Two"){$=!1,v=O(b._1._1,M,b._1._6._1,b._1._6._4,b._1._2,b._1._4,b._1._6._2,b._1._3,b._1._5,b._1._6._3);continue}if(b._1._1.tag==="Three"){$=!1,v=R(b._1._1._1,b._1._1._4,b._1._1._7,M,b._1._6,b._1._1._2,b._1._1._5,b._1._2,b._1._4,b._1._1._3,b._1._1._6,b._1._3,b._1._5);continue}if(b._1._6.tag==="Three"){$=!1,v=L(b._1._1,M,b._1._6._1,b._1._6._4,b._1._6._7,b._1._2,b._1._4,b._1._6._2,b._1._6._5,b._1._3,b._1._5,b._1._6._3,b._1._6._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}if(b._1.tag==="ThreeRight"){if(b._1._4.tag==="Two"){$=!1,v=B(b._1._1,b._1._4._1,b._1._4._4,M,b._1._2,b._1._4._2,b._1._5,b._1._3,b._1._4._3,b._1._6);continue}if(b._1._4.tag==="Three"){$=!1,v=z(b._1._1,b._1._4._1,b._1._4._4,b._1._4._7,M,b._1._2,b._1._4._2,b._1._4._5,b._1._5,b._1._3,b._1._4._3,b._1._4._6,b._1._6);continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}$=!1,v=_crashWith("The impossible happened in partial function `up`.");continue}fail$3()}return v},d=g=>y=>{let _=g,w=y,$=!0,v;for(;$;){const b=_,M=w;if(M.tag==="Two"){if(M._1.tag==="Leaf"){if(M._4.tag==="Leaf"){$=!1,v=f(b)(Leaf);continue}_=$List("Cons",$TreeContext("TwoRight",M._1,M._2,M._3),b),w=M._4;continue}_=$List("Cons",$TreeContext("TwoRight",M._1,M._2,M._3),b),w=M._4;continue}if(M.tag==="Three"){if(M._1.tag==="Leaf"){if(M._4.tag==="Leaf"){if(M._7.tag==="Leaf"){$=!1,v=f($List("Cons",$TreeContext("TwoRight",Leaf,M._2,M._3),b))(Leaf);continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}$=!1,v=_crashWith("The impossible happened in partial function `removeMaxNode`.")}return v},m=g=>{let y=g,_=!0,w;for(;_;){const $=y;if($.tag==="Two"){if($._4.tag==="Leaf"){_=!1,w={key:$._2,value:$._3};continue}y=$._4;continue}if($.tag==="Three"){if($._7.tag==="Leaf"){_=!1,w={key:$._5,value:$._6};continue}y=$._7;continue}_=!1,w=_crashWith("The impossible happened in partial function `maxNode`.")}return w};return(g=>y=>{let _=g,w=y,$=!0,v;for(;$;){const b=_,M=w;if(M.tag==="Leaf"){$=!1,v=Nothing;continue}if(M.tag==="Two"){const P=o.compare(u)(M._2);if(P.tag==="EQ"){if(M._4.tag==="Leaf"){$=!1,v=$Maybe("Just",$Tuple(M._3,f(b)(Leaf)));continue}const I=m(M._1);$=!1,v=$Maybe("Just",$Tuple(M._3,d($List("Cons",$TreeContext("TwoLeft",I.key,I.value,M._4),b))(M._1)));continue}if(P.tag==="LT"){_=$List("Cons",$TreeContext("TwoLeft",M._2,M._3,M._4),b),w=M._1;continue}_=$List("Cons",$TreeContext("TwoRight",M._1,M._2,M._3),b),w=M._4;continue}if(M.tag==="Three"){const P=o.compare(u)(M._5),I=o.compare(u)(M._2);if((()=>M._1.tag==="Leaf"&&M._4.tag==="Leaf"?M._7.tag==="Leaf":!1)()){if(I.tag==="EQ"){$=!1,v=$Maybe("Just",$Tuple(M._3,fromZipper()(b)($Map("Two",Leaf,M._5,M._6,Leaf))));continue}if(P.tag==="EQ"){$=!1,v=$Maybe("Just",$Tuple(M._6,fromZipper()(b)($Map("Two",Leaf,M._2,M._3,Leaf))));continue}if(I.tag==="LT"){_=$List("Cons",$TreeContext("ThreeLeft",M._2,M._3,M._4,M._5,M._6,M._7),b),w=M._1;continue}if(I.tag==="GT"){if(P.tag==="LT"){_=$List("Cons",$TreeContext("ThreeMiddle",M._1,M._2,M._3,M._5,M._6,M._7),b),w=M._4;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}if(I.tag==="EQ"){const S=m(M._1);$=!1,v=$Maybe("Just",$Tuple(M._3,d($List("Cons",$TreeContext("ThreeLeft",S.key,S.value,M._4,M._5,M._6,M._7),b))(M._1)));continue}if(P.tag==="EQ"){const S=m(M._4);$=!1,v=$Maybe("Just",$Tuple(M._6,d($List("Cons",$TreeContext("ThreeMiddle",M._1,M._2,M._3,S.key,S.value,M._7),b))(M._4)));continue}if(I.tag==="LT"){_=$List("Cons",$TreeContext("ThreeLeft",M._2,M._3,M._4,M._5,M._6,M._7),b),w=M._1;continue}if(I.tag==="GT"){if(P.tag==="LT"){_=$List("Cons",$TreeContext("ThreeMiddle",M._1,M._2,M._3,M._5,M._6,M._7),b),w=M._4;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}_=$List("Cons",$TreeContext("ThreeRight",M._1,M._2,M._3,M._4,M._5,M._6),b),w=M._7;continue}fail$3()}return v})(Nil)},foldableMap={foldr:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableMap.foldr(o)(o(f._3)(foldableMap.foldr(o)(o(f._6)(foldableMap.foldr(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldl:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableMap.foldl(o)(o(foldableMap.foldl(o)(o(foldableMap.foldl(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMap:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(foldableMap.foldMap(o)(f)(d._4)));if(d.tag==="Three")return u(foldableMap.foldMap(o)(f)(d._1))(u(f(d._3))(u(foldableMap.foldMap(o)(f)(d._4))(u(f(d._6))(foldableMap.foldMap(o)(f)(d._7)))));fail$3()}}},foldableWithIndexMap={foldrWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._4)))(f._1);if(f.tag==="Three")return foldableWithIndexMap.foldrWithIndex(o)(o(f._2)(f._3)(foldableWithIndexMap.foldrWithIndex(o)(o(f._5)(f._6)(foldableWithIndexMap.foldrWithIndex(o)(u)(f._7)))(f._4)))(f._1);fail$3()},foldlWithIndex:o=>u=>f=>{if(f.tag==="Leaf")return u;if(f.tag==="Two")return foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4);if(f.tag==="Three")return foldableWithIndexMap.foldlWithIndex(o)(o(f._5)(foldableWithIndexMap.foldlWithIndex(o)(o(f._2)(foldableWithIndexMap.foldlWithIndex(o)(u)(f._1))(f._3))(f._4))(f._6))(f._7);fail$3()},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>d=>{if(d.tag==="Leaf")return o.mempty;if(d.tag==="Two")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4)));if(d.tag==="Three")return u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._1))(u(f(d._2)(d._3))(u(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._4))(u(f(d._5)(d._6))(foldableWithIndexMap.foldMapWithIndex(o)(f)(d._7)))));fail$3()}},Foldable0:()=>foldableMap},traversableMap={traverse:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>{if(m.tag==="Leaf")return o.pure(Leaf);if(m.tag==="Two")return u.apply(u.apply(u.apply(f(Two)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4));if(m.tag==="Three")return u.apply(u.apply(u.apply(u.apply(u.apply(u.apply(f(Three)(traversableMap.traverse(o)(d)(m._1)))(o.pure(m._2)))(d(m._3)))(traversableMap.traverse(o)(d)(m._4)))(o.pure(m._5)))(d(m._6)))(traversableMap.traverse(o)(d)(m._7));fail$3()}},sequence:o=>traversableMap.traverse(o)(identity$q),Functor0:()=>functorMap,Foldable1:()=>foldableMap},fromFoldable$9=o=>u=>u.foldl(f=>d=>insert$2(o)(d._1)(d._2)(f))(Leaf),$$delete=o=>u=>f=>{const d=pop(o)(u)(f);if(d.tag==="Nothing")return f;if(d.tag==="Just")return d._1._2;fail$3()},alter=o=>u=>f=>d=>{const m=u(lookup$2(o)(f)(d));if(m.tag==="Nothing")return $$delete(o)(f)(d);if(m.tag==="Just")return insert$2(o)(f)(m._1)(d);fail$3()},unionWith=o=>u=>f=>d=>foldableWithIndexMap.foldlWithIndex(m=>h=>g=>alter(o)((()=>{const y=u(g);return _=>$Maybe("Just",(()=>{if(_.tag==="Nothing")return g;if(_.tag==="Just")return y(_._1);fail$3()})())})())(m)(h))(d)(f),update=o=>u=>f=>d=>alter(o)(m=>{if(m.tag==="Nothing")return Nothing;if(m.tag==="Just")return u(m._1);fail$3()})(f)(d),numAdd=function(o){return function(u){return o+u}},intDiv=function(o){return function(u){return u===0?0:u>0?Math.floor(o/u):-Math.floor(o/-u)}},intMod=function(o){return function(u){if(u===0)return 0;var f=Math.abs(u);return(o%f+f)%f}},monoidString={mempty:"",Semigroup0:()=>semigroupString},monoidArray={mempty:[],Semigroup0:()=>semigroupArray},monoidRecord=()=>o=>{const u={append:o.SemigroupRecord0().appendRecord($$Proxy)};return{mempty:o.memptyRecord($$Proxy),Semigroup0:()=>u}},replace=function(o){return function(u){return function(f){return f.replace(o,u)}}},split=function(o){return function(u){return u.split(o)}},joinWith=function(o){return function(u){return u.join(o)}},toUnfoldable=o=>{const u=toUnfoldable$2(o);return f=>u(foldableWithIndexMap.foldrWithIndex(d=>m=>h=>$List("Cons",d,h))(Nil)(f))},foldableSet={foldMap:o=>{const u=foldableList.foldMap(o);return f=>{const d=u(f);return m=>d(foldableWithIndexMap.foldrWithIndex(h=>g=>y=>$List("Cons",h,y))(Nil)(m))}},foldl:o=>u=>{const f=(()=>(m=>h=>{let g=m,y=h,_=!0,w;for(;_;){const $=g,v=y;if(v.tag==="Nil"){_=!1,w=$;continue}if(v.tag==="Cons"){g=o($)(v._1),y=v._2;continue}fail$3()}return w})(u))();return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>g=>$List("Cons",m,g))(Nil)(d))},foldr:o=>u=>{const f=foldableList.foldr(o)(u);return d=>f(foldableWithIndexMap.foldrWithIndex(m=>h=>g=>$List("Cons",m,g))(Nil)(d))}};function setTimeoutImpl(o){return function(u){return function(){return setTimeout(u,o)}}}function clearTimeoutImpl(o){return function(){clearTimeout(o)}}function setIntervalImpl(o){return function(u){return function(){return setInterval(u,o)}}}function clearIntervalImpl(o){return function(){clearInterval(o)}}const eqTimeoutId={eq:o=>u=>o===u},ordTimeoutId={compare:o=>u=>ordInt.compare(o)(u),Eq0:()=>eqTimeoutId};function reallyUnsafeRefEq(o){return function(u){return o===u}}const fastForeachE=(o,u)=>{for(var f=0,d=o.length;f<d;f++)u(o[f])},for_$8=for_$9(applicativeEffect),for_1$2=for_$8(foldableMaybe),mempty$2=o=>unit,for_2$2=for_$8(foldableSet),sampleOnRight=o=>u=>(f,d)=>{const m={value:Nothing},h=o(f,y=>m.value=$Maybe("Just",y)),g=u(f,y=>{const _=m.value;return for_1$2(_)(w=>()=>d(y(w)))()});return()=>(h(),g())},sampleOnLeft=o=>u=>(f,d)=>{const m={value:Nothing},h=o(f,y=>{const _=m.value;return for_1$2(_)(w=>()=>d(w(y)))()}),g=u(f,y=>m.value=$Maybe("Just",y));return()=>(h(),g())},keepLatest=o=>(u,f)=>{const d={value:()=>unit},m=o(u,h=>{const g=d.value;g();const y=h(u,f);return d.value=y});return()=>{const h=d.value;return h(),m()}},functorEvent={map:o=>u=>(f,d)=>u(f,m=>{const h=o(m);return d(h)})},filter=o=>u=>(f,d)=>u(f,m=>{const h=o(m);if(h.tag==="Just")return d(h._1);if(h.tag==="Nothing")return unit;fail$3()}),filter$p=o=>filter(u=>o(u)?$Maybe("Just",u):Nothing),create$p=()=>{const o={value:[]};return{event:(u,f)=>{const d={value:f},m=o.value;return o.value=concatArray(m)([d]),()=>{d.value=mempty$2;const h=o.value;return o.value=deleteBy(reallyUnsafeRefEq)(d)(h),unit}},push:u=>{const f=o.value;return fastForeachE(f,d=>{const m=d.value;return m(u)})}}},fix=o=>(u,f)=>{const d=create$p(),m=d.event(u,f),h=o(d.event)(u,d.push);return()=>(h(),m())},compactableEvent={compact:filter(o=>o),separate:o=>({left:filter(u=>{if(u.tag==="Left")return $Maybe("Just",u._1);if(u.tag==="Right")return Nothing;fail$3()})(o),right:filter(u=>{if(u.tag==="Right")return $Maybe("Just",u._1);if(u.tag==="Left")return Nothing;fail$3()})(o)})},filterableEvent={filter:filter$p,filterMap:filter,partition:o=>u=>({yes:filter$p(o)(u),no:filter$p(f=>!o(f))(u)}),partitionMap:o=>u=>({left:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return $Maybe("Just",d._1);if(d.tag==="Right")return Nothing;fail$3()})(u),right:filterableEvent.filterMap(f=>{const d=o(f);if(d.tag==="Left")return Nothing;if(d.tag==="Right")return $Maybe("Just",d._1);fail$3()})(u)}),Compactable0:()=>compactableEvent,Functor1:()=>functorEvent},biSampleOn=o=>u=>(f,d)=>{const m={value:Nothing},h=newSTArray(),g={value:Nothing},y=newSTArray(),_={value:!0},w=o(f,M=>{if(_.value)return pushAll([M])(h)(),unit;m.value=$Maybe("Just",M);const I=g.value;return for_1$2(I)(S=>()=>d(S(M)))()}),$=u(f,M=>{if(_.value)return pushAll([M])(y)(),unit;g.value=$Maybe("Just",M);const I=m.value;return for_1$2(I)(S=>()=>d(M(S)))()});_.value=!1;const v=freeze(h)(),b=freeze(y)();return(()=>{if(v.length===0){const M=index(b)(b.length-1|0);return()=>g.value=M}return()=>fastForeachE(v,M=>(m.value=$Maybe("Just",M),fastForeachE(b,P=>(g.value=$Maybe("Just",P),d(P(M))))))})()(),splice(0)(v.length)([])(h)(),splice(0)(b.length)([])(y)(),()=>(w(),$())},subscribe=o=>backdoor$lazy().subscribe(o),create$lazy=binding(()=>backdoor$lazy().create),backdoor$lazy=binding(()=>{const o=()=>{const u={value:[]};return{event:(f,d)=>{const m={value:d},h=u.value;return u.value=concatArray(h)([m]),()=>{m.value=mempty$2;const g=u.value;return u.value=deleteBy(reallyUnsafeRefEq)(m)(g),unit}},push:f=>()=>{const d=u.value;return fastForeachE(d,m=>{const h=m.value;return h(f)})}}};return{makeEvent:u=>(f,d)=>f?()=>unit:u(m=>()=>d(m))(),makePureEvent:u=>(f,d)=>u(m=>()=>d(m))(),makeLemmingEvent:u=>(f,d)=>u(m=>h=>()=>m(f,g=>h(g)()))(m=>()=>d(m))(),create:o,createPure:o,subscribe:u=>f=>()=>u(!1,d=>f(d)()),subscribePure:u=>f=>()=>u(!0,d=>f(d)()),bus:u=>(f,d)=>{const m=create$lazy()();return d(u(m.push)(m.event)),()=>unit},memoize:u=>f=>(d,m)=>{const h=create$p();return m(f(h.event)),u(d,h.push)},hot:u=>()=>{const f=create$lazy()(),d=subscribe(u)(f.push)();return{event:f.event,unsubscribe:d}},mailboxed:u=>f=>d=>(m,h)=>{const g={value:Leaf};h(d(_=>(w,$)=>{const v=g.value;g.value=alter(u)(M=>{if(M.tag==="Nothing")return $Maybe("Just",[$]);if(M.tag==="Just")return $Maybe("Just",concatArray(M._1)([$]));fail$3()})(_)(v);const b=alter(u)(M=>{if(M.tag==="Nothing")return Nothing;if(M.tag==="Just")return $Maybe("Just",deleteBy(reallyUnsafeRefEq)($)(M._1));fail$3()})(_);return()=>{const M=g.value;return g.value=b(M),unit}}));const y=f(m,_=>{const w=g.value,$=lookup$2(u)(_.address)(w);if($.tag==="Nothing")return unit;if($.tag==="Just")return fastForeachE($._1,v=>v(_.payload));fail$3()});return()=>(g.value=Leaf,y())},delay:u=>f=>(d,m)=>{const h={value:Leaf},g=f(d,y=>{const _={value:Nothing},w=setTimeoutImpl(u)(()=>{m(y);const v=_.value;if(v.tag==="Nothing")return unit;if(v.tag==="Just"){const b=h.value;return h.value=$$delete(ordTimeoutId)(v._1)(b),unit}fail$3()})();_.value=$Maybe("Just",w);const $=h.value;return h.value=unionWith(ordTimeoutId)($$const)($Map("Two",Leaf,w,unit,Leaf))($),unit});return()=>{const y=h.value;return for_2$2(y)(clearTimeoutImpl)(),g()}}}}),create=create$lazy(),backdoor=backdoor$lazy(),applyEvent={apply:o=>u=>biSampleOn(o)((f,d)=>u(f,m=>d(applyFlipped(m)))),Functor0:()=>functorEvent},applicativeEvent={pure:o=>(u,f)=>(f(o),()=>unit),Apply0:()=>applyEvent},altEvent={alt:o=>u=>(f,d)=>{const m=o(f,d),h=u(f,d);return()=>(m(),h())},Functor0:()=>functorEvent},burning=o=>u=>()=>{const f={value:o},d=create$p(),m=u(!0,h=>(f.value=h,d.push(h)));return{event:(h,g)=>{const y=d.event(h,g),_=f.value;return g(_),()=>(y(),unit)},unsubscribe:m}},plusEvent={empty:(o,u)=>()=>unit,Alt0:()=>altEvent},alternativeEvent={Applicative0:()=>applicativeEvent,Plus1:()=>plusEvent},eventIsEvent={keepLatest,sampleOnRight,sampleOnLeft,fix,Alternative0:()=>alternativeEvent,Filterable1:()=>filterableEvent},vbusNil={vb:o=>()=>$Tuple({},{})},vbackdoor={vbus:()=>o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=o.vb($$Proxy);return()=>{const g=h();return m(f(g._1)(g._2))(),()=>unit}})},vbus$2=()=>o=>u=>vbackdoor.vbus()(o)(u),vbusCons2=o=>()=>()=>u=>()=>()=>({vb:f=>{const d=u.vb($$Proxy);return()=>{const m=d(),h=create();return $Tuple(unsafeSet(o.reflectSymbol($$Proxy))(h.push)(m._1),unsafeSet(o.reflectSymbol($$Proxy))(h.event)(m._2))}}}),$Child=(o,u)=>({tag:o,_1:u}),$Entity=(o,u)=>({tag:o,_1:u}),$Scope=(o,u)=>({tag:o,_1:u}),Global=$Scope("Global"),Remove=$Child("Remove"),eqScope={eq:o=>u=>o.tag==="Local"?u.tag==="Local"?o._1===u._1:!1:o.tag==="Global"?u.tag==="Global":!1},envy=o=>$Entity("EventfulElement'",o),dyn=o=>$Entity("DynamicChildren'",o),mapWithIndexArray=function(o){return function(u){for(var f=u.length,d=Array(f),m=0;m<f;m++)d[m]=o(m)(u[m]);return d}},functorWithIndexArray={mapWithIndex:mapWithIndexArray,Functor0:()=>functorArray},fold$3=o=>{const u=o.Alternative0(),f=u.Plus1().Alt0().alt,d=u.Applicative0().pure,m=o.Filterable1().Functor1().map;return h=>g=>y=>o.fix(_=>o.sampleOnRight(f(_)(d(g)))(m(w=>$=>h($)(w))(y)))},folded$2=o=>{const u=fold$3(o);return f=>u(f.Semigroup0().append)(f.mempty)},mapAccum$e=o=>{const u=o.Filterable1().filterMap,f=fold$3(o);return d=>m=>h=>u(snd)(f(g=>y=>{const _=d(g._1)(y);return $Tuple(_._1,$Maybe("Just",_._2))})($Tuple(m,Nothing))(h))},newImpl=function(){return{}};function poke(o){return function(u){return function(f){return function(){return f[o]=u,f}}}}const deleteImpl=function(o){return function(u){return function(){return delete u[o],u}}};function _copyST(o){return function(){var u={};for(var f in o)hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}}const empty$2={};function runST(o){return o()}function _fmapObject(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(o[d]));return f}function _mapWithKey(o,u){var f={};for(var d in o)hasOwnProperty.call(o,d)&&(f[d]=u(d)(o[d]));return f}function _foldM(o){return function(u){return function(f){return function(d){var m=f;function h(y){return function(_){return u(_)(y)(d[y])}}for(var g in d)hasOwnProperty.call(d,g)&&(m=o(m)(h(g)));return m}}}}function _lookup(o,u,f,d){return f in d?u(d[f]):o}function toArrayWithKey(o){return function(u){var f=[];for(var d in u)hasOwnProperty.call(u,d)&&f.push(o(d)(u[d]));return f}}const identity$p=o=>o,values=toArrayWithKey(o=>u=>u),mutate=o=>u=>runST((()=>{const f=_copyST(u);return()=>{const d=f();return o(d)(),d}})()),mapWithKey=o=>u=>_mapWithKey(u,o),lookup$1=o=>u=>_lookup(Nothing,Just,o,u),functorObject={map:o=>u=>_fmapObject(u,o)},functorWithIndexObject={mapWithIndex:mapWithKey,Functor0:()=>functorObject},fromFoldable$8=o=>{const u=fromFoldableImpl(o.foldr);return f=>runST(()=>{const d=newImpl();return foreach(u(f))(m=>()=>(poke(m._1)(m._2)(d)(),unit))(),d})},foldM=o=>{const u=o.Bind1().bind,f=o.Applicative0().pure;return d=>m=>_foldM(u)(d)(f(m))},foldM1=foldM(monadST),union=o=>mutate(u=>foldM1(f=>d=>m=>poke(d)(m)(f))(u)(o)),fold$2=_foldM(applyFlipped),foldMap$1=o=>{const u=o.Semigroup0().append;return f=>fold$2(d=>m=>h=>u(d)(f(m)(h)))(o.mempty)},foldableObject={foldl:o=>fold$2(u=>f=>o(u)),foldr:o=>u=>f=>foldrArray(o)(u)(values(f)),foldMap:o=>{const u=foldMap$1(o);return f=>u(d=>f)}},foldableWithIndexObject={foldlWithIndex:o=>fold$2(u=>f=>o(f)(u)),foldrWithIndex:o=>u=>f=>foldrArray(d=>o(d._1)(d._2))(u)(toArrayWithKey(Tuple)(f)),foldMapWithIndex:o=>foldMap$1(o),Foldable0:()=>foldableObject},traversableWithIndexObject={traverseWithIndex:o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>fold$2(h=>g=>y=>u.apply(f(_=>w=>mutate(poke(g)(w))(_))(h))(d(g)(y)))(o.pure(empty$2))(m)},FunctorWithIndex0:()=>functorWithIndexObject,FoldableWithIndex1:()=>foldableWithIndexObject,Traversable2:()=>traversableObject},traversableObject={traverse:o=>{const u=traversableWithIndexObject.traverseWithIndex(o);return f=>u(d=>f)},sequence:o=>traversableObject.traverse(o)(identity$p),Functor0:()=>functorObject,Foldable1:()=>foldableObject},categoryFn={identity:o=>o,Semigroupoid0:()=>semigroupoidFn};function unsafeUnionFn(o,u){var f={};for(var d in u)({}).hasOwnProperty.call(u,d)&&(f[d]=u[d]);for(var m in o)({}).hasOwnProperty.call(o,m)&&(f[m]=o[m]);return f}function copyRecord(o){var u={};for(var f in o)({}).hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u}function unsafeInsert(o){return function(u){return function(f){return f[o]=u,f}}}function unsafeModify(o){return function(u){return function(f){return f[o]=u(f[o]),f}}}function unsafeDelete(o){return function(u){return delete u[o],u}}const modify=()=>()=>o=>u=>f=>d=>unsafeModify(o.reflectSymbol(u))(f)(d),insert$1=()=>()=>o=>u=>f=>d=>unsafeInsert(o.reflectSymbol(u))(f)(d);function mutAr(o){return()=>o.slice()}function unsafeUpdateMutAr(o){return u=>f=>()=>{f[o]=u}}function readAr(o){return()=>o.slice()}const $Stage$1=o=>({tag:o}),oneOf$E=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$7=for_$9(applicativeST),for_1$1=for_$7(foldableMaybe),for_2$1=for_$7(foldableArray),oneOfMap$c=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),traverse_$8=traverse_$9(applicativeST)(foldableArray),Begin$1=$Stage$1("Begin"),Middle$1=$Stage$1("Middle"),End$2=$Stage$1("End"),flatten=o=>u=>f=>d=>{if(d.tag==="FixedChildren'")return oneOfMap$c(flatten(o)(u)(f))(d._1);if(d.tag==="EventfulElement'")return keepLatest((()=>{const m=flatten(o)(u)(f);return(h,g)=>d._1(h,y=>{const _=m(y);return g(_)})})());if(d.tag==="Element'")return o.toElt(d._1)(u)(f);if(d.tag==="DynamicChildren'")return backdoor.makeLemmingEvent(m=>h=>()=>{const g={value:empty$2},y=m(d._1)(w=>{const $=o.ids(f);return()=>{const v=$(),b={value:()=>unit},M=o.ids(f)(),P={value:()=>unit},I={value:[]},S={value:()=>unit},C=o.ids(f)(),O={value:Begin$1},B=m(w)(L=>()=>{const z=O.value;if(z.tag==="Middle"){if(L.tag==="Logic")return bind_(()=>I.value)(traverse_$8((()=>{const Y=o.doLogic(L._1)(f);return te=>h(Y(te))})()))();if(L.tag==="Remove"){O.value=End$2;const Y=()=>{const te=I.value;for_2$1(te)(ne=>for_1$1(u.parent)(q=>h(o.disconnectElement(f)({id:ne,parent:q,scope:$Scope("Local",C)}))))();const K=b.value;K();const Q=P.value;Q();const J=g.value;g.value=mutate(deleteImpl(v))(J);const Z=g.value;return g.value=mutate(deleteImpl(M))(Z),unit};return S.value=Y,Y()}return unit}if(L.tag==="Insert"){if(z.tag==="Begin"){O.value=Middle$1;const Y=m(flatten(o)({...u,scope:$Scope("Local",C),raiseId:K=>()=>((()=>{const Q=concatArray([K]);return()=>{const J=I.value;return I.value=Q(J)}})()(),unit)})(f)(L._1))(h)(),te=g.value;return g.value=mutate(poke(M)(Y))(te),P.value=Y,unit}return unit}return unit})();b.value=B;const N=g.value;g.value=mutate(poke(v)(B))(N);const R=S.value;return R()}})(),_=bind_(()=>g.value)(fold$2(w=>$=>v=>()=>(w(),v()))(()=>unit));return()=>(_(),y())});fail$3()},internalPortalSimpleComplex=()=>()=>()=>o=>u=>f=>d=>m=>h=>$Entity("Element'",d.fromEltO2(g=>y=>backdoor.makeLemmingEvent(_=>w=>{const $=mutAr(arrayMap(v=>"")(m));return()=>{const v=$(),b=_(oneOf$E(mapWithIndexArray(S=>C=>d.toElt(C)({...g,parent:Nothing,scope:u(g.scope),raiseId:O=>unsafeUpdateMutAr(S)(O)(v)})(y))(m)))(w)(),M={value:()=>unit},P=readAr(v)(),I=_(flatten(f)(g)(y)(h(arrayMap(S=>C=>d.fromEltO1(O=>B=>backdoor.makeLemmingEvent(N=>R=>{const L=O.raiseId(S);return()=>(L(),for_1$1(O.parent)(z=>R(d.giveNewParent(B)(unsafeDelete("raiseId")({...O,id:S,parent:z}))(C)))(),()=>unit)})))(P))(unsafeCoerce)))(w)();return M.value=I,()=>{b();const S=for_2$1(P)(O=>w(d.deleteFromCache(y)({id:O})));(()=>o?()=>unit:S)()();const C=M.value;return C()}}}))),globalPortalSimpleComplex=()=>()=>()=>o=>u=>f=>d=>internalPortalSimpleComplex()()()(!0)(m=>Global)(o)(u)(f)(m=>h=>d(m)),traverseWithIndex_$1=o=>{const u=o.Apply0(),f=u.Functor0().map;return d=>m=>d.foldrWithIndex(h=>{const g=m(h);return y=>{const _=g(y);return w=>u.apply(f($=>identity$w)(_))(w)}})(o.pure(unit))},foldableWithIndexArray={foldrWithIndex:o=>u=>{const f=foldrArray(m=>h=>o(m._1)(m._2)(h))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldlWithIndex:o=>u=>{const f=foldlArray(m=>h=>o(h._1)(m)(h._2))(u),d=mapWithIndexArray(Tuple);return m=>f(d(m))},foldMapWithIndex:o=>{const u=o.Semigroup0().append;return f=>foldableWithIndexArray.foldrWithIndex(d=>m=>h=>u(f(d)(m))(h))(o.mempty)},Foldable0:()=>foldableArray},traversableWithIndexArray={traverseWithIndex:o=>{const u=traversableWithIndexArray.FunctorWithIndex0().mapWithIndex,f=traversableWithIndexArray.Traversable2().sequence(o);return d=>{const m=u(d);return h=>f(m(h))}},FunctorWithIndex0:()=>functorWithIndexArray,FoldableWithIndex1:()=>foldableWithIndexArray,Traversable2:()=>traversableArray},indexImpl=o=>u=>u[o],oneOf$D=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussed$1=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(f)),vbussedUncurried$1=()=>o=>u=>f=>$Entity("EventfulElement'",vbackdoor.vbus()(o)(u)(curry(f))),unsafeSetPos$p=o=>u=>{const f=d=>d.tag==="Element'"?$Entity("Element'",m=>d._1({pos:o,dynFamily:m.dynFamily,ez:m.ez,parent:m.parent,raiseId:m.raiseId,scope:m.scope})):d.tag==="EventfulElement'"?$Entity("EventfulElement'",(m,h)=>d._1(m,g=>{const y=f(g);return h(y)})):u;return f(u)},unsafeSetPos=o=>unsafeSetPos$p($Maybe("Just",o)),portalFlatten$1=()=>({doLogic:o=>u=>f=>u.sendToPos({id:f,pos:o}),ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:eqScope.eq}),toElt:o=>o}),portalFlatten1$1=portalFlatten$1(),dynify=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const g=d.ids();f.raiseId(g)();const y=(()=>{if(f.parent.tag==="Nothing")return()=>{const $=d.ids();return $Tuple(applicativeEvent.pure(d.makeElement({id:$,parent:Nothing,scope:f.scope,tag:"div",pos:Nothing,dynFamily:Nothing})),$)};if(f.parent.tag==="Just")return()=>$Tuple(plusEvent.empty,f.parent._1);fail$3()})()(),_=m(oneOf$D([y._1,applicativeEvent.pure(d.makeDynBeacon({id:g,parent:$Maybe("Just",y._2),scope:f.scope,dynFamily:f.dynFamily,pos:f.pos})),applicativeEvent.pure(d.attributeParent({id:g,parent:y._2,pos:f.pos,dynFamily:f.dynFamily,ez:f.ez})),flatten(portalFlatten1$1)({parent:$Maybe("Just",y._2),scope:f.scope,ez:!1,raiseId:$=>()=>unit,pos:Nothing,dynFamily:$Maybe("Just",g)})(d)(o(u))]))(h)(),w=h(d.removeDynBeacon({id:g}));return()=>(w(),_())})),oneOf$C=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$d=mapAccum$e(eventIsEvent),text=o=>$Entity("Element'",u=>f=>backdoor.makeLemmingEvent(d=>m=>()=>{const h=f.ids();u.raiseId(h)();const g=d(oneOf$C([applicativeEvent.pure(f.makeText({id:h,parent:u.parent,pos:u.pos,scope:u.scope,dynFamily:u.dynFamily})),(_,w)=>o(_,$=>{const v=f.setText({id:h,text:$});return w(v)}),(()=>{if(u.parent.tag==="Nothing")return plusEvent.empty;if(u.parent.tag==="Just")return applicativeEvent.pure(f.attributeParent({id:h,parent:u.parent._1,pos:u.pos,dynFamily:u.dynFamily,ez:u.ez}));fail$3()})()]))(m)(),y=m(f.deleteFromCache({id:h}));return()=>(y(),g())})),switcher=o=>u=>dynify(dyn)(keepLatest(backdoor.memoize(mapAccum$d(f=>d=>$Tuple(f+1|0,$Tuple(d,f)))(0)(u))(f=>(d,m)=>f(d,h=>{const g=oneOf$C([(()=>{const y=filter$p((()=>{const _=h._2+1|0;return w=>_===w._2})())(f);return(_,w)=>y(_,$=>w(Remove))})(),applicativeEvent.pure($Child("Insert",unsafeSetPos$p(Nothing)(o(h._1))))]);return m(g)})))),portalFlatten=()=>({doLogic:o=>u=>f=>u.sendToPos({id:f,pos:o}),ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectElement({id:u.id,scope:u.scope,parent:u.parent,scopeEq:eqScope.eq}),toElt:o=>o}),portalFlatten1=portalFlatten(),deku=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>d((()=>{const h=applicativeEvent.pure(f.makeRoot({id:"deku-root",root:o})),g=flatten(portalFlatten1)({parent:$Maybe("Just","deku-root"),scope:$Scope("Local","rootScope"),raiseId:y=>()=>unit,ez:!0,pos:Nothing,dynFamily:Nothing})(f)(u);return(y,_)=>{const w=h(y,_),$=g(y,_);return()=>(w(),$())}})())(m)),elementify=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>g=>()=>{const y=m.ids();d.raiseId(y)();const _=h((()=>{const $=oneOf$C(concatArray([applicativeEvent.pure(m.makeElement({id:y,parent:d.parent,scope:d.scope,tag:o,pos:d.pos,dynFamily:d.dynFamily})),(b,M)=>u(b,P=>{const I=(()=>{if(P.value.tag==="Prop'")return m.setProp({id:y,key:P.key,value:P.value._1});if(P.value.tag==="Cb'")return m.setCb({id:y,key:P.key,value:P.value._1});fail$3()})();return M(I)})])((()=>{if(d.parent.tag==="Nothing")return[];if(d.parent.tag==="Just")return[applicativeEvent.pure(m.attributeParent({id:y,parent:d.parent._1,pos:d.pos,dynFamily:d.dynFamily,ez:d.ez}))];fail$3()})())),v=flatten(portalFlatten1)({parent:$Maybe("Just",y),scope:d.scope,ez:!0,raiseId:b=>()=>unit,pos:Nothing,dynFamily:Nothing})(m)(f);return(b,M)=>{const P=$(b,M),I=v(b,M);return()=>(P(),I())}})())(g)(),w=g(m.deleteFromCache({id:y}));return()=>(w(),_())});function toCharCode(o){return o.charCodeAt(0)}function fromCharCode$1(o){return String.fromCharCode(o)}const functorStateT$1=o=>({map:u=>f=>d=>o.map(m=>$Tuple(u(m._1),m._2))(f(d))}),monadStateT=o=>({Applicative0:()=>applicativeStateT$1(o),Bind1:()=>bindStateT$1(o)}),bindStateT$1=o=>{const u=o.Bind1().bind;return{bind:f=>d=>m=>u(f(m))(h=>d(h._1)(h._2)),Apply0:()=>applyStateT(o)}},applyStateT=o=>{const u=functorStateT$1(o.Bind1().Apply0().Functor0());return{apply:(()=>{const f=monadStateT(o),d=f.Bind1().bind,m=f.Applicative0().pure;return h=>g=>d(h)(y=>d(g)(_=>m(y(_))))})(),Functor0:()=>u}},applicativeStateT$1=o=>{const u=o.Applicative0().pure;return{pure:f=>d=>u($Tuple(f,d)),Apply0:()=>applyStateT(o)}},monadStateStateT$2=o=>{const u=o.Applicative0().pure,f=monadStateT(o);return{state:d=>m=>u(d(m)),Monad0:()=>f}},random=Math.random,randomInt=o=>u=>()=>{const f=random();return unsafeClamp(floor((toNumber(u)-toNumber(o)+1)*f+toNumber(o)))},lcgPerturb=o=>u=>{const f=fromNumber(remainder(toNumber(48271)*toNumber(u)+toNumber(o))(toNumber(2147483647)));if(f.tag==="Just")return f._1;fail$3()},monadStateStateT$1=monadStateStateT$2(monadIdentity),functorStateT=functorStateT$1(functorIdentity),lcgStep=(()=>monadStateStateT$1.state(o=>$Tuple(o.newSeed,{...o,newSeed:lcgPerturb(0)(o.newSeed)})))(),applyGen=applyStateT(monadIdentity),chooseInt$p=o=>u=>{const f=toNumber(u),d=toNumber(o),m=functorStateT.map(toNumber)(lcgStep);return functorStateT.map(h=>unsafeClamp(floor(d+remainder(h)(f-d+1))))(applyGen.apply(functorStateT.map(numAdd)(m))(functorStateT.map(h=>2*h)(m)))},arbInt={arbitrary:chooseInt$p(-1e6)(1e6)},attributeParent_=o=>u=>f=>()=>{if(f.units[u.id]){const d=f.units[u.parent].main;f.units[u.id].main&&f.units[u.id].main.parentNode||f.units[u.id].startBeacon&&f.units[u.id].startBeacon.parentNode||(u.ez?(()=>(f.units[u.id].main?d.appendChild(f.units[u.id].main):(d.appendChild(f.units[u.id].startBeacon),d.appendChild(f.units[u.id].endBeacon)),!0))():o(u.pos)(h=>()=>o(u.dynFamily)(g=>()=>{for(var y=0,_=0,w;_<d.childNodes.length;){if(d.childNodes[_].nodeType===8&&d.childNodes[_].nodeValue==="%-%"+g){_+=1;break}_++}const $=b=>{f.units[u.id].startBeacon?(d.insertBefore(f.units[u.id].startBeacon,d.childNodes[b]),d.insertBefore(f.units[u.id].endBeacon,d.childNodes[b])):d.insertBefore(f.units[u.id].main,d.childNodes[b])};for(;_<d.childNodes.length;){var v;if((v=d.childNodes[_].$dekuId)&&o(f.units[v].dynFamily)(M=>()=>o(f.units[v].pos)(I=>()=>g===M&&h<=I?($(_),!0):!1)())())return!0;if(y===h||d.childNodes[_].nodeType===8&&d.childNodes[_].nodeValue==="%-%"+g+"%-%")return $(_),!0;d.childNodes[_].nodeType===8&&d.childNodes[_].nodeValue.substring(0,3)==="%-%"&&!w&&(w=d.childNodes[_].nodeValue+"%-%"),w||y++,d.childNodes[_].nodeType===8&&d.childNodes[_].nodeValue===w&&(w=void 0,y++),_++}return!1})())())||(u.parent.indexOf("@!%")!==-1?o(u.dynFamily)(g=>()=>(f.units[u.id].main?f.units[g].endBeacon.parentNode.insertBefore(f.units[u.id].main,f.units[g].endBeacon):(f.units[g].endBeacon.parentNode.insertBefore(f.units[u.id].endBeacon,f.units[g].endBeacon),f.units[g].endBeacon.parentNode.insertBefore(f.units[u.id].startBeacon,f.units[u.id].endBeacon)),!0))()||(f.units[u.id].main?d.parentNode.replaceChild(f.units[u.id].main,d):(d.parentNode.replaceChild(f.units[u.id].endBeacon,d),f.units[u.id].endBeacon.parentNode.insertBefore(f.units[u.id].startBeacon,f.units[u.id].endBeacon))):o(u.dynFamily)(g=>()=>(f.units[u.id].startBeacon?(d.insertBefore(f.units[u.id].startBeacon,f.units[g].endBeacon),d.insertBefore(f.units[u.id].endBeacon,f.units[g].endBeacon)):d.insertBefore(f.units[u.id].main,f.units[g].endBeacon),!0))()||(f.units[u.id].startBeacon?(d.appendChild(f.units[u.id].startBeacon),d.appendChild(f.units[u.id].endBeacon)):d.appendChild(f.units[u.id].main)))}},makeDynBeacon_=o=>u=>f=>d=>()=>{var m,h,g=f.id;if(d.scopes[f.scope]||(d.scopes[f.scope]=[]),d.scopes[f.scope].push(g),!o(f.parent)(()=>()=>d.hydrating&&u&&(m=d.allBeacons[f.id])&&(h=d.allBeacons[`${f.id}%-%`])?(d.units[g]={listeners:{},parent:f.parent,scope:f.scope,pos:f.pos,dynFamily:f.dynFamily,startBeacon:m,endBeacon:h},m.$dekuId=g,h.$dekuId=g,!0):!1)()){const _=document.createComment(`%-%${f.id}`),w=document.createComment(`%-%${f.id}%-%`);d.units[g]={listeners:{},parent:f.parent,dynFamily:f.dynFamily,scope:f.scope,pos:f.pos,startBeacon:_,endBeacon:w},_.$dekuId=g,w.$dekuId=g}},getDynFamily=o=>u=>()=>u.units[o]&&u.units[o].dynFamily?u.units[o].dynFamily:(()=>{throw new Error(`No positional information for ${o}`)})(),getParent=o=>u=>()=>u.units[o]&&u.units[o].main&&u.units[o].main.parentNode&&u.units[o].main.parentNode.$dekuId?u.units[o].main.parentNode.$dekuId:u.units[o]&&u.units[o].startBeacon&&u.units[o].startBeacon.parentNode&&u.units[o].startBeacon.parentNode.$dekuId?u.units[o].startBeacon.parentNode.$dekuId:(()=>{throw new Error(`No parent information for ${o}`)})(),getScope=o=>u=>()=>u.units[o]&&u.units[o].scope?u.units[o].scope:(()=>{throw new Error(`No scope information for ${o}`)})(),makeElement_=o=>u=>f=>d=>()=>{var m,h=f.id;if(d.scopes[f.scope]||(d.scopes[f.scope]=[]),d.scopes[f.scope].push(h),!o(f.parent)(()=>()=>d.hydrating&&u&&(m=document.documentElement.querySelector(`[data-deku-ssr="${h}"]`))?(d.units[h]={listeners:{},pos:f.pos,parent:f.parent,scope:f.scope,dynFamily:f.dynFamily,main:m},m.$dekuId=h,!0):!1)()){const y=document.createElement(f.tag);d.units[h]={listeners:{},parent:f.parent,pos:f.pos,scope:f.scope,dynFamily:f.dynFamily,main:y},y.$dekuId=h}},makeText_=o=>u=>f=>d=>m=>()=>{var h=d.id,g;if(m.scopes[d.scope]||(m.scopes[d.scope]=[]),m.scopes[d.scope].push(h),!o(d.parent)(_=>()=>{if(m.hydrating&&u&&(g=document.documentElement.querySelector(`[data-deku-ssr="${_}"]`))){for(var w=0;w<g.childNodes.length;w++){const M=h.split("@-@");if(g.childNodes[w].nodeType===8&&g.childNodes[w].nodeValue===M[0]){w=w-1;var $=w===-1,v=w>=0&&g.childNodes[w].nodeType===8;$&&g.prepend(document.createTextNode("")),v&&g.insertBefore(document.createTextNode(""),g.childNodes[w+1]);break}}const b=g.childNodes[w];return m.units[h]={main:b,pos:d.pos,parent:d.parent,scope:d.scope},b.$dekuId=h,!0}return!1})()){const _=document.createTextNode("");m.units[h]={main:_,parent:d.parent,scope:d.scope,pos:d.pos,dynFamily:d.dynFamily},_.$dekuId=h}};function makeFFIDOMSnapshot(){return{units:{},scopes:{},allBeacons:{}}}const setProp_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;f.hydrating&&o&&!f.units[d]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${d}"]`))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),f.units[d].main.tagName==="INPUT"&&u.key==="value"?f.units[d].main.value=m:f.units[d].main.tagName==="INPUT"&&u.key==="checked"?f.units[d].main.checked=m==="true":u.key==="disabled"?f.units[d].main.disabled=m==="true":f.units[d].main.setAttribute(u.key,m)}},setCb_=o=>u=>f=>()=>{if(f.units[u.id]){var d=u.id,m=u.value;if(f.hydrating&&o&&!f.units[d]&&(dom=document.documentElement.querySelector(`[data-deku-ssr="${d}"]`))&&(f.units[d]={listeners:{},parent:u.parent,scope:u.scope,main:dom},f.scopes[u.scope]||(f.scopes[u.scope]=[]),f.scopes[u.scope].push(d)),u.key==="@self@")m(f.units[d].main)();else{f.units[d].listeners[u.key]&&f.units[d].main.removeEventListener(u.key,f.units[d].listeners[u.key]);var h=g=>m(g)();f.units[d].main.addEventListener(u.key,h),f.units[d].listeners[u.key]=h}}},setText_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;u.units[f].main.nodeValue=o.text}},makePursx_=o=>u=>f=>d=>m=>()=>{var h,g,y=d.id,_=d.html,w=d.verb,$=d.cache,v=d.parent,b=d.scope,M=d.pxScope;const P=o(d.parent)(()=>()=>m.hydrating&&u&&(h=document.documentElement.querySelector(`[data-deku-ssr="${y}"]`))?(m.units[y]={listeners:{},pos:d.pos,scope:b,parent:v,main:h},h.$dekuId=y,!0):!1)();if(!P){const S=Object.entries($);for(var I=0;I<S.length;I++){const C=S[I][0];S[I][1]===!0?_=_.replace(w+C+w,'data-deku-attr-internal="'+C+'"'):_=_.replace(w+C+w,'<span style="display:contents;" data-deku-elt-internal="'+C+'"></span>')}g=document.createElement("div"),g.innerHTML=_.trim(),m.units[y]={listeners:{},pos:d.pos,scope:b,parent:v,main:g.firstChild},g.firstChild.$dekuId=y}m.scopes[b]||(m.scopes[b]=[]),m.scopes[b].push(y),g||(g=h),g.querySelectorAll("[data-deku-attr-internal]").forEach(function(S){var C=S.getAttribute("data-deku-attr-internal");const O=C+"@!%"+M;m.units[O]={listeners:{},main:S,scope:b},m.scopes[b].push(O)}),g.querySelectorAll("[data-deku-elt-internal]").forEach(function(S){var C=S.getAttribute("data-deku-elt-internal");const O=C+"@!%"+M;m.units[C+"@!%"+M]={listeners:{},main:S,scope:b},m.scopes[b].push(O)}),P||m.units[y].main.remove()},makeRoot_=o=>u=>()=>{var f=o.id;u.units[f]={main:o.root},o.root.$dekuId=f},giveNewParent_=o=>u=>f=>d=>()=>{const m=(P,I,S)=>{if(d.units[P].startBeacon){var C=d.units[P].startBeacon,O=C.nextSibling;for(d.units[I].main.insertBefore(C,S),C=O;C&&C!==d.units[P].endBeacon;)O=C.nextSibling,d.units[I].main.insertBefore(C,S),C=O}else d.units[I].main.insertBefore(d.units[P].main,S)},h=[];h.push(f);for(var g=0;g<h.length;g++){const P=h[g],I=P.id,S=P.parent;d.units[I].containingScope=P.scope;var y=void 0;u(P.pos)(O=>()=>(y=O,!0))(),y===void 0&&(y=Number.MAX_VALUE);const C=d.units[S].main.childNodes;for(var _=0,w=!1,$=0;_<C.length;){var v;if(v=C[_].$dekuId){if(u(P.dynFamily)(B=>()=>w?!1:d.units[v].endBeacon===C[_]&&B===v?(d.units[I].pos=o($),m(I,S,C[_]),!0):!1)()){w=!0;break}if(d.units[v].dynFamily!==d.units[I].dynFamily){_++;continue}if(w){_++;continue}$===y?(m(I,S,C[_]),$++,w=!0):d.units[v].endBeacon!==C[_]&&(d.units[v].pos=o($),$++)}_++}if(w)return;if(d.units[I].main)d.units[S].main.appendChild(d.units[I].main);else{var b=d.units[I].startBeacon,M=b.nextSibling;for(d.units[S].main.appendChild(b),b=M;b&&b!==d.units[I].endBeacon;)M=b.nextSibling,d.units[S].main.appendChild(b),b=M}}},disconnectElement_=o=>u=>()=>{if(u.units[o.id]){var f=o.id;if(u.units[f].containingScope&&!o.scopeEq(u.units[f].containingScope)(o.scope))return;if(u.units[f].main)u.units[f].main.remove();else{const h=document.createElement("div");var d=u.units[f].startBeacon,m=d.nextSibling;for(h.appendChild(d),d=m;d&&d!==u.units[f].endBeacon;)m=d.nextSibling,h.appendChild(d),d=m}}},deleteFromCache_$2=o=>u=>()=>{u.units[o.id]&&delete u.units[o.id]},removeDynBeacon_=deleteFromCache_$2,runOnJust=o=>u=>o.tag==="Just"?u(o._1):()=>!1,sendToPos=o=>u=>{const f=getScope(o.id)(u);return()=>{const d=f(),m=getParent(o.id)(u)(),h=getDynFamily(o.id)(u)();return giveNewParent_(Just)(runOnJust)({scope:d,parent:m,dynFamily:h,id:o.id,pos:$Maybe("Just",o.pos),ez:!1})(u)()}},fullDOMInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},makeElement:makeElement_(runOnJust)(!1),makeDynBeacon:makeDynBeacon_(runOnJust)(!1),attributeParent:attributeParent_(runOnJust),makeRoot:makeRoot_,makeText:makeText_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),makePursx:makePursx_(runOnJust)(!1)(u=>f=>{if(f.tag==="Nothing")return unit;if(f.tag==="Just")return u(f._1);fail$3()}),setProp:setProp_(!1),setCb:setCb_(!1),setText:setText_,sendToPos,removeDynBeacon:removeDynBeacon_,deleteFromCache:deleteFromCache_$2,giveNewParent:giveNewParent_(Just)(runOnJust),disconnectElement:disconnectElement_}),compactableArray={compact:o=>run$2(()=>{const u=newSTArray();return iterate($Iterator(d=>index(o)(d),{value:0}))((()=>{const d=map_(m=>unit);return m=>d((()=>{if(m.tag==="Nothing")return()=>0;if(m.tag==="Just")return pushAll([m._1])(u);fail$3()})())})())(),unsafeFreeze(u)()}),separate:o=>run$2(()=>{const u=newSTArray(),f=newSTArray();iterate($Iterator(g=>index(o)(g),{value:0}))((()=>{const g=map_(y=>unit);return y=>g((()=>{if(y.tag==="Left")return pushAll([y._1])(u);if(y.tag==="Right")return pushAll([y._1])(f);fail$3()})())})())();const m=unsafeFreeze(u)(),h=unsafeFreeze(f)();return{left:m,right:h}})},windowImpl=function(){return window},nullImpl=null;function nullable(o,u,f){return o==null?u:f(o)}function notNull(o){return o}function _unsafeReadProtoTagged(o,u,f,d){if(typeof window<"u"){var m=window[f];if(m!=null&&d instanceof m)return u(d)}for(var h=d;h!=null;){var g=Object.getPrototypeOf(h),y=g.constructor.name;if(y===f)return u(d);if(y==="Object")return o;h=g}return o}function _body(o){return function(){return o.body}}const body=o=>{const u=_body(o);return()=>{const f=u();return nullable(f,Nothing,Just)}};function document$1(o){return function(){return o.document}}function location(o){return function(){return o.location}}function innerWidth(o){return function(){return o.innerWidth}}function innerHeight(o){return function(){return o.innerHeight}}function alert(o){return function(u){return function(){u.alert(o)}}}function localStorage$1(o){return function(){return o.localStorage}}function requestAnimationFrame(o){return function(u){return function(){return u.requestAnimationFrame(o)}}}function requestIdleCallback(o){return function(u){return function(f){return function(){return f.requestIdleCallback(u,o)}}}}function cancelIdleCallback(o){return function(u){return function(){return u.cancelIdleCallback(o)}}}const runInElement$p=o=>u=>()=>{const f=makeFFIDOMSnapshot(),d={value:0};return subscribe(deku(o)(u)(fullDOMInterpret(d)))(m=>m(f))()},runInBody$p=o=>{const u=bindE(bindE(windowImpl)(document$1))(body);return()=>{const f=u();return f.tag==="Just"?runInElement$p(f._1)(o)():()=>unit}},log=function(o){return function(){console.log(o)}},error=function(o){return function(){console.error(o)}},info=function(o){return function(){console.info(o)}},logShow$1=o=>u=>log(o.show(u)),animationFrame=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!1},d=binding(()=>{const h=requestAnimationFrame((()=>{const g=o(unit);return()=>{g();const y=f.value;if(!y)return d()();if(y)return unit;fail$3()}})())(u);return()=>(h(),unit)});return d()(),()=>f.value=!0}))(),sampleBy=o=>u=>f=>d=>f(o.map(m=>h=>m(u(h)))(o.map(applyFlipped)(d))),applyABehavior=o=>{const u={map:f=>d=>m=>d(o.map(h=>g=>h(f(g)))(m))};return{apply:f=>d=>m=>d(f(o.map(semigroupoidFn.compose)(m))),Functor0:()=>u}},applicativeABehavior=o=>{const u=applyABehavior(o);return{pure:f=>d=>o.map(applyFlipped(f))(d),Apply0:()=>u}},onMatch=()=>()=>()=>o=>u=>f=>unsafeHas(f.type)(o)?unsafeGet(f.type)(o)(f.value):u(f),case_=o=>_crashWith("Data.Variant: pattern match failure ["+(o.type+"]")),foldlRecordNil={foldlRecordRowList:o=>u=>f=>d=>u},foldlRecordCons=o=>()=>u=>f=>({foldlRecordRowList:d=>m=>h=>g=>f.foldlRecordRowList(d)(u.foldingWithIndex(d)($$Proxy)(m)(unsafeGet(o.reflectSymbol($$Proxy))(g)))($$Proxy)(g)}),identity$o=o=>o,mapRecordWithIndexNil={mapRecordWithIndexBuilder:o=>u=>identity$o},mapRecordWithIndexCons=o=>u=>f=>()=>()=>({mapRecordWithIndexBuilder:d=>m=>{const h=modify()()(o)($$Proxy)(u.mappingWithIndex(m)($$Proxy)),g=f.mapRecordWithIndexBuilder($$Proxy)(m);return y=>h(g(y))}}),hmapRecord=()=>o=>({hmap:(()=>{const u=o.mapRecordWithIndexBuilder($$Proxy);return f=>{const d=u(f);return m=>d(copyRecord(m))}})()}),profunctorFn={dimap:o=>u=>f=>d=>u(f(o(d)))},identity$n=o=>o,strongFn=(()=>({first:o=>u=>$Tuple(o(u._1),u._2),second:functorTuple.map,Profunctor0:()=>profunctorFn}))(),fanout$1=o=>{const u=o.Semigroupoid0(),f=o.Semigroupoid0();return d=>{const m=d.Profunctor0().dimap;return h=>g=>u.compose(f.compose(d.second(g))(d.first(h)))(m(identity$n)(y=>$Tuple(y,y))(o.identity))}},fanout=fanout$1(categoryFn)(strongFn),affineTraversal=o=>u=>f=>d=>{const m=fanout(o)(u),h=d.Profunctor0().dimap;return g=>h(m)(y=>{if(y._2.tag==="Left")return y._2._1;if(y._2.tag==="Right")return y._1(y._2._1);fail$3()})(f.second(d.right(g)))},indexArray={ix:o=>u=>f=>affineTraversal(d=>m=>{const h=updateAt(o)(m)(d);if(h.tag==="Nothing")return d;if(h.tag==="Just")return h._1;fail$3()})(d=>{const m=index(d)(o);if(m.tag==="Nothing")return $Either("Left",d);if(m.tag==="Just")return $Either("Right",m._1);fail$3()})(u)(f)};function wrap(o){return function(u){return function(f){return o.apply(f,[u])}}}const toPrecisionNative=wrap(Number.prototype.toPrecision),toFixedNative=wrap(Number.prototype.toFixed),toExponentialNative=wrap(Number.prototype.toExponential),$Format=(o,u)=>({tag:o,_1:u}),clamp$3=o=>u=>f=>{const d=ordInt.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordInt.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},toStringWith=o=>{if(o.tag==="Precision")return toPrecisionNative(o._1);if(o.tag==="Fixed")return toFixedNative(o._1);if(o.tag==="Exponential")return toExponentialNative(o._1);fail$3()},choiceFn=(()=>({left:o=>u=>{if(u.tag==="Left")return $Either("Left",o(u._1));if(u.tag==="Right")return $Either("Right",u._1);fail$3()},right:functorEither.map,Profunctor0:()=>profunctorFn}))(),$AttributeValue=(o,u)=>({tag:o,_1:u}),$Class=()=>({tag:"Class"}),Class=$Class(),attrUl_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrSpan_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrP_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrLi_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrLabel_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrInput_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrImg_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrH2_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrH1_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrDiv_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},attrButton_ClassString={attr:o=>u=>({key:"class",value:$AttributeValue("Prop'",u)})},$Id=()=>({tag:"Id"}),Id=$Id(),attrButton_IdString={attr:o=>u=>({key:"id",value:$AttributeValue("Prop'",u)})},klass=o=>u=>(f,d)=>u(f,m=>{const h=o.attr(Class)(m);return d(h)}),klass_=o=>u=>klass(o)(applicativeEvent.pure(u)),id$1=o=>u=>(f,d)=>u(f,m=>{const h=o.attr(Id)(m);return d(h)}),id_=o=>u=>id$1(o)(applicativeEvent.pure(u)),$OnClick=()=>({tag:"OnClick"}),OnClick=$OnClick(),attrOnClickEffectUnit={attr:o=>u=>({key:"click",value:$AttributeValue("Cb'",f=>()=>(u(),!0))})},a$1=o=>u=>$Entity("Element'",elementify("a")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),button=o=>u=>$Entity("Element'",elementify("button")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),div=o=>u=>$Entity("Element'",elementify("div")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),h2=o=>u=>$Entity("Element'",elementify("h2")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),input=o=>u=>$Entity("Element'",elementify("input")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),label=o=>u=>$Entity("Element'",elementify("label")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),li=o=>u=>$Entity("Element'",elementify("li")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),p$1=o=>u=>$Entity("Element'",elementify("p")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),span=o=>u=>$Entity("Element'",elementify("span")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),ul=o=>u=>$Entity("Element'",elementify("ul")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u))));function _target(o){return o.target}function value(o){return function(){return o.value}}function valueAsNumber(o){return function(){return o.valueAsNumber}}const for_$6=for_$9(applicativeEffect)(foldableMaybe),slider=o=>(u,f)=>{const d=applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","range")})(u,f),m=o(u,h=>f({key:"input",value:$AttributeValue("Cb'",g=>()=>(for_$6((()=>{const y=nullable(_target(g),Nothing,Just);if(y.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",y._1);if(y.tag==="Nothing")return Nothing;fail$3()})())(y=>bindE(valueAsNumber(y))(h))(),!0))}));return()=>(d(),m())},click$7=o=>{const u=o.attr(OnClick);return f=>(d,m)=>f(d,h=>{const g=u(h);return m(g)})};function toRFC3896(o){return o.replace(/[!'()*]/g,function(u){return"%"+u.charCodeAt(0).toString(16)})}const _encodeURIComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)))}catch(m){return u(m)}},_encodeFormURLComponent=function(u,f,d){try{return f(toRFC3896(encodeURIComponent(d)).replace(/%20/g,"+"))}catch(m){return u(m)}};function _decodeURIComponent(o,u,f){try{return u(decodeURIComponent(f))}catch(d){return o(d)}}const oneOf$B=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),Reflectable$Dict$3={reflectType:()=>"~"},pursxToElementNil={pursxToElement:o=>u=>f=>({cache:empty$2,element:d=>m=>plusEvent.empty})},makePursx$p=o=>u=>()=>()=>f=>d=>m=>h=>$Entity("Element'",g=>y=>backdoor.makeLemmingEvent(_=>w=>()=>{const $=y.ids(),v=y.ids();g.raiseId($)();const b=f.pursxToElement(v)($$Proxy)(h),M=_(oneOf$B([applicativeEvent.pure(y.makePursx({id:$,parent:g.parent,cache:b.cache,dynFamily:g.dynFamily,pos:g.pos,pxScope:v,scope:g.scope,html:o.reflectType(m),verb:u.reflectType(d)})),b.element(g)(y),(()=>{if(g.parent.tag==="Nothing")return plusEvent.empty;if(g.parent.tag==="Just")return applicativeEvent.pure(y.attributeParent({id:$,parent:g.parent._1,pos:g.pos,dynFamily:g.dynFamily,ez:!1}));fail$3()})()]))(w)(),P=w(y.deleteFromCache({id:$}));return()=>(P(),M())})),loadingPage=makePursx$p({reflectType:()=>`
    <div class="wave-center">
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
      <div class="wave-loader"></div>
</div>`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),canvas=o=>u=>$Entity("Element'",elementify("canvas")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),monadEffectEffect={liftEffect:o=>o,Monad0:()=>monadEffect};function now(){return Date.now()}const animationFrameEvent=(()=>backdoor.makeEvent(o=>()=>{const u=windowImpl(),f={value:!0},d=binding(()=>{const h=requestAnimationFrame(()=>{const g=f.value,y=o(unit);return g?(y(),d()()):unit})(u);return()=>(h(),unit)});return d()(),()=>f.value=!1}))(),requestIdleCallbackIsDefined=()=>window.requestIdleCallback!==void 0,identity$m=o=>o,convertRecordOptionsNil={convertRecordOptions:o=>u=>f=>identity$m},convertRecordOptionsCons=o=>u=>()=>()=>()=>f=>({convertRecordOptions:d=>m=>h=>{const g=insert$1()()(f)($$Proxy)(u.convertOption(d)($$Proxy)(unsafeGet(f.reflectSymbol($$Proxy))(h))),y=o.convertRecordOptions(d)($$Proxy)(h);return _=>g(y(_))}}),identity$l=o=>o,mapAccum$c=mapAccum$e(eventIsEvent),withUnsubscribe=o=>backdoor.makeEvent(u=>()=>{const f={value:!0},d={value:()=>unit},m=subscribe(o)(g=>{const y=u({unsubscribe:()=>(f.value=!1,bindE(()=>d.value)(identity$v)()),value:g});return()=>f.value?y():unit})(),h=f.value;if(!h)return m(),()=>unit;if(h)return d.value=m,m;fail$3()}),scheduleCf=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:o},m={value:()=>unit},h=subscribe(u)(g=>()=>{const y=d.value,_=y(g);return f(force(_)._1)(),d.value=force(_)._2,unit})();return m.value=h,bindE(()=>m.value)(identity$v)}),emitUntil=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(withUnsubscribe(u))(m=>{const h=o(m.value);if(h.tag==="Just")return f(h._1);if(h.tag==="Nothing")return m.unsubscribe;fail$3()});return()=>d()}),oneOff=o=>u=>compactableEvent.compact(emitUntil(identity$l)(mapAccum$c(f=>d=>{const m=o(d);if(f)return $Tuple(!0,Nothing);if(m.tag==="Nothing")return $Tuple(!1,$Maybe("Just",Nothing));if(m.tag==="Just")return $Tuple(!0,$Maybe("Just",$Maybe("Just",m._1)));fail$3()})(!1)(u))),insert=o=>()=>()=>u=>f=>d=>unsafeSet(o.reflectSymbol(u))(f)(d),intercalate$1=function(o){return function(u){return u.join(o)}},genericShowArgsNoArguments={genericShowArgs:o=>[]},genericShowArgsProduct=o=>u=>({genericShowArgs:f=>concatArray(o.genericShowArgs(f._1))(u.genericShowArgs(f._2))}),genericShowConstructor=o=>u=>({"genericShow'":f=>{const d=u.reflectSymbol($$Proxy),m=o.genericShowArgs(f);return m.length===0?d:"("+(intercalate$1(" ")(concatArray([d])(m))+")")}}),runEffectFn1=function(u){return function(f){return function(){return u(f)}}};function unsafeReadPropImpl(o,u,f,d){return d==null?o:u(d[f])}const unsafeReadProp=o=>{const u=monadThrowExceptT(o).throwError,f=applicativeExceptT$3(o).pure;return d=>m=>unsafeReadPropImpl(u($NonEmpty($ForeignError("TypeMismatch","object",typeOf(m)),Nil)),f,d,m)},_parseJSON=JSON.parse,_undefined=void 0,_unsafeStringify=JSON.stringify,applicativeExceptT$2=applicativeExceptT$3(monadIdentity),bindExceptT=bindExceptT$1(monadIdentity),identity$k=o=>o,traverseWithIndex=(()=>traversableWithIndexArray.traverseWithIndex(applicativeExceptT$2))(),readArray1=readArray$1(monadIdentity),readProp=unsafeReadProp(monadIdentity),writeJSON$1=o=>u=>_unsafeStringify(o.writeImpl(u)),writeForeignString={writeImpl:unsafeCoerce},writeForeignNumber={writeImpl:unsafeCoerce},writeForeignInt={writeImpl:unsafeCoerce},writeForeignBoolean={writeImpl:unsafeCoerce},readString={readImpl:unsafeReadTagged$2(monadIdentity)("String")},readNumber={readImpl:unsafeReadTagged$2(monadIdentity)("Number")},readInt={readImpl:readInt$1(monadIdentity)},readMaybe$3=o=>({readImpl:u=>{if(isNull(u)||isUndefined(u))return applicativeExceptT$2.pure(Nothing);const f=o.readImpl(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$Maybe("Just",f._1));fail$3()}}),readFieldsNil={getFields:o=>u=>applicativeExceptT$2.pure(identity$k)},readBoolean={readImpl:unsafeReadTagged$2(monadIdentity)("Boolean")},readArray=o=>({readImpl:(()=>{const u=traverseWithIndex(f=>d=>withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtIndex(f)))(o.readImpl(d)));return f=>bindExceptT.bind(readArray1(f))(u)})()}),parseJSON=(()=>{const o=bifunctorEither.bimap(f=>$NonEmpty($ForeignError("ForeignError",message(f)),Nil))(identity$s),u=runEffectFn1(_parseJSON);return f=>o(unsafePerformEffect((()=>{const d=u(f);return catchException(m=>()=>$Either("Left",m))(()=>{const m=d();return $Either("Right",m)})})()))})(),readJSON$2=o=>u=>bindExceptT.bind(parseJSON(u))(o.readImpl),nilWriteForeignFields={writeImplFields:o=>u=>identity$k},readRecord=()=>o=>({readImpl:u=>{const f=o.getFields($$Proxy)(u);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",f._1({}));fail$3()}}),consWriteForeignFields$1=o=>u=>f=>()=>()=>()=>({writeImplFields:d=>m=>{const h=insert$1()()(o)($$Proxy)(u.writeImpl(unsafeGet(o.reflectSymbol($$Proxy))(m))),g=f.writeImplFields($$Proxy)(m);return y=>h(g(y))}}),applyEither=o=>u=>f=>{if(u.tag==="Left"){if(f.tag==="Right")return $Either("Left",u._1);if(f.tag==="Left")return $Either("Left",o.append(u._1)(f._1));fail$3()}if(u.tag==="Right"){if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",u._1(f._1));fail$3()}fail$3()},exceptTApply=o=>u=>{const f=u.Apply0(),d=f.Functor0().map;return m=>h=>f.apply(d(applyEither(o))(m))(h)},exceptTApply1=exceptTApply(semigroupNonEmptyList)(applicativeIdentity),readFieldsCons$1=o=>u=>f=>()=>()=>({getFields:d=>m=>{const h=o.reflectSymbol($$Proxy);return exceptTApply1((()=>{const g=bindExceptT.bind(withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtProperty(h)))(bindExceptT.bind(readProp(h)(m))(u.readImpl)))(y=>applicativeExceptT$2.pure(insert$1()()(o)($$Proxy)(y)));if(g.tag==="Left")return $Either("Left",g._1);if(g.tag==="Right")return $Either("Right",semigroupoidFn.compose(g._1));fail$3()})())(f.getFields($$Proxy)(m))}}),_on={type:"on",value:unit},_off={type:"off",value:unit},$PlayBufOptions=()=>({tag:"PlayBufOptions"}),identity$j=o=>o,PlayBufOptions=$PlayBufOptions(),initialGainNumber={toInitializeGain:o=>({gain:o})},initialConvolverBrowserAu={toInitializeConvolver:o=>({buffer:o})},convertOptionPlayBufOptio={convertOption:o=>u=>identity$j},defaultPlayBuf={bufferOffset:0,playbackRate:1,duration:Nothing},oneOf$A=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),__internalOcarinaFlatten=flatten({doLogic:absurd,ids:o=>o.ids,disconnectElement:o=>u=>o.disconnectXFromY({from:u.id,to:u.parent}),toElt:o=>o}),convolver=o=>u=>f=>{const d=o.toInitializeConvolver(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$A([applicativeEvent.pure(h.makeConvolver({id:_,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer})),__internalOcarinaFlatten({parent:$Maybe("Just",_),scope:m.scope,raiseId:v=>()=>unit})(h)($Entity("FixedChildren'",f))]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())}))},speaker=o=>u=>backdoor.makeLemmingEvent(f=>d=>()=>{const m=u.ids();return d(u.makeSpeaker({id:m}))(),f(__internalOcarinaFlatten({parent:$Maybe("Just",m),scope:$Scope("Local","toplevel"),raiseId:h=>()=>unit})(u)($Entity("FixedChildren'",o)))(d)()}),tmpResolveAU=o=>u=>f=>d=>onMatch()()()({numeric:m=>applicativeEvent.pure(f({type:"numeric",value:m})),envelope:m=>applicativeEvent.pure(f({type:"envelope",value:m})),cancel:m=>applicativeEvent.pure(f({type:"cancel",value:m})),sudden:m=>applicativeEvent.pure(f({type:"sudden",value:m})),unit:m=>{const h=gain_(initialGainNumber)(1)([m.u]);return backdoor.makeLemmingEvent(g=>y=>()=>{const _={value:Nothing};return g((()=>{const w=__internalOcarinaFlatten({parent:Nothing,scope:o,raiseId:v=>()=>(_.value=$Maybe("Just",v),unit)})(u)(h),$=backdoor.makeLemmingEvent(v=>b=>()=>{const M=_.value;return(()=>{if(M.tag==="Nothing")return()=>unit;if(M.tag==="Just")return b(f({type:"unit",value:{i:M._1}}));fail$3()})()(),()=>unit});return(v,b)=>{const M=w(v,b),P=$(v,b);return()=>(M(),P())}})())(y)()})}})(case_)(d),gain_=o=>u=>f=>gain(o)(u)(plusEvent.empty)(f),gain=o=>u=>f=>d=>{const m=o.toInitializeGain(u);return $Entity("Element'",h=>g=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=g.ids();h.raiseId(w)();const $=y(oneOf$A([applicativeEvent.pure(g.makeGain({id:w,parent:h.parent,scope:(()=>{if(h.scope.tag==="Global")return Nothing;if(h.scope.tag==="Local")return $Maybe("Just",h.scope._1);fail$3()})(),gain:m.gain})),keepLatest((b,M)=>f(b,P=>{const I=onMatch()()()({gain:tmpResolveAU(h.scope)(g)(S=>g.setGain({id:w,gain:S}))})(case_)(P);return M(I)})),__internalOcarinaFlatten({parent:$Maybe("Just",w),scope:h.scope,raiseId:b=>()=>unit})(g)($Entity("FixedChildren'",d))]))(_)(),v=_(g.deleteFromCache({id:w}));return()=>(v(),$())}))},__playBuf=o=>u=>f=>{const d=o.toInitializePlayBuf(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$A([applicativeEvent.pure(h.makePlayBuf({id:_,parent:m.parent,scope:(()=>{if(m.scope.tag==="Global")return Nothing;if(m.scope.tag==="Local")return $Maybe("Just",m.scope._1);fail$3()})(),buffer:d.buffer,playbackRate:d.playbackRate,bufferOffset:d.bufferOffset,duration:d.duration})),keepLatest((v,b)=>f(v,M=>{const P=onMatch()()()({buffer:I=>applicativeEvent.pure(h.setBuffer({id:_,buffer:I})),playbackRate:tmpResolveAU(m.scope)(h)(I=>h.setPlaybackRate({id:_,playbackRate:I})),bufferOffset:I=>applicativeEvent.pure(h.setBufferOffset({id:_,bufferOffset:I})),onOff:I=>applicativeEvent.pure(h.setOnOff({id:_,onOff:I})),duration:I=>applicativeEvent.pure(h.setDuration({id:_,duration:I}))})(case_)(M);return b(P)}))]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())}))},playBuf$5=o=>__playBuf(o),playBuf$4=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$z=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph$1=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,g=>h(g)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,g=>h(g)))))]),convolver(initialConvolverBrowserAu)(o.longVerb)([$Entity("DynamicChildren'",(u,f)=>o.longs(u,d=>f((m,h)=>d(m,g=>h(g)))))]),gain_(initialGainNumber)(1)([playBuf$4({buffer:o.silence})(oneOf$z([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),g=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(g)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>.94?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const g=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return g*1+(m.prevTime._1-g*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])];var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var stats_min={exports:{}};(function(o,u){(function(f,d){o.exports=d()})(commonjsGlobal,function(){var f=function(){function d(M){return g.appendChild(M.dom),M}function m(M){for(var P=0;P<g.children.length;P++)g.children[P].style.display=P===M?"block":"none";h=M}var h=0,g=document.createElement("div");g.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",g.addEventListener("click",function(M){M.preventDefault(),m(++h%g.children.length)},!1);var y=(performance||Date).now(),_=y,w=0,$=d(new f.Panel("FPS","#0ff","#002")),v=d(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var b=d(new f.Panel("MB","#f08","#201"));return m(0),{REVISION:16,dom:g,addPanel:d,showPanel:m,begin:function(){y=(performance||Date).now()},end:function(){w++;var M=(performance||Date).now();if(v.update(M-y,200),M>_+1e3&&($.update(1e3*w/(M-_),100),_=M,w=0,b)){var P=performance.memory;b.update(P.usedJSHeapSize/1048576,P.jsHeapSizeLimit/1048576)}return M},update:function(){y=this.end()},domElement:g,setMode:m}};return f.Panel=function(d,m,h){var g=1/0,y=0,_=Math.round,w=_(window.devicePixelRatio||1),$=80*w,v=48*w,b=3*w,M=2*w,P=3*w,I=15*w,S=74*w,C=30*w,O=document.createElement("canvas");O.width=$,O.height=v,O.style.cssText="width:80px;height:48px";var B=O.getContext("2d");return B.font="bold "+9*w+"px Helvetica,Arial,sans-serif",B.textBaseline="top",B.fillStyle=h,B.fillRect(0,0,$,v),B.fillStyle=m,B.fillText(d,b,M),B.fillRect(P,I,S,C),B.fillStyle=h,B.globalAlpha=.9,B.fillRect(P,I,S,C),{dom:O,update:function(N,R){g=Math.min(g,N),y=Math.max(y,N),B.fillStyle=h,B.globalAlpha=1,B.fillRect(0,0,$,I),B.fillStyle=m,B.fillText(_(N)+" "+d+" ("+_(g)+"-"+_(y)+")",b,M),B.drawImage(O,P+w,I,S-w,C,P,I,S-w,C),B.fillRect(P+S-w,I,w,C),B.fillStyle=h,B.globalAlpha=.9,B.fillRect(P+S-w,I,w,_((1-N/R)*C))}}},f})})(stats_min);const Stats=stats_min.exports,makeStats=()=>{const o=new Stats;return document.body.appendChild(o.dom),o},beginStats=o=>{o.begin()},endStats=o=>{o.end()},animationFrameEventWithStats=o=>backdoor.makeEvent(u=>()=>{const f=windowImpl(),d={value:!0},m=binding(()=>{const g=requestAnimationFrame(()=>{beginStats(o);const y=d.value,_=u(unit);return(()=>y?()=>(_(),m()()):()=>unit)()(),endStats(o)})(f);return()=>(g(),unit)});return m()(),()=>d.value=!1}),refToBehavior=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o.value;return f(d(m))()})),misbehavior=o=>u=>f=>compactableEvent.compact(sampleBy(functorEvent)(d=>m=>{const h=o(d);if(h.tag==="Nothing")return Nothing;if(h.tag==="Just")return $Maybe("Just",m(h._1));fail$3()})(u)(f)),howShouldIBehave=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m={value:o},h=subscribe(u)(y=>()=>(m.value=y,unit))(),g=subscribe(f)(y=>()=>{const _=m.value,w=_();return d(y(w))()})();return()=>(h(),g())}),$RequestHeader=(o,u,f)=>({tag:o,_1:u,_2:f}),$ResponseFormat=(o,u)=>({tag:o,_1:u}),identity$i=o=>o,$ResponseHeader=(o,u)=>({tag:"ResponseHeader",_1:o,_2:u}),ResponseHeader=o=>u=>$ResponseHeader(o,u);function id(o){return o}function stringify$1(o){return JSON.stringify(o)}const jsonEmptyObject=empty$2;function _jsonParser(o,u,f){try{return u(JSON.parse(f))}catch(d){return o(d.message)}}const traverse$4=(()=>traversableArray.traverse(applicativeMaybe))(),encode=(()=>{const o=functorMaybe.map(joinWith("&")),u=traverse$4(f=>{if(f._2.tag==="Nothing")return _encodeFormURLComponent(d=>Nothing,Just,f._1);if(f._2.tag==="Just")return applyMaybe.apply((()=>{const d=_encodeFormURLComponent(m=>Nothing,Just,f._1);return d.tag==="Just"?$Maybe("Just",m=>d._1+("="+m)):Nothing})())(_encodeFormURLComponent(d=>Nothing,Just,f._2._1));fail$3()});return f=>o(u(f))})(),$Method=o=>({tag:o}),GET=$Method("GET"),print=o=>{if(o.tag==="Left"){if(o._1.tag==="OPTIONS")return"OPTIONS";if(o._1.tag==="GET")return"GET";if(o._1.tag==="HEAD")return"HEAD";if(o._1.tag==="POST")return"POST";if(o._1.tag==="PUT")return"PUT";if(o._1.tag==="DELETE")return"DELETE";if(o._1.tag==="TRACE")return"TRACE";if(o._1.tag==="CONNECT")return"CONNECT";if(o._1.tag==="PROPFIND")return"PROPFIND";if(o._1.tag==="PROPPATCH")return"PROPPATCH";if(o._1.tag==="MKCOL")return"MKCOL";if(o._1.tag==="COPY")return"COPY";if(o._1.tag==="MOVE")return"MOVE";if(o._1.tag==="LOCK")return"LOCK";if(o._1.tag==="UNLOCK")return"UNLOCK";if(o._1.tag==="PATCH")return"PATCH";fail$3()}if(o.tag==="Right")return o._1;fail$3()},fromEffectFnAff=o=>makeAff(u=>()=>{const f=o(d=>u($Either("Left",d))(),d=>u($Either("Right",d))());return d=>makeAff(m=>()=>(f(d,h=>m($Either("Left",h))(),h=>m($Either("Right",h))()),nonCanceler))});function _ajax(o,u,f,d,m){return function(h,g){var y=o.newXHR(),_=o.fixupUrl(m.url,y);if(y.open(m.method||"GET",_,!0,m.username,m.password),m.headers)try{for(var w=0,$;($=m.headers[w])!=null;w++)y.setRequestHeader($.field,$.value)}catch(b){h(b)}var v=function(b){return function(){h(new Error(b))}};return y.onerror=v(f),y.ontimeout=v(u),y.onload=function(){g({status:y.status,statusText:y.statusText,headers:y.getAllResponseHeaders().split(`\r
`).filter(function(b){return b.length>0}).map(function(b){var M=b.indexOf(":");return d(b.substring(0,M))(b.substring(M+2))}),body:y.response})},y.responseType=m.responseType,y.withCredentials=m.withCredentials,y.timeout=m.timeout,y.send(m.content),function(b,M,P){try{y.abort()}catch(I){return M(I)}return P()}}}const $Error=(o,u,f)=>({tag:o,_1:u,_2:f}),pure$3=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$2=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),unsafeReadTagged=unsafeReadTagged$2(monadIdentity),alt=(()=>altExceptT(semigroupNonEmptyList)(monadIdentity).alt)(),any=(()=>foldableArray.foldMap((()=>{const o={append:u=>f=>u||f};return{mempty:!1,Semigroup0:()=>o}})()))(),$$try$1=$$try$2(monadErrorAff),TimeoutError=$Error("TimeoutError"),RequestFailedError=$Error("RequestFailedError"),request=o=>u=>{const f=(()=>{if(u.responseFormat.tag==="ArrayBuffer")return unsafeReadTagged("ArrayBuffer");if(u.responseFormat.tag==="Blob")return unsafeReadTagged("Blob");if(u.responseFormat.tag==="Document")return m=>alt(unsafeReadTagged("Document")(m))(alt(unsafeReadTagged("XMLDocument")(m))(unsafeReadTagged("HTMLDocument")(m)));if(u.responseFormat.tag==="Json"){const m=bindExceptT$1(monadIdentity),h=unsafeReadTagged("String");return g=>m.bind(h(g))(y=>u.responseFormat._1((()=>{if(y==="")return pure$3(jsonEmptyObject);const _=_jsonParser(Left,Right,y);if(_.tag==="Left")return fail$2($ForeignError("ForeignError",_._1));if(_.tag==="Right")return pure$3(_._1);fail$3()})()))}if(u.responseFormat.tag==="String")return unsafeReadTagged("String");if(u.responseFormat.tag==="Ignore"){const m=u.responseFormat._1(pure$3(unit));return h=>m}fail$3()})(),d=m=>_map(h=>{if(h.tag==="Right"){const g=f(h._1.body);if(g.tag==="Left")return $Either("Left",$Error("ResponseBodyError",g._1._1,h._1));if(g.tag==="Right")return $Either("Right",{body:g._1,headers:h._1.headers,status:h._1.status,statusText:h._1.statusText});fail$3()}if(h.tag==="Left")return $Either("Left",(()=>{const g=message(h._1);return g==="AffjaxTimeoutErrorMessageIdent"?TimeoutError:g==="AffjaxRequestFailedMessageIdent"?RequestFailedError:$Error("XHROtherError",h._1)})());fail$3()})($$try$1(fromEffectFnAff(_ajax(o,"AffjaxTimeoutErrorMessageIdent","AffjaxRequestFailedMessageIdent",ResponseHeader,{method:print(u.method),url:u.url,headers:arrayMap(h=>({field:(()=>{if(h.tag==="Accept")return"Accept";if(h.tag==="ContentType")return"Content-Type";if(h.tag==="RequestHeader")return h._1;fail$3()})(),value:(()=>{if(h.tag==="Accept"||h.tag==="ContentType")return h._1;if(h.tag==="RequestHeader")return h._2;fail$3()})()}))((()=>{const h=(()=>{if(u.content.tag==="Just")return u.content._1.tag==="FormURLEncoded"?$Maybe("Just","application/x-www-form-urlencoded"):u.content._1.tag==="Json"?$Maybe("Just","application/json"):Nothing;if(u.content.tag==="Nothing")return Nothing;fail$3()})();if(h.tag==="Just"){if(u.responseFormat.tag==="Json"){const g=(()=>any(y=>{if(y.tag==="Accept")return!0;if(y.tag==="ContentType")return!1;if(y.tag==="RequestHeader")return y._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)))();return any(y=>{if(y.tag==="Accept")return!1;if(y.tag==="ContentType")return!0;if(y.tag==="RequestHeader")return y._1==="Content-Type";fail$3()})(g)?g:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(g))}return any(g=>{if(g.tag==="Accept")return!1;if(g.tag==="ContentType")return!0;if(g.tag==="RequestHeader")return g._1==="Content-Type";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("ContentType",h._1)]))(u.headers))}return u.responseFormat.tag==="Json"?any(g=>{if(g.tag==="Accept")return!0;if(g.tag==="ContentType")return!1;if(g.tag==="RequestHeader")return g._1==="Accept";fail$3()})(u.headers)?u.headers:run$2(withArray(pushAll([$RequestHeader("Accept","application/json")]))(u.headers)):u.headers})()),content:m,responseType:(()=>{if(u.responseFormat.tag==="ArrayBuffer")return"arraybuffer";if(u.responseFormat.tag==="Blob")return"blob";if(u.responseFormat.tag==="Document")return"document";if(u.responseFormat.tag==="Json"||u.responseFormat.tag==="String")return"text";if(u.responseFormat.tag==="Ignore")return"";fail$3()})(),username:(()=>{if(u.username.tag==="Nothing")return nullImpl;if(u.username.tag==="Just")return u.username._1;fail$3()})(),password:(()=>{if(u.password.tag==="Nothing")return nullImpl;if(u.password.tag==="Just")return u.password._1;fail$3()})(),withCredentials:u.withCredentials,timeout:(()=>u.timeout.tag==="Just"?u.timeout._1:0)()}))));if(u.content.tag==="Nothing")return d(nullImpl);if(u.content.tag==="Just"){if(u.content._1.tag==="ArrayView")return d(u.content._1._1(unsafeCoerce));if(u.content._1.tag==="Blob"||u.content._1.tag==="Document"||u.content._1.tag==="String"||u.content._1.tag==="FormData")return d(u.content._1._1);if(u.content._1.tag==="FormURLEncoded"){const m=encode(u.content._1._1);return m.tag==="Just"?d(m._1):_pure($Either("Left",$Error("RequestContentError","Body contains values that cannot be encoded as application/x-www-form-urlencoded")))}if(u.content._1.tag==="Json")return d(stringify$1(u.content._1._1));fail$3()}fail$3()},printError=o=>{if(o.tag==="RequestContentError")return"There was a problem with the request content: "+o._1;if(o.tag==="ResponseBodyError")return"There was a problem with the response body: "+renderForeignError(o._1);if(o.tag==="TimeoutError")return"There was a problem making the request: timeout";if(o.tag==="RequestFailedError")return"There was a problem making the request: request failed";if(o.tag==="XHROtherError")return"There was a problem making the request: "+message(o._1);fail$3()},driver={newXHR:function(){return new XMLHttpRequest},fixupUrl:function(o){return o||"/"}};function dateMethod(o,u){return u[o]()}function parse$1(o){return function(){return new Date(o)}}const readJSON$1=readJSON$2(readRecord()(readFieldsCons$1({reflectSymbol:()=>"datetime"})(readString)(readFieldsNil)()())),show1$4=(()=>showNonEmptyList$1(showForeignError).show)(),clamp$2=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},withCTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>()=>{const m=o();return f({time:m,value:d})()})),halfITime=intDiv(2e3)(2),cnow=()=>{const o={value:0},u={value:0},f={value:Nothing},d=setIntervalImpl(2e3)((()=>{const m=_makeFiber(ffiUtil$1,_bind(_liftEffect(now))(h=>_bind(request(driver)({method:$Either("Left",GET),url:"https://worldtimeapi.org/api/ip",headers:[],content:Nothing,username:Nothing,password:Nothing,withCredentials:!1,responseFormat:$ResponseFormat("String",identity$i),timeout:Nothing}))(g=>{if(g.tag==="Left")return _liftEffect(error(showStringImpl(printError(g._1))));if(g.tag==="Right"){const y=readJSON$1(g._1.body);if(y.tag==="Left")return _liftEffect(error(show1$4(y._1)));if(y.tag==="Right")return _liftEffect(()=>{const _=now(),w=parse$1(y._1.datetime)(),$=u.value;return o.value=$,u.value=(_+h)/2-dateMethod("getTime",w),f.value=$Maybe("Just",_)});fail$3()}fail$3()})));return()=>(m().run(),unit)})())();return{unsubscribe:clearIntervalImpl(d),cnow:()=>{const m=f.value,h=now();if(m.tag==="Nothing")return{time:h,diff:0,pdiff:0};if(m.tag==="Just"){const g=clamp$2(0)(1)((h-m._1)/toNumber(halfITime)),y=o.value,_=u.value;return{time:h-(y*(1-g)+_*g),diff:_,pdiff:y}}fail$3()}}},cInstant=o=>u=>{const f=withCTime(o)(u);return(d,m)=>f(d,h=>{const g=h.value(h.time);return m(g)})},mapAccum$b=mapAccum$e(eventIsEvent),apply=(()=>applyABehavior(functorEvent).apply)(),timeFromRate=o=>u=>f=>mapAccum$b(d=>m=>{const h=(()=>{if(d.prevTime.tag==="Nothing")return(m.acTime-0)/m.behaviors.clength;if(d.prevTime.tag==="Just")return(m.acTime-d.prevTime._1)/m.behaviors.clength;fail$3()})()+(()=>{if(d.prevBeats.tag==="Nothing")return 0;if(d.prevBeats.tag==="Just")return d.prevBeats._1;fail$3()})();return $Tuple({prevTime:$Maybe("Just",m.acTime),prevBeats:$Maybe("Just",h)},{prevTime:d.prevTime,prevBeats:d.prevBeats,time:m.acTime,beats:h,epochTime:m.behaviors.epochTime})})({prevTime:Nothing,prevBeats:Nothing})(sampleBy(functorEvent)(d=>m=>({behaviors:d,acTime:m}))(apply(d=>u((m,h)=>d(m,g=>h(y=>g(_=>({clength:y.rate,epochTime:_}))))))(d=>cInstant(o)((m,h)=>d(m,g=>h(y=>g(y))))))((d,m)=>f(d,h=>m(h.real)))),initializeWithEmpty=o=>u=>f=>(d,m)=>{const h=applicativeEvent.pure(o.empty)(d,m),g=f(d,y=>m(u.pure(y)));return()=>(h(),g())},emitsTouchEvents=()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}};function _getItem(o){return function(u){return function(){return u.getItem(o)}}}function setItem(o){return function(u){return function(f){return function(){f.setItem(o,u)}}}}const getItem=o=>{const u=_getItem(o);return f=>{const d=u(f);return()=>{const m=d();return nullable(m,Nothing,Just)}}},fullscreenEnabled=()=>!!document.fullscreenEnabled,requestFullScreen=o=>u=>()=>{if(document.body.requestFullscreen)return document.body.requestFullscreen().then(u,o);o(),Promise.reject()},exitFullScreen=o=>u=>()=>{if(document.exitFullscreen)return document.fullscreenElement?document.exitFullscreen().then(u,o):Promise.resolve(u());o(),Promise.reject()},simpleExitFullScreen=exitFullScreen(()=>unit)(()=>unit),fullScreenFlow=o=>()=>{const u=emitsTouchEvents();if(!u)return o();if(u){const f=windowImpl(),d=localStorage$1(f)(),m=getItem("full-screen-grant-state")(d)(),h=()=>fullscreenEnabled()?requestFullScreen(()=>(setItem("full-screen-grant-state")("denied")(d)(),o()))(()=>(setItem("full-screen-grant-state")("granted")(d)(),o()))():o();if(m.tag==="Nothing")return h();if(m.tag==="Just")return m._1==="granted"?h():o();fail$3()}fail$3()},distinctColors=["#b09b34","#3c66e8","#e99084","#88502e","#39c14a","#9139b6","#80ce4f","#985fe0","#6ab337","#d071e6","#41961c","#c047b4","#49cc70","#c23198","#34a54f","#724fbe","#aec334","#835d26","#a94153","#3c4dbb","#d0b737","#235fc9","#749e20","#646bde","#97ad3f","#987dee","#378736","#ef6ecf","#4acd95","#e84c93","#69aa55","#8d4aaa","#8ec677","#554baa","#e5a43e","#4483f2","#e2751e","#5e64c1","#6c8121","#bc87e0","#3f7429","#bd67ba","#445a06","#6f87de","#bb8028","#499ae1","#e13f3d","#4ed1c3","#ad7b4c","#8a4756","#e8426a","#3f9f72","#c72b67","#73bf95","#9c418c","#7c9d57","#644999","#7a781f","#8567bb","#576c1c","#864490","#beba6f","#3464ab","#e46b42","#36bddc","#b23b1a","#6ab0e1","#b42d3b","#31a49d","#ab356f","#3b8251","#dc7ab6","#b26462","#a6503b","#296437","#cca0e2","#5b5b10","#969de0","#8f711c","#625ca1","#dc8651","#4280b1","#a2571e","#5d679c","#705d18","#764e90","#476025","#9577b8","#69773d","#e999c0","#1a6447","#de6762","#368166","#df728d","#5f5c28","#ae6b9c","#978c4d","#864e78","#dda573","#9a456a"],buttonCls="my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded",buttonActiveCls="my-4 bg-white hover:bg-slate-300 text-black font-semibold hover:text-zinc-100 py-2 px-4 border border-slate-300 hover:border-transparent rounded",mapAccum$a=mapAccum$e(eventIsEvent),lpf=o=>mapAccum$a(u=>f=>$Tuple($Maybe("Just",f),(()=>{if(u.tag==="Nothing")return f;if(u.tag==="Just")return u._1*o+f*(1-o);fail$3()})()))(Nothing),vbust$2=()=>o=>u=>f=>vbackdoor.vbus()(o)(u)(d=>m=>f($Tuple(d,m))),mapAccum$9=mapAccum$e(eventIsEvent),dedup$p=o=>u=>compactableEvent.compact(mapAccum$9(f=>d=>$Tuple($Maybe("Just",d),(()=>{if(f.tag==="Nothing")return $Maybe("Just",d);if(f.tag==="Just")return o(f._1)(d)?Nothing:$Maybe("Just",d);fail$3()})()))(Nothing)(u)),dedup=o=>dedup$p(o.eq),$Column=o=>({tag:o}),$EventV0=(o,u)=>({tag:o,_1:u}),$Event_=o=>({tag:"EventV0",_1:o}),$Position=o=>({tag:o}),$Track=o=>({tag:"TrackV0",_1:o}),$Version=o=>({tag:"Version",_1:o}),ownerIsSymbol={reflectSymbol:()=>"owner"},privateIsSymbol={reflectSymbol:()=>"private"},titleIsSymbol={reflectSymbol:()=>"title"},writeForeignMaybe$2={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},urlIsSymbol={reflectSymbol:()=>"url"},versionIsSymbol$1={reflectSymbol:()=>"version"},Reflectable$Dict$2={reflectType:()=>0},whitelistIsSymbol={reflectSymbol:()=>"whitelist"},readImpl=(()=>readMaybe$3(readArray(readString)).readImpl)(),bind$1=(()=>bindExceptT$1(monadIdentity).bind)(),pure$2=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail$1=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$2=readMaybe$3(readString),_typeIsSymbol$1={reflectSymbol:()=>"_type"},readImpl3$1=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol$1)(readString)(readFieldsNil)()()).readImpl)(),columnIsSymbol={reflectSymbol:()=>"column"},marker1AudioURLIsSymbol={reflectSymbol:()=>"marker1AudioURL"},marker1TimeIsSymbol={reflectSymbol:()=>"marker1Time"},marker2AudioURLIsSymbol={reflectSymbol:()=>"marker2AudioURL"},marker2TimeIsSymbol={reflectSymbol:()=>"marker2Time"},marker3AudioURLIsSymbol={reflectSymbol:()=>"marker3AudioURL"},marker3TimeIsSymbol={reflectSymbol:()=>"marker3Time"},marker4AudioURLIsSymbol={reflectSymbol:()=>"marker4AudioURL"},marker4TimeIsSymbol={reflectSymbol:()=>"marker4Time"},nameIsSymbol$1={reflectSymbol:()=>"name"},audioURLIsSymbol={reflectSymbol:()=>"audioURL"},positionIsSymbol={reflectSymbol:()=>"position"},lengthIsSymbol={reflectSymbol:()=>"length"},Position1=$Position("Position1"),Position2=$Position("Position2"),Position3=$Position("Position3"),Position4=$Position("Position4"),C1=$Column("C1"),C2=$Column("C2"),C3=$Column("C3"),C4=$Column("C4"),C5=$Column("C5"),C6=$Column("C6"),C7=$Column("C7"),C8=$Column("C8"),C9=$Column("C9"),C10=$Column("C10"),C11=$Column("C11"),C12=$Column("C12"),C13=$Column("C13"),C14=$Column("C14"),C15=$Column("C15"),C16=$Column("C16"),C17=$Column("C17"),EventV0=o=>$Event_(o),writeForeignWhitelist={writeImpl:o=>arrayMap(unsafeCoerce)(o)},writeImpl3$1=(()=>{const o=consWriteForeignFields$1(ownerIsSymbol)(writeForeignString)(consWriteForeignFields$1(privateIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(titleIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(urlIsSymbol)(writeForeignString)(consWriteForeignFields$1(versionIsSymbol$1)({writeImpl:u=>0})(consWriteForeignFields$1(whitelistIsSymbol)(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields6=consWriteForeignFields$1(versionIsSymbol$1)({writeImpl:o=>0})(nilWriteForeignFields)()()(),consWriteForeignFields7=consWriteForeignFields$1(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields6)()()(),writeForeignTrack={writeImpl:o=>writeImpl3$1(o._1)},writeForeignPosition={writeImpl:o=>{if(o.tag==="Position1")return"Position1";if(o.tag==="Position2")return"Position2";if(o.tag==="Position3")return"Position3";if(o.tag==="Position4")return"Position4";fail$3()}},showWhitelist={show:showArrayImpl(showStringImpl)},show1$3=o=>{const u=cons(intercalate$2(": ")(["owner",showStringImpl(o.owner)]))(cons(intercalate$2(": ")(["private",(()=>o.private?"true":"false")()]))(cons(intercalate$2(": ")(["title",(()=>{if(o.title.tag==="Just")return"(Just "+(showStringImpl(o.title._1)+")");if(o.title.tag==="Nothing")return"Nothing";fail$3()})()]))(cons(intercalate$2(": ")(["url",showStringImpl(o.url)]))(cons(intercalate$2(": ")(["version","Version 0"]))(cons(intercalate$2(": ")(["whitelist",showWhitelist.show(o.whitelist)]))([]))))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},readForeignWhitelist={readImpl:o=>{const u=readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",(()=>{if(u._1.tag==="Nothing")return[];if(u._1.tag==="Just")return u._1._1;fail$3()})());fail$3()}},readForeignVersion=o=>({readImpl:u=>bind$1(readInt.readImpl(u))(f=>{const d=o.reflectType($$Proxy);return f===d?pure$2($Version(f)):fail$1($ForeignError("ForeignError","Expecting version "+(showIntImpl(d)+(" but received "+showIntImpl(f)))))})}),readImpl4$1=(()=>readRecord()(readFieldsCons$1(ownerIsSymbol)(readString)(readFieldsCons$1(privateIsSymbol)(readBoolean)(readFieldsCons$1(titleIsSymbol)(readMaybe$2)(readFieldsCons$1(urlIsSymbol)(readString)(readFieldsCons$1(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsCons$1(whitelistIsSymbol)(readForeignWhitelist)(readFieldsNil)()())()())()())()())()())()()).readImpl)(),readFieldsCons5=readFieldsCons$1(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsNil)()(),readFieldsCons6=readFieldsCons$1(nameIsSymbol$1)(readMaybe$2)(readFieldsCons5)()(),readForeignTrack={readImpl:o=>{const u=readImpl4$1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Track(u._1));fail$3()}},readForeignPosition={readImpl:o=>bind$1(readString.readImpl(o))(u=>u==="Position1"?pure$2(Position1):u==="Position2"?pure$2(Position2):u==="Position3"?pure$2(Position3):u==="Position4"?pure$2(Position4):fail$1($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},eqWhitelist={eq:eqArrayImpl(eqStringImpl)},eqTrack={eq:o=>u=>o._1.owner===u._1.owner&&o._1.private===u._1.private&&(()=>o._1.title.tag==="Nothing"?u._1.title.tag==="Nothing":o._1.title.tag==="Just"&&u._1.title.tag==="Just"?o._1.title._1===u._1.title._1:!1)()&&o._1.url===u._1.url&&o._1.version._1===u._1.version._1&&eqWhitelist.eq(o._1.whitelist)(u._1.whitelist)},eqColumn={eq:o=>u=>o.tag==="C1"?u.tag==="C1":o.tag==="C2"?u.tag==="C2":o.tag==="C3"?u.tag==="C3":o.tag==="C4"?u.tag==="C4":o.tag==="C5"?u.tag==="C5":o.tag==="C6"?u.tag==="C6":o.tag==="C7"?u.tag==="C7":o.tag==="C8"?u.tag==="C8":o.tag==="C9"?u.tag==="C9":o.tag==="C10"?u.tag==="C10":o.tag==="C11"?u.tag==="C11":o.tag==="C12"?u.tag==="C12":o.tag==="C13"?u.tag==="C13":o.tag==="C14"?u.tag==="C14":o.tag==="C15"?u.tag==="C15":o.tag==="C16"?u.tag==="C16":o.tag==="C17"?u.tag==="C17":!1},ordColumn={compare:o=>u=>{if(o.tag==="C1")return u.tag==="C1"?EQ:LT;if(u.tag==="C1")return GT;if(o.tag==="C2")return u.tag==="C2"?EQ:LT;if(u.tag==="C2")return GT;if(o.tag==="C3")return u.tag==="C3"?EQ:LT;if(u.tag==="C3")return GT;if(o.tag==="C4")return u.tag==="C4"?EQ:LT;if(u.tag==="C4")return GT;if(o.tag==="C5")return u.tag==="C5"?EQ:LT;if(u.tag==="C5")return GT;if(o.tag==="C6")return u.tag==="C6"?EQ:LT;if(u.tag==="C6")return GT;if(o.tag==="C7")return u.tag==="C7"?EQ:LT;if(u.tag==="C7")return GT;if(o.tag==="C8")return u.tag==="C8"?EQ:LT;if(u.tag==="C8")return GT;if(o.tag==="C9")return u.tag==="C9"?EQ:LT;if(u.tag==="C9")return GT;if(o.tag==="C10")return u.tag==="C10"?EQ:LT;if(u.tag==="C10")return GT;if(o.tag==="C11")return u.tag==="C11"?EQ:LT;if(u.tag==="C11")return GT;if(o.tag==="C12")return u.tag==="C12"?EQ:LT;if(u.tag==="C12")return GT;if(o.tag==="C13")return u.tag==="C13"?EQ:LT;if(u.tag==="C13")return GT;if(o.tag==="C14")return u.tag==="C14"?EQ:LT;if(u.tag==="C14")return GT;if(o.tag==="C15")return u.tag==="C15"?EQ:LT;if(u.tag==="C15")return GT;if(o.tag==="C16")return u.tag==="C16"?EQ:LT;if(u.tag==="C16")return GT;if(o.tag==="C17"){if(u.tag==="C17")return EQ;fail$3()}fail$3()},Eq0:()=>eqColumn},intToColumn=o=>o===1?$Either("Right",C1):o===2?$Either("Right",C2):o===3?$Either("Right",C3):o===4?$Either("Right",C4):o===5?$Either("Right",C5):o===6?$Either("Right",C6):o===7?$Either("Right",C7):o===8?$Either("Right",C8):o===9?$Either("Right",C9):o===10?$Either("Right",C10):o===11?$Either("Right",C11):o===12?$Either("Right",C12):o===13?$Either("Right",C13):o===14?$Either("Right",C14):o===15?$Either("Right",C15):o===16?$Either("Right",C16):o===17?$Either("Right",C17):$Either("Left",o),readForeignColumn={readImpl:o=>bind$1(readInt.readImpl(o))(u=>{const f=intToColumn(u);if(f.tag==="Right")return pure$2(f._1);if(f.tag==="Left")return fail$1($ForeignError("ForeignError","No idea how to parse column: "+_unsafeStringify(f._1)));fail$3()})},readImpl5$1=(()=>readRecord()(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(marker1AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons$1(marker3AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker3TimeIsSymbol)(readNumber)(readFieldsCons$1(marker4AudioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(marker4TimeIsSymbol)(readNumber)(readFieldsCons6)()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl6$1=(()=>readRecord()(readFieldsCons$1(audioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons$1(nameIsSymbol$1)(readMaybe$2)(readFieldsCons$1(positionIsSymbol)(readForeignPosition)(readFieldsCons5)()())()())()())()())()())()()).readImpl)(),readImpl7$1=(()=>readRecord()(readFieldsCons$1(audioURLIsSymbol)(readMaybe$2)(readFieldsCons$1(columnIsSymbol)(readForeignColumn)(readFieldsCons$1(lengthIsSymbol)(readNumber)(readFieldsCons$1(marker1TimeIsSymbol)(readNumber)(readFieldsCons$1(marker2TimeIsSymbol)(readNumber)(readFieldsCons6)()())()())()())()())()()).readImpl)(),readForeignEventV0={readImpl:o=>bind$1(readImpl3$1(o))(u=>{if(u._type==="Basic"){const f=readImpl5$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("BasicEventV0",f._1));fail$3()}if(u._type==="Leap"){const f=readImpl6$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LeapEventV0",f._1));fail$3()}if(u._type==="Long"){const f=readImpl7$1(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$EventV0("LongEventV0",f._1));fail$3()}return fail$1($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},readForeignEvent_={readImpl:o=>{const u=readForeignEventV0.readImpl(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Event_(u._1));fail$3()}},semigroupColumn={append:o=>u=>{const f=intToColumn(intMod(((()=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()})()+(()=>{if(u.tag==="C1")return 1;if(u.tag==="C2")return 2;if(u.tag==="C3")return 3;if(u.tag==="C4")return 4;if(u.tag==="C5")return 5;if(u.tag==="C6")return 6;if(u.tag==="C7")return 7;if(u.tag==="C8")return 8;if(u.tag==="C9")return 9;if(u.tag==="C10")return 10;if(u.tag==="C11")return 11;if(u.tag==="C12")return 12;if(u.tag==="C13")return 13;if(u.tag==="C14")return 14;if(u.tag==="C15")return 15;if(u.tag==="C16")return 16;if(u.tag==="C17")return 17;fail$3()})()|0)-1|0)(17)+1|0);if(f.tag==="Left")return C7;if(f.tag==="Right")return f._1;fail$3()}},writeForeignColumn={writeImpl:o=>{if(o.tag==="C1")return 1;if(o.tag==="C2")return 2;if(o.tag==="C3")return 3;if(o.tag==="C4")return 4;if(o.tag==="C5")return 5;if(o.tag==="C6")return 6;if(o.tag==="C7")return 7;if(o.tag==="C8")return 8;if(o.tag==="C9")return 9;if(o.tag==="C10")return 10;if(o.tag==="C11")return 11;if(o.tag==="C12")return 12;if(o.tag==="C13")return 13;if(o.tag==="C14")return 14;if(o.tag==="C15")return 15;if(o.tag==="C16")return 16;if(o.tag==="C17")return 17;fail$3()}},writeImpl4$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(marker1AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker3AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker3TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker4AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(marker4TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl5$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields$1(positionIsSymbol)(writeForeignPosition)(consWriteForeignFields6)()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6$1=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields$1(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields$1(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields$1(lengthIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7)()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignEventV0={writeImpl:o=>{if(o.tag==="BasicEventV0")return writeImpl4$1({...o._1,_type:"Basic"});if(o.tag==="LeapEventV0")return writeImpl5$1({...o._1,_type:"Leap"});if(o.tag==="LongEventV0")return writeImpl6$1({...o._1,_type:"Long"});fail$3()}},writeForeignEvent_={writeImpl:o=>writeForeignEventV0.writeImpl(o._1)},ctorRGB_=o=>({r:u,g:f,b:d})=>new o(u,f,d),$RGB=(o,u,f)=>({tag:"RGB",_1:o,_2:u,_3:f}),colorRepresentationRGB={color:o=>u=>ctorRGB_(o)({r:u._1,g:u._2,b:u._3})},$BoxOptions=()=>({tag:"BoxOptions"}),identity$h=o=>o,BoxOptions=$BoxOptions(),convertOptionBoxOptions$x34b1={convertOption:o=>u=>identity$h},defaultBox={width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},box$4=o=>u=>{const f=o.toInitializeBox(u);return d=>m=>backdoor.makeLemmingEvent(h=>g=>()=>{const y=m.ids();d.raiseId(y)();const _=h(applicativeEvent.pure(m.makeBox({id:y,parent:d.parent,scope:d.scope,box:f.box,width:f.width,height:f.height,depth:f.depth,widthSegments:f.widthSegments,heightSegments:f.heightSegments,depthSegments:f.depthSegments,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(g)(),w=g(m.deleteFromCache({id:y}));return()=>(w(),_())})},pureObject3D=o=>u=>f=>({matrix4:d=>o.pure(f.setMatrix4({id:u,matrix4:d})),quaternion:d=>o.pure(f.setQuaternion({id:u,quaternion:d})),rotationFromAxisAngle:d=>o.pure(f.setRotationFromAxisAngle({id:u,axis:d.axis,angle:d.angle})),rotationFromEuler:d=>o.pure(f.setRotationFromEuler({id:u,euler:d})),rotationFromMatrix:d=>o.pure(f.setRotationFromMatrix({id:u,matrix4:d})),rotationFromQuaternion:d=>o.pure(f.setRotationFromQuaternion({id:u,quaternion:d})),rotateOnAxis:d=>o.pure(f.setRotateOnAxis({id:u,axis:d.axis,angle:d.angle})),rotateOnWorldAxis:d=>o.pure(f.setRotateOnWorldAxis({id:u,axis:d.axis,angle:d.angle})),rotateX:d=>o.pure(f.setRotateX({id:u,rotateX:d})),rotateY:d=>o.pure(f.setRotateY({id:u,rotateY:d})),rotateZ:d=>o.pure(f.setRotateZ({id:u,rotateZ:d})),translateOnAxis:d=>o.pure(f.setTranslateOnAxis({id:u,axis:d.axis,distance:d.distance})),translateX:d=>o.pure(f.setTranslateX({id:u,translateX:d})),translateY:d=>o.pure(f.setTranslateY({id:u,translateY:d})),translateZ:d=>o.pure(f.setTranslateZ({id:u,translateZ:d})),positionX:d=>o.pure(f.setPositionX({id:u,positionX:d})),positionY:d=>o.pure(f.setPositionY({id:u,positionY:d})),positionZ:d=>o.pure(f.setPositionZ({id:u,positionZ:d})),scaleX:d=>o.pure(f.setScaleX({id:u,scaleX:d})),scaleY:d=>o.pure(f.setScaleY({id:u,scaleY:d})),scaleZ:d=>o.pure(f.setScaleZ({id:u,scaleZ:d})),lookAt:d=>o.pure(f.setLookAt({id:u,v:d}))}),object3D=o=>u=>({matrix4:f=>u.setMatrix4({id:o,matrix4:f}),quaternion:f=>u.setQuaternion({id:o,quaternion:f}),rotationFromAxisAngle:f=>u.setRotationFromAxisAngle({id:o,axis:f.axis,angle:f.angle}),rotationFromEuler:f=>u.setRotationFromEuler({id:o,euler:f}),rotationFromMatrix:f=>u.setRotationFromMatrix({id:o,matrix4:f}),rotationFromQuaternion:f=>u.setRotationFromQuaternion({id:o,quaternion:f}),rotateOnAxis:f=>u.setRotateOnAxis({id:o,axis:f.axis,angle:f.angle}),rotateOnWorldAxis:f=>u.setRotateOnWorldAxis({id:o,axis:f.axis,angle:f.angle}),rotateX:f=>u.setRotateX({id:o,rotateX:f}),rotateY:f=>u.setRotateY({id:o,rotateY:f}),rotateZ:f=>u.setRotateZ({id:o,rotateZ:f}),translateOnAxis:f=>u.setTranslateOnAxis({id:o,axis:f.axis,distance:f.distance}),translateX:f=>u.setTranslateX({id:o,translateX:f}),translateY:f=>u.setTranslateY({id:o,translateY:f}),translateZ:f=>u.setTranslateZ({id:o,translateZ:f}),positionX:f=>u.setPositionX({id:o,positionX:f}),positionY:f=>u.setPositionY({id:o,positionY:f}),positionZ:f=>u.setPositionZ({id:o,positionZ:f}),scaleX:f=>u.setScaleX({id:o,scaleX:f}),scaleY:f=>u.setScaleY({id:o,scaleY:f}),scaleZ:f=>u.setScaleZ({id:o,scaleZ:f}),lookAt:f=>u.setLookAt({id:o,v:f})}),defaultMaterials={alphaTest:Nothing,alphaToCoverage:Nothing,blendDst:Nothing,blendDstAlpha:Nothing,blendEquation:Nothing,blendEquationAlpha:Nothing,blending:Nothing,blendSrc:Nothing,blendSrcAlpha:Nothing,clipIntersection:Nothing,clipShadows:Nothing,colorWrite:Nothing,depthFunc:Nothing,depthTest:Nothing,depthWrite:Nothing,opacity:Nothing,polygonOffset:Nothing,polygonOffsetFactor:Nothing,polygonOffsetUnits:Nothing,precision:Nothing,premultipliedAlpha:Nothing,dithering:Nothing,shadowSide:Nothing,side:Nothing,toneMapped:Nothing,transparent:Nothing,vertexColors:Nothing,visible:Nothing},$MeshStandardMaterialOptions=()=>({tag:"MeshStandardMaterialOptions"}),identity$g=o=>o,oneOf$y=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshStandardMaterialOptions=$MeshStandardMaterialOptions(),convertOptionMeshStandard={convertOption:o=>u=>Just},convertOptionMeshStandard53={convertOption:o=>u=>Just},convertOptionMeshStandard54={convertOption:o=>u=>Just},convertOptionMeshStandard55={convertOption:o=>u=>identity$g},meshStandardMaterial$5=o=>u=>f=>{const d=o.toInitializeMeshStandardMaterial(u);return m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$y([applicativeEvent.pure(h.makeMeshStandardMaterial({id:_,parent:m.parent,scope:m.scope,parameters:{meshStandardMaterial:d.meshStandardMaterial,color:d.color,roughness:d.roughness,metalness:d.metalness,map:d.map,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,roughnessMap:d.roughnessMap,metalnessMap:d.metalnessMap,alphaMap:d.alphaMap,envMap:d.envMap,envMapIntensity:d.envMapIntensity,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),(v,b)=>f(v,M=>{const P=onMatch()()()({color:I=>h.setColor({id:_,color:I}),roughness:I=>h.setRoughness({id:_,roughness:I}),metalness:I=>h.setMetalness({id:_,metalness:I}),map:I=>h.setMap({id:_,map:I}),lightMap:I=>h.setLightMap({id:_,lightMap:I}),lightMapIntensity:I=>h.setLightMapIntensity({id:_,lightMapIntensity:I}),aoMap:I=>h.setAoMap({id:_,aoMap:I}),aoMapIntensity:I=>h.setAoMapIntensity({id:_,aoMapIntensity:I}),emissive:I=>h.setEmissive({id:_,emissive:I}),emissiveIntensity:I=>h.setEmissiveIntensity({id:_,emissiveIntensity:I}),emissiveMap:I=>h.setEmissiveMap({id:_,emissiveMap:I}),bumpMap:I=>h.setBumpMap({id:_,bumpMap:I}),bumpScale:I=>h.setBumpScale({id:_,bumpScale:I}),normalMap:I=>h.setNormalMap({id:_,normalMap:I}),normalMapType:I=>h.setNormalMapType({id:_,normalMapType:I}),normalScale:I=>h.setNormalScale({id:_,normalScale:I}),displacementMap:I=>h.setDisplacementMap({id:_,displacementMap:I}),displacementScale:I=>h.setDisplacementScale({id:_,displacementScale:I}),displacementBias:I=>h.setDisplacementBias({id:_,displacementBias:I}),roughnessMap:I=>h.setRoughnessMap({id:_,roughnessMap:I}),metalnessMap:I=>h.setMetalnessMap({id:_,metalnessMap:I}),alphaMap:I=>h.setAlphaMap({id:_,alphaMap:I}),envMap:I=>h.setEnvMap({id:_,envMap:I}),envMapIntensity:I=>h.setEnvMapIntensity({id:_,envMapIntensity:I}),wireframe:I=>h.setWireframe({id:_,wireframe:I}),wireframeLinewidth:I=>h.setWireframeLinewidth({id:_,wireframeLinewidth:I}),flatShading:I=>h.setFlatShading({id:_,flatShading:I})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())})},defaultMeshStandardMaterial={...defaultMaterials,color:Nothing,roughness:Nothing,metalness:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,roughnessMap:Nothing,metalnessMap:Nothing,alphaMap:Nothing,envMap:Nothing,envMapIntensity:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing},oneOf$x=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),withRemoval$p$1=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},mesh$p=o=>u=>f=>d=>m=>$Entity("Element'",h=>g=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=g.ids();h.raiseId(w)();const $=y(oneOf$x([applicativeEvent.pure(g.makeMesh({id:w,parent:h.parent,scope:h.scope,mesh:o.mesh})),u({parent:$Maybe("Just",w),scope:h.scope,raiseId:b=>()=>unit})(g),f({parent:$Maybe("Just",w),scope:h.scope,raiseId:b=>()=>unit})(g),backdoor.makeLemmingEvent(b=>M=>()=>{const P={value:empty$2},I=b(d)(S=>bind_(onMatch()()()({...pureObject3D(applicativeST)(w)(g),onClick:C=>withRemoval$p$1(P)("click")(g.setOnClick({id:w,onClick:C}))(g.removeOnClick({id:w,onClick:C})),onMouseDown:C=>withRemoval$p$1(P)("mousedown")(g.setOnMouseDown({id:w,onMouseDown:C}))(g.removeOnMouseDown({id:w,onMouseDown:C})),onMouseUp:C=>withRemoval$p$1(P)("mouseup")(g.setOnMouseUp({id:w,onMouseUp:C}))(g.removeOnMouseUp({id:w,onMouseUp:C})),onMouseMove:C=>withRemoval$p$1(P)("mousemove")(g.setOnMouseMove({id:w,onMouseMove:C}))(g.removeOnMouseMove({id:w,onMouseMove:C})),onTouchStart:C=>withRemoval$p$1(P)("touchstart")(g.setOnTouchStart({id:w,onTouchStart:C}))(g.removeOnTouchStart({id:w,onTouchStart:C})),onTouchEnd:C=>withRemoval$p$1(P)("touchend")(g.setOnTouchEnd({id:w,onTouchEnd:C}))(g.removeOnTouchEnd({id:w,onTouchEnd:C})),onTouchMove:C=>withRemoval$p$1(P)("touchmove")(g.setOnTouchMove({id:w,onTouchMove:C}))(g.removeOnTouchMove({id:w,onTouchMove:C})),onTouchCancel:C=>withRemoval$p$1(P)("touchcancel")(g.setOnTouchCancel({id:w,onTouchCancel:C}))(g.removeOnTouchCancel({id:w,onTouchCancel:C}))})(case_)(S))(M))();return()=>{const S=P.value;return foreachE(values(S))(M)(),I()}}),flatten({doLogic:absurd,ids:b=>b.ids,disconnectElement:b=>b.disconnect,toElt:b=>b})({parent:$Maybe("Just",w),scope:h.scope,raiseId:b=>()=>unit})(g)($Entity("FixedChildren'",m))]))(_)(),v=_(g.deleteFromCache({id:w}));return()=>(v(),$())})),box$3=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$4=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$w=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleX=o=>({type:"scaleX",value:o}),scaleY$1=o=>({type:"scaleY",value:o}),scaleZ$1=o=>({type:"scaleZ",value:o}),makeBar=o=>{const u=(f,d)=>{const m=applicativeEvent.pure(f(0)),h=oneOff(Just)((()=>{const g=f(d);return(y,_)=>o.rateE(y,w=>_(g))})());return(g,y)=>{const _=m(g,y),w=h(g,y);return()=>(_(),w())}};return mesh$p({mesh:o.threeDI.mesh})(box$3({box:o.threeDI.boxGeometry}))(meshStandardMaterial$4({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3((()=>{if(o.position.tag==="Position1")return $RGB(.2196078431372549,.8431372549019608,.9058823529411765);if(o.position.tag==="Position2")return $RGB(.9764705882352941,.8784313725490196,.4627450980392157);if(o.position.tag==="Position3")return $RGB(.9333333333333333,.19215686274509805,.4196078431372549);if(o.position.tag==="Position4")return $RGB(.5176470588235295,.17647058823529413,.4470588235294118);fail$3()})())})(oneOf$w([(()=>{const f=applyEvent.apply((d,m)=>o.rateE(d,h=>{const g=Tuple(h);return m(g)}))(dedup$p(d=>m=>!d&&m===d)(o.isMe));return(d,m)=>f(d,h=>{const g={type:"emissive",value:o.c3((()=>{if(h._2){const y=sin(h._1.beats*2.199114857512855)*.14+.14;return $RGB(y,y,y)}return $RGB(0,0,0)})())};return m(g)})})()])))(oneOf$w([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),sampleBy(functorEvent)(f=>d=>({type:"positionZ",value:(()=>{if(o.position.tag==="Position1")return-3*f.barZSpacing;if(o.position.tag==="Position2")return-2*f.barZSpacing;if(o.position.tag==="Position3")return-1*f.barZSpacing;if(o.position.tag==="Position4")return 0;fail$3()})()}))(o.renderingInfo)((()=>o.debug?(f,d)=>o.rateE(f,m=>d(unit)):applicativeEvent.pure(unit))()),u(scaleX,10),u(scaleY$1,.01),u(scaleZ$1,.01)]))([])},lowPrioritySchedule=o=>u=>f=>backdoor.makeEvent(d=>{const m=subscribe(f)(h=>o(u)(d(h)));return()=>(m(),()=>unit)}),$BasicOutcome=o=>({tag:o}),Perfect=$BasicOutcome("Perfect"),Nice=$BasicOutcome("Nice"),Early=$BasicOutcome("Early"),Late=$BasicOutcome("Late"),beatsToBasicOutcome=o=>(()=>o>=0?o<.085:-o<.085)()?Perfect:(()=>o>=0?o<.13:-o<.13)()?Nice:o>0?Late:Early,basicOutcomeToPointOutcome=o=>{if(o.tag==="Perfect")return $Either("Right",50);if(o.tag==="Nice")return $Either("Right",20);if(o.tag==="Late"||o.tag==="Early")return $Either("Left",30);fail$3()};function createElement(o){return function(u){return function(){return u.createElement(o)}}}const oneOf$v=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DObject$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeEvent(m=>()=>{const h=d.ids();f.raiseId(h)();const g=bindE(bindE(windowImpl)(document$1))(createElement("div"))(),y=runInElement$p(g)(o.nut)(),_=subscribe(oneOf$v([applicativeEvent.pure(d.makeCSS2DObject({id:h,parent:f.parent,scope:f.scope,nut:g,css2DObject:o.css2DObject})),($,v)=>u($,b=>{const M=onMatch()()()(object3D(h)(d))(case_)(b);return v(M)})]))(m)(),w=m(d.deleteFromCache({id:h}));return()=>(w(),y(),_())})),oneOfMap$b=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),mapAccum$8=mapAccum$e(eventIsEvent),basicLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.basicTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:span(oneOfMap$b(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))([(()=>{const g=beatsToBasicOutcome(d.deltaBeats);return text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1"){if(g.tag==="Perfect")return"Player 1 Perfect!";if(g.tag==="Nice")return"Player 1 Nice!";if(g.tag==="Late")return"Player 1 Late";if(g.tag==="Early")return"Player 1 Early";fail$3()}if(d.player.tag==="Player2"){if(g.tag==="Perfect")return"Player 2 Perfect!";if(g.tag==="Nice")return"Player 2 Nice!";if(g.tag==="Late")return"Player 2 Late";if(g.tag==="Early")return"Player 2 Early";fail$3()}if(d.player.tag==="Player3"){if(g.tag==="Perfect")return"Player 3 Perfect!";if(g.tag==="Nice")return"Player 3 Nice!";if(g.tag==="Late")return"Player 3 Late";if(g.tag==="Early")return"Player 3 Early";fail$3()}if(d.player.tag==="Player4"){if(g.tag==="Perfect")return"Player 4 Perfect!";if(g.tag==="Nice")return"Player 4 Nice!";if(g.tag==="Late")return"Player 4 Late";if(g.tag==="Early")return"Player 4 Early";fail$3()}fail$3()})()))})()])})((()=>{const g=keepLatest((()=>{const y=mapAccum$8(_=>w=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),w);if(_.tag==="Just")return $Tuple($Maybe("Just",_._1),{z:_._1.z,x:w.x,y:w.y});fail$3()})(Nothing)(d.translation);return(_,w)=>y(_,$=>{const v=oneOfMap$b(applicativeEvent.pure)([{type:"positionX",value:$.x},{type:"positionY",value:$.y},{type:"positionZ",value:$.z}]);return w(v)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),$=g(y,_);return()=>(w(),$())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((g,y)=>{const _=m(g,y),w=h(g,y);return()=>(_(),w())})})),oneOfMap$a=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),mapAccum$7=mapAccum$e(eventIsEvent),leapLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.leapTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:span(oneOfMap$a(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))([text(applicativeEvent.pure((()=>{if(d.player.tag==="Player1")return"Player 1 Leap!";if(d.player.tag==="Player2")return"Player 2 Leap!";if(d.player.tag==="Player3")return"Player 3 Leap!";if(d.player.tag==="Player4")return"Player 4 Leap!";fail$3()})()))])})((()=>{const g=keepLatest((()=>{const y=mapAccum$7(_=>w=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),w);if(_.tag==="Just")return $Tuple($Maybe("Just",_._1),{z:_._1.z,x:w.x,y:w.y});fail$3()})(Nothing)(d.translation);return(_,w)=>y(_,$=>{const v=oneOfMap$a(applicativeEvent.pure)([{type:"positionX",value:$.x},{type:"positionY",value:$.y},{type:"positionZ",value:$.z}]);return w(v)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),$=g(y,_);return()=>(w(),$())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((g,y)=>{const _=m(g,y),w=h(g,y);return()=>(_(),w())})})),oneOfMap$9=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),oneOf$u=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$6=mapAccum$e(eventIsEvent),css2DNut=o=>u=>span(oneOfMap$9(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","text-zinc-100 fade-out")}]))([text(oneOf$u([applicativeEvent.pure((()=>{if(u.player.tag==="Player1")return"Player 1 Long on!";if(u.player.tag==="Player2")return"Player 2 Long on!";if(u.player.tag==="Player3")return"Player 3 Long on!";if(u.player.tag==="Player4")return"Player 4 Long on!";fail$3()})()),(f,d)=>o.longRelease(f,m=>{const h=(()=>{if(u.player.tag==="Player1")return"Player 1 Long off!";if(u.player.tag==="Player2")return"Player 2 Long off!";if(u.player.tag==="Player3")return"Player 3 Long off!";if(u.player.tag==="Player4")return"Player 4 Long off!";fail$3()})();return d(h)})]))]),longLabels=o=>$Entity("DynamicChildren'",(u,f)=>o.longTap(u,d=>{const m=applicativeEvent.pure($Child("Insert",css2DObject$1({css2DObject:o.threeDI.css2DObject,nut:css2DNut(o)(d)})((()=>{const g=keepLatest((()=>{const y=mapAccum$6(_=>w=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),w);if(_.tag==="Just")return $Tuple($Maybe("Just",_._1),{z:_._1.z,x:w.x,y:w.y});fail$3()})(Nothing)(d.translation);return(_,w)=>y(_,$=>{const v=oneOfMap$9(applicativeEvent.pure)([{type:"positionX",value:$.x},{type:"positionY",value:$.y},{type:"positionZ",value:$.z}]);return w(v)})})());return(y,_)=>{const w=applicativeEvent.pure({type:"positionZ",value:100})(y,_),$=g(y,_);return()=>(w(),$())}})()))),h=lowPrioritySchedule(o.lpsCallback)(3e3+d.issuedAt)(applicativeEvent.pure(Remove));return f((g,y)=>{const _=m(g,y),w=h(g,y);return()=>(_(),w())})}));function clientX$1(o){return o.clientX}function clientY$1(o){return o.clientY}function clientX(o){return o.clientX}function clientY(o){return o.clientY}const box$2=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$3=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard)()()()({reflectSymbol:()=>"visible"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),oneOf$t=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scaleY=o=>({type:"scaleY",value:o}),scaleZ=o=>({type:"scaleZ",value:o}),show$1=o=>{const u=cons(intercalate$2(": ")(["cx",showIntImpl(o.cx)]))(cons(intercalate$2(": ")(["cy",showIntImpl(o.cy)]))([]));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},makeRaycastableLane=o=>{const u=(d,m)=>{const h=applicativeEvent.pure(d(0)),g=oneOff(Just)((()=>{const y=d(m);return(_,w)=>o.rateE(_,$=>w(y))})());return(y,_)=>{const w=h(y,_),$=g(y,_);return()=>(w(),$())}},f=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOnRight((d,m)=>{const h=applicativeEvent.pure(o.initialDims)(d,y=>{const _={iw:y.iw,ih:y.ih,r:y.iw/y.ih};return m(_)}),g=o.resizeEvent(d,y=>m({iw:y.iw,ih:y.ih,r:y.iw/y.ih}));return()=>(h(),g())})((d,m)=>o.rateInfo(d,h=>m(g=>y=>({rateInfo:h,ratio:g,renderingInfo:y})))));return mesh$p({mesh:o.threeDI.mesh})(box$2({box:o.threeDI.boxGeometry}))(meshStandardMaterial$3({meshStandardMaterial:o.threeDI.meshStandardMaterial,color:o.c3($RGB(.5,.5,.5)),visible:!1})(plusEvent.empty))(oneOf$t([(d,m)=>f(d,h=>{const g=(()=>{if(o.column.tag==="C1")return h.renderingInfo.halfAmbitus*-1*h.ratio.r;if(o.column.tag==="C2")return h.renderingInfo.halfAmbitus*-.875*h.ratio.r;if(o.column.tag==="C3")return h.renderingInfo.halfAmbitus*-.75*h.ratio.r;if(o.column.tag==="C4")return h.renderingInfo.halfAmbitus*-.625*h.ratio.r;if(o.column.tag==="C5")return h.renderingInfo.halfAmbitus*-.5*h.ratio.r;if(o.column.tag==="C6")return h.renderingInfo.halfAmbitus*-.375*h.ratio.r;if(o.column.tag==="C7")return h.renderingInfo.halfAmbitus*-.25*h.ratio.r;if(o.column.tag==="C8")return h.renderingInfo.halfAmbitus*-.125*h.ratio.r;if(o.column.tag==="C9")return h.renderingInfo.halfAmbitus*0*h.ratio.r;if(o.column.tag==="C10")return h.renderingInfo.halfAmbitus*.125*h.ratio.r;if(o.column.tag==="C11")return h.renderingInfo.halfAmbitus*.25*h.ratio.r;if(o.column.tag==="C12")return h.renderingInfo.halfAmbitus*.375*h.ratio.r;if(o.column.tag==="C13")return h.renderingInfo.halfAmbitus*.5*h.ratio.r;if(o.column.tag==="C14")return h.renderingInfo.halfAmbitus*.625*h.ratio.r;if(o.column.tag==="C15")return h.renderingInfo.halfAmbitus*.75*h.ratio.r;if(o.column.tag==="C16")return h.renderingInfo.halfAmbitus*.875*h.ratio.r;if(o.column.tag==="C17")return h.renderingInfo.halfAmbitus*1*h.ratio.r;fail$3()})();return m({type:"positionX",value:g})}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:-1.5}),(d,m)=>{const h=applicativeEvent.pure({type:"scaleX",value:0})(d,m),g=f(d,y=>m({type:"scaleX",value:y.renderingInfo.halfAmbitus*y.ratio.r/9}));return()=>(h(),g())},u(scaleY,.1),u(scaleZ,5),(()=>{const d=applicativeEvent.pure(m=>{const h=log("position: "+(show$1(m)+(" column: "+_unsafeStringify((()=>{if(o.column.tag==="C1")return 1;if(o.column.tag==="C2")return 2;if(o.column.tag==="C3")return 3;if(o.column.tag==="C4")return 4;if(o.column.tag==="C5")return 5;if(o.column.tag==="C6")return 6;if(o.column.tag==="C7")return 7;if(o.column.tag==="C8")return 8;if(o.column.tag==="C9")return 9;if(o.column.tag==="C10")return 10;if(o.column.tag==="C11")return 11;if(o.column.tag==="C12")return 12;if(o.column.tag==="C13")return 13;if(o.column.tag==="C14")return 14;if(o.column.tag==="C15")return 15;if(o.column.tag==="C16")return 16;if(o.column.tag==="C17")return 17;fail$3()})()))));return()=>(h(),o.columnPusher(),()=>unit)});return o.isMobile?(m,h)=>d(m,g=>h({type:"onTouchStart",value:y=>{const _=g({cx:clientX$1(y),cy:clientY$1(y)});return()=>{const w=_();return{end:$=>w,cancel:$=>w}}}})):(m,h)=>d(m,g=>h({type:"onMouseDown",value:y=>{const _=g({cx:clientX(y),cy:clientY(y)});return()=>{const w=_();return $=>w}}}))})()]))([])},$PerspectiveCameraOptions=()=>({tag:"PerspectiveCameraOptions"}),identity$f=o=>o,oneOf$s=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PerspectiveCameraOptions=$PerspectiveCameraOptions(),convertOptionPerspectiveC={convertOption:o=>u=>identity$f},convertOptionPerspectiveC1={convertOption:o=>u=>identity$f},convertOptionPerspectiveC2={convertOption:o=>u=>identity$f},convertOptionPerspectiveC3={convertOption:o=>u=>identity$f},convertOptionPerspectiveC4={convertOption:o=>u=>identity$f},perspectiveCamera$4=o=>u=>f=>{const d=o.toInitializePerspectiveCamera(u);return m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$s([applicativeEvent.pure(h.makePerspectiveCamera({id:_,parent:m.parent,scope:m.scope,perspectiveCamera:d.perspectiveCamera,aspect:d.aspect,far:d.far,fov:d.fov,near:d.near})),(v,b)=>f(v,M=>{const P=onMatch()()()({...object3D(_)(h),aspect:I=>h.setAspect({id:_,aspect:I}),far:I=>h.setFar({id:_,far:I}),filmGauge:I=>h.setFilmGauge({id:_,filmGauge:I}),filmOffset:I=>h.setFilmOffset({id:_,filmOffset:I}),focus:I=>h.setFocus({id:_,focus:I}),fov:I=>h.setFov({id:_,fov:I}),near:I=>h.setNear({id:_,near:I}),zoom:I=>h.setZoom({id:_,zoom:I}),focalLength:I=>h.setFocalLength({id:_,focalLength:I}),viewOffset:I=>h.setViewOffset({id:_,fullWidth:I.fullWidth,fullHeight:I.fullHeight,x:I.x,y:I.y,width:I.width,height:I.height})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())})},defaultPerspectiveCamera={fov:50,aspect:1,near:.1,far:2e3},ctor_$1=o=>({x:u,y:f,z:d})=>new o(u,f,d),oneOf$r=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),unsafeInternalGroup=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$r([applicativeEvent.pure(o(h)({id:_,parent:m.parent,scope:m.scope,group:u.group})),(v,b)=>f(v,M=>{const P=onMatch()()()(object3D(_)(h))(case_)(M);return b(P)}),flatten({doLogic:absurd,ids:v=>v.ids,disconnectElement:v=>v.disconnect,toElt:v=>v})({parent:$Maybe("Just",_),scope:m.scope,raiseId:v=>()=>unit})(h)($Entity("FixedChildren'",arrayMap(unsafeCoerce)(d)))]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())})),loader$2=o=>()=>new o,load$2=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},sceneImpl=o=>o.scene.clone(),loadAff$2=o=>u=>makeAff(f=>{const d=load$2(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),$AmbientLightOptions=()=>({tag:"AmbientLightOptions"}),identity$e=o=>o,oneOf$q=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),AmbientLightOptions=$AmbientLightOptions(),convertOptionAmbientLight={convertOption:o=>u=>identity$e},convertOptionAmbientLight1={convertOption:o=>u=>identity$e},convertOptionAmbientLight2={convertOption:o=>u=>identity$e},defaultAmbientLight={intensity:1},ambientLight$3=o=>u=>f=>{const d=o.toInitializeAmbientLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$q([applicativeEvent.pure(h.makeAmbientLight({id:_,parent:m.parent,scope:m.scope,ambientLight:d.ambientLight,color:d.color,intensity:d.intensity})),(v,b)=>f(v,M=>{const P=onMatch()()()({...object3D(_)(h),color:I=>h.setColor({id:_,color:I}),intensity:I=>h.setIntensity({id:_,intensity:I})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())}))},$PointLightOptions=()=>({tag:"PointLightOptions"}),identity$d=o=>o,oneOf$p=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),PointLightOptions=$PointLightOptions(),convertOptionPointLightOp={convertOption:o=>u=>identity$d},convertOptionPointLightOp1={convertOption:o=>u=>identity$d},convertOptionPointLightOp2={convertOption:o=>u=>identity$d},convertOptionPointLightOp3={convertOption:o=>u=>identity$d},convertOptionPointLightOp4={convertOption:o=>u=>identity$d},pointLight$3=o=>u=>f=>{const d=o.toInitializePointLight(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$p([applicativeEvent.pure(h.makePointLight({id:_,parent:m.parent,scope:m.scope,pointLight:d.pointLight,color:d.color,intensity:d.intensity,distance:d.distance,decay:d.decay})),(v,b)=>f(v,M=>{const P=onMatch()()()({...object3D(_)(h),color:I=>h.setColor({id:_,color:I}),intensity:I=>h.setIntensity({id:_,intensity:I}),distance:I=>h.setDistance({id:_,distance:I}),decay:I=>h.setDecay({id:_,decay:I})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())}))},defaultPointLight={intensity:1,distance:0,decay:1},globalWebGLRendererPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()()()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.webGLRendererConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalWebGLRendererPortal1=()=>()=>o=>u=>globalWebGLRendererPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalScenePortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()()()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectScene(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalScenePortal1=()=>()=>o=>u=>globalScenePortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalEffectComposerPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()()()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.effectComposerConnectionNoop({}),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalEffectComposerPortal1=()=>()=>o=>u=>globalEffectComposerPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),globalCameraPortal=()=>()=>()=>o=>u=>globalPortalSimpleComplex()()()({doLogic:absurd,ids:f=>f.ids,disconnectElement:f=>d=>f.disconnect({id:d.id,scope:d.scope,parent:d.parent}),toElt:unsafeCoerce})({fromEltO1:unsafeCoerce,fromEltO2:unsafeCoerce,toElt:unsafeCoerce,giveNewParent:f=>d=>m=>f.connectCamera(d),deleteFromCache:f=>f.deleteFromCache})(o)((()=>{const f=arrayMap(d=>d(unit));return d=>u(f(d))})()),globalCameraPortal1=()=>()=>o=>u=>globalCameraPortal()()()([o])((()=>{const f=indexImpl(0);return d=>u(f(d))})()),oneOf$o=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css2DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),$={value:Nothing},v={value:Nothing},b=g(oneOf$o([o({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:C=>()=>($.value=$Maybe("Just",C),unit)})(h),u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:C=>()=>(v.value=$Maybe("Just",C),unit)})(h)]))(y)(),M=$.value,P=v.value,I=(()=>{if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just"){if(P.tag==="Nothing")return()=>()=>unit;if(P.tag==="Just")return g(oneOf$o([applicativeEvent.pure(h.makeCSS2DRenderer({...f,id:_,camera:P._1})),backdoor.makeLemmingEvent(C=>O=>()=>{const B={value:()=>unit},N=C((R,L)=>d(R,z=>{const Y=onMatch()()()({render:te=>h.css2DRender({id:_,scene:M._1,camera:P._1}),size:te=>h.setSize({id:_,width:te.width,height:te.height})})(case_)(z);return L(Y)}))(O)();return B.value=N,()=>{const R=B.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:_}));return()=>(S(),b(),I())})),oneOf$n=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),css3DRenderer$1=o=>u=>f=>d=>$Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),$={value:Nothing},v={value:Nothing},b=g(oneOf$n([o({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:C=>()=>($.value=$Maybe("Just",C),unit)})(h),u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:C=>()=>(v.value=$Maybe("Just",C),unit)})(h)]))(y)(),M=$.value,P=v.value,I=(()=>{if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just"){if(P.tag==="Nothing")return()=>()=>unit;if(P.tag==="Just")return g(oneOf$n([applicativeEvent.pure(h.makeCSS3DRenderer({...f,id:_,camera:P._1})),backdoor.makeLemmingEvent(C=>O=>()=>{const B={value:()=>unit},N=C((R,L)=>d(R,z=>{const Y=onMatch()()()({render:te=>h.css3DRender({id:_,scene:M._1,camera:P._1}),size:te=>h.setSize({id:_,width:te.width,height:te.height})})(case_)(z);return L(Y)}))(O)();return B.value=N,()=>{const R=B.value;return R()}})]))(y);fail$3()}fail$3()})()(),S=y(h.deleteFromCache({id:_}));return()=>(S(),b(),I())})),oneOf$m=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),raycaster$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const g=d.ids();f.raiseId(g)();const y=d.ids(),_={value:Nothing},w=m(oneOf$m([u({parent:$Maybe("Just",g),scope:$Scope("Local",y),raiseId:M=>()=>(_.value=$Maybe("Just",M),unit)})(d)]))(h)(),$=_.value,v=(()=>{if($.tag==="Nothing")return()=>()=>unit;if($.tag==="Just")return m(oneOf$m([applicativeEvent.pure(d.makeRaycaster({id:g,raycaster:o.raycaster,canvas:o.canvas,camera:$._1}))]))(h);fail$3()})()(),b=h(d.deleteFromCache({id:g}));return()=>(b(),w(),v())})),$WebGLRenderingPowerPreference=o=>({tag:o}),Default=$WebGLRenderingPowerPreference("Default"),$WebGLRenderingPrecision=o=>({tag:o}),High=$WebGLRenderingPrecision("High"),$WebGLRendererOptions=()=>({tag:"WebGLRendererOptions"}),identity$c=o=>o,oneOf$l=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),WebGLRendererOptions=$WebGLRendererOptions(),convertOptionWebGLRendere10={convertOption:o=>u=>identity$c},convertOptionWebGLRendere11={convertOption:o=>u=>identity$c},webGLRenderer$4=o=>u=>f=>d=>m=>{const h=o.toInitializeWebGLRenderer(d);return g=>y=>backdoor.makeLemmingEvent(_=>w=>()=>{const $=y.ids();g.raiseId($)();const v=y.ids(),b={value:Nothing},M={value:Nothing},P=_(oneOf$l([u({parent:$Maybe("Just",$),scope:$Scope("Local",v),raiseId:B=>()=>(b.value=$Maybe("Just",B),unit)})(y),f({parent:$Maybe("Just",$),scope:$Scope("Local",v),raiseId:B=>()=>(M.value=$Maybe("Just",B),unit)})(y)]))(w)(),I=b.value,S=M.value,C=(()=>{if(I.tag==="Nothing")return()=>()=>unit;if(I.tag==="Just"){if(S.tag==="Nothing")return()=>()=>unit;if(S.tag==="Just")return _(oneOf$l([applicativeEvent.pure(y.makeWebGLRenderer({id:$,webGLRenderer:h.webGLRenderer,canvas:h.canvas,camera:S._1,precision:h.precision,alpha:h.alpha,premultipliedAlpha:h.premultipliedAlpha,antialias:h.antialias,stencil:h.stencil,preserveDrawingBuffer:h.preserveDrawingBuffer,powerPreference:h.powerPreference,failIfMajorPerformanceCaveat:h.failIfMajorPerformanceCaveat,depth:h.depth,logarithmicDepthBuffer:h.logarithmicDepthBuffer})),backdoor.makeLemmingEvent(B=>N=>()=>{const R={value:()=>unit},L=B((z,Y)=>m(z,te=>{const K=onMatch()()()({render:Q=>y.webGLRender({id:$,scene:I._1,camera:S._1}),size:Q=>y.setSize({id:$,width:Q.width,height:Q.height})})(case_)(te);return Y(K)}))(N)();return R.value=L,()=>{const z=R.value;return z()}})]))(w);fail$3()}fail$3()})()(),O=w(y.deleteFromCache({id:$}));return()=>(O(),P(),C())})},defaultWebGLRenderer={precision:High,alpha:!1,premultipliedAlpha:!0,antialias:!1,stencil:!0,preserveDrawingBuffer:!1,powerPreference:Default,failIfMajorPerformanceCaveat:!1,depth:!0,logarithmicDepthBuffer:!1},oneOf$k=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposer$1=o=>u=>f=>d=>m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=h.ids(),$={value:Nothing},v=g(oneOf$k([u({parent:$Maybe("Just",_),scope:$Scope("Local",w),raiseId:I=>()=>($.value=$Maybe("Just",I),unit)})(h)]))(y)(),b=$.value,M=(()=>{if(b.tag==="Nothing")return()=>()=>unit;if(b.tag==="Just")return g(oneOf$k([applicativeEvent.pure(h.makeEffectComposer({id:_,effectComposer:o.effectComposer,webGLRenderer:b._1})),(I,S)=>f(I,C=>{const O=onMatch()()()({render:B=>h.effectComposerRender({id:_})})(case_)(C);return S(O)}),flatten({doLogic:absurd,ids:I=>I.ids,disconnectElement:I=>I.disconnectPass,toElt:I=>I})({parent:$Maybe("Just",_),scope:m.scope,raiseId:I=>()=>unit})(h)($Entity("FixedChildren'",d))]))(y);fail$3()})()(),P=y(h.deleteFromCache({id:_}));return()=>(P(),v(),M())}),oneOf$j=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),effectComposerPass$1=o=>u=>$Entity("Element'",f=>d=>backdoor.makeLemmingEvent(m=>h=>()=>{const g=d.ids();f.raiseId(g)();const y=d.ids(),_={value:Nothing},w=m(oneOf$j([u({parent:$Maybe("Just",g),scope:$Scope("Local",y),raiseId:M=>()=>(_.value=$Maybe("Just",M),unit)})(d)]))(h)(),$=_.value,v=(()=>{if($.tag==="Nothing")return()=>()=>unit;if($.tag==="Just")return m(oneOf$j([applicativeEvent.pure(d.makeEffectComposerPass({id:g,parent:f.parent,effectComposerPass:o.effectComposerPass,effectComposer:$._1}))]))(h);fail$3()})()(),b=h(d.deleteFromCache({id:g}));return()=>(b(),w(),v())})),oneOf$i=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),renderPass$1=o=>u=>f=>$Entity("Element'",d=>m=>backdoor.makeLemmingEvent(h=>g=>()=>{const y=m.ids();d.raiseId(y)();const _=m.ids(),w={value:Nothing},$={value:Nothing},v=h(oneOf$i([u({parent:$Maybe("Just",y),scope:$Scope("Local",_),raiseId:S=>()=>(w.value=$Maybe("Just",S),unit)})(m),f({parent:$Maybe("Just",y),scope:$Scope("Local",_),raiseId:S=>()=>($.value=$Maybe("Just",S),unit)})(m)]))(g)(),b=w.value,M=$.value,P=(()=>{if(b.tag==="Nothing")return()=>()=>unit;if(b.tag==="Just"){if(M.tag==="Nothing")return()=>()=>unit;if(M.tag==="Just")return h(oneOf$i([applicativeEvent.pure(m.makeRenderPass({id:y,parent:d.parent,renderPass:o.renderPass,camera:M._1,scene:b._1}))]))(g);fail$3()}fail$3()})()(),I=g(m.deleteFromCache({id:y}));return()=>(I(),v(),P())})),$UnrealBloomPassOptions=()=>({tag:"UnrealBloomPassOptions"}),identity$b=o=>o,oneOf$h=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),UnrealBloomPassOptions=$UnrealBloomPassOptions(),convertOptionUnrealBloomP={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP1={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP2={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP3={convertOption:o=>u=>identity$b},convertOptionUnrealBloomP4={convertOption:o=>u=>identity$b},unrealBloomPass$3=o=>u=>f=>{const d=o.toInitializeUnrealBloomPass(u);return $Entity("Element'",m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$h([applicativeEvent.pure(h.makeUnrealBloomPass({id:_,parent:m.parent,unrealBloomPass:d.unrealBloomPass,resolution:d.resolution,strength:d.strength,radius:d.radius,threshold:d.threshold})),(v,b)=>f(v,M=>{const P=onMatch()()()({resolution:I=>h.setResolution({id:_,resolution:I}),strength:I=>h.setStrength({id:_,strength:I}),radius:I=>h.setRadius({id:_,radius:I}),threshold:I=>h.setThreshold({id:_,threshold:I})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())}))},defaultUnrealBloomPass={},undefinedImpl=void 0,GLOBAL_SCOPE="@global@",nada=()=>{},genericMake_=o=>u=>f=>d=>{const{id:m,scope:h,parent:g,...y}=f,_=h||GLOBAL_SCOPE;d.scopes[_]||(d.scopes[_]=[]),d.scopes[_].push(m),d.units[m]={listeners:{},parent:g,scope:_,main:o(y)},g!==void 0&&u(d.units[m],d.units[g])},stripUndefined_=o=>{const u={...o};for(const f in o)o[f]===void 0&&delete u[f];return u},connectToScene_=o=>u=>u.units[o.parent].main.add(u.units[o.id].main),connectMesh_=o=>u=>u.units[o.parent].main.add(u.units[o.id].main),connectGeometry_=o=>u=>{u.units[o.parent].main.geometry=u.units[o.id].main},connectScene_=o=>u=>{},connectCamera_=o=>u=>{u.units[o.parent]&&(u.units[o.parent].main.isScene||u.units[o.parent].main.isGroup)&&u.units[o.parent].main.add(u.units[o.id].main)},connectMaterial_=o=>u=>{u.units[o.parent].main.material=u.units[o.id].main},withAtts=o=>u=>{const f=o(u),d=Object.entries(u.bufferAttributes);for(var m=0;m<d.length;m++)f.setAttribute(d[m][0],d[m][1]);const h=Object.entries(u.instancedBufferAttributes);for(var m=0;m<h.length;m++)f.setAttribute(h[m][0],h[m][1]);return f},makeBox_=genericMake_(withAtts(o=>new o.box(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)))((o,u)=>{u.main.geometry=o.main}),makePlane_=genericMake_(withAtts(o=>new o.plane(o.width,o.height,o.widthSegments,o.heightSegments)))((o,u)=>{u.main.geometry=o.main}),makeBufferGeometry_=genericMake_(withAtts(o=>new o.bufferGeometry))((o,u)=>{u.main.geometry=o.main}),makeCapsule_=genericMake_(withAtts(o=>new o.capsule(o.radius,o.length,o.capSegments,o.radialSegments)))((o,u)=>{u.main.geometry=o.main}),makeCylinder_=genericMake_(withAtts(o=>new o.cylinder(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makeSphere_=genericMake_(withAtts(o=>new o.sphere(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)))((o,u)=>{u.main.geometry=o.main}),makePerspectiveCamera_=genericMake_(o=>new o.perspectiveCamera(o.fov,o.aspect,o.near,o.far))(nada),makeGLTFCamera_=genericMake_(({camera:o})=>o)(nada),ascSort=function(o,u){return o.distance-u.distance},makeInstancedMesh_=o=>u=>{const f=new o.matrix4,d=new o.matrix4,m=[],h=new o.mesh;class g extends o.instancedMesh{constructor(I,S,C){super(I,S,C)}raycastInstances(I,S,C){const O=this.matrixWorld,B=S!==void 0?S.length:this.count;if(h.geometry=this.geometry,h.material=this.material,h.material!==void 0)for(let N=0;N<B;N++){const R=S!==void 0?S[N]:N;this.getMatrixAt(R,f),d.multiplyMatrices(O,f),h.matrixWorld=d,h.raycast(I,m);for(let L=0,z=m.length;L<z;L++){const Y=m[L];Y.instanceId=R,Y.object=this,C.push(Y)}m.length=0}}}const{id:y,scope:_,parent:w,geometry:$,material:v,count:b}=o,M=_||GLOBAL_SCOPE;u.scopes[M]||(u.scopes[M]=[]),u.scopes[M].push(y),u.units[y]={listeners:{},parent:w,scope:M,main:new g(u.units[$].main,u.units[v].main,b)},w!==void 0&&u.units[w].main.add(u.units[y].main)},makeMesh_=genericMake_(o=>new o.mesh)((o,u)=>{u.main.add(o.main)}),makePoints_=genericMake_(o=>new o.points)((o,u)=>{u.main.add(o.main)}),makeCSS2DObject_=genericMake_(o=>new o.css2DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeCSS3DObject_=genericMake_(o=>new o.css3DObject(o.nut))((o,u)=>{u.main.add(o.main)}),makeAmbientLight_=genericMake_(o=>new o.ambientLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makeDirectionalLight_=genericMake_(o=>new o.directionalLight(o.color,o.intensity))((o,u)=>{u.main.add(o.main)}),makePointLight_=genericMake_(o=>new o.pointLight(o.color,o.intensity,o.distance,o.decay))((o,u)=>{u.main.add(o.main)}),withMaterialParameters_=o=>u=>{const f=o(u);return Object.entries(u.materialParameters).forEach(([m,h])=>{f[m]=h}),f},makeShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{shaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeRawShaderMaterial_=genericMake_(withMaterialParameters_(({parameters:{rawShaderMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshBasicMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshBasicMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshPhongMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshPhongMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),makeMeshStandardMaterial_=genericMake_(withMaterialParameters_(({parameters:{meshStandardMaterial:o,...u}})=>new o(u)))((o,u)=>{u.main.material=o.main}),setSize_=o=>u=>{u.units[o.id].main.setSize(o.width,o.height)},setSizeThroughEffectComposer_=o=>u=>{u.units[o.id].main.renderer.setSize(o.width,o.height)},makeScene_=genericMake_(o=>new o.scene)(nada),makeGroup_=genericMake_(o=>new o.group)((o,u)=>{u.main.add(o.main)}),makeGLTFGroup_=genericMake_(({group:o})=>o)((o,u)=>{u.main.add(o.main)}),effectComposerRender_=o=>u=>{u.units[o.id].main.render()},webGLRender_=o=>u=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css2DRender_=o=>u=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},css3DRender_=o=>u=>{u.units[o.id].main.render(u.units[o.scene].main,u.units[o.camera].main)},getAllTouches=o=>{const u=[];for(let f=0;f<o.length;f++)u.push(o.item(f));return u},intersectInstance=(o,u,f,d=[])=>(u.layers.test(o.layers)&&u.raycastInstances(o,f,d),d.sort(ascSort),d),doFinalThunk=(o,u,f)=>{u==="mouseup"?(Object.entries(f.listeners.upformousedown).forEach(([m,h])=>{h(o)()}),f.listeners.upformousedown={}):u==="touchend"?(Object.values(f.listeners.endfortouchstart).forEach(m=>{m(o)()}),f.listeners.endfortouchstart={}):u==="touchcancel"&&(Object.values(f.listeners.cancelfortouchstart).forEach(m=>{m(o)()}),f.listeners.cancelfortouchstart={})},assignThunk=(o,u,f,d)=>{f==="mousedown"?d.listeners.upformousedown[o]=u:f==="touchstart"&&(d.listeners.endfortouchstart[o]=u.end,d.listeners.cancelfortouchstart[o]=u.cancel)},makeRenderPass_=o=>u=>{const f=new o.renderPass(u.units[o.scene].main,u.units[o.camera].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeRaycaster_=o=>u=>{setUpForRaycasting(o,u)},makeGlitchPass_=o=>u=>{const f=new o.glitchPass(o.dtSize);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposerPass_=o=>u=>{const f=new o.effectComposerPass(u.units[o.effectComposer].main);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeBloomPass_=o=>u=>{const f=new o.bloomPass(o.strength,o.kernelSize,o.sigma,o.resolution);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeUnrealBloomPass_=o=>u=>{const f=new o.unrealBloomPass(o.resolution,o.strength,o.radius,o.threshold);u.units[o.id]={main:f},o.parent!==void 0&&u.units[o.parent].main.addPass(f)},makeEffectComposer_=o=>u=>{const f=o.id,d=new o.effectComposer(u.units[o.webGLRenderer].main);u.units[f]={main:d}},setUpForRaycasting=(o,u)=>{const f=new o.raycaster,d=u.units[o.camera].main,m=h=>{o.canvas.addEventListener(h,g=>{const y=Object.entries(u.listeners[h]),_=h.indexOf("touch")!==-1?getAllTouches(g.touches):[g];doFinalThunk(g,h,u),y.length>0&&_.forEach($=>{const v=$.clientX/window.innerWidth*2-1,b=-($.clientY/window.innerHeight)*2+1;f.setFromCamera({x:v,y:b},d),y.forEach(([M,P])=>{const I=u.units[M].main;if(f.intersectObject(I).length>0){const C=P($)();assignThunk(M,C,h,u)}})});const w=Object.entries(u.listeners[h+"Instanced"]);w.length>0&&_.forEach($=>{const v=$.clientX/window.innerWidth*2-1,b=-($.clientY/window.innerHeight)*2+1;f.setFromCamera({x:v,y:b},d),w.forEach(([M,P])=>{const I=u.units[M].main;Object.entries(P).forEach(([S,C])=>{if(intersectInstance(f,I,[S]).length>0){const B=C($)();assignThunk(S,B,h,u)}})})})})};m("click"),m("mousedown"),m("mouseup"),m("mousemove"),m("touchstart"),m("touchend"),m("touchmove"),m("touchcancel")},makeWebGLRendererInternal_=(o,u)=>{const{id:f,...d}=o,m=d.canvas,h=new o.webGLRenderer(d);u.units[o.id]={main:h},h.setSize(m.width,m.height),h.setPixelRatio(Math.min(window.devicePixelRatio,2))},makeWebGLRenderer_=o=>u=>{makeWebGLRendererInternal_(o,u)},makeCSS2DRenderer_=o=>u=>{const{id:f,canvas:d,element:m}=o,h=new o.css2DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},makeCSS3DRenderer_=o=>u=>{const{id:f,canvas:d,element:m}=o,h=new o.css3DRenderer({element:m});h.setSize(d.offsetWidth,d.offsetHeight),u.units[f]={main:h}},setOnClick_=o=>u=>{u.listeners.click[o.id]=o.onClick},setOnMouseDown_=o=>u=>{u.listeners.mousedown[o.id]=o.onMouseDown},setOnMouseUp_=o=>u=>{u.listeners.mouseup[o.id]=o.onMouseUp},setOnMouseMove_=o=>u=>{u.listeners.mousemove[o.id]=o.onMouseMove},setOnTouchStart_=o=>u=>{u.listeners.touchstart[o.id]=o.onTouchStart},setOnTouchEnd_=o=>u=>{u.listeners.touchend[o.id]=o.onTouchEnd},setOnTouchMove_=o=>u=>{u.listeners.touchmove[o.id]=o.onTouchMove},setOnTouchCancel_=o=>u=>{u.listeners.touchcancel[o.id]=o.onTouchCancel},removeOnClick_=o=>u=>{delete u.listeners.click[o.id]},removeOnMouseDown_=o=>u=>{delete u.listeners.mousedown[o.id]},removeOnMouseUp_=o=>u=>{delete u.listeners.mouseup[o.id]},removeOnMouseMove_=o=>u=>{delete u.listeners.mousemove[o.id]},removeOnTouchStart_=o=>u=>{delete u.listeners.touchstart[o.id]},removeOnTouchEnd_=o=>u=>{delete u.listeners.touchend[o.id]},removeOnTouchMove_=o=>u=>{delete u.listeners.touchmove[o.id]},removeOnTouchCancel_=o=>u=>{delete u.listeners.touchcancel[o.id]},setIMOnClick_=o=>u=>{u.listeners.clickInstanced[o.id]||(u.listeners.clickInstanced[o.id]={}),u.listeners.clickInstanced[o.id][o.instanceId]=o.onClick},setIMOnMouseDown_=o=>u=>{u.listeners.mousedownInstanced[o.id]||(u.listeners.mousedownInstanced[o.id]={}),u.listeners.mousedownInstanced[o.id][o.instanceId]=o.onMouseDown},setIMOnMouseUp_=o=>u=>{u.listeners.mouseupInstanced[o.id]||(u.listeners.mouseupInstanced[o.id]={}),u.listeners.mouseupInstanced[o.id][o.instanceId]=o.onMouseUp},setIMOnMouseMove_=o=>u=>{u.listeners.mousemoveInstanced[o.id]||(u.listeners.mousemoveInstanced[o.id]={}),u.listeners.mousemoveInstanced[o.id][o.instanceId]=o.onMouseMove},setIMOnTouchStart_=o=>u=>{u.listeners.touchstartInstanced[o.id]||(u.listeners.touchstartInstanced[o.id]={}),u.listeners.touchstartInstanced[o.id][o.instanceId]=o.onTouchStart},setIMOnTouchEnd_=o=>u=>{u.listeners.touchendInstanced[o.id]||(u.listeners.touchendInstanced[o.id]={}),u.listeners.touchendInstanced[o.id][o.instanceId]=o.onTouchEnd},setIMOnTouchMove_=o=>u=>{u.listeners.touchmoveInstanced[o.id]||(u.listeners.touchmoveInstanced[o.id]={}),u.listeners.touchmoveInstanced[o.id][o.instanceId]=o.onTouchMove},setIMOnTouchCancel_=o=>u=>{u.listeners.touchcancelInstanced[o.id]||(u.listeners.touchcancelInstanced[o.id]={}),u.listeners.touchcancelInstanced[o.id][o.instanceId]=o.onTouchCancel},removeIMOnClick_=o=>u=>{delete u.listeners.clickInstanced[o.id][o.instanceId]},removeIMOnMouseDown_=o=>u=>{delete u.listeners.mousedownInstanced[o.id][o.instanceId]},removeIMOnMouseUp_=o=>u=>{delete u.listeners.mouseupInstanced[o.id][o.instanceId]},removeIMOnMouseMove_=o=>u=>{delete u.listeners.mousemoveInstanced[o.id][o.instanceId]},removeIMOnTouchStart_=o=>u=>{delete u.listeners.touchstartInstanced[o.id][o.instanceId]},removeIMOnTouchEnd_=o=>u=>{delete u.listeners.touchendInstanced[o.id][o.instanceId]},removeIMOnTouchMove_=o=>u=>{delete u.listeners.touchmoveInstanced[o.id][o.instanceId]},removeIMOnTouchCancel_=o=>u=>{delete u.listeners.touchcancelInstanced[o.id][o.instanceId]},setWidth_=o=>u=>{u.units[o.id].main.width=o.width},setHeight_=o=>u=>{u.units[o.id].main.height=o.height},setDepth_=o=>u=>{u.units[o.id].main.depth=o.depth},setLength_=o=>u=>{u.units[o.id].main.length=o.length},setAlphaTest_=o=>u=>{u.units[o.id].main.alphaTest=o.alphaTest},setAlphaToCoverage_=o=>u=>{u.units[o.id].main.alphaToCoverage=o.alphaToCoverage},setBlendDst_=o=>u=>{u.units[o.id].main.blendDst=o.blendDst},setBlendDstAlpha_=o=>u=>{u.units[o.id].main.blendDstAlpha=o.blendDstAlpha},setBlendEquation_=o=>u=>{u.units[o.id].main.blendEquation=o.blendEquation},setBlendEquationAlpha_=o=>u=>{u.units[o.id].main.blendEquationAlpha=o.blendEquationAlpha},setBlending_=o=>u=>{u.units[o.id].main.blending=o.blending},setBlendSrc_=o=>u=>{u.units[o.id].main.blendSrc=o.blendSrc},setBlendSrcAlpha_=o=>u=>{u.units[o.id].main.blendSrcAlpha=o.blendSrcAlpha},setClipIntersection_=o=>u=>{u.units[o.id].main.clipIntersection=o.clipIntersection},setClipShadows_=o=>u=>{u.units[o.id].main.clipShadows=o.clipShadows},setColorWrite_=o=>u=>{u.units[o.id].main.colorWrite=o.colorWrite},setDepthFunc_=o=>u=>{u.units[o.id].main.depthFunc=o.depthFunc},setDepthTest_=o=>u=>{u.units[o.id].main.depthTest=o.depthTest},setDepthWrite_=o=>u=>{u.units[o.id].main.depthWrite=o.depthWrite},setOpacity_=o=>u=>{u.units[o.id].main.opacity=o.opacity},setPolygonOffset_=o=>u=>{u.units[o.id].main.polygonOffset=o.polygonOffset},setPolygonOffsetFactor_=o=>u=>{u.units[o.id].main.polygonOffsetFactor=o.polygonOffsetFactor},setPolygonOffsetUnits_=o=>u=>{u.units[o.id].main.polygonOffsetUnits=o.polygonOffsetUnits},setPrecision_=o=>u=>{u.units[o.id].main.precision=o.precision},setPremultipliedAlpha_=o=>u=>{u.units[o.id].main.premultipliedAlpha=o.premultipliedAlpha},setDithering_=o=>u=>{u.units[o.id].main.dithering=o.dithering},setShadowSide_=o=>u=>{u.units[o.id].main.shadowSide=o.shadowSide},setSide_=o=>u=>{u.units[o.id].main.side=o.side},setToneMapped_=o=>u=>{u.units[o.id].main.toneMapped=o.toneMapped},setTransparent_=o=>u=>{u.units[o.id].main.transparent=o.transparent},setVertexColors_=o=>u=>{u.units[o.id].main.vertexColors=o.vertexColors},setVisible_=o=>u=>{u.units[o.id].main.visible=o.visible},setBackgroundColor_=o=>u=>{u.units[o.id].main.background=o.color},setBackgroundTexture_=o=>u=>{u.units[o.id].main.background=o.texture},setBackgroundCubeTexture_=o=>u=>{u.units[o.id].main.background=o.cubeTexture},setThreshold_$1=o=>u=>{u.units[o.id].main.threshold=o.threshold},setStrength_=o=>u=>{u.units[o.id].main.strength=o.strength},setResolution_=o=>u=>{u.units[o.id].main.resolution=o.resolution},setRadius_=o=>u=>{u.units[o.id].main.radius=o.radius},setWidthSegments_=o=>u=>{u.units[o.id].main.widthSegments=o.widthSegments},setHeightSegments_=o=>u=>{u.units[o.id].main.heightSegments=o.heightSegments},setDepthSegments_=o=>u=>{u.units[o.id].main.depthSegments=o.depthSegments},setCapSegments_=o=>u=>{u.units[o.id].main.capSegments=o.capSegments},setRadialSegments_=o=>u=>{u.units[o.id].main.radialSegments=o.radialSegments},setPhiStart_=o=>u=>{u.units[o.id].main.phiStart=o.phiStart},setPhiLength_=o=>u=>{u.units[o.id].main.phiLength=o.phiLength},setThetaStart_=o=>u=>{u.units[o.id].main.thetaStart=o.thetaStart},setThetaLength_=o=>u=>{u.units[o.id].main.thetaLength=o.thetaLength},setMatrix4_=o=>u=>{u.units[o.id].main.applyMatrix4(o.matrix4)},setQuaternion_=o=>u=>{u.units[o.id].main.applyQuaternion(o.quaternion)},setRotateX_=o=>u=>{u.units[o.id].main.rotateX(o.rotateX)},setRotateY_=o=>u=>{u.units[o.id].main.rotateY(o.rotateY)},setRotateZ_=o=>u=>{u.units[o.id].main.rotateZ(o.rotateZ)},setTranslate_=o=>u=>{u.units[o.id].main.translate(o.x,o.y,o.z)},setScale_=o=>u=>{u.units[o.id].main.scale(o.x,o.y,o.z)},setScaleX_=o=>u=>{u.units[o.id].main.scale.x=o.scaleX},setScaleY_=o=>u=>{u.units[o.id].main.scale.y=o.scaleY},setScaleZ_=o=>u=>{u.units[o.id].main.scale.z=o.scaleZ},setLookAt_=o=>u=>{u.units[o.id].main.lookAt(o.v)},setCenter_=o=>u=>{u.units[o.id].main.center()},getBoundingBox_=o=>u=>{u.units[o.id].main.computeBoundingBox(),o.box(u.units[o.id].main.boundingBox)()},getBoundingSphere_=o=>u=>{u.units[o.id].main.computeBoundingSphere(),o.box(u.units[o.id].main.boundingSphere)()},setInstancedMeshMatrix4_=o=>u=>{const f=u.units[o.id].main;let d=!1;o.setMatrix4((m,h)=>{d=!0,f.setMatrixAt(m,h)}),f.instanceMatrix.needsUpdate=d},setInstancedMeshColor_=o=>u=>{const f=u.units[o.id].main;let d=!1;o.setColor((m,h)=>{d=!0,f.setColorAt(m,h)}),f.instanceColor.needsUpdate=d},setSingleInstancedMeshMatrix4_=o=>u=>{const f=u.units[o.id].main;f.setMatrixAt(o.instanceId,o.matrix4),f.instanceMatrix.needsUpdate=!0},setSingleInstancedMeshColor_=o=>u=>{const f=u.units[o.id].main;f.setColorAt(o.instanceId,o.color),f.instanceColor.needsUpdate=!0},setCombine_=o=>u=>{u.units[o.id].main.combine=o.combine},setFog_=o=>u=>{u.units[o.id].main.fog=o.fog},setReflectivity_=o=>u=>{u.units[o.id].main.reflectivity=o.reflectivity},setRefractionRatio_=o=>u=>{u.units[o.id].main.refractionRatio=o.refractionRatio},setShininess_=o=>u=>{u.units[o.id].main.shininess=o.shininess},setSpecular_=o=>u=>{u.units[o.id].main.specular=o.specular},setSpecularMap_=o=>u=>{u.units[o.id].main.specularMap=o.specularMap},setWireframeLinecap_=o=>u=>{u.units[o.id].main.wireframeLinecap=o.wireframeLinecap},setWireframeLinejoin_=o=>u=>{u.units[o.id].main.wireframeLinejoin=o.wireframeLinejoin},setColor_=o=>u=>{u.units[o.id].main.color=o.color},setRoughness_=o=>u=>{u.units[o.id].main.roughness=o.roughness},setMetalness_=o=>u=>{u.units[o.id].main.metalness=o.metalness},setMap_=o=>u=>{u.units[o.id].main.map=o.map},setLightMap_=o=>u=>{u.units[o.id].main.lightMap=o.lightMap},setLightMapIntensity_=o=>u=>{u.units[o.id].main.lightMapIntensity=o.lightMapIntensity},setAoMap_=o=>u=>{u.units[o.id].main.aoMap=o.aoMap},setAoMapIntensity_=o=>u=>{u.units[o.id].main.aoMapIntensity=o.aoMapIntensity},setEmissive_=o=>u=>{u.units[o.id].main.emissive=o.emissive},setEmissiveIntensity_=o=>u=>{u.units[o.id].main.emissiveIntensity=o.emissiveIntensity},setEmissiveMap_=o=>u=>{u.units[o.id].main.emissiveMap=o.emissiveMap},setBumpMap_=o=>u=>{u.units[o.id].main.bumpMap=o.bumpMap},setBumpScale_=o=>u=>{u.units[o.id].main.bumpScale=o.bumpScale},setNormalMap_=o=>u=>{u.units[o.id].main.normalMap=o.normalMap},setNormalMapType_=o=>u=>{u.units[o.id].main.normalMapType=o.normalMapType},setNormalScale_=o=>u=>{u.units[o.id].main.normalScale=o.normalScale},setDisplacementMap_=o=>u=>{u.units[o.id].main.displacementMap=o.displacementMap},setDisplacementScale_=o=>u=>{u.units[o.id].main.displacementScale=o.displacementScale},setDisplacementBias_=o=>u=>{u.units[o.id].main.displacementBias=o.displacementBias},setRoughnessMap_=o=>u=>{u.units[o.id].main.roughnessMap=o.roughnessMap},setMetalnessMap_=o=>u=>{u.units[o.id].main.metalnessMap=o.metalnessMap},setAlphaMap_=o=>u=>{u.units[o.id].main.alphaMap=o.alphaMap},setEnvMap_=o=>u=>{u.units[o.id].main.envMap=o.envMap},setEnvMapIntensity_=o=>u=>{u.units[o.id].main.envMapIntensity=o.envMapIntensity},setWireframe_=o=>u=>{u.units[o.id].main.wireframe=o.wireframe},setWireframeLinewidth_=o=>u=>{u.units[o.id].main.wireframeLinewidth=o.wireframeLinewidth},setFlatShading_=o=>u=>{u.units[o.id].main.flatShading=o.flatShading},setDistance_=o=>u=>{u.units[o.id].main.distance=o.distance},setDecay_=o=>u=>{u.units[o.id].main.decay=o.decay},setIntensity_=o=>u=>{u.units[o.id].main.intensity=o.intensity},setRotationFromAxisAngle_=o=>u=>{u.units[o.id].main.setRotationFromAxisAngle(o.axis,o.angle)},setRotationFromEuler_=o=>u=>{u.units[o.id].main.setRotationFromEuler(o.euler)},setRotationFromMatrix_=o=>u=>{u.units[o.id].main.setRotationFromMatrix(o.matrix4)},setRotationFromQuaternion_=o=>u=>{u.units[o.id].main.setRotationFromQuaternion(o.quaternion)},setRotateOnAxis_=o=>u=>{u.units[o.id].main.rotateOnAxis(o.axis,o.angle)},setRotateOnWorldAxis_=o=>u=>{u.units[o.id].main.rotateOnWorldAxis(o.axis,o.angle)},setTranslateOnAxis_=o=>u=>{u.units[o.id].main.translateOnAxis(o.axis,o.distance)},setTranslateX_=o=>u=>{u.units[o.id].main.translateX(o.translateX)},setTranslateY_=o=>u=>{u.units[o.id].main.translateY(o.translateY)},setTranslateZ_=o=>u=>{u.units[o.id].main.translateZ(o.translateZ)},setPositionX_=o=>u=>{u.units[o.id].main.position.x=o.positionX},setPositionY_=o=>u=>{u.units[o.id].main.position.y=o.positionY},setPositionZ_=o=>u=>{u.units[o.id].main.position.z=o.positionZ},setUniform_=o=>u=>{u.units[o.id].main.uniforms[o.key].value=o.value},setAspect_=o=>u=>{u.units[o.id].main.aspect=o.aspect,u.units[o.id].main.updateProjectionMatrix()},setFar_=o=>u=>{u.units[o.id].main.far=o.far,u.units[o.id].main.updateProjectionMatrix()},setFilmGauge_=o=>u=>{u.units[o.id].main.filmGauge=o.filmGauge,u.units[o.id].main.updateProjectionMatrix()},setFilmOffset_=o=>u=>{u.units[o.id].main.filmOffset=o.filmOffset,u.units[o.id].main.updateProjectionMatrix()},setFocus_=o=>u=>{u.units[o.id].main.focus=o.focus,u.units[o.id].main.updateProjectionMatrix()},setFov_=o=>u=>{u.units[o.id].main.fov=o.fov,u.units[o.id].main.updateProjectionMatrix()},setNear_=o=>u=>{u.units[o.id].main.updateProjectionMatrix(),u.units[o.id].main.near=o.near},setZoom_=o=>u=>{u.units[o.id].main.zoom=o.zoom,u.units[o.id].main.updateProjectionMatrix()},setFocalLength_=o=>u=>{u.units[o.id].main.setFocalLength(o.focalLength)},setViewOffset_=({id:o,fullWidth:u,fullHeight:f,x:d,y:m,width:h,height:g})=>y=>{y.units[o].main.setViewOffset(u,f,d,m,h,g)},makeFFIThreeSnapshot=()=>({units:{},scopes:{},listeners:{click:{},mousemove:{},mouseup:{},mousedown:{},touchstart:{},touchend:{},touchmove:{},touchcancel:{},clickInstanced:{},mousemoveInstanced:{},mouseupInstanced:{},mousedownInstanced:{},touchstartInstanced:{},touchendInstanced:{},touchmoveInstanced:{},touchcancelInstanced:{},upformousedown:{},endfortouchstart:{},cancelfortouchstart:{}}}),disconnect_=o=>u=>{const f=o.id;u.units[f].main.removeFromParent(),o.scope!==GLOBAL_SCOPE&&(u.units[f].main.isBufferGeometry||u.units[f].main.isMaterial)&&u.units[f].main.dispose()},disconnectPass_=o=>u=>{const f=o.id,d=o.parent;u.units[d].main.removePass(u.units[f].main)},deleteFromCache_$1=o=>u=>{!u.units[o.id].main.isScene&&u.units[o.id].main.dispose&&u.units[o.id].main.dispose(),u.units[o.id].main.removeFromParent&&u.units[o.id].main.removeFromParent(),delete u.units[o.id]},identity$a=o=>o,identity1=o=>o,mempty$1=o=>u=>unit,fFIMeWireframeLinejoinStr={ffiMe:o=>{if(o.tag==="Round")return"round";if(o.tag==="Bevel")return"bevel";if(o.tag==="Miter")return"miter";fail$3()}},fFIMeWireframeLinecapStri={ffiMe:o=>{if(o.tag==="Butt")return"butt";if(o.tag==="Round")return"round";if(o.tag==="Square")return"square";fail$3()}},fFIMeWebGLRenderingPrecis={ffiMe:o=>{if(o.tag==="High")return"highp";if(o.tag==="Medium")return"mediump";if(o.tag==="Low")return"lowp";fail$3()}},fFIMeWebGLRenderingPowerP={ffiMe:o=>{if(o.tag==="High")return"high-performance";if(o.tag==="Default")return"default";if(o.tag==="Low")return"low-power";fail$3()}},fFIMeVector2Vector2={ffiMe:identity$a},fFIMeTWebGLRendererTWebGL={ffiMe:identity$a},fFIMeTUnrealBloomPassTUnr={ffiMe:identity$a},fFIMeTSphereGeometryTSphe={ffiMe:identity$a},fFIMeTShaderMaterialTShad={ffiMe:identity$a},fFIMeTSceneTScene={ffiMe:identity$a},fFIMeTRenderPassTRenderPa={ffiMe:identity$a},fFIMeTRaycasterTRaycaster={ffiMe:identity$a},fFIMeTRawShaderMaterialTR={ffiMe:identity$a},fFIMeTPointsTPoints={ffiMe:identity$a},fFIMeTPointLightTPointLig={ffiMe:identity$a},fFIMeTPlaneGeometryTPlane={ffiMe:identity$a},fFIMeTPerspectiveCameraTP={ffiMe:identity$a},fFIMeTMeshTMesh={ffiMe:identity$a},fFIMeTMeshStandardMateria={ffiMe:identity$a},fFIMeTMeshPhongMaterialTM={ffiMe:identity$a},fFIMeTMeshBasicMaterialTM={ffiMe:identity$a},fFIMeTMatrix4TMatrix4={ffiMe:identity$a},fFIMeTInstancedMeshTInsta={ffiMe:identity$a},fFIMeTGroupTGroup={ffiMe:identity$a},fFIMeTGlitchPassTGlitchPa={ffiMe:identity$a},fFIMeTEffectComposerTEffe={ffiMe:identity$a},fFIMeTEffectComposerPassT={ffiMe:identity$a},fFIMeTDirectionalLightTDi={ffiMe:identity$a},fFIMeTCylinderGeometryTCy={ffiMe:identity$a},fFIMeTCapsuleGeometryTCap={ffiMe:identity$a},fFIMeTCSS3DRendererTCSS3D={ffiMe:identity$a},fFIMeTCSS3DObjectTCSS3DOb={ffiMe:identity$a},fFIMeTCSS2DRendererTCSS2D={ffiMe:identity$a},fFIMeTCSS2DObjectTCSS2DOb={ffiMe:identity$a},fFIMeTBufferGeometryTBuff={ffiMe:identity$a},fFIMeTBoxGeometryTBoxGeom={ffiMe:identity$a},fFIMeTBloomPassTBloomPass={ffiMe:identity$a},fFIMeTAmbientLightTAmbien={ffiMe:identity$a},fFIMeStringString={ffiMe:identity$a},fFIMeScopeUndefinableStri={ffiMe:o=>{if(o.tag==="Global")return undefinedImpl;if(o.tag==="Local")return o._1;fail$3()}},fFIMeRawGroupRawGroup={ffiMe:identity$a},fFIMeRawCameraRawCamera={ffiMe:identity$a},fFIMeNumberNumber={ffiMe:identity$a},fFIMeNormalMapTypeInt={ffiMe:o=>{if(o.tag==="TangentSpaceNormalMap")return 0;if(o.tag==="ObjectSpaceNormalMap")return 1;fail$3()}},fFIMeIntInt={ffiMe:identity$a},fFIMeHTMLCanvasElementHTM={ffiMe:identity$a},fFIMeForeignForeign={ffiMe:identity$a},fFIMeElementElement={ffiMe:identity$a},fFIMeCombineOperationInt={ffiMe:o=>{if(o.tag==="MultiplyOperation")return 0;if(o.tag==="MixOperation")return 1;if(o.tag==="AddOperation")return 2;fail$3()}},fFIMeColorColor={ffiMe:identity$a},fFIMeBooleanBoolean={ffiMe:identity$a},fFIIzeNilRow={"ffiize'":o=>u=>identity1},ffiize=()=>o=>u=>stripUndefined_(o["ffiize'"]($$Proxy)(u)({})),fFIIzeCons=o=>u=>f=>()=>()=>()=>()=>({"ffiize'":d=>m=>{const h=insert$1()()(o)($$Proxy)(u.ffiMe(unsafeGet(o.reflectSymbol($$Proxy))(m))),g=f["ffiize'"]($$Proxy)(m);return y=>h(g(y))}}),ffiize2=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeTEffectComposerTEffe)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()()),ffiize3=ffiize()(fFIIzeCons({reflectSymbol:()=>"alpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"antialias"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"failIfMajorPerformanceCaveat"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"logarithmicDepthBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"powerPreference"})(fFIMeWebGLRenderingPowerP)(fFIIzeCons({reflectSymbol:()=>"precision"})(fFIMeWebGLRenderingPrecis)(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"preserveDrawingBuffer"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"stencil"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"webGLRenderer"})(fFIMeTWebGLRendererTWebGL)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons14=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeNilRow)()()()(),fFIIzeCons15=fFIIzeCons({reflectSymbol:()=>"element"})(fFIMeElementElement)(fFIIzeCons14)()()()(),ffiize4=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css2DRenderer"})(fFIMeTCSS2DRendererTCSS2D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize5=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"css3DRenderer"})(fFIMeTCSS3DRendererTCSS3D)(fFIIzeCons15)()()()())()()()())()()()()),ffiize6=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"canvas"})(fFIMeHTMLCanvasElementHTM)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"raycaster"})(fFIMeTRaycasterTRaycaster)(fFIIzeNilRow)()()()())()()()())()()()())()()()()),fFIIzeCons17=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeNilRow)()()()(),fFIIzeCons24=fFIIzeCons({reflectSymbol:()=>"widthSegments"})(fFIMeIntInt)(fFIIzeNilRow)()()()(),fFIIzeCons25=fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"width"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()(),fFIIzeCons31=fFIIzeCons({reflectSymbol:()=>"uniforms"})(fFIMeForeignForeign)(fFIIzeCons({reflectSymbol:()=>"vertexShader"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()(),fFIIzeCons33=fFIIzeCons({reflectSymbol:()=>"normalMapType"}),ffiize7=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"normalMapType"})(fFIMeNormalMapTypeInt)(fFIIzeNilRow)()()()())()()()()),ffiize8=ffiize()(fFIIzeCons({reflectSymbol:()=>"combine"})(fFIMeCombineOperationInt)(fFIIzeCons14)()()()()),ffiize9=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})(fFIMeWireframeLinecapStri)(fFIIzeNilRow)()()()())()()()()),ffiize10=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})(fFIMeWireframeLinejoinStr)(fFIIzeNilRow)()()()())()()()()),ffiize11=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"renderPass"})(fFIMeTRenderPassTRenderPa)(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()()),fFIIzeCons37=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeNilRow)()()()())()()()(),ffiize12=ffiize()(fFIIzeCons({reflectSymbol:()=>"effectComposer"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"effectComposerPass"})(fFIMeTEffectComposerPassT)(fFIIzeCons37)()()()())()()()()),ffiize13=ffiize()(fFIIzeCons({reflectSymbol:()=>"dtSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"glitchPass"})(fFIMeTGlitchPassTGlitchPa)(fFIIzeCons37)()()()())()()()()),ffiize14=ffiize()(fFIIzeCons({reflectSymbol:()=>"bloomPass"})(fFIMeTBloomPassTBloomPass)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"kernelSize"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"sigma"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize15=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"resolution"})(fFIMeVector2Vector2)(fFIIzeCons({reflectSymbol:()=>"strength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"threshold"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"unrealBloomPass"})(fFIMeTUnrealBloomPassTUnr)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize16=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"scene"})(fFIMeTSceneTScene)(fFIIzeCons17)()()()())()()()())()()()()),fFIIzeCons38=fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons17)()()()(),fFIIzeCons39=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons38)()()()(),ffiize17=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeTGroupTGroup)(fFIIzeCons39)()()()()),ffiize18=ffiize()(fFIIzeCons({reflectSymbol:()=>"group"})(fFIMeRawGroupRawGroup)(fFIIzeCons39)()()()()),fFIIzeCons40=fFIIzeCons({reflectSymbol:()=>"mesh"})(fFIMeTMeshTMesh)(fFIIzeCons38)()()()(),ffiize19=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons40)()()()()),ffiize20=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"points"})(fFIMeTPointsTPoints)(fFIIzeCons17)()()()())()()()())()()()()),ffiize21=ffiize()(fFIIzeCons({reflectSymbol:()=>"count"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"geometry"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedMesh"})(fFIMeTInstancedMeshTInsta)(fFIIzeCons({reflectSymbol:()=>"material"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"matrix4"})(fFIMeTMatrix4TMatrix4)(fFIIzeCons40)()()()())()()()())()()()())()()()())()()()())()()()()),fFIIzeCons41=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons38)()()()())()()()(),ffiize22=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"directionalLight"})(fFIMeTDirectionalLightTDi)(fFIIzeCons41)()()()())()()()()),ffiize23=ffiize()(fFIIzeCons({reflectSymbol:()=>"ambientLight"})(fFIMeTAmbientLightTAmbien)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons41)()()()())()()()()),ffiize24=ffiize()(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeColorColor)(fFIIzeCons({reflectSymbol:()=>"decay"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"distance"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"intensity"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"pointLight"})(fFIMeTPointLightTPointLig)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize25=ffiize()(fFIIzeCons({reflectSymbol:()=>"aspect"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"far"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"fov"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"near"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"perspectiveCamera"})(fFIMeTPerspectiveCameraTP)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()()),ffiize26=ffiize()(fFIIzeCons({reflectSymbol:()=>"camera"})(fFIMeRawCameraRawCamera)(fFIIzeCons39)()()()()),fFIMeMaybeUndefinable1={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable2={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable3={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="AddEquation")return 100;if(o._1.tag==="SubtractEquation")return 101;if(o._1.tag==="ReverseSubtractEquation")return 102;if(o._1.tag==="MinEquation")return 103;if(o._1.tag==="MaxEquation")return 104;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable4={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="ZeroFactor")return 200;if(o._1.tag==="OneFactor")return 201;if(o._1.tag==="SrcColorFactor")return 202;if(o._1.tag==="OneMinusSrcColorFactor")return 203;if(o._1.tag==="SrcAlphaFactor")return 204;if(o._1.tag==="OneMinusSrcAlphaFactor")return 205;if(o._1.tag==="DstAlphaFactor")return 206;if(o._1.tag==="OneMinusDstAlphaFactor")return 207;if(o._1.tag==="DstColorFactor")return 208;if(o._1.tag==="OneMinusDstColorFactor")return 209;if(o._1.tag==="SrcAlphaSaturateFactor")return 210;fail$3()}return undefinedImpl}},fFIMeMaybeUndefinable5={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable6={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable7={ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="FrontSide")return 0;if(o._1.tag==="BackSide")return 1;if(o._1.tag==="DoubleSide")return 2;fail$3()}return undefinedImpl}},fFIIzeCons42=fFIIzeCons({reflectSymbol:()=>"materialParameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaTest"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"alphaToCoverage"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"blendDst"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendDstAlpha"})(fFIMeMaybeUndefinable2)(fFIIzeCons({reflectSymbol:()=>"blendEquation"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendEquationAlpha"})(fFIMeMaybeUndefinable3)(fFIIzeCons({reflectSymbol:()=>"blendSrc"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blendSrcAlpha"})(fFIMeMaybeUndefinable4)(fFIIzeCons({reflectSymbol:()=>"blending"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NoBlending")return 0;if(o._1.tag==="NormalBlending")return 1;if(o._1.tag==="AdditiveBlending")return 2;if(o._1.tag==="SubtractiveBlending")return 3;if(o._1.tag==="MultiplyBlending")return 4;if(o._1.tag==="CustomBlending")return 5;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"clipIntersection"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"clipShadows"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"colorWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthFunc"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="NeverDepth")return 0;if(o._1.tag==="AlwaysDepth")return 1;if(o._1.tag==="LessDepth")return 2;if(o._1.tag==="LessEqualDepth")return 3;if(o._1.tag==="EqualDepth")return 4;if(o._1.tag==="GreaterEqualDepth")return 5;if(o._1.tag==="GreaterDepth")return 6;if(o._1.tag==="NotEqualDepth")return 7;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"depthTest"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"depthWrite"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"dithering"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"opacity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"polygonOffset"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetFactor"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"polygonOffsetUnits"})(fFIMeMaybeUndefinable6)(fFIIzeCons({reflectSymbol:()=>"precision"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="LowP")return"lowp";if(o._1.tag==="MediumP")return"mediump";if(o._1.tag==="HighP")return"highp";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"premultipliedAlpha"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"shadowSide"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"side"})(fFIMeMaybeUndefinable7)(fFIIzeCons({reflectSymbol:()=>"toneMapped"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"transparent"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"vertexColors"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"visible"})(fFIMeMaybeUndefinable5)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())}),ffiize27=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"rawShaderMaterial"})(fFIMeTRawShaderMaterialTR)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize28=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"fragmentShader"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"shaderMaterial"})(fFIMeTShaderMaterialTShad)(fFIIzeCons31)()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIMeMaybeUndefinable8={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIMeMaybeUndefinable9={ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl},fFIIzeCons61=fFIIzeCons33({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="TangentSpaceNormalMap")return 0;if(o._1.tag==="ObjectSpaceNormalMap")return 1;fail$3()}return undefinedImpl}}),fFIIzeCons64=fFIIzeCons({reflectSymbol:()=>"wireframeLinewidth"})(fFIMeMaybeUndefinable1)(fFIIzeNilRow)()()()(),ffiize29=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"combine"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="MultiplyOperation")return 0;if(o._1.tag==="MixOperation")return 1;if(o._1.tag==="AddOperation")return 2;fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"fog"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshPhongMaterial"})(fFIMeTMeshPhongMaterialTM)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"reflectivity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"refractionRatio"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"shininess"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"specular"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"specularMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"wireframeLinecap"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Butt")return"butt";if(o._1.tag==="Round")return"round";if(o._1.tag==="Square")return"square";fail$3()}return undefinedImpl}})(fFIIzeCons({reflectSymbol:()=>"wireframeLinejoin"})({ffiMe:o=>{if(o.tag==="Just"){if(o._1.tag==="Round")return"round";if(o._1.tag==="Bevel")return"bevel";if(o._1.tag==="Miter")return"miter";fail$3()}return undefinedImpl}})(fFIIzeCons64)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons65=fFIIzeCons({reflectSymbol:()=>"wireframe"})(fFIMeMaybeUndefinable5)(fFIIzeCons64)()()()(),ffiize30=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshBasicMaterial"})(fFIMeTMeshBasicMaterialTM)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),ffiize31=ffiize()(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons42(fFIIzeCons({reflectSymbol:()=>"parameters"})({ffiMe:ffiize()(fFIIzeCons({reflectSymbol:()=>"alphaMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"aoMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"bumpMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"bumpScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"color"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"displacementBias"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"displacementMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"displacementScale"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissive"})(fFIMeMaybeUndefinable9)(fFIIzeCons({reflectSymbol:()=>"emissiveIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"emissiveMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"envMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"flatShading"})(fFIMeMaybeUndefinable5)(fFIIzeCons({reflectSymbol:()=>"lightMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"lightMapIntensity"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"map"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"meshStandardMaterial"})(fFIMeTMeshStandardMateria)(fFIIzeCons({reflectSymbol:()=>"metalness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"metalnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons({reflectSymbol:()=>"normalMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons61(fFIIzeCons({reflectSymbol:()=>"normalScale"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"roughness"})(fFIMeMaybeUndefinable1)(fFIIzeCons({reflectSymbol:()=>"roughnessMap"})(fFIMeMaybeUndefinable8)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())})(fFIIzeCons38)()()()())()()()())()()()()),fFIIzeCons66=fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"nut"})(fFIMeElementElement)(fFIIzeCons38)()()()())()()()(),ffiize32=ffiize()(fFIIzeCons({reflectSymbol:()=>"css2DObject"})(fFIMeTCSS2DObjectTCSS2DOb)(fFIIzeCons66)()()()()),ffiize33=ffiize()(fFIIzeCons({reflectSymbol:()=>"css3DObject"})(fFIMeTCSS3DObjectTCSS3DOb)(fFIIzeCons66)()()()()),ffiize34=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"capSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"capsule"})(fFIMeTCapsuleGeometryTCap)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"length"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize35=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"cylinder"})(fFIMeTCylinderGeometryTCy)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"openEnded"})(fFIMeBooleanBoolean)(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"radialSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"radiusBottom"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radiusTop"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize36=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"phiLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"phiStart"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"radius"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"scope"})(fFIMeScopeUndefinableStri)(fFIIzeCons({reflectSymbol:()=>"sphere"})(fFIMeTSphereGeometryTSphe)(fFIIzeCons({reflectSymbol:()=>"thetaLength"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"thetaStart"})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize37=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"box"})(fFIMeTBoxGeometryTBoxGeom)(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"depth"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"depthSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize38=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"height"})(fFIMeNumberNumber)(fFIIzeCons({reflectSymbol:()=>"heightSegments"})(fFIMeIntInt)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"parent"})({ffiMe:o=>o.tag==="Just"?o._1:undefinedImpl})(fFIIzeCons({reflectSymbol:()=>"plane"})(fFIMeTPlaneGeometryTPlane)(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()()))(),ffiize39=(()=>ffiize()(fFIIzeCons({reflectSymbol:()=>"bufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons({reflectSymbol:()=>"bufferGeometry"})(fFIMeTBufferGeometryTBuff)(fFIIzeCons({reflectSymbol:()=>"id"})(fFIMeStringString)(fFIIzeCons({reflectSymbol:()=>"instancedBufferAttributes"})({ffiMe:functorObject.map(identity$a)})(fFIIzeCons38)()()()())()()()())()()()())()()()()))(),effectfulThreeInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},effectComposerRender:effectComposerRender_,webGLRender:webGLRender_,css2DRender:css2DRender_,css3DRender:css3DRender_,makeRenderPass:u=>makeRenderPass_(ffiize11(u)),makeEffectComposerPass:u=>makeEffectComposerPass_(ffiize12(u)),makeGlitchPass:u=>makeGlitchPass_(ffiize13(u)),makeBloomPass:u=>makeBloomPass_(ffiize14(u)),makeUnrealBloomPass:u=>makeUnrealBloomPass_(ffiize15(u)),makeEffectComposer:u=>makeEffectComposer_(ffiize2(u)),makeWebGLRenderer:u=>makeWebGLRenderer_(ffiize3(u)),makeCSS2DRenderer:u=>makeCSS2DRenderer_(ffiize4(u)),makeCSS3DRenderer:u=>makeCSS3DRenderer_(ffiize5(u)),makeRaycaster:u=>makeRaycaster_(ffiize6(u)),makeScene:u=>makeScene_(ffiize16(u)),makeGroup:u=>makeGroup_(ffiize17(u)),makeGLTFGroup:u=>makeGLTFGroup_(ffiize18(u)),makeMesh:u=>makeMesh_(ffiize19(u)),makePoints:u=>makePoints_(ffiize20(u)),makeInstancedMesh:u=>makeInstancedMesh_(ffiize21(u)),makeCapsule:u=>makeCapsule_(ffiize34(u)),makeCylinder:u=>makeCylinder_(ffiize35(u)),makeSphere:u=>makeSphere_(ffiize36(u)),makeBox:u=>makeBox_(ffiize37(u)),makePlane:u=>makePlane_(ffiize38(u)),makeBufferGeometry:u=>makeBufferGeometry_(ffiize39(u)),makeDirectionalLight:u=>makeDirectionalLight_(ffiize22(u)),makeAmbientLight:u=>makeAmbientLight_(ffiize23(u)),makePointLight:u=>makePointLight_(ffiize24(u)),makePerspectiveCamera:u=>makePerspectiveCamera_(ffiize25(u)),makeGLTFCamera:u=>makeGLTFCamera_(ffiize26(u)),makeRawShaderMaterial:u=>makeRawShaderMaterial_(ffiize27(u)),makeShaderMaterial:u=>makeShaderMaterial_(ffiize28(u)),makeMeshPhongMaterial:u=>makeMeshPhongMaterial_(ffiize29(u)),makeMeshBasicMaterial:u=>makeMeshBasicMaterial_(ffiize30(u)),makeMeshStandardMaterial:u=>makeMeshStandardMaterial_(ffiize31(u)),makeCSS2DObject:u=>makeCSS2DObject_(ffiize32(u)),makeCSS3DObject:u=>makeCSS3DObject_(ffiize33(u)),setBackgroundCubeTexture:setBackgroundCubeTexture_,setBackgroundTexture:setBackgroundTexture_,setBackgroundColor:setBackgroundColor_,setOnClick:setOnClick_,setOnMouseDown:setOnMouseDown_,setOnMouseUp:setOnMouseUp_,setOnMouseMove:setOnMouseMove_,setOnTouchStart:setOnTouchStart_,setOnTouchEnd:setOnTouchEnd_,setOnTouchMove:setOnTouchMove_,setOnTouchCancel:setOnTouchCancel_,removeOnClick:removeOnClick_,removeOnMouseDown:removeOnMouseDown_,removeOnMouseUp:removeOnMouseUp_,removeOnMouseMove:removeOnMouseMove_,removeOnTouchStart:removeOnTouchStart_,removeOnTouchEnd:removeOnTouchEnd_,removeOnTouchMove:removeOnTouchMove_,removeOnTouchCancel:removeOnTouchCancel_,setIMOnClick:setIMOnClick_,setIMOnMouseDown:setIMOnMouseDown_,setIMOnMouseUp:setIMOnMouseUp_,setIMOnMouseMove:setIMOnMouseMove_,setIMOnTouchStart:setIMOnTouchStart_,setIMOnTouchEnd:setIMOnTouchEnd_,setIMOnTouchMove:setIMOnTouchMove_,setIMOnTouchCancel:setIMOnTouchCancel_,removeIMOnClick:removeIMOnClick_,removeIMOnMouseDown:removeIMOnMouseDown_,removeIMOnMouseUp:removeIMOnMouseUp_,removeIMOnMouseMove:removeIMOnMouseMove_,removeIMOnTouchStart:removeIMOnTouchStart_,removeIMOnTouchEnd:removeIMOnTouchEnd_,removeIMOnTouchMove:removeIMOnTouchMove_,removeIMOnTouchCancel:removeIMOnTouchCancel_,setWidth:setWidth_,setHeight:setHeight_,setDepth:setDepth_,setLength:setLength_,setCapSegments:setCapSegments_,setRadialSegments:setRadialSegments_,setRadius:setRadius_,setWidthSegments:setWidthSegments_,setHeightSegments:setHeightSegments_,setDepthSegments:setDepthSegments_,setPhiStart:setPhiStart_,setPhiLength:setPhiLength_,setThetaStart:setThetaStart_,setThetaLength:setThetaLength_,setMatrix4:setMatrix4_,setQuaternion:setQuaternion_,setRotateX:setRotateX_,setRotateY:setRotateY_,setRotateZ:setRotateZ_,setTranslate:setTranslate_,setScale:setScale_,setLookAt:setLookAt_,setCenter:setCenter_,getBoundingBox:getBoundingBox_,getBoundingSphere:getBoundingSphere_,setInstancedMeshMatrix4:setInstancedMeshMatrix4_,setInstancedMeshColor:setInstancedMeshColor_,setSingleInstancedMeshMatrix4:setSingleInstancedMeshMatrix4_,setSingleInstancedMeshColor:setSingleInstancedMeshColor_,setAlphaTest:setAlphaTest_,setAlphaToCoverage:setAlphaToCoverage_,setBlendDst:setBlendDst_,setBlendDstAlpha:setBlendDstAlpha_,setBlendEquation:setBlendEquation_,setBlendEquationAlpha:setBlendEquationAlpha_,setBlending:setBlending_,setBlendSrc:setBlendSrc_,setBlendSrcAlpha:setBlendSrcAlpha_,setClipIntersection:setClipIntersection_,setClipShadows:setClipShadows_,setColorWrite:setColorWrite_,setDepthFunc:setDepthFunc_,setDepthTest:setDepthTest_,setDepthWrite:setDepthWrite_,setOpacity:setOpacity_,setPolygonOffset:setPolygonOffset_,setPolygonOffsetFactor:setPolygonOffsetFactor_,setPolygonOffsetUnits:setPolygonOffsetUnits_,setPrecision:setPrecision_,setPremultipliedAlpha:setPremultipliedAlpha_,setDithering:setDithering_,setShadowSide:setShadowSide_,setSide:setSide_,setToneMapped:setToneMapped_,setTransparent:setTransparent_,setVertexColors:setVertexColors_,setVisible:setVisible_,setUniform:setUniform_,setColor:setColor_,setRoughness:setRoughness_,setMetalness:setMetalness_,setMap:setMap_,setLightMap:setLightMap_,setLightMapIntensity:setLightMapIntensity_,setAoMap:setAoMap_,setAoMapIntensity:setAoMapIntensity_,setEmissive:setEmissive_,setEmissiveIntensity:setEmissiveIntensity_,setEmissiveMap:setEmissiveMap_,setBumpMap:setBumpMap_,setBumpScale:setBumpScale_,setNormalMap:setNormalMap_,setNormalMapType:u=>setNormalMapType_(ffiize7(u)),setNormalScale:setNormalScale_,setDisplacementMap:setDisplacementMap_,setDisplacementScale:setDisplacementScale_,setDisplacementBias:setDisplacementBias_,setRoughnessMap:setRoughnessMap_,setMetalnessMap:setMetalnessMap_,setAlphaMap:setAlphaMap_,setEnvMap:setEnvMap_,setEnvMapIntensity:setEnvMapIntensity_,setWireframe:setWireframe_,setWireframeLinewidth:setWireframeLinewidth_,setFlatShading:setFlatShading_,setRotationFromAxisAngle:setRotationFromAxisAngle_,setRotationFromEuler:setRotationFromEuler_,setRotationFromMatrix:setRotationFromMatrix_,setRotationFromQuaternion:setRotationFromQuaternion_,setRotateOnAxis:setRotateOnAxis_,setRotateOnWorldAxis:setRotateOnWorldAxis_,setTranslateOnAxis:setTranslateOnAxis_,setTranslateX:setTranslateX_,setTranslateY:setTranslateY_,setTranslateZ:setTranslateZ_,setPositionX:setPositionX_,setPositionY:setPositionY_,setPositionZ:setPositionZ_,setScaleX:setScaleX_,setScaleY:setScaleY_,setScaleZ:setScaleZ_,setCombine:u=>setCombine_(ffiize8(u)),setFog:setFog_,setReflectivity:setReflectivity_,setRefractionRatio:setRefractionRatio_,setShininess:setShininess_,setSpecular:setSpecular_,setSpecularMap:setSpecularMap_,setWireframeLinecap:u=>setWireframeLinecap_(ffiize9(u)),setWireframeLinejoin:u=>setWireframeLinejoin_(ffiize10(u)),setDecay:setDecay_,setDistance:setDistance_,setIntensity:setIntensity_,setAspect:setAspect_,setFar:setFar_,setFilmGauge:setFilmGauge_,setFilmOffset:setFilmOffset_,setFocus:setFocus_,setFov:setFov_,setNear:setNear_,setZoom:setZoom_,setFocalLength:setFocalLength_,setViewOffset:setViewOffset_,setSize:setSize_,setSizeThroughEffectComposer:setSizeThroughEffectComposer_,setThreshold:setThreshold_$1,setStrength:setStrength_,setResolution:setResolution_,connectMesh:connectMesh_,connectScene:connectScene_,connectCamera:connectCamera_,connectGeometry:connectGeometry_,connectMaterial:connectMaterial_,connectToScene:connectToScene_,disconnect:disconnect_,disconnectPass:disconnectPass_,deleteFromCache:deleteFromCache_$1,webGLRendererConnectionNoop:mempty$1,effectComposerConnectionNoop:mempty$1}),run$1=o=>()=>{const u=makeFFIThreeSnapshot(),f={value:0};return subscribe(flatten({doLogic:absurd,ids:m=>m.ids,disconnectElement:m=>m.disconnect,toElt:m=>m})({parent:Nothing,scope:Global,raiseId:m=>()=>unit})(effectfulThreeInterpret(f))(o))(m=>()=>m(u))()},$Background=(o,u)=>({tag:o,_1:u}),oneOf$g=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),scene$1=o=>u=>f=>d=>m=>backdoor.makeLemmingEvent(h=>g=>()=>{const y=m.ids();d.raiseId(y)();const _=h(oneOf$g([applicativeEvent.pure(m.makeScene({id:y,parent:d.parent,scope:d.scope,scene:o.scene})),($,v)=>u($,b=>{const M=onMatch()()()({...object3D(y)(m),background:P=>{if(P.tag==="CubeTexture")return m.setBackgroundCubeTexture({id:y,cubeTexture:P._1});if(P.tag==="Texture")return m.setBackgroundTexture({id:y,texture:P._1});if(P.tag==="Color")return m.setBackgroundColor({id:y,color:P._1});fail$3()}})(case_)(b);return v(M)}),flatten({doLogic:absurd,ids:$=>$.ids,disconnectElement:$=>$.disconnect,toElt:$=>$})({parent:$Maybe("Just",y),scope:d.scope,raiseId:$=>()=>unit})(m)($Entity("FixedChildren'",f))]))(g)(),w=g(m.deleteFromCache({id:y}));return()=>(w(),_())}),ctor_=o=>({x:u,y:f})=>new o(u,f),$AppOrientationState=o=>({tag:o}),$Axis=o=>({tag:o}),$ChannelChooser=(o,u,f,d)=>({tag:o,_1:u,_2:f,_3:d}),$Negotiation=(o,u,f)=>({tag:o,_1:u,_2:f}),$Player=o=>({tag:o}),$PlayerAction=(o,u)=>({tag:o,_1:u}),$Profile=o=>({tag:"ProfileV0",_1:o}),$Ride=o=>({tag:"RideV0",_1:o}),$StartStatus=(o,u)=>({tag:o,_1:u}),$XDirection=o=>({tag:o}),openIsSymbol={reflectSymbol:()=>"open"},player1IsSymbol={reflectSymbol:()=>"player1"},writeForeignMaybe$1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1NameIsSymbol={reflectSymbol:()=>"player1Name"},player1PenaltiesIsSymbol={reflectSymbol:()=>"player1Penalties"},writeForeignMaybe1={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},player1PointsIsSymbol={reflectSymbol:()=>"player1Points"},player1StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player1StartTimeInMilliseconds"},player2IsSymbol={reflectSymbol:()=>"player2"},player2NameIsSymbol={reflectSymbol:()=>"player2Name"},player2PenaltiesIsSymbol={reflectSymbol:()=>"player2Penalties"},player2PointsIsSymbol={reflectSymbol:()=>"player2Points"},player2StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player2StartTimeInMilliseconds"},player3IsSymbol={reflectSymbol:()=>"player3"},player3NameIsSymbol={reflectSymbol:()=>"player3Name"},player3PenaltiesIsSymbol={reflectSymbol:()=>"player3Penalties"},player3PointsIsSymbol={reflectSymbol:()=>"player3Points"},player3StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player3StartTimeInMilliseconds"},player4IsSymbol={reflectSymbol:()=>"player4"},player4NameIsSymbol={reflectSymbol:()=>"player4Name"},player4PenaltiesIsSymbol={reflectSymbol:()=>"player4Penalties"},player4PointsIsSymbol={reflectSymbol:()=>"player4Points"},player4StartTimeInMillisecondsIsSymbol={reflectSymbol:()=>"player4StartTimeInMilliseconds"},versionIsSymbol={reflectSymbol:()=>"version"},Reflectable$Dict$1={reflectType:()=>0},consWriteForeignFields=consWriteForeignFields$1(versionIsSymbol)({writeImpl:o=>0})(nilWriteForeignFields)()()(),writeImpl1=(()=>{const o=consWriteForeignFields$1(openIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(player1IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player1NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player1PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player1PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player1StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player2NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player2PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player2StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player3NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player3PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player3StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player4NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(player4PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields$1(player4StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),avatarURLIsSymbol={reflectSymbol:()=>"avatarURL"},friendsIsSymbol={reflectSymbol:()=>"friends"},ridesIsSymbol={reflectSymbol:()=>"rides"},usernameIsSymbol={reflectSymbol:()=>"username"},_typeIsSymbol={reflectSymbol:()=>"_type"},valIsSymbol={reflectSymbol:()=>"val"},nameIsSymbol={reflectSymbol:()=>"name"},startedAtIsSymbol={reflectSymbol:()=>"startedAt"},deltaBeatsIsSymbol={reflectSymbol:()=>"deltaBeats"},hitAtIsSymbol={reflectSymbol:()=>"hitAt"},logicalBeatIsSymbol={reflectSymbol:()=>"logicalBeat"},outcomeIsSymbol={reflectSymbol:()=>"outcome"},playerIsSymbol={reflectSymbol:()=>"player"},uniqueIdIsSymbol={reflectSymbol:()=>"uniqueId"},consWriteForeignFields4=consWriteForeignFields$1(uniqueIdIsSymbol)(writeForeignInt)(nilWriteForeignFields)()()(),newPositionIsSymbol={reflectSymbol:()=>"newPosition"},oldPositionIsSymbol={reflectSymbol:()=>"oldPosition"},distanceIsSymbol={reflectSymbol:()=>"distance"},pctConsumedIsSymbol={reflectSymbol:()=>"pctConsumed"},releasedAtIsSymbol={reflectSymbol:()=>"releasedAt"},bind=(()=>bindExceptT$1(monadIdentity).bind)(),pure$1=(()=>applicativeExceptT$3(monadIdentity).pure)(),fail=(()=>{const o=monadThrowExceptT(monadIdentity).throwError;return u=>o($NonEmpty(u,Nil))})(),readMaybe$1=readMaybe$3(readString),readMaybe1=readMaybe$3(readNumber),readFieldsCons=readFieldsCons$1(versionIsSymbol)(readForeignVersion(Reflectable$Dict$1))(readFieldsNil)()(),readImpl1=(()=>readRecord()(readFieldsCons$1(openIsSymbol)(readBoolean)(readFieldsCons$1(player1IsSymbol)(readMaybe$1)(readFieldsCons$1(player1NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player1PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player1PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player1StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player2IsSymbol)(readMaybe$1)(readFieldsCons$1(player2NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player2PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player2PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player2StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player3IsSymbol)(readMaybe$1)(readFieldsCons$1(player3NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player3PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player3PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player3StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons$1(player4IsSymbol)(readMaybe$1)(readFieldsCons$1(player4NameIsSymbol)(readMaybe$1)(readFieldsCons$1(player4PenaltiesIsSymbol)(readMaybe1)(readFieldsCons$1(player4PointsIsSymbol)(readMaybe1)(readFieldsCons$1(player4StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).readImpl)(),readImpl2=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol)(readString)(readFieldsCons$1(valIsSymbol)(readNumber)(readFieldsNil)()())()()).readImpl)(),readFieldsCons3=readFieldsCons$1(uniqueIdIsSymbol)(readInt)(readFieldsNil)()(),showMaybe={show:o=>{if(o.tag==="Just")return"(Just "+(showStringImpl(o._1)+")");if(o.tag==="Nothing")return"Nothing";fail$3()}},readImpl3=(()=>readRecord()(readFieldsCons$1(_typeIsSymbol)(readString)(readFieldsNil)()()).readImpl)(),ktpdIsSymbol={reflectSymbol:()=>"ktpd"},curXDirIsSymbol={reflectSymbol:()=>"curXDir"},dampeningIsSymbol={reflectSymbol:()=>"dampening"},posIsSymbol={reflectSymbol:()=>"pos"},timeIsSymbol={reflectSymbol:()=>"time"},gtpdIsSymbol={reflectSymbol:()=>"gtpd"},gammaIsSymbol={reflectSymbol:()=>"gamma"},ToLeft=$XDirection("ToLeft"),ToRight=$XDirection("ToRight"),Still=$XDirection("Still"),Player1=$Player("Player1"),Player2=$Player("Player2"),Player3=$Player("Player3"),Player4=$Player("Player4"),HasNotStartedYet=$StartStatus("HasNotStartedYet"),NoChannel=$ChannelChooser("NoChannel"),RideChannel=o=>u=>f=>$ChannelChooser("RideChannel",o,u,f),TutorialChannel=$ChannelChooser("TutorialChannel"),EditorChannel=$ChannelChooser("EditorChannel"),PageLoad=$Negotiation("PageLoad"),WillNotWorkWithoutOrientation=$Negotiation("WillNotWorkWithoutOrientation"),StartingNegotiation=$Negotiation("StartingNegotiation"),GameHasStarted=$Negotiation("GameHasStarted"),AxisX=$Axis("AxisX"),AxisY=$Axis("AxisY"),AxisZ=$Axis("AxisZ"),UnknownOrientationPermission=$AppOrientationState("UnknownOrientationPermission"),SuccessfulOrientationPermission=$AppOrientationState("SuccessfulOrientationPermission"),CannotUseAppDueToLackOfOrientationPermission=$AppOrientationState("CannotUseAppDueToLackOfOrientationPermission"),writeForeignXDirection={writeImpl:o=>{if(o.tag==="ToLeft")return"ToLeft";if(o.tag==="ToRight")return"ToRight";if(o.tag==="Still")return"Still";fail$3()}},writeImpl3=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPlayer={writeImpl:o=>{if(o.tag==="Player1")return"Player1";if(o.tag==="Player2")return"Player2";if(o.tag==="Player3")return"Player3";if(o.tag==="Player4")return"Player4";fail$3()}},consWriteForeignFields8=consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields4)()()(),consWriteForeignFields9=consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(nilWriteForeignFields)()()(),writeImpl4=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeForeignPointOutcome={writeImpl:o=>{if(o.tag==="Left")return writeImpl4({_type:"Penalty",val:o._1});if(o.tag==="Right")return writeImpl3({_type:"Points",val:o._1});fail$3()}},consWriteForeignFields11=consWriteForeignFields$1(startedAtIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()(),consWriteForeignFields12=consWriteForeignFields$1(posIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(timeIsSymbol)({writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}})(nilWriteForeignFields)()()())()()(),writeImpl5=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(ktpdIsSymbol)((()=>{const u=consWriteForeignFields$1(curXDirIsSymbol)(writeForeignXDirection)(consWriteForeignFields$1(dampeningIsSymbol)(writeForeignNumber)(consWriteForeignFields12)()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields9)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl6=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(gtpdIsSymbol)((()=>{const u=consWriteForeignFields$1(dampeningIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(gammaIsSymbol)(writeForeignNumber)(consWriteForeignFields12)()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(consWriteForeignFields9)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl7=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields$1(nameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields11)()()())()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),consWriteForeignFields14=consWriteForeignFields$1(deltaBeatsIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(logicalBeatIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields8)()()())()()())()()())()()(),consWriteForeignFields15=consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(newPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields$1(oldPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields8)()()())()()())()()(),consWriteForeignFields16=consWriteForeignFields$1(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields8)()()())()()(),consWriteForeignFields17=consWriteForeignFields$1(distanceIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields$1(pctConsumedIsSymbol)(writeForeignNumber)(consWriteForeignFields$1(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields$1(releasedAtIsSymbol)(writeForeignNumber)(consWriteForeignFields4)()()())()()())()()())()()())()()())()()(),writeImpl10=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields14)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl11=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields15)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl12=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields16)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),writeImpl13=(()=>{const o=consWriteForeignFields$1(_typeIsSymbol)(writeForeignString)(consWriteForeignFields17)()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),showPointOutcome={show:o=>{if(o.tag==="Left")return"(Left "+(showNumberImpl(o._1)+")");if(o.tag==="Right")return"(Right "+(showNumberImpl(o._1)+")");fail$3()}},readForeignXDirection={readImpl:o=>bind(readString.readImpl(o))(u=>u==="ToLeft"?pure$1(ToLeft):u==="ToRight"?pure$1(ToRight):u==="Still"?pure$1(Still):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readForeignRide={readImpl:o=>{const u=readImpl1(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Ride(u._1));fail$3()}},readForeignPotentiallyMis=o=>{const u=readMaybe$3(readArray(o)).readImpl;return{readImpl:f=>{const d=bind(u(f))(m=>pure$1((()=>{if(m.tag==="Nothing")return[];if(m.tag==="Just")return m._1;fail$3()})()));if(d.tag==="Left")return $Either("Left",d._1);if(d.tag==="Right")return $Either("Right",d._1);fail$3()}}},readForeignPotentiallyMis1=readForeignPotentiallyMis(readString),readImpl4=(()=>readRecord()(readFieldsCons$1(avatarURLIsSymbol)(readMaybe$1)(readFieldsCons$1(friendsIsSymbol)(readForeignPotentiallyMis1)(readFieldsCons$1(ridesIsSymbol)(readForeignPotentiallyMis1)(readFieldsCons$1(usernameIsSymbol)(readString)(readFieldsCons)()())()())()())()()).readImpl)(),readForeignProfile={readImpl:o=>{const u=readImpl4(o);if(u.tag==="Left")return $Either("Left",u._1);if(u.tag==="Right")return $Either("Right",$Profile(u._1));fail$3()}},readForeignPointOutcome={readImpl:o=>bind(readImpl2(o))(u=>u._type==="Points"?pure$1($Either("Right",u.val)):u._type==="Penalty"?pure$1($Either("Left",u.val)):fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o))))},readForeignPlayer={readImpl:o=>bind(readString.readImpl(o))(u=>u==="Player1"?pure$1(Player1):u==="Player2"?pure$1(Player2):u==="Player3"?pure$1(Player3):u==="Player4"?pure$1(Player4):fail($ForeignError("ForeignError","No idea how to parse: "+_unsafeStringify(o))))},readFieldsCons8=readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons3)()(),readFieldsCons9=readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsNil)()(),readFieldsCons10=readFieldsCons$1(startedAtIsSymbol)(readNumber)(readFieldsNil)()(),readFieldsCons11=readFieldsCons$1(posIsSymbol)(readNumber)(readFieldsCons$1(timeIsSymbol)(readMaybe$3(readNumber))(readFieldsNil)()())()(),readImpl5=(()=>readRecord()(readFieldsCons$1(ktpdIsSymbol)(readRecord()(readFieldsCons$1(curXDirIsSymbol)(readForeignXDirection)(readFieldsCons$1(dampeningIsSymbol)(readNumber)(readFieldsCons11)()())()()))(readFieldsCons9)()()).readImpl)(),readImpl6=(()=>readRecord()(readFieldsCons$1(gtpdIsSymbol)(readRecord()(readFieldsCons$1(dampeningIsSymbol)(readNumber)(readFieldsCons$1(gammaIsSymbol)(readNumber)(readFieldsCons11)()())()()))(readFieldsCons9)()()).readImpl)(),readImpl7=(()=>readRecord()(readFieldsCons$1(nameIsSymbol)(readMaybe$1)(readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons10)()())()()).readImpl)(),readForeignHitBasicOverTh=readRecord()(readFieldsCons$1(deltaBeatsIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(logicalBeatIsSymbol)(readNumber)(readFieldsCons$1(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons8)()())()())()())()()),readForeignHitLeapOverThe=readRecord()(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(newPositionIsSymbol)(readForeignPosition)(readFieldsCons$1(oldPositionIsSymbol)(readForeignPosition)(readFieldsCons8)()())()())()()),readForeignHitLongOverThe=readRecord()(readFieldsCons$1(distanceIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons8)()())()()),readForeignReleaseLongOve=readRecord()(readFieldsCons$1(distanceIsSymbol)(readNumber)(readFieldsCons$1(hitAtIsSymbol)(readNumber)(readFieldsCons$1(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons$1(pctConsumedIsSymbol)(readNumber)(readFieldsCons$1(playerIsSymbol)(readForeignPlayer)(readFieldsCons$1(releasedAtIsSymbol)(readNumber)(readFieldsCons3)()())()())()())()())()())()()),max$9=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},max1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},genericPlayer_={to:o=>{if(o.tag==="Inl")return Player1;if(o.tag==="Inr"){if(o._1.tag==="Inl")return Player2;if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return Player3;if(o._1._1.tag==="Inr")return Player4;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Player1")return $Sum("Inl",NoArguments);if(o.tag==="Player2")return $Sum("Inr",$Sum("Inl",NoArguments));if(o.tag==="Player3")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="Player4")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showPlayer={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player1"}),u=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player2"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player3"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"Player4"});return m=>{const h=genericPlayer_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},genericChannelChooser_={to:o=>{if(o.tag==="Inl")return NoChannel;if(o.tag==="Inr"){if(o._1.tag==="Inl")return $ChannelChooser("RideChannel",o._1._1._1,o._1._1._2._1,o._1._1._2._2);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return TutorialChannel;if(o._1._1.tag==="Inr")return EditorChannel;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="NoChannel")return $Sum("Inl",NoArguments);if(o.tag==="RideChannel")return $Sum("Inr",$Sum("Inl",$Product(o._1,$Product(o._2,o._3))));if(o.tag==="TutorialChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="EditorChannel")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showChannelChooser={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"NoChannel"}),u=genericShowConstructor(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})(genericShowArgsProduct({genericShowArgs:m=>[showStringImpl(m)]})({genericShowArgs:m=>["TrackV0 <"+(show1$3(m._1)+">")]})))({reflectSymbol:()=>"RideChannel"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"TutorialChannel"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EditorChannel"});return m=>{const h=genericChannelChooser_.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},genericAppOrientationStat={to:o=>{if(o.tag==="Inl")return UnknownOrientationPermission;if(o.tag==="Inr"){if(o._1.tag==="Inl")return SuccessfulOrientationPermission;if(o._1.tag==="Inr")return CannotUseAppDueToLackOfOrientationPermission;fail$3()}fail$3()},from:o=>{if(o.tag==="UnknownOrientationPermission")return $Sum("Inl",NoArguments);if(o.tag==="SuccessfulOrientationPermission")return $Sum("Inr",$Sum("Inl",NoArguments));if(o.tag==="CannotUseAppDueToLackOfOrientationPermission")return $Sum("Inr",$Sum("Inr",NoArguments));fail$3()}},showAppOrientationState={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"UnknownOrientationPermission"}),u=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"SuccessfulOrientationPermission"}),f=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"CannotUseAppDueToLackOfOrientationPermission"});return d=>{const m=genericAppOrientationStat.from(d);if(m.tag==="Inl")return o["genericShow'"](m._1);if(m.tag==="Inr"){if(m._1.tag==="Inl")return u["genericShow'"](m._1._1);if(m._1.tag==="Inr")return f["genericShow'"](m._1._1);fail$3()}fail$3()}})()},eqPlayer={eq:o=>u=>o.tag==="Player1"?u.tag==="Player1":o.tag==="Player2"?u.tag==="Player2":o.tag==="Player3"?u.tag==="Player3":o.tag==="Player4"?u.tag==="Player4":!1},ordPlayer={compare:o=>u=>{if(o.tag==="Player1")return u.tag==="Player1"?EQ:LT;if(u.tag==="Player1")return GT;if(o.tag==="Player2")return u.tag==="Player2"?EQ:LT;if(u.tag==="Player2")return GT;if(o.tag==="Player3")return u.tag==="Player3"?EQ:LT;if(u.tag==="Player3")return GT;if(o.tag==="Player4"){if(u.tag==="Player4")return EQ;fail$3()}fail$3()},Eq0:()=>eqPlayer},semigroupKnownPlayers={append:o=>u=>unionWith(ordPlayer)(f=>d=>{if(f.tag==="HasNotStartedYet")return d.tag==="HasNotStartedYet"?HasNotStartedYet:d;if(d.tag==="HasNotStartedYet")return f;if(f.tag==="HasStarted"){if(d.tag==="HasStarted")return $StartStatus("HasStarted",{startedAt:min$5(f._1.startedAt)(d._1.startedAt),points:max$9(f._1.points)(d._1.points),name:(()=>f._1.name.tag==="Nothing"?d._1.name:f._1.name)(),penalties:max1(f._1.penalties)(d._1.penalties)});fail$3()}fail$3()})(o)(u)},monoidKnownPlayers={mempty:Leaf,Semigroup0:()=>semigroupKnownPlayers},toJSONPubNubPlayerAction={readImpl:o=>bind(readImpl3(o))(u=>{if(u._type==="XPositionKeyboard"){const f=readImpl5(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionKeyboard",f._1));fail$3()}if(u._type==="XPositionMobile"){const f=readImpl6(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("XPositionMobile",f._1));fail$3()}if(u._type==="HitBasic"){const f=readForeignHitBasicOverTh.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitBasic",f._1));fail$3()}if(u._type==="HitLeap"){const f=readForeignHitLeapOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLeap",f._1));fail$3()}if(u._type==="HitLong"){const f=readForeignHitLongOverThe.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("HitLong",f._1));fail$3()}if(u._type==="ReleaseLong"){const f=readForeignReleaseLongOve.readImpl(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("ReleaseLong",f._1));fail$3()}if(u._type==="PressedStart"){const f=readImpl7(o);if(f.tag==="Left")return $Either("Left",f._1);if(f.tag==="Right")return $Either("Right",$PlayerAction("PressedStart",f._1));fail$3()}return fail($ForeignError("ForeignError","Could not parse: "+_unsafeStringify(o)))})},showRecordFieldsCons9={showRecordFields:o=>u=>cons(intercalate$2(": ")(["startedAt","(JMilliseconds "+(showNumberImpl(u.startedAt)+")")]))([])},showInFlightGameInfo={show:o=>{const u=cons(intercalate$2(": ")(["name",showMaybe.show(o.name)]))(cons(intercalate$2(": ")(["penalties",showNumberImpl(o.penalties)]))(cons(intercalate$2(": ")(["points",showNumberImpl(o.points)]))(showRecordFieldsCons9.showRecordFields($$Proxy)(o))));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}},showStartStatus={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"HasNotStartedYet"}),u=genericShowConstructor({genericShowArgs:f=>[showInFlightGameInfo.show(f)]})({reflectSymbol:()=>"HasStarted"});return f=>{if(f.tag==="HasNotStartedYet")return o["genericShow'"](NoArguments);if(f.tag==="HasStarted")return u["genericShow'"](f._1);fail$3()}})()},showKnownPlayers=showMap(showPlayer)(showStartStatus),playerPosition=o=>u=>{if(o.tag==="Player1"){if(u.tag==="AxisX")return f=>f.p1x;if(u.tag==="AxisY")return f=>f.p1y;if(u.tag==="AxisZ")return f=>f.p1z;fail$3()}if(o.tag==="Player2"){if(u.tag==="AxisX")return f=>f.p2x;if(u.tag==="AxisY")return f=>f.p2y;if(u.tag==="AxisZ")return f=>f.p2z;fail$3()}if(o.tag==="Player3"){if(u.tag==="AxisX")return f=>f.p3x;if(u.tag==="AxisY")return f=>f.p3y;if(u.tag==="AxisZ")return f=>f.p3z;fail$3()}if(o.tag==="Player4"){if(u.tag==="AxisX")return f=>f.p4x;if(u.tag==="AxisY")return f=>f.p4y;if(u.tag==="AxisZ")return f=>f.p4z;fail$3()}fail$3()},initialPositions=o=>({p1x:u=>0,p1y:0,p1z:-3*o.barZSpacing,p1p:Position1,p2x:u=>0,p2y:0,p2z:-2*o.barZSpacing,p2p:Position2,p3x:u=>0,p3y:0,p3z:-1*o.barZSpacing,p3p:Position3,p4x:u=>0,p4y:0,p4z:0,p4p:Position4}),fromJSONPubNubPlayerAction={writeImpl:o=>{if(o.tag==="XPositionKeyboard")return writeImpl5({...o._1,_type:"XPositionKeyboard"});if(o.tag==="XPositionMobile")return writeImpl6({...o._1,_type:"XPositionMobile"});if(o.tag==="HitBasic")return writeImpl10({...o._1,_type:"HitBasic"});if(o.tag==="HitLeap")return writeImpl11({...o._1,_type:"HitLeap"});if(o.tag==="HitLong")return writeImpl12({...o._1,_type:"HitLong"});if(o.tag==="ReleaseLong")return writeImpl13({...o._1,_type:"ReleaseLong"});if(o.tag==="PressedStart")return writeImpl7({...o._1,_type:"PressedStart"});fail$3()}},defaultRide=$Ride({player1:Nothing,player2:Nothing,player3:Nothing,player4:Nothing,player1StartTimeInMilliseconds:Nothing,player2StartTimeInMilliseconds:Nothing,player3StartTimeInMilliseconds:Nothing,player4StartTimeInMilliseconds:Nothing,player1Points:Nothing,player2Points:Nothing,player3Points:Nothing,player4Points:Nothing,player1Penalties:Nothing,player2Penalties:Nothing,player3Penalties:Nothing,player4Penalties:Nothing,player1Name:Nothing,player2Name:Nothing,player3Name:Nothing,player4Name:Nothing,open:!0,version:$Version(0)}),allPositions=[Position1,Position2,Position3,Position4],allPlayers=[Player1,Player2,Player3,Player4],allColumns=[C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,C17],mapAccum$5=mapAccum$e(eventIsEvent),vbust$1=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$3=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$f=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$8=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),intensityIsSymbol$1={reflectSymbol:()=>"intensity"},colorIsSymbol$2={reflectSymbol:()=>"color"},ambientLight$2=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol$1))(convertOptionAmbientLight1)()()()(colorIsSymbol$2))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$2=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol$1))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$2);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$3=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$2=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render$2={type:"render",value:unit},runThree$1=o=>{const u=d=>{if(!d)return m=>mapAccum$5(h=>g=>g._2?$Tuple(h+1|0,(()=>h>120?g._1:g._1*toNumber(h)/toNumber(120))()):$Tuple(0,0))(0)(applyEvent.apply((h,g)=>m(h,y=>{const _=Tuple(y);return g(_)}))((h,g)=>{const y=applicativeEvent.pure(!1)(h,g),_=o.pressedStart(h,g);return()=>(y(),_())}));if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust$1($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$3({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$f([(()=>{const g=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(_,w)=>o.animatedStuff(_,$=>{const v=y($.playerPositions);return w(v)})})());return(y,_)=>g(y,w=>_({type:"positionX",value:w}))})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(_,w)=>o.animatedStuff(_,$=>{const v=y($.playerPositions);return w(v)})})());return(y,_)=>g(y,w=>{const $={type:"positionY",value:w._1.cameraOffsetY+w._2};return _($)})})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const $=h(w.playerPositions);return _($)}));return(y,_)=>g(y,w=>{const $={type:"positionZ",value:w._1.cameraOffsetZ+w._2};return _($)})})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const $=h(w.playerPositions);return _($)}));return(y,_)=>g(y,w=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:w._1.cameraRotationAroundX,y:0,z:0})};return _($)})})(),(g,y)=>o.resizeE(g,_=>{const w={type:"aspect",value:_.iw/_.ih};return y(w)})])})()))(h=>{const g=y=>arrayMap(_=>unsafeInternalGroup(w=>w.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$f([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const $=playerPosition(_)(AxisX);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>{const M={type:"positionX",value:y+b};return v(M)})})(),(()=>{const w=sampleBy(functorEvent)($=>v=>$.sphereOffsetY+v)(o.renderingInfo)((()=>{const $=playerPosition(_)(AxisY);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>v({type:"positionY",value:b}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(_.tag==="Player1")return-4;if(_.tag==="Player2")return-3;if(_.tag==="Player3")return-2;if(_.tag==="Player4")return-1;fail$3()})()}),(()=>{const w=playerPosition(_)(AxisZ);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v({type:"positionZ",value:M})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(_.tag==="Player1")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(v.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(v.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(v.rateInfo.time*.21991148575128555)*.12566370614359174})};return $(b)});if(_.tag==="Player3")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(v.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(v.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(v.rateInfo.time*.09424777960769379)*-.09424777960769379})};return $(b)});if(_.tag==="Player2")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(v.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(v.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(v.rateInfo.time*-.25132741228718347)*.25132741228718347})};return $(b)});if(_.tag==="Player4")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(v.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(v.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(v.rateInfo.time*.06283185307179587)*-.2827433388230814})};return $(b)});fail$3()})()]))([]))(filter$1(_=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum$5(_=>w=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),0);if(_.tag==="Just")return $Tuple($Maybe("Just",w),w-_._1);fail$3()})(Nothing)((_,w)=>o.animatedStuff(_,$=>{const v=$.rateInfo.epochTime/1e3;return w(v)}));return(_,w)=>y(_,$=>{const v=$/1e3,b=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(v*.031415926535897934)},{type:"rotateY",value:.001*cos(v*.031415926535897934)},{type:"rotateZ",value:.001*cos(v*.031415926535897934)}]);return w(b)})})()))(concatArray(g(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((_,w)=>o.animatedStuff(_,$=>{const v=(()=>{if(o.myPlayer.tag==="Player1")return $.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return $.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return $.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return $.playerPositions.p4p;fail$3()})(),b=(()=>y.tag==="Position1"?v.tag==="Position1":y.tag==="Position2"?v.tag==="Position2":y.tag==="Position3"?v.tag==="Position3":y.tag==="Position4"?v.tag==="Position4":!1)();return w(b)})),rateE:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray([ambientLight$2({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$f([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionX",value:v}))})(),(()=>{const _=sampleBy(functorEvent)(w=>$=>w.lightOffsetY+$)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionY",value:v}))})(),(()=>{const _=playerPosition(y)(AxisZ);return(w,$)=>o.animatedStuff(w,v=>{const b=_(v.playerPositions);return $({type:"positionZ",value:b})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))(concatArray(arrayMap(y=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:1,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$f([applicativeEvent.pure({type:"positionX",value:y}),applicativeEvent.pure({type:"positionY",value:1.5}),applicativeEvent.pure({type:"positionZ",value:-5.25}),applicativeEvent.pure({type:"decay",value:1}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))([-3,-1,1,3]))([o.basicE(m._1.hitBasicVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)])))))))]))(y=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(_=>_.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const _=mapAccum$5(w=>$=>{if(w.tag==="Nothing")return $Tuple($Maybe("Just",$),0);if(w.tag==="Just")return $Tuple($Maybe("Just",$),$-w._1);fail$3()})(Nothing)((w,$)=>o.animatedStuff(w,v=>{const b=v.rateInfo.epochTime/1e3;return $(b)}));return(w,$)=>_(w,v=>{const b=v/1e3,M=oneOfMap$8(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(b*.031415926535897934)},{type:"rotateY",value:.001*cos(b*.031415926535897934)},{type:"rotateZ",value:.001*cos(b*.031415926535897934)}]);return $(M)})})()))(concatArray(g(0))(arrayMap(_=>pointLight$2({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$f([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const $=playerPosition(_)(AxisX);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>v({type:"positionX",value:b}))})(),(()=>{const w=sampleBy(functorEvent)($=>v=>$.lightOffsetY+v)(o.renderingInfo)((()=>{const $=playerPosition(_)(AxisY);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>v({type:"positionY",value:b}))})(),(()=>{const w=playerPosition(_)(AxisZ);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v({type:"positionZ",value:M})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(_=>globalWebGLRendererPortal1()()(webGLRenderer$3(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$f([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(w,$)=>o.resizeE(w,v=>$({type:"size",value:{width:v.iw,height:v.ih}}))])))(w=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(w)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(_)(h),unrealBloomPass$2({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))($=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(w)(oneOf$f([applicativeEvent.pure(render$2),(v,b)=>o.animatedStuff(v,M=>b(render$2))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})($)])),$Entity("EventfulElement'",(v,b)=>o.css2DRendererElt(v,M=>{const P=css2DRenderer$1(y)(h)({canvas:o.canvas,element:M,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$f([(I,S)=>o.resizeE(I,C=>S({type:"size",value:{width:C.iw,height:C.ih}})),applicativeEvent.pure(render$2),(I,S)=>o.animatedStuff(I,C=>S(render$2))]));return b(P)})),$Entity("EventfulElement'",(v,b)=>o.css3DRendererElt(v,M=>{const P=css3DRenderer$1(y)(h)({canvas:o.canvas,element:M,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$f([(I,S)=>o.resizeE(I,C=>S({type:"size",value:{width:C.iw,height:C.ih}})),applicativeEvent.pure(render$2),(I,S)=>o.animatedStuff(I,C=>S(render$2))]));return b(P)}))])))))}))))));return()=>(f(),unit)};var hasStringIterator=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",hasFromCodePoint=typeof String.prototype.fromCodePoint=="function";const _singleton=function(o){return hasFromCodePoint?String.fromCodePoint:o},_take=function(o){return function(u){return hasStringIterator?function(f){for(var d="",m=f[Symbol.iterator](),h=0;h<u;++h){var g=m.next();if(g.done)return d;d+=g.value}return d}:o(u)}},uncons=o=>{const u=length(o);if(u===0)return Nothing;if(u===1)return $Maybe("Just",{head:toCharCode(charAt(0)(o)),tail:""});const f=toCharCode(charAt(1)(o)),d=toCharCode(charAt(0)(o));return 55296<=d&&d<=56319&&56320<=f&&f<=57343?$Maybe("Just",{head:(((d-55296|0)*1024|0)+(f-56320|0)|0)+65536|0,tail:drop$1(2)(o)}):$Maybe("Just",{head:d,tail:drop$1(1)(o)})},fromCharCode=o=>singleton$1((()=>o>=-2147483648&&o<=2147483647?fromCharCode$1(o):o<0?"\0":"\uFFFF")()),singletonFallback=o=>o<=65535?fromCharCode(o):fromCharCode(intDiv(o-65536|0)(1024)+55296|0)+fromCharCode(intMod(o-65536|0)(1024)+56320|0),singleton=_singleton(singletonFallback),takeFallback=o=>u=>{if(o<1)return"";const f=uncons(u);return f.tag==="Just"?singleton(f._1.head)+takeFallback(o-1|0)(f._1.tail):u},take$2=_take(takeFallback);var NUMERIC="numeric",SUDDEN="sudden",UNIT="unit",CANCEL="cancel",NO_RAMP="step",LINEAR_RAMP="linear",EXPONENTIAL_RAMP="exponential",ENVELOPE="envelope",protoSetter=function(o,u,f,d){if(f.type===SUDDEN)o.value=f.value.n;else if(f.type===UNIT)u.id&&disconnectCtrl(u.id,d),d.units[f.value.i].main.connect(o),u.id=f.value.i;else if(f.type===NUMERIC)o[f.value.t.type===NO_RAMP?"setValueAtTime":f.value.t.type===LINEAR_RAMP?"linearRampToValueAtTime":f.value.t.type===EXPONENTIAL_RAMP?"exponentialRampToValueAtTime":"linearRampToValueAtTime"](f.value.n,f.value.o);else if(f.type===CANCEL)f.value.hold?o.cancelAndHoldAtTime(f.value.o):o.cancelScheduledValues(f.value.o);else if(f.type===ENVELOPE){const m=f.value.o;o.cancelScheduledValues(Math.max(0,m)),o.setValueCurveAtTime(f.value.p,m,f.value.d)}else throw new Error("No idea what to do with "+JSON.stringify(f))},workletSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u.parameters.get(f),d[f],m,o)},genericSetter=function(o,u,f,d,m){return d[f]||(d[f]={}),protoSetter(u[f],d[f],m,o)},addToScope=function(o,u,f,d){const m=o("@fan@")(h=>h)(f);d.scopes[m]||(d.scopes[m]=[]),d.scopes[m].push(u),d.units[u].scope=m},doDeferredConnections=function(o,u){u.toConnect[o]&&(u.toConnect[o].forEach(function(f){f.w?u.units[f.w]?f.f():(u.toConnect[f.w]||(u.toConnect[f.w]=[]),u.toConnect[f.w].push({f:f.f})):f.f()}),delete u.toConnect[o])},mConnectXToY_=function(o,u,f,d){o()(m=>connectXToYInternal_(u,m,d))(f)},connectXToYInternal_=function(o,u,f){var d=function(){f.units[o].audioOutgoing.push(u),f.units[o].pendingOn||(f.units[o].main.connect(f.units[u].main),f.units[u].se&&f.units[o].main.connect(f.units[u].se))};if(!f.units[o]){f.toConnect[o]||(f.toConnect[o]=[]);var m={f:d};u!==o&&!f.units[u]&&(m.w=u),f.toConnect[o].push(m);return}if(!f.units[u]){f.toConnect[u]||(f.toConnect[u]=[]);var m={f:d};u!==o&&!f.units[o]&&(m.w=o),f.toConnect[u].push(m);return}d()};function deleteFromCache_(o){return function(u){return function(){delete u.units[o.id]}}}function connectXToY_(o){return function(u){return function(){connectXToYInternal_(o.from,o.to,u)}}}var disconnectCtrl=function(o,u){if(u.units[o].scope==="@fan@")return;const f=u.units[o].scope;u.scopes[f].forEach(d=>{delete u.units[d]}),delete u.scopes[f]};function disconnectXFromY_(o){return function(u){return function(){var f=o.from,d=o.to;if(!u.units[f]||(u.units[f].audioOutgoing=u.units[f].audioOutgoing.filter(function(h){return h!==d}),u.units[f].main.disconnect(u.units[d].main),u.units[d].se&&u.units[f].main.disconnect(u.units[d].se),u.units[f].scope==="@fan@"))return;const m=u.units[f].scope;u.scopes[m].forEach(h=>{delete u.units[h]}),delete u.scopes[m]}}}const makeAllpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"allpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAnalyser_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=new AnalyserNode(f.context,u),g=m(h)();f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],analyserOrig:m,analyser:g,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeAudioWorkletNode_=o=>u=>f=>()=>{var d=u.id,m=u.options;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new AudioWorkletNode(f.context,m.name,{numberOfInputs:m.numberOfInputs,numberOfOutputs:m.numberOfOutputs,outputChannelCount:m.outputChannelCount,parameterData:m.parameterData,processorOptions:m.processorOptions})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeBandpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"bandpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConstant_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new ConstantSourceNode(g,y)},h={offset:u.offset};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeConvolver_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new ConvolverNode(f.context,{buffer:u.buffer})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDelay_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DelayNode(f.context,{delayTime:u.delayTime,maxDelayTime:u.maxDelayTime})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeDynamicsCompressor_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new DynamicsCompressorNode(f.context,{knee:u.knee,ratio:u.ratio,threshold:u.threshold,attack:u.attack,release:u.release})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeGain_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new GainNode(f.context,{gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeHighshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"highshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeIIRFilter_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new IIRFilterNode(f.context,{feedforward:u.feedforward,feedback:u.feedback})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLoopBuf_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new AudioBufferSourceNode(g,y)},h={loop:!0,buffer:u.buffer,loopStart:u.loopStart,loopEnd:u.loopEnd,playbackRate:u.playbackRate};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowpass_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowpass",Q:u.q,frequency:u.frequency})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeLowshelf_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"lowshelf",frequency:u.frequency,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMediaElement_=o=>u=>f=>()=>{var d=u.id,m=u.element,h=function(){var g=f.context.createMediaElementSource(m);return g};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],createClosure:h,resumeClosure:{},main:h()},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeMicrophone_=o=>u=>f=>()=>{var d=u.id;f.units[u.id]={main:f.context.createMediaStreamSource(u.microphone),controllers:{},audioOutgoing:[],controlOutgoing:[]},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeNotch_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"notch",frequency:u.frequency,Q:u.q})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeaking_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new BiquadFilterNode(f.context,{type:"peaking",frequency:u.frequency,Q:u.q,gain:u.gain})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePeriodicOsc_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){var _={frequency:y.frequency,periodicWave:y.spec.type==="wave"?y.spec.value:makePeriodicWaveImpl(f.context)(y.spec.value.real)(y.spec.value.img)()},w=new OscillatorNode(g,_);return w},h={frequency:u.frequency,type:"custom",spec:u.spec};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makePlayBuf_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){var _={loop:y.loop,buffer:y.buffer,playbackRate:y.playbackRate};return new AudioBufferSourceNode(g,_)},h={loop:!1,buffer:u.buffer,playbackRate:u.playbackRate,bufferOffset:u.bufferOffset,duration:o(void 0)(g=>g)(u.duration)};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeRecorder_=o=>u=>f=>()=>{var d=u.id,m=u.cb,h=f.context.createMediaStreamDestination(),g=new MediaRecorder(h.stream);m(g)(),g.start(),f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],recorderOrig:m,recorder:g,main:f.context.createGain(),se:h},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSawtoothOsc_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new OscillatorNode(g,y)},h={frequency:u.frequency,type:"sawtooth"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSinOsc_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new OscillatorNode(g,y)},h={frequency:u.frequency,type:"sine"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSpeaker_=o=>u=>()=>{u.units[o.id]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:u.context.createGain(),se:u.context.destination}},makeStereoPanner_=o=>u=>f=>()=>{var d=u.id;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new StereoPannerNode(f.context,{pan:u.pan})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeSquareOsc_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new OscillatorNode(g,y)},h={frequency:u.frequency,type:"square"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeTriangleOsc_=o=>u=>f=>()=>{var d=u.id,m=function(g,y){return new OscillatorNode(g,y)},h={frequency:u.frequency,type:"triangle"};f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],resume:h,createClosure:m,onOff:!1,pendingOn:!0,main:m(f.context,h)},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)},makeWaveShaper_=o=>u=>f=>()=>{var d=u.id,m=u.curve,h=u.oversample;f.units[d]={controllers:{},audioOutgoing:[],controlOutgoing:[],main:new WaveShaperNode(f.context,{curve:m,oversample:h.type})},addToScope(o,d,u.scope,f),doDeferredConnections(d,f),mConnectXToY_(o,d,u.parent,f)};function setAnalyserNodeCb_(o){return function(u){return function(){var f=o.id,d=o.cb;u.units[f].analyserOrig!==d&&(u.units[f].analyser&&u.units[f].analyser(),u.units[f].analyser=d(u.units[f].se)(),u.units[f].analyserOrig=d)}}}function setMediaRecorderCb_(o){return function(u){return function(){var f=o.cb,d=o.id;if(u.units[d].recorderOrig!==f){u.units[d].recorder&&u.units[d].recorder.stop();var m=f;u.units[d].recorderOrig=f;var h=new MediaRecorder(u.units[d].se);m(h)(),h.start()}}}}function setWaveShaperCurve_(o){return function(u){return function(){var f=o.id,d=o.curve;u.units[f].main.curve=d}}}function setAudioWorkletParameter_(o){return function(u){return function(){var f=o.id,d=o.paramName,m=o.paramValue;workletSetter(u,u.units[f].main,d,u.units[f].controllers,m)}}}const recalcResume=function(o,u,f){u.resume&&o.value.n!==void 0&&(u.resume[f]=o.value.n)};function setGain_(o){return function(u){return function(){var f=o.id,d=o.gain;genericSetter(u,u.units[f].main,"gain",u.units[f].controllers,d),recalcResume(d,u.units[f],"gain")}}}function setQ_(o){return function(u){return function(){var f=o.id,d=o.q;genericSetter(u,u.units[f].main,"Q",u.units[f].controllers,d),recalcResume(d,u.units[f],"Q")}}}function setBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].resume&&(u.units[f].resume.buffer=d)}}}function setConvolverBuffer_(o){return function(u){return function(){var f=o.id,d=o.buffer;u.units[f].main.buffer=d}}}function setPeriodicOsc_(o){return function(u){return function(){var f=o.id,d=o.spec;u.units[f].resume&&(u.units[f].resume.spec=d)}}}function setPan_(o){return function(u){return function(){var f=o.id,d=o.pan;genericSetter(u,u.units[f].main,"pan",u.units[f].controllers,d),recalcResume(d,u.units[f],"pan")}}}function setThreshold_(o){return function(u){return function(){var f=o.id,d=o.threshold;genericSetter(u,u.units[f].main,"threshold",u.units[f].controllers,d),recalcResume(d,u.units[f],"threshold")}}}function setLoopStart_(o){return function(u){return function(){var f=o.id,d=o.loopStart;u.units[f].main.loopStart=d,u.units[f].resume.loopStart=d}}}function setLoopEnd_(o){return function(u){return function(){var f=o.id,d=o.loopEnd;u.units[f].main.loopEnd=d,u.units[f].resume.loopEnd=d}}}function setBufferOffset_(o){return function(u){return function(){var f=o.id,d=o.bufferOffset;u.units[f].resume.bufferOffset=d}}}function setDuration_(o){return function(u){return function(f){return function(){var d=u.id,m=u.duration;f.units[d].duration=o(void 0)(h=>h)(m)}}}}function setRelease_(o){return function(u){return function(){var f=o.id,d=o.release;genericSetter(u,u.units[f].main,"release",u.units[f].controllers,d),recalcResume(d,u.units[f],"release")}}}function setOffset_(o){return function(u){return function(){var f=o.id,d=o.offset;genericSetter(u,u.units[f].main,"offset",u.units[f].controllers,d),recalcResume(d,u.units[f],"offset")}}}function setRatio_(o){return function(u){return function(){var f=o.id,d=o.ratio;genericSetter(u,u.units[f].main,"ratio",u.units[f].controllers,d),recalcResume(d,u.units[f],"ratio")}}}function setAttack_(o){return function(u){return function(){var f=o.id,d=o.attack;genericSetter(u,u.units[f].main,"attack",u.units[f].controllers,d),recalcResume(d,u.units[f],"attack")}}}function setKnee_(o){return function(u){return function(){var f=o.id,d=o.knee;genericSetter(u,u.units[f].main,"knee",u.units[f].controllers,d),recalcResume(d,u.units[f],"knee")}}}function setDelay_(o){return function(u){return function(){var f=o.id,d=o.delayTime;genericSetter(u,u.units[f].main,"delayTime",u.units[f].controllers,d),recalcResume(d,u.units[f],"delayTime")}}}function setPlaybackRate_(o){return function(u){return function(){var f=o.id,d=o.playbackRate;genericSetter(u,u.units[f].main,"playbackRate",u.units[f].controllers,d),recalcResume(d,u.units[f],"playbackRate")}}}function setFrequency_(o){return function(u){return function(){var f=o.id,d=o.frequency;genericSetter(u,u.units[f].main,"frequency",u.units[f].controllers,d),recalcResume(d,u.units[f],"frequency")}}}function setOnOff_(o){return function(u){return function(){var f=o.id,d=o.onOff;d.x.type==="on"?setOn_(f)(d)(u)():d.x.type==="off"&&setOff_(f)(d)(u)()}}}var setOn_=function(o){return function(u){return function(f){return function(){if(!f.units[o].onOff){f.units[o].pendingOn=!1,f.units[o].onOff=!0,f.units[o].main=f.units[o].createClosure(f.context,f.units[o].resume);for(var d=0;d<f.units[o].audioOutgoing.length;d++){var m=f.units[o].audioOutgoing[d];f.units[o].main.connect(f.units[m].main),f.units[m].se&&f.units[o].main.connect(f.units[m].se)}f.units[o].resume&&f.units[o].resume.bufferOffset?typeof f.units[o].resume.duration=="number"?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset,f.units[o].resume.duration):f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.bufferOffset):f.units[o].resume&&f.units[o].resume.loopStart?f.units[o].main.start(f.deprecatedWriteHead+u.o,f.units[o].resume.loopStart):f.units[o].main.start(f.deprecatedWriteHead+u.o)}}}}},setOff_=function(o){return function(u){return function(f){return function(){if(!!f.units[o].onOff){f.units[o].onOff=!1;var d=f.units[o].main;d.addEventListener("ended",()=>{d.disconnect()}),d.stop(f.deprecatedWriteHead+u.o)}}}}};function constant0Hack_(o){return function(){var u=o.createConstantSource();return u.offset.value=0,u.connect(o.destination),u.start(),function(){u.stop(),u.disconnect(o.destination)}}}var makePeriodicWaveImpl=function(o){return function(u){return function(f){return function(){for(var d=new Float32Array(u.length),m=new Float32Array(f.length),h=0;h<u.length;h++)d[h]=u[h];for(var h=0;h<f.length;h++)m[h]=f[h];return o.createPeriodicWave(d,m,{disableNormalization:!0})}}}};function makeFFIAudioSnapshot(o){return function(){return{context:o,deprecatedWriteHead:0,units:{},scopes:{},unsu:{},toConnect:{}}}}function close_(o){return function(){o.close()}}function fetchArrayBuffer(o){return function(){return fetch(o).then(function(u){return u.arrayBuffer()},function(u){return console.error("Error fetching buffer",u),Promise.reject(u)})}}function decodeAudioDataFromArrayBuffer(o){return function(u){return function(){return o.decodeAudioData(u)}}}function context_(){return new(window.AudioContext||window.webkitAudioContext)}function contextState_(o){return function(){return o.state}}function getAudioClockTime(o){return function(){return o.currentTime}}function makeAudioBuffer_(o){return function(u){return function(){for(var f=o.createBuffer(u.arr.length,u.arr[0].length,u.size),d=0;d<f.numberOfChannels;d++)for(var m=f.getChannelData(d),h=0;h<f.length;h++)m[h]=u.arr[d][h];return f}}}const effectfulAudioInterpret=o=>({ids:()=>{const u=o.value,f=o.value;return o.value=1+f|0,showIntImpl(arbInt.arbitrary({newSeed:(()=>{const d=intMod(u)(2147483645);return d<1?d+2147483646|0:d})(),size:5})._1)},deleteFromCache:deleteFromCache_,disconnectXFromY:disconnectXFromY_,connectXToY:connectXToY_,makeAllpass:makeAllpass_(maybe),makeAnalyser:makeAnalyser_(maybe),makeAudioWorkletNode:makeAudioWorkletNode_(maybe),makeBandpass:makeBandpass_(maybe),makeConstant:makeConstant_(maybe),makeConvolver:makeConvolver_(maybe),makeDelay:makeDelay_(maybe),makeDynamicsCompressor:makeDynamicsCompressor_(maybe),makeGain:makeGain_(maybe),makeHighpass:makeHighpass_(maybe),makeHighshelf:makeHighshelf_(maybe),makeIIRFilter:makeIIRFilter_(maybe),makeLoopBuf:makeLoopBuf_(maybe),makeLowpass:makeLowpass_(maybe),makeLowshelf:makeLowshelf_(maybe),makeMediaElement:makeMediaElement_(maybe),makeMicrophone:makeMicrophone_(maybe),makeNotch:makeNotch_(maybe),makePeaking:makePeaking_(maybe),makePeriodicOsc:makePeriodicOsc_(maybe),makePlayBuf:makePlayBuf_(maybe),makeRecorder:makeRecorder_(maybe),makeSawtoothOsc:makeSawtoothOsc_(maybe),makeSinOsc:makeSinOsc_(maybe),makeSpeaker:makeSpeaker_,makeSquareOsc:makeSquareOsc_(maybe),makeStereoPanner:makeStereoPanner_(maybe),makeTriangleOsc:makeTriangleOsc_(maybe),makeWaveShaper:makeWaveShaper_(maybe),setAnalyserNodeCb:setAnalyserNodeCb_,setMediaRecorderCb:setMediaRecorderCb_,setWaveShaperCurve:setWaveShaperCurve_,setAudioWorkletParameter:setAudioWorkletParameter_,setBuffer:setBuffer_,setConvolverBuffer:setConvolverBuffer_,setDuration:setDuration_(maybe),setPeriodicOsc:setPeriodicOsc_,setOnOff:setOnOff_,setBufferOffset:setBufferOffset_,setLoopStart:setLoopStart_,setLoopEnd:setLoopEnd_,setRatio:setRatio_,setOffset:setOffset_,setAttack:setAttack_,setGain:setGain_,setQ:setQ_,setPan:setPan_,setThreshold:setThreshold_,setRelease:setRelease_,setKnee:setKnee_,setDelay:setDelay_,setPlaybackRate:setPlaybackRate_,setFrequency:setFrequency_}),decodeAudioDataFromUri=o=>u=>_bind(_bind(_liftEffect(fetchArrayBuffer(u)))(toAff$p(coerce)))((()=>{const f=decodeAudioDataFromArrayBuffer(o);return d=>_bind(_liftEffect(f(d)))(toAff$p(coerce))})()),close=o=>u=>o.liftEffect((()=>{const f=contextState_(u);return()=>{const d=f(),m=close_(u);return d!=="closed"?m():unit}})()),withACTime=o=>u=>backdoor.makeEvent(f=>subscribe(u)(d=>{const m=getAudioClockTime(o);return()=>{const h=m();return f({acTime:h,value:d})()}})),run2=o=>u=>{const f=makeFFIAudioSnapshot(o);return()=>{const d=f(),m={value:0};return subscribe(speaker(u)(effectfulAudioInterpret(m)))(g=>g(d))()}},set_=o=>({n11:u,n12:f,n13:d,n14:m,n21:h,n22:g,n23:y,n24:_,n31:w,n32:$,n33:v,n34:b,n41:M,n42:P,n43:I,n44:S})=>new o().set(u,f,d,m,h,g,y,_,w,$,v,b,M,P,I,S),$CenterState=(o,u)=>({tag:o,_1:u}),$FadeInstruction=o=>({tag:o}),identity$9=o=>o,oneOf$e=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussed=vbussed$1()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"longAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusCons2({reflectSymbol:()=>"tutorialCenterState"})()()(vbusNil)()())()())()())()())()())()())()())()())()()),traverse_$7=traverse_$9(applicativeEffect)(foldableMaybe),fromFoldable$7=fromFoldable$9(ordNumber)(foldableArray),pure2$1=(()=>applicativeABehavior(functorEvent).pure)(),max$8=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT$1=applicativeExceptT$3(monadIdentity),traverse$3=(()=>traversableMap.traverse(applicativeExceptT$1))(),throwError$1=(()=>monadThrowExceptT(monadIdentity).throwError)(),oneOfMap$7=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),FadeIn=$FadeInstruction("FadeIn"),FadeOut=$FadeInstruction("FadeOut"),FadeInOut=$FadeInstruction("FadeInOut"),Intro=$CenterState("Intro"),Tiles=$CenterState("Tiles"),Tilt=$CenterState("Tilt"),Leap=$CenterState("Leap"),Long=$CenterState("Long"),End$1=$CenterState("End"),Empty$1=$CenterState("Empty"),tutorial$1=o=>u=>f=>{const d=contains("tutorial-fade-in-animation"),m=replace("tutorial-fade-in-animation")("tutorial-fade-out-animation opacity-0 "),h=(g,y,_,w,$,v,b,M)=>$Entity("EventfulElement'",backdoor.bus(P=>I=>div((S,C)=>{const O=R=>{const L={key:"class",value:$AttributeValue("Prop'",R((()=>v.tag==="FadeIn"||v.tag==="FadeInOut"?"tutorial-fade-in-animation ":"opacity-100 ")())+"z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900")};return C(L)},B=applicativeEvent.pure(identity$9)(S,O),N=I(S,O);return()=>(B(),N())})([div(klass_(attrDiv_ClassString)("select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6 md:col-start-3 md:col-end-5"))(concatArray([div(klass_(attrDiv_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))([p$1(plusEvent.empty)([text(applicativeEvent.pure(g))])])])(concatArray((()=>{if(y.tag==="Just")return[div(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))([y._1])];if(y.tag==="Nothing")return[];fail$3()})())([div(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))(concatArray((()=>{const S=[button(oneOf$e([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),applicativeEvent.pure((()=>{const C=P(B=>{const N=m(B),R="tutorial-fade-out-animation opacity-0 "+B;return d(B)?N:R}),O=_makeFiber(ffiUtil$1,applyAff.apply(_map(B=>identity$w)(_delay(Right,1500)))(_liftEffect(M(Empty$1))));return{key:"click",value:$AttributeValue("Cb'",B=>()=>(C(),O().run(),!0))}})())]))([text(applicativeEvent.pure("Keep playing"))])];return _?S:[]})())([button(oneOf$e([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),id_(attrButton_IdString)(w),applicativeEvent.pure((()=>{const S=M(Empty$1),C=P(R=>{const L=m(R),z="tutorial-fade-out-animation opacity-0 "+R;return d(R)?L:z}),O=_makeFiber(ffiUtil$1,applyAff.apply(_map(R=>identity$w)(_delay(Right,1500)))(_liftEffect(S))),B=()=>(C(),O().run(),unit),N=(()=>v.tag==="FadeOut"||v.tag==="FadeInOut"?B:S)();return{key:"click",value:$AttributeValue("Cb'",R=>()=>(N(),b(),!0))}})())]))([text(applicativeEvent.pure($))])]))])))])));return vbussed($$Proxy)(g=>y=>dynify(envy)(backdoor.memoize(sampleBy(functorEvent)(_=>w=>({rateInfo:w,playerPositions:{p1x:_.p1x(w),p1y:_.p1y,p1z:_.p1z,p1p:_.p1p,p2x:_.p2x(w),p2y:_.p2y,p2z:_.p2z,p2p:_.p2p,p3x:_.p3x(w),p3y:_.p3y,p3z:_.p3z,p3p:_.p3p,p4x:_.p4x(w),p4y:_.p4y,p4z:_.p4z,p4p:_.p4p}}))(f.playerPositions)(applyEvent.apply((_,w)=>y.rateInfo(_,$=>w(v=>{const b=(v.startTime-v.myTime)/1e3;return{epochTime:$.epochTime,time:$.time,prevTime:$.prevTime,beats:$.beats-b,prevBeats:(()=>{if($.prevBeats.tag==="Nothing")return Nothing;if($.prevBeats.tag==="Just")return $Maybe("Just",$.prevBeats._1-b);fail$3()})()}})))(oneOff(Just)(filter(_=>applyMaybe.apply((()=>{if(_.tag==="Leaf")return Nothing;const w=traverse$3($=>{if($.tag==="HasNotStartedYet")return throwError$1(unit);if($.tag==="HasStarted")return applicativeExceptT$1.pure($._1.startedAt);fail$3()})(_);if(w.tag==="Left")return Nothing;if(w.tag==="Right")return $Maybe("Just",$=>({startTime:foldableMap.foldl(max$8)(0)(w._1),myTime:$}));fail$3()})())((()=>{const w=lookup$2(ordPlayer)(f.player)(_);if(w.tag==="Just"){if(w._1.tag==="HasNotStartedYet")return Nothing;if(w._1.tag==="HasStarted")return $Maybe("Just",w._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))))(_=>div(plusEvent.empty)([div(klass_(attrDiv_ClassString)("z-10 pointer-events-none absolute w-screen h-screen grid grid-rows-6 grid-cols-6"))([div(klass_(attrDiv_ClassString)("row-start-1 row-end-3 col-start-1 col-end-3"))([div(klass_(attrDiv_ClassString)("mx-2 mt-2 "))([switcher(w=>{if(w._2.tag==="Nothing")return ul(plusEvent.empty)(arrayMap($=>li(plusEvent.empty)([span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure((()=>{if((()=>$._1.tag==="Player1"?f.player.tag==="Player1":$._1.tag==="Player2"?f.player.tag==="Player2":$._1.tag==="Player3"?f.player.tag==="Player3":$._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if($._2.tag==="HasStarted"){if($._2._1.name.tag==="Just")return $._2._1.name._1+" has joined!";if($._2._1.name.tag==="Nothing"){if($._1.tag==="Player1")return"Player 1 has joined!";if($._1.tag==="Player2")return"Player 2 has joined!";if($._1.tag==="Player3")return"Player 3 has joined!";if($._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if($._2.tag==="HasNotStartedYet"){if($._1.tag==="Player1")return"Player 1 has joined!";if($._1.tag==="Player2")return"Player 2 has joined!";if($._1.tag==="Player3")return"Player 3 has joined!";if($._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])]))(toUnfoldable$1(unfoldableArray)(w._1)));if(w._2.tag==="Just")return ul(plusEvent.empty)(arrayMap($=>li(plusEvent.empty)([span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure((()=>{if((()=>$._1.tag==="Player1"?f.player.tag==="Player1":$._1.tag==="Player2"?f.player.tag==="Player2":$._1.tag==="Player3"?f.player.tag==="Player3":$._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if($._2.name.tag==="Just")return"You ("+($._2.name._1+")");if($._2.name.tag==="Nothing")return"You";fail$3()}if($._2.name.tag==="Just")return $._2.name._1;if($._2.name.tag==="Nothing"){if($._1.tag==="Player1")return"Player 1";if($._1.tag==="Player2")return"Player 2";if($._1.tag==="Player3")return"Player 3";if($._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round($._2.points+-1*$._2.penalties)))+" Points"))))])]))(mapMaybe($=>{if($._2.tag==="HasNotStartedYet")return Nothing;if($._2.tag==="HasStarted")return $Maybe("Just",$Tuple($._1,$._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(w._1))));fail$3()})(applyEvent.apply((w,$)=>f.playerStatus(w,v=>{const b=Tuple(v);return $(b)}))(initializeWithEmpty(plusMaybe)(applicativeMaybe)(y.iAmReady)))]),dynify(envy)((w,$)=>y.iAmReady(w,v=>{const b=div(oneOf$e([klass_(attrDiv_ClassString)("mx-2")]))([button(oneOf$e([klass_(attrButton_ClassString)("pointer-events-auto p-1 "+buttonCls),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",M=>()=>(simpleExitFullScreen(),v(),o.goHome(),!0))})]))([text(applicativeEvent.pure((()=>(()=>{if(u.isPreviewPage.tag==="Nothing")return!1;if(u.isPreviewPage.tag==="Just")return!0;fail$3()})()?"Exit preview":"Exit tutorial")()))])]);return $(b)}))])]),(()=>{const w=applicativeEvent.pure((()=>{if(u.isPreviewPage.tag==="Nothing")return Intro;if(u.isPreviewPage.tag==="Just")return $CenterState("Preview",u.isPreviewPage._1);fail$3()})()),$=()=>{const v=requestIdleCallbackIsDefined(),b=context_(),M=constant0Hack_(b)(),P=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$7(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const z=now(),Y=o.unschedule.value,te=span$2(K=>K._1<z)(toUnfoldable$1(unfoldableArray)(Y));return foreachE(te.init)(snd)(),o.unschedule.value=fromFoldable$7(te.rest),unit};if(v){const z=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",z)}return L()}})())(),I=withACTime(b)((()=>{if(f.stats.tag==="Nothing")return animationFrameEvent;if(f.stats.tag==="Just")return animationFrameEventWithStats(f.stats._1);fail$3()})()),S=backdoor.hot((R,L)=>I(R,z=>L(z.acTime)))(),C=backdoor.hot(timeFromRate(f.cNow)(pure2$1({rate:1}))((R,L)=>S.event(R,z=>L({real:z}))))(),O=subscribe(C.event)(g.rateInfo)(),B=run2(b)(graph$1({basics:y.basicAudio,leaps:y.leapAudio,longs:y.longAudio,rateInfo:(R,L)=>_(R,z=>L(z.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,longVerb:f.longVerb,bgtrack:u.bgtrack,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds}))();g.pressedStart(!0)(),g.iAmReady((()=>{const R=clearIntervalImpl(P),L=close(monadEffectEffect)(b);return()=>(B(),M(),R(),S.unsubscribe(),O(),C.unsubscribe(),L())})())();const N=f.cNow();return f.optMeIn(N)()};return switcher(v=>{if(v.tag==="Preview")return h("Preview your ride!",$Maybe("Just",p$1(plusEvent.empty)([span(plusEvent.empty)([text(applicativeEvent.pure("Starting at "+(toStringWith($Format("Fixed",clamp$3(0)(20)(2)))(v._1.startsAt)+" seconds.")))])])),!1,"startPreview","Start",FadeOut,fullScreenFlow($),g.tutorialCenterState);if(v.tag==="Intro")return h("Welcome to Joyride!",Nothing,!1,"startTutorial","Start Tutorial",FadeOut,fullScreenFlow((()=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(M=>identity$w)(_delay(Right,4e3)))(_liftEffect(g.tutorialCenterState(Tiles))));return()=>($(),b().run(),unit)})()),g.tutorialCenterState);if(v.tag==="Tiles")return h("Points",$Maybe("Just",p$1(plusEvent.empty)([span(plusEvent.empty)([text(applicativeEvent.pure("Earn points by touching the "))]),span(klass_(attrSpan_ClassString)("italic"))([text(applicativeEvent.pure("gray"))]),span(plusEvent.empty)([text(applicativeEvent.pure(" tiles as soon as their edge touches the line. You'll lose points if you're too early or late."))])])),!1,"nextEarnPoints","Next >",FadeInOut,(()=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(M=>identity$w)(_delay(Right,12e3)))(_liftEffect(g.tutorialCenterState(Tilt))));return()=>(b().run(),unit)})(),g.tutorialCenterState);if(v.tag==="Tilt")return h("Tilt",$Maybe("Just",p$1(plusEvent.empty)([span(plusEvent.empty)([text(applicativeEvent.pure("Tilt your phone left or right to move sideways and reach far-off tiles."))])])),!1,"nextTilt","Next >",FadeInOut,(()=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(M=>identity$w)(_delay(Right,9500)))(_liftEffect(g.tutorialCenterState(Leap))));return()=>(b().run(),unit)})(),g.tutorialCenterState);if(v.tag==="Leap")return h("Leaps",$Maybe("Just",p$1(plusEvent.empty)([span(plusEvent.empty)([text(applicativeEvent.pure("Leap to a new line by touching a "))]),span(klass_(attrSpan_ClassString)("italic"))([text(applicativeEvent.pure("leap"))]),span(plusEvent.empty)([text(applicativeEvent.pure(" tile. Leap tiles have the same color as the line you'll leap to."))])])),!1,"nextLeap","Next >",FadeInOut,(()=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(M=>identity$w)(_delay(Right,1e4)))(_liftEffect(g.tutorialCenterState(Long))));return()=>(b().run(),unit)})(),g.tutorialCenterState);if(v.tag==="Long")return h("Press",$Maybe("Just",p$1(plusEvent.empty)([span(plusEvent.empty)([text(applicativeEvent.pure("Long-press the "))]),span(klass_(attrSpan_ClassString)("italic"))([text(applicativeEvent.pure("green"))]),span(plusEvent.empty)([text(applicativeEvent.pure(" tiles to earn points. The closer the tile is, the higher the points!"))])])),!1,"nextLong","Next >",FadeInOut,(()=>{const b=_makeFiber(ffiUtil$1,applyAff.apply(_map(M=>identity$w)(_delay(Right,25e3)))(_liftEffect(g.tutorialCenterState(End$1))));return()=>(b().run(),unit)})(),g.tutorialCenterState);if(v.tag==="End")return h("That's it!",$Maybe("Just",p$1(plusEvent.empty)([text(applicativeEvent.pure("Play against up to four people! The ride is more fun when shared with friends \u{1F917}"))])),!0,"goHome","Home >",FadeIn,o.goHome,g.tutorialCenterState);if(v.tag==="Empty")return $Entity("EventfulElement'",plusEvent.empty);fail$3()})((v,b)=>{const M=w(v,b),P=y.tutorialCenterState(v,b);return()=>(M(),P())})})(),div(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))([canvas(oneOf$e([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute w-screen h-screen")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const w=traverse_$7($=>runThree$1({threeDI:f.threeDI,css2DRendererElt:y.render2DElement,css3DRendererElt:y.render3DElement,pressedStart:y.pressedStart,isMobile:o.isMobile,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,columnPusher:o.columnPusher,lowPriorityCb:o.lpsCallback,myPlayer:f.player,debug:o.debug,models:f.models,textures:f.textures,cubeTextures:f.cubeTextures,pushBasic:o.pushBasic,basicE:v=>b=>u.basicE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:b,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:g.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushBasic:o.pushBasic,pushBasicVisualForLabel:v}),leapE:v=>b=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,columnEventConstructor:b,debug:o.debug,notifications:{hitLeap:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:g.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushLeap:o.pushLeap,pushLeapVisualForLabel:v}),longE:v=>b=>M=>u.longE({initialDims:f.initialDims,columnEventConstructor:M,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:plusEvent.empty,releaseLong:plusEvent.empty},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:g.longAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:_,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:v,pushReleaseLongVisualForLabel:b}),animatedStuff:_,resizeE:o.resizeE,initialDims:f.initialDims,canvas:$}));return $=>w(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",$))})())})]))([]),div(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",g.render2DElement)}]))([]),div(oneOfMap$7(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",g.render3DElement)}]))([])])]))))},$Landmark=(o,u)=>({tag:o,_1:u}),eventToAff=o=>makeAff(u=>()=>{const f={value:()=>unit},d=subscribe(o)(m=>{const h=u($Either("Right",m));return()=>(h(),bindE(()=>f.value)(identity$v)(),f.value=()=>unit)})();return f.value=d,m=>_liftEffect(bindE(()=>f.value)(identity$v))}),memoBeh=o=>u=>f=>backdoor.makeEvent(d=>()=>{const m=create(),h={value:u};return d(f(backdoor.makeEvent(g=>{const y=bindE(()=>h.value)(g);return()=>(y(),subscribe(m.event)(g)())})))(),subscribe(o)(g=>()=>(h.value=g,m.push(g)()))()}),rider=o=>u=>backdoor.makeEvent(f=>{const d=subscribe(u)(f);return()=>{const m=d(),h=subscribe(o.event)(o.push)();return()=>(m(),h())}});/*!
 * MIT License
 * 
 * Copyright (c) 2020 Filestack
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */var filestack=function(o){var u={};function f(d){if(u[d])return u[d].exports;var m=u[d]={i:d,l:!1,exports:{}};return o[d].call(m.exports,m,m.exports,f),m.l=!0,m.exports}return f.m=o,f.c=u,f.d=function(d,m,h){f.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:h})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,m){if(1&m&&(d=f(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(f.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var g in d)f.d(h,g,function(y){return d[y]}.bind(null,g));return h},f.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(m,"a",m),m},f.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},f.p="",f(f.s=52)}([function(o,u,f){f.d(u,"c",function(){return m}),f.d(u,"a",function(){return h}),f.d(u,"b",function(){return g}),f.d(u,"d",function(){return y}),f.d(u,"f",function(){return _}),f.d(u,"e",function(){return $});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(v,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,P){M.__proto__=P}||function(M,P){for(var I in P)P.hasOwnProperty(I)&&(M[I]=P[I])})(v,b)};function m(v,b){function M(){this.constructor=v}d(v,b),v.prototype=b===null?Object.create(b):(M.prototype=b.prototype,new M)}var h=function(){return(h=Object.assign||function(v){for(var b,M=1,P=arguments.length;M<P;M++)for(var I in b=arguments[M])Object.prototype.hasOwnProperty.call(b,I)&&(v[I]=b[I]);return v}).apply(this,arguments)};function g(v,b,M,P){return new(M||(M=Promise))(function(I,S){function C(N){try{B(P.next(N))}catch(R){S(R)}}function O(N){try{B(P.throw(N))}catch(R){S(R)}}function B(N){var R;N.done?I(N.value):(R=N.value,R instanceof M?R:new M(function(L){L(R)})).then(C,O)}B((P=P.apply(v,b||[])).next())})}function y(v,b){var M,P,I,S,C={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return S={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function O(B){return function(N){return function(R){if(M)throw new TypeError("Generator is already executing.");for(;C;)try{if(M=1,P&&(I=2&R[0]?P.return:R[0]?P.throw||((I=P.return)&&I.call(P),0):P.next)&&!(I=I.call(P,R[1])).done)return I;switch(P=0,I&&(R=[2&R[0],I.value]),R[0]){case 0:case 1:I=R;break;case 4:return C.label++,{value:R[1],done:!1};case 5:C.label++,P=R[1],R=[0];continue;case 7:R=C.ops.pop(),C.trys.pop();continue;default:if(I=C.trys,!((I=I.length>0&&I[I.length-1])||R[0]!==6&&R[0]!==2)){C=0;continue}if(R[0]===3&&(!I||R[1]>I[0]&&R[1]<I[3])){C.label=R[1];break}if(R[0]===6&&C.label<I[1]){C.label=I[1],I=R;break}if(I&&C.label<I[2]){C.label=I[2],C.ops.push(R);break}I[2]&&C.ops.pop(),C.trys.pop();continue}R=b.call(v,C)}catch(L){R=[6,L],P=0}finally{M=I=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([B,N])}}}function _(v){var b=typeof Symbol=="function"&&Symbol.iterator,M=b&&v[b],P=0;if(M)return M.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&P>=v.length&&(v=void 0),{value:v&&v[P++],done:!v}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(v,b){var M=typeof Symbol=="function"&&v[Symbol.iterator];if(!M)return v;var P,I,S=M.call(v),C=[];try{for(;(b===void 0||b-- >0)&&!(P=S.next()).done;)C.push(P.value)}catch(O){I={error:O}}finally{try{P&&!P.done&&(M=S.return)&&M.call(S)}finally{if(I)throw I.error}}return C}function $(){for(var v=[],b=0;b<arguments.length;b++)v=v.concat(w(arguments[b]));return v}},function(o,u,f){f.r(u),f.d(u,"resolveCdnUrl",function(){return S}),f.d(u,"resolveHost",function(){return C}),f.d(u,"removeEmpty",function(){return O}),f.d(u,"uniqueTime",function(){return B}),f.d(u,"uniqueId",function(){return N}),f.d(u,"getMimetype",function(){return R}),f.d(u,"extensionToMime",function(){return L}),f.d(u,"sanitizeName",function(){return z}),f.d(u,"filterObject",function(){return Y}),f.d(u,"cleanUpCallbacks",function(){return te}),f.d(u,"md5",function(){return v}),f.d(u,"b64",function(){return b}),f.d(u,"getVersion",function(){return M}),f.d(u,"isMobile",function(){return P}),f.d(u,"isFacebook",function(){return I});var d,m=f(0),h={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","msp","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"application/font-ttf":"ttf","application/vnd.ms-fontobject":"eot","application/font-otf":"otf","text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard","vcr"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"],"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["keynote","key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.key":["key"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"],"application/x-msi":"msi","application/x-ms":"ms","application/vnd.geo+json":"geojson","application/vnd.debian.binary-package":"deb","application/font-woff":"woff","application/font-woff2":"woff2","application/x-font-ttf":["ttc","ttf"],"font/opentype":"otf","application/x-bb-appworld":"bbaw","application/x-cd-image":"iso","application/x-opera-extension":"oex","application/x-ms-dos-executable":"exe","text/vnd.rim.location.xloc":"xloc","application/x-desktop":"desktop","application/x-typescript":"ts","application/x-java-archive":"jar","application/x-sharedlib":"so"},g=f(17),y=f.n(g),_=f(27),w=f(28),$=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i,v=function(K){return btoa(w.ArrayBuffer.hash(K,!0))},b=function(K,Q){Q===void 0&&(Q=!1);var J=btoa(K);return Q?J.replace(/\//g,"_").replace(/\+/g,"-"):J},M=function(){return"JS-3.25.0"},P=function(){return navigator&&navigator.userAgent&&$.test(navigator.userAgent)},I=function(){return navigator&&navigator.userAgent&&/\[FB.*;/i.test(navigator.userAgent)},S=function(K,Q){var J=K.urls.cdnUrl;if(Q&&(Q.indexOf("src:")===0||Q.indexOf("http")===0)){if(!K.apikey)throw new Error("Api key is required when storage alias is provided");return J+"/"+K.apikey}return J},C=function(K,Q){if(!Q)return K;var J=/filestackapi.com|filestackcontent.com/i;return Object.keys(K).forEach(function(Z){K[Z]=K[Z].replace(J,Q)}),K},O=function(K){var Q=Object(m.a)({},K);return Object.keys(Q).forEach(function(J){return!Q[J]&&typeof Q[J]!="boolean"&&delete Q[J]}),Q},B=function(){var K=Date.now();return d=K===d?K+1:K},N=function(K){return K===void 0&&(K=10),new Array(K).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()})},R=function(K,Q){var J=y()(K);if(J&&["text/plain","application/octet-stream","application/x-ms","application/x-msi","application/zip"].indexOf(J.mime)===-1)return J.mime;if(Q&&Q.indexOf(".")>-1){var Z=L(Q);if(Z)return Z}try{if(_(K))return"text/plain"}catch{console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers")}return J?J.mime:"application/octet-stream"},L=function(K){if(K&&K.length!==0){if(K.split("/").length===2)return K;K.indexOf(".")>-1&&(K=K.split(".").pop()),K=K.toLocaleLowerCase();for(var Q=Object.keys(h),J=Q.length,Z=0;Z<J;Z++)if(h[Q[Z]].indexOf(K)>-1)return Q[Z]}},z=function(K,Q){if(Q===void 0&&(Q=!0),typeof Q=="boolean"&&!Q)return K;var J,Z=typeof Q!="boolean"&&Q.replacement?Q.replacement:"-",ne=typeof Q!="boolean"&&Q.exclude?Q.exclude:["\\","{","}","|","%","`",'"',"'","~","[","]","#","|","^","<",">"];if(!K||K.length===0)return"undefined";var q=K.split(".");return q.length>1&&(J=q.pop()),q.join(".").split("").map(function(H){return ne.indexOf(H)>-1?Z:H}).join("")+(J?"."+J:"")},Y=function(K,Q){return Q&&Q.length!==0?Object.keys(K).length===0?K:Object.keys(K).filter(function(J){return Q.indexOf(J)>-1}).reduce(function(J,Z){var ne;return Object(m.a)(Object(m.a)({},J),((ne={})[Z]=K[Z],ne))},{}):K},te=function K(Q){return Q&&Object.keys(Q).length!==0&&Object.keys(Q).forEach(function(J){typeof Q[J]=="function"&&(Q[J]=void 0),Q[J]===Object(Q[J])&&(Q[J]=K(Q[J]))}),Q}},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return h});var d,m=f(0);(function(g){g.ABORTED="ABORTED",g.NETWORK="NETWORK",g.TIMEOUT="TIMEDOUT",g.SERVER="SERVER",g.REQUEST="REQUEST",g.OTHER="OTHER",g.REDIRECT="REDIRECT"})(d||(d={}));var h=function(g){function y(_,w,$,v){var b,M,P,I=this.constructor,S=g.call(this,_)||this;return S.config=w,S.response=$,S.code=v,b=S,M=I.prototype,(P=Object.setPrototypeOf)?P(b,M):b.__proto__=M,S}return Object(m.c)(y,g),y}(Error)},function(o,u,f){(function(d){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}u.log=function(){var h;return(typeof console>"u"?"undefined":m(console))==="object"&&console.log&&(h=console).log.apply(h,arguments)},u.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!!this.useColors){var g="color: "+this.color;h.splice(1,0,g,"color: inherit");var y=0,_=0;h[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(y++,w==="%c"&&(_=y))}),h.splice(_,0,g)}},u.save=function(h){try{h?u.storage.setItem("debug",h):u.storage.removeItem("debug")}catch{}},u.load=function(){var h;try{h=u.storage.getItem("debug")}catch{}return!h&&d!==void 0&&"env"in d&&(h=d.env.DEBUG),h},u.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},u.storage=function(){try{return localStorage}catch{}}(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.exports=f(41)(u),o.exports.formatters.j=function(h){try{return JSON.stringify(h)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}}).call(this,f(26))},function(o,u,f){function d(P){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(P)}function m(P){switch(Object.prototype.toString.call(P)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return M(P,Error)}}function h(P){return Object.prototype.toString.call(P)==="[object String]"}function g(P){return P===null||d(P)!=="object"&&typeof P!="function"}function y(P){return Object.prototype.toString.call(P)==="[object Object]"}function _(P){return typeof Event<"u"&&M(P,Event)}function w(P){return typeof Element<"u"&&M(P,Element)}function $(P){return Object.prototype.toString.call(P)==="[object RegExp]"}function v(P){return Boolean(P&&P.then&&typeof P.then=="function")}function b(P){return y(P)&&"nativeEvent"in P&&"preventDefault"in P&&"stopPropagation"in P}function M(P,I){try{return P instanceof I}catch{return!1}}f.d(u,"b",function(){return m}),f.d(u,"h",function(){return h}),f.d(u,"f",function(){return g}),f.d(u,"e",function(){return y}),f.d(u,"c",function(){return _}),f.d(u,"a",function(){return w}),f.d(u,"g",function(){return $}),f.d(u,"j",function(){return v}),f.d(u,"i",function(){return b}),f.d(u,"d",function(){return M})},function(o,u,f){f.d(u,"a",function(){return g}),f.d(u,"f",function(){return y}),f.d(u,"d",function(){return _}),f.d(u,"b",function(){return w}),f.d(u,"h",function(){return $}),f.d(u,"e",function(){return v}),f.d(u,"i",function(){return b}),f.d(u,"c",function(){return d}),f.d(u,"g",function(){return m});var d=function(){return!1},m=function(){return!1};function h(M){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(M)}var g=function(M){return Object.prototype.toString.call(M)==="[object ArrayBuffer]"},y=function(M){return M!==null&&h(M)==="object"},_=function(M){return Object.prototype.toString.call(M)==="[object File]"},w=function(M){return Object.prototype.toString.call(M)==="[object Blob]"},$=function(M){return typeof URLSearchParams<"u"&&M instanceof URLSearchParams},v=function(M){return typeof FormData<"u"&&M instanceof FormData},b=function(M){return M.replace(/^\s*/,"").replace(/\s*$/,"")}},function(o,u,f){var d;f.d(u,"a",function(){return d}),function(m){m.GET="GET",m.DELETE="DELETE",m.HEAD="HEAD",m.PURGE="PURGE",m.OPTIONS="OPTIONS",m.POST="POST",m.PUT="PUT",m.PATH="PATH"}(d||(d={}))},function(o,u,f){var d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m="["+d+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",h=new RegExp("^"+m+"$");u.isExist=function(g){return g!==void 0},u.isEmptyObject=function(g){return Object.keys(g).length===0},u.merge=function(g,y,_){if(y)for(var w=Object.keys(y),$=w.length,v=0;v<$;v++)g[w[v]]=_==="strict"?[y[w[v]]]:y[w[v]]},u.getValue=function(g){return u.isExist(g)?g:""},u.buildOptions=function(g,y,_){var w={};if(!g)return y;for(var $=0;$<_.length;$++)g[_[$]]!==void 0?w[_[$]]=g[_[$]]:w[_[$]]=y[_[$]];return w},u.isName=function(g){var y=h.exec(g);return y!=null},u.getAllMatches=function(g,y){for(var _=[],w=y.exec(g);w;){for(var $=[],v=w.length,b=0;b<v;b++)$.push(w[b]);_.push($),w=y.exec(g)}return _},u.nameRegexp=m},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function g($,v,b){this.fn=$,this.context=v,this.once=b||!1}function y($,v,b,M,P){if(typeof b!="function")throw new TypeError("The listener must be a function");var I=new g(b,M||$,P),S=m?m+v:v;return $._events[S]?$._events[S].fn?$._events[S]=[$._events[S],I]:$._events[S].push(I):($._events[S]=I,$._eventsCount++),$}function _($,v){--$._eventsCount==0?$._events=new h:delete $._events[v]}function w(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),w.prototype.eventNames=function(){var $,v,b=[];if(this._eventsCount===0)return b;for(v in $=this._events)d.call($,v)&&b.push(m?v.slice(1):v);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols($)):b},w.prototype.listeners=function($){var v=m?m+$:$,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var M=0,P=b.length,I=new Array(P);M<P;M++)I[M]=b[M].fn;return I},w.prototype.listenerCount=function($){var v=m?m+$:$,b=this._events[v];return b?b.fn?1:b.length:0},w.prototype.emit=function($,v,b,M,P,I){var S=m?m+$:$;if(!this._events[S])return!1;var C,O,B=this._events[S],N=arguments.length;if(B.fn){switch(B.once&&this.removeListener($,B.fn,void 0,!0),N){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,v),!0;case 3:return B.fn.call(B.context,v,b),!0;case 4:return B.fn.call(B.context,v,b,M),!0;case 5:return B.fn.call(B.context,v,b,M,P),!0;case 6:return B.fn.call(B.context,v,b,M,P,I),!0}for(O=1,C=new Array(N-1);O<N;O++)C[O-1]=arguments[O];B.fn.apply(B.context,C)}else{var R,L=B.length;for(O=0;O<L;O++)switch(B[O].once&&this.removeListener($,B[O].fn,void 0,!0),N){case 1:B[O].fn.call(B[O].context);break;case 2:B[O].fn.call(B[O].context,v);break;case 3:B[O].fn.call(B[O].context,v,b);break;case 4:B[O].fn.call(B[O].context,v,b,M);break;default:if(!C)for(R=1,C=new Array(N-1);R<N;R++)C[R-1]=arguments[R];B[O].fn.apply(B[O].context,C)}}return!0},w.prototype.on=function($,v,b){return y(this,$,v,b,!1)},w.prototype.once=function($,v,b){return y(this,$,v,b,!0)},w.prototype.removeListener=function($,v,b,M){var P=m?m+$:$;if(!this._events[P])return this;if(!v)return _(this,P),this;var I=this._events[P];if(I.fn)I.fn!==v||M&&!I.once||b&&I.context!==b||_(this,P);else{for(var S=0,C=[],O=I.length;S<O;S++)(I[S].fn!==v||M&&!I[S].once||b&&I[S].context!==b)&&C.push(I[S]);C.length?this._events[P]=C.length===1?C[0]:C:_(this,P)}return this},w.prototype.removeAllListeners=function($){var v;return $?(v=m?m+$:$,this._events[v]&&_(this,v)):(this._events=new h,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=m,w.EventEmitter=w,o.exports=w},function(o,u,f){(function(d){f.d(u,"b",function(){return g}),f.d(u,"c",function(){return y}),f.d(u,"a",function(){return _});var m=f(13),h=(f(10),{});function g(){return Object(m.b)()?d:typeof window<"u"?window:typeof self<"u"?self:h}function y(){var w=g(),$=w.crypto||w.msCrypto;if($!==void 0&&$.getRandomValues){var v=new Uint16Array(8);$.getRandomValues(v),v[3]=4095&v[3]|16384,v[4]=16383&v[4]|32768;var b=function(M){for(var P=M.toString(16);P.length<4;)P="0"+P;return P};return b(v[0])+b(v[1])+b(v[2])+b(v[3])+b(v[4])+b(v[5])+b(v[6])+b(v[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(M){var P=16*Math.random()|0;return(M==="x"?P:3&P|8).toString(16)})}function _(w){var $=g();if(!("console"in $))return w();var v=$.console,b={};["debug","info","warn","error","log","assert"].forEach(function(P){P in $.console&&v[P].__sentry_original__&&(b[P]=v[P],v[P]=v[P].__sentry_original__)});var M=w();return Object.keys(b).forEach(function(P){v[P]=b[P]}),M}}).call(this,f(14))},function(o,u,f){f.d(u,"b",function(){return d}),f.d(u,"a",function(){return m}),f(4);function d(h,g){return g===void 0&&(g=0),typeof h!="string"||g===0||h.length<=g?h:h.substr(0,g)+"..."}function m(h,g){var y=h,_=y.length;if(_<=150)return y;g>_&&(g=_);var w=Math.max(g-60,0);w<5&&(w=0);var $=Math.min(w+140,_);return $>_-5&&($=_),$===_&&(w=Math.max($-140,0)),y=y.slice(w,$),w>0&&(y="'{snip} "+y),$<_&&(y+=" {snip}"),y}},function(o,u,f){f.d(u,"b",function(){return h}),f.d(u,"d",function(){return M}),f.d(u,"c",function(){return I}),f.d(u,"a",function(){return C}),f.d(u,"e",function(){return B.a});var d=f(5),m=["expires","from","host","if-modified-since","if-unmodified-since","age","authorization","content-length","content-type","etag","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],h=function(N){var R,L,z,Y={};return N&&N.split(`
`).forEach(function(te){z=te.indexOf(":"),R=Object(d.i)(te.substr(0,z)).toLowerCase(),L=Object(d.i)(te.substr(z+1)),R&&(Y[R]&&m.indexOf(R)>=0||(Y[R]=R==="set-cookie"?(Y[R]?Y[R]:[]).concat([L]):Y[R]?Y[R]+", "+L:L))}),Y},g=function(N,R,L,z){z===void 0&&(z=!1);var Y=y(R);return N||(N={}),(N=JSON.parse(JSON.stringify(N)))[R]===void 0&&N[Y]===void 0?N[Y]=L:z&&(delete N[R],N[Y]=L),N},y=function(N){var R={"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag","last-event-id":"Last-Event-ID",tcn:"TCN",te:"TE","www-authenticate":"WWW-Authenticate","x-dnsprefetch-control":"X-DNSPrefetch-Control"}[N.toLowerCase()];return R||N.split("-").map(function(L){return L.charAt(0).toUpperCase()+L.substr(1).toLowerCase()}).join("-")},_=f(0),w=f(1),$=f(21),v=f(3),b=f.n(v)()("fs:request:data"),M=function(N){return N=P(N),Object(d.e)(N.data)||Object(d.c)(N.data)||Object(d.g)(N.data)||Object(d.d)(N.data)||Object(d.b)(N.data)||Object(d.a)(N.data)||(Object(d.h)(N.data)?(N.headers=g(N.headers,"content-type","application/x-www-form-urlencoded;charset=utf-8"),N.data=N.data.toString()):Object(d.f)(N.data)&&(N.headers=g(N.headers,"content-type","application/json",!0),N.data=JSON.stringify(N.data))),N},P=function(N){return N.filestackHeaders&&(N.headers=g(N.headers,"filestack-source",Object(w.getVersion)()),N.headers=g(N.headers,"filestack-trace-id",Math.floor(Date.now()/1e3)+"-"+Object(w.uniqueId)()),N.headers=g(N.headers,"filestack-trace-span","jssdk-"+Object(w.uniqueId)())),N},I=function(N){return Object(_.b)(void 0,void 0,void 0,function(){var R,L;return Object(_.d)(this,function(z){if(!N.headers||!N.headers["content-type"])return[2,Promise.resolve(N)];if(R=N.headers["content-type"],/application\/json/.test(R))try{N.data=JSON.parse(N.data)}catch{b("Cannot parse response %O - %O",N.data,N.headers)}else/text\/(plain|html)/.test(R)?Object(d.c)(N.data)&&(N.data=S(N.data)):/application\/xml/.test(R)&&(L=N.data,Object(d.c)(N.data)&&(L=S(N.data)),$.validate(L)===!0&&(N.data=$.parse(L,{ignoreAttributes:!0,trimValues:!0})));return[2,Promise.resolve(N)]})})};function S(N){for(var R=new Uint16Array(N),L=R.length,z="",Y=Math.pow(2,16)-1,te=0;te<L;te+=Y)te+Y>L&&(Y=L-te),z+=String.fromCharCode.apply(null,R.subarray(te,te+Y));return z}var C=function(N,R){if(!R)return N;var L=O(R),z=N.indexOf("#");return z!==-1&&(N=N.slice(0,z)),N+(N.indexOf("?")===-1?"?":"&")+L},O=function(N){return Object.keys(N).filter(function(R){return R&&N[R]!==void 0}).map(function(R){return encodeURIComponent(R)+"="+encodeURIComponent(N[R])}).join("&")},B=f(16)},function(o,u,f){function d(C){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(C)}var m=f(19),h=u.ValidationError=function(C,O,B,N,R,L){N&&(this.property=N),C&&(this.message=C),B&&(B.id?this.schema=B.id:this.schema=B),O&&(this.instance=O),this.name=R,this.argument=L,this.stack=this.toString()};h.prototype.toString=function(){return this.property+" "+this.message};var g=u.ValidatorResult=function(C,O,B,N){this.instance=C,this.schema=O,this.propertyPath=N.propertyPath,this.errors=[],this.throwError=B&&B.throwError,this.disableFormat=B&&B.disableFormat===!0};function y(C,O){return O+": "+C.toString()+`
`}g.prototype.addError=function(C){var O;if(typeof C=="string")O=new h(C,this.instance,this.schema,this.propertyPath);else{if(!C)throw new Error("Missing error detail");if(!C.message)throw new Error("Missing error message");if(!C.name)throw new Error("Missing validator type");O=new h(C.message,this.instance,this.schema,this.propertyPath,C.name,C.argument)}if(this.throwError)throw O;return this.errors.push(O),O},g.prototype.importErrors=function(C){typeof C=="string"||C&&C.validatorType?this.addError(C):C&&C.errors&&Array.prototype.push.apply(this.errors,C.errors)},g.prototype.toString=function(C){return this.errors.map(y).join("")},Object.defineProperty(g.prototype,"valid",{get:function(){return!this.errors.length}});var _=u.SchemaError=function C(O,B){this.message=O,this.schema=B,Error.call(this,O),Error.captureStackTrace(this,C)};_.prototype=Object.create(Error.prototype,{constructor:{value:_,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var w=u.SchemaContext=function(C,O,B,N,R){this.schema=C,this.options=O,this.propertyPath=B,this.base=N,this.schemas=R};w.prototype.resolve=function(C){return m.resolve(this.base,C)},w.prototype.makeChild=function(C,O){var B=O===void 0?this.propertyPath:this.propertyPath+v(O),N=m.resolve(this.base,C.id||""),R=new w(C,this.options,B,N,Object.create(this.schemas));return C.id&&!R.schemas[N]&&(R.schemas[N]=C),R};var $=u.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(C){return typeof C=="string"&&parseFloat(C)===parseInt(C,10)&&!isNaN(C)},regex:function(C){var O=!0;try{new RegExp(C)}catch{O=!1}return O},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};$.regexp=$.regex,$.pattern=$.regex,$.ipv4=$["ip-address"],u.isFormat=function(C,O,B){if(typeof C=="string"&&$[O]!==void 0){if($[O]instanceof RegExp)return $[O].test(C);if(typeof $[O]=="function")return $[O](C)}else if(B&&B.customFormats&&typeof B.customFormats[O]=="function")return B.customFormats[O](C);return!0};var v=u.makeSuffix=function(C){return(C=C.toString()).match(/[.\s\[\]]/)||C.match(/^[\d]/)?C.match(/^\d+$/)?"["+C+"]":"["+JSON.stringify(C)+"]":"."+C};function b(C,O,B,N){d(B)==="object"?O[N]=I(C[N],B):C.indexOf(B)===-1&&O.push(B)}function M(C,O,B){O[B]=C[B]}function P(C,O,B,N){d(O[N])==="object"&&O[N]&&C[N]?B[N]=I(C[N],O[N]):B[N]=O[N]}function I(C,O){var B=Array.isArray(O),N=B&&[]||{};return B?(C=C||[],N=N.concat(C),O.forEach(b.bind(null,C,N))):(C&&d(C)==="object"&&Object.keys(C).forEach(M.bind(null,C,N)),Object.keys(O).forEach(P.bind(null,C,O,N))),N}function S(C){return"/"+encodeURIComponent(C).replace(/~/g,"%7E")}u.deepCompareStrict=function C(O,B){if(d(O)!==d(B))return!1;if(O instanceof Array)return B instanceof Array&&O.length===B.length&&O.every(function(L,z){return C(O[z],B[z])});if(d(O)==="object"){if(!O||!B)return O===B;var N=Object.keys(O),R=Object.keys(B);return N.length===R.length&&N.every(function(L){return C(O[L],B[L])})}return O===B},o.exports.deepMerge=I,u.objectGetPath=function(C,O){for(var B,N=O.split("/").slice(1);typeof(B=N.shift())=="string";){var R=decodeURIComponent(B.replace(/~0/,"~").replace(/~1/g,"/"));if(!(R in C))return;C=C[R]}return C},u.encodePath=function(C){return C.map(S).join("")},u.getDecimalPlaces=function(C){var O=0;if(isNaN(C))return O;typeof C!="number"&&(C=Number(C));var B=C.toString().split("e");if(B.length===2){if(B[1][0]!=="-")return O;O=Number(B[1].slice(1))}var N=B[0].split(".");return N.length===2&&(O+=N[1].length),O}},function(o,u,f){(function(d){function m(){return Object.prototype.toString.call(d!==void 0?d:0)==="[object process]"}function h(g,y){return g.require(y)}f.d(u,"b",function(){return m}),f.d(u,"a",function(){return h})}).call(this,f(26))},function(o,u){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{(typeof window>"u"?"undefined":f(window))==="object"&&(d=window)}o.exports=d},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(45),g=1,y=2,_=3,w=4,$="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,d.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var v={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(B,N){return B},attrValueProcessor:function(B,N){return B},stopNodes:[]};u.defaultOptions=v;var b=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];u.props=b;function M(B,N,R){var L=B[7]||R,z=B[12];return z&&(N.trimValues&&(z=z.trim()),z=S(z=N.tagValueProcessor(z,L),N.parseNodeValue,N.parseTrueNumberOnly)),z}function P(B){return B[4]==="]]>"?w:B[10]==="/"?y:B[8]!==void 0&&B[8].substr(B[8].length-1)==="/"?_:g}function I(B,N){if(N.ignoreNameSpace){var R=B.split(":"),L=B.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(B=L+R[1])}return B}function S(B,N,R){var L;return N&&typeof B=="string"?(B.trim()===""||isNaN(B)?L=B==="true"||B!=="false"&&B:(B.indexOf("0x")!==-1?L=Number.parseInt(B,16):B.indexOf(".")!==-1?(L=Number.parseFloat(B),B=B.replace(/0+$/,"")):L=Number.parseInt(B,10),R&&(L=String(L)===B?L:B)),L):d.isExist(B)?B:""}var C=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function O(B,N){if(!N.ignoreAttributes&&typeof B=="string"){B=B.replace(/\r?\n/g," ");for(var R=d.getAllMatches(B,C),L=R.length,z={},Y=0;Y<L;Y++){var te=I(R[Y][1],N);te.length&&(R[Y][4]!==void 0?(N.trimValues&&(R[Y][4]=R[Y][4].trim()),R[Y][4]=N.attrValueProcessor(R[Y][4],te),z[N.attributeNamePrefix+te]=S(R[Y][4],N.parseAttributeValue,N.parseTrueNumberOnly)):N.allowBooleanAttributes&&(z[N.attributeNamePrefix+te]=!0))}if(!Object.keys(z).length)return;if(N.attrNodeName){var K={};return K[N.attrNodeName]=z,K}return z}}u.getTraversalObj=function(B,N){N=m(N,v,b),B=B.replace(/<!--[\s\S]*?-->/g,"");for(var R=new h("!xml"),L=R,z=new RegExp($,"g"),Y=z.exec(B),te=z.exec(B);Y;){var K=P(Y);if(K===y)L.parent&&Y[12]&&(L.parent.val=d.getValue(L.parent.val)+""+M(Y,N,L.parent.tagname)),N.stopNodes.length&&N.stopNodes.includes(L.tagname)&&(L.child=[],L.attrsMap==null&&(L.attrsMap={}),L.val=B.substr(L.startIndex+1,Y.index-L.startIndex-1)),L=L.parent;else if(K===w)if(N.cdataTagName){var Q=new h(N.cdataTagName,L,Y[3]);Q.attrsMap=O(Y[8],N),L.addChild(Q),L.val=d.getValue(L.val)+N.cdataPositionChar,Y[12]&&(L.val+=M(Y,N))}else L.val=(L.val||"")+(Y[3]||"")+M(Y,N);else if(K===_){L&&Y[12]&&(L.val=d.getValue(L.val)+""+M(Y,N));var J=new h(N.ignoreNameSpace?Y[7]:Y[5],L,"");Y[8]&&Y[8].length>0&&(Y[8]=Y[8].substr(0,Y[8].length-1)),J.attrsMap=O(Y[8],N),L.addChild(J)}else{var Z=new h(N.ignoreNameSpace?Y[7]:Y[5],L,M(Y,N));N.stopNodes.length&&N.stopNodes.includes(Z.tagname)&&(Z.startIndex=Y.index+Y[1].length),Z.attrsMap=O(Y[8],N),L.addChild(Z),L=Z}Y=te,te=z.exec(B)}return R}},function(o,u,f){f.d(u,"a",function(){return g});var d=f(2),m=f(3),h=f.n(m)()("fs:request:shouldRetry"),g=function(y){switch(h("Checking error for retry. Code: %n, type: %s",y.response?y.response.status:"Malformed response",y.code),y.code){case d.b.NETWORK:case d.b.SERVER:case d.b.TIMEOUT:return!0;case d.b.ABORTED:return!1}return!!y.response&&500<=y.response.status&&y.response.status<=599}},function(module,exports,__webpack_require__){function _typeof(o){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function _arrayWithoutHoles(o){if(Array.isArray(o)){for(var u=0,f=new Array(o.length);u<o.length;u++)f[u]=o[u];return f}}var toBytes=function(o){return _toConsumableArray(o).map(function(u){return u.charCodeAt(0)})},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(o){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=o[u],d=1,m=0;++m<8;)d*=256,f+=o[u+m]*d;return f}var fileType=function(o){if(!(o instanceof Uint8Array||o instanceof ArrayBuffer||Buffer.isBuffer(o)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(o),"`"));var u=o instanceof Uint8Array?o:new Uint8Array(o);if(!(u&&u.length>1))return null;var f=function(S,C){C=Object.assign({offset:0},C);for(var O=0;O<S.length;O++)if(C.mask){if(S[O]!==(C.mask[O]&u[O+C.offset]))return!1}else if(S[O]!==u[O+C.offset])return!1;return!0},d=function(S,C){return f(toBytes(S),C)};if(f([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(f([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(f([71,73,70]))return{ext:"gif",mime:"image/gif"};if(f([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(f([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((f([73,73,42,0])||f([77,77,0,42]))&&f([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(f([73,73,42,0])||f([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(f([66,77]))return{ext:"bmp",mime:"image/bmp"};if(f([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(f([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(f([80,75,3,4])){if(f([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(f(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(d("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(d("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(d("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var m=function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return S.findIndex(function(O,B,N){return B>=C&&N[B]===80&&N[B+1]===75&&N[B+2]===3&&N[B+3]===4})},h=0,g=!1,y=null;do{var _=h+30;if(g||(g=f(oxmlContentTypes,{offset:_})||f(oxmlRels,{offset:_})),y||(d("word/",{offset:_})?y={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:d("ppt/",{offset:_})?y={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:d("xl/",{offset:_})&&(y={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),g&&y)return y;h=m(u,_)}while(h>=0);if(y)return y}if(f([80,75])&&(u[2]===3||u[2]===5||u[2]===7)&&(u[3]===4||u[3]===6||u[3]===8))return{ext:"zip",mime:"application/zip"};if(f([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(f([82,97,114,33,26,7])&&(u[6]===0||u[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(f([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(f([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(f([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(f([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(f([51,103,112,53])||f([0,0,0])&&f([102,116,121,112],{offset:4})&&(f([109,112,52,49],{offset:8})||f([109,112,52,50],{offset:8})||f([105,115,111,109],{offset:8})||f([105,115,111,50],{offset:8})||f([109,109,112,52],{offset:8})||f([77,52,86],{offset:8})||f([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(f([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(f([26,69,223,163])){var w=u.subarray(4,4100),$=w.findIndex(function(S,C,O){return O[C]===66&&O[C+1]===130});if($!==-1){var v=$+3,b=function(S){return _toConsumableArray(S).every(function(C,O){return w[v+O]===C.charCodeAt(0)})};if(b("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(b("webm"))return{ext:"webm",mime:"video/webm"}}}if(f([0,0,0,20,102,116,121,112,113,116,32,32])||f([102,114,101,101],{offset:4})||f([102,116,121,112,113,116,32,32],{offset:4})||f([109,100,97,116],{offset:4})||f([109,111,111,118],{offset:4})||f([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(f([82,73,70,70])){if(f([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(f([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(f([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(f([48,38,178,117,142,102,207,17,166,217])){var M=30;do{var P=readUInt64LE(u,M+16);if(f([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:M})){if(f([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:M+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(f([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:M+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}M+=P}while(M+24<=u.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(f([0,0,1,186])||f([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(f([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var I=0;I<2&&I<u.length-16;I++){if(f([73,68,51],{offset:I})||f([255,226],{offset:I,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(f([255,228],{offset:I,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,248],{offset:I,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(f([255,240],{offset:I,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(f([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(f([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(f([79,103,103,83]))return f([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:f([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:f([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:f([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:f([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(f([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(f([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(f([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(f([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(f([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(f([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((u[0]===67||u[0]===70)&&f([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(f([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(f([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(f([119,79,70,70])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(f([119,79,70,50])&&(f([0,1,0,0],{offset:4})||f([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(f([76,80],{offset:34})&&(f([0,0,1],{offset:8})||f([1,0,2],{offset:8})||f([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(f([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(f([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(f([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(f([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(f([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(f([37,33]))return{ext:"ps",mime:"application/postscript"};if(f([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(f([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(f([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(f([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(f([77,83,67,70])||f([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(f([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(f([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(f([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(f([31,160])||f([31,157]))return{ext:"Z",mime:"application/x-compress"};if(f([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(f([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(f([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(f([71],{offset:4})&&(f([71],{offset:192})||f([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(f([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(f([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(f([0,0,0,12,106,80,32,32,13,10,135,10])){if(f([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(f([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(f([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(f([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(f([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(d("<?xml "))return{ext:"xml",mime:"application/xml"};if(f([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(f([102,116,121,112],{offset:4})){if(f([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(f([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(f([104,101,105,99],{offset:8})||f([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(f([104,101,118,99],{offset:8})||f([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return f([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:f([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:f([77,80,43])||f([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:f([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:f([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:f([212,195,178,161])||f([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",function(){var o=new stream.PassThrough,u=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{o.fileType=fileType(u)}catch(f){reject(f)}readableStream.unshift(u),stream.pipeline?resolve(stream.pipeline(readableStream,o,function(){})):resolve(readableStream.pipe(o))})})}},function(o,u,f){var d=o.exports.Validator=f(34);o.exports.ValidatorResult=f(12).ValidatorResult,o.exports.ValidationError=f(12).ValidationError,o.exports.SchemaError=f(12).SchemaError,o.exports.SchemaScanResult=f(20).SchemaScanResult,o.exports.scan=f(20).scan,o.exports.validate=function(m,h,g){return new d().validate(m,h,g)}},function(o,u,f){function d(R){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}var m=f(35),h=f(36);function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}u.parse=N,u.resolve=function(R,L){return N(R,!1,!0).resolve(L)},u.resolveObject=function(R,L){return R?N(R,!1,!0).resolveObject(L):L},u.format=function(R){return h.isString(R)&&(R=N(R)),R instanceof g?R.format():g.prototype.format.call(R)},u.Url=g;var y=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),v=["'"].concat($),b=["%","/","?",";","#"].concat(v),M=["/","?","#"],P=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=f(37);function N(R,L,z){if(R&&h.isObject(R)&&R instanceof g)return R;var Y=new g;return Y.parse(R,L,z),Y}g.prototype.parse=function(R,L,z){if(!h.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+d(R));var Y=R.indexOf("?"),te=Y!==-1&&Y<R.indexOf("#")?"?":"#",K=R.split(te);K[0]=K[0].replace(/\\/g,"/");var Q=R=K.join(te);if(Q=Q.trim(),!z&&R.split("#").length===1){var J=w.exec(Q);if(J)return this.path=Q,this.href=Q,this.pathname=J[1],J[2]?(this.search=J[2],this.query=L?B.parse(this.search.substr(1)):this.search.substr(1)):L&&(this.search="",this.query={}),this}var Z=y.exec(Q);if(Z){var ne=(Z=Z[0]).toLowerCase();this.protocol=ne,Q=Q.substr(Z.length)}if(z||Z||Q.match(/^\/\/[^@\/]+@[^@\/]+/)){var q=Q.substr(0,2)==="//";!q||Z&&C[Z]||(Q=Q.substr(2),this.slashes=!0)}if(!C[Z]&&(q||Z&&!O[Z])){for(var H,re,ie=-1,G=0;G<M.length;G++)(ue=Q.indexOf(M[G]))!==-1&&(ie===-1||ue<ie)&&(ie=ue);for((re=ie===-1?Q.lastIndexOf("@"):Q.lastIndexOf("@",ie))!==-1&&(H=Q.slice(0,re),Q=Q.slice(re+1),this.auth=decodeURIComponent(H)),ie=-1,G=0;G<b.length;G++){var ue;(ue=Q.indexOf(b[G]))!==-1&&(ie===-1||ue<ie)&&(ie=ue)}ie===-1&&(ie=Q.length),this.host=Q.slice(0,ie),Q=Q.slice(ie),this.parseHost(),this.hostname=this.hostname||"";var le=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!le)for(var he=this.hostname.split(/\./),fe=(G=0,he.length);G<fe;G++){var _e=he[G];if(_e&&!_e.match(P)){for(var Ie="",be=0,Ne=_e.length;be<Ne;be++)_e.charCodeAt(be)>127?Ie+="x":Ie+=_e[be];if(!Ie.match(P)){var pe=he.slice(0,G),ve=he.slice(G+1),Re=_e.match(I);Re&&(pe.push(Re[1]),ve.unshift(Re[2])),ve.length&&(Q="/"+ve.join(".")+Q),this.hostname=pe.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),le||(this.hostname=m.toASCII(this.hostname));var Ge=this.port?":"+this.port:"",ke=this.hostname||"";this.host=ke+Ge,this.href+=this.host,le&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!S[ne])for(G=0,fe=v.length;G<fe;G++){var Ze=v[G];if(Q.indexOf(Ze)!==-1){var rt=encodeURIComponent(Ze);rt===Ze&&(rt=escape(Ze)),Q=Q.split(Ze).join(rt)}}var Ue=Q.indexOf("#");Ue!==-1&&(this.hash=Q.substr(Ue),Q=Q.slice(0,Ue));var et=Q.indexOf("?");if(et!==-1?(this.search=Q.substr(et),this.query=Q.substr(et+1),L&&(this.query=B.parse(this.query)),Q=Q.slice(0,et)):L&&(this.search="",this.query={}),Q&&(this.pathname=Q),O[ne]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ge=this.pathname||"";var Te=this.search||"";this.path=Ge+Te}return this.href=this.format(),this},g.prototype.format=function(){var R=this.auth||"";R&&(R=(R=encodeURIComponent(R)).replace(/%3A/i,":"),R+="@");var L=this.protocol||"",z=this.pathname||"",Y=this.hash||"",te=!1,K="";this.host?te=R+this.host:this.hostname&&(te=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(te+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(K=B.stringify(this.query));var Q=this.search||K&&"?"+K||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||O[L])&&te!==!1?(te="//"+(te||""),z&&z.charAt(0)!=="/"&&(z="/"+z)):te||(te=""),Y&&Y.charAt(0)!=="#"&&(Y="#"+Y),Q&&Q.charAt(0)!=="?"&&(Q="?"+Q),L+te+(z=z.replace(/[?#]/g,function(J){return encodeURIComponent(J)}))+(Q=Q.replace("#","%23"))+Y},g.prototype.resolve=function(R){return this.resolveObject(N(R,!1,!0)).format()},g.prototype.resolveObject=function(R){if(h.isString(R)){var L=new g;L.parse(R,!1,!0),R=L}for(var z=new g,Y=Object.keys(this),te=0;te<Y.length;te++){var K=Y[te];z[K]=this[K]}if(z.hash=R.hash,R.href==="")return z.href=z.format(),z;if(R.slashes&&!R.protocol){for(var Q=Object.keys(R),J=0;J<Q.length;J++){var Z=Q[J];Z!=="protocol"&&(z[Z]=R[Z])}return O[z.protocol]&&z.hostname&&!z.pathname&&(z.path=z.pathname="/"),z.href=z.format(),z}if(R.protocol&&R.protocol!==z.protocol){if(!O[R.protocol]){for(var ne=Object.keys(R),q=0;q<ne.length;q++){var H=ne[q];z[H]=R[H]}return z.href=z.format(),z}if(z.protocol=R.protocol,R.host||C[R.protocol])z.pathname=R.pathname;else{for(var re=(R.pathname||"").split("/");re.length&&!(R.host=re.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),re[0]!==""&&re.unshift(""),re.length<2&&re.unshift(""),z.pathname=re.join("/")}if(z.search=R.search,z.query=R.query,z.host=R.host||"",z.auth=R.auth,z.hostname=R.hostname||R.host,z.port=R.port,z.pathname||z.search){var ie=z.pathname||"",G=z.search||"";z.path=ie+G}return z.slashes=z.slashes||R.slashes,z.href=z.format(),z}var ue=z.pathname&&z.pathname.charAt(0)==="/",le=R.host||R.pathname&&R.pathname.charAt(0)==="/",he=le||ue||z.host&&R.pathname,fe=he,_e=z.pathname&&z.pathname.split("/")||[],Ie=(re=R.pathname&&R.pathname.split("/")||[],z.protocol&&!O[z.protocol]);if(Ie&&(z.hostname="",z.port=null,z.host&&(_e[0]===""?_e[0]=z.host:_e.unshift(z.host)),z.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(re[0]===""?re[0]=R.host:re.unshift(R.host)),R.host=null),he=he&&(re[0]===""||_e[0]==="")),le)z.host=R.host||R.host===""?R.host:z.host,z.hostname=R.hostname||R.hostname===""?R.hostname:z.hostname,z.search=R.search,z.query=R.query,_e=re;else if(re.length)_e||(_e=[]),_e.pop(),_e=_e.concat(re),z.search=R.search,z.query=R.query;else if(!h.isNullOrUndefined(R.search))return Ie&&(z.hostname=z.host=_e.shift(),(Re=!!(z.host&&z.host.indexOf("@")>0)&&z.host.split("@"))&&(z.auth=Re.shift(),z.host=z.hostname=Re.shift())),z.search=R.search,z.query=R.query,h.isNull(z.pathname)&&h.isNull(z.search)||(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.href=z.format(),z;if(!_e.length)return z.pathname=null,z.search?z.path="/"+z.search:z.path=null,z.href=z.format(),z;for(var be=_e.slice(-1)[0],Ne=(z.host||R.host||_e.length>1)&&(be==="."||be==="..")||be==="",pe=0,ve=_e.length;ve>=0;ve--)(be=_e[ve])==="."?_e.splice(ve,1):be===".."?(_e.splice(ve,1),pe++):pe&&(_e.splice(ve,1),pe--);if(!he&&!fe)for(;pe--;pe)_e.unshift("..");!he||_e[0]===""||_e[0]&&_e[0].charAt(0)==="/"||_e.unshift(""),Ne&&_e.join("/").substr(-1)!=="/"&&_e.push("");var Re,Ge=_e[0]===""||_e[0]&&_e[0].charAt(0)==="/";return Ie&&(z.hostname=z.host=Ge?"":_e.length?_e.shift():"",(Re=!!(z.host&&z.host.indexOf("@")>0)&&z.host.split("@"))&&(z.auth=Re.shift(),z.host=z.hostname=Re.shift())),(he=he||z.host&&_e.length)&&!Ge&&_e.unshift(""),_e.length?z.pathname=_e.join("/"):(z.pathname=null,z.path=null),h.isNull(z.pathname)&&h.isNull(z.search)||(z.path=(z.pathname?z.pathname:"")+(z.search?z.search:"")),z.auth=R.auth||z.auth,z.slashes=z.slashes||R.slashes,z.href=z.format(),z},g.prototype.parseHost=function(){var R=this.host,L=_.exec(R);L&&((L=L[0])!==":"&&(this.port=L.substr(1)),R=R.substr(0,R.length-L.length)),R&&(this.hostname=R)}},function(o,u,f){function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}var m=f(19),h=f(12);function g(y,_){this.id=y,this.ref=_}o.exports.SchemaScanResult=g,o.exports.scan=function(y,_){function w(P,I){if(I&&d(I)=="object")if(I.$ref){var S=m.resolve(P,I.$ref);M[S]=M[S]?M[S]+1:0}else{var C=I.id?m.resolve(P,I.id):P;if(C){if(C.indexOf("#")<0&&(C+="#"),b[C]){if(!h.deepCompareStrict(b[C],I))throw new Error("Schema <"+I+"> already exists with different definition");return b[C]}b[C]=I,C[C.length-1]=="#"&&(b[C.substring(0,C.length-1)]=I)}$(C+"/items",I.items instanceof Array?I.items:[I.items]),$(C+"/extends",I.extends instanceof Array?I.extends:[I.extends]),w(C+"/additionalItems",I.additionalItems),v(C+"/properties",I.properties),w(C+"/additionalProperties",I.additionalProperties),v(C+"/definitions",I.definitions),v(C+"/patternProperties",I.patternProperties),v(C+"/dependencies",I.dependencies),$(C+"/disallow",I.disallow),$(C+"/allOf",I.allOf),$(C+"/anyOf",I.anyOf),$(C+"/oneOf",I.oneOf),w(C+"/not",I.not)}}function $(P,I){if(I instanceof Array)for(var S=0;S<I.length;S++)w(P+"/"+S,I[S])}function v(P,I){if(I&&d(I)=="object")for(var S in I)w(P+"/"+S,I[S])}var b={},M={};return w(y,_),new g(b,M)}},function(o,u,f){var d=f(44),m=f(15),h=f(15),g=f(7).buildOptions,y=f(46);u.parse=function(_,w,$){if($){$===!0&&($={});var v=y.validate(_,$);if(v!==!0)throw Error(v.err.msg)}return w=g(w,h.defaultOptions,h.props),d.convertToJson(m.getTraversalObj(_,w),w)},u.convertTonimn=f(47).convert2nimn,u.getTraversalObj=m.getTraversalObj,u.convertToJson=d.convertToJson,u.convertToJsonString=f(48).convertToJsonString,u.validate=y.validate,u.j2xParser=f(49),u.parseToNimn=function(_,w,$){return u.convertTonimn(u.getTraversalObj(_,$),w,$)}},function(o,u,f){f.d(u,"a",function(){return m});var d=f(4);function m(g){try{for(var y=g,_=[],w=0,$=0,v=3,b=void 0;y&&w++<5&&!((b=h(y))==="html"||w>1&&$+_.length*v+b.length>=80);)_.push(b),$+=b.length,y=y.parentNode;return _.reverse().join(" > ")}catch{return"<unknown>"}}function h(g){var y,_,w,$,v,b=g,M=[];if(!b||!b.tagName)return"";if(M.push(b.tagName.toLowerCase()),b.id&&M.push("#"+b.id),(y=b.className)&&Object(d.h)(y))for(_=y.split(/\s+/),v=0;v<_.length;v++)M.push("."+_[v]);var P=["type","name","title","alt"];for(v=0;v<P.length;v++)w=P[v],($=b.getAttribute(w))&&M.push("["+w+'="'+$+'"]');return M.join("")}},,function(o,u){o.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(o,u){(function(f){o.exports=f}).call(this,{})},function(o,u){var f,d,m=o.exports={};function h(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function y(S){if(f===setTimeout)return setTimeout(S,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(S,0);try{return f(S,0)}catch{try{return f.call(null,S,0)}catch{return f.call(this,S,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:h}catch{f=h}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch{d=g}})();var _,w=[],$=!1,v=-1;function b(){$&&_&&($=!1,_.length?w=_.concat(w):v=-1,w.length&&M())}function M(){if(!$){var S=y(b);$=!0;for(var C=w.length;C;){for(_=w,w=[];++v<C;)_&&_[v].run();v=-1,C=w.length}_=null,$=!1,function(O){if(d===clearTimeout)return clearTimeout(O);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(O);try{d(O)}catch{try{return d.call(null,O)}catch{return d.call(this,O)}}}(S)}}function P(S,C){this.fun=S,this.array=C}function I(){}m.nextTick=function(S){var C=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)C[O-1]=arguments[O];w.push(new P(S,C)),w.length!==1||$||y(M)},P.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=I,m.addListener=I,m.once=I,m.off=I,m.removeListener=I,m.removeAllListeners=I,m.emit=I,m.prependListener=I,m.prependOnceListener=I,m.listeners=function(S){return[]},m.binding=function(S){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(S){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(o,u,f){o.exports=function(d){if(!d)return!1;for(var m=0,h=d.length;m<h;)if(d[m]<=127)m++;else{if(d[m]>=194&&d[m]<=223){if(d[m+1]>>6==2){m+=2;continue}return!1}if((d[m]===224&&d[m+1]>=160&&d[m+1]<=191||d[m]===237&&d[m+1]>=128&&d[m+1]<=159)&&d[m+2]>>6==2)m+=3;else if((d[m]>=225&&d[m]<=236||d[m]>=238&&d[m]<=239)&&d[m+1]>>6==2&&d[m+2]>>6==2)m+=3;else{if(!(d[m]===240&&d[m+1]>=144&&d[m+1]<=191||d[m]>=241&&d[m]<=243&&d[m+1]>>6==2||d[m]===244&&d[m+1]>=128&&d[m+1]<=143)||d[m+2]>>6!=2||d[m+3]>>6!=2)return!1;m+=4}}return!0}},function(o,u,f){var d,m,h;function g(y){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}h=function(y){var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function w(O,B){var N=O[0],R=O[1],L=O[2],z=O[3];R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&L|~R&z)+B[0]-680876936|0)<<7|N>>>25)+R|0)&R|~N&L)+B[1]-389564586|0)<<12|z>>>20)+N|0)&N|~z&R)+B[2]+606105819|0)<<17|L>>>15)+z|0)&z|~L&N)+B[3]-1044525330|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&L|~R&z)+B[4]-176418897|0)<<7|N>>>25)+R|0)&R|~N&L)+B[5]+1200080426|0)<<12|z>>>20)+N|0)&N|~z&R)+B[6]-1473231341|0)<<17|L>>>15)+z|0)&z|~L&N)+B[7]-45705983|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&L|~R&z)+B[8]+1770035416|0)<<7|N>>>25)+R|0)&R|~N&L)+B[9]-1958414417|0)<<12|z>>>20)+N|0)&N|~z&R)+B[10]-42063|0)<<17|L>>>15)+z|0)&z|~L&N)+B[11]-1990404162|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&L|~R&z)+B[12]+1804603682|0)<<7|N>>>25)+R|0)&R|~N&L)+B[13]-40341101|0)<<12|z>>>20)+N|0)&N|~z&R)+B[14]-1502002290|0)<<17|L>>>15)+z|0)&z|~L&N)+B[15]+1236535329|0)<<22|R>>>10)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&z|L&~z)+B[1]-165796510|0)<<5|N>>>27)+R|0)&L|R&~L)+B[6]-1069501632|0)<<9|z>>>23)+N|0)&R|N&~R)+B[11]+643717713|0)<<14|L>>>18)+z|0)&N|z&~N)+B[0]-373897302|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&z|L&~z)+B[5]-701558691|0)<<5|N>>>27)+R|0)&L|R&~L)+B[10]+38016083|0)<<9|z>>>23)+N|0)&R|N&~R)+B[15]-660478335|0)<<14|L>>>18)+z|0)&N|z&~N)+B[4]-405537848|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&z|L&~z)+B[9]+568446438|0)<<5|N>>>27)+R|0)&L|R&~L)+B[14]-1019803690|0)<<9|z>>>23)+N|0)&R|N&~R)+B[3]-187363961|0)<<14|L>>>18)+z|0)&N|z&~N)+B[8]+1163531501|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R&z|L&~z)+B[13]-1444681467|0)<<5|N>>>27)+R|0)&L|R&~L)+B[2]-51403784|0)<<9|z>>>23)+N|0)&R|N&~R)+B[7]+1735328473|0)<<14|L>>>18)+z|0)&N|z&~N)+B[12]-1926607734|0)<<20|R>>>12)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R^L^z)+B[5]-378558|0)<<4|N>>>28)+R|0)^R^L)+B[8]-2022574463|0)<<11|z>>>21)+N|0)^N^R)+B[11]+1839030562|0)<<16|L>>>16)+z|0)^z^N)+B[14]-35309556|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R^L^z)+B[1]-1530992060|0)<<4|N>>>28)+R|0)^R^L)+B[4]+1272893353|0)<<11|z>>>21)+N|0)^N^R)+B[7]-155497632|0)<<16|L>>>16)+z|0)^z^N)+B[10]-1094730640|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R^L^z)+B[13]+681279174|0)<<4|N>>>28)+R|0)^R^L)+B[0]-358537222|0)<<11|z>>>21)+N|0)^N^R)+B[3]-722521979|0)<<16|L>>>16)+z|0)^z^N)+B[6]+76029189|0)<<23|R>>>9)+L|0,R=((R+=((L=((L+=((z=((z+=((N=((N+=(R^L^z)+B[9]-640364487|0)<<4|N>>>28)+R|0)^R^L)+B[12]-421815835|0)<<11|z>>>21)+N|0)^N^R)+B[15]+530742520|0)<<16|L>>>16)+z|0)^z^N)+B[2]-995338651|0)<<23|R>>>9)+L|0,R=((R+=((z=((z+=(R^((N=((N+=(L^(R|~z))+B[0]-198630844|0)<<6|N>>>26)+R|0)|~L))+B[7]+1126891415|0)<<10|z>>>22)+N|0)^((L=((L+=(N^(z|~R))+B[14]-1416354905|0)<<15|L>>>17)+z|0)|~N))+B[5]-57434055|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((N=((N+=(L^(R|~z))+B[12]+1700485571|0)<<6|N>>>26)+R|0)|~L))+B[3]-1894986606|0)<<10|z>>>22)+N|0)^((L=((L+=(N^(z|~R))+B[10]-1051523|0)<<15|L>>>17)+z|0)|~N))+B[1]-2054922799|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((N=((N+=(L^(R|~z))+B[8]+1873313359|0)<<6|N>>>26)+R|0)|~L))+B[15]-30611744|0)<<10|z>>>22)+N|0)^((L=((L+=(N^(z|~R))+B[6]-1560198380|0)<<15|L>>>17)+z|0)|~N))+B[13]+1309151649|0)<<21|R>>>11)+L|0,R=((R+=((z=((z+=(R^((N=((N+=(L^(R|~z))+B[4]-145523070|0)<<6|N>>>26)+R|0)|~L))+B[11]-1120210379|0)<<10|z>>>22)+N|0)^((L=((L+=(N^(z|~R))+B[2]+718787259|0)<<15|L>>>17)+z|0)|~N))+B[9]-343485551|0)<<21|R>>>11)+L|0,O[0]=N+O[0]|0,O[1]=R+O[1]|0,O[2]=L+O[2]|0,O[3]=z+O[3]|0}function $(O){var B,N=[];for(B=0;B<64;B+=4)N[B>>2]=O.charCodeAt(B)+(O.charCodeAt(B+1)<<8)+(O.charCodeAt(B+2)<<16)+(O.charCodeAt(B+3)<<24);return N}function v(O){var B,N=[];for(B=0;B<64;B+=4)N[B>>2]=O[B]+(O[B+1]<<8)+(O[B+2]<<16)+(O[B+3]<<24);return N}function b(O){var B,N,R,L,z,Y,te=O.length,K=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=te;B+=64)w(K,$(O.substring(B-64,B)));for(N=(O=O.substring(B-64)).length,R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=0;B<N;B+=1)R[B>>2]|=O.charCodeAt(B)<<(B%4<<3);if(R[B>>2]|=128<<(B%4<<3),B>55)for(w(K,R),B=0;B<16;B+=1)R[B]=0;return L=(L=8*te).toString(16).match(/(.*?)(.{0,8})$/),z=parseInt(L[2],16),Y=parseInt(L[1],16)||0,R[14]=z,R[15]=Y,w(K,R),K}function M(O){var B,N="";for(B=0;B<4;B+=1)N+=_[O>>8*B+4&15]+_[O>>8*B&15];return N}function P(O){var B;for(B=0;B<O.length;B+=1)O[B]=M(O[B]);return O.join("")}function I(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function S(O){var B,N=[],R=O.length;for(B=0;B<R-1;B+=2)N.push(parseInt(O.substr(B,2),16));return String.fromCharCode.apply(String,N)}function C(){this.reset()}return P(b("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function O(B,N){return(B=0|B||0)<0?Math.max(B+N,0):Math.min(B,N)}ArrayBuffer.prototype.slice=function(B,N){var R,L,z,Y,te=this.byteLength,K=O(B,te),Q=te;return N!==y&&(Q=O(N,te)),K>Q?new ArrayBuffer(0):(R=Q-K,L=new ArrayBuffer(R),z=new Uint8Array(L),Y=new Uint8Array(this,K,R),z.set(Y),L)}}(),C.prototype.append=function(O){return this.appendBinary(I(O)),this},C.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var B,N=this._buff.length;for(B=64;B<=N;B+=64)w(this._hash,$(this._buff.substring(B-64,B)));return this._buff=this._buff.substring(B-64),this},C.prototype.end=function(O){var B,N,R=this._buff,L=R.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<L;B+=1)z[B>>2]|=R.charCodeAt(B)<<(B%4<<3);return this._finish(z,L),N=P(this._hash),O&&(N=S(N)),this.reset(),N},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},C.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(O,B){var N,R,L,z=B;if(O[z>>2]|=128<<(z%4<<3),z>55)for(w(this._hash,O),z=0;z<16;z+=1)O[z]=0;N=(N=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(N[2],16),L=parseInt(N[1],16)||0,O[14]=R,O[15]=L,w(this._hash,O)},C.hash=function(O,B){return C.hashBinary(I(O),B)},C.hashBinary=function(O,B){var N=P(b(O));return B?S(N):N},C.ArrayBuffer=function(){this.reset()},C.ArrayBuffer.prototype.append=function(O){var B,N,R,L,z,Y=(N=this._buff.buffer,R=O,L=!0,(z=new Uint8Array(N.byteLength+R.byteLength)).set(new Uint8Array(N)),z.set(new Uint8Array(R),N.byteLength),L?z:z.buffer),te=Y.length;for(this._length+=O.byteLength,B=64;B<=te;B+=64)w(this._hash,v(Y.subarray(B-64,B)));return this._buff=B-64<te?new Uint8Array(Y.buffer.slice(B-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(O){var B,N,R=this._buff,L=R.length,z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<L;B+=1)z[B>>2]|=R[B]<<(B%4<<3);return this._finish(z,L),N=P(this._hash),O&&(N=S(N)),this.reset(),N},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var O,B=C.prototype.getState.call(this);return B.buff=(O=B.buff,String.fromCharCode.apply(null,new Uint8Array(O))),B},C.ArrayBuffer.prototype.setState=function(O){return O.buff=function(B,N){var R,L=B.length,z=new ArrayBuffer(L),Y=new Uint8Array(z);for(R=0;R<L;R+=1)Y[R]=B.charCodeAt(R);return N?Y:z}(O.buff,!0),C.prototype.setState.call(this,O)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(O,B){var N=P(function(R){var L,z,Y,te,K,Q,J=R.length,Z=[1732584193,-271733879,-1732584194,271733878];for(L=64;L<=J;L+=64)w(Z,v(R.subarray(L-64,L)));for(z=(R=L-64<J?R.subarray(L-64):new Uint8Array(0)).length,Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=0;L<z;L+=1)Y[L>>2]|=R[L]<<(L%4<<3);if(Y[L>>2]|=128<<(L%4<<3),L>55)for(w(Z,Y),L=0;L<16;L+=1)Y[L]=0;return te=(te=8*J).toString(16).match(/(.*?)(.{0,8})$/),K=parseInt(te[2],16),Q=parseInt(te[1],16)||0,Y[14]=K,Y[15]=Q,w(Z,Y),Z}(new Uint8Array(O)));return B?S(N):N},C},g(u)==="object"?o.exports=h():(m=typeof(d=h)=="function"?d.call(u,f,u,o):d)===void 0||(o.exports=m)},function(o,u,f){function d(M){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(M)}function m(M,P){return!P||d(P)!=="object"&&typeof P!="function"?function(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}(M):P}function h(M){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(M)}function g(M,P){return(g=Object.setPrototypeOf||function(I,S){return I.__proto__=S,I})(M,P)}function y(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function _(M,P){for(var I=0;I<P.length;I++){var S=P[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}}function w(M,P,I){return P&&_(M.prototype,P),I&&_(M,I),M}var $=f(50),v=function(){function M(){y(this,M),this._queue=[]}return w(M,[{key:"enqueue",value:function(P,I){var S={priority:(I=Object.assign({priority:0},I)).priority,run:P};if(this.size&&this._queue[this.size-1].priority>=I.priority)this._queue.push(S);else{var C=function(O,B,N){for(var R=0,L=O.length;L>0;){var z=L/2|0,Y=R+z;N(O[Y],B)<=0?(R=++Y,L-=z+1):L=z}return R}(this._queue,S,function(O,B){return B.priority-O.priority});this._queue.splice(C,0,S)}}},{key:"dequeue",value:function(){return this._queue.shift().run}},{key:"size",get:function(){return this._queue.length}}]),M}(),b=function(M){function P(I){var S;if(y(this,P),S=m(this,h(P).call(this)),!(typeof(I=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:v},I)).concurrency=="number"&&I.concurrency>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(I.concurrency,"` (").concat(d(I.concurrency),")"));if(!(typeof I.intervalCap=="number"&&I.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(I.intervalCap,"` (").concat(d(I.intervalCap),")"));if(!(Number.isFinite(I.interval)&&I.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(I.interval,"` (").concat(d(I.interval),")"));return S._carryoverConcurrencyCount=I.carryoverConcurrencyCount,S._isIntervalIgnored=I.intervalCap===1/0||I.interval===0,S._intervalCount=0,S._intervalCap=I.intervalCap,S._interval=I.interval,S._intervalId=null,S._intervalEnd=0,S._timeoutId=null,S.queue=new I.queueClass,S._queueClass=I.queueClass,S._pendingCount=0,S._concurrency=I.concurrency,S._isPaused=I.autoStart===!1,S._resolveEmpty=function(){},S._resolveIdle=function(){},S}return function(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),S&&g(I,S)}(P,M),w(P,[{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother()}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=function(){},this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=function(){})}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}},{key:"_intervalPaused",value:function(){var I=this,S=Date.now();if(this._intervalId===null){var C=this._intervalEnd-S;if(!(C<0))return this._timeoutId===null&&(this._timeoutId=setTimeout(function(){return I._onResumeInterval()},C)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(this.queue.size===0)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){var I=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),I&&this._initializeIntervalIfNeeded(),!0}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var I=this;this._isIntervalIgnored||this._intervalId!==null||(this._intervalId=setInterval(function(){return I._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){for(this._intervalCount===0&&this._pendingCount===0&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}},{key:"add",value:function(I,S){var C=this;return new Promise(function(O,B){C.queue.enqueue(function(){C._pendingCount++,C._intervalCount++;try{Promise.resolve(I()).then(function(N){O(N),C._next()},function(N){B(N),C._next()})}catch(N){B(N),C._next()}},S),C._tryToStartAnother()})}},{key:"addAll",value:function(I,S){var C=this;return Promise.all(I.map(function(O){return C.add(O,S)}))}},{key:"start",value:function(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this.queue=new this._queueClass}},{key:"onEmpty",value:function(){var I=this;return this.queue.size===0?Promise.resolve():new Promise(function(S){var C=I._resolveEmpty;I._resolveEmpty=function(){C(),S()}})}},{key:"onIdle",value:function(){var I=this;return this._pendingCount===0&&this.queue.size===0?Promise.resolve():new Promise(function(S){var C=I._resolveIdle;I._resolveIdle=function(){C(),S()}})}},{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"size",get:function(){return this.queue.size}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}}]),P}($);o.exports=b,o.exports.default=b},function(o,u,f){(function(d,m){function h(ge){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(ge)}var g="[object Arguments]",y="[object Function]",_="[object GeneratorFunction]",w="[object Map]",$="[object Set]",v=/\w*$/,b=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,P={};P[g]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P[w]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P[$]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[y]=P["[object WeakMap]"]=!1;var I=(d===void 0?"undefined":h(d))=="object"&&d&&d.Object===Object&&d,S=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,C=I||S||Function("return this")(),O=h(u)=="object"&&u&&!u.nodeType&&u,B=O&&h(m)=="object"&&m&&!m.nodeType&&m,N=B&&B.exports===O;function R(ge,Ee){return ge.set(Ee[0],Ee[1]),ge}function L(ge,Ee){return ge.add(Ee),ge}function z(ge,Ee,He,dt){var Tt=-1,zt=ge?ge.length:0;for(dt&&zt&&(He=ge[++Tt]);++Tt<zt;)He=Ee(He,ge[Tt],Tt,ge);return He}function Y(ge){var Ee=!1;if(ge!=null&&typeof ge.toString!="function")try{Ee=!!(ge+"")}catch{}return Ee}function te(ge){var Ee=-1,He=Array(ge.size);return ge.forEach(function(dt,Tt){He[++Ee]=[Tt,dt]}),He}function K(ge,Ee){return function(He){return ge(Ee(He))}}function Q(ge){var Ee=-1,He=Array(ge.size);return ge.forEach(function(dt){He[++Ee]=dt}),He}var J,Z=Array.prototype,ne=Function.prototype,q=Object.prototype,H=C["__core-js_shared__"],re=(J=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",ie=ne.toString,G=q.hasOwnProperty,ue=q.toString,le=RegExp("^"+ie.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=N?C.Buffer:void 0,fe=C.Symbol,_e=C.Uint8Array,Ie=K(Object.getPrototypeOf,Object),be=Object.create,Ne=q.propertyIsEnumerable,pe=Z.splice,ve=Object.getOwnPropertySymbols,Re=he?he.isBuffer:void 0,Ge=K(Object.keys,Object),ke=Ut(C,"DataView"),Ze=Ut(C,"Map"),rt=Ut(C,"Promise"),Ue=Ut(C,"Set"),et=Ut(C,"WeakMap"),Te=Ut(Object,"create"),Ve=bt(ke),ot=bt(Ze),Ye=bt(rt),Le=bt(Ue),at=bt(et),qe=fe?fe.prototype:void 0,nt=qe?qe.valueOf:void 0;function it(ge){var Ee=-1,He=ge?ge.length:0;for(this.clear();++Ee<He;){var dt=ge[Ee];this.set(dt[0],dt[1])}}function ft(ge){var Ee=-1,He=ge?ge.length:0;for(this.clear();++Ee<He;){var dt=ge[Ee];this.set(dt[0],dt[1])}}function ht(ge){var Ee=-1,He=ge?ge.length:0;for(this.clear();++Ee<He;){var dt=ge[Ee];this.set(dt[0],dt[1])}}function Mt(ge){this.__data__=new ft(ge)}function Bt(ge,Ee){var He=cn(ge)||function(Lt){return function(Ft){return function(Zt){return!!Zt&&h(Zt)=="object"}(Ft)&&kt(Ft)}(Lt)&&G.call(Lt,"callee")&&(!Ne.call(Lt,"callee")||ue.call(Lt)==g)}(ge)?function(Lt,Ft){for(var Zt=-1,sn=Array(Lt);++Zt<Lt;)sn[Zt]=Ft(Zt);return sn}(ge.length,String):[],dt=He.length,Tt=!!dt;for(var zt in ge)!Ee&&!G.call(ge,zt)||Tt&&(zt=="length"||Je(zt,dt))||He.push(zt);return He}function Ke(ge,Ee,He){var dt=ge[Ee];G.call(ge,Ee)&&xt(dt,He)&&(He!==void 0||Ee in ge)||(ge[Ee]=He)}function St(ge,Ee){for(var He=ge.length;He--;)if(xt(ge[He][0],Ee))return He;return-1}function pt(ge,Ee,He,dt,Tt,zt,Lt){var Ft;if(dt&&(Ft=zt?dt(ge,Tt,zt,Lt):dt(ge)),Ft!==void 0)return Ft;if(!rn(ge))return ge;var Zt=cn(ge);if(Zt){if(Ft=function(gt){var wt=gt.length,jt=gt.constructor(wt);return wt&&typeof gt[0]=="string"&&G.call(gt,"index")&&(jt.index=gt.index,jt.input=gt.input),jt}(ge),!Ee)return function(gt,wt){var jt=-1,tn=gt.length;for(wt||(wt=Array(tn));++jt<tn;)wt[jt]=gt[jt];return wt}(ge,Ft)}else{var sn=Xe(ge),Vn=sn==y||sn==_;if(Wn(ge))return function(gt,wt){if(wt)return gt.slice();var jt=new gt.constructor(gt.length);return gt.copy(jt),jt}(ge,Ee);if(sn=="[object Object]"||sn==g||Vn&&!zt){if(Y(ge))return zt?ge:{};if(Ft=function(gt){return typeof gt.constructor!="function"||yt(gt)?{}:(wt=Ie(gt),rn(wt)?be(wt):{});var wt}(Vn?{}:ge),!Ee)return function(gt,wt){return Vt(gt,en(gt),wt)}(ge,function(gt,wt){return gt&&Vt(wt,on(wt),gt)}(Ft,ge))}else{if(!P[sn])return zt?ge:{};Ft=function(gt,wt,jt,tn){var mn=gt.constructor;switch(wt){case"[object ArrayBuffer]":return Ot(gt);case"[object Boolean]":case"[object Date]":return new mn(+gt);case"[object DataView]":return function(Et,Nt){var hn=Nt?Ot(Et.buffer):Et.buffer;return new Et.constructor(hn,Et.byteOffset,Et.byteLength)}(gt,tn);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(Et,Nt){var hn=Nt?Ot(Et.buffer):Et.buffer;return new Et.constructor(hn,Et.byteOffset,Et.length)}(gt,tn);case w:return function(Et,Nt,hn){return z(Nt?hn(te(Et),!0):te(Et),R,new Et.constructor)}(gt,tn,jt);case"[object Number]":case"[object String]":return new mn(gt);case"[object RegExp]":return function(Et){var Nt=new Et.constructor(Et.source,v.exec(Et));return Nt.lastIndex=Et.lastIndex,Nt}(gt);case $:return function(Et,Nt,hn){return z(Nt?hn(Q(Et),!0):Q(Et),L,new Et.constructor)}(gt,tn,jt);case"[object Symbol]":return Tn=gt,nt?Object(nt.call(Tn)):{}}var Tn}(ge,sn,pt,Ee)}}Lt||(Lt=new Mt);var fn=Lt.get(ge);if(fn)return fn;if(Lt.set(ge,Ft),!Zt)var dn=He?function(gt){return function(wt,jt,tn){var mn=jt(wt);return cn(wt)?mn:function(Tn,Et){for(var Nt=-1,hn=Et.length,jn=Tn.length;++Nt<hn;)Tn[jn+Nt]=Et[Nt];return Tn}(mn,tn(wt))}(gt,on,en)}(ge):on(ge);return function(gt,wt){for(var jt=-1,tn=gt?gt.length:0;++jt<tn&&wt(gt[jt],jt,gt)!==!1;);}(dn||ge,function(gt,wt){dn&&(gt=ge[wt=gt]),Ke(Ft,wt,pt(gt,Ee,He,dt,wt,ge,Lt))}),Ft}function Rt(ge){return!(!rn(ge)||(Ee=ge,re&&re in Ee))&&(Fn(ge)||Y(ge)?le:b).test(bt(ge));var Ee}function Ot(ge){var Ee=new ge.constructor(ge.byteLength);return new _e(Ee).set(new _e(ge)),Ee}function Vt(ge,Ee,He,dt){He||(He={});for(var Tt=-1,zt=Ee.length;++Tt<zt;){var Lt=Ee[Tt],Ft=dt?dt(He[Lt],ge[Lt],Lt,He,ge):void 0;Ke(He,Lt,Ft===void 0?ge[Lt]:Ft)}return He}function $t(ge,Ee){var He,dt,Tt=ge.__data__;return((dt=h(He=Ee))=="string"||dt=="number"||dt=="symbol"||dt=="boolean"?He!=="__proto__":He===null)?Tt[typeof Ee=="string"?"string":"hash"]:Tt.map}function Ut(ge,Ee){var He=function(dt,Tt){return dt==null?void 0:dt[Tt]}(ge,Ee);return Rt(He)?He:void 0}it.prototype.clear=function(){this.__data__=Te?Te(null):{}},it.prototype.delete=function(ge){return this.has(ge)&&delete this.__data__[ge]},it.prototype.get=function(ge){var Ee=this.__data__;if(Te){var He=Ee[ge];return He==="__lodash_hash_undefined__"?void 0:He}return G.call(Ee,ge)?Ee[ge]:void 0},it.prototype.has=function(ge){var Ee=this.__data__;return Te?Ee[ge]!==void 0:G.call(Ee,ge)},it.prototype.set=function(ge,Ee){return this.__data__[ge]=Te&&Ee===void 0?"__lodash_hash_undefined__":Ee,this},ft.prototype.clear=function(){this.__data__=[]},ft.prototype.delete=function(ge){var Ee=this.__data__,He=St(Ee,ge);return!(He<0)&&(He==Ee.length-1?Ee.pop():pe.call(Ee,He,1),!0)},ft.prototype.get=function(ge){var Ee=this.__data__,He=St(Ee,ge);return He<0?void 0:Ee[He][1]},ft.prototype.has=function(ge){return St(this.__data__,ge)>-1},ft.prototype.set=function(ge,Ee){var He=this.__data__,dt=St(He,ge);return dt<0?He.push([ge,Ee]):He[dt][1]=Ee,this},ht.prototype.clear=function(){this.__data__={hash:new it,map:new(Ze||ft),string:new it}},ht.prototype.delete=function(ge){return $t(this,ge).delete(ge)},ht.prototype.get=function(ge){return $t(this,ge).get(ge)},ht.prototype.has=function(ge){return $t(this,ge).has(ge)},ht.prototype.set=function(ge,Ee){return $t(this,ge).set(ge,Ee),this},Mt.prototype.clear=function(){this.__data__=new ft},Mt.prototype.delete=function(ge){return this.__data__.delete(ge)},Mt.prototype.get=function(ge){return this.__data__.get(ge)},Mt.prototype.has=function(ge){return this.__data__.has(ge)},Mt.prototype.set=function(ge,Ee){var He=this.__data__;if(He instanceof ft){var dt=He.__data__;if(!Ze||dt.length<199)return dt.push([ge,Ee]),this;He=this.__data__=new ht(dt)}return He.set(ge,Ee),this};var en=ve?K(ve,Object):function(){return[]},Xe=function(ge){return ue.call(ge)};function Je(ge,Ee){return!!(Ee=Ee==null?9007199254740991:Ee)&&(typeof ge=="number"||M.test(ge))&&ge>-1&&ge%1==0&&ge<Ee}function yt(ge){var Ee=ge&&ge.constructor;return ge===(typeof Ee=="function"&&Ee.prototype||q)}function bt(ge){if(ge!=null){try{return ie.call(ge)}catch{}try{return ge+""}catch{}}return""}function xt(ge,Ee){return ge===Ee||ge!=ge&&Ee!=Ee}(ke&&Xe(new ke(new ArrayBuffer(1)))!="[object DataView]"||Ze&&Xe(new Ze)!=w||rt&&Xe(rt.resolve())!="[object Promise]"||Ue&&Xe(new Ue)!=$||et&&Xe(new et)!="[object WeakMap]")&&(Xe=function(ge){var Ee=ue.call(ge),He=Ee=="[object Object]"?ge.constructor:void 0,dt=He?bt(He):void 0;if(dt)switch(dt){case Ve:return"[object DataView]";case ot:return w;case Ye:return"[object Promise]";case Le:return $;case at:return"[object WeakMap]"}return Ee});var cn=Array.isArray;function kt(ge){return ge!=null&&function(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}(ge.length)&&!Fn(ge)}var Wn=Re||function(){return!1};function Fn(ge){var Ee=rn(ge)?ue.call(ge):"";return Ee==y||Ee==_}function rn(ge){var Ee=h(ge);return!!ge&&(Ee=="object"||Ee=="function")}function on(ge){return kt(ge)?Bt(ge):function(Ee){if(!yt(Ee))return Ge(Ee);var He=[];for(var dt in Object(Ee))G.call(Ee,dt)&&dt!="constructor"&&He.push(dt);return He}(ge)}m.exports=function(ge){return pt(ge,!0,!0)}}).call(this,f(14),f(24)(o))},function(o,u,f){f.d(u,"a",function(){return d});function d(m){try{return m&&typeof m=="function"&&m.name||"<anonymous>"}catch{return"<anonymous>"}}},function(o,u,f){f.d(u,"a",function(){return d});var d=function(){function m(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return m.prototype.memoize=function(h){if(this._hasWeakSet)return!!this._inner.has(h)||(this._inner.add(h),!1);for(var g=0;g<this._inner.length;g++)if(this._inner[g]===h)return!0;return this._inner.push(h),!1},m.prototype.unmemoize=function(h){if(this._hasWeakSet)this._inner.delete(h);else for(var g=0;g<this._inner.length;g++)if(this._inner[g]===h){this._inner.splice(g,1);break}},m}()},,function(o,u,f){function d(P){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(P)}var m=f(19),h=f(40),g=f(12),y=f(20).scan,_=g.ValidatorResult,w=g.SchemaError,$=g.SchemaContext,v=function P(){this.customFormats=Object.create(P.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(M),this.attributes=Object.create(h.validators)};function b(P){var I=typeof P=="string"?P:P.$ref;return typeof I=="string"&&I}v.prototype.customFormats={},v.prototype.schemas=null,v.prototype.types=null,v.prototype.attributes=null,v.prototype.unresolvedRefs=null,v.prototype.addSchema=function(P,I){var S=this;if(!P)return null;var C=y(I||"/",P),O=I||P.id;for(var B in C.id)this.schemas[B]=C.id[B];for(var B in C.ref)this.unresolvedRefs.push(B);return this.unresolvedRefs=this.unresolvedRefs.filter(function(N){return S.schemas[N]===void 0}),this.schemas[O]},v.prototype.addSubSchemaArray=function(P,I){if(I instanceof Array)for(var S=0;S<I.length;S++)this.addSubSchema(P,I[S])},v.prototype.addSubSchemaObject=function(P,I){if(I&&d(I)=="object")for(var S in I)this.addSubSchema(P,I[S])},v.prototype.setSchemas=function(P){this.schemas=P},v.prototype.getSchema=function(P){return this.schemas[P]},v.prototype.validate=function(P,I,S,C){S||(S={});var O=S.propertyName||"instance",B=m.resolve(S.base||"/",I.id||"");if(!C){(C=new $(I,S,O,B,Object.create(this.schemas))).schemas[B]||(C.schemas[B]=I);var N=y(B,I);for(var R in N.id){var L=N.id[R];C.schemas[R]=L}}if(I){var z=this.validateSchema(P,I,S,C);if(!z)throw new Error("Result undefined");return z}throw new w("no schema specified",I)},v.prototype.validateSchema=function(P,I,S,C){var O,B=new _(P,I,S,C);if(typeof I=="boolean")I===!0?I={}:I===!1&&(I={type:[]});else if(!I)throw new Error("schema is undefined");if(I.extends)if(I.extends instanceof Array){var N={schema:I,ctx:C};I.extends.forEach(this.schemaTraverser.bind(this,N)),I=N.schema,N.schema=null,N.ctx=null,N=null}else I=g.deepMerge(I,this.superResolve(I.extends,C));if(O=b(I)){var R=this.resolve(I,O,C),L=new $(R.subschema,S,C.propertyPath,R.switchSchema,C.schemas);return this.validateSchema(P,R.subschema,S,L)}var z=S&&S.skipAttributes||[];for(var Y in I)if(!h.ignoreProperties[Y]&&z.indexOf(Y)<0){var te=null,K=this.attributes[Y];if(K)te=K.call(this,P,I,S,C);else if(S.allowUnknownAttributes===!1)throw new w("Unsupported attribute: "+Y,I);te&&B.importErrors(te)}if(typeof S.rewrite=="function"){var Q=S.rewrite.call(this,P,I,S,C);B.instance=Q}return B},v.prototype.schemaTraverser=function(P,I){P.schema=g.deepMerge(P.schema,this.superResolve(I,P.ctx))},v.prototype.superResolve=function(P,I){var S;return(S=b(P))?this.resolve(P,S,I).subschema:P},v.prototype.resolve=function(P,I,S){if(I=S.resolve(I),S.schemas[I])return{subschema:S.schemas[I],switchSchema:I};var C=m.parse(I),O=C&&C.hash,B=O&&O.length&&I.substr(0,I.length-O.length);if(!B||!S.schemas[B])throw new w("no such schema <"+I+">",P);var N=g.objectGetPath(S.schemas[B],O.substr(1));if(N===void 0)throw new w("no such schema "+O+" located in <"+B+">",P);return{subschema:N,switchSchema:I}},v.prototype.testType=function(P,I,S,C,O){if(typeof this.types[O]=="function")return this.types[O].call(this,P);if(O&&d(O)=="object"){var B=this.validateSchema(P,O,S,C);return B===void 0||!(B&&B.errors.length)}return!0};var M=v.prototype.types={};M.string=function(P){return typeof P=="string"},M.number=function(P){return typeof P=="number"&&isFinite(P)},M.integer=function(P){return typeof P=="number"&&P%1==0},M.boolean=function(P){return typeof P=="boolean"},M.array=function(P){return Array.isArray(P)},M.null=function(P){return P===null},M.date=function(P){return P instanceof Date},M.any=function(P){return!0},M.object=function(P){return P&&d(P)==="object"&&!(P instanceof Array)&&!(P instanceof Date)},o.exports=v},function(o,u,f){(function(d,m){var h;function g(y){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(y)}/*! https://mths.be/punycode v1.3.2 by @mathias */(function(y){var _=g(u)=="object"&&u&&!u.nodeType&&u,w=g(d)=="object"&&d&&!d.nodeType&&d,$=(m===void 0?"undefined":g(m))=="object"&&m;$.global!==$&&$.window!==$&&$.self!==$||(y=$);var v,b,M=2147483647,P=/^xn--/,I=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=Math.floor,B=String.fromCharCode;function N(Z){throw RangeError(C[Z])}function R(Z,ne){for(var q=Z.length,H=[];q--;)H[q]=ne(Z[q]);return H}function L(Z,ne){var q=Z.split("@"),H="";return q.length>1&&(H=q[0]+"@",Z=q[1]),H+R((Z=Z.replace(S,".")).split("."),ne).join(".")}function z(Z){for(var ne,q,H=[],re=0,ie=Z.length;re<ie;)(ne=Z.charCodeAt(re++))>=55296&&ne<=56319&&re<ie?(64512&(q=Z.charCodeAt(re++)))==56320?H.push(((1023&ne)<<10)+(1023&q)+65536):(H.push(ne),re--):H.push(ne);return H}function Y(Z){return R(Z,function(ne){var q="";return ne>65535&&(q+=B((ne-=65536)>>>10&1023|55296),ne=56320|1023&ne),q+=B(ne)}).join("")}function te(Z,ne){return Z+22+75*(Z<26)-((ne!=0)<<5)}function K(Z,ne,q){var H=0;for(Z=q?O(Z/700):Z>>1,Z+=O(Z/ne);Z>455;H+=36)Z=O(Z/35);return O(H+36*Z/(Z+38))}function Q(Z){var ne,q,H,re,ie,G,ue,le,he,fe,_e,Ie=[],be=Z.length,Ne=0,pe=128,ve=72;for((q=Z.lastIndexOf("-"))<0&&(q=0),H=0;H<q;++H)Z.charCodeAt(H)>=128&&N("not-basic"),Ie.push(Z.charCodeAt(H));for(re=q>0?q+1:0;re<be;){for(ie=Ne,G=1,ue=36;re>=be&&N("invalid-input"),((le=(_e=Z.charCodeAt(re++))-48<10?_e-22:_e-65<26?_e-65:_e-97<26?_e-97:36)>=36||le>O((M-Ne)/G))&&N("overflow"),Ne+=le*G,!(le<(he=ue<=ve?1:ue>=ve+26?26:ue-ve));ue+=36)G>O(M/(fe=36-he))&&N("overflow"),G*=fe;ve=K(Ne-ie,ne=Ie.length+1,ie==0),O(Ne/ne)>M-pe&&N("overflow"),pe+=O(Ne/ne),Ne%=ne,Ie.splice(Ne++,0,pe)}return Y(Ie)}function J(Z){var ne,q,H,re,ie,G,ue,le,he,fe,_e,Ie,be,Ne,pe,ve=[];for(Ie=(Z=z(Z)).length,ne=128,q=0,ie=72,G=0;G<Ie;++G)(_e=Z[G])<128&&ve.push(B(_e));for(H=re=ve.length,re&&ve.push("-");H<Ie;){for(ue=M,G=0;G<Ie;++G)(_e=Z[G])>=ne&&_e<ue&&(ue=_e);for(ue-ne>O((M-q)/(be=H+1))&&N("overflow"),q+=(ue-ne)*be,ne=ue,G=0;G<Ie;++G)if((_e=Z[G])<ne&&++q>M&&N("overflow"),_e==ne){for(le=q,he=36;!(le<(fe=he<=ie?1:he>=ie+26?26:he-ie));he+=36)pe=le-fe,Ne=36-fe,ve.push(B(te(fe+pe%Ne,0))),le=O(pe/Ne);ve.push(B(te(le,0))),ie=K(q,be,H==re),q=0,++H}++q,++ne}return ve.join("")}if(v={version:"1.3.2",ucs2:{decode:z,encode:Y},decode:Q,encode:J,toASCII:function(Z){return L(Z,function(ne){return I.test(ne)?"xn--"+J(ne):ne})},toUnicode:function(Z){return L(Z,function(ne){return P.test(ne)?Q(ne.slice(4).toLowerCase()):ne})}},g(f(25))=="object"&&f(25))(h=function(){return v}.call(u,f,u,d))===void 0||(d.exports=h);else if(_&&w)if(d.exports==_)w.exports=v;else for(b in v)v.hasOwnProperty(b)&&(_[b]=v[b]);else y.punycode=v})(this)}).call(this,f(24)(o),f(14))},function(o,u,f){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}o.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return d(m)==="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},function(o,u,f){u.decode=u.parse=f(38),u.encode=u.stringify=f(39)},function(o,u,f){function d(h,g){return Object.prototype.hasOwnProperty.call(h,g)}o.exports=function(h,g,y,_){g=g||"&",y=y||"=";var w={};if(typeof h!="string"||h.length===0)return w;var $=/\+/g;h=h.split(g);var v=1e3;_&&typeof _.maxKeys=="number"&&(v=_.maxKeys);var b=h.length;v>0&&b>v&&(b=v);for(var M=0;M<b;++M){var P,I,S,C,O=h[M].replace($,"%20"),B=O.indexOf(y);B>=0?(P=O.substr(0,B),I=O.substr(B+1)):(P=O,I=""),S=decodeURIComponent(P),C=decodeURIComponent(I),d(w,S)?m(w[S])?w[S].push(C):w[S]=[w[S],C]:w[S]=C}return w};var m=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"}},function(o,u,f){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}var m=function(_){switch(d(_)){case"string":return _;case"boolean":return _?"true":"false";case"number":return isFinite(_)?_:"";default:return""}};o.exports=function(_,w,$,v){return w=w||"&",$=$||"=",_===null&&(_=void 0),d(_)==="object"?g(y(_),function(b){var M=encodeURIComponent(m(b))+$;return h(_[b])?g(_[b],function(P){return M+encodeURIComponent(m(P))}).join(w):M+encodeURIComponent(m(_[b]))}).join(w):v?encodeURIComponent(m(v))+$+encodeURIComponent(m(_)):""};var h=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"};function g(_,w){if(_.map)return _.map(w);for(var $=[],v=0;v<_.length;v++)$.push(w(_[v],v));return $}var y=Object.keys||function(_){var w=[];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&w.push($);return w}},function(o,u,f){var d=f(12),m=d.ValidatorResult,h=d.SchemaError,g={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},y=g.validators={};function _(b,M,P,I,S){var C=M.throwError;M.throwError=!1;var O=this.validateSchema(b,S,M,P);return M.throwError=C,!O.valid&&I instanceof Function&&I(O),O.valid}function w(b,M,P,I,S,C){if(this.types.object(b)&&(!M.properties||M.properties[S]===void 0))if(M.additionalProperties===!1)C.addError({name:"additionalProperties",argument:S,message:"additionalProperty "+JSON.stringify(S)+" exists in instance when not allowed"});else{var O=M.additionalProperties||{};typeof P.preValidateProperty=="function"&&P.preValidateProperty(b,S,O,P,I);var B=this.validateSchema(b[S],O,P,I.makeChild(O,S));B.instance!==C.instance[S]&&(C.instance[S]=B.instance),C.importErrors(B)}}y.type=function(b,M,P,I){if(b===void 0)return null;var S=new m(b,M,P,I),C=Array.isArray(M.type)?M.type:[M.type];if(!C.some(this.testType.bind(this,b,M,P,I))){var O=C.map(function(B){return B.id&&"<"+B.id+">"||B+""});S.addError({name:"type",argument:O,message:"is not of a type(s) "+O})}return S},y.anyOf=function(b,M,P,I){if(b===void 0)return null;var S=new m(b,M,P,I),C=new m(b,M,P,I);if(!Array.isArray(M.anyOf))throw new h("anyOf must be an array");if(!M.anyOf.some(_.bind(this,b,P,I,function(B){C.importErrors(B)}))){var O=M.anyOf.map(function(B,N){return B.id&&"<"+B.id+">"||B.title&&JSON.stringify(B.title)||B.$ref&&"<"+B.$ref+">"||"[subschema "+N+"]"});P.nestedErrors&&S.importErrors(C),S.addError({name:"anyOf",argument:O,message:"is not any of "+O.join(",")})}return S},y.allOf=function(b,M,P,I){if(b===void 0)return null;if(!Array.isArray(M.allOf))throw new h("allOf must be an array");var S=new m(b,M,P,I),C=this;return M.allOf.forEach(function(O,B){var N=C.validateSchema(b,O,P,I);if(!N.valid){var R=O.id&&"<"+O.id+">"||O.title&&JSON.stringify(O.title)||O.$ref&&"<"+O.$ref+">"||"[subschema "+B+"]";S.addError({name:"allOf",argument:{id:R,length:N.errors.length,valid:N},message:"does not match allOf schema "+R+" with "+N.errors.length+" error[s]:"}),S.importErrors(N)}}),S},y.oneOf=function(b,M,P,I){if(b===void 0)return null;if(!Array.isArray(M.oneOf))throw new h("oneOf must be an array");var S=new m(b,M,P,I),C=new m(b,M,P,I),O=M.oneOf.filter(_.bind(this,b,P,I,function(N){C.importErrors(N)})).length,B=M.oneOf.map(function(N,R){return N.id&&"<"+N.id+">"||N.title&&JSON.stringify(N.title)||N.$ref&&"<"+N.$ref+">"||"[subschema "+R+"]"});return O!==1&&(P.nestedErrors&&S.importErrors(C),S.addError({name:"oneOf",argument:B,message:"is not exactly one from "+B.join(",")})),S},y.properties=function(b,M,P,I){if(this.types.object(b)){var S=new m(b,M,P,I),C=M.properties||{};for(var O in C){typeof P.preValidateProperty=="function"&&P.preValidateProperty(b,O,C[O],P,I);var B=Object.hasOwnProperty.call(b,O)?b[O]:void 0,N=this.validateSchema(B,C[O],P,I.makeChild(C[O],O));N.instance!==S.instance[O]&&(S.instance[O]=N.instance),S.importErrors(N)}return S}},y.patternProperties=function(b,M,P,I){if(this.types.object(b)){var S=new m(b,M,P,I),C=M.patternProperties||{};for(var O in b){var B=!0;for(var N in C)if(new RegExp(N).test(O)){B=!1,typeof P.preValidateProperty=="function"&&P.preValidateProperty(b,O,C[N],P,I);var R=this.validateSchema(b[O],C[N],P,I.makeChild(C[N],O));R.instance!==S.instance[O]&&(S.instance[O]=R.instance),S.importErrors(R)}B&&w.call(this,b,M,P,I,O,S)}return S}},y.additionalProperties=function(b,M,P,I){if(this.types.object(b)){if(M.patternProperties)return null;var S=new m(b,M,P,I);for(var C in b)w.call(this,b,M,P,I,C,S);return S}},y.minProperties=function(b,M,P,I){if(this.types.object(b)){var S=new m(b,M,P,I);return Object.keys(b).length>=M.minProperties||S.addError({name:"minProperties",argument:M.minProperties,message:"does not meet minimum property length of "+M.minProperties}),S}},y.maxProperties=function(b,M,P,I){if(this.types.object(b)){var S=new m(b,M,P,I);return Object.keys(b).length<=M.maxProperties||S.addError({name:"maxProperties",argument:M.maxProperties,message:"does not meet maximum property length of "+M.maxProperties}),S}},y.items=function(b,M,P,I){var S=this;if(this.types.array(b)&&M.items){var C=new m(b,M,P,I);return b.every(function(O,B){var N=Array.isArray(M.items)?M.items[B]||M.additionalItems:M.items;if(N===void 0)return!0;if(N===!1)return C.addError({name:"items",message:"additionalItems not permitted"}),!1;var R=S.validateSchema(O,N,P,I.makeChild(N,B));return R.instance!==C.instance[B]&&(C.instance[B]=R.instance),C.importErrors(R),!0}),C}},y.minimum=function(b,M,P,I){if(this.types.number(b)){var S=new m(b,M,P,I);return(M.exclusiveMinimum&&M.exclusiveMinimum===!0?b>M.minimum:b>=M.minimum)||S.addError({name:"minimum",argument:M.minimum,message:"must have a minimum value of "+M.minimum}),S}},y.maximum=function(b,M,P,I){if(this.types.number(b)){var S=new m(b,M,P,I);return(M.exclusiveMaximum&&M.exclusiveMaximum===!0?b<M.maximum:b<=M.maximum)||S.addError({name:"maximum",argument:M.maximum,message:"must have a maximum value of "+M.maximum}),S}};var $=function(b,M,P,I,S,C){if(this.types.number(b)){var O=M[S];if(O==0)throw new h(S+" cannot be zero");var B=new m(b,M,P,I),N=d.getDecimalPlaces(b),R=d.getDecimalPlaces(O),L=Math.max(N,R),z=Math.pow(10,L);return Math.round(b*z)%Math.round(O*z)!=0&&B.addError({name:S,argument:O,message:C+JSON.stringify(O)}),B}};function v(b,M,P){var I,S=P.length;for(I=M+1;I<S;I++)if(d.deepCompareStrict(b,P[I]))return!1;return!0}y.multipleOf=function(b,M,P,I){return $.call(this,b,M,P,I,"multipleOf","is not a multiple of (divisible by) ")},y.divisibleBy=function(b,M,P,I){return $.call(this,b,M,P,I,"divisibleBy","is not divisible by (multiple of) ")},y.required=function(b,M,P,I){var S=new m(b,M,P,I);return b===void 0&&M.required===!0?S.addError({name:"required",message:"is required"}):this.types.object(b)&&Array.isArray(M.required)&&M.required.forEach(function(C){b[C]===void 0&&S.addError({name:"required",argument:C,message:"requires property "+JSON.stringify(C)})}),S},y.pattern=function(b,M,P,I){if(this.types.string(b)){var S=new m(b,M,P,I);return b.match(M.pattern)||S.addError({name:"pattern",argument:M.pattern,message:"does not match pattern "+JSON.stringify(M.pattern.toString())}),S}},y.format=function(b,M,P,I){if(b!==void 0){var S=new m(b,M,P,I);return S.disableFormat||d.isFormat(b,M.format,this)||S.addError({name:"format",argument:M.format,message:"does not conform to the "+JSON.stringify(M.format)+" format"}),S}},y.minLength=function(b,M,P,I){if(this.types.string(b)){var S=new m(b,M,P,I),C=b.match(/[\uDC00-\uDFFF]/g);return b.length-(C?C.length:0)>=M.minLength||S.addError({name:"minLength",argument:M.minLength,message:"does not meet minimum length of "+M.minLength}),S}},y.maxLength=function(b,M,P,I){if(this.types.string(b)){var S=new m(b,M,P,I),C=b.match(/[\uDC00-\uDFFF]/g);return b.length-(C?C.length:0)<=M.maxLength||S.addError({name:"maxLength",argument:M.maxLength,message:"does not meet maximum length of "+M.maxLength}),S}},y.minItems=function(b,M,P,I){if(this.types.array(b)){var S=new m(b,M,P,I);return b.length>=M.minItems||S.addError({name:"minItems",argument:M.minItems,message:"does not meet minimum length of "+M.minItems}),S}},y.maxItems=function(b,M,P,I){if(this.types.array(b)){var S=new m(b,M,P,I);return b.length<=M.maxItems||S.addError({name:"maxItems",argument:M.maxItems,message:"does not meet maximum length of "+M.maxItems}),S}},y.uniqueItems=function(b,M,P,I){if(this.types.array(b)){var S=new m(b,M,P,I);return b.every(function(C,O,B){for(var N=O+1;N<B.length;N++)if(d.deepCompareStrict(C,B[N]))return!1;return!0})||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.uniqueItems=function(b,M,P,I){if(this.types.array(b)){var S=new m(b,M,P,I);return b.every(v)||S.addError({name:"uniqueItems",message:"contains duplicate item"}),S}},y.dependencies=function(b,M,P,I){if(this.types.object(b)){var S=new m(b,M,P,I);for(var C in M.dependencies)if(b[C]!==void 0){var O=M.dependencies[C],B=I.makeChild(O,C);if(typeof O=="string"&&(O=[O]),Array.isArray(O))O.forEach(function(R){b[R]===void 0&&S.addError({name:"dependencies",argument:B.propertyPath,message:"property "+R+" not found, required by "+B.propertyPath})});else{var N=this.validateSchema(b,O,P,B);S.instance!==N.instance&&(S.instance=N.instance),N&&N.errors.length&&(S.addError({name:"dependencies",argument:B.propertyPath,message:"does not meet dependency required by "+B.propertyPath}),S.importErrors(N))}}return S}},y.enum=function(b,M,P,I){if(b===void 0)return null;if(!Array.isArray(M.enum))throw new h("enum expects an array",M);var S=new m(b,M,P,I);return M.enum.some(d.deepCompareStrict.bind(null,b))||S.addError({name:"enum",argument:M.enum,message:"is not one of enum values: "+M.enum.map(String).join(",")}),S},y.const=function(b,M,P,I){if(b===void 0)return null;var S=new m(b,M,P,I);return d.deepCompareStrict(M.const,b)||S.addError({name:"const",argument:M.const,message:"does not exactly match expected constant: "+M.const}),S},y.not=y.disallow=function(b,M,P,I){var S=this;if(b===void 0)return null;var C=new m(b,M,P,I),O=M.not||M.disallow;return O?(Array.isArray(O)||(O=[O]),O.forEach(function(B){if(S.testType(b,M,P,I,B)){var N=B&&B.id&&"<"+B.id+">"||B;C.addError({name:"not",argument:N,message:"is of prohibited type "+N})}}),C):null},o.exports=g},function(o,u,f){function d(m){return function(h){if(Array.isArray(h)){for(var g=0,y=new Array(h.length);g<h.length;g++)y[g]=h[g];return y}}(m)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.exports=function(m){function h($){for(var v=0,b=0;b<$.length;b++)v=(v<<5)-v+$.charCodeAt(b),v|=0;return g.colors[Math.abs(v)%g.colors.length]}function g($){var v;function b(){for(var M=arguments.length,P=new Array(M),I=0;I<M;I++)P[I]=arguments[I];if(b.enabled){var S=b,C=Number(new Date),O=C-(v||C);S.diff=O,S.prev=v,S.curr=C,v=C,P[0]=g.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");var B=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,function(R,L){if(R==="%%")return R;B++;var z=g.formatters[L];if(typeof z=="function"){var Y=P[B];R=z.call(S,Y),P.splice(B,1),B--}return R}),g.formatArgs.call(S,P);var N=S.log||g.log;N.apply(S,P)}}return b.namespace=$,b.enabled=g.enabled($),b.useColors=g.useColors(),b.color=h($),b.destroy=y,b.extend=_,typeof g.init=="function"&&g.init(b),g.instances.push(b),b}function y(){var $=g.instances.indexOf(this);return $!==-1&&(g.instances.splice($,1),!0)}function _($,v){var b=g(this.namespace+(v===void 0?":":v)+$);return b.log=this.log,b}function w($){return $.toString().substring(2,$.toString().length-2).replace(/\.\*\?$/,"*")}return g.debug=g,g.default=g,g.coerce=function($){return $ instanceof Error?$.stack||$.message:$},g.disable=function(){var $=[].concat(d(g.names.map(w)),d(g.skips.map(w).map(function(v){return"-"+v}))).join(",");return g.enable(""),$},g.enable=function($){var v;g.save($),g.names=[],g.skips=[];var b=(typeof $=="string"?$:"").split(/[\s,]+/),M=b.length;for(v=0;v<M;v++)b[v]&&(($=b[v].replace(/\*/g,".*?"))[0]==="-"?g.skips.push(new RegExp("^"+$.substr(1)+"$")):g.names.push(new RegExp("^"+$+"$")));for(v=0;v<g.instances.length;v++){var P=g.instances[v];P.enabled=g.enabled(P.namespace)}},g.enabled=function($){if($[$.length-1]==="*")return!0;var v,b;for(v=0,b=g.skips.length;v<b;v++)if(g.skips[v].test($))return!1;for(v=0,b=g.names.length;v<b;v++)if(g.names[v].test($))return!0;return!1},g.humanize=f(42),Object.keys(m).forEach(function($){g[$]=m[$]}),g.instances=[],g.names=[],g.skips=[],g.formatters={},g.selectColor=h,g.enable(g.load()),g}},function(o,u){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}var d=1e3,m=6e4,h=60*m,g=24*h;function y(_,w,$,v){var b=w>=1.5*$;return Math.round(_/$)+" "+v+(b?"s":"")}o.exports=function(_,w){w=w||{};var $=f(_);if($==="string"&&_.length>0)return function(v){if(!((v=String(v)).length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(!!b){var M=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*M;case"weeks":case"week":case"w":return 6048e5*M;case"days":case"day":case"d":return M*g;case"hours":case"hour":case"hrs":case"hr":case"h":return M*h;case"minutes":case"minute":case"mins":case"min":case"m":return M*m;case"seconds":case"second":case"secs":case"sec":case"s":return M*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return M;default:return}}}}(_);if($==="number"&&isFinite(_))return w.long?function(v){var b=Math.abs(v);return b>=g?y(v,b,g,"day"):b>=h?y(v,b,h,"hour"):b>=m?y(v,b,m,"minute"):b>=d?y(v,b,d,"second"):v+" ms"}(_):function(v){var b=Math.abs(v);return b>=g?Math.round(v/g)+"d":b>=h?Math.round(v/h)+"h":b>=m?Math.round(v/m)+"m":b>=d?Math.round(v/d)+"s":v+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},function(o,u,f){f.r(u),f.d(u,"XhrAdapter",function(){return v});var d=f(0),m=f(3),h=f.n(m),g=f(5),y=f(6),_=f(2),w=f(11),$=h()("fs:request:xhr"),v=function(){function b(){}return b.prototype.request=function(M){var P=this;M.filestackHeaders===void 0&&(M.filestackHeaders=!0),(M=Object(w.d)(M)).headers=M.headers||{};var I=M.data,S=M.headers;g.e(I)&&delete S["Content-Type"];var C=new XMLHttpRequest;if(M.blobResponse&&(C.responseType="blob"),M.auth){if(!M.auth.username||M.auth.username.length===0||!M.auth.password||M.auth.password.length===0)return Promise.reject(new _.a("Basic auth: username and password are required "+M.auth,M));S.Authorization="Basic "+btoa(unescape(encodeURIComponent(M.auth.username+":"+M.auth.password))),$("Set request authorization to %s",M.auth.username+M.auth.password)}var O=M.url.trim();return/^http(s)?:\/\//.test(O)||(O="https://"+O),O=Object(w.a)(O,M.params),$("Starting request to %s with options %O",O,M),C.open(M.method.toUpperCase(),O,!0),C.timeout=M.timeout,new Promise(function(B,N){var R;if(M.cancelToken&&(R=function(z){return C&&(C.abort(),C=null),$("Request canceled by user %s, config: %O",z,M),N(new _.a("Request aborted. Reason: "+z,M,null,_.b.ABORTED))},M.cancelToken.once("cancel",R)),C.onreadystatechange=function(){return Object(d.b)(P,void 0,void 0,function(){var z,Y,te;return Object(d.d)(this,function(K){switch(K.label){case 0:return C&&C.readyState===4&&(C.status!==0||C.responseURL)?(z=Object(w.b)(C.getAllResponseHeaders()),Y=C.response,te={data:Y,status:C.status,statusText:C.statusText,headers:z,config:M},C=null,[4,Object(w.c)(te)]):[2];case 1:return 500<=(te=K.sent()).status&&te.status<=599?($("Server error(5xx) - %O",te),[2,N(new _.a("Server error "+O,M,te,_.b.SERVER))]):400<=te.status&&te.status<=499?($("Request error(4xx) - %O",te),[2,N(new _.a("Request error "+O,M,te,_.b.REQUEST))]):(M.cancelToken&&(M.cancelToken.removeListener("cancel",R),R=null),[2,B(te)])}})})},C.onabort=function(){C&&(C=null,N(new _.a("Request aborted",M,null,_.b.ABORTED)))},C.onerror=function(z){C=null,$("Request error! %O",z),N(new _.a("Network Error",M,null,_.b.NETWORK))},C.ontimeout=function(){C=null,$("Request timed out. %O",M),N(new _.a("Request timeout",M,null,_.b.TIMEOUT))},"setRequestHeader"in C&&S&&Object.keys(S).length)for(var L in S)S[L]!==void 0&&($("Set request header %s to %s",L,S[L]),C.setRequestHeader(L,S[L]));typeof M.onProgress=="function"&&[y.a.POST,y.a.PUT].indexOf(M.method)>-1&&(C.upload?($("Bind to upload progress event"),C.upload.addEventListener("progress",M.onProgress)):($("Bind to progress event"),C.addEventListener("progress",M.onProgress))),I===void 0&&(I=null),C.send(I)})},b}()},function(o,u,f){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}var m=f(7);u.convertToJson=function h(g,y){var _={};if(!(g.child&&!m.isEmptyObject(g.child)||g.attrsMap&&!m.isEmptyObject(g.attrsMap)))return m.isExist(g.val)?g.val:"";m.isExist(g.val)&&(typeof g.val!="string"||g.val!==""&&g.val!==y.cdataPositionChar)&&(y.arrayMode==="strict"?_[y.textNodeName]=[g.val]:_[y.textNodeName]=g.val),m.merge(_,g.attrsMap,y.arrayMode);for(var w=Object.keys(g.child),$=0;$<w.length;$++){var v=w[$];if(g.child[v]&&g.child[v].length>1)for(var b in _[v]=[],g.child[v])_[v].push(h(g.child[v][b],y));else if(y.arrayMode===!0){var M=h(g.child[v][0],y);d(M)==="object"?_[v]=[M]:_[v]=M}else y.arrayMode==="strict"?_[v]=[h(g.child[v][0],y)]:_[v]=h(g.child[v][0],y)}return _}},function(o,u,f){o.exports=function(d,m,h){this.tagname=d,this.parent=m,this.child={},this.attrsMap={},this.val=h,this.addChild=function(g){Array.isArray(this.child[g.tagname])?this.child[g.tagname].push(g):this.child[g.tagname]=[g]}}},function(o,u,f){var d=f(7),m={allowBooleanAttributes:!1},h=["allowBooleanAttributes"];function g(S,C){for(var O=C;C<S.length;C++)if(!(S[C]!="?"&&S[C]!=" ")){var B=S.substr(O,C-O);if(C>5&&B==="xml")return b("InvalidXml","XML declaration allowed only at the start of the document.",P(S,C));if(S[C]=="?"&&S[C+1]==">"){C++;break}}return C}function y(S,C){if(S.length>C+5&&S[C+1]==="-"&&S[C+2]==="-"){for(C+=3;C<S.length;C++)if(S[C]==="-"&&S[C+1]==="-"&&S[C+2]===">"){C+=2;break}}else if(S.length>C+8&&S[C+1]==="D"&&S[C+2]==="O"&&S[C+3]==="C"&&S[C+4]==="T"&&S[C+5]==="Y"&&S[C+6]==="P"&&S[C+7]==="E"){var O=1;for(C+=8;C<S.length;C++)if(S[C]==="<")O++;else if(S[C]===">"&&--O===0)break}else if(S.length>C+9&&S[C+1]==="["&&S[C+2]==="C"&&S[C+3]==="D"&&S[C+4]==="A"&&S[C+5]==="T"&&S[C+6]==="A"&&S[C+7]==="["){for(C+=8;C<S.length;C++)if(S[C]==="]"&&S[C+1]==="]"&&S[C+2]===">"){C+=2;break}}return C}u.validate=function(S,C){C=d.buildOptions(C,m,h);var O,B=[],N=!1,R=!1;S[0]==="\uFEFF"&&(S=S.substr(1));for(var L=0;L<S.length;L++){if(S[L]!=="<"){if(S[L]===" "||S[L]==="	"||S[L]===`
`||S[L]==="\r")continue;return b("InvalidChar","char '".concat(S[L],"' is not expected."),P(S,L))}if(S[++L]==="?"){if((L=g(S,++L)).err)return L}else{if(S[L]==="!"){L=y(S,L);continue}var z=!1;S[L]==="/"&&(z=!0,L++);for(var Y="";L<S.length&&S[L]!==">"&&S[L]!==" "&&S[L]!=="	"&&S[L]!==`
`&&S[L]!=="\r";L++)Y+=S[L];if((Y=Y.trim())[Y.length-1]==="/"&&(Y=Y.substring(0,Y.length-1),L--),O=Y,!d.isName(O))return b("InvalidTag",Y.trim().length===0?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '".concat(Y,"' is an invalid name."),P(S,L));var te=_(S,L);if(te===!1)return b("InvalidAttr","Attributes for '".concat(Y,"' have open quote."),P(S,L));var K=te.value;if(L=te.index,K[K.length-1]==="/"){var Q=$(K=K.substring(0,K.length-1),C);if(Q!==!0)return b(Q.err.code,Q.err.msg,P(S,L-K.length+Q.err.line));N=!0}else if(z){if(!te.tagClosed)return b("InvalidTag","Closing tag '".concat(Y,"' doesn't have proper closing."),P(S,L));if(K.trim().length>0)return b("InvalidTag","Closing tag '".concat(Y,"' can't have attributes or invalid starting."),P(S,L));var J=B.pop();if(Y!==J)return b("InvalidTag","Closing tag '".concat(J,"' is expected inplace of '").concat(Y,"'."),P(S,L));B.length==0&&(R=!0)}else{var Z=$(K,C);if(Z!==!0)return b(Z.err.code,Z.err.msg,P(S,L-K.length+Z.err.line));if(R===!0)return b("InvalidXml","Multiple possible root nodes found.",P(S,L));B.push(Y),N=!0}for(L++;L<S.length;L++){if(S[L]==="<"){if(S[L+1]==="!"){L=y(S,++L);continue}break}if(S[L]==="&"){var ne=v(S,L);if(ne==-1)return b("InvalidChar","char '&' is not expected.",P(S,L));L=ne}}S[L]==="<"&&L--}}return N?!(B.length>0)||b("InvalidXml","Invalid '".concat(JSON.stringify(B,null,4).replace(/\r?\n/g,""),"' found."),1):b("InvalidXml","Start tag expected.",1)};function _(S,C){for(var O="",B="",N=!1;C<S.length;C++){if(S[C]==='"'||S[C]==="'")if(B==="")B=S[C];else{if(B!==S[C])continue;B=""}else if(S[C]===">"&&B===""){N=!0;break}O+=S[C]}return B===""&&{value:O,index:C,tagClosed:N}}var w=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function $(S,C){for(var O=d.getAllMatches(S,w),B={},N=0;N<O.length;N++){if(O[N][1].length===0)return b("InvalidAttr","Attribute '".concat(O[N][2],"' has no space in starting."),I(S,O[N][0]));if(O[N][3]===void 0&&!C.allowBooleanAttributes)return b("InvalidAttr","boolean attribute '".concat(O[N][2],"' is not allowed."),I(S,O[N][0]));var R=O[N][2];if(!M(R))return b("InvalidAttr","Attribute '".concat(R,"' is an invalid name."),I(S,O[N][0]));if(B.hasOwnProperty(R))return b("InvalidAttr","Attribute '".concat(R,"' is repeated."),I(S,O[N][0]));B[R]=1}return!0}function v(S,C){if(S[++C]===";")return-1;if(S[C]==="#")return function(B,N){var R=/\d/;for(B[N]==="x"&&(N++,R=/[\da-fA-F]/);N<B.length;N++){if(B[N]===";")return N;if(!B[N].match(R))break}return-1}(S,++C);for(var O=0;C<S.length;C++,O++)if(!(S[C].match(/\w/)&&O<20)){if(S[C]===";")break;return-1}return C}function b(S,C,O){return{err:{code:S,msg:C,line:O}}}function M(S){return d.isName(S)}function P(S,C){return S.substring(0,C).split(/\r?\n/).length}function I(S,C){return S.indexOf(C)+C.length}},function(o,u,f){var d=function(b){return String.fromCharCode(b)},m={nilChar:d(176),missingChar:d(201),nilPremitive:d(175),missingPremitive:d(200),emptyChar:d(178),emptyValue:d(177),boundryChar:d(179),objStart:d(198),arrStart:d(204),arrayEnd:d(185)},h=[m.nilChar,m.nilPremitive,m.missingChar,m.missingPremitive,m.boundryChar,m.emptyChar,m.emptyValue,m.arrayEnd,m.objStart,m.arrStart],g=function b(M,P,I){if(typeof P=="string")return M&&M[0]&&M[0].val!==void 0?y(M[0].val):y(M);var S,C=(S=M)===void 0?m.missingChar:S===null?m.nilChar:!(S.child&&Object.keys(S.child).length===0&&(!S.attrsMap||Object.keys(S.attrsMap).length===0))||m.emptyChar;if(C===!0){var O="";if(Array.isArray(P)){O+=m.arrStart;var B=P[0],N=M.length;if(typeof B=="string")for(var R=0;R<N;R++){var L=y(M[R].val);O=_(O,L)}else for(var z=0;z<N;z++){var Y=b(M[z],B,I);O=_(O,Y)}O+=m.arrayEnd}else{O+=m.objStart;var te=Object.keys(P);for(var K in Array.isArray(M)&&(M=M[0]),te){var Q=te[K],J=void 0;J=!I.ignoreAttributes&&M.attrsMap&&M.attrsMap[Q]?b(M.attrsMap[Q],P[Q],I):Q===I.textNodeName?b(M.val,P[Q],I):b(M.child[Q],P[Q],I),O=_(O,J)}}return O}return C},y=function(b){switch(b){case void 0:return m.missingPremitive;case null:return m.nilPremitive;case"":return m.emptyValue;default:return b}},_=function(b,M){return w(M[0])||w(b[b.length-1])||(b+=m.boundryChar),b+M},w=function(b){return h.indexOf(b)!==-1},$=f(15),v=f(7).buildOptions;u.convert2nimn=function(b,M,P){return P=v(P,$.defaultOptions,$.props),g(b,M,P)}},function(o,u,f){var d=f(7),m=f(7).buildOptions,h=f(15),g=function y(_,w,$){for(var v,b="{",M=Object.keys(_.child),P=0;P<M.length;P++){var I=M[P];if(_.child[I]&&_.child[I].length>1){for(var S in b+='"'+I+'" : [ ',_.child[I])b+=y(_.child[I][S],w)+" , ";b=b.substr(0,b.length-1)+" ] "}else b+='"'+I+'" : '+y(_.child[I][0],w)+" ,"}return d.merge(b,_.attrsMap),d.isEmptyObject(b)?d.isExist(_.val)?_.val:"":(d.isExist(_.val)&&(typeof _.val!="string"||_.val!==""&&_.val!==w.cdataPositionChar)&&(b+='"'+w.textNodeName+'" : '+((v=_.val)!==!0&&v!==!1&&isNaN(v)?'"'+v+'"':v)),b[b.length-1]===","&&(b=b.substr(0,b.length-2)),b+"}")};u.convertToJsonString=function(y,_){return(_=m(_,h.defaultOptions,h.props)).indentBy=_.indentBy||"",g(y,_)}},function(o,u,f){function d(C){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(C)}var m=f(7).buildOptions,h={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(C){return C},attrValueProcessor:function(C){return C}},g=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function y(C){this.options=m(C,h,g),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=I),this.options.cdataTagName?this.isCDATA=S:this.isCDATA=function(){return!1},this.replaceCDATAstr=_,this.replaceCDATAarr=w,this.options.format?(this.indentate=P,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=M,this.buildObjNode=v):(this.buildTextNode=b,this.buildObjNode=$),this.buildTextValNode=b,this.buildObjectNode=$}function _(C,O){return C=this.options.tagValueProcessor(""+C),this.options.cdataPositionChar===""||C===""?C+"<![CDATA["+O+"]]"+this.tagEndChar:C.replace(this.options.cdataPositionChar,"<![CDATA["+O+"]]"+this.tagEndChar)}function w(C,O){if(C=this.options.tagValueProcessor(""+C),this.options.cdataPositionChar===""||C==="")return C+"<![CDATA["+O.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var B in O)C=C.replace(this.options.cdataPositionChar,"<![CDATA["+O[B]+"]]>");return C+this.newLine}function $(C,O,B,N){return B&&!C.includes("<")?this.indentate(N)+"<"+O+B+">"+C+"</"+O+this.tagEndChar:this.indentate(N)+"<"+O+B+this.tagEndChar+C+this.indentate(N)+"</"+O+this.tagEndChar}function v(C,O,B,N){return C!==""?this.buildObjectNode(C,O,B,N):this.indentate(N)+"<"+O+B+"/"+this.tagEndChar}function b(C,O,B,N){return this.indentate(N)+"<"+O+B+">"+this.options.tagValueProcessor(C)+"</"+O+this.tagEndChar}function M(C,O,B,N){return C!==""?this.buildTextValNode(C,O,B,N):this.indentate(N)+"<"+O+B+"/"+this.tagEndChar}function P(C){return this.options.indentBy.repeat(C)}function I(C){return!!C.startsWith(this.options.attributeNamePrefix)&&C.substr(this.attrPrefixLen)}function S(C){return C===this.options.cdataTagName}y.prototype.parse=function(C){return this.j2x(C,0).val},y.prototype.j2x=function(C,O){for(var B="",N="",R=Object.keys(C),L=R.length,z=0;z<L;z++){var Y=R[z];if(C[Y]!==void 0)if(C[Y]===null)N+=this.indentate(O)+"<"+Y+"/"+this.tagEndChar;else if(C[Y]instanceof Date)N+=this.buildTextNode(C[Y],Y,"",O);else if(d(C[Y])!=="object"){var te=this.isAttribute(Y);te?B+=" "+te+'="'+this.options.attrValueProcessor(""+C[Y])+'"':this.isCDATA(Y)?C[this.options.textNodeName]?N+=this.replaceCDATAstr(C[this.options.textNodeName],C[Y]):N+=this.replaceCDATAstr("",C[Y]):Y===this.options.textNodeName?C[this.options.cdataTagName]||(N+=this.options.tagValueProcessor(""+C[Y])):N+=this.buildTextNode(C[Y],Y,"",O)}else if(Array.isArray(C[Y]))if(this.isCDATA(Y))N+=this.indentate(O),C[this.options.textNodeName]?N+=this.replaceCDATAarr(C[this.options.textNodeName],C[Y]):N+=this.replaceCDATAarr("",C[Y]);else for(var K=C[Y].length,Q=0;Q<K;Q++){var J=C[Y][Q];if(J!==void 0)if(J===null)N+=this.indentate(O)+"<"+Y+"/"+this.tagEndChar;else if(d(J)==="object"){var Z=this.j2x(J,O+1);N+=this.buildObjNode(Z.val,Y,Z.attrStr,O)}else N+=this.buildTextNode(J,Y,"",O)}else if(this.options.attrNodeName&&Y===this.options.attrNodeName)for(var ne=Object.keys(C[Y]),q=ne.length,H=0;H<q;H++)B+=" "+ne[H]+'="'+this.options.attrValueProcessor(""+C[Y][ne[H]])+'"';else{var re=this.j2x(C[Y],O+1);N+=this.buildObjNode(re.val,Y,re.attrStr,O)}}return{attrStr:B,val:N}},o.exports=y},function(o,u,f){var d=Object.prototype.hasOwnProperty,m="~";function h(){}function g($,v,b){this.fn=$,this.context=v,this.once=b||!1}function y($,v,b,M,P){if(typeof b!="function")throw new TypeError("The listener must be a function");var I=new g(b,M||$,P),S=m?m+v:v;return $._events[S]?$._events[S].fn?$._events[S]=[$._events[S],I]:$._events[S].push(I):($._events[S]=I,$._eventsCount++),$}function _($,v){--$._eventsCount==0?$._events=new h:delete $._events[v]}function w(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(m=!1)),w.prototype.eventNames=function(){var $,v,b=[];if(this._eventsCount===0)return b;for(v in $=this._events)d.call($,v)&&b.push(m?v.slice(1):v);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols($)):b},w.prototype.listeners=function($){var v=m?m+$:$,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var M=0,P=b.length,I=new Array(P);M<P;M++)I[M]=b[M].fn;return I},w.prototype.listenerCount=function($){var v=m?m+$:$,b=this._events[v];return b?b.fn?1:b.length:0},w.prototype.emit=function($,v,b,M,P,I){var S=m?m+$:$;if(!this._events[S])return!1;var C,O,B=this._events[S],N=arguments.length;if(B.fn){switch(B.once&&this.removeListener($,B.fn,void 0,!0),N){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,v),!0;case 3:return B.fn.call(B.context,v,b),!0;case 4:return B.fn.call(B.context,v,b,M),!0;case 5:return B.fn.call(B.context,v,b,M,P),!0;case 6:return B.fn.call(B.context,v,b,M,P,I),!0}for(O=1,C=new Array(N-1);O<N;O++)C[O-1]=arguments[O];B.fn.apply(B.context,C)}else{var R,L=B.length;for(O=0;O<L;O++)switch(B[O].once&&this.removeListener($,B[O].fn,void 0,!0),N){case 1:B[O].fn.call(B[O].context);break;case 2:B[O].fn.call(B[O].context,v);break;case 3:B[O].fn.call(B[O].context,v,b);break;case 4:B[O].fn.call(B[O].context,v,b,M);break;default:if(!C)for(R=1,C=new Array(N-1);R<N;R++)C[R-1]=arguments[R];B[O].fn.apply(B[O].context,C)}}return!0},w.prototype.on=function($,v,b){return y(this,$,v,b,!1)},w.prototype.once=function($,v,b){return y(this,$,v,b,!0)},w.prototype.removeListener=function($,v,b,M){var P=m?m+$:$;if(!this._events[P])return this;if(!v)return _(this,P),this;var I=this._events[P];if(I.fn)I.fn!==v||M&&!I.once||b&&I.context!==b||_(this,P);else{for(var S=0,C=[],O=I.length;S<O;S++)(I[S].fn!==v||M&&!I[S].once||b&&I[S].context!==b)&&C.push(I[S]);C.length?this._events[P]=C.length===1?C[0]:C:_(this,P)}return this},w.prototype.removeAllListeners=function($){var v;return $?(v=m?m+$:$,this._events[v]&&_(this,v)):(this._events=new h,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=m,w.EventEmitter=w,o.exports=w},function(o,u){o.exports=function(f){if(!f.webpackPolyfill){var d=Object.create(f);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(o,u,f){function d(U){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}f.r(u),f.d(u,"Filestack",function(){return Nr}),f.d(u,"init",function(){return qi}),f.d(u,"version",function(){return ci}),f.d(u,"EAlignOptions",function(){return ge}),f.d(u,"EAlignFacesOptions",function(){return Ee}),f.d(u,"EFitOptions",function(){return He}),f.d(u,"EBlurMode",function(){return dt}),f.d(u,"EShapeType",function(){return Tt}),f.d(u,"ENoiseType",function(){return zt}),f.d(u,"EStyleType",function(){return Lt}),f.d(u,"EColorspaceType",function(){return Ft}),f.d(u,"ECropfacesType",function(){return Zt}),f.d(u,"ESmartCropMode",function(){return sn}),f.d(u,"EImageWatermarkPosition",function(){return Vn}),f.d(u,"EVideoTypes",function(){return fn}),f.d(u,"EUrlscreenshotAgent",function(){return dn}),f.d(u,"EUrlscreenshotMode",function(){return gt}),f.d(u,"EUrlscreenshotOrientation",function(){return wt}),f.d(u,"EVideoLocations",function(){return jt}),f.d(u,"EVideoAccess",function(){return tn}),f.d(u,"EVideoAccessMode",function(){return mn}),f.d(u,"transform",function(){return Tn}),f.d(u,"Align",function(){return Ze}),f.d(u,"FitOptions",function(){return rt}),f.d(u,"BlurMode",function(){return Ue}),f.d(u,"ShapeType",function(){return et}),f.d(u,"NoiseType",function(){return Te}),f.d(u,"StyleType",function(){return Ve}),f.d(u,"ColorspaceType",function(){return ot}),f.d(u,"CropfacesType",function(){return Ye}),f.d(u,"ImageWatermarkPosition",function(){return Le}),f.d(u,"SmartCropMode",function(){return at}),f.d(u,"VideoTypes",function(){return qe}),f.d(u,"URLScreenshotAgent",function(){return nt}),f.d(u,"URLScreenshotMode",function(){return it}),f.d(u,"URLScreenshotOrientation",function(){return ft}),f.d(u,"Locations",function(){return ht}),f.d(u,"VideoAccess",function(){return Mt}),f.d(u,"VideoAccessMode",function(){return Bt}),f.d(u,"EnhancePreset",function(){return Ke}),f.d(u,"Filelink",function(){return Rt}),f.d(u,"FilestackErrorType",function(){return le}),f.d(u,"FsHttpMethod",function(){return Je.a}),f.d(u,"FsRequest",function(){return kt}),f.d(u,"FsRequestErrorCode",function(){return Wn.b}),f.d(u,"FsRequestError",function(){return Wn.a}),f.d(u,"FsCancelToken",function(){return Fn}),f.d(u,"resolveCdnUrl",function(){return ve.resolveCdnUrl}),f.d(u,"resolveHost",function(){return ve.resolveHost}),f.d(u,"removeEmpty",function(){return ve.removeEmpty}),f.d(u,"uniqueTime",function(){return ve.uniqueTime}),f.d(u,"uniqueId",function(){return ve.uniqueId}),f.d(u,"extensionToMime",function(){return ve.extensionToMime}),f.d(u,"sanitizeName",function(){return ve.sanitizeName}),f.d(u,"filterObject",function(){return ve.filterObject}),f.d(u,"cleanUpCallbacks",function(){return ve.cleanUpCallbacks}),f.d(u,"md5",function(){return ve.md5}),f.d(u,"b64",function(){return ve.b64}),f.d(u,"getVersion",function(){return ve.getVersion}),f.d(u,"isMobile",function(){return ve.isMobile}),f.d(u,"isFacebook",function(){return ve.isFacebook}),f.d(u,"TransformSchema",function(){return _e}),f.d(u,"getSecurity",function(){return w}),f.d(u,"validateWebhookSignature",function(){return $}),f.d(u,"Client",function(){return mr}),f.d(u,"FilestackError",function(){return fe}),f.d(u,"PickerDisplayMode",function(){return dr}),f.d(u,"getMimetype",function(){return ve.getMimetype}),f.d(u,"PrefetchEvents",function(){return pr});var m,h=function(U){var D={};function V(X){if(D[X])return D[X].exports;var ae=D[X]={i:X,l:!1,exports:{}};return U[X].call(ae.exports,ae,ae.exports,V),ae.l=!0,ae.exports}return V.m=U,V.c=D,V.d=function(X,ae,ce){V.o(X,ae)||Object.defineProperty(X,ae,{enumerable:!0,get:ce})},V.r=function(X){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})},V.t=function(X,ae){if(1&ae&&(X=V(X)),8&ae||4&ae&&d(X)=="object"&&X&&X.__esModule)return X;var ce=Object.create(null);if(V.r(ce),Object.defineProperty(ce,"default",{enumerable:!0,value:X}),2&ae&&typeof X!="string")for(var de in X)V.d(ce,de,function(we){return X[we]}.bind(null,de));return ce},V.n=function(X){var ae=X&&X.__esModule?function(){return X.default}:function(){return X};return V.d(ae,"a",ae),ae},V.o=function(X,ae){return Object.prototype.hasOwnProperty.call(X,ae)},V.p="",V(V.s=0)}([function(U,D,V){V.r(D),V.d(D,"loadModules",function(){return je}),V.d(D,"loadModule",function(){return Be}),V.d(D,"registerModule",function(){return Ce}),V.d(D,"loadCss",function(){return tt}),V.d(D,"FILESTACK_MODULES",function(){return X});var X,ae={},ce=function(){var De,ut=(De=typeof window>"u"?ae:window).filestackInternals;return ut||(ut={modules:{}},De.filestackInternals=ut),ut.modules||(ut.modules={}),ut}(),de=ce&&ce.modules,we=function(De,ut,_t){De.detachEvent?De.detachEvent("onreadystatechange",ut):De.removeEventListener(_t,ut,!1)},je=function(De){return Promise.all(De.map(function(ut){var _t=ut.id,qt=ut.url;return Be(_t,qt)})).then(function(ut){var _t={};return ut.forEach(function(qt,pn){var Xt=De[pn];_t[Xt.id]=qt}),_t})},Be=function(De,ut){if(typeof window>"u")return Promise.reject(new Error("Load module is working only on browser env"));if(!De)throw new Error("Module id is required");var _t=de[De="fs-loader-"+De];return _t||(de[De]={},_t=de[De]),_t.instance?Promise.resolve(_t.instance):_t.promise?_t.promise:_t.promise=new Promise(function(qt,pn){var Xt=function Nn(gn){if(gn.type==="load"||/^(complete|loaded)$/.test((gn.currentTarget||gn.srcElement).readyState)){var Dn=gn.currentTarget||gn.srcElement;we(Dn,Nn,"load"),we(Dn,pn,"error"),setTimeout(function(){return qt(de[De]?de[De].instance:void 0)},10)}},Ht=document.createElement("script");Ht.id=De,!Ht.attachEvent||Ht.attachEvent.toString&&Ht.attachEvent.toString().indexOf("[native code")<0?(Ht.addEventListener("load",Xt,!1),Ht.addEventListener("onerror",pn,!1)):Ht.attachEvent("onreadystatechange",Xt),Ht.setAttribute("crossorigin","anonymous"),Ht.setAttribute("charset","utf-8"),Ht.setAttribute("async","true"),Ht.src=ut,document.body.appendChild(Ht)})},Ce=function(De,ut,_t){if(typeof window<"u"){if(!De)throw new Error("Module id is required");if(!de)throw new Error("Loader is not initialized");de[De="fs-loader-"+De]&&(de[De]={instance:ut,metadata:_t})}},tt=function(De){return document.querySelector('link[href="'.concat(De,'"]'))!==null?Promise.resolve():new Promise(function(ut){var _t=document.getElementsByTagName("head")[0],qt=document.createElement("link");qt.rel="stylesheet",qt.href=De,qt.addEventListener("load",function pn(){ut(),qt.removeEventListener("load",pn)}),_t.appendChild(qt)})};(function(De){De.FILESTACK_SDK="filestack-sdk",De.TRANSFORMS_UI="transforms-ui",De.PICKER="picker"})(X||(X={}))}]),g=(h.loadModules,h.loadModule),y=h.registerModule,_=(h.loadCss,h.FILESTACK_MODULES),w=function(U,D){throw new Error("getSecurity is only supported in nodejs")},$=function(U,D,V){throw new Error("validateWebhookSignature is only supported in nodejs")},v=f(0),b=f(8);(function(U){U.Ok="ok",U.Exited="exited",U.Crashed="crashed",U.Abnormal="abnormal"})(m||(m={}));var M=f(9),P=f(54),I=Object(M.b)(),S="Sentry Logger ",C=function(){function U(){this._enabled=!1}return U.prototype.disable=function(){this._enabled=!1},U.prototype.enable=function(){this._enabled=!0},U.prototype.log=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object(M.a)(function(){I.console.log(S+"[Log]: "+D.join(" "))})},U.prototype.warn=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object(M.a)(function(){I.console.warn(S+"[Warn]: "+D.join(" "))})},U.prototype.error=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];this._enabled&&Object(M.a)(function(){I.console.error(S+"[Error]: "+D.join(" "))})},U}();I.__SENTRY__=I.__SENTRY__||{};var O,B=I.__SENTRY__.logger||(I.__SENTRY__.logger=new C),N=f(13),R=f(4);(function(U){U.PENDING="PENDING",U.RESOLVED="RESOLVED",U.REJECTED="REJECTED"})(O||(O={}));var L=function(){function U(D){var V=this;this._state=O.PENDING,this._handlers=[],this._resolve=function(X){V._setResult(O.RESOLVED,X)},this._reject=function(X){V._setResult(O.REJECTED,X)},this._setResult=function(X,ae){V._state===O.PENDING&&(Object(R.j)(ae)?ae.then(V._resolve,V._reject):(V._state=X,V._value=ae,V._executeHandlers()))},this._attachHandler=function(X){V._handlers=V._handlers.concat(X),V._executeHandlers()},this._executeHandlers=function(){if(V._state!==O.PENDING){var X=V._handlers.slice();V._handlers=[],X.forEach(function(ae){ae.done||(V._state===O.RESOLVED&&ae.onfulfilled&&ae.onfulfilled(V._value),V._state===O.REJECTED&&ae.onrejected&&ae.onrejected(V._value),ae.done=!0)})}};try{D(this._resolve,this._reject)}catch(X){this._reject(X)}}return U.resolve=function(D){return new U(function(V){V(D)})},U.reject=function(D){return new U(function(V,X){X(D)})},U.all=function(D){return new U(function(V,X){if(Array.isArray(D))if(D.length!==0){var ae=D.length,ce=[];D.forEach(function(de,we){U.resolve(de).then(function(je){ce[we]=je,(ae-=1)===0&&V(ce)}).then(null,X)})}else V([]);else X(new TypeError("Promise.all requires an array as input."))})},U.prototype.then=function(D,V){var X=this;return new U(function(ae,ce){X._attachHandler({done:!1,onfulfilled:function(de){if(D)try{return void ae(D(de))}catch(we){return void ce(we)}else ae(de)},onrejected:function(de){if(V)try{return void ae(V(de))}catch(we){return void ce(we)}else ce(de)}})})},U.prototype.catch=function(D){return this.then(function(V){return V},D)},U.prototype.finally=function(D){var V=this;return new U(function(X,ae){var ce,de;return V.then(function(we){de=!1,ce=we,D&&D()},function(we){de=!0,ce=we,D&&D()}).then(function(){de?ae(ce):X(ce)})})},U.prototype.toString=function(){return"[object SyncPromise]"},U}(),z=function(){function U(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return U.clone=function(D){var V=new U;return D&&(V._breadcrumbs=Object(v.e)(D._breadcrumbs),V._tags=Object(v.a)({},D._tags),V._extra=Object(v.a)({},D._extra),V._contexts=Object(v.a)({},D._contexts),V._user=D._user,V._level=D._level,V._span=D._span,V._session=D._session,V._transactionName=D._transactionName,V._fingerprint=D._fingerprint,V._eventProcessors=Object(v.e)(D._eventProcessors)),V},U.prototype.addScopeListener=function(D){this._scopeListeners.push(D)},U.prototype.addEventProcessor=function(D){return this._eventProcessors.push(D),this},U.prototype.setUser=function(D){return this._user=D||{},this._session&&this._session.update({user:D}),this._notifyScopeListeners(),this},U.prototype.getUser=function(){return this._user},U.prototype.setTags=function(D){return this._tags=Object(v.a)(Object(v.a)({},this._tags),D),this._notifyScopeListeners(),this},U.prototype.setTag=function(D,V){var X;return this._tags=Object(v.a)(Object(v.a)({},this._tags),((X={})[D]=V,X)),this._notifyScopeListeners(),this},U.prototype.setExtras=function(D){return this._extra=Object(v.a)(Object(v.a)({},this._extra),D),this._notifyScopeListeners(),this},U.prototype.setExtra=function(D,V){var X;return this._extra=Object(v.a)(Object(v.a)({},this._extra),((X={})[D]=V,X)),this._notifyScopeListeners(),this},U.prototype.setFingerprint=function(D){return this._fingerprint=D,this._notifyScopeListeners(),this},U.prototype.setLevel=function(D){return this._level=D,this._notifyScopeListeners(),this},U.prototype.setTransactionName=function(D){return this._transactionName=D,this._notifyScopeListeners(),this},U.prototype.setTransaction=function(D){return this.setTransactionName(D)},U.prototype.setContext=function(D,V){var X;return V===null?delete this._contexts[D]:this._contexts=Object(v.a)(Object(v.a)({},this._contexts),((X={})[D]=V,X)),this._notifyScopeListeners(),this},U.prototype.setSpan=function(D){return this._span=D,this._notifyScopeListeners(),this},U.prototype.getSpan=function(){return this._span},U.prototype.getTransaction=function(){var D,V,X,ae,ce=this.getSpan();return!((D=ce)===null||D===void 0)&&D.transaction?(V=ce)===null||V===void 0?void 0:V.transaction:!((ae=(X=ce)===null||X===void 0?void 0:X.spanRecorder)===null||ae===void 0)&&ae.spans[0]?ce.spanRecorder.spans[0]:void 0},U.prototype.setSession=function(D){return D?this._session=D:delete this._session,this._notifyScopeListeners(),this},U.prototype.getSession=function(){return this._session},U.prototype.update=function(D){if(!D)return this;if(typeof D=="function"){var V=D(this);return V instanceof U?V:this}return D instanceof U?(this._tags=Object(v.a)(Object(v.a)({},this._tags),D._tags),this._extra=Object(v.a)(Object(v.a)({},this._extra),D._extra),this._contexts=Object(v.a)(Object(v.a)({},this._contexts),D._contexts),D._user&&Object.keys(D._user).length&&(this._user=D._user),D._level&&(this._level=D._level),D._fingerprint&&(this._fingerprint=D._fingerprint)):Object(R.e)(D)&&(D=D,this._tags=Object(v.a)(Object(v.a)({},this._tags),D.tags),this._extra=Object(v.a)(Object(v.a)({},this._extra),D.extra),this._contexts=Object(v.a)(Object(v.a)({},this._contexts),D.contexts),D.user&&(this._user=D.user),D.level&&(this._level=D.level),D.fingerprint&&(this._fingerprint=D.fingerprint)),this},U.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},U.prototype.addBreadcrumb=function(D,V){var X=Object(v.a)({timestamp:Object(P.a)()},D);return this._breadcrumbs=V!==void 0&&V>=0?Object(v.e)(this._breadcrumbs,[X]).slice(-V):Object(v.e)(this._breadcrumbs,[X]),this._notifyScopeListeners(),this},U.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},U.prototype.applyToEvent=function(D,V){var X;if(this._extra&&Object.keys(this._extra).length&&(D.extra=Object(v.a)(Object(v.a)({},this._extra),D.extra)),this._tags&&Object.keys(this._tags).length&&(D.tags=Object(v.a)(Object(v.a)({},this._tags),D.tags)),this._user&&Object.keys(this._user).length&&(D.user=Object(v.a)(Object(v.a)({},this._user),D.user)),this._contexts&&Object.keys(this._contexts).length&&(D.contexts=Object(v.a)(Object(v.a)({},this._contexts),D.contexts)),this._level&&(D.level=this._level),this._transactionName&&(D.transaction=this._transactionName),this._span){D.contexts=Object(v.a)({trace:this._span.getTraceContext()},D.contexts);var ae=(X=this._span.transaction)===null||X===void 0?void 0:X.name;ae&&(D.tags=Object(v.a)({transaction:ae},D.tags))}return this._applyFingerprint(D),D.breadcrumbs=Object(v.e)(D.breadcrumbs||[],this._breadcrumbs),D.breadcrumbs=D.breadcrumbs.length>0?D.breadcrumbs:void 0,this._notifyEventProcessors(Object(v.e)(Y(),this._eventProcessors),D,V)},U.prototype._notifyEventProcessors=function(D,V,X,ae){var ce=this;return ae===void 0&&(ae=0),new L(function(de,we){var je=D[ae];if(V===null||typeof je!="function")de(V);else{var Be=je(Object(v.a)({},V),X);Object(R.j)(Be)?Be.then(function(Ce){return ce._notifyEventProcessors(D,Ce,X,ae+1).then(de)}).then(null,we):ce._notifyEventProcessors(D,Be,X,ae+1).then(de).then(null,we)}})},U.prototype._notifyScopeListeners=function(){var D=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(V){V(D)}),this._notifyingListeners=!1)},U.prototype._applyFingerprint=function(D){D.fingerprint=D.fingerprint?Array.isArray(D.fingerprint)?D.fingerprint:[D.fingerprint]:[],this._fingerprint&&(D.fingerprint=D.fingerprint.concat(this._fingerprint)),D.fingerprint&&!D.fingerprint.length&&delete D.fingerprint},U}();function Y(){var U=Object(M.b)();return U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.globalEventProcessors=U.__SENTRY__.globalEventProcessors||[],U.__SENTRY__.globalEventProcessors}var te=f(55),K=function(){function U(D){this.errors=0,this.sid=Object(M.c)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=m.Ok,this.init=!0,D&&this.update(D)}return U.prototype.update=function(D){D===void 0&&(D={}),D.user&&(D.user.ip_address&&(this.ipAddress=D.user.ip_address),D.did||(this.did=D.user.id||D.user.email||D.user.username)),this.timestamp=D.timestamp||Date.now(),D.sid&&(this.sid=D.sid.length===32?D.sid:Object(M.c)()),D.init!==void 0&&(this.init=D.init),D.did&&(this.did=""+D.did),typeof D.started=="number"&&(this.started=D.started),typeof D.duration=="number"?this.duration=D.duration:this.duration=this.timestamp-this.started,D.release&&(this.release=D.release),D.environment&&(this.environment=D.environment),D.ipAddress&&(this.ipAddress=D.ipAddress),D.userAgent&&(this.userAgent=D.userAgent),typeof D.errors=="number"&&(this.errors=D.errors),D.status&&(this.status=D.status)},U.prototype.close=function(D){D?this.update({status:D}):this.status===m.Ok?this.update({status:m.Exited}):this.update()},U.prototype.toJSON=function(){return Object(te.a)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Object(te.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},U}(),Q=function(){function U(D,V,X){V===void 0&&(V=new z),X===void 0&&(X=3),this._version=X,this._stack=[{}],this.getStackTop().scope=V,this.bindClient(D)}return U.prototype.isOlderThan=function(D){return this._version<D},U.prototype.bindClient=function(D){this.getStackTop().client=D,D&&D.setupIntegrations&&D.setupIntegrations()},U.prototype.pushScope=function(){var D=z.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:D}),D},U.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},U.prototype.withScope=function(D){var V=this.pushScope();try{D(V)}finally{this.popScope()}},U.prototype.getClient=function(){return this.getStackTop().client},U.prototype.getScope=function(){return this.getStackTop().scope},U.prototype.getStack=function(){return this._stack},U.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},U.prototype.captureException=function(D,V){var X=this._lastEventId=Object(M.c)(),ae=V;if(!V){var ce=void 0;try{throw new Error("Sentry syntheticException")}catch(de){ce=de}ae={originalException:D,syntheticException:ce}}return this._invokeClient("captureException",D,Object(v.a)(Object(v.a)({},ae),{event_id:X})),X},U.prototype.captureMessage=function(D,V,X){var ae=this._lastEventId=Object(M.c)(),ce=X;if(!X){var de=void 0;try{throw new Error(D)}catch(we){de=we}ce={originalException:D,syntheticException:de}}return this._invokeClient("captureMessage",D,V,Object(v.a)(Object(v.a)({},ce),{event_id:ae})),ae},U.prototype.captureEvent=function(D,V){var X=this._lastEventId=Object(M.c)();return this._invokeClient("captureEvent",D,Object(v.a)(Object(v.a)({},V),{event_id:X})),X},U.prototype.lastEventId=function(){return this._lastEventId},U.prototype.addBreadcrumb=function(D,V){var X=this.getStackTop(),ae=X.scope,ce=X.client;if(ae&&ce){var de=ce.getOptions&&ce.getOptions()||{},we=de.beforeBreadcrumb,je=we===void 0?null:we,Be=de.maxBreadcrumbs,Ce=Be===void 0?100:Be;if(!(Ce<=0)){var tt=Object(P.a)(),De=Object(v.a)({timestamp:tt},D),ut=je?Object(M.a)(function(){return je(De,V)}):De;ut!==null&&ae.addBreadcrumb(ut,Math.min(Ce,100))}}},U.prototype.setUser=function(D){var V=this.getScope();V&&V.setUser(D)},U.prototype.setTags=function(D){var V=this.getScope();V&&V.setTags(D)},U.prototype.setExtras=function(D){var V=this.getScope();V&&V.setExtras(D)},U.prototype.setTag=function(D,V){var X=this.getScope();X&&X.setTag(D,V)},U.prototype.setExtra=function(D,V){var X=this.getScope();X&&X.setExtra(D,V)},U.prototype.setContext=function(D,V){var X=this.getScope();X&&X.setContext(D,V)},U.prototype.configureScope=function(D){var V=this.getStackTop(),X=V.scope,ae=V.client;X&&ae&&D(X)},U.prototype.run=function(D){var V=Z(this);try{D(this)}finally{Z(V)}},U.prototype.getIntegration=function(D){var V=this.getClient();if(!V)return null;try{return V.getIntegration(D)}catch{return B.warn("Cannot retrieve integration "+D.id+" from the current Hub"),null}},U.prototype.startSpan=function(D){return this._callExtensionMethod("startSpan",D)},U.prototype.startTransaction=function(D,V){return this._callExtensionMethod("startTransaction",D,V)},U.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},U.prototype.captureSession=function(D){if(D===void 0&&(D=!1),D)return this.endSession();this._sendSessionUpdate()},U.prototype.endSession=function(){var D,V,X,ae,ce;(X=(V=(D=this.getStackTop())===null||D===void 0?void 0:D.scope)===null||V===void 0?void 0:V.getSession())===null||X===void 0||X.close(),this._sendSessionUpdate(),(ce=(ae=this.getStackTop())===null||ae===void 0?void 0:ae.scope)===null||ce===void 0||ce.setSession()},U.prototype.startSession=function(D){var V=this.getStackTop(),X=V.scope,ae=V.client,ce=ae&&ae.getOptions()||{},de=ce.release,we=ce.environment,je=new K(Object(v.a)(Object(v.a)({release:de,environment:we},X&&{user:X.getUser()}),D));if(X){var Be=X.getSession&&X.getSession();Be&&Be.status===m.Ok&&Be.update({status:m.Exited}),this.endSession(),X.setSession(je)}return je},U.prototype._sendSessionUpdate=function(){var D=this.getStackTop(),V=D.scope,X=D.client;if(V){var ae=V.getSession&&V.getSession();ae&&X&&X.captureSession&&X.captureSession(ae)}},U.prototype._invokeClient=function(D){for(var V,X=[],ae=1;ae<arguments.length;ae++)X[ae-1]=arguments[ae];var ce=this.getStackTop(),de=ce.scope,we=ce.client;we&&we[D]&&(V=we)[D].apply(V,Object(v.e)(X,[de]))},U.prototype._callExtensionMethod=function(D){for(var V=[],X=1;X<arguments.length;X++)V[X-1]=arguments[X];var ae=J(),ce=ae.__SENTRY__;if(ce&&ce.extensions&&typeof ce.extensions[D]=="function")return ce.extensions[D].apply(this,V);B.warn("Extension method "+D+" couldn't be found, doing nothing.")},U}();function J(){var U=Object(M.b)();return U.__SENTRY__=U.__SENTRY__||{extensions:{},hub:void 0},U}function Z(U){var D=J(),V=H(D);return re(D,U),V}function ne(){var U=J();return q(U)&&!H(U).isOlderThan(3)||re(U,new Q),Object(N.b)()?function(D){var V,X,ae;try{var ce=(ae=(X=(V=J().__SENTRY__)===null||V===void 0?void 0:V.extensions)===null||X===void 0?void 0:X.domain)===null||ae===void 0?void 0:ae.active;if(!ce)return H(D);if(!q(ce)||H(ce).isOlderThan(3)){var de=H(D).getStackTop();re(ce,new Q(de.client,z.clone(de.scope)))}return H(ce)}catch{return H(D)}}(U):H(U)}function q(U){return!!(U&&U.__SENTRY__&&U.__SENTRY__.hub)}function H(U){return U&&U.__SENTRY__&&U.__SENTRY__.hub||(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=new Q),U.__SENTRY__.hub}function re(U,D){return!!U&&(U.__SENTRY__=U.__SENTRY__||{},U.__SENTRY__.hub=D,!0)}function ie(U){for(var D=[],V=1;V<arguments.length;V++)D[V-1]=arguments[V];var X=ne();if(X&&X[U])return X[U].apply(X,Object(v.e)(D));throw new Error("No hub defined or "+U+" was not found on the hub, please open a bug report.")}function G(U,D){var V;try{throw new Error("Sentry syntheticException")}catch(X){V=X}return ie("captureException",U,{captureContext:D,originalException:U,syntheticException:V})}function ue(U){ie("withScope",U)}var le,he={urls:{processUrl:"https://process.filestackapi.com",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/1.23.0/picker.js"}};(function(U){U.VALIDATION="validation",U.REQUEST="request",U.ABORTED="aborted",U.OTHER="other"})(le||(le={}));var fe=function(U){function D(V,X,ae){var ce=U.call(this,V)||this;return Object.setPrototypeOf(ce,D.prototype),ce.details=X,ce.type=ae,ce}return Object(v.c)(D,U),D}(Error),_e={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,properties:{flip:{type:"boolean",additionalProperties:!1},auto_image:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enhance:{default:!0,oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{preset:{type:"string",enum:["auto","vivid","beautify","beautify_plus","fix_dark","fix_noise","fix_tint","outdoor","fireworks"]}}}]},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},smart_crop:{width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",default:"auto",enum:["face","auto"]}},animate:{type:"object",properties:{delay:{type:"integer",minimum:0,maximum:1e4,default:1e3},loop:{type:"integer",minimum:0,maximum:1e3,default:0},width:{type:"integer",minimum:1,maximum:1800},height:{type:"integer",minimum:1,maximum:1800},fit:{type:"string",default:"clip",enum:["clip","scale","crop"]},background:{$ref:"colorDef",default:"transparent"},align:{$ref:"positionDef",default:"center"}}},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",enum:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"colorDef",default:"snow"},background:{$ref:"colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"colorDef"},background:{$ref:"colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"colorDef"},background:{$ref:"colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},ascii:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"colorDef",default:"000000FF"},background:{$ref:"colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"colorDef"},pageformat:{type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:4096},height:{type:"integer",minimum:1,maximum:4096},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]},pdfinfo:{oneOf:[{type:"boolean"},{type:"object",properties:{colorinfo:{type:"boolean"}}}]},pdfconvert:{type:"object",additionalProperties:!1,properties:{pageorientation:{type:"string",enum:["portrait","landscape"]},pageformat:{$ref:"pageFormatDef"},pages:{$ref:"pageRangeDef"}},anyOf:[{required:["pageorientation"]},{required:["pageformat"]},{required:["pages"]}]},fallback:{type:"object",additionalProperties:!1,properties:{handle:{type:"string"},cache:{type:"integer",minimum:1,maximum:31536e3}},required:["handle"]},zip:{type:"string"},minify_css:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},level:{type:"number",enum:[1,2]}}},minify_js:{type:"object",additionalProperties:!1,properties:{gzip:{type:"boolean"},use_babel_polyfill:{type:"boolean"},keep_fn_name:{type:"boolean"},keep_class_name:{type:"boolean"},mangle:{type:"boolean"},merge_vars:{type:"boolean"},remove_console:{type:"boolean"},remove_undefined:{type:"boolean"},targets:{type:"string"}}}}},Ie=f(18),be={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack",description:"Filestack common definitions",type:"object",additionalProperties:!1,definitions:{workflowsDef:{id:"/workflowsDef",type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}]},securityCallDef:{id:"/securityCallDef",oneOf:[{additionalProperties:!1,type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},{type:"array",additionalProperties:!1,items:[{minItems:1,maxItems:10,type:"string",additionalProperties:!1,enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]}]}]},regionsDef:{id:"/regionsDef",type:"string"},locationsDef:{id:"/locationsDef",type:"string",enum:["s3","S3","rackspace","gcs","azure","dropbox"]},colorDef:{id:"colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent"]}]},pageFormatDef:{id:"/pageFormatDef",type:"string",enum:["a2","a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageRangeDef:{id:"/pageRangeDef",type:"array",uniqueItems:!0,items:[{oneOf:[{type:"integer",minimum:1},{type:"string",pattern:"^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$",errorMessage:'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" '}]}]},facesDef:{id:"/facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{id:"/objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{id:"/positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right","faces"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,maxItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}}},Ne=new Ie.Validator;Ie.Validator.prototype.customFormats.callback=function(U){return typeof U=="function"},Ie.Validator.prototype.customFormats.HTMLContainer=function(U){return typeof U=="string"||U.toString&&U.toString().indexOf("HTML")>-1};var pe=function(U){return function(D){return Ne.addSchema(be),Ne.validate(D,U)}},ve=f(1),Re=f(3),Ge=f.n(Re);function ke(U){return(ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var Ze,rt,Ue,et,Te,Ve,ot,Ye,Le,at,qe,nt,it,ft,ht,Mt,Bt,Ke,St=Ge()("fs:filelink");(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces",U.middle="middle"})(Ze||(Ze={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(rt||(rt={})),function(U){U.linear="linear",U.gaussian="gaussian"}(Ue||(Ue={})),function(U){U.oval="oval",U.rect="rect"}(et||(et={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(Te||(Te={})),function(U){U.artwork="artwork",U.photo="photo"}(Ve||(Ve={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(ot||(ot={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(Ye||(Ye={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(Le||(Le={})),function(U){U.face="face",U.auto="auto"}(at||(at={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(qe||(qe={})),function(U){U.desktop="desktop",U.mobile="mobile"}(nt||(nt={})),function(U){U.all="all",U.window="window"}(it||(it={})),function(U){U.portrait="portrait",U.landscape="landscape"}(ft||(ft={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(ht||(ht={})),function(U){U.private="private",U.public="public"}(Mt||(Mt={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(Bt||(Bt={})),function(U){U.auto="auto",U.vivid="vivid",U.beautify="beautify",U.beautifyPlus="beautify_plus",U.fixDark="fix_dark",U.fixNoise="fix_noise",U.fixTint="fix_tint",U.outdor="outdoor",U.fireworks="fireworks"}(Ke||(Ke={}));var pt=/^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/,Rt=function(){function U(D,V){this.transforms=[],this.b64=!1,this.useValidator=!0,this.arrayToObject=function(X,ae,ce){return X===void 0&&(X=[]),X.reduce(function(de,we){return de[we[ae]]=we[ce],de},{})},this.apikey=V,this.setSource(D)}return U.prototype.setBase64=function(D){return this.b64=D,this},U.prototype.setUseValidator=function(D){return this.useValidator=D,this},U.prototype.setCname=function(D){return this.cname=D,this},U.prototype.setCustomDomain=function(D){return this.customDomain=D,this},U.prototype.setSource=function(D){this.source=D;var V=this.isSourceExternal();if(St("Source "+D+" - isExternal? "+V),V&&!this.apikey)throw new fe("External sources requires apikey to handle transforms");if(!V&&typeof this.source=="string"&&!pt.test(this.source)&&this.source.indexOf("filestackcontent")===-1)throw new fe("Invalid filestack source provided")},U.prototype.getValidationSchema=function(){return _e},U.prototype.getTransformations=function(){return this.useValidator&&this.validateTasks(this.transforms),this.transforms},U.prototype.toString=function(){var D=[];D.push(this.getCdnHost()),this.useValidator&&this.validateTasks(this.transforms),this.apikey&&D.push(this.apikey);var V=this.generateTransformString(),X=this.source;return this.b64?(this.transforms.length>0&&(V="b64/"+Object(ve.b64)(JSON.stringify(this.transforms),!0)),Array.isArray(X)&&(X=this.arrayToString(X)),X="b64://"+Object(ve.b64)(X,!0)):X=Array.isArray(X)?this.arrayToString(X):this.escapeValue(X),V.length&&D.push(V),D.push(X),D.join("/")},U.prototype.addTask=function(D,V){if(Ge()("Add task  "+D+" with params %O",V),D!=="cache"&&typeof V=="boolean"){if(!V)return this;V=void 0}else ke(V)!=="object"||Object.keys(V).length||(V=void 0);return this.transforms.push({name:D,params:V}),this},U.prototype.getTasks=function(){return this.transforms},U.prototype.reset=function(){return this.transforms=[],this},U.prototype.autoImage=function(){return this.addTask("auto_image",!0)},U.prototype.flip=function(){return this.addTask("flip",!0)},U.prototype.flop=function(){return this.addTask("flop",!0)},U.prototype.imagesize=function(){return this.addTask("imagesize",!0)},U.prototype.noMetadata=function(){return this.addTask("no_metadata",!0)},U.prototype.pjpg=function(D){return this.addTask("pjpg",D)},U.prototype.smartCrop=function(D){return this.addTask("smart_crop",D)},U.prototype.watermark=function(D){return this.addTask("watermark",D)},U.prototype.enhance=function(D){return this.addTask("enhance",D||!0)},U.prototype.redeye=function(){return this.addTask("redeye",!0)},U.prototype.monochrome=function(){return this.addTask("monochrome",!0)},U.prototype.compress=function(D){return this.addTask("compress",D||!0)},U.prototype.negative=function(){return this.addTask("negative",!0)},U.prototype.tags=function(){return this.addTask("tags",!0)},U.prototype.sfw=function(){return this.addTask("sfw",!0)},U.prototype.animate=function(D){return this.addTask("animate",D)},U.prototype.store=function(D){return this.addTask("store",D)},U.prototype.cache=function(D){return this.addTask("cache",D)},U.prototype.resize=function(D){return this.addTask("resize",D)},U.prototype.crop=function(D){return this.addTask("crop",D)},U.prototype.rotate=function(D){return this.addTask("rotate",D)},U.prototype.detectFaces=function(D){return this.addTask("detect_faces",D)},U.prototype.cropFaces=function(D){return this.addTask("crop_faces",D)},U.prototype.pixelateFaces=function(D){return this.addTask("pixelate_faces",D)},U.prototype.blurFaces=function(D){return this.addTask("blur_faces",D)},U.prototype.roundedCorners=function(D){return this.addTask("rounded_corners",D)},U.prototype.polaroid=function(D){return this.addTask("polaroid",D)},U.prototype.vignette=function(D){return this.addTask("vignette",D)},U.prototype.tornEdges=function(D){return this.addTask("torn_edges",D)},U.prototype.shadow=function(D){return this.addTask("shadow",D)},U.prototype.circle=function(D){return this.addTask("circle",D)},U.prototype.border=function(D){return this.addTask("border",D)},U.prototype.sharpen=function(D){return this.addTask("sharpen",D)},U.prototype.blur=function(D){return this.addTask("blur",D)},U.prototype.blackwhite=function(D){return this.addTask("blackwhite",D)},U.prototype.sepia=function(D){return this.addTask("sepia",D)},U.prototype.pixelate=function(D){return this.addTask("pixelate",D)},U.prototype.oilPaint=function(D){return this.addTask("oil_paint",D)},U.prototype.modulate=function(D){return this.addTask("modulate",D)},U.prototype.partialPixelate=function(D){return this.addTask("partial_pixelate",D)},U.prototype.partialBlur=function(D){return this.addTask("partial_blur",D)},U.prototype.collage=function(D){return this.addTask("collage",D)},U.prototype.upscale=function(D){return this.addTask("upscale",D)},U.prototype.ascii=function(D){return this.addTask("ascii",D)},U.prototype.quality=function(D){return this.addTask("quality",D)},U.prototype.security=function(D){return this.addTask("security",D)},U.prototype.output=function(D){return this.addTask("output",D)},U.prototype.videoConvert=function(D){return this.addTask("video_convert",D)},U.prototype.URLScreenshot=function(D){return this.addTask("urlscreenshot",D)},U.prototype.PDFInfo=function(D){return this.addTask("pdfinfo",D)},U.prototype.PDFConvert=function(D){return this.addTask("pdfconvert",D)},U.prototype.fallback=function(D){return this.addTask("fallback",D)},U.prototype.zip=function(){return this.addTask("zip",!0)},U.prototype.minifyCss=function(D){return this.addTask("minify_css",D)},U.prototype.minifyJs=function(D){return this.addTask("minify_js",D)},U.prototype.isSourceExternal=function(){if(!this.source)throw new fe("Source not Set");var D=Array.isArray(this.source)?this.source:[this.source];for(var V in D)if(D.hasOwnProperty(V)&&(D[V].indexOf("src:")===0||D[V].indexOf("http")===0&&D[V].indexOf("filestackcontent")===-1))return!0;return!1},U.prototype.validateTasks=function(D){var V=U.validator(this.arrayToObject(D,"name","params"));if(V.errors.length)throw new fe("Params validation error",V.errors,le.VALIDATION)},U.prototype.getCdnHost=function(){var D=Object.assign({},he.urls);return this.customDomain&&(D.cdnUrl=this.customDomain),(D=Object(ve.resolveHost)(D,this.cname)).cdnUrl},U.prototype.generateTransformString=function(){var D=this,V=[];return this.transforms.forEach(function(X){V.push(D.optionToString(X.name,X.params))}),V.join("/")},U.prototype.optionToString=function(D,V){var X=this,ae=[];return V===void 0?D:typeof V=="boolean"?V||D!=="cache"?D:"cache=false":(Object.keys(V).forEach(function(ce){Array.isArray(V[ce])?ae.push(ce+":"+X.arrayToString(V[ce])):ae.push(ce+":"+X.escapeValue(V[ce]))}),D+"="+ae.join(","))},U.prototype.escapeValue=function(D){return typeof D!="string"?D:D.indexOf("/")>-1||D.indexOf(",")>-1?'"'+D+'"':D},U.prototype.arrayToString=function(D){var V=this;return"["+D.map(function(X){return Array.isArray(X)?V.arrayToString(X):V.escapeValue(X)})+"]"},U.validator=pe(_e),U}(),Ot={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Store",description:"Filestack Store Options",type:"object",additionalProperties:!1,properties:{filename:{oneOf:[{type:"string"},{format:"callback"}]},location:{$ref:"locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{$ref:"workflowsDef"},disableStorageKey:{type:"boolean"},tags:{type:"object",additionalProperties:{type:"string"}},sanitizer:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{exclude:{type:"array",items:[{type:"string"}]},replacement:{type:"string"}}}]}}},Vt={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Preview",description:"Filestack Preview Options",type:"object",additionalProperties:!1,properties:{id:{type:"string"},css:{type:"string"}}},$t={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Upload",description:"Filestack Upload Options",type:"object",additionalProperties:!1,properties:{partSize:{type:"integer",minimum:5242880},concurrency:{type:"integer",minimum:1,maximum:20},progressInterval:{type:"integer",minimum:1},retry:{type:"integer",minimum:0,maximum:20},retryFactor:{type:"integer"},retryMaxTime:{type:"integer"},timeout:{type:"integer",minimum:1,maximum:36e5},intelligent:{oneOf:[{type:"boolean"},{type:"string",enum:["fallback"]}]},intelligentChunkSize:{type:"integer"},onProgress:{format:"callback"},onRetry:{format:"callback"},disableIntegrityCheck:{type:"boolean"},tags:{type:"object",maxItems:10,additionalProperties:{type:"string",maxlength:256}}}},Ut={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Picker",description:"Filestack Picker Options",type:"object",additionalProperties:!1,properties:{allowManualRetry:{type:"boolean"},accept:{additionalProperties:!1,oneOf:[{type:"string"},{type:"array",minItems:1,items:[{type:"string"}]}]},acceptFn:{format:"callback"},fromSources:{type:"array",items:[{type:["string","object"],additionalProperties:!1,enum:["local_file_system","url","imagesearch","facebook","instagram","googledrive","unsplash","dropbox","webcam","video","audio","box","github","gmail","googlephotos","onedrive","onedriveforbusiness","clouddrive","googlephotos","customsource","tint"]}]},container:{format:"HTMLContainer"},cleanupImageExif:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{keepOrientation:{type:"boolean"},keepICCandAPP:{type:"boolean"}}}]},displayMode:{type:"string",enum:["inline","overlay","dropPane"]},concurrency:{type:"integer",minimum:1,maximum:20},supportEmail:{type:"string"},customSourceContainer:{type:"string"},customSourcePath:{type:"string"},customSourceName:{type:"string"},disableStorageKey:{type:"boolean"},disableTransformer:{type:"boolean"},disableThumbnails:{type:"boolean"},exposeOriginalFile:{type:"boolean"},globalDropZone:{type:"boolean"},hideModalWhenUploading:{type:"boolean"},imageDim:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMax:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMin:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1}]},imageMinMaxBlock:{type:"boolean",default:!1},lang:{type:"string",enum:["ca","da","de","en","es","fr","he","it","ja","ko","nl","no","pl","pt","sv","ru","vi","zh","tr","ar"]},minFiles:{type:"integer",minimum:1,maximum:1e6},maxFiles:{type:"integer",minimum:1,maximum:1e6},maxSize:{type:"integer",minimum:1},modalSize:{type:"array",minItems:2,maxItems:2,items:[{type:"integer",minimum:1,maximum:1e6}]},rootId:{type:"string"},startUploadingWhenMaxFilesReached:{type:"boolean"},uploadInBackground:{type:"boolean"},videoResolution:{type:"string"},onCancel:{format:"callback"},onClose:{format:"callback"},onOpen:{format:"callback"},onFileSelected:{format:"callback"},onFileUploadCancel:{format:"callback"},onFileUploadStarted:{format:"callback"},onFileUploadFinished:{format:"callback"},onFileUploadFailed:{format:"callback"},onFileUploadProgress:{format:"callback"},onUploadStarted:{format:"callback"},onUploadDone:{format:"callback"},onFileCropped:{format:"callback"},storeTo:{additionalProperties:!1,type:"object",properties:{filename:{type:"string"},location:{$ref:"locationsDef"},container:{type:"string"},path:{type:"string"},region:{type:"string"},access:{type:"string",enum:["public","private"]},workflows:{$ref:"workflowsDef"}}},viewType:{type:"string",enum:["grid","list"]},transformations:{type:"object",additionalProperties:!1,properties:{circle:{type:"boolean"},rotate:{type:"boolean"},force:{type:"boolean"},crop:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{force:{type:"boolean"},aspectRatio:{type:"number"}}}]}}},customText:{type:"object",patternProperties:{".*":{type:"string"}}},cropFiles:{type:"array",minItems:1},loadCss:{type:"string"},failOverMaxFiles:{type:"boolean"},dropPane:{type:"object",properties:{cropFiles:{type:"array",minItems:1},customText:{type:"string"},disableClick:{type:"boolean"},overlay:{type:"boolean"},showIcon:{type:"boolean"},showProgress:{type:"boolean"},onDragEnter:{format:"callback"},onProgress:{format:"callback"},onDragLeave:{format:"callback"},onDragOver:{format:"callback"},onDrop:{format:"callback"},onSuccess:{format:"callback"},onError:{format:"callback"},onClick:{format:"callback"}}},errorsTimeout:{type:"number",minimum:0},customAuthText:{type:"object",patternProperties:{".*":{additionalProperties:!1,type:"object",required:["top","bottom"],properties:{top:{type:"string"},bottom:{type:"string"}}}}},uploadConfig:{type:"object",additionalProperties:!1,properties:Object(v.a)(Object(v.a)({},$t.properties),{tags:{type:"object",additionalProperties:{anyOf:[{type:"string"},{format:"callback"}]}}})},useSentryBreadcrumbs:{type:"boolean"},pasteMode:{type:"object",additionalProperties:!1,properties:{pasteToFirstInViewPort:{type:"boolean"},pasteToFirstInstance:{type:"boolean"}}}}},en={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Metadata",description:"Filestack Metadata Options",type:"object",additionalProperties:!1,properties:{size:{type:"boolean"},mimetype:{type:"boolean"},filename:{type:"boolean"},width:{type:"boolean"},metadata:{type:"boolean"},height:{type:"boolean"},uploaded:{type:"boolean"},writeable:{type:"boolean"},cloud:{type:"boolean"},sourceUrl:{type:"boolean"},md5:{type:"boolean"},sha1:{type:"boolean"},sha224:{type:"boolean"},sha256:{type:"boolean"},sha384:{type:"boolean"},sha512:{type:"boolean"},location:{type:"boolean"},path:{type:"boolean"},container:{type:"boolean"},exif:{type:"boolean"}}},Xe={$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Retrieve",description:"Filestack Retrieve Options",type:"object",additionalProperties:!1,properties:{metadata:{type:"boolean"},head:{type:"boolean"},dl:{type:"boolean"},cache:{type:"boolean"},extension:{type:"string"}}},Je=f(6),yt=f(16),bt=Ge()("fs:request:dispatch"),xt=function(){function U(D){this.adapter=D}return U.prototype.request=function(D){var V=this;return D.headers=D.headers||{},bt("Dispatching request %O",D),this.adapter.request(D).catch(function(X){return bt('Request error "%s": %O',X,X.response),V.retry(X)})},U.prototype.retry=function(D){var V=this,X=D.config;if(!Object(yt.a)(D))return bt("[Retry] Request error is not retriable. Exiting"),Promise.reject(D);if(!X.retry)return bt("[Retry] Retry config not found. Exiting"),Promise.reject(D);var ae=X.retry,ce=X.runtime&&X.runtime.retryCount?X.runtime.retryCount:0;if(ae.retry&&ae.retry<=ce)return bt("[Retry] Retry attempts reached %d. Exiting",ce),Promise.reject(D);var de=Math.max(Math.min(ae.retryMaxTime,1e3*Math.pow(ae.retryFactor,ce)),1);return X.runtime=Object(v.a)(Object(v.a)({},X.runtime),{retryCount:ce+1}),bt("[Retry] Retrying request to "+X.url+", count "+ce+" of "+ae.retry+" - Delay: "+de),new Promise(function(we){setTimeout(function(){return we(V.request(X))},de)})},U}(),cn=f(43).XhrAdapter,kt=function(){function U(D){this.defaults=D,this.dispatcher=new xt(new cn)}return U.getInstance=function(){return U.instance||(U.instance=new U),U.instance},U.prototype.dispatch=function(D){return D.method||(D.method=Je.a.GET),this.dispatcher.request(Object.assign({},this.defaults,D))},U.dispatch=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{url:D}))},U.get=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:Je.a.GET,url:D}))},U.head=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:Je.a.HEAD,url:D}))},U.options=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:Je.a.OPTIONS,url:D}))},U.purge=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:Je.a.PURGE,url:D}))},U.delete=function(D,V){return U.getInstance().dispatch(Object.assign({},V||{},{method:Je.a.DELETE,url:D}))},U.post=function(D,V,X){return U.getInstance().dispatch(Object.assign({},X||{},{method:Je.a.POST,url:D,data:V}))},U.put=function(D,V,X){return U.getInstance().dispatch(Object.assign({},X||{},{method:Je.a.PUT,url:D,data:V}))},U.path=function(D,V,X){return U.getInstance().dispatch(Object.assign({},X||{},{method:Je.a.PATH,url:D,data:V}))},U}(),Wn=f(2),Fn=function(U){function D(){return U!==null&&U.apply(this,arguments)||this}return Object(v.c)(D,U),D.prototype.cancel=function(V){this.emit("cancel",V),this.removeAllListeners()},D}(b.EventEmitter),rn=function(U,D,V,X){if(!D||typeof D!="string")throw new fe("A valid Filestack handle is required for remove");if(!(U.policy&&U.signature||X&&X.policy&&X.signature))throw new fe("Security policy and signature are required for remove");var ae=U.urls.fileApiUrl+"/"+D,ce={key:U.apikey,policy:X&&X.policy||U.policy,signature:X&&X.signature||U.signature};return V&&(ce.skip_storage=!0),kt.delete(ae,{filestackHeaders:!1,params:Object(ve.removeEmpty)(ce)})};function on(U){return(on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var ge,Ee,He,dt,Tt,zt,Lt,Ft,Zt,sn,Vn,fn,dn,gt,wt,jt,tn,mn;(function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top"})(ge||(ge={})),function(U){U.left="left",U.right="right",U.center="center",U.bottom="bottom",U.top="top",U.faces="faces"}(Ee||(Ee={})),function(U){U.clip="clip",U.crop="crop",U.scale="scale",U.max="max"}(He||(He={})),function(U){U.linear="linear",U.gaussian="gaussian"}(dt||(dt={})),function(U){U.oval="oval",U.rect="rect"}(Tt||(Tt={})),function(U){U.none="none",U.low="low",U.medium="medium",U.high="high"}(zt||(zt={})),function(U){U.artwork="artwork",U.photo="photo"}(Lt||(Lt={})),function(U){U.RGB="RGB",U.CMYK="CMYK",U.Input="Input"}(Ft||(Ft={})),function(U){U.thumb="thumb",U.crop="crop",U.fill="fill"}(Zt||(Zt={})),function(U){U.fit="fit",U.auto="auto"}(sn||(sn={})),function(U){U.top="top",U.middle="middle",U.bottom="bottom",U.left="left",U.center="center",U.right="right"}(Vn||(Vn={})),function(U){U.h264="h264",U.h264_hi="h264.hi",U.webm="webm",U["webm-hi"]="webm.hi",U.ogg="ogg",U["ogg-hi"]="ogg.hi",U["hls-variant"]="hls.variant",U.mp3="mp3",U.oga="oga",U.m4a="m4a",U.aac="aac",U.hls="hls.variant.audio"}(fn||(fn={})),function(U){U.desktop="desktop",U.mobile="mobile"}(dn||(dn={})),function(U){U.all="all",U.window="window"}(gt||(gt={})),function(U){U.portrait="portrait",U.landscape="landscape"}(wt||(wt={})),function(U){U.s3="s3",U.azure="azure",U.gcs="gcs",U.rackspace="rackspace",U.dropbox="dropbox"}(jt||(jt={})),function(U){U.private="private",U.public="public"}(tn||(tn={})),function(U){U.preserve="preserve",U.constrain="constrain",U.letterbox="letterbox",U.pad="pad",U.crop="crop"}(mn||(mn={}));var Tn=function(U,D,V,X){V===void 0&&(V={}),X===void 0&&(X=!1),V=function ce(de){for(var we={},je=Object.keys(de),Be=0;Be<je.length;Be++){var Ce=je[Be].split(/(?=[A-Z])/).join("_").toLowerCase();on(de[je[Be]])!=="object"||Array.isArray(de[je[Be]])?we[Ce]=de[je[Be]]:we[Ce]=ce(de[je[Be]])}return we}(V),U.policy&&U.signature&&(V.security={policy:U.policy,signature:U.signature});var ae=new Rt(D,U.apikey);return ae.setCname(U.cname),ae.setBase64(X),Object.keys(V).forEach(function(ce){(typeof V[ce]!="boolean"||V[ce]||ce==="cache")&&ae.addTask(ce,V[ce])}),ae.toString()};function Et(U){return(Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(U)}var Nt,hn=function(){function U(D,V){this._file=D,this._sanitizeOptions=V,this._file.name=Object(ve.sanitizeName)(this._file.name,this._sanitizeOptions)}return Object.defineProperty(U.prototype,"name",{get:function(){return this._file.name},set:function(D){this._file.name=Object(ve.sanitizeName)(D,this._sanitizeOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"filename",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"customName",{set:function(D){switch(Et(D)){case"string":this.name=D;break;case"function":if(typeof D(this)!="string")throw new Error("Name function must return a string. Current return type is "+Et(D));this.name=D(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"type",{get:function(){return this._file.type||"application/octet-stream"},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"mimetype",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"size",{get:function(){return this._file.size},enumerable:!0,configurable:!0}),U.prototype.getPartsCount=function(D){return Math.ceil(this._file.size/D)},U.prototype.getPartMetadata=function(D,V){var X=V*D;if(X>this._file.size)throw new Error("Start byte of the part is higher than buffer size");var ae=Math.min(X+V,this._file.size);return{partNumber:D,startByte:X,endByte:ae,size:ae-X}},U.prototype.getPartByMetadata=function(D,V){return V===void 0&&(V=!0),Object(v.b)(this,void 0,void 0,function(){var X;return Object(v.d)(this,function(ae){switch(ae.label){case 0:return[4,this._file.slice(D.startByte,D.endByte)];case 1:return X=ae.sent(),[2,Promise.resolve(Object(v.a)(Object(v.a)({},D),{buffer:X,md5:V?Object(ve.md5)(X):void 0}))]}})})},U.prototype.getChunkByMetadata=function(D,V,X,ae){return ae===void 0&&(ae=!0),Object(v.b)(this,void 0,void 0,function(){var ce,de,we;return Object(v.d)(this,function(je){switch(je.label){case 0:return ce=D.startByte+V,de=Math.min(ce+X,D.endByte),[4,this._file.slice(ce,de)];case 1:return we=je.sent(),[2,Promise.resolve(Object(v.a)(Object(v.a)({},D),{buffer:we,md5:ae?Object(ve.md5)(we):void 0,size:we.byteLength,startByte:ce,endByte:de,offset:V}))]}})})},U.prototype.release=function(){this._file.release&&this._file.release()},U.prototype.toJSON=function(){return{name:this.name,status:this.status,type:this.type,size:this.size,url:this.url,handle:this.handle,uploadTags:this.uploadTags}},U}(),jn=f(17),Vi=f.n(jn),Tr=/data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i,Pr=function(U,D,V){return new Promise(function(X,ae){var ce=new FileReader,de=V.slice(U,D);ce.onload=function(){return X(ce.result)},ce.onerror=ae,ce.readAsArrayBuffer(de)})},Gn=function(U,D){var V,X;if(function(ae){return ae&&ae.file&&ae.name}(U)&&(V=U.name,U=U.file),function(ae){return ae instanceof File}(U))X=U,V=U.name;else if(function(ae){if(typeof ae!="string")return!1;ae.indexOf("base64")>-1&&(ae=ae.match(Tr).pop());try{return btoa(atob(ae))===ae}catch{return!1}}(U))X=function(ae,ce){ce===void 0&&(ce=512);var de="";if(ae.indexOf("base64")>-1){var we=ae.match(Tr);ae=we.pop(),de=we[1]}for(var je=atob(ae),Be=[],Ce=0;Ce<je.length;Ce+=ce){for(var tt=je.slice(Ce,Ce+ce),De=new Array(tt.length),ut=0;ut<tt.length;ut+=1)De[ut]=tt.charCodeAt(ut);Be.push(new Uint8Array(De))}return new Blob(Be,{type:de})}(U);else{if(!function(ae){return ae.toString()==="[object Blob]"}(U))return Promise.reject(new fe("Unsupported input file type"));X=U}return function(ae){return Object(v.b)(void 0,void 0,void 0,function(){return Object(v.d)(this,function(ce){return File&&FileReader&&Blob?[2,Promise.resolve({slice:function(de,we){return Pr(de,we,ae)},release:function(){ae=null}})]:[2,Promise.reject(new fe("The File APIs are not fully supported by your browser"))]})})}(X).then(function(ae){return Object(v.b)(void 0,void 0,void 0,function(){var ce,de;return Object(v.d)(this,function(we){switch(we.label){case 0:return ce=X.type,X.type&&X.type.length!==0&&X.type!=="text/plain"?[3,2]:(de=ve.getMimetype,[4,ae.slice(0,Vi.a.minimumBytes)]);case 1:ce=de.apply(void 0,[we.sent(),V]),we.label=2;case 2:return[2,new hn({name:V,size:X.size,type:ce,slice:ae.slice,release:ae.release},D)]}})})})},Ar=f(29),Ui=f.n(Ar),cr=f(11),Mn=Ge()("fs:upload:abstract"),oi=function(U){function D(V,X){X===void 0&&(X=3);var ae=U.call(this)||this;return ae.storeOptions=V,ae.concurrency=X,ae.partSize=6291456,ae.intelligentChunkSize=Object(ve.isMobile)()?1048576:8388608,ae.timeout=3e4,ae.uploadMode="default",ae.isModeLocked=!1,ae.integrityCheck=!0,ae.uploadTags=null,ae}return Object(v.c)(D,U),D.prototype.setSecurity=function(V){Mn("Set security %O",V),this.security=V},D.prototype.setApikey=function(V){Mn("Set apikey to "+V),this.apikey=V},D.prototype.setTimeout=function(V){Mn("Set request timeout to "+V),this.timeout=V},D.prototype.setRetryConfig=function(V){Mn("Set retry config to "+V),this.retryConfig=V},D.prototype.setUrl=function(V){Mn("Set upload url to "+V),this.url=V},D.prototype.setUploadTags=function(V){Mn("Set tags to %O",V),this.uploadTags=V},D.prototype.setIntegrityCheck=function(V){this.integrityCheck=V},D.prototype.setUploadMode=function(V,X){X===void 0&&(X=!1),this.isModeLocked!==!0?(this.isModeLocked=X,Mn("Set upload mode to "+V),this.uploadMode=V):Mn("Cannot switch mode to "+V+". Locked! Probably mode is not supported at this apikey")},D.prototype.setPartSize=function(V){if(this.uploadMode==="default"){if(Mn("Set part size to "+V),V<5242880)throw new fe("Minimum part size is 5MB");this.partSize=V}else Mn("Cannot set part size because upload mode is other than default. ")},D.prototype.getPartSize=function(){return this.partSize},D.prototype.setIntelligentChunkSize=function(V){if(Mn("Set inteligent chunk size to "+V),V<32768)throw new fe("Minimum intelligent chunk size is 32768");this.intelligentChunkSize=V},D.prototype.getIntelligentChunkSize=function(){return this.intelligentChunkSize},D.prototype.getUrl=function(){if(!this.url)throw new fe("Upload url not set");return this.url},D}(b),Pt=Ge()("fs:upload:s3"),Br=function(U){function D(V,X){var ae=U.call(this,V,X)||this;return ae.payloads={},ae.partsQueue=new Ui.a({autoStart:!1,concurrency:ae.concurrency}),ae.cancelToken=new Fn,ae}return Object(v.c)(D,U),D.prototype.pause=function(){this.partsQueue.pause()},D.prototype.resume=function(){this.partsQueue.isPaused&&this.partsQueue.start()},D.prototype.abort=function(V){this.partsQueue.pause(),this.partsQueue.clear(),this.cancelToken.cancel(V||"Aborted by user")},D.prototype.execute=function(){return Object(v.b)(this,void 0,void 0,function(){var V,X=this;return Object(v.d)(this,function(ae){return V=Object.keys(this.payloads).map(function(ce){return new Promise(function(de){return Object(v.b)(X,void 0,void 0,function(){var we,je;return Object(v.d)(this,function(Be){switch(Be.label){case 0:return Be.trys.push([0,5,,6]),[4,this.startRequest(ce)];case 1:return Be.sent(),[4,this.prepareParts(ce)];case 2:return Be.sent(),[4,this.startPartsQueue(ce)];case 3:return Be.sent(),[4,this.completeRequest(ce)];case 4:return Be.sent(),[3,6];case 5:return we=Be.sent(),this.emit("error",we),Pt("["+ce+`] File upload failed. %O, 
Details: %O `,we.message,we.details),[3,6];case 6:return(je=this.getPayloadById(ce).file).release(),delete this.payloads[ce],de(je),[2]}})})})}),[2,Promise.all(V)]})})},D.prototype.addFile=function(V){Pt(`Add file to queue: 
 %o`,V);var X=Object(ve.uniqueId)(15)+"_"+Object(ve.uniqueTime)();return V.status="Initialized",this.payloads[X]={file:V,parts:[]},X},D.prototype.getUploadUrl=function(V){var X=this.getDefaultFields(V,["location_url"]).location_url;return X.indexOf("http")===0?X:"https://"+X},D.prototype.getStoreOptions=function(V){var X=Object(v.a)({location:"s3"},this.storeOptions);if(this.storeOptions.disableStorageKey){var ae=this.getPayloadById(V);X.path&&X.path.substr(-1)!=="/"&&(X.path=X.path+"/"),X.path=""+(X.path?X.path:"/")+ae.file.name,delete X.disableStorageKey}return X},D.prototype.getDefaultFields=function(V,X,ae){ae===void 0&&(ae=!1);var ce=this.getPayloadById(V),de=Object(v.a)(Object(v.a)({},this.security),{apikey:this.apikey,uri:ce.uri,location_url:ce.location_url,upload_id:ce.upload_id,region:ce.region});return(this.uploadMode==="intelligent"||this.uploadMode==="fallback"&&ae)&&(de.fii=!0),Object(v.a)(Object(v.a)({},Object(ve.filterObject)(de,X)),{store:this.getStoreOptions(V)})},D.prototype.getDefaultHeaders=function(V){var X={},ae=this.getPayloadById(V);return ae.location_region&&(X["Filestack-Upload-Region"]=ae.location_region),X},D.prototype.getPayloadById=function(V){return this.payloads[V]},D.prototype.prepareParts=function(V){var X=this.getPayloadById(V).file;["intelligent","fallback"].indexOf(this.uploadMode)>-1&&(this.partSize=8388608);for(var ae=X.getPartsCount(this.partSize),ce=[],de=0;de<ae;de++)ce[de]=Object(v.a)(Object(v.a)({},X.getPartMetadata(de,this.partSize)),{offset:0});return this.payloads[V].parts=ce,Promise.resolve()},D.prototype.startRequest=function(V){var X=this,ae=this.getPayloadById(V);return ae.file.size===0?(this.setPayloadStatus(V,"Failed"),Promise.reject(new fe('Invalid file "'+ae.file.name+'" size - 0',{},le.VALIDATION))):(Pt("["+V+"] Make start request"),kt.post(this.getUrl()+"/multipart/start",Object(v.a)({filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size},this.getDefaultFields(V,["apikey","policy","signature","fii"],!0)),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(ce){var de=ce.data;return de&&de.location_url&&de.region&&de.upload_id&&de.uri?(Pt("["+V+`] Assign payload data: 
%O
`,de),X.updatePayload(V,de),["intelligent","fallback"].indexOf(X.uploadMode)>-1&&(!de.upload_type||de.upload_type!=="intelligent_ingestion")&&(Pt("["+V+"] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change"),X.setUploadMode("default",!0)),de):(Pt("["+V+`] Incorrect start response: 
%O
`,de),X.setPayloadStatus(V,"Failed"),Promise.reject(new fe("Incorrect start response",de,le.REQUEST)))}).catch(function(ce){return Pt("["+V+"] Start request error %O",ce),X.setPayloadStatus(V,"Failed"),X.rejectUpload("Cannot upload file. Start request failed",ce)}))},D.prototype.startPartsQueue=function(V){return Object(v.b)(this,void 0,void 0,function(){var X,ae,ce,de=this;return Object(v.d)(this,function(we){return X=this.getPayloadById(V),ae=X.parts,ce=ae.length,Pt("["+V+"] Create uploading queue from file. parts count - %d",ce),[2,new Promise(function(je,Be){return Object(v.b)(de,void 0,void 0,function(){var Ce,tt=this;return Object(v.d)(this,function(De){switch(De.label){case 0:return ae.forEach(function(ut){return tt.partsQueue.add(function(){return tt.startPart(V,ut.partNumber)}).catch(function(_t){return tt.setPayloadStatus(V,"Failed"),Pt("["+V+"] Failed to upload part %s",_t.message),tt.partsQueue.pause(),tt.partsQueue.clear(),Be(_t)})}),Pt("["+V+"] All tasks for %s enqueued. Start processing main upload queue",V),this.emit("start"),this.partsQueue.start(),Ce=je,[4,this.partsQueue.onIdle()];case 1:return Ce.apply(void 0,[De.sent()]),[2]}})})})]})})},D.prototype.startPart=function(V,X){return Pt("["+V+"] Start processing part "+X+" with mode "+this.uploadMode),this.getPayloadById(V).file.status="Progress",(this.uploadMode!=="intelligent"?this.uploadRegular:this.uploadIntelligent).apply(this,[V,X])},D.prototype.getS3PartMetadata=function(V,X,ae){var ce=this,de=this.getUploadUrl(V);Pt("["+V+"] Get data for part "+X.partNumber+", url "+de+", Md5: "+X.md5+", Size: "+X.size);var we=Object(v.a)(Object(v.a)({},this.getDefaultFields(V,["apikey","uri","region","signature","policy","upload_id","fii"])),{part:X.partNumber+1,size:X.size,offset:ae});return this.integrityCheck&&X.md5&&(we.md5=X.md5),kt.post(de+"/multipart/upload",we,{headers:this.getDefaultHeaders(V),cancelToken:this.cancelToken,timeout:this.timeout,retry:this.retryConfig}).catch(function(je){return ce.setPayloadStatus(V,"Failed"),ce.rejectUpload("Cannot get part metadata",je)})},D.prototype.uploadRegular=function(V,X){return Object(v.b)(this,void 0,void 0,function(){var ae,ce,de,we,je,Be,Ce=this;return Object(v.d)(this,function(tt){switch(tt.label){case 0:return ae=this.getPayloadById(V),ce=ae.parts[X],[4,ae.file.getPartByMetadata(ce,this.integrityCheck)];case 1:return de=tt.sent(),[4,this.getS3PartMetadata(V,de)];case 2:return we=tt.sent(),je=we.data,Be=we.headers,Pt("["+V+"] Received part "+X+` info body: 
%O
 headers: 
%O
`,je,Be),[2,kt.put(je.url,de.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:je.headers,filestackHeaders:!1,onProgress:function(De){return Ce.onProgressUpdate(V,X,De.loaded)},retry:this.retryConfig&&this.uploadMode!=="fallback"?this.retryConfig:void 0}).then(function(De){if(!De.headers.etag)throw de=null,new fe("Cannot upload file, check S3 bucket settings","Etag header is not exposed in CORS settings",le.REQUEST);return Ce.setPartETag(V,X,De.headers.etag),Pt("["+V+"] S3 Upload response headers for "+X+`: 
%O
`,De.headers),Ce.onProgressUpdate(V,X,de.size),de=null,De}).catch(function(De){var ut=De&&De.response?De.response:null;if(ut&&ut.status===403&&ut.data&&ut.data.Error&&ut.data.Error.code){var _t=ut.data.Error.code;switch(Array.isArray(_t)&&(_t=_t.pop()),_t){case"RequestTimeTooSkewed":return Ce.startPart(V,X);default:return Promise.reject(new fe("Cannot upload file",ut.data.Error,le.REQUEST))}}return de=null,De instanceof fe?Promise.reject(De):(Ce.onProgressUpdate(V,X,0),Ce.uploadMode==="fallback"&&!Ce.isModeLocked||Ce.uploadMode==="intelligent"?(Pt("["+V+"] Regular upload failed. Switching to intelligent ingestion mode"),Ce.setUploadMode("intelligent"),Ce.startPart(V,X)):Ce.rejectUpload("Cannot upload file part",De))})]}})})},D.prototype.uploadIntelligent=function(V,X){return Object(v.b)(this,void 0,void 0,function(){var ae=this;return Object(v.d)(this,function(ce){return[2,this.uploadNextChunk(V,X).then(function(){return ae.commitPart(V,X)})]})})},D.prototype.uploadNextChunk=function(V,X,ae){return ae===void 0&&(ae=this.intelligentChunkSize),Object(v.b)(this,void 0,void 0,function(){var ce,de,we,je,Be=this;return Object(v.d)(this,function(Ce){switch(Ce.label){case 0:return ce=this.getPayloadById(V),de=ce.parts[X],ae=Math.min(ae,de.size-de.offset),[4,ce.file.getChunkByMetadata(de,de.offset,ae,this.integrityCheck)];case 1:return we=Ce.sent(),Pt("["+V+"] PartNum: "+X+", PartSize: "+de.size+", StartByte: "+de.startByte+", Offset: "+de.offset+", ChunkSize: "+we.size+`,
       Left: `+(de.size-de.offset-we.size)),[4,this.getS3PartMetadata(V,we,de.offset).catch(function(tt){return Pt("["+V+"] Getting chunk data for ii failed %O, Chunk size: "+ae+", offset "+de.offset+", part "+X,tt),Promise.reject(tt)})];case 2:return je=Ce.sent().data,[2,kt.put(je.url,we.buffer,{cancelToken:this.cancelToken,timeout:this.timeout,headers:je.headers,filestackHeaders:!1,onProgress:function(tt){return de?Be.onProgressUpdate(V,X,de.offset+tt.loaded):null}}).then(function(tt){Be.onProgressUpdate(V,X,de.offset+we.size);var De=Math.min(de.offset+ae,de.size);return Pt("["+V+"] S3 Chunk uploaded! offset: "+de.offset+", part "+X+"! response headers for "+X+`: 
%O
`,tt.headers),Be.setPartData(V,X,"offset",De),De===de.size?Promise.resolve(tt):(de=null,we=null,Be.uploadNextChunk(V,X,ae))}).catch(function(tt){var De=tt&&tt.response?tt.response:null;if(De&&De.status===403&&De.data&&De.data.Error&&De.data.Error.code){var ut=De.data.Error.code;switch(Array.isArray(ut)&&(ut=ut.pop()),ut){case"RequestTimeTooSkewed":return Be.startPart(V,X);default:return Promise.reject(new fe("Cannot upload file",De.data.Error,le.REQUEST))}}Be.onProgressUpdate(V,X,de.offset);var _t=Math.ceil(ae/2);return _t<32768?(Pt("["+V+"] Minimal chunk size limit. Upload file failed!"),Promise.reject(new fe("Min chunk size reached",tt.data,le.REQUEST))):Object(cr.e)(tt)?(Pt("["+V+"] Request network error. Retry with new chunk size: "+_t),Be.uploadNextChunk(V,X,_t)):(de=null,we=null,Be.rejectUpload("Cannot upload file part (FII)",tt))})]}})})},D.prototype.commitPart=function(V,X){var ae=this,ce=this.getPayloadById(V),de=ce.parts[X];return kt.post(this.getUploadUrl(V)+"/multipart/commit",Object(v.a)(Object(v.a)({},this.getDefaultFields(V,["apikey","region","upload_id","policy","signature","uri"])),{size:ce.file.size,part:de.partNumber+1}),{cancelToken:this.cancelToken,timeout:this.timeout,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(we){return Pt("["+V+"] Commit Part number "+de.partNumber+". Response: %O",we.data),we}).catch(function(we){return ae.rejectUpload("Cannot commit file part metadata",we)})},D.prototype.completeRequest=function(V){var X=this,ae=this.getPayloadById(V),ce=[];Pt("["+V+"] Run complete request");for(var de=ae.parts,we=de.length,je=0;je<we;je++)de[je].etag&&ce.push({part_number:je+1,etag:de[je].etag});return Pt("["+V+"] Etags %O",ce),kt.post(this.getUploadUrl(V)+"/multipart/complete",Object(v.a)(Object(v.a)({},this.getDefaultFields(V,["apikey","policy","signature","uri","region","upload_id","fii"],!0)),{filename:ae.file.name,mimetype:ae.file.type,size:ae.file.size,upload_tags:this.uploadTags&&Object.keys(this.uploadTags).length?this.uploadTags:void 0,parts:ce.length?ce:void 0}),{timeout:this.timeout,cancelToken:this.cancelToken,headers:this.getDefaultHeaders(V),retry:this.retryConfig}).then(function(Be){if(Be.status===202)return new Promise(function(tt,De){setTimeout(function(){return X.completeRequest(V).then(tt).catch(De)},1e3)});var Ce=X.getPayloadById(V).file;return Ce.handle=Be.data.handle,Ce.url=Be.data.url,Ce.container=Be.data.container,Ce.key=Be.data.key,Ce.uploadTags=Be.data.upload_tags,Ce.workflows=Be.data.workflows,Ce.status=Be.data.status,Ce}).catch(function(Be){return X.setPayloadStatus(V,"Failed"),X.rejectUpload("Cannot complete file",Be)})},D.prototype.onProgressUpdate=function(V,X,ae){this.setPartData(V,X,"progress",ae),this.emitProgress()},D.prototype.emitProgress=function(){var V=0,X=0,ae={};for(var ce in this.payloads){var de=this.payloads[ce];if(de.file.status!=="Failed"){var we=de.parts.map(function(Be){return Be.progress||0}).reduce(function(Be,Ce){return Be+Ce},0);X+=we,ae[ce]={totalBytes:we,totalPercent:Math.round(100*we/de.file.size)||0},V+=de.file.size}}var je={totalBytes:X||0,totalPercent:Math.round(100*X/V)||0,files:ae};Pt("Upload progress %O",je),this.emit("progress",je)},D.prototype.updatePayload=function(V,X){this.payloads[V]=Object(v.a)(Object(v.a)({},this.payloads[V]),X)},D.prototype.setPartETag=function(V,X,ae){Pt("["+V+"] Set "+ae+" etag for part "+X),this.getPayloadById(V).parts[X].etag=ae},D.prototype.setPartData=function(V,X,ae,ce){Pt("["+V+"] Set "+ae+" = "+ce+" for part "+X);var de=this.getPayloadById(V);de?de.parts[X][ae]=ce:Pt("["+V+"] Cannot set "+ae+" = "+ce+" for part "+X)},D.prototype.setPayloadStatus=function(V,X){Pt("["+V+"] Set payload status to "+X),this.payloads[V]&&(this.payloads[V].file.status=X)},D.prototype.parseError=function(V){return V.response?{code:V.response.status,data:V.response.data,headers:V.response.headers}:{}},D.prototype.rejectUpload=function(V,X){return X instanceof Wn.a&&X.code===Wn.b.ABORTED?Promise.reject(new fe(V,{reason:X.message},le.ABORTED)):Promise.reject(new fe(V,this.parseError(X),le.REQUEST))},D}(oi),fr=function(U,D){return U.totalBytes=Math.max(U.totalBytes,D.totalBytes),U.totalPercent=Math.max(U.totalPercent,D.totalPercent),U},qn=function(U){function D(V,X){V===void 0&&(V={}),X===void 0&&(X={});var ae=U.call(this)||this;ae.options=V,ae.storeOptions=X,ae.lastProgress={totalBytes:0,totalPercent:0},ae.storeOptions=Object.assign({},X);var ce=pe($t)(V);if(ce.errors.length)throw new fe("Invalid upload params",ce.errors,le.VALIDATION);var de=pe(Ot)(X);if(de.errors.length)throw new fe("Invalid store upload params",de.errors,le.VALIDATION);return X.filename&&(ae.overrideFileName=X.filename,delete ae.storeOptions.filename),ae.storeOptions.sanitizer&&(ae.sanitizerOptions=ae.storeOptions.sanitizer,delete ae.storeOptions.sanitizer),ae.uploader=new Br(ae.storeOptions,V.concurrency),ae.uploader.setRetryConfig({retry:V.retry||10,onRetry:V.onRetry,retryFactor:V.retryFactor||2,retryMaxTime:V.retryMaxTime||15e3}),ae.uploader.setTimeout(V.timeout||12e4),V.partSize&&ae.uploader.setPartSize(V.partSize),V.intelligentChunkSize&&ae.uploader.setIntelligentChunkSize(V.intelligentChunkSize),V.disableIntegrityCheck&&ae.uploader.setIntegrityCheck(!1),V.intelligent&&ae.uploader.setUploadMode(V.intelligent==="fallback"?"fallback":"intelligent"),ae.uploader.setUploadTags(V.tags),ae.uploader.on("start",function(){return ae.emit("start")}),ae.uploader.on("error",function(we){return ae.emit("error",we)}),ae.uploader.on("progress",ae.handleProgress.bind(ae)),ae}return Object(v.c)(D,U),D.prototype.setSession=function(V){this.uploader.setApikey(V.apikey),V.policy&&V.signature&&this.uploader.setSecurity({policy:V.policy,signature:V.signature}),this.uploader.setUrl(V.urls.uploadApiUrl)},D.prototype.setToken=function(V){var X=this;if(!V||V!==Object(V))throw new Error("Incorrect upload token. Must be instance of object");return V.pause=function(){return X.uploader.pause()},V.resume=function(){return X.uploader.resume()},V.cancel=function(){return X.uploader.abort()},V},D.prototype.setSecurity=function(V){this.uploader.setSecurity(V)},D.prototype.setUploadTags=function(V){this.uploader.setUploadTags(V)},D.prototype.upload=function(V){return Object(v.b)(this,void 0,void 0,function(){var X,ae;return Object(v.d)(this,function(ce){switch(ce.label){case 0:return[4,Gn(V,this.sanitizerOptions)];case 1:return(X=ce.sent()).customName=this.overrideFileName,this.uploader.addFile(X),this.startProgressInterval(),[4,this.uploader.execute()];case 2:return ae=ce.sent().shift(),this.stopProgressInterval(),this.uploader.removeAllListeners(),ae.status==="Failed"?[2,Promise.reject(ae)]:[2,Promise.resolve(ae)]}})})},D.prototype.multiupload=function(V){return Object(v.b)(this,void 0,void 0,function(){var X,ae,ce,de,we,je;return Object(v.d)(this,function(Be){switch(Be.label){case 0:for(ae in X=[],V)X.push(ae);ce=0,Be.label=1;case 1:return ce<X.length?(de=X[ce],V.hasOwnProperty(de)?[4,Gn(V[de],this.sanitizerOptions)]:[3,3]):[3,4];case 2:(we=Be.sent()).customName=this.overrideFileName,this.uploader.addFile(we),Be.label=3;case 3:return ce++,[3,1];case 4:return this.startProgressInterval(),[4,this.uploader.execute()];case 5:return je=Be.sent(),this.stopProgressInterval(),this.uploader.removeAllListeners(),[2,Promise.resolve(je)]}})})},D.prototype.startProgressInterval=function(){var V=this;typeof this.options.onProgress=="function"&&(this.progressIntervalHandler=setInterval(function(){V.options.onProgress(V.lastProgress)},this.options.progressInterval||1e3),this.options.onProgress(this.lastProgress))},D.prototype.stopProgressInterval=function(){clearInterval(this.progressIntervalHandler)},D.prototype.handleProgress=function(V){if(V=fr(V,this.lastProgress),this.lastProgress.files)for(var X in V.files)this.lastProgress.files[X]&&(V.files[X]=fr(V.files[X],this.lastProgress.files[X]));this.lastProgress=V},D}(b.EventEmitter),Or=function(U,D,V){if(!D||typeof D!="string")throw new Error("A valid Filestack handle or storage alias is required for preview");var X=pe(Vt)(V);if(X.errors.length)throw new fe("Invalid preview params",X.errors,le.VALIDATION);var ae=Object(ve.removeEmpty)(V||{}),ce=function(Be,Ce,tt,De){var ut=Object(v.a)({},tt),_t=De&&De.policy||Be.policy,qt=De&&De.signature||Be.signature,pn=qt&&_t,Xt=[Be.urls.cdnUrl],Ht=ut.css&&encodeURIComponent('"'+ut.css+'"'),Nn=Ht?"preview=css:"+Ht:"preview";return Ce.indexOf("src:")!==-1?Xt.push(Be.apikey+"/"+Nn):Xt.push(Nn),pn&&Xt.push("security=policy:"+_t+",signature:"+qt),Xt.push(Ce),Xt.join("/")}(U,D,ae);if(ae&&ae.id){var de=ae.id,we=document.createElement("iframe"),je=document.getElementById(de);if(we.src=ce,we.width="100%",we.height="100%",!je)throw new Error('DOM Element with id "'+de+'" not found.');return je.appendChild(we)}return window.open(ce,D)},Pn=Ge()("fs:storage"),Ji=function(){function U(){this.availableTypes=[],window.localStorage!==void 0&&(this.availableTypes.push(Nt.LOCAL),Pn("Local storage exists")),window.sessionStorage!==void 0&&(this.availableTypes.push(Nt.SESSION),Pn("Session storage exists")),Pn("availableTypes - %O",this.availableTypes)}return U.prototype.hasAccess=function(D){return Pn("Checking access to storage for %s. Available types: %O",D,this.availableTypes),D?this.availableTypes.indexOf(D)>-1:!!this.availableTypes.length},U.prototype.getItem=function(D,V){var X=this.getStore(V);if(Pn("getItem %s from %O",D,X),X)return X.getItem(D)},U.prototype.setItem=function(D,V,X){var ae=this.getStore(X);if(Pn("setItem %s to %O",D,ae),ae)return ae.setItem(D,V)},U.prototype.removeItem=function(D,V){var X=this.getStore(V);if(Pn("removeItem %s from %O",D,X),X)return X.removeItem(D)},U.prototype.getStore=function(D){if(Pn("get store with pref type - %s",D),this.hasAccess(D))switch(D){case Nt.LOCAL:return window.localStorage;case Nt.SESSION:return window.sessionStorage;default:return window[this.availableTypes[0]]}else Pn("User dont have access to any storage")},U}();(function(U){U.SESSION="sessionStorage",U.LOCAL="localStorage"})(Nt||(Nt={}));var pr,wn="__fs_picker_token",ai=function(){function U(D,V){this.cache=!1,this.session=D,this.storeAdapter=new Ji,this.cloudApiUrl=D.urls.cloudApiUrl,V&&V.sessionCache&&(this.cache=V.sessionCache)}return Object.defineProperty(U.prototype,"token",{get:function(){if(this.cache){var D=this.storeAdapter.getItem(wn,Nt.LOCAL);if(D)return D}return this.isInAppBrowser?this.storeAdapter.getItem(wn,Nt.SESSION):this._token},set:function(D){this.cache&&this.storeAdapter.setItem(wn,D,Nt.LOCAL),this.isInAppBrowser&&this.storeAdapter.setItem(wn,D,Nt.SESSION),this._token=D},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"isInAppBrowser",{get:function(){return!!(this.session&&this.session.prefetch&&this.session.prefetch.settings&&this.session.prefetch.settings.inapp_browser)&&this.session.prefetch.settings.inapp_browser},enumerable:!0,configurable:!0}),U.prototype.list=function(D,V,X){var ae=this,ce={apikey:this.session.apikey,clouds:D,flow:"web",token:this.token};X&&(Array.isArray(X)||(X=[X]),ce.accept=X),this.isInAppBrowser&&(ce.appurl=this.currentAppUrl()),this.session.policy&&this.session.signature&&(ce.policy=this.session.policy,ce.signature=this.session.signature);var de={};if(V){var we=new Fn;V.cancel=we.cancel.bind(we),de.cancelToken=we}return kt.post(this.cloudApiUrl+"/folder/list",ce,de).then(function(je){return je.data&&je.data.token&&(ae.token=je.data.token),je.data})},U.prototype.store=function(D,V,X,ae,ce,de){var we,je=this;X===void 0&&(X={}),ae===void 0&&(ae={}),de===void 0&&(de=null),X.location===void 0&&(X.location="s3");var Be={apikey:this.session.apikey,token:this.token,flow:"web",upload_tags:de||void 0,clouds:(we={},we[D]={path:V,store:Object(ve.removeEmpty)(X)},we)};D==="customsource"&&ae.customSourcePath&&(Be.clouds.customsource.customSourcePath=ae.customSourcePath),D==="customsource"&&ae.customSourceContainer&&(Be.clouds.customsource.customSourceContainer=ae.customSourceContainer),this.session.policy&&this.session.signature&&(Be.policy=this.session.policy,Be.signature=this.session.signature);var Ce={};if(ce){var tt=new Fn;ce.cancel=tt.cancel.bind(tt),Ce.cancelToken=tt}return kt.post(this.cloudApiUrl+"/store/",Be,Ce).then(function(De){return De.data&&De.data.token&&(je.token=De.data.token),De.data&&De.data[D]?De.data[D]:De.data})},U.prototype.logout=function(D){var V,X={apikey:this.session.apikey,flow:"web",token:this.token};return D?X.clouds=((V={})[D]={},V):(this.cache&&this.storeAdapter.removeItem(wn,Nt.LOCAL),this.isInAppBrowser&&this.storeAdapter.removeItem(wn,Nt.SESSION)),kt.post(this.cloudApiUrl+"/auth/logout",X).then(function(ae){return ae.data&&ae.data[D]?ae.data[D]:ae.data})},U.prototype.metadata=function(D,V){var X={apikey:this.session.apikey,url:D,headers:V};return this.session.policy&&this.session.signature&&(X.policy=this.session.policy,X.signature=this.session.signature),kt.post(this.cloudApiUrl+"/metadata",X).then(function(ae){return ae.data})},U.prototype.tokInit=function(D){if(D!=="video"&&D!=="audio")throw new fe("Type must be one of video or audio.");return kt.post(this.cloudApiUrl+"/recording/"+D+"/init").then(function(V){return V.data})},U.prototype.tokStart=function(D,V,X){if(D!=="video"&&D!=="audio")throw new fe("Type must be one of video or audio.");var ae={apikey:V,session_id:X};return kt.post(this.cloudApiUrl+"/recording/"+D+"/start",ae).then(function(ce){return ce.data})},U.prototype.tokStop=function(D,V,X,ae){if(D!=="video"&&D!=="audio")throw new fe("Type must be one of video or audio.");var ce={apikey:V,session_id:X,archive_id:ae};return kt.post(this.cloudApiUrl+"/recording/"+D+"/stop",ce).then(function(de){return de.data})},U.prototype.currentAppUrl=function(){if(window.URLSearchParams){var D=new URLSearchParams(window.location.search);return D.set("fs-tab","init"),window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+D.toString()}},U}(),si=f(30);(function(U){U.PICKER="picker",U.TRANSFORM_UI="transform_ui"})(pr||(pr={}));var xr,dr,ui=function(){function U(D){this.session=D instanceof mr?D.session:D}return U.prototype.getConfig=function(D){var V=D.pickerOptions,X=D.settings,ae=D.permissions,ce=D.events;return Object(v.b)(this,void 0,void 0,function(){var de,we,je=this;return Object(v.d)(this,function(Be){return de={apikey:this.session.apikey},this.session.policy&&this.session.signature&&(de.security={policy:this.session.policy,signature:this.session.signature}),X=X?(X=X.concat(["inapp_browser"])).filter(function(Ce,tt){return X.indexOf(Ce)===tt}):["inapp_browser"],V&&Object.keys(V).length&&(we=Object(ve.cleanUpCallbacks)(si(Object(v.a)({},V)))),de=Object(v.a)(Object(v.a)({},de),{permissions:ae,settings:X,picker_config:we,events:ce}),this.session.prefetch=null,[2,kt.post(this.session.urls.uploadApiUrl+"/prefetch",de).then(function(Ce){if(Ce.status!==200)throw new fe("There is a problem with prefetch request");var tt=Ce.data;return tt.updated_config?(tt.pickerOptions=je.reassignCallbacks(V,tt.updated_config||{}),delete tt.updated_config):tt.pickerOptions=V,je.session.prefetch=tt,tt})]})})},U.prototype.reassignCallbacks=function(D,V){if(!D||Object.keys(D).length===0)return D;for(var X in D)typeof D[X]=="function"&&(V[X]=D[X]),D[X]===Object(D[X])&&(V[X]=this.reassignCallbacks(D[X],V[X]));return V},U}();(function(U){U.cw="CW",U.ccw="CCW"})(xr||(xr={})),function(U){U.inline="inline",U.overlay="overlay",U.dropPane="dropPane"}(dr||(dr={}));var Fr=function(){function U(D,V){var X=pe(Ut)(V);if(X.errors.length)throw new fe("Invalid picker params",X.errors,le.VALIDATION);this._initialized=this.loadModule(D,V)}return U.prototype.open=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().open()];case 2:return D.sent(),[2]}})})},U.prototype.crop=function(D){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(V){switch(V.label){case 0:return[4,this._initialized];case 1:return[4,V.sent().crop(D)];case 2:return V.sent(),[2]}})})},U.prototype.close=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().close()];case 2:return D.sent(),[2]}})})},U.prototype.cancel=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(D){switch(D.label){case 0:return[4,this._initialized];case 1:return[4,D.sent().cancel()];case 2:return D.sent(),[2]}})})},U.prototype.loadModule=function(D,V){return Object(v.b)(this,void 0,void 0,function(){var X;return Object(v.d)(this,function(ae){switch(ae.label){case 0:return X=D.session.urls.pickerUrl,[4,g(_.PICKER,X)];case 1:return[2,new(ae.sent())(D,V)]}})})},U}();ie("addBreadcrumb",{category:"sdk",message:"filestack-js-sdk scope"});var mr=function(U){function D(V,X){var ae=U.call(this)||this;if(ae.options=X,ae.forwardErrors=!0,X&&X.forwardErrors&&(ae.forwardErrors=X.forwardErrors),!V||typeof V!="string"||V.length===0)throw new Error("An apikey is required to initialize the Filestack client");var ce=he.urls;if(ae.session={apikey:V,urls:ce},X){var de=X.cname,we=X.security;ae.setSecurity(we),ae.setCname(de)}return ae.prefetchInstance=new ui(ae.session),ae.cloud=new ai(ae.session,X),ae}return Object(v.c)(D,U),Object.defineProperty(D.prototype,"utils",{get:function(){return ve},enumerable:!0,configurable:!0}),D.prototype.prefetch=function(V){return this.prefetchInstance.getConfig(V)},D.prototype.setSecurity=function(V){if(V&&(!V.policy||!V.signature))throw new fe("Both policy and signature are required for client security");V&&V.policy&&V.signature&&(this.session.policy=V.policy,this.session.signature=V.signature)},D.prototype.setCname=function(V){V&&V.length!==0&&(this.session.cname=V,this.session.urls=ve.resolveHost(this.session.urls,V))},D.prototype.logout=function(V){return this.cloud.logout(V)},D.prototype.metadata=function(V,X,ae){return function(ce,de,we,je){if(!de||typeof de!="string")throw new fe("A valid Filestack handle is required for metadata");var Be=pe(en)(we);if(Be.errors.length)throw new fe("Invalid metadata params",Be.errors);var Ce=Object(v.a)({},we);Ce.source_url=Ce.sourceUrl,Ce.policy=je&&je.policy||ce.policy,Ce.signature=je&&je.signature||ce.signature;var tt=ce.urls.fileApiUrl+"/"+de+"/metadata";return new Promise(function(De,ut){kt.get(tt,{params:Object(ve.removeEmpty)(Ce),filestackHeaders:!1}).then(function(_t){return De(Object(v.a)(Object(v.a)({},_t.data),{handle:de}))}).catch(ut)})}(this.session,V,X,ae)},D.prototype.picker=function(V){return function(X,ae){return new Fr(X,ae)}(this,V)},D.prototype.preview=function(V,X){return Or(this.session,V,X)},D.prototype.remove=function(V,X){return rn(this.session,V,!1,X)},D.prototype.removeMetadata=function(V,X){return rn(this.session,V,!0,X)},D.prototype.storeURL=function(V,X,ae,ce,de,we,je){return function(Be){var Ce=Be.session,tt=Be.url,De=Be.storeParams,ut=Be.token,_t=Be.security,qt=Be.uploadTags,pn=Be.headers,Xt=Be.workflowIds;if(!tt||typeof tt!="string")return Promise.reject(new fe("url is required for storeURL"));var Ht=pe(Ot)(De);if(Ht.errors.length)return Promise.reject(new fe("Invalid store params",Ht.errors));Ce.policy=_t&&_t.policy||Ce.policy,Ce.signature=_t&&_t.signature||Ce.signature;var Nn=new Rt(tt,Ce.apikey);Nn.store(De),Ce.policy&&Ce.signature&&Nn.security({policy:Ce.policy,signature:Ce.signature});var gn={};if(ut){var Dn=new Fn;ut.cancel=Dn.cancel.bind(Dn),gn.cancelToken=Dn}var Yn=[tt];return pn&&(Yn=[{source:tt,headers:pn}]),Xt&&Xt.length>0&&Nn.addTask("store",{workflows:Xt}),kt.post(Ce.urls.processUrl+"/process",{apikey:Ce.apikey,sources:Yn,tasks:Nn.getTasks(),upload_tags:qt},gn).then(function(In){if(In.data&&In.data.handle)return In.data.upload_tags&&(In.data.uploadTags=In.data.upload_tags,delete In.data.upload_tags),Object(v.a)(Object(v.a)({},In.data),{mimetype:In.data.type});throw new fe("Invalid store response "+JSON.stringify(In.data))})}({session:this.session,url:V,storeParams:X,token:ae,security:ce,uploadTags:de,headers:we,workflowIds:je})},D.prototype.retrieve=function(V,X,ae){return function(ce,de,we,je){if(we===void 0&&(we={}),!de||de.length===0||typeof de!="string")throw new fe("File handle is required");console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");var Be=pe(Xe)(we);if(Be.errors.length)throw new fe("Invalid retrieve params",Be.errors);var Ce=Object(v.a)({},we);Ce.key=ce.apikey,Ce.policy=je&&je.policy||ce.policy,Ce.signature=je&&je.signature||ce.signature;var tt,De,ut=Je.a.GET;if(Ce.head&&(ut=Je.a.HEAD,delete Ce.head),Ce.extension&&Ce.extension.length&&(tt=Ce.extension,delete Ce.extension),Ce.metadata){if(ut===Je.a.HEAD)throw new fe("Head and metadata options cannot be used together");De=Ce.metadata,delete Ce.metadata}var _t=ce.urls.fileApiUrl+"/"+de+(tt?"+"+tt:"")+(De?"/metadata":"");return new Promise(function(qt,pn){kt.dispatch(_t,{method:ut,filestackHeaders:!1,params:Object(ve.removeEmpty)(Ce)}).then(function(Xt){return qt(ut===Je.a.HEAD?Xt.headers:Xt.data)}).catch(pn)})}(this.session,V,X,ae)},D.prototype.download=function(V,X){return function(ae,ce,de){var we=new Rt(ce,ae.apikey),je=de&&de.policy||ae.policy,Be=de&&de.signature||ae.signature;return je&&Be&&we.security({signature:Be,policy:je}),kt.dispatch(we.toString(),{method:Je.a.GET,blobResponse:!0})}(this.session,V,X)},D.prototype.transform=function(V,X,ae){return ae===void 0&&(ae=!1),Tn(this.session,V,X,ae)},D.prototype.upload=function(V,X,ae,ce,de){var we=this,je=new qn(X,ae);return je.setSession(this.session),ce&&je.setToken(ce),de&&je.setSecurity(de),je.on("start",function(){return we.emit("upload.start")}),je.on("error",function(Be){we.forwardErrors&&ue(function(Ce){Ce.setTag("filestack-apikey",we.session.apikey),Ce.setTag("filestack-version",ve.getVersion()),Ce.setExtra("filestack-options",we.options),Ce.setExtras({uploadOptions:X,storeOptions:ae,details:Be.details}),Be.message="FS-"+Be.message,G(Be)}),we.emit("upload.error",Be)}),je.upload(V)},D.prototype.multiupload=function(V,X,ae,ce,de){var we=this,je=new qn(X,ae);return je.setSession(this.session),ce&&je.setToken(ce),de&&je.setSecurity(de),je.on("start",function(){return we.emit("upload.start")}),je.on("error",function(Be){ue(function(Ce){Ce.setTag("filestack-apikey",we.session.apikey),Ce.setTag("filestack-version",ve.getVersion()),Ce.setExtra("filestack-options",we.options),Ce.setExtras(Be.details),Ce.setExtras({uploadOptions:X,storeOptions:ae}),G(Be)}),we.emit("upload.error",Be)}),je.multiupload(V)},D}(b.EventEmitter),Nr=function(U,D){return new mr(U,D)},qi=Nr,ci="3.25.0";y(_.FILESTACK_SDK,Nr,{version:"3.25.0"})},,function(o,u,f){(function(d){f.d(u,"a",function(){return w});var m=f(9),h=f(13),g={nowSeconds:function(){return Date.now()/1e3}},y=Object(h.b)()?function(){try{return Object(h.a)(d,"perf_hooks").performance}catch{return}}():function(){var $=Object(m.b)().performance;if($&&$.now)return{now:function(){return $.now()},timeOrigin:Date.now()-$.now()}}(),_=y===void 0?g:{nowSeconds:function(){return(y.timeOrigin+y.now())/1e3}},w=g.nowSeconds.bind(g);_.nowSeconds.bind(_),function(){var $=Object(m.b)().performance;$&&($.timeOrigin?$.timeOrigin:$.timing&&$.timing.navigationStart||Date.now())}()}).call(this,f(51)(o))},function(o,u,f){(function(d){f.d(u,"a",function(){return g});var m=f(0),h=(f(22),f(4));f(32),f(31),f(10);function g(y){var _,w;if(Object(h.e)(y)){var $=y,v={};try{for(var b=Object(m.f)(Object.keys($)),M=b.next();!M.done;M=b.next()){var P=M.value;$[P]!==void 0&&(v[P]=g($[P]))}}catch(I){_={error:I}}finally{try{M&&!M.done&&(w=b.return)&&w.call(b)}finally{if(_)throw _.error}}return v}return Array.isArray(y)?y.map(g):y}}).call(this,f(14))}]);filestack.Filestack;const _filestack$init=filestack.init;filestack.version;filestack.EAlignOptions;filestack.EAlignFacesOptions;filestack.EFitOptions;filestack.EBlurMode;filestack.EShapeType;filestack.ENoiseType;filestack.EStyleType;filestack.EColorspaceType;filestack.ECropfacesType;filestack.ESmartCropMode;filestack.EImageWatermarkPosition;filestack.EVideoTypes;filestack.EUrlscreenshotAgent;filestack.EUrlscreenshotMode;filestack.EUrlscreenshotOrientation;filestack.EVideoLocations;filestack.EVideoAccess;filestack.EVideoAccessMode;filestack.transform;filestack.Align;filestack.FitOptions;filestack.BlurMode;filestack.ShapeType;filestack.NoiseType;filestack.StyleType;filestack.ColorspaceType;filestack.CropfacesType;filestack.ImageWatermarkPosition;filestack.SmartCropMode;filestack.VideoTypes;filestack.URLScreenshotAgent;filestack.URLScreenshotMode;filestack.URLScreenshotOrientation;filestack.Locations;filestack.VideoAccess;filestack.VideoAccessMode;filestack.EnhancePreset;filestack.Filelink;filestack.FilestackErrorType;filestack.FsHttpMethod;filestack.FsRequest;filestack.FsRequestErrorCode;filestack.FsRequestError;filestack.FsCancelToken;filestack.resolveCdnUrl;filestack.resolveHost;filestack.removeEmpty;filestack.uniqueTime;filestack.uniqueId;filestack.extensionToMime;filestack.sanitizeName;filestack.filterObject;filestack.cleanUpCallbacks;filestack.md5;filestack.b64;filestack.getVersion;filestack.isMobile;filestack.isFacebook;filestack.TransformSchema;filestack.getSecurity;filestack.validateWebhookSignature;filestack.Client;filestack.FilestackError;filestack.PickerDisplayMode;filestack.getMimetype;filestack.PrefetchEvents;const init=()=>_filestack$init("ArcQnSXbqT4O0OORDyYxrz"),picker=o=>u=>f=>d=>m=>()=>m.picker({onFileUploadCancel:h=>o(h)(),onFileUploadFailed:(h,g)=>u(h)(g)(),onFileUploadProgress:(h,g)=>f(h)(g)(),onFileUploadFinished:h=>d(h)()}).open(),pickerAccepting=o=>u=>f=>d=>m=>h=>()=>h.picker({accept:o,onFileUploadCancel:g=>u(g)(),onFileUploadFailed:(g,y)=>f(g)(y)(),onFileUploadProgress:(g,y)=>d(g)(y)(),onFileUploadFinished:g=>m(g)()}).open(),scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function o(u,f,d){return!f||f.length===0?u():Promise.all(f.map(m=>{if(m=assetsURL(m),m in seen)return;seen[m]=!0;const h=m.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":scriptRel,h||(y.as="script",y.crossOrigin=""),y.href=m,document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>u())},firebaseAuth=o=>()=>__vitePreload(()=>import("./index.esm.351a2977.js"),["assets/index.esm.351a2977.js","assets/index.esm2017.c37818b2.js"]).then(({getAuth:u})=>u(o)),initializeGoogleClient=o=>u=>()=>{window.google.accounts.id.initialize({client_id:"58052920677-fs42m1rdh38g8rt9u6jv6s63c4ga9v0r.apps.googleusercontent.com",callback:f=>{console.log("credential received"),__vitePreload(()=>import("./index.esm.351a2977.js"),["assets/index.esm.351a2977.js","assets/index.esm2017.c37818b2.js"]).then(({GoogleAuthProvider:d,linkWithCredential:m,signInWithCredential:h})=>{console.log("attempting to use credential",f.credential);const g=d.credential(f.credential);m(o.currentUser,g).then(y=>{const _=y.user;console.log("Anonymous account successfully upgraded",_),u()},()=>h(o,g).then(y=>{const _=y.user;console.log("Account successfully linked to existing credential",_),u()},y=>console.log("Error upgrading anonymous account",y)))})}})},signInWithGoogle=o=>()=>{window.google.accounts.id.prompt(u=>{(u.isNotDisplayed()||u.isSkippedMoment())&&window.google.accounts.id.renderButton(document.getElementById("google_sign_in"),{})})},currentUserImpl=o=>u=>f=>()=>f.currentUser?u(f.currentUser):o,signOut=o=>u=>()=>o.signOut().then(()=>signInAnonymously(o).then(()=>{u()},f=>{console.error("Could not sign in anonymously after sign out",f)})),onAuthStateChanged=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.351a2977.js"),["assets/index.esm.351a2977.js","assets/index.esm2017.c37818b2.js"]).then(({onAuthStateChanged:m,signInAnonymously:h})=>m(d,y=>{y?(console.log("auth state change with user",y),y.isAnonymous?u(y)():f(y)()):h(d).then(()=>{}).catch(_=>{o(_)()})})),$AuthProvider=o=>({tag:o}),displayNameIsSymbol={reflectSymbol:()=>"displayName"},writeForeignMaybe={writeImpl:o=>{if(o.tag==="Nothing")return _undefined;if(o.tag==="Just")return o._1;fail$3()}},emailIsSymbol={reflectSymbol:()=>"email"},emailVerifiedIsSymbol={reflectSymbol:()=>"emailVerified"},isAnonymousIsSymbol={reflectSymbol:()=>"isAnonymous"},metadataIsSymbol={reflectSymbol:()=>"metadata"},creationTimeIsSymbol={reflectSymbol:()=>"creationTime"},lastSignInTimeIsSymbol={reflectSymbol:()=>"lastSignInTime"},multiFactorIsSymbol={reflectSymbol:()=>"multiFactor"},enrolledFactorsIsSymbol={reflectSymbol:()=>"enrolledFactors"},enrollmentTimeIsSymbol={reflectSymbol:()=>"enrollmentTime"},factorIdIsSymbol={reflectSymbol:()=>"factorId"},uidIsSymbol={reflectSymbol:()=>"uid"},consWriteForeignFields2=consWriteForeignFields$1(uidIsSymbol)(writeForeignString)(nilWriteForeignFields)()()(),phoneNumberIsSymbol={reflectSymbol:()=>"phoneNumber"},photoURLIsSymbol={reflectSymbol:()=>"photoURL"},providerDataIsSymbol={reflectSymbol:()=>"providerData"},providerIdIsSymbol={reflectSymbol:()=>"providerId"},refreshTokenIsSymbol={reflectSymbol:()=>"refreshToken"},tenantIdIsSymbol={reflectSymbol:()=>"tenantId"},readMaybe=readMaybe$3(readString),readFieldsCons2=readFieldsCons$1(uidIsSymbol)(readString)(readFieldsNil)()(),show1$2=(()=>showNonEmptyList$1(showForeignError).show)(),AuthAnonymous=$AuthProvider("AuthAnonymous"),AuthGoogle=$AuthProvider("AuthGoogle"),writeForeignUser=(()=>{const o=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailVerifiedIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(isAnonymousIsSymbol)(writeForeignBoolean)(consWriteForeignFields$1(metadataIsSymbol)((()=>{const u=consWriteForeignFields$1(creationTimeIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(lastSignInTimeIsSymbol)(writeForeignMaybe)(nilWriteForeignFields)()()())()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields$1(multiFactorIsSymbol)((()=>{const u=consWriteForeignFields$1(enrolledFactorsIsSymbol)((()=>{const f=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(enrollmentTimeIsSymbol)(writeForeignString)(consWriteForeignFields$1(factorIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()();return{writeImpl:d=>arrayMap(m=>f.writeImplFields($$Proxy)(m)({}))(d)}})())(nilWriteForeignFields)()()();return{writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return u.writeImplFields($$Proxy)(f._1)({});fail$3()}}})())(consWriteForeignFields$1(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(providerDataIsSymbol)((()=>{const u=consWriteForeignFields$1(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields$1(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()())()()())()()();return{writeImpl:f=>arrayMap(d=>u.writeImplFields($$Proxy)(d)({}))(f)}})())(consWriteForeignFields$1(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields$1(refreshTokenIsSymbol)(writeForeignString)(consWriteForeignFields$1(tenantIdIsSymbol)(writeForeignMaybe)(consWriteForeignFields2)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),readForeignUser=readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(emailIsSymbol)(readMaybe)(readFieldsCons$1(emailVerifiedIsSymbol)(readBoolean)(readFieldsCons$1(isAnonymousIsSymbol)(readBoolean)(readFieldsCons$1(metadataIsSymbol)(readMaybe$3(readRecord()(readFieldsCons$1(creationTimeIsSymbol)(readMaybe)(readFieldsCons$1(lastSignInTimeIsSymbol)(readMaybe)(readFieldsNil)()())()())))(readFieldsCons$1(multiFactorIsSymbol)(readMaybe$3(readRecord()(readFieldsCons$1(enrolledFactorsIsSymbol)(readArray(readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(enrollmentTimeIsSymbol)(readString)(readFieldsCons$1(factorIdIsSymbol)(readString)(readFieldsCons2)()())()())()())))(readFieldsNil)()())))(readFieldsCons$1(phoneNumberIsSymbol)(readMaybe)(readFieldsCons$1(photoURLIsSymbol)(readMaybe)(readFieldsCons$1(providerDataIsSymbol)(readArray(readRecord()(readFieldsCons$1(displayNameIsSymbol)(readMaybe)(readFieldsCons$1(emailIsSymbol)(readMaybe)(readFieldsCons$1(phoneNumberIsSymbol)(readMaybe)(readFieldsCons$1(photoURLIsSymbol)(readMaybe)(readFieldsCons$1(providerIdIsSymbol)(readString)(readFieldsCons2)()())()())()())()())()())))(readFieldsCons$1(providerIdIsSymbol)(readString)(readFieldsCons$1(refreshTokenIsSymbol)(readString)(readFieldsCons$1(tenantIdIsSymbol)(readMaybe)(readFieldsCons2)()())()())()())()())()())()())()())()())()())()())()())()()),currentUser=currentUserImpl(Nothing)(Just),authStateChangedEventWithAnonymousAccountCreation=o=>backdoor.makeEvent(u=>()=>{const f={value:()=>unit},d=h=>g=>{const y=readForeignUser.readImpl(g);if(y.tag==="Left")return throwException(error$1(showStringImpl(_unsafeStringify(g))+(" "+show1$2(y._1))));if(y.tag==="Right")return u({user:y._1,provider:h});fail$3()};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(onAuthStateChanged(h=>error(showErrorImpl(h)))(d(AuthAnonymous))(d(AuthGoogle))(o)))(toAff$p(coerce)))(h=>_liftEffect(()=>f.value=h)))().run(),bindE(()=>f.value)(identity$v)}),firestoreDb=o=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({getFirestore:u})=>u(o)),RIDES="rides",TRACKS="tracks",PROFILE="profile",EVENTS="events",MARKER1TIME="marker1Time",MARKER2TIME="marker2Time",MARKER3TIME="marker3Time",MARKER4TIME="marker4Time",NAME="name",USERNAME="username",AVATARURL="avatarURL",TITLE="title",PRIVATE="private",COLUMN="column",turnOnRealtimePresence=o=>u=>f=>()=>Promise.all([__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]),__vitePreload(()=>import("./index.esm.5127db64.js"),["assets/index.esm.5127db64.js","assets/index.esm2017.c37818b2.js"])]).then(([d,m])=>{var h=f.currentUser.uid,g=m.getDatabase(o),y=m.ref(g,"/status/"+h),_={state:"offline",last_changed:m.serverTimestamp()},w={state:"online",last_changed:m.serverTimestamp()},$=d.doc(u,"/status/"+h),v={state:"offline",last_changed:d.serverTimestamp()},b={state:"online",last_changed:d.serverTimestamp()};const M=m.onValue(m.ref(g,".info/connected"),function(P){if(P.val()==!1){console.log("not connected to rtdb"),d.setDoc($,v);return}m.onDisconnect(y).set(_).then(function(){console.log("connected to rtdb"),m.set(y,w),d.setDoc($,b)})});return()=>{M(),m.onDisconnect(y).set(null)}}),addTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({collection:f,addDoc:d})=>d(f(o,TRACKS),u)),forkTrack=o=>u=>f=>()=>Promise.all([getTrack(u)(f)(),getEvents(u)(f)()]).then(([d,m])=>Promise.all([addTrack(u)({owner:o.currentUser.uid,...d})(),Promise.resolve(m)])).then(([d,m])=>Promise.all([...m.map(h=>addEvent(u)(d.id)(h.data)())])),getTrack=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({getDoc:f,doc:d})=>f(d(o,TRACKS,u)).then(m=>m.data())),updateTrackTitle=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[TITLE]=f,d(m(o,TRACKS,u),h)}),updateTrackPrivate=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:d,doc:m})=>{const h={};return h[PRIVATE]=f,d(m(o,TRACKS,u),h)}),addEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({collection:d,addDoc:m})=>(console.log(u,f),m(d(o,TRACKS,u,EVENTS),f))),getEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({getDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f)).then(h=>h.data())),getTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const g=f(m(u,TRACKS),h("owner","==",o.currentUser.uid));return d(g).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getProfile=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({getDoc:m,doc:h})=>m(h(d,PROFILE,f.currentUser.uid)).then(g=>g.exists()?u(g.data()):o)),updateProfileUsername=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({setDoc:d,doc:m})=>{const h={version:0};return h[USERNAME]=f,d(m(u,PROFILE,o.currentUser.uid),h,{merge:!0})}),updateProfileAvatarURL=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({setDoc:d,doc:m})=>{const h={version:0};return h[AVATARURL]=f,d(m(u,PROFILE,o.currentUser.uid),h,{merge:!0})}),listenToProfile=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({onSnapshot:d,doc:m})=>d(m(f,PROFILE,u.currentUser.uid),h=>h.exists()&&o(h.data())())),getWhitelistedTracks=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({query:f,getDocs:d,collection:m,where:h})=>{const g=f(m(u,TRACKS),h("whitelist","array-contains",o.currentUser.uid));return d(g).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getPublicTracks=o=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({query:u,getDocs:f,collection:d,where:m,limit:h})=>{const g=u(d(o,TRACKS),m("private","==",!1),h(50));return f(g).then(y=>{const _=[];return y.forEach(w=>{_.push({id:w.id,data:w.data()})}),_})}),getEvents=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({query:f,getDocs:d,collection:m})=>{const h=f(m(o,TRACKS,u,EVENTS));return d(h).then(g=>{const y=[];return g.forEach(_=>{y.push({id:_.id,data:_.data()})}),y})}),updateEventName=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[NAME]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),updateColumn=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[COLUMN]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),deleteEvent=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({deleteDoc:d,doc:m})=>d(m(o,TRACKS,u,EVENTS,f))),updateMarker1Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[MARKER1TIME]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),updateMarker2Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[MARKER2TIME]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),updateMarker3Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[MARKER3TIME]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),updateMarker4Time=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return g[MARKER4TIME]=d,m(h(o,TRACKS,u,EVENTS,f),g)}),addRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({collection:f,addDoc:d})=>d(f(o,RIDES),u)),getRide=o=>u=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({getDoc:f,doc:d})=>f(d(o,RIDES,u)).then(m=>m.data())),claimPlayer=o=>u=>f=>d=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:m,doc:h})=>{const g={};return o.currentUser?(g[d]=o.currentUser.uid,console.log("claimPlayer",f,d),m(h(u,RIDES,f),g)):Promise.reject(new Error("No current user"))}),removeUndefineds=o=>JSON.parse(JSON.stringify(o)),listenToRemoteChannelChanges=o=>u=>f=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({doc:d,onSnapshot:m})=>m(d(o,RIDES,u),h=>{if(!h.metadata.hasPendingWrites){const g=h.data();f(g)()}})),sendMyPointsAndPenaltiesToFirebaseImpl=o=>u=>f=>d=>m=>h=>g=>()=>__vitePreload(()=>import("./index.esm.671fc1a7.js"),["assets/index.esm.671fc1a7.js","assets/index.esm2017.c37818b2.js"]).then(({updateDoc:y,doc:_})=>{const w={};return u.currentUser?(w[d]=h,w[m]=g,y(_(o,RIDES,f),w)):Promise.reject(new Error("No current user"))}),showNonEmptyList=showNonEmptyList$1(showForeignError),readFieldsCons1=readFieldsCons$1({reflectSymbol:()=>"id"})(readString)(readFieldsNil)()(),read1=(()=>{const o=readArray(readRecord()(readFieldsCons$1({reflectSymbol:()=>"data"})(readForeignTrack)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),read2=(()=>{const o=readMaybe$3(readForeignTrack);return u=>o.readImpl(u)})(),read3=(()=>{const o=readMaybe$3(readForeignRide);return u=>o.readImpl(u)})(),traverse$2=(()=>traversableMaybe.traverse(applicativeAff))(),read4=(()=>{const o=readArray(readRecord()(readFieldsCons$1({reflectSymbol:()=>"data"})(readForeignEvent_)(readFieldsCons1)()()));return u=>o.readImpl(u)})(),read5=(()=>{const o=readMaybe$3(readForeignEvent_);return u=>o.readImpl(u)})(),$$try=$$try$2(monadErrorAff),updateTrackTitleAff=o=>u=>f=>_bind(_liftEffect(updateTrackTitle(o)(u)(f)))(toAff$p(coerce)),updateTrackPrivateAff=o=>u=>f=>_bind(_liftEffect(updateTrackPrivate(o)(u)(f)))(toAff$p(coerce)),updateProfileUsernameAff=o=>u=>f=>_bind(_liftEffect(updateProfileUsername(o)(u)(f)))(toAff$p(coerce)),updateProfileAvatarURLAff=o=>u=>f=>_bind(_liftEffect(updateProfileAvatarURL(o)(u)(f)))(toAff$p(coerce)),updateMarker4TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker4Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker3TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker3Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker2TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker2Time(o)(u)(f)(d)))(toAff$p(coerce)),updateMarker1TimeAff=o=>u=>f=>d=>_bind(_liftEffect(updateMarker1Time(o)(u)(f)(d)))(toAff$p(coerce)),updateEventNameAff=o=>u=>f=>d=>_bind(_liftEffect(updateEventName(o)(u)(f)(d)))(toAff$p(coerce)),updateColumnAff=o=>u=>f=>d=>_bind(_liftEffect(updateColumn(o)(u)(f)((()=>{if(d.tag==="C1")return 1;if(d.tag==="C2")return 2;if(d.tag==="C3")return 3;if(d.tag==="C4")return 4;if(d.tag==="C5")return 5;if(d.tag==="C6")return 6;if(d.tag==="C7")return 7;if(d.tag==="C8")return 8;if(d.tag==="C9")return 9;if(d.tag==="C10")return 10;if(d.tag==="C11")return 11;if(d.tag==="C12")return 12;if(d.tag==="C13")return 13;if(d.tag==="C14")return 14;if(d.tag==="C15")return 15;if(d.tag==="C16")return 16;if(d.tag==="C17")return 17;fail$3()})())))(toAff$p(coerce)),turnOnRealtimePresenceAff=o=>u=>f=>_bind(_liftEffect(turnOnRealtimePresence(o)(u)(f)))(toAff$p(coerce)),sendMyPointsAndPenaltiesToFirebase=o=>u=>f=>d=>m=>h=>_bind(_liftEffect(sendMyPointsAndPenaltiesToFirebaseImpl(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1Points";if(d.tag==="Player2")return"player2Points";if(d.tag==="Player3")return"player3Points";if(d.tag==="Player4")return"player4Points";fail$3()})())((()=>{if(d.tag==="Player1")return"player1Penalties";if(d.tag==="Player2")return"player2Penalties";if(d.tag==="Player3")return"player3Penalties";if(d.tag==="Player4")return"player4Penalties";fail$3()})())(m)(h)))(toAff$p(coerce)),profileEvent=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:()=>unit};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(listenToProfile(h=>{const g=readForeignProfile.readImpl(h);if(g.tag==="Left")return error(showNonEmptyList.show(g._1));if(g.tag==="Right")return f(g._1);fail$3()})(o)(u)))(toAff$p(coerce)))(h=>_liftEffect(()=>d.value=h)))().run(),bindE(()=>d.value)(identity$v)}),getWhitelistedTracksAff=o=>u=>_bind(_bind(_liftEffect(getWhitelistedTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getTracksAff=o=>u=>_bind(_bind(_liftEffect(getTracks(o)(u)))(toAff$p(coerce)))(f=>{const d=read1(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getTrackAff=o=>u=>_bind(_bind(_liftEffect(getTrack(o)(u)))(toAff$p(coerce)))(f=>{const d=read2(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getRideAff=o=>u=>_bind(_bind(_liftEffect(getRide(o)(u)))(toAff$p(coerce)))(f=>{const d=read3(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getPublicTracksAff=o=>_bind(_bind(_liftEffect(getPublicTracks(o)))(toAff$p(coerce)))(u=>{const f=read1(u);if(f.tag==="Right")return _pure(f._1);if(f.tag==="Left")return _throwError(error$1(showNonEmptyList.show(f._1)));fail$3()}),getProfileAff=o=>u=>_bind(_bind(_liftEffect(getProfile(Nothing)(Just)(o)(u)))(toAff$p(coerce)))(traverse$2(f=>{const d=readForeignProfile.readImpl(f);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));if(d.tag==="Right")return _pure(d._1);fail$3()})),getLowestAvailablePlayer=o=>{const u=(()=>{if(o.player4.tag==="Nothing")return $Maybe("Just",Player4);if(o.player4.tag==="Just")return Nothing;fail$3()})(),f=(()=>{if(o.player3.tag==="Nothing")return $Maybe("Just",Player3);if(o.player3.tag==="Just")return Nothing;fail$3()})(),d=(()=>{if(o.player2.tag==="Nothing")return $Maybe("Just",Player2);if(o.player2.tag==="Just")return Nothing;fail$3()})(),m=(()=>{if(o.player1.tag==="Nothing")return $Maybe("Just",Player1);if(o.player1.tag==="Just")return Nothing;fail$3()})(),h=(()=>d.tag==="Nothing"?m:d)(),g=(()=>f.tag==="Nothing"?h:f)();return u.tag==="Nothing"?g:u},getEventsAff=o=>u=>_bind(_bind(_liftEffect(getEvents(o)(u)))(toAff$p(coerce)))(f=>{const d=read4(f);if(d.tag==="Right")return _pure(d._1);if(d.tag==="Left")return _throwError(error$1(showNonEmptyList.show(d._1)));fail$3()}),getEventAff=o=>u=>f=>_bind(_bind(_liftEffect(getEvent(o)(u)(f)))(toAff$p(coerce)))(d=>{const m=read5(d);if(m.tag==="Right")return _pure(m._1);if(m.tag==="Left")return _throwError(error$1(showNonEmptyList.show(m._1)));fail$3()}),forkTrackAff=o=>u=>f=>_bind(_liftEffect(forkTrack(o)(u)(f)))(toAff$p(coerce)),eventChannelChanges=o=>u=>backdoor.makeEvent(f=>()=>{const d={value:()=>unit};return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(listenToRemoteChannelChanges(o)(u)(h=>{const g=readForeignRide.readImpl(h);if(g.tag==="Left")return throwException(error$1(showNonEmptyList.show(g._1)));if(g.tag==="Right")return f(g._1);fail$3()})))(toAff$p(coerce)))(h=>_liftEffect(()=>d.value=h)))().run(),bindE(()=>d.value)(identity$v)}),deleteEventAff=o=>u=>f=>_bind(_liftEffect(deleteEvent(o)(u)(f)))(toAff$p(coerce)),claimPlayerAff=o=>u=>f=>d=>_bind(_liftEffect(claimPlayer(o)(u)(f)((()=>{if(d.tag==="Player1")return"player1";if(d.tag==="Player2")return"player2";if(d.tag==="Player3")return"player3";if(d.tag==="Player4")return"player4";fail$3()})())))(toAff$p(coerce)),getPlayerForChannel=(()=>{const o=u=>f=>d=>m=>h=>_bind((()=>{const g=_throwError(error$1("No player found"));return u>=4?g:_pure(unit)})())(()=>_bind(getRideAff(d)(m))(g=>{if(g.tag==="Nothing")return _throwError(error$1("PROGRAMMING ERROR: Ride has not been created yet, verify control flow!"));if(g.tag==="Just"){const y=getLowestAvailablePlayer(g._1._1);if(h.tag==="Nothing"){if(y.tag==="Nothing")return _pure(Nothing);if(y.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(y._1)))(_=>{if(_.tag==="Right")return _pure($Maybe("Just",y._1));if(_.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}if(h.tag==="Nothing")return _pure(Nothing);if(h.tag==="Just")return _bind($$try(claimPlayerAff(f)(d)(m)(h._1)))(_=>{if(_.tag==="Right")return _pure($Maybe("Just",h._1));if(_.tag==="Left")return o(u+1|0)(f)(d)(m)(h);fail$3()});fail$3()}fail$3()}));return o(0)})(),addTrackAff=o=>u=>_bind(_liftEffect(addTrack(o)(removeUndefineds(writeImpl3$1(u._1)))))(toAff$p(coerce)),addRideAff=o=>u=>_bind(_liftEffect(addRide(o)(removeUndefineds(writeImpl1(u._1)))))(toAff$p(coerce)),createRideIfNotExistsYet=o=>u=>_bind(getRideAff(o)(u))(f=>{if(f.tag==="Nothing")return _map(d=>d.id)(addRideAff(o)(defaultRide));if(f.tag==="Just")return _pure(u);fail$3()}),addEventAff=o=>u=>f=>_bind(_liftEffect(addEvent(o)(u)(removeUndefineds(writeForeignEventV0.writeImpl(f._1)))))(toAff$p(coerce));class e$1 extends Error{}class t extends e$1{}class n$1 extends e$1{}const c=(o,u=",")=>o.join(u),l$1={accept:"*",multiple:!1,strict:!1},r$1=o=>{const{accept:u,multiple:f,strict:d}={...l$1,...o},m=p({multiple:f,accept:Array.isArray(u)?c(u):u});return new Promise(h=>{m.onchange=()=>{h(s(m.files,f,d)),m.remove()},m.click()})},s=(o,u,f)=>new Promise((d,m)=>{if(!o)return m(new t);const h=i$2(o,u,f);if(!h)return m(new n$1);d(h)}),i$2=(o,u,f)=>!u&&f?o.length===1?o[0]:null:o.length?o:null,p=({accept:o,multiple:u})=>{const f=document.createElement("input");return f.type="file",f.multiple=u,f.accept=o,f},fileList=()=>(console.log("calling file dialog"),r$1()),$AugmentedEventV0=(o,u)=>({tag:o,_1:u}),$AugmentedEvent_=o=>({tag:"AugmentedEventV0",_1:o}),applicativeStateT=applicativeStateT$1(monadIdentity),traverse$1=(()=>traversableArray.traverse(applicativeStateT))(),bindStateT=bindStateT$1(monadIdentity),map=(()=>functorStateT$1(functorIdentity).map)(),monadStateStateT=monadStateStateT$2(monadIdentity),toAugmentedEvents=o=>traverse$1(u=>{if(u._1.tag==="BasicEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+u._1._1.marker2Time;if(m.tag==="Position3")return .2+u._1._1.marker3Time;if(m.tag==="Position4")return .2+u._1._1.marker4Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LeapEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));if(u._1.tag==="LongEventV0")return bindStateT.bind(map(f=>{if(f.tag==="Nothing")return d=>0;if(f.tag==="Just")return f._1;fail$3()})((()=>{const f=lookup$2(ordColumn)(u._1._1.column);return monadStateStateT.state(d=>$Tuple(f(d),d))})()))(f=>bindStateT.bind((()=>{const d=insert$2(ordColumn)(u._1._1.column)(m=>{if(m.tag==="Position1")return .2+u._1._1.marker1Time;if(m.tag==="Position2")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.33+u._1._1.marker1Time);if(m.tag==="Position3")return .2+((u._1._1.marker2Time-u._1._1.marker1Time)*.66+u._1._1.marker1Time);if(m.tag==="Position4")return .2+u._1._1.marker2Time;fail$3()});return monadStateStateT.state(m=>$Tuple(unit,d(m)))})())(()=>applicativeStateT.pure((()=>{if(u._1.tag==="BasicEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LeapEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0",{...u._1._1,raycastingCanStartAt:f}));if(u._1.tag==="LongEventV0")return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0",{...u._1._1,raycastingCanStartAt:f}));fail$3()})())));fail$3()})(sortBy$1(u=>f=>ordNumber.compare((()=>{if(u._1.tag==="BasicEventV0"||u._1.tag==="LeapEventV0"||u._1.tag==="LongEventV0")return u._1._1.marker1Time;fail$3()})())((()=>{if(f._1.tag==="BasicEventV0"||f._1.tag==="LeapEventV0"||f._1.tag==="LongEventV0")return f._1._1.marker1Time;fail$3()})()))(o))(Leaf)._1,withTime=o=>backdoor.makeEvent(u=>subscribe(o)(f=>()=>{const d=now();return u({time:d,value:f})()})),onAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_on}})),offAt=()=>o=>(u,f)=>o(u,d=>f({type:"onOff",value:{o:d,x:_off}})),playBuf$3=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),basic$1=o=>gain_(initialGainNumber)(1)([playBuf$3({buffer:o.silence})((u,f)=>{const d=o.buffer(u,g=>f({type:"buffer",value:g})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),emptyMatrix={n11:0,n12:0,n13:0,n14:0,n21:0,n22:0,n23:0,n24:0,n31:0,n32:0,n33:0,n34:0,n41:0,n42:0,n43:0,n44:1},$Semaphore=(o,u)=>({tag:o,_1:u}),$Stage=o=>({tag:o}),oneOf$d=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$6=traverse_$9(applicativeST)(foldableObject),identity$8=o=>o,Begin=$Stage("Begin"),Middle=$Stage("Middle"),End=$Stage("End"),Release=$Semaphore("Release"),withRemoval$p=o=>u=>f=>d=>()=>{const m=o.value;return o.value=mutate(poke(u)(d))(m),f},singleInstance=o=>u=>f=>backdoor.makeLemmingEvent(d=>m=>{const h=d(oneOf$d([backdoor.makeLemmingEvent(g=>y=>()=>{const _={value:empty$2},w=g(o)($=>bind_(onMatch()()()({matrix4:v=>{const b=f.setSingleInstancedMeshMatrix4({id:u.meshId,instanceId:u.instanceId,matrix4:v});return()=>b},color:v=>{const b=f.setSingleInstancedMeshColor({id:u.meshId,instanceId:u.instanceId,color:v});return()=>b},onClick:v=>withRemoval$p(_)("click")(f.setIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:v}))(f.removeIMOnClick({id:u.meshId,instanceId:u.instanceId,onClick:v})),onMouseDown:v=>withRemoval$p(_)("mousedown")(f.setIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:v}))(f.removeIMOnMouseDown({id:u.meshId,instanceId:u.instanceId,onMouseDown:v})),onMouseUp:v=>withRemoval$p(_)("mouseup")(f.setIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:v}))(f.removeIMOnMouseUp({id:u.meshId,instanceId:u.instanceId,onMouseUp:v})),onMouseMove:v=>withRemoval$p(_)("mousemove")(f.setIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:v}))(f.removeIMOnMouseMove({id:u.meshId,instanceId:u.instanceId,onMouseMove:v})),onTouchStart:v=>withRemoval$p(_)("touchstart")(f.setIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:v}))(f.removeIMOnTouchStart({id:u.meshId,instanceId:u.instanceId,onTouchStart:v})),onTouchEnd:v=>withRemoval$p(_)("touchend")(f.setIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:v}))(f.removeIMOnTouchEnd({id:u.meshId,instanceId:u.instanceId,onTouchEnd:v})),onTouchMove:v=>withRemoval$p(_)("touchmove")(f.setIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:v}))(f.removeIMOnTouchMove({id:u.meshId,instanceId:u.instanceId,onTouchMove:v})),onTouchCancel:v=>withRemoval$p(_)("touchcancel")(f.setIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:v}))(f.removeIMOnTouchCancel({id:u.meshId,instanceId:u.instanceId,onTouchCancel:v}))})(case_)($))(y))();return()=>{const $=_.value;return foreachE(values($))(y)(),w()}})]))(m);return()=>h()}),roundRobinInstancedMesh=o=>u=>f=>d=>m=>$Entity("Element'",h=>g=>backdoor.makeLemmingEvent(y=>_=>()=>{const w=g.ids(),$={value:Nothing},v={value:Nothing};h.raiseId(w)();const b=y(oneOf$d([f({parent:Nothing,scope:h.scope,raiseId:C=>()=>($.value=$Maybe("Just",C),unit)})(g),d({parent:Nothing,scope:h.scope,raiseId:C=>()=>(v.value=$Maybe("Just",C),unit)})(g)]))(_)(),M=$.value,P=v.value,I=y((()=>{if(M.tag==="Nothing"||P.tag==="Nothing")return plusEvent.empty;if(M.tag==="Just"){if(P.tag==="Just")return oneOf$d([applicativeEvent.pure(g.makeInstancedMesh({...o,id:w,parent:h.parent,scope:h.scope,geometry:M._1,material:P._1,count:u})),backdoor.makeLemmingEvent(C=>O=>{const B=range(0)(u-1|0);return()=>{const N={value:B},R={value:empty$2},L=C(m)(Y=>()=>{const te=N.value,K=uncons$1(te);if(K.tag==="Nothing")return unit;if(K.tag==="Just"){N.value=K._1.tail;const Q=g.ids(),J={value:()=>unit},Z=g.ids(),ne={value:()=>unit},q={value:()=>unit},H={value:Begin},re=C(Y)(ue=>()=>{const le=H.value;if(ue.tag==="Release"){if(le.tag==="Middle"){H.value=End;const he=()=>{const fe=N.value;N.value=nubBy(ordInt.compare)(concatArray(fe)([K._1.head])),bind_(()=>J.value)(identity$v)(),bind_(()=>ne.value)(identity$v)();const _e=R.value;R.value=mutate(deleteImpl(Q))(_e);const Ie=R.value;return R.value=mutate(deleteImpl(Z))(Ie),unit};return q.value=he,he()}return unit}if(ue.tag==="Acquire"){if(le.tag==="Begin"){H.value=Middle;const he=C(ue._1({meshId:w,instanceId:K._1.head})(g))(O)(),fe=R.value;return R.value=mutate(poke(Z)(he))(fe),ne.value=he,unit}return unit}return unit})();J.value=re;const ie=R.value;R.value=mutate(poke(Q)(re))(ie);const G=q.value;return G()}fail$3()})(),z=bind_(()=>R.value)(traverse_$6(identity$8));return()=>(z(),L())}})]);fail$3()}fail$3()})())(_)(),S=_(g.deleteFromCache({id:w}));return()=>(S(),b(),I())})),max$7=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$c=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$6=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),for_$5=for_$9(applicativeAff)(foldableMaybe),basic=o=>{const u=indexImpl(3)(o.myInfo.beats),f=indexImpl(2)(o.myInfo.beats),d=indexImpl(1)(o.myInfo.beats),m=indexImpl(0)(o.myInfo.beats),h=filter$p(g=>o.myInfo.uniqueId===g.uniqueId)(o.notifications.hitBasic);return keepLatest(backdoor.bus(g=>y=>{const _=oneOf$c([($,v)=>y($,b=>v(b.logicalBeat)),(()=>{const $=filter$p(v=>o.myInfo.uniqueId===v.uniqueId)(h);return(v,b)=>$(v,M=>b(M.logicalBeat))})()]),w=compactableEvent.compact(sampleOnRight(($,v)=>{const b=applicativeEvent.pure(Nothing)($,v),M=_($,P=>v($Maybe("Just",P)));return()=>(b(),M())})(($,v)=>o.animatedStuff($,b=>v(M=>{if(M.tag==="Nothing")return $Maybe("Just",b.rateInfo);if(M.tag==="Just")return M._1>=b.rateInfo.beats?$Maybe("Just",b.rateInfo):Nothing;fail$3()}))));return keepLatest((()=>{const $=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOnRight((()=>{const v=oneOff(Just)(sampleBy(functorEvent)($$const)(b=>cInstant(o.cnow)((M,P)=>b(M,I=>P(S=>I($Maybe("Just",S))))))(_));return(b,M)=>{const P=applicativeEvent.pure(Nothing)(b,M),I=v(b,M);return()=>(P(),I())}})())(sampleOnRight((v,b)=>{const M=applicativeEvent.pure(o.initialDims)(v,I=>{const S={iw:I.iw,ih:I.ih,r:I.iw/I.ih};return b(S)}),P=o.resizeEvent(v,I=>b({iw:I.iw,ih:I.ih,r:I.iw/I.ih}));return()=>(M(),P())})((v,b)=>o.animatedStuff(v,M=>b(P=>I=>S=>({rateInfo:M.rateInfo,ratio:P,endTime:I,renderingInfo:S}))))));return backdoor.memoize((v,b)=>$(v,M=>{const P={n14:(()=>{if(o.myInfo.column.tag==="C1")return M.renderingInfo.halfAmbitus*-1*M.ratio.r;if(o.myInfo.column.tag==="C2")return M.renderingInfo.halfAmbitus*-.875*M.ratio.r;if(o.myInfo.column.tag==="C3")return M.renderingInfo.halfAmbitus*-.75*M.ratio.r;if(o.myInfo.column.tag==="C4")return M.renderingInfo.halfAmbitus*-.625*M.ratio.r;if(o.myInfo.column.tag==="C5")return M.renderingInfo.halfAmbitus*-.5*M.ratio.r;if(o.myInfo.column.tag==="C6")return M.renderingInfo.halfAmbitus*-.375*M.ratio.r;if(o.myInfo.column.tag==="C7")return M.renderingInfo.halfAmbitus*-.25*M.ratio.r;if(o.myInfo.column.tag==="C8")return M.renderingInfo.halfAmbitus*-.125*M.ratio.r;if(o.myInfo.column.tag==="C9")return M.renderingInfo.halfAmbitus*0*M.ratio.r;if(o.myInfo.column.tag==="C10")return M.renderingInfo.halfAmbitus*.125*M.ratio.r;if(o.myInfo.column.tag==="C11")return M.renderingInfo.halfAmbitus*.25*M.ratio.r;if(o.myInfo.column.tag==="C12")return M.renderingInfo.halfAmbitus*.375*M.ratio.r;if(o.myInfo.column.tag==="C13")return M.renderingInfo.halfAmbitus*.5*M.ratio.r;if(o.myInfo.column.tag==="C14")return M.renderingInfo.halfAmbitus*.625*M.ratio.r;if(o.myInfo.column.tag==="C15")return M.renderingInfo.halfAmbitus*.75*M.ratio.r;if(o.myInfo.column.tag==="C16")return M.renderingInfo.halfAmbitus*.875*M.ratio.r;if(o.myInfo.column.tag==="C17")return M.renderingInfo.halfAmbitus*1*M.ratio.r;fail$3()})(),n24:0,n34:(()=>{if(M.rateInfo.beats<m.startsAt){const C=-3*M.renderingInfo.barZSpacing,O=-2*M.renderingInfo.barZSpacing;if(d.startsAt===m.startsAt||O===C)return C-.115;const B=(O-C)/(d.startsAt-m.startsAt);return B*M.rateInfo.beats+(C-B*m.startsAt)-.115}if(M.rateInfo.beats<d.startsAt){const C=-3*M.renderingInfo.barZSpacing,O=-2*M.renderingInfo.barZSpacing;if(d.startsAt===m.startsAt||O===C)return C-.115;const B=(O-C)/(d.startsAt-m.startsAt);return B*M.rateInfo.beats+(C-B*m.startsAt)-.115}if(M.rateInfo.beats<f.startsAt){const C=-2*M.renderingInfo.barZSpacing,O=-1*M.renderingInfo.barZSpacing;if(f.startsAt===d.startsAt||O===C)return C-.115;const B=(O-C)/(f.startsAt-d.startsAt);return B*M.rateInfo.beats+(C-B*d.startsAt)-.115}if(M.rateInfo.beats<u.startsAt){const C=-1*M.renderingInfo.barZSpacing;if(u.startsAt===f.startsAt||C===0)return C-.115;const O=-C/(u.startsAt-f.startsAt);return O*M.rateInfo.beats+(C-O*f.startsAt)-.115}const I=u.startsAt+.2;if(I===u.startsAt)return-.115;const S=.5/(I-u.startsAt);return S*M.rateInfo.beats+-(S*u.startsAt)-.115})(),n11:(()=>{const I=M.renderingInfo.halfAmbitus*M.ratio.r/9;if(M.endTime.tag==="Nothing")return I;if(M.endTime.tag==="Just")return max$7(0)(I-I*3*(M.rateInfo.epochTime-M.endTime._1)/1e3);fail$3()})(),n22:(()=>{if(M.endTime.tag==="Nothing")return .02;if(M.endTime.tag==="Just")return max$7(0)(.02-.06*(M.rateInfo.epochTime-M.endTime._1)/1e3);fail$3()})(),n33:(()=>{if(M.endTime.tag==="Nothing")return .23;if(M.endTime.tag==="Just")return max$7(0)(.23-.6900000000000001*(M.rateInfo.epochTime-M.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return b(P)}))(v=>rider({event:oneOfMap$6(applicativeEvent.pure)(arrayMap(b=>oneOf$c([applicativeEvent.pure($Child("Insert",b.audio(w))),keepLatest((()=>{const M=withTime(applicativeEvent.pure(unit));return(P,I)=>M(P,S=>{const C=lowPrioritySchedule(o.lpsCallback)(1e4+S.time)(applicativeEvent.pure(Remove));return I(C)})})())]))(o.myInfo.beats)),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOnRight(applyEvent.apply((b,M)=>{const P=applicativeEvent.pure(Nothing)(b,S=>M(C=>({iWasPlayed:S,hbop:C}))),I=y(b,S=>M(C=>({iWasPlayed:$Maybe("Just",S),hbop:C})));return()=>(P(),I())})((()=>{const b=filter$p(M=>M.player.tag==="Player1"?o.myPlayer.tag!=="Player1":M.player.tag==="Player2"?o.myPlayer.tag!=="Player2":M.player.tag==="Player3"?o.myPlayer.tag!=="Player3":M.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(h);return(M,P)=>{const I=applicativeEvent.pure(Nothing)(M,P),S=b(M,C=>P($Maybe("Just",C)));return()=>(I(),S())}})()))((()=>{const b=o.columnEventConstructor(o.myInfo.column);return(M,P)=>b(M,I=>P(S=>(()=>{if(S.iWasPlayed.tag==="Nothing")return!1;if(S.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",C=>{const O=(()=>{if(o.myPlayer.tag==="Player1")return C.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return C.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return C.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return C.playerPositions.p4p;fail$3()})(),B=o.myInfo.raycastingCanStartAt(O);if(O.tag==="Position1"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",N=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const N=m.startsAt-C.rateInfo.beats;return C.rateInfo.beats>B&&N<2&&N>-.5?$Maybe("Just",$Either("Right",{cbeat:C.rateInfo.beats,canStartAt:B,rb:m.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position2"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",N=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const N=d.startsAt-C.rateInfo.beats;return C.rateInfo.beats>B&&N<2&&N>-.5?$Maybe("Just",$Either("Right",{cbeat:C.rateInfo.beats,canStartAt:B,rb:d.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position3"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",N=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const N=f.startsAt-C.rateInfo.beats;return C.rateInfo.beats>B&&N<2&&N>-.5?$Maybe("Just",$Either("Right",{cbeat:C.rateInfo.beats,canStartAt:B,rb:f.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(O.tag==="Position4"){if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",N=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));if(S.hbop.tag==="Nothing"){const N=u.startsAt-C.rateInfo.beats;return C.rateInfo.beats>B&&N<2&&N>-.5?$Maybe("Just",$Either("Right",{cbeat:C.rateInfo.beats,canStartAt:B,rb:u.startsAt,myInfo:arrayMap(R=>R.startsAt)(o.myInfo.beats)})):Nothing}fail$3()}if(S.hbop.tag==="Just")return $Maybe("Just",$Either("Left",N=>({uniqueId:S.hbop._1.uniqueId,logicalBeat:S.hbop._1.logicalBeat,deltaBeats:S.hbop._1.deltaBeats,hitAt:S.hbop._1.hitAt,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z.n14,y:z.n24,z:z.n34})),player:S.hbop._1.player})));S.hbop.tag==="Nothing"&&fail$3(),fail$3()})))})())),push:b=>{const M=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))(P=>for_$5(b({rateInfo:P.rateInfo,playerPositions:P.playerPositions}))(I=>{if(I.tag==="Left")return _bind(_liftEffect(o.cnow))(S=>_liftEffect(o.pushBasicVisualForLabel(I._1(S))));if(I.tag==="Right")return _bind(_liftEffect(o.cnow))(S=>{const C=(()=>{if(o.myPlayer.tag==="Player1")return P.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return P.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return P.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return P.playerPositions.p4p;fail$3()})();if(C.tag==="Position1"){const O=P.rateInfo.beats-m.startsAt,B={uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:m.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S,translation:(N,R)=>v(N,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(B)))(()=>_liftEffect(g(B))))}if(C.tag==="Position2"){const O=P.rateInfo.beats-d.startsAt,B={uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:d.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S,translation:(N,R)=>v(N,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(B)))(()=>_liftEffect(g(B))))}if(C.tag==="Position3"){const O=P.rateInfo.beats-f.startsAt,B={uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:f.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S,translation:(N,R)=>v(N,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(B)))(()=>_liftEffect(g(B))))}if(C.tag==="Position4"){const O=P.rateInfo.beats-u.startsAt,B={uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S};return _bind(_liftEffect(o.pushBasicVisualForLabel({uniqueId:o.myInfo.uniqueId,logicalBeat:u.startsAt,deltaBeats:O,hitAt:P.rateInfo.beats,issuedAt:S,translation:(N,R)=>v(N,L=>R({x:L.n14,y:L.n24,z:L.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushBasic.push(B)))(()=>_liftEffect(g(B))))}fail$3()});fail$3()})));return()=>(M().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$c([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(b,M)=>v(b,P=>{const I={type:"matrix4",value:o.mkMatrix4(P)};return M(I)})]))))))})())}))},$MeshPhongMaterialOptions=()=>({tag:"MeshPhongMaterialOptions"}),identity$7=o=>o,oneOf$b=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),MeshPhongMaterialOptions=$MeshPhongMaterialOptions(),convertOptionMeshPhongMat49={convertOption:o=>u=>Just},convertOptionMeshPhongMat50={convertOption:o=>u=>identity$7},meshPhongMaterial$2=o=>u=>f=>{const d=o.toInitializeMeshPhongMaterial(u);return m=>h=>backdoor.makeLemmingEvent(g=>y=>()=>{const _=h.ids();m.raiseId(_)();const w=g(oneOf$b([applicativeEvent.pure(h.makeMeshPhongMaterial({id:_,parent:m.parent,scope:m.scope,parameters:{meshPhongMaterial:d.meshPhongMaterial,color:d.color,map:d.map,combine:d.combine,fog:d.fog,reflectivity:d.reflectivity,refractionRatio:d.refractionRatio,shininess:d.shininess,specular:d.specular,specularMap:d.specularMap,wireframeLinecap:d.wireframeLinecap,wireframeLinejoin:d.wireframeLinejoin,lightMap:d.lightMap,lightMapIntensity:d.lightMapIntensity,aoMap:d.aoMap,aoMapIntensity:d.aoMapIntensity,emissive:d.emissive,emissiveIntensity:d.emissiveIntensity,emissiveMap:d.emissiveMap,bumpMap:d.bumpMap,bumpScale:d.bumpScale,normalMap:d.normalMap,normalMapType:d.normalMapType,normalScale:d.normalScale,displacementMap:d.displacementMap,displacementScale:d.displacementScale,displacementBias:d.displacementBias,alphaMap:d.alphaMap,envMap:d.envMap,wireframe:d.wireframe,wireframeLinewidth:d.wireframeLinewidth,flatShading:d.flatShading},materialParameters:{alphaTest:d.alphaTest,alphaToCoverage:d.alphaToCoverage,blendDst:d.blendDst,blendDstAlpha:d.blendDstAlpha,blendEquation:d.blendEquation,blendEquationAlpha:d.blendEquationAlpha,blending:d.blending,blendSrc:d.blendSrc,blendSrcAlpha:d.blendSrcAlpha,clipIntersection:d.clipIntersection,clipShadows:d.clipShadows,colorWrite:d.colorWrite,depthFunc:d.depthFunc,depthTest:d.depthTest,depthWrite:d.depthWrite,opacity:d.opacity,polygonOffset:d.polygonOffset,polygonOffsetFactor:d.polygonOffsetFactor,polygonOffsetUnits:d.polygonOffsetUnits,precision:d.precision,premultipliedAlpha:d.premultipliedAlpha,dithering:d.dithering,shadowSide:d.shadowSide,side:d.side,toneMapped:d.toneMapped,transparent:d.transparent,vertexColors:d.vertexColors,visible:d.visible}})),(v,b)=>f(v,M=>{const P=onMatch()()()({color:I=>h.setColor({id:_,color:I}),map:I=>h.setMap({id:_,map:I}),lightMap:I=>h.setLightMap({id:_,lightMap:I}),lightMapIntensity:I=>h.setLightMapIntensity({id:_,lightMapIntensity:I}),aoMap:I=>h.setAoMap({id:_,aoMap:I}),aoMapIntensity:I=>h.setAoMapIntensity({id:_,aoMapIntensity:I}),emissive:I=>h.setEmissive({id:_,emissive:I}),emissiveIntensity:I=>h.setEmissiveIntensity({id:_,emissiveIntensity:I}),emissiveMap:I=>h.setEmissiveMap({id:_,emissiveMap:I}),bumpMap:I=>h.setBumpMap({id:_,bumpMap:I}),bumpScale:I=>h.setBumpScale({id:_,bumpScale:I}),normalMap:I=>h.setNormalMap({id:_,normalMap:I}),normalMapType:I=>h.setNormalMapType({id:_,normalMapType:I}),normalScale:I=>h.setNormalScale({id:_,normalScale:I}),displacementMap:I=>h.setDisplacementMap({id:_,displacementMap:I}),displacementScale:I=>h.setDisplacementScale({id:_,displacementScale:I}),displacementBias:I=>h.setDisplacementBias({id:_,displacementBias:I}),alphaMap:I=>h.setAlphaMap({id:_,alphaMap:I}),envMap:I=>h.setEnvMap({id:_,envMap:I}),wireframe:I=>h.setWireframe({id:_,wireframe:I}),wireframeLinewidth:I=>h.setWireframeLinewidth({id:_,wireframeLinewidth:I}),flatShading:I=>h.setFlatShading({id:_,flatShading:I}),combine:I=>h.setCombine({id:_,combine:I}),fog:I=>h.setFog({id:_,fog:I}),reflectivity:I=>h.setReflectivity({id:_,reflectivity:I}),refractionRatio:I=>h.setRefractionRatio({id:_,refractionRatio:I}),shininess:I=>h.setShininess({id:_,shininess:I}),specular:I=>h.setSpecular({id:_,specular:I}),specularMap:I=>h.setSpecularMap({id:_,specularMap:I}),wireframeLinecap:I=>h.setWireframeLinecap({id:_,wireframeLinecap:I}),wireframeLinejoin:I=>h.setWireframeLinejoin({id:_,wireframeLinejoin:I})})(case_)(M);return b(P)})]))(y)(),$=y(h.deleteFromCache({id:_}));return()=>($(),w())})},defaultMeshPhongMaterial={...defaultMaterials,color:Nothing,map:Nothing,lightMap:Nothing,lightMapIntensity:Nothing,aoMap:Nothing,aoMapIntensity:Nothing,emissive:Nothing,emissiveIntensity:Nothing,emissiveMap:Nothing,bumpMap:Nothing,bumpScale:Nothing,normalMap:Nothing,normalMapType:Nothing,normalScale:Nothing,displacementMap:Nothing,displacementScale:Nothing,displacementBias:Nothing,alphaMap:Nothing,envMap:Nothing,wireframe:Nothing,wireframeLinewidth:Nothing,flatShading:Nothing,combine:Nothing,fog:Nothing,reflectivity:Nothing,refractionRatio:Nothing,shininess:Nothing,specular:Nothing,specularMap:Nothing,wireframeLinecap:Nothing,wireframeLinejoin:Nothing},identity$6=o=>o,pure=(()=>applicativeABehavior(functorEvent).pure)(),fromFoldable$6=foldrArray(Cons)(Nil),oneOfMap$5=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),box$1=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshPhongMaterial$1=meshPhongMaterial$2((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshPhongMat50)()()()({reflectSymbol:()=>"meshPhongMaterial"}))(convertOptionMeshPhongMat49)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshPhongMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshPhongMaterialOptions)($$Proxy)(u)({}),defaultMeshPhongMaterial)}})()),singleBeat$2=o=>({startsAt:o.myBeat,audio:u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$6)((f,d)=>u(f,m=>{const h=(()=>m.beats+4>=o.myBeat?$Maybe("Just",(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const g=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return g*o.myBeat+(m.prevTime._1-g*m.prevBeats._1)}return 0}return 0})()):Nothing)();return d(h)})))(f=>basic$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f})))}),severalBeats=o=>[singleBeat$2({myBeat:o.b0,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b1,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b2,buffer:pure(o.silence),silence:o.silence}),singleBeat$2({myBeat:o.b3,buffer:pure(o.silence),silence:o.silence})],rideBasics=o=>u=>{const f=d=>m=>h=>{if(m.tag==="Nil"){const w=f(d)(Nil);return defer($=>$Tuple(Nil,w))}const g=span$1(w=>w.appearsAt<=h.beats+4)(m),y=listMap(d)(g.init),_=f(d)(g.rest);return defer(w=>$Tuple(y,_))};return $Entity("FixedChildren'",[roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(100)(box$1({box:u.threeDI.boxGeometry}))(meshPhongMaterial$1({meshPhongMaterial:u.threeDI.meshPhongMaterial,color:u.mkColor($RGB(.798,.927,.778))})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$5(applicativeEvent.pure),m=scheduleCf(f(h=>{const g=basic({myInfo:{beats:severalBeats({b0:h.b0,b1:h.b1,b2:h.b2,b3:h.b3,silence:u.silence}),raycastingCanStartAt:h.raycastingCanStartAt,uniqueId:h.uniqueId,appearsAt:h.appearsAt,column:h.column},...unsafeUnionFn(u,h)}),y=keepLatest((()=>{const _=withTime(applicativeEvent.pure(unit));return(w,$)=>_(w,v=>{const b=lowPrioritySchedule(u.lpsCallback)(15e3+v.time)(applicativeEvent.pure(Release));return $(b)})})());return(_,w)=>{const $=g(_,b=>w($Semaphore("Acquire",b))),v=y(_,w);return()=>($(),v())}})(foldableWithIndexList.foldrWithIndex(h=>g=>y=>$List("Cons",{uniqueId:h,appearsAt:g.marker1Time-2+1,b0:g.marker1Time+1,b1:g.marker2Time+1,b2:g.marker3Time+1,b3:g.marker4Time+1,text:replicate$1(4)(""),raycastingCanStartAt:_=>1+g.raycastingCanStartAt(_),column:g.column},y))(Nil)(sortBy(h=>g=>ordNumber.compare(h.marker1Time)(g.marker1Time))(fromFoldable$6(o)))))((h,g)=>u.animatedStuff(h,y=>g(y.rateInfo)));return(h,g)=>m(h,y=>{const _=d(y);return g(_)})})()))])},playBuf$2=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),leap$1=o=>gain_(initialGainNumber)(1)([playBuf$2({buffer:o.silence})((u,f)=>{const d=o.buffer(u,g=>f({type:"buffer",value:g})),m=onAt()(o.onAt)(u,f),h=offAt()(o.offAt)(u,f);return()=>(d(),m(),h())})]),max$6=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$a=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),for_$4=for_$9(applicativeAff)(foldableMaybe),show1$1=o=>{const u=cons(intercalate$2(": ")(["canStartAt",showNumberImpl(o.canStartAt)]))(cons(intercalate$2(": ")(["cbeat",showNumberImpl(o.cbeat)]))(cons(intercalate$2(": ")(["rb",showNumberImpl(o.rb)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])},leap=o=>{const u=filter$p(f=>o.uniqueId===f.uniqueId)(o.notifications.hitLeap);return keepLatest(backdoor.bus(f=>d=>{const m=filter$p(g=>o.uniqueId===g.uniqueId)(u),h=(g,y)=>{const _=d(g,$=>y(unit)),w=m(g,$=>y(unit));return()=>(_(),w())};return keepLatest((()=>{const g=sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOnRight((()=>{const y=oneOff(Just)(sampleBy(functorEvent)($$const)(_=>cInstant(o.cnow)((w,$)=>_(w,v=>$(b=>v($Maybe("Just",b))))))(h));return(_,w)=>{const $=applicativeEvent.pure(Nothing)(_,w),v=y(_,w);return()=>($(),v())}})())(sampleOnRight((y,_)=>{const w=applicativeEvent.pure(o.initialDims)(y,v=>{const b={iw:v.iw,ih:v.ih,r:v.iw/v.ih};return _(b)}),$=o.resizeEvent(y,v=>_({iw:v.iw,ih:v.ih,r:v.iw/v.ih}));return()=>(w(),$())})((y,_)=>o.animatedStuff(y,w=>_($=>v=>b=>({rateInfo:w.rateInfo,ratio:$,endTime:v,renderingInfo:b}))))));return backdoor.memoize((y,_)=>g(y,w=>{const $={n14:(()=>{if(o.column.tag==="C1")return w.renderingInfo.halfAmbitus*-1*w.ratio.r;if(o.column.tag==="C2")return w.renderingInfo.halfAmbitus*-.875*w.ratio.r;if(o.column.tag==="C3")return w.renderingInfo.halfAmbitus*-.75*w.ratio.r;if(o.column.tag==="C4")return w.renderingInfo.halfAmbitus*-.625*w.ratio.r;if(o.column.tag==="C5")return w.renderingInfo.halfAmbitus*-.5*w.ratio.r;if(o.column.tag==="C6")return w.renderingInfo.halfAmbitus*-.375*w.ratio.r;if(o.column.tag==="C7")return w.renderingInfo.halfAmbitus*-.25*w.ratio.r;if(o.column.tag==="C8")return w.renderingInfo.halfAmbitus*-.125*w.ratio.r;if(o.column.tag==="C9")return w.renderingInfo.halfAmbitus*0*w.ratio.r;if(o.column.tag==="C10")return w.renderingInfo.halfAmbitus*.125*w.ratio.r;if(o.column.tag==="C11")return w.renderingInfo.halfAmbitus*.25*w.ratio.r;if(o.column.tag==="C12")return w.renderingInfo.halfAmbitus*.375*w.ratio.r;if(o.column.tag==="C13")return w.renderingInfo.halfAmbitus*.5*w.ratio.r;if(o.column.tag==="C14")return w.renderingInfo.halfAmbitus*.625*w.ratio.r;if(o.column.tag==="C15")return w.renderingInfo.halfAmbitus*.75*w.ratio.r;if(o.column.tag==="C16")return w.renderingInfo.halfAmbitus*.875*w.ratio.r;if(o.column.tag==="C17")return w.renderingInfo.halfAmbitus*1*w.ratio.r;fail$3()})(),n24:0,n34:(()=>{const v=-3*w.renderingInfo.barZSpacing;if(o.hitsLastPositionAt===o.hitsFirstPositionAt||v===0)return v-.1;const b=-v/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return b*w.rateInfo.beats+(v-b*o.hitsFirstPositionAt)-.1})(),n11:(()=>{const v=w.renderingInfo.halfAmbitus*w.ratio.r/24;if(w.endTime.tag==="Nothing")return v;if(w.endTime.tag==="Just")return max$6(0)(v-v*3*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n22:(()=>{if(w.endTime.tag==="Nothing")return .02;if(w.endTime.tag==="Just")return max$6(0)(.02-.06*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n33:(()=>{if(w.endTime.tag==="Nothing")return .2;if(w.endTime.tag==="Just")return max$6(0)(.2-.6000000000000001*(w.rateInfo.epochTime-w.endTime._1)/1e3);fail$3()})(),n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1};return _($)}))(y=>rider({event:applicativeEvent.pure(oneOf$a([applicativeEvent.pure($Child("Insert",o.sound(keepLatest((_,w)=>oneOff(Just)(h)(_,$=>w((v,b)=>o.animatedStuff(v,M=>b(M.rateInfo)))))))),keepLatest((()=>{const _=withTime(applicativeEvent.pure(unit));return(w,$)=>_(w,v=>{const b=lowPrioritySchedule(o.lpsCallback)(1e4+v.time)(applicativeEvent.pure(Remove));return $(b)})})())])),push:o.pushAudio})(rider({event:compactableEvent.compact(sampleOnRight(applyEvent.apply((_,w)=>{const $=applicativeEvent.pure(Nothing)(_,b=>w(M=>({iWasPlayed:b,hbop:M}))),v=d(_,b=>w(M=>({iWasPlayed:$Maybe("Just",b),hbop:M})));return()=>($(),v())})((()=>{const _=filter$p(w=>w.player.tag==="Player1"?o.myPlayer.tag!=="Player1":w.player.tag==="Player2"?o.myPlayer.tag!=="Player2":w.player.tag==="Player3"?o.myPlayer.tag!=="Player3":w.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u);return(w,$)=>{const v=applicativeEvent.pure(Nothing)(w,$),b=_(w,M=>$($Maybe("Just",M)));return()=>(v(),b())}})()))((()=>{const _=o.columnEventConstructor(o.column);return(w,$)=>_(w,v=>$(b=>(()=>{if(b.iWasPlayed.tag==="Nothing")return!1;if(b.iWasPlayed.tag==="Just")return!0;fail$3()})()?Nothing:$Maybe("Just",M=>{const P=(()=>{if(o.myPlayer.tag==="Player1")return M.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return M.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return M.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return M.playerPositions.p4p;fail$3()})(),I=o.raycastingCanStartAt(P),S=(()=>{if(P.tag==="Position1")return o.hitsFirstPositionAt;if(P.tag==="Position2")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.33+o.hitsFirstPositionAt;if(P.tag==="Position3")return(o.hitsLastPositionAt-o.hitsFirstPositionAt)*.66+o.hitsFirstPositionAt;if(P.tag==="Position4")return o.hitsLastPositionAt;fail$3()})();if(b.hbop.tag==="Just")return $Maybe("Just",$Either("Left",C=>({uniqueId:b.hbop._1.uniqueId,oldPosition:b.hbop._1.oldPosition,newPosition:b.hbop._1.newPosition,hitAt:b.hbop._1.hitAt,issuedAt:C,translation:(O,B)=>y(O,N=>B({x:N.n14,y:N.n24,z:N.n34})),player:b.hbop._1.player})));if(b.hbop.tag==="Nothing"){const C=S-M.rateInfo.beats;return M.rateInfo.beats>I&&C<2&&C>-.5?$Maybe("Just",$Either("Right",{cbeat:M.rateInfo.beats,canStartAt:I,rb:S})):Nothing}fail$3()})))})())),push:_=>{const w=_makeFiber(ffiUtil$1,_bind(eventToAff(o.animatedStuff))($=>for_$4(_({rateInfo:$.rateInfo,playerPositions:$.playerPositions}))(v=>{if(v.tag==="Left")return _bind(_liftEffect(o.cnow))(b=>{const M=v._1(b);return _bind(_liftEffect(log("drats, it wudn't me: "+showIntImpl(M.uniqueId))))(()=>_liftEffect(o.pushLeapVisualForLabel(M)))});if(v.tag==="Right")return _bind(_liftEffect(log("Raycaster strikes again! "+show1$1(v._1))))(()=>_bind(_liftEffect(o.cnow))(b=>{const M=(()=>{if(o.myPlayer.tag==="Player1")return $.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return $.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return $.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return $.playerPositions.p4p;fail$3()})(),P={uniqueId:o.uniqueId,hitAt:$.rateInfo.beats,issuedAt:b,oldPosition:M,newPosition:o.newPosition};return _bind(_liftEffect(o.pushLeapVisualForLabel({uniqueId:o.uniqueId,oldPosition:M,newPosition:o.newPosition,hitAt:$.rateInfo.beats,issuedAt:b,translation:(I,S)=>y(I,C=>S({x:C.n14,y:C.n24,z:C.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushLeap.push(P)))(()=>_liftEffect(f(P))))}));fail$3()})));return()=>(w().run(),unit)}})(applicativeEvent.pure(singleInstance(oneOf$a([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(_,w)=>y(_,$=>{const v={type:"matrix4",value:o.mkMatrix4($)};return w(v)})]))))))})())}))},$CylinderOptions=()=>({tag:"CylinderOptions"}),identity$5=o=>o,CylinderOptions=$CylinderOptions(),convertOptionCylinderOpti6={convertOption:o=>u=>identity$5},convertOptionCylinderOpti10={convertOption:o=>u=>identity$5},defaultCylinder={radiusTop:1,radiusBottom:1,height:1,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,bufferAttributes:empty$2,instancedBufferAttributes:empty$2},cylinder$1=o=>u=>{const f=o.toInitializeCylinder(u);return d=>m=>backdoor.makeLemmingEvent(h=>g=>()=>{const y=m.ids();d.raiseId(y)();const _=h(applicativeEvent.pure(m.makeCylinder({id:y,parent:d.parent,scope:d.scope,cylinder:f.cylinder,radiusTop:f.radiusTop,radiusBottom:f.radiusBottom,height:f.height,radialSegments:f.radialSegments,heightSegments:f.heightSegments,openEnded:f.openEnded,thetaStart:f.thetaStart,thetaLength:f.thetaLength,bufferAttributes:f.bufferAttributes,instancedBufferAttributes:f.instancedBufferAttributes})))(g)(),w=g(m.deleteFromCache({id:y}));return()=>(w(),_())})},identity$4=o=>o,fromFoldable$5=foldrArray(Cons)(Nil),max$5=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$4=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),cylinder=cylinder$1((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionCylinderOpti6)()()()({reflectSymbol:()=>"radialSegments"}))(convertOptionCylinderOpti10)()()()({reflectSymbol:()=>"cylinder"});return{toInitializeCylinder:u=>unsafeUnionFn(o.convertRecordOptions(CylinderOptions)($$Proxy)(u)({}),defaultCylinder)}})()),meshStandardMaterial$2=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat$1=o=>u=>$Entity("EventfulElement'",backdoor.memoize(oneOff(identity$4)((f,d)=>u(f,m=>d($Maybe("Just",0)))))(f=>leap$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),offAt:plusEvent.empty,silence:o.silence,onAt:f}))),rideLeaps=o=>u=>{const f=d=>{const m=h=>g=>y=>{if(g.tag==="Nil"){const v=m(h)(Nil);return defer(b=>$Tuple(Nil,v))}const _=span$1(v=>v.hitsFirstPositionAt<=y.beats+6.5)(g),w=listMap(h)(_.init),$=m(h)(_.rest);return defer(v=>$Tuple(w,$))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,matrix4:u.threeDI.matrix4,mesh:u.threeDI.mesh})(25)(cylinder({cylinder:u.threeDI.cylinderGeometry,radialSegments:32}))(meshStandardMaterial$2({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor(d.couleur),roughness:.4})(plusEvent.empty))(keepLatest((()=>{const h=oneOfMap$4(applicativeEvent.pure),g=scheduleCf(m(y=>{const _=leap({sound:singleBeat$1({silence:u.silence,buffer:misbehavior(lookup$1("floorTom"))(u.buffers)}),uniqueId:y.uniqueId,newPosition:y.position,...unsafeUnionFn(u,y)}),w=keepLatest((()=>{const $=withTime(applicativeEvent.pure(unit));return(v,b)=>$(v,M=>{const P=lowPrioritySchedule(u.lpsCallback)(15e3+M.time)(applicativeEvent.pure(Release));return b(P)})})());return($,v)=>{const b=_($,P=>v($Semaphore("Acquire",P))),M=w($,v);return()=>(b(),M())}})(fromFoldable$5(mapWithIndexArray(y=>_=>({uniqueId:y,hitsFirstPositionAt:min$4(_.marker1Time)(_.marker2Time)+1,hitsLastPositionAt:max$5(_.marker1Time)(_.marker2Time)+1,column:_.column,raycastingCanStartAt:w=>1+_.raycastingCanStartAt(w),position:_.position}))(d.levs))))((y,_)=>u.animatedStuff(y,w=>_(w.rateInfo)));return(y,_)=>g(y,w=>{const $=h(w);return _($)})})()))};return $Entity("FixedChildren'",[f({levs:filter$1(d=>d.position.tag==="Position1")(o),couleur:$RGB(.2196078431372549,.8431372549019608,.9058823529411765)}),f({levs:filter$1(d=>d.position.tag==="Position2")(o),couleur:$RGB(.9764705882352941,.8784313725490196,.4627450980392157)}),f({levs:filter$1(d=>d.position.tag==="Position3")(o),couleur:$RGB(.9333333333333333,.19215686274509805,.4196078431372549)}),f({levs:filter$1(d=>d.position.tag==="Position4")(o),couleur:$RGB(.5176470588235295,.17647058823529413,.4470588235294118)})])},playBuf$1=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),$$long$1=o=>gain(initialGainNumber)(1)((u,f)=>o.offAt(u,d=>f({type:"gain",value:{type:"envelope",value:{d:1,o:d,p:[1,0]}}})))([playBuf$1({buffer:o.silence})((u,f)=>{const d=o.buffer(u,h=>f({type:"buffer",value:h})),m=onAt()(o.onAt)(u,f);return()=>(d(),m())})]);var AVar=function(){function o(){this.head=null,this.last=null,this.size=0}function u($,v){this.queue=$,this.value=v,this.next=null,this.prev=null}function f($){this.draining=!1,this.error=null,this.value=$,this.takes=new o,this.reads=new o,this.puts=new o}var d={};function m($){try{$()}catch(v){setTimeout(function(){throw v},0)}}function h($,v){var b=new u($,v);switch($.size){case 0:$.head=b;break;case 1:b.prev=$.head,$.head.next=b,$.last=b;break;default:b.prev=$.last,$.last.next=b,$.last=b}return $.size++,b}function g($){var v;switch($.size){case 0:return null;case 1:v=$.head,$.head=null;break;case 2:v=$.last,$.head.next=null,$.last=null;break;default:v=$.last,$.last=v.prev,$.last.next=null}return v.prev=null,v.queue=null,$.size--,v.value}function y($){var v;switch($.size){case 0:return null;case 1:v=$.head,$.head=null;break;case 2:v=$.head,$.last.prev=null,$.head=$.last,$.last=null;break;default:v=$.head,$.head=v.next,$.head.prev=null}return v.next=null,v.queue=null,$.size--,v.value}function _($){if($.queue!==null){if($.queue.last===$){g($.queue);return}if($.queue.head===$){y($.queue);return}$.prev&&($.prev.next=$.next),$.next&&($.next.prev=$.prev),$.queue.size--,$.queue=null,$.value=null,$.next=null,$.prev=null}}function w($,v){if(!v.draining){var b=v.puts,M=v.takes,P=v.reads,I,S,C,O,B;for(v.draining=!0;;){if(I=null,S=null,C=null,O=v.value,B=P.size,v.error!==null){for(O=$.left(v.error);I=y(b);)m(I.cb(O));for(;S=y(P);)m(S(O));for(;C=y(M);)m(C(O));break}if(O===d&&(I=y(b))&&(v.value=O=I.value),O!==d){for(C=y(M);B--&&(S=y(P));)m(S($.right(O)));C!==null&&(v.value=d,m(C($.right(O))))}if(I!==null&&m(I.cb($.right(void 0))),v.value===d&&b.size===0||v.value!==d&&M.size===0)break}v.draining=!1}}return f.EMPTY=d,f.putLast=h,f.takeLast=g,f.takeHead=y,f.deleteCell=_,f.drainVar=w,f}();function empty$1(){return new AVar(AVar.EMPTY)}function _putVar(o,u,f,d){return function(){var m=AVar.putLast(f.puts,{cb:d,value:u});return AVar.drainVar(o,f),function(){AVar.deleteCell(m)}}}function _takeVar(o,u,f){return function(){var d=AVar.putLast(u.takes,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _readVar(o,u,f){return function(){var d=AVar.putLast(u.reads,f);return AVar.drainVar(o,u),function(){AVar.deleteCell(d)}}}function _tryTakeVar(o,u){return function(){var f=u.value;return f===AVar.EMPTY?o.nothing:(u.value=AVar.EMPTY,AVar.drainVar(o,u),o.just(f))}}const $AVarStatus=(o,u)=>({tag:o,_1:u}),Killed=o=>$AVarStatus("Killed",o),Filled=o=>$AVarStatus("Filled",o),Empty=$AVarStatus("Empty"),ffiUtil={left:Left,right:Right,nothing:Nothing,just:Just,killed:Killed,filled:Filled,empty:Empty},take$1=o=>makeAff(u=>{const f=_takeVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),read=o=>makeAff(u=>{const f=_readVar(ffiUtil,o,u);return()=>{const d=f(),m=_liftEffect(d);return h=>m}}),put$1=o=>u=>makeAff(f=>{const d=_putVar(ffiUtil,o,u,f);return()=>{const m=d(),h=_liftEffect(m);return g=>h}}),empty=_liftEffect(empty$1),sampleJIT=o=>u=>backdoor.makeEvent(f=>{const d=_makeFiber(ffiUtil$1,_bind(empty)(m=>_liftEffect((()=>{const h=subscribe(o)(g=>{const y=_makeFiber(ffiUtil$1,_bind(_map(_=>unit)(_liftEffect(_tryTakeVar(ffiUtil,m))))(()=>put$1(g)(m)));return()=>(y().run(),unit)});return()=>{const g=h(),y=subscribe(u)(_=>f(_(m)))();return()=>(g(),y())}})())));return()=>{const m=d();m.run();const h=_makeFiber(ffiUtil$1,_bind(joinFiber(m))(g=>_liftEffect(g)));return()=>(h().run(),unit)}}),vbus$1=vbus$2()(vbusCons2({reflectSymbol:()=>"iWasPlayed"})()()(vbusCons2({reflectSymbol:()=>"iWasReleased"})()()(vbusNil)()())()()),mapAccum$4=mapAccum$e(eventIsEvent),max$4=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},oneOf$9=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),clamp$1=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},$$long=o=>{const u=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.releaseLong),f=filter$p(d=>o.uniqueId===d.uniqueId)(o.notifications.hitLong);return keepLatest(vbus$1($$Proxy)(d=>m=>{const h=filter$p(v=>o.uniqueId===v.uniqueId)(u),g=(v,b)=>{const M=m.iWasReleased(v,I=>b(unit)),P=h(v,I=>b(unit));return()=>(M(),P())},y=filter$p(v=>o.uniqueId===v.uniqueId)(f),_=(v,b)=>{const M=m.iWasPlayed(v,I=>b(unit)),P=y(v,I=>b(unit));return()=>(M(),P())},w=mapAccum$4(v=>b=>{const M=-3*b.renderingInfo.barZSpacing,P=(()=>{if(o.hitsLastPositionAt===o.hitsFirstPositionAt||M===0)return M;const S=-M/(o.hitsLastPositionAt-o.hitsFirstPositionAt);return S*b.animatedStuff.rateInfo.beats+(M-S*o.hitsFirstPositionAt)})(),I=(()=>b.endTime.tag==="Just"&&v.prevZ.tag==="Just"?v.consumedByPress+(P-v.prevZ._1):v.consumedByPress)();return $Tuple({prevZ:$Maybe("Just",P),consumedByPress:I},{logicalZ:P,prevZ:v.prevZ,consumedByPress:I,...b})})({prevZ:Nothing,consumedByPress:0})(sampleBy(functorEvent)(applyFlipped)(o.renderingInfo)(sampleOnRight((()=>{const v=sampleBy(functorEvent)($$const)(b=>cInstant(o.cnow)((M,P)=>b(M,I=>P(S=>I($Maybe("Just",S))))))(_);return(b,M)=>{const P=applicativeEvent.pure(Nothing)(b,M),I=g(b,C=>M(Nothing)),S=v(b,M);return()=>(P(),I(),S())}})())(sampleOnRight((v,b)=>{const M=applicativeEvent.pure(o.initialDims)(v,I=>{const S={iw:I.iw,ih:I.ih,r:I.iw/I.ih};return b(S)}),P=o.resizeEvent(v,I=>b({iw:I.iw,ih:I.ih,r:I.iw/I.ih}));return()=>(M(),P())})((v,b)=>o.animatedStuff(v,M=>b(P=>I=>S=>({animatedStuff:M,ratio:P,endTime:I,renderingInfo:S}))))))),$=(v,b)=>w(v,M=>{const P=max$4(0)(o.length-M.consumedByPress),I=$Tuple(M,{n14:(()=>{if(o.column.tag==="C1")return M.renderingInfo.halfAmbitus*-1*M.ratio.r;if(o.column.tag==="C2")return M.renderingInfo.halfAmbitus*-.875*M.ratio.r;if(o.column.tag==="C3")return M.renderingInfo.halfAmbitus*-.75*M.ratio.r;if(o.column.tag==="C4")return M.renderingInfo.halfAmbitus*-.625*M.ratio.r;if(o.column.tag==="C5")return M.renderingInfo.halfAmbitus*-.5*M.ratio.r;if(o.column.tag==="C6")return M.renderingInfo.halfAmbitus*-.375*M.ratio.r;if(o.column.tag==="C7")return M.renderingInfo.halfAmbitus*-.25*M.ratio.r;if(o.column.tag==="C8")return M.renderingInfo.halfAmbitus*-.125*M.ratio.r;if(o.column.tag==="C9")return M.renderingInfo.halfAmbitus*0*M.ratio.r;if(o.column.tag==="C10")return M.renderingInfo.halfAmbitus*.125*M.ratio.r;if(o.column.tag==="C11")return M.renderingInfo.halfAmbitus*.25*M.ratio.r;if(o.column.tag==="C12")return M.renderingInfo.halfAmbitus*.375*M.ratio.r;if(o.column.tag==="C13")return M.renderingInfo.halfAmbitus*.5*M.ratio.r;if(o.column.tag==="C14")return M.renderingInfo.halfAmbitus*.625*M.ratio.r;if(o.column.tag==="C15")return M.renderingInfo.halfAmbitus*.75*M.ratio.r;if(o.column.tag==="C16")return M.renderingInfo.halfAmbitus*.875*M.ratio.r;if(o.column.tag==="C17")return M.renderingInfo.halfAmbitus*1*M.ratio.r;fail$3()})(),n24:0,n34:M.logicalZ-o.length/2-M.consumedByPress,n11:(()=>P===0?0:M.renderingInfo.halfAmbitus*M.ratio.r/9)(),n22:(()=>P===0?0:.02)(),n33:P,n12:0,n13:0,n21:0,n23:0,n31:0,n32:0,n41:0,n42:0,n43:0,n44:1});return b(I)});return keepLatest(backdoor.memoize($)(v=>keepLatest(backdoor.memoize(filter$p(b=>b.player.tag==="Player1"?o.myPlayer.tag!=="Player1":b.player.tag==="Player2"?o.myPlayer.tag!=="Player2":b.player.tag==="Player3"?o.myPlayer.tag!=="Player3":b.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(f))(b=>keepLatest(backdoor.memoize(filter$p(M=>M.player.tag==="Player1"?o.myPlayer.tag!=="Player1":M.player.tag==="Player2"?o.myPlayer.tag!=="Player2":M.player.tag==="Player3"?o.myPlayer.tag!=="Player3":M.player.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(u))(M=>rider({event:applicativeEvent.pure(oneOf$9([applicativeEvent.pure($Child("Insert",o.sound({on:keepLatest((P,I)=>oneOff(Just)(_)(P,S=>I((C,O)=>o.animatedStuff(C,B=>O(B.rateInfo))))),off:keepLatest((P,I)=>oneOff(Just)(g)(P,S=>I((C,O)=>o.animatedStuff(C,B=>O(B.rateInfo)))))}))),keepLatest((()=>{const P=withTime(applicativeEvent.pure(unit));return(I,S)=>P(I,C=>{const O=lowPrioritySchedule(o.lpsCallback)(1e4+C.time)(applicativeEvent.pure(Remove));return S(O)})})())])),push:o.pushAudio})(applicativeEvent.pure(singleInstance(oneOf$9([applicativeEvent.pure({type:"matrix4",value:o.mkMatrix4(emptyMatrix)}),(P,I)=>v(P,S=>{const C={type:"matrix4",value:o.mkMatrix4(S._2)};return I(C)}),(()=>{const P=S=>sampleJIT($)((C,O)=>S(C,B=>O(N=>R=>{const L=_makeFiber(ffiUtil$1,empty);return()=>{const z=L();z.run();const Y=_makeFiber(ffiUtil$1,empty)();Y.run(),_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(Q=>_bind(read(N))(J=>{const Z=abs((()=>{const H=(()=>{if(o.myPlayer.tag==="Player1")return J._1.animatedStuff.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return J._1.animatedStuff.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return J._1.animatedStuff.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return J._1.animatedStuff.playerPositions.p4p;fail$3()})();if(H.tag==="Position1")return-3*J._1.renderingInfo.barZSpacing-J._2.n33;if(H.tag==="Position2")return-2*J._1.renderingInfo.barZSpacing-J._2.n33;if(H.tag==="Position3")return-1*J._1.renderingInfo.barZSpacing-J._2.n33;if(H.tag==="Position4")return-J._2.n33;fail$3()})()),ne={uniqueId:o.uniqueId,hitAt:J._1.animatedStuff.rateInfo.beats,issuedAt:Q,distance:Z},q={uniqueId:o.uniqueId,hitAt:J._1.animatedStuff.rateInfo.beats,issuedAt:Q,distance:Z,translation:(H,re)=>v(H,ie=>re({x:ie._2.n14,y:ie._2.n24,z:ie._2.n34})),player:o.myPlayer};return _bind(joinFiber(z))(H=>_bind(put$1(J._1.animatedStuff.rateInfo.beats)(H))(()=>_bind(joinFiber(Y))(re=>_bind(put$1(Z)(re))(()=>_bind(_liftEffect(o.pushHitLongVisualForLabel(q)))(()=>_bind(_liftEffect(o.pushHitLong.push(ne)))(()=>_liftEffect(d.iWasPlayed(ne))))))))})))().run();const K=_makeFiber(ffiUtil$1,_bind(_liftEffect(o.cnow))(Q=>_bind(read(N))(J=>_bind(joinFiber(z))(Z=>_bind(take$1(Z))(ne=>_bind(joinFiber(Y))(q=>_bind(take$1(q))(H=>{const re=clamp$1(0)(1)(J._1.consumedByPress/o.length),ie={uniqueId:o.uniqueId,releasedAt:J._1.animatedStuff.rateInfo.beats,issuedAt:Q,pctConsumed:re,hitAt:ne,distance:H};return _bind(_liftEffect(o.pushReleaseLongVisualForLabel({uniqueId:o.uniqueId,hitAt:ne,releasedAt:J._1.animatedStuff.rateInfo.beats,distance:H,pctConsumed:re,issuedAt:Q,translation:(G,ue)=>v(G,le=>ue({x:le._2.n14,y:le._2.n24,z:le._2.n34})),player:o.myPlayer})))(()=>_bind(_liftEffect(o.pushReleaseLong.push(ie)))(()=>_liftEffect(d.iWasReleased(ie))))})))))));return()=>(K().run(),unit)}}))),I=oneOf$9([(S,C)=>m.iWasPlayed(S,O=>C(B=>()=>()=>unit)),P((S,C)=>m.iWasReleased(S,O=>C(unit))),oneOff(Just)(keepLatest((S,C)=>b(S,O=>{const B=rider({event:sampleBy(functorEvent)(applyFlipped)(N=>cInstant(o.cnow)((R,L)=>N(R,z=>L(Y=>z(Y)))))(applicativeEvent.pure(N=>({uniqueId:O.uniqueId,hitAt:O.hitAt,distance:O.distance,issuedAt:N,translation:(R,L)=>v(R,z=>L({x:z._2.n14,y:z._2.n24,z:z._2.n34})),player:O.player}))),push:o.pushHitLongVisualForLabel})(applicativeEvent.pure(N=>()=>()=>unit));return C(B)}))),oneOff(Just)(keepLatest((S,C)=>M(S,O=>{const B=rider({event:sampleBy(functorEvent)(applyFlipped)(N=>cInstant(o.cnow)((R,L)=>N(R,z=>L(Y=>z(Y)))))(applicativeEvent.pure(N=>({uniqueId:O.uniqueId,hitAt:O.hitAt,releasedAt:O.releasedAt,distance:O.distance,issuedAt:N,pctConsumed:O.pctConsumed,translation:(R,L)=>v(R,z=>L({x:z._2.n14,y:z._2.n24,z:z._2.n34})),player:O.player}))),push:o.pushReleaseLongVisualForLabel})(P(applicativeEvent.pure(unit)));return C(B)}))),P(applicativeEvent.pure(unit))]);return o.isMobile?(S,C)=>I(S,O=>C({type:"onTouchStart",value:B=>{const N=O({cx:clientX$1(B),cy:clientY$1(B)});return()=>{const R=N();return{end:L=>R,cancel:L=>R}}}})):(S,C)=>I(S,O=>C({type:"onMouseDown",value:B=>{const N=O({cx:clientX(B),cy:clientY(B)});return()=>{const R=N();return L=>R}}}))})()]))))))))))}))},identity$3=o=>o,fromFoldable$4=foldrArray(Cons)(Nil),max$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},min$3=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},oneOfMap$3=o=>foldableList.foldr(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),box=box$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({reflectSymbol:()=>"box"});return{toInitializeBox:u=>unsafeUnionFn(o.convertRecordOptions(BoxOptions)($$Proxy)(u)({}),defaultBox)}})()),meshStandardMaterial$1=meshStandardMaterial$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({reflectSymbol:()=>"roughness"}))(convertOptionMeshStandard55)()()()({reflectSymbol:()=>"meshStandardMaterial"}))(convertOptionMeshStandard54)()()()({reflectSymbol:()=>"color"});return{toInitializeMeshStandardMaterial:u=>unsafeUnionFn(o.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(u)({}),defaultMeshStandardMaterial)}})()),singleBeat=o=>u=>{const f=oneOff(identity$3)((d,m)=>u.on(d,h=>m($Maybe("Just",0))));return $$long$1({buffer:sampleBy(functorEvent)($$const)(o.buffer)(f),silence:o.silence,onAt:f,offAt:oneOff(identity$3)((d,m)=>u.off(d,h=>m($Maybe("Just",h.time))))})},rideLongs=o=>u=>{const f=d=>m=>{if(d.tag==="Nil"){const _=f(Nil);return defer(w=>$Tuple(Nil,_))}const h=span$1(_=>_.hitsFirstPositionAt<=m.beats+8)(d),g=listMap(_=>{const w=$$long({sound:singleBeat({silence:u.silence,buffer:misbehavior(v=>{if(_.tag.tag==="Just")return _lookup(Nothing,Just,_.tag._1,v);if(_.tag.tag==="Nothing")return Nothing;fail$3()})(u.buffers)}),uniqueId:_.uniqueId,...unsafeUnionFn(u,_)}),$=keepLatest((()=>{const v=withTime(applicativeEvent.pure(unit));return(b,M)=>v(b,P=>{const I=lowPrioritySchedule(u.lpsCallback)(2e4+P.time)(applicativeEvent.pure(Release));return M(I)})})());return(v,b)=>{const M=w(v,I=>b($Semaphore("Acquire",I))),P=$(v,b);return()=>(M(),P())}})(h.init),y=f(h.rest);return defer(_=>$Tuple(g,y))};return roundRobinInstancedMesh({instancedMesh:u.threeDI.instancedMesh,mesh:u.threeDI.mesh,matrix4:u.threeDI.matrix4})(100)(box({box:u.threeDI.boxGeometry}))(meshStandardMaterial$1({meshStandardMaterial:u.threeDI.meshStandardMaterial,color:u.mkColor($RGB(.49,.83,.45)),roughness:.1})(plusEvent.empty))(keepLatest((()=>{const d=oneOfMap$3(applicativeEvent.pure),m=scheduleCf(f(fromFoldable$4(mapWithIndexArray(h=>g=>({uniqueId:h,hitsFirstPositionAt:min$3(g.marker1Time)(g.marker2Time)+1,hitsLastPositionAt:max$3(g.marker1Time)(g.marker2Time)+1,tag:g.audioURL,length:g.length,column:g.column,raycastingCanStartAt:y=>1+g.raycastingCanStartAt(y)}))(o))))((h,g)=>u.animatedStuff(h,y=>g(y.rateInfo)));return(h,g)=>m(h,y=>{const _=d(y);return g(_)})})()))},a=o=>{o=1831565813+(o|=0)|0;let u=Math.imul(o^o>>>15,1|o);return u=u+Math.imul(u^u>>>7,61|u)^u,((u^u>>>14)>>>0)/4294967296};class e{constructor(u){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:f,separator:d,dictionaries:m,style:h,seed:g}=u;this.dictionaries=m,this.separator=d,this.length=f,this.style=h,this.seed=g}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let u=this.seed;return this.dictionaries.slice(0,this.length).reduce((f,d)=>{let m;u?(m=(g=>{if(typeof g=="string"){const y=g.split("").map(w=>w.charCodeAt(0)).reduce((w,$)=>w+$,1),_=Math.floor(Number(y));return a(_)}return a(g)})(u),u=4294967296*m):m=Math.random();let h=d[Math.floor(m*d.length)]||"";if(this.style==="lowerCase")h=h.toLowerCase();else if(this.style==="capital"){const[g,...y]=h.split("");h=g.toUpperCase()+y.join("")}else this.style==="upperCase"&&(h=h.toUpperCase());return f?`${f}${this.separator}${h}`:`${h}`},"")}}const i$1={separator:"_",dictionaries:[]},n=o=>{const u=[...o&&o.dictionaries||i$1.dictionaries],f={...i$1,...o,length:o&&o.length||u.length,dictionaries:u};if(!o||!o.dictionaries||!o.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new e(f).generate()};var l=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],r=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];const randomName=()=>n({dictionaries:[l,r],separator:"-"});var wavesurfer={exports:{}};/*!
 * wavesurfer.js 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/drawer.canvasentry.js":(g,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var w=v(_("./src/util/style.js")),$=v(_("./src/util/get-id.js"));function v(S){return S&&S.__esModule?S:{default:S}}function b(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function M(S,C){for(var O=0;O<C.length;O++){var B=C[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,B.key,B)}}function P(S,C,O){return C&&M(S.prototype,C),O&&M(S,O),Object.defineProperty(S,"prototype",{writable:!1}),S}var I=function(){function S(){b(this,S),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,$.default)(typeof this.constructor.name<"u"?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return P(S,[{key:"initWave",value:function(O){this.wave=O,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(O){this.progress=O,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(O,B,N,R){this.start=this.wave.offsetLeft/B||0,this.end=this.start+O/B,this.wave.width=N,this.wave.height=R;var L={width:O+"px"};(0,w.default)(this.wave,L),this.hasProgressCanvas&&(this.progress.width=N,this.progress.height=R,(0,w.default)(this.progress,L))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(O,B){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,O),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,B))}},{key:"getFillStyle",value:function(O,B){if(typeof B=="string"||B instanceof CanvasGradient)return B;var N=O.createLinearGradient(0,0,0,O.canvas.height);return B.forEach(function(R,L){return N.addColorStop(L/B.length,R)}),N}},{key:"applyCanvasTransforms",value:function(O){O&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(O,B,N,R,L){this.fillRectToContext(this.waveCtx,O,B,N,R,L),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,O,B,N,R,L)}},{key:"fillRectToContext",value:function(O,B,N,R,L,z){!O||(z?this.drawRoundedRect(O,B,N,R,L,z):O.fillRect(B,N,R,L))}},{key:"drawRoundedRect",value:function(O,B,N,R,L,z){L!==0&&(L<0&&(L*=-1,N-=L),O.beginPath(),O.moveTo(B+z,N),O.lineTo(B+R-z,N),O.quadraticCurveTo(B+R,N,B+R,N+z),O.lineTo(B+R,N+L-z),O.quadraticCurveTo(B+R,N+L,B+R-z,N+L),O.lineTo(B+z,N+L),O.quadraticCurveTo(B,N+L,B,N+L-z),O.lineTo(B,N+z),O.quadraticCurveTo(B,N,B+z,N),O.closePath(),O.fill())}},{key:"drawLines",value:function(O,B,N,R,L,z){this.drawLineToContext(this.waveCtx,O,B,N,R,L,z),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,O,B,N,R,L,z)}},{key:"drawLineToContext",value:function(O,B,N,R,L,z,Y){if(!!O){var te=B.length/2,K=Math.round(te*this.start),Q=Math.round(te*this.end)+1,J=K,Z=Q,ne=this.wave.width/(Z-J-1),q=R+L,H=N/R;O.beginPath(),O.moveTo((J-K)*ne,q),O.lineTo((J-K)*ne,q-Math.round((B[2*J]||0)/H));var re,ie,G;for(re=J;re<Z;re++)ie=B[2*re]||0,G=Math.round(ie/H),O.lineTo((re-K)*ne+this.halfPixel,q-G);var ue=Z-1;for(ue;ue>=J;ue--)ie=B[2*ue+1]||0,G=Math.round(ie/H),O.lineTo((ue-K)*ne+this.halfPixel,q-G);O.lineTo((J-K)*ne,q-Math.round((B[2*J+1]||0)/H)),O.closePath(),O.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(O,B,N){var R=this;if(N==="blob")return new Promise(function(L){R.wave.toBlob(L,O,B)});if(N==="dataURL")return this.wave.toDataURL(O,B)}}]),S}();y.default=I,g.exports=y.default},"./src/drawer.js":(g,y,_)=>{function w(Y){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},w(Y)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=b(_("./src/util/index.js"));function v(Y){if(typeof WeakMap!="function")return null;var te=new WeakMap,K=new WeakMap;return(v=function(J){return J?K:te})(Y)}function b(Y,te){if(!te&&Y&&Y.__esModule)return Y;if(Y===null||w(Y)!=="object"&&typeof Y!="function")return{default:Y};var K=v(te);if(K&&K.has(Y))return K.get(Y);var Q={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in Y)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(Y,Z)){var ne=J?Object.getOwnPropertyDescriptor(Y,Z):null;ne&&(ne.get||ne.set)?Object.defineProperty(Q,Z,ne):Q[Z]=Y[Z]}return Q.default=Y,K&&K.set(Y,Q),Q}function M(Y,te){if(!(Y instanceof te))throw new TypeError("Cannot call a class as a function")}function P(Y,te){for(var K=0;K<te.length;K++){var Q=te[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(Y,Q.key,Q)}}function I(Y,te,K){return te&&P(Y.prototype,te),K&&P(Y,K),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function S(Y,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(te&&te.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),te&&C(Y,te)}function C(Y,te){return C=Object.setPrototypeOf||function(Q,J){return Q.__proto__=J,Q},C(Y,te)}function O(Y){var te=R();return function(){var Q=L(Y),J;if(te){var Z=L(this).constructor;J=Reflect.construct(Q,arguments,Z)}else J=Q.apply(this,arguments);return B(this,J)}}function B(Y,te){if(te&&(w(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(Y)}function N(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(Y){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},L(Y)}var z=function(Y){S(K,Y);var te=O(K);function K(Q,J){var Z;return M(this,K),Z=te.call(this),Z.container=$.withOrientation(Q,J.vertical),Z.params=J,Z.width=0,Z.height=J.height*Z.params.pixelRatio,Z.lastPos=0,Z.wrapper=null,Z}return I(K,[{key:"style",value:function(J,Z){return $.style(J,Z)}},{key:"createWrapper",value:function(){this.wrapper=$.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(J,Z){!Z&&J.preventDefault();var ne=$.withOrientation(J.targetTouches?J.targetTouches[0]:J,this.params.vertical).clientX,q=this.wrapper.getBoundingClientRect(),H=this.width,re=this.getWidth(),ie=this.getProgressPixels(q,ne),G;return!this.params.fillParent&&H<re?G=ie*(this.params.pixelRatio/H)||0:G=(ie+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,$.clamp(G,0,1)}},{key:"getProgressPixels",value:function(J,Z){return this.params.rtl?J.right-Z:Z-J.left}},{key:"setupWrapperEvents",value:function(){var J=this;this.wrapper.addEventListener("click",function(Z){var ne=$.withOrientation(Z,J.params.vertical),q=J.wrapper.offsetHeight-J.wrapper.clientHeight;if(q!==0){var H=J.wrapper.getBoundingClientRect();if(ne.clientY>=H.bottom-q)return}J.params.interact&&J.fireEvent("click",Z,J.handleEvent(Z))}),this.wrapper.addEventListener("dblclick",function(Z){J.params.interact&&J.fireEvent("dblclick",Z,J.handleEvent(Z))}),this.wrapper.addEventListener("scroll",function(Z){return J.fireEvent("scroll",Z)})}},{key:"drawPeaks",value:function(J,Z,ne,q){this.setWidth(Z)||this.clearWave(),this.params.barWidth?this.drawBars(J,0,ne,q):this.drawWave(J,0,ne,q)}},{key:"resetScroll",value:function(){this.wrapper!==null&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(J){var Z=this.wrapper.scrollWidth*J;this.recenterOnPosition(Z,!0)}},{key:"recenterOnPosition",value:function(J,Z){var ne=this.wrapper.scrollLeft,q=~~(this.wrapper.clientWidth/2),H=this.wrapper.scrollWidth-this.wrapper.clientWidth,re=J-q,ie=re-ne;if(H!=0){if(!Z&&-q<=ie&&ie<q){var G=this.params.autoCenterRate;G/=q,G*=H,ie=Math.max(-G,Math.min(G,ie)),re=ne+ie}re=Math.max(0,Math.min(H,re)),re!=ne&&(this.wrapper.scrollLeft=re)}}},{key:"getScrollX",value:function(){var J=0;if(this.wrapper){var Z=this.params.pixelRatio;if(J=Math.round(this.wrapper.scrollLeft*Z),this.params.scrollParent){var ne=~~(this.wrapper.scrollWidth*Z-this.getWidth());J=Math.min(ne,Math.max(0,J))}}return J}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(J){if(this.width==J)return!1;if(this.width=J,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var Z=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:Z})}return this.updateSize(),!0}},{key:"setHeight",value:function(J){return J==this.height?!1:(this.height=J,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(J){var Z=1/this.params.pixelRatio,ne=Math.round(J*this.width)*Z;if(ne<this.lastPos||ne-this.lastPos>=Z){if(this.lastPos=ne,this.params.scrollParent&&this.params.autoCenter){var q=~~(this.wrapper.scrollWidth*J);this.recenterOnPosition(q,this.params.autoCenterImmediately)}this.updateProgress(ne)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(J,Z,ne,q){}},{key:"drawWave",value:function(J,Z,ne,q){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(J){}}]),K}($.Observer);y.default=z,g.exports=y.default},"./src/drawer.multicanvas.js":(g,y,_)=>{function w(Q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},w(Q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=I(_("./src/drawer.js")),v=P(_("./src/util/index.js")),b=I(_("./src/drawer.canvasentry.js"));function M(Q){if(typeof WeakMap!="function")return null;var J=new WeakMap,Z=new WeakMap;return(M=function(q){return q?Z:J})(Q)}function P(Q,J){if(!J&&Q&&Q.__esModule)return Q;if(Q===null||w(Q)!=="object"&&typeof Q!="function")return{default:Q};var Z=M(J);if(Z&&Z.has(Q))return Z.get(Q);var ne={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in Q)if(H!=="default"&&Object.prototype.hasOwnProperty.call(Q,H)){var re=q?Object.getOwnPropertyDescriptor(Q,H):null;re&&(re.get||re.set)?Object.defineProperty(ne,H,re):ne[H]=Q[H]}return ne.default=Q,Z&&Z.set(Q,ne),ne}function I(Q){return Q&&Q.__esModule?Q:{default:Q}}function S(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function C(Q,J){for(var Z=0;Z<J.length;Z++){var ne=J[Z];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Q,ne.key,ne)}}function O(Q,J,Z){return J&&C(Q.prototype,J),Z&&C(Q,Z),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function B(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),J&&N(Q,J)}function N(Q,J){return N=Object.setPrototypeOf||function(ne,q){return ne.__proto__=q,ne},N(Q,J)}function R(Q){var J=Y();return function(){var ne=te(Q),q;if(J){var H=te(this).constructor;q=Reflect.construct(ne,arguments,H)}else q=ne.apply(this,arguments);return L(this,q)}}function L(Q,J){if(J&&(w(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(Q)}function z(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(Q){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},te(Q)}var K=function(Q){B(Z,Q);var J=R(Z);function Z(ne,q){var H;return S(this,Z),H=J.call(this,ne,q),H.maxCanvasWidth=q.maxCanvasWidth,H.maxCanvasElementWidth=Math.round(q.maxCanvasWidth/q.pixelRatio),H.hasProgressCanvas=q.waveColor!=q.progressColor,H.halfPixel=.5/q.pixelRatio,H.canvases=[],H.progressWave=null,H.EntryClass=b.default,H.canvasContextAttributes=q.drawingContextAttributes,H.overlap=2*Math.ceil(q.pixelRatio/2),H.barRadius=q.barRadius||0,H.vertical=q.vertical,H}return O(Z,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=v.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var q=this,H=Math.round(this.width/this.params.pixelRatio),re=Math.ceil(H/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<re;)this.addCanvas();for(;this.canvases.length>re;)this.removeCanvas();var ie=this.maxCanvasWidth+this.overlap,G=this.canvases.length-1;this.canvases.forEach(function(ue,le){le==G&&(ie=q.width-q.maxCanvasWidth*G),q.updateDimensions(ue,ie,q.height),ue.clearWave()})}},{key:"addCanvas",value:function(){var q=new this.EntryClass;q.canvasContextAttributes=this.canvasContextAttributes,q.hasProgressCanvas=this.hasProgressCanvas,q.halfPixel=this.halfPixel;var H=this.maxCanvasElementWidth*this.canvases.length,re=v.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(re,{position:"absolute",zIndex:2,left:H+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),q.initWave(re),this.hasProgressCanvas){var ie=v.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(ie,{position:"absolute",left:H+"px",top:0,bottom:0,height:"100%"}),q.initProgress(ie)}this.canvases.push(q)}},{key:"removeCanvas",value:function(){var q=this.canvases[this.canvases.length-1];q.wave.parentElement.removeChild(q.wave.domElement),this.hasProgressCanvas&&q.progress.parentElement.removeChild(q.progress.domElement),q&&(q.destroy(),q=null),this.canvases.pop()}},{key:"updateDimensions",value:function(q,H,re){var ie=Math.round(H/this.params.pixelRatio),G=Math.round(this.width/this.params.pixelRatio);q.updateDimensions(ie,G,H,re),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var q=this;v.frame(function(){q.canvases.forEach(function(H){return H.clearWave()})})()}},{key:"drawBars",value:function(q,H,re,ie){var G=this;return this.prepareDraw(q,H,re,ie,function(ue){var le=ue.absmax,he=ue.hasMinVals;ue.height;var fe=ue.offsetY,_e=ue.halfH,Ie=ue.peaks,be=ue.channelIndex;if(re!==void 0){var Ne=he?2:1,pe=Ie.length/Ne,ve=G.params.barWidth*G.params.pixelRatio,Re=G.params.barGap===null?Math.max(G.params.pixelRatio,~~(ve/2)):Math.max(G.params.pixelRatio,G.params.barGap*G.params.pixelRatio),Ge=ve+Re,ke=pe/G.width,Ze=re,rt=ie,Ue=Ze;for(Ue;Ue<rt;Ue+=Ge){var et=0,Te=Math.floor(Ue*ke)*Ne,Ve=Math.floor((Ue+Ge)*ke)*Ne;do{var ot=Math.abs(Ie[Te]);ot>et&&(et=ot),Te+=Ne}while(Te<Ve);var Ye=Math.round(et/le*_e);Ye==0&&G.params.barMinHeight&&(Ye=G.params.barMinHeight),G.fillRect(Ue+G.halfPixel,_e-Ye+fe,ve+G.halfPixel,Ye*2,G.barRadius,be)}}})}},{key:"drawWave",value:function(q,H,re,ie){var G=this;return this.prepareDraw(q,H,re,ie,function(ue){var le=ue.absmax,he=ue.hasMinVals;ue.height;var fe=ue.offsetY,_e=ue.halfH,Ie=ue.peaks,be=ue.channelIndex;if(!he){var Ne=[],pe=Ie.length,ve=0;for(ve;ve<pe;ve++)Ne[2*ve]=Ie[ve],Ne[2*ve+1]=-Ie[ve];Ie=Ne}re!==void 0&&G.drawLine(Ie,le,_e,fe,re,ie,be),G.fillRect(0,_e+fe-G.halfPixel,G.width,G.halfPixel,G.barRadius,be)})}},{key:"drawLine",value:function(q,H,re,ie,G,ue,le){var he=this,fe=this.params.splitChannelsOptions.channelColors[le]||{},_e=fe.waveColor,Ie=fe.progressColor;this.canvases.forEach(function(be,Ne){he.setFillStyles(be,_e,Ie),he.applyCanvasTransforms(be,he.params.vertical),be.drawLines(q,H,re,ie,G,ue)})}},{key:"fillRect",value:function(q,H,re,ie,G,ue){var le=Math.floor(q/this.maxCanvasWidth),he=Math.min(Math.ceil((q+re)/this.maxCanvasWidth)+1,this.canvases.length),fe=le;for(fe;fe<he;fe++){var _e=this.canvases[fe],Ie=fe*this.maxCanvasWidth,be={x1:Math.max(q,fe*this.maxCanvasWidth),y1:H,x2:Math.min(q+re,fe*this.maxCanvasWidth+_e.wave.width),y2:H+ie};if(be.x1<be.x2){var Ne=this.params.splitChannelsOptions.channelColors[ue]||{},pe=Ne.waveColor,ve=Ne.progressColor;this.setFillStyles(_e,pe,ve),this.applyCanvasTransforms(_e,this.params.vertical),_e.fillRects(be.x1-Ie,be.y1,be.x2-be.x1,be.y2-be.y1,G)}}}},{key:"hideChannel",value:function(q){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(q)}},{key:"prepareDraw",value:function(q,H,re,ie,G,ue,le){var he=this;return v.frame(function(){if(q[0]instanceof Array){var fe=q;if(he.params.splitChannels){var _e=fe.filter(function(Ge,ke){return!he.hideChannel(ke)});he.params.splitChannelsOptions.overlay||he.setHeight(Math.max(_e.length,1)*he.params.height*he.params.pixelRatio);var Ie;return he.params.splitChannelsOptions&&he.params.splitChannelsOptions.relativeNormalization&&(Ie=v.max(fe.map(function(Ge){return v.absMax(Ge)}))),fe.forEach(function(Ge,ke){return he.prepareDraw(Ge,ke,re,ie,G,_e.indexOf(Ge),Ie)})}q=fe[0]}if(!he.hideChannel(H)){var be=1/he.params.barHeight;he.params.normalize&&(be=le===void 0?v.absMax(q):le);var Ne=[].some.call(q,function(Ge){return Ge<0}),pe=he.params.height*he.params.pixelRatio,ve=pe/2,Re=pe*ue||0;return he.params.splitChannelsOptions&&he.params.splitChannelsOptions.overlay&&(Re=0),G({absmax:be,hasMinVals:Ne,height:pe,offsetY:Re,halfH:ve,peaks:q,channelIndex:H})}})()}},{key:"setFillStyles",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.params.waveColor,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.params.progressColor;q.setFillStyles(H,re)}},{key:"applyCanvasTransforms",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;q.applyCanvasTransforms(H)}},{key:"getImage",value:function(q,H,re){if(re==="blob")return Promise.all(this.canvases.map(function(G){return G.getImage(q,H,re)}));if(re==="dataURL"){var ie=this.canvases.map(function(G){return G.getImage(q,H,re)});return ie.length>1?ie:ie[0]}}},{key:"updateProgress",value:function(q){this.style(this.progressWave,{width:q+"px"})}}]),Z}($.default);y.default=K,g.exports=y.default},"./src/mediaelement-webaudio.js":(g,y,_)=>{function w(te){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},w(te)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=v(_("./src/mediaelement.js"));function v(te){return te&&te.__esModule?te:{default:te}}function b(te,K){if(!(te instanceof K))throw new TypeError("Cannot call a class as a function")}function M(te,K){for(var Q=0;Q<K.length;Q++){var J=K[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(te,J.key,J)}}function P(te,K,Q){return K&&M(te.prototype,K),Q&&M(te,Q),Object.defineProperty(te,"prototype",{writable:!1}),te}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get:I=function(K,Q,J){var Z=S(K,Q);if(!!Z){var ne=Object.getOwnPropertyDescriptor(Z,Q);return ne.get?ne.get.call(arguments.length<3?K:J):ne.value}},I.apply(this,arguments)}function S(te,K){for(;!Object.prototype.hasOwnProperty.call(te,K)&&(te=z(te),te!==null););return te}function C(te,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(K&&K.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),K&&O(te,K)}function O(te,K){return O=Object.setPrototypeOf||function(J,Z){return J.__proto__=Z,J},O(te,K)}function B(te){var K=L();return function(){var J=z(te),Z;if(K){var ne=z(this).constructor;Z=Reflect.construct(J,arguments,ne)}else Z=J.apply(this,arguments);return N(this,Z)}}function N(te,K){if(K&&(w(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(te)}function R(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z(te){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},z(te)}var Y=function(te){C(Q,te);var K=B(Q);function Q(J){var Z;return b(this,Q),Z=K.call(this,J),Z.params=J,Z.sourceMediaElement=null,Z}return P(Q,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(Z,ne,q){I(z(Q.prototype),"_load",this).call(this,Z,ne,q),this.createMediaElementSource(Z)}},{key:"createMediaElementSource",value:function(Z){this.sourceMediaElement=this.ac.createMediaElementSource(Z),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(Z,ne){return this.resumeAudioContext(),I(z(Q.prototype),"play",this).call(this,Z,ne)}},{key:"destroy",value:function(){I(z(Q.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),Q}($.default);y.default=Y,g.exports=y.default},"./src/mediaelement.js":(g,y,_)=>{function w(J){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},w(J)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=P(_("./src/webaudio.js")),v=M(_("./src/util/index.js"));function b(J){if(typeof WeakMap!="function")return null;var Z=new WeakMap,ne=new WeakMap;return(b=function(H){return H?ne:Z})(J)}function M(J,Z){if(!Z&&J&&J.__esModule)return J;if(J===null||w(J)!=="object"&&typeof J!="function")return{default:J};var ne=b(Z);if(ne&&ne.has(J))return ne.get(J);var q={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var re in J)if(re!=="default"&&Object.prototype.hasOwnProperty.call(J,re)){var ie=H?Object.getOwnPropertyDescriptor(J,re):null;ie&&(ie.get||ie.set)?Object.defineProperty(q,re,ie):q[re]=J[re]}return q.default=J,ne&&ne.set(J,q),q}function P(J){return J&&J.__esModule?J:{default:J}}function I(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}function S(J,Z){for(var ne=0;ne<Z.length;ne++){var q=Z[ne];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(J,q.key,q)}}function C(J,Z,ne){return Z&&S(J.prototype,Z),ne&&S(J,ne),Object.defineProperty(J,"prototype",{writable:!1}),J}function O(){return typeof Reflect<"u"&&Reflect.get?O=Reflect.get:O=function(Z,ne,q){var H=B(Z,ne);if(!!H){var re=Object.getOwnPropertyDescriptor(H,ne);return re.get?re.get.call(arguments.length<3?Z:q):re.value}},O.apply(this,arguments)}function B(J,Z){for(;!Object.prototype.hasOwnProperty.call(J,Z)&&(J=K(J),J!==null););return J}function N(J,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),Z&&R(J,Z)}function R(J,Z){return R=Object.setPrototypeOf||function(q,H){return q.__proto__=H,q},R(J,Z)}function L(J){var Z=te();return function(){var q=K(J),H;if(Z){var re=K(this).constructor;H=Reflect.construct(q,arguments,re)}else H=q.apply(this,arguments);return z(this,H)}}function z(J,Z){if(Z&&(w(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y(J)}function Y(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(J){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},K(J)}var Q=function(J){N(ne,J);var Z=L(ne);function ne(q){var H;return I(this,ne),H=Z.call(this,q),H.params=q,H.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},H.mediaType=q.mediaType.toLowerCase(),H.elementPosition=q.elementPosition,H.peaks=null,H.playbackRate=1,H.volume=1,H.isMuted=!1,H.buffer=null,H.onPlayEnd=null,H.mediaListeners={},H}return C(ne,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var H=this;this.mediaListeners.error=function(){H.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){H.fireEvent("canplay")},this.mediaListeners.ended=function(){H.fireEvent("finish")},this.mediaListeners.play=function(){H.fireEvent("play")},this.mediaListeners.pause=function(){H.fireEvent("pause")},this.mediaListeners.seeked=function(re){H.fireEvent("seek")},this.mediaListeners.volumechange=function(re){H.isMuted=H.media.muted,H.isMuted?H.volume=0:H.volume=H.media.volume,H.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(re){H.media.removeEventListener(re,H.mediaListeners[re]),H.media.addEventListener(re,H.mediaListeners[re])})}},{key:"createTimer",value:function(){var H=this,re=function ie(){H.isPaused()||(H.fireEvent("audioprocess",H.getCurrentTime()),v.frame(ie)())};this.on("play",re),this.on("pause",function(){H.fireEvent("audioprocess",H.getCurrentTime())})}},{key:"load",value:function(H,re,ie,G){var ue=document.createElement(this.mediaType);ue.controls=this.params.mediaControls,ue.autoplay=this.params.autoplay||!1,ue.preload=G==null?"auto":G,ue.src=H,ue.style.width="100%";var le=re.querySelector(this.mediaType);le&&re.removeChild(le),re.appendChild(ue),this._load(ue,ie,G)}},{key:"loadElt",value:function(H,re){H.controls=this.params.mediaControls,H.autoplay=this.params.autoplay||!1,this._load(H,re,H.preload)}},{key:"_load",value:function(H,re,ie){if(!(H instanceof HTMLMediaElement)||typeof H.addEventListener>"u")throw new Error("media parameter is not a valid media element");typeof H.load=="function"&&!(re&&ie=="none")&&H.load(),this.media=H,this._setupMediaListeners(),this.peaks=re,this.onPlayEnd=null,this.buffer=null,this.isMuted=H.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var H=(this.buffer||this.media).duration;return H>=1/0&&(H=this.media.seekable.end(0)),H}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(H){this.playbackRate=H||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(H){H!=null&&!isNaN(H)&&(this.media.currentTime=H),this.clearPlayEnd()}},{key:"play",value:function(H,re){this.seekTo(H);var ie=this.media.play();return re&&this.setPlayEnd(re),ie}},{key:"pause",value:function(){var H;return this.media&&(H=this.media.pause()),this.clearPlayEnd(),H}},{key:"setPlayEnd",value:function(H){var re=this;this.clearPlayEnd(),this._onPlayEnd=function(ie){ie>=H&&(re.pause(),re.seekTo(H))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(H,re,ie){return this.buffer?O(K(ne.prototype),"getPeaks",this).call(this,H,re,ie):this.peaks||[]}},{key:"setSinkId",value:function(H){return H?this.media.setSinkId?this.media.setSinkId(H):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+H))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(H){this.volume=H,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(H){this.isMuted=this.media.muted=H}},{key:"destroy",value:function(){var H=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(re){H.media&&H.media.removeEventListener(re,H.mediaListeners[re])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),ne}($.default);y.default=Q,g.exports=y.default},"./src/peakcache.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function w(b,M){for(var P=0;P<M.length;P++){var I=M[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}function $(b,M,P){return M&&w(b.prototype,M),P&&w(b,P),Object.defineProperty(b,"prototype",{writable:!1}),b}var v=function(){function b(){_(this,b),this.clearPeakCache()}return $(b,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(P,I,S){P!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=P);for(var C=[],O=0;O<this.peakCacheRanges.length&&this.peakCacheRanges[O]<I;)O++;for(O%2==0&&C.push(I);O<this.peakCacheRanges.length&&this.peakCacheRanges[O]<=S;)C.push(this.peakCacheRanges[O]),O++;O%2==0&&C.push(S),C=C.filter(function(N,R,L){return R==0?N!=L[R+1]:R==L.length-1?N!=L[R-1]:N!=L[R-1]&&N!=L[R+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(C),this.peakCacheRanges=this.peakCacheRanges.sort(function(N,R){return N-R}).filter(function(N,R,L){return R==0?N!=L[R+1]:R==L.length-1?N!=L[R-1]:N!=L[R-1]&&N!=L[R+1]});var B=[];for(O=0;O<C.length;O+=2)B.push([C[O],C[O+1]]);return B}},{key:"getCacheRanges",value:function(){var P=[],I;for(I=0;I<this.peakCacheRanges.length;I+=2)P.push([this.peakCacheRanges[I],this.peakCacheRanges[I+1]]);return P}}]),b}();y.default=v,g.exports=y.default},"./src/util/absMax.js":(g,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=b;var w=v(_("./src/util/max.js")),$=v(_("./src/util/min.js"));function v(M){return M&&M.__esModule?M:{default:M}}function b(M){var P=(0,w.default)(M),I=(0,$.default)(M);return-I>P?-I:P}g.exports=y.default},"./src/util/clamp.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w,$,v){return Math.min(Math.max($,w),v)}g.exports=y.default},"./src/util/fetch.js":(g,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=I;var w=$(_("./src/util/observer.js"));function $(S){return S&&S.__esModule?S:{default:S}}function v(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function b(S,C){for(var O=0;O<C.length;O++){var B=C[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,B.key,B)}}function M(S,C,O){return C&&b(S.prototype,C),O&&b(S,O),Object.defineProperty(S,"prototype",{writable:!1}),S}var P=function(){function S(C,O,B){v(this,S),this.instance=C,this.instance._reader=B.body.getReader(),this.total=parseInt(O,10),this.loaded=0}return M(S,[{key:"start",value:function(O){var B=this,N=function R(){B.instance._reader.read().then(function(L){var z=L.done,Y=L.value;if(z){B.total===0&&B.instance.onProgress.call(B.instance,{loaded:B.loaded,total:B.total,lengthComputable:!1}),O.close();return}B.loaded+=Y.byteLength,B.instance.onProgress.call(B.instance,{loaded:B.loaded,total:B.total,lengthComputable:B.total!==0}),O.enqueue(Y),R()}).catch(function(L){O.error(L)})};N()}}]),S}();function I(S){if(S){if(!S.url)throw new Error("fetch url missing")}else throw new Error("fetch options missing");var C=new w.default,O=new Headers,B=new Request(S.url);C.controller=new AbortController,S&&S.requestHeaders&&S.requestHeaders.forEach(function(L){O.append(L.key,L.value)});var N=S.responseType||"json",R={method:S.method||"GET",headers:O,mode:S.mode||"cors",credentials:S.credentials||"same-origin",cache:S.cache||"default",redirect:S.redirect||"follow",referrer:S.referrer||"client",signal:C.controller.signal};return fetch(B,R).then(function(L){C.response=L;var z=!0;L.body||(z=!1);var Y=L.headers.get("content-length");return Y===null&&(z=!1),z?(C.onProgress=function(te){C.fireEvent("progress",te)},new Response(new ReadableStream(new P(C,Y,L)),R)):L}).then(function(L){var z;if(L.ok)switch(N){case"arraybuffer":return L.arrayBuffer();case"json":return L.json();case"blob":return L.blob();case"text":return L.text();default:z="Unknown responseType: "+N;break}throw z||(z="HTTP error status: "+L.status),new Error(z)}).then(function(L){C.fireEvent("success",L)}).catch(function(L){C.fireEvent("error",L)}),C.fetchRequest=B,C}g.exports=y.default},"./src/util/frame.js":(g,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;var w=$(_("./src/util/request-animation-frame.js"));function $(b){return b&&b.__esModule?b:{default:b}}function v(b){return function(){for(var M=arguments.length,P=new Array(M),I=0;I<M;I++)P[I]=arguments[I];return(0,w.default)(function(){return b.apply(void 0,P)})}}g.exports=y.default},"./src/util/get-id.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){return w===void 0&&(w="wavesurfer_"),w+Math.random().toString(32).substring(2)}g.exports=y.default},"./src/util/index.js":(g,y,_)=>{Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"Observer",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(y,"absMax",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(y,"clamp",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(y,"debounce",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(y,"fetchFile",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(y,"frame",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(y,"getId",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(y,"ignoreSilenceMode",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(y,"max",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(y,"min",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(y,"preventClick",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(y,"requestAnimationFrame",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(y,"style",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(y,"withOrientation",{enumerable:!0,get:function(){return R.default}});var w=z(_("./src/util/get-id.js")),$=z(_("./src/util/max.js")),v=z(_("./src/util/min.js")),b=z(_("./src/util/absMax.js")),M=z(_("./src/util/observer.js")),P=z(_("./src/util/style.js")),I=z(_("./src/util/request-animation-frame.js")),S=z(_("./src/util/frame.js")),C=z(_("./node_modules/debounce/index.js")),O=z(_("./src/util/prevent-click.js")),B=z(_("./src/util/fetch.js")),N=z(_("./src/util/clamp.js")),R=z(_("./src/util/orientation.js")),L=z(_("./src/util/silence-mode.js"));function z(Y){return Y&&Y.__esModule?Y:{default:Y}}},"./src/util/max.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){var $=-1/0;return Object.keys(w).forEach(function(v){w[v]>$&&($=w[v])}),$}g.exports=y.default},"./src/util/min.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w){var $=Number(1/0);return Object.keys(w).forEach(function(v){w[v]<$&&($=w[v])}),$}g.exports=y.default},"./src/util/observer.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function w(b,M){for(var P=0;P<M.length;P++){var I=M[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}function $(b,M,P){return M&&w(b.prototype,M),P&&w(b,P),Object.defineProperty(b,"prototype",{writable:!1}),b}var v=function(){function b(){_(this,b),this._disabledEventEmissions=[],this.handlers=null}return $(b,[{key:"on",value:function(P,I){var S=this;this.handlers||(this.handlers={});var C=this.handlers[P];return C||(C=this.handlers[P]=[]),C.push(I),{name:P,callback:I,un:function(B,N){return S.un(B,N)}}}},{key:"un",value:function(P,I){if(!!this.handlers){var S=this.handlers[P],C;if(S)if(I)for(C=S.length-1;C>=0;C--)S[C]==I&&S.splice(C,1);else S.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(P,I){var S=this,C=function O(){for(var B=arguments.length,N=new Array(B),R=0;R<B;R++)N[R]=arguments[R];I.apply(S,N),setTimeout(function(){S.un(P,O)},0)};return this.on(P,C)}},{key:"setDisabledEventEmissions",value:function(P){this._disabledEventEmissions=P}},{key:"_isDisabledEventEmission",value:function(P){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(P)}},{key:"fireEvent",value:function(P){for(var I=arguments.length,S=new Array(I>1?I-1:0),C=1;C<I;C++)S[C-1]=arguments[C];if(!(!this.handlers||this._isDisabledEventEmission(P))){var O=this.handlers[P];O&&O.forEach(function(B){B.apply(void 0,S)})}}}]),b}();y.default=v,g.exports=y.default},"./src/util/orientation.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=v;var _={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function w(b,M){return Object.prototype.hasOwnProperty.call(_,b)&&M?_[b]:b}var $=Symbol("isProxy");function v(b,M){return b[$]?b:new Proxy(b,{get:function(I,S,C){if(S===$)return!0;if(S==="domElement")return I;if(S==="style")return v(I.style,M);if(S==="canvas")return v(I.canvas,M);if(S==="getBoundingClientRect")return function(){return v(I.getBoundingClientRect.apply(I,arguments),M)};if(S==="getContext")return function(){return v(I.getContext.apply(I,arguments),M)};var O=I[w(S,M)];return typeof O=="function"?O.bind(I):O},set:function(I,S,C){return I[w(S,M)]=C,!0}})}g.exports=y.default},"./src/util/prevent-click.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=w;function _($){$.stopPropagation(),document.body.removeEventListener("click",_,!0)}function w($){document.body.addEventListener("click",_,!0)}g.exports=y.default},"./src/util/request-animation-frame.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(w,$){return setTimeout(w,1e3/60)}).bind(window);y.default=_,g.exports=y.default},"./src/util/silence-mode.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(){var w="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",$=document.createElement("div");$.innerHTML='<audio x-webkit-airplay="deny"></audio>';var v=$.children.item(0);v.src=w,v.preload="auto",v.type="audio/mpeg",v.disableRemotePlayback=!0,v.play(),v.remove(),$.remove()}g.exports=y.default},"./src/util/style.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=_;function _(w,$){return Object.keys($).forEach(function(v){w.style[v]!==$[v]&&(w.style[v]=$[v])}),w}g.exports=y.default},"./src/wavesurfer.js":(g,y,_)=>{function w(q){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},w(q)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=O(_("./src/util/index.js")),v=S(_("./src/drawer.multicanvas.js")),b=S(_("./src/webaudio.js")),M=S(_("./src/mediaelement.js")),P=S(_("./src/peakcache.js")),I=S(_("./src/mediaelement-webaudio.js"));function S(q){return q&&q.__esModule?q:{default:q}}function C(q){if(typeof WeakMap!="function")return null;var H=new WeakMap,re=new WeakMap;return(C=function(G){return G?re:H})(q)}function O(q,H){if(!H&&q&&q.__esModule)return q;if(q===null||w(q)!=="object"&&typeof q!="function")return{default:q};var re=C(H);if(re&&re.has(q))return re.get(q);var ie={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in q)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(q,ue)){var le=G?Object.getOwnPropertyDescriptor(q,ue):null;le&&(le.get||le.set)?Object.defineProperty(ie,ue,le):ie[ue]=q[ue]}return ie.default=q,re&&re.set(q,ie),ie}function B(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),H&&N(q,H)}function N(q,H){return N=Object.setPrototypeOf||function(ie,G){return ie.__proto__=G,ie},N(q,H)}function R(q){var H=Y();return function(){var ie=te(q),G;if(H){var ue=te(this).constructor;G=Reflect.construct(ie,arguments,ue)}else G=ie.apply(this,arguments);return L(this,G)}}function L(q,H){if(H&&(w(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(q)}function z(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(q){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},te(q)}function K(q,H,re){return H in q?Object.defineProperty(q,H,{value:re,enumerable:!0,configurable:!0,writable:!0}):q[H]=re,q}function Q(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function J(q,H){for(var re=0;re<H.length;re++){var ie=H[re];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(q,ie.key,ie)}}function Z(q,H,re){return H&&J(q.prototype,H),re&&J(q,re),Object.defineProperty(q,"prototype",{writable:!1}),q}var ne=function(q){B(re,q);var H=R(re);function re(ie){var G;if(Q(this,re),G=H.call(this),K(z(G),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:v.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1},vertical:!1,waveColor:"#999",xhr:{}}),K(z(G),"backends",{MediaElement:M.default,WebAudio:b.default,MediaElementWebAudio:I.default}),K(z(G),"util",$),G.params=Object.assign({},G.defaultParams,ie),G.params.splitChannelsOptions=Object.assign({},G.defaultParams.splitChannelsOptions,ie.splitChannelsOptions),G.container=typeof ie.container=="string"?document.querySelector(G.params.container):G.params.container,!G.container)throw new Error("Container element not found");if(G.params.mediaContainer==null?G.mediaContainer=G.container:typeof G.params.mediaContainer=="string"?G.mediaContainer=document.querySelector(G.params.mediaContainer):G.mediaContainer=G.params.mediaContainer,!G.mediaContainer)throw new Error("Media Container element not found");if(G.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(G.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(G.params.rtl===!0&&(G.params.vertical===!0?$.style(G.container,{transform:"rotateX(180deg)"}):$.style(G.container,{transform:"rotateY(180deg)"})),G.params.backgroundColor&&G.setBackgroundColor(G.params.backgroundColor),G.savedVolume=0,G.isMuted=!1,G.tmpEvents=[],G.currentRequest=null,G.arraybuffer=null,G.drawer=null,G.backend=null,G.peakCache=null,typeof G.params.renderer!="function")throw new Error("Renderer parameter is invalid");G.Drawer=G.params.renderer,G.params.backend=="AudioElement"&&(G.params.backend="MediaElement"),(G.params.backend=="WebAudio"||G.params.backend==="MediaElementWebAudio")&&!b.default.prototype.supportsWebAudio.call(null)&&(G.params.backend="MediaElement"),G.Backend=G.backends[G.params.backend],G.initialisedPluginList={},G.isDestroyed=!1,G.isReady=!1;var ue=0;return G._onResize=$.debounce(function(){G.drawer.wrapper&&ue!=G.drawer.wrapper.clientWidth&&!G.params.scrollParent&&(ue=G.drawer.wrapper.clientWidth,ue&&G.drawer.fireEvent("redraw"))},typeof G.params.responsive=="number"?G.params.responsive:100),L(G,z(G))}return Z(re,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(G){var ue=this;return G.forEach(function(le){return ue.addPlugin(le)}),G.forEach(function(le){le.deferInit||ue.initPlugin(le.name)}),this.fireEvent("plugins-registered",G),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(G){var ue=this;if(!G.name)throw new Error("Plugin does not have a name!");if(!G.instance)throw new Error("Plugin ".concat(G.name," does not have an instance property!"));G.staticProps&&Object.keys(G.staticProps).forEach(function(fe){ue[fe]=G.staticProps[fe]});var le=G.instance,he=Object.getOwnPropertyNames($.Observer.prototype);return he.forEach(function(fe){le.prototype[fe]=$.Observer.prototype[fe]}),this[G.name]=new le(G.params||{},this),this.fireEvent("plugin-added",G.name),this}},{key:"initPlugin",value:function(G){if(!this[G])throw new Error("Plugin ".concat(G," has not been added yet!"));return this.initialisedPluginList[G]&&this.destroyPlugin(G),this[G].init(),this.initialisedPluginList[G]=!0,this.fireEvent("plugin-initialised",G),this}},{key:"destroyPlugin",value:function(G){if(!this[G])throw new Error("Plugin ".concat(G," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[G])throw new Error("Plugin ".concat(G," is not active and cannot be destroyed!"));if(typeof this[G].destroy!="function")throw new Error("Plugin ".concat(G," does not have a destroy function!"));return this[G].destroy(),delete this.initialisedPluginList[G],this.fireEvent("plugin-destroyed",G),this}},{key:"destroyAllPlugins",value:function(){var G=this;Object.keys(this.initialisedPluginList).forEach(function(ue){return G.destroyPlugin(ue)})}},{key:"createDrawer",value:function(){var G=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.params.responsive!==!1&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){G.drawBuffer(),G.drawer.progress(G.backend.getPlayedPercents())}),this.drawer.on("click",function(ue,le){setTimeout(function(){return G.seekTo(le)},0)}),this.drawer.on("scroll",function(ue){G.params.partialRender&&G.drawBuffer(),G.fireEvent("scroll",ue)})}},{key:"createBackend",value:function(){var G=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){G.drawer.progress(G.backend.getPlayedPercents()),G.fireEvent("finish")}),this.backend.on("play",function(){return G.fireEvent("play")}),this.backend.on("pause",function(){return G.fireEvent("pause")}),this.backend.on("audioprocess",function(ue){G.drawer.progress(G.backend.getPlayedPercents()),G.fireEvent("audioprocess",ue)}),(this.params.backend==="MediaElement"||this.params.backend==="MediaElementWebAudio")&&(this.backend.on("seek",function(){G.drawer.progress(G.backend.getPlayedPercents())}),this.backend.on("volume",function(){var ue=G.getVolume();G.fireEvent("volume",ue),G.backend.isMuted!==G.isMuted&&(G.isMuted=G.backend.isMuted,G.fireEvent("mute",G.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new P.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(G){G>=this.getDuration()?this.seekTo(1):this.seekTo(G/this.getDuration())}},{key:"play",value:function(G,ue){var le=this;return this.params.ignoreSilenceMode&&$.ignoreSilenceMode(),this.fireEvent("interaction",function(){return le.play(G,ue)}),this.backend.play(G,ue)}},{key:"setPlayEnd",value:function(G){this.backend.setPlayEnd(G)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(G){this.skip(-G||-this.params.skipLength)}},{key:"skipForward",value:function(G){this.skip(G||this.params.skipLength)}},{key:"skip",value:function(G){var ue=this.getDuration()||1,le=this.getCurrentTime()||0;le=Math.max(0,Math.min(ue,le+(G||0))),this.seekAndCenter(le/ue)}},{key:"seekAndCenter",value:function(G){this.seekTo(G),this.drawer.recenter(G)}},{key:"seekTo",value:function(G){var ue=this;if(typeof G!="number"||!isFinite(G)||G<0||G>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return ue.seekTo(G)});var le=this.params.backend==="WebAudio",he=this.backend.isPaused();le&&!he&&this.backend.pause();var fe=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(G*this.getDuration()),this.drawer.progress(G),le&&!he&&this.backend.play(),this.params.scrollParent=fe,this.fireEvent("seek",G)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(G){return this.backend.setSinkId(G)}},{key:"setVolume",value:function(G){this.backend.setVolume(G),this.fireEvent("volume",G)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(G){this.backend.setPlaybackRate(G)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(G){if(G===this.isMuted){this.fireEvent("mute",this.isMuted);return}this.backend.setMute?(this.backend.setMute(G),this.isMuted=G):G?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[G]?this.params.splitChannelsOptions.channelColors[G].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(G){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.params.splitChannelsOptions.channelColors[ue]?this.params.splitChannelsOptions.channelColors[ue].waveColor=G:this.params.waveColor=G,this.drawBuffer()}},{key:"getProgressColor",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[G]?this.params.splitChannelsOptions.channelColors[G].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(G,ue){this.params.splitChannelsOptions.channelColors[ue]?this.params.splitChannelsOptions.channelColors[ue].progressColor=G:this.params.progressColor=G,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(G){this.params.backgroundColor=G,$.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(G){this.params.cursorColor=G,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(G){this.params.height=G,this.drawer.setHeight(G*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(G){this.params.splitChannelsOptions.filterChannels=G,this.drawBuffer()}},{key:"drawBuffer",value:function(){var G=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),ue=this.drawer.getWidth(),le=G,he=0,fe=Math.max(he+ue,le);this.params.fillParent&&(!this.params.scrollParent||G<ue)&&(le=ue,he=0,fe=le);var _e;if(this.params.partialRender){var Ie=this.peakCache.addRangeToPeakCache(le,he,fe),be;for(be=0;be<Ie.length;be++)_e=this.backend.getPeaks(le,Ie[be][0],Ie[be][1]),this.drawer.drawPeaks(_e,le,Ie[be][0],Ie[be][1])}else _e=this.backend.getPeaks(le,he,fe),this.drawer.drawPeaks(_e,le,he,fe);this.fireEvent("redraw",_e,le)}},{key:"zoom",value:function(G){G?(this.params.minPxPerSec=G,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",G)}},{key:"loadArrayBuffer",value:function(G){var ue=this;this.decodeArrayBuffer(G,function(le){ue.isDestroyed||ue.loadDecodedBuffer(le)})}},{key:"loadDecodedBuffer",value:function(G){this.backend.load(G),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(G){var ue=this,le=new FileReader;le.addEventListener("progress",function(he){return ue.onProgress(he)}),le.addEventListener("load",function(he){return ue.loadArrayBuffer(he.target.result)}),le.addEventListener("error",function(){return ue.fireEvent("error","Error reading file")}),le.readAsArrayBuffer(G),this.empty()}},{key:"load",value:function(G,ue,le,he){if(!G)throw new Error("url parameter cannot be empty");if(this.empty(),le){var fe={"Preload is not 'auto', 'none' or 'metadata'":["auto","metadata","none"].indexOf(le)===-1,"Peaks are not provided":!ue,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend)===-1,"Url is not of type string":typeof G!="string"},_e=Object.keys(fe).filter(function(Ie){return fe[Ie]});_e.length&&(console.warn(`Preload parameter of wavesurfer.load will be ignored because:
	- `+_e.join(`
	- `)),le=null)}switch(this.params.backend==="WebAudio"&&G instanceof HTMLMediaElement&&(G=G.src),this.params.backend){case"WebAudio":return this.loadBuffer(G,ue,he);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(G,ue,le,he)}}},{key:"loadBuffer",value:function(G,ue,le){var he=this,fe=function(Ie){return Ie&&he.tmpEvents.push(he.once("ready",Ie)),he.getArrayBuffer(G,function(be){return he.loadArrayBuffer(be)})};if(ue)this.backend.setPeaks(ue,le),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",fe));else return fe()}},{key:"loadMediaElement",value:function(G,ue,le,he){var fe=this,_e=G;if(typeof G=="string")this.backend.load(_e,this.mediaContainer,ue,le);else{var Ie=G;this.backend.loadElt(Ie,ue),_e=Ie.src}this.tmpEvents.push(this.backend.once("canplay",function(){fe.backend.destroyed||(fe.drawBuffer(),fe.isReady=!0,fe.fireEvent("ready"))}),this.backend.once("error",function(be){return fe.fireEvent("error",be)})),ue&&(this.backend.setPeaks(ue,he),this.drawBuffer(),this.fireEvent("waveform-ready")),(!ue||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(_e,function(be){fe.decodeArrayBuffer(be,function(Ne){fe.backend.buffer=Ne,fe.backend.setPeaks(null),fe.drawBuffer(),fe.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(G,ue){var le=this;this.isDestroyed||(this.arraybuffer=G,this.backend.decodeArrayBuffer(G,function(he){!le.isDestroyed&&le.arraybuffer==G&&(ue(he),le.arraybuffer=null)},function(){return le.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(G,ue){var le=this,he=Object.assign({url:G,responseType:"arraybuffer"},this.params.xhr),fe=$.fetchFile(he);return this.currentRequest=fe,this.tmpEvents.push(fe.on("progress",function(_e){le.onProgress(_e)}),fe.on("success",function(_e){ue(_e),le.currentRequest=null}),fe.on("error",function(_e){le.fireEvent("error",_e),le.currentRequest=null})),fe}},{key:"onProgress",value:function(G){var ue;G.lengthComputable?ue=G.loaded/G.total:ue=G.loaded/(G.loaded+1e6),this.fireEvent("loading",Math.round(ue*100),G.target)}},{key:"exportPCM",value:function(G,ue,le,he,fe){G=G||1024,he=he||0,ue=ue||1e4,le=le||!1;var _e=this.backend.getPeaks(G,he,fe),Ie=[].map.call(_e,function(be){return Math.round(be*ue)/ue});return new Promise(function(be,Ne){if(!le){var pe=new Blob([JSON.stringify(Ie)],{type:"application/json;charset=utf-8"}),ve=URL.createObjectURL(pe);window.open(ve),URL.revokeObjectURL(ve)}be(Ie)})}},{key:"exportImage",value:function(G,ue,le){return G||(G="image/png"),ue||(ue=1),le||(le="dataURL"),this.drawer.getImage(G,ue,le)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch(function(G){}),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(G){return G.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive!==!1&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(G){var ue=new re(G);return ue.init()}}]),re}($.Observer);y.default=ne,K(ne,"VERSION","6.2.0"),K(ne,"util",$),g.exports=y.default},"./src/webaudio.js":(g,y,_)=>{function w(J){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},w(J)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var $=b(_("./src/util/index.js"));function v(J){if(typeof WeakMap!="function")return null;var Z=new WeakMap,ne=new WeakMap;return(v=function(H){return H?ne:Z})(J)}function b(J,Z){if(!Z&&J&&J.__esModule)return J;if(J===null||w(J)!=="object"&&typeof J!="function")return{default:J};var ne=v(Z);if(ne&&ne.has(J))return ne.get(J);var q={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var re in J)if(re!=="default"&&Object.prototype.hasOwnProperty.call(J,re)){var ie=H?Object.getOwnPropertyDescriptor(J,re):null;ie&&(ie.get||ie.set)?Object.defineProperty(q,re,ie):q[re]=J[re]}return q.default=J,ne&&ne.set(J,q),q}function M(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}function P(J,Z){for(var ne=0;ne<Z.length;ne++){var q=Z[ne];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(J,q.key,q)}}function I(J,Z,ne){return Z&&P(J.prototype,Z),ne&&P(J,ne),Object.defineProperty(J,"prototype",{writable:!1}),J}function S(J,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),Z&&C(J,Z)}function C(J,Z){return C=Object.setPrototypeOf||function(q,H){return q.__proto__=H,q},C(J,Z)}function O(J){var Z=R();return function(){var q=L(J),H;if(Z){var re=L(this).constructor;H=Reflect.construct(q,arguments,re)}else H=q.apply(this,arguments);return B(this,H)}}function B(J,Z){if(Z&&(w(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(J)}function N(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(J){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},L(J)}function z(J,Z,ne){return Z in J?Object.defineProperty(J,Z,{value:ne,enumerable:!0,configurable:!0,writable:!0}):J[Z]=ne,J}var Y="playing",te="paused",K="finished",Q=function(J){S(ne,J);var Z=O(ne);function ne(q){var H,re,ie;return M(this,ne),ie=Z.call(this),z(N(ie),"audioContext",null),z(N(ie),"offlineAudioContext",null),z(N(ie),"stateBehaviors",(H={},z(H,Y,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var ue=this.getDuration();return this.getCurrentTime()/ue||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),z(H,te,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var ue=this.getDuration();return this.getCurrentTime()/ue||0},getCurrentTime:function(){return this.startPosition}}),z(H,K,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),H)),ie.params=q,ie.ac=q.audioContext||(ie.supportsWebAudio()?ie.getAudioContext():{}),ie.lastPlay=ie.ac.currentTime,ie.startPosition=0,ie.scheduledPause=null,ie.states=(re={},z(re,Y,Object.create(ie.stateBehaviors[Y])),z(re,te,Object.create(ie.stateBehaviors[te])),z(re,K,Object.create(ie.stateBehaviors[K])),re),ie.buffer=null,ie.filters=[],ie.gainNode=null,ie.mergedPeaks=null,ie.offlineAc=null,ie.peaks=null,ie.playbackRate=1,ie.analyser=null,ie.scriptNode=null,ie.source=null,ie.splitPeaks=[],ie.state=null,ie.explicitDuration=q.duration,ie.sinkStreamDestination=null,ie.sinkAudioElement=null,ie.destroyed=!1,ie}return I(ne,[{key:"supportsWebAudio",value:function(){return!!(window.AudioContext||window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(H){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,H)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(te),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(H){H&&H.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(H){this.state!==this.states[H]&&(this.state=this.states[H],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var H=arguments.length,re=new Array(H),ie=0;ie<H;ie++)re[ie]=arguments[ie];this.setFilters(re)}},{key:"setFilters",value:function(H){this.disconnectFilters(),H&&H.length&&(this.filters=H,this.analyser.disconnect(),H.reduce(function(re,ie){return re.connect(ie),ie},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(ne.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(ne.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var H=this;this.scriptNode.onaudioprocess=function(){var re=H.getCurrentTime();re>=H.getDuration()?(H.setState(K),H.fireEvent("pause")):re>=H.scheduledPause?H.pause():H.state===H.states[Y]&&H.fireEvent("audioprocess",re)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=null}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(H){return H?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(H)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+H))}},{key:"setVolume",value:function(H){this.gainNode.gain.setValueAtTime(H,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(H,re,ie){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(H,function(G){return re(G)},ie):this.offlineAc.decodeAudioData(H).then(function(G){return re(G)}).catch(function(G){return ie(G)})}},{key:"setPeaks",value:function(H,re){re!=null&&(this.explicitDuration=re),this.peaks=H}},{key:"setLength",value:function(H){if(!(this.mergedPeaks&&H==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];var re=this.buffer?this.buffer.numberOfChannels:1,ie;for(ie=0;ie<re;ie++)this.splitPeaks[ie]=[],this.splitPeaks[ie][2*(H-1)]=0,this.splitPeaks[ie][2*(H-1)+1]=0;this.mergedPeaks[2*(H-1)]=0,this.mergedPeaks[2*(H-1)+1]=0}}},{key:"getPeaks",value:function(H,re,ie){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(re=re||0,ie=ie||H-1,this.setLength(H),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var G=this.createBuffer(1,4096,this.sampleRate);this.buffer=G.buffer}var ue=this.buffer.length/H,le=~~(ue/10)||1,he=this.buffer.numberOfChannels,fe;for(fe=0;fe<he;fe++){var _e=this.splitPeaks[fe],Ie=this.buffer.getChannelData(fe),be=void 0;for(be=re;be<=ie;be++){var Ne=~~(be*ue),pe=~~(Ne+ue),ve=Ie[Ne],Re=ve,Ge=void 0;for(Ge=Ne;Ge<pe;Ge+=le){var ke=Ie[Ge];ke>Re&&(Re=ke),ke<ve&&(ve=ke)}_e[2*be]=Re,_e[2*be+1]=ve,(fe==0||Re>this.mergedPeaks[2*be])&&(this.mergedPeaks[2*be]=Re),(fe==0||ve<this.mergedPeaks[2*be+1])&&(this.mergedPeaks[2*be+1]=ve)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(typeof this.ac.close=="function"&&this.ac.state!="closed"&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(H){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=H,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){this.ac.state=="suspended"&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[Y]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(H,re){if(!!this.buffer)return this.scheduledPause=null,H==null&&(H=this.getCurrentTime(),H>=this.getDuration()&&(H=0)),re==null&&(re=this.getDuration()),this.startPosition=H,this.lastPlay=this.ac.currentTime,this.state===this.states[K]&&this.setState(te),{start:H,end:re}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(H,re){if(!!this.buffer){this.createSource();var ie=this.seekTo(H,re);H=ie.start,re=ie.end,this.scheduledPause=re,this.source.start(0,H),this.resumeAudioContext(),this.setState(Y),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch{}this.setState(te),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(H){this.playbackRate=H||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(H){this.scheduledPause=H}}]),ne}($.Observer);y.default=Q,z(Q,"scriptBufferSize",256),g.exports=y.default},"./node_modules/debounce/index.js":g=>{function y(_,w,$){var v,b,M,P,I;w==null&&(w=100);function S(){var O=Date.now()-P;O<w&&O>=0?v=setTimeout(S,w-O):(v=null,$||(I=_.apply(M,b),M=b=null))}var C=function(){M=this,b=arguments,P=Date.now();var O=$&&!v;return v||(v=setTimeout(S,w)),O&&(I=_.apply(M,b),M=b=null),I};return C.clear=function(){v&&(clearTimeout(v),v=null)},C.flush=function(){v&&(I=_.apply(M,b),M=b=null,clearTimeout(v),v=null)},C}y.debounce=y,g.exports=y}},d={};function m(g){var y=d[g];if(y!==void 0)return y.exports;var _=d[g]={exports:{}};return f[g](_,_.exports,m),_.exports}var h=m("./src/wavesurfer.js");return h})())})(wavesurfer);const WaveSurfer=getDefaultExportFromCjs(wavesurfer.exports);var wavesurfer_playhead={exports:{}};/*!
 * wavesurfer.js playhead plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/playhead/index.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function w(M,P){for(var I=0;I<P.length;I++){var S=P[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}}function $(M,P,I){return P&&w(M.prototype,P),I&&w(M,I),Object.defineProperty(M,"prototype",{writable:!1}),M}var v="#CF2F00",b=function(){function M(P,I){var S=this;_(this,M),this.params=P,this.options={},["draw","moveOnSeek","returnOnPause"].forEach(function(C){C in P?S.options[C]=P[C]:S.options[C]=!0}),this.wavesurfer=I,this.util=I.util,this.style=this.util.style,this.markerWidth=21,this.markerHeight=16,this.playheadTime=0,this.unFuns=[],this._onResize=function(){S._updatePlayheadPosition()},this._onReady=function(){S.wrapper=S.wavesurfer.drawer.wrapper,S._updatePlayheadPosition()}}return $(M,[{key:"_onBackendCreated",value:function(){var I=this;this.wrapper=this.wavesurfer.drawer.wrapper,this.options.draw&&(this._createPlayheadElement(),window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0),this.wavesurferOn("zoom",this._onResize)),this.wavesurferOn("pause",function(){I.options.returnOnPause&&I.wavesurfer.setCurrentTime(I.playheadTime)}),this.wavesurferOn("seek",function(){I.options.moveOnSeek&&(I.playheadTime=I.wavesurfer.getCurrentTime(),I._updatePlayheadPosition())}),this.playheadTime=this.wavesurfer.getCurrentTime()}},{key:"wavesurferOn",value:function(I,S){var C=this,O=this.wavesurfer.on(I,S);return this.unFuns.push(function(){C.wavesurfer.un(I,S)}),O}},{key:"init",value:function(){var I=this;this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",function(){return I._onReady()}),this.wavesurfer.once("backend-created",function(){return I._onBackendCreated()}))}},{key:"destroy",value:function(){this.unFuns.forEach(function(I){return I()}),this.unFuns=[],this.wrapper.removeChild(this.element),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)}},{key:"setPlayheadTime",value:function(I){this.playheadTime=I,this.wavesurfer.isPlaying()||this.wavesurfer.setCurrentTime(I),this._updatePlayheadPosition()}},{key:"_createPointerSVG",value:function(){var I="http://www.w3.org/2000/svg",S=document.createElementNS(I,"svg"),C=document.createElementNS(I,"path");return S.setAttribute("viewBox","0 0 33 30"),C.setAttribute("d","M16.75 31 31.705 5.566A3 3 0 0 0 29.146 1H4.354a3 3 0 0 0-2.56 4.566L16.75 31z"),C.setAttribute("stroke","#979797"),C.setAttribute("fill",v),S.appendChild(C),this.style(S,{width:this.markerWidth+"px",height:this.markerHeight+"px",cursor:"pointer","z-index":5}),S}},{key:"_createPlayheadElement",value:function(){var I=this,S=document.createElement("playhead");S.className="wavesurfer-playhead",this.style(S,{position:"absolute",height:"100%",display:"flex","flex-direction":"column"});var C=this._createPointerSVG();S.appendChild(C),C.addEventListener("click",function(B){B.stopPropagation(),I.wavesurfer.setCurrentTime(I.playheadTime)});var O=document.createElement("div");this.style(O,{"flex-grow":1,"margin-left":this.markerWidth/2-.5+"px",background:"black",width:"1px",opacity:.1}),S.appendChild(O),this.element=S,this.wrapper.appendChild(S)}},{key:"_updatePlayheadPosition",value:function(){if(!!this.element){var I=this.wavesurfer.getDuration(),S=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,C=this.playheadTime/I;this.style(this.element,{left:S*C-this.markerWidth/2+"px"})}}}],[{key:"create",value:function(I){return{name:"playhead",deferInit:I&&I.deferInit?I.deferInit:!1,params:I,instance:M}}}]),M}();y.default=b,g.exports=y.default}},d={};function m(g){var y=d[g];if(y!==void 0)return y.exports;var _=d[g]={exports:{}};return f[g](_,_.exports,m),_.exports}var h=m("./src/plugin/playhead/index.js");return h})())})(wavesurfer_playhead);const PlayheadPlugin=getDefaultExportFromCjs(wavesurfer_playhead.exports);var wavesurfer_markers={exports:{}};/*!
 * wavesurfer.js markers plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/markers/index.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function w(P,I){for(var S=0;S<I.length;S++){var C=I[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}}function $(P,I,S){return I&&w(P.prototype,I),S&&w(P,S),Object.defineProperty(P,"prototype",{writable:!1}),P}var v="#D8D8D8",b="bottom",M=function(){function P(I,S){var C=this;_(this,P),this.params=I,this.wavesurfer=S,this.util=S.util,this.style=this.util.style,this.markerLineWidth=1,this.markerWidth=11,this.markerHeight=22,this.dragging=!1,this._onResize=function(){C._updateMarkerPositions()},this._onBackendCreated=function(){C.wrapper=C.wavesurfer.drawer.wrapper,C.params.markers&&C.params.markers.forEach(function(O){return C.add(O)}),window.addEventListener("resize",C._onResize,!0),window.addEventListener("orientationchange",C._onResize,!0),C.wavesurfer.on("zoom",C._onResize),C.markers.find(function(O){return O.draggable})&&(C.onMouseMove=function(O){return C._onMouseMove(O)},window.addEventListener("mousemove",C.onMouseMove),C.onMouseUp=function(O){return C._onMouseUp(O)},window.addEventListener("mouseup",C.onMouseUp))},this.markers=[],this._onReady=function(){C.wrapper=C.wavesurfer.drawer.wrapper,C._updateMarkerPositions()}}return $(P,[{key:"init",value:function(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}},{key:"destroy",value:function(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.wavesurfer.un("zoom",this._onResize),window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0),this.onMouseMove&&window.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&window.removeEventListener("mouseup",this.onMouseUp),this.clear()}},{key:"add",value:function(S){var C={time:S.time,label:S.label,color:S.color||v,position:S.position||b,draggable:!!S.draggable};return C.el=this._createMarkerElement(C,S.markerElement),this.wrapper.appendChild(C.el),this.markers.push(C),this._updateMarkerPositions(),C}},{key:"remove",value:function(S){var C=this.markers[S];!C||(this.wrapper.removeChild(C.el),this.markers.splice(S,1))}},{key:"_createPointerSVG",value:function(S,C){var O="http://www.w3.org/2000/svg",B=document.createElementNS(O,"svg"),N=document.createElementNS(O,"polygon");return B.setAttribute("viewBox","0 0 40 80"),N.setAttribute("id","polygon"),N.setAttribute("stroke","#979797"),N.setAttribute("fill",S),N.setAttribute("points","20 0 40 30 40 80 0 80 0 30"),C=="top"&&N.setAttribute("transform","rotate(180, 20 40)"),B.appendChild(N),this.style(B,{width:this.markerWidth+"px",height:this.markerHeight+"px","min-width":this.markerWidth+"px","margin-right":"5px","z-index":4}),B}},{key:"_createMarkerElement",value:function(S,C){var O=this,B=S.label,N=document.createElement("marker");N.className="wavesurfer-marker",this.style(N,{position:"absolute",height:"100%",display:"flex",overflow:"hidden","flex-direction":S.position=="top"?"column-reverse":"column"});var R=document.createElement("div"),L=C?C.width:this.markerWidth;S.offset=(L-this.markerLineWidth)/2,this.style(R,{"flex-grow":1,"margin-left":S.offset+"px",background:"black",width:this.markerLineWidth+"px",opacity:.1}),N.appendChild(R);var z=document.createElement("div"),Y=C||this._createPointerSVG(S.color,S.position);if(S.draggable&&(Y.draggable=!1),z.appendChild(Y),B){var te=document.createElement("span");te.innerText=B,this.style(te,{"font-family":"monospace","font-size":"90%"}),z.appendChild(te)}return this.style(z,{display:"flex","align-items":"center",cursor:"pointer"}),N.appendChild(z),z.addEventListener("click",function(K){K.stopPropagation(),!O.dragging&&(O.wavesurfer.setCurrentTime(S.time),O.wavesurfer.fireEvent("marker-click",S,K))}),S.draggable&&z.addEventListener("mousedown",function(K){O.selectedMarker=S}),N}},{key:"_updateMarkerPositions",value:function(){for(var S=0;S<this.markers.length;S++){var C=this.markers[S];this._updateMarkerPosition(C)}}},{key:"_updateMarkerPosition",value:function(S){var C=this.wavesurfer.getDuration(),O=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,B=Math.min(S.time/C,1),N=O*B-S.offset;this.style(S.el,{left:N+"px","max-width":O-N+"px"})}},{key:"_onMouseMove",value:function(S){!this.selectedMarker||(this.dragging||(this.dragging=!0,this.wavesurfer.fireEvent("marker-drag",this.selectedMarker,S)),this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*this.wavesurfer.getDuration(),this._updateMarkerPositions())}},{key:"_onMouseUp",value:function(S){var C=this;if(this.selectedMarker&&setTimeout(function(){C.selectedMarker=!1,C.dragging=!1},0),!!this.dragging){S.stopPropagation();var O=this.wavesurfer.getDuration();this.selectedMarker.time=this.wavesurfer.drawer.handleEvent(S)*O,this._updateMarkerPositions(),this.wavesurfer.fireEvent("marker-drop",this.selectedMarker,S)}}},{key:"clear",value:function(){for(;this.markers.length>0;)this.remove(0)}}],[{key:"create",value:function(S){return{name:"markers",deferInit:S&&S.deferInit?S.deferInit:!1,params:S,staticProps:{addMarker:function(O){return this.initialisedPluginList.markers||this.initPlugin("markers"),this.markers.add(O)},clearMarkers:function(){this.markers&&this.markers.clear()}},instance:P}}}]),P}();y.default=M,g.exports=y.default}},d={};function m(g){var y=d[g];if(y!==void 0)return y.exports;var _=d[g]={exports:{}};return f[g](_,_.exports,m),_.exports}var h=m("./src/plugin/markers/index.js");return h})())})(wavesurfer_markers);const MarkersPlugin=getDefaultExportFromCjs(wavesurfer_markers.exports);var wavesurfer_cursor={exports:{}};/*!
 * wavesurfer.js cursor plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/cursor/index.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function w(M,P){for(var I=0;I<P.length;I++){var S=P[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}}function $(M,P,I){return P&&w(M.prototype,P),I&&w(M,I),Object.defineProperty(M,"prototype",{writable:!1}),M}function v(M,P,I){return P in M?Object.defineProperty(M,P,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[P]=I,M}var b=function(){function M(P,I){var S=this;_(this,M),v(this,"defaultParams",{hideOnBlur:!0,width:"1px",color:"black",opacity:"0.25",style:"solid",zIndex:4,customStyle:{},customShowTimeStyle:{},showTime:!1,followCursorY:!1,formatTimeCallback:null}),v(this,"_onMousemove",function(C){var O=S.util.withOrientation(C,S.wavesurfer.params.vertical),B=S.wrapper.getBoundingClientRect(),N=0,R=S.wrapper.scrollLeft+O.clientX-B.left,L=S.displayTime?S.displayTime.getBoundingClientRect().width:0,z=B.right<O.clientX+L;S.params.showTime&&S.params.followCursorY&&(N=O.clientY-(B.top+B.height/2)),S.updateCursorPosition(R,N,z)}),v(this,"_onMouseenter",function(){return S.showCursor()}),v(this,"_onMouseleave",function(){return S.hideCursor()}),this.wavesurfer=I,this.style=I.util.style,this.util=I.util,this.cursor=null,this.showTime=null,this.displayTime=null,this.params=Object.assign({},this.defaultParams,P)}return $(M,[{key:"_onReady",value:function(){this.wrapper=this.wavesurfer.drawer.wrapper,this.cursor=this.util.withOrientation(this.wrapper.appendChild(document.createElement("cursor")),this.wavesurfer.params.vertical),this.style(this.cursor,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"0",display:"flex",borderRightStyle:this.params.style,borderRightWidth:this.params.width,borderRightColor:this.params.color,opacity:this.params.opacity,pointerEvents:"none"},this.params.customStyle)),this.params.showTime&&(this.showTime=this.util.withOrientation(this.wrapper.appendChild(document.createElement("showTitle")),this.wavesurfer.params.vertical),this.style(this.showTime,Object.assign({position:"absolute",zIndex:this.params.zIndex,left:0,top:0,bottom:0,width:"auto",display:"flex",opacity:this.params.opacity,pointerEvents:"none",height:"100%"},this.params.customStyle)),this.displayTime=this.util.withOrientation(this.showTime.appendChild(document.createElement("div")),this.wavesurfer.params.vertical),this.style(this.displayTime,Object.assign({display:"inline",pointerEvents:"none",margin:"auto",visibility:"hidden"},this.params.customShowTimeStyle)),this.displayTime.innerHTML=this.formatTime(0)),this.wrapper.addEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.hideCursor(),this.wrapper.addEventListener("mouseenter",this._onMouseenter),this.wrapper.addEventListener("mouseleave",this._onMouseleave))}},{key:"init",value:function(){var I=this;this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",function(){return I._onReady()})}},{key:"destroy",value:function(){this.params.showTime&&this.showTime.remove(),this.cursor.remove(),this.wrapper.removeEventListener("mousemove",this._onMousemove),this.params.hideOnBlur&&(this.wrapper.removeEventListener("mouseenter",this._onMouseenter),this.wrapper.removeEventListener("mouseleave",this._onMouseleave))}},{key:"updateCursorPosition",value:function(I,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.style(this.cursor,{left:"".concat(I,"px")}),this.params.showTime){var O=this.wavesurfer.getDuration(),B=this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio,N=this.wavesurfer.drawer.getScrollX(),R=O/this.wavesurfer.drawer.width*N,L=Math.max(0,(I-this.wrapper.scrollLeft)/B*O)+R,z=this.formatTime(L);if(C){var Y=this.displayTime.getBoundingClientRect().width;I-=Y}this.style(this.showTime,{left:"".concat(I,"px"),top:"".concat(S,"px")}),this.style(this.displayTime,{visibility:"visible"}),this.displayTime.innerHTML="".concat(z)}}},{key:"showCursor",value:function(){this.style(this.cursor,{display:"flex"}),this.params.showTime&&this.style(this.showTime,{display:"flex"})}},{key:"hideCursor",value:function(){this.style(this.cursor,{display:"none"}),this.params.showTime&&this.style(this.showTime,{display:"none"})}},{key:"formatTime",value:function(I){return I=isNaN(I)?0:I,this.params.formatTimeCallback?this.params.formatTimeCallback(I):[I].map(function(S){return[Math.floor(S%3600/60),("00"+Math.floor(S%60)).slice(-2),("000"+Math.floor(S%1*1e3)).slice(-3)].join(":")})}}],[{key:"create",value:function(I){return{name:"cursor",deferInit:I&&I.deferInit?I.deferInit:!1,params:I,staticProps:{},instance:M}}}]),M}();y.default=b,g.exports=y.default}},d={};function m(g){var y=d[g];if(y!==void 0)return y.exports;var _=d[g]={exports:{}};return f[g](_,_.exports,m),_.exports}var h=m("./src/plugin/cursor/index.js");return h})())})(wavesurfer_cursor);const CursorPlugin=getDefaultExportFromCjs(wavesurfer_cursor.exports);var wavesurfer_timeline={exports:{}};/*!
 * wavesurfer.js timeline plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(o,u){(function(d,m){o.exports=m()})(self,()=>(()=>{var f={"./src/plugin/timeline/index.js":(g,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function _(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function w(M,P){for(var I=0;I<P.length;I++){var S=P[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(M,S.key,S)}}function $(M,P,I){return P&&w(M.prototype,P),I&&w(M,I),Object.defineProperty(M,"prototype",{writable:!1}),M}function v(M,P,I){return P in M?Object.defineProperty(M,P,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[P]=I,M}var b=function(){function M(P,I){var S=this;if(_(this,M),v(this,"_onScroll",function(){S.wrapper&&S.drawer.wrapper&&(S.wrapper.scrollLeft=S.drawer.wrapper.scrollLeft)}),v(this,"_onRedraw",function(){return S.render()}),v(this,"_onReady",function(){var C=S.wavesurfer;S.drawer=C.drawer,S.pixelRatio=C.drawer.params.pixelRatio,S.maxCanvasWidth=C.drawer.maxCanvasWidth||C.drawer.width,S.maxCanvasElementWidth=C.drawer.maxCanvasElementWidth||Math.round(S.maxCanvasWidth/S.pixelRatio),C.drawer.wrapper.addEventListener("scroll",S._onScroll),C.on("redraw",S._onRedraw),C.on("zoom",S._onZoom),S.render()}),v(this,"_onWrapperClick",function(C){C.preventDefault();var O="offsetX"in C?C.offsetX:C.layerX;S.fireEvent("click",O/S.wrapper.scrollWidth||0)}),this.container=typeof P.container=="string"?document.querySelector(P.container):P.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=I,this.util=I.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},P),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce(function(){return S.render()},this.params.zoomDebounce):function(){return S.render()}}return $(M,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var I=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height,"px")}),(I.fillParent||I.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var I=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(I),this.util.style(I,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var I=this.canvases.pop();I.parentElement.removeChild(I)}},{key:"updateCanvases",value:function(){for(var I=Math.round(this.drawer.wrapper.scrollWidth),S=Math.ceil(I/this.maxCanvasElementWidth);this.canvases.length<S;)this.addCanvas();for(;this.canvases.length>S;)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var I=this,S=this.canvases.length;this.canvases.forEach(function(C,O){var B=O===S-1?I.drawer.wrapper.scrollWidth-I.maxCanvasElementWidth*(S-1):I.maxCanvasElementWidth;C.width=B*I.pixelRatio,C.height=(I.params.height+1)*I.pixelRatio,I.util.style(C,{width:"".concat(B,"px"),height:"".concat(I.params.height,"px"),left:"".concat(O*I.maxCanvasElementWidth,"px")})})}},{key:"renderCanvases",value:function(){var I=this,S=this.params.duration||this.wavesurfer.backend.getDuration();if(!(S<=0)){var C=this.wavesurfer.params,O=this.params.fontSize*C.pixelRatio,B=parseInt(S,10)+1,N=C.fillParent&&!C.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*C.pixelRatio,R=this.params.height*this.pixelRatio,L=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,z=N/S,Y=this.params.formatTimeCallback,te=function(ue){return typeof ue=="function"?ue(z):ue},K=te(this.params.timeInterval),Q=te(this.params.primaryLabelInterval),J=te(this.params.secondaryLabelInterval),Z=z*this.params.offset,ne=0,q,H=[],re=this.params.offset<0?B-this.params.offset:B;for(q=0;q<re/K;q++)H.push([q,ne,Z]),ne+=K,Z+=z*K;var ie=function(ue){H.forEach(function(le){ue(le[0],le[1],le[2])})};this.setFillStyles(this.params.primaryColor),this.setFonts("".concat(O,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.primaryFontColor),ie(function(G,ue,le){G%Q===0&&(I.fillRect(le,0,1,R),I.fillText(Y(ue,z),le+I.params.labelPadding*I.pixelRatio,R))}),this.setFillStyles(this.params.secondaryColor),this.setFonts("".concat(O,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.secondaryFontColor),ie(function(G,ue,le){G%J===0&&(I.fillRect(le,0,1,R),I.fillText(Y(ue,z),le+I.params.labelPadding*I.pixelRatio,R))}),this.setFillStyles(this.params.unlabeledNotchColor),ie(function(G,ue,le){G%J!==0&&G%Q!==0&&I.fillRect(le,0,1,L)})}}},{key:"setFillStyles",value:function(I){this.canvases.forEach(function(S){var C=S.getContext("2d");C&&(C.fillStyle=I)})}},{key:"setFonts",value:function(I){this.canvases.forEach(function(S){var C=S.getContext("2d");C&&(C.font=I)})}},{key:"fillRect",value:function(I,S,C,O){var B=this;this.canvases.forEach(function(N,R){var L=R*B.maxCanvasWidth,z={x1:Math.max(I,R*B.maxCanvasWidth),y1:S,x2:Math.min(I+C,R*B.maxCanvasWidth+N.width),y2:S+O};if(z.x1<z.x2){var Y=N.getContext("2d");Y&&Y.fillRect(z.x1-L,z.y1,z.x2-z.x1,z.y2-z.y1)}})}},{key:"fillText",value:function(I,S,C){var O,B=0;this.canvases.forEach(function(N){var R=N.getContext("2d");if(R){var L=R.canvas.width;if(B>S+O)return;B+L>S&&R&&(O=R.measureText(I).width,R.fillText(I,S-B,C)),B+=L}})}},{key:"defaultFormatTimeCallback",value:function(I,S){if(I/60>1){var C=parseInt(I/60,10);return I=parseInt(I%60,10),I=I<10?"0"+I:I,"".concat(C,":").concat(I)}return Math.round(I*1e3)/1e3}},{key:"defaultTimeInterval",value:function(I){return I>=25?1:I*5>=25?5:I*15>=25?15:Math.ceil(.5/I)*60}},{key:"defaultPrimaryLabelInterval",value:function(I){return I>=25?10:I*5>=25?6:(I*15>=25,4)}},{key:"defaultSecondaryLabelInterval",value:function(I){return I>=25?5:(I*5>=25||I*15>=25,2)}}],[{key:"create",value:function(I){return{name:"timeline",deferInit:I&&I.deferInit?I.deferInit:!1,params:I,instance:M}}}]),M}();y.default=b,g.exports=y.default}},d={};function m(g){var y=d[g];if(y!==void 0)return y.exports;var _=d[g]={exports:{}};return f[g](_,_.exports,m),_.exports}var h=m("./src/plugin/timeline/index.js");return h})())})(wavesurfer_timeline);const TimelinePlugin=getDefaultExportFromCjs(wavesurfer_timeline.exports);function formatTimeCallback(o,u){o=Number(o);var f=Math.floor(o/60);o=o%60;var d=Math.round(o).toString();return u>=25*10?d=o.toFixed(2):u>=25*1&&(d=o.toFixed(1)),f>0?(o<10&&(d="0"+d),`${f}:${d}`):d}function timeInterval(o){var u=1;return o>=25*100?u=.01:o>=25*40?u=.025:o>=25*10?u=.1:o>=25*4?u=.25:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function primaryLabelInterval(o){var u=1;return o>=25*100?u=10:o>=25*40?u=4:o>=25*10?u=10:o>=25*4?u=4:o>=25?u=1:o*5>=25?u=5:o*15>=25?u=15:u=Math.ceil(.5/o)*60,u}function secondaryLabelInterval(o){return Math.floor(10/timeInterval(o))}const makeWavesurfer=o=>u=>f=>d=>m=>h=>()=>{const g=WaveSurfer.create({backend:"MediaElement",waveColor:"#A8DBA8",progressColor:"#3B8131",container:m,mediaControls:!0,scrollParent:!0,plugins:[PlayheadPlugin.create({returnOnPause:!0,moveOnSeek:!0,draw:!0}),TimelinePlugin.create({container:"#timeline",formatTimeCallback,timeInterval,primaryLabelInterval,secondaryLabelInterval,primaryColor:"#0b83a7",secondaryColor:"#ef0ea6",primaryFontColor:"#0b83a7",secondaryFontColor:"#ef0ea6"}),MarkersPlugin.create({markers:[{time:0,color:"#00ffff",draggable:!0,position:"top"}]}),CursorPlugin.create({showTime:!0,opacity:1,customShowTimeStyle:{"background-color":"#000",color:"#fff",padding:"2px","font-size":"10px"}})]});g.load(h),g.on("ready",d),g.markers.remove(0),g.on("marker-drop",function({time:w,el:{$$joyrideIndex:$,$$joyrideOffset:v,$$realIndex:b,$$documentId:M}}){f($)(v)(b)(M?u(M):o)(w)()});var y={play:function(){g.playPause()},back:function(){g.skipBackward()},forth:function(){g.skipForward()},stop:function(){g.stop()},"toggle-mute":function(){g.toggleMute()}};const _=function(w){let v={38:"play",37:"back",39:"forth",40:"stop"}[w.keyCode];v in y&&((document==w.target||document.body==w.target||w.target.attributes["data-action"])&&w.preventDefault(),y[v](w))};return document.addEventListener("keydown",_),g.on("destroy",()=>{document.removeEventListener("keydown",_)}),g},zoom=o=>u=>()=>o.zoom(u),associateEventDocumentIdWithSortedMarkerIdList=o=>u=>()=>{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(o.markers.markers[d].el.$$joyrideIndex!==f[0].ix&&(console.log("shifting",o.markers.markers[d].el.$$joyrideIndex,f[0].ix),f.shift()),o.markers.markers[d].el.$$joyrideIndex!==f[0].ix)throw console.error("Programming error: something isn't sorted",o.markers.markers[d].el.$$joyrideIndex,f[0].ix,JSON.stringify(u),JSON.stringify(o.markers.markers.map(m=>m.el.$$joyrideIndex))),new Error("Programming error: something isn't sorted");o.markers.markers[d].el.$$documentId=f[0].id}},associateEventDocumentIdWithMarker=o=>u=>()=>{o.el.$$documentId=u},addMarker=o=>u=>f=>d=>()=>{const m=o.addMarker({draggable:!0,position:"top",...d});return m.el.$$joyrideIndex=u,m.el.$$joyrideOffset=f,m.el.$$realIndex=o.markers.markers.length-1,m},hideMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("visible"),o.markers.markers[u].el.classList.add("invisible")},muteExcept=o=>u=>()=>{if(u.length===0)for(let f=0;f<o.markers.markers.length;f++)o.markers.markers[f].el.classList.remove("invisible"),o.markers.markers[f].el.classList.add("visible");else{const f=[...u];for(let d=0;d<o.markers.markers.length;d++){if(f.length&&d==f[0][1]&&f.shift(),f.length&&d>=f[0][0]&&d<f[0][1]){o.markers.markers[d].el.classList.remove("invisible"),o.markers.markers[d].el.classList.add("visible");continue}o.markers.markers[d].el.classList.remove("visible"),o.markers.markers[d].el.classList.add("invisible")}}},removeMarker=o=>u=>()=>{o.markers.remove(u)},getCurrentTime=o=>()=>o.getCurrentTime(),getDuration=o=>()=>o.getDuration(),showMarker=o=>u=>()=>{o.markers.markers[u].el.classList.remove("invisible"),o.markers.markers[u].el.classList.add("visible")};var getEffProp=function(o){return function(u){return function(){return u[o]}}};const _firstChild=getEffProp("firstChild"),textContent=getEffProp("textContent");function eventListener(o){return function(){return function(u){return o(u)()}}}function addEventListener(o){return function(u){return function(f){return function(d){return function(){return d.addEventListener(o,u,f)}}}}}function removeEventListener(o){return function(u){return function(f){return function(d){return function(){return d.removeEventListener(o,u,f)}}}}}function _item(o){return function(u){return u.item(o)}}function fileReader(){return new FileReader}function result(o){return function(){return o.result}}function readAsText(o){return function(u){return function(){u.readAsText(o)}}}const styleAudio=()=>{const o=document.getElementsByTagName("audio");Array.prototype.slice.call(o).forEach(f=>{f.id="audio",f.classList.add("op-player"),f.classList.add("op-player__media"),f.setAttribute("controls",!0),f.setAttribute("playsinline",!0)})},$CAction=(o,u)=>({tag:o,_1:u}),$SoMu=(o,u)=>({tag:o,_1:u}),oneOf$8=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),vbussedUncurried=vbussedUncurried$1()(vbusCons2({reflectSymbol:()=>"addBasic"})()()(vbusCons2({reflectSymbol:()=>"addLeap"})()()(vbusCons2({reflectSymbol:()=>"addLongPress"})()()(vbusCons2({reflectSymbol:()=>"atomicEventOperation"})()()(vbusCons2({reflectSymbol:()=>"atomicTrackOperation"})()()(vbusCons2({reflectSymbol:()=>"availableTracks"})()()(vbusCons2({reflectSymbol:()=>"chooserScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"currentTime"})()()(vbusCons2({reflectSymbol:()=>"documentId"})()()(vbusCons2({reflectSymbol:()=>"forkingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"importerScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"initialPrivate"})()()(vbusCons2({reflectSymbol:()=>"initialTitle"})()()(vbusCons2({reflectSymbol:()=>"initialWhitelist"})()()(vbusCons2({reflectSymbol:()=>"loadWave"})()()(vbusCons2({reflectSymbol:()=>"loadingScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"markerMoved"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"previewScreenVisible"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusCons2({reflectSymbol:()=>"spamIdsOnSubscription"})()()(vbusCons2({reflectSymbol:()=>"unMute"})()()(vbusCons2({reflectSymbol:()=>"unSolo"})()()(vbusCons2({reflectSymbol:()=>"waveSurfer"})()()(vbusNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()),fold$1=fold$3(eventIsEvent),for_$3=for_$9(applicativeEffect),for_1=for_$3(foldableMaybe),folded$1=folded$2(eventIsEvent)(monoidArray),traverse_$5=traverse_$9(applicativeEffect)(foldableMaybe),parTraverse$2=(()=>{const o=traversableArray.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),mapAccum$3=mapAccum$e(eventIsEvent),ordTuple=ordTuple$1(ordInt)(ordInt),toUnfoldable1=toUnfoldable(unfoldableArray),for_2=for_$3(foldableArray),traverseWithIndex_=traverseWithIndex_$1(applicativeEffect)(foldableWithIndexArray),min$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},writeForeignArray={writeImpl:o=>arrayMap(writeForeignEvent_.writeImpl)(o)},trackIsSymbol={reflectSymbol:()=>"track"},writeJSON=writeJSON$1((()=>{const o=consWriteForeignFields$1({reflectSymbol:()=>"evs"})(writeForeignArray)(consWriteForeignFields$1(trackIsSymbol)((()=>{const u=consWriteForeignFields$1({reflectSymbol:()=>"owner"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"private"})(writeForeignBoolean)(consWriteForeignFields$1({reflectSymbol:()=>"title"})({writeImpl:f=>{if(f.tag==="Nothing")return _undefined;if(f.tag==="Just")return f._1;fail$3()}})(consWriteForeignFields$1({reflectSymbol:()=>"url"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"version"})({writeImpl:f=>0})(consWriteForeignFields$1({reflectSymbol:()=>"whitelist"})(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),fromFoldable$3=(()=>fromFoldableImpl(foldableList.foldr))(),click$6=click$7(attrOnClickEffectUnit),eventsIsSymbol={reflectSymbol:()=>"events"},writeJSON1=writeJSON$1((()=>{const o=consWriteForeignFields$1(eventsIsSymbol)(writeForeignArray)(consWriteForeignFields$1(trackIsSymbol)(writeForeignTrack)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})()),vbus=vbus$2()(vbusCons2({reflectSymbol:()=>"changeColumn"})()()(vbusCons2({reflectSymbol:()=>"changeName"})()()(vbusCons2({reflectSymbol:()=>"delete"})()()(vbusCons2({reflectSymbol:()=>"mute"})()()(vbusCons2({reflectSymbol:()=>"solo"})()()(vbusNil)()())()())()())()())()()),intercalate=intercalate1(monoidString),readJSON=readJSON$2(readRecord()(readFieldsCons$1(eventsIsSymbol)(readArray(readForeignEvent_))(readFieldsCons$1(trackIsSymbol)(readForeignTrack)(readFieldsNil)()())()())),show1=(()=>showNonEmptyList$1(showForeignError).show)(),parTraverse_=parTraverse_$1(parallelAff)(foldableMaybe),ldc=(()=>distinctColors.length)(),defaultLongPress=o=>u=>f=>d=>$Landmark("LLong",{start:{at:d.marker1Time},end:{at:d.marker2Time},len:{len:d.length},name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultLeap=o=>u=>f=>d=>$Landmark("LLeap",{start:{at:d.marker1Time},end:{at:d.marker2Time},position:d.position,name:d.name,id:o,fbId:f,startIx:u,col:d.column}),defaultBasic=o=>u=>f=>d=>$Landmark("LBasic",{l1:{at:d.marker1Time},l2:{at:d.marker2Time},l3:{at:d.marker3Time},l4:{at:d.marker4Time},name:d.name,fbId:f,id:o,startIx:u,col:d.column}),dC=o=>{const u=index(distinctColors)(intMod(o)(ldc));if(u.tag==="Nothing")return"#8b6f1f";if(u.tag==="Just")return u._1;fail$3()},buttonClassWithMarginAndAutoPointerEvents=(()=>buttonCls+" mx-2 pointer-events-auto")(),biSampleOn1=o=>u=>applyEvent.apply(u)(o),aDeleteEvent_=o=>$$delete(ordInt)(o.id),aChangeTitle=o=>u=>$Track({url:u._1.url,private:u._1.private,title:o,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangePrivate=o=>u=>$Track({url:u._1.url,private:o,title:u._1.title,owner:u._1.owner,whitelist:u._1.whitelist,version:u._1.version}),aChangeOwner=o=>u=>$Track({url:u._1.url,private:u._1.private,title:u._1.title,owner:o,whitelist:u._1.whitelist,version:u._1.version}),aChangeName=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:o.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:o.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:o.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker4=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:o.time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker3=o=>update(ordInt)(u=>$Maybe("Just",(()=>u._1.tag==="BasicEventV0"?$Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:o.time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version})):u)()))(o.id),aChangeMarker2=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:o.time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:o.time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeMarker1=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:o.time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:u._1._1.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:o.time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:u._1._1.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aChangeColumn=o=>update(ordInt)(u=>$Maybe("Just",(()=>{if(u._1.tag==="BasicEventV0")return $Event_($EventV0("BasicEventV0",{marker1Time:u._1._1.marker1Time,marker1AudioURL:u._1._1.marker1AudioURL,marker2Time:u._1._1.marker2Time,marker2AudioURL:u._1._1.marker2AudioURL,marker3Time:u._1._1.marker3Time,marker3AudioURL:u._1._1.marker3AudioURL,marker4Time:u._1._1.marker4Time,marker4AudioURL:u._1._1.marker4AudioURL,column:o.column,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LeapEventV0")return $Event_($EventV0("LeapEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,column:o.column,position:u._1._1.position,name:u._1._1.name,version:u._1._1.version}));if(u._1.tag==="LongEventV0")return $Event_($EventV0("LongEventV0",{marker1Time:u._1._1.marker1Time,marker2Time:u._1._1.marker2Time,audioURL:u._1._1.audioURL,length:u._1._1.length,column:o.column,name:u._1._1.name,version:u._1._1.version}));fail$3()})()))(o.id),aAddLongPress=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LongEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,length:o.length,column:o.column,name:o.name,version:$Version(0)}))),aAddLeap=o=>insert$2(ordInt)(o.id)($Event_($EventV0("LeapEventV0",{marker1Time:o.marker1Time,audioURL:Nothing,marker2Time:o.marker2Time,position:o.position,column:o.column,name:o.name,version:$Version(0)}))),aAddBasic=o=>insert$2(ordInt)(o.id)($Event_($EventV0("BasicEventV0",{marker1Time:o.marker1Time,marker1AudioURL:Nothing,marker2Time:o.marker2Time,marker2AudioURL:Nothing,marker3Time:o.marker3Time,marker3AudioURL:Nothing,marker4Time:o.marker4Time,marker4AudioURL:Nothing,column:o.column,name:o.name,version:$Version(0)}))),editorPage=o=>u=>f=>vbussedUncurried($$Proxy)(d=>{const m=fold$1(h=>g=>h._1&&h._2>=10?$Tuple(!1,9):!h._1&&h._2<=4?$Tuple(!0,5):$Tuple(h._1,(()=>h._1?h._2+1|0:h._2-1|0)()))($Tuple(!0,7))(applicativeEvent.pure(unit));return $Entity("EventfulElement'",memoBeh(keepLatest((()=>{const h=oneOff(Just)(applyEvent.apply(applyEvent.apply(applyEvent.apply((g,y)=>d._2.initialTitle(g,_=>y(w=>$=>v=>({initialTitle:_,url:w,initialPrivate:$,initialWhitelist:v}))))(d._2.loadWave))(d._2.initialPrivate))(d._2.initialWhitelist));return(g,y)=>h(g,_=>{const w=fold$1($=>v=>{if(v.tag==="Left")return $Tuple($._1,v._1($._2));if(v.tag==="Right")return $Tuple(v._1($._1),$._2);fail$3()})($Tuple($Track({title:Nothing,url:_.url,private:_.initialPrivate,version:$Version(0),whitelist:_.initialWhitelist,owner:""}),Leaf))(($,v)=>{const b=d._2.atomicEventOperation($,I=>v($Either("Left",I))),M=applicativeEvent.pure(aChangeTitle($Maybe("Just",_.initialTitle)))($,I=>v($Either("Right",I))),P=d._2.atomicTrackOperation($,I=>v($Either("Right",I)));return()=>(b(),M(),P())});return y(w)})})()))($Tuple($Track({title:Nothing,url:"",private:!1,version:$Version(0),whitelist:[],owner:""}),Leaf))(h=>$Entity("EventfulElement'",rider({event:biSampleOn1(d._2.markerMoved)((g,y)=>d._2.documentId(g,_=>{const w=Tuple(_);return y(w)})),push:g=>for_1(g._2.id)(y=>{const _=_makeFiber(ffiUtil$1,(()=>g._2.offset===0?updateMarker1TimeAff(u.firestoreDb)(g._1)(y)(g._2.time):g._2.offset===1?updateMarker2TimeAff(u.firestoreDb)(g._1)(y)(g._2.time):g._2.offset===2?updateMarker3TimeAff(u.firestoreDb)(g._1)(y)(g._2.time):updateMarker4TimeAff(u.firestoreDb)(g._1)(y)(g._2.time))());return()=>(_().run(),unit)})})(rider({event:sampleOnRight(h)(sampleOnRight(d._2.waveSurfer)(biSampleOn1(folded$1((g,y)=>u.signedInNonAnonymously(g,_=>y([_]))))((g,y)=>{const _=d._2.documentId(g,$=>y(v=>b=>M=>({did:$Maybe("Just",$),sina:v,ws:b,mrd:M}))),w=applicativeEvent.pure(Nothing)(g,$=>y(v=>b=>M=>({did:$,sina:v,ws:b,mrd:M})));return()=>(_(),w())}))),push:g=>g.did.tag==="Nothing"?g.sina.length===2?g.sina[0]?g.sina[1]?()=>unit:bindE(currentUser(u.fbAuth))(traverse_$5(y=>{const _=_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)(aChangeOwner(y.uid)(g.mrd._1)))(w=>_bind(_liftEffect(d._1.documentId(w.id)))(()=>_bind(parTraverse$2($=>_bind(addEventAff(u.firestoreDb)(w.id)($._2))(v=>_pure({ix:$._1,id:v.id})))(toUnfoldable$1(unfoldableArray)(g.mrd._2)))($=>_liftEffect(associateEventDocumentIdWithSortedMarkerIdList(g.ws)($))))));return()=>(_().run(),unit)})):()=>unit:()=>unit:()=>unit})(rider({event:sampleOnRight(d._2.waveSurfer)((()=>{const g=mapAccum$3(y=>_=>{if(_.tag==="Solo"){const w=insert$2(ordTuple)(_._1)(unit)(y);return $Tuple(w,$Either("Left",w))}if(_.tag==="UnSolo"){const w=$$delete(ordTuple)(_._1)(y);return $Tuple(w,$Either("Left",w))}if(_.tag==="Mute")return $Tuple(y,$Either("Right",$Either("Right",_._1)));if(_.tag==="UnMute")return $Tuple(y,$Either("Right",$Either("Left",_._1)));fail$3()})(Leaf)((y,_)=>{const w=d._2.solo(y,M=>_($SoMu("Solo",M))),$=d._2.mute(y,M=>_($SoMu("Mute",M))),v=d._2.unSolo(y,M=>_($SoMu("UnSolo",M))),b=d._2.unMute(y,M=>_($SoMu("UnMute",M)));return()=>(w(),$(),v(),b())});return(y,_)=>g(y,w=>{const $=Tuple(w);return _($)})})()),push:g=>{if(g._1.tag==="Left")return muteExcept(g._2)(arrayMap(y=>[y._1,y._1+y._2|0])(toUnfoldable1(g._1._1)));if(g._1.tag==="Right"){if(g._1._1.tag==="Right")return for_2(range(g._1._1._1._1)((g._1._1._1._1+g._1._1._1._2|0)-1|0))(y=>hideMarker(g._2)(y));if(g._1._1.tag==="Left")return for_2(range(g._1._1._1._1)((g._1._1._1._1+g._1._1._1._2|0)-1|0))(y=>showMarker(g._2)(y));fail$3()}fail$3()}})(memoBeh((g,y)=>d._2.documentId(g,_=>y($Maybe("Just",_))))(Nothing)(g=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)(d._2.spamIdsOnSubscription)(y=>$Entity("EventfulElement'",backdoor.mailboxed(ordInt)((_,w)=>d._2.markerMoved(_,$=>w({address:$.ix,payload:$})))(_=>$Entity("EventfulElement'",memoBeh(d._2.currentTime)(()=>0)(w=>$Entity("EventfulElement'",backdoor.memoize(oneOf$8([($,v)=>d._2.addBasic($,b=>v($CAction("CBasic",b))),($,v)=>d._2.addLeap($,b=>v($CAction("CLeap",b))),($,v)=>d._2.addLongPress($,b=>v($CAction("CLongPress",b)))]))($=>{const v=(P,I,S)=>{const C=sortBy$1(O=>B=>ordNumber.compare((()=>{if(O.data._1.tag==="BasicEventV0"||O.data._1.tag==="LeapEventV0"||O.data._1.tag==="LongEventV0")return O.data._1._1.marker1Time;fail$3()})())((()=>{if(B.data._1.tag==="BasicEventV0"||B.data._1.tag==="LeapEventV0"||B.data._1.tag==="LongEventV0")return B.data._1._1.marker1Time;fail$3()})()))(S);return _bind(forkAff(eventToAff(d._2.waveSurfer)))(O=>_bind(_liftEffect((()=>{const B=d._1.loadWave(I._1.url);return()=>(B(),for_1(I._1.title)(d._1.initialTitle)(),d._1.initialPrivate(I._1.private)(),d._1.initialWhitelist(I._1.whitelist)(),d._1.atomicTrackOperation(N=>I)())})()))(()=>_bind(joinFiber(O))(B=>_liftEffect((()=>{const N=d._1.documentId(P);return()=>(N(),traverseWithIndex_(R=>L=>()=>{if(d._1.atomicEventOperation(insert$2(ordInt)(R)(L.data))(),L.data._1.tag==="BasicEventV0"){d._1.addBasic($Tuple($Maybe("Just",L.id),L.data._1._1))();const z=addMarker(B)(R)(0)({color:dC(R),label:"B1",time:L.data._1._1.marker1Time})(),Y=addMarker(B)(R)(1)({color:dC(R),label:"B2",time:L.data._1._1.marker2Time})(),te=addMarker(B)(R)(2)({color:dC(R),label:"B3",time:L.data._1._1.marker3Time})(),K=addMarker(B)(R)(3)({color:dC(R),label:"B4",time:L.data._1._1.marker4Time})();return associateEventDocumentIdWithMarker(z)(L.id)(),associateEventDocumentIdWithMarker(Y)(L.id)(),associateEventDocumentIdWithMarker(te)(L.id)(),associateEventDocumentIdWithMarker(K)(L.id)()}if(L.data._1.tag==="LeapEventV0"){d._1.addLeap($Tuple($Maybe("Just",L.id),L.data._1._1))();const z=addMarker(B)(R)(0)({color:dC(R),label:"LSt",time:L.data._1._1.marker1Time})(),Y=addMarker(B)(R)(1)({color:dC(R),label:"LEd",time:L.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(z)(L.id)(),associateEventDocumentIdWithMarker(Y)(L.id)()}if(L.data._1.tag==="LongEventV0"){d._1.addLongPress($Tuple($Maybe("Just",L.id),L.data._1._1))();const z=addMarker(B)(R)(0)({color:dC(R),label:"LSt",time:L.data._1._1.marker1Time})(),Y=addMarker(B)(R)(1)({color:dC(R),label:"LEd",time:L.data._1._1.marker2Time})();return associateEventDocumentIdWithMarker(z)(L.id)(),associateEventDocumentIdWithMarker(Y)(L.id)()}fail$3()})(C)())})()))))},b=fold$1(P=>I=>$Tuple(P._1+1|0,(()=>{if(I.tag==="CBasic")return P._2+4|0;if(I.tag==="CLeap"||I.tag==="CLongPress")return P._2+2|0;fail$3()})()))($Tuple(0,0))($),M=(P,I)=>{const S=applicativeEvent.pure($Tuple(0,0))(P,I),C=b(P,I);return()=>(S(),C())};return div(klass_(attrDiv_ClassString)("absolute w-screen h-screen bg-zinc-900 overflow-hidden"))([div(oneOf$8([(P,I)=>{const S=B=>{const N={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(B.tag==="Nothing")return!1;if(B.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden hidden":"absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden")())};return I(N)},C=d._2.previewScreenVisible(P,S),O=applicativeEvent.pure(Nothing)(P,S);return()=>(C(),O())}]))([div(oneOf$8([klass_(attrDiv_ClassString)("flex flex-row justify-between")]))([button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),click$6(applicativeEvent.pure(u.goBack))]))([text(applicativeEvent.pure("<"))]),h2(oneOf$8([applicativeEvent.pure({key:"contenteditable",value:$AttributeValue("Prop'","true")}),klass_(attrH2_ClassString)("text-2xl text-slate-200 p-2"),(P,I)=>g(P,S=>{const C={key:"input",value:$AttributeValue("Cb'",O=>{const B=for_1((()=>{const N=nullable(_target(O),Nothing,Just);if(N.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"Node",N._1);if(N.tag==="Nothing")return Nothing;fail$3()})())(N=>{const R=_firstChild(N);return()=>{const L=R();return for_1(nullable(L,Nothing,Just))(z=>()=>{const Y=textContent(z)();return log("New title: "+Y)(),d._1.atomicTrackOperation(aChangeTitle((()=>Y===""?Nothing:$Maybe("Just",Y))()))(),for_1(S)(te=>()=>(_makeFiber(ffiUtil$1,updateTrackTitleAff(u.firestoreDb)(te)(Y))().run(),unit))()})()}});return()=>(B(),!0)})};return I(C)})]))([text(d._2.initialTitle)]),span(plusEvent.empty)([a$1(oneOf$8([(P,I)=>{const S=B=>{const N={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(B.tag==="Nothing")return!1;if(B.tag==="Just")return!0;fail$3()})()?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return I(N)},C=applicativeEvent.pure(Nothing)(P,S),O=h(P,B=>S($Maybe("Just",B)));return()=>(C(),O())},(P,I)=>h(P,S=>{const C={key:"href",value:$AttributeValue("Prop'",(()=>{const O=_encodeURIComponent(B=>Nothing,Just,writeJSON1({track:S._1,events:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(S._2))}));if(O.tag==="Nothing")return"data:text/plain;charset=utf-8,";if(O.tag==="Just")return"data:text/plain;charset=utf-8,"+O._1;fail$3()})())};return I(C)}),(P,I)=>{const S=N=>{const R={key:"download",value:$AttributeValue("Prop'",(()=>{if(N.tag==="Just")return N._1+".json";if(N.tag==="Nothing")return"export.json";fail$3()})())};return I(R)},C=applicativeEvent.pure(Nothing)(P,S),O=d._2.initialTitle(P,N=>S($Maybe("Just",N))),B=h(P,N=>S(N._1._1.title));return()=>(C(),O(),B())}]))([text(applicativeEvent.pure("Export"))]),span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure("Private?"))]),input(oneOf$8([applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","checkbox")}),(P,I)=>oneOff(Just)(h)(P,S=>{const C={key:"checked",value:$AttributeValue("Prop'",(()=>S._1._1.private?"true":"false")())};return I(C)}),klass_(attrInput_ClassString)("w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"),(()=>{const P=biSampleOn1(g)((I,S)=>h(I,C=>{const O=Tuple(C);return S(O)}));return(I,S)=>P(I,C=>{const O=!C._1._1._1.private,B=d._1.atomicTrackOperation(aChangePrivate(O)),N={key:"click",value:$AttributeValue("Cb'",R=>()=>(B(),for_1(C._2)(L=>()=>(_makeFiber(ffiUtil$1,updateTrackPrivateAff(u.firestoreDb)(L)(O))().run(),unit))(),!0))};return S(N)})})()]))([text(applicativeEvent.pure("<"))])])]),div(oneOf$8([klass_(attrDiv_ClassString)("bg-zinc-600"),(P,I)=>d._2.loadWave(P,S=>{const C={key:"@self@",value:$AttributeValue("Cb'",O=>{const B=makeWavesurfer(Nothing)(Just)(N=>R=>L=>z=>Y=>{const te=d._1.markerMoved({ix:N,offset:R,inArray:L,time:Y,id:z});return()=>(te(),d._1.atomicEventOperation((()=>R===0?aChangeMarker1({id:N,time:Y}):R===1?aChangeMarker2({id:N,time:Y}):R===2?aChangeMarker3({id:N,time:Y}):aChangeMarker4({id:N,time:Y}))())())})(d._1.importerScreenVisible(!1))(O)(S);return()=>{const N=B();return d._1.waveSurfer(N)(),d._1.currentTime(getCurrentTime(N))(),styleAudio(),d._1.loadingScreenVisible(!1)()}})};return I(C)})]))([]),div(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","timeline")}),klass_(attrDiv_ClassString)("")]))([]),div(plusEvent.empty)([label(oneOf$8([klass_(attrLabel_ClassString)("text-white")]))([text(applicativeEvent.pure("Zoom"))]),input(oneOf$8([applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'","2")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","1000")}),slider((P,I)=>d._2.waveSurfer(P,S=>{const C=zoom(S);return I(C)}))]))([])]),div(oneOf$8([klass_(attrDiv_ClassString)("flex flex-row justify-around")]))([button(oneOf$8([(()=>{const P=biSampleOn1((I,S)=>{const C=d._2.documentId(I,B=>S($Maybe("Just",B))),O=applicativeEvent.pure(Nothing)(I,S);return()=>(C(),O())})(biSampleOn1(M)((I,S)=>d._2.waveSurfer(I,C=>S(O=>B=>({ws:C,ixs:O,did:B})))));return(I,S)=>P(I,C=>{const O=getCurrentTime(C.ws),B={key:"click",value:$AttributeValue("Cb'",N=>()=>{const R=O(),L=getDuration(C.ws)();return(()=>{const z=min$2(L)(0+R),Y=min$2(L)(.5+R),te=min$2(L)(1+R),K=min$2(L)(1.5+R),Q=J=>d._1.addBasic($Tuple(J,{marker1Time:z,marker1AudioURL:Nothing,marker2Time:Y,marker2AudioURL:Nothing,marker3Time:te,marker3AudioURL:Nothing,marker4Time:K,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}));return()=>{const J=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"B1",time:z})(),Z=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"B2",time:Y})(),ne=addMarker(C.ws)(C.ixs._1)(2)({color:dC(C.ixs._1),label:"B3",time:te})(),q=addMarker(C.ws)(C.ixs._1)(3)({color:dC(C.ixs._1),label:"B4",time:K})();d._1.atomicEventOperation(aAddBasic({id:C.ixs._1,name:Nothing,column:C9,marker1Time:z,marker2Time:Y,marker3Time:te,marker4Time:K}))();const H=Q(Nothing);if(C.did.tag==="Nothing")return H();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("BasicEventV0",{marker1Time:z,marker1AudioURL:Nothing,marker2Time:Y,marker2AudioURL:Nothing,marker3Time:te,marker3AudioURL:Nothing,marker4Time:K,marker4AudioURL:Nothing,column:C9,name:Nothing,version:$Version(0)}))))(ie=>_liftEffect((()=>{const G=associateEventDocumentIdWithMarker(J)(ie.id),ue=associateEventDocumentIdWithMarker(Z)(ie.id),le=associateEventDocumentIdWithMarker(ne)(ie.id),he=associateEventDocumentIdWithMarker(q)(ie.id),fe=Q($Maybe("Just",ie.id));return()=>(G(),ue(),le(),he(),fe())})())))().run(),unit;fail$3()}})()(),!0})};return S(B)})})(),klass_(attrButton_ClassString)(buttonCls)]))([text(applicativeEvent.pure("Add Tile"))]),button(oneOf$8([(()=>{const P=biSampleOn1((I,S)=>{const C=d._2.documentId(I,B=>S($Maybe("Just",B))),O=applicativeEvent.pure(Nothing)(I,S);return()=>(C(),O())})(biSampleOn1(M)((I,S)=>d._2.waveSurfer(I,C=>S(O=>B=>({ws:C,ixs:O,did:B})))));return(I,S)=>P(I,C=>{const O=getCurrentTime(C.ws),B={key:"click",value:$AttributeValue("Cb'",N=>()=>{const R=O(),L=getDuration(C.ws)();return(()=>{const z=min$2(L)(.5+R),Y=min$2(L)(0+R),te=(K,Q)=>d._1.addLeap($Tuple(Q,{marker1Time:Y,audioURL:Nothing,marker2Time:z,column:C9,position:K,name:Nothing,version:$Version(0)}));return()=>{const K=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"LSt",time:Y})(),Q=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"LEd",time:z})(),J=randomInt(0)(3)(),Z=(()=>J===0?Position1:J===1?Position2:J===2?Position3:Position4)();d._1.atomicEventOperation(aAddLeap({id:C.ixs._1,name:Nothing,column:C9,position:Z,marker1Time:Y,marker2Time:z}))();const ne=te(Z,Nothing);if(C.did.tag==="Nothing")return ne();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("LeapEventV0",{marker1Time:Y,audioURL:Nothing,marker2Time:z,position:Z,name:Nothing,column:C9,version:$Version(0)}))))(H=>_liftEffect((()=>{const re=associateEventDocumentIdWithMarker(K)(H.id),ie=associateEventDocumentIdWithMarker(Q)(H.id),G=te(Z,$Maybe("Just",H.id));return()=>(re(),ie(),G())})())))().run(),unit;fail$3()}})()(),!0})};return S(B)})})(),klass_(attrButton_ClassString)(buttonCls)]))([text(applicativeEvent.pure("Add Leap"))]),button(oneOf$8([(()=>{const P=biSampleOn1((I,S)=>{const C=d._2.documentId(I,B=>S($Maybe("Just",B))),O=applicativeEvent.pure(Nothing)(I,S);return()=>(C(),O())})(biSampleOn1(M)((I,S)=>d._2.waveSurfer(I,C=>S(O=>B=>({ws:C,ixs:O,did:B})))));return(I,S)=>P(I,C=>{const O=getCurrentTime(C.ws),B={key:"click",value:$AttributeValue("Cb'",N=>()=>{const R=O(),L=getDuration(C.ws)();return(()=>{const z=min$2(L)(.5+R),Y=min$2(L)(0+R),te=K=>d._1.addLongPress($Tuple(K,{marker1Time:Y,audioURL:Nothing,marker2Time:z,length:1,column:C9,name:Nothing,version:$Version(0)}));return()=>{const K=addMarker(C.ws)(C.ixs._1)(0)({color:dC(C.ixs._1),label:"P1",time:Y})(),Q=addMarker(C.ws)(C.ixs._1)(1)({color:dC(C.ixs._1),label:"P2",time:z})();d._1.atomicEventOperation(aAddLongPress({id:C.ixs._1,name:Nothing,column:C9,marker1Time:Y,marker2Time:z,length:1}))();const J=te(Nothing);if(C.did.tag==="Nothing")return J();if(C.did.tag==="Just")return _makeFiber(ffiUtil$1,_bind(addEventAff(u.firestoreDb)(C.did._1)($Event_($EventV0("LongEventV0",{marker1Time:Y,audioURL:Nothing,marker2Time:z,length:1,name:Nothing,column:C9,version:$Version(0)}))))(ne=>_liftEffect((()=>{const q=associateEventDocumentIdWithMarker(K)(ne.id),H=associateEventDocumentIdWithMarker(Q)(ne.id),re=te($Maybe("Just",ne.id));return()=>(q(),H(),re())})())))().run(),unit;fail$3()}})()(),!0})};return S(B)})})(),klass_(attrButton_ClassString)(buttonCls)]))([text(applicativeEvent.pure("Add Long Press"))]),button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),(P,I)=>h(P,S=>{const C=fullScreenFlow((()=>{const B=log("starting from most recent data: "+writeJSON({track:S._1._1,evs:fromFoldable$3(foldableMap.foldr(Cons)(Nil)(S._2))}));return()=>{B(),d._1.loadingScreenVisible(!0)();const N=context_();return _makeFiber(ffiUtil$1,_bind(decodeAudioDataFromUri(N)(S._1._1.url))(L=>_liftEffect(()=>{const z=o.soundObj.value;return o.soundObj.value=mutate(poke(S._1._1.url)(L))(z),d._1.previewScreenVisible($Maybe("Just",f))(),d._1.loadingScreenVisible(!1)()})))().run(),unit}})()),O={key:"click",value:$AttributeValue("Cb'",B=>()=>(C(),!0))};return I(O)})]))([text(applicativeEvent.pure("Preview"))]),button(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const P=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),!0))}})()),(P,I)=>u.signedInNonAnonymously(P,S=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>S?buttonCls+" hidden":buttonCls+"")())};return I(C)})]))([text(applicativeEvent.pure("Save (sign in)"))])]),div(oneOf$8([klass_(attrDiv_ClassString)("overflow-scroll")]))([div(oneOf$8([klass_(attrDiv_ClassString)("accordion"),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","accordionExample")})]))([dynify(dyn)((()=>{const P=sampleOnRight((I,S)=>m(I,C=>S(C._2)))(sampleOnRight(d._2.waveSurfer)((()=>{const I=mapAccum$3(S=>C=>{if(C.tag==="CBasic")return $Tuple({id:S.id+1|0,startIx:S.startIx+4|0},defaultBasic(S.id)(S.startIx)(C._1._1)(C._1._2));if(C.tag==="CLeap")return $Tuple({id:S.id+1|0,startIx:S.startIx+2|0},defaultLeap(S.id)(S.startIx)(C._1._1)(C._1._2));if(C.tag==="CLongPress")return $Tuple({id:S.id+1|0,startIx:S.startIx+2|0},defaultLongPress(S.id)(S.startIx)(C._1._1)(C._1._2));fail$3()})({id:0,startIx:0})($);return(S,C)=>I(S,O=>C(B=>N=>({itm:O,ws:B,nac:N})))})()));return(I,S)=>P(I,C=>{const O=keepLatest(vbus($$Proxy)(B=>N=>{const R=fold$1(J=>Z=>!J)(!1)(N.solo),L=(J,Z)=>{const ne=R(J,Z),q=applicativeEvent.pure(!1)(J,Z);return()=>(ne(),q())},z=fold$1(J=>Z=>!J)(!1)(N.mute),Y=(J,Z)=>{const ne=z(J,Z),q=applicativeEvent.pure(!1)(J,Z);return()=>(ne(),q())},te=(()=>{if(C.itm.tag==="LBasic")return $Tuple((()=>{const J="Tile "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return J;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2665");if(C.itm.tag==="LLeap")return $Tuple((()=>{const J="Leap "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return J;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2660");if(C.itm.tag==="LLong")return $Tuple((()=>{const J="Long "+showIntImpl(C.itm._1.id);if(C.itm._1.name.tag==="Nothing")return J;if(C.itm._1.name.tag==="Just")return C.itm._1.name._1;fail$3()})(),"\u2666");fail$3()})(),K=(()=>{if(C.itm.tag==="LBasic")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(4,[C.itm._1.l1.at,C.itm._1.l2.at,C.itm._1.l3.at,C.itm._1.l4.at]))))));if(C.itm.tag==="LLeap")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(2,[C.itm._1.start.at,C.itm._1.end.at]))))));if(C.itm.tag==="LLong")return $Tuple(C.itm._1.id,$Tuple(C.itm._1.name,$Tuple(C.itm._1.col,$Tuple(C.itm._1.startIx,$Tuple(C.itm._1.fbId,$Tuple(2,[C.itm._1.start.at,C.itm._1.end.at]))))));fail$3()})(),Q=applicativeEvent.pure($Child("Insert",unsafeSetPos$p(Nothing)(div(oneOf$8([klass_(attrDiv_ClassString)("accordion-item bg-zinc-900 border border-white")]))([h2(oneOf$8([klass_(attrH2_ClassString)("accordion-header bg-zinc-900 mb-0"),applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","heading"+showIntImpl(K._1))})]))([button(oneOf$8([klass_(attrButton_ClassString)(`accordion-button-ms accordion-button
      relative
      flex
      items-center
      w-full
      py-4
      px-5
      text-base text-white text-left
      bg-zinc-900
      border-0
      rounded-none
      transition
      focus:outline-none`),applicativeEvent.pure({key:"data-bs-toggle",value:$AttributeValue("Prop'","collapse")}),applicativeEvent.pure({key:"data-bs-target",value:$AttributeValue("Prop'","#collapse"+showIntImpl(K._1))})]))([span(oneOf$8([klass_(attrSpan_ClassString)("mr-2"),applicativeEvent.pure({key:"style",value:$AttributeValue("Prop'","color: "+(dC(K._1)+";"))})]))([text(applicativeEvent.pure(te._2))]),span(plusEvent.empty)([text((J,Z)=>{const ne=N.changeName(J,H=>{const re=(()=>{if(H.tag==="Just")return H._1;if(H.tag==="Nothing")return te._1;fail$3()})();return Z(re)}),q=applicativeEvent.pure(te._1)(J,Z);return()=>(ne(),q())}),text(applicativeEvent.pure(" (Column ")),text((J,Z)=>{const ne=re=>{const ie=_unsafeStringify((()=>{if(re.tag==="C1")return 1;if(re.tag==="C2")return 2;if(re.tag==="C3")return 3;if(re.tag==="C4")return 4;if(re.tag==="C5")return 5;if(re.tag==="C6")return 6;if(re.tag==="C7")return 7;if(re.tag==="C8")return 8;if(re.tag==="C9")return 9;if(re.tag==="C10")return 10;if(re.tag==="C11")return 11;if(re.tag==="C12")return 12;if(re.tag==="C13")return 13;if(re.tag==="C14")return 14;if(re.tag==="C15")return 15;if(re.tag==="C16")return 16;if(re.tag==="C17")return 17;fail$3()})());return Z(ie)},q=N.changeColumn(J,ne),H=applicativeEvent.pure(K._2._2._1)(J,ne);return()=>(q(),H())}),text(applicativeEvent.pure(") ")),text((()=>{const J=fold$1(Z=>ne=>indexArray.ix(ne.offset)(strongFn)(choiceFn)(q=>ne.time)(Z))(K._2._2._2._2._2._2)(_(K._1));return(Z,ne)=>{const q=ie=>{const G=" ("+(intercalate(",")(arrayMap(toStringWith($Format("Fixed",clamp$3(0)(20)(2))))(ie))+")");return ne(G)},H=applicativeEvent.pure(K._2._2._2._2._2._2)(Z,q),re=J(Z,q);return()=>(H(),re())}})())]),span(oneOf$8([(J,Z)=>L(J,ne=>{const q={key:"class",value:$AttributeValue("Prop'",(()=>ne?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())};return Z(q)})]))([text(applicativeEvent.pure("S"))]),span(oneOf$8([(J,Z)=>Y(J,ne=>{const q={key:"class",value:$AttributeValue("Prop'",(()=>ne?"text-white font-bold pl-2 ":"text-white font-bold pl-2  hidden")())};return Z(q)})]))([text(applicativeEvent.pure("M"))])])]),div(oneOf$8([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","collapse"+showIntImpl(K._1))}),klass_(attrDiv_ClassString)((()=>K._1===0?"accordion-collapse collapse show":"accordion-collapse collapse")()),applicativeEvent.pure({key:"data-bs-parent",value:$AttributeValue("Prop'","#accordionExample")})]))([div(oneOf$8([klass_(attrDiv_ClassString)("accordion-body bg-zinc-900 py-4 px-5")]))([span(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))([label(oneOf$8([klass_(attrLabel_ClassString)("text-white ml-2")]))([text(applicativeEvent.pure("Name"))]),input(oneOf$8(concatArray([(()=>{const J=biSampleOn1((()=>{const Z=y(K._1);return(ne,q)=>{const H=Z(ne,ie=>q($Maybe("Just",ie))),re=applicativeEvent.pure(Nothing)(ne,q);return()=>(H(),re())}})())((Z,ne)=>g(Z,q=>{const H=Tuple(q);return ne(H)}));return(Z,ne)=>J(Z,q=>{const H={key:"input",value:$AttributeValue("Cb'",re=>{const ie=for_1((()=>{const G=nullable(_target(re),Nothing,Just);if(G.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",G._1);if(G.tag==="Nothing")return Nothing;fail$3()})())(G=>{const ue=value(G);return()=>{const le=ue(),he=(()=>le===""?Nothing:$Maybe("Just",le))();return B.changeName(he)(),d._1.atomicEventOperation(aChangeName({id:K._1,name:he}))(),for_1(applyMaybe.apply((()=>q._1.tag==="Just"?$Maybe("Just",Tuple(q._1._1)):Nothing)())((()=>K._2._2._2._2._1.tag==="Nothing"?q._2:K._2._2._2._2._1)()))(fe=>()=>(_makeFiber(ffiUtil$1,updateEventNameAff(u.firestoreDb)(fe._1)(fe._2)(le))().run(),unit))()}});return()=>(ie(),!0)})};return ne(H)})})(),klass_(attrInput_ClassString)("bg-inherit text-white mx-2 appearance-none border rounded py-2 px-2 leading-tight focus:outline-none focus:shadow-outline"),applicativeEvent.pure({key:"placeholder",value:$AttributeValue("Prop'",te._1)})])((()=>{if(K._2._1.tag==="Nothing")return[];if(K._2._1.tag==="Just")return[applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",K._2._1._1)})];fail$3()})())))([])]),span(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))([label(oneOf$8([klass_(attrLabel_ClassString)("text-white")]))([text(applicativeEvent.pure("Column"))]),input(oneOf$8([(()=>{const J=biSampleOn1((()=>{const Z=y(K._1);return(ne,q)=>{const H=Z(ne,ie=>q($Maybe("Just",ie))),re=applicativeEvent.pure(Nothing)(ne,q);return()=>(H(),re())}})())((Z,ne)=>g(Z,q=>{const H=Tuple(q);return ne(H)}));return(Z,ne)=>J(Z,q=>{const H={key:"input",value:$AttributeValue("Cb'",re=>{const ie=for_1((()=>{const G=nullable(_target(re),Nothing,Just);if(G.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",G._1);if(G.tag==="Nothing")return Nothing;fail$3()})())(G=>{const ue=valueAsNumber(G);return()=>{const le=ue(),he=intToColumn(unsafeClamp(floor(le)));if(he.tag==="Left")return B.changeColumn(C9)(),d._1.atomicEventOperation(aChangeColumn({id:K._1,column:C9}))(),for_1(applyMaybe.apply((()=>q._1.tag==="Just"?$Maybe("Just",Tuple(q._1._1)):Nothing)())((()=>K._2._2._2._2._1.tag==="Nothing"?q._2:K._2._2._2._2._1)()))(fe=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(fe._1)(fe._2)(C9))().run(),unit))();if(he.tag==="Right")return B.changeColumn(he._1)(),d._1.atomicEventOperation(aChangeColumn({id:K._1,column:he._1}))(),for_1(applyMaybe.apply((()=>q._1.tag==="Just"?$Maybe("Just",Tuple(q._1._1)):Nothing)())((()=>K._2._2._2._2._1.tag==="Nothing"?q._2:K._2._2._2._2._1)()))(fe=>()=>(_makeFiber(ffiUtil$1,updateColumnAff(u.firestoreDb)(fe._1)(fe._2)(he._1))().run(),unit))();fail$3()}});return()=>(ie(),!0)})};return ne(H)})})(),applicativeEvent.pure({key:"type",value:$AttributeValue("Prop'","number")}),applicativeEvent.pure({key:"value",value:$AttributeValue("Prop'",_unsafeStringify((()=>{if(K._2._2._1.tag==="C1")return 1;if(K._2._2._1.tag==="C2")return 2;if(K._2._2._1.tag==="C3")return 3;if(K._2._2._1.tag==="C4")return 4;if(K._2._2._1.tag==="C5")return 5;if(K._2._2._1.tag==="C6")return 6;if(K._2._2._1.tag==="C7")return 7;if(K._2._2._1.tag==="C8")return 8;if(K._2._2._1.tag==="C9")return 9;if(K._2._2._1.tag==="C10")return 10;if(K._2._2._1.tag==="C11")return 11;if(K._2._2._1.tag==="C12")return 12;if(K._2._2._1.tag==="C13")return 13;if(K._2._2._1.tag==="C14")return 14;if(K._2._2._1.tag==="C15")return 15;if(K._2._2._1.tag==="C16")return 16;if(K._2._2._1.tag==="C17")return 17;fail$3()})()))}),applicativeEvent.pure({key:"min",value:$AttributeValue("Prop'","1")}),applicativeEvent.pure({key:"max",value:$AttributeValue("Prop'","17")}),klass_(attrInput_ClassString)("bg-inherit text-white mx-2 appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline")]))([])]),span(oneOf$8([klass_(attrSpan_ClassString)("inline-block")]))([button(oneOf$8([(J,Z)=>L(J,ne=>{const q={key:"class",value:$AttributeValue("Prop'",(()=>ne?buttonActiveCls+" mr-2":buttonCls+" mr-2")())};return Z(q)}),click$6((J,Z)=>L(J,ne=>{const q=(()=>ne?d._1.unSolo($Tuple(K._2._2._2._1,K._2._2._2._2._2._1)):d._1.solo($Tuple(K._2._2._2._1,K._2._2._2._2._2._1)))();return Z(()=>(q(),B.solo(unit)()))}))]))([span(oneOf$8([]))([text(applicativeEvent.pure("Solo"))])]),button(oneOf$8([(J,Z)=>Y(J,ne=>{const q={key:"class",value:$AttributeValue("Prop'",(()=>ne?buttonActiveCls+" mr-2":buttonCls+" mr-2")())};return Z(q)}),click$6((J,Z)=>Y(J,ne=>{const q=(()=>ne?d._1.unMute($Tuple(K._2._2._2._1,K._2._2._2._2._2._1)):d._1.mute($Tuple(K._2._2._2._1,K._2._2._2._2._2._1)))();return Z(()=>(q(),B.mute(unit)()))}))]))([span(oneOf$8([]))([text(applicativeEvent.pure("Mute"))])]),button(oneOf$8([(()=>{const J=biSampleOn1((()=>{const Z=y(K._1);return(ne,q)=>{const H=Z(ne,ie=>q($Maybe("Just",ie))),re=applicativeEvent.pure(Nothing)(ne,q);return()=>(H(),re())}})())((Z,ne)=>g(Z,q=>{const H=Tuple(q);return ne(H)}));return(Z,ne)=>J(Z,q=>{const H={key:"click",value:$AttributeValue("Cb'",re=>{const ie=for_2(range(K._2._2._2._1)((K._2._2._2._1+K._2._2._2._2._2._1|0)-1|0))(G=>removeMarker(C.ws)(K._2._2._2._1));return()=>(ie(),B.delete(unit)(),d._1.atomicEventOperation(aDeleteEvent_({id:K._1}))(),for_1(applyMaybe.apply((()=>q._1.tag==="Just"?$Maybe("Just",Tuple(q._1._1)):Nothing)())((()=>K._2._2._2._2._1.tag==="Nothing"?q._2:K._2._2._2._2._1)()))(G=>()=>(_makeFiber(ffiUtil$1,deleteEventAff(u.firestoreDb)(G._1)(G._2))().run(),unit))(),!0)})};return ne(H)})})(),klass_(attrButton_ClassString)(buttonCls+" mr-2")]))([span(oneOf$8([]))([text(applicativeEvent.pure("Delete"))])])])])])]))));return(J,Z)=>{const ne=Q(J,Z),q=N.delete(J,H=>Z(Remove));return()=>(ne(),q())}}));return S(O)})})())])])]),div((P,I)=>{const S=d._2.importerScreenVisible(P,O=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return I(B)}),C=applicativeEvent.pure(!0)(P,O=>I({key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(S(),C())})([div(klass_(attrDiv_ClassString)("select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6"))([div(klass_(attrDiv_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))([p$1(plusEvent.empty)([text(applicativeEvent.pure("Joyride editor"))])]),div(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))([text((P,I)=>u.signedInNonAnonymously(P,S=>{const C=(()=>S?"Get started by importing an audio file or project.":"Get started by importing an audio file.")();return I(C)}))]),div(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))([button(oneOf$8([(P,I)=>u.signedInNonAnonymously(P,S=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>S?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return I(C)}),applicativeEvent.pure((()=>{const P=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(C=>_bind(_liftEffect(d._1.availableTracks(C)))(()=>_liftEffect((()=>{const O=d._1.forkingScreenVisible(!0);return()=>(O(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))([text(applicativeEvent.pure("Fork project"))]),button(oneOf$8([(P,I)=>u.signedInNonAnonymously(P,S=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>S?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return I(C)}),applicativeEvent.pure((()=>{const P=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),_makeFiber(ffiUtil$1,_bind(_liftEffect(log("Showing files")))(()=>_bind(_bind(_liftEffect(fileList))(toAff$p(coerce)))(C=>{const O=_liftEffect((()=>{const N=bindE(windowImpl)(alert("No valid files found"));return()=>(N(),d._1.loadingScreenVisible(!1)())})()),B=nullable(_item(0)(C),Nothing,Just);if(B.tag==="Nothing")return O;if(B.tag==="Just")return _bind(makeAff(N=>()=>{const R=fileReader(),L=eventListener(Y=>{const te=result(R);return()=>{const K=te();return N($Either("Right",K))()}})(),z=eventListener(Y=>N($Either("Left",error$1("Could not read the file"))))();return addEventListener("load")(L)(!0)(R)(),addEventListener("error")(z)(!0)(R)(),readAsText(B._1)(R)(),nonCanceler}))(N=>{const R=bindEither.bind(readString.readImpl(N))(readJSON);if(R.tag==="Left")return _liftEffect((()=>{const L=bindE(windowImpl)(alert("Parse error: "+show1(R._1)));return()=>(L(),d._1.loadingScreenVisible(!1)())})());if(R.tag==="Right")return _bind(_liftEffect(currentUser(u.fbAuth)))(L=>_bind(addTrackAff(u.firestoreDb)((()=>{if(L.tag==="Nothing")return R._1.track;if(L.tag==="Just")return aChangeOwner(L._1.uid)(R._1.track);fail$3()})()))(z=>_bind(getTrackAff(u.firestoreDb)(z.id))(Y=>_bind(parTraverse_(te=>_bind(_map(compactableArray.compact)(parTraverse$2(K=>_bind(addEventAff(u.firestoreDb)(z.id)(K))(Q=>_bind(getEventAff(u.firestoreDb)(z.id)(Q.id))(J=>_pure((()=>J.tag==="Just"?$Maybe("Just",{id:Q.id,data:J._1}):Nothing)()))))(R._1.events)))(K=>v(z.id,te,K)))(Y))(()=>_liftEffect((()=>{const te=d._1.chooserScreenVisible(!1);return()=>(te(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})())))));fail$3()});fail$3()})))().run(),!0))}})())]))([text(applicativeEvent.pure("Import project"))]),button(oneOf$8([(P,I)=>u.signedInNonAnonymously(P,S=>{const C={key:"class",value:$AttributeValue("Prop'",(()=>S?buttonClassWithMarginAndAutoPointerEvents+"":buttonClassWithMarginAndAutoPointerEvents+" hidden")())};return I(C)}),applicativeEvent.pure((()=>{const P=d._1.loadingScreenVisible(!0);return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),_makeFiber(ffiUtil$1,_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(C=>_bind(_liftEffect(d._1.availableTracks(C)))(()=>_liftEffect((()=>{const O=d._1.chooserScreenVisible(!0);return()=>(O(),d._1.loadingScreenVisible(!1)())})()))))().run(),!0))}})())]))([text(applicativeEvent.pure("Open project"))]),button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",P=>()=>{const I=init();return picker(S=>()=>unit)(S=>C=>()=>unit)(S=>C=>()=>unit)(S=>()=>{log("Uploaded to: "+S.url)(),d._1.loadingScreenVisible(!0)();const C=randomName(),O=d._1.initialTitle(C),B=()=>(O(),d._1.loadWave(S.url)(),d._1.initialPrivate(!1)()),N=currentUser(u.fbAuth)();return N.tag==="Just"?N._1.isAnonymous?B():(_makeFiber(ffiUtil$1,_bind(addTrackAff(u.firestoreDb)($Track({url:S.url,title:$Maybe("Just",C),owner:N._1.uid,private:!1,version:$Version(0),whitelist:[]})))(L=>_liftEffect((()=>{const z=d._1.documentId(L.id);return()=>(z(),B())})())))().run(),unit):B()})(I)(),!0})})]))([text(applicativeEvent.pure("Import file"))])])])]),div((P,I)=>{const S=d._2.chooserScreenVisible(P,O=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return I(B)}),C=applicativeEvent.pure(!1)(P,O=>I({key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(S(),C())})([div(klass_(attrDiv_ClassString)("select-auto row-start-1 row-end-2 col-start-1 col-end-2"))([button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const P=d._1.chooserScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),!0))}})())]))([text(applicativeEvent.pure("< Back"))])]),div(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))([h2(klass_(attrH2_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))([text(applicativeEvent.pure("Choose a project"))]),switcher(P=>ul(plusEvent.empty)(arrayMap(I=>li(plusEvent.empty)([button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const S=d._1.loadingScreenVisible(!0),C=_makeFiber(ffiUtil$1,_bind(getEventsAff(u.firestoreDb)(I.id))(O=>_bind(v(I.id,I.data,O))(()=>_liftEffect((()=>{const B=d._1.chooserScreenVisible(!1);return()=>(B(),d._1.importerScreenVisible(!1)(),d._1.loadingScreenVisible(!1)())})()))));return{key:"click",value:$AttributeValue("Cb'",O=>()=>(S(),C().run(),!0))}})())]))([text(applicativeEvent.pure((()=>{if(I.data._1.title.tag==="Nothing")return"Untitled Track";if(I.data._1.title.tag==="Just")return I.data._1.title._1;fail$3()})()))])]))(P)))(d._2.availableTracks)])]),div((P,I)=>{const S=d._2.forkingScreenVisible(P,O=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())};return I(B)}),C=applicativeEvent.pure(!1)(P,O=>I({key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900":"absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden")())}));return()=>(S(),C())})([div(klass_(attrDiv_ClassString)("select-auto row-start-1 row-end-2 col-start-1 col-end-2"))([button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const P=d._1.forkingScreenVisible(!1);return{key:"click",value:$AttributeValue("Cb'",I=>()=>(P(),!0))}})())]))([text(applicativeEvent.pure("< Back"))])]),div(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))([h2(klass_(attrH2_ClassString)("pointer-events-auto text-center p-4 text-2xl text-slate-200"))([text(applicativeEvent.pure("Fork a project"))]),switcher(P=>ul(klass_(attrUl_ClassString)(""))(arrayMap(I=>li(plusEvent.empty)([button(oneOf$8([klass_(attrButton_ClassString)(buttonClassWithMarginAndAutoPointerEvents),applicativeEvent.pure((()=>{const S=d._1.loadingScreenVisible(!0),C=_makeFiber(ffiUtil$1,_bind(forkTrackAff(u.fbAuth)(u.firestoreDb)(I.id))(()=>_bind(getTracksAff(u.fbAuth)(u.firestoreDb))(O=>_bind(_liftEffect(d._1.availableTracks(O)))(()=>_liftEffect((()=>{const B=d._1.forkingScreenVisible(!1);return()=>(B(),d._1.loadingScreenVisible(!1)())})())))));return{key:"click",value:$AttributeValue("Cb'",O=>()=>(S(),C().run(),!0))}})())]))([text(applicativeEvent.pure((()=>{if(I.data._1.title.tag==="Nothing")return"Untitled Track";if(I.data._1.title.tag==="Just")return I.data._1.title._1;fail$3()})()))])]))(P)))(d._2.availableTracks)])]),div((P,I)=>{const S=B=>{const N={key:"class",value:$AttributeValue("Prop'",(()=>(()=>{if(B.tag==="Nothing")return!1;if(B.tag==="Just")return!0;fail$3()})()?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return I(N)},C=d._2.previewScreenVisible(P,S),O=applicativeEvent.pure(Nothing)(P,S);return()=>(C(),O())})([switcher(P=>{const I=toAugmentedEvents(fromFoldable$3(foldableMap.foldr(Cons)(Nil)(P.mrd._2)));if(P.psv.tag==="Nothing")return $Entity("EventfulElement'",plusEvent.empty);if(P.psv.tag==="Just")return tutorial$1({loaded:o.loaded,isMobile:o.isMobile,lpsCallback:o.lpsCallback,resizeE:o.resizeE,renderingInfo:o.renderingInfo,goHome:(()=>{const S=d._1.loadingScreenVisible(!0);return()=>(S(),d._1.previewScreenVisible(Nothing)(),d._1.loadingScreenVisible(!1)())})(),pushBasic:o.pushBasic,pushLeap:o.pushLeap,pushHitLong:o.pushHitLong,columnPusher:o.columnPusher,pushReleaseLong:o.pushReleaseLong,debug:o.debug,silence:o.silence,icid:o.icid,wdw:o.wdw,unschedule:o.unschedule,soundObj:o.soundObj,editor:o.editor,givePermission:o.givePermission,negotiation:o.negotiation,ride:o.ride,tutorial:o.tutorial})({basicE:rideBasics(sortBy$1(S=>C=>ordNumber.compare(S.marker1Time)(C.marker1Time))(mapMaybe(S=>S._1.tag==="AugmentedBasicEventV0"?S._1._1.marker4Time<P.ct?Nothing:$Maybe("Just",{marker1Time:S._1._1.marker1Time-P.ct,marker2Time:S._1._1.marker2Time-P.ct,marker3Time:S._1._1.marker3Time-P.ct,marker4Time:S._1._1.marker4Time-P.ct,column:S._1._1.column,marker1AudioURL:S._1._1.marker1AudioURL,marker2AudioURL:S._1._1.marker2AudioURL,marker3AudioURL:S._1._1.marker3AudioURL,marker4AudioURL:S._1._1.marker4AudioURL,name:S._1._1.name,raycastingCanStartAt:S._1._1.raycastingCanStartAt,version:S._1._1.version}):Nothing)(I))),leapE:rideLeaps(mapMaybe(S=>S._1.tag==="AugmentedLeapEventV0"?S._1._1.marker2Time<P.ct?Nothing:$Maybe("Just",{marker1Time:S._1._1.marker1Time-P.ct,marker2Time:S._1._1.marker2Time-P.ct,audioURL:S._1._1.audioURL,column:S._1._1.column,name:S._1._1.name,position:S._1._1.position,raycastingCanStartAt:S._1._1.raycastingCanStartAt,version:S._1._1.version}):Nothing)(I)),longE:rideLongs(mapMaybe(S=>S._1.tag==="AugmentedLongEventV0"?S._1._1.marker2Time<P.ct?Nothing:$Maybe("Just",{marker1Time:S._1._1.marker1Time-P.ct,marker2Time:S._1._1.marker2Time-P.ct,audioURL:S._1._1.audioURL,column:S._1._1.column,length:S._1._1.length,name:S._1._1.name,raycastingCanStartAt:S._1._1.raycastingCanStartAt,version:S._1._1.version}):Nothing)(I)),bgtrack:P.mrd._1._1.url,isPreviewPage:$Maybe("Just",{startsAt:P.ct}),baseFileOffsetInSeconds:P.ct})(P.psv._1);fail$3()})(howShouldIBehave(()=>0)(w)(sampleOnRight(d._2.waveSurfer)(sampleOnRight(h)((P,I)=>{const S=d._2.previewScreenVisible(P,O=>I(B=>N=>R=>({psv:O,mrd:B,ws:N,ct:R}))),C=applicativeEvent.pure(Nothing)(P,O=>I(B=>N=>R=>({psv:O,mrd:B,ws:N,ct:R})));return()=>(S(),C())}))))]),div((P,I)=>{const S=d._2.loadingScreenVisible(P,O=>{const B={key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())};return I(B)}),C=applicativeEvent.pure(!1)(P,O=>I({key:"class",value:$AttributeValue("Prop'",(()=>O?"absolute w-screen h-screen":"absolute w-screen h-screen hidden")())}));return()=>(S(),C())})([loadingPage])])})))))))))))))))}),h1=o=>u=>$Entity("Element'",elementify("h1")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u))));function hash(o){return function(){return o.hash}}function setHash(o){return function(u){return function(){u.hash=o}}}function search(o){return function(){return o.search}}const navigateToHash=o=>{const u=(()=>take$2(1)(o)!=="/"?"/"+o:take$2(2)(o)==="//"?drop$1(length(take$2(1)(o)))(o):o)();return()=>{const f=windowImpl(),d=location(f)();return setHash(u)(d)()}},perspectiveCamera$2=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$7=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),mapAccum$2=mapAccum$e(eventIsEvent),oneOfMap$2=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),webGLRenderer$2=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),render$1={type:"render",value:unit},click$5=click$7(attrOnClickEffectUnit),for_$2=for_$9(applicativeEffect)(foldableMaybe),traverse_$4=traverse_$9(applicativeEffect)(foldableMaybe),threeLoader=o=>{const u=run$1((()=>{const f=withCTime(o.cnow)(animationFrameEvent);return $Entity("EventfulElement'",backdoor.memoize((d,m)=>f(d,h=>m(h.time)))(d=>globalCameraPortal1()()(perspectiveCamera$2({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})(oneOf$7([applicativeEvent.pure({type:"positionX",value:0}),applicativeEvent.pure({type:"positionY",value:0}),applicativeEvent.pure({type:"positionZ",value:0}),(m,h)=>o.resizeE(m,g=>{const y={type:"aspect",value:g.iw/g.ih};return h(y)})])))(m=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(h=>h.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const h=mapAccum$2(g=>y=>{if(g.tag==="Nothing")return $Tuple($Maybe("Just",y),0);if(g.tag==="Just")return $Tuple($Maybe("Just",y),y-g._1);fail$3()})(Nothing)((g,y)=>d(g,_=>{const w=_/1e3;return y(w)}));return(g,y)=>h(g,_=>{const w=_/1e3,$=oneOfMap$2(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(w*.031415926535897934)},{type:"rotateY",value:.001*cos(w*.031415926535897934)},{type:"rotateZ",value:.001*cos(w*.031415926535897934)}]);return y($)})})()))([$Entity("Element'",m)])]))(h=>$Entity("FixedChildren'",[$Entity("Element'",webGLRenderer$2(h)(m)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$7([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),applicativeEvent.pure(render$1),(g,y)=>d(g,_=>y(render$1)),(g,y)=>o.resizeE(g,_=>y({type:"size",value:{width:_.iw,height:_.ih}}))])))])))))})());return()=>{const f=u();return o.unsubscriber(f)()}},filler=div(klass_(attrDiv_ClassString)("grow"))([]),explainerPage=o=>$Entity("EventfulElement'",vbackdoor.vbus()(vbusCons2({reflectSymbol:()=>"unsubscriber"})()()(vbusNil)()())($$Proxy)(u=>f=>div(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))([div(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3 h-screen w-screen")})]))([div(klass_(attrDiv_ClassString)("col-start-3 col-end-3 row-start-1 row-end-1 align-top justify-self-end"))([button(oneOf$7([klass_(attrButton_ClassString)(buttonCls),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,g=>{const y=navigateToHash("settings");return h(()=>(y(),g()))})})())]))([text(applicativeEvent.pure("\u2699"))])]),div(klass_(attrDiv_ClassString)("place-self-center col-start-2 col-end-3 row-start-2 row-end-3 flex flex-col"))([h1(oneOf$7([klass_(attrH1_ClassString)("text-center text-2xl text-slate-200"),click$5((d,m)=>o.signedInNonAnonymously(d,h=>{const g=currentUser(o.fbAuth),y=(()=>h?()=>{const _=g();return for_$2(_)(w=>bindE(windowImpl)(alert(w.uid)))()}:()=>unit)();return m(y)}))]))([text(applicativeEvent.pure("Joyride"))]),button(oneOf$7([klass_(attrButton_ClassString)(buttonCls),id_(attrButton_IdString)("tutorialButton"),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,g=>{const y=fullScreenFlow(()=>(o.tutorial(),g()));return h(y)})})())]))([text(applicativeEvent.pure("Tutorial"))]),button(oneOf$7([klass(attrButton_ClassString)(applicativeEvent.pure(buttonCls)),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,g=>{const y=fullScreenFlow((()=>{const _=navigateToHash("rides");return()=>(_(),g())})());return h(y)})})())]))([text(applicativeEvent.pure("Take a ride"))]),button(oneOf$7([klass_(attrButton_ClassString)(buttonCls),click$5((()=>{const d=oneOf$7([applicativeEvent.pure(()=>unit),f.unsubscriber]);return(m,h)=>d(m,g=>h(()=>(o.editor(),g())))})())]))([text(applicativeEvent.pure("Editor"))]),button(oneOf$7([applicativeEvent.pure({key:"id",value:$AttributeValue("Prop'","google_sign_in")}),applicativeEvent.pure((()=>{const d=signInWithGoogle();return{key:"click",value:$AttributeValue("Cb'",m=>()=>(d(),!0))}})()),(d,m)=>o.signedInNonAnonymously(d,h=>{const g={key:"class",value:$AttributeValue("Prop'",(()=>h?buttonCls+" hidden":buttonCls+"")())};return m(g)})]))([text(applicativeEvent.pure("Sign In"))]),button(oneOf$7([(d,m)=>o.signedInNonAnonymously(d,h=>{const g={key:"class",value:$AttributeValue("Prop'",(()=>h?buttonCls+"":buttonCls+" hidden")())};return m(g)}),click$5(applicativeEvent.pure(o.signOut))]))([text(applicativeEvent.pure("Sign Out"))])])]),filler,canvas(oneOf$7([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const d=traverse_$4(m=>threeLoader({threeDI:o.threeDI,isMobile:o.isMobile,cubeTextures:o.cubeTextures,unsubscriber:u.unsubscriber,resizeE:o.resizeE,cnow:o.cnow,initialDims:o.initialDims,canvas:m}));return m=>d(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",m))})())})]))([])]))),gameHasStarted=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>The game has already started. You can make a new game, though!</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),requestPermissionIsAFunction=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function",orientationPermission=()=>typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceMotionEvent.requestPermission().then(o=>o=="granted",o=>{console.error(o),Promise.reject(o)}):Promise.resolve(!0),min$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max$2=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},posFromOrientation=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just")return min$1(2.5)(max$2(-2.5)((u-o.time._1)/1e3*o.gamma*o.dampening+o.pos));fail$3()},xForTouch=o=>u=>f=>d=>m=>()=>{const h=create(),g={value:{gamma:0,time:Nothing,pos:0,dampening:.055}},y=eventListener(_=>()=>{const w=u(),$=o.value,v=g.value,b=g.value={gamma:_.gamma,time:$Maybe("Just",w),dampening:$,pos:posFromOrientation(v)(w)};return m($PlayerAction("XPositionMobile",{gtpd:b,player:d}))(),h.push(b)()})();return addEventListener("deviceorientation")(y)(!0)(f)(),(_,w)=>h.event(_,$=>w(v=>posFromOrientation($)(v.epochTime)))},oneOf$6=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),click$4=click$7(attrOnClickEffectUnit),orientationPermissionPage=o=>div(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))([div(oneOf$6([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))([div(klass_(attrDiv_ClassString)("col-start-1 col-end-4 row-start-1 row-end-2"))([p$1(klass_(attrP_ClassString)("text-center text-2xl text-slate-800 p-3"))([text(applicativeEvent.pure("To play Joyride, you need to ask for orientation permissions."))])]),button(oneOf$6([klass_(attrButton_ClassString)("text-center bg-gray-600 hover:bg-gray-400 text-white py-2 px-4 rounded col-start-2 col-end-2 row-start-2 row-end-3"),click$4(applicativeEvent.pure((()=>{const u=_makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(orientationPermission))(toAff$p(coerce)))(f=>_liftEffect((()=>{const d=o.givePermission(f);return()=>{if(d(),o.rideTrack.tag==="Just")return navigateToHash("/r/"+(o.rideTrack._1.ride+("/"+o.rideTrack._1.track)))();if(o.rideTrack.tag==="Nothing")return navigateToHash("/")();fail$3()}})())));return()=>(u().run(),unit)})()))]))([text(applicativeEvent.pure("Ask for permission"))])])]),boolNot=function(o){return!o},writeText=o=>()=>navigator.clipboard.writeText(o),playBuf=playBuf$5((()=>{const o=convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({reflectSymbol:()=>"buffer"});return{toInitializePlayBuf:u=>unsafeUnionFn(o.convertRecordOptions(PlayBufOptions)($$Proxy)(u)({}),defaultPlayBuf)}})()),oneOf$5=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),graph=o=>[gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.basics(u,d=>f((m,h)=>d(m,g=>h(g)))))]),gain_(initialGainNumber)(1)([$Entity("DynamicChildren'",(u,f)=>o.leaps(u,d=>f((m,h)=>d(m,g=>h(g)))))]),gain_(initialGainNumber)(1)([playBuf({buffer:o.silence})(oneOf$5([(()=>{const u=sampleBy(functorEvent)($$const)(o.buffers)(applicativeEvent.pure(unit));return(f,d)=>u(f,m=>{const h=_lookup(Nothing,Just,o.bgtrack,m),g=(()=>{if(h.tag==="Just")return{type:"buffer",value:h._1};if(h.tag==="Nothing")return{type:"buffer",value:o.silence};fail$3()})();return d(g)})})(),applicativeEvent.pure({type:"bufferOffset",value:o.baseFileOffsetInSeconds}),(()=>{const u=oneOff(f=>f.beats>1?$Maybe("Just",f):Nothing)(o.rateInfo);return(f,d)=>u(f,m=>{const h={type:"onOff",value:{o:(()=>{if(m.prevBeats.tag==="Just"){if(m.prevTime.tag==="Just"){if(m.beats===m.prevBeats._1||m.time===m.prevTime._1)return m.prevTime._1;const g=(m.time-m.prevTime._1)/(m.beats-m.prevBeats._1);return g*1+(m.prevTime._1-g*m.prevBeats._1)}return 0}return 0})(),x:_on}};return d(h)})})()]))])],mapAccum$1=mapAccum$e(eventIsEvent),vbust=vbust$2()(vbusCons2({reflectSymbol:()=>"hitBasicVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLeapVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"hitLongVisualForLabel"})()()(vbusCons2({reflectSymbol:()=>"releaseLongVisualForLabel"})()()(vbusNil)()())()())()())()()),perspectiveCamera$1=perspectiveCamera$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({reflectSymbol:()=>"perspectiveCamera"}))(convertOptionPerspectiveC1)()()()({reflectSymbol:()=>"near"}))(convertOptionPerspectiveC3)()()()({reflectSymbol:()=>"fov"}))(convertOptionPerspectiveC)()()()({reflectSymbol:()=>"far"}))(convertOptionPerspectiveC2)()()()({reflectSymbol:()=>"aspect"});return{toInitializePerspectiveCamera:u=>unsafeUnionFn(o.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(u)({}),defaultPerspectiveCamera)}})()),oneOf$4=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),oneOfMap$1=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),intensityIsSymbol={reflectSymbol:()=>"intensity"},colorIsSymbol$1={reflectSymbol:()=>"color"},ambientLight$1=ambientLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol))(convertOptionAmbientLight1)()()()(colorIsSymbol$1))(convertOptionAmbientLight2)()()()({reflectSymbol:()=>"ambientLight"});return{toInitializeAmbientLight:u=>unsafeUnionFn(o.convertRecordOptions(AmbientLightOptions)($$Proxy)(u)({}),defaultAmbientLight)}})()),pointLight$1=pointLight$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({reflectSymbol:()=>"pointLight"}))(convertOptionPointLightOp2)()()()(intensityIsSymbol))(convertOptionPointLightOp1)()()()({reflectSymbol:()=>"distance"}))(convertOptionPointLightOp)()()()({reflectSymbol:()=>"decay"}))(convertOptionPointLightOp3)()()()(colorIsSymbol$1);return{toInitializePointLight:u=>unsafeUnionFn(o.convertRecordOptions(PointLightOptions)($$Proxy)(u)({}),defaultPointLight)}})()),webGLRenderer$1=webGLRenderer$4((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({reflectSymbol:()=>"webGLRenderer"}))(convertOptionWebGLRendere11)()()()({reflectSymbol:()=>"canvas"});return{toInitializeWebGLRenderer:u=>unsafeUnionFn(o.convertRecordOptions(WebGLRendererOptions)($$Proxy)(u)({}),defaultWebGLRenderer)}})()),unrealBloomPass$1=unrealBloomPass$3((()=>{const o=convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({reflectSymbol:()=>"unrealBloomPass"}))(convertOptionUnrealBloomP)()()()({reflectSymbol:()=>"threshold"}))(convertOptionUnrealBloomP2)()()()({reflectSymbol:()=>"strength"}))(convertOptionUnrealBloomP3)()()()({reflectSymbol:()=>"resolution"}))(convertOptionUnrealBloomP1)()()()({reflectSymbol:()=>"radius"});return{toInitializeUnrealBloomPass:u=>unsafeUnionFn(o.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(u)({}),defaultUnrealBloomPass)}})()),render={type:"render",value:unit},runThree=o=>{const u=d=>{if(!d)return m=>mapAccum$1(h=>g=>g._2?$Tuple(h+1|0,(()=>h>120?g._1:g._1*toNumber(h)/toNumber(120))()):$Tuple(0,0))(0)(applyEvent.apply((h,g)=>m(h,y=>{const _=Tuple(y);return g(_)}))((h,g)=>{const y=applicativeEvent.pure(!1)(h,g),_=o.pressedStart(h,g);return()=>(y(),_())}));if(d)return lpf(.65);fail$3()},f=run$1($Entity("EventfulElement'",keepLatest(backdoor.mailboxed(ordColumn)((d,m)=>o.columnPusher.event(d,h=>m({payload:unit,address:h})))(d=>vbust($$Proxy)(m=>globalCameraPortal1()()(perspectiveCamera$1({perspectiveCamera:o.threeDI.perspectiveCamera,fov:75,aspect:o.initialDims.iw/o.initialDims.ih,near:.1,far:100})((()=>{const h=playerPosition(o.myPlayer)(AxisZ);return oneOf$4([(()=>{const g=u(!1)((()=>{const y=playerPosition(o.myPlayer)(AxisX);return(_,w)=>o.animatedStuff(_,$=>{const v=y($.playerPositions);return w(v)})})());return(y,_)=>g(y,w=>_({type:"positionX",value:w}))})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((()=>{const y=playerPosition(o.myPlayer)(AxisY);return(_,w)=>o.animatedStuff(_,$=>{const v=y($.playerPositions);return w(v)})})());return(y,_)=>g(y,w=>{const $={type:"positionY",value:w._1.cameraOffsetY+w._2};return _($)})})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const $=h(w.playerPositions);return _($)}));return(y,_)=>g(y,w=>{const $={type:"positionZ",value:w._1.cameraOffsetZ+w._2};return _($)})})(),(()=>{const g=sampleBy(functorEvent)(Tuple)(o.renderingInfo)((y,_)=>o.animatedStuff(y,w=>{const $=h(w.playerPositions);return _($)}));return(y,_)=>g(y,w=>{const $={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:w._1.cameraRotationAroundX,y:0,z:0})};return _($)})})(),(g,y)=>o.resizeE(g,_=>{const w={type:"aspect",value:_.iw/_.ih};return y(w)})])})()))(h=>{const g=y=>arrayMap(_=>unsafeInternalGroup(w=>w.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$4([(()=>{const w=u((()=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const $=playerPosition(_)(AxisX);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>{const M={type:"positionX",value:y+b};return v(M)})})(),(()=>{const w=sampleBy(functorEvent)($=>v=>$.sphereOffsetY+v)(o.renderingInfo)((()=>{const $=playerPosition(_)(AxisY);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b(P)})})());return($,v)=>w($,b=>v({type:"positionY",value:b}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(_.tag==="Player1")return-4;if(_.tag==="Player2")return-3;if(_.tag==="Player3")return-2;if(_.tag==="Player4")return-1;fail$3()})()}),(()=>{const w=playerPosition(_)(AxisZ);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v({type:"positionZ",value:M})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(_.tag==="Player1")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(v.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin(v.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos(v.rateInfo.time*.21991148575128555)*.12566370614359174})};return $(b)});if(_.tag==="Player3")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(v.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin(v.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos(v.rateInfo.time*.09424777960769379)*-.09424777960769379})};return $(b)});if(_.tag==="Player2")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin(v.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos(v.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin(v.rateInfo.time*-.25132741228718347)*.25132741228718347})};return $(b)});if(_.tag==="Player4")return(w,$)=>o.animatedStuff(w,v=>{const b={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos(v.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos(v.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin(v.rateInfo.time*.06283185307179587)*-.2827433388230814})};return $(b)});fail$3()})()]))([]))(filter$1(_=>_.tag==="Player1"?o.myPlayer.tag!=="Player1":_.tag==="Player2"?o.myPlayer.tag!=="Player2":_.tag==="Player3"?o.myPlayer.tag!=="Player3":_.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers));return globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(applicativeEvent.pure({type:"background",value:$Background("CubeTexture",o.cubeTextures.skybox)}))([unsafeInternalGroup(y=>y.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const y=mapAccum$1(_=>w=>{if(_.tag==="Nothing")return $Tuple($Maybe("Just",w),0);if(_.tag==="Just")return $Tuple($Maybe("Just",w),w-_._1);fail$3()})(Nothing)((_,w)=>o.animatedStuff(_,$=>{const v=$.rateInfo.epochTime/1e3;return w(v)}));return(_,w)=>y(_,$=>{const v=$/1e3,b=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(v*.031415926535897934)},{type:"rotateY",value:.001*cos(v*.031415926535897934)},{type:"rotateZ",value:.001*cos(v*.031415926535897934)}]);return w(b)})})()))(concatArray(g(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeBar({c3:colorRepresentationRGB.color(o.threeDI.color),threeDI:o.threeDI,renderingInfo:o.renderingInfo,debug:o.debug,initialIsMe:(()=>y.tag==="Position1"?o.myPlayer.tag==="Player1":y.tag==="Position2"?o.myPlayer.tag==="Player1"?!1:o.myPlayer.tag==="Player2":y.tag==="Position3"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"?!1:o.myPlayer.tag==="Player3":y.tag==="Position4"?o.myPlayer.tag==="Player1"||o.myPlayer.tag==="Player2"||o.myPlayer.tag==="Player3"?!1:o.myPlayer.tag==="Player4":(o.myPlayer.tag==="Player1"&&fail$3(),o.myPlayer.tag==="Player2"&&fail$3(),o.myPlayer.tag==="Player3"&&fail$3(),o.myPlayer.tag==="Player4"&&fail$3(),!1))(),isMe:dedup(eqBoolean)((_,w)=>o.animatedStuff(_,$=>{const v=(()=>{if(o.myPlayer.tag==="Player1")return $.playerPositions.p1p;if(o.myPlayer.tag==="Player2")return $.playerPositions.p2p;if(o.myPlayer.tag==="Player3")return $.playerPositions.p3p;if(o.myPlayer.tag==="Player4")return $.playerPositions.p4p;fail$3()})(),b=(()=>y.tag==="Position1"?v.tag==="Position1":y.tag==="Position2"?v.tag==="Position2":y.tag==="Position3"?v.tag==="Position3":y.tag==="Position4"?v.tag==="Position4":!1)();return w(b)})),rateE:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),position:y}))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap(y=>makeRaycastableLane({initialDims:o.initialDims,resizeEvent:o.resizeE,c3:colorRepresentationRGB.color(o.threeDI.color),renderingInfo:o.renderingInfo,threeDI:o.threeDI,rateInfo:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),debug:o.debug,isMobile:o.isMobile,rateE:(_,w)=>o.animatedStuff(_,$=>w($.rateInfo)),column:y,columnPusher:o.columnPusher.push(y)}))(allColumns)))(concatArray(arrayMap(y=>unsafeInternalGroup(_=>_.makeGLTFGroup)({group:sceneImpl(o.models.spaceship)})(oneOf$4([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionX",value:v}))})(),(()=>{const _=sampleBy(functorEvent)(w=>$=>w.sphereOffsetY+$)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionY",value:v}))})(),applicativeEvent.pure({type:"positionZ",value:(()=>{if(y.tag==="Player1")return-4;if(y.tag==="Player2")return-3;if(y.tag==="Player3")return-2;if(y.tag==="Player4")return-1;fail$3()})()}),(()=>{const _=playerPosition(y)(AxisZ);return(w,$)=>o.animatedStuff(w,v=>{const b=_(v.playerPositions);return $({type:"positionZ",value:b})})})(),applicativeEvent.pure({type:"scaleX",value:.02}),applicativeEvent.pure({type:"scaleY",value:.02}),applicativeEvent.pure({type:"scaleZ",value:.02}),(()=>{if(y.tag==="Player1")return(_,w)=>o.animatedStuff(_,$=>{const v={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.3141592653589793)*.06283185307179587,y:sin($.rateInfo.time*.2827433388230814)*-.09424777960769379,z:cos($.rateInfo.time*.21991148575128555)*.12566370614359174})};return w(v)});if(y.tag==="Player3")return(_,w)=>o.animatedStuff(_,$=>{const v={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.18849555921538758)*.06283185307179587,y:sin($.rateInfo.time*.34557519189487723)*.031415926535897934,z:cos($.rateInfo.time*.09424777960769379)*-.09424777960769379})};return w(v)});if(y.tag==="Player2")return(_,w)=>o.animatedStuff(_,$=>{const v={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:sin($.rateInfo.time*.06283185307179587)*-.15707963267948966,y:cos($.rateInfo.time*.37699111843077515)*-.06283185307179587,z:sin($.rateInfo.time*-.25132741228718347)*.25132741228718347})};return w(v)});if(y.tag==="Player4")return(_,w)=>o.animatedStuff(_,$=>{const v={type:"rotationFromEuler",value:ctor_$1(o.threeDI.euler)({x:cos($.rateInfo.time*.031415926535897934)*.12566370614359174,y:cos($.rateInfo.time*.09424777960769379)*-.18849555921538758,z:sin($.rateInfo.time*.06283185307179587)*-.2827433388230814})};return w(v)});fail$3()})()]))([]))(filter$1(y=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)(allPlayers)))(concatArray([ambientLight$1({ambientLight:o.threeDI.ambientLight,intensity:.1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(plusEvent.empty)])(concatArray(arrayMap(y=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$4([(()=>{const _=u((()=>y.tag==="Player1"?o.myPlayer.tag!=="Player1":y.tag==="Player2"?o.myPlayer.tag!=="Player2":y.tag==="Player3"?o.myPlayer.tag!=="Player3":y.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const w=playerPosition(y)(AxisX);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionX",value:v}))})(),(()=>{const _=sampleBy(functorEvent)(w=>$=>w.sphereOffsetY/2+$)(o.renderingInfo)((()=>{const w=playerPosition(y)(AxisY);return($,v)=>o.animatedStuff($,b=>{const M=w(b.playerPositions);return v(M)})})());return(w,$)=>_(w,v=>$({type:"positionY",value:v}))})(),(()=>{const _=playerPosition(y)(AxisZ);return(w,$)=>o.animatedStuff(w,v=>{const b=_(v.playerPositions);return $({type:"positionZ",value:b})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers))(concatArray(arrayMap(y=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:1,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$4([applicativeEvent.pure({type:"positionX",value:y}),applicativeEvent.pure({type:"positionY",value:1.5}),applicativeEvent.pure({type:"positionZ",value:-5.25}),applicativeEvent.pure({type:"decay",value:1}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))([-3,-1,1,3]))([o.basicE(m._1.hitBasicVisualForLabel)(d),o.leapE(m._1.hitLeapVisualForLabel)(d),o.longE(m._1.hitLongVisualForLabel)(m._1.releaseLongVisualForLabel)(d),basicLabels({threeDI:o.threeDI,basicTap:m._2.hitBasicVisualForLabel,lpsCallback:o.lowPriorityCb}),leapLabels({threeDI:o.threeDI,leapTap:m._2.hitLeapVisualForLabel,lpsCallback:o.lowPriorityCb}),longLabels({threeDI:o.threeDI,longTap:m._2.hitLongVisualForLabel,longRelease:m._2.releaseLongVisualForLabel,lpsCallback:o.lowPriorityCb}),$Entity("Element'",h)]))))))))]))(y=>globalWebGLRendererPortal1()()(webGLRenderer$1(y)(h)({canvas:o.canvas,webGLRenderer:o.threeDI.webGLRenderer})(oneOf$4([applicativeEvent.pure({type:"size",value:{width:o.initialDims.iw,height:o.initialDims.ih}}),(_,w)=>o.resizeE(_,$=>w({type:"size",value:{width:$.iw,height:$.ih}}))])))(_=>globalScenePortal1()()(scene$1({scene:o.threeDI.scene})(plusEvent.empty)([unsafeInternalGroup(w=>w.makeGroup)({group:o.threeDI.group})(keepLatest((()=>{const w=mapAccum$1($=>v=>{if($.tag==="Nothing")return $Tuple($Maybe("Just",v),0);if($.tag==="Just")return $Tuple($Maybe("Just",v),v-$._1);fail$3()})(Nothing)(($,v)=>o.animatedStuff($,b=>{const M=b.rateInfo.epochTime/1e3;return v(M)}));return($,v)=>w($,b=>{const M=b/1e3,P=oneOfMap$1(applicativeEvent.pure)([{type:"rotateX",value:.001*cos(M*.031415926535897934)},{type:"rotateY",value:.001*cos(M*.031415926535897934)},{type:"rotateZ",value:.001*cos(M*.031415926535897934)}]);return v(P)})})()))(concatArray(g(0))(arrayMap(w=>pointLight$1({pointLight:o.threeDI.pointLight,distance:4,decay:2,intensity:1,color:ctorRGB_(o.threeDI.color)({r:1,g:1,b:1})})(oneOf$4([(()=>{const $=u((()=>w.tag==="Player1"?o.myPlayer.tag!=="Player1":w.tag==="Player2"?o.myPlayer.tag!=="Player2":w.tag==="Player3"?o.myPlayer.tag!=="Player3":w.tag==="Player4"?o.myPlayer.tag!=="Player4":!0)())((()=>{const v=playerPosition(w)(AxisX);return(b,M)=>o.animatedStuff(b,P=>{const I=v(P.playerPositions);return M(I)})})());return(v,b)=>$(v,M=>b({type:"positionX",value:M}))})(),(()=>{const $=sampleBy(functorEvent)(v=>b=>v.lightOffsetY+b)(o.renderingInfo)((()=>{const v=playerPosition(w)(AxisY);return(b,M)=>o.animatedStuff(b,P=>{const I=v(P.playerPositions);return M(I)})})());return(v,b)=>$(v,M=>b({type:"positionY",value:M}))})(),(()=>{const $=playerPosition(w)(AxisZ);return(v,b)=>o.animatedStuff(v,M=>{const P=$(M.playerPositions);return b({type:"positionZ",value:P})})})(),applicativeEvent.pure({type:"decay",value:2}),applicativeEvent.pure({type:"intensity",value:1}),applicativeEvent.pure({type:"distance",value:4})])))(allPlayers)))]))(w=>globalEffectComposerPortal1()()(effectComposer$1({effectComposer:o.threeDI.effectComposer})(_)(plusEvent.empty)([renderPass$1({renderPass:o.threeDI.renderPass})(w)(h),unrealBloomPass$1({unrealBloomPass:o.threeDI.unrealBloomPass,radius:1,resolution:ctor_(o.threeDI.vector2)({x:1e3,y:1e3}),strength:3,threshold:.1})(plusEvent.empty)]))($=>$Entity("FixedChildren'",[raycaster$1({raycaster:o.threeDI.raycaster,canvas:o.canvas})(h),$Entity("Element'",effectComposer$1({effectComposer:o.threeDI.effectComposer})(_)(oneOf$4([applicativeEvent.pure(render),(v,b)=>o.animatedStuff(v,M=>b(render))]))([renderPass$1({renderPass:o.threeDI.renderPass})(y)(h),effectComposerPass$1({effectComposerPass:o.threeDI.effectComposerPass})($)])),$Entity("EventfulElement'",(v,b)=>o.css2DRendererElt(v,M=>{const P=css2DRenderer$1(y)(h)({canvas:o.canvas,element:M,css2DRenderer:o.threeDI.css2DRenderer})(oneOf$4([(I,S)=>o.resizeE(I,C=>S({type:"size",value:{width:C.iw,height:C.ih}})),applicativeEvent.pure(render),(I,S)=>o.animatedStuff(I,C=>S(render))]));return b(P)})),$Entity("EventfulElement'",(v,b)=>o.css3DRendererElt(v,M=>{const P=css3DRenderer$1(y)(h)({canvas:o.canvas,element:M,css3DRenderer:o.threeDI.css3DRenderer})(oneOf$4([(I,S)=>o.resizeE(I,C=>S({type:"size",value:{width:C.iw,height:C.ih}})),applicativeEvent.pure(render),(I,S)=>o.animatedStuff(I,C=>S(render))]));return b(P)}))])))))}))))));return()=>(f(),unit)};function _read(o,u,f){var d=Object.prototype.toString.call(f);return d.indexOf("[object HTML")===0&&d.indexOf("Element]")===d.length-8?u(f):o}function click$3(o){return function(){return o.click()}}function focus(o){return function(){return o.focus()}}const addressHead="https://joyride.fm",$StartState=(o,u)=>({tag:o,_1:u}),vbussed1=vbussed$1()(vbusCons2({reflectSymbol:()=>"basicAudio"})()()(vbusCons2({reflectSymbol:()=>"copiedToClipboard"})()()(vbusCons2({reflectSymbol:()=>"iAmReady"})()()(vbusCons2({reflectSymbol:()=>"leapAudio"})()()(vbusCons2({reflectSymbol:()=>"pressedStart"})()()(vbusCons2({reflectSymbol:()=>"rateInfo"})()()(vbusCons2({reflectSymbol:()=>"render2DElement"})()()(vbusCons2({reflectSymbol:()=>"render3DElement"})()()(vbusNil)()())()())()())()())()())()())()())()()),oneOf$3=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),traverse_$3=traverse_$9(applicativeEffect)(foldableMaybe),fromFoldable$2=fromFoldable$9(ordNumber)(foldableArray),pure2=(()=>applicativeABehavior(functorEvent).pure)(),vbussed2=vbussed$1()(vbusCons2({reflectSymbol:()=>"changeText"})()()(vbusCons2({reflectSymbol:()=>"requestName"})()()(vbusNil)()())()()),oneOfMap=o=>foldrArray(u=>{const f=o(u);return d=>(m,h)=>{const g=f(m,h),y=d(m,h);return()=>(g(),y())}})(plusEvent.empty),for_$1=for_$9(applicativeEffect)(foldableMaybe),click$2=click$7(attrOnClickEffectUnit),max$1=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},applicativeExceptT=applicativeExceptT$3(monadIdentity),traverse=(()=>traversableMap.traverse(applicativeExceptT))(),throwError=(()=>monadThrowExceptT(monadIdentity).throwError)(),identity$2=o=>o,WaitingForMe=$StartState("WaitingForMe"),WaitingForOthers=$StartState("WaitingForOthers"),eqStartState={eq:o=>u=>o.tag==="WaitingForMe"?u.tag==="WaitingForMe":o.tag==="WaitingForOthers"?u.tag==="WaitingForOthers":o.tag==="Started"&&u.tag==="Started"?o._1===u._1:!1},ride=o=>u=>f=>vbussed1($$Proxy)(d=>m=>dynify(envy)(backdoor.memoize(sampleBy(functorEvent)(h=>g=>({rateInfo:g,playerPositions:{p1x:h.p1x(g),p1y:h.p1y,p1z:h.p1z,p1p:h.p1p,p2x:h.p2x(g),p2y:h.p2y,p2z:h.p2z,p2p:h.p2p,p3x:h.p3x(g),p3y:h.p3y,p3z:h.p3z,p3p:h.p3p,p4x:h.p4x(g),p4y:h.p4y,p4z:h.p4z,p4p:h.p4p}}))(f.playerPositions)(applyEvent.apply((h,g)=>m.rateInfo(h,y=>g(_=>{const w=(_.startTime-_.myTime)/1e3;return{epochTime:y.epochTime,time:y.time,prevTime:y.prevTime,beats:y.beats-w,prevBeats:(()=>{if(y.prevBeats.tag==="Nothing")return Nothing;if(y.prevBeats.tag==="Just")return $Maybe("Just",y.prevBeats._1-w);fail$3()})()}})))(oneOff(Just)(filter(h=>applyMaybe.apply((()=>{if(h.tag==="Leaf")return Nothing;const g=traverse(y=>{if(y.tag==="HasNotStartedYet")return throwError(unit);if(y.tag==="HasStarted")return applicativeExceptT.pure(y._1.startedAt);fail$3()})(h);if(g.tag==="Left")return Nothing;if(g.tag==="Right")return $Maybe("Just",y=>({startTime:foldableMap.foldl(max$1)(0)(g._1),myTime:y}));fail$3()})())((()=>{const g=lookup$2(ordPlayer)(f.player)(h);if(g.tag==="Just"){if(g._1.tag==="HasNotStartedYet")return Nothing;if(g._1.tag==="HasStarted")return $Maybe("Just",g._1._1.startedAt);fail$3()}return Nothing})()))(f.playerStatus)))))(h=>div(plusEvent.empty)([div(klass_(attrDiv_ClassString)("z-20 pointer-events-none absolute w-screen h-screen grid grid-rows-3 grid-cols-3"))([div(klass_(attrDiv_ClassString)("row-start-1 row-end-2 col-start-1 col-end-4"))([div(klass_(attrDiv_ClassString)("mx-2 mt-2"))([switcher(g=>{if(g._2.tag==="Nothing")return ul(plusEvent.empty)(arrayMap(y=>li(plusEvent.empty)([span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)())return"You have joined!";if(y._2.tag==="HasStarted"){if(y._2._1.name.tag==="Just")return y._2._1.name._1+" has joined!";if(y._2._1.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()}if(y._2.tag==="HasNotStartedYet"){if(y._1.tag==="Player1")return"Player 1 has joined!";if(y._1.tag==="Player2")return"Player 2 has joined!";if(y._1.tag==="Player3")return"Player 3 has joined!";if(y._1.tag==="Player4")return"Player 4 has joined!";fail$3()}fail$3()})()))])]))(toUnfoldable$1(unfoldableArray)(g._1)));if(g._2.tag==="Just")return ul(plusEvent.empty)(arrayMap(y=>li(plusEvent.empty)([span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure((()=>{if((()=>y._1.tag==="Player1"?f.player.tag==="Player1":y._1.tag==="Player2"?f.player.tag==="Player2":y._1.tag==="Player3"?f.player.tag==="Player3":y._1.tag==="Player4"?f.player.tag==="Player4":!1)()){if(y._2.name.tag==="Just")return"You ("+(y._2.name._1+")");if(y._2.name.tag==="Nothing")return"You";fail$3()}if(y._2.name.tag==="Just")return y._2.name._1;if(y._2.name.tag==="Nothing"){if(y._1.tag==="Player1")return"Player 1";if(y._1.tag==="Player2")return"Player 2";if(y._1.tag==="Player3")return"Player 3";if(y._1.tag==="Player4")return"Player 4";fail$3()}fail$3()})()+(": "+(_unsafeStringify(unsafeClamp(round(y._2.points+-1*y._2.penalties)))+" Points"))))])]))(mapMaybe(y=>{if(y._2.tag==="HasNotStartedYet")return Nothing;if(y._2.tag==="HasStarted")return $Maybe("Just",$Tuple(y._1,y._2._1));fail$3()})(toUnfoldable$1(unfoldableArray)(g._1))));fail$3()})(applyEvent.apply((g,y)=>f.playerStatus(g,_=>{const w=Tuple(_);return y(w)}))(initializeWithEmpty(plusMaybe)(applicativeMaybe)(m.iAmReady)))]),div(plusEvent.empty)([dynify(envy)((g,y)=>m.iAmReady(g,_=>{const w=div(oneOf$3([klass_(attrDiv_ClassString)("mx-2")]))([button(oneOf$3([klass_(attrButton_ClassString)("pointer-events-auto p-1 "+buttonCls),applicativeEvent.pure({key:"click",value:$AttributeValue("Cb'",$=>()=>(simpleExitFullScreen(),_(),o.goHome(),!0))})]))([text(applicativeEvent.pure("Exit to main menu"))])]);return y(w)}))])])]),div(plusEvent.empty)([switcher(g=>{if(g.tag==="WaitingForMe"){const y=_=>oneOf$3([klass_(attrButton_ClassString)(buttonCls+" pointer-events-auto"),sampleJIT(_)(applicativeEvent.pure(w=>{const $=fullScreenFlow(()=>{const v=requestIdleCallbackIsDefined(),b=context_(),M=constant0Hack_(b)(),P=setIntervalImpl(1e3)((()=>{const R=bindE(()=>o.icid.value)(traverse_$3(L=>cancelIdleCallback(L)(o.wdw)));return()=>{R();const L=()=>{const z=now(),Y=o.unschedule.value,te=span$2(K=>K._1<z)(toUnfoldable$1(unfoldableArray)(Y));return foreachE(te.init)(snd)(),o.unschedule.value=fromFoldable$2(te.rest),unit};if(v){const z=requestIdleCallback({timeout:0})(L)(o.wdw)();return o.icid.value=$Maybe("Just",z)}return L()}})())(),I=withACTime(b)((()=>{if(f.stats.tag==="Nothing")return animationFrame;if(f.stats.tag==="Just")return animationFrameEventWithStats(f.stats._1);fail$3()})()),S=backdoor.hot((R,L)=>I(R,z=>L(z.acTime)))(),C=backdoor.hot(timeFromRate(f.cNow)(pure2({rate:1}))((R,L)=>S.event(R,z=>L({real:z}))))(),O=subscribe(C.event)(d.rateInfo)(),B=run2(b)(graph({basics:m.basicAudio,baseFileOffsetInSeconds:u.baseFileOffsetInSeconds,leaps:m.leapAudio,rateInfo:(R,L)=>h(R,z=>L(z.rateInfo)),buffers:refToBehavior(o.soundObj),silence:o.silence,bgtrack:u.bgtrack}))();return d.pressedStart(!0)(),d.iAmReady((()=>{const R=clearIntervalImpl(P),L=close(monadEffectEffect)(b);return()=>(B(),M(),R(),S.unsubscribe(),O(),C.unsubscribe(),L())})())(),_makeFiber(ffiUtil$1,_bind(read(w))(R=>_liftEffect(()=>{const L=f.cNow();return f.optMeIn(L)(R)()})))().run(),unit});return{key:"click",value:$AttributeValue("Cb'",v=>()=>($(),!0))}}))]);return div(klass_(attrDiv_ClassString)("z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900"))([div(klass_(attrDiv_ClassString)("col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900"))([vbussed2($$Proxy)(_=>w=>switcher($=>$?div(klass_(attrDiv_ClassString)("mb-4 select-auto"))([input(oneOfMap(applicativeEvent.pure)([{key:"type",value:$AttributeValue("Prop'","text")},{key:"placeholder",value:$AttributeValue("Prop'","My name")},{key:"class",value:$AttributeValue("Prop'","pointer-events-auto shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline")},{key:"input",value:$AttributeValue("Cb'",v=>{const b=for_$1((()=>{const M=nullable(_target(v),Nothing,Just);if(M.tag==="Just")return _unsafeReadProtoTagged(Nothing,Just,"HTMLInputElement",M._1);if(M.tag==="Nothing")return Nothing;fail$3()})())(M=>bindE(value(M))(_.changeText));return()=>(b(),!0)})},{key:"@self@",value:$AttributeValue("Cb'",v=>for_$1(_read(Nothing,Just,v))(b=>{const M=focus(b);return()=>(M(),click$3(b)())}))}]))([]),button(y((v,b)=>{const M=applicativeEvent.pure(Nothing)(v,b),P=w.changeText(v,I=>b($Maybe("Just",I)));return()=>(M(),P())}))([text(applicativeEvent.pure("Start"))])]):div(klass_(attrDiv_ClassString)("select-auto"))([div(klass_(attrDiv_ClassString)("pointer-events-auto text-center text-white p-4"))((()=>{const v=addressHead+("/#/r/"+(f.channelName+("/"+f.trackId)));return[p$1(plusEvent.empty)([text(applicativeEvent.pure("Press the clipboard and get a link to this ride:"))]),button(oneOf$3([klass_(attrButton_ClassString)("pointer-events-auto text-center text-xl bg-gray-800 hover:bg-gray-600 text-white mx-2 rounded"),click$2(applicativeEvent.pure((()=>{const b=_makeFiber(ffiUtil$1,_bind(_liftEffect(d.copiedToClipboard(!0)))(()=>_bind(_bind(_liftEffect(writeText(v)))(toAff$p(coerce)))(()=>_bind(_delay(Right,2e3))(()=>_liftEffect(d.copiedToClipboard(!1))))));return()=>(b().run(),unit)})()))]))([text(applicativeEvent.pure("\u{1F449}\u{1F3FD} \u{1F4CB} \u{1F448}\u{1F3FD}"))]),p$1(plusEvent.empty)([text(applicativeEvent.pure("You can send the link to up to 3 people. When everyone has joined, or if you're playing alone, press Start!"))])]})()),div(klass_(attrDiv_ClassString)("flex w-full justify-center items-center"))([switcher(v=>{if(v.tag==="Just")return button(y((b,M)=>{const P=applicativeEvent.pure(Nothing)(b,M),I=w.changeText(b,S=>M($Maybe("Just",S)));return()=>(P(),I())}))([text(applicativeEvent.pure("Start"))]);if(v.tag==="Nothing")return div(plusEvent.empty)([button(oneOf$3([klass_(attrButton_ClassString)(buttonCls),y((b,M)=>{const P=applicativeEvent.pure(Nothing)(b,M),I=w.changeText(b,S=>M($Maybe("Just",S)));return()=>(P(),I())})]))([text(applicativeEvent.pure("Start"))]),button(oneOf$3([klass_(attrButton_ClassString)(buttonCls),click$2(applicativeEvent.pure(_.requestName(unit)))]))([text(applicativeEvent.pure("Start with name"))])]);fail$3()})((()=>{const v=oneOff(Just)((b,M)=>{const P=f.profileEvent(b,S=>M($Maybe("Just",S._1.username))),I=applicativeEvent.pure(Nothing)(b,M);return()=>(P(),I())});return(b,M)=>{const P=applicativeEvent.pure(f.locallyStoredPlayerNameInCaseThisIsAnAnonymousSession)(b,M),I=v(b,M);return()=>(P(),I())}})())])]))(($,v)=>{const b=applicativeEvent.pure(!1)($,v),M=w.requestName($,P=>v(!0));return()=>(b(),M())}))])])}if(g.tag==="WaitingForOthers")return div(klass_(attrDiv_ClassString)("z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900"))([div(klass_(attrDiv_ClassString)("col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900"))([div(klass_(attrDiv_ClassString)("text-center w-100"))([span(klass_(attrSpan_ClassString)("text-lg text-white"))([text(applicativeEvent.pure("Waiting for others to join"))])])])]);if(g.tag==="Started")return dynify(envy)(plusEvent.empty);fail$3()})(dedup(eqStartState)((g,y)=>f.playerStatus(g,_=>{const w=(()=>{if(_.tag==="Leaf")return(()=>{const v=lookup$2(ordPlayer)(f.player)(_);return(()=>v.tag==="Just"?v._1.tag!=="HasNotStartedYet":!0)()&&v.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;const $=traverse(v=>{if(v.tag==="HasNotStartedYet")return throwError(unit);if(v.tag==="HasStarted")return applicativeExceptT.pure(v._1.startedAt);fail$3()})(_);if($.tag==="Left")return(()=>{const v=lookup$2(ordPlayer)(f.player)(_);return(()=>v.tag==="Just"?v._1.tag!=="HasNotStartedYet":!0)()&&v.tag!=="Nothing"})()?WaitingForOthers:WaitingForMe;if($.tag==="Right")return $StartState("Started",foldableMap.foldl(max$1)(0)($._1));fail$3()})();return y(w)})))]),div(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}))([canvas(oneOf$3([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",(()=>{const g=traverse_$3(y=>runThree({threeDI:f.threeDI,css2DRendererElt:m.render2DElement,css3DRendererElt:m.render3DElement,isMobile:o.isMobile,pressedStart:m.pressedStart,galaxyAttributes:f.galaxyAttributes,shaders:f.shaders,renderingInfo:o.renderingInfo,lowPriorityCb:o.lpsCallback,myPlayer:f.player,columnPusher:o.columnPusher,debug:o.debug,textures:f.textures,cubeTextures:f.cubeTextures,models:f.models,pushBasic:o.pushBasic,basicE:_=>w=>u.basicE({initialDims:f.initialDims,columnEventConstructor:w,renderingInfo:o.renderingInfo,textures:f.textures,cnow:f.cNow,threeDI:f.threeDI,myPlayer:f.player,debug:o.debug,notifications:{hitBasic:filter($=>$.value.tag==="HitBasic"?$Maybe("Just",{uniqueId:$.value._1.uniqueId,logicalBeat:$.value._1.logicalBeat,deltaBeats:$.value._1.deltaBeats,hitAt:$.value._1.hitAt,player:$.value._1.player,issuedAt:$.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.basicAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushBasic:o.pushBasic,pushBasicVisualForLabel:_}),leapE:_=>w=>u.leapE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,myPlayer:f.player,columnEventConstructor:w,cnow:f.cNow,debug:o.debug,notifications:{hitLeap:filter($=>$.value.tag==="HitLeap"?$Maybe("Just",{uniqueId:$.value._1.uniqueId,hitAt:$.value._1.hitAt,player:$.value._1.player,oldPosition:$.value._1.oldPosition,newPosition:$.value._1.newPosition,issuedAt:$.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushLeap:o.pushLeap,pushLeapVisualForLabel:_}),longE:_=>w=>$=>u.longE({initialDims:f.initialDims,renderingInfo:o.renderingInfo,textures:f.textures,columnEventConstructor:$,myPlayer:f.player,cnow:f.cNow,debug:o.debug,notifications:{hitLong:filter(v=>v.value.tag==="HitLong"?$Maybe("Just",{uniqueId:v.value._1.uniqueId,hitAt:v.value._1.hitAt,player:v.value._1.player,distance:v.value._1.distance,issuedAt:v.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent)),releaseLong:filter(v=>v.value.tag==="ReleaseLong"?$Maybe("Just",{uniqueId:v.value._1.uniqueId,releasedAt:v.value._1.releasedAt,pctConsumed:v.value._1.pctConsumed,player:v.value._1.player,hitAt:v.value._1.hitAt,distance:v.value._1.distance,issuedAt:v.time}):Nothing)(withCTime(f.cNow)(f.pubNubEvent))},resizeEvent:o.resizeE,isMobile:o.isMobile,lpsCallback:o.lpsCallback,pushAudio:d.leapAudio,mkColor:colorRepresentationRGB.color(f.threeDI.color),mkMatrix4:set_(f.threeDI.matrix4),threeDI:f.threeDI,buffers:refToBehavior(o.soundObj),silence:o.silence,animatedStuff:h,pushHitLong:o.pushHitLong,pushReleaseLong:o.pushReleaseLong,pushHitLongVisualForLabel:_,pushReleaseLongVisualForLabel:w}),animatedStuff:h,resizeE:o.resizeE,initialDims:f.initialDims,canvas:y}));return y=>g(_unsafeReadProtoTagged(Nothing,Just,"HTMLCanvasElement",y))})())})]))([]),div(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render2DElement)}]))([]),div(oneOfMap(applicativeEvent.pure)([{key:"class",value:$AttributeValue("Prop'","absolute pointer-events-none")},{key:"@self@",value:$AttributeValue("Cb'",d.render3DElement)}]))([])]),div(oneOf$3([klass_(attrDiv_ClassString)("z-1 snackbar text-white"),(g,y)=>filter$p(boolNot)(m.copiedToClipboard)(g,_=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar text-white")})),(g,y)=>filter$p(identity$2)(m.copiedToClipboard)(g,_=>y({key:"class",value:$AttributeValue("Prop'","z-30 snackbar show text-white")}))]))([text(applicativeEvent.pure("Copied to clipboard"))])])))),$RouteError=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteParser=(o,u,f)=>({tag:o,_1:u,_2:f}),$RouteResult=(o,u,f)=>({tag:o,_1:u,_2:f}),lookup=lookup$3(foldableArray)(eqString),genericShowArgsArgument$1={genericShowArgs:o=>[showStringImpl(o)]},EndOfPath=$RouteError("EndOfPath"),take=$RouteParser("Chomp",o=>{const u=uncons$1(o.segments);return u.tag==="Just"?$RouteResult("Success",{segments:u._1.tail,params:o.params,hash:o.hash},u._1.head):$RouteResult("Fail",EndOfPath)}),parsePath=(()=>{const o=arrayMap(f=>{const d=indexOf("=")(f);if(d.tag==="Just")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,take$4(d._1)(f));if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,drop$1(d._1+length("=")|0)(f));if(m.tag==="Just")return m._1;fail$3()})());if(d.tag==="Nothing")return $Tuple((()=>{const m=_decodeURIComponent(h=>Nothing,Just,f);if(m.tag==="Just")return m._1;fail$3()})(),(()=>{const m=_decodeURIComponent(h=>Nothing,Just,"");if(m.tag==="Just")return m._1;fail$3()})());fail$3()}),u=f=>$Tuple((()=>{const d=(()=>f._1===""?[]:split("/")(f._1))();return d.length===2?d[0]===""?d[1]===""?[""]:arrayMap(m=>{const h=_decodeURIComponent(g=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(g=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d):arrayMap(m=>{const h=_decodeURIComponent(g=>Nothing,Just,m);if(h.tag==="Just")return h._1;fail$3()})(d)})(),o((()=>f._2===""?[]:split("&")(f._2))()));return f=>{const d=indexOf("#")(f);if(d.tag==="Just"){const m=indexOf("?")(take$4(d._1)(f)),h=u((()=>{if(m.tag==="Just")return $Tuple(take$4(m._1)(take$4(d._1)(f)),drop$1(m._1+length("?")|0)(take$4(d._1)(f)));if(m.tag==="Nothing")return $Tuple(take$4(d._1)(f),"");fail$3()})());return{segments:h._1,params:h._2,hash:drop$1(d._1+length("#")|0)(f)}}if(d.tag==="Nothing"){const m=indexOf("?")(f),h=u((()=>{if(m.tag==="Just")return $Tuple(take$4(m._1)(f),drop$1(m._1+length("?")|0)(f));if(m.tag==="Nothing")return $Tuple(f,"");fail$3()})());return{segments:h._1,params:h._2,hash:""}}fail$3()}})(),param$1=o=>$RouteParser("Chomp",u=>{const f=lookup(o)(u.params);return f.tag==="Just"?$RouteResult("Success",u,f._1):$RouteResult("Fail",$RouteError("MissingParam",o))}),genericRouteError={to:o=>{if(o.tag==="Inl")return $RouteError("Expected",o._1._1,o._1._2);if(o.tag==="Inr"){if(o._1.tag==="Inl")return $RouteError("ExpectedEndOfPath",o._1._1);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return $RouteError("MissingParam",o._1._1._1);if(o._1._1.tag==="Inr")return EndOfPath;fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Expected")return $Sum("Inl",$Product(o._1,o._2));if(o.tag==="ExpectedEndOfPath")return $Sum("Inr",$Sum("Inl",o._1));if(o.tag==="MissingParam")return $Sum("Inr",$Sum("Inr",$Sum("Inl",o._1)));if(o.tag==="EndOfPath")return $Sum("Inr",$Sum("Inr",$Sum("Inr",NoArguments)));fail$3()}},showRouteError={show:(()=>{const o=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument$1)(genericShowArgsArgument$1))({reflectSymbol:()=>"Expected"}),u=genericShowConstructor(genericShowArgsArgument$1)({reflectSymbol:()=>"ExpectedEndOfPath"}),f=genericShowConstructor(genericShowArgsArgument$1)({reflectSymbol:()=>"MissingParam"}),d=genericShowConstructor(genericShowArgsNoArguments)({reflectSymbol:()=>"EndOfPath"});return m=>{const h=genericRouteError.from(m);if(h.tag==="Inl")return o["genericShow'"](h._1);if(h.tag==="Inr"){if(h._1.tag==="Inl")return u["genericShow'"](h._1._1);if(h._1.tag==="Inr"){if(h._1._1.tag==="Inl")return f["genericShow'"](h._1._1._1);if(h._1._1.tag==="Inr")return d["genericShow'"](h._1._1._1);fail$3()}fail$3()}fail$3()}})()},functorRouteResult={map:o=>u=>{if(u.tag==="Fail")return $RouteResult("Fail",u._1);if(u.tag==="Success")return $RouteResult("Success",u._1,o(u._2));fail$3()}},functorRouteParser={map:o=>u=>{if(u.tag==="Alt")return $RouteParser("Alt",arrayMap(functorRouteParser.map(o))(u._1));if(u.tag==="Chomp")return $RouteParser("Chomp",f=>functorRouteResult.map(o)(u._1(f)));if(u.tag==="Prefix")return $RouteParser("Prefix",u._1,functorRouteParser.map(o)(u._2));fail$3()}},end$1=$RouteParser("Chomp",o=>{const u=index(o.segments)(0);if(u.tag==="Nothing")return $RouteResult("Success",o,unit);if(u.tag==="Just")return $RouteResult("Fail",$RouteError("ExpectedEndOfPath",u._1));fail$3()}),chompPrefix=o=>u=>{const f=index(u.segments)(0);return f.tag==="Just"?o===f._1?$RouteResult("Success",{segments:slice(1)(u.segments.length)(u.segments),params:u.params,hash:u.hash},unit):$RouteResult("Fail",$RouteError("Expected",o,f._1)):$RouteResult("Fail",EndOfPath)},runRouteParser$lazy=binding(()=>u=>f=>{let d=u,m=f,h=!0,g;for(;h;){const y=d,_=m;if(_.tag==="Alt"){h=!1,g=foldlArray(w=>$=>w.tag==="Fail"?runRouteParser$lazy()(y)($):w)($RouteResult("Fail",EndOfPath))(_._1);continue}if(_.tag==="Chomp"){h=!1,g=_._1(y);continue}if(_.tag==="Prefix"){const w=chompPrefix(_._1)(y);if(w.tag==="Fail"){h=!1,g=$RouteResult("Fail",w._1);continue}if(w.tag==="Success"){d=w._1,m=_._2;continue}fail$3()}fail$3()}return g}),runRouteParser=runRouteParser$lazy(),run=o=>u=>{const f=runRouteParser(parsePath(u))(o);if(f.tag==="Fail")return $Either("Left",f._1);if(f.tag==="Success")return $Either("Right",f._2);fail$3()},$$boolean=o=>o==="true"?$Either("Right",!0):o==="false"?$Either("Right",!1):$Either("Left","Boolean"),as$1=o=>u=>f=>$RouteParser("Chomp",d=>{const m=runRouteParser(d)(f);if(m.tag==="Fail")return $RouteResult("Fail",m._1);if(m.tag==="Success"){const h=u(m._2);if(h.tag==="Left")return $RouteResult("Fail",$RouteError("Expected",h._1,o(m._2)));if(h.tag==="Right")return $RouteResult("Success",m._1,h._1);fail$3()}fail$3()}),applyRouteParser={apply:o=>u=>$RouteParser("Chomp",f=>{const d=runRouteParser(f)(o);if(d.tag==="Fail")return $RouteResult("Fail",d._1);if(d.tag==="Success")return functorRouteResult.map(d._2)(runRouteParser(d._1)(u));fail$3()}),Functor0:()=>functorRouteParser},altSnoc=o=>u=>{if(u.tag==="Prefix"){const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(u._1===d._1){const m=init$1(o);return run$2(withArray(pushAll([$RouteParser("Prefix",u._1,altRouteParser.alt(d._2)(u._2))]))((()=>{if(m.tag==="Just")return m._1;fail$3()})()))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))}return run$2(withArray(pushAll([u]))(o))},altRouteParser={alt:o=>u=>o.tag==="Alt"?u.tag==="Alt"?$RouteParser("Alt",altAppend(o._1)(u._1)):$RouteParser("Alt",altSnoc(o._1)(u)):u.tag==="Alt"?$RouteParser("Alt",altCons(o)(u._1)):o.tag==="Prefix"?u.tag==="Prefix"?o._1===u._1?$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(u._2)):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]):$RouteParser("Alt",[o,u]),Functor0:()=>functorRouteParser},altCons=o=>u=>{if(o.tag==="Prefix"){const f=index(u)(0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){if(o._1===d._1){const m=tail(u);return concatArray([$RouteParser("Prefix",o._1,altRouteParser.alt(o._2)(d._2))])((()=>{if(m.tag==="Just")return m._1;fail$3()})())}return concatArray([o])(u)}return concatArray([o])(u)}return concatArray([o])(u)},altAppend=o=>u=>{const f=index(o)(o.length-1|0),d=(()=>{if(f.tag==="Just")return f._1;fail$3()})();if(d.tag==="Prefix"){const m=index(u)(0),h=(()=>{if(m.tag==="Just")return m._1;fail$3()})();if(h.tag==="Prefix"){if(d._1===h._1){const g=tail(u),y=concatArray([$RouteParser("Prefix",d._1,altRouteParser.alt(d._2)(h._2))])((()=>{if(g.tag==="Just")return g._1;fail$3()})()),_=init$1(o),w=(()=>{if(_.tag==="Just")return _._1;fail$3()})();return w.length>0?altAppend(w)(y):y}return concatArray(o)(u)}return concatArray(o)(u)}return concatArray(o)(u)},optional=o=>altRouteParser.alt(functorRouteParser.map(Just)(o))($RouteParser("Chomp",u=>$RouteResult("Success",u,Nothing))),emptyRouteState={segments:[],params:[],hash:""},semigroupRoutePrinter={append:o=>u=>f=>u(o(f))},put=o=>u=>({segments:run$2(withArray(pushAll([o]))(u.segments)),params:u.params,hash:u.hash}),printPath=o=>(()=>o.segments.length===1?o.segments[0]===""?"/":joinWith("/")(arrayMap(u=>{const f=_encodeURIComponent(d=>Nothing,Just,u);if(f.tag==="Just")return f._1;fail$3()})(o.segments)):joinWith("/")(arrayMap(u=>{const f=_encodeURIComponent(d=>Nothing,Just,u);if(f.tag==="Just")return f._1;fail$3()})(o.segments)))()+((()=>o.params.length===0?"":"?"+joinWith("&")(arrayMap(u=>{if(u._2===""){const m=_encodeURIComponent(h=>Nothing,Just,u._1);if(m.tag==="Just")return m._1;fail$3()}const f=_encodeURIComponent(m=>Nothing,Just,u._1),d=_encodeURIComponent(m=>Nothing,Just,u._2);return(()=>{if(f.tag==="Just")return f._1;fail$3()})()+(()=>{if(d.tag==="Just")return"="+d._1;fail$3()})()})(o.params)))()+(()=>o.hash===""?"":"#"+o.hash)()),param=o=>u=>f=>({segments:f.segments,params:concatArray([$Tuple(o,u)])(f.params),hash:f.hash}),monoidRoutePRinter={mempty:o=>o,Semigroup0:()=>semigroupRoutePrinter},$RouteDuplex=(o,u)=>({tag:"RouteDuplex",_1:o,_2:u}),identity$1=o=>o,foldMap=o=>u=>{if(u.tag==="Nothing")return monoidRoutePRinter.mempty;if(u.tag==="Just")return o(u._1);fail$3()},RouteDuplex=o=>u=>$RouteDuplex(o,u),record=$RouteDuplex(o=>monoidRoutePRinter.mempty,$RouteParser("Chomp",o=>$RouteResult("Success",o,{}))),prop=o=>()=>()=>()=>u=>f=>d=>$RouteDuplex(m=>{const h=d._1(m),g=f._1(unsafeGet(o.reflectSymbol(u))(m));return y=>g(h(y))},applyRouteParser.apply(functorRouteParser.map(m=>h=>unsafeSet(o.reflectSymbol(u))(h)(m))(d._2))(f._2)),profunctorRouteDuplex={dimap:o=>u=>f=>$RouteDuplex(d=>f._1(o(d)),functorRouteParser.map(u)(f._2))},prefix=o=>u=>$RouteDuplex(f=>{const d=u._1(f);return m=>d(put(o)(m))},$RouteParser("Prefix",o,u._2)),path=(()=>{const o=foldrArray(prefix),u=split("/");return f=>{const d=u(f);return m=>o(m)(d)}})(),root=path(""),parse=o=>run(o._2),functorRouteDuplex={map:o=>u=>$RouteDuplex(u._1,functorRouteParser.map(o)(u._2))},end=o=>$RouteDuplex(o._1,applyRouteParser.apply(functorRouteParser.map($$const)(o._2))(end$1)),buildParamsNil={buildParams:o=>u=>identity$1},buildParamsCons=o=>()=>()=>()=>()=>u=>({buildParams:f=>d=>m=>u.buildParams($$Proxy)(d)(prop(o)()()()($$Proxy)(unsafeGet(o.reflectSymbol($$Proxy))(d)((()=>{const h=o.reflectSymbol($$Proxy);return $RouteDuplex(param(h),param$1(h))})()))(m))}),as=o=>u=>f=>$RouteDuplex(d=>f._1(o(d)),as$1(identity$1)(u)(f._2)),applyRouteDuplex={apply:o=>u=>$RouteDuplex(f=>{const d=o._1(f),m=u._1(f);return h=>m(d(h))},applyRouteParser.apply(o._2)(u._2)),Functor0:()=>functorRouteDuplex},applicativeRouteDuplex={pure:(()=>{const o=RouteDuplex(u=>monoidRoutePRinter.mempty);return u=>o($RouteParser("Chomp",f=>$RouteResult("Success",f,u)))})(),Apply0:()=>applyRouteDuplex},identity=o=>o,noArgs=(()=>applicativeRouteDuplex.pure(NoArguments))(),gRouteProduct={gRouteDuplexCtr:identity},gRouteNoArguments={gRouteDuplexCtr:identity},product=o=>u=>f=>{const d=o.gRouteDuplexCtr(f);return $RouteDuplex(m=>{const h=u._1(m._1),g=d._1(m._2);return y=>g(h(y))},applyRouteParser.apply(functorRouteParser.map(Product)(functorRouteParser.map(Argument)(u._2)))(d._2))},gRouteSum=o=>u=>({gRouteDuplex:f=>{const d=o.gRouteDuplex(f),m=u.gRouteDuplex(f);return $RouteDuplex(h=>{if(h.tag==="Inl")return d._1(h._1);if(h.tag==="Inr")return m._1(h._1);fail$3()},altRouteParser.alt(functorRouteParser.map(Inl)(d._2))(functorRouteParser.map(Inr)(m._2)))}}),gRouteConstructor=o=>()=>u=>({gRouteDuplex:f=>{const d=end(u.gRouteDuplexCtr(unsafeGet(o.reflectSymbol($$Proxy))(f)));return $RouteDuplex(m=>d._1(m),functorRouteParser.map(Constructor)(d._2))}}),gRouteArgument={gRouteDuplexCtr:identity},gRouteAll={gRouteDuplexCtr:o=>$RouteDuplex(u=>o._1(u),functorRouteParser.map(Argument)(o._2))},$Route=(o,u,f)=>({tag:o,_1:u,_2:f}),HomeIsSymbol={reflectSymbol:()=>"Home"},genericShowArgsArgument={genericShowArgs:o=>[showStringImpl(o)]},OrientationPermissionWithRideRequestIsSymbol={reflectSymbol:()=>"OrientationPermissionWithRideRequest"},OrientationPermissionWithoutRideRequestIsSymbol={reflectSymbol:()=>"OrientationPermissionWithoutRideRequest"},TutorialIsSymbol={reflectSymbol:()=>"Tutorial"},TakeRideIsSymbol={reflectSymbol:()=>"TakeRide"},SettingsIsSymbol={reflectSymbol:()=>"Settings"},TakeThisRideIsSymbol={reflectSymbol:()=>"TakeThisRide"},EditorIsSymbol={reflectSymbol:()=>"Editor"},SessionIsSymbol={reflectSymbol:()=>"Session"},eq1=o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?eqTrack.eq(o._1)(u._1):!1,Home=$Route("Home"),OrientationPermissionWithoutRideRequest=$Route("OrientationPermissionWithoutRideRequest"),Tutorial=$Route("Tutorial"),TakeRide=$Route("TakeRide"),Settings=$Route("Settings"),Editor=$Route("Editor"),genericRoute={to:o=>{if(o.tag==="Inl")return Home;if(o.tag==="Inr"){if(o._1.tag==="Inl")return $Route("OrientationPermissionWithRideRequest",o._1._1._1,o._1._1._2);if(o._1.tag==="Inr"){if(o._1._1.tag==="Inl")return OrientationPermissionWithoutRideRequest;if(o._1._1.tag==="Inr"){if(o._1._1._1.tag==="Inl")return Tutorial;if(o._1._1._1.tag==="Inr"){if(o._1._1._1._1.tag==="Inl")return TakeRide;if(o._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1.tag==="Inl")return Settings;if(o._1._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1._1.tag==="Inl")return $Route("TakeThisRide",o._1._1._1._1._1._1._1._1,o._1._1._1._1._1._1._1._2);if(o._1._1._1._1._1._1.tag==="Inr"){if(o._1._1._1._1._1._1._1.tag==="Inl")return Editor;if(o._1._1._1._1._1._1._1.tag==="Inr")return $Route("Session",o._1._1._1._1._1._1._1._1._1,o._1._1._1._1._1._1._1._1._2);fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()},from:o=>{if(o.tag==="Home")return $Sum("Inl",NoArguments);if(o.tag==="OrientationPermissionWithRideRequest")return $Sum("Inr",$Sum("Inl",$Product(o._1,o._2)));if(o.tag==="OrientationPermissionWithoutRideRequest")return $Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)));if(o.tag==="Tutorial")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))));if(o.tag==="TakeRide")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments)))));if(o.tag==="Settings")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))))));if(o.tag==="TakeThisRide")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",$Product(o._1,o._2))))))));if(o.tag==="Editor")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inl",NoArguments))))))));if(o.tag==="Session")return $Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Sum("Inr",$Product(o._1,o._2)))))))));fail$3()}},showRoute={show:(()=>{const o=genericShowConstructor(genericShowArgsNoArguments)(HomeIsSymbol),u=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))(OrientationPermissionWithRideRequestIsSymbol),f=genericShowConstructor(genericShowArgsNoArguments)(OrientationPermissionWithoutRideRequestIsSymbol),d=genericShowConstructor(genericShowArgsNoArguments)(TutorialIsSymbol),m=genericShowConstructor(genericShowArgsNoArguments)(TakeRideIsSymbol),h=genericShowConstructor(genericShowArgsNoArguments)(SettingsIsSymbol),g=genericShowConstructor(genericShowArgsProduct({genericShowArgs:w=>[(()=>{if(w.tag==="Just")return"(Just TrackV0 <"+show1$3(w._1._1)+">)";if(w.tag==="Nothing")return"Nothing";fail$3()})()]})(genericShowArgsArgument))(TakeThisRideIsSymbol),y=genericShowConstructor(genericShowArgsNoArguments)(EditorIsSymbol),_=genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))(SessionIsSymbol);return w=>{const $=genericRoute.from(w);if($.tag==="Inl")return o["genericShow'"]($._1);if($.tag==="Inr"){if($._1.tag==="Inl")return u["genericShow'"]($._1._1);if($._1.tag==="Inr"){if($._1._1.tag==="Inl")return f["genericShow'"]($._1._1._1);if($._1._1.tag==="Inr"){if($._1._1._1.tag==="Inl")return d["genericShow'"]($._1._1._1._1);if($._1._1._1.tag==="Inr"){if($._1._1._1._1.tag==="Inl")return m["genericShow'"]($._1._1._1._1._1);if($._1._1._1._1.tag==="Inr"){if($._1._1._1._1._1.tag==="Inl")return h["genericShow'"]($._1._1._1._1._1._1);if($._1._1._1._1._1.tag==="Inr"){if($._1._1._1._1._1._1.tag==="Inl")return g["genericShow'"]($._1._1._1._1._1._1._1);if($._1._1._1._1._1._1.tag==="Inr"){if($._1._1._1._1._1._1._1.tag==="Inl")return y["genericShow'"]($._1._1._1._1._1._1._1._1);if($._1._1._1._1._1._1._1.tag==="Inr")return _["genericShow'"]($._1._1._1._1._1._1._1._1);fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}fail$3()}})()},eqRoute={eq:o=>u=>o.tag==="Home"?u.tag==="Home":o.tag==="OrientationPermissionWithRideRequest"?u.tag==="OrientationPermissionWithRideRequest"?o._1===u._1&&o._2===u._2:!1:o.tag==="OrientationPermissionWithoutRideRequest"?u.tag==="OrientationPermissionWithoutRideRequest":o.tag==="Tutorial"?u.tag==="Tutorial":o.tag==="TakeRide"?u.tag==="TakeRide":o.tag==="Settings"?u.tag==="Settings":o.tag==="TakeThisRide"?u.tag==="TakeThisRide"?eq1(o._1)(u._1)&&o._2===u._2:!1:o.tag==="Editor"?u.tag==="Editor":o.tag==="Session"&&u.tag==="Session"?o._1===u._1&&o._2===u._2:!1},cached=$RouteDuplex(o=>monoidRoutePRinter.mempty,$RouteParser("Chomp",o=>$RouteResult("Success",o,Nothing))),route=(()=>root(profunctorRouteDuplex.dimap(genericRoute.from)(genericRoute.to)(gRouteSum(gRouteConstructor(HomeIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(OrientationPermissionWithRideRequestIsSymbol)()(gRouteProduct))(gRouteSum(gRouteConstructor(OrientationPermissionWithoutRideRequestIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TutorialIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TakeRideIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(SettingsIsSymbol)()(gRouteNoArguments))(gRouteSum(gRouteConstructor(TakeThisRideIsSymbol)()(gRouteProduct))(gRouteSum(gRouteConstructor(EditorIsSymbol)()(gRouteNoArguments))(gRouteConstructor(SessionIsSymbol)()(gRouteProduct))))))))).gRouteDuplex({Home:noArgs,TakeThisRide:product(gRouteArgument)(cached)(prefix("rides")($RouteDuplex(o=>put(o),functorRouteParser.map(Argument)(take)))),Settings:path("settings")(noArgs),TakeRide:path("rides")(noArgs),Editor:path("editor")(noArgs),Tutorial:path("tutorial")(noArgs),OrientationPermissionWithoutRideRequest:path("orientation-permission")(noArgs),OrientationPermissionWithRideRequest:prefix("orientation-permission")(product(gRouteAll)($RouteDuplex(put,take))($RouteDuplex(put,take))),Session:prefix("r")(product(gRouteAll)($RouteDuplex(put,take))($RouteDuplex(put,take)))}))))(),oneOf$2=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),click$1=click$7(attrOnClickEffectUnit),availableRides=o=>div(oneOf$2([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))([div(oneOf$2([klass_(attrDiv_ClassString)("z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen")]))([div(klass_(attrDiv_ClassString)("col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"))([h2(klass_(attrH2_ClassString)("text-2xl text-slate-200"))([text(applicativeEvent.pure("Choose a ride"))]),div(plusEvent.empty)([ul(klass_(attrUl_ClassString)(""))(arrayMap(u=>li(plusEvent.empty)([button(oneOf$2([klass_(attrButton_ClassString)(buttonCls+" mx-2 pointer-events-auto"),click$1(applicativeEvent.pure(o.navigateTo($Route("TakeThisRide",$Maybe("Just",u.data),u.id))))]))([text(applicativeEvent.pure((()=>{if(u.data._1.title.tag==="Nothing")return"Untitled Track";if(u.data._1.title.tag==="Just")return u.data._1.title._1;fail$3()})()))])]))(o.availableRides))])])])]),roomIsFull=makePursx$p({reflectType:()=>`
<div>
  <h1>Sorry :(</h1>
  <p>It looks like four players have already joined this joyride. Pick another slug to get started.</p>
</div>
`})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({}),img=o=>u=>$Entity("Element'",elementify("img")(o)($Entity("FixedChildren'",zipWith(unsafeSetPos)(range(0)(u.length-1|0))(u)))),clamp=o=>u=>f=>{const d=ordNumber.compare(o)(f),m=(()=>{if(d.tag==="LT")return f;if(d.tag==="EQ"||d.tag==="GT")return o;fail$3()})(),h=ordNumber.compare(u)(m);if(h.tag==="LT"||h.tag==="EQ")return u;if(h.tag==="GT")return m;fail$3()},reverseOrientationDampening=o=>clamp(0)(100)(pow((o-.01)/.3)(.5)*100),$UISwitch=o=>({tag:o}),oneOf$1=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),eqMaybe={eq:o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?o._1===u._1:!1},click=click$7(attrOnClickEffectUnit),dedup2=dedup({eq:o=>u=>o.tag==="Nothing"?u.tag==="Nothing":o.tag==="Just"&&u.tag==="Just"?o._1.tag==="Nothing"?u._1.tag==="Nothing":o._1.tag==="Just"&&u._1.tag==="Just"?o._1._1===u._1._1:!1:!1}),NotSignedIn=$UISwitch("NotSignedIn"),SignedInButHasNotSetProfile=$UISwitch("SignedInButHasNotSetProfile"),SignedInAndHasSetProfile=$UISwitch("SignedInAndHasSetProfile"),settings=o=>$Entity("EventfulElement'",backdoor.bus(u=>f=>{const d=li(klass_(attrLi_ClassString)("p-3"))([h1(klass_(attrH1_ClassString)("text-lg text-slate-200"))([text(applicativeEvent.pure("Lateral speed"))]),div(klass_(attrDiv_ClassString)("flex flex-row p-3"))([span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure("\u{1F422}"))]),input(oneOf$1([(()=>{const h=sampleBy(functorEvent)($$const)(refToBehavior(o.dampeningRef))(applicativeEvent.pure(unit));return(g,y)=>h(g,_=>{const w={key:"value",value:$AttributeValue("Prop'",showNumberImpl(reverseOrientationDampening(_)))};return y(w)})})(),slider(applicativeEvent.pure(h=>{const g=pow(h/100)(2)*.3+.01;return()=>o.dampeningRef.value=g})),klass_(attrInput_ClassString)("appearance-none raaaange grow h-6 p-0 bg-transparent focus:outline-none focus:ring-0 focus:shadow-none")]))([]),span(klass_(attrSpan_ClassString)("text-white"))([text(applicativeEvent.pure("\u{1F407}"))])])]),m=li(klass_(attrLi_ClassString)("p-3"))([h1(klass_(attrH1_ClassString)("text-lg text-slate-200"))([text((()=>{const h=oneOf$1([applicativeEvent.pure(Nothing),dedup(eqMaybe)((g,y)=>o.myProfile(g,_=>y($Maybe("Just",_._1.username))))]);return(g,y)=>h(g,_=>{const w=(()=>{if(_.tag==="Nothing")return"Display name";if(_.tag==="Just")return"Display name: "+_._1;fail$3()})();return y(w)})})())]),div(klass_(attrDiv_ClassString)("flex flex-row p-3"))([div(klass_(attrDiv_ClassString)("grow"))([]),input(oneOf$1([applicativeEvent.pure({key:"placeholder",value:$AttributeValue("Prop'","Namey McName")}),applicativeEvent.pure({key:"@self@",value:$AttributeValue("Cb'",h=>{const g=_makeFiber(ffiUtil$1,applyAff.apply(_map(y=>identity$w)(_delay(Right,0)))(_liftEffect(u(h))));return()=>(g().run(),unit)})}),klass_(attrInput_ClassString)("shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),(()=>{const h=dedup(eqString)((g,y)=>o.myProfile(g,_=>y(_._1.username)));return(g,y)=>h(g,_=>y({key:"value",value:$AttributeValue("Prop'",_)}))})()]))([]),div(klass_(attrDiv_ClassString)("grow"))([])]),div(klass_(attrDiv_ClassString)("flex flex-row p-3"))([div(klass_(attrDiv_ClassString)("grow"))([]),button(oneOf$1([klass_(attrButton_ClassString)(buttonCls),click((h,g)=>f(h,y=>{const _=value(y);return g(()=>{const w=_();return w===""?bindE(windowImpl)(alert("Sorry, that username is not allowed. Please try another one!"))():(_makeFiber(ffiUtil$1,updateProfileUsernameAff(o.fbAuth)(o.firestoreDb)(w))().run(),unit)})}))]))([text(applicativeEvent.pure("Update name"))]),div(klass_(attrDiv_ClassString)("grow"))([])])]);return div(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","h-screen w-screen overflow-x-auto bg-zinc-900 absolute")})]))([div(oneOf$1([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","text-center")})]))([h2(klass_(attrH2_ClassString)("text-2xl text-slate-200 p-6"))([text(applicativeEvent.pure("Settings"))]),switcher(h=>{if(h.tag==="NotSignedIn")return ul(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))([d]);if(h.tag==="SignedInButHasNotSetProfile")return ul(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))([d,m]);if(h.tag==="SignedInAndHasSetProfile"){const g=y=>button(oneOf$1([klass_(attrButton_ClassString)(buttonCls),click(applicativeEvent.pure(()=>{const _=init();return pickerAccepting(["image/*"])(w=>()=>unit)(w=>$=>bindE(windowImpl)(alert("Not a valid image format. Please try again!")))(w=>$=>()=>unit)(w=>()=>(log("Uploaded avatar to: "+w.url)(),_makeFiber(ffiUtil$1,updateProfileAvatarURLAff(o.fbAuth)(o.firestoreDb)(w.url))().run(),unit))(_)()}))]))([text(applicativeEvent.pure(y))]);return ul(applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","")}))([d,m,li(klass_(attrLi_ClassString)("p-3"))([h1(klass_(attrH1_ClassString)("text-lg text-slate-200"))([text(applicativeEvent.pure("Avatar"))]),div(klass_(attrDiv_ClassString)("flex flex-row p-3"))([div(klass_(attrDiv_ClassString)("grow"))([]),switcher(y=>{if(y.tag==="Nothing")return g("Upload image");if(y.tag==="Just"){if(y._1.tag==="Nothing")return g("Upload image");if(y._1.tag==="Just")return div(oneOf$1([klass_(attrDiv_ClassString)("flex flex-col items-center")]))([img(oneOf$1([klass_(attrImg_ClassString)("object-cover rounded-full w-32 h-32"),applicativeEvent.pure({key:"src",value:$AttributeValue("Prop'",y._1._1)})]))([]),g("Change image")]);fail$3()}fail$3()})(dedup2(oneOf$1([applicativeEvent.pure(Nothing),(y,_)=>o.myProfile(y,w=>_($Maybe("Just",w._1.avatarURL)))]))),div(klass_(attrDiv_ClassString)("grow"))([])])])])}fail$3()})((()=>{const h=applyEvent.apply((g,y)=>o.signedInNonAnonymously(g,_=>{const w=Tuple(_);return y(w)}))((g,y)=>{const _=applicativeEvent.pure(Nothing)(g,y),w=o.myProfile(g,$=>y($Maybe("Just",$)));return()=>(_(),w())});return(g,y)=>h(g,_=>{const w=(()=>{if(_._1){if(_._2.tag==="Nothing")return SignedInButHasNotSetProfile;if(_._2.tag==="Just")return SignedInAndHasSetProfile;fail$3()}return NotSignedIn})();return y(w)})})())])])})),oneOf=(()=>foldrArray(altEvent.alt)(plusEvent.empty))(),sorryNeedPermissionPage=(()=>div(oneOf([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","absolute")})]))([div(oneOf([applicativeEvent.pure({key:"class",value:$AttributeValue("Prop'","z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")})]))([div(klass_(attrDiv_ClassString)("col-start-2 col-end-3 row-start-2 row-end-3"))([p$1(klass_(attrP_ClassString)("text-center text-2xl text-slate-200"))([text(applicativeEvent.pure("This application needs access to your device's orientation in order to function properly. If you change your mind about the orientation permission, please reload the page. Thanks for visiting!"))])])])]))(),$BeatNumber=o=>({tag:o}),$MeasureNumber=o=>({tag:o}),$MeasureNumberBeatNumber=o=>({tag:o}),M1B1=$MeasureNumberBeatNumber("M1B1"),M2B1=$MeasureNumberBeatNumber("M2B1"),M3B1=$MeasureNumberBeatNumber("M3B1"),M3B3=$MeasureNumberBeatNumber("M3B3"),M4B1=$MeasureNumberBeatNumber("M4B1"),M5B1=$MeasureNumberBeatNumber("M5B1"),M6B1=$MeasureNumberBeatNumber("M6B1"),M7B1=$MeasureNumberBeatNumber("M7B1"),M7B3=$MeasureNumberBeatNumber("M7B3"),M8B1=$MeasureNumberBeatNumber("M8B1"),M9B1=$MeasureNumberBeatNumber("M9B1"),M10B1=$MeasureNumberBeatNumber("M10B1"),M11B1=$MeasureNumberBeatNumber("M11B1"),M12B1=$MeasureNumberBeatNumber("M12B1"),M13B1=$MeasureNumberBeatNumber("M13B1"),M14B1=$MeasureNumberBeatNumber("M14B1"),M15B1=$MeasureNumberBeatNumber("M15B1"),M15B3=$MeasureNumberBeatNumber("M15B3"),M16B1=$MeasureNumberBeatNumber("M16B1"),M17B1=$MeasureNumberBeatNumber("M17B1"),M18B1=$MeasureNumberBeatNumber("M18B1"),M19B1=$MeasureNumberBeatNumber("M19B1"),M19B3=$MeasureNumberBeatNumber("M19B3"),M20B1=$MeasureNumberBeatNumber("M20B1"),M21B1=$MeasureNumberBeatNumber("M21B1"),M22B1=$MeasureNumberBeatNumber("M22B1"),M23B1=$MeasureNumberBeatNumber("M23B1"),M23B3=$MeasureNumberBeatNumber("M23B3"),M24B1=$MeasureNumberBeatNumber("M24B1"),M24B2=$MeasureNumberBeatNumber("M24B2"),M24B3=$MeasureNumberBeatNumber("M24B3"),M24B4=$MeasureNumberBeatNumber("M24B4"),M25B1=$MeasureNumberBeatNumber("M25B1"),M25B2=$MeasureNumberBeatNumber("M25B2"),M25B3=$MeasureNumberBeatNumber("M25B3"),M25B4=$MeasureNumberBeatNumber("M25B4"),M26B1=$MeasureNumberBeatNumber("M26B1"),M26B2=$MeasureNumberBeatNumber("M26B2"),M26B3=$MeasureNumberBeatNumber("M26B3"),M26B4=$MeasureNumberBeatNumber("M26B4"),M27B1=$MeasureNumberBeatNumber("M27B1"),M27B2=$MeasureNumberBeatNumber("M27B2"),M27B3=$MeasureNumberBeatNumber("M27B3"),M27B4=$MeasureNumberBeatNumber("M27B4"),M28B1=$MeasureNumberBeatNumber("M28B1"),M28B2=$MeasureNumberBeatNumber("M28B2"),M28B3=$MeasureNumberBeatNumber("M28B3"),M28B4=$MeasureNumberBeatNumber("M28B4"),M29B1=$MeasureNumberBeatNumber("M29B1"),M29B2=$MeasureNumberBeatNumber("M29B2"),M29B3=$MeasureNumberBeatNumber("M29B3"),M29B4=$MeasureNumberBeatNumber("M29B4"),M30B1=$MeasureNumberBeatNumber("M30B1"),M30B2=$MeasureNumberBeatNumber("M30B2"),M30B3=$MeasureNumberBeatNumber("M30B3"),M30B4=$MeasureNumberBeatNumber("M30B4"),M31B1=$MeasureNumberBeatNumber("M31B1"),M31B2=$MeasureNumberBeatNumber("M31B2"),M31B3=$MeasureNumberBeatNumber("M31B3"),M31B4=$MeasureNumberBeatNumber("M31B4"),M32B1=$MeasureNumberBeatNumber("M32B1"),M32B2=$MeasureNumberBeatNumber("M32B2"),M32B3=$MeasureNumberBeatNumber("M32B3"),M32B4=$MeasureNumberBeatNumber("M32B4"),M33B1=$MeasureNumberBeatNumber("M33B1"),M33B2=$MeasureNumberBeatNumber("M33B2"),M33B3=$MeasureNumberBeatNumber("M33B3"),M33B4=$MeasureNumberBeatNumber("M33B4"),M34B1=$MeasureNumberBeatNumber("M34B1"),M34B2=$MeasureNumberBeatNumber("M34B2"),M34B3=$MeasureNumberBeatNumber("M34B3"),M34B4=$MeasureNumberBeatNumber("M34B4"),M35B1=$MeasureNumberBeatNumber("M35B1"),M35B2=$MeasureNumberBeatNumber("M35B2"),M35B3=$MeasureNumberBeatNumber("M35B3"),M35B4=$MeasureNumberBeatNumber("M35B4"),M36B1=$MeasureNumberBeatNumber("M36B1"),M36B2=$MeasureNumberBeatNumber("M36B2"),M36B3=$MeasureNumberBeatNumber("M36B3"),M36B4=$MeasureNumberBeatNumber("M36B4"),M37B1=$MeasureNumberBeatNumber("M37B1"),M37B2=$MeasureNumberBeatNumber("M37B2"),M37B3=$MeasureNumberBeatNumber("M37B3"),M37B4=$MeasureNumberBeatNumber("M37B4"),M38B1=$MeasureNumberBeatNumber("M38B1"),M38B2=$MeasureNumberBeatNumber("M38B2"),M38B3=$MeasureNumberBeatNumber("M38B3"),M38B4=$MeasureNumberBeatNumber("M38B4"),M39B1=$MeasureNumberBeatNumber("M39B1"),M39B2=$MeasureNumberBeatNumber("M39B2"),M39B3=$MeasureNumberBeatNumber("M39B3"),M39B4=$MeasureNumberBeatNumber("M39B4"),M40B1=$MeasureNumberBeatNumber("M40B1"),M40B2=$MeasureNumberBeatNumber("M40B2"),M40B3=$MeasureNumberBeatNumber("M40B3"),M40B4=$MeasureNumberBeatNumber("M40B4"),M41B1=$MeasureNumberBeatNumber("M41B1"),M41B2=$MeasureNumberBeatNumber("M41B2"),M41B3=$MeasureNumberBeatNumber("M41B3"),M41B4=$MeasureNumberBeatNumber("M41B4"),M42B1=$MeasureNumberBeatNumber("M42B1"),M42B2=$MeasureNumberBeatNumber("M42B2"),M42B3=$MeasureNumberBeatNumber("M42B3"),M42B4=$MeasureNumberBeatNumber("M42B4"),M43B1=$MeasureNumberBeatNumber("M43B1"),M43B2=$MeasureNumberBeatNumber("M43B2"),M43B3=$MeasureNumberBeatNumber("M43B3"),M43B4=$MeasureNumberBeatNumber("M43B4"),M44B1=$MeasureNumberBeatNumber("M44B1"),M44B2=$MeasureNumberBeatNumber("M44B2"),M44B3=$MeasureNumberBeatNumber("M44B3"),M44B4=$MeasureNumberBeatNumber("M44B4"),M45B1=$MeasureNumberBeatNumber("M45B1"),M45B2=$MeasureNumberBeatNumber("M45B2"),M45B3=$MeasureNumberBeatNumber("M45B3"),M45B4=$MeasureNumberBeatNumber("M45B4"),M46B1=$MeasureNumberBeatNumber("M46B1"),M46B2=$MeasureNumberBeatNumber("M46B2"),M46B3=$MeasureNumberBeatNumber("M46B3"),M46B4=$MeasureNumberBeatNumber("M46B4"),M47B1=$MeasureNumberBeatNumber("M47B1"),M47B2=$MeasureNumberBeatNumber("M47B2"),M47B3=$MeasureNumberBeatNumber("M47B3"),M47B4=$MeasureNumberBeatNumber("M47B4"),M48B1=$MeasureNumberBeatNumber("M48B1"),M48B2=$MeasureNumberBeatNumber("M48B2"),M48B3=$MeasureNumberBeatNumber("M48B3"),M48B4=$MeasureNumberBeatNumber("M48B4"),M49B1=$MeasureNumberBeatNumber("M49B1"),M49B2=$MeasureNumberBeatNumber("M49B2"),M49B3=$MeasureNumberBeatNumber("M49B3"),M49B4=$MeasureNumberBeatNumber("M49B4"),M50B1=$MeasureNumberBeatNumber("M50B1"),M50B2=$MeasureNumberBeatNumber("M50B2"),M50B3=$MeasureNumberBeatNumber("M50B3"),M50B4=$MeasureNumberBeatNumber("M50B4"),M51B1=$MeasureNumberBeatNumber("M51B1"),M51B2=$MeasureNumberBeatNumber("M51B2"),M51B3=$MeasureNumberBeatNumber("M51B3"),M51B4=$MeasureNumberBeatNumber("M51B4"),M52B1=$MeasureNumberBeatNumber("M52B1"),M52B2=$MeasureNumberBeatNumber("M52B2"),M52B3=$MeasureNumberBeatNumber("M52B3"),M52B4=$MeasureNumberBeatNumber("M52B4"),M53B1=$MeasureNumberBeatNumber("M53B1"),M53B2=$MeasureNumberBeatNumber("M53B2"),M53B3=$MeasureNumberBeatNumber("M53B3"),M53B4=$MeasureNumberBeatNumber("M53B4"),M54B1=$MeasureNumberBeatNumber("M54B1"),M54B2=$MeasureNumberBeatNumber("M54B2"),M54B3=$MeasureNumberBeatNumber("M54B3"),M54B4=$MeasureNumberBeatNumber("M54B4"),M55B1=$MeasureNumberBeatNumber("M55B1"),M55B2=$MeasureNumberBeatNumber("M55B2"),M55B3=$MeasureNumberBeatNumber("M55B3"),M55B4=$MeasureNumberBeatNumber("M55B4"),M56B1=$MeasureNumberBeatNumber("M56B1"),M56B2=$MeasureNumberBeatNumber("M56B2"),M56B3=$MeasureNumberBeatNumber("M56B3"),M56B4=$MeasureNumberBeatNumber("M56B4"),M57B1=$MeasureNumberBeatNumber("M57B1"),M57B2=$MeasureNumberBeatNumber("M57B2"),M57B3=$MeasureNumberBeatNumber("M57B3"),M57B4=$MeasureNumberBeatNumber("M57B4"),M58B1=$MeasureNumberBeatNumber("M58B1"),M58B2=$MeasureNumberBeatNumber("M58B2"),M58B3=$MeasureNumberBeatNumber("M58B3"),M58B4=$MeasureNumberBeatNumber("M58B4"),M59B1=$MeasureNumberBeatNumber("M59B1"),M59B2=$MeasureNumberBeatNumber("M59B2"),M59B3=$MeasureNumberBeatNumber("M59B3"),M59B4=$MeasureNumberBeatNumber("M59B4"),M60B1=$MeasureNumberBeatNumber("M60B1"),M60B2=$MeasureNumberBeatNumber("M60B2"),M60B3=$MeasureNumberBeatNumber("M60B3"),M60B4=$MeasureNumberBeatNumber("M60B4"),M61B1=$MeasureNumberBeatNumber("M61B1"),M61B2=$MeasureNumberBeatNumber("M61B2"),M61B3=$MeasureNumberBeatNumber("M61B3"),M61B4=$MeasureNumberBeatNumber("M61B4"),M62B1=$MeasureNumberBeatNumber("M62B1"),M62B2=$MeasureNumberBeatNumber("M62B2"),M62B3=$MeasureNumberBeatNumber("M62B3"),M62B4=$MeasureNumberBeatNumber("M62B4"),M63B1=$MeasureNumberBeatNumber("M63B1"),M63B2=$MeasureNumberBeatNumber("M63B2"),M63B3=$MeasureNumberBeatNumber("M63B3"),M63B4=$MeasureNumberBeatNumber("M63B4"),M64B1=$MeasureNumberBeatNumber("M64B1"),M64B2=$MeasureNumberBeatNumber("M64B2"),M64B3=$MeasureNumberBeatNumber("M64B3"),M64B4=$MeasureNumberBeatNumber("M64B4"),M65B1=$MeasureNumberBeatNumber("M65B1"),M65B2=$MeasureNumberBeatNumber("M65B2"),M65B3=$MeasureNumberBeatNumber("M65B3"),M65B4=$MeasureNumberBeatNumber("M65B4"),M66B1=$MeasureNumberBeatNumber("M66B1"),M66B2=$MeasureNumberBeatNumber("M66B2"),M66B3=$MeasureNumberBeatNumber("M66B3"),M66B4=$MeasureNumberBeatNumber("M66B4"),M67B1=$MeasureNumberBeatNumber("M67B1"),M67B2=$MeasureNumberBeatNumber("M67B2"),M67B3=$MeasureNumberBeatNumber("M67B3"),M67B4=$MeasureNumberBeatNumber("M67B4"),M68B1=$MeasureNumberBeatNumber("M68B1"),M68B2=$MeasureNumberBeatNumber("M68B2"),M68B3=$MeasureNumberBeatNumber("M68B3"),M68B4=$MeasureNumberBeatNumber("M68B4"),M69B1=$MeasureNumberBeatNumber("M69B1"),M69B2=$MeasureNumberBeatNumber("M69B2"),M69B3=$MeasureNumberBeatNumber("M69B3"),M69B4=$MeasureNumberBeatNumber("M69B4"),M70B1=$MeasureNumberBeatNumber("M70B1"),M70B2=$MeasureNumberBeatNumber("M70B2"),M70B3=$MeasureNumberBeatNumber("M70B3"),M70B4=$MeasureNumberBeatNumber("M70B4"),M71B1=$MeasureNumberBeatNumber("M71B1"),M71B2=$MeasureNumberBeatNumber("M71B2"),M71B3=$MeasureNumberBeatNumber("M71B3"),M71B4=$MeasureNumberBeatNumber("M71B4"),M72B1=$MeasureNumberBeatNumber("M72B1"),M72B2=$MeasureNumberBeatNumber("M72B2"),M72B3=$MeasureNumberBeatNumber("M72B3"),M72B4=$MeasureNumberBeatNumber("M72B4"),M73B1=$MeasureNumberBeatNumber("M73B1"),M73B2=$MeasureNumberBeatNumber("M73B2"),M73B3=$MeasureNumberBeatNumber("M73B3"),M73B4=$MeasureNumberBeatNumber("M73B4"),M74B1=$MeasureNumberBeatNumber("M74B1"),M74B2=$MeasureNumberBeatNumber("M74B2"),M74B3=$MeasureNumberBeatNumber("M74B3"),M74B4=$MeasureNumberBeatNumber("M74B4"),M75B1=$MeasureNumberBeatNumber("M75B1"),M75B2=$MeasureNumberBeatNumber("M75B2"),M75B3=$MeasureNumberBeatNumber("M75B3"),M75B4=$MeasureNumberBeatNumber("M75B4"),M76B1=$MeasureNumberBeatNumber("M76B1"),M76B2=$MeasureNumberBeatNumber("M76B2"),M76B3=$MeasureNumberBeatNumber("M76B3"),M76B4=$MeasureNumberBeatNumber("M76B4"),M77B1=$MeasureNumberBeatNumber("M77B1"),M77B2=$MeasureNumberBeatNumber("M77B2"),M77B3=$MeasureNumberBeatNumber("M77B3"),M77B4=$MeasureNumberBeatNumber("M77B4"),M78B1=$MeasureNumberBeatNumber("M78B1"),M78B2=$MeasureNumberBeatNumber("M78B2"),M78B3=$MeasureNumberBeatNumber("M78B3"),M78B4=$MeasureNumberBeatNumber("M78B4"),M79B1=$MeasureNumberBeatNumber("M79B1"),M79B2=$MeasureNumberBeatNumber("M79B2"),M79B3=$MeasureNumberBeatNumber("M79B3"),M79B4=$MeasureNumberBeatNumber("M79B4"),M80B1=$MeasureNumberBeatNumber("M80B1"),M80B2=$MeasureNumberBeatNumber("M80B2"),M80B3=$MeasureNumberBeatNumber("M80B3"),M80B4=$MeasureNumberBeatNumber("M80B4"),M81B1=$MeasureNumberBeatNumber("M81B1"),M81B2=$MeasureNumberBeatNumber("M81B2"),M81B3=$MeasureNumberBeatNumber("M81B3"),M81B4=$MeasureNumberBeatNumber("M81B4"),M82B1=$MeasureNumberBeatNumber("M82B1"),M82B2=$MeasureNumberBeatNumber("M82B2"),M82B3=$MeasureNumberBeatNumber("M82B3"),M82B4=$MeasureNumberBeatNumber("M82B4"),M83B1=$MeasureNumberBeatNumber("M83B1"),M83B2=$MeasureNumberBeatNumber("M83B2"),M83B3=$MeasureNumberBeatNumber("M83B3"),M83B4=$MeasureNumberBeatNumber("M83B4"),M84B1=$MeasureNumberBeatNumber("M84B1"),M84B2=$MeasureNumberBeatNumber("M84B2"),M84B3=$MeasureNumberBeatNumber("M84B3"),M1=$MeasureNumber("M1"),M2=$MeasureNumber("M2"),M3=$MeasureNumber("M3"),M4=$MeasureNumber("M4"),M5=$MeasureNumber("M5"),M6=$MeasureNumber("M6"),M7=$MeasureNumber("M7"),M8=$MeasureNumber("M8"),M9=$MeasureNumber("M9"),M10=$MeasureNumber("M10"),M11=$MeasureNumber("M11"),M12=$MeasureNumber("M12"),M13=$MeasureNumber("M13"),M14=$MeasureNumber("M14"),M15=$MeasureNumber("M15"),M16=$MeasureNumber("M16"),M17=$MeasureNumber("M17"),M18=$MeasureNumber("M18"),M19=$MeasureNumber("M19"),M20=$MeasureNumber("M20"),M21=$MeasureNumber("M21"),M22=$MeasureNumber("M22"),M23=$MeasureNumber("M23"),M24=$MeasureNumber("M24"),M25=$MeasureNumber("M25"),M26=$MeasureNumber("M26"),M27=$MeasureNumber("M27"),M28=$MeasureNumber("M28"),M29=$MeasureNumber("M29"),M30=$MeasureNumber("M30"),M31=$MeasureNumber("M31"),M32=$MeasureNumber("M32"),M33=$MeasureNumber("M33"),M34=$MeasureNumber("M34"),M35=$MeasureNumber("M35"),M36=$MeasureNumber("M36"),M37=$MeasureNumber("M37"),M38=$MeasureNumber("M38"),M39=$MeasureNumber("M39"),M40=$MeasureNumber("M40"),M41=$MeasureNumber("M41"),M42=$MeasureNumber("M42"),M43=$MeasureNumber("M43"),M44=$MeasureNumber("M44"),M45=$MeasureNumber("M45"),M46=$MeasureNumber("M46"),M47=$MeasureNumber("M47"),M48=$MeasureNumber("M48"),M49=$MeasureNumber("M49"),M50=$MeasureNumber("M50"),M51=$MeasureNumber("M51"),M52=$MeasureNumber("M52"),M53=$MeasureNumber("M53"),M54=$MeasureNumber("M54"),M55=$MeasureNumber("M55"),M56=$MeasureNumber("M56"),M57=$MeasureNumber("M57"),M58=$MeasureNumber("M58"),M59=$MeasureNumber("M59"),M60=$MeasureNumber("M60"),M61=$MeasureNumber("M61"),M62=$MeasureNumber("M62"),M63=$MeasureNumber("M63"),M64=$MeasureNumber("M64"),M65=$MeasureNumber("M65"),M66=$MeasureNumber("M66"),M67=$MeasureNumber("M67"),M68=$MeasureNumber("M68"),M69=$MeasureNumber("M69"),M70=$MeasureNumber("M70"),M71=$MeasureNumber("M71"),M72=$MeasureNumber("M72"),M73=$MeasureNumber("M73"),M74=$MeasureNumber("M74"),M75=$MeasureNumber("M75"),M76=$MeasureNumber("M76"),M77=$MeasureNumber("M77"),M78=$MeasureNumber("M78"),M79=$MeasureNumber("M79"),M80=$MeasureNumber("M80"),M81=$MeasureNumber("M81"),M82=$MeasureNumber("M82"),M83=$MeasureNumber("M83"),M84=$MeasureNumber("M84"),B1=$BeatNumber("B1"),B2=$BeatNumber("B2"),B3=$BeatNumber("B3"),B4=$BeatNumber("B4"),mb2info=o=>{if(o.tag==="M1B1")return{t:6.941271,b:B1,m:M1,mb:M1B1};if(o.tag==="M2B1")return{t:8.45158,b:B1,m:M2,mb:M2B1};if(o.tag==="M3B1")return{t:9.913475,b:B1,m:M3,mb:M3B1};if(o.tag==="M3B3")return{t:10.615054,b:B3,m:M3,mb:M3B3};if(o.tag==="M4B1")return{t:11.349264,b:B1,m:M4,mb:M4B1};if(o.tag==="M5B1")return{t:12.726317,b:B1,m:M5,mb:M5B1};if(o.tag==="M6B1")return{t:14.149054,b:B1,m:M6,mb:M6B1};if(o.tag==="M7B1")return{t:15.548949,b:B1,m:M7,mb:M7B1};if(o.tag==="M7B3")return{t:16.253791,b:B3,m:M7,mb:M7B3};if(o.tag==="M8B1")return{t:16.96516,b:B1,m:M8,mb:M8B1};if(o.tag==="M9B1")return{t:18.394423,b:B1,m:M9,mb:M9B1};if(o.tag==="M10B1")return{t:19.751897,b:B1,m:M10,mb:M10B1};if(o.tag==="M11B1")return{t:21.177897,b:B1,m:M11,mb:M11B1};if(o.tag==="M12B1")return{t:22.577792,b:B1,m:M12,mb:M12B1};if(o.tag==="M13B1")return{t:24.000529,b:B1,m:M13,mb:M13B1};if(o.tag==="M14B1")return{t:25.393897,b:B1,m:M14,mb:M14B1};if(o.tag==="M15B1")return{t:26.806845,b:B1,m:M15,mb:M15B1};if(o.tag==="M15B3")return{t:27.482318,b:B3,m:M15,mb:M15B3};if(o.tag==="M16B1")return{t:28.177371,b:B1,m:M16,mb:M16B1};if(o.tag==="M17B1")return{t:29.528319,b:B1,m:M17,mb:M17B1};if(o.tag==="M18B1")return{t:30.921687,b:B1,m:M18,mb:M18B1};if(o.tag==="M19B1")return{t:32.253056,b:B1,m:M19,mb:M19B1};if(o.tag==="M19B3")return{t:32.92853,b:B3,m:M19,mb:M19B3};if(o.tag==="M20B1")return{t:33.604003,b:B1,m:M20,mb:M20B1};if(o.tag==="M21B1")return{t:34.948424,b:B1,m:M21,mb:M21B1};if(o.tag==="M22B1")return{t:36.270004,b:B1,m:M22,mb:M22B1};if(o.tag==="M23B1")return{t:37.630741,b:B1,m:M23,mb:M23B1};if(o.tag==="M23B3")return{t:38.293162,b:B3,m:M23,mb:M23B3};if(o.tag==="M24B1")return{t:38.981688,b:B1,m:M24,mb:M24B1};if(o.tag==="M24B2")return{t:39.32432,b:B2,m:M24,mb:M24B2};if(o.tag==="M24B3")return{t:39.666951,b:B3,m:M24,mb:M24B3};if(o.tag==="M24B4")return{t:40.009583,b:B4,m:M24,mb:M24B4};if(o.tag==="M25B1")return{t:40.319583,b:B1,m:M25,mb:M25B1};if(o.tag==="M25B2")return{t:40.685057,b:B2,m:M25,mb:M25B2};if(o.tag==="M25B3")return{t:40.982004,b:B3,m:M25,mb:M25B3};if(o.tag==="M25B4")return{t:41.24632,b:B4,m:M25,mb:M25B4};if(o.tag==="M26B1")return{t:41.660741,b:B1,m:M26,mb:M26B1};if(o.tag==="M26B2")return{t:42.016425,b:B2,m:M26,mb:M26B2};if(o.tag==="M26B3")return{t:42.332952,b:B3,m:M26,mb:M26B3};if(o.tag==="M26B4")return{t:42.659267,b:B4,m:M26,mb:M26B4};if(o.tag==="M27B1")return{t:42.985583,b:B1,m:M27,mb:M27B1};if(o.tag==="M27B2")return{t:43.318425,b:B2,m:M27,mb:M27B2};if(o.tag==="M27B3")return{t:43.621899,b:B3,m:M27,mb:M27B3};if(o.tag==="M27B4")return{t:43.961267,b:B4,m:M27,mb:M27B4};if(o.tag==="M28B1")return{t:44.290846,b:B1,m:M28,mb:M28B1};if(o.tag==="M28B2")return{t:44.633478,b:B2,m:M28,mb:M28B2};if(o.tag==="M28B3")return{t:44.953268,b:B3,m:M28,mb:M28B3};if(o.tag==="M28B4")return{t:45.28611,b:B4,m:M28,mb:M28B4};if(o.tag==="M29B1")return{t:45.615689,b:B1,m:M29,mb:M29B1};if(o.tag==="M29B2")return{t:45.964847,b:B2,m:M29,mb:M29B2};if(o.tag==="M29B3")return{t:46.297689,b:B3,m:M29,mb:M29B3};if(o.tag==="M29B4")return{t:46.64032,b:B4,m:M29,mb:M29B4};if(o.tag==="M30B1")return{t:46.953584,b:B1,m:M30,mb:M30B1};if(o.tag==="M30B2")return{t:47.279899,b:B2,m:M30,mb:M30B2};if(o.tag==="M30B3")return{t:47.619268,b:B3,m:M30,mb:M30B3};if(o.tag==="M30B4")return{t:47.965163,b:B4,m:M30,mb:M30B4};if(o.tag==="M31B1")return{t:48.249057,b:B1,m:M31,mb:M31B1};if(o.tag==="M31B2")return{t:48.585163,b:B2,m:M31,mb:M31B2};if(o.tag==="M31B3")return{t:48.901689,b:B3,m:M31,mb:M31B3};if(o.tag==="M31B4")return{t:49.273689,b:B4,m:M31,mb:M31B4};if(o.tag==="M32B1")return{t:49.567373,b:B1,m:M32,mb:M32B1};if(o.tag==="M32B2")return{t:49.910005,b:B2,m:M32,mb:M32B2};if(o.tag==="M32B3")return{t:50.229794,b:B3,m:M32,mb:M32B3};if(o.tag==="M32B4")return{t:50.569163,b:B4,m:M32,mb:M32B4};if(o.tag==="M33B1")return{t:50.892216,b:B1,m:M33,mb:M33B1};if(o.tag==="M33B2")return{t:51.234847,b:B2,m:M33,mb:M33B2};if(o.tag==="M33B3")return{t:51.554637,b:B3,m:M33,mb:M33B3};if(o.tag==="M33B4")return{t:51.890742,b:B4,m:M33,mb:M33B4};if(o.tag==="M34B1")return{t:52.220321,b:B1,m:M34,mb:M34B1};if(o.tag==="M34B2")return{t:52.536847,b:B2,m:M34,mb:M34B2};if(o.tag==="M34B3")return{t:52.853374,b:B3,m:M34,mb:M34B3};if(o.tag==="M34B4")return{t:53.196005,b:B4,m:M34,mb:M34B4};if(o.tag==="M35B1")return{t:53.512532,b:B1,m:M35,mb:M35B1};if(o.tag==="M35B2")return{t:53.8519,b:B2,m:M35,mb:M35B2};if(o.tag==="M35B3")return{t:54.17169,b:B3,m:M35,mb:M35B3};if(o.tag==="M35B4")return{t:54.507795,b:B4,m:M35,mb:M35B4};if(o.tag==="M36B1")return{t:54.817795,b:B1,m:M36,mb:M36B1};if(o.tag==="M36B2")return{t:55.144111,b:B2,m:M36,mb:M36B2};if(o.tag==="M36B3")return{t:55.457374,b:B3,m:M36,mb:M36B3};if(o.tag==="M36B4")return{t:55.777163,b:B4,m:M36,mb:M36B4};if(o.tag==="M37B1")return{t:56.090427,b:B1,m:M37,mb:M37B1};if(o.tag==="M37B2")return{t:56.413479,b:B2,m:M37,mb:M37B2};if(o.tag==="M37B3")return{t:56.733269,b:B3,m:M37,mb:M37B3};if(o.tag==="M37B4")return{t:57.0759,b:B4,m:M37,mb:M37B4};if(o.tag==="M38B1")return{t:57.39569,b:B1,m:M38,mb:M38B1};if(o.tag==="M38B2")return{t:57.722006,b:B2,m:M38,mb:M38B2};if(o.tag==="M38B3")return{t:58.032006,b:B3,m:M38,mb:M38B3};if(o.tag==="M38B4")return{t:58.358322,b:B4,m:M38,mb:M38B4};if(o.tag==="M39B1")return{t:58.678111,b:B1,m:M39,mb:M39B1};if(o.tag==="M39B2")return{t:58.988111,b:B2,m:M39,mb:M39B2};if(o.tag==="M39B3")return{t:59.307901,b:B3,m:M39,mb:M39B3};if(o.tag==="M39B4")return{t:59.644006,b:B4,m:M39,mb:M39B4};if(o.tag==="M40B1")return{t:59.960532,b:B1,m:M40,mb:M40B1};if(o.tag==="M40B2")return{t:60.296637,b:B2,m:M40,mb:M40B2};if(o.tag==="M40B3")return{t:60.622953,b:B3,m:M40,mb:M40B3};if(o.tag==="M40B4")return{t:60.955795,b:B4,m:M40,mb:M40B4};if(o.tag==="M41B1")return{t:61.278848,b:B1,m:M41,mb:M41B1};if(o.tag==="M41B2")return{t:61.595374,b:B2,m:M41,mb:M41B2};if(o.tag==="M41B3")return{t:61.905374,b:B3,m:M41,mb:M41B3};if(o.tag==="M41B4")return{t:62.24148,b:B4,m:M41,mb:M41B4};if(o.tag==="M42B1")return{t:62.544953,b:B1,m:M42,mb:M42B1};if(o.tag==="M42B2")return{t:62.874532,b:B2,m:M42,mb:M42B2};if(o.tag==="M42B3")return{t:63.194322,b:B3,m:M42,mb:M42B3};if(o.tag==="M42B4")return{t:63.494533,b:B4,m:M42,mb:M42B4};if(o.tag==="M43B1")return{t:63.807796,b:B1,m:M43,mb:M43B1};if(o.tag==="M43B2")return{t:64.140638,b:B2,m:M43,mb:M43B2};if(o.tag==="M43B3")return{t:64.450638,b:B3,m:M43,mb:M43B3};if(o.tag==="M43B4")return{t:64.770427,b:B4,m:M43,mb:M43B4};if(o.tag==="M44B1")return{t:65.10327,b:B1,m:M44,mb:M44B1};if(o.tag==="M44B2")return{t:65.445901,b:B2,m:M44,mb:M44B2};if(o.tag==="M44B3")return{t:65.77548,b:B3,m:M44,mb:M44B3};if(o.tag==="M44B4")return{t:66.088743,b:B4,m:M44,mb:M44B4};if(o.tag==="M45B1")return{t:66.411796,b:B1,m:M45,mb:M45B1};if(o.tag==="M45B2")return{t:66.728322,b:B2,m:M45,mb:M45B2};if(o.tag==="M45B3")return{t:67.041586,b:B3,m:M45,mb:M45B3};if(o.tag==="M45B4")return{t:67.371164,b:B4,m:M45,mb:M45B4};if(o.tag==="M46B1")return{t:67.655059,b:B1,m:M46,mb:M46B1};if(o.tag==="M46B2")return{t:67.987901,b:B2,m:M46,mb:M46B2};if(o.tag==="M46B3")return{t:68.310954,b:B3,m:M46,mb:M46B3};if(o.tag==="M46B4")return{t:68.62748,b:B4,m:M46,mb:M46B4};if(o.tag==="M47B1")return{t:68.924428,b:B1,m:M47,mb:M47B1};if(o.tag==="M47B2")return{t:69.244217,b:B2,m:M47,mb:M47B2};if(o.tag==="M47B3")return{t:69.573796,b:B3,m:M47,mb:M47B3};if(o.tag==="M47B4")return{t:69.913165,b:B4,m:M47,mb:M47B4};if(o.tag==="M48B1")return{t:70.216638,b:B1,m:M48,mb:M48B1};if(o.tag==="M48B2")return{t:70.533165,b:B2,m:M48,mb:M48B2};if(o.tag==="M48B3")return{t:70.859481,b:B3,m:M48,mb:M48B3};if(o.tag==="M48B4")return{t:71.185796,b:B4,m:M48,mb:M48B4};if(o.tag==="M49B1")return{t:71.495796,b:B1,m:M49,mb:M49B1};if(o.tag==="M49B2")return{t:71.828639,b:B2,m:M49,mb:M49B2};if(o.tag==="M49B3")return{t:72.145165,b:B3,m:M49,mb:M49B3};if(o.tag==="M49B4")return{t:72.500849,b:B4,m:M49,mb:M49B4};if(o.tag==="M50B1")return{t:72.794533,b:B1,m:M50,mb:M50B1};if(o.tag==="M50B2")return{t:73.117586,b:B2,m:M50,mb:M50B2};if(o.tag==="M50B3")return{t:73.414534,b:B3,m:M50,mb:M50B3};if(o.tag==="M50B4")return{t:73.773481,b:B4,m:M50,mb:M50B4};if(o.tag==="M51B1")return{t:74.050849,b:B1,m:M51,mb:M51B1};if(o.tag==="M51B2")return{t:74.377165,b:B2,m:M51,mb:M51B2};if(o.tag==="M51B3")return{t:74.664323,b:B3,m:M51,mb:M51B3};if(o.tag==="M51B4")return{t:74.984113,b:B4,m:M51,mb:M51B4};if(o.tag==="M52B1")return{t:75.300639,b:B1,m:M52,mb:M52B1};if(o.tag==="M52B2")return{t:75.623692,b:B2,m:M52,mb:M52B2};if(o.tag==="M52B3")return{t:75.953271,b:B3,m:M52,mb:M52B3};if(o.tag==="M52B4")return{t:76.217586,b:B4,m:M52,mb:M52B4};if(o.tag==="M53B1")return{t:76.517797,b:B1,m:M53,mb:M53B1};if(o.tag==="M53B2")return{t:76.866955,b:B2,m:M53,mb:M53B2};if(o.tag==="M53B3")return{t:77.167165,b:B3,m:M53,mb:M53B3};if(o.tag==="M53B4")return{t:77.500008,b:B4,m:M53,mb:M53B4};if(o.tag==="M54B1")return{t:77.806744,b:B1,m:M54,mb:M54B1};if(o.tag==="M54B2")return{t:78.159166,b:B2,m:M54,mb:M54B2};if(o.tag==="M54B3")return{t:78.475692,b:B3,m:M54,mb:M54B3};if(o.tag==="M54B4")return{t:78.834639,b:B4,m:M54,mb:M54B4};if(o.tag==="M55B1")return{t:79.13485,b:B1,m:M55,mb:M55B1};if(o.tag==="M55B2")return{t:79.464429,b:B2,m:M55,mb:M55B2};if(o.tag==="M55B3")return{t:79.774429,b:B3,m:M55,mb:M55B3};if(o.tag==="M55B4")return{t:80.097482,b:B4,m:M55,mb:M55B4};if(o.tag==="M56B1")return{t:80.433587,b:B1,m:M56,mb:M56B1};if(o.tag==="M56B2")return{t:80.750113,b:B2,m:M56,mb:M56B2};if(o.tag==="M56B3")return{t:81.069903,b:B3,m:M56,mb:M56B3};if(o.tag==="M56B4")return{t:81.392955,b:B4,m:M56,mb:M56B4};if(o.tag==="M57B1")return{t:81.702955,b:B1,m:M57,mb:M57B1};if(o.tag==="M57B2")return{t:82.045587,b:B2,m:M57,mb:M57B2};if(o.tag==="M57B3")return{t:82.342534,b:B3,m:M57,mb:M57B3};if(o.tag==="M57B4")return{t:82.67864,b:B4,m:M57,mb:M57B4};if(o.tag==="M58B1")return{t:83.004956,b:B1,m:M58,mb:M58B1};if(o.tag==="M58B2")return{t:83.292113,b:B2,m:M58,mb:M58B2};if(o.tag==="M58B3")return{t:83.634745,b:B3,m:M58,mb:M58B3};if(o.tag==="M58B4")return{t:83.983903,b:B4,m:M58,mb:M58B4};if(o.tag==="M59B1")return{t:84.264535,b:B1,m:M59,mb:M59B1};if(o.tag==="M59B2")return{t:84.597377,b:B2,m:M59,mb:M59B2};if(o.tag==="M59B3")return{t:84.913903,b:B3,m:M59,mb:M59B3};if(o.tag==="M59B4")return{t:85.276114,b:B4,m:M59,mb:M59B4};if(o.tag==="M60B1")return{t:85.589377,b:B1,m:M60,mb:M60B1};if(o.tag==="M60B2")return{t:85.892851,b:B2,m:M60,mb:M60B2};if(o.tag==="M60B3")return{t:86.206114,b:B3,m:M60,mb:M60B3};if(o.tag==="M60B4")return{t:86.565061,b:B4,m:M60,mb:M60B4};if(o.tag==="M61B1")return{t:86.855482,b:B1,m:M61,mb:M61B1};if(o.tag==="M61B2")return{t:87.185061,b:B2,m:M61,mb:M61B2};if(o.tag==="M61B3")return{t:87.495061,b:B3,m:M61,mb:M61B3};if(o.tag==="M61B4")return{t:87.854009,b:B4,m:M61,mb:M61B4};if(o.tag==="M62B1")return{t:88.186851,b:B1,m:M62,mb:M62B1};if(o.tag==="M62B2")return{t:88.490324,b:B2,m:M62,mb:M62B2};if(o.tag==="M62B3")return{t:88.784009,b:B3,m:M62,mb:M62B3};if(o.tag==="M62B4")return{t:89.097272,b:B4,m:M62,mb:M62B4};if(o.tag==="M63B1")return{t:89.449693,b:B1,m:M63,mb:M63B1};if(o.tag==="M63B2")return{t:89.805377,b:B2,m:M63,mb:M63B2};if(o.tag==="M63B3")return{t:90.102325,b:B3,m:M63,mb:M63B3};if(o.tag==="M63B4")return{t:90.458009,b:B4,m:M63,mb:M63B4};if(o.tag==="M64B1")return{t:90.774535,b:B1,m:M64,mb:M64B1};if(o.tag==="M64B2")return{t:91.100851,b:B2,m:M64,mb:M64B2};if(o.tag==="M64B3")return{t:91.423904,b:B3,m:M64,mb:M64B3};if(o.tag==="M64B4")return{t:91.746956,b:B4,m:M64,mb:M64B4};if(o.tag==="M65B1")return{t:92.043904,b:B1,m:M65,mb:M65B1};if(o.tag==="M65B2")return{t:92.389799,b:B2,m:M65,mb:M65B2};if(o.tag==="M65B3")return{t:92.706325,b:B3,m:M65,mb:M65B3};if(o.tag==="M65B4")return{t:93.032641,b:B4,m:M65,mb:M65B4};if(o.tag==="M66B1")return{t:93.316535,b:B1,m:M66,mb:M66B1};if(o.tag==="M66B2")return{t:93.67222,b:B2,m:M66,mb:M66B2};if(o.tag==="M66B3")return{t:93.956114,b:B3,m:M66,mb:M66B3};if(o.tag==="M66B4")return{t:94.288957,b:B4,m:M66,mb:M66B4};if(o.tag==="M67B1")return{t:94.615272,b:B1,m:M67,mb:M67B1};if(o.tag==="M67B2")return{t:94.948115,b:B2,m:M67,mb:M67B2};if(o.tag==="M67B3")return{t:95.218957,b:B3,m:M67,mb:M67B3};if(o.tag==="M67B4")return{t:95.590957,b:B4,m:M67,mb:M67B4};if(o.tag==="M68B1")return{t:95.910746,b:B1,m:M68,mb:M68B1};if(o.tag==="M68B2")return{t:96.230536,b:B2,m:M68,mb:M68B2};if(o.tag==="M68B3")return{t:96.556852,b:B3,m:M68,mb:M68B3};if(o.tag==="M68B4")return{t:96.873378,b:B4,m:M68,mb:M68B4};if(o.tag==="M69B1")return{t:97.183378,b:B1,m:M69,mb:M69B1};if(o.tag==="M69B2")return{t:97.532536,b:B2,m:M69,mb:M69B2};if(o.tag==="M69B3")return{t:97.842536,b:B3,m:M69,mb:M69B3};if(o.tag==="M69B4")return{t:98.162325,b:B4,m:M69,mb:M69B4};if(o.tag==="M70B1")return{t:98.436431,b:B1,m:M70,mb:M70B1};if(o.tag==="M70B2")return{t:98.782325,b:B2,m:M70,mb:M70B2};if(o.tag==="M70B3")return{t:99.082536,b:B3,m:M70,mb:M70B3};if(o.tag==="M70B4")return{t:99.392536,b:B4,m:M70,mb:M70B4};if(o.tag==="M71B1")return{t:99.679694,b:B1,m:M71,mb:M71B1};if(o.tag==="M71B2")return{t:100.019062,b:B2,m:M71,mb:M71B2};if(o.tag==="M71B3")return{t:100.329062,b:B3,m:M71,mb:M71B3};if(o.tag==="M71B4")return{t:100.635799,b:B4,m:M71,mb:M71B4};if(o.tag==="M72B1")return{t:100.945799,b:B1,m:M72,mb:M72B1};if(o.tag==="M72B2")return{t:101.301484,b:B2,m:M72,mb:M72B2};if(o.tag==="M72B3")return{t:101.650642,b:B3,m:M72,mb:M72B3};if(o.tag==="M72B4")return{t:101.931273,b:B4,m:M72,mb:M72B4};if(o.tag==="M73B1")return{t:102.224957,b:B1,m:M73,mb:M73B1};if(o.tag==="M73B2")return{t:102.515378,b:B2,m:M73,mb:M73B2};if(o.tag==="M73B3")return{t:102.776431,b:B3,m:M73,mb:M73B3};if(o.tag==="M73B4")return{t:103.099484,b:B4,m:M73,mb:M73B4};if(o.tag==="M74B1")return{t:103.4878,b:B1,m:M74,mb:M74B1};if(o.tag==="M74B2")return{t:103.830431,b:B2,m:M74,mb:M74B2};if(o.tag==="M74B3")return{t:104.150221,b:B3,m:M74,mb:M74B3};if(o.tag==="M74B4")return{t:104.466747,b:B4,m:M74,mb:M74B4};if(o.tag==="M75B1")return{t:104.760431,b:B1,m:M75,mb:M75B1};if(o.tag==="M75B2")return{t:105.031273,b:B2,m:M75,mb:M75B2};if(o.tag==="M75B3")return{t:105.383695,b:B3,m:M75,mb:M75B3};if(o.tag==="M75B4")return{t:105.729589,b:B4,m:M75,mb:M75B4};if(o.tag==="M76B1")return{t:106.023274,b:B1,m:M76,mb:M76B1};if(o.tag==="M76B2")return{t:106.343063,b:B2,m:M76,mb:M76B2};if(o.tag==="M76B3")return{t:106.6498,b:B3,m:M76,mb:M76B3};if(o.tag==="M76B4")return{t:106.972853,b:B4,m:M76,mb:M76B4};if(o.tag==="M77B1")return{t:107.292642,b:B1,m:M77,mb:M77B1};if(o.tag==="M77B2")return{t:107.638537,b:B2,m:M77,mb:M77B2};if(o.tag==="M77B3")return{t:107.912642,b:B3,m:M77,mb:M77B3};if(o.tag==="M77B4")return{t:108.268326,b:B4,m:M77,mb:M77B4};if(o.tag==="M78B1")return{t:108.565274,b:B1,m:M78,mb:M78B1};if(o.tag==="M78B2")return{t:108.901379,b:B2,m:M78,mb:M78B2};if(o.tag==="M78B3")return{t:109.230958,b:B3,m:M78,mb:M78B3};if(o.tag==="M78B4")return{t:109.547484,b:B4,m:M78,mb:M78B4};if(o.tag==="M79B1")return{t:109.837906,b:B1,m:M79,mb:M79B1};if(o.tag==="M79B2")return{t:110.203379,b:B2,m:M79,mb:M79B2};if(o.tag==="M79B3")return{t:110.519906,b:B3,m:M79,mb:M79B3};if(o.tag==="M79B4")return{t:110.849485,b:B4,m:M79,mb:M79B4};if(o.tag==="M80B1")return{t:111.12359,b:B1,m:M80,mb:M80B1};if(o.tag==="M80B2")return{t:111.453169,b:B2,m:M80,mb:M80B2};if(o.tag==="M80B3")return{t:111.772958,b:B3,m:M80,mb:M80B3};if(o.tag==="M80B4")return{t:112.089485,b:B4,m:M80,mb:M80B4};if(o.tag==="M81B1")return{t:112.36359,b:B1,m:M81,mb:M81B1};if(o.tag==="M81B2")return{t:112.712748,b:B2,m:M81,mb:M81B2};if(o.tag==="M81B3")return{t:113.019485,b:B3,m:M81,mb:M81B3};if(o.tag==="M81B4")return{t:113.339274,b:B4,m:M81,mb:M81B4};if(o.tag==="M82B1")return{t:113.636222,b:B1,m:M82,mb:M82B1};if(o.tag==="M82B2")return{t:113.965801,b:B2,m:M82,mb:M82B2};if(o.tag==="M82B3")return{t:114.275801,b:B3,m:M82,mb:M82B3};if(o.tag==="M82B4")return{t:114.608643,b:B4,m:M82,mb:M82B4};if(o.tag==="M83B1")return{t:114.895801,b:B1,m:M83,mb:M83B1};if(o.tag==="M83B2")return{t:115.22538,b:B2,m:M83,mb:M83B2};if(o.tag==="M83B3")return{t:115.52559,b:B3,m:M83,mb:M83B3};if(o.tag==="M83B4")return{t:115.83559,b:B4,m:M83,mb:M83B4};if(o.tag==="M84B1")return{t:116.15538,b:B1,m:M84,mb:M84B1};if(o.tag==="M84B2")return{t:116.481696,b:B2,m:M84,mb:M84B2};if(o.tag==="M84B3")return{t:116.850433,b:B3,m:M84,mb:M84B3};fail$3()},tmpLeapScore=(()=>[{column:C7,hitsFirstPositionAt:mb2info(M16B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M18B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M20B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M21B1).t,position:Position4},{column:C7,hitsFirstPositionAt:mb2info(M22B1).t,position:Position2},{column:C8,hitsFirstPositionAt:mb2info(M23B1).t,position:Position3},{column:C7,hitsFirstPositionAt:mb2info(M24B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M25B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M26B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M26B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M27B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M27B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M29B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M29B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M30B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M30B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M31B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M32B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M33B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M34B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M35B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M36B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M37B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M38B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M39B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M40B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M41B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M42B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M43B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M44B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M45B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M46B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M47B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M48B3).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M49B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M50B3).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M51B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M51B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M51B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M51B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M55B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M55B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M55B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M55B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M59B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M59B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M59B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M59B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M63B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M63B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M63B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M63B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M67B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M67B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M67B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M67B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M71B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M71B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M71B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M71B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M75B1).t,position:Position2},{column:C7,hitsFirstPositionAt:mb2info(M75B1).t,position:Position3},{column:C12,hitsFirstPositionAt:mb2info(M75B1).t,position:Position1},{column:C8,hitsFirstPositionAt:mb2info(M75B1).t,position:Position4},{column:C3,hitsFirstPositionAt:mb2info(M79B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M79B1).t,position:Position1},{column:C3,hitsFirstPositionAt:mb2info(M83B1).t,position:Position2},{column:C12,hitsFirstPositionAt:mb2info(M83B1).t,position:Position1}])(),tmpLongScore=(()=>[{column:C10,hitsFirstPositionAt:mb2info(M29B1).t,length:1.25,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M33B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M36B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M39B1).t,length:1.5,tag:"shakuhachi3"},{column:C10,hitsFirstPositionAt:mb2info(M42B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M45B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M48B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M51B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M53B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M55B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M57B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M59B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M61B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M63B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M65B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M67B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M69B1).t,length:1.75,tag:"shakuhachi0"},{column:C2,hitsFirstPositionAt:mb2info(M72B1).t,length:1.5,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M75B1).t,length:1.25,tag:"shakuhachi2"},{column:C2,hitsFirstPositionAt:mb2info(M78B1).t,length:1,tag:"shakuhachi1"},{column:C10,hitsFirstPositionAt:mb2info(M81B1).t,length:1.75,tag:"shakuhachi0"}])(),beats2=[$Tuple(C6,$Tuple(M1B1,$Tuple(M2B1,$Tuple(M3B1,M4B1)))),$Tuple(C9,$Tuple(M5B1,$Tuple(M6B1,$Tuple(M7B1,M8B1)))),$Tuple(C6,$Tuple(M9B1,$Tuple(M10B1,$Tuple(M11B1,M12B1)))),$Tuple(C4,$Tuple(M10B1,$Tuple(M11B1,$Tuple(M12B1,M13B1)))),$Tuple(C6,$Tuple(M11B1,$Tuple(M12B1,$Tuple(M13B1,M14B1)))),$Tuple(C9,$Tuple(M12B1,$Tuple(M13B1,$Tuple(M14B1,M15B1)))),$Tuple(C11,$Tuple(M13B1,$Tuple(M14B1,$Tuple(M15B1,M16B1)))),$Tuple(C9,$Tuple(M14B1,$Tuple(M15B1,$Tuple(M16B1,M17B1)))),$Tuple(C6,$Tuple(M15B1,$Tuple(M16B1,$Tuple(M17B1,M18B1)))),$Tuple(C4,$Tuple(M16B1,$Tuple(M17B1,$Tuple(M18B1,M19B1)))),$Tuple(C6,$Tuple(M17B1,$Tuple(M18B1,$Tuple(M19B1,M20B1)))),$Tuple(C9,$Tuple(M18B1,$Tuple(M19B1,$Tuple(M20B1,M21B1)))),$Tuple(C11,$Tuple(M19B1,$Tuple(M20B1,$Tuple(M21B1,M22B1)))),$Tuple(C9,$Tuple(M20B1,$Tuple(M21B1,$Tuple(M22B1,M23B1)))),$Tuple(C6,$Tuple(M21B1,$Tuple(M22B1,$Tuple(M23B1,M24B1)))),$Tuple(C4,$Tuple(M22B1,$Tuple(M23B1,$Tuple(M24B1,M25B1)))),$Tuple(C6,$Tuple(M23B1,$Tuple(M24B1,$Tuple(M25B1,M26B1)))),$Tuple(C9,$Tuple(M24B1,$Tuple(M25B1,$Tuple(M26B1,M27B1)))),$Tuple(C4,$Tuple(M24B3,$Tuple(M25B3,$Tuple(M26B3,M27B3)))),$Tuple(C6,$Tuple(M25B1,$Tuple(M26B1,$Tuple(M27B1,M28B1)))),$Tuple(C11,$Tuple(M25B3,$Tuple(M26B3,$Tuple(M27B3,M28B3)))),$Tuple(C9,$Tuple(M26B1,$Tuple(M27B1,$Tuple(M28B1,M29B1)))),$Tuple(C4,$Tuple(M26B3,$Tuple(M27B3,$Tuple(M28B3,M29B3)))),$Tuple(C6,$Tuple(M27B1,$Tuple(M28B1,$Tuple(M29B1,M30B1)))),$Tuple(C11,$Tuple(M27B3,$Tuple(M28B3,$Tuple(M29B3,M30B3)))),$Tuple(C9,$Tuple(M28B1,$Tuple(M29B1,$Tuple(M30B1,M31B1)))),$Tuple(C4,$Tuple(M28B3,$Tuple(M29B3,$Tuple(M30B3,M31B3)))),$Tuple(C6,$Tuple(M29B1,$Tuple(M30B1,$Tuple(M31B1,M32B1)))),$Tuple(C11,$Tuple(M29B3,$Tuple(M30B3,$Tuple(M31B3,M32B3)))),$Tuple(C9,$Tuple(M30B1,$Tuple(M31B1,$Tuple(M32B1,M33B1)))),$Tuple(C4,$Tuple(M30B3,$Tuple(M31B3,$Tuple(M32B3,M33B3)))),$Tuple(C6,$Tuple(M31B1,$Tuple(M32B1,$Tuple(M33B1,M34B1)))),$Tuple(C11,$Tuple(M31B3,$Tuple(M32B3,$Tuple(M33B3,M34B3)))),$Tuple(C9,$Tuple(M32B1,$Tuple(M33B1,$Tuple(M34B1,M35B1)))),$Tuple(C4,$Tuple(M33B1,$Tuple(M33B3,$Tuple(M34B1,M34B3)))),$Tuple(C6,$Tuple(M34B1,$Tuple(M35B1,$Tuple(M36B1,M37B1)))),$Tuple(C11,$Tuple(M35B1,$Tuple(M35B3,$Tuple(M36B1,M37B3)))),$Tuple(C4,$Tuple(M36B1,$Tuple(M37B1,$Tuple(M38B1,M39B1)))),$Tuple(C9,$Tuple(M37B1,$Tuple(M37B3,$Tuple(M38B1,M38B3)))),$Tuple(C11,$Tuple(M38B1,$Tuple(M39B1,$Tuple(M40B1,M41B1)))),$Tuple(C6,$Tuple(M39B1,$Tuple(M39B3,$Tuple(M40B1,M40B3)))),$Tuple(C1,$Tuple(M40B1,$Tuple(M42B1,$Tuple(M44B1,M46B1)))),$Tuple(C9,$Tuple(M40B1,$Tuple(M41B1,$Tuple(M42B1,M43B1)))),$Tuple(C4,$Tuple(M41B1,$Tuple(M41B3,$Tuple(M42B1,M42B3)))),$Tuple(C6,$Tuple(M42B1,$Tuple(M43B1,$Tuple(M44B1,M45B1)))),$Tuple(C11,$Tuple(M43B1,$Tuple(M43B3,$Tuple(M44B1,M44B3)))),$Tuple(C15,$Tuple(M44B1,$Tuple(M46B1,$Tuple(M48B1,M50B1)))),$Tuple(C4,$Tuple(M44B1,$Tuple(M45B1,$Tuple(M46B1,M47B1)))),$Tuple(C9,$Tuple(M45B1,$Tuple(M45B3,$Tuple(M46B1,M46B3)))),$Tuple(C11,$Tuple(M46B1,$Tuple(M47B1,$Tuple(M48B1,M49B1)))),$Tuple(C6,$Tuple(M47B1,$Tuple(M47B3,$Tuple(M48B1,M49B3)))),$Tuple(C9,$Tuple(M48B1,$Tuple(M48B3,$Tuple(M49B1,M49B3)))),$Tuple(C6,$Tuple(M48B2,$Tuple(M48B4,$Tuple(M49B2,M49B4)))),$Tuple(C9,$Tuple(M48B3,$Tuple(M49B1,$Tuple(M49B3,M50B1)))),$Tuple(C6,$Tuple(M48B4,$Tuple(M49B2,$Tuple(M49B4,M50B2)))),$Tuple(C9,$Tuple(M49B1,$Tuple(M49B3,$Tuple(M50B1,M50B3)))),$Tuple(C6,$Tuple(M49B2,$Tuple(M49B4,$Tuple(M50B2,M50B4)))),$Tuple(C9,$Tuple(M49B3,$Tuple(M50B1,$Tuple(M50B3,M51B1)))),$Tuple(C6,$Tuple(M49B4,$Tuple(M50B2,$Tuple(M50B4,M51B2)))),$Tuple(C9,$Tuple(M50B1,$Tuple(M50B3,$Tuple(M51B1,M51B3)))),$Tuple(C6,$Tuple(M50B2,$Tuple(M50B4,$Tuple(M51B2,M51B4)))),$Tuple(C9,$Tuple(M50B3,$Tuple(M51B1,$Tuple(M51B3,M52B1)))),$Tuple(C6,$Tuple(M50B4,$Tuple(M51B2,$Tuple(M51B4,M52B2)))),$Tuple(C9,$Tuple(M51B1,$Tuple(M51B3,$Tuple(M52B1,M52B3)))),$Tuple(C6,$Tuple(M51B2,$Tuple(M51B4,$Tuple(M52B2,M52B4)))),$Tuple(C9,$Tuple(M51B3,$Tuple(M52B1,$Tuple(M52B3,M53B1)))),$Tuple(C6,$Tuple(M51B4,$Tuple(M52B2,$Tuple(M52B4,M53B2)))),$Tuple(C9,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C11,$Tuple(M52B1,$Tuple(M52B2,$Tuple(M52B3,M52B4)))),$Tuple(C6,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C4,$Tuple(M53B1,$Tuple(M53B2,$Tuple(M53B3,M53B4)))),$Tuple(C9,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C11,$Tuple(M54B1,$Tuple(M54B2,$Tuple(M54B3,M54B4)))),$Tuple(C6,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C4,$Tuple(M55B1,$Tuple(M55B2,$Tuple(M55B3,M55B4)))),$Tuple(C1,$Tuple(M56B1,$Tuple(M57B1,$Tuple(M58B1,M59B1)))),$Tuple(C9,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M56B3,M56B4)))),$Tuple(C11,$Tuple(M56B1,$Tuple(M56B2,$Tuple(M57B3,M57B4)))),$Tuple(C6,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C4,$Tuple(M57B1,$Tuple(M57B2,$Tuple(M57B3,M57B4)))),$Tuple(C15,$Tuple(M58B1,$Tuple(M59B1,$Tuple(M60B1,M61B1)))),$Tuple(C9,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C11,$Tuple(M58B1,$Tuple(M58B2,$Tuple(M58B3,M58B4)))),$Tuple(C6,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C4,$Tuple(M59B1,$Tuple(M59B2,$Tuple(M59B3,M59B4)))),$Tuple(C11,$Tuple(M60B1,$Tuple(M60B2,$Tuple(M60B3,M60B4)))),$Tuple(C9,$Tuple(M60B2,$Tuple(M60B3,$Tuple(M60B4,M61B1)))),$Tuple(C6,$Tuple(M61B1,$Tuple(M61B2,$Tuple(M61B3,M61B4)))),$Tuple(C4,$Tuple(M61B2,$Tuple(M61B3,$Tuple(M61B4,M62B1)))),$Tuple(C11,$Tuple(M62B1,$Tuple(M62B2,$Tuple(M62B3,M63B1)))),$Tuple(C9,$Tuple(M62B2,$Tuple(M62B3,$Tuple(M62B4,M63B3)))),$Tuple(C6,$Tuple(M63B1,$Tuple(M63B2,$Tuple(M63B3,M63B4)))),$Tuple(C4,$Tuple(M63B2,$Tuple(M63B3,$Tuple(M63B4,M64B3)))),$Tuple(C11,$Tuple(M64B1,$Tuple(M64B2,$Tuple(M64B3,M64B4)))),$Tuple(C9,$Tuple(M64B2,$Tuple(M64B3,$Tuple(M64B4,M65B1)))),$Tuple(C6,$Tuple(M65B1,$Tuple(M65B2,$Tuple(M65B3,M65B4)))),$Tuple(C4,$Tuple(M65B2,$Tuple(M65B3,$Tuple(M65B4,M66B1)))),$Tuple(C11,$Tuple(M66B1,$Tuple(M66B2,$Tuple(M66B3,M67B1)))),$Tuple(C9,$Tuple(M66B2,$Tuple(M66B3,$Tuple(M66B4,M67B3)))),$Tuple(C6,$Tuple(M67B1,$Tuple(M67B2,$Tuple(M67B3,M67B4)))),$Tuple(C4,$Tuple(M67B2,$Tuple(M67B3,$Tuple(M67B4,M68B1)))),$Tuple(C4,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C6,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C9,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C11,$Tuple(M68B1,$Tuple(M68B2,$Tuple(M68B3,M68B4)))),$Tuple(C4,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C6,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C9,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C11,$Tuple(M69B1,$Tuple(M69B2,$Tuple(M69B3,M69B4)))),$Tuple(C4,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C6,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C9,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C11,$Tuple(M70B1,$Tuple(M70B2,$Tuple(M70B3,M70B4)))),$Tuple(C4,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C6,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C9,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C11,$Tuple(M71B1,$Tuple(M71B2,$Tuple(M71B3,M71B4)))),$Tuple(C4,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C6,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C9,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C11,$Tuple(M71B3,$Tuple(M71B4,$Tuple(M72B1,M72B2)))),$Tuple(C4,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C6,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C9,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C11,$Tuple(M72B1,$Tuple(M72B2,$Tuple(M72B3,M72B4)))),$Tuple(C4,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C6,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C9,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C11,$Tuple(M72B3,$Tuple(M72B4,$Tuple(M73B1,M73B2)))),$Tuple(C4,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C6,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C9,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C11,$Tuple(M73B1,$Tuple(M73B2,$Tuple(M73B3,M73B4)))),$Tuple(C4,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C6,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C9,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C11,$Tuple(M73B2,$Tuple(M73B3,$Tuple(M73B4,M74B1)))),$Tuple(C4,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C6,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C9,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C11,$Tuple(M73B3,$Tuple(M73B4,$Tuple(M74B1,M74B2)))),$Tuple(C4,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C6,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C9,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C11,$Tuple(M73B4,$Tuple(M74B1,$Tuple(M74B2,M74B3)))),$Tuple(C4,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C6,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C9,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C11,$Tuple(M74B1,$Tuple(M74B2,$Tuple(M74B3,M74B4)))),$Tuple(C4,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C6,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C9,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C11,$Tuple(M74B3,$Tuple(M74B4,$Tuple(M75B1,M75B2)))),$Tuple(C4,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C6,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C9,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C11,$Tuple(M75B1,$Tuple(M75B3,$Tuple(M76B1,M76B3)))),$Tuple(C4,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C6,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C9,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C11,$Tuple(M75B3,$Tuple(M76B1,$Tuple(M76B3,M77B1)))),$Tuple(C4,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C9,$Tuple(M76B1,$Tuple(M76B3,$Tuple(M77B1,M77B3)))),$Tuple(C6,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C11,$Tuple(M76B3,$Tuple(M77B1,$Tuple(M77B3,M78B1)))),$Tuple(C6,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C9,$Tuple(M77B1,$Tuple(M77B3,$Tuple(M78B1,M78B3)))),$Tuple(C6,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C9,$Tuple(M79B1,$Tuple(M79B3,$Tuple(M80B1,M80B3)))),$Tuple(C6,$Tuple(M80B1,$Tuple(M80B3,$Tuple(M81B1,M81B3)))),$Tuple(C9,$Tuple(M81B1,$Tuple(M81B3,$Tuple(M82B1,M82B3)))),$Tuple(C6,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3)))),$Tuple(C9,$Tuple(M82B1,$Tuple(M82B3,$Tuple(M83B1,M83B3))))],tutorialScore=toAugmentedEvents(arrayMap(EventV0)(arrayBind([arrayMap(o=>$EventV0("BasicEventV0",{marker1AudioURL:Nothing,marker1Time:mb2info(o._2._1).t,marker2AudioURL:Nothing,marker2Time:mb2info(o._2._2._1).t,marker3AudioURL:Nothing,marker3Time:mb2info(o._2._2._2._1).t,marker4AudioURL:Nothing,marker4Time:mb2info(o._2._2._2._2).t,name:Nothing,column:semigroupColumn.append(o._1)(C1),version:$Version(0)}))(beats2),arrayMap(o=>$EventV0("LeapEventV0",{audioURL:$Maybe("Just","floorTom"),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,position:o.position,version:$Version(0)}))(tmpLeapScore),arrayMap(o=>$EventV0("LongEventV0",{audioURL:$Maybe("Just",o.tag),column:semigroupColumn.append(o.column)(C1),marker1Time:o.hitsFirstPositionAt,marker2Time:o.hitsFirstPositionAt+5,name:Nothing,length:o.length,version:$Version(0)}))(tmpLongScore)])(identity$v))),$TopLevelDisplay=(o,u,f)=>({tag:o,_1:u,_2:f}),startingWith=o=>u=>(f,d)=>{const m=applicativeEvent.pure(o)(f,d),h=u(f,d);return()=>(m(),h())},TLWillNotWorkWithoutOrientation=$TopLevelDisplay("TLWillNotWorkWithoutOrientation"),TLLoading=$TopLevelDisplay("TLLoading"),TLGameHasStarted=$TopLevelDisplay("TLGameHasStarted"),TLRoomIsFull=$TopLevelDisplay("TLRoomIsFull"),eqTopLevelDisplay={eq:o=>u=>o.tag==="TLExplainer"?u.tag==="TLExplainer":o.tag==="TLLoading"?u.tag==="TLLoading":o.tag==="TLRoomIsFull"?u.tag==="TLRoomIsFull":o.tag==="TLGameHasStarted"?u.tag==="TLGameHasStarted":o.tag==="TLSuccess"?u.tag==="TLSuccess":!1},toplevel=o=>switcher(u=>{if(u.tag==="TLNeedsOrientation")return orientationPermissionPage({givePermission:o.givePermission,rideTrack:u._1});if(u.tag==="TLChooseRide")return availableRides({availableRides:u._1,navigateTo:u._2});if(u.tag==="TLSettings")return settings(u._1);if(u.tag==="TLWillNotWorkWithoutOrientation")return sorryNeedPermissionPage;if(u.tag==="TLExplainer")return explainerPage({ride:o.ride,editor:o.editor,tutorial:o.tutorial,isMobile:o.isMobile,cnow:u._1.cNow,stats:u._1.stats,signOut:u._1.signOut,resizeE:o.resizeE,initialDims:u._1.initialDims,fbAuth:u._1.fbAuth,firestoreDb:u._1.firestoreDb,threeDI:u._1.threeDI,cubeTextures:u._1.cubeTextures,signedInNonAnonymously:u._1.signedInNonAnonymously});if(u.tag==="TLOpenEditor")return editorPage(o)(u._1.oe)(u._1.wt);if(u.tag==="TLLoading")return loadingPage;if(u.tag==="TLRoomIsFull")return roomIsFull;if(u.tag==="TLGameHasStarted")return gameHasStarted;if(u.tag==="TLWantsTutorial")return tutorial$1(o)({basicE:rideBasics(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),leapE:rideLeaps(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),longE:rideLongs(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(tutorialScore))),baseFileOffsetInSeconds:0,bgtrack:"tutorial",isPreviewPage:Nothing})(u._1);if(u.tag==="TLSuccess")return ride(o)({basicE:rideBasics(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedBasicEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),leapE:rideLeaps(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLeapEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),longE:rideLongs(sortBy$1(f=>d=>ordNumber.compare(f.marker1Time)(d.marker1Time))(mapMaybe(f=>f._1.tag==="AugmentedLongEventV0"?$Maybe("Just",f._1._1):Nothing)(u._1.events))),bgtrack:u._1.track._1.url,baseFileOffsetInSeconds:0})(u._1);fail$3()})(dedup(eqTopLevelDisplay)((()=>{const u=applyEvent.apply((f,d)=>startingWith(!1)(o.loaded)(f,m=>d(h=>({loaded:m,negotiation:h}))))(startingWith(PageLoad)(o.negotiation));return(f,d)=>u(f,m=>{const h=(()=>{if(m.negotiation.tag==="NeedsOrientation")return $TopLevelDisplay("TLNeedsOrientation",m.negotiation._1);if(m.negotiation.tag==="WillNotWorkWithoutOrientation")return TLWillNotWorkWithoutOrientation;if(m.negotiation.tag==="GetRulesOfGame")return $TopLevelDisplay("TLExplainer",m.negotiation._1);if(m.negotiation.tag==="SetSomeStuff")return $TopLevelDisplay("TLSettings",m.negotiation._1);if(m.negotiation.tag==="ChooseRide")return $TopLevelDisplay("TLChooseRide",m.negotiation._1,m.negotiation._2);if(!m.loaded||m.negotiation.tag==="PageLoad"||m.negotiation.tag==="StartingNegotiation")return TLLoading;if(m.negotiation.tag==="RoomIsFull")return TLRoomIsFull;if(m.negotiation.tag==="GameHasStarted")return TLGameHasStarted;if(m.negotiation.tag==="RequestingPlayer"||m.negotiation.tag==="ReceivedPossibilities")return TLLoading;if(m.negotiation.tag==="ClaimFail")return TLRoomIsFull;if(m.loaded){if(m.negotiation.tag==="Success")return $TopLevelDisplay("TLSuccess",m.negotiation._1);if(m.negotiation.tag==="WantsTutorial")return $TopLevelDisplay("TLWantsTutorial",m.negotiation._1);if(m.negotiation.tag==="OpenEditor")return $TopLevelDisplay("TLOpenEditor",m.negotiation._1);fail$3()}fail$3()})();return d(h)})})())),writeToRecordImpl=function(o){return function(u){return function(f){return function(){f.value[o]=u}}}},readFromRecordImpl=function(o){return function(u){return function(){return u.value[o]}}},traverse_$2=traverse_$9(applicativeEffect)(foldableMaybe),mempty=o=>()=>unit,burningWhenHot=()=>{const o={value:[]},u={value:Nothing};return{event:backdoor.makeEvent(f=>()=>{const d={value:f},m=o.value;return o.value=concatArray(m)([d]),bindE(()=>u.value)(traverse_$2(f))(),()=>{d.value=mempty;const h=o.value;return o.value=deleteBy(reallyUnsafeRefEq)(d)(h),unit}}),push:f=>()=>{u.value=$Maybe("Just",f);const d=o.value;return foreachE(d)(m=>()=>{const h=m.value;return h(f)()})()}}};function code(o){return o.code}const traverse_$1=traverse_$9(applicativeEffect)(foldableMaybe),posFromKeypress=o=>u=>{if(o.time.tag==="Nothing")return 0;if(o.time.tag==="Just"){const f=o.dampening*pow((u-o.time._1)*.001)(2)/2;if(o.curXDir.tag==="Still")return o.pos;if(o.curXDir.tag==="ToLeft")return-2*f+o.pos;if(o.curXDir.tag==="ToRight")return 2*f+o.pos;fail$3()}fail$3()},xForKeyboard=o=>u=>f=>d=>()=>{const m=create(),h={value:{curXDir:Still,time:Nothing,pos:0,dampening:.77}},g=w=>eventListener((()=>{const $=traverse_$1(v=>{const b=code(v),M=(()=>w?Still:b==="ArrowLeft"?ToLeft:ToRight)();return b==="ArrowLeft"||b==="ArrowRight"?()=>{const P=o(),I=h.value,S=h.value=(()=>(()=>I.curXDir.tag==="ToLeft"?M.tag==="ToLeft":I.curXDir.tag==="ToRight"?M.tag==="ToRight":I.curXDir.tag==="Still"?M.tag==="Still":!1)()?I:{curXDir:M,time:$Maybe("Just",P),pos:posFromKeypress(I)(P),dampening:I.dampening})();return m.push(S)(),d($PlayerAction("XPositionKeyboard",{ktpd:S,player:f}))()}:()=>unit});return v=>$(_unsafeReadProtoTagged(Nothing,Just,"KeyboardEvent",v))})()),y=g(!1)(),_=g(!0)();return addEventListener("keydown")(y)(!0)(u)(),addEventListener("keyup")(_)(!0)(u)(),(w,$)=>m.event(w,v=>$(b=>posFromKeypress(v)(b.epochTime)))},firebaseAnalytics=o=>()=>__vitePreload(()=>import("./index.esm.7b1f59e2.js"),["assets/index.esm.7b1f59e2.js","assets/index.esm2017.c37818b2.js"]).then(({getAnalytics:u})=>u(o)),firebaseConfig={apiKey:"AIzaSyBwnikO21-Mmj0WKLEwLYQ801X5MsJkmCw",authDomain:"joyri-de.firebaseapp.com",projectId:"joyri-de",storageBucket:"joyri-de.appspot.com",messagingSenderId:"58052920677",databaseURL:"https://joyri-de-default-rtdb.europe-west1.firebasedatabase.app/",appId:"1:58052920677:web:7bd22ca2a8b3e0423e8d8c",measurementId:"G-G6P7FY8QWJ"},firebaseApp=()=>__vitePreload(()=>import("./index.esm.8e5e7caf.js"),["assets/index.esm.8e5e7caf.js","assets/index.esm2017.c37818b2.js"]).then(({initializeApp:o})=>o(firebaseConfig)),firebaseAppAff=_bind(_liftEffect(firebaseApp))(toAff$p(coerce)),$ParFold=()=>({tag:"ParFold"}),ParFold=$ParFold(),foldingWithIndexParFoldPr=()=>o=>()=>({foldingWithIndex:u=>f=>d=>m=>_parAffApply(_parAffMap(insert(o)()()(f))(m))(d)}),guiImpl=()=>__vitePreload(()=>import("./lil-gui.esm.47a06ea7.js"),[]).then(o=>new o.default),mockGui=()=>({add:()=>{},addColor:()=>{}}),linkUpGuiImpl=o=>u=>()=>{const f={value:{}},d=f.value;for(const[m,h]of Object.entries(u))h.type==="slider"?(d[m]=h.v.default,o.add(d,m,h.v.min,h.v.max,h.v.step)):h.type==="numeric"||h.type==="checkbox"?(d[m]=h.v,o.add(d,m)):h.type==="color"&&(d[m]=h.v,o.addColor(d,m));return f},$Guiables=()=>({tag:"Guiables"}),$Tuple1=()=>({tag:"Tuple1"}),writeImpl=(()=>{const o=consWriteForeignFields$1({reflectSymbol:()=>"type"})(writeForeignString)(consWriteForeignFields$1({reflectSymbol:()=>"v"})((()=>{const u=consWriteForeignFields$1({reflectSymbol:()=>"default"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"max"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"min"})(writeForeignNumber)(consWriteForeignFields$1({reflectSymbol:()=>"step"})(writeForeignNumber)(nilWriteForeignFields)()()())()()())()()())()()();return{writeImpl:f=>u.writeImplFields($$Proxy)(f)({})}})())(nilWriteForeignFields)()()())()()();return u=>o.writeImplFields($$Proxy)(u)({})})(),Tuple1=$Tuple1(),Guiables=$Guiables(),mappingTuple2={mapping:o=>snd},mappingTuple1={mapping:o=>fst},guiableSlider={guiable:o=>$Tuple(writeImpl({type:"slider",v:o}),o.default)},gui$p=o=>u=>f=>d=>m=>_bind(d)(h=>_liftEffect(linkUpGuiImpl(h)(u.hmap(Tuple1)(o.hmap(Guiables)(m))))),noGui=o=>u=>f=>d=>_map(m=>({debug:!1,renderingInfo:m}))(gui$p(o)(u)(f)(_liftEffect(mockGui))(d)),gui=o=>u=>f=>d=>_map(m=>({debug:!0,renderingInfo:m}))(gui$p(o)(u)(f)(_bind(_liftEffect(guiImpl))(toAff$p(coerce)))(d)),parTraverse$1=(()=>{const o=traversableList.traverse(applicativeParAff);return u=>{const f=o(d=>u(d));return d=>_sequential(f(d))}})(),sequence$1=(()=>traversableTuple.sequence(applicativeAff))(),fromFoldable$1=fromFoldable$8(foldableList),dlInChunks=o=>u=>f=>d=>m=>{const h=g=>y=>{const _=span$1(w=>w._1<g)(y);return _bind(parTraverse$1((()=>{const w=functorTuple.map((()=>{const $=_throwError(error$1("Could not download file"));return v=>{const b=_lookup(Nothing,Just,v,o);if(b.tag==="Nothing")return $;if(b.tag==="Just")return decodeAudioDataFromUri(d)(b._1);fail$3()}})());return $=>sequence$1(w($))})())(listMap(w=>$Tuple(w._2._1,w._2._2))(_.init)))(w=>_bind(_liftEffect((()=>{const $=union(fromFoldable$1(w));return()=>{const v=m.value;return m.value=$(v),unit}})()))(()=>{const $=h(g+u|0)(_.rest);return _.rest.tag!=="Nil"?$:_pure(unit)}))};return h(u)(foldableWithIndexList.foldrWithIndex(g=>y=>_=>$List("Cons",$Tuple(g,y),_))(Nil)(f))},sfc32=o=>{let u=o.a,f=o.b,d=o.c,m=o.d;u>>>=0,f>>>=0,d>>>=0,m>>>=0;var h=u+f|0;return u=f^f>>>9,f=d+(d<<3)|0,d=d<<21|d>>>11,m=m+1|0,h=h+m|0,d=d+h|0,{r:(h>>>0)/4294967296,a:u,b:f,c:d,d:m}},cyrb128=o=>{let u=1779033703,f=3144134277,d=1013904242,m=2773480762;for(let h=0,g;h<o.length;h++)g=o.charCodeAt(h),u=f^Math.imul(u^g,597399067),f=d^Math.imul(f^g,2869860233),d=m^Math.imul(d^g,951274213),m=u^Math.imul(m^g,2716044179);return u=Math.imul(d^u>>>18,597399067),f=Math.imul(m^f>>>22,2869860233),d=Math.imul(u^d>>>17,951274213),m=Math.imul(f^m>>>19,2716044179),{a:(u^f^d^m)>>>0,b:(f^u)>>>0,c:(d^u)>>>0,d:(m^u)>>>0}},fold=(()=>foldableArray.foldMap(monoidString)(identity$t))(),sequence=(()=>traversableArray.traverse(applicativeEffect)(identity$r))(),randId$p=o=>{const u=sequence(replicate$1(o)((()=>{const f=randomInt(0)(9);return()=>{const d=f();return showIntImpl(d)}})()));return()=>{const f=u();return fold(f)}},randId=randId$p(32),bufferAttributesImpl=o=>u=>f=>d=>m=>{const h={};for(let _=0;_<u.length;_++)h[u[_].k]=new Float32Array(o*u[_].n);let g=d;for(let _=0;_<o;_++){const w=m(_)(g),$=w.l;g=w.r;for(let v=0;v<u.length;v++){const b=u[v].k,M=u[v].n,P=_*M;for(let I=0;I<M;I++)h[b][P+I]=$[b][I]}}const y={};for(let _=0;_<u.length;_++)y[u[_].k]=new f(h[u[_].k],u[_].n);return y},instancedBufferAttributes1={internalDoNotUseBA:o=>$Tuple([],$$Proxy)},instancedBufferAttributes2=o=>u=>f=>({internalDoNotUseBA:d=>$Tuple(concatArray([{k:u.reflectSymbol($$Proxy),n:f.reflectType($$Proxy)}])(o.internalDoNotUseBA($$Proxy)._1),$$Proxy)}),instancedBufferAttributes$1=o=>()=>()=>u=>f=>d=>m=>h=>bufferAttributesImpl(o.reflectType(f))(u.internalDoNotUseBA($$Proxy)._1)(d)(m)(g=>{const y=h(g);return _=>{const w=y(_);return{l:w._1,r:w._2}}}),Reflectable$Dict={reflectType:()=>3},instancedBufferAttributes=instancedBufferAttributes$1({reflectType:()=>2e3})()()(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes2(instancedBufferAttributes1)({reflectSymbol:()=>"aPosition2"})(Reflectable$Dict))({reflectSymbol:()=>"aPosition"})(Reflectable$Dict))({reflectSymbol:()=>"aColor2"})(Reflectable$Dict))({reflectSymbol:()=>"aColor"})(Reflectable$Dict)),makeGalaxyAttributes=o=>instancedBufferAttributes($$Proxy)(o)(cyrb128("galaxy"))(u=>f=>{const d=sfc32(sfc32(sfc32(f))),m=sfc32(d),h=sfc32(m),g=sfc32(h),y=sfc32(g),_=sfc32(y),w=sfc32(_),$=sfc32(w),v=sfc32($),b=sfc32(v),M=sfc32(b),P=sfc32(M);return $Tuple({aPosition:[d.r*2-1,h.r*2-1,y.r*2-1],aPosition2:[m.r*2-1,g.r*2-1,_.r*2-1],aColor:[w.r,v.r,M.r],aColor2:[$.r,b.r,P.r]},unsafeDelete$1("r")(P))});var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(o){return typeof o=="string"&&REGEX.test(o)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(byteToHex[o[u+0]]+byteToHex[o[u+1]]+byteToHex[o[u+2]]+byteToHex[o[u+3]]+"-"+byteToHex[o[u+4]]+byteToHex[o[u+5]]+"-"+byteToHex[o[u+6]]+byteToHex[o[u+7]]+"-"+byteToHex[o[u+8]]+byteToHex[o[u+9]]+"-"+byteToHex[o[u+10]]+byteToHex[o[u+11]]+byteToHex[o[u+12]]+byteToHex[o[u+13]]+byteToHex[o[u+14]]+byteToHex[o[u+15]]).toLowerCase();if(!validate(f))throw TypeError("Stringified UUID is invalid");return f}function v4(o,u,f){o=o||{};var d=o.random||(o.rng||rng)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u){f=f||0;for(var m=0;m<16;++m)u[f+m]=d[m];return u}return stringify(d)}const _PubNub=()=>__vitePreload(()=>import("./pubnub.min.5692ff0a.js").then(o=>o.p),[]),pubnub_=o=>u=>f=>function(){var d=v4(),m=new o.default({publishKey:"pub-c-672671ca-ea5d-4c31-9bbf-1c123cddfa2b",subscribeKey:"sub-c-9e61eeea-570c-48cd-8088-ad367df0dcf7",uuid:d});return m.subscribe({channels:[u]}),m.addListener({message:function(h){var g=Object.assign({},h);g.timetoken=parseInt(g.timetoken)/1e4,g.publisher!==d&&f(g)()}}),m},publish_=o=>function(u){return function(f){return function(){o.publish({channel:u,message:f})}}},messageIsSymbol={reflectSymbol:()=>"message"},actionIsSymbol={reflectSymbol:()=>"action"},iAmIsSymbol={reflectSymbol:()=>"iAm"},publisherIsSymbol={reflectSymbol:()=>"publisher"},timetokenIsSymbol={reflectSymbol:()=>"timetoken"},show=(()=>showNonEmptyList$1(showForeignError).show)(),recordWriteForeign1=(()=>{const o=consWriteForeignFields$1(actionIsSymbol)(fromJSONPubNubPlayerAction)(consWriteForeignFields$1(iAmIsSymbol)(writeForeignString)(nilWriteForeignFields)()()())()()();return{writeImpl:u=>o.writeImplFields($$Proxy)(u)({})}})(),toJSONPubNubEvent=readRecord()(readFieldsCons$1(messageIsSymbol)(readRecord()(readFieldsCons$1(actionIsSymbol)(toJSONPubNubPlayerAction)(readFieldsCons$1(iAmIsSymbol)(readString)(readFieldsNil)()())()()))(readFieldsCons$1(publisherIsSymbol)(readString)(readFieldsCons$1(timetokenIsSymbol)(readNumber)(readFieldsNil)()())()())()()),pubnubE=o=>u=>f=>pubnub_(o)(u)(d=>bindE((()=>{const m=toJSONPubNubEvent.readImpl(d);if(m.tag==="Left")return throwException(error$1(show(m._1)));if(m.tag==="Right")return()=>m._1;fail$3()})())(f)),pubnub=o=>u=>_bind(_bind(_liftEffect(_PubNub))(toAff$p(coerce)))(f=>_bind(_liftEffect(create))(d=>_bind(_liftEffect(pubnubE(f)(u)(m=>d.push(m))))(m=>_pure({event:d.event,publish:h=>publish_(m)(u)(recordWriteForeign1.writeImpl({iAm:o,action:h}))})))),loader$1=o=>()=>new o,load$1=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff$1=o=>u=>makeAff(f=>{const d=load$1(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),loadAffRecord=o=>u=>loadAff$1(o)([u.right,u.left,u.top,u.bottom,u.front,u.back]),css2DRenderer=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DRenderer),css3DRenderer=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DRenderer),css2DObject=()=>__vitePreload(()=>import("./CSS2DRenderer.b72b37f1.js"),["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS2DObject),css3DObject=()=>__vitePreload(()=>import("./CSS3DRenderer.68d93ac3.js"),["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"]).then(o=>o.CSS3DObject),vector2=()=>__vitePreload(()=>import("./Vector2.3964b2c2.js"),[]).then(o=>o.Vector2),vector3=()=>__vitePreload(()=>import("./Vector3.5db2ef2e.js").then(o=>o.a),["assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Vector3),textureLoader=()=>__vitePreload(()=>import("./TextureLoader.60cda0eb.js"),["assets/TextureLoader.60cda0eb.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.TextureLoader),gltfLoader=()=>__vitePreload(()=>import("./GLTFLoader.3cfb26be.js"),["assets/GLTFLoader.3cfb26be.js","assets/three.module.81fc2a6a.js"]).then(o=>o.GLTFLoader),cubeTextureLoader=()=>__vitePreload(()=>import("./CubeTextureLoader.a71be225.js"),["assets/CubeTextureLoader.a71be225.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/CubeTexture.575c92d6.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"]).then(o=>o.CubeTextureLoader),euler=()=>__vitePreload(()=>import("./Euler.d28ed76f.js"),["assets/Euler.d28ed76f.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js"]).then(o=>o.Euler),matrix4=()=>__vitePreload(()=>import("./Matrix4.0c7a2215.js"),["assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"]).then(o=>o.Matrix4),color=()=>__vitePreload(()=>import("./Color.5efc95ab.js"),["assets/Color.5efc95ab.js","assets/MathUtils.9169ae61.js","assets/constants.cc13e4fd.js"]).then(o=>o.Color),scene=()=>__vitePreload(()=>import("./Scene.5ac5f5be.js"),["assets/Scene.5ac5f5be.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Scene),group=()=>__vitePreload(()=>import("./Group.157021da.js"),["assets/Group.157021da.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.Group),webGLRenderer=()=>__vitePreload(()=>import("./WebGLRenderer.16b7d376.js"),["assets/WebGLRenderer.16b7d376.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Frustum.21d548b8.js","assets/Vector3.5db2ef2e.js","assets/Sphere.bf80223e.js","assets/Matrix3.254ef6d6.js","assets/Matrix4.0c7a2215.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Color.5efc95ab.js","assets/Object3D.d81adcf4.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/utils.4cfc5b76.js","assets/PlaneGeometry.94665e38.js","assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/Mesh.53231fd1.js","assets/Ray.14000e07.js","assets/Texture.fb44cc87.js","assets/PerspectiveCamera.3def8065.js","assets/CubeTexture.575c92d6.js","assets/Group.157021da.js"]).then(o=>o.WebGLRenderer),mesh=()=>__vitePreload(()=>import("./Mesh.53231fd1.js").then(o=>o.b),["assets/Mesh.53231fd1.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Mesh),instancedMesh=()=>__vitePreload(()=>import("./InstancedMesh.016527f5.js"),["assets/InstancedMesh.016527f5.js","assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Mesh.53231fd1.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/BufferGeometry.d5615ad3.js","assets/utils.4cfc5b76.js"]).then(o=>o.InstancedMesh),meshStandardMaterial=()=>__vitePreload(()=>import("./MeshStandardMaterial.6787a3d9.js"),["assets/MeshStandardMaterial.6787a3d9.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshStandardMaterial),pointLight=()=>__vitePreload(()=>import("./PointLight.acc28636.js"),["assets/PointLight.acc28636.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/Frustum.21d548b8.js","assets/Sphere.bf80223e.js","assets/PerspectiveCamera.3def8065.js"]).then(o=>o.PointLight),ambientLight=()=>__vitePreload(()=>import("./AmbientLight.321e982d.js"),["assets/AmbientLight.321e982d.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.AmbientLight),sphereGeometry=()=>__vitePreload(()=>import("./SphereGeometry.46bea0af.js"),["assets/SphereGeometry.46bea0af.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.SphereGeometry),boxGeometry=()=>__vitePreload(()=>import("./BoxGeometry.d73cb17e.js"),["assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BoxGeometry),cylinderGeometry=()=>__vitePreload(()=>import("./CylinderGeometry.25a72d53.js"),["assets/CylinderGeometry.25a72d53.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.CylinderGeometry),planeGeometry=()=>__vitePreload(()=>import("./PlaneGeometry.94665e38.js"),["assets/PlaneGeometry.94665e38.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.PlaneGeometry),bufferGeometry=()=>__vitePreload(()=>import("./BufferGeometry.d5615ad3.js"),["assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"]).then(o=>o.BufferGeometry),perspectiveCamera=()=>__vitePreload(()=>import("./PerspectiveCamera.3def8065.js").then(o=>o.a),["assets/PerspectiveCamera.3def8065.js","assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"]).then(o=>o.PerspectiveCamera),raycaster=()=>__vitePreload(()=>import("./Raycaster.8d6c944e.js"),["assets/Raycaster.8d6c944e.js","assets/Ray.14000e07.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Layers.61b05682.js"]).then(o=>o.Raycaster),shaderMaterial=()=>__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"]).then(o=>o.ShaderMaterial),bufferAttribute=()=>__vitePreload(()=>import("./BufferAttribute.ad6349b3.js"),["assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.BufferAttribute),instancedBufferAttribute=()=>__vitePreload(()=>import("./InstancedBufferAttribute.aa91042e.js"),["assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"]).then(o=>o.InstancedBufferAttribute),points=()=>__vitePreload(()=>import("./Points.d53b4d59.js"),["assets/Points.d53b4d59.js","assets/Sphere.bf80223e.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/constants.cc13e4fd.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/Vector2.3964b2c2.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"]).then(o=>o.Points),meshPhongMaterial=()=>__vitePreload(()=>import("./MeshPhongMaterial.629d8a0e.js"),["assets/MeshPhongMaterial.629d8a0e.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"]).then(o=>o.MeshPhongMaterial),effectComposer=()=>__vitePreload(()=>import("./EffectComposer.45295e78.js"),["assets/EffectComposer.45295e78.js","assets/three.module.81fc2a6a.js","assets/CopyShader.1f7b6c4a.js","assets/ShaderPass.d65654b5.js","assets/Pass.09e32dfb.js"]).then(o=>o.EffectComposer),renderPass=()=>__vitePreload(()=>import("./RenderPass.fbc92c19.js"),["assets/RenderPass.fbc92c19.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.RenderPass),glitchPass=()=>__vitePreload(()=>import("./GlitchPass.345bbdd2.js"),["assets/GlitchPass.345bbdd2.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]).then(o=>o.GlitchPass),unrealBloomPass=()=>__vitePreload(()=>import("./UnrealBloomPass.2221478f.js"),["assets/UnrealBloomPass.2221478f.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js","assets/CopyShader.1f7b6c4a.js"]).then(o=>o.UnrealBloomPass),effectComposerPass=()=>Promise.all([__vitePreload(()=>import("./ShaderPass.d65654b5.js"),["assets/ShaderPass.d65654b5.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"]),__vitePreload(()=>import("./ShaderMaterial.01a0feab.js").then(o=>o.a),["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"])]).then(([o,u])=>{class f extends o.ShaderPass{constructor(m){super(new u.ShaderMaterial({uniforms:{tDiffuse:{value:null},incomingTexture:{value:m.renderTarget2.texture}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		uniform sampler2D tDiffuse;
    uniform sampler2D incomingTexture;

    varying vec2 vUv;

    void main() {

      gl_FragColor = ( texture2D( tDiffuse, vUv ) + texture2D( incomingTexture, vUv ) );

    }`})),this.effectComposer=m}render(m,h,g,y,_){this.effectComposer.renderToScreen=!1,this.effectComposer.render();const w=this.effectComposer.renderTarget2.texture;this.uniforms.incomingTexture.value=w,super.render(m,h,g,y,_)}}return f}),webGLRendererAff=_bind(_liftEffect(webGLRenderer))(toAff$p(coerce)),vector3Aff=_bind(_liftEffect(vector3))(toAff$p(coerce)),vector2Aff=_bind(_liftEffect(vector2))(toAff$p(coerce)),unrealBloomPassAff=_bind(_liftEffect(unrealBloomPass))(toAff$p(coerce)),textureLoaderAff=_bind(_liftEffect(textureLoader))(toAff$p(coerce)),sphereGeometryAff=_bind(_liftEffect(sphereGeometry))(toAff$p(coerce)),shaderMaterialAff=_bind(_liftEffect(shaderMaterial))(toAff$p(coerce)),sceneAff=_bind(_liftEffect(scene))(toAff$p(coerce)),renderPassAff=_bind(_liftEffect(renderPass))(toAff$p(coerce)),raycasterAff=_bind(_liftEffect(raycaster))(toAff$p(coerce)),pointsAff=_bind(_liftEffect(points))(toAff$p(coerce)),pointLightAff=_bind(_liftEffect(pointLight))(toAff$p(coerce)),planeGeometryAff=_bind(_liftEffect(planeGeometry))(toAff$p(coerce)),perspectiveCameraAff=_bind(_liftEffect(perspectiveCamera))(toAff$p(coerce)),meshStandardMaterialAff=_bind(_liftEffect(meshStandardMaterial))(toAff$p(coerce)),meshPhongMaterialAff=_bind(_liftEffect(meshPhongMaterial))(toAff$p(coerce)),meshAff=_bind(_liftEffect(mesh))(toAff$p(coerce)),matrix4Aff=_bind(_liftEffect(matrix4))(toAff$p(coerce)),instancedMeshAff=_bind(_liftEffect(instancedMesh))(toAff$p(coerce)),instancedBufferAttributeAff=_bind(_liftEffect(instancedBufferAttribute))(toAff$p(coerce)),groupAff=_bind(_liftEffect(group))(toAff$p(coerce)),gltfLoaderAff=_bind(_liftEffect(gltfLoader))(toAff$p(coerce)),glitchPassAff=_bind(_liftEffect(glitchPass))(toAff$p(coerce)),eulerAff=_bind(_liftEffect(euler))(toAff$p(coerce)),effectComposerPassAff=_bind(_liftEffect(effectComposerPass))(toAff$p(coerce)),effectComposerAff=_bind(_liftEffect(effectComposer))(toAff$p(coerce)),cylinderGeometryAff=_bind(_liftEffect(cylinderGeometry))(toAff$p(coerce)),cubeTextureLoaderAff=_bind(_liftEffect(cubeTextureLoader))(toAff$p(coerce)),css3DRendererAff=_bind(_liftEffect(css3DRenderer))(toAff$p(coerce)),css3DObjectAff=_bind(_liftEffect(css3DObject))(toAff$p(coerce)),css2DRendererAff=_bind(_liftEffect(css2DRenderer))(toAff$p(coerce)),css2DObjectAff=_bind(_liftEffect(css2DObject))(toAff$p(coerce)),colorAff=_bind(_liftEffect(color))(toAff$p(coerce)),bufferGeometryAff=_bind(_liftEffect(bufferGeometry))(toAff$p(coerce)),bufferAttributeAff=_bind(_liftEffect(bufferAttribute))(toAff$p(coerce)),boxGeometryAff=_bind(_liftEffect(boxGeometry))(toAff$p(coerce)),ambientLightAff=_bind(_liftEffect(ambientLight))(toAff$p(coerce)),loader=o=>()=>new o,load=o=>u=>f=>d=>()=>{o.load(u,m=>f(m)(),void 0,m=>d(m)())},loadAff=o=>u=>makeAff(f=>{const d=load(o)(u)(m=>f($Either("Right",m)))(m=>f($Either("Left",m)));return()=>(d(),nonCanceler)}),getHash=(()=>{const o=bindE(windowImpl)(location);return()=>{const u=o(),f=hash(u)();return(()=>{const d=stripPrefix("#")(f);if(d.tag==="Nothing")return"";if(d.tag==="Just")return d._1;fail$3()})()}})(),foldHashes=o=>u=>{const f=bindE(bindE(getHash)(u))(_new);return()=>{const d=f(),m=windowImpl(),h=eventListener(g=>()=>{const y=bindE(()=>{const _=d.value,w=getHash();return o(_)(w)})(identity$v)();return d.value=y})();return addEventListener("hashchange")(h)(!1)(m)(),removeEventListener("hashchange")(h)(!1)(m)}},matchesWith$1=o=>u=>f=>{const d=m=>{const h=indexl(o)(0);return g=>{const y=h(u(g));if(y.tag==="Nothing")return()=>m;if(y.tag==="Just"){const _=f(m)(y._1);return()=>(_(),$Maybe("Just",y._1))}fail$3()}};return foldHashes(m=>d(m))(d(Nothing))},matchesWith=o=>u=>()=>{const f={value:Nothing},d={value:Nothing};return{unsubscribe:matchesWith$1(foldableEither)(parse(o))(h=>g=>()=>{const y=f.value,_=d.value;if(d.value=y,f.value=Nothing,_.tag==="Nothing"){if(y.tag==="Nothing")return u(h)(g)();if(y.tag==="Just")return u(h)(y._1)();fail$3()}if(_.tag==="Just"){if(y.tag==="Just")return u($Maybe("Just",_._1))(y._1)();if(y.tag==="Nothing")return u($Maybe("Just",_._1))(g)();fail$3()}fail$3()})(),navigateTo:h=>()=>(f.value=$Maybe("Just",h),bindE(bindE(windowImpl)(location))(setHash(printPath(o._1(h)(emptyRouteState))))())}},useLilGui=()=>!1,force4=()=>!1,useFirebaseEmulatorInDevMode=o=>u=>()=>Promise.resolve(),params=(()=>{const o=buildParamsCons({reflectSymbol:()=>"stats"})()()()()(buildParamsNil);return u=>o.buildParams($$Proxy)(u)(record)})(),min=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT"||f.tag==="EQ")return o;if(f.tag==="GT")return u;fail$3()},max=o=>u=>{const f=ordNumber.compare(o)(u);if(f.tag==="LT")return u;if(f.tag==="EQ"||f.tag==="GT")return o;fail$3()},monoidEffect=(()=>{const o={append:u=>f=>()=>(u(),f(),unit)};return{mempty:()=>unit,Semigroup0:()=>o}})(),for_=for_$9(applicativeEffect)(foldableMaybe),fromFoldable=fromFoldable$9(ordPlayer)(foldableArray),traverse_=traverse_$9(applicativeEffect)(foldableMaybe),constMapping={mappingWithIndex:o=>u=>guiableSlider.guiable},hmapRecord1=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping1={mappingWithIndex:o=>u=>mappingTuple1.mapping(o)},hmapRecord2=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping1)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping1)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),constMapping2={mappingWithIndex:o=>u=>mappingTuple2.mapping(o)},hmapRecord3=hmapRecord()(mapRecordWithIndexCons({reflectSymbol:()=>"barZSpacing"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraOffsetZ"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"cameraRotationAroundX"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"halfAmbitus"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"lightOffsetY"})(constMapping2)(mapRecordWithIndexCons({reflectSymbol:()=>"sphereOffsetY"})(constMapping2)(mapRecordWithIndexNil)()())()())()())()())()())()())()()),logShow=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["fsm",(()=>{const f=cons(intercalate$2(": ")(["orientationPermission",showAppOrientationState.show(o.fsm.orientationPermission)]))(cons(intercalate$2(": ")(["signedInNonAnon",(()=>o.fsm.signedInNonAnon?"true":"false")()]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])})()]))(cons(intercalate$2(": ")(["new",showRoute.show(o.new)]))(cons(intercalate$2(": ")(["old",(()=>{if(o.old.tag==="Just")return"(Just "+(showRoute.show(o.old._1)+")");if(o.old.tag==="Nothing")return"Nothing";fail$3()})()]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),parSequence=(()=>{const o=traversableArray.traverse(applicativeParAff)(u=>u);return u=>_sequential(o(u))})(),logShow1=logShow$1((()=>{const o=showArrayImpl(u=>{const f=cons(intercalate$2(": ")(["data","TrackV0 <"+(show1$3(u.data._1)+">")]))(cons(intercalate$2(": ")(["id",showStringImpl(u.id)]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])});return{show:u=>{const f=cons(intercalate$2(": ")(["msg",showStringImpl(u.msg)]))(cons(intercalate$2(": ")(["rides",o(u.rides)]))([]));return f.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(f),"}"])}}})()),mapAccum=mapAccum$e(eventIsEvent),logShow2=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["e",showRouteError.show(o.e)]))(cons(intercalate$2(": ")(["initialHash",showStringImpl(o.initialHash)]))(cons(intercalate$2(": ")(["msg",showStringImpl(o.msg)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),ambientLightIsSymbol={reflectSymbol:()=>"ambientLight"},boxGeometryIsSymbol={reflectSymbol:()=>"boxGeometry"},bufferAttributeIsSymbol={reflectSymbol:()=>"bufferAttribute"},bufferGeometryIsSymbol={reflectSymbol:()=>"bufferGeometry"},colorIsSymbol={reflectSymbol:()=>"color"},css2DObjectIsSymbol={reflectSymbol:()=>"css2DObject"},css2DRendererIsSymbol={reflectSymbol:()=>"css2DRenderer"},css3DObjectIsSymbol={reflectSymbol:()=>"css3DObject"},css3DRendererIsSymbol={reflectSymbol:()=>"css3DRenderer"},cubeTextureLoaderIsSymbol={reflectSymbol:()=>"cubeTextureLoader"},cylinderGeometryIsSymbol={reflectSymbol:()=>"cylinderGeometry"},effectComposerIsSymbol={reflectSymbol:()=>"effectComposer"},effectComposerPassIsSymbol={reflectSymbol:()=>"effectComposerPass"},eulerIsSymbol={reflectSymbol:()=>"euler"},glitchPassIsSymbol={reflectSymbol:()=>"glitchPass"},gltfLoaderIsSymbol={reflectSymbol:()=>"gltfLoader"},groupIsSymbol={reflectSymbol:()=>"group"},instancedBufferAttributeIsSymbol={reflectSymbol:()=>"instancedBufferAttribute"},instancedMeshIsSymbol={reflectSymbol:()=>"instancedMesh"},matrix4IsSymbol={reflectSymbol:()=>"matrix4"},meshIsSymbol={reflectSymbol:()=>"mesh"},meshPhongMaterialIsSymbol={reflectSymbol:()=>"meshPhongMaterial"},meshStandardMaterialIsSymbol={reflectSymbol:()=>"meshStandardMaterial"},perspectiveCameraIsSymbol={reflectSymbol:()=>"perspectiveCamera"},planeIsSymbol={reflectSymbol:()=>"plane"},pointLightIsSymbol={reflectSymbol:()=>"pointLight"},pointsIsSymbol={reflectSymbol:()=>"points"},raycasterIsSymbol={reflectSymbol:()=>"raycaster"},renderPassIsSymbol={reflectSymbol:()=>"renderPass"},sceneIsSymbol={reflectSymbol:()=>"scene"},shaderMaterialIsSymbol={reflectSymbol:()=>"shaderMaterial"},sphereGeometryIsSymbol={reflectSymbol:()=>"sphereGeometry"},textureLoaderIsSymbol={reflectSymbol:()=>"textureLoader"},unrealBloomPassIsSymbol={reflectSymbol:()=>"unrealBloomPass"},vector2IsSymbol={reflectSymbol:()=>"vector2"},vector3IsSymbol={reflectSymbol:()=>"vector3"},webGLRendererIsSymbol={reflectSymbol:()=>"webGLRenderer"},hfoldlWithIndex=(()=>{const o=foldlRecordCons(ambientLightIsSymbol)()(foldingWithIndexParFoldPr()(ambientLightIsSymbol)())(foldlRecordCons(boxGeometryIsSymbol)()(foldingWithIndexParFoldPr()(boxGeometryIsSymbol)())(foldlRecordCons(bufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(bufferAttributeIsSymbol)())(foldlRecordCons(bufferGeometryIsSymbol)()(foldingWithIndexParFoldPr()(bufferGeometryIsSymbol)())(foldlRecordCons(colorIsSymbol)()(foldingWithIndexParFoldPr()(colorIsSymbol)())(foldlRecordCons(css2DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css2DObjectIsSymbol)())(foldlRecordCons(css2DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css2DRendererIsSymbol)())(foldlRecordCons(css3DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css3DObjectIsSymbol)())(foldlRecordCons(css3DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css3DRendererIsSymbol)())(foldlRecordCons(cubeTextureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(cubeTextureLoaderIsSymbol)())(foldlRecordCons(cylinderGeometryIsSymbol)()(foldingWithIndexParFoldPr()(cylinderGeometryIsSymbol)())(foldlRecordCons(effectComposerIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerIsSymbol)())(foldlRecordCons(effectComposerPassIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerPassIsSymbol)())(foldlRecordCons(eulerIsSymbol)()(foldingWithIndexParFoldPr()(eulerIsSymbol)())(foldlRecordCons(glitchPassIsSymbol)()(foldingWithIndexParFoldPr()(glitchPassIsSymbol)())(foldlRecordCons(gltfLoaderIsSymbol)()(foldingWithIndexParFoldPr()(gltfLoaderIsSymbol)())(foldlRecordCons(groupIsSymbol)()(foldingWithIndexParFoldPr()(groupIsSymbol)())(foldlRecordCons(instancedBufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(instancedBufferAttributeIsSymbol)())(foldlRecordCons(instancedMeshIsSymbol)()(foldingWithIndexParFoldPr()(instancedMeshIsSymbol)())(foldlRecordCons(matrix4IsSymbol)()(foldingWithIndexParFoldPr()(matrix4IsSymbol)())(foldlRecordCons(meshIsSymbol)()(foldingWithIndexParFoldPr()(meshIsSymbol)())(foldlRecordCons(meshPhongMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshPhongMaterialIsSymbol)())(foldlRecordCons(meshStandardMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshStandardMaterialIsSymbol)())(foldlRecordCons(perspectiveCameraIsSymbol)()(foldingWithIndexParFoldPr()(perspectiveCameraIsSymbol)())(foldlRecordCons(planeIsSymbol)()(foldingWithIndexParFoldPr()(planeIsSymbol)())(foldlRecordCons(pointLightIsSymbol)()(foldingWithIndexParFoldPr()(pointLightIsSymbol)())(foldlRecordCons(pointsIsSymbol)()(foldingWithIndexParFoldPr()(pointsIsSymbol)())(foldlRecordCons(raycasterIsSymbol)()(foldingWithIndexParFoldPr()(raycasterIsSymbol)())(foldlRecordCons(renderPassIsSymbol)()(foldingWithIndexParFoldPr()(renderPassIsSymbol)())(foldlRecordCons(sceneIsSymbol)()(foldingWithIndexParFoldPr()(sceneIsSymbol)())(foldlRecordCons(shaderMaterialIsSymbol)()(foldingWithIndexParFoldPr()(shaderMaterialIsSymbol)())(foldlRecordCons(sphereGeometryIsSymbol)()(foldingWithIndexParFoldPr()(sphereGeometryIsSymbol)())(foldlRecordCons(textureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(textureLoaderIsSymbol)())(foldlRecordCons(unrealBloomPassIsSymbol)()(foldingWithIndexParFoldPr()(unrealBloomPassIsSymbol)())(foldlRecordCons(vector2IsSymbol)()(foldingWithIndexParFoldPr()(vector2IsSymbol)())(foldlRecordCons(vector3IsSymbol)()(foldingWithIndexParFoldPr()(vector3IsSymbol)())(foldlRecordCons(webGLRendererIsSymbol)()(foldingWithIndexParFoldPr()(webGLRendererIsSymbol)())(foldlRecordNil)))))))))))))))))))))))))))))))))))));return u=>f=>o.foldlRecordRowList(u)(f)($$Proxy)})(),fromHomogeneous=o=>o,parTraverse=(()=>{const o=traversableWithIndexObject.traverseWithIndex(applicativeParAff);return u=>{const f=o(d=>m=>u(m));return d=>_sequential(f(d))}})(),mempty1=o=>monoidEffect.mempty,mempty2=(()=>monoidRecord()((()=>{const o=monoidEffect.Semigroup0(),u=monoidEffect.Semigroup0(),f=monoidEffect.Semigroup0(),d=monoidEffect.Semigroup0(),m={appendRecord:h=>g=>y=>({p1:o.append(g.p1)(y.p1),p2:u.append(g.p2)(y.p2),p3:f.append(g.p3)(y.p3),p4:d.append(g.p4)(y.p4)})};return{memptyRecord:h=>({p1:monoidEffect.mempty,p2:monoidEffect.mempty,p3:monoidEffect.mempty,p4:monoidEffect.mempty}),SemigroupRecord0:()=>m}})()).mempty)(),folded=folded$2(eventIsEvent)(monoidKnownPlayers),logShow3=logShow$1({show:o=>{const u=cons(intercalate$2(": ")(["kp",showKnownPlayers.show(o.kp)]))(cons(intercalate$2(": ")(["outcome",showPointOutcome.show(o.outcome)]))(cons(intercalate$2(": ")(["player",showPlayer.show(o.player)]))([])));return u.length===0?"{}":intercalate$2(" ")(["{",intercalate$2(", ")(u),"}"])}}),fromFoldable1=fromFoldable$8(foldableList),renderingInfoMobile={halfAmbitus:{default:3.5,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:1.05,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.15,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:1.45,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},renderingInfoDesktop={halfAmbitus:{default:3.1,min:.5,max:4.4,step:.1},barZSpacing:{default:1,min:.1,max:3,step:.1},cameraOffsetY:{default:.55,min:.1,max:3,step:.05},cameraRotationAroundX:{default:-.45,min:-3.141592653589793,max:3.141592653589793,step:.05},cameraOffsetZ:{default:.35,min:-.5,max:3,step:.05},lightOffsetY:{default:.9,min:0,max:2,step:.05},sphereOffsetY:{default:.2,min:.05,max:.5,step:.05}},parseQuery=o=>{const u=run(params({stats:f=>{const d=as(showBoolean.show)($$boolean)(f);return $RouteDuplex(foldMap(d._1),optional(d._2))}})._2)(o);if(u.tag==="Left")return Nothing;if(u.tag==="Right")return $Maybe("Just",u._1);fail$3()},magicLeap=o=>u=>f=>d=>m=>()=>{const h=o.value;(()=>{if(m.player.tag==="Player1")return h.p1;if(m.player.tag==="Player2")return h.p2;if(m.player.tag==="Player3")return h.p3;if(m.player.tag==="Player4")return h.p4;fail$3()})()();const g=u();(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1p")(m.newPosition)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2p")(m.newPosition)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3p")(m.newPosition)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4p")(m.newPosition)(f);fail$3()})()();const y=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1y")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2y")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3y")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4y")(f);fail$3()})()(),_=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1z")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2z")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3z")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4z")(f);fail$3()})()(),w=subscribe(sampleBy(functorEvent)($$const)(d)(animationFrame))(v=>{const b=(()=>{if(m.newPosition.tag==="Position1")return-3*v.barZSpacing;if(m.newPosition.tag==="Position2")return-2*v.barZSpacing;if(m.newPosition.tag==="Position3")return-1*v.barZSpacing;if(m.newPosition.tag==="Position4")return 0;fail$3()})();return()=>{const M=u(),P=min(1)(max(0)((M-g)/1e3/(.4*sqrt(pow(b-_)(2)+pow(-y)(2))))),I=pow(1-P)(2)*y+2*(1-P)*P*((0+y)/2+.5)+pow(P)(2)*0,S=pow(1-P)(2)*_+2*(1-P)*P*((b+_)/2)+pow(P)(2)*b;(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1z")(S)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2z")(S)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3z")(S)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4z")(S)(f);fail$3()})()(),(()=>{if(m.player.tag==="Player1")return writeToRecordImpl("p1y")(I)(f);if(m.player.tag==="Player2")return writeToRecordImpl("p2y")(I)(f);if(m.player.tag==="Player3")return writeToRecordImpl("p3y")(I)(f);if(m.player.tag==="Player4")return writeToRecordImpl("p4y")(I)(f);fail$3()})()();const C=(()=>{if(m.player.tag==="Player1")return B=>B.p1;if(m.player.tag==="Player2")return B=>B.p2;if(m.player.tag==="Player3")return B=>B.p3;if(m.player.tag==="Player4")return B=>B.p4;fail$3()})(),O=bindE(()=>{const B=o.value;return C(B)})(identity$v);if(P>=1){O();const B=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:monoidEffect.mempty,p2:B.p2,p3:B.p3,p4:B.p4};if(m.player.tag==="Player2")return{p2:monoidEffect.mempty,p1:B.p1,p3:B.p3,p4:B.p4};if(m.player.tag==="Player3")return{p3:monoidEffect.mempty,p1:B.p1,p2:B.p2,p4:B.p4};if(m.player.tag==="Player4")return{p4:monoidEffect.mempty,p1:B.p1,p2:B.p2,p3:B.p3};fail$3()})(),unit}return unit}})(),$=o.value;return o.value=(()=>{if(m.player.tag==="Player1")return{p1:w,p2:$.p2,p3:$.p3,p4:$.p4};if(m.player.tag==="Player2")return{p2:w,p1:$.p1,p3:$.p3,p4:$.p4};if(m.player.tag==="Player3")return{p3:w,p1:$.p1,p2:$.p2,p4:$.p4};if(m.player.tag==="Player4")return{p4:w,p1:$.p1,p2:$.p2,p3:$.p3};fail$3()})(),unit},magicLeaps=o=>u=>f=>d=>m=>()=>{const h=f.value,g=(()=>{if(m.player.tag==="Player1")return readFromRecordImpl("p1p")(f);if(m.player.tag==="Player2")return readFromRecordImpl("p2p")(f);if(m.player.tag==="Player3")return readFromRecordImpl("p3p")(f);if(m.player.tag==="Player4")return readFromRecordImpl("p4p")(f);fail$3()})()();return magicLeap(o)(u)(f)(d)(m)(),for_((()=>(()=>h.p1p.tag==="Position1"?m.newPosition.tag==="Position1":h.p1p.tag==="Position2"?m.newPosition.tag==="Position2":h.p1p.tag==="Position3"?m.newPosition.tag==="Position3":h.p1p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player1):(()=>h.p2p.tag==="Position1"?m.newPosition.tag==="Position1":h.p2p.tag==="Position2"?m.newPosition.tag==="Position2":h.p2p.tag==="Position3"?m.newPosition.tag==="Position3":h.p2p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player2):(()=>h.p3p.tag==="Position1"?m.newPosition.tag==="Position1":h.p3p.tag==="Position2"?m.newPosition.tag==="Position2":h.p3p.tag==="Position3"?m.newPosition.tag==="Position3":h.p3p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player3):(()=>h.p4p.tag==="Position1"?m.newPosition.tag==="Position1":h.p4p.tag==="Position2"?m.newPosition.tag==="Position2":h.p4p.tag==="Position3"?m.newPosition.tag==="Position3":h.p4p.tag==="Position4"?m.newPosition.tag==="Position4":!1)()?$Maybe("Just",Player4):Nothing)())(y=>magicLeap(o)(u)(f)(d)({player:y,newPosition:g}))()},updateKnownPlayerPoints=o=>u=>f=>()=>{const d=f.value;return f.value=update(ordPlayer)(m=>{if(m.tag==="HasNotStartedYet")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:topNumber,points:0,name:Nothing,penalties:u._1};if(u.tag==="Right")return{startedAt:topNumber,points:u._1,name:Nothing,penalties:0};fail$3()})()));if(m.tag==="HasStarted")return $Maybe("Just",$StartStatus("HasStarted",(()=>{if(u.tag==="Left")return{startedAt:m._1.startedAt,points:m._1.points,name:m._1.name,penalties:m._1.penalties+u._1};if(u.tag==="Right")return{startedAt:m._1.startedAt,points:m._1.points+u._1,name:m._1.name,penalties:m._1.penalties};fail$3()})()));fail$3()})(o)(d)},constructAppendableKnownPlayersFromRide=o=>fromFoldable(concatArray((()=>{if(o._1.player1.tag==="Just")return[$Tuple(Player1,(()=>{if(o._1.player1StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player1StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player1StartTimeInMilliseconds._1,points:(()=>{if(o._1.player1Points.tag==="Nothing")return 0;if(o._1.player1Points.tag==="Just")return o._1.player1Points._1;fail$3()})(),name:o._1.player1Name,penalties:(()=>{if(o._1.player1Penalties.tag==="Nothing")return 0;if(o._1.player1Penalties.tag==="Just")return o._1.player1Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player1.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player2.tag==="Just")return[$Tuple(Player2,(()=>{if(o._1.player2StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player2StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player2StartTimeInMilliseconds._1,points:(()=>{if(o._1.player2Points.tag==="Nothing")return 0;if(o._1.player2Points.tag==="Just")return o._1.player2Points._1;fail$3()})(),name:o._1.player2Name,penalties:(()=>{if(o._1.player2Penalties.tag==="Nothing")return 0;if(o._1.player2Penalties.tag==="Just")return o._1.player2Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player2.tag==="Nothing")return[];fail$3()})())(concatArray((()=>{if(o._1.player3.tag==="Just")return[$Tuple(Player3,(()=>{if(o._1.player3StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player3StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player3StartTimeInMilliseconds._1,points:(()=>{if(o._1.player3Points.tag==="Nothing")return 0;if(o._1.player3Points.tag==="Just")return o._1.player3Points._1;fail$3()})(),name:o._1.player3Name,penalties:(()=>{if(o._1.player3Penalties.tag==="Nothing")return 0;if(o._1.player3Penalties.tag==="Just")return o._1.player3Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player3.tag==="Nothing")return[];fail$3()})())((()=>{if(o._1.player4.tag==="Just")return[$Tuple(Player4,(()=>{if(o._1.player4StartTimeInMilliseconds.tag==="Nothing")return HasNotStartedYet;if(o._1.player4StartTimeInMilliseconds.tag==="Just")return $StartStatus("HasStarted",{startedAt:o._1.player4StartTimeInMilliseconds._1,points:(()=>{if(o._1.player4Points.tag==="Nothing")return 0;if(o._1.player4Points.tag==="Just")return o._1.player4Points._1;fail$3()})(),name:o._1.player4Name,penalties:(()=>{if(o._1.player4Penalties.tag==="Nothing")return 0;if(o._1.player4Penalties.tag==="Just")return o._1.player4Penalties._1;fail$3()})()});fail$3()})())];if(o._1.player4.tag==="Nothing")return[];fail$3()})())))),main=o=>u=>f=>d=>m=>{const h=_makeFiber(ffiUtil$1,_bind(_liftEffect((()=>{const g=bindE(bindE(windowImpl)(location))(search);return()=>{const y=g(),_=parseQuery(y);if(_.tag==="Just"){const w=(()=>{if(_._1.stats.tag==="Nothing")return!1;if(_._1.stats.tag==="Just")return _._1.stats._1;fail$3()})();return log((()=>w?"Asked for stats: true":"Asked for stats: false")())(),w}return log("Asked for stats: false")(),!1}})()))(g=>_bind(_liftEffect((()=>{const y=bindE(windowImpl)(location);return()=>{const _=y();return hash(_)()===""?setHash("/")(_)():unit}})()))(()=>_bind(_liftEffect(()=>({value:.055})))(y=>_bind(firebaseAppAff)(_=>_bind(_bind(_liftEffect(firebaseAnalytics(_)))(toAff$p(coerce)))(()=>_bind(_bind(_liftEffect(firestoreDb(_)))(toAff$p(coerce)))(w=>_bind(_bind(_liftEffect(firebaseAuth(_)))(toAff$p(coerce)))($=>_bind(_bind(_liftEffect(useFirebaseEmulatorInDevMode()($)))(toAff$p(coerce)))(()=>_bind(_liftEffect(requestPermissionIsAFunction))(v=>_liftEffect(()=>{const b=create();initializeGoogleClient($)(b.push(!0))();const M={value:()=>unit},P=burningWhenHot(),I={value:()=>unit};subscribe(authStateChangedEventWithAnonymousAccountCreation($))(ne=>{const q=info("I'm a user: "+_unsafeStringify(writeForeignUser.writeImpl(ne.user)));return()=>(q(),(()=>{if(ne.provider.tag==="AuthGoogle"){const H=bindE(()=>I.value)(identity$v);return()=>{H(),_makeFiber(ffiUtil$1,_bind(getProfileAff($)(w))((()=>{const ue=traverse_(P.push);return le=>_liftEffect(ue(le))})()))().run();const ie=subscribe(profileEvent($)(w))(P.push)();return I.value=ie,_makeFiber(ffiUtil$1,_bind(turnOnRealtimePresenceAff(_)(w)($))(ue=>_liftEffect(()=>M.value=ue)))().run(),unit}}if(ne.provider.tag==="AuthAnonymous"){const H=bindE(()=>I.value)(identity$v);return()=>(H(),bindE(()=>M.value)(unsafeCoerce)(),M.value=()=>unit)}fail$3()})()(),b.push((()=>{if(ne.provider.tag==="AuthGoogle")return!0;if(ne.provider.tag==="AuthAnonymous")return!1;fail$3()})())())})();const S=burning(!1)(b.event)(),C=cnow(),O=()=>C.cnow().time,B=windowImpl(),N=localStorage$1(B)(),R=create(),L=create(),z=create(),Y=create(),te=create(),K=create(),Q=create(),J=emitsTouchEvents();return _makeFiber(ffiUtil$1,_bind(_bind(_liftEffect(useLilGui))(ne=>(()=>ne?gui(hmapRecord1)(hmapRecord2)(hmapRecord3):noGui(hmapRecord1)(hmapRecord2)(hmapRecord3))()((()=>J?renderingInfoMobile:renderingInfoDesktop)())))(ne=>_bind(_liftEffect(()=>{if(g){const q=makeStats();return $Maybe("Just",q)}return Nothing}))(q=>_liftEffect(()=>{const H={value:Leaf},re={value:()=>unit},ie={value:Nothing},G=context_(),ue=makeAudioBuffer_(G)({size:44100,arr:[replicate(unfoldableArray)(1e3)(0)]})(),le=eventListener(ke=>bindE((()=>{const Ze=innerWidth(B),rt=innerHeight(B);return()=>{const Ue=Ze(),et=rt();return{iw:toNumber(Ue),ih:toNumber(et)}}})())(R.push))();addEventListener("resize")(le)(!0)(B)();const he={value:empty$2},fe=create(),_e=create(),Ie=create(),be=create(),Ne=matchesWith(route)(curry(be.push))();subscribe(filter$p(ke=>ke._2._1.tag==="Nothing"?!0:ke._2._1.tag==="Just"?!eqRoute.eq(ke._2._1._1)(ke._2._2):!0)(mapAccum(ke=>Ze=>{const rt={orientationPermission:(()=>{if(Ze.orev.tag==="Just"){if(Ze.orev._1)return SuccessfulOrientationPermission;if(!Ze.orev._1)return CannotUseAppDueToLackOfOrientationPermission;fail$3()}if(Ze.orev.tag==="Nothing")return ke.orientationPermission;fail$3()})(),signedInNonAnon:Ze.sinon};return $Tuple(rt,$Tuple(rt,$Tuple(Ze.rev._1,Ze.rev._2)))})({orientationPermission:UnknownOrientationPermission,signedInNonAnon:!1})(applyEvent.apply(applyEvent.apply((ke,Ze)=>be.event(ke,rt=>Ze(Ue=>et=>({rev:rt,orev:Ue,sinon:et}))))((ke,Ze)=>{const rt=applicativeEvent.pure(Nothing)(ke,Ze),Ue=Ie.event(ke,et=>Ze($Maybe("Just",et)));return()=>(rt(),Ue())}))(S.event))))(ke=>{const Ze=logShow({fsm:ke._1,old:ke._2._1,new:ke._2._2});return()=>{Ze();const rt=(()=>{if(ke._2._2.tag==="Home")return fe.push(NoChannel);if(ke._2._2.tag==="Session"){const Ue=_makeFiber(ffiUtil$1,_bind(_bind(getTrackAff(w)(ke._2._2._2))(et=>_pure((()=>{const Te=RideChannel(ke._2._2._1)(ke._2._2._2);if(et.tag==="Nothing")return NoChannel;if(et.tag==="Just")return Te(et._1);fail$3()})())))(et=>_liftEffect(fe.push(et))));return()=>(Ue().run(),unit)}if(ke._2._2.tag==="Tutorial")return fe.push(TutorialChannel);if(ke._2._2.tag==="Settings")return z.push($Negotiation("SetSomeStuff",{dampeningRef:y,myProfile:P.event,firestoreDb:w,fbAuth:$,signedInNonAnonymously:S.event}));if(ke._2._2.tag==="Editor")return fe.push(EditorChannel);if(ke._2._2.tag==="TakeThisRide"){const Ue=randId$p(6);return()=>{const et=Ue();return _makeFiber(ffiUtil$1,_bind((()=>{const Ve=getTrackAff(w)(ke._2._2._2);if(ke._2._2._1.tag==="Nothing")return Ve;if(ke._2._2._1.tag==="Just")return _pure($Maybe("Just",ke._2._2._1._1));fail$3()})())(Ve=>_liftEffect((()=>{if(Ve.tag==="Just")return fe.push($ChannelChooser("RideChannel",et,ke._2._2._2,Ve._1));if(Ve.tag==="Nothing")return navigateToHash("");fail$3()})())))().run(),unit}}if(ke._2._2.tag==="TakeRide"){const Ue=_makeFiber(ffiUtil$1,_bind(_liftEffect(log("Got take ride as instuction")))(()=>_bind(_map((()=>{const et=nubBy(Te=>Ve=>ordString.compare(Te.id)(Ve.id));return Te=>et(arrayBind(Te)(identity$v))})())(parSequence([getPublicTracksAff(w),(()=>{const et=monoidAff(monoidArray),Te=getTracksAff($)(w);return ke._1.signedInNonAnon?Te:et.mempty})(),(()=>{const et=monoidAff(monoidArray),Te=getWhitelistedTracksAff($)(w);return ke._1.signedInNonAnon?Te:et.mempty})()])))(et=>_liftEffect((()=>{const Te=logShow1({msg:"Got rides",rides:et});return()=>(Te(),z.push($Negotiation("ChooseRide",et,Ne.navigateTo))())})()))));return()=>(Ue().run(),unit)}if(ke._2._2.tag==="OrientationPermissionWithoutRideRequest")return z.push($Negotiation("NeedsOrientation",Nothing));if(ke._2._2.tag==="OrientationPermissionWithRideRequest")return z.push($Negotiation("NeedsOrientation",$Maybe("Just",{ride:ke._2._2._1,track:ke._2._2._2})));fail$3()})();if(ke._1.orientationPermission.tag==="SuccessfulOrientationPermission")return rt();if(ke._1.orientationPermission.tag==="CannotUseAppDueToLackOfOrientationPermission")return z.push(WillNotWorkWithoutOrientation)();if(ke._1.orientationPermission.tag==="UnknownOrientationPermission")return ke._2._2.tag==="OrientationPermissionWithoutRideRequest"?z.push($Negotiation("NeedsOrientation",Nothing))():ke._2._2.tag==="OrientationPermissionWithRideRequest"?z.push($Negotiation("NeedsOrientation",$Maybe("Just",{ride:ke._2._2._1,track:ke._2._2._2})))():v?ke._2._2.tag==="Session"?navigateToHash("orientation-permission/"+(ke._2._2._1+("/"+ke._2._2._2)))():navigateToHash("orientation-permission")():rt();fail$3()}})();const pe=bindE(bindE(windowImpl)(location))(hash)(),ve=replace("#")("")(pe);(()=>{const ke=run(route._2)(ve);return()=>((()=>{if(ke.tag==="Left"){const Ze=logShow2({msg:"malformed initial path",e:ke._1,initialHash:ve});return()=>(Ze(),be.push($Tuple(Nothing,Home))())}if(ke.tag==="Right"){const Ze=log("initial route "+showRoute.show(ke._1));return()=>(Ze(),be.push($Tuple(Nothing,ke._1))())}fail$3()})()(),unit)})()(),runInBody$p(toplevel({loaded:L.event,ride:ke=>{const Ze=randId$p(6);return()=>{const rt=Ze();return fe.push($ChannelChooser("RideChannel",rt,ke._1,ke._2))()}},negotiation:z.event,tutorial:navigateToHash("tutorial"),editor:navigateToHash("editor"),isMobile:J,lpsCallback:ke=>Ze=>()=>{const rt=random(),Ue=H.value;return H.value=insert$2(ordNumber)(ke+rt*.25)(Ze)(Ue),unit},givePermission:Ie.push,pushBasic:Y,pushLeap:te,columnPusher:_e,pushHitLong:K,pushReleaseLong:Q,resizeE:R.event,goHome:navigateToHash(""),renderingInfo:refToBehavior(ne.renderingInfo),debug:ne.debug,silence:ue,icid:ie,wdw:B,unschedule:H,soundObj:he}))();const Re=randId();return _makeFiber(ffiUtil$1,_bind(_sequential(hfoldlWithIndex(ParFold)(_pure({}))({scene:sceneAff,vector2:vector2Aff,vector3:vector3Aff,meshStandardMaterial:meshStandardMaterialAff,bufferGeometry:bufferGeometryAff,points:pointsAff,meshPhongMaterial:meshPhongMaterialAff,boxGeometry:boxGeometryAff,cylinderGeometry:cylinderGeometryAff,pointLight:pointLightAff,ambientLight:ambientLightAff,css2DObject:css2DObjectAff,webGLRenderer:webGLRendererAff,effectComposer:effectComposerAff,effectComposerPass:effectComposerPassAff,unrealBloomPass:unrealBloomPassAff,glitchPass:glitchPassAff,renderPass:renderPassAff,color:colorAff,instancedMesh:instancedMeshAff,euler:eulerAff,raycaster:raycasterAff,mesh:meshAff,perspectiveCamera:perspectiveCameraAff,matrix4:matrix4Aff,plane:planeGeometryAff,bufferAttribute:bufferAttributeAff,instancedBufferAttribute:instancedBufferAttributeAff,shaderMaterial:shaderMaterialAff,gltfLoader:gltfLoaderAff,cubeTextureLoader:cubeTextureLoaderAff,sphereGeometry:sphereGeometryAff,css2DRenderer:css2DRendererAff,css3DObject:css3DObjectAff,css3DRenderer:css3DRendererAff,group:groupAff,textureLoader:textureLoaderAff})))(ke=>_bind(_liftEffect(loader(ke.textureLoader)))(Ze=>_bind(_liftEffect(loader$1(ke.cubeTextureLoader)))(rt=>_bind(_liftEffect(loader$2(ke.gltfLoader)))(Ue=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff(Ze))(d))))(et=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff$2(Ue))(o))))(Te=>_bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAffRecord(rt))(_fmapObject(f,unsafeCoerce)))))(Ve=>{const ot=makeGalaxyAttributes(ke.instancedBufferAttribute),Ye=_bind(_liftEffect(()=>({value:Leaf})))(Le=>_bind(_liftEffect(create))(at=>_bind(_liftEffect((()=>J?xForTouch(y)(O)(B)(Player4)(mempty1):xForKeyboard(O)(B)(Player4)(mempty1))()))(qe=>_bind(_liftEffect(()=>{const nt=ne.renderingInfo.value;return{value:initialPositions(nt)}}))(nt=>_bind(_liftEffect(subscribe(qe)(it=>writeToRecordImpl("p4x")(it)(nt))))(()=>_bind(_liftEffect(subscribe(Y.event)(it=>{const ft=updateKnownPlayerPoints(Player4)(basicOutcomeToPointOutcome(beatsToBasicOutcome(it.deltaBeats)))(Le);return()=>{const ht=ft();return at.push(ht)()}})))(()=>_bind(_liftEffect(subscribe(Q.event)(it=>{const ft=updateKnownPlayerPoints(Player4)($Either("Right",abs(2-it.distance)*it.pctConsumed*20))(Le);return()=>{const ht=ft();return at.push(ht)()}})))(()=>_bind(_liftEffect(()=>({value:mempty2})))(it=>_bind(_liftEffect(subscribe(te.event)(ft=>magicLeaps(it)(O)(nt)(refToBehavior(ne.renderingInfo))({player:Player4,newPosition:ft.newPosition}))))(()=>{const ft=drop(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil)))))))));return _bind(dlInChunks(m)(100)(take$3(300)($List("Cons",$Tuple("tutorial","tutorial"),$List("Cons",$Tuple("shakuhachi0","shakuhachi0"),$List("Cons",$Tuple("shakuhachi1","shakuhachi1"),$List("Cons",$Tuple("shakuhachi2","shakuhachi2"),$List("Cons",$Tuple("shakuhachi3","shakuhachi3"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("floorTom","floorTom"),$List("Cons",$Tuple("elvedenHallLordsCloakroom","elvedenHallLordsCloakroom"),Nil))))))))))(G)(he))(()=>_bind(_liftEffect(L.push(!0)))(()=>_bind(dlInChunks(m)(100)(ft)(G)(he))(()=>_bind(joinFiber(et))(ht=>_bind(joinFiber(Te))(Mt=>_bind(joinFiber(Ve))(Bt=>_liftEffect(()=>{const Ke=he.value,St=_lookup(Nothing,Just,"elvedenHallLordsCloakroom",Ke),pt=innerWidth(B)(),Rt=innerHeight(B)();return{player:Player4,threeDI:ke,initialDims:{iw:toNumber(pt),ih:toNumber(Rt)},stats:q,shaders:u,galaxyAttributes:ot,cNow:O,playerPositions:refToBehavior(nt),models:Mt,textures:ht,cubeTextures:Bt,longVerb:(()=>{if(St.tag==="Nothing")return ue;if(St.tag==="Just")return St._1;fail$3()})(),playerStatus:folded((()=>{const Ot=sampleBy(functorEvent)($$const)(refToBehavior(Le))(applicativeEvent.pure(unit));return(Vt,$t)=>{const Ut=Ot(Vt,$t),en=at.event(Vt,$t);return()=>(Ut(),en())}})()),optMeIn:Ot=>()=>{const Vt=Le.value,$t=Le.value=semigroupKnownPlayers.append($Map("Two",Leaf,Player4,$StartStatus("HasStarted",{startedAt:Ot,points:0,penalties:0,name:Nothing}),Leaf))(Vt);return at.push($t)()}}})))))))})))))))));return _map(Le=>unit)(_liftEffect(subscribe(fe.event)(Le=>{const at=_makeFiber(ffiUtil$1,_bind(_liftEffect(info("received channel "+showChannelChooser.show(Le))))(()=>_bind(_liftEffect(bindE(()=>re.value)(identity$v)))(()=>{if(Le.tag==="EditorChannel")return _bind(_liftEffect(z.push(StartingNegotiation)))(()=>_bind(Ye)(qe=>_liftEffect(z.push($Negotiation("OpenEditor",{oe:{fbAuth:$,firestoreDb:w,stats:q,goBack:navigateToHash(""),signedInNonAnonymously:dedup(eqBoolean)(S.event)},wt:qe})))));if(Le.tag==="TutorialChannel")return _bind(_liftEffect(z.push(StartingNegotiation)))(()=>_bind(Ye)(qe=>_liftEffect(z.push($Negotiation("WantsTutorial",qe)))));if(Le.tag==="NoChannel")return _bind(joinFiber(Te))(qe=>_bind(joinFiber(Ve))(nt=>_bind(_liftEffect((()=>{const it=innerWidth(B),ft=innerHeight(B);return()=>{const ht=it(),Mt=ft();return{iw:toNumber(ht),ih:toNumber(Mt)}}})()))(it=>_liftEffect(z.push($Negotiation("GetRulesOfGame",{threeDI:ke,initialDims:it,stats:q,firestoreDb:w,fbAuth:$,models:qe,signOut:(()=>{const ft=_makeFiber(ffiUtil$1,_bind(_liftEffect(signOut($)(()=>unit)))(toAff$p(coerce)));return()=>(ft().run(),unit)})(),cubeTextures:nt,cNow:O,signedInNonAnonymously:S.event}))))));if(Le.tag==="RideChannel")return _bind(_liftEffect(()=>({value:Leaf})))(qe=>_bind(_liftEffect(create))(nt=>_bind(_liftEffect(z.push(StartingNegotiation)))(()=>_bind(_liftEffect(force4))(it=>_bind(createRideIfNotExistsYet(w)(Le._1))(ft=>_bind(_liftEffect((()=>{const ht=subscribe(eventChannelChanges(w)(ft))(Mt=>()=>{const Bt=qe.value,Ke=qe.value=semigroupKnownPlayers.append(constructAppendableKnownPlayersFromRide(Mt))(Bt);return nt.push(Ke)()});return()=>{const Mt=ht();return re.value=Mt}})()))(()=>_bind(_bind(pubnub(Re)(ft))(ht=>_pure({publish:ht.publish,event:filter(Mt=>Mt.message.iAm!==Re?$Maybe("Just",Mt.message.action):Nothing)(ht.event)})))(ht=>_bind(_liftEffect(()=>({value:mempty2})))(Mt=>_bind(_liftEffect(()=>{const Bt=ne.renderingInfo.value;return{value:initialPositions(Bt)}}))(Bt=>_bind(_liftEffect(subscribe(ht.event)(Ke=>{if(Ke.tag==="HitLeap")return magicLeaps(Mt)(O)(Bt)(refToBehavior(ne.renderingInfo))(Ke._1);if(Ke.tag==="HitBasic"){const St=updateKnownPlayerPoints(Ke._1.player)(Ke._1.outcome)(qe);return()=>{const pt=St();return logShow3({player:Ke._1.player,outcome:Ke._1.outcome,kp:pt})(),nt.push(pt)()}}if(Ke.tag==="PressedStart")return()=>{const St=qe.value,pt=qe.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1.player,$StartStatus("HasStarted",{name:Ke._1.name,startedAt:Ke._1.startedAt,points:0,penalties:0}),Leaf))(St);return nt.push(pt)()};if(Ke.tag==="HitLong")return()=>unit;if(Ke.tag==="ReleaseLong"){const St=updateKnownPlayerPoints(Ke._1.player)(Ke._1.outcome)(qe);return()=>{const pt=St();return nt.push(pt)()}}if(Ke.tag==="XPositionKeyboard")return(()=>{if(Ke._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Ke._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Ke._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Ke._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(St=>posFromKeypress(Ke._1.ktpd)(St.epochTime))(Bt);if(Ke.tag==="XPositionMobile")return(()=>{if(Ke._1.player.tag==="Player1")return writeToRecordImpl("p1x");if(Ke._1.player.tag==="Player2")return writeToRecordImpl("p2x");if(Ke._1.player.tag==="Player3")return writeToRecordImpl("p3x");if(Ke._1.player.tag==="Player4")return writeToRecordImpl("p4x");fail$3()})()(St=>posFromOrientation(Ke._1.gtpd)(St.epochTime))(Bt);fail$3()})))(()=>_bind(getPlayerForChannel($)(w)(ft)((()=>it?$Maybe("Just",Player4):Nothing)()))(Ke=>{if(Ke.tag==="Nothing")return _bind(_liftEffect(z.push(GameHasStarted)))(()=>never);if(Ke.tag==="Just")return _bind(_liftEffect(()=>{const St=qe.value;return qe.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1,HasNotStartedYet,Leaf))(St),unit}))(()=>_bind(_liftEffect((()=>J?xForTouch(y)(O)(B)(Ke._1)(ht.publish):xForKeyboard(O)(B)(Ke._1)(ht.publish))()))(St=>_bind(_liftEffect(subscribe(St)(pt=>{if(Ke._1.tag==="Player1")return writeToRecordImpl("p1x")(pt)(Bt);if(Ke._1.tag==="Player2")return writeToRecordImpl("p2x")(pt)(Bt);if(Ke._1.tag==="Player3")return writeToRecordImpl("p3x")(pt)(Bt);if(Ke._1.tag==="Player4")return writeToRecordImpl("p4x")(pt)(Bt);fail$3()})))(()=>_bind(_liftEffect(subscribe(Y.event)(pt=>{const Rt=basicOutcomeToPointOutcome(beatsToBasicOutcome(pt.deltaBeats)),Ot=updateKnownPlayerPoints(Ke._1)(Rt)(qe);return()=>{const Vt=Ot();return nt.push(Vt)(),for_((()=>{const $t=lookup$2(ordPlayer)(Ke._1)(Vt);if($t.tag==="Just"){if($t._1.tag==="HasNotStartedYet")return Nothing;if($t._1.tag==="HasStarted")return $Maybe("Just",$t._1._1);fail$3()}if($t.tag==="Nothing")return Nothing;fail$3()})())($t=>{const Ut=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(w)($)(ft)(Ke._1)($t.points)($t.penalties));return()=>(Ut().run(),unit)})(),ht.publish($PlayerAction("HitBasic",{uniqueId:pt.uniqueId,logicalBeat:pt.logicalBeat,deltaBeats:pt.deltaBeats,hitAt:pt.hitAt,player:Ke._1,outcome:Rt}))()}})))(()=>_bind(_liftEffect(subscribe(K.event)(pt=>ht.publish($PlayerAction("HitLong",{uniqueId:pt.uniqueId,hitAt:pt.hitAt,distance:pt.distance,player:Ke._1})))))(()=>_bind(_liftEffect(subscribe(Q.event)(pt=>{const Rt=$Either("Right",abs(2-pt.distance)*pt.pctConsumed*20),Ot=updateKnownPlayerPoints(Ke._1)(Rt)(qe);return()=>{const Vt=Ot();return nt.push(Vt)(),for_((()=>{const $t=lookup$2(ordPlayer)(Ke._1)(Vt);if($t.tag==="Just"){if($t._1.tag==="HasNotStartedYet")return Nothing;if($t._1.tag==="HasStarted")return $Maybe("Just",$t._1._1);fail$3()}if($t.tag==="Nothing")return Nothing;fail$3()})())($t=>{const Ut=_makeFiber(ffiUtil$1,sendMyPointsAndPenaltiesToFirebase(w)($)(ft)(Ke._1)($t.points)($t.penalties));return()=>(Ut().run(),unit)})(),ht.publish($PlayerAction("ReleaseLong",{uniqueId:pt.uniqueId,hitAt:pt.hitAt,player:Ke._1,distance:pt.distance,pctConsumed:pt.pctConsumed,releasedAt:pt.releasedAt,outcome:Rt}))()}})))(()=>_bind(_liftEffect(subscribe(te.event)(pt=>{const Rt=magicLeaps(Mt)(O)(Bt)(refToBehavior(ne.renderingInfo))({player:Ke._1,newPosition:pt.newPosition});return()=>(Rt(),ht.publish($PlayerAction("HitLeap",{uniqueId:pt.uniqueId,hitAt:pt.hitAt,player:Ke._1,oldPosition:pt.oldPosition,newPosition:pt.newPosition}))())})))(()=>{const pt=drop(300)($List("Cons",$Tuple(Le._3._1.url,Le._3._1.url),Nil)),Rt=fromFoldable1(listMap(Ot=>$Tuple(Ot._1,Ot._2))($List("Cons",$Tuple(Le._3._1.url,Le._3._1.url),Nil)));return _bind(dlInChunks(Rt)(100)(take$3(300)($List("Cons",$Tuple(Le._3._1.url,Le._3._1.url),Nil)))(G)(he))(()=>_bind(_liftEffect(L.push(!0)))(()=>_bind(dlInChunks(Rt)(100)(pt)(G)(he))(()=>_bind(_liftEffect(getItem("player-name")(N)))(Ot=>_bind(joinFiber(et))(Vt=>_bind(joinFiber(Te))($t=>_bind(joinFiber(Ve))(Ut=>_bind(_liftEffect((()=>{const en=innerWidth(B),Xe=innerHeight(B);return()=>{const Je=en(),yt=Xe();return{iw:toNumber(Je),ih:toNumber(yt)}}})()))(en=>_bind(getEventsAff(w)(Le._2))(Xe=>_liftEffect(z.push($Negotiation("Success",{player:Ke._1,trackId:Le._2,stats:q,track:Le._3,events:toAugmentedEvents(arrayMap(Je=>Je.data)(Xe)),initialDims:en,threeDI:ke,locallyStoredPlayerNameInCaseThisIsAnAnonymousSession:Ot,shaders:u,galaxyAttributes:ot,cNow:O,playerPositions:refToBehavior(Bt),models:$t,channelName:ft,pubNubEvent:ht.event,textures:Vt,profileEvent:P.event,cubeTextures:Ut,playerStatus:folded((()=>{const Je=sampleBy(functorEvent)($$const)(refToBehavior(qe))(applicativeEvent.pure(unit));return(yt,bt)=>{const xt=Je(yt,bt),cn=nt.event(yt,bt);return()=>(xt(),cn())}})()),optMeIn:Je=>yt=>{const bt=(()=>yt.tag==="Nothing"?Ot:yt)(),xt=for_(yt)(cn=>setItem("player-name")(cn)(N));return()=>{xt();const cn=qe.value,kt=qe.value=semigroupKnownPlayers.append($Map("Two",Leaf,Ke._1,$StartStatus("HasStarted",{startedAt:Je,points:0,penalties:0,name:bt}),Leaf))(cn);return ht.publish($PlayerAction("PressedStart",{startedAt:Je,name:bt,player:Ke._1}))(),nt.push(kt)()}}}))))))))))))})))))));fail$3()})))))))))));fail$3()})));return()=>(at().run(),unit)})))}))))))))().run(),unit}))))().run(),unit})))))))))));return()=>(h().run(),unit)},butterflies="/assets/butterflies.50d2e6a4.mp3",tutorial="/assets/tutorial.28f8239c.mp3",shakuhachi0="/assets/shakuhachi0.87441ba1.mp3",shakuhachi1="/assets/shakuhachi1.467979ab.mp3",shakuhachi2="/assets/shakuhachi2.e7dcdf09.mp3",shakuhachi3="/assets/shakuhachi3.d5a25298.mp3",floorTom="/assets/floorTom.72a3bc1a.mp3",elvedenHallLordsCloakroom="/assets/elvedenHallLordsCloakroom.16b64111.m4a",audio={butterflies,tutorial,shakuhachi0,shakuhachi1,shakuhachi2,shakuhachi3,floorTom,elvedenHallLordsCloakroom},galaxyVertex="data:application/octet-stream;base64,dW5pZm9ybSBmbG9hdCB1U2l6ZTsKdW5pZm9ybSBmbG9hdCB1VGltZTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb24yOwphdHRyaWJ1dGUgdmVjMyBhQ29sb3I7CmF0dHJpYnV0ZSB2ZWMzIGFDb2xvcjI7CnZhcnlpbmcgdmVjMiB2VXY7CiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0NgoKbWF0NCByb3RhdGlvblgoIGluIGZsb2F0IGFuZ2xlICkgewoJcmV0dXJuIG1hdDQoCTEuMCwJCTAsCQkJMCwJCQkwLAoJCQkgCQkwLCAJY29zKGFuZ2xlKSwJLXNpbihhbmdsZSksCQkwLAoJCQkJCTAsIAlzaW4oYW5nbGUpLAkgY29zKGFuZ2xlKSwJCTAsCgkJCQkJMCwgCQkJMCwJCQkgIDAsIAkJMSk7Cn0KCm1hdDQgcm90YXRpb25ZKCBpbiBmbG9hdCBhbmdsZSApIHsKCXJldHVybiBtYXQ0KAljb3MoYW5nbGUpLAkJMCwJCXNpbihhbmdsZSksCTAsCgkJCSAJCQkJMCwJCTEuMCwJCQkgMCwJMCwKCQkJCQktc2luKGFuZ2xlKSwJMCwJCWNvcyhhbmdsZSksCTAsCgkJCQkJCQkwLCAJCTAsCQkJCTAsCTEpOwp9CgptYXQ0IHJvdGF0aW9uWiggaW4gZmxvYXQgYW5nbGUgKSB7CglyZXR1cm4gbWF0NCgJY29zKGFuZ2xlKSwJCS1zaW4oYW5nbGUpLAkwLAkwLAoJCQkgCQlzaW4oYW5nbGUpLAkJY29zKGFuZ2xlKSwJCTAsCTAsCgkJCQkJCQkwLAkJCQkwLAkJMSwJMCwKCQkJCQkJCTAsCQkJCTAsCQkwLAkxKTsKfQoKbWF0MyByb3RNYXQoZmxvYXQgY29zdGhldGEsIHZlYzMgdmMpIHsKICBmbG9hdCBjID0gY29zdGhldGE7CiAgZmxvYXQgcyA9IHNxcnQoMS4wLShjKmMpKTsKICBmbG9hdCBDID0gMS4wLWM7CiAgZmxvYXQgeCA9IHZjLng7CiAgZmxvYXQgeSA9IHZjLnk7CiAgZmxvYXQgeiA9IHZjLno7CiAgbWF0MyBvdXR2OwogIG91dHZbMF1bMF0gPSB4KngqQytjOwogIG91dHZbMV1bMF0gPSB4KnkqQy16KnM7CiAgb3V0dlsyXVswXSA9IHgqeipDK3kqczsKICBvdXR2WzFdWzBdID0geSp4KkMreipzOwogIG91dHZbMV1bMV0gPSB5KnkqQytjOwogIG91dHZbMV1bMl0gPSB5KnoqQy14KnM7CiAgb3V0dlsyXVswXSA9IHoqeCpDLXkqczsKICBvdXR2WzJdWzFdID0geip5KkMreCpzOwogIG91dHZbMl1bMl0gPSB6KnoqQytjOwogIHJldHVybiBvdXR2Owp9CgpmbG9hdCBta1NpblRpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gc2luKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueCAqIDAuMDMpICsgZnV6ei55ICogUEkpICogMC41ICsgMC41Owp9CgpmbG9hdCBta0Nvc1RpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gY29zKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueSAqIDAuMDMpICsgZnV6ei56ICogUEkpICogMC41ICsgMC41Owp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgZHQgPSAwLjAyOwogIGZsb2F0IHNpblRpbWUgPSBta1NpblRpbWUodVRpbWUsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZSA9IG1rQ29zVGltZSh1VGltZSwgYVBvc2l0aW9uKTsKICBmbG9hdCBzaW5UaW1lRnV0dXJlID0gbWtTaW5UaW1lKHVUaW1lICsgZHQsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZUZ1dHVyZSA9IG1rQ29zVGltZSh1VGltZSArIGR0LCBhUG9zaXRpb24pOwogIGZsb2F0IHNpblRpbWUyID0gc2luKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IGNvc1RpbWUyID0gY29zKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IHNpblRpbWUzID0gc2luKHVUaW1lICogUEkgKiA2LjAgKiBhUG9zaXRpb24ueikgKiAwLjUgKyAwLjU7CiAgdmVjMyBtb2RQb3NpdGlvbjsKICBmbG9hdCBmbGFwRmFjdG9yID0gMC43NTsKICBtb2RQb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqIHNpblRpbWUzICogLTEuMCAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi54OwogIG1vZFBvc2l0aW9uLnkgPSBwb3NpdGlvbi55OwogIG1vZFBvc2l0aW9uLnogPSBhYnMocG9zaXRpb24ueCkgKiBzaW5UaW1lMyAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi56OwogIG1hdDQgc2NhbGVNYXRyaXggPSBtYXQ0KDEuMCk7CiAgc2NhbGVNYXRyaXhbMF1bMF0gPSAwLjA1OwogIHNjYWxlTWF0cml4WzFdWzFdID0gMC4wNTsKICBzY2FsZU1hdHJpeFsyXVsyXSA9IDAuMDU7CiAgbWF0NCB0cmFuc2xhdGlvbk1hdHJpeCA9IG1hdDQoMS4wKTsKICBmbG9hdCB4bm93ID0gbWl4KGFQb3NpdGlvbi54ICogMi4wLCBhUG9zaXRpb24yLnggKiAyLjAsIHNpblRpbWUpOwogIGZsb2F0IHlub3cgPSBtaXgoYVBvc2l0aW9uLnkgKiAyLjAsIGFQb3NpdGlvbjIueSAqIDIuMCwgY29zVGltZSk7CiAgZmxvYXQgem5vdyA9IC0yLjAgKyBtaXgoYVBvc2l0aW9uLnogKiAyLjAsIGFQb3NpdGlvbjIueiAqIDIuMCwgc2luVGltZSk7CiAgZmxvYXQgeEZ1dHVyZSA9IG1peChhUG9zaXRpb24ueCAqIDIuMCwgYVBvc2l0aW9uMi54ICogMi4wLCBzaW5UaW1lRnV0dXJlKTsKICBmbG9hdCB5RnV0dXJlID0gbWl4KGFQb3NpdGlvbi55ICogMi4wLCBhUG9zaXRpb24yLnkgKiAyLjAsIGNvc1RpbWVGdXR1cmUpOwogIGZsb2F0IHpGdXR1cmUgPSAtMi4wICsgbWl4KGFQb3NpdGlvbi56ICogMi4wLCBhUG9zaXRpb24yLnogKiAyLjAsIHNpblRpbWVGdXR1cmUpOwogIGZsb2F0IHhWZWwgPSAoeEZ1dHVyZSAtIHhub3cpIC8gZHQ7CiAgZmxvYXQgeVZlbCA9ICh5RnV0dXJlIC0geW5vdykgLyBkdDsKICBmbG9hdCB6VmVsID0gKHpGdXR1cmUgLSB6bm93KSAvIGR0OwogIHZlYzMgdmVsID0gbm9ybWFsaXplKHZlYzMoeFZlbCwgeVZlbCwgelZlbCkpOwogIHZlYzMgTSA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgdmVjMyBOID0gTSAtICh2ZWMzKDAuMCwgMS4wLCAwLjApIC0gdmVsKTsKICBmbG9hdCBjb3N0aGV0YSA9IGRvdChNLE4pLyhsZW5ndGgoTSkqbGVuZ3RoKE4pKTsKICB2ZWMzIGNyb3NzTU4gPSBjcm9zcyhNLCBOKTsKICB2ZWMzIGF4aXMgPSBjcm9zc01OIC8gbGVuZ3RoKGNyb3NzTU4pOwogIHRyYW5zbGF0aW9uTWF0cml4WzNdWzBdID0geG5vdzsKICB0cmFuc2xhdGlvbk1hdHJpeFszXVsxXSA9IHlub3c7CiAgdHJhbnNsYXRpb25NYXRyaXhbM11bMl0gPSB6bm93OwogIHZVdiA9IHV2OwogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogIHNjYWxlTWF0cml4ICogdmVjNChyb3RNYXQoY29zdGhldGEsIGNyb3NzTU4pICogbW9kUG9zaXRpb24sIDEuMCk7CiAgdkNvbG9yID0gdmVjMyhtaXgoYUNvbG9yLngsYUNvbG9yMi54LHNpblRpbWUyKSwgbWl4KGFDb2xvci55LGFDb2xvcjIueSxjb3NUaW1lMiksIG1peChhQ29sb3IueixhQ29sb3IyLnosc2luVGltZTIpKTsKfQ==",galaxyFragment="data:application/octet-stream;base64,dW5pZm9ybSBzYW1wbGVyMkQgdUJ1dHRlcmZseTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKdmFyeWluZyB2ZWMyIHZVdjsKCnZvaWQgbWFpbigpIHsKICAgIC8vIExpZ2h0IHBvaW50CiAgICAvLyBkaXN0YW5jZSBmcm9tIGNlbnRlcgogICAgLy9mbG9hdCBzdHJlbmd0aCA9IGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoMC41KSk7CiAgICAvL2Zsb2F0IHN0cmVuZ3RoID0gZGlzdGFuY2UodlV2LCB2ZWMyKDAuNSkpOwogICAgLy8gYnJpZ2h0ZXN0IGF0IGNlbnRlcgogICAgLy8gc3RyZW5ndGggPSAxLjAgLSBzdHJlbmd0aDsKICAgIC8vIGZhc3QgZmFsbCBvZmYKICAgIC8vIHN0cmVuZ3RoID0gcG93KHN0cmVuZ3RoLCAxMC4wKTsKICAgIC8vIGFtcCB1cCB0byBvdXIgZGVzaXJlZCBjb2xvciBiYXNlZCBvbiBzdHJlbmd0aAogICAgLy92ZWM0IGNvbG9yUmF3ID0gdGV4dHVyZTJEKHVCdXR0ZXJmbHksIHZlYzIoZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnkpKTsKICAgIHZlYzQgY29sb3JSYXcgPSB0ZXh0dXJlMkQodUJ1dHRlcmZseSwgdlV2KTsKICAgIHZlYzQgY29sb3IgPSB2ZWM0KG1peCh2Q29sb3IueCwgY29sb3JSYXcueCwgMC41KSwgbWl4KHZDb2xvci55LCBjb2xvclJhdy55LCAwLjUpLCBtaXgodkNvbG9yLnosIGNvbG9yUmF3LnosIDAuNSksIGNvbG9yUmF3LmEgKiAwLjgpOwogICAgLy92ZWM0IGNvbG9yID0gY29sb3JSYXc7CiAgICAvLyB2ZWMzIGNvbG9yMyA9IG1peCh2ZWMzKDAuMCksIHZDb2xvciwgc3RyZW5ndGgpOwogICAgLy8gdmVjNCBjb2xvciA9IHZlYzQoY29sb3IzLCAxLjApOwogICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn0=",shaders={galaxy:{vertex:galaxyVertex,fragment:galaxyFragment}},skyboxBack="/assets/back.8d9e29a9.png",skyboxBottom="/assets/bottom.12fd9dfa.png",skyboxFront="/assets/front.0bb4245b.png",skyboxLeft="/assets/left.9c5ded93.png",skyboxRight="/assets/right.dc686941.png",skyboxTop="/assets/top.56ee4123.png",cubeTextures={skybox:{back:skyboxBack,bottom:skyboxBottom,front:skyboxFront,left:skyboxLeft,right:skyboxRight,top:skyboxTop}},textures={},models={spaceship:"./models/spaceship26_mod.gltf"};main(models)(shaders)(cubeTextures)(textures)(audio)();export{getDefaultExportFromCjs as g};
