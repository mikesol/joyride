import{BufferGeometry as O}from"./BufferGeometry.d5615ad3.js";import{Float32BufferAttribute as T}from"./BufferAttribute.ad6349b3.js";import{V as d}from"./Vector3.5db2ef2e.js";import{Vector2 as P}from"./Vector2.3964b2c2.js";import"./Sphere.bf80223e.js";import"./EventDispatcher.62ae53dd.js";import"./Object3D.d81adcf4.js";import"./Matrix4.0c7a2215.js";import"./MathUtils.9169ae61.js";import"./Euler.d28ed76f.js";import"./Layers.61b05682.js";import"./Matrix3.254ef6d6.js";import"./utils.4cfc5b76.js";import"./Vector4.27798d04.js";import"./Color.5efc95ab.js";import"./constants.cc13e4fd.js";class J extends O{constructor(o=1,m=1,z=1,n=8,l=1,B=!1,I=0,V=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:o,radiusBottom:m,height:z,radialSegments:n,heightSegments:l,openEnded:B,thetaStart:I,thetaLength:V};const F=this;n=Math.floor(n),l=Math.floor(l);const y=[],b=[],A=[],C=[];let w=0;const v=[],E=z/2;let G=0;N(),B===!1&&(o>0&&H(!0),m>0&&H(!1)),this.setIndex(y),this.setAttribute("position",new T(b,3)),this.setAttribute("normal",new T(A,3)),this.setAttribute("uv",new T(C,2));function N(){const u=new d,i=new d;let f=0;const h=(m-o)/z;for(let s=0;s<=l;s++){const e=[],r=s/l,x=r*(m-o)+o;for(let t=0;t<=n;t++){const p=t/n,c=p*V+I,M=Math.sin(c),a=Math.cos(c);i.x=x*M,i.y=-r*z+E,i.z=x*a,b.push(i.x,i.y,i.z),u.set(M,h,a).normalize(),A.push(u.x,u.y,u.z),C.push(p,1-r),e.push(w++)}v.push(e)}for(let s=0;s<n;s++)for(let e=0;e<l;e++){const r=v[e][s],x=v[e+1][s],t=v[e+1][s+1],p=v[e][s+1];y.push(r,x,p),y.push(x,t,p),f+=6}F.addGroup(G,f,0),G+=f}function H(u){const i=w,f=new P,h=new d;let s=0;const e=u===!0?o:m,r=u===!0?1:-1;for(let t=1;t<=n;t++)b.push(0,E*r,0),A.push(0,r,0),C.push(.5,.5),w++;const x=w;for(let t=0;t<=n;t++){const c=t/n*V+I,M=Math.cos(c),a=Math.sin(c);h.x=e*a,h.y=E*r,h.z=e*M,b.push(h.x,h.y,h.z),A.push(0,r,0),f.x=M*.5+.5,f.y=a*.5*r+.5,C.push(f.x,f.y),w++}for(let t=0;t<n;t++){const p=i+t,c=x+t;u===!0?y.push(c,c+1,p):y.push(c+1,c,p),s+=3}F.addGroup(G,s,u===!0?1:2),G+=s}}static fromJSON(o){return new J(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}export{J as CylinderBufferGeometry,J as CylinderGeometry};
