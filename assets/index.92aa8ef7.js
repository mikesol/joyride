(function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(script) {
    const fetchOpts = {};
    if (script.integrity)
      fetchOpts.integrity = script.integrity;
    if (script.referrerpolicy)
      fetchOpts.referrerPolicy = script.referrerpolicy;
    if (script.crossorigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (script.crossorigin === "anonymous")
      fetchOpts.credentials = "omit";
    else
      fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
})();
const style$1 = "";
const style = "";
!function(n2) {
  var r2 = {};
  function o(t2) {
    if (r2[t2])
      return r2[t2].exports;
    var e2 = r2[t2] = { i: t2, l: false, exports: {} };
    return n2[t2].call(e2.exports, e2, e2.exports, o), e2.l = true, e2.exports;
  }
  o.m = n2, o.c = r2, o.d = function(t2, e2, n3) {
    o.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: n3 });
  }, o.r = function(t2) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
  }, o.t = function(e2, t2) {
    if (1 & t2 && (e2 = o(e2)), 8 & t2)
      return e2;
    if (4 & t2 && "object" == typeof e2 && e2 && e2.__esModule)
      return e2;
    var n3 = /* @__PURE__ */ Object.create(null);
    if (o.r(n3), Object.defineProperty(n3, "default", { enumerable: true, value: e2 }), 2 & t2 && "string" != typeof e2)
      for (var r3 in e2)
        o.d(n3, r3, function(t3) {
          return e2[t3];
        }.bind(null, r3));
    return n3;
  }, o.n = function(t2) {
    var e2 = t2 && t2.__esModule ? function() {
      return t2.default;
    } : function() {
      return t2;
    };
    return o.d(e2, "a", e2), e2;
  }, o.o = function(t2, e2) {
    return Object.prototype.hasOwnProperty.call(t2, e2);
  }, o.p = "", o(o.s = 193);
}([function(n2, t2, e2) {
  !function(t3) {
    function e3(t4) {
      return t4 && t4.Math == Math && t4;
    }
    n2.exports = e3("object" == typeof globalThis && globalThis) || e3("object" == typeof window && window) || e3("object" == typeof self && self) || e3("object" == typeof t3 && t3) || function() {
      return this;
    }() || Function("return this")();
  }.call(this, e2(154));
}, function(t2, e2, n2) {
  var n2 = n2(60), r2 = Function.prototype, o = r2.bind, i2 = r2.call, a2 = n2 && o.bind(i2, i2);
  t2.exports = n2 ? function(t3) {
    return t3 && a2(t3);
  } : function(t3) {
    return t3 && function() {
      return i2.apply(t3, arguments);
    };
  };
}, function(t2, e2) {
  t2.exports = function(t3) {
    try {
      return !!t3();
    } catch (t4) {
      return true;
    }
  };
}, function(t2, e2, n2) {
  var u = n2(0), l2 = n2(42).f, f = n2(45), d = n2(37), p2 = n2(98), h = n2(126), v = n2(81);
  t2.exports = function(t3, e3) {
    var n3, r2, o, i2 = t3.target, a2 = t3.global, c2 = t3.stat, s2 = a2 ? u : c2 ? u[i2] || p2(i2, {}) : (u[i2] || {}).prototype;
    if (s2)
      for (n3 in e3) {
        if (r2 = e3[n3], o = t3.noTargetGet ? (o = l2(s2, n3)) && o.value : s2[n3], !v(a2 ? n3 : i2 + (c2 ? "." : "#") + n3, t3.forced) && void 0 !== o) {
          if (typeof r2 == typeof o)
            continue;
          h(r2, o);
        }
        (t3.sham || o && o.sham) && f(r2, "sham", true), d(s2, n3, r2, t3);
      }
  };
}, function(t2, e2, n2) {
  var r2 = n2(105), o = n2(37), n2 = n2(158);
  r2 || o(Object.prototype, "toString", n2, { unsafe: true });
}, function(t2, e2, n2) {
  var r2 = n2(30), o = n2(89), i2 = n2(68), a2 = n2(49), c2 = n2(22).f, s2 = n2(109), u = n2(54), n2 = n2(17), l2 = "Array Iterator", f = a2.set, d = a2.getterFor(l2), a2 = (t2.exports = s2(Array, "Array", function(t3, e3) {
    f(this, { type: l2, target: r2(t3), index: 0, kind: e3 });
  }, function() {
    var t3 = d(this), e3 = t3.target, n3 = t3.kind, r3 = t3.index++;
    return !e3 || r3 >= e3.length ? { value: t3.target = void 0, done: true } : "keys" == n3 ? { value: r3, done: false } : "values" == n3 ? { value: e3[r3], done: false } : { value: [r3, e3[r3]], done: false };
  }, "values"), i2.Arguments = i2.Array);
  if (o("keys"), o("values"), o("entries"), !u && n2 && "values" !== a2.name)
    try {
      c2(a2, "name", { value: "values" });
    } catch (t3) {
    }
}, function(t2, e2, n2) {
  var r2 = n2(137).charAt, o = n2(23), i2 = n2(49), n2 = n2(109), a2 = "String Iterator", c2 = i2.set, s2 = i2.getterFor(a2);
  n2(String, "String", function(t3) {
    c2(this, { type: a2, string: o(t3), index: 0 });
  }, function() {
    var t3 = s2(this), e3 = t3.string, n3 = t3.index;
    return n3 >= e3.length ? { value: void 0, done: true } : (e3 = r2(e3, n3), t3.index += e3.length, { value: e3, done: false });
  });
}, function(N, R, t2) {
  function r2(t3, e3) {
    var n3 = P[t3] = g(T);
    return ft(n3, { type: x, tag: t3, description: e3 }), u || (n3.description = e3), n3;
  }
  function o(t3, e3, n3) {
    return t3 === E && o(M, e3, n3), h(t3), e3 = y(e3), h(n3), d(P, e3) ? (n3.enumerable ? (d(t3, S) && t3[S][e3] && (t3[S][e3] = false), n3 = g(n3, { enumerable: m(0, false) })) : (d(t3, S) || D(t3, S, m(1, {})), t3[S][e3] = true), bt(t3, e3, n3)) : D(t3, e3, n3);
  }
  function n2(e3, t3) {
    h(e3);
    var n3 = v(t3), t3 = Q(n3).concat(a2(n3));
    return C(t3, function(t4) {
      u && !s2(i2, n3, t4) || o(e3, t4, n3[t4]);
    }), e3;
  }
  function i2(t3) {
    var t3 = y(t3), e3 = s2(yt, this, t3);
    return !(this === E && d(P, t3) && !d(M, t3)) && (!(e3 || !d(this, t3) || !d(P, t3) || d(this, S) && this[S][t3]) || e3);
  }
  function B(t3, e3) {
    var n3, t3 = v(t3), e3 = y(e3);
    if (t3 !== E || !d(P, e3) || d(M, e3))
      return !(n3 = ht(t3, e3)) || !d(P, e3) || d(t3, S) && t3[S][e3] || (n3.enumerable = true), n3;
  }
  function H(t3) {
    var t3 = vt(v(t3)), e3 = [];
    return C(t3, function(t4) {
      d(P, t4) || d(it, t4) || mt(e3, t4);
    }), e3;
  }
  function a2(t3) {
    var e3 = t3 === E, t3 = vt(e3 ? M : v(t3)), n3 = [];
    return C(t3, function(t4) {
      !d(P, t4) || e3 && !d(E, t4) || mt(n3, P[t4]);
    }), n3;
  }
  var F, e2 = t2(3), c2 = t2(0), V = t2(43), Y = t2(84), s2 = t2(21), W = t2(1), z = t2(54), u = t2(17), l2 = t2(96), f = t2(2), d = t2(20), U = t2(86), q = t2(14), K = t2(19), $ = t2(44), p2 = t2(73), h = t2(18), X = t2(36), v = t2(30), y = t2(72), G = t2(23), m = t2(61), g = t2(50), Q = t2(66), Z = t2(55), J = t2(107), b = t2(103), tt = t2(42), et = t2(22), nt = t2(132), rt = t2(70), ot = t2(106), _ = t2(37), w = t2(77), O = t2(79), it = t2(63), at = t2(78), ct = t2(12), st = t2(133), ut = t2(134), lt = t2(87), k = t2(49), C = t2(56).forEach, S = O("hidden"), x = "Symbol", t2 = "prototype", O = ct("toPrimitive"), ft = k.set, dt = k.getterFor(x), E = Object[t2], j = c2.Symbol, T = j && j[t2], pt = c2.TypeError, k = c2.QObject, A = V("JSON", "stringify"), ht = tt.f, D = et.f, vt = J.f, yt = rt.f, mt = W([].push), P = w("symbols"), M = w("op-symbols"), I = w("string-to-symbol-registry"), L = w("symbol-to-string-registry"), c2 = w("wks"), gt = !k || !k[t2] || !k[t2].findChild, bt = u && f(function() {
    return 7 != g(D({}, "a", { get: function() {
      return D(this, "a", { value: 7 }).a;
    } })).a;
  }) ? function(t3, e3, n3) {
    var r3 = ht(E, e3);
    r3 && delete E[e3], D(t3, e3, n3), r3 && t3 !== E && D(E, e3, r3);
  } : D;
  l2 || (_(T = (j = function() {
    if ($(T, this))
      throw pt("Symbol is not a constructor");
    var t3 = arguments.length && void 0 !== arguments[0] ? G(arguments[0]) : void 0, e3 = at(t3), n3 = function(t4) {
      this === E && s2(n3, M, t4), d(this, S) && d(this[S], e3) && (this[S][e3] = false), bt(this, e3, m(1, t4));
    };
    return u && gt && bt(E, e3, { configurable: true, set: n3 }), r2(e3, t3);
  })[t2], "toString", function() {
    return dt(this).tag;
  }), _(j, "withoutSetter", function(t3) {
    return r2(at(t3), t3);
  }), rt.f = i2, et.f = o, nt.f = n2, tt.f = B, Z.f = J.f = H, b.f = a2, st.f = function(t3) {
    return r2(ct(t3), t3);
  }, u && (D(T, "description", { configurable: true, get: function() {
    return dt(this).description;
  } }), z || _(E, "propertyIsEnumerable", i2, { unsafe: true }))), e2({ global: true, wrap: true, forced: !l2, sham: !l2 }, { Symbol: j }), C(Q(c2), function(t3) {
    ut(t3);
  }), e2({ target: x, stat: true, forced: !l2 }, { for: function(t3) {
    t3 = G(t3);
    if (d(I, t3))
      return I[t3];
    var e3 = j(t3);
    return I[t3] = e3, L[e3] = t3, e3;
  }, keyFor: function(t3) {
    if (!p2(t3))
      throw pt(t3 + " is not a symbol");
    if (d(L, t3))
      return L[t3];
  }, useSetter: function() {
    gt = true;
  }, useSimple: function() {
    gt = false;
  } }), e2({ target: "Object", stat: true, forced: !l2, sham: !u }, { create: function(t3, e3) {
    return void 0 === e3 ? g(t3) : n2(g(t3), e3);
  }, defineProperty: o, defineProperties: n2, getOwnPropertyDescriptor: B }), e2({ target: "Object", stat: true, forced: !l2 }, { getOwnPropertyNames: H, getOwnPropertySymbols: a2 }), e2({ target: "Object", stat: true, forced: f(function() {
    b.f(1);
  }) }, { getOwnPropertySymbols: function(t3) {
    return b.f(X(t3));
  } }), A && e2({ target: "JSON", stat: true, forced: !l2 || f(function() {
    var t3 = j();
    return "[null]" != A([t3]) || "{}" != A({ a: t3 }) || "{}" != A(Object(t3));
  }) }, { stringify: function(t3, e3, n3) {
    var r3 = ot(arguments), o2 = e3;
    if ((K(e3) || void 0 !== t3) && !p2(t3))
      return U(e3) || (e3 = function(t4, e4) {
        if (q(o2) && (e4 = s2(o2, this, t4, e4)), !p2(e4))
          return e4;
      }), r3[1] = e3, Y(A, null, r3);
  } }), T[O] || (F = T.valueOf, _(T, O, function(t3) {
    return s2(F, this);
  })), lt(j, x), it[S] = true;
}, function(t2, e2, n2) {
  function r2(e3, t3) {
    if (e3) {
      if (e3[l2] !== d)
        try {
          u(e3, l2, d);
        } catch (t4) {
          e3[l2] = d;
        }
      if (e3[f] || u(e3, f, t3), a2[t3]) {
        for (var n3 in s2)
          if (e3[n3] !== s2[n3])
            try {
              u(e3, n3, s2[n3]);
            } catch (t4) {
              e3[n3] = s2[n3];
            }
      }
    }
  }
  var o, i2 = n2(0), a2 = n2(138), c2 = n2(139), s2 = n2(5), u = n2(45), n2 = n2(12), l2 = n2("iterator"), f = n2("toStringTag"), d = s2.values;
  for (o in a2)
    r2(i2[o] && i2[o].prototype, o);
  r2(c2, "DOMTokenList");
}, function(t2, e2, n2) {
  function r2(e3) {
    if (e3 && e3.forEach !== s2)
      try {
        u(e3, "forEach", s2);
      } catch (t3) {
        e3.forEach = s2;
      }
  }
  var o, i2 = n2(0), a2 = n2(138), c2 = n2(139), s2 = n2(168), u = n2(45);
  for (o in a2)
    a2[o] && r2(i2[o] && i2[o].prototype);
  r2(c2);
}, function(t2, e2, n2) {
  var r2, o, i2, a2, c2, s2, u, l2 = n2(3), f = n2(17), d = n2(0), p2 = n2(1), h = n2(20), v = n2(14), y = n2(44), m = n2(23), g = n2(22).f, n2 = n2(126), b = d.Symbol, _ = b && b.prototype;
  !f || !v(b) || "description" in _ && void 0 === b().description || (r2 = {}, n2(d = function() {
    var t3 = arguments.length < 1 || void 0 === arguments[0] ? void 0 : m(arguments[0]), e3 = y(_, this) ? new b(t3) : void 0 === t3 ? b() : b(t3);
    return "" === t3 && (r2[e3] = true), e3;
  }, b), (d.prototype = _).constructor = d, o = "Symbol(test)" == String(b("test")), i2 = p2(_.toString), a2 = p2(_.valueOf), c2 = /^Symbol\((.*)\)[^)]+$/, s2 = p2("".replace), u = p2("".slice), g(_, "description", { configurable: true, get: function() {
    var t3 = a2(this), e3 = i2(t3);
    if (h(r2, t3))
      return "";
    t3 = o ? u(e3, 7, -1) : s2(e3, c2, "$1");
    return "" === t3 ? void 0 : t3;
  } }), l2({ global: true, forced: true }, { Symbol: d }));
}, function(t2, e2, n2) {
  n2(134)("iterator");
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(77), i2 = n2(20), a2 = n2(78), c2 = n2(96), s2 = n2(123), u = o("wks"), l2 = r2.Symbol, f = l2 && l2.for, d = s2 ? l2 : l2 && l2.withoutSetter || a2;
  t2.exports = function(t3) {
    var e3;
    return i2(u, t3) && (c2 || "string" == typeof u[t3]) || (e3 = "Symbol." + t3, c2 && i2(l2, t3) ? u[t3] = l2[t3] : u[t3] = (s2 && f ? f : d)(e3)), u[t3];
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(36), i2 = n2(66);
  r2({ target: "Object", stat: true, forced: n2(2)(function() {
    i2(1);
  }) }, { keys: function(t3) {
    return i2(o(t3));
  } });
}, function(t2, e2) {
  t2.exports = function(t3) {
    return "function" == typeof t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(56).filter;
  r2({ target: "Array", proto: true, forced: !n2(94)("filter") }, { filter: function(t3) {
    return o(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), n2 = n2(90);
  r2({ target: "RegExp", proto: true, forced: /./.exec !== n2 }, { exec: n2 });
}, function(t2, e2, n2) {
  n2 = n2(2);
  t2.exports = !n2(function() {
    return 7 != Object.defineProperty({}, 1, { get: function() {
      return 7;
    } })[1];
  });
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(19), i2 = r2.String, a2 = r2.TypeError;
  t2.exports = function(t3) {
    if (o(t3))
      return t3;
    throw a2(i2(t3) + " is not an object");
  };
}, function(t2, e2, n2) {
  var r2 = n2(14);
  t2.exports = function(t3) {
    return "object" == typeof t3 ? null !== t3 : r2(t3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), o = n2(36), i2 = r2({}.hasOwnProperty);
  t2.exports = Object.hasOwn || function(t3, e3) {
    return i2(o(t3), e3);
  };
}, function(t2, e2, n2) {
  var n2 = n2(60), r2 = Function.prototype.call;
  t2.exports = n2 ? r2.bind(r2) : function() {
    return r2.apply(r2, arguments);
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(17), i2 = n2(124), a2 = n2(125), c2 = n2(18), s2 = n2(72), u = r2.TypeError, l2 = Object.defineProperty, f = Object.getOwnPropertyDescriptor, d = "enumerable", p2 = "configurable", h = "writable";
  e2.f = o ? a2 ? function(t3, e3, n3) {
    var r3;
    return c2(t3), e3 = s2(e3), c2(n3), "function" == typeof t3 && "prototype" === e3 && "value" in n3 && h in n3 && !n3[h] && ((r3 = f(t3, e3)) && r3[h] && (t3[e3] = n3.value, n3 = { configurable: (p2 in n3 ? n3 : r3)[p2], enumerable: (d in n3 ? n3 : r3)[d], writable: false })), l2(t3, e3, n3);
  } : l2 : function(t3, e3, n3) {
    if (c2(t3), e3 = s2(e3), c2(n3), i2)
      try {
        return l2(t3, e3, n3);
      } catch (t4) {
      }
    if ("get" in n3 || "set" in n3)
      throw u("Accessors not supported");
    return "value" in n3 && (t3[e3] = n3.value), t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(83), i2 = r2.String;
  t2.exports = function(t3) {
    if ("Symbol" === o(t3))
      throw TypeError("Cannot convert a Symbol value to a string");
    return i2(t3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(2), i2 = n2(30), a2 = n2(42).f, n2 = n2(17), o = o(function() {
    a2(1);
  });
  r2({ target: "Object", stat: true, forced: !n2 || o, sham: !n2 }, { getOwnPropertyDescriptor: function(t3, e3) {
    return a2(i2(t3), e3);
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(17), s2 = n2(127), u = n2(30), l2 = n2(42), f = n2(67);
  r2({ target: "Object", stat: true, sham: !o }, { getOwnPropertyDescriptors: function(t3) {
    for (var e3, n3, r3 = u(t3), o2 = l2.f, i2 = s2(r3), a2 = {}, c2 = 0; i2.length > c2; )
      void 0 !== (n3 = o2(r3, e3 = i2[c2++])) && f(a2, e3, n3);
    return a2;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(0), i2 = n2(2), u = n2(86), l2 = n2(19), f = n2(36), d = n2(46), p2 = n2(67), h = n2(135), a2 = n2(94), c2 = n2(12), n2 = n2(74), v = c2("isConcatSpreadable"), y = 9007199254740991, m = "Maximum allowed index exceeded", g = o.TypeError, c2 = 51 <= n2 || !i2(function() {
    var t3 = [];
    return t3[v] = false, t3.concat()[0] !== t3;
  }), o = a2("concat");
  r2({ target: "Array", proto: true, forced: !c2 || !o }, { concat: function(t3) {
    for (var e3, n3, r3, o2 = f(this), i3 = h(o2, 0), a3 = 0, c3 = -1, s2 = arguments.length; c3 < s2; c3++)
      if (function(t4) {
        if (!l2(t4))
          return false;
        var e4 = t4[v];
        return void 0 !== e4 ? !!e4 : u(t4);
      }(r3 = -1 === c3 ? o2 : arguments[c3])) {
        if (n3 = d(r3), y < a3 + n3)
          throw g(m);
        for (e3 = 0; e3 < n3; e3++, a3++)
          e3 in r3 && p2(i3, a3, r3[e3]);
      } else {
        if (y <= a3)
          throw g(m);
        p2(i3, a3++, r3);
      }
    return i3.length = a3, i3;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(0), u = n2(86), l2 = n2(85), f = n2(19), d = n2(101), p2 = n2(46), h = n2(30), v = n2(67), i2 = n2(12), a2 = n2(94), y = n2(106), n2 = a2("slice"), m = i2("species"), g = o.Array, b = Math.max;
  r2({ target: "Array", proto: true, forced: !n2 }, { slice: function(t3, e3) {
    var n3, r3, o2, i3 = h(this), a3 = p2(i3), c2 = d(t3, a3), s2 = d(void 0 === e3 ? a3 : e3, a3);
    if (u(i3) && (n3 = i3.constructor, (n3 = l2(n3) && (n3 === g || u(n3.prototype)) || f(n3) && null === (n3 = n3[m]) ? void 0 : n3) === g || void 0 === n3))
      return y(i3, c2, s2);
    for (r3 = new (void 0 === n3 ? g : n3)(b(s2 - c2, 0)), o2 = 0; c2 < s2; c2++, o2++)
      c2 in i3 && v(r3, o2, i3[c2]);
    return r3.length = o2, r3;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(56).find, n2 = n2(89), i2 = "find", a2 = true;
  i2 in [] && Array(1)[i2](function() {
    a2 = false;
  }), r2({ target: "Array", proto: true, forced: a2 }, { find: function(t3) {
    return o(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  } }), n2(i2);
}, function(t2, e2, n2) {
  n2(3)({ target: "Object", stat: true }, { setPrototypeOf: n2(104) });
}, function(t2, e2, n2) {
  var r2 = n2(71), o = n2(39);
  t2.exports = function(t3) {
    return r2(o(t3));
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(2), i2 = n2(36), a2 = n2(82), n2 = n2(130);
  r2({ target: "Object", stat: true, forced: o(function() {
    a2(1);
  }), sham: !n2 }, { getPrototypeOf: function(t3) {
    return a2(i2(t3));
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(43), i2 = n2(84), a2 = n2(159), c2 = n2(131), s2 = n2(18), u = n2(19), l2 = n2(50), n2 = n2(2), f = o("Reflect", "construct"), d = Object.prototype, p2 = [].push, h = n2(function() {
    function t3() {
    }
    return !(f(function() {
    }, [], t3) instanceof t3);
  }), v = !n2(function() {
    f(function() {
    });
  }), o = h || v;
  r2({ target: "Reflect", stat: true, forced: o, sham: o }, { construct: function(t3, e3) {
    c2(t3), s2(e3);
    var n3 = arguments.length < 3 ? t3 : c2(arguments[2]);
    if (v && !h)
      return f(t3, e3, n3);
    if (t3 == n3) {
      switch (e3.length) {
        case 0:
          return new t3();
        case 1:
          return new t3(e3[0]);
        case 2:
          return new t3(e3[0], e3[1]);
        case 3:
          return new t3(e3[0], e3[1], e3[2]);
        case 4:
          return new t3(e3[0], e3[1], e3[2], e3[3]);
      }
      var r3 = [null];
      return i2(p2, r3, e3), new (i2(a2, t3, r3))();
    }
    r3 = n3.prototype, n3 = l2(u(r3) ? r3 : d), r3 = i2(t3, n3, e3);
    return u(r3) ? r3 : n3;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(129).includes, n2 = n2(89);
  r2({ target: "Array", proto: true }, { includes: function(t3) {
    return o(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  } }), n2("includes");
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(0), i2 = n2(1), a2 = n2(81), c2 = n2(37), s2 = n2(20), u = n2(117), l2 = n2(44), f = n2(73), d = n2(122), p2 = n2(2), h = n2(55).f, v = n2(42).f, y = n2(22).f, m = n2(167), g = n2(92).trim, n2 = "Number", b = o[n2], _ = b.prototype, w = o.TypeError, O = i2("".slice), k = i2("".charCodeAt), C = function(t3) {
    var e3, n3, r3, o2, i3, a3, c3, s3 = d(t3, "number");
    if (f(s3))
      throw w("Cannot convert a Symbol value to a number");
    if ("string" == typeof s3 && 2 < s3.length) {
      if (s3 = g(s3), 43 === (t3 = k(s3, 0)) || 45 === t3) {
        if (88 === (e3 = k(s3, 2)) || 120 === e3)
          return NaN;
      } else if (48 === t3) {
        switch (k(s3, 1)) {
          case 66:
          case 98:
            n3 = 2, r3 = 49;
            break;
          case 79:
          case 111:
            n3 = 8, r3 = 55;
            break;
          default:
            return +s3;
        }
        for (i3 = (o2 = O(s3, 2)).length, a3 = 0; a3 < i3; a3++)
          if ((c3 = k(o2, a3)) < 48 || r3 < c3)
            return NaN;
        return parseInt(o2, n3);
      }
    }
    return +s3;
  };
  if (a2(n2, !b(" 0o1") || !b("0b1") || b("+0x1"))) {
    for (var S, x = function(t3) {
      var t3 = arguments.length < 1 ? 0 : b(function(t4) {
        t4 = d(t4, "number");
        return "bigint" == typeof t4 ? t4 : C(t4);
      }(t3)), e3 = this;
      return l2(_, e3) && p2(function() {
        m(e3);
      }) ? u(Object(t3), e3, x) : t3;
    }, E = r2 ? h(b) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","), j = 0; E.length > j; j++)
      s2(b, S = E[j]) && !s2(x, S) && y(x, S, v(b, S));
    c2(o, n2, (x.prototype = _).constructor = x);
  }
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(174);
  r2({ target: "Array", stat: true, forced: !n2(152)(function(t3) {
    Array.from(t3);
  }) }, { from: o });
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(39), i2 = r2.Object;
  t2.exports = function(t3) {
    return i2(o(t3));
  };
}, function(t2, e2, n2) {
  var s2 = n2(0), u = n2(14), l2 = n2(20), f = n2(45), d = n2(98), r2 = n2(100), o = n2(49), p2 = n2(64).CONFIGURABLE, i2 = o.get, h = o.enforce, v = String(String).split("String");
  (t2.exports = function(t3, e3, n3, r3) {
    var o2, i3 = !!r3 && !!r3.unsafe, a2 = !!r3 && !!r3.enumerable, c2 = !!r3 && !!r3.noTargetGet, r3 = r3 && void 0 !== r3.name ? r3.name : e3;
    u(n3) && ("Symbol(" === String(r3).slice(0, 7) && (r3 = "[" + String(r3).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), (!l2(n3, "name") || p2 && n3.name !== r3) && f(n3, "name", r3), (o2 = h(n3)).source || (o2.source = v.join("string" == typeof r3 ? r3 : ""))), t3 === s2 ? a2 ? t3[e3] = n3 : d(e3, n3) : (i3 ? !c2 && t3[e3] && (a2 = true) : delete t3[e3], a2 ? t3[e3] = n3 : f(t3, e3, n3));
  })(Function.prototype, "toString", function() {
    return u(this) && i2(this).source || r2(this);
  });
}, function(t2, e2, n2) {
  var l2 = n2(84), f = n2(21), r2 = n2(1), o = n2(112), d = n2(115), m = n2(18), p2 = n2(39), g = n2(164), b = n2(113), _ = n2(65), w = n2(23), i2 = n2(53), O = n2(108), k = n2(114), C = n2(90), a2 = n2(111), n2 = n2(2), S = a2.UNSUPPORTED_Y, x = 4294967295, E = Math.min, j = [].push, T = r2(/./.exec), A = r2(j), D = r2("".slice);
  o("split", function(o2, h, v) {
    var y = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || 1 < ".".split(/()()/).length || "".split(/.?/).length ? function(t3, e3) {
      var n3 = w(p2(this)), r3 = void 0 === e3 ? x : e3 >>> 0;
      if (0 == r3)
        return [];
      if (void 0 === t3)
        return [n3];
      if (!d(t3))
        return f(h, n3, t3, r3);
      for (var o3, i3, a3, c2 = [], e3 = (t3.ignoreCase ? "i" : "") + (t3.multiline ? "m" : "") + (t3.unicode ? "u" : "") + (t3.sticky ? "y" : ""), s2 = 0, u = new RegExp(t3.source, e3 + "g"); (o3 = f(C, u, n3)) && !(s2 < (i3 = u.lastIndex) && (A(c2, D(n3, s2, o3.index)), 1 < o3.length && o3.index < n3.length && l2(j, c2, O(o3, 1)), a3 = o3[0].length, s2 = i3, r3 <= c2.length)); )
        u.lastIndex === o3.index && u.lastIndex++;
      return s2 === n3.length ? !a3 && T(u, "") || A(c2, "") : A(c2, D(n3, s2)), r3 < c2.length ? O(c2, 0, r3) : c2;
    } : "0".split(void 0, 0).length ? function(t3, e3) {
      return void 0 === t3 && 0 === e3 ? [] : f(h, this, t3, e3);
    } : h;
    return [function(t3, e3) {
      var n3 = p2(this), r3 = null == t3 ? void 0 : i2(t3, o2);
      return r3 ? f(r3, t3, n3, e3) : f(y, w(n3), t3, e3);
    }, function(t3, e3) {
      var n3 = m(this), r3 = w(t3), t3 = v(y, n3, r3, e3, y !== h);
      if (t3.done)
        return t3.value;
      var t3 = g(n3, RegExp), o3 = n3.unicode, i3 = (n3.ignoreCase ? "i" : "") + (n3.multiline ? "m" : "") + (n3.unicode ? "u" : "") + (S ? "g" : "y"), a3 = new t3(S ? "^(?:" + n3.source + ")" : n3, i3), c2 = void 0 === e3 ? x : e3 >>> 0;
      if (0 == c2)
        return [];
      if (0 === r3.length)
        return null === k(a3, r3) ? [r3] : [];
      for (var s2 = 0, u = 0, l3 = []; u < r3.length; ) {
        a3.lastIndex = S ? 0 : u;
        var f2, d2 = k(a3, S ? D(r3, u) : r3);
        if (null === d2 || (f2 = E(_(a3.lastIndex + (S ? u : 0)), r3.length)) === s2)
          u = b(r3, u, o3);
        else {
          if (A(l3, D(r3, s2, u)), l3.length === c2)
            return l3;
          for (var p3 = 1; p3 <= d2.length - 1; p3++)
            if (A(l3, d2[p3]), l3.length === c2)
              return l3;
          u = s2 = f2;
        }
      }
      return A(l3, D(r3, s2)), l3;
    }];
  }, !!n2(function() {
    var t3 = /(?:)/, e3 = t3.exec, t3 = (t3.exec = function() {
      return e3.apply(this, arguments);
    }, "ab".split(t3));
    return 2 !== t3.length || "a" !== t3[0] || "b" !== t3[1];
  }), S);
}, function(t2, e2, n2) {
  var r2 = n2(0).TypeError;
  t2.exports = function(t3) {
    if (null == t3)
      throw r2("Can't call method on " + t3);
    return t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), o = n2(64).PROPER, i2 = n2(37), a2 = n2(18), c2 = n2(44), s2 = n2(23), u = n2(2), n2 = n2(110), l2 = "toString", f = RegExp.prototype, d = f[l2], p2 = r2(n2), r2 = u(function() {
    return "/a/b" != d.call({ source: "a", flags: "b" });
  }), n2 = o && d.name != l2;
  (r2 || n2) && i2(RegExp.prototype, l2, function() {
    var t3 = a2(this), e3 = s2(t3.source), n3 = t3.flags;
    return "/" + e3 + "/" + s2(void 0 !== n3 || !c2(f, t3) || "flags" in f ? n3 : p2(t3));
  }, { unsafe: true });
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(64).EXISTS, i2 = n2(1), n2 = n2(22).f, a2 = Function.prototype, c2 = i2(a2.toString), s2 = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/, u = i2(s2.exec);
  r2 && !o && n2(a2, "name", { configurable: true, get: function() {
    try {
      return u(s2, c2(this))[1];
    } catch (t3) {
      return "";
    }
  } });
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(21), i2 = n2(70), a2 = n2(61), c2 = n2(30), s2 = n2(72), u = n2(20), l2 = n2(124), f = Object.getOwnPropertyDescriptor;
  e2.f = r2 ? f : function(t3, e3) {
    if (t3 = c2(t3), e3 = s2(e3), l2)
      try {
        return f(t3, e3);
      } catch (t4) {
      }
    if (u(t3, e3))
      return a2(!o(i2.f, t3, e3), t3[e3]);
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(14);
  t2.exports = function(t3, e3) {
    return arguments.length < 2 ? (n3 = r2[t3], o(n3) ? n3 : void 0) : r2[t3] && r2[t3][e3];
    var n3;
  };
}, function(t2, e2, n2) {
  n2 = n2(1);
  t2.exports = n2({}.isPrototypeOf);
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(22), i2 = n2(61);
  t2.exports = r2 ? function(t3, e3, n3) {
    return o.f(t3, e3, i2(1, n3));
  } : function(t3, e3, n3) {
    return t3[e3] = n3, t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(65);
  t2.exports = function(t3) {
    return r2(t3.length);
  };
}, function(t2, e2, n2) {
  var O = n2(84), o = n2(21), r2 = n2(1), i2 = n2(112), a2 = n2(2), k = n2(18), C = n2(14), S = n2(80), x = n2(65), E = n2(23), c2 = n2(39), j = n2(113), s2 = n2(53), T = n2(173), A = n2(114), u = n2(12)("replace"), D = Math.max, P = Math.min, M = r2([].concat), I = r2([].push), L = r2("".indexOf), N = r2("".slice), n2 = "$0" === "a".replace(/./, "$0"), l2 = !!/./[u] && "" === /./[u]("a", "$0");
  i2("replace", function(t3, b, _) {
    var w = l2 ? "$" : "$0";
    return [function(t4, e3) {
      var n3 = c2(this), r3 = null == t4 ? void 0 : s2(t4, u);
      return r3 ? o(r3, t4, n3, e3) : o(b, E(n3), t4, e3);
    }, function(t4, e3) {
      var n3 = k(this), r3 = E(t4);
      if ("string" == typeof e3 && -1 === L(e3, w) && -1 === L(e3, "$<")) {
        t4 = _(b, n3, r3, e3);
        if (t4.done)
          return t4.value;
      }
      for (var o2, i3 = C(e3), a3 = (i3 || (e3 = E(e3)), n3.global), c3 = (a3 && (o2 = n3.unicode, n3.lastIndex = 0), []); null !== (d = A(n3, r3)) && (I(c3, d), a3); )
        "" === E(d[0]) && (n3.lastIndex = j(r3, x(n3.lastIndex), o2));
      for (var s3, u2 = "", l3 = 0, f = 0; f < c3.length; f++) {
        for (var d, p2 = E((d = c3[f])[0]), h = D(P(S(d.index), r3.length), 0), v = [], y = 1; y < d.length; y++)
          I(v, void 0 === (s3 = d[y]) ? s3 : String(s3));
        var m = d.groups, g = i3 ? (g = M([p2], v, h, r3), void 0 !== m && I(g, m), E(O(e3, void 0, g))) : T(p2, r3, h, v, m, e3);
        l3 <= h && (u2 += N(r3, l3, h) + g, l3 = h + p2.length);
      }
      return u2 + N(r3, l3);
    }];
  }, !!a2(function() {
    var t3 = /./;
    return t3.exec = function() {
      var t4 = [];
      return t4.groups = { a: "7" }, t4;
    }, "7" !== "".replace(t3, "$<a>");
  }) || !n2 || l2);
}, function(t2, e2, n2) {
  var n2 = n2(1), r2 = n2({}.toString), o = n2("".slice);
  t2.exports = function(t3) {
    return o(r2(t3), 8, -1);
  };
}, function(t2, e2, n2) {
  var r2, o, i2, a2, c2, s2, u, l2, f = n2(156), d = n2(0), p2 = n2(1), h = n2(19), v = n2(45), y = n2(20), m = n2(97), g = n2(79), n2 = n2(63), b = "Object already initialized", _ = d.TypeError, d = d.WeakMap;
  u = f || m.state ? (r2 = m.state || (m.state = new d()), o = p2(r2.get), i2 = p2(r2.has), a2 = p2(r2.set), c2 = function(t3, e3) {
    if (i2(r2, t3))
      throw new _(b);
    return e3.facade = t3, a2(r2, t3, e3), e3;
  }, s2 = function(t3) {
    return o(r2, t3) || {};
  }, function(t3) {
    return i2(r2, t3);
  }) : (n2[l2 = g("state")] = true, c2 = function(t3, e3) {
    if (y(t3, l2))
      throw new _(b);
    return e3.facade = t3, v(t3, l2, e3), e3;
  }, s2 = function(t3) {
    return y(t3, l2) ? t3[l2] : {};
  }, function(t3) {
    return y(t3, l2);
  }), t2.exports = { set: c2, get: s2, has: u, enforce: function(t3) {
    return u(t3) ? s2(t3) : c2(t3, {});
  }, getterFor: function(e3) {
    return function(t3) {
      if (h(t3) && (t3 = s2(t3)).type === e3)
        return t3;
      throw _("Incompatible receiver, " + e3 + " required");
    };
  } };
}, function(t2, e2, n2) {
  function r2() {
  }
  function o(t3) {
    t3.write(v("")), t3.close();
    var e3 = t3.parentWindow.Object;
    return t3 = null, e3;
  }
  var i2, a2 = n2(18), c2 = n2(132), s2 = n2(102), u = n2(63), l2 = n2(160), f = n2(99), n2 = n2(79), d = "prototype", p2 = "script", h = n2("IE_PROTO"), v = function(t3) {
    return "<" + p2 + ">" + t3 + "</" + p2 + ">";
  }, y = function() {
    try {
      i2 = new ActiveXObject("htmlfile");
    } catch (t4) {
    }
    y = "undefined" == typeof document || document.domain && i2 ? o(i2) : (t3 = f("iframe"), e3 = "java" + p2 + ":", t3.style.display = "none", l2.appendChild(t3), t3.src = String(e3), (e3 = t3.contentWindow.document).open(), e3.write(v("document.F=Object")), e3.close(), e3.F);
    for (var t3, e3, n3 = s2.length; n3--; )
      delete y[d][s2[n3]];
    return y();
  };
  u[h] = true, t2.exports = Object.create || function(t3, e3) {
    var n3;
    return null !== t3 ? (r2[d] = a2(t3), n3 = new r2(), r2[d] = null, n3[h] = t3) : n3 = y(), void 0 === e3 ? n3 : c2.f(n3, e3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(1), i2 = n2(142), a2 = n2(39), c2 = n2(23), n2 = n2(143), s2 = o("".indexOf);
  r2({ target: "String", proto: true, forced: !n2("includes") }, { includes: function(t3) {
    return !!~s2(c2(a2(this)), c2(i2(t3)), 1 < arguments.length ? arguments[1] : void 0);
  } });
}, function(N, R, t2) {
  var e2 = t2(17), n2 = t2(0), r2 = t2(1), o = t2(81), u = t2(117), l2 = t2(45), i2 = t2(22).f, a2 = t2(55).f, f = t2(44), d = t2(115), p2 = t2(23), c2 = t2(110), s2 = t2(111), h = t2(37), v = t2(2), y = t2(20), m = t2(49).enforce, g = t2(144), b = t2(12), _ = t2(140), w = t2(141), O = b("match"), k = n2.RegExp, C = k.prototype, S = n2.SyntaxError, x = r2(c2), B = r2(C.exec), E = r2("".charAt), j = r2("".replace), T = r2("".indexOf), H = r2("".slice), F = /^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/, A = /a/g, D = /a/g, t2 = new k(A) !== A, P = s2.MISSED_STICKY, V = s2.UNSUPPORTED_Y, b = e2 && (!t2 || P || _ || w || v(function() {
    return D[O] = false, k(A) != A || k(D) == D || "/a/i" != k(A, "i");
  })), Y = function(t3) {
    for (var e3, n3 = t3.length, r3 = 0, o2 = "", i3 = false; r3 <= n3; r3++)
      "\\" === (e3 = E(t3, r3)) ? o2 += e3 + E(t3, ++r3) : i3 || "." !== e3 ? ("[" === e3 ? i3 = true : "]" === e3 && (i3 = false), o2 += e3) : o2 += "[\\s\\S]";
    return o2;
  }, W = function(t3) {
    for (var e3, n3 = t3.length, r3 = 0, o2 = "", i3 = [], a3 = {}, c3 = false, s3 = false, u2 = 0, l3 = ""; r3 <= n3; r3++) {
      if ("\\" === (e3 = E(t3, r3)))
        e3 += E(t3, ++r3);
      else if ("]" === e3)
        c3 = false;
      else if (!c3)
        switch (true) {
          case "[" === e3:
            c3 = true;
            break;
          case "(" === e3:
            B(F, H(t3, r3 + 1)) && (r3 += 2, s3 = true), o2 += e3, u2++;
            continue;
          case (">" === e3 && s3):
            if ("" === l3 || y(a3, l3))
              throw new S("Invalid capture group name");
            a3[l3] = true, s3 = !(i3[i3.length] = [l3, u2]), l3 = "";
            continue;
        }
      s3 ? l3 += e3 : o2 += e3;
    }
    return [o2, i3];
  };
  if (o("RegExp", b)) {
    for (var M = function(t3, e3) {
      var n3, r3, o2 = f(C, this), i3 = d(t3), a3 = void 0 === e3, c3 = [], s3 = t3;
      if (!o2 && i3 && a3 && t3.constructor === M)
        return t3;
      if ((i3 || f(C, t3)) && (t3 = t3.source, a3 && (e3 = "flags" in s3 ? s3.flags : x(s3))), t3 = void 0 === t3 ? "" : p2(t3), e3 = void 0 === e3 ? "" : p2(e3), s3 = t3, i3 = e3 = _ && "dotAll" in A && (n3 = !!e3 && -1 < T(e3, "s")) ? j(e3, /s/g, "") : e3, P && "sticky" in A && (r3 = !!e3 && -1 < T(e3, "y")) && V && (e3 = j(e3, /y/g, "")), w && (t3 = (a3 = W(t3))[0], c3 = a3[1]), a3 = u(k(t3, e3), o2 ? this : C, M), (n3 || r3 || c3.length) && (e3 = m(a3), n3 && (e3.dotAll = true, e3.raw = M(Y(t3), i3)), r3 && (e3.sticky = true), c3.length && (e3.groups = c3)), t3 !== s3)
        try {
          l2(a3, "source", "" === s3 ? "(?:)" : s3);
        } catch (t4) {
        }
      return a3;
    }, I = a2(k), L = 0; I.length > L; )
      !function(e3) {
        e3 in M || i2(M, e3, { configurable: true, get: function() {
          return k[e3];
        }, set: function(t3) {
          k[e3] = t3;
        } });
      }(I[L++]);
    (C.constructor = M).prototype = C, h(n2, "RegExp", M);
  }
  g("RegExp");
}, function(t2, e2, n2) {
  var r2 = n2(62);
  t2.exports = function(t3, e3) {
    t3 = t3[e3];
    return null == t3 ? void 0 : r2(t3);
  };
}, function(t2, e2) {
  t2.exports = false;
}, function(t2, e2, n2) {
  var r2 = n2(128), o = n2(102).concat("length", "prototype");
  e2.f = Object.getOwnPropertyNames || function(t3) {
    return r2(t3, o);
  };
}, function(t2, e2, n2) {
  function r2(d) {
    var p2 = 1 == d, h = 2 == d, v = 3 == d, y = 4 == d, m = 6 == d, g = 7 == d, b = 5 == d || m;
    return function(t3, e3, n3, r3) {
      for (var o2, i2, a2 = O(t3), c2 = w(a2), s2 = _(e3, n3), u = k(c2), l2 = 0, e3 = r3 || C, f = p2 ? e3(t3, u) : h || g ? e3(t3, 0) : void 0; l2 < u; l2++)
        if ((b || l2 in c2) && (i2 = s2(o2 = c2[l2], l2, a2), d))
          if (p2)
            f[l2] = i2;
          else if (i2)
            switch (d) {
              case 3:
                return true;
              case 5:
                return o2;
              case 6:
                return l2;
              case 2:
                S(f, o2);
            }
          else
            switch (d) {
              case 4:
                return false;
              case 7:
                S(f, o2);
            }
      return m ? -1 : v || y ? y : f;
    };
  }
  var _ = n2(88), o = n2(1), w = n2(71), O = n2(36), k = n2(46), C = n2(135), S = o([].push);
  t2.exports = { forEach: r2(0), map: r2(1), filter: r2(2), some: r2(3), every: r2(4), find: r2(5), findIndex: r2(6), filterReject: r2(7) };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(1), i2 = n2(42).f, a2 = n2(65), c2 = n2(23), s2 = n2(142), u = n2(39), l2 = n2(143), n2 = n2(54), f = o("".startsWith), d = o("".slice), p2 = Math.min, o = l2("startsWith");
  r2({ target: "String", proto: true, forced: !!(n2 || o || (!(l2 = i2(String.prototype, "startsWith")) || l2.writable)) && !o }, { startsWith: function(t3) {
    var e3 = c2(u(this)), n3 = (s2(t3), a2(p2(1 < arguments.length ? arguments[1] : void 0, e3.length))), t3 = c2(t3);
    return f ? f(e3, t3, n3) : d(e3, n3, n3 + t3.length) === t3;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(56).map;
  r2({ target: "Array", proto: true, forced: !n2(94)("map") }, { map: function(t3) {
    return o(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), i2 = n2(21), a2 = n2(19), c2 = n2(18), s2 = n2(179), u = n2(42), l2 = n2(82);
  r2({ target: "Reflect", stat: true }, { get: function t3(e3, n3) {
    var r3, o = arguments.length < 3 ? e3 : arguments[2];
    return c2(e3) === o ? e3[n3] : (r3 = u.f(e3, n3)) ? s2(r3) ? r3.value : void 0 === r3.get ? void 0 : i2(r3.get, o) : a2(r3 = l2(e3)) ? t3(r3, n3, o) : void 0;
  } });
}, function(t2, e2, n2) {
  n2 = n2(2);
  t2.exports = !n2(function() {
    var t3 = function() {
    }.bind();
    return "function" != typeof t3 || t3.hasOwnProperty("prototype");
  });
}, function(t2, e2) {
  t2.exports = function(t3, e3) {
    return { enumerable: !(1 & t3), configurable: !(2 & t3), writable: !(4 & t3), value: e3 };
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(14), i2 = n2(76), a2 = r2.TypeError;
  t2.exports = function(t3) {
    if (o(t3))
      return t3;
    throw a2(i2(t3) + " is not a function");
  };
}, function(t2, e2) {
  t2.exports = {};
}, function(t2, e2, n2) {
  var r2 = n2(17), n2 = n2(20), o = Function.prototype, i2 = r2 && Object.getOwnPropertyDescriptor, n2 = n2(o, "name"), a2 = n2 && "something" === function() {
  }.name, r2 = n2 && (!r2 || i2(o, "name").configurable);
  t2.exports = { EXISTS: n2, PROPER: a2, CONFIGURABLE: r2 };
}, function(t2, e2, n2) {
  var r2 = n2(80), o = Math.min;
  t2.exports = function(t3) {
    return 0 < t3 ? o(r2(t3), 9007199254740991) : 0;
  };
}, function(t2, e2, n2) {
  var r2 = n2(128), o = n2(102);
  t2.exports = Object.keys || function(t3) {
    return r2(t3, o);
  };
}, function(t2, e2, n2) {
  var r2 = n2(72), o = n2(22), i2 = n2(61);
  t2.exports = function(t3, e3, n3) {
    e3 = r2(e3);
    e3 in t3 ? o.f(t3, e3, i2(0, n3)) : t3[e3] = n3;
  };
}, function(t2, e2) {
  t2.exports = {};
}, function(t2, e2, n2) {
  var o = n2(21), r2 = n2(112), u = n2(18), l2 = n2(65), f = n2(23), i2 = n2(39), a2 = n2(53), d = n2(113), p2 = n2(114);
  r2("match", function(r3, c2, s2) {
    return [function(t3) {
      var e3 = i2(this), n3 = null == t3 ? void 0 : a2(t3, r3);
      return n3 ? o(n3, t3, e3) : new RegExp(t3)[r3](f(e3));
    }, function(t3) {
      var e3 = u(this), n3 = f(t3), t3 = s2(c2, e3, n3);
      if (t3.done)
        return t3.value;
      if (!e3.global)
        return p2(e3, n3);
      for (var r4 = e3.unicode, o2 = [], i3 = e3.lastIndex = 0; null !== (a3 = p2(e3, n3)); ) {
        var a3 = f(a3[0]);
        "" === (o2[i3] = a3) && (e3.lastIndex = d(n3, l2(e3.lastIndex), r4)), i3++;
      }
      return 0 === i3 ? null : o2;
    }];
  });
}, function(t2, e2, n2) {
  var r2 = {}.propertyIsEnumerable, o = Object.getOwnPropertyDescriptor, i2 = o && !r2.call({ 1: 2 }, 1);
  e2.f = i2 ? function(t3) {
    t3 = o(this, t3);
    return !!t3 && t3.enumerable;
  } : r2;
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(1), i2 = n2(2), a2 = n2(48), c2 = r2.Object, s2 = o("".split);
  t2.exports = i2(function() {
    return !c2("z").propertyIsEnumerable(0);
  }) ? function(t3) {
    return "String" == a2(t3) ? s2(t3, "") : c2(t3);
  } : c2;
}, function(t2, e2, n2) {
  var r2 = n2(122), o = n2(73);
  t2.exports = function(t3) {
    t3 = r2(t3, "string");
    return o(t3) ? t3 : t3 + "";
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(43), i2 = n2(14), a2 = n2(44), n2 = n2(123), c2 = r2.Object;
  t2.exports = n2 ? function(t3) {
    return "symbol" == typeof t3;
  } : function(t3) {
    var e3 = o("Symbol");
    return i2(e3) && a2(e3.prototype, c2(t3));
  };
}, function(t2, e2, n2) {
  var r2, o, i2 = n2(0), n2 = n2(75), a2 = i2.process, i2 = i2.Deno, a2 = a2 && a2.versions || i2 && i2.version, i2 = a2 && a2.v8;
  !(o = i2 ? 0 < (r2 = i2.split("."))[0] && r2[0] < 4 ? 1 : +(r2[0] + r2[1]) : o) && n2 && (!(r2 = n2.match(/Edge\/(\d+)/)) || 74 <= r2[1]) && (r2 = n2.match(/Chrome\/(\d+)/)) && (o = +r2[1]), t2.exports = o;
}, function(t2, e2, n2) {
  n2 = n2(43);
  t2.exports = n2("navigator", "userAgent") || "";
}, function(t2, e2, n2) {
  var r2 = n2(0).String;
  t2.exports = function(t3) {
    try {
      return r2(t3);
    } catch (t4) {
      return "Object";
    }
  };
}, function(t2, e2, n2) {
  var r2 = n2(54), o = n2(97);
  (t2.exports = function(t3, e3) {
    return o[t3] || (o[t3] = void 0 !== e3 ? e3 : {});
  })("versions", []).push({ version: "3.21.1", mode: r2 ? "pure" : "global", copyright: "\xA9 2014-2022 Denis Pushkarev (zloirock.ru)", license: "https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE", source: "https://github.com/zloirock/core-js" });
}, function(t2, e2, n2) {
  var n2 = n2(1), r2 = 0, o = Math.random(), i2 = n2(1 .toString);
  t2.exports = function(t3) {
    return "Symbol(" + (void 0 === t3 ? "" : t3) + ")_" + i2(++r2 + o, 36);
  };
}, function(t2, e2, n2) {
  var r2 = n2(77), o = n2(78), i2 = r2("keys");
  t2.exports = function(t3) {
    return i2[t3] || (i2[t3] = o(t3));
  };
}, function(t2, e2) {
  var n2 = Math.ceil, r2 = Math.floor;
  t2.exports = function(t3) {
    t3 = +t3;
    return t3 != t3 || 0 == t3 ? 0 : (0 < t3 ? r2 : n2)(t3);
  };
}, function(t2, e2, n2) {
  function r2(t3, e3) {
    return (t3 = s2[c2(t3)]) == l2 || t3 != u && (i2(e3) ? o(e3) : !!e3);
  }
  var o = n2(2), i2 = n2(14), a2 = /#|\.prototype\./, c2 = r2.normalize = function(t3) {
    return String(t3).replace(a2, ".").toLowerCase();
  }, s2 = r2.data = {}, u = r2.NATIVE = "N", l2 = r2.POLYFILL = "P";
  t2.exports = r2;
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(20), i2 = n2(14), a2 = n2(36), c2 = n2(79), n2 = n2(130), s2 = c2("IE_PROTO"), u = r2.Object, l2 = u.prototype;
  t2.exports = n2 ? u.getPrototypeOf : function(t3) {
    t3 = a2(t3);
    if (o(t3, s2))
      return t3[s2];
    var e3 = t3.constructor;
    return i2(e3) && t3 instanceof e3 ? e3.prototype : t3 instanceof u ? l2 : null;
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(105), i2 = n2(14), a2 = n2(48), c2 = n2(12)("toStringTag"), s2 = r2.Object, u = "Arguments" == a2(function() {
    return arguments;
  }());
  t2.exports = o ? a2 : function(t3) {
    var e3;
    return void 0 === t3 ? "Undefined" : null === t3 ? "Null" : "string" == typeof (e3 = function(t4, e4) {
      try {
        return t4[e4];
      } catch (t5) {
      }
    }(t3 = s2(t3), c2)) ? e3 : u ? a2(t3) : "Object" == (e3 = a2(t3)) && i2(t3.callee) ? "Arguments" : e3;
  };
}, function(t2, e2, n2) {
  var n2 = n2(60), r2 = Function.prototype, o = r2.apply, i2 = r2.call;
  t2.exports = "object" == typeof Reflect && Reflect.apply || (n2 ? i2.bind(o) : function() {
    return i2.apply(o, arguments);
  });
}, function(t2, e2, n2) {
  function r2() {
  }
  function o(t3) {
    if (!s2(t3))
      return false;
    try {
      return p2(r2, d, t3), true;
    } catch (t4) {
      return false;
    }
  }
  function i2(t3) {
    if (!s2(t3))
      return false;
    switch (u(t3)) {
      case "AsyncFunction":
      case "GeneratorFunction":
      case "AsyncGeneratorFunction":
        return false;
    }
    try {
      return y || !!v(h, f(t3));
    } catch (t4) {
      return true;
    }
  }
  var a2 = n2(1), c2 = n2(2), s2 = n2(14), u = n2(83), l2 = n2(43), f = n2(100), d = [], p2 = l2("Reflect", "construct"), h = /^\s*(?:class|function)\b/, v = a2(h.exec), y = !h.exec(r2);
  i2.sham = true, t2.exports = !p2 || c2(function() {
    var t3;
    return o(o.call) || !o(Object) || !o(function() {
      t3 = true;
    }) || t3;
  }) ? i2 : o;
}, function(t2, e2, n2) {
  var r2 = n2(48);
  t2.exports = Array.isArray || function(t3) {
    return "Array" == r2(t3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(22).f, o = n2(20), i2 = n2(12)("toStringTag");
  t2.exports = function(t3, e3, n3) {
    (t3 = t3 && !n3 ? t3.prototype : t3) && !o(t3, i2) && r2(t3, i2, { configurable: true, value: e3 });
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), o = n2(62), i2 = n2(60), a2 = r2(r2.bind);
  t2.exports = function(t3, e3) {
    return o(t3), void 0 === e3 ? t3 : i2 ? a2(t3, e3) : function() {
      return t3.apply(e3, arguments);
    };
  };
}, function(t2, e2, n2) {
  var r2 = n2(12), o = n2(50), n2 = n2(22), i2 = r2("unscopables"), a2 = Array.prototype;
  null == a2[i2] && n2.f(a2, i2, { configurable: true, value: o(null) }), t2.exports = function(t3) {
    a2[i2][t3] = true;
  };
}, function(t2, e2, n2) {
  var h = n2(21), r2 = n2(1), v = n2(23), y = n2(110), o = n2(111), i2 = n2(77), m = n2(50), g = n2(49).get, a2 = n2(140), n2 = n2(141), b = i2("native-string-replace", String.prototype.replace), _ = RegExp.prototype.exec, w = _, O = r2("".charAt), k = r2("".indexOf), C = r2("".replace), S = r2("".slice), x = (i2 = /b*/g, h(_, r2 = /a/, "a"), h(_, i2, "a"), 0 !== r2.lastIndex || 0 !== i2.lastIndex), E = o.BROKEN_CARET, j = void 0 !== /()??/.exec("")[1];
  (x || j || E || a2 || n2) && (w = function(t3) {
    var e3, n3, r3, o2, i3, a3, c2 = this, s2 = g(c2), t3 = v(t3), u = s2.raw;
    if (u)
      return u.lastIndex = c2.lastIndex, f = h(w, u, t3), c2.lastIndex = u.lastIndex, f;
    var l2 = s2.groups, u = E && c2.sticky, f = h(y, c2), s2 = c2.source, d = 0, p2 = t3;
    if (u && (f = C(f, "y", ""), -1 === k(f, "g") && (f += "g"), p2 = S(t3, c2.lastIndex), 0 < c2.lastIndex && (!c2.multiline || c2.multiline && "\n" !== O(t3, c2.lastIndex - 1)) && (s2 = "(?: " + s2 + ")", p2 = " " + p2, d++), e3 = new RegExp("^(?:" + s2 + ")", f)), j && (e3 = new RegExp("^" + s2 + "$(?!\\s)", f)), x && (n3 = c2.lastIndex), r3 = h(_, u ? e3 : c2, p2), u ? r3 ? (r3.input = S(r3.input, d), r3[0] = S(r3[0], d), r3.index = c2.lastIndex, c2.lastIndex += r3[0].length) : c2.lastIndex = 0 : x && r3 && (c2.lastIndex = c2.global ? r3.index + r3[0].length : n3), j && r3 && 1 < r3.length && h(b, r3[0], e3, function() {
      for (o2 = 1; o2 < arguments.length - 2; o2++)
        void 0 === arguments[o2] && (r3[o2] = void 0);
    }), r3 && l2)
      for (r3.groups = i3 = m(null), o2 = 0; o2 < l2.length; o2++)
        i3[(a3 = l2[o2])[0]] = r3[a3[1]];
    return r3;
  }), t2.exports = w;
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(92).trim;
  r2({ target: "String", proto: true, forced: n2(165)("trim") }, { trim: function() {
    return o(this);
  } });
}, function(t2, e2, n2) {
  function r2(e3) {
    return function(t3) {
      t3 = a2(i2(t3));
      return 1 & e3 && (t3 = c2(t3, s2, "")), t3 = 2 & e3 ? c2(t3, u, "") : t3;
    };
  }
  var o = n2(1), i2 = n2(39), a2 = n2(23), n2 = n2(93), c2 = o("".replace), o = "[" + n2 + "]", s2 = RegExp("^" + o + o + "*"), u = RegExp(o + o + "*$");
  t2.exports = { start: r2(1), end: r2(2), trim: r2(3) };
}, function(t2, e2) {
  t2.exports = "	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";
}, function(t2, e2, n2) {
  var r2 = n2(2), o = n2(12), i2 = n2(74), a2 = o("species");
  t2.exports = function(e3) {
    return 51 <= i2 || !r2(function() {
      var t3 = [];
      return (t3.constructor = {})[a2] = function() {
        return { foo: 1 };
      }, 1 !== t3[e3](Boolean).foo;
    });
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(1), i2 = n2(71), a2 = n2(30), n2 = n2(118), c2 = o([].join), o = i2 != Object, i2 = n2("join", ",");
  r2({ target: "Array", proto: true, forced: o || !i2 }, { join: function(t3) {
    return c2(a2(this), void 0 === t3 ? "," : t3);
  } });
}, function(t2, e2, n2) {
  var r2 = n2(74), n2 = n2(2);
  t2.exports = !!Object.getOwnPropertySymbols && !n2(function() {
    var t3 = Symbol();
    return !String(t3) || !(Object(t3) instanceof Symbol) || !Symbol.sham && r2 && r2 < 41;
  });
}, function(t2, e2, n2) {
  var r2 = n2(0), n2 = n2(98), o = "__core-js_shared__", r2 = r2[o] || n2(o, {});
  t2.exports = r2;
}, function(t2, e2, n2) {
  var r2 = n2(0), o = Object.defineProperty;
  t2.exports = function(e3, n3) {
    try {
      o(r2, e3, { value: n3, configurable: true, writable: true });
    } catch (t3) {
      r2[e3] = n3;
    }
    return n3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), n2 = n2(19), o = r2.document, i2 = n2(o) && n2(o.createElement);
  t2.exports = function(t3) {
    return i2 ? o.createElement(t3) : {};
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), o = n2(14), n2 = n2(97), i2 = r2(Function.toString);
  o(n2.inspectSource) || (n2.inspectSource = function(t3) {
    return i2(t3);
  }), t2.exports = n2.inspectSource;
}, function(t2, e2, n2) {
  var r2 = n2(80), o = Math.max, i2 = Math.min;
  t2.exports = function(t3, e3) {
    t3 = r2(t3);
    return t3 < 0 ? o(t3 + e3, 0) : i2(t3, e3);
  };
}, function(t2, e2) {
  t2.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"];
}, function(t2, e2) {
  e2.f = Object.getOwnPropertySymbols;
}, function(t2, e2, n2) {
  var o = n2(1), i2 = n2(18), a2 = n2(157);
  t2.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
    var n3, r2 = false, t3 = {};
    try {
      (n3 = o(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set))(t3, []), r2 = t3 instanceof Array;
    } catch (t4) {
    }
    return function(t4, e3) {
      return i2(t4), a2(e3), r2 ? n3(t4, e3) : t4.__proto__ = e3, t4;
    };
  }() : void 0);
}, function(t2, e2, n2) {
  var r2 = {};
  r2[n2(12)("toStringTag")] = "z", t2.exports = "[object z]" === String(r2);
}, function(t2, e2, n2) {
  n2 = n2(1);
  t2.exports = n2([].slice);
}, function(t2, e2, n2) {
  var r2 = n2(48), o = n2(30), i2 = n2(55).f, a2 = n2(108), c2 = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
  t2.exports.f = function(t3) {
    if (!c2 || "Window" != r2(t3))
      return i2(o(t3));
    try {
      return i2(t3);
    } catch (t4) {
      return a2(c2);
    }
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), s2 = n2(101), u = n2(46), l2 = n2(67), f = r2.Array, d = Math.max;
  t2.exports = function(t3, e3, n3) {
    for (var r3 = u(t3), o = s2(e3, r3), i2 = s2(void 0 === n3 ? r3 : n3, r3), a2 = f(d(i2 - o, 0)), c2 = 0; o < i2; o++, c2++)
      l2(a2, c2, t3[o]);
    return a2.length = c2, a2;
  };
}, function(t2, e2, n2) {
  function v() {
    return this;
  }
  var y = n2(3), m = n2(21), g = n2(54), r2 = n2(64), b = n2(14), _ = n2(163), w = n2(82), O = n2(104), k = n2(87), C = n2(45), S = n2(37), o = n2(12), x = n2(68), n2 = n2(136), E = r2.PROPER, j = r2.CONFIGURABLE, T = n2.IteratorPrototype, A = n2.BUGGY_SAFARI_ITERATORS, D = o("iterator"), P = "values", M = "entries";
  t2.exports = function(t3, e3, n3, r3, o2, i2, a2) {
    _(n3, e3, r3);
    function c2(t4) {
      if (t4 === o2 && p2)
        return p2;
      if (!A && t4 in f)
        return f[t4];
      switch (t4) {
        case "keys":
        case P:
        case M:
          return function() {
            return new n3(this, t4);
          };
      }
      return function() {
        return new n3(this);
      };
    }
    var s2, u, r3 = e3 + " Iterator", l2 = false, f = t3.prototype, d = f[D] || f["@@iterator"] || o2 && f[o2], p2 = !A && d || c2(o2), h = "Array" == e3 && f.entries || d;
    if (h && (h = w(h.call(new t3()))) !== Object.prototype && h.next && (g || w(h) === T || (O ? O(h, T) : b(h[D]) || S(h, D, v)), k(h, r3, true, true), g && (x[r3] = v)), E && o2 == P && d && d.name !== P && (!g && j ? C(f, "name", P) : (l2 = true, p2 = function() {
      return m(d, this);
    })), o2)
      if (s2 = { values: c2(P), keys: i2 ? p2 : c2("keys"), entries: c2(M) }, a2)
        for (u in s2)
          !A && !l2 && u in f || S(f, u, s2[u]);
      else
        y({ target: e3, proto: true, forced: A || l2 }, s2);
    return g && !a2 || f[D] === p2 || S(f, D, p2, { name: o2 }), x[e3] = p2, s2;
  };
}, function(t2, e2, n2) {
  var r2 = n2(18);
  t2.exports = function() {
    var t3 = r2(this), e3 = "";
    return t3.global && (e3 += "g"), t3.ignoreCase && (e3 += "i"), t3.multiline && (e3 += "m"), t3.dotAll && (e3 += "s"), t3.unicode && (e3 += "u"), t3.sticky && (e3 += "y"), e3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(2), o = n2(0).RegExp, n2 = r2(function() {
    var t3 = o("a", "y");
    return t3.lastIndex = 2, null != t3.exec("abcd");
  }), i2 = n2 || r2(function() {
    return !o("a", "y").sticky;
  }), r2 = n2 || r2(function() {
    var t3 = o("^r", "gy");
    return t3.lastIndex = 2, null != t3.exec("str");
  });
  t2.exports = { BROKEN_CARET: r2, MISSED_STICKY: i2, UNSUPPORTED_Y: n2 };
}, function(t2, e2, n2) {
  n2(16);
  var s2 = n2(1), u = n2(37), l2 = n2(90), f = n2(2), d = n2(12), p2 = n2(45), h = d("species"), v = RegExp.prototype;
  t2.exports = function(n3, t3, e3, r2) {
    var a2, o = d(n3), c2 = !f(function() {
      var t4 = {};
      return t4[o] = function() {
        return 7;
      }, 7 != ""[n3](t4);
    }), i2 = c2 && !f(function() {
      var t4 = false, e4 = /a/;
      return "split" === n3 && ((e4 = { constructor: {} }).constructor[h] = function() {
        return e4;
      }, e4.flags = "", e4[o] = /./[o]), e4.exec = function() {
        return t4 = true, null;
      }, e4[o](""), !t4;
    });
    c2 && i2 && !e3 || (a2 = s2(/./[o]), i2 = t3(o, ""[n3], function(t4, e4, n4, r3, o2) {
      var t4 = s2(t4), i3 = e4.exec;
      return i3 === l2 || i3 === v.exec ? c2 && !o2 ? { done: true, value: a2(e4, n4, r3) } : { done: true, value: t4(n4, e4, r3) } : { done: false };
    }), u(String.prototype, n3, i2[0]), u(v, o, i2[1])), r2 && p2(v[o], "sham", true);
  };
}, function(t2, e2, n2) {
  var r2 = n2(137).charAt;
  t2.exports = function(t3, e3, n3) {
    return e3 + (n3 ? r2(t3, e3).length : 1);
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(21), i2 = n2(18), a2 = n2(14), c2 = n2(48), s2 = n2(90), u = r2.TypeError;
  t2.exports = function(t3, e3) {
    var n3 = t3.exec;
    if (a2(n3))
      return null !== (n3 = o(n3, t3, e3)) && i2(n3), n3;
    if ("RegExp" === c2(t3))
      return o(s2, t3, e3);
    throw u("RegExp#exec called on incompatible receiver");
  };
}, function(t2, e2, n2) {
  var r2 = n2(19), o = n2(48), i2 = n2(12)("match");
  t2.exports = function(t3) {
    var e3;
    return r2(t3) && (void 0 !== (e3 = t3[i2]) ? !!e3 : "RegExp" == o(t3));
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), n2 = n2(166);
  r2({ target: "Number", stat: true, forced: Number.parseFloat != n2 }, { parseFloat: n2 });
}, function(t2, e2, n2) {
  var r2 = n2(14), o = n2(19), i2 = n2(104);
  t2.exports = function(t3, e3, n3) {
    return i2 && r2(e3 = e3.constructor) && e3 !== n3 && o(e3 = e3.prototype) && e3 !== n3.prototype && i2(t3, e3), t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(2);
  t2.exports = function(t3, e3) {
    var n3 = [][t3];
    return !!n3 && r2(function() {
      n3.call(null, e3 || function() {
        return 1;
      }, 1);
    });
  };
}, function(t2, e2, n2) {
  n2(145)("Set", function(t3) {
    return function() {
      return t3(this, arguments.length ? arguments[0] : void 0);
    };
  }, n2(153));
}, function(t2, e2, n2) {
  var r2 = n2(83), o = n2(53), i2 = n2(68), a2 = n2(12)("iterator");
  t2.exports = function(t3) {
    if (null != t3)
      return o(t3, a2) || o(t3, "@@iterator") || i2[r2(t3)];
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), n2 = n2(178);
  r2({ target: "Number", stat: true, forced: Number.parseInt != n2 }, { parseInt: n2 });
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(21), i2 = n2(19), a2 = n2(73), c2 = n2(53), s2 = n2(155), n2 = n2(12), u = r2.TypeError, l2 = n2("toPrimitive");
  t2.exports = function(t3, e3) {
    if (!i2(t3) || a2(t3))
      return t3;
    var n3 = c2(t3, l2);
    if (n3) {
      if (n3 = o(n3, t3, e3 = void 0 === e3 ? "default" : e3), !i2(n3) || a2(n3))
        return n3;
      throw u("Can't convert object to primitive value");
    }
    return s2(t3, e3 = void 0 === e3 ? "number" : e3);
  };
}, function(t2, e2, n2) {
  n2 = n2(96);
  t2.exports = n2 && !Symbol.sham && "symbol" == typeof Symbol.iterator;
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(2), i2 = n2(99);
  t2.exports = !r2 && !o(function() {
    return 7 != Object.defineProperty(i2("div"), "a", { get: function() {
      return 7;
    } }).a;
  });
}, function(t2, e2, n2) {
  var r2 = n2(17), n2 = n2(2);
  t2.exports = r2 && n2(function() {
    return 42 != Object.defineProperty(function() {
    }, "prototype", { value: 42, writable: false }).prototype;
  });
}, function(t2, e2, n2) {
  var s2 = n2(20), u = n2(127), l2 = n2(42), f = n2(22);
  t2.exports = function(t3, e3, n3) {
    for (var r2 = u(e3), o = f.f, i2 = l2.f, a2 = 0; a2 < r2.length; a2++) {
      var c2 = r2[a2];
      s2(t3, c2) || n3 && s2(n3, c2) || o(t3, c2, i2(e3, c2));
    }
  };
}, function(t2, e2, n2) {
  var r2 = n2(43), o = n2(1), i2 = n2(55), a2 = n2(103), c2 = n2(18), s2 = o([].concat);
  t2.exports = r2("Reflect", "ownKeys") || function(t3) {
    var e3 = i2.f(c2(t3)), n3 = a2.f;
    return n3 ? s2(e3, n3(t3)) : e3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), a2 = n2(20), c2 = n2(30), s2 = n2(129).indexOf, u = n2(63), l2 = r2([].push);
  t2.exports = function(t3, e3) {
    var n3, r3 = c2(t3), o = 0, i2 = [];
    for (n3 in r3)
      !a2(u, n3) && a2(r3, n3) && l2(i2, n3);
    for (; e3.length > o; )
      !a2(r3, n3 = e3[o++]) || ~s2(i2, n3) || l2(i2, n3);
    return i2;
  };
}, function(t2, e2, n2) {
  function r2(c2) {
    return function(t3, e3, n3) {
      var r3, o = s2(t3), i2 = l2(o), a2 = u(n3, i2);
      if (c2 && e3 != e3) {
        for (; a2 < i2; )
          if ((r3 = o[a2++]) != r3)
            return true;
      } else
        for (; a2 < i2; a2++)
          if ((c2 || a2 in o) && o[a2] === e3)
            return c2 || a2 || 0;
      return !c2 && -1;
    };
  }
  var s2 = n2(30), u = n2(101), l2 = n2(46);
  t2.exports = { includes: r2(true), indexOf: r2(false) };
}, function(t2, e2, n2) {
  n2 = n2(2);
  t2.exports = !n2(function() {
    function t3() {
    }
    return t3.prototype.constructor = null, Object.getPrototypeOf(new t3()) !== t3.prototype;
  });
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(85), i2 = n2(76), a2 = r2.TypeError;
  t2.exports = function(t3) {
    if (o(t3))
      return t3;
    throw a2(i2(t3) + " is not a constructor");
  };
}, function(t2, e2, n2) {
  var r2 = n2(17), o = n2(125), c2 = n2(22), s2 = n2(18), u = n2(30), l2 = n2(66);
  e2.f = r2 && !o ? Object.defineProperties : function(t3, e3) {
    s2(t3);
    for (var n3, r3 = u(e3), o2 = l2(e3), i2 = o2.length, a2 = 0; a2 < i2; )
      c2.f(t3, n3 = o2[a2++], r3[n3]);
    return t3;
  };
}, function(t2, e2, n2) {
  n2 = n2(12);
  e2.f = n2;
}, function(t2, e2, n2) {
  var r2 = n2(161), o = n2(20), i2 = n2(133), a2 = n2(22).f;
  t2.exports = function(t3) {
    var e3 = r2.Symbol || (r2.Symbol = {});
    o(e3, t3) || a2(e3, t3, { value: i2.f(t3) });
  };
}, function(t2, e2, n2) {
  var r2 = n2(162);
  t2.exports = function(t3, e3) {
    return new (r2(t3))(0 === e3 ? 0 : e3);
  };
}, function(t2, e2, n2) {
  var r2, o, i2 = n2(2), a2 = n2(14), c2 = n2(50), s2 = n2(82), u = n2(37), l2 = n2(12), n2 = n2(54), f = l2("iterator"), l2 = false;
  [].keys && ("next" in (o = [].keys()) ? (s2 = s2(s2(o))) !== Object.prototype && (r2 = s2) : l2 = true), null == r2 || i2(function() {
    var t3 = {};
    return r2[f].call(t3) !== t3;
  }) ? r2 = {} : n2 && (r2 = c2(r2)), a2(r2[f]) || u(r2, f, function() {
    return this;
  }), t2.exports = { IteratorPrototype: r2, BUGGY_SAFARI_ITERATORS: l2 };
}, function(t2, e2, n2) {
  function r2(o2) {
    return function(t3, e3) {
      var n3, t3 = a2(c2(t3)), e3 = i2(e3), r3 = t3.length;
      return e3 < 0 || r3 <= e3 ? o2 ? "" : void 0 : (n3 = u(t3, e3)) < 55296 || 56319 < n3 || e3 + 1 === r3 || (r3 = u(t3, e3 + 1)) < 56320 || 57343 < r3 ? o2 ? s2(t3, e3) : n3 : o2 ? l2(t3, e3, e3 + 2) : r3 - 56320 + (n3 - 55296 << 10) + 65536;
    };
  }
  var o = n2(1), i2 = n2(80), a2 = n2(23), c2 = n2(39), s2 = o("".charAt), u = o("".charCodeAt), l2 = o("".slice);
  t2.exports = { codeAt: r2(false), charAt: r2(true) };
}, function(t2, e2) {
  t2.exports = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 };
}, function(t2, e2, n2) {
  n2 = n2(99)("span").classList, n2 = n2 && n2.constructor && n2.constructor.prototype;
  t2.exports = n2 === Object.prototype ? void 0 : n2;
}, function(t2, e2, n2) {
  var r2 = n2(2), o = n2(0).RegExp;
  t2.exports = r2(function() {
    var t3 = o(".", "s");
    return !(t3.dotAll && t3.exec("\n") && "s" === t3.flags);
  });
}, function(t2, e2, n2) {
  var r2 = n2(2), o = n2(0).RegExp;
  t2.exports = r2(function() {
    var t3 = o("(?<a>b)", "g");
    return "b" !== t3.exec("b").groups.a || "bc" !== "b".replace(t3, "$<a>c");
  });
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(115), i2 = r2.TypeError;
  t2.exports = function(t3) {
    if (o(t3))
      throw i2("The method doesn't accept regular expressions");
    return t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(12)("match");
  t2.exports = function(e3) {
    var n3 = /./;
    try {
      "/./"[e3](n3);
    } catch (t3) {
      try {
        return n3[r2] = false, "/./"[e3](n3);
      } catch (t4) {
      }
    }
    return false;
  };
}, function(t2, e2, n2) {
  var r2 = n2(43), o = n2(22), i2 = n2(12), a2 = n2(17), c2 = i2("species");
  t2.exports = function(t3) {
    var t3 = r2(t3), e3 = o.f;
    a2 && t3 && !t3[c2] && e3(t3, c2, { configurable: true, get: function() {
      return this;
    } });
  };
}, function(t2, e2, n2) {
  var y = n2(3), m = n2(0), g = n2(1), b = n2(81), _ = n2(37), w = n2(146), O = n2(147), k = n2(151), C = n2(14), S = n2(19), x = n2(2), E = n2(152), j = n2(87), T = n2(117);
  t2.exports = function(t3, e3, n3) {
    function r2(t4) {
      var n4 = g(p2[t4]);
      _(p2, t4, "add" == t4 ? function(t5) {
        return n4(this, 0 === t5 ? 0 : t5), this;
      } : "delete" == t4 ? function(t5) {
        return !(l2 && !S(t5)) && n4(this, 0 === t5 ? 0 : t5);
      } : "get" == t4 ? function(t5) {
        return l2 && !S(t5) ? void 0 : n4(this, 0 === t5 ? 0 : t5);
      } : "has" == t4 ? function(t5) {
        return !(l2 && !S(t5)) && n4(this, 0 === t5 ? 0 : t5);
      } : function(t5, e4) {
        return n4(this, 0 === t5 ? 0 : t5, e4), this;
      });
    }
    var o, i2, a2, c2, s2, u = -1 !== t3.indexOf("Map"), l2 = -1 !== t3.indexOf("Weak"), f = u ? "set" : "add", d = m[t3], p2 = d && d.prototype, h = d, v = {};
    return b(t3, !C(d) || !(l2 || p2.forEach && !x(function() {
      new d().entries().next();
    }))) ? (h = n3.getConstructor(e3, t3, u, f), w.enable()) : b(t3, true) && (i2 = (o = new h())[f](l2 ? {} : -0, 1) != o, a2 = x(function() {
      o.has(1);
    }), c2 = E(function(t4) {
      new d(t4);
    }), s2 = !l2 && x(function() {
      for (var t4 = new d(), e4 = 5; e4--; )
        t4[f](e4, e4);
      return !t4.has(-0);
    }), c2 || (((h = e3(function(t4, e4) {
      k(t4, p2);
      t4 = T(new d(), t4, h);
      return null != e4 && O(e4, t4[f], { that: t4, AS_ENTRIES: u }), t4;
    })).prototype = p2).constructor = h), (a2 || s2) && (r2("delete"), r2("has"), u && r2("get")), (s2 || i2) && r2(f), l2 && p2.clear && delete p2.clear), v[t3] = h, y({ global: true, forced: h != d }, v), j(h, t3), l2 || n3.setStrong(h, t3, u), h;
  };
}, function(t2, e2, n2) {
  function r2(t3) {
    u(t3, y, { value: { objectID: "O" + m++, weakData: {} } });
  }
  var a2 = n2(3), c2 = n2(1), o = n2(63), i2 = n2(19), s2 = n2(20), u = n2(22).f, l2 = n2(55), f = n2(107), d = n2(169), p2 = n2(78), h = n2(171), v = false, y = p2("meta"), m = 0, g = t2.exports = { enable: function() {
    g.enable = function() {
    }, v = true;
    var o2 = l2.f, i3 = c2([].splice), t3 = {};
    t3[y] = 1, o2(t3).length && (l2.f = function(t4) {
      for (var e3 = o2(t4), n3 = 0, r3 = e3.length; n3 < r3; n3++)
        if (e3[n3] === y) {
          i3(e3, n3, 1);
          break;
        }
      return e3;
    }, a2({ target: "Object", stat: true, forced: true }, { getOwnPropertyNames: f.f }));
  }, fastKey: function(t3, e3) {
    if (!i2(t3))
      return "symbol" == typeof t3 ? t3 : ("string" == typeof t3 ? "S" : "P") + t3;
    if (!s2(t3, y)) {
      if (!d(t3))
        return "F";
      if (!e3)
        return "E";
      r2(t3);
    }
    return t3[y].objectID;
  }, getWeakData: function(t3, e3) {
    if (!s2(t3, y)) {
      if (!d(t3))
        return true;
      if (!e3)
        return false;
      r2(t3);
    }
    return t3[y].weakData;
  }, onFreeze: function(t3) {
    return h && v && d(t3) && !s2(t3, y) && r2(t3), t3;
  } };
  o[y] = true;
}, function(t2, e2, n2) {
  function y(t3, e3) {
    this.stopped = t3, this.result = e3;
  }
  var r2 = n2(0), m = n2(88), g = n2(21), b = n2(18), _ = n2(76), w = n2(148), O = n2(46), k = n2(44), C = n2(149), S = n2(120), x = n2(150), E = r2.TypeError, j = y.prototype;
  t2.exports = function(t3, e3, n3) {
    function r3(t4) {
      return i2 && x(i2, "normal", t4), new y(true, t4);
    }
    function o(t4) {
      return d ? (b(t4), h ? v(t4[0], t4[1], r3) : v(t4[0], t4[1])) : h ? v(t4, r3) : v(t4);
    }
    var i2, a2, c2, s2, u, l2, f = n3 && n3.that, d = !(!n3 || !n3.AS_ENTRIES), p2 = !(!n3 || !n3.IS_ITERATOR), h = !(!n3 || !n3.INTERRUPTED), v = m(e3, f);
    if (p2)
      i2 = t3;
    else {
      if (!(n3 = S(t3)))
        throw E(_(t3) + " is not iterable");
      if (w(n3)) {
        for (a2 = 0, c2 = O(t3); a2 < c2; a2++)
          if ((s2 = o(t3[a2])) && k(j, s2))
            return s2;
        return new y(false);
      }
      i2 = C(t3, n3);
    }
    for (u = i2.next; !(l2 = g(u, i2)).done; ) {
      try {
        s2 = o(l2.value);
      } catch (t4) {
        x(i2, "throw", t4);
      }
      if ("object" == typeof s2 && s2 && k(j, s2))
        return s2;
    }
    return new y(false);
  };
}, function(t2, e2, n2) {
  var r2 = n2(12), o = n2(68), i2 = r2("iterator"), a2 = Array.prototype;
  t2.exports = function(t3) {
    return void 0 !== t3 && (o.Array === t3 || a2[i2] === t3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(21), i2 = n2(62), a2 = n2(18), c2 = n2(76), s2 = n2(120), u = r2.TypeError;
  t2.exports = function(t3, e3) {
    var n3 = arguments.length < 2 ? s2(t3) : e3;
    if (i2(n3))
      return a2(o(n3, t3));
    throw u(c2(t3) + " is not iterable");
  };
}, function(t2, e2, n2) {
  var i2 = n2(21), a2 = n2(18), c2 = n2(53);
  t2.exports = function(t3, e3, n3) {
    var r2, o;
    a2(t3);
    try {
      if (!(r2 = c2(t3, "return"))) {
        if ("throw" === e3)
          throw n3;
        return n3;
      }
      r2 = i2(r2, t3);
    } catch (t4) {
      o = true, r2 = t4;
    }
    if ("throw" === e3)
      throw n3;
    if (o)
      throw r2;
    return a2(r2), n3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(44), i2 = r2.TypeError;
  t2.exports = function(t3, e3) {
    if (o(e3, t3))
      return t3;
    throw i2("Incorrect invocation");
  };
}, function(t2, e2, n2) {
  var o = n2(12)("iterator"), i2 = false;
  try {
    var r2 = 0, a2 = { next: function() {
      return { done: !!r2++ };
    }, return: function() {
      i2 = true;
    } };
    a2[o] = function() {
      return this;
    }, Array.from(a2, function() {
      throw 2;
    });
  } catch (t3) {
  }
  t2.exports = function(t3, e3) {
    if (!e3 && !i2)
      return false;
    var n3 = false;
    try {
      var r3 = {};
      r3[o] = function() {
        return { next: function() {
          return { done: n3 = true };
        } };
      }, t3(r3);
    } catch (t4) {
    }
    return n3;
  };
}, function(t2, e2, n2) {
  var u = n2(22).f, l2 = n2(50), f = n2(172), d = n2(88), p2 = n2(151), h = n2(147), a2 = n2(109), c2 = n2(144), v = n2(17), y = n2(146).fastKey, n2 = n2(49), m = n2.set, g = n2.getterFor;
  t2.exports = { getConstructor: function(t3, n3, r2, o) {
    function i2(t4, e3, n4) {
      var r3, o2 = s2(t4), i3 = a3(t4, e3);
      return i3 ? i3.value = n4 : (o2.last = i3 = { index: r3 = y(e3, true), key: e3, value: n4, previous: e3 = o2.last, next: void 0, removed: false }, o2.first || (o2.first = i3), e3 && (e3.next = i3), v ? o2.size++ : t4.size++, "F" !== r3 && (o2.index[r3] = i3)), t4;
    }
    function a3(t4, e3) {
      var n4, t4 = s2(t4), r3 = y(e3);
      if ("F" !== r3)
        return t4.index[r3];
      for (n4 = t4.first; n4; n4 = n4.next)
        if (n4.key == e3)
          return n4;
    }
    var t3 = t3(function(t4, e3) {
      p2(t4, c3), m(t4, { type: n3, index: l2(null), first: void 0, last: void 0, size: 0 }), v || (t4.size = 0), null != e3 && h(e3, t4[o], { that: t4, AS_ENTRIES: r2 });
    }), c3 = t3.prototype, s2 = g(n3);
    return f(c3, { clear: function() {
      for (var t4 = s2(this), e3 = t4.index, n4 = t4.first; n4; )
        n4.removed = true, n4.previous && (n4.previous = n4.previous.next = void 0), delete e3[n4.index], n4 = n4.next;
      t4.first = t4.last = void 0, v ? t4.size = 0 : this.size = 0;
    }, delete: function(t4) {
      var e3, n4, r3 = s2(this), t4 = a3(this, t4);
      return t4 && (e3 = t4.next, n4 = t4.previous, delete r3.index[t4.index], t4.removed = true, n4 && (n4.next = e3), e3 && (e3.previous = n4), r3.first == t4 && (r3.first = e3), r3.last == t4 && (r3.last = n4), v ? r3.size-- : this.size--), !!t4;
    }, forEach: function(t4) {
      for (var e3, n4 = s2(this), r3 = d(t4, 1 < arguments.length ? arguments[1] : void 0); e3 = e3 ? e3.next : n4.first; )
        for (r3(e3.value, e3.key, this); e3 && e3.removed; )
          e3 = e3.previous;
    }, has: function(t4) {
      return !!a3(this, t4);
    } }), f(c3, r2 ? { get: function(t4) {
      t4 = a3(this, t4);
      return t4 && t4.value;
    }, set: function(t4, e3) {
      return i2(this, 0 === t4 ? 0 : t4, e3);
    } } : { add: function(t4) {
      return i2(this, t4 = 0 === t4 ? 0 : t4, t4);
    } }), v && u(c3, "size", { get: function() {
      return s2(this).size;
    } }), t3;
  }, setStrong: function(t3, e3, n3) {
    var r2 = e3 + " Iterator", o = g(e3), i2 = g(r2);
    a2(t3, e3, function(t4, e4) {
      m(this, { type: r2, target: t4, state: o(t4), kind: e4, last: void 0 });
    }, function() {
      for (var t4 = i2(this), e4 = t4.kind, n4 = t4.last; n4 && n4.removed; )
        n4 = n4.previous;
      return t4.target && (t4.last = n4 = n4 ? n4.next : t4.state.first) ? "keys" == e4 ? { value: n4.key, done: false } : "values" == e4 ? { value: n4.value, done: false } : { value: [n4.key, n4.value], done: false } : { value: t4.target = void 0, done: true };
    }, n3 ? "entries" : "values", !n3, true), c2(e3);
  } };
}, function(t2, e2) {
  var n2 = function() {
    return this;
  }();
  try {
    n2 = n2 || new Function("return this")();
  } catch (t3) {
    "object" == typeof window && (n2 = window);
  }
  t2.exports = n2;
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(21), i2 = n2(14), a2 = n2(19), c2 = r2.TypeError;
  t2.exports = function(t3, e3) {
    var n3, r3;
    if ("string" === e3 && i2(n3 = t3.toString) && !a2(r3 = o(n3, t3)))
      return r3;
    if (i2(n3 = t3.valueOf) && !a2(r3 = o(n3, t3)))
      return r3;
    if ("string" !== e3 && i2(n3 = t3.toString) && !a2(r3 = o(n3, t3)))
      return r3;
    throw c2("Can't convert object to primitive value");
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(14), n2 = n2(100), r2 = r2.WeakMap;
  t2.exports = o(r2) && /native code/.test(n2(r2));
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(14), i2 = r2.String, a2 = r2.TypeError;
  t2.exports = function(t3) {
    if ("object" == typeof t3 || o(t3))
      return t3;
    throw a2("Can't set " + i2(t3) + " as a prototype");
  };
}, function(t2, e2, n2) {
  var r2 = n2(105), o = n2(83);
  t2.exports = r2 ? {}.toString : function() {
    return "[object " + o(this) + "]";
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(1), i2 = n2(62), l2 = n2(19), f = n2(20), d = n2(106), n2 = n2(60), p2 = r2.Function, h = o([].concat), v = o([].join), y = {};
  t2.exports = n2 ? p2.bind : function(a2) {
    var c2 = i2(this), t3 = c2.prototype, s2 = d(arguments, 1), u = function() {
      var t4 = h(s2, d(arguments));
      if (this instanceof u) {
        var e3 = c2, n3 = t4.length, r3 = t4;
        if (!f(y, n3)) {
          for (var o2 = [], i3 = 0; i3 < n3; i3++)
            o2[i3] = "a[" + i3 + "]";
          y[n3] = p2("C,a", "return new C(" + v(o2, ",") + ")");
        }
        return y[n3](e3, r3);
      }
      return c2.apply(a2, t4);
    };
    return l2(t3) && (u.prototype = t3), u;
  };
}, function(t2, e2, n2) {
  n2 = n2(43);
  t2.exports = n2("document", "documentElement");
}, function(t2, e2, n2) {
  n2 = n2(0);
  t2.exports = n2;
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(86), i2 = n2(85), a2 = n2(19), c2 = n2(12)("species"), s2 = r2.Array;
  t2.exports = function(t3) {
    var e3;
    return o(t3) && (e3 = t3.constructor, (i2(e3) && (e3 === s2 || o(e3.prototype)) || a2(e3) && null === (e3 = e3[c2])) && (e3 = void 0)), void 0 === e3 ? s2 : e3;
  };
}, function(t2, e2, n2) {
  function o() {
    return this;
  }
  var i2 = n2(136).IteratorPrototype, a2 = n2(50), c2 = n2(61), s2 = n2(87), u = n2(68);
  t2.exports = function(t3, e3, n3, r2) {
    e3 += " Iterator";
    return t3.prototype = a2(i2, { next: c2(+!r2, n3) }), s2(t3, e3, false, true), u[e3] = o, t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(18), o = n2(131), i2 = n2(12)("species");
  t2.exports = function(t3, e3) {
    var t3 = r2(t3).constructor;
    return void 0 === t3 || null == (t3 = r2(t3)[i2]) ? e3 : o(t3);
  };
}, function(t2, e2, n2) {
  var r2 = n2(64).PROPER, o = n2(2), i2 = n2(93);
  t2.exports = function(t3) {
    return o(function() {
      return !!i2[t3]() || "\u200B\x85\u180E" !== "\u200B\x85\u180E"[t3]() || r2 && i2[t3].name !== t3;
    });
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(2), i2 = n2(1), a2 = n2(23), c2 = n2(92).trim, n2 = n2(93), s2 = i2("".charAt), u = r2.parseFloat, i2 = r2.Symbol, l2 = i2 && i2.iterator, r2 = 1 / u(n2 + "-0") != -1 / 0 || l2 && !o(function() {
    u(Object(l2));
  });
  t2.exports = r2 ? function(t3) {
    var t3 = c2(a2(t3)), e3 = u(t3);
    return 0 === e3 && "-" == s2(t3, 0) ? -0 : e3;
  } : u;
}, function(t2, e2, n2) {
  n2 = n2(1);
  t2.exports = n2(1 .valueOf);
}, function(t2, e2, n2) {
  var r2 = n2(56).forEach, n2 = n2(118)("forEach");
  t2.exports = n2 ? [].forEach : function(t3) {
    return r2(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  };
}, function(t2, e2, n2) {
  var r2 = n2(2), o = n2(19), i2 = n2(48), a2 = n2(170), c2 = Object.isExtensible, n2 = r2(function() {
  });
  t2.exports = n2 || a2 ? function(t3) {
    return !!o(t3) && ((!a2 || "ArrayBuffer" != i2(t3)) && (!c2 || c2(t3)));
  } : c2;
}, function(t2, e2, n2) {
  n2 = n2(2);
  t2.exports = n2(function() {
    var t3;
    "function" == typeof ArrayBuffer && (t3 = new ArrayBuffer(8), Object.isExtensible(t3) && Object.defineProperty(t3, "a", { value: 8 }));
  });
}, function(t2, e2, n2) {
  n2 = n2(2);
  t2.exports = !n2(function() {
    return Object.isExtensible(Object.preventExtensions({}));
  });
}, function(t2, e2, n2) {
  var o = n2(37);
  t2.exports = function(t3, e3, n3) {
    for (var r2 in e3)
      o(t3, r2, e3[r2], n3);
    return t3;
  };
}, function(t2, e2, n2) {
  var r2 = n2(1), o = n2(36), d = Math.floor, p2 = r2("".charAt), h = r2("".replace), v = r2("".slice), y = /\$([$&'`]|\d{1,2}|<[^>]*>)/g, m = /\$([$&'`]|\d{1,2})/g;
  t2.exports = function(i2, a2, c2, s2, u, t3) {
    var l2 = c2 + i2.length, f = s2.length, e3 = m;
    return void 0 !== u && (u = o(u), e3 = y), h(t3, e3, function(t4, e4) {
      var n3;
      switch (p2(e4, 0)) {
        case "$":
          return "$";
        case "&":
          return i2;
        case "`":
          return v(a2, 0, c2);
        case "'":
          return v(a2, l2);
        case "<":
          n3 = u[v(e4, 1, -1)];
          break;
        default:
          var r3, o2 = +e4;
          if (0 == o2)
            return t4;
          if (f < o2)
            return 0 !== (r3 = d(o2 / 10)) && r3 <= f ? void 0 === s2[r3 - 1] ? p2(e4, 1) : s2[r3 - 1] + p2(e4, 1) : t4;
          n3 = s2[o2 - 1];
      }
      return void 0 === n3 ? "" : n3;
    });
  };
}, function(t2, e2, n2) {
  var r2 = n2(0), d = n2(88), p2 = n2(21), h = n2(36), v = n2(175), y = n2(148), m = n2(85), g = n2(46), b = n2(67), _ = n2(149), w = n2(120), O = r2.Array;
  t2.exports = function(t3) {
    var e3, n3, r3, o, i2, a2, c2 = h(t3), t3 = m(this), s2 = arguments.length, u = 1 < s2 ? arguments[1] : void 0, l2 = void 0 !== u, s2 = (l2 && (u = d(u, 2 < s2 ? arguments[2] : void 0)), w(c2)), f = 0;
    if (!s2 || this == O && y(s2))
      for (e3 = g(c2), n3 = t3 ? new this(e3) : O(e3); f < e3; f++)
        a2 = l2 ? u(c2[f], f) : c2[f], b(n3, f, a2);
    else
      for (i2 = (o = _(c2, s2)).next, n3 = t3 ? new this() : []; !(r3 = p2(i2, o)).done; f++)
        a2 = l2 ? v(o, u, [r3.value, f], true) : r3.value, b(n3, f, a2);
    return n3.length = f, n3;
  };
}, function(t2, e2, n2) {
  var o = n2(18), i2 = n2(150);
  t2.exports = function(e3, t3, n3, r2) {
    try {
      return r2 ? t3(o(n3)[0], n3[1]) : t3(n3);
    } catch (t4) {
      i2(e3, "throw", t4);
    }
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(2), n2 = n2(107).f;
  r2({ target: "Object", stat: true, forced: o(function() {
    return !Object.getOwnPropertyNames(1);
  }) }, { getOwnPropertyNames: n2 });
}, function(t2, e2, n2) {
  n2(145)("Map", function(t3) {
    return function() {
      return t3(this, arguments.length ? arguments[0] : void 0);
    };
  }, n2(153));
}, function(t2, e2, n2) {
  var r2 = n2(0), o = n2(2), i2 = n2(1), a2 = n2(23), c2 = n2(92).trim, n2 = n2(93), s2 = r2.parseInt, r2 = r2.Symbol, u = r2 && r2.iterator, l2 = /^[+-]?0x/i, f = i2(l2.exec), r2 = 8 !== s2(n2 + "08") || 22 !== s2(n2 + "0x16") || u && !o(function() {
    s2(Object(u));
  });
  t2.exports = r2 ? function(t3, e3) {
    t3 = c2(a2(t3));
    return s2(t3, e3 >>> 0 || (f(l2, t3) ? 16 : 10));
  } : s2;
}, function(t2, e2, n2) {
  var r2 = n2(20);
  t2.exports = function(t3) {
    return void 0 !== t3 && (r2(t3, "value") || r2(t3, "writable"));
  };
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(1), c2 = n2(62), s2 = n2(36), u = n2(46), l2 = n2(23), i2 = n2(2), f = n2(181), a2 = n2(118), d = n2(182), p2 = n2(183), h = n2(74), v = n2(184), y = [], m = o(y.sort), g = o(y.push), n2 = i2(function() {
    y.sort(void 0);
  }), o = i2(function() {
    y.sort(null);
  }), a2 = a2("sort"), b = !i2(function() {
    if (h)
      return h < 70;
    if (!(d && 3 < d)) {
      if (p2)
        return true;
      if (v)
        return v < 603;
      for (var t3, e3, n3, r3 = "", o2 = 65; o2 < 76; o2++) {
        switch (t3 = String.fromCharCode(o2), o2) {
          case 66:
          case 69:
          case 70:
          case 72:
            e3 = 3;
            break;
          case 68:
          case 71:
            e3 = 4;
            break;
          default:
            e3 = 2;
        }
        for (n3 = 0; n3 < 47; n3++)
          y.push({ k: t3 + n3, v: e3 });
      }
      for (y.sort(function(t4, e4) {
        return e4.v - t4.v;
      }), n3 = 0; n3 < y.length; n3++)
        t3 = y[n3].k.charAt(0), r3.charAt(r3.length - 1) !== t3 && (r3 += t3);
      return "DGBEFHACIJK" !== r3;
    }
  });
  r2({ target: "Array", proto: true, forced: n2 || !o || !a2 || !b }, { sort: function(t3) {
    void 0 !== t3 && c2(t3);
    var e3 = s2(this);
    if (b)
      return void 0 === t3 ? m(e3) : m(e3, t3);
    for (var n3, r3, o2 = [], i3 = u(e3), a3 = 0; a3 < i3; a3++)
      a3 in e3 && g(o2, e3[a3]);
    for (f(o2, (r3 = t3, function(t4, e4) {
      return void 0 === e4 ? -1 : void 0 === t4 ? 1 : void 0 !== r3 ? +r3(t4, e4) || 0 : l2(t4) > l2(e4) ? 1 : -1;
    })), n3 = o2.length, a3 = 0; a3 < n3; )
      e3[a3] = o2[a3++];
    for (; a3 < i3; )
      delete e3[a3++];
    return e3;
  } });
}, function(t2, e2, n2) {
  function g(t3, e3) {
    var n3 = t3.length, r2 = _(n3 / 2);
    if (n3 < 8) {
      for (var o, i2, a2 = t3, c2 = e3, s2 = a2.length, u = 1; u < s2; ) {
        for (o = a2[i2 = u]; i2 && 0 < c2(a2[i2 - 1], o); )
          a2[i2] = a2[--i2];
        i2 !== u++ && (a2[i2] = o);
      }
      return a2;
    }
    for (var l2 = t3, f = g(b(t3, 0, r2), e3), d = g(b(t3, r2), e3), p2 = e3, h = f.length, v = d.length, y = 0, m = 0; y < h || m < v; )
      l2[y + m] = y < h && m < v ? p2(f[y], d[m]) <= 0 ? f[y++] : d[m++] : y < h ? f[y++] : d[m++];
    return l2;
  }
  var b = n2(108), _ = Math.floor;
  t2.exports = g;
}, function(t2, e2, n2) {
  n2 = n2(75).match(/firefox\/(\d+)/i);
  t2.exports = !!n2 && +n2[1];
}, function(t2, e2, n2) {
  n2 = n2(75);
  t2.exports = /MSIE|Trident/.test(n2);
}, function(t2, e2, n2) {
  n2 = n2(75).match(/AppleWebKit\/(\d+)\./);
  t2.exports = !!n2 && +n2[1];
}, function(t2, e2, n2) {
  var r2 = n2(3), n2 = n2(186);
  r2({ target: "Object", stat: true, forced: Object.assign !== n2 }, { assign: n2 });
}, function(t2, e2, n2) {
  var d = n2(17), r2 = n2(1), p2 = n2(21), o = n2(2), h = n2(66), v = n2(103), y = n2(70), m = n2(36), g = n2(71), i2 = Object.assign, a2 = Object.defineProperty, b = r2([].concat);
  t2.exports = !i2 || o(function() {
    if (d && 1 !== i2({ b: 1 }, i2(a2({}, "a", { enumerable: true, get: function() {
      a2(this, "b", { value: 3, enumerable: false });
    } }), { b: 2 })).b)
      return true;
    var t3 = {}, e3 = {}, n3 = Symbol(), r3 = "abcdefghijklmnopqrst";
    return t3[n3] = 7, r3.split("").forEach(function(t4) {
      e3[t4] = t4;
    }), 7 != i2({}, t3)[n3] || h(i2({}, e3)).join("") != r3;
  }) ? function(t3, e3) {
    for (var n3 = m(t3), r3 = arguments.length, o2 = 1, i3 = v.f, a3 = y.f; o2 < r3; )
      for (var c2, s2 = g(arguments[o2++]), u = i3 ? b(h(s2), i3(s2)) : h(s2), l2 = u.length, f = 0; f < l2; )
        c2 = u[f++], d && !p2(a3, s2, c2) || (n3[c2] = s2[c2]);
    return n3;
  } : i2;
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(56).findIndex, n2 = n2(89), i2 = "findIndex", a2 = true;
  i2 in [] && Array(1)[i2](function() {
    a2 = false;
  }), r2({ target: "Array", proto: true, forced: a2 }, { findIndex: function(t3) {
    return o(this, t3, 1 < arguments.length ? arguments[1] : void 0);
  } }), n2(i2);
}, function(t2, e2, n2) {
  n2(3)({ target: "Number", stat: true }, { isNaN: function(t3) {
    return t3 != t3;
  } });
}, function(t2, e2, n2) {
  var r2 = n2(3), o = n2(190).values;
  r2({ target: "Object", stat: true }, { values: function(t3) {
    return o(t3);
  } });
}, function(t2, e2, n2) {
  function r2(c2) {
    return function(t3) {
      for (var e3, n3 = l2(t3), r3 = u(n3), o2 = r3.length, i2 = 0, a2 = []; i2 < o2; )
        e3 = r3[i2++], s2 && !f(n3, e3) || d(a2, c2 ? [e3, n3[e3]] : n3[e3]);
      return a2;
    };
  }
  var s2 = n2(17), o = n2(1), u = n2(66), l2 = n2(30), f = o(n2(70).f), d = o([].push);
  t2.exports = { entries: r2(true), values: r2(false) };
}, function(t2, e2, n2) {
  var n2 = n2(3), r2 = Math.ceil, o = Math.floor;
  n2({ target: "Math", stat: true }, { trunc: function(t3) {
    return (0 < t3 ? o : r2)(t3);
  } });
}, , function(N, R, t2) {
  t2.r(R);
  var i2 = {};
  t2.r(i2), t2.d(i2, "top", function() {
    return E;
  }), t2.d(i2, "bottom", function() {
    return j;
  }), t2.d(i2, "right", function() {
    return T;
  }), t2.d(i2, "left", function() {
    return A;
  }), t2.d(i2, "auto", function() {
    return Lt;
  }), t2.d(i2, "basePlacements", function() {
    return Nt;
  }), t2.d(i2, "start", function() {
    return Rt;
  }), t2.d(i2, "end", function() {
    return Bt;
  }), t2.d(i2, "clippingParents", function() {
    return Ht;
  }), t2.d(i2, "viewport", function() {
    return Ft;
  }), t2.d(i2, "popper", function() {
    return Vt;
  }), t2.d(i2, "reference", function() {
    return Yt;
  }), t2.d(i2, "variationPlacements", function() {
    return Wt;
  }), t2.d(i2, "placements", function() {
    return zt;
  }), t2.d(i2, "beforeRead", function() {
    return Ut;
  }), t2.d(i2, "read", function() {
    return qt;
  }), t2.d(i2, "afterRead", function() {
    return Kt;
  }), t2.d(i2, "beforeMain", function() {
    return $t;
  }), t2.d(i2, "main", function() {
    return Xt;
  }), t2.d(i2, "afterMain", function() {
    return Gt;
  }), t2.d(i2, "beforeWrite", function() {
    return Qt;
  }), t2.d(i2, "write", function() {
    return Zt;
  }), t2.d(i2, "afterWrite", function() {
    return Jt;
  }), t2.d(i2, "modifierPhases", function() {
    return te;
  }), t2.d(i2, "applyStyles", function() {
    return oe;
  }), t2.d(i2, "arrow", function() {
    return Oe;
  }), t2.d(i2, "computeStyles", function() {
    return xe;
  }), t2.d(i2, "eventListeners", function() {
    return je;
  }), t2.d(i2, "flip", function() {
    return Ye;
  }), t2.d(i2, "hide", function() {
    return Ue;
  }), t2.d(i2, "offset", function() {
    return qe;
  }), t2.d(i2, "popperOffsets", function() {
    return Ke;
  }), t2.d(i2, "preventOverflow", function() {
    return $e;
  }), t2.d(i2, "popperGenerator", function() {
    return Je;
  }), t2.d(i2, "detectOverflow", function() {
    return Ve;
  }), t2.d(i2, "createPopperBase", function() {
    return tn;
  }), t2.d(i2, "createPopper", function() {
    return en;
  }), t2.d(i2, "createPopperLite", function() {
    return nn;
  }), t2(29), t2(31), t2(4), t2(32), t2(7), t2(10), t2(11), t2(5), t2(6), t2(8), t2(16), t2(69), t2(33), t2(51), t2(57), t2(38), t2(91), t2(116), t2(34), t2(9), t2(13), t2(52), t2(40), t2(26);
  function B(t3) {
    return (B = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function H(t3) {
    return (t3 = et(t3)) && document.querySelector(t3) ? t3 : null;
  }
  function F(t3) {
    return (t3 = et(t3)) ? document.querySelector(t3) : null;
  }
  function V(t3) {
    t3.dispatchEvent(new Event(tt));
  }
  function Y(t3) {
    return nt(t3) ? t3.jquery ? t3[0] : t3 : "string" == typeof t3 && 0 < t3.length ? document.querySelector(t3) : null;
  }
  function W(r3, o2, i3) {
    Object.keys(i3).forEach(function(t3) {
      var e3 = i3[t3], n3 = o2[t3], n3 = n3 && nt(n3) ? "element" : null == (n3 = n3) ? "".concat(n3) : {}.toString.call(n3).match(/\s([a-z]+)/i)[1].toLowerCase();
      if (!new RegExp(e3).test(n3))
        throw new TypeError("".concat(r3.toUpperCase(), ': Option "').concat(t3, '" provided type "').concat(n3, '" but expected type "').concat(e3, '".'));
    });
  }
  function z(t3) {
    return !(!nt(t3) || 0 === t3.getClientRects().length) && "visible" === getComputedStyle(t3).getPropertyValue("visibility");
  }
  function U(t3) {
    return !t3 || t3.nodeType !== Node.ELEMENT_NODE || (!!t3.classList.contains("disabled") || (void 0 !== t3.disabled ? t3.disabled : t3.hasAttribute("disabled") && "false" !== t3.getAttribute("disabled")));
  }
  function q(t3) {
    return document.documentElement.attachShadow ? "function" == typeof t3.getRootNode ? (e3 = t3.getRootNode()) instanceof ShadowRoot ? e3 : null : t3 instanceof ShadowRoot ? t3 : t3.parentNode ? q(t3.parentNode) : null : null;
    var e3;
  }
  function K() {
  }
  function $(t3) {
    t3.offsetHeight;
  }
  function X() {
    var t3 = window.jQuery;
    return t3 && !document.body.hasAttribute("data-bs-no-jquery") ? t3 : null;
  }
  function a2() {
    return "rtl" === document.documentElement.dir;
  }
  function e2(r3) {
    var t3;
    t3 = function() {
      var t4, e3, n3 = X();
      n3 && (t4 = r3.NAME, e3 = n3.fn[t4], n3.fn[t4] = r3.jQueryInterface, n3.fn[t4].Constructor = r3, n3.fn[t4].noConflict = function() {
        return n3.fn[t4] = e3, r3.jQueryInterface;
      });
    }, "loading" === document.readyState ? (rt.length || document.addEventListener("DOMContentLoaded", function() {
      rt.forEach(function(t4) {
        return t4();
      });
    }), rt.push(t3)) : t3();
  }
  function G(t3) {
    "function" == typeof t3 && t3();
  }
  function Q(n3, r3) {
    var t3, o2;
    2 < arguments.length && void 0 !== arguments[2] && !arguments[2] ? G(n3) : (t3 = function(t4) {
      if (!t4)
        return 0;
      var t4 = window.getComputedStyle(t4), e3 = t4.transitionDuration, t4 = t4.transitionDelay, n4 = Number.parseFloat(e3), r4 = Number.parseFloat(t4);
      return n4 || r4 ? (e3 = e3.split(",")[0], t4 = t4.split(",")[0], (Number.parseFloat(e3) + Number.parseFloat(t4)) * J) : 0;
    }(r3) + 5, o2 = false, r3.addEventListener(tt, function t4(e3) {
      e3.target === r3 && (o2 = true, r3.removeEventListener(tt, t4), G(n3));
    }), setTimeout(function() {
      o2 || V(r3);
    }, t3));
  }
  function Z(t3, e3, n3, r3) {
    if (-1 === (e3 = t3.indexOf(e3)))
      return t3[!n3 && r3 ? t3.length - 1 : 0];
    var o2 = t3.length;
    return e3 += n3 ? 1 : -1, r3 && (e3 = (e3 + o2) % o2), t3[Math.max(0, Math.min(e3, o2 - 1))];
  }
  var J = 1e3, tt = "transitionend", et = function(t3) {
    var e3 = t3.getAttribute("data-bs-target");
    if (!e3 || "#" === e3) {
      t3 = t3.getAttribute("href");
      if (!t3 || !t3.includes("#") && !t3.startsWith("."))
        return null;
      e3 = (t3 = t3.includes("#") && !t3.startsWith("#") ? "#".concat(t3.split("#")[1]) : t3) && "#" !== t3 ? t3.trim() : null;
    }
    return e3;
  }, nt = function(t3) {
    return !(!t3 || "object" !== B(t3)) && void 0 !== (t3 = void 0 !== t3.jquery ? t3[0] : t3).nodeType;
  }, rt = [];
  t2(119), t2(47), t2(27), t2(41), t2(35);
  function ot(t3, e3) {
    return function(t4) {
      if (Array.isArray(t4))
        return t4;
    }(t3) || function(t4, e4) {
      var n3 = null == t4 ? null : "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
      if (null != n3) {
        var r3, o2, i3 = [], a3 = true, c3 = false;
        try {
          for (n3 = n3.call(t4); !(a3 = (r3 = n3.next()).done) && (i3.push(r3.value), !e4 || i3.length !== e4); a3 = true)
            ;
        } catch (t5) {
          c3 = true, o2 = t5;
        } finally {
          try {
            a3 || null == n3.return || n3.return();
          } finally {
            if (c3)
              throw o2;
          }
        }
        return i3;
      }
    }(t3, e3) || function(t4, e4) {
      if (t4) {
        if ("string" == typeof t4)
          return it(t4, e4);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? it(t4, e4) : void 0;
      }
    }(t3, e3) || function() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function it(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  var at = /[^.]*(?=\..*)\.|.*/, ct = /\..*/, st = /::\d+$/, ut = {}, lt = 1, ft = { mouseenter: "mouseover", mouseleave: "mouseout" }, dt = /^(mouseenter|mouseleave)/i, pt = /* @__PURE__ */ new Set(["click", "dblclick", "mouseup", "mousedown", "contextmenu", "mousewheel", "DOMMouseScroll", "mouseover", "mouseout", "mousemove", "selectstart", "selectend", "keydown", "keypress", "keyup", "orientationchange", "touchstart", "touchmove", "touchend", "touchcancel", "pointerdown", "pointermove", "pointerup", "pointerleave", "pointercancel", "gesturestart", "gesturechange", "gestureend", "focus", "blur", "change", "reset", "select", "submit", "focusin", "focusout", "load", "unload", "beforeunload", "resize", "move", "DOMContentLoaded", "readystatechange", "error", "abort", "scroll"]);
  function ht(t3, e3) {
    return e3 && "".concat(e3, "::").concat(lt++) || t3.uidEvent || lt++;
  }
  function vt(t3) {
    var e3 = ht(t3);
    return t3.uidEvent = e3, ut[e3] = ut[e3] || {}, ut[e3];
  }
  function yt(t3, e3, n3) {
    for (var r3 = 2 < arguments.length && void 0 !== n3 ? n3 : null, o2 = Object.keys(t3), i3 = 0, a3 = o2.length; i3 < a3; i3++) {
      var c3 = t3[o2[i3]];
      if (c3.originalHandler === e3 && c3.delegationSelector === r3)
        return c3;
    }
    return null;
  }
  function mt(t3, e3, n3) {
    var r3 = "string" == typeof e3, n3 = r3 ? n3 : e3, e3 = _t(t3);
    return [r3, n3, e3 = pt.has(e3) ? e3 : t3];
  }
  function gt(t3, e3, n3, r3, o2) {
    var i3, a3, c3, s3, u2, l3, f2, d2, p3, h2;
    "string" == typeof e3 && t3 && (n3 || (n3 = r3, r3 = null), dt.test(e3) && (c3 = function(e4) {
      return function(t4) {
        if (!t4.relatedTarget || t4.relatedTarget !== t4.delegateTarget && !t4.delegateTarget.contains(t4.relatedTarget))
          return e4.call(this, t4);
      };
    }, r3 ? r3 = c3(r3) : n3 = c3(n3)), i3 = (c3 = ot(mt(e3, n3, r3), 3))[0], a3 = c3[1], c3 = c3[2], (u2 = yt(s3 = (s3 = vt(t3))[c3] || (s3[c3] = {}), a3, i3 ? n3 : null)) ? u2.oneOff = u2.oneOff && o2 : (u2 = ht(a3, e3.replace(at, "")), (e3 = i3 ? (d2 = t3, p3 = n3, h2 = r3, function t4(e4) {
      for (var n4 = d2.querySelectorAll(p3), r4 = e4.target; r4 && r4 !== this; r4 = r4.parentNode)
        for (var o3 = n4.length; o3--; )
          if (n4[o3] === r4)
            return e4.delegateTarget = r4, t4.oneOff && wt.off(d2, e4.type, p3, h2), h2.apply(r4, [e4]);
      return null;
    }) : (l3 = t3, f2 = n3, function t4(e4) {
      return e4.delegateTarget = l3, t4.oneOff && wt.off(l3, e4.type, f2), f2.apply(l3, [e4]);
    })).delegationSelector = i3 ? n3 : null, e3.originalHandler = a3, e3.oneOff = o2, s3[e3.uidEvent = u2] = e3, t3.addEventListener(c3, e3, i3)));
  }
  function bt(t3, e3, n3, r3, o2) {
    r3 = yt(e3[n3], r3, o2);
    r3 && (t3.removeEventListener(n3, r3, Boolean(o2)), delete e3[n3][r3.uidEvent]);
  }
  function _t(t3) {
    return t3 = t3.replace(ct, ""), ft[t3] || t3;
  }
  var wt = { on: function(t3, e3, n3, r3) {
    gt(t3, e3, n3, r3, false);
  }, one: function(t3, e3, n3, r3) {
    gt(t3, e3, n3, r3, true);
  }, off: function(a3, c3, t3, e3) {
    if ("string" == typeof c3 && a3) {
      var e3 = ot(mt(c3, t3, e3), 3), n3 = e3[0], r3 = e3[1], o2 = e3[2], i3 = o2 !== c3, s3 = vt(a3), e3 = c3.startsWith(".");
      if (void 0 !== r3)
        return s3 && s3[o2] ? void bt(a3, s3, o2, r3, n3 ? t3 : null) : void 0;
      e3 && Object.keys(s3).forEach(function(t4) {
        var e4, n4, r4, o3, i4;
        e4 = a3, n4 = s3, r4 = t4, o3 = c3.slice(1), i4 = n4[r4] || {}, Object.keys(i4).forEach(function(t5) {
          t5.includes(o3) && (t5 = i4[t5], bt(e4, n4, r4, t5.originalHandler, t5.delegationSelector));
        });
      });
      var u2 = s3[o2] || {};
      Object.keys(u2).forEach(function(t4) {
        var e4 = t4.replace(st, "");
        i3 && !c3.includes(e4) || (e4 = u2[t4], bt(a3, s3, o2, e4.originalHandler, e4.delegationSelector));
      });
    }
  }, trigger: function(t3, e3, n3) {
    if ("string" != typeof e3 || !t3)
      return null;
    var r3, o2 = X(), i3 = _t(e3), a3 = e3 !== i3, c3 = pt.has(i3), s3 = true, u2 = true, l3 = false, f2 = null;
    return a3 && o2 && (r3 = o2.Event(e3, n3), o2(t3).trigger(r3), s3 = !r3.isPropagationStopped(), u2 = !r3.isImmediatePropagationStopped(), l3 = r3.isDefaultPrevented()), c3 ? (f2 = document.createEvent("HTMLEvents")).initEvent(i3, s3, true) : f2 = new CustomEvent(e3, { bubbles: s3, cancelable: true }), void 0 !== n3 && Object.keys(n3).forEach(function(t4) {
      Object.defineProperty(f2, t4, { get: function() {
        return n3[t4];
      } });
    }), l3 && f2.preventDefault(), u2 && t3.dispatchEvent(f2), f2.defaultPrevented && void 0 !== r3 && r3.preventDefault(), f2;
  } }, d = wt, Ot = (t2(176), t2(177), /* @__PURE__ */ new Map()), kt = function(t3, e3, n3) {
    Ot.has(t3) || Ot.set(t3, /* @__PURE__ */ new Map());
    t3 = Ot.get(t3);
    t3.has(e3) || 0 === t3.size ? t3.set(e3, n3) : console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(t3.keys())[0], "."));
  }, Ct = function(t3, e3) {
    return Ot.has(t3) && Ot.get(t3).get(e3) || null;
  }, St = function(t3, e3) {
    var n3;
    Ot.has(t3) && ((n3 = Ot.get(t3)).delete(e3), 0 === n3.size && Ot.delete(t3));
  };
  function xt(t3) {
    return (xt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Et(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var c2 = function() {
    function e3(t4) {
      if (!(this instanceof e3))
        throw new TypeError("Cannot call a class as a function");
      (t4 = Y(t4)) && (this._element = t4, kt(this._element, this.constructor.DATA_KEY, this));
    }
    var t3, n3, r3;
    return t3 = e3, r3 = [{ key: "getInstance", value: function(t4) {
      return Ct(Y(t4), this.DATA_KEY);
    } }, { key: "getOrCreateInstance", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
      return this.getInstance(t4) || new this(t4, "object" === xt(e4) ? e4 : null);
    } }, { key: "VERSION", get: function() {
      return "5.1.3";
    } }, { key: "NAME", get: function() {
      throw new Error('You have to implement the static method "NAME", for each component!');
    } }, { key: "DATA_KEY", get: function() {
      return "bs.".concat(this.NAME);
    } }, { key: "EVENT_KEY", get: function() {
      return ".".concat(this.DATA_KEY);
    } }], (n3 = [{ key: "dispose", value: function() {
      var e4 = this;
      St(this._element, this.constructor.DATA_KEY), d.off(this._element, this.constructor.EVENT_KEY), Object.getOwnPropertyNames(this).forEach(function(t4) {
        e4[t4] = null;
      });
    } }, { key: "_queueCallback", value: function(t4, e4) {
      Q(t4, e4, !(2 < arguments.length && void 0 !== arguments[2]) || arguments[2]);
    } }]) && Et(t3.prototype, n3), r3 && Et(t3, r3), Object.defineProperty(t3, "prototype", { writable: false }), e3;
  }();
  function jt(t3) {
    return (jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Tt(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function At(t3, e3) {
    return (At = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function Dt(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Pt(n3), e3 = (t3 = r3 ? (t3 = Pt(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === jt(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Pt(t3) {
    return (Pt = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var R = ".".concat("bs.button"), Mt = '[data-bs-toggle="button"]', R = "click".concat(R).concat(".data-api"), It = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && At(t3, e3);
    var n3, r3 = Dt(o2);
    function o2() {
      var t4 = this, e4 = o2;
      if (t4 instanceof e4)
        return r3.apply(this, arguments);
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "NAME", get: function() {
      return "button";
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this);
        "toggle" === e4 && t4[e4]();
      });
    } }], (n3 = [{ key: "toggle", value: function() {
      this._element.setAttribute("aria-pressed", this._element.classList.toggle("active"));
    } }]) && Tt(t3.prototype, n3), e3 && Tt(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), R = (d.on(document, R, Mt, function(t3) {
    t3.preventDefault();
    t3 = t3.target.closest(Mt);
    It.getOrCreateInstance(t3).toggle();
  }), e2(It), It), E = (t2(28), t2(58), t2(121), t2(15), t2(59), t2(24), t2(25), "top"), j = "bottom", T = "right", A = "left", Lt = "auto", Nt = [E, j, T, A], Rt = "start", Bt = "end", Ht = "clippingParents", Ft = "viewport", Vt = "popper", Yt = "reference", Wt = Nt.reduce(function(t3, e3) {
    return t3.concat([e3 + "-" + Rt, e3 + "-" + Bt]);
  }, []), zt = [].concat(Nt, [Lt]).reduce(function(t3, e3) {
    return t3.concat([e3, e3 + "-" + Rt, e3 + "-" + Bt]);
  }, []), Ut = "beforeRead", qt = "read", Kt = "afterRead", $t = "beforeMain", Xt = "main", Gt = "afterMain", Qt = "beforeWrite", Zt = "write", Jt = "afterWrite", te = [Ut, qt, Kt, $t, Xt, Gt, Qt, Zt, Jt];
  function ee(t3) {
    return t3 ? (t3.nodeName || "").toLowerCase() : null;
  }
  function b(t3) {
    return null == t3 ? window : "[object Window]" !== t3.toString() ? (e3 = t3.ownerDocument) && e3.defaultView || window : t3;
    var e3;
  }
  function ne(t3) {
    return t3 instanceof b(t3).Element || t3 instanceof Element;
  }
  function s2(t3) {
    return t3 instanceof b(t3).HTMLElement || t3 instanceof HTMLElement;
  }
  function re(t3) {
    if ("undefined" != typeof ShadowRoot)
      return t3 instanceof b(t3).ShadowRoot || t3 instanceof ShadowRoot;
  }
  var oe = { name: "applyStyles", enabled: true, phase: "write", fn: function(t3) {
    var o2 = t3.state;
    Object.keys(o2.elements).forEach(function(t4) {
      var e3 = o2.styles[t4] || {}, n3 = o2.attributes[t4] || {}, r3 = o2.elements[t4];
      s2(r3) && ee(r3) && (Object.assign(r3.style, e3), Object.keys(n3).forEach(function(t5) {
        var e4 = n3[t5];
        false === e4 ? r3.removeAttribute(t5) : r3.setAttribute(t5, true === e4 ? "" : e4);
      }));
    });
  }, effect: function(t3) {
    var r3 = t3.state, o2 = { popper: { position: r3.options.strategy, left: "0", top: "0", margin: "0" }, arrow: { position: "absolute" }, reference: {} };
    return Object.assign(r3.elements.popper.style, o2.popper), r3.styles = o2, r3.elements.arrow && Object.assign(r3.elements.arrow.style, o2.arrow), function() {
      Object.keys(r3.elements).forEach(function(t4) {
        var e3 = r3.elements[t4], n3 = r3.attributes[t4] || {}, t4 = Object.keys((r3.styles.hasOwnProperty(t4) ? r3.styles : o2)[t4]).reduce(function(t5, e4) {
          return t5[e4] = "", t5;
        }, {});
        s2(e3) && ee(e3) && (Object.assign(e3.style, t4), Object.keys(n3).forEach(function(t5) {
          e3.removeAttribute(t5);
        }));
      });
    };
  }, requires: ["computeStyles"] };
  function ie(t3) {
    return t3.split("-")[0];
  }
  var ae = Math.max, ce = Math.min, se = Math.round;
  function ue(t3, e3) {
    void 0 === e3 && (e3 = false);
    var n3 = t3.getBoundingClientRect(), r3 = 1, o2 = 1;
    return s2(t3) && e3 && (e3 = t3.offsetHeight, 0 < (t3 = t3.offsetWidth) && (r3 = se(n3.width) / t3 || 1), 0 < e3 && (o2 = se(n3.height) / e3 || 1)), { width: n3.width / r3, height: n3.height / o2, top: n3.top / o2, right: n3.right / r3, bottom: n3.bottom / o2, left: n3.left / r3, x: n3.left / r3, y: n3.top / o2 };
  }
  function le(t3) {
    var e3 = ue(t3), n3 = t3.offsetWidth, r3 = t3.offsetHeight;
    return Math.abs(e3.width - n3) <= 1 && (n3 = e3.width), Math.abs(e3.height - r3) <= 1 && (r3 = e3.height), { x: t3.offsetLeft, y: t3.offsetTop, width: n3, height: r3 };
  }
  function fe(t3, e3) {
    var n3 = e3.getRootNode && e3.getRootNode();
    if (t3.contains(e3))
      return true;
    if (n3 && re(n3)) {
      var r3 = e3;
      do {
        if (r3 && t3.isSameNode(r3))
          return true;
      } while (r3 = r3.parentNode || r3.host);
    }
    return false;
  }
  function de(t3) {
    return b(t3).getComputedStyle(t3);
  }
  function pe(t3) {
    return ((ne(t3) ? t3.ownerDocument : t3.document) || window.document).documentElement;
  }
  function he(t3) {
    return "html" === ee(t3) ? t3 : t3.assignedSlot || t3.parentNode || (re(t3) ? t3.host : null) || pe(t3);
  }
  function ve(t3) {
    return s2(t3) && "fixed" !== de(t3).position ? t3.offsetParent : null;
  }
  function ye(t3) {
    for (var e3, n3 = b(t3), r3 = ve(t3); r3 && (e3 = r3, 0 <= ["table", "td", "th"].indexOf(ee(e3))) && "static" === de(r3).position; )
      r3 = ve(r3);
    return (!r3 || "html" !== ee(r3) && ("body" !== ee(r3) || "static" !== de(r3).position)) && (r3 || function(t4) {
      var e4 = -1 !== navigator.userAgent.toLowerCase().indexOf("firefox"), n4 = -1 !== navigator.userAgent.indexOf("Trident");
      if (n4 && s2(t4) && "fixed" === de(t4).position)
        return null;
      var r4 = he(t4);
      for (re(r4) && (r4 = r4.host); s2(r4) && ["html", "body"].indexOf(ee(r4)) < 0; ) {
        var o2 = de(r4);
        if ("none" !== o2.transform || "none" !== o2.perspective || "paint" === o2.contain || -1 !== ["transform", "perspective"].indexOf(o2.willChange) || e4 && "filter" === o2.willChange || e4 && o2.filter && "none" !== o2.filter)
          return r4;
        r4 = r4.parentNode;
      }
      return null;
    }(t3)) || n3;
  }
  function me(t3) {
    return 0 <= ["top", "bottom"].indexOf(t3) ? "x" : "y";
  }
  function ge(t3, e3, n3) {
    return ae(t3, ce(e3, n3));
  }
  function be() {
    return { top: 0, right: 0, bottom: 0, left: 0 };
  }
  function _e(t3) {
    return Object.assign({}, be(), t3);
  }
  function we(n3, t3) {
    return t3.reduce(function(t4, e3) {
      return t4[e3] = n3, t4;
    }, {});
  }
  var Oe = { name: "arrow", enabled: true, phase: "main", fn: function(t3) {
    var e3, n3, r3, o2, i3 = t3.state, a3 = t3.name, t3 = t3.options, c3 = i3.elements.arrow, s3 = i3.modifiersData.popperOffsets, u2 = me(l3 = ie(i3.placement)), l3 = 0 <= [A, T].indexOf(l3) ? "height" : "width";
    c3 && s3 && (t3 = t3.padding, n3 = i3, n3 = _e("number" != typeof (t3 = "function" == typeof t3 ? t3(Object.assign({}, n3.rects, { placement: n3.placement })) : t3) ? t3 : we(t3, Nt)), t3 = le(c3), o2 = "y" === u2 ? E : A, r3 = "y" === u2 ? j : T, e3 = i3.rects.reference[l3] + i3.rects.reference[u2] - s3[u2] - i3.rects.popper[l3], s3 = s3[u2] - i3.rects.reference[u2], c3 = (c3 = ye(c3)) ? "y" === u2 ? c3.clientHeight || 0 : c3.clientWidth || 0 : 0, o2 = n3[o2], n3 = c3 - t3[l3] - n3[r3], o2 = ge(o2, r3 = c3 / 2 - t3[l3] / 2 + (e3 / 2 - s3 / 2), n3), i3.modifiersData[a3] = ((c3 = {})[u2] = o2, c3.centerOffset = o2 - r3, c3));
  }, effect: function(t3) {
    var e3 = t3.state;
    null != (t3 = void 0 === (t3 = t3.options.element) ? "[data-popper-arrow]" : t3) && ("string" != typeof t3 || (t3 = e3.elements.popper.querySelector(t3))) && fe(e3.elements.popper, t3) && (e3.elements.arrow = t3);
  }, requires: ["popperOffsets"], requiresIfExists: ["preventOverflow"] };
  function ke(t3) {
    return t3.split("-")[1];
  }
  var Ce = { top: "auto", right: "auto", bottom: "auto", left: "auto" };
  function Se(t3) {
    var e3, n3, r3, o2 = t3.popper, i3 = t3.popperRect, a3 = t3.placement, c3 = t3.variation, s3 = t3.offsets, u2 = t3.position, l3 = t3.gpuAcceleration, f2 = t3.adaptive, d2 = t3.roundOffsets, t3 = t3.isFixed, p3 = s3.x, p3 = void 0 === p3 ? 0 : p3, h2 = s3.y, h2 = void 0 === h2 ? 0 : h2, v2 = "function" == typeof d2 ? d2({ x: p3, y: h2 }) : { x: p3, y: h2 }, v2 = (p3 = v2.x, h2 = v2.y, s3.hasOwnProperty("x")), s3 = s3.hasOwnProperty("y"), y2 = A, m2 = E, g2 = window, o2 = (f2 && (n3 = "clientHeight", e3 = "clientWidth", (r3 = ye(o2)) === b(o2) && "static" !== de(r3 = pe(o2)).position && "absolute" === u2 && (n3 = "scrollHeight", e3 = "scrollWidth"), a3 !== E && (a3 !== A && a3 !== T || c3 !== Bt) || (m2 = j, h2 = (h2 - ((t3 && r3 === g2 && g2.visualViewport ? g2.visualViewport.height : r3[n3]) - i3.height)) * (l3 ? 1 : -1)), a3 !== A && (a3 !== E && a3 !== j || c3 !== Bt) || (y2 = T, p3 = (p3 - ((t3 && r3 === g2 && g2.visualViewport ? g2.visualViewport.width : r3[e3]) - i3.width)) * (l3 ? 1 : -1))), Object.assign({ position: u2 }, f2 && Ce)), t3 = true === d2 ? (a3 = (n3 = { x: p3, y: h2 }).x, n3 = n3.y, c3 = window.devicePixelRatio || 1, { x: se(a3 * c3) / c3 || 0, y: se(n3 * c3) / c3 || 0 }) : { x: p3, y: h2 };
    return p3 = t3.x, h2 = t3.y, l3 ? Object.assign({}, o2, ((r3 = {})[m2] = s3 ? "0" : "", r3[y2] = v2 ? "0" : "", r3.transform = (g2.devicePixelRatio || 1) <= 1 ? "translate(" + p3 + "px, " + h2 + "px)" : "translate3d(" + p3 + "px, " + h2 + "px, 0)", r3)) : Object.assign({}, o2, ((e3 = {})[m2] = s3 ? h2 + "px" : "", e3[y2] = v2 ? p3 + "px" : "", e3.transform = "", e3));
  }
  var xe = { name: "computeStyles", enabled: true, phase: "beforeWrite", fn: function(t3) {
    var e3 = t3.state, t3 = t3.options, n3 = void 0 === (n3 = t3.gpuAcceleration) || n3, r3 = void 0 === (r3 = t3.adaptive) || r3, t3 = void 0 === (t3 = t3.roundOffsets) || t3, n3 = { placement: ie(e3.placement), variation: ke(e3.placement), popper: e3.elements.popper, popperRect: e3.rects.popper, gpuAcceleration: n3, isFixed: "fixed" === e3.options.strategy };
    null != e3.modifiersData.popperOffsets && (e3.styles.popper = Object.assign({}, e3.styles.popper, Se(Object.assign({}, n3, { offsets: e3.modifiersData.popperOffsets, position: e3.options.strategy, adaptive: r3, roundOffsets: t3 })))), null != e3.modifiersData.arrow && (e3.styles.arrow = Object.assign({}, e3.styles.arrow, Se(Object.assign({}, n3, { offsets: e3.modifiersData.arrow, position: "absolute", adaptive: false, roundOffsets: t3 })))), e3.attributes.popper = Object.assign({}, e3.attributes.popper, { "data-popper-placement": e3.placement });
  }, data: {} }, Ee = { passive: true };
  var je = { name: "eventListeners", enabled: true, phase: "write", fn: function() {
  }, effect: function(t3) {
    var e3 = t3.state, n3 = t3.instance, r3 = (t3 = t3.options).scroll, o2 = void 0 === r3 || r3, i3 = void 0 === (r3 = t3.resize) || r3, a3 = b(e3.elements.popper), c3 = [].concat(e3.scrollParents.reference, e3.scrollParents.popper);
    return o2 && c3.forEach(function(t4) {
      t4.addEventListener("scroll", n3.update, Ee);
    }), i3 && a3.addEventListener("resize", n3.update, Ee), function() {
      o2 && c3.forEach(function(t4) {
        t4.removeEventListener("scroll", n3.update, Ee);
      }), i3 && a3.removeEventListener("resize", n3.update, Ee);
    };
  }, data: {} }, Te = { left: "right", right: "left", bottom: "top", top: "bottom" };
  function Ae(t3) {
    return t3.replace(/left|right|bottom|top/g, function(t4) {
      return Te[t4];
    });
  }
  var De = { start: "end", end: "start" };
  function Pe(t3) {
    return t3.replace(/start|end/g, function(t4) {
      return De[t4];
    });
  }
  function Me(t3) {
    t3 = b(t3);
    return { scrollLeft: t3.pageXOffset, scrollTop: t3.pageYOffset };
  }
  function Ie(t3) {
    return ue(pe(t3)).left + Me(t3).scrollLeft;
  }
  function Le(t3) {
    var t3 = de(t3), e3 = t3.overflow, n3 = t3.overflowX, t3 = t3.overflowY;
    return /auto|scroll|overlay|hidden/.test(e3 + t3 + n3);
  }
  function Ne(t3, e3) {
    void 0 === e3 && (e3 = []);
    var n3 = function t4(e4) {
      return 0 <= ["html", "body", "#document"].indexOf(ee(e4)) ? e4.ownerDocument.body : s2(e4) && Le(e4) ? e4 : t4(he(e4));
    }(t3), t3 = n3 === (null == (t3 = t3.ownerDocument) ? void 0 : t3.body), r3 = b(n3), r3 = t3 ? [r3].concat(r3.visualViewport || [], Le(n3) ? n3 : []) : n3, n3 = e3.concat(r3);
    return t3 ? n3 : n3.concat(Ne(he(r3)));
  }
  function Re(t3) {
    return Object.assign({}, t3, { left: t3.x, top: t3.y, right: t3.x + t3.width, bottom: t3.y + t3.height });
  }
  function Be(t3, e3) {
    return e3 === Ft ? Re((r3 = b(n3 = t3), o2 = pe(n3), r3 = r3.visualViewport, i3 = o2.clientWidth, o2 = o2.clientHeight, c3 = a3 = 0, r3 && (i3 = r3.width, o2 = r3.height, /^((?!chrome|android).)*safari/i.test(navigator.userAgent) || (a3 = r3.offsetLeft, c3 = r3.offsetTop)), { width: i3, height: o2, x: a3 + Ie(n3), y: c3 })) : ne(e3) ? ((i3 = ue(r3 = e3)).top = i3.top + r3.clientTop, i3.left = i3.left + r3.clientLeft, i3.bottom = i3.top + r3.clientHeight, i3.right = i3.left + r3.clientWidth, i3.width = r3.clientWidth, i3.height = r3.clientHeight, i3.x = i3.left, i3.y = i3.top, i3) : Re((o2 = pe(t3), a3 = pe(o2), n3 = Me(o2), c3 = null == (c3 = o2.ownerDocument) ? void 0 : c3.body, e3 = ae(a3.scrollWidth, a3.clientWidth, c3 ? c3.scrollWidth : 0, c3 ? c3.clientWidth : 0), t3 = ae(a3.scrollHeight, a3.clientHeight, c3 ? c3.scrollHeight : 0, c3 ? c3.clientHeight : 0), o2 = -n3.scrollLeft + Ie(o2), n3 = -n3.scrollTop, "rtl" === de(c3 || a3).direction && (o2 += ae(a3.clientWidth, c3 ? c3.clientWidth : 0) - e3), { width: e3, height: t3, x: o2, y: n3 }));
    var n3, r3, o2, i3, a3, c3;
  }
  function He(n3, t3, e3) {
    var r3, o2 = "clippingParents" === t3 ? (i3 = Ne(he(o2 = n3)), ne(r3 = 0 <= ["absolute", "fixed"].indexOf(de(o2).position) && s2(o2) ? ye(o2) : o2) ? i3.filter(function(t4) {
      return ne(t4) && fe(t4, r3) && "body" !== ee(t4);
    }) : []) : [].concat(t3), i3 = [].concat(o2, [e3]), t3 = i3[0], e3 = i3.reduce(function(t4, e4) {
      e4 = Be(n3, e4);
      return t4.top = ae(e4.top, t4.top), t4.right = ce(e4.right, t4.right), t4.bottom = ce(e4.bottom, t4.bottom), t4.left = ae(e4.left, t4.left), t4;
    }, Be(n3, t3));
    return e3.width = e3.right - e3.left, e3.height = e3.bottom - e3.top, e3.x = e3.left, e3.y = e3.top, e3;
  }
  function Fe(t3) {
    var e3, n3 = t3.reference, r3 = t3.element, t3 = t3.placement, o2 = t3 ? ie(t3) : null, t3 = t3 ? ke(t3) : null, i3 = n3.x + n3.width / 2 - r3.width / 2, a3 = n3.y + n3.height / 2 - r3.height / 2;
    switch (o2) {
      case E:
        e3 = { x: i3, y: n3.y - r3.height };
        break;
      case j:
        e3 = { x: i3, y: n3.y + n3.height };
        break;
      case T:
        e3 = { x: n3.x + n3.width, y: a3 };
        break;
      case A:
        e3 = { x: n3.x - r3.width, y: a3 };
        break;
      default:
        e3 = { x: n3.x, y: n3.y };
    }
    var c3 = o2 ? me(o2) : null;
    if (null != c3) {
      var s3 = "y" === c3 ? "height" : "width";
      switch (t3) {
        case Rt:
          e3[c3] = e3[c3] - (n3[s3] / 2 - r3[s3] / 2);
          break;
        case Bt:
          e3[c3] = e3[c3] + (n3[s3] / 2 - r3[s3] / 2);
      }
    }
    return e3;
  }
  function Ve(t3, e3) {
    var r3, e3 = e3 = void 0 === e3 ? {} : e3, n3 = e3.placement, n3 = void 0 === n3 ? t3.placement : n3, o2 = e3.boundary, o2 = void 0 === o2 ? Ht : o2, i3 = e3.rootBoundary, i3 = void 0 === i3 ? Ft : i3, a3 = e3.elementContext, a3 = void 0 === a3 ? Vt : a3, c3 = e3.altBoundary, c3 = void 0 !== c3 && c3, e3 = e3.padding, e3 = void 0 === e3 ? 0 : e3, e3 = _e("number" != typeof e3 ? e3 : we(e3, Nt)), s3 = t3.rects.popper, c3 = t3.elements[c3 ? a3 === Vt ? Yt : Vt : a3], c3 = He(ne(c3) ? c3 : c3.contextElement || pe(t3.elements.popper), o2, i3), o2 = ue(t3.elements.reference), i3 = Fe({ reference: o2, element: s3, strategy: "absolute", placement: n3 }), s3 = Re(Object.assign({}, s3, i3)), i3 = a3 === Vt ? s3 : o2, u2 = { top: c3.top - i3.top + e3.top, bottom: i3.bottom - c3.bottom + e3.bottom, left: c3.left - i3.left + e3.left, right: i3.right - c3.right + e3.right }, s3 = t3.modifiersData.offset;
    return a3 === Vt && s3 && (r3 = s3[n3], Object.keys(u2).forEach(function(t4) {
      var e4 = 0 <= [T, j].indexOf(t4) ? 1 : -1, n4 = 0 <= [E, j].indexOf(t4) ? "y" : "x";
      u2[t4] += r3[n4] * e4;
    })), u2;
  }
  var Ye = { name: "flip", enabled: true, phase: "main", fn: function(t3) {
    var f2 = t3.state, e3 = t3.options, t3 = t3.name;
    if (!f2.modifiersData[t3]._skip) {
      for (var n3 = e3.mainAxis, r3 = void 0 === n3 || n3, n3 = e3.altAxis, o2 = void 0 === n3 || n3, n3 = e3.fallbackPlacements, d2 = e3.padding, p3 = e3.boundary, h2 = e3.rootBoundary, i3 = e3.altBoundary, a3 = e3.flipVariations, v2 = void 0 === a3 || a3, y2 = e3.allowedAutoPlacements, a3 = f2.options.placement, e3 = ie(a3), n3 = n3 || (e3 === a3 || !v2 ? [Ae(a3)] : function(t4) {
        if (ie(t4) === Lt)
          return [];
        var e4 = Ae(t4);
        return [Pe(t4), e4, Pe(e4)];
      }(a3)), c3 = [a3].concat(n3).reduce(function(t4, e4) {
        return t4.concat(ie(e4) === Lt ? (n4 = f2, r4 = (t4 = t4 = void 0 === (t4 = { placement: e4, boundary: p3, rootBoundary: h2, padding: d2, flipVariations: v2, allowedAutoPlacements: y2 }) ? {} : t4).placement, o3 = t4.boundary, i4 = t4.rootBoundary, a4 = t4.padding, c4 = t4.flipVariations, s4 = void 0 === (t4 = t4.allowedAutoPlacements) ? zt : t4, u3 = ke(r4), t4 = u3 ? c4 ? Wt : Wt.filter(function(t5) {
          return ke(t5) === u3;
        }) : Nt, l4 = (r4 = 0 === (r4 = t4.filter(function(t5) {
          return 0 <= s4.indexOf(t5);
        })).length ? t4 : r4).reduce(function(t5, e5) {
          return t5[e5] = Ve(n4, { placement: e5, boundary: o3, rootBoundary: i4, padding: a4 })[ie(e5)], t5;
        }, {}), Object.keys(l4).sort(function(t5, e5) {
          return l4[t5] - l4[e5];
        })) : e4);
        var n4, r4, o3, i4, a4, c4, s4, u3, l4;
      }, []), s3 = f2.rects.reference, u2 = f2.rects.popper, l3 = /* @__PURE__ */ new Map(), m2 = true, g2 = c3[0], b2 = 0; b2 < c3.length; b2++) {
        var _2 = c3[b2], w2 = ie(_2), O2 = ke(_2) === Rt, k2 = 0 <= [E, j].indexOf(w2), C18 = k2 ? "width" : "height", S2 = Ve(f2, { placement: _2, boundary: p3, rootBoundary: h2, altBoundary: i3, padding: d2 }), k2 = k2 ? O2 ? T : A : O2 ? j : E, O2 = (s3[C18] > u2[C18] && (k2 = Ae(k2)), Ae(k2)), C18 = [];
        if (r3 && C18.push(S2[w2] <= 0), o2 && C18.push(S2[k2] <= 0, S2[O2] <= 0), C18.every(function(t4) {
          return t4;
        })) {
          g2 = _2, m2 = false;
          break;
        }
        l3.set(_2, C18);
      }
      if (m2) {
        for (var x2 = v2 ? 3 : 1; 0 < x2; x2--)
          if ("break" === function(e4) {
            var t4 = c3.find(function(t5) {
              t5 = l3.get(t5);
              if (t5)
                return t5.slice(0, e4).every(function(t6) {
                  return t6;
                });
            });
            if (t4)
              return g2 = t4, "break";
          }(x2))
            break;
      }
      f2.placement !== g2 && (f2.modifiersData[t3]._skip = true, f2.placement = g2, f2.reset = true);
    }
  }, requiresIfExists: ["offset"], data: { _skip: false } };
  function We(t3, e3, n3) {
    return { top: t3.top - e3.height - (n3 = void 0 === n3 ? { x: 0, y: 0 } : n3).y, right: t3.right - e3.width + n3.x, bottom: t3.bottom - e3.height + n3.y, left: t3.left - e3.width - n3.x };
  }
  function ze(e3) {
    return [E, T, j, A].some(function(t3) {
      return 0 <= e3[t3];
    });
  }
  var Ue = { name: "hide", enabled: true, phase: "main", requiresIfExists: ["preventOverflow"], fn: function(t3) {
    var e3 = t3.state, t3 = t3.name, n3 = e3.rects.reference, r3 = e3.rects.popper, o2 = e3.modifiersData.preventOverflow, i3 = Ve(e3, { elementContext: "reference" }), a3 = Ve(e3, { altBoundary: true }), i3 = We(i3, n3), n3 = We(a3, r3, o2), a3 = ze(i3), r3 = ze(n3);
    e3.modifiersData[t3] = { referenceClippingOffsets: i3, popperEscapeOffsets: n3, isReferenceHidden: a3, hasPopperEscaped: r3 }, e3.attributes.popper = Object.assign({}, e3.attributes.popper, { "data-popper-reference-hidden": a3, "data-popper-escaped": r3 });
  } };
  var qe = { name: "offset", enabled: true, phase: "main", requires: ["popperOffsets"], fn: function(t3) {
    var a3 = t3.state, e3 = t3.options, t3 = t3.name, c3 = void 0 === (e3 = e3.offset) ? [0, 0] : e3, e3 = zt.reduce(function(t4, e4) {
      var n4, r4, o2, i3;
      return t4[e4] = (e4 = e4, n4 = a3.rects, r4 = c3, o2 = ie(e4), i3 = 0 <= [A, E].indexOf(o2) ? -1 : 1, e4 = (n4 = "function" == typeof r4 ? r4(Object.assign({}, n4, { placement: e4 })) : r4)[0] || 0, r4 = (n4[1] || 0) * i3, 0 <= [A, T].indexOf(o2) ? { x: r4, y: e4 } : { x: e4, y: r4 }), t4;
    }, {}), n3 = (r3 = e3[a3.placement]).x, r3 = r3.y;
    null != a3.modifiersData.popperOffsets && (a3.modifiersData.popperOffsets.x += n3, a3.modifiersData.popperOffsets.y += r3), a3.modifiersData[t3] = e3;
  } };
  var Ke = { name: "popperOffsets", enabled: true, phase: "read", fn: function(t3) {
    var e3 = t3.state, t3 = t3.name;
    e3.modifiersData[t3] = Fe({ reference: e3.rects.reference, element: e3.rects.popper, strategy: "absolute", placement: e3.placement });
  }, data: {} };
  var $e = { name: "preventOverflow", enabled: true, phase: "main", fn: function(t3) {
    var e3, n3, r3, o2, i3, a3, c3, s3, u2, l3 = t3.state, f2 = t3.options, t3 = t3.name, d2 = void 0 === (d2 = f2.mainAxis) || d2, p3 = void 0 !== (p3 = f2.altAxis) && p3, h2 = f2.boundary, v2 = f2.rootBoundary, y2 = f2.altBoundary, m2 = f2.padding, g2 = void 0 === (g2 = f2.tether) || g2, f2 = void 0 === (f2 = f2.tetherOffset) ? 0 : f2, h2 = Ve(l3, { boundary: h2, rootBoundary: v2, padding: m2, altBoundary: y2 }), v2 = ie(l3.placement), y2 = !(m2 = ke(l3.placement)), b2 = me(v2), _2 = "x" === b2 ? "y" : "x", w2 = l3.modifiersData.popperOffsets, O2 = l3.rects.reference, k2 = l3.rects.popper, f2 = "number" == typeof (f2 = "function" == typeof f2 ? f2(Object.assign({}, l3.rects, { placement: l3.placement })) : f2) ? { mainAxis: f2, altAxis: f2 } : Object.assign({ mainAxis: 0, altAxis: 0 }, f2), C18 = l3.modifiersData.offset ? l3.modifiersData.offset[l3.placement] : null, S2 = { x: 0, y: 0 };
    w2 && (d2 && (d2 = "y" === b2 ? "height" : "width", a3 = (c3 = w2[b2]) + h2[n3 = "y" === b2 ? E : A], s3 = c3 - h2[u2 = "y" === b2 ? j : T], e3 = g2 ? -k2[d2] / 2 : 0, o2 = (m2 === Rt ? O2 : k2)[d2], m2 = m2 === Rt ? -k2[d2] : -O2[d2], i3 = l3.elements.arrow, i3 = g2 && i3 ? le(i3) : { width: 0, height: 0 }, n3 = (r3 = l3.modifiersData["arrow#persistent"] ? l3.modifiersData["arrow#persistent"].padding : be())[n3], r3 = r3[u2], u2 = ge(0, O2[d2], i3[d2]), i3 = y2 ? O2[d2] / 2 - e3 - u2 - n3 - f2.mainAxis : o2 - u2 - n3 - f2.mainAxis, o2 = y2 ? -O2[d2] / 2 + e3 + u2 + r3 + f2.mainAxis : m2 + u2 + r3 + f2.mainAxis, y2 = (n3 = l3.elements.arrow && ye(l3.elements.arrow)) ? "y" === b2 ? n3.clientTop || 0 : n3.clientLeft || 0 : 0, m2 = c3 + o2 - (e3 = null != (d2 = null == C18 ? void 0 : C18[b2]) ? d2 : 0), u2 = ge(g2 ? ce(a3, c3 + i3 - e3 - y2) : a3, c3, g2 ? ae(s3, m2) : s3), w2[b2] = u2, S2[b2] = u2 - c3), p3 && (r3 = "y" == _2 ? "height" : "width", o2 = (n3 = w2[_2]) + h2["x" === b2 ? E : A], d2 = n3 - h2["x" === b2 ? j : T], i3 = -1 !== [E, A].indexOf(v2), y2 = null != (e3 = null == C18 ? void 0 : C18[_2]) ? e3 : 0, a3 = i3 ? o2 : n3 - O2[r3] - k2[r3] - y2 + f2.altAxis, m2 = i3 ? n3 + O2[r3] + k2[r3] - y2 - f2.altAxis : d2, c3 = g2 && i3 ? (s3 = ge(s3 = a3, n3, u2 = m2), u2 < s3 ? u2 : s3) : ge(g2 ? a3 : o2, n3, g2 ? m2 : d2), w2[_2] = c3, S2[_2] = c3 - n3), l3.modifiersData[t3] = S2);
  }, requiresIfExists: ["offset"] };
  function Xe(t3, e3, n3) {
    void 0 === n3 && (n3 = false);
    var r3 = s2(e3), o2 = s2(e3) && (a3 = (o2 = e3).getBoundingClientRect(), i3 = se(a3.width) / o2.offsetWidth || 1, a3 = se(a3.height) / o2.offsetHeight || 1, 1 !== i3 || 1 !== a3), i3 = pe(e3), a3 = ue(t3, o2), t3 = { scrollLeft: 0, scrollTop: 0 }, c3 = { x: 0, y: 0 };
    return !r3 && n3 || ("body" === ee(e3) && !Le(i3) || (t3 = (r3 = e3) !== b(r3) && s2(r3) ? { scrollLeft: r3.scrollLeft, scrollTop: r3.scrollTop } : Me(r3)), s2(e3) ? ((c3 = ue(e3, true)).x += e3.clientLeft, c3.y += e3.clientTop) : i3 && (c3.x = Ie(i3))), { x: a3.left + t3.scrollLeft - c3.x, y: a3.top + t3.scrollTop - c3.y, width: a3.width, height: a3.height };
  }
  function Ge(t3) {
    var n3 = /* @__PURE__ */ new Map(), r3 = /* @__PURE__ */ new Set(), o2 = [];
    return t3.forEach(function(t4) {
      n3.set(t4.name, t4);
    }), t3.forEach(function(t4) {
      r3.has(t4.name) || !function e3(t5) {
        r3.add(t5.name), [].concat(t5.requires || [], t5.requiresIfExists || []).forEach(function(t6) {
          r3.has(t6) || (t6 = n3.get(t6)) && e3(t6);
        }), o2.push(t5);
      }(t4);
    }), o2;
  }
  var Qe = { placement: "bottom", modifiers: [], strategy: "absolute" };
  function Ze() {
    for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++)
      e3[n3] = arguments[n3];
    return !e3.some(function(t4) {
      return !(t4 && "function" == typeof t4.getBoundingClientRect);
    });
  }
  function Je(t3) {
    var t3 = t3 = void 0 === t3 ? {} : t3, e3 = t3.defaultModifiers, f2 = void 0 === e3 ? [] : e3, e3 = t3.defaultOptions, d2 = void 0 === e3 ? Qe : e3;
    return function(r3, o2, e4) {
      void 0 === e4 && (e4 = d2);
      var n3, i3, a3 = { placement: "bottom", orderedModifiers: [], options: Object.assign({}, Qe, d2), modifiersData: {}, elements: { reference: r3, popper: o2 }, attributes: {}, styles: {} }, c3 = [], s3 = false, u2 = { state: a3, setOptions: function(t4) {
        var n4, e5, t4 = "function" == typeof t4 ? t4(a3.options) : t4, t4 = (l3(), a3.options = Object.assign({}, d2, a3.options, t4), a3.scrollParents = { reference: ne(r3) ? Ne(r3) : r3.contextElement ? Ne(r3.contextElement) : [], popper: Ne(o2) }, t4 = [].concat(f2, a3.options.modifiers), e5 = t4.reduce(function(t5, e6) {
          var n5 = t5[e6.name];
          return t5[e6.name] = n5 ? Object.assign({}, n5, e6, { options: Object.assign({}, n5.options, e6.options), data: Object.assign({}, n5.data, e6.data) }) : e6, t5;
        }, {}), t4 = Object.keys(e5).map(function(t5) {
          return e5[t5];
        }), n4 = Ge(t4), te.reduce(function(t5, e6) {
          return t5.concat(n4.filter(function(t6) {
            return t6.phase === e6;
          }));
        }, []));
        return a3.orderedModifiers = t4.filter(function(t5) {
          return t5.enabled;
        }), a3.orderedModifiers.forEach(function(t5) {
          var e6 = t5.name, n5 = t5.options, t5 = t5.effect;
          "function" == typeof t5 && (t5 = t5({ state: a3, name: e6, instance: u2, options: void 0 === n5 ? {} : n5 }), c3.push(t5 || function() {
          }));
        }), u2.update();
      }, forceUpdate: function() {
        if (!s3) {
          var t4 = a3.elements, e5 = t4.reference, t4 = t4.popper;
          if (Ze(e5, t4)) {
            a3.rects = { reference: Xe(e5, ye(t4), "fixed" === a3.options.strategy), popper: le(t4) }, a3.reset = false, a3.placement = a3.options.placement, a3.orderedModifiers.forEach(function(t5) {
              return a3.modifiersData[t5.name] = Object.assign({}, t5.data);
            });
            for (var n4, r4, o3, i4 = 0; i4 < a3.orderedModifiers.length; i4++)
              true === a3.reset ? (a3.reset = false, i4 = -1) : (n4 = (o3 = a3.orderedModifiers[i4]).fn, r4 = o3.options, o3 = o3.name, "function" == typeof n4 && (a3 = n4({ state: a3, options: void 0 === r4 ? {} : r4, name: o3, instance: u2 }) || a3));
          }
        }
      }, update: (n3 = function() {
        return new Promise(function(t4) {
          u2.forceUpdate(), t4(a3);
        });
      }, function() {
        return i3 = i3 || new Promise(function(t4) {
          Promise.resolve().then(function() {
            i3 = void 0, t4(n3());
          });
        });
      }), destroy: function() {
        l3(), s3 = true;
      } };
      return Ze(r3, o2) && u2.setOptions(e4).then(function(t4) {
        !s3 && e4.onFirstUpdate && e4.onFirstUpdate(t4);
      }), u2;
      function l3() {
        c3.forEach(function(t4) {
          return t4();
        }), c3 = [];
      }
    };
  }
  var tn = Je(), en = Je({ defaultModifiers: [je, Ke, xe, oe, qe, Ye, $e, Oe, Ue] }), nn = Je({ defaultModifiers: [je, Ke, xe, oe] });
  function rn(t3) {
    return "true" === t3 || "false" !== t3 && (t3 === Number(t3).toString() ? Number(t3) : "" === t3 || "null" === t3 ? null : t3);
  }
  function on(t3) {
    return t3.replace(/[A-Z]/g, function(t4) {
      return "-".concat(t4.toLowerCase());
    });
  }
  var f = { setDataAttribute: function(t3, e3, n3) {
    t3.setAttribute("data-bs-".concat(on(e3)), n3);
  }, removeDataAttribute: function(t3, e3) {
    t3.removeAttribute("data-bs-".concat(on(e3)));
  }, getDataAttributes: function(n3) {
    if (!n3)
      return {};
    var r3 = {};
    return Object.keys(n3.dataset).filter(function(t3) {
      return t3.startsWith("bs");
    }).forEach(function(t3) {
      var e3 = (e3 = t3.replace(/^bs/, "")).charAt(0).toLowerCase() + e3.slice(1, e3.length);
      r3[e3] = rn(n3.dataset[t3]);
    }), r3;
  }, getDataAttribute: function(t3, e3) {
    return rn(t3.getAttribute("data-bs-".concat(on(e3))));
  }, offset: function(t3) {
    t3 = t3.getBoundingClientRect();
    return { top: t3.top + window.pageYOffset, left: t3.left + window.pageXOffset };
  }, position: function(t3) {
    return { top: t3.offsetTop, left: t3.offsetLeft };
  } };
  t2(95);
  function an(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return cn(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || function(t4, e3) {
      if (t4) {
        if ("string" == typeof t4)
          return cn(t4, e3);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? cn(t4, e3) : void 0;
      }
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function cn(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  var p2 = { find: function(t3) {
    var e3, n3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : document.documentElement;
    return (e3 = []).concat.apply(e3, an(Element.prototype.querySelectorAll.call(n3, t3)));
  }, findOne: function(t3) {
    var e3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : document.documentElement;
    return Element.prototype.querySelector.call(e3, t3);
  }, children: function(t3, e3) {
    var n3;
    return (n3 = []).concat.apply(n3, an(t3.children)).filter(function(t4) {
      return t4.matches(e3);
    });
  }, parents: function(t3, e3) {
    for (var n3 = [], r3 = t3.parentNode; r3 && r3.nodeType === Node.ELEMENT_NODE && 3 !== r3.nodeType; )
      r3.matches(e3) && n3.push(r3), r3 = r3.parentNode;
    return n3;
  }, prev: function(t3, e3) {
    for (var n3 = t3.previousElementSibling; n3; ) {
      if (n3.matches(e3))
        return [n3];
      n3 = n3.previousElementSibling;
    }
    return [];
  }, next: function(t3, e3) {
    for (var n3 = t3.nextElementSibling; n3; ) {
      if (n3.matches(e3))
        return [n3];
      n3 = n3.nextElementSibling;
    }
    return [];
  }, focusableChildren: function(t3) {
    var e3 = ["a", "button", "input", "textarea", "select", "details", "[tabindex]", '[contenteditable="true"]'].map(function(t4) {
      return "".concat(t4, ':not([tabindex^="-"])');
    }).join(", ");
    return this.find(e3, t3).filter(function(t4) {
      return !U(t4) && z(t4);
    });
  } };
  function sn(t3) {
    return (sn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function un(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function ln(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? un(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : un(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function fn(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return dn(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || function(t4, e3) {
      if (t4) {
        if ("string" == typeof t4)
          return dn(t4, e3);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? dn(t4, e3) : void 0;
      }
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function dn(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  function pn(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function hn() {
    return (hn = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = mn(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function vn(t3, e3) {
    return (vn = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function yn(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = mn(n3), e3 = (t3 = r3 ? (t3 = mn(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === sn(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function mn(t3) {
    return (mn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var gn = "dropdown", n2 = ".".concat("bs.dropdown"), bn = ".data-api", _n = "Escape", wn = "ArrowUp", On = "ArrowDown", kn = new RegExp("".concat(wn, "|").concat(On, "|").concat(_n)), Cn = "hide".concat(n2), Sn = "hidden".concat(n2), xn = "show".concat(n2), En = "shown".concat(n2), jn = "click".concat(n2).concat(bn), r2 = "keydown".concat(n2).concat(bn), n2 = "keyup".concat(n2).concat(bn), Tn = "show", An = '[data-bs-toggle="dropdown"]', Dn = ".dropdown-menu", Pn = a2() ? "top-end" : "top-start", Mn = a2() ? "top-start" : "top-end", In = a2() ? "bottom-end" : "bottom-start", Ln = a2() ? "bottom-start" : "bottom-end", Nn = a2() ? "left-start" : "right-start", Rn = a2() ? "right-start" : "left-start", Bn = { offset: [0, 2], boundary: "clippingParents", reference: "toggle", display: "dynamic", popperConfig: null, autoClose: true }, Hn = { offset: "(array|string|function)", boundary: "(string|element)", reference: "(string|element|object)", display: "string", popperConfig: "(null|object|function)", autoClose: "(boolean|string)" }, Fn = function() {
    var t3 = s3, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && vn(t3, e3);
    var n3, r3 = yn(s3);
    function s3(t4, e4) {
      if (this instanceof s3)
        return (t4 = r3.call(this, t4))._popper = null, t4._config = t4._getConfig(e4), t4._menu = t4._getMenuElement(), t4._inNavbar = t4._detectNavbar(), t4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = s3, e3 = [{ key: "Default", get: function() {
      return Bn;
    } }, { key: "DefaultType", get: function() {
      return Hn;
    } }, { key: "NAME", get: function() {
      return gn;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = s3.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }, { key: "clearMenus", value: function(t4) {
      if (!t4 || 2 !== t4.button && ("keyup" !== t4.type || "Tab" === t4.key))
        for (var e4 = p2.find(An), n4 = 0, r4 = e4.length; n4 < r4; n4++) {
          var o2 = s3.getInstance(e4[n4]);
          if (o2 && false !== o2._config.autoClose && o2._isShown()) {
            var i3 = { relatedTarget: o2._element };
            if (t4) {
              var a3 = t4.composedPath(), c3 = a3.includes(o2._menu);
              if (a3.includes(o2._element) || "inside" === o2._config.autoClose && !c3 || "outside" === o2._config.autoClose && c3)
                continue;
              if (o2._menu.contains(t4.target) && ("keyup" === t4.type && "Tab" === t4.key || /input|select|option|textarea|form/i.test(t4.target.tagName)))
                continue;
              "click" === t4.type && (i3.clickEvent = t4);
            }
            o2._completeHide(i3);
          }
        }
    } }, { key: "getParentFromElement", value: function(t4) {
      return F(t4) || t4.parentNode;
    } }, { key: "dataApiKeydownHandler", value: function(t4) {
      if (/input|textarea/i.test(t4.target.tagName) ? !("Space" === t4.key || t4.key !== _n && (t4.key !== On && t4.key !== wn || t4.target.closest(Dn))) : kn.test(t4.key)) {
        var e4 = this.classList.contains(Tn);
        if ((e4 || t4.key !== _n) && (t4.preventDefault(), t4.stopPropagation(), !U(this))) {
          var n4 = this.matches(An) ? this : p2.prev(this, An)[0], n4 = s3.getOrCreateInstance(n4);
          if (t4.key !== _n)
            return t4.key === wn || t4.key === On ? (e4 || n4.show(), void n4._selectMenuItem(t4)) : void (e4 && "Space" !== t4.key || s3.clearMenus());
          n4.hide();
        }
      }
    } }], (n3 = [{ key: "toggle", value: function() {
      return this._isShown() ? this.hide() : this.show();
    } }, { key: "show", value: function() {
      var t4, e4;
      U(this._element) || this._isShown(this._menu) || (t4 = { relatedTarget: this._element }, d.trigger(this._element, xn, t4).defaultPrevented || (e4 = s3.getParentFromElement(this._element), this._inNavbar ? f.setDataAttribute(this._menu, "popper", "none") : this._createPopper(e4), "ontouchstart" in document.documentElement && !e4.closest(".navbar-nav") && (e4 = []).concat.apply(e4, fn(document.body.children)).forEach(function(t5) {
        return d.on(t5, "mouseover", K);
      }), this._element.focus(), this._element.setAttribute("aria-expanded", true), this._menu.classList.add(Tn), this._element.classList.add(Tn), d.trigger(this._element, En, t4)));
    } }, { key: "hide", value: function() {
      var t4;
      !U(this._element) && this._isShown(this._menu) && (t4 = { relatedTarget: this._element }, this._completeHide(t4));
    } }, { key: "dispose", value: function() {
      this._popper && this._popper.destroy(), hn(mn(s3.prototype), "dispose", this).call(this);
    } }, { key: "update", value: function() {
      this._inNavbar = this._detectNavbar(), this._popper && this._popper.update();
    } }, { key: "_completeHide", value: function(t4) {
      var e4;
      d.trigger(this._element, Cn, t4).defaultPrevented || ("ontouchstart" in document.documentElement && (e4 = []).concat.apply(e4, fn(document.body.children)).forEach(function(t5) {
        return d.off(t5, "mouseover", K);
      }), this._popper && this._popper.destroy(), this._menu.classList.remove(Tn), this._element.classList.remove(Tn), this._element.setAttribute("aria-expanded", "false"), f.removeDataAttribute(this._menu, "popper"), d.trigger(this._element, Sn, t4));
    } }, { key: "_getConfig", value: function(t4) {
      if (t4 = ln(ln(ln({}, this.constructor.Default), f.getDataAttributes(this._element)), t4), W(gn, t4, this.constructor.DefaultType), "object" !== sn(t4.reference) || nt(t4.reference) || "function" == typeof t4.reference.getBoundingClientRect)
        return t4;
      throw new TypeError("".concat(gn.toUpperCase(), ': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));
    } }, { key: "_createPopper", value: function(t4) {
      if (void 0 === i2)
        throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");
      var e4 = this._element, t4 = ("parent" === this._config.reference ? e4 = t4 : nt(this._config.reference) ? e4 = Y(this._config.reference) : "object" === sn(this._config.reference) && (e4 = this._config.reference), this._getPopperConfig()), n4 = t4.modifiers.find(function(t5) {
        return "applyStyles" === t5.name && false === t5.enabled;
      });
      this._popper = en(e4, this._menu, t4), n4 && f.setDataAttribute(this._menu, "popper", "static");
    } }, { key: "_isShown", value: function() {
      return (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : this._element).classList.contains(Tn);
    } }, { key: "_getMenuElement", value: function() {
      return p2.next(this._element, Dn)[0];
    } }, { key: "_getPlacement", value: function() {
      var t4 = this._element.parentNode;
      if (t4.classList.contains("dropend"))
        return Nn;
      if (t4.classList.contains("dropstart"))
        return Rn;
      var e4 = "end" === getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();
      return t4.classList.contains("dropup") ? e4 ? Mn : Pn : e4 ? Ln : In;
    } }, { key: "_detectNavbar", value: function() {
      return null !== this._element.closest(".".concat("navbar"));
    } }, { key: "_getOffset", value: function() {
      var e4 = this, n4 = this._config.offset;
      return "string" == typeof n4 ? n4.split(",").map(function(t4) {
        return Number.parseInt(t4, 10);
      }) : "function" == typeof n4 ? function(t4) {
        return n4(t4, e4._element);
      } : n4;
    } }, { key: "_getPopperConfig", value: function() {
      var t4 = { placement: this._getPlacement(), modifiers: [{ name: "preventOverflow", options: { boundary: this._config.boundary } }, { name: "offset", options: { offset: this._getOffset() } }] };
      return "static" === this._config.display && (t4.modifiers = [{ name: "applyStyles", enabled: false }]), ln(ln({}, t4), "function" == typeof this._config.popperConfig ? this._config.popperConfig(t4) : this._config.popperConfig);
    } }, { key: "_selectMenuItem", value: function(t4) {
      var e4 = t4.key, t4 = t4.target, n4 = p2.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)", this._menu).filter(z);
      n4.length && Z(n4, t4, e4 === On, !n4.includes(t4)).focus();
    } }]) && pn(t3.prototype, n3), e3 && pn(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), s3;
  }(), bn = (d.on(document, r2, An, Fn.dataApiKeydownHandler), d.on(document, r2, Dn, Fn.dataApiKeydownHandler), d.on(document, jn, Fn.clearMenus), d.on(document, n2, Fn.clearMenus), d.on(document, jn, An, function(t3) {
    t3.preventDefault(), Fn.getOrCreateInstance(this).toggle();
  }), e2(Fn), Fn);
  function Vn(t3) {
    return (Vn = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Yn(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Wn(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Yn(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Yn(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function zn(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Un(t3, e3) {
    return (Un = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function qn(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Kn(n3), e3 = (t3 = r3 ? (t3 = Kn(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Vn(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Kn(t3) {
    return (Kn = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var $n = "collapse", Xn = "bs.collapse", r2 = ".".concat(Xn), Gn = { toggle: true, parent: null }, Qn = { toggle: "boolean", parent: "(null|element)" }, Zn = "show".concat(r2), Jn = "shown".concat(r2), tr = "hide".concat(r2), er = "hidden".concat(r2), n2 = "click".concat(r2).concat(".data-api"), nr = "show", rr = "collapse", or = "collapsing", ir = "collapsed", ar = ":scope .".concat(rr, " .").concat(rr), cr = '[data-bs-toggle="collapse"]', sr = function() {
    var t3 = l3, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Un(t3, e3);
    var n3, u2 = qn(l3);
    function l3(t4, e4) {
      var n4;
      if (!(this instanceof l3))
        throw new TypeError("Cannot call a class as a function");
      (n4 = u2.call(this, t4))._isTransitioning = false, n4._config = n4._getConfig(e4), n4._triggerArray = [];
      for (var r3 = p2.find(cr), o2 = 0, i3 = r3.length; o2 < i3; o2++) {
        var a3 = r3[o2], c3 = H(a3), s3 = p2.find(c3).filter(function(t5) {
          return t5 === n4._element;
        });
        null !== c3 && s3.length && (n4._selector = c3, n4._triggerArray.push(a3));
      }
      return n4._initializeChildren(), n4._config.parent || n4._addAriaAndCollapsedClass(n4._triggerArray, n4._isShown()), n4._config.toggle && n4.toggle(), n4;
    }
    return t3 = l3, e3 = [{ key: "Default", get: function() {
      return Gn;
    } }, { key: "NAME", get: function() {
      return $n;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = {}, t4 = ("string" == typeof e4 && /show|hide/.test(e4) && (t4.toggle = false), l3.getOrCreateInstance(this, t4));
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }], (n3 = [{ key: "toggle", value: function() {
      this._isShown() ? this.hide() : this.show();
    } }, { key: "show", value: function() {
      var t4 = this;
      if (!this._isTransitioning && !this._isShown()) {
        var e4, n4, r3 = [], o2 = (this._config.parent && (e4 = p2.find(ar, this._config.parent), r3 = p2.find(".collapse.show, .collapse.collapsing", this._config.parent).filter(function(t5) {
          return !e4.includes(t5);
        })), p2.findOne(this._selector));
        if (r3.length) {
          var i3, a3 = r3.find(function(t5) {
            return o2 !== t5;
          });
          if ((i3 = a3 ? l3.getInstance(a3) : null) && i3._isTransitioning)
            return;
        }
        d.trigger(this._element, Zn).defaultPrevented || (r3.forEach(function(t5) {
          o2 !== t5 && l3.getOrCreateInstance(t5, { toggle: false }).hide(), i3 || kt(t5, Xn, null);
        }), n4 = this._getDimension(), this._element.classList.remove(rr), this._element.classList.add(or), this._element.style[n4] = 0, this._addAriaAndCollapsedClass(this._triggerArray, true), this._isTransitioning = true, a3 = n4[0].toUpperCase() + n4.slice(1), r3 = "scroll".concat(a3), this._queueCallback(function() {
          t4._isTransitioning = false, t4._element.classList.remove(or), t4._element.classList.add(rr, nr), t4._element.style[n4] = "", d.trigger(t4._element, Jn);
        }, this._element, true), this._element.style[n4] = "".concat(this._element[r3], "px"));
      }
    } }, { key: "hide", value: function() {
      var t4 = this;
      if (!this._isTransitioning && this._isShown()) {
        var e4 = d.trigger(this._element, tr);
        if (!e4.defaultPrevented) {
          for (var e4 = this._getDimension(), n4 = (this._element.style[e4] = "".concat(this._element.getBoundingClientRect()[e4], "px"), $(this._element), this._element.classList.add(or), this._element.classList.remove(rr, nr), this._triggerArray.length), r3 = 0; r3 < n4; r3++) {
            var o2 = this._triggerArray[r3], i3 = F(o2);
            i3 && !this._isShown(i3) && this._addAriaAndCollapsedClass([o2], false);
          }
          this._isTransitioning = true;
          this._element.style[e4] = "", this._queueCallback(function() {
            t4._isTransitioning = false, t4._element.classList.remove(or), t4._element.classList.add(rr), d.trigger(t4._element, er);
          }, this._element, true);
        }
      }
    } }, { key: "_isShown", value: function() {
      return (0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : this._element).classList.contains(nr);
    } }, { key: "_getConfig", value: function(t4) {
      return (t4 = Wn(Wn(Wn({}, Gn), f.getDataAttributes(this._element)), t4)).toggle = Boolean(t4.toggle), t4.parent = Y(t4.parent), W($n, t4, Qn), t4;
    } }, { key: "_getDimension", value: function() {
      return this._element.classList.contains("collapse-horizontal") ? "width" : "height";
    } }, { key: "_initializeChildren", value: function() {
      var e4, n4 = this;
      this._config.parent && (e4 = p2.find(ar, this._config.parent), p2.find(cr, this._config.parent).filter(function(t4) {
        return !e4.includes(t4);
      }).forEach(function(t4) {
        var e5 = F(t4);
        e5 && n4._addAriaAndCollapsedClass([t4], n4._isShown(e5));
      }));
    } }, { key: "_addAriaAndCollapsedClass", value: function(t4, e4) {
      t4.length && t4.forEach(function(t5) {
        e4 ? t5.classList.remove(ir) : t5.classList.add(ir), t5.setAttribute("aria-expanded", e4);
      });
    } }]) && zn(t3.prototype, n3), e3 && zn(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), l3;
  }(), jn = (d.on(document, n2, cr, function(t3) {
    ("A" === t3.target.tagName || t3.delegateTarget && "A" === t3.delegateTarget.tagName) && t3.preventDefault();
    t3 = H(this);
    p2.find(t3).forEach(function(t4) {
      sr.getOrCreateInstance(t4, { toggle: false }).toggle();
    });
  }), e2(sr), sr);
  function ur(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var lr = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", fr = ".sticky-top", dr = function() {
    function t3() {
      if (!(this instanceof t3))
        throw new TypeError("Cannot call a class as a function");
      this._element = document.body;
    }
    var e3, n3;
    return e3 = t3, (n3 = [{ key: "getWidth", value: function() {
      var t4 = document.documentElement.clientWidth;
      return Math.abs(window.innerWidth - t4);
    } }, { key: "hide", value: function() {
      var e4 = this.getWidth();
      this._disableOverFlow(), this._setElementAttributes(this._element, "paddingRight", function(t4) {
        return t4 + e4;
      }), this._setElementAttributes(lr, "paddingRight", function(t4) {
        return t4 + e4;
      }), this._setElementAttributes(fr, "marginRight", function(t4) {
        return t4 - e4;
      });
    } }, { key: "_disableOverFlow", value: function() {
      this._saveInitialAttribute(this._element, "overflow"), this._element.style.overflow = "hidden";
    } }, { key: "_setElementAttributes", value: function(t4, n4, r3) {
      var o2 = this, i3 = this.getWidth();
      this._applyManipulationCallback(t4, function(t5) {
        var e4;
        t5 !== o2._element && window.innerWidth > t5.clientWidth + i3 || (o2._saveInitialAttribute(t5, n4), e4 = window.getComputedStyle(t5)[n4], t5.style[n4] = "".concat(r3(Number.parseFloat(e4)), "px"));
      });
    } }, { key: "reset", value: function() {
      this._resetElementAttributes(this._element, "overflow"), this._resetElementAttributes(this._element, "paddingRight"), this._resetElementAttributes(lr, "paddingRight"), this._resetElementAttributes(fr, "marginRight");
    } }, { key: "_saveInitialAttribute", value: function(t4, e4) {
      var n4 = t4.style[e4];
      n4 && f.setDataAttribute(t4, e4, n4);
    } }, { key: "_resetElementAttributes", value: function(t4, n4) {
      this._applyManipulationCallback(t4, function(t5) {
        var e4 = f.getDataAttribute(t5, n4);
        void 0 === e4 ? t5.style.removeProperty(n4) : (f.removeDataAttribute(t5, n4), t5.style[n4] = e4);
      });
    } }, { key: "_applyManipulationCallback", value: function(t4, e4) {
      nt(t4) ? e4(t4) : p2.find(t4, this._element).forEach(e4);
    } }, { key: "isOverflowing", value: function() {
      return 0 < this.getWidth();
    } }]) && ur(e3.prototype, n3), Object.defineProperty(e3, "prototype", { writable: false }), t3;
  }();
  function pr(t3) {
    return (pr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function hr(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function vr(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? hr(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : hr(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function yr(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var mr = { className: "modal-backdrop", isVisible: true, isAnimated: false, rootElement: "body", clickCallback: null }, gr = { className: "string", isVisible: "boolean", isAnimated: "boolean", rootElement: "(element|string)", clickCallback: "(function|null)" }, br = "backdrop", _r = "mousedown.bs.".concat(br), wr = function() {
    function e3(t4) {
      if (!(this instanceof e3))
        throw new TypeError("Cannot call a class as a function");
      this._config = this._getConfig(t4), this._isAppended = false, this._element = null;
    }
    var t3, n3;
    return t3 = e3, (n3 = [{ key: "show", value: function(t4) {
      this._config.isVisible ? (this._append(), this._config.isAnimated && $(this._getElement()), this._getElement().classList.add("show"), this._emulateAnimation(function() {
        G(t4);
      })) : G(t4);
    } }, { key: "hide", value: function(t4) {
      var e4 = this;
      this._config.isVisible ? (this._getElement().classList.remove("show"), this._emulateAnimation(function() {
        e4.dispose(), G(t4);
      })) : G(t4);
    } }, { key: "_getElement", value: function() {
      var t4;
      return this._element || ((t4 = document.createElement("div")).className = this._config.className, this._config.isAnimated && t4.classList.add("fade"), this._element = t4), this._element;
    } }, { key: "_getConfig", value: function(t4) {
      return (t4 = vr(vr({}, mr), "object" === pr(t4) ? t4 : {})).rootElement = Y(t4.rootElement), W(br, t4, gr), t4;
    } }, { key: "_append", value: function() {
      var t4 = this;
      this._isAppended || (this._config.rootElement.append(this._getElement()), d.on(this._getElement(), _r, function() {
        G(t4._config.clickCallback);
      }), this._isAppended = true);
    } }, { key: "dispose", value: function() {
      this._isAppended && (d.off(this._element, _r), this._element.remove(), this._isAppended = false);
    } }, { key: "_emulateAnimation", value: function(t4) {
      Q(t4, this._getElement(), this._config.isAnimated);
    } }]) && yr(t3.prototype, n3), Object.defineProperty(t3, "prototype", { writable: false }), e3;
  }();
  function Or(t3) {
    return (Or = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function kr(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Cr(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? kr(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : kr(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Sr(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function xr(e3) {
    var n3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "hide", t3 = "click.dismiss".concat(e3.EVENT_KEY), r3 = e3.NAME;
    d.on(document, t3, '[data-bs-dismiss="'.concat(r3, '"]'), function(t4) {
      ["A", "AREA"].includes(this.tagName) && t4.preventDefault(), U(this) || (t4 = F(this) || this.closest(".".concat(r3)), e3.getOrCreateInstance(t4)[n3]());
    });
  }
  var Er = { trapElement: null, autofocus: true }, jr = { trapElement: "element", autofocus: "boolean" }, Tr = ".".concat("bs.focustrap"), Ar = "focusin".concat(Tr), Dr = "keydown.tab".concat(Tr), Pr = "backward", Mr = function() {
    function e3(t4) {
      if (!(this instanceof e3))
        throw new TypeError("Cannot call a class as a function");
      this._config = this._getConfig(t4), this._isActive = false, this._lastTabNavDirection = null;
    }
    var t3, n3;
    return t3 = e3, (n3 = [{ key: "activate", value: function() {
      var e4 = this, t4 = this._config, n4 = t4.trapElement, t4 = t4.autofocus;
      this._isActive || (t4 && n4.focus(), d.off(document, Tr), d.on(document, Ar, function(t5) {
        return e4._handleFocusin(t5);
      }), d.on(document, Dr, function(t5) {
        return e4._handleKeydown(t5);
      }), this._isActive = true);
    } }, { key: "deactivate", value: function() {
      this._isActive && (this._isActive = false, d.off(document, Tr));
    } }, { key: "_handleFocusin", value: function(t4) {
      var t4 = t4.target, e4 = this._config.trapElement;
      t4 === document || t4 === e4 || e4.contains(t4) || (0 === (t4 = p2.focusableChildren(e4)).length ? e4 : this._lastTabNavDirection === Pr ? t4[t4.length - 1] : t4[0]).focus();
    } }, { key: "_handleKeydown", value: function(t4) {
      "Tab" === t4.key && (this._lastTabNavDirection = t4.shiftKey ? Pr : "forward");
    } }, { key: "_getConfig", value: function(t4) {
      return t4 = Cr(Cr({}, Er), "object" === Or(t4) ? t4 : {}), W("focustrap", t4, jr), t4;
    } }]) && Sr(t3.prototype, n3), Object.defineProperty(t3, "prototype", { writable: false }), e3;
  }();
  function Ir(t3) {
    return (Ir = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Lr(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Nr(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Lr(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Lr(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Rr(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Br() {
    return (Br = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = Vr(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function Hr(t3, e3) {
    return (Hr = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function Fr(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Vr(n3), e3 = (t3 = r3 ? (t3 = Vr(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Ir(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Vr(t3) {
    return (Vr = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var Yr = "offcanvas", r2 = ".".concat("bs.offcanvas"), n2 = ".data-api", o = "load".concat(r2).concat(n2), Wr = { backdrop: true, keyboard: true, scroll: false }, zr = { backdrop: "boolean", keyboard: "boolean", scroll: "boolean" }, Ur = ".offcanvas.show", qr = "show".concat(r2), Kr = "shown".concat(r2), $r = "hide".concat(r2), Xr = "hidden".concat(r2), n2 = "click".concat(r2).concat(n2), Gr = "keydown.dismiss".concat(r2), Qr = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Hr(t3, e3);
    var n3, r3 = Fr(o2);
    function o2(t4, e4) {
      if (this instanceof o2)
        return (t4 = r3.call(this, t4))._config = t4._getConfig(e4), t4._isShown = false, t4._backdrop = t4._initializeBackDrop(), t4._focustrap = t4._initializeFocusTrap(), t4._addEventListeners(), t4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "NAME", get: function() {
      return Yr;
    } }, { key: "Default", get: function() {
      return Wr;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4] || e4.startsWith("_") || "constructor" === e4)
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4](this);
        }
      });
    } }], (n3 = [{ key: "toggle", value: function(t4) {
      return this._isShown ? this.hide() : this.show(t4);
    } }, { key: "show", value: function(t4) {
      var e4 = this;
      this._isShown || d.trigger(this._element, qr, { relatedTarget: t4 }).defaultPrevented || (this._isShown = true, this._element.style.visibility = "visible", this._backdrop.show(), this._config.scroll || new dr().hide(), this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", true), this._element.setAttribute("role", "dialog"), this._element.classList.add("show"), this._queueCallback(function() {
        e4._config.scroll || e4._focustrap.activate(), d.trigger(e4._element, Kr, { relatedTarget: t4 });
      }, this._element, true));
    } }, { key: "hide", value: function() {
      var t4 = this;
      this._isShown && !d.trigger(this._element, $r).defaultPrevented && (this._focustrap.deactivate(), this._element.blur(), this._isShown = false, this._element.classList.remove("show"), this._backdrop.hide(), this._queueCallback(function() {
        t4._element.setAttribute("aria-hidden", true), t4._element.removeAttribute("aria-modal"), t4._element.removeAttribute("role"), t4._element.style.visibility = "hidden", t4._config.scroll || new dr().reset(), d.trigger(t4._element, Xr);
      }, this._element, true));
    } }, { key: "dispose", value: function() {
      this._backdrop.dispose(), this._focustrap.deactivate(), Br(Vr(o2.prototype), "dispose", this).call(this);
    } }, { key: "_getConfig", value: function(t4) {
      return t4 = Nr(Nr(Nr({}, Wr), f.getDataAttributes(this._element)), "object" === Ir(t4) ? t4 : {}), W(Yr, t4, zr), t4;
    } }, { key: "_initializeBackDrop", value: function() {
      var t4 = this;
      return new wr({ className: "offcanvas-backdrop", isVisible: this._config.backdrop, isAnimated: true, rootElement: this._element.parentNode, clickCallback: function() {
        return t4.hide();
      } });
    } }, { key: "_initializeFocusTrap", value: function() {
      return new Mr({ trapElement: this._element });
    } }, { key: "_addEventListeners", value: function() {
      var e4 = this;
      d.on(this._element, Gr, function(t4) {
        e4._config.keyboard && "Escape" === t4.key && e4.hide();
      });
    } }]) && Rr(t3.prototype, n3), e3 && Rr(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), r2 = (d.on(document, n2, '[data-bs-toggle="offcanvas"]', function(t3) {
    var e3 = this, n3 = F(this);
    ["A", "AREA"].includes(this.tagName) && t3.preventDefault(), U(this) || (d.one(n3, Xr, function() {
      z(e3) && e3.focus();
    }), (t3 = p2.findOne(Ur)) && t3 !== n3 && Qr.getInstance(t3).hide(), Qr.getOrCreateInstance(n3).toggle(this));
  }), d.on(window, o, function() {
    return p2.find(Ur).forEach(function(t3) {
      return Qr.getOrCreateInstance(t3).show();
    });
  }), xr(Qr), e2(Qr), Qr);
  function Zr(t3) {
    return (Zr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Jr(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function to(t3, e3) {
    return (to = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function eo(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = no(n3), e3 = (t3 = r3 ? (t3 = no(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Zr(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function no(t3) {
    return (no = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var n2 = ".".concat("bs.alert"), ro = "close".concat(n2), oo = "closed".concat(n2), o = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && to(t3, e3);
    var n3, r3 = eo(o2);
    function o2() {
      var t4 = this, e4 = o2;
      if (t4 instanceof e4)
        return r3.apply(this, arguments);
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "NAME", get: function() {
      return "alert";
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4] || e4.startsWith("_") || "constructor" === e4)
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4](this);
        }
      });
    } }], (n3 = [{ key: "close", value: function() {
      var t4, e4 = this;
      d.trigger(this._element, ro).defaultPrevented || (this._element.classList.remove("show"), t4 = this._element.classList.contains("fade"), this._queueCallback(function() {
        return e4._destroyElement();
      }, this._element, t4));
    } }, { key: "_destroyElement", value: function() {
      this._element.remove(), d.trigger(this._element, oo), this.dispose();
    } }]) && Jr(t3.prototype, n3), e3 && Jr(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), n2 = (xr(o, "close"), e2(o), o);
  function io(t3) {
    return (io = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function ao(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function co(e3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var n3 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? ao(Object(n3), true).forEach(function(t4) {
        po(e3, t4, n3[t4]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(n3)) : ao(Object(n3)).forEach(function(t4) {
        Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(n3, t4));
      });
    }
    return e3;
  }
  function so(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function uo(t3, e3) {
    return (uo = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function lo(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = fo(n3), e3 = (t3 = r3 ? (t3 = fo(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === io(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function fo(t3) {
    return (fo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  function po(t3, e3, n3) {
    e3 in t3 ? Object.defineProperty(t3, e3, { value: n3, enumerable: true, configurable: true, writable: true }) : t3[e3] = n3;
  }
  var ho = "carousel", o = ".".concat("bs.carousel"), vo = ".data-api", yo = { interval: 5e3, keyboard: true, slide: false, pause: "hover", wrap: true, touch: true }, mo = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean" }, go = "next", bo = "prev", _o = "left", wo = "right", Oo = (po(Io = {}, "ArrowLeft", wo), po(Io, "ArrowRight", _o), Io), ko = "slide".concat(o), Co = "slid".concat(o), So = "keydown".concat(o), xo = "mouseenter".concat(o), Eo = "mouseleave".concat(o), jo = "touchstart".concat(o), To = "touchmove".concat(o), Ao = "touchend".concat(o), Do = "pointerdown".concat(o), Po = "pointerup".concat(o), Mo = "dragstart".concat(o), Io = "load".concat(o).concat(vo), o = "click".concat(o).concat(vo), Lo = "active", No = ".active.carousel-item", Ro = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && uo(t3, e3);
    var n3, r3 = lo(o2);
    function o2(t4, e4) {
      if (this instanceof o2)
        return (t4 = r3.call(this, t4))._items = null, t4._interval = null, t4._activeElement = null, t4._isPaused = false, t4._isSliding = false, t4.touchTimeout = null, t4.touchStartX = 0, t4.touchDeltaX = 0, t4._config = t4._getConfig(e4), t4._indicatorsElement = p2.findOne(".carousel-indicators", t4._element), t4._touchSupported = "ontouchstart" in document.documentElement || 0 < navigator.maxTouchPoints, t4._pointerEvent = Boolean(window.PointerEvent), t4._addEventListeners(), t4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "Default", get: function() {
      return yo;
    } }, { key: "NAME", get: function() {
      return ho;
    } }, { key: "carouselInterface", value: function(t4, e4) {
      var t4 = o2.getOrCreateInstance(t4, e4), n4 = t4._config, r4 = ("object" === io(e4) && (n4 = co(co({}, n4), e4)), "string" == typeof e4 ? e4 : n4.slide);
      if ("number" == typeof e4)
        t4.to(e4);
      else if ("string" == typeof r4) {
        if (void 0 === t4[r4])
          throw new TypeError('No method named "'.concat(r4, '"'));
        t4[r4]();
      } else
        n4.interval && n4.ride && (t4.pause(), t4.cycle());
    } }, { key: "jQueryInterface", value: function(t4) {
      return this.each(function() {
        o2.carouselInterface(this, t4);
      });
    } }, { key: "dataApiClickHandler", value: function(t4) {
      var e4, n4, r4 = F(this);
      r4 && r4.classList.contains("carousel") && (e4 = co(co({}, f.getDataAttributes(r4)), f.getDataAttributes(this)), (n4 = this.getAttribute("data-bs-slide-to")) && (e4.interval = false), o2.carouselInterface(r4, e4), n4 && o2.getInstance(r4).to(n4), t4.preventDefault());
    } }], (n3 = [{ key: "next", value: function() {
      this._slide(go);
    } }, { key: "nextWhenVisible", value: function() {
      !document.hidden && z(this._element) && this.next();
    } }, { key: "prev", value: function() {
      this._slide(bo);
    } }, { key: "pause", value: function(t4) {
      t4 || (this._isPaused = true), p2.findOne(".carousel-item-next, .carousel-item-prev", this._element) && (V(this._element), this.cycle(true)), clearInterval(this._interval), this._interval = null;
    } }, { key: "cycle", value: function(t4) {
      t4 || (this._isPaused = false), this._interval && (clearInterval(this._interval), this._interval = null), this._config && this._config.interval && !this._isPaused && (this._updateInterval(), this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval));
    } }, { key: "to", value: function(t4) {
      var e4 = this, n4 = (this._activeElement = p2.findOne(No, this._element), this._getItemIndex(this._activeElement));
      if (!(t4 > this._items.length - 1 || t4 < 0))
        if (this._isSliding)
          d.one(this._element, Co, function() {
            return e4.to(t4);
          });
        else {
          if (n4 === t4)
            return this.pause(), void this.cycle();
          this._slide(n4 < t4 ? go : bo, this._items[t4]);
        }
    } }, { key: "_getConfig", value: function(t4) {
      return t4 = co(co(co({}, yo), f.getDataAttributes(this._element)), "object" === io(t4) ? t4 : {}), W(ho, t4, mo), t4;
    } }, { key: "_handleSwipe", value: function() {
      var t4 = Math.abs(this.touchDeltaX);
      t4 <= 40 || (t4 = t4 / this.touchDeltaX, this.touchDeltaX = 0, t4 && this._slide(0 < t4 ? wo : _o));
    } }, { key: "_addEventListeners", value: function() {
      var e4 = this;
      this._config.keyboard && d.on(this._element, So, function(t4) {
        return e4._keydown(t4);
      }), "hover" === this._config.pause && (d.on(this._element, xo, function(t4) {
        return e4.pause(t4);
      }), d.on(this._element, Eo, function(t4) {
        return e4.cycle(t4);
      })), this._config.touch && this._touchSupported && this._addTouchEventListeners();
    } }, { key: "_addTouchEventListeners", value: function() {
      function t4(t5) {
        r4(t5) ? n4.touchStartX = t5.clientX : n4._pointerEvent || (n4.touchStartX = t5.touches[0].clientX);
      }
      function e4(t5) {
        r4(t5) && (n4.touchDeltaX = t5.clientX - n4.touchStartX), n4._handleSwipe(), "hover" === n4._config.pause && (n4.pause(), n4.touchTimeout && clearTimeout(n4.touchTimeout), n4.touchTimeout = setTimeout(function(t6) {
          return n4.cycle(t6);
        }, 500 + n4._config.interval));
      }
      var n4 = this, r4 = function(t5) {
        return n4._pointerEvent && ("pen" === t5.pointerType || "touch" === t5.pointerType);
      };
      p2.find(".carousel-item img", this._element).forEach(function(t5) {
        d.on(t5, Mo, function(t6) {
          return t6.preventDefault();
        });
      }), this._pointerEvent ? (d.on(this._element, Do, t4), d.on(this._element, Po, e4), this._element.classList.add("pointer-event")) : (d.on(this._element, jo, t4), d.on(this._element, To, function(t5) {
        t5 = t5, n4.touchDeltaX = t5.touches && 1 < t5.touches.length ? 0 : t5.touches[0].clientX - n4.touchStartX;
      }), d.on(this._element, Ao, e4));
    } }, { key: "_keydown", value: function(t4) {
      var e4;
      /input|textarea/i.test(t4.target.tagName) || (e4 = Oo[t4.key]) && (t4.preventDefault(), this._slide(e4));
    } }, { key: "_getItemIndex", value: function(t4) {
      return this._items = t4 && t4.parentNode ? p2.find(".carousel-item", t4.parentNode) : [], this._items.indexOf(t4);
    } }, { key: "_getItemByOrder", value: function(t4, e4) {
      return Z(this._items, e4, t4 === go, this._config.wrap);
    } }, { key: "_triggerSlideEvent", value: function(t4, e4) {
      var n4 = this._getItemIndex(t4), r4 = this._getItemIndex(p2.findOne(No, this._element));
      return d.trigger(this._element, ko, { relatedTarget: t4, direction: e4, from: r4, to: n4 });
    } }, { key: "_setActiveIndicatorElement", value: function(t4) {
      if (this._indicatorsElement) {
        for (var e4 = p2.findOne(".active", this._indicatorsElement), n4 = (e4.classList.remove(Lo), e4.removeAttribute("aria-current"), p2.find("[data-bs-target]", this._indicatorsElement)), r4 = 0; r4 < n4.length; r4++)
          if (Number.parseInt(n4[r4].getAttribute("data-bs-slide-to"), 10) === this._getItemIndex(t4)) {
            n4[r4].classList.add(Lo), n4[r4].setAttribute("aria-current", "true");
            break;
          }
      }
    } }, { key: "_updateInterval", value: function() {
      var t4 = this._activeElement || p2.findOne(No, this._element);
      t4 && ((t4 = Number.parseInt(t4.getAttribute("data-bs-interval"), 10)) ? (this._config.defaultInterval = this._config.defaultInterval || this._config.interval, this._config.interval = t4) : this._config.interval = this._config.defaultInterval || this._config.interval);
    } }, { key: "_slide", value: function(t4, e4) {
      var n4, r4 = this, t4 = this._directionToOrder(t4), o3 = p2.findOne(No, this._element), i3 = this._getItemIndex(o3), a3 = e4 || this._getItemByOrder(t4, o3), c3 = this._getItemIndex(a3), e4 = Boolean(this._interval), s3 = t4 === go, u2 = s3 ? "carousel-item-start" : "carousel-item-end", l3 = s3 ? "carousel-item-next" : "carousel-item-prev", f2 = this._orderToDirection(t4);
      a3 && a3.classList.contains(Lo) ? this._isSliding = false : this._isSliding || this._triggerSlideEvent(a3, f2).defaultPrevented || o3 && a3 && (this._isSliding = true, e4 && this.pause(), this._setActiveIndicatorElement(a3), this._activeElement = a3, n4 = function() {
        d.trigger(r4._element, Co, { relatedTarget: a3, direction: f2, from: i3, to: c3 });
      }, this._element.classList.contains("slide") ? (a3.classList.add(l3), $(a3), o3.classList.add(u2), a3.classList.add(u2), this._queueCallback(function() {
        a3.classList.remove(u2, l3), a3.classList.add(Lo), o3.classList.remove(Lo, l3, u2), r4._isSliding = false, setTimeout(n4, 0);
      }, o3, true)) : (o3.classList.remove(Lo), a3.classList.add(Lo), this._isSliding = false, n4()), e4 && this.cycle());
    } }, { key: "_directionToOrder", value: function(t4) {
      return [wo, _o].includes(t4) ? a2() ? t4 === _o ? bo : go : t4 === _o ? go : bo : t4;
    } }, { key: "_orderToDirection", value: function(t4) {
      return [go, bo].includes(t4) ? a2() ? t4 === bo ? _o : wo : t4 === bo ? wo : _o : t4;
    } }]) && so(t3.prototype, n3), e3 && so(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), vo = (d.on(document, o, "[data-bs-slide], [data-bs-slide-to]", Ro.dataApiClickHandler), d.on(window, Io, function() {
    for (var t3 = p2.find('[data-bs-ride="carousel"]'), e3 = 0, n3 = t3.length; e3 < n3; e3++)
      Ro.carouselInterface(t3[e3], Ro.getInstance(t3[e3]));
  }), e2(Ro), Ro);
  function Bo(t3) {
    return (Bo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Ho(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Fo(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Ho(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Ho(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Vo(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Yo() {
    return (Yo = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = Uo(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function Wo(t3, e3) {
    return (Wo = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function zo(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Uo(n3), e3 = (t3 = r3 ? (t3 = Uo(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Bo(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Uo(t3) {
    return (Uo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var u = ".".concat("bs.modal"), qo = { backdrop: true, keyboard: true, focus: true }, Ko = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean" }, $o = "hide".concat(u), Xo = "hidePrevented".concat(u), Go = "hidden".concat(u), Qo = "show".concat(u), Zo = "shown".concat(u), Jo = "resize".concat(u), ti = "click.dismiss".concat(u), ei = "keydown.dismiss".concat(u), ni = "mouseup.dismiss".concat(u), ri = "mousedown.dismiss".concat(u), o = "click".concat(u).concat(".data-api"), oi = "modal-open", ii = "modal-static", ai = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Wo(t3, e3);
    var n3, r3 = zo(o2);
    function o2(t4, e4) {
      if (this instanceof o2)
        return (t4 = r3.call(this, t4))._config = t4._getConfig(e4), t4._dialog = p2.findOne(".modal-dialog", t4._element), t4._backdrop = t4._initializeBackDrop(), t4._focustrap = t4._initializeFocusTrap(), t4._isShown = false, t4._ignoreBackdropClick = false, t4._isTransitioning = false, t4._scrollBar = new dr(), t4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "Default", get: function() {
      return qo;
    } }, { key: "NAME", get: function() {
      return "modal";
    } }, { key: "jQueryInterface", value: function(e4, n4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4](n4);
        }
      });
    } }], (n3 = [{ key: "toggle", value: function(t4) {
      return this._isShown ? this.hide() : this.show(t4);
    } }, { key: "show", value: function(t4) {
      var e4 = this;
      this._isShown || this._isTransitioning || d.trigger(this._element, Qo, { relatedTarget: t4 }).defaultPrevented || (this._isShown = true, this._isAnimated() && (this._isTransitioning = true), this._scrollBar.hide(), document.body.classList.add(oi), this._adjustDialog(), this._setEscapeEvent(), this._setResizeEvent(), d.on(this._dialog, ri, function() {
        d.one(e4._element, ni, function(t5) {
          t5.target === e4._element && (e4._ignoreBackdropClick = true);
        });
      }), this._showBackdrop(function() {
        return e4._showElement(t4);
      }));
    } }, { key: "hide", value: function() {
      var t4, e4 = this;
      !this._isShown || this._isTransitioning || d.trigger(this._element, $o).defaultPrevented || (this._isShown = false, (t4 = this._isAnimated()) && (this._isTransitioning = true), this._setEscapeEvent(), this._setResizeEvent(), this._focustrap.deactivate(), this._element.classList.remove("show"), d.off(this._element, ti), d.off(this._dialog, ri), this._queueCallback(function() {
        return e4._hideModal();
      }, this._element, t4));
    } }, { key: "dispose", value: function() {
      [window, this._dialog].forEach(function(t4) {
        return d.off(t4, u);
      }), this._backdrop.dispose(), this._focustrap.deactivate(), Yo(Uo(o2.prototype), "dispose", this).call(this);
    } }, { key: "handleUpdate", value: function() {
      this._adjustDialog();
    } }, { key: "_initializeBackDrop", value: function() {
      return new wr({ isVisible: Boolean(this._config.backdrop), isAnimated: this._isAnimated() });
    } }, { key: "_initializeFocusTrap", value: function() {
      return new Mr({ trapElement: this._element });
    } }, { key: "_getConfig", value: function(t4) {
      return t4 = Fo(Fo(Fo({}, qo), f.getDataAttributes(this._element)), "object" === Bo(t4) ? t4 : {}), W("modal", t4, Ko), t4;
    } }, { key: "_showElement", value: function(t4) {
      var e4 = this, n4 = this._isAnimated(), r4 = p2.findOne(".modal-body", this._dialog);
      this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.append(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", true), this._element.setAttribute("role", "dialog"), this._element.scrollTop = 0, r4 && (r4.scrollTop = 0), n4 && $(this._element), this._element.classList.add("show");
      this._queueCallback(function() {
        e4._config.focus && e4._focustrap.activate(), e4._isTransitioning = false, d.trigger(e4._element, Zo, { relatedTarget: t4 });
      }, this._dialog, n4);
    } }, { key: "_setEscapeEvent", value: function() {
      var e4 = this;
      this._isShown ? d.on(this._element, ei, function(t4) {
        e4._config.keyboard && "Escape" === t4.key ? (t4.preventDefault(), e4.hide()) : e4._config.keyboard || "Escape" !== t4.key || e4._triggerBackdropTransition();
      }) : d.off(this._element, ei);
    } }, { key: "_setResizeEvent", value: function() {
      var t4 = this;
      this._isShown ? d.on(window, Jo, function() {
        return t4._adjustDialog();
      }) : d.off(window, Jo);
    } }, { key: "_hideModal", value: function() {
      var t4 = this;
      this._element.style.display = "none", this._element.setAttribute("aria-hidden", true), this._element.removeAttribute("aria-modal"), this._element.removeAttribute("role"), this._isTransitioning = false, this._backdrop.hide(function() {
        document.body.classList.remove(oi), t4._resetAdjustments(), t4._scrollBar.reset(), d.trigger(t4._element, Go);
      });
    } }, { key: "_showBackdrop", value: function(t4) {
      var e4 = this;
      d.on(this._element, ti, function(t5) {
        e4._ignoreBackdropClick ? e4._ignoreBackdropClick = false : t5.target === t5.currentTarget && (true === e4._config.backdrop ? e4.hide() : "static" === e4._config.backdrop && e4._triggerBackdropTransition());
      }), this._backdrop.show(t4);
    } }, { key: "_isAnimated", value: function() {
      return this._element.classList.contains("fade");
    } }, { key: "_triggerBackdropTransition", value: function() {
      var t4, e4, n4, r4, o3, i3 = this;
      d.trigger(this._element, Xo).defaultPrevented || (t4 = this._element, e4 = t4.classList, n4 = t4.scrollHeight, r4 = t4.style, !(o3 = n4 > document.documentElement.clientHeight) && "hidden" === r4.overflowY || e4.contains(ii) || (o3 || (r4.overflowY = "hidden"), e4.add(ii), this._queueCallback(function() {
        e4.remove(ii), o3 || i3._queueCallback(function() {
          r4.overflowY = "";
        }, i3._dialog);
      }, this._dialog), this._element.focus()));
    } }, { key: "_adjustDialog", value: function() {
      var t4 = this._element.scrollHeight > document.documentElement.clientHeight, e4 = this._scrollBar.getWidth(), n4 = 0 < e4;
      (!n4 && t4 && !a2() || n4 && !t4 && a2()) && (this._element.style.paddingLeft = "".concat(e4, "px")), (n4 && !t4 && !a2() || !n4 && t4 && a2()) && (this._element.style.paddingRight = "".concat(e4, "px"));
    } }, { key: "_resetAdjustments", value: function() {
      this._element.style.paddingLeft = "", this._element.style.paddingRight = "";
    } }]) && Vo(t3.prototype, n3), e3 && Vo(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), Io = (d.on(document, o, '[data-bs-toggle="modal"]', function(t3) {
    var e3 = this, n3 = F(this), t3 = (["A", "AREA"].includes(this.tagName) && t3.preventDefault(), d.one(n3, Qo, function(t4) {
      t4.defaultPrevented || d.one(n3, Go, function() {
        z(e3) && e3.focus();
      });
    }), p2.findOne(".modal.show"));
    t3 && ai.getInstance(t3).hide(), ai.getOrCreateInstance(n3).toggle(this);
  }), xr(ai), e2(ai), ai);
  function ci(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return si(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || function(t4, e3) {
      if (t4) {
        if ("string" == typeof t4)
          return si(t4, e3);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? si(t4, e3) : void 0;
      }
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function si(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  var ui = /* @__PURE__ */ new Set(["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"]), li = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i, fi = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i, o = { "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "srcset", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [] };
  function di(t3, i3, e3) {
    if (!t3.length)
      return t3;
    if (e3 && "function" == typeof e3)
      return e3(t3);
    for (var e3 = new window.DOMParser().parseFromString(t3, "text/html"), a3 = (t3 = []).concat.apply(t3, ci(e3.body.querySelectorAll("*"))), n3 = function(t4, e4) {
      var n4 = a3[t4], t4 = n4.nodeName.toLowerCase();
      if (!Object.keys(i3).includes(t4))
        return n4.remove(), "continue";
      var r4 = (r4 = []).concat.apply(r4, ci(n4.attributes)), o3 = [].concat(i3["*"] || [], i3[t4] || []);
      r4.forEach(function(t5) {
        !function(t6, e5) {
          var n5 = t6.nodeName.toLowerCase();
          if (e5.includes(n5))
            return !ui.has(n5) || Boolean(li.test(t6.nodeValue) || fi.test(t6.nodeValue));
          for (var r5 = e5.filter(function(t7) {
            return t7 instanceof RegExp;
          }), o4 = 0, i4 = r5.length; o4 < i4; o4++)
            if (r5[o4].test(n5))
              return true;
          return false;
        }(t5, o3) && n4.removeAttribute(t5.nodeName);
      });
    }, r3 = 0, o2 = a3.length; r3 < o2; r3++)
      n3(r3);
    return e3.body.innerHTML;
  }
  function pi(t3) {
    return (pi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function hi(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function vi(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? hi(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : hi(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function yi(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return mi(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || function(t4, e3) {
      if (t4) {
        if ("string" == typeof t4)
          return mi(t4, e3);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? mi(t4, e3) : void 0;
      }
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function mi(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  function gi(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function bi() {
    return (bi = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = Oi(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function _i(t3, e3) {
    return (_i = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function wi(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Oi(n3), e3 = (t3 = r3 ? (t3 = Oi(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === pi(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Oi(t3) {
    return (Oi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var ki = "tooltip", l2 = ".".concat("bs.tooltip"), Ci = /* @__PURE__ */ new Set(["sanitize", "allowList", "sanitizeFn"]), Si = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(array|string|function)", container: "(string|element|boolean)", fallbackPlacements: "array", boundary: "(string|element)", customClass: "(string|function)", sanitize: "boolean", sanitizeFn: "(null|function)", allowList: "object", popperConfig: "(null|object|function)" }, xi = { AUTO: "auto", TOP: "top", RIGHT: a2() ? "left" : "right", BOTTOM: "bottom", LEFT: a2() ? "right" : "left" }, Ei = { animation: true, template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: false, selector: false, placement: "top", offset: [0, 0], container: false, fallbackPlacements: ["top", "right", "bottom", "left"], boundary: "clippingParents", customClass: "", sanitize: true, sanitizeFn: null, allowList: o, popperConfig: null }, ji = { HIDE: "hide".concat(l2), HIDDEN: "hidden".concat(l2), SHOW: "show".concat(l2), SHOWN: "shown".concat(l2), INSERTED: "inserted".concat(l2), CLICK: "click".concat(l2), FOCUSIN: "focusin".concat(l2), FOCUSOUT: "focusout".concat(l2), MOUSEENTER: "mouseenter".concat(l2), MOUSELEAVE: "mouseleave".concat(l2) }, Ti = "fade", Ai = "show", Di = "show", Pi = ".tooltip-inner", Mi = ".".concat("modal"), Ii = "hide.bs.modal", Li = "hover", Ni = "focus", o = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && _i(t3, e3);
    var n3, r3 = wi(o2);
    function o2(t4, e4) {
      if (!(this instanceof o2))
        throw new TypeError("Cannot call a class as a function");
      if (void 0 === i2)
        throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");
      return (t4 = r3.call(this, t4))._isEnabled = true, t4._timeout = 0, t4._hoverState = "", t4._activeTrigger = {}, t4._popper = null, t4._config = t4._getConfig(e4), t4.tip = null, t4._setListeners(), t4;
    }
    return t3 = o2, e3 = [{ key: "Default", get: function() {
      return Ei;
    } }, { key: "NAME", get: function() {
      return ki;
    } }, { key: "Event", get: function() {
      return ji;
    } }, { key: "DefaultType", get: function() {
      return Si;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }], (n3 = [{ key: "enable", value: function() {
      this._isEnabled = true;
    } }, { key: "disable", value: function() {
      this._isEnabled = false;
    } }, { key: "toggleEnabled", value: function() {
      this._isEnabled = !this._isEnabled;
    } }, { key: "toggle", value: function(t4) {
      this._isEnabled && (t4 ? ((t4 = this._initializeOnDelegatedTarget(t4))._activeTrigger.click = !t4._activeTrigger.click, t4._isWithActiveTrigger() ? t4._enter(null, t4) : t4._leave(null, t4)) : this.getTipElement().classList.contains(Ai) ? this._leave(null, this) : this._enter(null, this));
    } }, { key: "dispose", value: function() {
      clearTimeout(this._timeout), d.off(this._element.closest(Mi), Ii, this._hideModalHandler), this.tip && this.tip.remove(), this._disposePopper(), bi(Oi(o2.prototype), "dispose", this).call(this);
    } }, { key: "show", value: function() {
      var t4, e4, n4, r4 = this;
      if ("none" === this._element.style.display)
        throw new Error("Please use show on visible elements");
      this.isWithContent() && this._isEnabled && (e4 = d.trigger(this._element, this.constructor.Event.SHOW), n4 = (null === (n4 = q(this._element)) ? this._element.ownerDocument.documentElement : n4).contains(this._element), !e4.defaultPrevented && n4 && ("tooltip" === this.constructor.NAME && this.tip && this.getTitle() !== this.tip.querySelector(Pi).innerHTML && (this._disposePopper(), this.tip.remove(), this.tip = null), e4 = this.getTipElement(), n4 = function(t5) {
        for (; t5 += Math.floor(1e6 * Math.random()), document.getElementById(t5); )
          ;
        return t5;
      }(this.constructor.NAME), e4.setAttribute("id", n4), this._element.setAttribute("aria-describedby", n4), this._config.animation && e4.classList.add(Ti), n4 = "function" == typeof this._config.placement ? this._config.placement.call(this, e4, this._element) : this._config.placement, n4 = this._getAttachment(n4), this._addAttachmentClass(n4), t4 = this._config.container, kt(e4, this.constructor.DATA_KEY, this), this._element.ownerDocument.documentElement.contains(this.tip) || (t4.append(e4), d.trigger(this._element, this.constructor.Event.INSERTED)), this._popper ? this._popper.update() : this._popper = en(this._element, e4, this._getPopperConfig(n4)), e4.classList.add(Ai), (t4 = this._resolvePossibleFunction(this._config.customClass)) && (n4 = e4.classList).add.apply(n4, yi(t4.split(" "))), "ontouchstart" in document.documentElement && (e4 = []).concat.apply(e4, yi(document.body.children)).forEach(function(t5) {
        d.on(t5, "mouseover", K);
      }), n4 = this.tip.classList.contains(Ti), this._queueCallback(function() {
        var t5 = r4._hoverState;
        r4._hoverState = null, d.trigger(r4._element, r4.constructor.Event.SHOWN), "out" === t5 && r4._leave(null, r4);
      }, this.tip, n4)));
    } }, { key: "hide", value: function() {
      var t4, e4, n4 = this;
      this._popper && (t4 = this.getTipElement(), d.trigger(this._element, this.constructor.Event.HIDE).defaultPrevented || (t4.classList.remove(Ai), "ontouchstart" in document.documentElement && (e4 = []).concat.apply(e4, yi(document.body.children)).forEach(function(t5) {
        return d.off(t5, "mouseover", K);
      }), this._activeTrigger.click = false, this._activeTrigger[Ni] = false, this._activeTrigger[Li] = false, e4 = this.tip.classList.contains(Ti), this._queueCallback(function() {
        n4._isWithActiveTrigger() || (n4._hoverState !== Di && t4.remove(), n4._cleanTipClass(), n4._element.removeAttribute("aria-describedby"), d.trigger(n4._element, n4.constructor.Event.HIDDEN), n4._disposePopper());
      }, this.tip, e4), this._hoverState = ""));
    } }, { key: "update", value: function() {
      null !== this._popper && this._popper.update();
    } }, { key: "isWithContent", value: function() {
      return Boolean(this.getTitle());
    } }, { key: "getTipElement", value: function() {
      if (this.tip)
        return this.tip;
      var t4 = document.createElement("div"), t4 = (t4.innerHTML = this._config.template, t4.children[0]);
      return this.setContent(t4), t4.classList.remove(Ti, Ai), this.tip = t4, this.tip;
    } }, { key: "setContent", value: function(t4) {
      this._sanitizeAndSetContent(t4, this.getTitle(), Pi);
    } }, { key: "_sanitizeAndSetContent", value: function(t4, e4, n4) {
      n4 = p2.findOne(n4, t4);
      !e4 && n4 ? n4.remove() : this.setElementContent(n4, e4);
    } }, { key: "setElementContent", value: function(t4, e4) {
      if (null !== t4)
        return nt(e4) ? (e4 = Y(e4), void (this._config.html ? e4.parentNode !== t4 && (t4.innerHTML = "", t4.append(e4)) : t4.textContent = e4.textContent)) : void (this._config.html ? (this._config.sanitize && (e4 = di(e4, this._config.allowList, this._config.sanitizeFn)), t4.innerHTML = e4) : t4.textContent = e4);
    } }, { key: "getTitle", value: function() {
      var t4 = this._element.getAttribute("data-bs-original-title") || this._config.title;
      return this._resolvePossibleFunction(t4);
    } }, { key: "updateAttachment", value: function(t4) {
      return "right" === t4 ? "end" : "left" === t4 ? "start" : t4;
    } }, { key: "_initializeOnDelegatedTarget", value: function(t4, e4) {
      return e4 || this.constructor.getOrCreateInstance(t4.delegateTarget, this._getDelegateConfig());
    } }, { key: "_getOffset", value: function() {
      var e4 = this, n4 = this._config.offset;
      return "string" == typeof n4 ? n4.split(",").map(function(t4) {
        return Number.parseInt(t4, 10);
      }) : "function" == typeof n4 ? function(t4) {
        return n4(t4, e4._element);
      } : n4;
    } }, { key: "_resolvePossibleFunction", value: function(t4) {
      return "function" == typeof t4 ? t4.call(this._element) : t4;
    } }, { key: "_getPopperConfig", value: function(t4) {
      var e4 = this, t4 = { placement: t4, modifiers: [{ name: "flip", options: { fallbackPlacements: this._config.fallbackPlacements } }, { name: "offset", options: { offset: this._getOffset() } }, { name: "preventOverflow", options: { boundary: this._config.boundary } }, { name: "arrow", options: { element: ".".concat(this.constructor.NAME, "-arrow") } }, { name: "onChange", enabled: true, phase: "afterWrite", fn: function(t5) {
        return e4._handlePopperPlacementChange(t5);
      } }], onFirstUpdate: function(t5) {
        t5.options.placement !== t5.placement && e4._handlePopperPlacementChange(t5);
      } };
      return vi(vi({}, t4), "function" == typeof this._config.popperConfig ? this._config.popperConfig(t4) : this._config.popperConfig);
    } }, { key: "_addAttachmentClass", value: function(t4) {
      this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(), "-").concat(this.updateAttachment(t4)));
    } }, { key: "_getAttachment", value: function(t4) {
      return xi[t4.toUpperCase()];
    } }, { key: "_setListeners", value: function() {
      var n4 = this;
      this._config.trigger.split(" ").forEach(function(t4) {
        var e4;
        "click" === t4 ? d.on(n4._element, n4.constructor.Event.CLICK, n4._config.selector, function(t5) {
          return n4.toggle(t5);
        }) : "manual" !== t4 && (e4 = t4 === Li ? n4.constructor.Event.MOUSEENTER : n4.constructor.Event.FOCUSIN, t4 = t4 === Li ? n4.constructor.Event.MOUSELEAVE : n4.constructor.Event.FOCUSOUT, d.on(n4._element, e4, n4._config.selector, function(t5) {
          return n4._enter(t5);
        }), d.on(n4._element, t4, n4._config.selector, function(t5) {
          return n4._leave(t5);
        }));
      }), this._hideModalHandler = function() {
        n4._element && n4.hide();
      }, d.on(this._element.closest(Mi), Ii, this._hideModalHandler), this._config.selector ? this._config = vi(vi({}, this._config), {}, { trigger: "manual", selector: "" }) : this._fixTitle();
    } }, { key: "_fixTitle", value: function() {
      var t4 = this._element.getAttribute("title"), e4 = pi(this._element.getAttribute("data-bs-original-title"));
      !t4 && "string" === e4 || (this._element.setAttribute("data-bs-original-title", t4 || ""), !t4 || this._element.getAttribute("aria-label") || this._element.textContent || this._element.setAttribute("aria-label", t4), this._element.setAttribute("title", ""));
    } }, { key: "_enter", value: function(t4, e4) {
      e4 = this._initializeOnDelegatedTarget(t4, e4), t4 && (e4._activeTrigger["focusin" === t4.type ? Ni : Li] = true), e4.getTipElement().classList.contains(Ai) || e4._hoverState === Di ? e4._hoverState = Di : (clearTimeout(e4._timeout), e4._hoverState = Di, e4._config.delay && e4._config.delay.show ? e4._timeout = setTimeout(function() {
        e4._hoverState === Di && e4.show();
      }, e4._config.delay.show) : e4.show());
    } }, { key: "_leave", value: function(t4, e4) {
      e4 = this._initializeOnDelegatedTarget(t4, e4), t4 && (e4._activeTrigger["focusout" === t4.type ? Ni : Li] = e4._element.contains(t4.relatedTarget)), e4._isWithActiveTrigger() || (clearTimeout(e4._timeout), e4._hoverState = "out", e4._config.delay && e4._config.delay.hide ? e4._timeout = setTimeout(function() {
        "out" === e4._hoverState && e4.hide();
      }, e4._config.delay.hide) : e4.hide());
    } }, { key: "_isWithActiveTrigger", value: function() {
      for (var t4 in this._activeTrigger)
        if (this._activeTrigger[t4])
          return true;
      return false;
    } }, { key: "_getConfig", value: function(t4) {
      var e4 = f.getDataAttributes(this._element);
      return Object.keys(e4).forEach(function(t5) {
        Ci.has(t5) && delete e4[t5];
      }), (t4 = vi(vi(vi({}, this.constructor.Default), e4), "object" === pi(t4) && t4 ? t4 : {})).container = false === t4.container ? document.body : Y(t4.container), "number" == typeof t4.delay && (t4.delay = { show: t4.delay, hide: t4.delay }), "number" == typeof t4.title && (t4.title = t4.title.toString()), "number" == typeof t4.content && (t4.content = t4.content.toString()), W(ki, t4, this.constructor.DefaultType), t4.sanitize && (t4.template = di(t4.template, t4.allowList, t4.sanitizeFn)), t4;
    } }, { key: "_getDelegateConfig", value: function() {
      var t4, e4 = {};
      for (t4 in this._config)
        this.constructor.Default[t4] !== this._config[t4] && (e4[t4] = this._config[t4]);
      return e4;
    } }, { key: "_cleanTipClass", value: function() {
      var e4 = this.getTipElement(), t4 = new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(), "\\S+"), "g"), t4 = e4.getAttribute("class").match(t4);
      null !== t4 && 0 < t4.length && t4.map(function(t5) {
        return t5.trim();
      }).forEach(function(t5) {
        return e4.classList.remove(t5);
      });
    } }, { key: "_getBasicClassPrefix", value: function() {
      return "bs-tooltip";
    } }, { key: "_handlePopperPlacementChange", value: function(t4) {
      t4 = t4.state;
      t4 && (this.tip = t4.elements.popper, this._cleanTipClass(), this._addAttachmentClass(this._getAttachment(t4.placement)));
    } }, { key: "_disposePopper", value: function() {
      this._popper && (this._popper.destroy(), this._popper = null);
    } }]) && gi(t3.prototype, n3), e3 && gi(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), Ri = (e2(o), o);
  function Bi(t3) {
    return (Bi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Hi(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Fi(t3, e3) {
    return (Fi = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function Vi(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Yi(n3), e3 = (t3 = r3 ? (t3 = Yi(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Bi(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Yi(t3) {
    return (Yi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  function Wi(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function zi(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Wi(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Wi(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  var l2 = ".".concat("bs.popover"), Ui = zi(zi({}, Ri.Default), {}, { placement: "right", offset: [0, 8], trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }), qi = zi(zi({}, Ri.DefaultType), {}, { content: "(string|element|function)" }), Ki = { HIDE: "hide".concat(l2), HIDDEN: "hidden".concat(l2), SHOW: "show".concat(l2), SHOWN: "shown".concat(l2), INSERTED: "inserted".concat(l2), CLICK: "click".concat(l2), FOCUSIN: "focusin".concat(l2), FOCUSOUT: "focusout".concat(l2), MOUSEENTER: "mouseenter".concat(l2), MOUSELEAVE: "mouseleave".concat(l2) }, o = function() {
    var t3 = o2, e3 = Ri;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Fi(t3, e3);
    var n3, r3 = Vi(o2);
    function o2() {
      var t4 = this, e4 = o2;
      if (t4 instanceof e4)
        return r3.apply(this, arguments);
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "Default", get: function() {
      return Ui;
    } }, { key: "NAME", get: function() {
      return "popover";
    } }, { key: "Event", get: function() {
      return Ki;
    } }, { key: "DefaultType", get: function() {
      return qi;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }], (n3 = [{ key: "isWithContent", value: function() {
      return this.getTitle() || this._getContent();
    } }, { key: "setContent", value: function(t4) {
      this._sanitizeAndSetContent(t4, this.getTitle(), ".popover-header"), this._sanitizeAndSetContent(t4, this._getContent(), ".popover-body");
    } }, { key: "_getContent", value: function() {
      return this._resolvePossibleFunction(this._config.content);
    } }, { key: "_getBasicClassPrefix", value: function() {
      return "bs-popover";
    } }]) && Hi(t3.prototype, n3), e3 && Hi(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), l2 = (e2(o), o);
  t2(180);
  function $i(t3) {
    return ($i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Xi(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Gi(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Xi(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Xi(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Qi(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Zi() {
    return (Zi = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = ea(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function Ji(t3, e3) {
    return (Ji = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function ta(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = ea(n3), e3 = (t3 = r3 ? (t3 = ea(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === $i(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function ea(t3) {
    return (ea = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var na = "scrollspy", ra = ".".concat("bs.scrollspy"), oa = { offset: 10, method: "auto", target: "" }, ia = { offset: "number", method: "string", target: "(string|element)" }, aa = "activate".concat(ra), ca = "scroll".concat(ra), o = "load".concat(ra).concat(".data-api"), sa = "dropdown-item", ua = "active", la = ".nav-link", fa = ".list-group-item", da = "".concat(la, ", ").concat(fa, ", .").concat(sa), pa = "position", ha = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Ji(t3, e3);
    var n3, r3 = ta(o2);
    function o2(t4, e4) {
      var n4;
      if (this instanceof o2)
        return (n4 = r3.call(this, t4))._scrollElement = "BODY" === n4._element.tagName ? window : n4._element, n4._config = n4._getConfig(e4), n4._offsets = [], n4._targets = [], n4._activeTarget = null, n4._scrollHeight = 0, d.on(n4._scrollElement, ca, function() {
          return n4._process();
        }), n4.refresh(), n4._process(), n4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "Default", get: function() {
      return oa;
    } }, { key: "NAME", get: function() {
      return na;
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }], (n3 = [{ key: "refresh", value: function() {
      var e4 = this, t4 = this._scrollElement === this._scrollElement.window ? "offset" : pa, r4 = "auto" === this._config.method ? t4 : this._config.method, o3 = r4 === pa ? this._getScrollTop() : 0;
      this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), p2.find(da, this._config.target).map(function(t5) {
        var t5 = H(t5), e5 = t5 ? p2.findOne(t5) : null;
        if (e5) {
          var n4 = e5.getBoundingClientRect();
          if (n4.width || n4.height)
            return [f[r4](e5).top + o3, t5];
        }
        return null;
      }).filter(function(t5) {
        return t5;
      }).sort(function(t5, e5) {
        return t5[0] - e5[0];
      }).forEach(function(t5) {
        e4._offsets.push(t5[0]), e4._targets.push(t5[1]);
      });
    } }, { key: "dispose", value: function() {
      d.off(this._scrollElement, ra), Zi(ea(o2.prototype), "dispose", this).call(this);
    } }, { key: "_getConfig", value: function(t4) {
      return (t4 = Gi(Gi(Gi({}, oa), f.getDataAttributes(this._element)), "object" === $i(t4) && t4 ? t4 : {})).target = Y(t4.target) || document.documentElement, W(na, t4, ia), t4;
    } }, { key: "_getScrollTop", value: function() {
      return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;
    } }, { key: "_getScrollHeight", value: function() {
      return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    } }, { key: "_getOffsetHeight", value: function() {
      return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;
    } }, { key: "_process", value: function() {
      var t4 = this._getScrollTop() + this._config.offset, e4 = this._getScrollHeight(), n4 = this._config.offset + e4 - this._getOffsetHeight();
      if (this._scrollHeight !== e4 && this.refresh(), n4 <= t4)
        return e4 = this._targets[this._targets.length - 1], void (this._activeTarget !== e4 && this._activate(e4));
      if (this._activeTarget && t4 < this._offsets[0] && 0 < this._offsets[0])
        return this._activeTarget = null, void this._clear();
      for (var r4 = this._offsets.length; r4--; )
        this._activeTarget !== this._targets[r4] && t4 >= this._offsets[r4] && (void 0 === this._offsets[r4 + 1] || t4 < this._offsets[r4 + 1]) && this._activate(this._targets[r4]);
    } }, { key: "_activate", value: function(e4) {
      this._activeTarget = e4, this._clear();
      var t4 = da.split(",").map(function(t5) {
        return "".concat(t5, '[data-bs-target="').concat(e4, '"],').concat(t5, '[href="').concat(e4, '"]');
      }), t4 = p2.findOne(t4.join(","), this._config.target);
      t4.classList.add(ua), t4.classList.contains(sa) ? p2.findOne(".dropdown-toggle", t4.closest(".dropdown")).classList.add(ua) : p2.parents(t4, ".nav, .list-group").forEach(function(t5) {
        p2.prev(t5, "".concat(la, ", ").concat(fa)).forEach(function(t6) {
          return t6.classList.add(ua);
        }), p2.prev(t5, ".nav-item").forEach(function(t6) {
          p2.children(t6, la).forEach(function(t7) {
            return t7.classList.add(ua);
          });
        });
      }), d.trigger(this._scrollElement, aa, { relatedTarget: e4 });
    } }, { key: "_clear", value: function() {
      p2.find(da, this._config.target).filter(function(t4) {
        return t4.classList.contains(ua);
      }).forEach(function(t4) {
        return t4.classList.remove(ua);
      });
    } }]) && Qi(t3.prototype, n3), e3 && Qi(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), o = (d.on(window, o, function() {
    p2.find('[data-bs-spy="scroll"]').forEach(function(t3) {
      return new ha(t3);
    });
  }), e2(ha), ha);
  function va(t3) {
    return (va = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function ya(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function ma(t3, e3) {
    return (ma = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function ga(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = ba(n3), e3 = (t3 = r3 ? (t3 = ba(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === va(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function ba(t3) {
    return (ba = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  var _a = ".".concat("bs.tab"), wa = "hide".concat(_a), Oa = "hidden".concat(_a), ka = "show".concat(_a), Ca = "shown".concat(_a), _a = "click".concat(_a).concat(".data-api"), Sa = "active", xa = ".active", Ea = ":scope > li > .active", ja = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && ma(t3, e3);
    var n3, r3 = ga(o2);
    function o2() {
      var t4 = this, e4 = o2;
      if (t4 instanceof e4)
        return r3.apply(this, arguments);
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "NAME", get: function() {
      return "tab";
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4]();
        }
      });
    } }], (n3 = [{ key: "show", value: function() {
      var t4, e4, n4, r4, o3 = this;
      this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && this._element.classList.contains(Sa) || (t4 = F(this._element), (e4 = this._element.closest(".nav, .list-group")) && (r4 = "UL" === e4.nodeName || "OL" === e4.nodeName ? Ea : xa, n4 = (n4 = p2.find(r4, e4))[n4.length - 1]), r4 = n4 ? d.trigger(n4, wa, { relatedTarget: this._element }) : null, d.trigger(this._element, ka, { relatedTarget: n4 }).defaultPrevented || null !== r4 && r4.defaultPrevented || (this._activate(this._element, e4), r4 = function() {
        d.trigger(n4, Oa, { relatedTarget: o3._element }), d.trigger(o3._element, Ca, { relatedTarget: n4 });
      }, t4 ? this._activate(t4, t4.parentNode, r4) : r4()));
    } }, { key: "_activate", value: function(t4, e4, n4) {
      function r4() {
        return o3._transitionComplete(t4, i3, n4);
      }
      var o3 = this, i3 = (!e4 || "UL" !== e4.nodeName && "OL" !== e4.nodeName ? p2.children(e4, xa) : p2.find(Ea, e4))[0], e4 = n4 && i3 && i3.classList.contains("fade");
      i3 && e4 ? (i3.classList.remove("show"), this._queueCallback(r4, t4, true)) : r4();
    } }, { key: "_transitionComplete", value: function(t4, e4, n4) {
      e4 && (e4.classList.remove(Sa), (r4 = p2.findOne(":scope > .dropdown-menu .active", e4.parentNode)) && r4.classList.remove(Sa), "tab" === e4.getAttribute("role") && e4.setAttribute("aria-selected", false)), t4.classList.add(Sa), "tab" === t4.getAttribute("role") && t4.setAttribute("aria-selected", true), $(t4), t4.classList.contains("fade") && t4.classList.add("show");
      var r4 = t4.parentNode;
      (r4 = r4 && "LI" === r4.nodeName ? r4.parentNode : r4) && r4.classList.contains("dropdown-menu") && ((e4 = t4.closest(".dropdown")) && p2.find(".dropdown-toggle", e4).forEach(function(t5) {
        return t5.classList.add(Sa);
      }), t4.setAttribute("aria-expanded", true)), n4 && n4();
    } }]) && ya(t3.prototype, n3), e3 && ya(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), _a = (d.on(document, _a, '[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]', function(t3) {
    ["A", "AREA"].includes(this.tagName) && t3.preventDefault(), U(this) || ja.getOrCreateInstance(this).show();
  }), e2(ja), ja);
  function Ta(t3) {
    return (Ta = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Aa(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Da(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Aa(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Aa(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Pa(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Ma() {
    return (Ma = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
      var r3 = function(t4, e4) {
        for (; !Object.prototype.hasOwnProperty.call(t4, e4) && null !== (t4 = Na(t4)); )
          ;
        return t4;
      }(t3, e3);
      if (r3)
        return r3 = Object.getOwnPropertyDescriptor(r3, e3), r3.get ? r3.get.call(arguments.length < 3 ? t3 : n3) : r3.value;
    }).apply(this, arguments);
  }
  function Ia(t3, e3) {
    return (Ia = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function La(n3) {
    var r3 = function() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        })), true;
      } catch (t3) {
        return false;
      }
    }();
    return function() {
      var t3, e3 = Na(n3), e3 = (t3 = r3 ? (t3 = Na(this).constructor, Reflect.construct(e3, arguments, t3)) : e3.apply(this, arguments), this);
      if (t3 && ("object" === Ta(t3) || "function" == typeof t3))
        return t3;
      if (void 0 !== t3)
        throw new TypeError("Derived constructors may only return object or undefined");
      if (void 0 !== e3)
        return e3;
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    };
  }
  function Na(t3) {
    return (Na = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  function Ra(t3) {
    for (; t3 += Math.floor(Math.random() * nc), document.getElementById(t3); )
      ;
    return t3;
  }
  function Ba(o2, i3, a3) {
    Object.keys(a3).forEach(function(t3) {
      var e3, n3 = a3[t3], r3 = i3[t3], r3 = r3 && ((e3 = r3)[0] || e3).nodeType ? "element" : null == (e3 = r3) ? "".concat(e3) : {}.toString.call(e3).match(/\s([a-z]+)/i)[1].toLowerCase();
      if (!new RegExp(n3).test(r3))
        throw new Error("".concat(o2.toUpperCase(), ": ") + 'Option "'.concat(t3, '" provided type "').concat(r3, '" ') + 'but expected type "'.concat(n3, '".'));
    });
  }
  function Ha() {
    var t3 = window.jQuery;
    return t3 && !document.body.hasAttribute("data-mdb-no-jquery") ? t3 : null;
  }
  function Fa(t3) {
    "loading" === document.readyState ? document.addEventListener("DOMContentLoaded", t3) : t3();
  }
  function Va(t3) {
    return document.createElement(t3);
  }
  var Ya, Wa, h = ".".concat("bs.toast"), za = "mouseover".concat(h), Ua = "mouseout".concat(h), qa = "focusin".concat(h), Ka = "focusout".concat(h), $a = "hide".concat(h), Xa = "hidden".concat(h), Ga = "show".concat(h), Qa = "shown".concat(h), Za = "show", Ja = "showing", tc = { animation: "boolean", autohide: "boolean", delay: "number" }, ec = { animation: true, autohide: true, delay: 5e3 }, h = function() {
    var t3 = o2, e3 = c2;
    if ("function" != typeof e3 && null !== e3)
      throw new TypeError("Super expression must either be null or a function");
    t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && Ia(t3, e3);
    var n3, r3 = La(o2);
    function o2(t4, e4) {
      if (this instanceof o2)
        return (t4 = r3.call(this, t4))._config = t4._getConfig(e4), t4._timeout = null, t4._hasMouseInteraction = false, t4._hasKeyboardInteraction = false, t4._setListeners(), t4;
      throw new TypeError("Cannot call a class as a function");
    }
    return t3 = o2, e3 = [{ key: "DefaultType", get: function() {
      return tc;
    } }, { key: "Default", get: function() {
      return ec;
    } }, { key: "NAME", get: function() {
      return "toast";
    } }, { key: "jQueryInterface", value: function(e4) {
      return this.each(function() {
        var t4 = o2.getOrCreateInstance(this, e4);
        if ("string" == typeof e4) {
          if (void 0 === t4[e4])
            throw new TypeError('No method named "'.concat(e4, '"'));
          t4[e4](this);
        }
      });
    } }], (n3 = [{ key: "show", value: function() {
      var t4 = this;
      d.trigger(this._element, Ga).defaultPrevented || (this._clearTimeout(), this._config.animation && this._element.classList.add("fade"), this._element.classList.remove("hide"), $(this._element), this._element.classList.add(Za), this._element.classList.add(Ja), this._queueCallback(function() {
        t4._element.classList.remove(Ja), d.trigger(t4._element, Qa), t4._maybeScheduleHide();
      }, this._element, this._config.animation));
    } }, { key: "hide", value: function() {
      var t4 = this;
      this._element.classList.contains(Za) && !d.trigger(this._element, $a).defaultPrevented && (this._element.classList.add(Ja), this._queueCallback(function() {
        t4._element.classList.add("hide"), t4._element.classList.remove(Ja), t4._element.classList.remove(Za), d.trigger(t4._element, Xa);
      }, this._element, this._config.animation));
    } }, { key: "dispose", value: function() {
      this._clearTimeout(), this._element.classList.contains(Za) && this._element.classList.remove(Za), Ma(Na(o2.prototype), "dispose", this).call(this);
    } }, { key: "_getConfig", value: function(t4) {
      return t4 = Da(Da(Da({}, ec), f.getDataAttributes(this._element)), "object" === Ta(t4) && t4 ? t4 : {}), W("toast", t4, this.constructor.DefaultType), t4;
    } }, { key: "_maybeScheduleHide", value: function() {
      var t4 = this;
      !this._config.autohide || this._hasMouseInteraction || this._hasKeyboardInteraction || (this._timeout = setTimeout(function() {
        t4.hide();
      }, this._config.delay));
    } }, { key: "_onInteraction", value: function(t4, e4) {
      switch (t4.type) {
        case "mouseover":
        case "mouseout":
          this._hasMouseInteraction = e4;
          break;
        case "focusin":
        case "focusout":
          this._hasKeyboardInteraction = e4;
      }
      e4 ? this._clearTimeout() : (t4 = t4.relatedTarget, this._element === t4 || this._element.contains(t4) || this._maybeScheduleHide());
    } }, { key: "_setListeners", value: function() {
      var e4 = this;
      d.on(this._element, za, function(t4) {
        return e4._onInteraction(t4, true);
      }), d.on(this._element, Ua, function(t4) {
        return e4._onInteraction(t4, false);
      }), d.on(this._element, qa, function(t4) {
        return e4._onInteraction(t4, true);
      }), d.on(this._element, Ka, function(t4) {
        return e4._onInteraction(t4, false);
      });
    } }, { key: "_clearTimeout", value: function() {
      clearTimeout(this._timeout), this._timeout = null;
    } }]) && Pa(t3.prototype, n3), e3 && Pa(t3, e3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), nc = (xr(h), e2(h), 1e6), rc = (document.documentElement.dir, Ya = {}, Wa = 1, { set: function(t3, e3, n3) {
    void 0 === t3[e3] && (t3[e3] = { key: e3, id: Wa }, Wa++), Ya[t3[e3].id] = n3;
  }, get: function(t3, e3) {
    if (!t3 || void 0 === t3[e3])
      return null;
    t3 = t3[e3];
    return t3.key === e3 ? Ya[t3.id] : null;
  }, delete: function(t3, e3) {
    var n3;
    void 0 !== t3[e3] && (n3 = t3[e3]).key === e3 && (delete Ya[n3.id], delete t3[e3]);
  } }), v = { setData: function(t3, e3, n3) {
    rc.set(t3, e3, n3);
  }, getData: function(t3, e3) {
    return rc.get(t3, e3);
  }, removeData: function(t3, e3) {
    rc.delete(t3, e3);
  } };
  function oc(t3, e3) {
    return function(t4) {
      if (Array.isArray(t4))
        return t4;
    }(t3) || function(t4, e4) {
      var n3 = null == t4 ? null : "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
      if (null != n3) {
        var r3, o2, i3 = [], a3 = true, c3 = false;
        try {
          for (n3 = n3.call(t4); !(a3 = (r3 = n3.next()).done) && (i3.push(r3.value), !e4 || i3.length !== e4); a3 = true)
            ;
        } catch (t5) {
          c3 = true, o2 = t5;
        } finally {
          try {
            a3 || null == n3.return || n3.return();
          } finally {
            if (c3)
              throw o2;
          }
        }
        return i3;
      }
    }(t3, e3) || function(t4, e4) {
      if (t4) {
        if ("string" == typeof t4)
          return ic(t4, e4);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? ic(t4, e4) : void 0;
      }
    }(t3, e3) || function() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function ic(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  var ac = Ha(), cc = /[^.]*(?=\..*)\.|.*/, sc = /\..*/, uc = /::\d+$/, lc = {}, fc = 1, dc = { mouseenter: "mouseover", mouseleave: "mouseout" }, pc = ["click", "dblclick", "mouseup", "mousedown", "contextmenu", "mousewheel", "DOMMouseScroll", "mouseover", "mouseout", "mousemove", "selectstart", "selectend", "keydown", "keypress", "keyup", "orientationchange", "touchstart", "touchmove", "touchend", "touchcancel", "pointerdown", "pointermove", "pointerup", "pointerleave", "pointercancel", "gesturestart", "gesturechange", "gestureend", "focus", "blur", "change", "reset", "select", "submit", "focusin", "focusout", "load", "unload", "beforeunload", "resize", "move", "DOMContentLoaded", "readystatechange", "error", "abort", "scroll"];
  function hc(t3, e3) {
    return e3 && "".concat(e3, "::").concat(fc++) || t3.uidEvent || fc++;
  }
  function vc(t3) {
    var e3 = hc(t3);
    return t3.uidEvent = e3, lc[e3] = lc[e3] || {}, lc[e3];
  }
  function yc(t3, e3, n3) {
    for (var r3 = 2 < arguments.length && void 0 !== n3 ? n3 : null, o2 = Object.keys(t3), i3 = 0, a3 = o2.length; i3 < a3; i3++) {
      var c3 = t3[o2[i3]];
      if (c3.originalHandler === e3 && c3.delegationSelector === r3)
        return c3;
    }
    return null;
  }
  function mc(t3, e3, n3) {
    var r3 = "string" == typeof e3, n3 = r3 ? n3 : e3, e3 = t3.replace(sc, ""), o2 = dc[e3];
    return [r3, n3, e3 = -1 < pc.indexOf(e3 = o2 ? o2 : e3) ? e3 : t3];
  }
  function gc(t3, e3, n3, r3, o2) {
    var i3, a3, c3, s3, u2, l3, f2, d2, p3, h2;
    "string" == typeof e3 && t3 && (n3 || (n3 = r3, r3 = null), i3 = (c3 = oc(mc(e3, n3, r3), 3))[0], a3 = c3[1], c3 = c3[2], (u2 = yc(s3 = (s3 = vc(t3))[c3] || (s3[c3] = {}), a3, i3 ? n3 : null)) ? u2.oneOff = u2.oneOff && o2 : (u2 = hc(a3, e3.replace(cc, "")), (e3 = i3 ? (d2 = t3, p3 = n3, h2 = r3, function t4(e4) {
      for (var n4 = d2.querySelectorAll(p3), r4 = e4.target; r4 && r4 !== this; r4 = r4.parentNode)
        for (var o3 = n4.length; o3--; )
          if (n4[o3] === r4)
            return e4.delegateTarget = r4, t4.oneOff && _c.off(d2, e4.type, h2), h2.apply(r4, [e4]);
      return null;
    }) : (l3 = t3, f2 = n3, function t4(e4) {
      return e4.delegateTarget = l3, t4.oneOff && _c.off(l3, e4.type, f2), f2.apply(l3, [e4]);
    })).delegationSelector = i3 ? n3 : null, e3.originalHandler = a3, e3.oneOff = o2, s3[e3.uidEvent = u2] = e3, t3.addEventListener(c3, e3, i3)));
  }
  function bc(t3, e3, n3, r3, o2) {
    r3 = yc(e3[n3], r3, o2);
    r3 && (t3.removeEventListener(n3, r3, Boolean(o2)), delete e3[n3][r3.uidEvent]);
  }
  var _c = { on: function(t3, e3, n3, r3) {
    gc(t3, e3, n3, r3, false);
  }, one: function(t3, e3, n3, r3) {
    gc(t3, e3, n3, r3, true);
  }, off: function(a3, c3, t3, e3) {
    if ("string" == typeof c3 && a3) {
      var e3 = oc(mc(c3, t3, e3), 3), n3 = e3[0], r3 = e3[1], o2 = e3[2], i3 = o2 !== c3, s3 = vc(a3), e3 = "." === c3.charAt(0);
      if (void 0 !== r3)
        return s3 && s3[o2] ? void bc(a3, s3, o2, r3, n3 ? t3 : null) : void 0;
      e3 && Object.keys(s3).forEach(function(t4) {
        var e4, n4, r4, o3, i4;
        e4 = a3, n4 = s3, r4 = t4, o3 = c3.slice(1), i4 = n4[r4] || {}, Object.keys(i4).forEach(function(t5) {
          -1 < t5.indexOf(o3) && (t5 = i4[t5], bc(e4, n4, r4, t5.originalHandler, t5.delegationSelector));
        });
      });
      var u2 = s3[o2] || {};
      Object.keys(u2).forEach(function(t4) {
        var e4 = t4.replace(uc, "");
        (!i3 || -1 < c3.indexOf(e4)) && (e4 = u2[t4], bc(a3, s3, o2, e4.originalHandler, e4.delegationSelector));
      });
    }
  }, trigger: function(t3, e3, n3) {
    if ("string" != typeof e3 || !t3)
      return null;
    var r3, o2 = e3.replace(sc, ""), i3 = e3 !== o2, a3 = -1 < pc.indexOf(o2), c3 = true, s3 = true, u2 = false, l3 = null;
    return i3 && ac && (r3 = ac.Event(e3, n3), ac(t3).trigger(r3), c3 = !r3.isPropagationStopped(), s3 = !r3.isImmediatePropagationStopped(), u2 = r3.isDefaultPrevented()), a3 ? (l3 = document.createEvent("HTMLEvents")).initEvent(o2, c3, true) : l3 = new CustomEvent(e3, { bubbles: c3, cancelable: true }), void 0 !== n3 && Object.keys(n3).forEach(function(t4) {
      Object.defineProperty(l3, t4, { get: function() {
        return n3[t4];
      } });
    }), u2 && l3.preventDefault(), s3 && t3.dispatchEvent(l3), l3.defaultPrevented && void 0 !== r3 && r3.preventDefault(), l3;
  } }, wc = function(t3, e3, n3, r3) {
    for (var o2 = e3.split(" "), i3 = 0; i3 < o2.length; i3++)
      _c.on(t3, o2[i3], n3, r3);
  }, Oc = function(t3, e3, n3, r3) {
    for (var o2 = e3.split(" "), i3 = 0; i3 < o2.length; i3++)
      _c.off(t3, o2[i3], n3, r3);
  }, _ = _c;
  t2(185);
  function kc(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Cc(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? kc(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : kc(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Sc(t3) {
    return "true" === t3 || "false" !== t3 && (t3 === Number(t3).toString() ? Number(t3) : "" === t3 || "null" === t3 ? null : t3);
  }
  function xc(t3) {
    return t3.replace(/[A-Z]/g, function(t4) {
      return "-".concat(t4.toLowerCase());
    });
  }
  var S = { setDataAttribute: function(t3, e3, n3) {
    t3.setAttribute("data-mdb-".concat(xc(e3)), n3);
  }, removeDataAttribute: function(t3, e3) {
    t3.removeAttribute("data-mdb-".concat(xc(e3)));
  }, getDataAttributes: function(t3) {
    if (!t3)
      return {};
    var n3 = Cc({}, t3.dataset);
    return Object.keys(n3).filter(function(t4) {
      return t4.startsWith("mdb");
    }).forEach(function(t4) {
      var e3 = (e3 = t4.replace(/^mdb/, "")).charAt(0).toLowerCase() + e3.slice(1, e3.length);
      n3[e3] = Sc(n3[t4]);
    }), n3;
  }, getDataAttribute: function(t3, e3) {
    return Sc(t3.getAttribute("data-mdb-".concat(xc(e3))));
  }, offset: function(t3) {
    t3 = t3.getBoundingClientRect();
    return { top: t3.top + document.body.scrollTop, left: t3.left + document.body.scrollLeft };
  }, position: function(t3) {
    return { top: t3.offsetTop, left: t3.offsetLeft };
  }, style: function(t3, e3) {
    Object.assign(t3.style, e3);
  }, toggleClass: function(t3, e3) {
    t3 && (t3.classList.contains(e3) ? t3.classList.remove(e3) : t3.classList.add(e3));
  }, addClass: function(t3, e3) {
    t3.classList.contains(e3) || t3.classList.add(e3);
  }, addStyle: function(e3, n3) {
    Object.keys(n3).forEach(function(t3) {
      e3.style[t3] = n3[t3];
    });
  }, removeClass: function(t3, e3) {
    t3.classList.contains(e3) && t3.classList.remove(e3);
  }, hasClass: function(t3, e3) {
    return t3.classList.contains(e3);
  } };
  function Ec(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return jc(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || function(t4, e3) {
      if (t4) {
        if ("string" == typeof t4)
          return jc(t4, e3);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? jc(t4, e3) : void 0;
      }
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function jc(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  var x = { closest: function(t3, e3) {
    return t3.closest(e3);
  }, matches: function(t3, e3) {
    return t3.matches(e3);
  }, find: function(t3) {
    var e3, n3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : document.documentElement;
    return (e3 = []).concat.apply(e3, Ec(Element.prototype.querySelectorAll.call(n3, t3)));
  }, findOne: function(t3) {
    var e3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : document.documentElement;
    return Element.prototype.querySelector.call(e3, t3);
  }, children: function(t3, e3) {
    var n3;
    return (n3 = []).concat.apply(n3, Ec(t3.children)).filter(function(t4) {
      return t4.matches(e3);
    });
  }, parents: function(t3, e3) {
    for (var n3 = [], r3 = t3.parentNode; r3 && r3.nodeType === Node.ELEMENT_NODE && 3 !== r3.nodeType; )
      this.matches(r3, e3) && n3.push(r3), r3 = r3.parentNode;
    return n3;
  }, prev: function(t3, e3) {
    for (var n3 = t3.previousElementSibling; n3; ) {
      if (n3.matches(e3))
        return [n3];
      n3 = n3.previousElementSibling;
    }
    return [];
  }, next: function(t3, e3) {
    for (var n3 = t3.nextElementSibling; n3; ) {
      if (this.matches(n3, e3))
        return [n3];
      n3 = n3.nextElementSibling;
    }
    return [];
  } };
  function Tc(t3) {
    return (Tc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function Ac(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Dc(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? Ac(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : Ac(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function Pc(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var Mc = "ripple", Ic = "mdb.ripple", Lc = "ripple-surface", Nc = "ripple-wave", Rc = ["[data-mdb-ripple]"], Bc = "ripple-surface-unbound", Hc = [0, 0, 0], Fc = ["primary", "secondary", "success", "danger", "warning", "info", "light", "dark"], Vc = { rippleCentered: false, rippleColor: "", rippleDuration: "500ms", rippleRadius: 0, rippleUnbound: false }, Yc = { rippleCentered: "boolean", rippleColor: "string", rippleDuration: "string", rippleRadius: "number", rippleUnbound: "boolean" }, Wc = function() {
    function n3(t4, e4) {
      if (!(this instanceof n3))
        throw new TypeError("Cannot call a class as a function");
      this._element = t4, this._options = this._getConfig(e4), this._element && (v.setData(t4, Ic, this), S.addClass(this._element, Lc)), this._clickHandler = this._createRipple.bind(this), this._rippleTimer = null, this._isMinWidthSet = false, this.init();
    }
    var t3, e3, r3;
    return t3 = n3, r3 = [{ key: "NAME", get: function() {
      return Mc;
    } }, { key: "autoInitial", value: function(e4) {
      return function(t4) {
        e4._autoInit(t4);
      };
    } }, { key: "jQueryInterface", value: function(t4) {
      return this.each(function() {
        return v.getData(this, Ic) ? null : new n3(this, t4);
      });
    } }, { key: "getInstance", value: function(t4) {
      return v.getData(t4, Ic);
    } }, { key: "getOrCreateInstance", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
      return this.getInstance(t4) || new this(t4, "object" === Tc(e4) ? e4 : null);
    } }], (e3 = [{ key: "init", value: function() {
      this._addClickEvent(this._element);
    } }, { key: "dispose", value: function() {
      v.removeData(this._element, Ic), _.off(this._element, "click", this._clickHandler), this._element = null, this._options = null;
    } }, { key: "_autoInit", value: function(e4) {
      var n4 = this;
      Rc.forEach(function(t4) {
        x.closest(e4.target, t4) && (n4._element = x.closest(e4.target, t4));
      }), this._element.style.minWidth || (S.style(this._element, { "min-width": "".concat(this._element.offsetWidth, "px") }), this._isMinWidthSet = true), S.addClass(this._element, Lc), this._options = this._getConfig(), this._createRipple(e4);
    } }, { key: "_addClickEvent", value: function(t4) {
      _.on(t4, "mousedown", this._clickHandler);
    } }, { key: "_createRipple", value: function(t4) {
      S.hasClass(this._element, Lc) || S.addClass(this._element, Lc);
      var e4 = t4.layerX, t4 = t4.layerY, n4 = this._element.offsetHeight, r4 = this._element.offsetWidth, o2 = this._durationToMsNumber(this._options.rippleDuration), i3 = { offsetX: this._options.rippleCentered ? n4 / 2 : e4, offsetY: this._options.rippleCentered ? r4 / 2 : t4, height: n4, width: r4 }, i3 = this._getDiameter(i3), a3 = this._options.rippleRadius || i3 / 2, c3 = { delay: 0.5 * o2, duration: o2 - 0.5 * o2 }, r4 = { left: this._options.rippleCentered ? "".concat(r4 / 2 - a3, "px") : "".concat(e4 - a3, "px"), top: this._options.rippleCentered ? "".concat(n4 / 2 - a3, "px") : "".concat(t4 - a3, "px"), height: "".concat(2 * this._options.rippleRadius || i3, "px"), width: "".concat(2 * this._options.rippleRadius || i3, "px"), transitionDelay: "0s, ".concat(c3.delay, "ms"), transitionDuration: "".concat(o2, "ms, ").concat(c3.duration, "ms") }, e4 = Va("div");
      this._createHTMLRipple({ wrapper: this._element, ripple: e4, styles: r4 }), this._removeHTMLRipple({ ripple: e4, duration: o2 });
    } }, { key: "_createHTMLRipple", value: function(t4) {
      var e4 = t4.wrapper, n4 = t4.ripple, r4 = t4.styles;
      Object.keys(r4).forEach(function(t5) {
        return n4.style[t5] = r4[t5];
      }), n4.classList.add(Nc), "" !== this._options.rippleColor && (this._removeOldColorClasses(e4), this._addColor(n4, e4)), this._toggleUnbound(e4), this._appendRipple(n4, e4);
    } }, { key: "_removeHTMLRipple", value: function(t4) {
      var e4 = this, n4 = t4.ripple, t4 = t4.duration;
      this._rippleTimer && (clearTimeout(this._rippleTimer), this._rippleTimer = null), this._rippleTimer = setTimeout(function() {
        n4 && (n4.remove(), e4._element && (x.find(".".concat(Nc), e4._element).forEach(function(t5) {
          t5.remove();
        }), e4._isMinWidthSet && (S.style(e4._element, { "min-width": "" }), e4._isMinWidthSet = false), S.removeClass(e4._element, Lc)));
      }, t4);
    } }, { key: "_durationToMsNumber", value: function(t4) {
      return Number(t4.replace("ms", "").replace("s", "000"));
    } }, { key: "_getConfig", value: function() {
      var t4 = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, e4 = S.getDataAttributes(this._element), t4 = Dc(Dc(Dc({}, Vc), e4), t4);
      return Ba(Mc, t4, Yc), t4;
    } }, { key: "_getDiameter", value: function(t4) {
      function e4(t5, e5) {
        return Math.sqrt(Math.pow(t5, 2) + Math.pow(e5, 2));
      }
      var n4 = t4.offsetX, r4 = t4.offsetY, o2 = t4.height, t4 = t4.width, i3 = r4 <= o2 / 2, a3 = n4 <= t4 / 2, c3 = r4 === o2 / 2 && n4 === t4 / 2, s3 = true == i3 && false == a3, u2 = true == i3 && true == a3, l3 = false == i3 && true == a3, i3 = false == i3 && false == a3, a3 = { topLeft: e4(n4, r4), topRight: e4(t4 - n4, r4), bottomLeft: e4(n4, o2 - r4), bottomRight: e4(t4 - n4, o2 - r4) }, t4 = 0;
      return c3 || i3 ? t4 = a3.topLeft : l3 ? t4 = a3.topRight : u2 ? t4 = a3.bottomRight : s3 && (t4 = a3.bottomLeft), 2 * t4;
    } }, { key: "_appendRipple", value: function(t4, e4) {
      e4.appendChild(t4), setTimeout(function() {
        S.addClass(t4, "active");
      }, 50);
    } }, { key: "_toggleUnbound", value: function(t4) {
      true === this._options.rippleUnbound ? S.addClass(t4, Bc) : t4.classList.remove(Bc);
    } }, { key: "_addColor", value: function(t4, e4) {
      var n4 = this;
      Fc.find(function(t5) {
        return t5 === n4._options.rippleColor.toLowerCase();
      }) ? S.addClass(e4, "".concat(Lc, "-").concat(this._options.rippleColor.toLowerCase())) : (e4 = this._colorToRGB(this._options.rippleColor).join(","), e4 = "rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e4)), t4.style.backgroundImage = "radial-gradient(circle, ".concat(e4, ")"));
    } }, { key: "_removeOldColorClasses", value: function(e4) {
      var t4 = new RegExp("".concat(Lc, "-[a-z]+"), "gi");
      (e4.classList.value.match(t4) || []).forEach(function(t5) {
        e4.classList.remove(t5);
      });
    } }, { key: "_colorToRGB", value: function(t4) {
      return "transparent" === t4.toLowerCase() ? Hc : "#" === t4[0] ? ((e4 = t4).length < 7 && (e4 = "#".concat(e4[1]).concat(e4[1]).concat(e4[2]).concat(e4[2]).concat(e4[3]).concat(e4[3])), [parseInt(e4.substr(1, 2), 16), parseInt(e4.substr(3, 2), 16), parseInt(e4.substr(5, 2), 16)]) : (-1 === t4.indexOf("rgb") && (e4 = t4, n4 = document.body.appendChild(document.createElement("fictum")), r4 = "rgb(1, 2, 3)", n4.style.color = r4, t4 = n4.style.color !== r4 ? Hc : (n4.style.color = e4, n4.style.color === r4 || "" === n4.style.color ? Hc : (e4 = getComputedStyle(n4).color, document.body.removeChild(n4), e4))), 0 === t4.indexOf("rgb") ? ((r4 = (r4 = t4).match(/[.\d]+/g).map(function(t5) {
        return +Number(t5);
      })).length = 3, r4) : Hc);
      var e4, n4, r4;
    } }]) && Pc(t3.prototype, e3), r3 && Pc(t3, r3), Object.defineProperty(t3, "prototype", { writable: false }), n3;
  }(), zc = (Rc.forEach(function(t3) {
    _.one(document, "mousedown", t3, Wc.autoInitial(new Wc()));
  }), Fa(function() {
    var t3, e3 = Ha();
    e3 && (t3 = e3.fn[Mc], e3.fn[Mc] = Wc.jQueryInterface, e3.fn[Mc].Constructor = Wc, e3.fn[Mc].noConflict = function() {
      return e3.fn[Mc] = t3, Wc.jQueryInterface;
    });
  }), Wc);
  t2(187);
  function Uc(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var qc = function() {
    function a3(t4) {
      var e4 = this, n3 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, r3 = 2 < arguments.length ? arguments[2] : void 0, o2 = this, i3 = a3;
      if (!(o2 instanceof i3))
        throw new TypeError("Cannot call a class as a function");
      this._element = t4, this._toggler = r3, this._event = n3.event || "blur", this._condition = n3.condition || function() {
        return true;
      }, this._selector = n3.selector || 'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])', this._onlyVisible = n3.onlyVisible || false, this._focusableElements = [], this._firstElement = null, this._lastElement = null, this.handler = function(t5) {
        e4._condition(t5) && t5.target === e4._lastElement && (t5.preventDefault(), e4._firstElement.focus());
      };
    }
    var t3, e3;
    return t3 = a3, (e3 = [{ key: "trap", value: function() {
      this._setElements(), this._init(), this._setFocusTrap();
    } }, { key: "disable", value: function() {
      var e4 = this;
      this._focusableElements.forEach(function(t4) {
        t4.removeEventListener(e4._event, e4.handler);
      }), this._toggler && this._toggler.focus();
    } }, { key: "update", value: function() {
      this._setElements(), this._setFocusTrap();
    } }, { key: "_init", value: function() {
      var n3 = this;
      window.addEventListener("keydown", function t4(e4) {
        n3._firstElement && "Tab" === e4.key && !n3._focusableElements.includes(e4.target) && (e4.preventDefault(), n3._firstElement.focus(), window.removeEventListener("keydown", t4));
      });
    } }, { key: "_filterVisible", value: function(t4) {
      return t4.filter(function(t5) {
        if (!(e4 = t5) || (!(e4.style && e4.parentNode && e4.parentNode.style) || (n3 = getComputedStyle(e4), e4 = getComputedStyle(e4.parentNode), "none" === n3.display || "none" === e4.display || "hidden" === n3.visibility)))
          return false;
        for (var e4, n3, r3 = x.parents(t5, "*"), o2 = 0; o2 < r3.length; o2++) {
          var i3 = window.getComputedStyle(r3[o2]);
          if (i3 && ("none" === i3.display || "hidden" === i3.visibility))
            return false;
        }
        return true;
      });
    } }, { key: "_setElements", value: function() {
      this._focusableElements = x.find(this._selector, this._element), this._onlyVisible && (this._focusableElements = this._filterVisible(this._focusableElements)), this._firstElement = this._focusableElements[0], this._lastElement = this._focusableElements[this._focusableElements.length - 1];
    } }, { key: "_setFocusTrap", value: function() {
      var n3 = this;
      this._focusableElements.forEach(function(t4, e4) {
        e4 === n3._focusableElements.length - 1 ? t4.addEventListener(n3._event, n3.handler) : t4.removeEventListener(n3._event, n3.handler);
      });
    } }]) && Uc(t3.prototype, e3), Object.defineProperty(t3, "prototype", { writable: false }), a3;
  }();
  t2(188);
  function O(t3) {
    return t3.getDate();
  }
  function Kc(t3) {
    return t3.getDay();
  }
  function k(t3) {
    return t3.getMonth();
  }
  function C(t3) {
    return t3.getFullYear();
  }
  function $c(t3) {
    return Qc((t3 = t3).getFullYear(), t3.getMonth() + 1, 0).getDate();
  }
  function Xc() {
    return new Date();
  }
  function y(t3, e3) {
    return D(t3, 12 * e3);
  }
  function D(t3, e3) {
    e3 = Qc(t3.getFullYear(), t3.getMonth() + e3, t3.getDate());
    return O(t3) !== O(e3) && e3.setDate(0), e3;
  }
  function Gc(t3, e3) {
    return Qc(t3.getFullYear(), t3.getMonth(), t3.getDate() + e3);
  }
  function Qc(t3, e3, n3) {
    e3 = new Date(t3, e3, n3);
    return 0 <= t3 && t3 < 100 && e3.setFullYear(e3.getFullYear() - 1900), e3;
  }
  function Zc(t3) {
    t3 = t3.split("-");
    return Qc(t3[0], t3[1], t3[2]);
  }
  function Jc(t3, e3) {
    return t3.setHours(0, 0, 0, 0), e3.setHours(0, 0, 0, 0), t3.getTime() === e3.getTime();
  }
  function ts(t3, e3) {
    return ((C(t3) - function(t4, e4, n3) {
      var r3 = 0;
      n3 ? (n3 = C(n3), r3 = n3 - t4 + 1) : e4 && (r3 = C(e4));
      return r3;
    }()) % e3 + e3) % e3;
  }
  function es(t3, e3, n3, r3, o2) {
    return "days" === n3 ? C(t3) === C(e3) && k(t3) === k(e3) : "months" === n3 ? C(t3) === C(e3) : "years" === n3 && (C(e3) >= o2 && C(e3) <= r3);
  }
  function ns(t3, e3, n3, r3, o2, i3, a3, c3, s3) {
    var u2, l3, f2 = k(t3), d2 = C(t3), p3 = O(t3), h2 = Kc(t3), v2 = Va("div"), a3 = "\n      ".concat((p3 = p3, h2 = h2, u2 = f2, '\n      <div class="datepicker-header">\n        <div class="datepicker-title">\n          <span class="datepicker-title-text">'.concat((l3 = o2).title, '</span>\n        </div>\n        <div class="datepicker-date">\n          <span class="datepicker-date-text">').concat(l3.weekdaysShort[h2], ", ").concat(l3.monthsShort[u2], " ").concat(p3, "</span>\n        </div>\n      </div>\n    ")), "\n      ").concat((h2 = t3, l3 = e3, u2 = n3, p3 = r3, t3 = i3, e3 = a3, n3 = c3, '\n    <div class="datepicker-main">\n      '.concat(function(t4, e4, n4) {
      return '\n    <div class="datepicker-date-controls">\n      <button class="datepicker-view-change-button" aria-label="'.concat(n4.switchToMultiYearViewLabel, '">\n        ').concat(n4.monthsFull[t4], " ").concat(e4, '\n      </button>\n      <div class="datepicker-arrow-controls">\n        <button class="datepicker-previous-button" aria-label="').concat(n4.prevMonthLabel, '"></button>\n        <button class="datepicker-next-button" aria-label="').concat(n4.nextMonthLabel, '"></button>\n      </div>\n    </div>\n    ');
    }(f2, r3 = d2, i3 = o2), '\n      <div class="datepicker-view" tabindex="0">\n        ').concat(function(t4, e4, n4, r4, o3, i4, a4, c4, s4) {
      n4 = "days" === i4.view ? rs(t4, n4, i4) : "months" === i4.view ? os(e4, r4, o3, i4, a4) : is(t4, r4, 0, c4, s4);
      return n4;
    }(h2, r3, l3, u2, p3, i3, t3, e3, n3), "\n      </div>\n      ").concat(function(t4) {
      return '\n        <div class="datepicker-footer">\n          <button class="datepicker-footer-btn datepicker-clear-btn" aria-label="'.concat(t4.clearBtnLabel, '">').concat(t4.clearBtnText, '</button>\n          <button class="datepicker-footer-btn datepicker-cancel-btn" aria-label="').concat(t4.cancelBtnLabel, '">').concat(t4.cancelBtnText, '</button>\n          <button class="datepicker-footer-btn datepicker-ok-btn" aria-label="').concat(t4.okBtnLabel, '">').concat(t4.okBtnText, "</button>\n        </div>\n      ");
    }(i3), "\n    </div>\n  ")), "\n    ");
    return S.addClass(v2, "datepicker-modal-container"), S.addClass(v2, "datepicker-modal-container-".concat(s3)), v2.innerHTML = a3, v2;
  }
  function rs(t3, e3, n3) {
    t3 = function(t4, e4, n4) {
      for (var r3 = [], o2 = k(t4), i3 = k(D(t4, -1)), a3 = k(D(t4, 1)), c3 = C(t4), s3 = function(t5, e5, n5) {
        return n5 = 0 < (n5 = n5.startDay) ? 7 - n5 : 0, 7 <= (t5 = new Date(t5, e5).getDay() + n5) ? t5 - 7 : t5;
      }(c3, o2, n4), u2 = $c(t4), l3 = $c(D(t4, -1)), f2 = 1, d2 = false, p3 = 1; p3 < 7; p3++) {
        var h2 = [];
        if (1 === p3) {
          for (var v2 = l3 - s3 + 1; v2 <= l3; v2++) {
            var y2 = Qc(c3, i3, v2);
            h2.push({ date: y2, currentMonth: d2, isSelected: e4 && Jc(y2, e4), isToday: Jc(y2, Xc()), dayNumber: O(y2) });
          }
          d2 = true;
          for (var m2 = 7 - h2.length, g2 = 0; g2 < m2; g2++) {
            var b2 = Qc(c3, o2, f2);
            h2.push({ date: b2, currentMonth: d2, isSelected: e4 && Jc(b2, e4), isToday: Jc(b2, Xc()), dayNumber: O(b2) }), f2++;
          }
        } else
          for (var _2 = 1; _2 < 8; _2++) {
            u2 < f2 && (d2 = !(f2 = 1));
            var w2 = Qc(c3, d2 ? o2 : a3, f2);
            h2.push({ date: w2, currentMonth: d2, isSelected: e4 && Jc(w2, e4), isToday: Jc(w2, Xc()), dayNumber: O(w2) }), f2++;
          }
        r3.push(h2);
      }
      return r3;
    }(t3, e3, n3), e3 = n3.weekdaysNarrow, e3 = "\n      <tr>\n        ".concat(e3.map(function(t4, e4) {
      return '<th class="datepicker-day-heading" scope="col" aria-label="'.concat(n3.weekdaysFull[e4], '">').concat(t4, "</th>");
    }).join(""), "\n      </tr>\n    "), t3 = t3.map(function(t4) {
      return "\n        <tr>\n          ".concat(t4.map(function(t5) {
        return '\n              <td\n              class="datepicker-cell datepicker-small-cell datepicker-day-cell\n              '.concat(t5.currentMonth ? "" : "disabled", " ").concat(t5.disabled ? "disabled" : "", "\n              ").concat(t5.isToday && "current", " ").concat(t5.isSelected && "selected", '"\n              data-mdb-date="').concat(C(t5.date), "-").concat(k(t5.date), "-").concat(O(t5.date), '"\n              aria-label="').concat(t5.date, '"\n              aria-selected="').concat(t5.isSelected, '">\n                <div\n                  class="datepicker-cell-content datepicker-small-cell-content"\n                  style="').concat(t5.currentMonth ? "display: block" : "display: none", '">\n                  ').concat(t5.dayNumber, "\n                  </div>\n              </td>\n            ");
      }).join(""), "\n        </tr>\n      ");
    }).join("");
    return '\n      <table class="datepicker-table">\n        <thead>\n          '.concat(e3, '\n        </thead>\n        <tbody class="datepicker-table-body">\n         ').concat(t3, "\n        </tbody>\n      </table>\n    ");
  }
  function os(n3, r3, o2, i3, t3) {
    var t3 = function(t4, e3) {
      for (var n4 = [], r4 = [], o3 = 0; o3 < t4.monthsShort.length; o3++) {
        var i4;
        r4.push(t4.monthsShort[o3]), r4.length === e3 && (i4 = r4, n4.push(i4), r4 = []);
      }
      return n4;
    }(i3, t3), a3 = k(Xc()), t3 = "\n      ".concat(t3.map(function(t4) {
      return "\n          <tr>\n            ".concat(t4.map(function(t5) {
        var e3 = i3.monthsShort.indexOf(t5);
        return '\n                <td class="datepicker-cell datepicker-large-cell datepicker-month-cell '.concat(e3 === o2 && n3 === r3 ? "selected" : "", " ").concat(e3 === a3 ? "current" : "", '" data-mdb-month="').concat(e3, '" data-mdb-year="').concat(n3, '" aria-label="').concat(t5, ", ").concat(n3, '">\n                  <div class="datepicker-cell-content datepicker-large-cell-content">').concat(t5, "</div>\n                </td>\n              ");
      }).join(""), "\n          </tr>\n        ");
    }).join(""), "\n    ");
    return '\n      <table class="datepicker-table">\n        <tbody class="datepicker-table-body">\n         '.concat(t3, "\n        </tbody>\n      </table>\n    ");
  }
  function is(t3, e3, n3, r3, o2) {
    var t3 = function(t4, e4, n4) {
      for (var r4 = [], o3 = C(t4), t4 = ts(t4, e4), i4 = o3 - t4, a3 = [], c3 = 0; c3 < e4; c3++) {
        var s3;
        a3.push(i4 + c3), a3.length === n4 && (s3 = a3, r4.push(s3), a3 = []);
      }
      return r4;
    }(t3, r3, o2), i3 = C(Xc()), r3 = "\n    ".concat(t3.map(function(t4) {
      return "\n        <tr>\n          ".concat(t4.map(function(t5) {
        return '\n              <td class="datepicker-cell datepicker-large-cell datepicker-year-cell '.concat(t5 === e3 ? "selected" : "", " ").concat(t5 === i3 ? "current" : "", '" aria-label="').concat(t5, '" data-mdb-year="').concat(t5, '">\n                <div class="datepicker-cell-content datepicker-large-cell-content">').concat(t5, "</div>\n              </td>\n            ");
      }).join(""), "\n        </tr>\n      ");
    }).join(""), "\n  ");
    return '\n      <table class="datepicker-table">\n        <tbody class="datepicker-table-body">\n        '.concat(r3, "\n        </tbody>\n      </table>\n    ");
  }
  function as(t3) {
    return (as = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function cs(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function ss(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? cs(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : cs(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function us(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  var ls = "datepicker", fs = "mdb.datepicker", ds = ".".concat(fs), ps = "close".concat(ds), hs = "open".concat(ds), vs = "dateChange".concat(ds), ys = "click".concat(ds).concat(".data-api"), ms = { title: "Select date", monthsFull: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], weekdaysFull: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], weekdaysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], weekdaysNarrow: ["S", "M", "T", "W", "T", "F", "S"], okBtnText: "Ok", clearBtnText: "Clear", cancelBtnText: "Cancel", okBtnLabel: "Confirm selection", clearBtnLabel: "Clear selection", cancelBtnLabel: "Cancel selection", nextMonthLabel: "Next month", prevMonthLabel: "Previous month", nextYearLabel: "Next year", prevYearLabel: "Previous year", nextMultiYearLabel: "Next 24 years", prevMultiYearLabel: "Previous 24 years", switchToMultiYearViewLabel: "Choose year and month", switchToMonthViewLabel: "Choose date", switchToDayViewLabel: "Choose date", startDate: null, startDay: 0, format: "dd/mm/yyyy", view: "days", toggleButton: true, disableToggleButton: false, disableInput: false }, gs = { title: "string", monthsFull: "array", monthsShort: "array", weekdaysFull: "array", weekdaysShort: "array", weekdaysNarrow: "array", okBtnText: "string", clearBtnText: "string", cancelBtnText: "string", okBtnLabel: "string", clearBtnLabel: "string", cancelBtnLabel: "string", nextMonthLabel: "string", prevMonthLabel: "string", nextYearLabel: "string", prevYearLabel: "string", nextMultiYearLabel: "string", prevMultiYearLabel: "string", switchToMultiYearViewLabel: "string", switchToMonthViewLabel: "string", switchToDayViewLabel: "string", startDate: "(null|string|date)", startDay: "number", format: "string", view: "string", toggleButton: "boolean", disableToggleButton: "boolean", disableInput: "boolean" }, bs = function() {
    function n3(t4, e4) {
      if (!(this instanceof n3))
        throw new TypeError("Cannot call a class as a function");
      this._element = t4, this._input = x.findOne("input", this._element), this._options = this._getConfig(e4), this._activeDate = new Date(), this._selectedDate = null, this._selectedYear = null, this._selectedMonth = null, this._view = this._options.view, this._popper = null, this._focusTrap = null, this._isOpen = false, this._toggleButtonId = Ra("datepicker-toggle-"), this._element && v.setData(t4, fs, this), this._init(), this.toggleButton && this._options.disableToggle && (this.toggleButton.disabled = "true"), this._options.disableInput && (this._input.disabled = "true");
    }
    var t3, e3, r3;
    return t3 = n3, r3 = [{ key: "NAME", get: function() {
      return ls;
    } }, { key: "getInstance", value: function(t4) {
      return v.getData(t4, fs);
    } }, { key: "getOrCreateInstance", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
      return this.getInstance(t4) || new this(t4, "object" === as(e4) ? e4 : null);
    } }], (e3 = [{ key: "container", get: function() {
      return x.findOne(".datepicker-modal-container".concat("-", this._toggleButtonId)) || x.findOne(".datepicker-dropdown-container".concat("-", this._toggleButtonId));
    } }, { key: "options", get: function() {
      return this._options;
    } }, { key: "activeCell", get: function() {
      var t4;
      return "days" === this._view && (t4 = this._getActiveDayCell()), "months" === this._view && (t4 = this._getActiveMonthCell()), t4 = "years" === this._view ? this._getActiveYearCell() : t4;
    } }, { key: "activeDay", get: function() {
      return O(this._activeDate);
    } }, { key: "activeMonth", get: function() {
      return k(this._activeDate);
    } }, { key: "activeYear", get: function() {
      return C(this._activeDate);
    } }, { key: "firstYearInView", get: function() {
      return this.activeYear - ts(this._activeDate, 24);
    } }, { key: "lastYearInView", get: function() {
      return this.firstYearInView + 24 - 1;
    } }, { key: "viewChangeButton", get: function() {
      return x.findOne(".datepicker-view-change-button", this.container);
    } }, { key: "previousButton", get: function() {
      return x.findOne(".datepicker-previous-button", this.container);
    } }, { key: "nextButton", get: function() {
      return x.findOne(".datepicker-next-button", this.container);
    } }, { key: "okButton", get: function() {
      return x.findOne(".datepicker-ok-btn", this.container);
    } }, { key: "cancelButton", get: function() {
      return x.findOne(".datepicker-cancel-btn", this.container);
    } }, { key: "clearButton", get: function() {
      return x.findOne(".datepicker-clear-btn", this.container);
    } }, { key: "datesContainer", get: function() {
      return x.findOne(".datepicker-view", this.container);
    } }, { key: "toggleButton", get: function() {
      return x.findOne(".datepicker-toggle-button", this._element);
    } }, { key: "_getConfig", value: function(t4) {
      var e4 = S.getDataAttributes(this._element);
      return t4 = ss(ss(ss({}, ms), e4), t4), Ba(ls, t4, gs), t4.startDay && 0 !== t4.startDay && (e4 = this._getNewDaysOrderArray(t4), t4.weekdaysNarrow = e4), t4;
    } }, { key: "_getNewDaysOrderArray", value: function(t4) {
      var e4 = t4.startDay, t4 = t4.weekdaysNarrow;
      return t4.slice(e4).concat(t4.slice(0, e4));
    } }, { key: "_init", value: function() {
      !this.toggleButton && this._options.toggleButton && (this._appendToggleButton(), (this._input.readOnly || this._input.disabled) && (this.toggleButton.style.pointerEvents = "none")), this._listenToUserInput(), this._listenToToggleClick(), this._listenToToggleKeydown();
    } }, { key: "_appendToggleButton", value: function() {
      var t4 = '\n    <button id="'.concat(this._toggleButtonId, '" type="button" class="datepicker-toggle-button" data-mdb-toggle="datepicker">\n      <i class="far fa-calendar datepicker-toggle-icon"></i>\n    </button>\n  ');
      this._element.insertAdjacentHTML("beforeend", t4), S.addClass(this._input, "form-icon-trailing");
    } }, { key: "open", value: function() {
      var t4, e4, n4 = this;
      this._input.readOnly || this._input.disabled || (t4 = _.trigger(this._element, hs), this._isOpen || t4.defaultPrevented || (this._setInitialDate(), t4 = Va("div"), S.addClass(t4, "datepicker-backdrop"), t4 = t4, e4 = ns(this._activeDate, this._selectedDate, this._selectedYear, this._selectedMonth, this._options, 4, 24, 24, this._toggleButtonId), this._openModal(t4, e4), S.addClass(this.container, "animation"), S.addClass(this.container, "fade-in"), this.container.style.animationDuration = "300ms", S.addClass(t4, "animation"), S.addClass(t4, "fade-in"), t4.style.animationDuration = "150ms", this._setFocusTrap(this.container), this._listenToDateSelection(), this._addControlsListeners(), this._listenToEscapeClick(), this._listenToKeyboardNavigation(), this._listenToDatesContainerFocus(), this._listenToDatesContainerBlur(), this._asyncFocusDatesContainer(), this._updateViewControlsAndAttributes(this._view), this._isOpen = true, setTimeout(function() {
        n4._listenToOutsideClick();
      }, 0)));
    } }, { key: "_openDropdown", value: function(t4) {
      this._popper = en(this._input, t4, { placement: "bottom-start" }), document.body.appendChild(t4);
    } }, { key: "_openModal", value: function(t4, e4) {
      document.body.appendChild(t4), document.body.appendChild(e4);
      window.innerWidth > document.documentElement.clientWidth && (document.body.style.overflow = "hidden", document.body.style.paddingRight = "15px");
    } }, { key: "_setFocusTrap", value: function(t4) {
      this._focusTrap = new qc(t4, { event: "keydown", condition: function(t5) {
        return "Tab" === t5.key;
      } }), this._focusTrap.trap();
    } }, { key: "_listenToUserInput", value: function() {
      var e4 = this;
      _.on(this._input, "input", function(t4) {
        e4._handleUserInput(t4.target.value);
      });
    } }, { key: "_listenToToggleClick", value: function() {
      var e4 = this;
      _.on(this._element, ys, '[data-mdb-toggle="datepicker"]', function(t4) {
        t4.preventDefault(), e4.open();
      });
    } }, { key: "_listenToToggleKeydown", value: function() {
      var e4 = this;
      _.on(this._element, "keydown", '[data-mdb-toggle="datepicker"]', function(t4) {
        13 !== t4.keyCode || e4._isOpen || e4.open();
      });
    } }, { key: "_listenToDateSelection", value: function() {
      var r4 = this;
      _.on(this.datesContainer, "click", function(t4) {
        var e4, n4 = ("DIV" === t4.target.nodeName ? t4.target.parentNode : t4.target).dataset, t4 = "DIV" === t4.target.nodeName ? t4.target.parentNode : t4.target;
        n4.mdbDate && r4._pickDay(n4.mdbDate, t4), n4.mdbMonth && n4.mdbYear && (t4 = parseInt(n4.mdbMonth, 10), e4 = parseInt(n4.mdbYear, 10), r4._pickMonth(t4, e4)), n4.mdbYear && !n4.mdbMonth && (t4 = parseInt(n4.mdbYear, 10), r4._pickYear(t4)), r4._updateHeaderDate(r4._activeDate, r4._options.monthsShort, r4._options.weekdaysShort);
      });
    } }, { key: "_updateHeaderDate", value: function(t4, e4, n4) {
      var r4 = x.findOne(".datepicker-date-text", this.container), o2 = k(t4), i3 = O(t4), t4 = Kc(t4);
      r4.innerHTML = "".concat(n4[t4], ", ").concat(e4[o2], " ").concat(i3);
    } }, { key: "_addControlsListeners", value: function() {
      var t4 = this;
      _.on(this.nextButton, "click", function() {
        "days" === t4._view ? t4.nextMonth() : "years" === t4._view ? t4.nextYears() : t4.nextYear();
      }), _.on(this.previousButton, "click", function() {
        "days" === t4._view ? t4.previousMonth() : "years" === t4._view ? t4.previousYears() : t4.previousYear();
      }), _.on(this.viewChangeButton, "click", function() {
        "days" === t4._view ? t4._changeView("years") : "years" !== t4._view && "months" !== t4._view || t4._changeView("days");
      }), this._listenToFooterButtonsClick();
    } }, { key: "_listenToFooterButtonsClick", value: function() {
      var t4 = this;
      _.on(this.okButton, "click", function() {
        return t4.handleOk();
      }), _.on(this.cancelButton, "click", function() {
        return t4.handleCancel();
      }), _.on(this.clearButton, "click", function() {
        return t4.handleClear();
      });
    } }, { key: "_listenToOutsideClick", value: function() {
      var n4 = this;
      _.on(document, ys, function(t4) {
        var e4 = t4.target === n4.container, t4 = n4.container && n4.container.contains(t4.target);
        e4 || t4 || n4.close();
      });
    } }, { key: "_listenToEscapeClick", value: function() {
      var e4 = this;
      _.on(document, "keydown", function(t4) {
        27 === t4.keyCode && e4._isOpen && e4.close();
      });
    } }, { key: "_listenToKeyboardNavigation", value: function() {
      var e4 = this;
      _.on(this.datesContainer, "keydown", function(t4) {
        e4._handleKeydown(t4);
      });
    } }, { key: "_listenToDatesContainerFocus", value: function() {
      var t4 = this;
      _.on(this.datesContainer, "focus", function() {
        t4._focusActiveCell(t4.activeCell);
      });
    } }, { key: "_listenToDatesContainerBlur", value: function() {
      var t4 = this;
      _.on(this.datesContainer, "blur", function() {
        t4._removeCurrentFocusStyles();
      });
    } }, { key: "_handleKeydown", value: function(t4) {
      "days" === this._view && this._handleDaysViewKeydown(t4), "months" === this._view && this._handleMonthsViewKeydown(t4), "years" === this._view && this._handleYearsViewKeydown(t4);
    } }, { key: "_handleDaysViewKeydown", value: function(t4) {
      var e4 = this._activeDate, n4 = this.activeCell;
      switch (t4.keyCode) {
        case 37:
          this._activeDate = Gc(this._activeDate, -1);
          break;
        case 39:
          this._activeDate = Gc(this._activeDate, 1);
          break;
        case 38:
          this._activeDate = Gc(this._activeDate, -7);
          break;
        case 40:
          this._activeDate = Gc(this._activeDate, 7);
          break;
        case 36:
          this._activeDate = Gc(this._activeDate, 1 - O(this._activeDate));
          break;
        case 35:
          this._activeDate = Gc(this._activeDate, $c(this._activeDate) - O(this._activeDate));
          break;
        case 33:
          this._activeDate = D(this._activeDate, -1);
          break;
        case 34:
          this._activeDate = D(this._activeDate, 1);
          break;
        case 13:
        case 32:
          return this._selectDate(this._activeDate), void t4.preventDefault();
        default:
          return;
      }
      es(e4, this._activeDate, this._view, 24, 0) || this._changeView("days"), this._removeHighlightFromCell(n4), this._focusActiveCell(this.activeCell), t4.preventDefault();
    } }, { key: "_asyncFocusDatesContainer", value: function() {
      var t4 = this;
      setTimeout(function() {
        t4.datesContainer.focus();
      }, 0);
    } }, { key: "_focusActiveCell", value: function(t4) {
      t4 && S.addClass(t4, "focused");
    } }, { key: "_removeHighlightFromCell", value: function(t4) {
      t4 && t4.classList.remove("focused");
    } }, { key: "_getActiveDayCell", value: function() {
      var e4 = this, t4 = x.find("td", this.datesContainer);
      return Array.from(t4).find(function(t5) {
        return Jc(Zc(t5.dataset.mdbDate), e4._activeDate);
      });
    } }, { key: "_handleMonthsViewKeydown", value: function(t4) {
      var e4 = this._activeDate, n4 = this.activeCell;
      switch (t4.keyCode) {
        case 37:
          this._activeDate = D(this._activeDate, -1);
          break;
        case 39:
          this._activeDate = D(this._activeDate, 1);
          break;
        case 38:
          this._activeDate = D(this._activeDate, -4);
          break;
        case 40:
          this._activeDate = D(this._activeDate, 4);
          break;
        case 36:
          this._activeDate = D(this._activeDate, -this.activeMonth);
          break;
        case 35:
          this._activeDate = D(this._activeDate, 11 - this.activeMonth);
          break;
        case 33:
          this._activeDate = y(this._activeDate, -1);
          break;
        case 34:
          this._activeDate = y(this._activeDate, 1);
          break;
        case 13:
        case 32:
          return void this._selectMonth(this.activeMonth);
        default:
          return;
      }
      es(e4, this._activeDate, this._view, 24, 0) || this._changeView("months"), this._removeHighlightFromCell(n4), this._focusActiveCell(this.activeCell), t4.preventDefault();
    } }, { key: "_getActiveMonthCell", value: function() {
      var n4 = this, t4 = x.find("td", this.datesContainer);
      return Array.from(t4).find(function(t5) {
        var e4 = parseInt(t5.dataset.mdbYear, 10), t5 = parseInt(t5.dataset.mdbMonth, 10);
        return e4 === n4.activeYear && t5 === n4.activeMonth;
      });
    } }, { key: "_handleYearsViewKeydown", value: function(t4) {
      var e4 = this._activeDate, n4 = this.activeCell;
      switch (t4.keyCode) {
        case 37:
          this._activeDate = y(this._activeDate, -1);
          break;
        case 39:
          this._activeDate = y(this._activeDate, 1);
          break;
        case 38:
          this._activeDate = y(this._activeDate, -4);
          break;
        case 40:
          this._activeDate = y(this._activeDate, 4);
          break;
        case 36:
          this._activeDate = y(this._activeDate, -ts(this._activeDate, 24));
          break;
        case 35:
          this._activeDate = y(this._activeDate, 24 - ts(this._activeDate, 24) - 1);
          break;
        case 33:
          this._activeDate = y(this._activeDate, -24);
          break;
        case 34:
          this._activeDate = y(this._activeDate, 24);
          break;
        case 13:
        case 32:
          return void this._selectYear(this.activeYear);
        default:
          return;
      }
      es(e4, this._activeDate, this._view, 24, 0) || this._changeView("years"), this._removeHighlightFromCell(n4), this._focusActiveCell(this.activeCell), t4.preventDefault();
    } }, { key: "_getActiveYearCell", value: function() {
      var e4 = this, t4 = x.find("td", this.datesContainer);
      return Array.from(t4).find(function(t5) {
        return parseInt(t5.dataset.mdbYear, 10) === e4.activeYear;
      });
    } }, { key: "_setInitialDate", value: function() {
      this._input.value ? this._handleUserInput(this._input.value) : this._options.startDate ? this._activeDate = new Date(this._options.startDate) : this._activeDate = new Date();
    } }, { key: "close", value: function() {
      var t4 = _.trigger(this._element, ps);
      this._isOpen && !t4.defaultPrevented && (this._removeDatepickerListeners(), S.addClass(this.container, "animation"), S.addClass(this.container, "fade-out"), this._closeModal(), this._isOpen = false, this._view = this._options.view, (this.toggleButton || this._input).focus());
    } }, { key: "_closeDropdown", value: function() {
      var t4 = this, e4 = x.findOne(".datepicker-dropdown-container");
      e4.addEventListener("animationend", function() {
        e4 && document.body.removeChild(e4), t4._popper && t4._popper.destroy();
      }), this._removeFocusTrap();
    } }, { key: "_closeModal", value: function() {
      var t4 = x.findOne(".datepicker-backdrop"), e4 = x.findOne(".datepicker-modal-container");
      S.addClass(t4, "animation"), S.addClass(t4, "fade-out"), e4 && t4 && t4.addEventListener("animationend", function() {
        document.body.removeChild(t4), document.body.removeChild(e4), document.body.style.overflow = "", document.body.style.paddingRight = "";
      });
    } }, { key: "_removeFocusTrap", value: function() {
      this._focusTrap && (this._focusTrap.disable(), this._focusTrap = null);
    } }, { key: "_removeDatepickerListeners", value: function() {
      _.off(this.nextButton, "click"), _.off(this.previousButton, "click"), _.off(this.viewChangeButton, "click"), _.off(this.okButton, "click"), _.off(this.cancelButton, "click"), _.off(this.clearButton, "click"), _.off(this.datesContainer, "click"), _.off(this.datesContainer, "keydown"), _.off(this.datesContainer, "focus"), _.off(this.datesContainer, "blur"), _.off(document, ys);
    } }, { key: "dispose", value: function() {
      this._isOpen && this.close(), this._removeInputAndToggleListeners();
      var t4 = x.findOne("#".concat(this._toggleButtonId));
      t4 && this._element.removeChild(t4), v.removeData(this._element, fs), this._element = null, this._input = null, this._options = null, this._activeDate = null, this._selectedDate = null, this._selectedYear = null, this._selectedMonth = null, this._view = null, this._popper = null, this._focusTrap = null;
    } }, { key: "_removeInputAndToggleListeners", value: function() {
      _.off(this._input, "input"), _.off(this._element, ys, '[data-mdb-toggle="datepicker"]'), _.off(this._element, "keydown", '[data-mdb-toggle="datepicker"]');
    } }, { key: "handleOk", value: function() {
      this._confirmSelection(this._selectedDate), this.close();
    } }, { key: "_selectDate", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : this.activeCell;
      this._removeCurrentSelectionStyles(), this._removeCurrentFocusStyles(), this._addSelectedStyles(e4), this._selectedDate = t4;
    } }, { key: "_selectYear", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : this.activeCell;
      this._removeCurrentSelectionStyles(), this._removeCurrentFocusStyles(), this._addSelectedStyles(e4), this._selectedYear = t4, this._asyncChangeView("months");
    } }, { key: "_selectMonth", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : this.activeCell;
      this._removeCurrentSelectionStyles(), this._removeCurrentFocusStyles(), this._addSelectedStyles(e4), this._selectedMonth = t4, this._asyncChangeView("days");
    } }, { key: "_removeSelectedStyles", value: function(t4) {
      t4 && t4.classList.remove("selected");
    } }, { key: "_addSelectedStyles", value: function(t4) {
      t4 && S.addClass(t4, "selected");
    } }, { key: "_confirmSelection", value: function(t4) {
      var e4;
      t4 && (e4 = this.formatDate(t4), this._input.value = e4, S.addClass(this._input, "active"), _.trigger(this._element, vs, { date: t4 }));
    } }, { key: "handleCancel", value: function() {
      this._selectedDate = null, this._selectedYear = null, this._selectedMonth = null, this.close();
    } }, { key: "handleClear", value: function() {
      this._selectedDate = null, this._selectedMonth = null, this._selectedYear = null, this._removeCurrentSelectionStyles(), this._input.value = "", this._input.classList.remove("active"), this._setInitialDate(), this._changeView("days");
    } }, { key: "_removeCurrentSelectionStyles", value: function() {
      var t4 = x.findOne(".selected", this.container);
      t4 && t4.classList.remove("selected");
    } }, { key: "_removeCurrentFocusStyles", value: function() {
      var t4 = x.findOne(".focused", this.container);
      t4 && t4.classList.remove("focused");
    } }, { key: "formatDate", value: function(t4) {
      var e4 = O(t4), n4 = this._addLeadingZero(O(t4)), r4 = this._options.weekdaysShort[Kc(t4)], o2 = this._options.weekdaysFull[Kc(t4)], i3 = k(t4) + 1, a3 = this._addLeadingZero(k(t4) + 1), c3 = this._options.monthsShort[k(t4)], s3 = this._options.monthsFull[k(t4)], u2 = 2 === C(t4).toString().length ? C(t4) : C(t4).toString().slice(2, 4), l3 = C(t4), t4 = this._options.format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g), f2 = "";
      return t4.forEach(function(t5) {
        switch (t5) {
          case "dddd":
            t5 = t5.replace(t5, o2);
            break;
          case "ddd":
            t5 = t5.replace(t5, r4);
            break;
          case "dd":
            t5 = t5.replace(t5, n4);
            break;
          case "d":
            t5 = t5.replace(t5, e4);
            break;
          case "mmmm":
            t5 = t5.replace(t5, s3);
            break;
          case "mmm":
            t5 = t5.replace(t5, c3);
            break;
          case "mm":
            t5 = t5.replace(t5, a3);
            break;
          case "m":
            t5 = t5.replace(t5, i3);
            break;
          case "yyyy":
            t5 = t5.replace(t5, l3);
            break;
          case "yy":
            t5 = t5.replace(t5, u2);
        }
        f2 += t5;
      }), f2;
    } }, { key: "_addLeadingZero", value: function(t4) {
      return parseInt(t4, 10) < 10 ? "0".concat(t4) : t4;
    } }, { key: "_pickDay", value: function(t4, e4) {
      t4 = Zc(t4);
      this._activeDate = t4, this._selectDate(t4, e4);
    } }, { key: "_pickYear", value: function(t4) {
      var e4 = Qc(t4, this.activeMonth, this.activeDay);
      this._activeDate = e4, this._selectedDate = e4, this._selectYear(t4);
    } }, { key: "_pickMonth", value: function(t4, e4) {
      e4 = Qc(e4, t4, this.activeDay);
      this._activeDate = e4, this._selectMonth(t4);
    } }, { key: "nextMonth", value: function() {
      var t4, e4 = rs(t4 = D(this._activeDate, 1), this._selectedDate, this._options);
      this._activeDate = t4, this.viewChangeButton.textContent = "".concat(this._options.monthsFull[this.activeMonth], " ").concat(this.activeYear), this.datesContainer.innerHTML = e4;
    } }, { key: "previousMonth", value: function() {
      var t4 = D(this._activeDate, -1), t4 = rs(this._activeDate = t4, this._selectedDate, this._options);
      this.viewChangeButton.textContent = "".concat(this._options.monthsFull[this.activeMonth], " ").concat(this.activeYear), this.datesContainer.innerHTML = t4;
    } }, { key: "nextYear", value: function() {
      var t4 = y(this._activeDate, 1), t4 = (this._activeDate = t4, this.viewChangeButton.textContent = "".concat(this.activeYear), os(this.activeYear, this._selectedYear, this._selectedMonth, this._options, 4));
      this.datesContainer.innerHTML = t4;
    } }, { key: "previousYear", value: function() {
      var t4 = y(this._activeDate, -1), t4 = (this._activeDate = t4, this.viewChangeButton.textContent = "".concat(this.activeYear), os(this.activeYear, this._selectedYear, this._selectedMonth, this._options, 4));
      this.datesContainer.innerHTML = t4;
    } }, { key: "nextYears", value: function() {
      var t4 = y(this._activeDate, 24), t4 = is(this._activeDate = t4, this._selectedYear, this._options, 24, 4);
      this.viewChangeButton.textContent = "".concat(this.firstYearInView, " - ").concat(this.lastYearInView), this.datesContainer.innerHTML = t4;
    } }, { key: "previousYears", value: function() {
      var t4 = y(this._activeDate, -24), t4 = is(this._activeDate = t4, this._selectedYear, this._options, 24, 4);
      this.viewChangeButton.textContent = "".concat(this.firstYearInView, " - ").concat(this.lastYearInView), this.datesContainer.innerHTML = t4;
    } }, { key: "_asyncChangeView", value: function(t4) {
      var e4 = this;
      setTimeout(function() {
        e4._changeView(t4);
      }, 0);
    } }, { key: "_changeView", value: function(t4) {
      this._view = t4, this.datesContainer.blur(), "days" === t4 && (this.datesContainer.innerHTML = rs(this._activeDate, this._selectedDate, this._options)), "months" === t4 && (this.datesContainer.innerHTML = os(this.activeYear, this._selectedYear, this._selectedMonth, this._options, 4)), "years" === t4 && (this.datesContainer.innerHTML = is(this._activeDate, this._selectedYear, this._options, 24, 4)), this.datesContainer.focus(), this._updateViewControlsAndAttributes(t4);
    } }, { key: "_updateViewControlsAndAttributes", value: function(t4) {
      "days" === t4 && (this.viewChangeButton.textContent = "".concat(this._options.monthsFull[this.activeMonth], " ").concat(this.activeYear), this.viewChangeButton.setAttribute("aria-label", this._options.switchToMultiYearViewLabel), this.previousButton.setAttribute("aria-label", this._options.prevMonthLabel), this.nextButton.setAttribute("aria-label", this._options.nextMonthLabel)), "months" === t4 && (this.viewChangeButton.textContent = "".concat(this.activeYear), this.viewChangeButton.setAttribute("aria-label", this._options.switchToDayViewLabel), this.previousButton.setAttribute("aria-label", this._options.prevYearLabel), this.nextButton.setAttribute("aria-label", this._options.nextYearLabel)), "years" === t4 && (this.viewChangeButton.textContent = "".concat(this.firstYearInView, " - ").concat(this.lastYearInView), this.viewChangeButton.setAttribute("aria-label", this._options.switchToMonthViewLabel), this.previousButton.setAttribute("aria-label", this._options.prevMultiYearLabel), this.nextButton.setAttribute("aria-label", this._options.nextMultiYearLabel));
    } }, { key: "_handleUserInput", value: function(t4) {
      var e4 = this._getDelimeters(this._options.format), t4 = this._parseDate(t4, this._options.format, e4);
      Number.isNaN(t4.getTime()) ? (this._activeDate = new Date(), this._selectedDate = null, this._selectedMonth = null, this._selectedYear = null) : (this._activeDate = t4, this._selectedDate = t4);
    } }, { key: "_getDelimeters", value: function(t4) {
      return t4.match(/[^(dmy)]{1,}/g);
    } }, { key: "_parseDate", value: function(t4, e4, n4) {
      for (var n4 = n4[0] !== n4[1] ? n4[0] + n4[1] : n4[0], n4 = new RegExp("[".concat(n4, "]")), r4 = t4.split(n4), o2 = e4.split(n4), t4 = -1 !== e4.indexOf("mmm"), i3 = [], a3 = 0; a3 < o2.length; a3++)
        -1 !== o2[a3].indexOf("yy") && (i3[0] = { value: r4[a3], format: o2[a3] }), -1 !== o2[a3].indexOf("m") && (i3[1] = { value: r4[a3], format: o2[a3] }), -1 !== o2[a3].indexOf("d") && o2[a3].length <= 2 && (i3[2] = { value: r4[a3], format: o2[a3] });
      n4 = -1 !== e4.indexOf("mmmm") ? this._options.monthsFull : this._options.monthsShort;
      return Qc(Number(i3[0].value), t4 ? this.getMonthNumberByMonthName(i3[1].value, n4) : Number(i3[1].value) - 1, Number(i3[2].value));
    } }, { key: "getMonthNumberByMonthName", value: function(e4, t4) {
      return t4.findIndex(function(t5) {
        return t5 === e4;
      });
    } }]) && us(t3.prototype, e3), r3 && us(t3, r3), Object.defineProperty(t3, "prototype", { writable: false }), n3;
  }(), ds = bs;
  x.find(".datepicker").forEach(function(t3) {
    var e3 = bs.getInstance(t3);
    e3 || new bs(t3);
  }), t2(189), t2(191);
  function _s(t3, e3) {
    return function(t4) {
      if (Array.isArray(t4))
        return t4;
    }(t3) || function(t4, e4) {
      var n3 = null == t4 ? null : "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
      if (null != n3) {
        var r3, o2, i3 = [], a3 = true, c3 = false;
        try {
          for (n3 = n3.call(t4); !(a3 = (r3 = n3.next()).done) && (i3.push(r3.value), !e4 || i3.length !== e4); a3 = true)
            ;
        } catch (t5) {
          c3 = true, o2 = t5;
        } finally {
          try {
            a3 || null == n3.return || n3.return();
          } finally {
            if (c3)
              throw o2;
          }
        }
        return i3;
      }
    }(t3, e3) || function(t4, e4) {
      if (t4) {
        if ("string" == typeof t4)
          return ws(t4, e4);
        var n3 = Object.prototype.toString.call(t4).slice(8, -1);
        return "Map" === (n3 = "Object" === n3 && t4.constructor ? t4.constructor.name : n3) || "Set" === n3 ? Array.from(t4) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? ws(t4, e4) : void 0;
      }
    }(t3, e3) || function() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function ws(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  function Os(t3, e3) {
    var n3 = t3.clientX, r3 = t3.clientY, t3 = t3.touches, o2 = 2 < arguments.length && void 0 !== arguments[2] && arguments[2], e3 = e3.getBoundingClientRect(), i3 = e3.left, e3 = e3.top, a3 = {};
    return o2 && t3 ? o2 && 0 < Object.keys(t3).length && (a3 = { x: t3[0].clientX - i3, y: t3[0].clientY - e3 }) : a3 = { x: n3 - i3, y: r3 - e3 }, a3;
  }
  function ks() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  }
  var Cs = function(t3) {
    return t3 && "[object Date]" === Object.prototype.toString.call(t3) && !isNaN(t3);
  }, P = function(t3) {
    t3 = (!(1 < arguments.length && void 0 !== arguments[1]) || arguments[1] ? t3.value : t3).replace(/:/gi, " ");
    return t3.split(" ");
  };
  function Ss(t3) {
    return (Ss = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function xs(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function Es(e3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var n3 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? xs(Object(n3), true).forEach(function(t4) {
        Ms(e3, t4, n3[t4]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(n3)) : xs(Object(n3)).forEach(function(t4) {
        Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(n3, t4));
      });
    }
    return e3;
  }
  function js(t3, e3) {
    return function(t4) {
      if (Array.isArray(t4))
        return t4;
    }(t3) || function(t4, e4) {
      var n3 = null == t4 ? null : "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
      if (null != n3) {
        var r3, o2, i3 = [], a3 = true, c3 = false;
        try {
          for (n3 = n3.call(t4); !(a3 = (r3 = n3.next()).done) && (i3.push(r3.value), !e4 || i3.length !== e4); a3 = true)
            ;
        } catch (t5) {
          c3 = true, o2 = t5;
        } finally {
          try {
            a3 || null == n3.return || n3.return();
          } finally {
            if (c3)
              throw o2;
          }
        }
        return i3;
      }
    }(t3, e3) || As(t3, e3) || function() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function Ts(t3) {
    return function(t4) {
      if (Array.isArray(t4))
        return Ds(t4);
    }(t3) || function(t4) {
      if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"])
        return Array.from(t4);
    }(t3) || As(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }();
  }
  function As(t3, e3) {
    if (t3) {
      if ("string" == typeof t3)
        return Ds(t3, e3);
      var n3 = Object.prototype.toString.call(t3).slice(8, -1);
      return "Map" === (n3 = "Object" === n3 && t3.constructor ? t3.constructor.name : n3) || "Set" === n3 ? Array.from(t3) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? Ds(t3, e3) : void 0;
    }
  }
  function Ds(t3, e3) {
    (null == e3 || e3 > t3.length) && (e3 = t3.length);
    for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++)
      r3[n3] = t3[n3];
    return r3;
  }
  function Ps(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  function Ms(t3, e3, n3) {
    e3 in t3 ? Object.defineProperty(t3, e3, { value: n3, enumerable: true, configurable: true, writable: true }) : t3[e3] = n3;
  }
  var m = "timepicker", Is = "mdb.".concat(m), M = "active", Ls = "".concat(m, "-am"), Ns = "".concat(m, "-cancel"), Rs = "".concat(m, "-clear"), Bs = "".concat(m, "-submit"), Hs = "".concat(m, "-circle"), Fs = "".concat(m, "-clock-animation"), Vs = "".concat(m, "-clock"), Ys = "".concat(m, "-clock-inner"), Ws = "".concat(m, "-clock-wrapper"), zs = ".".concat(m, "-current"), Us = "".concat(m, "-current-inline"), qs = "".concat(m, "-hand-pointer"), Ks = "".concat(m, "-hour"), $s = "".concat(m, "-hour-mode"), Xs = "".concat(m, "-icon-down"), Gs = "".concat(m, "-icon-inline-hour"), Qs = "".concat(m, "-icon-inline-minute"), Zs = "".concat(m, "-icon-up"), Js = "".concat(m, "-inline-hour-icons"), tu = "".concat(m, "-middle-dot"), eu = "".concat(m, "-minute"), nu = "".concat(m, "-modal"), ru = "".concat(m, "-pm"), ou = "".concat(m, "-tips-element"), iu = "".concat(m, "-time-tips-hours"), au = "".concat(m, "-tips-inner-element"), cu = "".concat(m, "-time-tips-inner"), I = "".concat(m, "-time-tips-minutes"), su = "".concat(m, "-transform"), uu = "".concat(m, "-wrapper"), lu = "".concat(m, "-input"), fu = { appendValidationInfo: true, bodyID: "", cancelLabel: "Cancel", clearLabel: "Clear", closeModalOnBackdropClick: true, closeModalOnMinutesClick: false, defaultTime: "", disabled: false, focusInputAfterApprove: false, footerID: "", format12: true, headID: "", increment: false, invalidLabel: "Invalid Time Format", maxHour: "", minHour: "", maxTime: "", minTime: "", modalID: "", okLabel: "Ok", overflowHidden: true, pickerID: "", readOnly: false, showClearBtn: true, switchHoursToMinutesOnClick: true, iconClass: "far fa-clock fa-sm timepicker-icon", withIcon: true, pmLabel: "PM", amLabel: "AM" }, du = { appendValidationInfo: "boolean", bodyID: "string", cancelLabel: "string", clearLabel: "string", closeModalOnBackdropClick: "boolean", closeModalOnMinutesClick: "boolean", disabled: "boolean", footerID: "string", format12: "boolean", headID: "string", increment: "boolean", invalidLabel: "string", maxHour: "(string|number)", minHour: "(string|number)", modalID: "string", okLabel: "string", overflowHidden: "boolean", pickerID: "string", readOnly: "boolean", showClearBtn: "boolean", switchHoursToMinutesOnClick: "boolean", defaultTime: "(string|date|number)", iconClass: "string", withIcon: "boolean", pmLabel: "string", amLabel: "string" }, pu = function() {
    function o2(t4) {
      var C18 = this, e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this, r3 = o2;
      if (!(n4 instanceof r3))
        throw new TypeError("Cannot call a class as a function");
      Ms(this, "_toggleBackgroundColorCircle", function(t5) {
        null !== C18._modal.querySelector(".".concat(t5, ".").concat(M)) ? S.addStyle(C18._circle, { backgroundColor: "#1976d2" }) : S.addStyle(C18._circle, { backgroundColor: "transparent" });
      }), Ms(this, "_toggleClassActive", function(t5, e5, n5) {
        var r4 = e5.textContent, o3 = Ts(t5).find(function(t6) {
          return Number(t6) === Number(r4);
        });
        return n5.forEach(function(t6) {
          S.hasClass(t6, "disabled") || (t6.textContent === o3 ? S.addClass(t6, M) : S.removeClass(t6, M));
        });
      }), Ms(this, "_makeMinutesDegrees", function(t5, e5) {
        var n5 = C18._options.increment;
        return t5 = t5 < 0 ? (e5 = Math.round(360 + t5 / 6) % 60, 360 + 6 * Math.round(t5 / 6)) : (e5 = Math.round(t5 / 6) % 60, 6 * Math.round(t5 / 6)), n5 && (t5 = 30 * Math.round(t5 / 30), 60 === (e5 = 6 * Math.round(t5 / 6) / 6) && (e5 = "00")), { degrees: t5 = 360 <= t5 ? 0 : t5, minute: e5, addDegrees: n5 ? 30 : 6 };
      }), Ms(this, "_makeHourDegrees", function(t5, e5, n5) {
        var r4 = C18._options, o3 = r4.maxHour, r4 = r4.minHour;
        if (t5 && (S.hasClass(t5, Ys) || S.hasClass(t5, cu) || S.hasClass(t5, au) ? e5 < 0 ? (n5 = Math.round(360 + e5 / 30) % 24, e5 = 360 + e5) : 12 === (n5 = Math.round(e5 / 30) + 12) && (n5 = "00") : e5 < 0 ? (n5 = Math.round(360 + e5 / 30) % 12, e5 = 360 + e5) : (0 === (n5 = Math.round(e5 / 30) % 12) || 12 < n5) && (n5 = 12), 360 <= e5 && (e5 = 0), !("" !== o3 && n5 > Number(o3) || "" !== r4 && n5 < Number(r4))))
          return { degrees: e5, hour: n5, addDegrees: 30 };
      }), Ms(this, "_makeInnerHoursDegrees", function(t5, e5) {
        return t5 < 0 ? (e5 = Math.round(360 + t5 / 30) % 24, t5 = 360 + t5) : 12 === (e5 = Math.round(t5 / 30) + 12) && (e5 = "00"), { degrees: t5, hour: e5, addDegrees: 30 };
      }), Ms(this, "_getAppendClock", function() {
        var a3, c3, s3, u2 = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : [], t5 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : ".".concat(Vs), l3 = 2 < arguments.length ? arguments[2] : void 0, e5 = C18._options, f2 = e5.maxHour, d2 = e5.minHour, p3 = e5.minTime, h2 = e5.maxTime, n5 = e5.inline, e5 = e5.format12, r4 = js(P(h2, false), 3), v2 = r4[0], y2 = r4[1], m2 = r4[2], r4 = js(P(p3, false), 3), g2 = r4[0], b2 = r4[1], _2 = r4[2], w2 = (n5 || e5 && C18._isInvalidTimeFormat && !S.hasClass(C18._AM, "active") && S.addClass(C18._PM, "active"), x.findOne(".".concat($s, ".").concat(M))), O2 = x.findOne(t5), k2 = 360 / u2.length;
        null !== O2 && (a3 = (O2.offsetWidth - 32) / 2, c3 = (O2.offsetHeight - 32) / 2, s3 = a3 - 4, Ts(u2).forEach(function(t6, e6) {
          var e6 = e6 * k2 * (Math.PI / 180), n6 = Va("span"), r5 = Va("span"), o3 = (r5.innerHTML = t6, S.addClass(n6, l3), n6.offsetWidth), i3 = n6.offsetHeight;
          return S.addStyle(n6, { left: "".concat(a3 + Math.sin(e6) * s3 - o3, "px"), bottom: "".concat(c3 + Math.cos(e6) * s3 - i3, "px") }), u2.includes("05") && S.addClass(n6, "".concat(I)), u2.includes("13") ? r5.classList.add(au) : r5.classList.add(ou), S.hasClass(n6, "".concat(I)) ? S.hasClass(n6, "".concat(I)) && ("" !== h2 && Number(t6) > Number(y2) && Number(C18._hour.textContent) >= Number(v2) && S.addClass(n6, "disabled"), "" !== p3 && Number(t6) < Number(b2) && Number(C18._hour.textContent) <= Number(g2) && S.addClass(n6, "disabled"), "" !== h2 && void 0 !== m2 && ("PM" === m2 && "PM" === w2.textContent ? Number(t6) > Number(y2) && Number(C18._hour.textContent) >= Number(v2) && S.addClass(n6, "disabled") : "PM" === m2 && "AM" === w2.textContent && S.removeClass(n6, "disabled"), ("AM" === m2 && "PM" === w2.textContent || "AM" === m2 && "AM" === w2.textContent && Number(C18._hour.textContent) >= Number(v2) && Number(t6) > Number(y2)) && S.addClass(n6, "disabled")), "" !== p3 && void 0 !== _2 && ("PM" === _2 && "PM" === w2.textContent ? (Number(t6) < Number(b2) && Number(C18._hour.textContent) === Number(g2) || Number(C18._hour.textContent) < Number(g2)) && S.addClass(n6, "disabled") : "PM" === _2 && "AM" === w2.textContent && S.addClass(n6, "disabled"), "AM" === _2 && "PM" === w2.textContent ? S.removeClass(n6, "disabled") : "AM" === _2 && "AM" === w2.textContent && (Number(C18._hour.textContent) === Number(g2) && Number(t6) < Number(b2) || Number(C18._hour.textContent) < Number(g2)) && S.addClass(n6, "disabled"))) : ("" !== f2 && Number(t6) > Number(f2) && S.addClass(n6, "disabled"), "" !== d2 && Number(t6) < Number(d2) && S.addClass(n6, "disabled"), "" !== h2 && (void 0 !== m2 ? ("PM" === m2 && "PM" === w2.textContent && (C18._isAmEnabled = false, C18._isPmEnabled = true, Number(t6) > Number(v2) && S.addClass(n6, "disabled")), "AM" === m2 && "PM" === w2.textContent ? (C18._isAmEnabled = false, C18._isPmEnabled = true, S.addClass(n6, "disabled")) : "AM" === m2 && "AM" === w2.textContent && (C18._isAmEnabled = true, C18._isPmEnabled = false, Number(t6) > Number(v2) && S.addClass(n6, "disabled"))) : Number(t6) > Number(v2) && S.addClass(n6, "disabled")), "" !== p3 && Number(t6) < Number(g2) && S.addClass(n6, "disabled"), "" !== p3 && void 0 !== _2 && ("PM" === _2 && "PM" === w2.textContent ? (C18._isAmEnabled = false, C18._isPmEnabled = true, Number(t6) < Number(g2) && S.addClass(n6, "disabled")) : "PM" === _2 && "AM" === w2.textContent && (C18._isAmEnabled = true, C18._isPmEnabled = false, S.addClass(n6, "disabled")), "AM" === _2 && "PM" === w2.textContent ? (C18._isAmEnabled = false, C18._isPmEnabled = true, S.removeClass(n6, "disabled")) : "AM" === _2 && "AM" === w2.textContent && (C18._isAmEnabled = true, C18._isPmEnabled = false, Number(t6) < Number(g2) && S.addClass(n6, "disabled")))), n6.appendChild(r5), O2.appendChild(n6);
        }));
      }), this._element = t4, this._element && v.setData(t4, Is, this), this._document = document, this._options = this._getConfig(e4), this._currentTime = null, this._toggleButtonId = Ra("timepicker-toggle-"), this.hoursArray = ["12", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11"], this.innerHours = ["00", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23"], this.minutesArray = ["00", "05", "10", "15", "20", "25", "30", "35", "40", "45", "50", "55"], this.input = x.findOne("input", this._element), this.dataWithIcon = t4.dataset.withIcon, this.dataToggle = t4.dataset.toggle, this.customIcon = x.findOne(".timepicker-toggle-button", this._element), this._checkToggleButton(), this.inputFormatShow = x.findOne("[data-mdb-timepicker-format24]", this._element), this.inputFormat = null === this.inputFormatShow ? "" : Object.values(this.inputFormatShow.dataset)[0], this.elementToggle = x.findOne("[data-mdb-toggle]", this._element), this.toggleElement = Object.values(t4.querySelector("[data-mdb-toggle]").dataset)[0], this._hour = null, this._minutes = null, this._AM = null, this._PM = null, this._wrapper = null, this._modal = null, this._hand = null, this._circle = null, this._focusTrap = null, this._popper = null, this._interval = null, this._inputValue = "" !== this._options.defaultTime ? this._options.defaultTime : this.input.value, this._options.format12 && (this._currentTime = function(t5) {
        var e5, n5, r4;
        if ("" !== t5)
          return Cs(t5) ? (e5 = t5.getHours(), 0 === (e5 %= 12) && (r4 = "AM"), e5 = e5 || 12, void 0 === r4 && (r4 = 12 <= e5 ? "PM" : "AM"), n5 = (n5 = t5.getMinutes()) < 10 ? "0".concat(n5) : n5) : (e5 = (t5 = _s(P(t5, false), 3))[0], n5 = t5[1], r4 = t5[2], 0 === (e5 %= 12) && (r4 = "AM"), e5 = e5 || 12, void 0 === r4 && (r4 = 12 <= e5 ? "PM" : "AM")), { hours: e5, minutes: n5, amOrPm: r4 };
      }(this._inputValue)), this._options.readOnly && this.input.setAttribute("readonly", true), this.init(), this._isHours = true, this._isMinutes = false, this._isInvalidTimeFormat = false, this._isMouseMove = false, this._isInner = false, this._isAmEnabled = false, this._isPmEnabled = false, this._objWithDataOnChange = { degrees: null };
    }
    var t3, e3, n3;
    return t3 = o2, n3 = [{ key: "NAME", get: function() {
      return m;
    } }, { key: "getInstance", value: function(t4) {
      return v.getData(t4, Is);
    } }, { key: "getOrCreateInstance", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
      return this.getInstance(t4) || new this(t4, "object" === Ss(e4) ? e4 : null);
    } }], (e3 = [{ key: "init", value: function() {
      var t4, e4, n4, r3;
      S.addClass(this.input, lu), void 0 !== this._currentTime ? (n4 = (t4 = this._currentTime).hours, r3 = t4.minutes, t4 = t4.amOrPm, e4 = Number(n4) < 10 ? 0 : "", n4 = "".concat(e4).concat(Number(n4), ":").concat(r3), r3 = t4, this.input.value = "".concat(n4, " ").concat(r3)) : this.input.value = r3 = n4 = e4 = "", 0 < this.input.value.length && "" !== this.input.value && S.addClass(this.input, "active"), null === this._options && null === this._element || (this._handleOpen(), this._listenToToggleKeydown());
    } }, { key: "dispose", value: function() {
      this._removeModal(), null !== this._element && v.removeData(this._element, Is), this._element = null, this._options = null, this.input = null, this._focusTrap = null, _.off(this._document, "click", "[data-mdb-toggle='".concat(this.toggleElement, "']")), _.off(this._element, "keydown", "[data-mdb-toggle='".concat(this.toggleElement, "']"));
    } }, { key: "_checkToggleButton", value: function() {
      null === this.customIcon && (void 0 !== this.dataWithIcon && (this._options.withIcon = null, "true" === this.dataWithIcon && this._appendToggleButton(this._options)), this._options.withIcon && this._appendToggleButton(this._options));
    } }, { key: "_appendToggleButton", value: function() {
      var t4 = function(t5, e4) {
        t5 = t5.iconClass;
        return '\n  <button id="'.concat(e4, '" tabindex="0" type="button" class="timepicker-toggle-button" data-mdb-toggle="timepicker"  >\n    <i class="').concat(t5, '"></i>\n  </button>\n');
      }(this._options, this._toggleButtonId);
      this.input.insertAdjacentHTML("afterend", t4);
    } }, { key: "_getDomElements", value: function() {
      this._hour = x.findOne(".".concat(Ks)), this._minutes = x.findOne(".".concat(eu)), this._AM = x.findOne(".".concat(Ls)), this._PM = x.findOne(".".concat(ru)), this._wrapper = x.findOne(".".concat(uu)), this._modal = x.findOne(".".concat(nu)), this._hand = x.findOne(".".concat(qs)), this._circle = x.findOne(".".concat(Hs)), this._clock = x.findOne(".".concat(Vs)), this._clockInner = x.findOne(".".concat(Ys));
    } }, { key: "_handlerMaxMinHoursOptions", value: function(t4, e4, n4, r3, o3, i3) {
      var a3 = "" !== n4 ? 30 * n4 : "", c3 = "" !== r3 ? 30 * r3 : "";
      if ("" !== n4 && "" !== r3) {
        if ((t4 = t4 <= 0 ? 360 + t4 : t4) <= a3 && c3 <= t4)
          return e4();
      } else if ("" !== r3) {
        if (t4 <= 0 && (t4 = 360 + t4), (c3 = 12 < Number(r3) ? 30 * r3 - c3 : c3) <= t4 && void 0 === i3)
          return e4();
        if (void 0 !== i3) {
          if ("PM" === i3 && this._isAmEnabled)
            return;
          if ("PM" === i3 && this._isPmEnabled && c3 <= t4)
            return e4();
          if ("AM" === i3 && this._isPmEnabled)
            return e4();
          if ("AM" === i3 && this._isAmEnabled && c3 <= t4)
            return e4();
        }
      } else {
        if ("" === n4)
          return e4();
        if ((t4 = t4 <= 0 ? 360 + t4 : t4) <= a3 && void 0 === o3)
          return e4();
        if (void 0 !== o3) {
          if ("AM" === o3 && this._isPmEnabled)
            return;
          if ("AM" === o3 && this._isAmEnabled && t4 <= a3)
            return e4();
          if ("PM" === o3 && this._isPmEnabled) {
            if (t4 <= a3)
              return e4();
          } else if ("PM" === o3 && this._isAmEnabled)
            return e4();
        }
      }
      return e4;
    } }, { key: "_handleKeyboard", value: function() {
      var b2 = this;
      _.on(this._document, "keydown", "", function(t4) {
        var e4, n4 = b2._options, r3 = n4.maxHour, o3 = n4.minHour, n4 = n4.increment, i3 = null !== x.findOne(".".concat(I)), a3 = null !== x.findOne(".".concat(cu)), c3 = Number(b2._hand.style.transform.replace(/[^\d-]/g, "")), s3 = x.find(".".concat(I), b2._modal), u2 = x.find(".".concat(iu), b2._modal), l3 = x.find(".".concat(cu), b2._modal), f2 = "" !== r3 ? Number(r3) : "", d2 = "" !== o3 ? Number(o3) : "", p3 = b2._makeHourDegrees(t4.target, c3, void 0).hour, h2 = b2._makeHourDegrees(t4.target, c3, void 0), v2 = h2.degrees, y2 = h2.addDegrees, h2 = b2._makeMinutesDegrees(c3, void 0), m2 = h2.minute, h2 = h2.degrees, g2 = b2._makeMinutesDegrees(c3, void 0).addDegrees, c3 = b2._makeInnerHoursDegrees(c3, void 0).hour;
        27 === t4.keyCode && (e4 = x.findOne(".".concat(Ns), b2._modal), _.trigger(e4, "click")), i3 ? (38 === t4.keyCode && (S.addStyle(b2._hand, { transform: "rotateZ(".concat(h2 += g2, "deg)") }), m2 += 1, n4 && "0014" === (m2 += 4) && (m2 = 5), b2._minutes.textContent = b2._setHourOrMinute(59 < m2 ? 0 : m2), b2._toggleClassActive(b2.minutesArray, b2._minutes, s3), b2._toggleBackgroundColorCircle("".concat(I))), 40 === t4.keyCode && (S.addStyle(b2._hand, { transform: "rotateZ(".concat(h2 -= g2, "deg)") }), n4 ? m2 -= 5 : --m2, -1 === m2 ? m2 = 59 : -5 === m2 && (m2 = 55), b2._minutes.textContent = b2._setHourOrMinute(m2), b2._toggleClassActive(b2.minutesArray, b2._minutes, s3), b2._toggleBackgroundColorCircle("".concat(I)))) : (a3 && (39 === t4.keyCode && (b2._isInner = false, S.addStyle(b2._hand, { height: "calc(40% + 1px)" }), b2._hour.textContent = b2._setHourOrMinute(12 < p3 ? 1 : p3), b2._toggleClassActive(b2.hoursArray, b2._hour, u2), b2._toggleClassActive(b2.innerHours, b2._hour, l3)), 37 === t4.keyCode && (b2._isInner = true, S.addStyle(b2._hand, { height: "21.5%" }), b2._hour.textContent = b2._setHourOrMinute(24 <= c3 || "00" === c3 ? 0 : c3), b2._toggleClassActive(b2.innerHours, b2._hour, l3), b2._toggleClassActive(b2.hoursArray, b2._hour - 1, u2))), 38 === t4.keyCode && (b2._handlerMaxMinHoursOptions(v2 + 30, function() {
          return S.addStyle(b2._hand, { transform: "rotateZ(".concat(v2 + y2, "deg)") });
        }, r3, o3), b2._isInner ? (24 === (c3 += 1) ? c3 = 0 : 25 !== c3 && "001" !== c3 || (c3 = 13), b2._hour.textContent = b2._setHourOrMinute(c3), b2._toggleClassActive(b2.innerHours, b2._hour, l3)) : (p3 += 1, "" !== r3 && "" !== o3 ? r3 < p3 ? p3 = f2 : p3 < o3 && (p3 = d2) : "" !== r3 && "" === o3 ? r3 < p3 && (p3 = f2) : "" === r3 && "" !== o3 && 12 <= p3 && (p3 = 12), b2._hour.textContent = b2._setHourOrMinute(12 < p3 ? 1 : p3), b2._toggleClassActive(b2.hoursArray, b2._hour, u2))), 40 === t4.keyCode && (b2._handlerMaxMinHoursOptions(v2 - 30, function() {
          return S.addStyle(b2._hand, { transform: "rotateZ(".concat(v2 - y2, "deg)") });
        }, r3, o3), b2._isInner ? (12 === --c3 ? c3 = 0 : -1 === c3 && (c3 = 23), b2._hour.textContent = b2._setHourOrMinute(c3), b2._toggleClassActive(b2.innerHours, b2._hour, l3)) : (--p3, "" !== r3 && "" !== o3 ? f2 < p3 ? p3 = f2 : p3 < d2 && (p3 = d2) : "" === r3 && "" !== o3 ? p3 <= d2 && (p3 = d2) : "" !== r3 && "" === o3 && p3 <= 1 && (p3 = 1), b2._hour.textContent = b2._setHourOrMinute(0 === p3 ? 12 : p3), b2._toggleClassActive(b2.hoursArray, b2._hour, u2))));
      });
    } }, { key: "_setActiveClassToTipsOnOpen", value: function(t4) {
      var e4 = this;
      if (!this._isInvalidTimeFormat) {
        for (var n4 = arguments.length, r3 = new Array(1 < n4 ? n4 - 1 : 0), o3 = 1; o3 < n4; o3++)
          r3[o3 - 1] = arguments[o3];
        [].concat(r3).filter(function(t5) {
          return "PM" === t5 ? S.addClass(e4._PM, M) : "AM" === t5 ? S.addClass(e4._AM, M) : (S.removeClass(e4._AM, M), S.removeClass(e4._PM, M)), t5;
        });
        var i3 = x.find(".".concat(iu), this._modal);
        this._addActiveClassToTip(i3, t4);
      }
    } }, { key: "_setTipsAndTimesDependOnInputValue", value: function(t4, e4) {
      var n4 = this._options, r3 = n4.inline, n4 = n4.format12;
      this._isInvalidTimeFormat ? (this._hour.textContent = "12", this._minutes.textContent = "00", r3 || S.addStyle(this._hand, { transform: "rotateZ(0deg)" }), n4 && S.addClass(this._PM, M)) : (n4 = 12 < t4 ? 30 * t4 - 360 : 30 * t4, this._hour.textContent = t4, this._minutes.textContent = e4, r3 || (S.addStyle(this._hand, { transform: "rotateZ(".concat(n4, "deg)") }), S.addStyle(this._circle, { backgroundColor: "#1976d2" }), (12 < Number(t4) || "00" === t4) && S.addStyle(this._hand, { height: "21.5%" })));
    } }, { key: "_listenToToggleKeydown", value: function() {
      var e4 = this;
      _.on(this._element, "keydown", "[data-mdb-toggle='".concat(this.toggleElement, "']"), function(t4) {
        13 === t4.keyCode && (t4.preventDefault(), _.trigger(e4.elementToggle, "click"));
      });
    } }, { key: "_handleOpen", value: function() {
      var b2 = this;
      wc(this._element, "click", "[data-mdb-toggle='".concat(this.toggleElement, "']"), function(g2) {
        var t4;
        null !== b2._options && (t4 = null !== S.getDataAttribute(b2.input, "toggle") ? 200 : 0, setTimeout(function() {
          S.addStyle(b2.elementToggle, { pointerEvents: "none" }), b2.elementToggle.blur(), h2 = "" === P(b2.input)[0] ? ["12", "00", "PM"] : P(b2.input);
          var t5, e4, n4, r3, o3, i3, a3, c3, s3, u2, l3 = b2._options, f2 = l3.modalID, d2 = l3.inline, p3 = l3.format12, l3 = l3.overflowHidden, h2 = js(h2, 3), v2 = h2[0], y2 = h2[1], h2 = h2[2], m2 = Va("div");
          (12 < Number(v2) || "00" === v2) && (b2._isInner = true), b2.input.blur(), g2.target.blur(), m2.innerHTML = (t5 = b2._options, e4 = t5.okLabel, n4 = t5.cancelLabel, u2 = t5.headID, r3 = t5.footerID, o3 = t5.bodyID, s3 = t5.pickerID, i3 = t5.clearLabel, a3 = t5.showClearBtn, c3 = t5.amLabel, t5 = t5.pmLabel, "<div id='".concat(s3, `' class='timepicker-wrapper h-full flex items-center justify-center flex-col fixed'>
      <div class="flex items-center justify-center flex-col timepicker-container">
        <div class="flex flex-col timepicker-elements justify-around">
        <div id='`).concat(u2, `' class='timepicker-head flex flex-row items-center justify-center'>
        <div class='timepicker-head-content flex w-100 justify-evenly'>
            <div class="timepicker-current-wrapper">
              <span class="relative h-100">
                <button type='button' class='timepicker-current timepicker-hour active ripple' tabindex="0">21</button>
              </span>
              <button type='button' class='timepicker-dot' disabled>:</button>
            <span class="relative h-100">
              <button type='button' class='timepicker-current timepicker-minute ripple' tabindex="0">21</button>
            </span>
            </div>
            <div class="flex flex-col justify-center timepicker-mode-wrapper">
              <button type='button' class="timepicker-hour-mode timepicker-am ripple" tabindex="0">`).concat(c3, '</button>\n              <button class="timepicker-hour-mode timepicker-pm ripple" tabindex="0">').concat(t5, "</button>\n            </div>\n        </div>\n      </div>\n      <div id='").concat(o3, "' class='timepicker-clock-wrapper flex justify-center flex-col items-center'>\n        <div class='timepicker-clock'>\n          <span class='timepicker-middle-dot absolute'></span>\n          <div class='timepicker-hand-pointer absolute'>\n            <div class='timepicker-circle absolute'></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id='").concat(r3, `' class='timepicker-footer'>
      <div class="w-full flex justify-between">
        `).concat(a3 ? `<button type='button' class='timepicker-button timepicker-clear ripple' tabindex="0">`.concat(i3, "</button>") : "", `
        <button type='button' class='timepicker-button timepicker-cancel ripple' tabindex="0">`).concat(n4, `</button>
        <button type='button' class='timepicker-button timepicker-submit ripple' tabindex="0">`).concat(e4, "</button>\n      </div>\n    </div>\n  </div>\n</div>")), S.addClass(m2, nu), m2.setAttribute("role", "dialog"), m2.setAttribute("tabIndex", "-1"), m2.setAttribute("id", f2), d2 && (b2._popper = en(b2.input, m2, { placement: "bottom-start" })), b2._document.body.appendChild(m2), b2._getDomElements(), b2._toggleBackdropAnimation(), b2._setActiveClassToTipsOnOpen(v2, y2, h2), b2._appendTimes(), b2._setActiveClassToTipsOnOpen(v2, y2, h2), b2._setTipsAndTimesDependOnInputValue(v2, y2), "" === b2.input.value && (s3 = x.find(".".concat(iu), b2._modal), p3 && S.addClass(b2._PM, M), b2._hour.textContent = "12", b2._minutes.textContent = "00", b2._addActiveClassToTip(s3, Number(b2._hour.textContent))), b2._handleSwitchTimeMode(), b2._handleOkButton(), b2._handleClose(), d2 ? (b2._handleHoverInlineBtn(), b2._handleDocumentClickInline(), b2._handleInlineClicks()) : (b2._handleSwitchHourMinute(), b2._handleClockClick(), b2._handleKeyboard(), S.addStyle(b2._hour, { pointerEvents: "none" }), S.addStyle(b2._minutes, { pointerEvents: "" })), l3 && (u2 = window.innerWidth > document.documentElement.clientWidth, S.addStyle(b2._document.body, { overflow: "hidden" }), !ks() && u2 && S.addStyle(b2._document.body, { paddingRight: "15px" })), b2._focusTrap = new qc(b2._wrapper, { event: "keydown", condition: function(t6) {
            return "Tab" === t6.key;
          } }), b2._focusTrap.trap();
        }, t4));
      });
    } }, { key: "_handleInlineClicks", value: function() {
      var d2 = this;
      wc(this._modal, "click mousedown mouseup touchstart touchend contextmenu", ".".concat(Zs, ", .").concat(Xs), function(t4) {
        function e4(t5) {
          t5 = f2(t5), d2._hour.textContent = d2._setHourOrMinute(t5);
        }
        function n4(t5) {
          t5 = l3(t5), d2._minutes.textContent = d2._setHourOrMinute(t5);
        }
        function r3() {
          e4(s3 += 1);
        }
        function o3() {
          n4(u2 += 1);
        }
        function i3() {
          e4(--s3);
        }
        function a3() {
          n4(--u2);
        }
        var c3 = t4.target, t4 = t4.type, s3 = Number(d2._hour.textContent), u2 = Number(d2._minutes.textContent), l3 = function(t5) {
          return 59 < t5 ? t5 = 0 : t5 < 0 && (t5 = 59), t5;
        }, f2 = function(t5) {
          return 12 < t5 ? t5 = 1 : t5 < 1 && (t5 = 12), t5 = 12 < t5 ? 1 : t5;
        };
        S.hasClass(c3, Zs) ? S.hasClass(c3.parentNode, Js) ? "mousedown" === t4 || "touchstart" === t4 ? (clearInterval(d2._interval), d2._interval = setInterval(r3, 100)) : "mouseup" === t4 || "touchend" === t4 || "contextmenu" === t4 ? clearInterval(d2._interval) : r3() : "mousedown" === t4 || "touchstart" === t4 ? (clearInterval(d2._interval), d2._interval = setInterval(o3, 100)) : "mouseup" === t4 || "touchend" === t4 || "contextmenu" === t4 ? clearInterval(d2._interval) : o3() : S.hasClass(c3, Xs) && (S.hasClass(c3.parentNode, Js) ? "mousedown" === t4 || "touchstart" === t4 ? (clearInterval(d2._interval), d2._interval = setInterval(i3, 100)) : "mouseup" === t4 || "touchend" === t4 ? clearInterval(d2._interval) : i3() : "mousedown" === t4 || "touchstart" === t4 ? (clearInterval(d2._interval), d2._interval = setInterval(a3, 100)) : "mouseup" === t4 || "touchend" === t4 ? clearInterval(d2._interval) : a3());
      });
    } }, { key: "_handleClose", value: function() {
      var a3 = this;
      _.on(this._modal, "click", ".".concat(uu, ", .").concat(Ns, ", .").concat(Rs), function(t4) {
        function e4() {
          S.addStyle(a3.elementToggle, { pointerEvents: "auto" }), a3._toggleBackdropAnimation(true), a3._removeModal(), a3._focusTrap.disable(), a3._focusTrap = null, a3.elementToggle ? a3.elementToggle.focus() : a3.input && a3.input.focus();
        }
        var n4, r3, o3, t4 = t4.target, i3 = a3._options.closeModalOnBackdropClick;
        S.hasClass(t4, Rs) ? (a3.input.value = "", S.removeClass(a3.input, "active"), o3 = "" === P(a3.input)[0] ? ["12", "00", "PM"] : P(a3.input), n4 = (o3 = js(o3, 3))[0], r3 = o3[1], o3 = o3[2], a3._setTipsAndTimesDependOnInputValue("12", "00"), a3._setActiveClassToTipsOnOpen(n4, r3, o3), a3._hour.click()) : (S.hasClass(t4, Ns) || S.hasClass(t4, uu) && i3) && e4();
      });
    } }, { key: "showValueInput", value: function() {
      return this.input.value;
    } }, { key: "_handleOkButton", value: function() {
      var o3 = this;
      wc(this._modal, "click", ".".concat(Bs), function() {
        var t4 = o3._options, e4 = t4.readOnly, t4 = t4.focusInputAfterApprove, n4 = o3._document.querySelector(".".concat($s, ".").concat(M)), r3 = "".concat(o3._hour.textContent, ":").concat(o3._minutes.textContent);
        S.addClass(o3.input, "active"), S.addStyle(o3.elementToggle, { pointerEvents: "auto" }), o3._isInvalidTimeFormat && S.removeClass(o3.input, "is-invalid"), !e4 && t4 && o3.input.focus(), S.addStyle(o3.elementToggle, { pointerEvents: "auto" }), o3.input.value = null === n4 ? "".concat(r3, " PM") : "".concat(r3, " ").concat(n4.textContent), o3._toggleBackdropAnimation(true), o3._removeModal(), _.trigger(o3.input, "input.mdb.timepicker");
      });
    } }, { key: "_handleHoverInlineBtn", value: function() {
      var o3 = this;
      wc(this._modal, "mouseover mouseleave", ".".concat(Us), function(t4) {
        var e4 = t4.type, t4 = t4.target, n4 = x.find(".".concat(Gs), o3._modal), r3 = x.find(".".concat(Qs), o3._modal);
        "mouseover" === e4 ? S.hasClass(t4, Ks) ? n4.forEach(function(t5) {
          return S.addClass(t5, M);
        }) : r3.forEach(function(t5) {
          return S.addClass(t5, M);
        }) : S.hasClass(t4, Ks) ? n4.forEach(function(t5) {
          return S.removeClass(t5, M);
        }) : r3.forEach(function(t5) {
          return S.removeClass(t5, M);
        });
      });
    } }, { key: "_handleDocumentClickInline", value: function() {
      var e4 = this;
      _.on(document, "click", function(t4) {
        t4 = t4.target;
        !e4._modal || e4._modal.contains(t4) || S.hasClass(t4, "timepicker-icon") || (clearInterval(e4._interval), S.addStyle(e4.elementToggle, { pointerEvents: "auto" }), e4._removeModal());
      });
    } }, { key: "_handleSwitchHourMinute", value: function() {
      var t4, e4, c3 = this;
      t4 = "click", e4 = zs, _.on(document, t4, e4, function(t5) {
        t5 = t5.target;
        S.hasClass(t5, "active") || (document.querySelectorAll(e4).forEach(function(t6) {
          S.hasClass(t6, "active") && S.removeClass(t6, "active");
        }), S.addClass(t5, "active"));
      }), _.on(this._modal, "click", zs, function() {
        function e5(t6, e6) {
          r3.forEach(function(t7) {
            return t7.remove();
          }), n4.forEach(function(t7) {
            return t7.remove();
          }), S.addClass(c3._hand, su), setTimeout(function() {
            S.removeClass(c3._hand, su);
          }, 401), c3._getAppendClock(t6, ".".concat(Vs), e6), setTimeout(function() {
            var t7, e7;
            t7 = x.find(".".concat(iu), c3._modal), e7 = x.find(".".concat(I), c3._modal), c3._addActiveClassToTip(t7, i3), c3._addActiveClassToTip(e7, a3);
          }, 401);
        }
        var t5 = x.find(zs, c3._modal), n4 = x.find(".".concat(I), c3._modal), r3 = x.find(".".concat(iu), c3._modal), o3 = x.find(".".concat(cu), c3._modal), i3 = Number(c3._hour.textContent), a3 = Number(c3._minutes.textContent);
        t5.forEach(function(t6) {
          S.hasClass(t6, M) && (S.hasClass(t6, eu) ? (S.addClass(c3._hand, su), S.addStyle(c3._hand, { transform: "rotateZ(".concat(6 * c3._minutes.textContent, "deg)"), height: "calc(40% + 1px)" }), 0 < o3.length && o3.forEach(function(t7) {
            return t7.remove();
          }), e5(c3.minutesArray, "".concat(I)), c3._hour.style.pointerEvents = "", c3._minutes.style.pointerEvents = "none") : S.hasClass(t6, Ks) && (S.addStyle(c3._hand, { transform: "rotateZ(".concat(30 * c3._hour.textContent, "deg)") }), 12 < Number(c3._hour.textContent) ? (S.addStyle(c3._hand, { transform: "rotateZ(".concat(30 * c3._hour.textContent - 360, "deg)"), height: "21.5%" }), 12 < Number(c3._hour.textContent) && S.addStyle(c3._hand, { height: "21.5%" })) : S.addStyle(c3._hand, { height: "calc(40% + 1px)" }), 0 < o3.length && o3.forEach(function(t7) {
            return t7.remove();
          }), e5(c3.hoursArray, "".concat(iu)), S.addStyle(c3._hour, { pointerEvents: "none" }), S.addStyle(c3._minutes, { pointerEvents: "" })));
        });
      });
    } }, { key: "_handleSwitchTimeMode", value: function() {
      _.on(document, "click", ".".concat($s), function(t4) {
        t4 = t4.target;
        S.hasClass(t4, M) || (x.find(".".concat($s)).forEach(function(t5) {
          S.hasClass(t5, M) && S.removeClass(t5, M);
        }), S.addClass(t4, M));
      });
    } }, { key: "_handleClockClick", value: function() {
      var y2 = this, m2 = x.findOne(".".concat(Ws));
      wc(document, "mousedown mouseup mousemove mouseleave mouseover touchstart touchmove touchend", "", function(t4) {
        ks() || t4.preventDefault();
        var e4 = y2._options, n4 = e4.maxHour, e4 = e4.minHour, r3 = t4.type, o3 = t4.target, i3 = y2._options, a3 = i3.closeModalOnMinutesClick, i3 = i3.switchHoursToMinutesOnClick, c3 = null !== x.findOne(".".concat(I), y2._modal), s3 = null !== x.findOne(".".concat(iu), y2._modal), u2 = null !== x.findOne(".".concat(cu), y2._modal), l3 = x.find(".".concat(I), y2._modal), f2 = Os(t4, m2), d2 = m2.offsetWidth / 2, f2 = Math.atan2(f2.y - d2, f2.x - d2), p3 = (ks() && (h2 = Os(t4, m2, true), f2 = Math.atan2(h2.y - d2, h2.x - d2)), null);
        if ("mousedown" === r3 || "mousemove" === r3 || "touchmove" === r3 || "touchstart" === r3 ? "mousedown" !== r3 && "touchstart" !== r3 && "touchmove" !== r3 || (S.hasClass(o3, Ws) || S.hasClass(o3, Vs) || S.hasClass(o3, I) || S.hasClass(o3, Ys) || S.hasClass(o3, cu) || S.hasClass(o3, iu) || S.hasClass(o3, Hs) || S.hasClass(o3, qs) || S.hasClass(o3, tu) || S.hasClass(o3, ou) || S.hasClass(o3, au)) && (y2._isMouseMove = true, ks() && t4.touches && (h2 = t4.touches[0].clientX, d2 = t4.touches[0].clientY, p3 = document.elementFromPoint(h2, d2))) : "mouseup" !== r3 && "touchend" !== r3 || (y2._isMouseMove = false, (S.hasClass(o3, Vs) || S.hasClass(o3, Ys) || S.hasClass(o3, cu) || S.hasClass(o3, iu) || S.hasClass(o3, Hs) || S.hasClass(o3, qs) || S.hasClass(o3, tu) || S.hasClass(o3, ou) || S.hasClass(o3, au)) && (s3 || u2) && i3 && _.trigger(y2._minutes, "click"), c3 && a3 && (h2 = x.findOne(".".concat(Bs), y2._modal), _.trigger(h2, "click"))), c3) {
          d2 = Math.trunc(180 * f2 / Math.PI) + 90, r3 = y2._makeMinutesDegrees(d2, void 0), i3 = r3.degrees, a3 = r3.minute;
          if (void 0 === y2._handlerMaxMinMinutesOptions(i3, a3))
            return;
          var h2 = y2._handlerMaxMinMinutesOptions(i3, a3), c3 = h2.degrees, d2 = h2.minute;
          if (y2._isMouseMove) {
            if (S.addStyle(y2._hand, { transform: "rotateZ(".concat(c3, "deg)") }), void 0 === d2)
              return;
            y2._minutes.textContent = 10 <= d2 || "00" === d2 ? d2 : "0".concat(d2), y2._toggleClassActive(y2.minutesArray, y2._minutes, l3), y2._toggleBackgroundColorCircle("".concat(I)), y2._objWithDataOnChange.degreesMinutes = c3, y2._objWithDataOnChange.minutes = d2;
          }
        }
        if (s3 || u2) {
          var v2 = Math.trunc(180 * f2 / Math.PI) + 90, v2 = 30 * Math.round(v2 / 30);
          if (S.addStyle(y2._circle, { backgroundColor: "#1976d2" }), void 0 === y2._makeHourDegrees(o3, v2, void 0))
            return;
          y2._objWithDataOnChange.degreesHours = v2, y2._handlerMaxMinHoursOptions(v2, function() {
            var t5, e5;
            return ks() && v2 ? (t5 = (e5 = y2._makeHourDegrees(p3, v2, void 0)).degrees, e5 = e5.hour, y2._handleMoveHand(p3, e5, t5)) : (t5 = (e5 = y2._makeHourDegrees(o3, v2, void 0)).degrees, e5 = e5.hour, y2._handleMoveHand(o3, e5, t5));
          }, n4, e4);
        }
        t4.stopPropagation();
      });
    } }, { key: "_handleMoveHand", value: function(t4, e4, n4) {
      var r3 = x.find(".".concat(iu), this._modal), o3 = x.find(".".concat(cu), this._modal);
      this._isMouseMove && (S.hasClass(t4, Ys) || S.hasClass(t4, cu) || S.hasClass(t4, au) ? S.addStyle(this._hand, { height: "21.5%" }) : S.addStyle(this._hand, { height: "calc(40% + 1px)" }), S.addStyle(this._hand, { transform: "rotateZ(".concat(n4, "deg)") }), this._hour.textContent = 10 <= e4 || "00" === e4 ? e4 : "0".concat(e4), this._toggleClassActive(this.hoursArray, this._hour, r3), this._toggleClassActive(this.innerHours, this._hour, o3), this._objWithDataOnChange.hour = 10 <= e4 || "00" === e4 ? e4 : "0".concat(e4));
    } }, { key: "_handlerMaxMinMinutesOptions", value: function(t4, e4) {
      var n4 = this._options, r3 = n4.increment, o3 = n4.maxTime, n4 = n4.minTime, i3 = P(o3, false)[1], a3 = P(n4, false)[1], c3 = P(o3, false)[0], s3 = P(n4, false)[0], u2 = P(o3, false)[2], l3 = P(n4, false)[2], i3 = "" !== i3 ? 6 * i3 : "", a3 = "" !== a3 ? 6 * a3 : "";
      if (void 0 === u2 && void 0 === l3) {
        if ("" !== o3 && "" !== n4) {
          if (t4 <= i3 && a3 <= t4)
            return t4;
        } else if ("" !== n4 && Number(this._hour.textContent) <= Number(s3)) {
          if (t4 <= a3 - 6)
            return t4;
        } else if ("" !== o3 && Number(this._hour.textContent) >= Number(c3) && i3 + 6 <= t4)
          return t4;
      } else if ("" !== n4) {
        if ("PM" === l3 && this._isAmEnabled)
          return;
        if ("PM" === l3 && this._isPmEnabled) {
          if (Number(this._hour.textContent) < Number(s3))
            return;
          if (Number(this._hour.textContent) <= Number(s3) && t4 <= a3 - 6)
            return t4;
        } else if ("AM" === l3 && this._isAmEnabled) {
          if (Number(this._hour.textContent) < Number(s3))
            return;
          if (Number(this._hour.textContent) <= Number(s3) && t4 <= a3 - 6)
            return t4;
        }
      } else if ("" !== o3) {
        if ("AM" === u2 && this._isPmEnabled)
          return;
        if ("PM" === u2 && this._isPmEnabled) {
          if (Number(this._hour.textContent) >= Number(c3) && i3 + 6 <= t4)
            return t4;
        } else if ("AM" === u2 && this._isAmEnabled && Number(this._hour.textContent) >= Number(c3) && i3 + 6 <= t4)
          return t4;
      }
      return (t4 = r3 ? 30 * Math.round(t4 / 30) : t4) <= 0 ? t4 = 360 + t4 : 360 <= t4 && (t4 = 0), { degrees: t4, minute: e4 };
    } }, { key: "_removeModal", value: function() {
      var t4 = this;
      setTimeout(function() {
        t4._modal.remove(), S.addStyle(t4._document.body, { overflow: "" }), ks() || S.addStyle(t4._document.body, { paddingRight: "" });
      }, 300), Oc(this._document, "click keydown mousedown mouseup mousemove mouseleave mouseover touchmove touchend");
    } }, { key: "_toggleBackdropAnimation", value: function() {
      0 < arguments.length && void 0 !== arguments[0] && arguments[0] ? (S.addClass(this._wrapper, "animation"), S.addClass(this._wrapper, "fade-out"), this._wrapper.style.animationDuration = "300ms") : (S.addClass(this._wrapper, "animation"), S.addClass(this._wrapper, "fade-in"), this._wrapper.style.animationDuration = "300ms", this._options.inline || S.addClass(this._clock, Fs));
    } }, { key: "_addActiveClassToTip", value: function(t4, e4) {
      t4.forEach(function(t5) {
        Number(t5.textContent) === Number(e4) && S.addClass(t5, M);
      });
    } }, { key: "_setHourOrMinute", value: function(t4) {
      return t4 < 10 ? "0".concat(t4) : t4;
    } }, { key: "_appendTimes", value: function() {
      this._getAppendClock(this.hoursArray, ".".concat(Vs), "".concat(iu));
    } }, { key: "_getConfig", value: function(t4) {
      var e4 = S.getDataAttributes(this._element);
      return t4 = Es(Es(Es({}, fu), e4), t4), Ba(m, t4, du), t4;
    } }]) && Ps(t3.prototype, e3), n3 && Ps(t3, n3), Object.defineProperty(t3, "prototype", { writable: false }), o2;
  }(), t2 = pu;
  function hu(t3) {
    return (hu = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function vu(e3, t3) {
    var n3, r3 = Object.keys(e3);
    return Object.getOwnPropertySymbols && (n3 = Object.getOwnPropertySymbols(e3), t3 && (n3 = n3.filter(function(t4) {
      return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
    })), r3.push.apply(r3, n3)), r3;
  }
  function yu(r3) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var o2 = null != arguments[t3] ? arguments[t3] : {};
      t3 % 2 ? vu(Object(o2), true).forEach(function(t4) {
        var e3, n3;
        e3 = r3, n3 = o2[t4 = t4], t4 in e3 ? Object.defineProperty(e3, t4, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t4] = n3;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r3, Object.getOwnPropertyDescriptors(o2)) : vu(Object(o2)).forEach(function(t4) {
        Object.defineProperty(r3, t4, Object.getOwnPropertyDescriptor(o2, t4));
      });
    }
    return r3;
  }
  function mu(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var r3 = e3[n3];
      r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
    }
  }
  _.on(window, "DOMContentLoaded", function() {
    x.find(".".concat(m)).forEach(function(t3) {
      var e3 = pu.getInstance(t3);
      e3 || new pu(t3);
    });
  });
  var g = "stepper", gu = "mdb.stepper", bu = ".".concat(gu), _u = "horizontal", wu = "vertical", Ou = { stepperType: "string", stepperLinear: "boolean", stepperNoEditable: "boolean", stepperActive: "string", stepperCompleted: "string", stepperInvalid: "string", stepperDisabled: "string", stepperVerticalBreakpoint: "number", stepperMobileBreakpoint: "number", stepperMobileBarBreakpoint: "number" }, ku = { stepperType: _u, stepperLinear: false, stepperNoEditable: false, stepperActive: "", stepperCompleted: "", stepperInvalid: "", stepperDisabled: "", stepperVerticalBreakpoint: 0, stepperMobileBreakpoint: 0, stepperMobileBarBreakpoint: 4 }, Cu = "mousedown".concat(bu), Su = "keydown".concat(bu), xu = "keyup".concat(bu), Eu = "resize".concat(bu), ju = "animationend", Tu = "".concat(g, "-step"), w = "".concat(g, "-head"), L = "".concat(g, "-content"), Au = "".concat(g, "-active"), Du = "".concat(g, "-completed"), Pu = "".concat(g, "-invalid"), Mu = "".concat(g, "-disabled"), Iu = "".concat(g, "-").concat(wu), Lu = "".concat(g, "-content-hide"), Nu = "".concat(g, "-").concat(_u), Ru = function() {
    function n3(t4, e4) {
      if (!(this instanceof n3))
        throw new TypeError("Cannot call a class as a function");
      this._element = t4, this._options = this._getConfig(e4), this._elementHeight = 0, this._steps = x.find(".".concat(Tu), this._element), this._currentView = "", this._activeStepIndex = 0, this._verticalStepperStyles = [], this._element && (v.setData(t4, gu, this), this._init());
    }
    var t3, e3, r3;
    return t3 = n3, r3 = [{ key: "NAME", get: function() {
      return g;
    } }, { key: "getInstance", value: function(t4) {
      return v.getData(t4, gu);
    } }, { key: "getOrCreateInstance", value: function(t4) {
      var e4 = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
      return this.getInstance(t4) || new this(t4, "object" === hu(e4) ? e4 : null);
    } }], (e3 = [{ key: "activeStep", get: function() {
      return this._steps[this._activeStepIndex];
    } }, { key: "activeStepIndex", get: function() {
      return this._activeStepIndex;
    } }, { key: "dispose", value: function() {
      this._steps.forEach(function(t4) {
        _.off(t4, Cu), _.off(t4, Su);
      }), _.off(window, Eu), v.removeData(this._element, gu), this._element = null;
    } }, { key: "changeStep", value: function(t4) {
      this._toggleStep(t4);
    } }, { key: "nextStep", value: function() {
      this._toggleStep(this._activeStepIndex + 1);
    } }, { key: "previousStep", value: function() {
      this._toggleStep(this._activeStepIndex - 1);
    } }, { key: "_init", value: function() {
      var t4 = x.findOne(".".concat(Au), this._element);
      t4 ? this._activeStepIndex = this._steps.indexOf(t4) : this._toggleStepClass(this._activeStepIndex, "add", Au), this._toggleStepClass(this._activeStepIndex, "add", this._options.stepperActive), this._bindMouseDown(), this._bindKeysNavigation(), this._options.stepperType === wu ? this._toggleVertical() : this._toggleHorizontal(), (this._options.stepperVerticalBreakpoint || this._options.stepperMobileBreakpoint) && this._toggleStepperView(), this._bindResize();
    } }, { key: "_getConfig", value: function(t4) {
      var e4 = S.getDataAttributes(this._element);
      return t4 = yu(yu(yu({}, ku), e4), t4), Ba(g, t4, Ou), t4;
    } }, { key: "_bindMouseDown", value: function() {
      var n4 = this;
      this._steps.forEach(function(t4) {
        t4 = x.findOne(".".concat(w), t4);
        _.on(t4, Cu, function(t5) {
          var e4 = x.parents(t5.target, ".".concat(Tu))[0], e4 = n4._steps.indexOf(e4);
          t5.preventDefault(), n4._toggleStep(e4);
        });
      });
    } }, { key: "_bindResize", value: function() {
      var t4 = this;
      _.on(window, Eu, function() {
        t4._currentView === wu && t4._setSingleStepHeight(t4.activeStep), t4._currentView === _u && t4._setHeight(t4.activeStep), (t4._options.stepperVerticalBreakpoint || t4._options.stepperMobileBreakpoint) && t4._toggleStepperView();
      });
    } }, { key: "_toggleStepperView", value: function() {
      var e4 = this, t4 = this._options.stepperVerticalBreakpoint < window.innerWidth, n4 = this._options.stepperVerticalBreakpoint > window.innerWidth, r4 = this._options.stepperMobileBreakpoint > window.innerWidth;
      t4 && this._currentView !== _u && this._toggleHorizontal(), n4 && !r4 && this._currentView !== wu && (this._steps.forEach(function(t5) {
        t5 = x.findOne(".".concat(L), t5);
        e4._resetStepperHeight(), e4._showElement(t5);
      }), this._toggleVertical());
    } }, { key: "_toggleStep", value: function(t4) {
      this._activeStepIndex !== t4 && (this._options.stepperNoEditable && this._toggleDisabled(), this._showElement(x.findOne(".".concat(L), this._steps[t4])), this._toggleActive(t4), t4 > this._activeStepIndex && this._toggleCompleted(this._activeStepIndex), this._currentView === _u ? this._animateHorizontalStep(t4) : (this._animateVerticalStep(t4), this._setSingleStepHeight(this._steps[t4])), this._toggleStepTabIndex(x.findOne(".".concat(w), this.activeStep), x.findOne(".".concat(w), this._steps[t4])), this._activeStepIndex = t4);
    } }, { key: "_resetStepperHeight", value: function() {
      this._element.style.height = "";
    } }, { key: "_setStepsHeight", value: function() {
      var n4 = this;
      this._steps.forEach(function(t4) {
        var t4 = x.findOne(".".concat(L), t4), e4 = window.getComputedStyle(t4), e4 = (n4._verticalStepperStyles.push({ paddingTop: parseFloat(e4.paddingTop), paddingBottom: parseFloat(e4.paddingBottom) }), t4.scrollHeight);
        t4.style.height = "".concat(e4, "px");
      });
    } }, { key: "_setSingleStepHeight", value: function(t4) {
      var e4 = x.findOne(".".concat(L), t4), n4 = this.activeStep === t4, t4 = this._steps.indexOf(t4), n4 = n4 ? (e4.style.height = "", e4.scrollHeight) : e4.scrollHeight + this._verticalStepperStyles[t4].paddingTop + this._verticalStepperStyles[t4].paddingBottom;
      e4.style.height = "".concat(n4, "px");
    } }, { key: "_toggleVertical", value: function() {
      this._currentView = wu, this._toggleStepperClass(Iu), this._setStepsHeight(), this._hideInactiveSteps();
    } }, { key: "_toggleHorizontal", value: function() {
      this._currentView = _u, this._toggleStepperClass(Nu), this._setHeight(this.activeStep), this._hideInactiveSteps();
    } }, { key: "_toggleStepperClass", value: function(t4) {
      this._element.classList.remove(Nu, Iu), this._element.classList.add(t4), t4 !== Iu && this._steps.forEach(function(t5) {
        x.findOne(".".concat(L), t5).classList.remove(Lu);
      });
    } }, { key: "_toggleStepClass", value: function(t4, e4, n4) {
      n4 && this._steps[t4].classList[e4](n4);
    } }, { key: "_bindKeysNavigation", value: function() {
      var s3 = this;
      this._toggleStepTabIndex(false, x.findOne(".".concat(w), this.activeStep)), this._steps.forEach(function(t4) {
        t4 = x.findOne(".".concat(w), t4);
        _.on(t4, Su, function(t5) {
          var e4 = x.parents(t5.currentTarget, ".".concat(Tu))[0], n4 = x.next(e4, ".".concat(Tu))[0], r4 = x.prev(e4, ".".concat(Tu))[0], o2 = x.findOne(".".concat(w), e4), i3 = x.findOne(".".concat(w), s3.activeStep), a3 = null, c3 = null;
          n4 && (a3 = x.findOne(".".concat(w), n4)), r4 && (c3 = x.findOne(".".concat(w), r4)), 37 === t5.keyCode && s3._currentView !== wu && (c3 ? (s3._toggleStepTabIndex(o2, c3), s3._toggleOutlineStyles(o2, c3), c3.focus()) : a3 && (s3._toggleStepTabIndex(o2, a3), s3._toggleOutlineStyles(o2, a3), a3.focus())), 39 === t5.keyCode && s3._currentView !== wu && (a3 ? (s3._toggleStepTabIndex(o2, a3), s3._toggleOutlineStyles(o2, a3), a3.focus()) : c3 && (s3._toggleStepTabIndex(o2, c3), s3._toggleOutlineStyles(o2, c3), c3.focus())), 40 === t5.keyCode && s3._currentView === wu && (t5.preventDefault(), a3 && (s3._toggleStepTabIndex(o2, a3), s3._toggleOutlineStyles(o2, a3), a3.focus())), 38 === t5.keyCode && s3._currentView === wu && (t5.preventDefault(), c3 && (s3._toggleStepTabIndex(o2, c3), s3._toggleOutlineStyles(o2, c3), c3.focus())), 36 === t5.keyCode && (n4 = x.findOne(".".concat(w), s3._steps[0]), s3._toggleStepTabIndex(o2, n4), s3._toggleOutlineStyles(o2, n4), n4.focus()), 35 === t5.keyCode && (r4 = s3._steps[s3._steps.length - 1], a3 = x.findOne(".".concat(w), r4), s3._toggleStepTabIndex(o2, a3), s3._toggleOutlineStyles(o2, a3), a3.focus()), 13 !== t5.keyCode && 32 !== t5.keyCode || (t5.preventDefault(), s3.changeStep(s3._steps.indexOf(e4))), 9 === t5.keyCode && (s3._toggleStepTabIndex(o2, i3), s3._toggleOutlineStyles(o2, false), i3.focus());
        }), _.on(t4, xu, function(t5) {
          var e4 = x.parents(t5.currentTarget, ".".concat(Tu))[0], e4 = x.findOne(".".concat(w), e4), n4 = x.findOne(".".concat(w), s3.activeStep);
          9 === t5.keyCode && (s3._toggleStepTabIndex(e4, n4), s3._toggleOutlineStyles(false, n4), n4.focus());
        });
      });
    } }, { key: "_toggleStepTabIndex", value: function(t4, e4) {
      t4 && t4.setAttribute("tabIndex", -1), e4 && e4.setAttribute("tabIndex", 0);
    } }, { key: "_toggleOutlineStyles", value: function(t4, e4) {
      t4 && (t4.style.outline = ""), e4 && (e4.style.outline = "revert");
    } }, { key: "_toggleDisabled", value: function() {
      this._toggleStepClass(this._activeStepIndex, "add", Mu), this._toggleStepClass(this._activeStepIndex, "add", this._options.stepperDisabled);
    } }, { key: "_toggleActive", value: function(t4) {
      this._toggleStepClass(t4, "add", Au), this._toggleStepClass(this._activeStepIndex, "remove", Au), this._toggleStepClass(t4, "add", this._options.stepperActive), this._toggleStepClass(this._activeStepIndex, "remove", this._options.stepperActive);
    } }, { key: "_toggleCompleted", value: function(t4) {
      this._toggleStepClass(t4, "add", Du), this._toggleStepClass(t4, "remove", Pu), this._toggleStepClass(t4, "add", this._options.stepperCompleted), this._toggleStepClass(t4, "remove", this._options.stepperInvalid);
    } }, { key: "_hideInactiveSteps", value: function() {
      var e4 = this;
      this._steps.forEach(function(t4) {
        t4.classList.contains(Au) || e4._hideElement(x.findOne(".".concat(L), t4));
      });
    } }, { key: "_setHeight", value: function(t4) {
      var e4 = x.findOne(".".concat(L), t4), n4 = getComputedStyle(e4), t4 = x.findOne(".".concat(w), t4), r4 = getComputedStyle(t4), e4 = e4.offsetHeight + parseFloat(n4.marginTop) + parseFloat(n4.marginBottom), n4 = t4.offsetHeight + parseFloat(r4.marginTop) + parseFloat(r4.marginBottom);
      this._element.style.height = "".concat(n4 + e4, "px");
    } }, { key: "_hideElement", value: function(t4) {
      x.parents(t4, ".".concat(Tu))[0].classList.contains(Au) || this._currentView === wu ? t4.classList.add(Lu) : t4.style.display = "none";
    } }, { key: "_showElement", value: function(t4) {
      this._currentView === wu ? t4.classList.remove(Lu) : t4.style.display = "block";
    } }, { key: "_animateHorizontalStep", value: function(n4) {
      var t4, r4 = this, e4 = n4 > this._activeStepIndex, o2 = x.findOne(".".concat(L), this._steps[n4]), i3 = x.findOne(".".concat(L), this.activeStep);
      this._steps.forEach(function(t5, e5) {
        t5 = x.findOne(".".concat(L), t5);
        r4._clearStepAnimation(t5), e5 !== n4 && e5 !== r4._activeStepIndex && r4._hideElement(t5);
      }), e4 = e4 ? (t4 = "slide-out-left", "slide-in-right") : (t4 = "slide-out-right", "slide-in-left"), i3.classList.add(t4, "animation", "fast"), o2.classList.add(e4, "animation", "fast"), this._setHeight(this._steps[n4]), _.one(i3, ju, function(t5) {
        r4._clearStepAnimation(t5.target), r4._hideElement(t5.target);
      }), _.one(o2, ju, function(t5) {
        r4._clearStepAnimation(t5.target);
      });
    } }, { key: "_animateVerticalStep", value: function(t4) {
      var t4 = x.findOne(".".concat(L), this._steps[t4]), e4 = x.findOne(".".concat(L), this.activeStep);
      this._hideElement(e4), this._showElement(t4);
    } }, { key: "_clearStepAnimation", value: function(t4) {
      t4.classList.remove("slide-out-left", "slide-in-right", "slide-out-right", "slide-in-left", "animation", "fast");
    } }]) && mu(t3.prototype, e3), r3 && mu(t3, r3), Object.defineProperty(t3, "prototype", { writable: false }), n3;
  }(), bu = (x.find('[data-mdb-stepper="stepper"]').forEach(function(t3) {
    return Ru.getInstance(t3) || new Ru(t3);
  }), Ru);
  window.Alert = n2, window.Button = R, window.Dropdown = bn, window.Carousel = vo, window.Collapse = jn, window.Offcanvas = r2, window.Modal = Io, window.Popover = l2, window.ScrollSpy = o, window.Tab = _a, window.Toast = h, window.Tooltip = Ri, window.Ripple = zc, window.Datepicker = ds, window.Timepicker = t2, window.Stepper = bu;
}]);
const openplayer_min = "";
function binding(init2) {
  let state = 0;
  let value2;
  return () => {
    if (state === 2) {
      return value2;
    }
    if (state === 1) {
      throw new Error("Binding demanded before initialized");
    }
    state = 1;
    value2 = init2();
    state = 2;
    return value2;
  };
}
function fail$3() {
  throw new Error("Failed pattern match");
}
const $$const = (a2) => (v) => a2;
const applyFlipped = (x) => (f) => f(x);
const semigroupoidFn = { compose: (f) => (g) => (x) => f(g(x)) };
const unit = void 0;
const $Proxy = () => ({ tag: "Proxy" });
const $$Proxy = /* @__PURE__ */ $Proxy();
const arrayMap = function(f) {
  return function(arr) {
    var l2 = arr.length;
    var result2 = new Array(l2);
    for (var i2 = 0; i2 < l2; i2++) {
      result2[i2] = f(arr[i2]);
    }
    return result2;
  };
};
const functorArray = { map: arrayMap };
const identity$w = (x) => x;
const arrayBind = function(arr) {
  return function(f) {
    var result2 = [];
    for (var i2 = 0, l2 = arr.length; i2 < l2; i2++) {
      Array.prototype.push.apply(result2, f(arr[i2]));
    }
    return result2;
  };
};
const identity$v = (x) => x;
const unsafeHas = function(label) {
  return function(rec) {
    return {}.hasOwnProperty.call(rec, label);
  };
};
const unsafeGet = function(label) {
  return function(rec) {
    return rec[label];
  };
};
const unsafeSet = function(label) {
  return function(value2) {
    return function(rec) {
      var copy = {};
      for (var key in rec) {
        if ({}.hasOwnProperty.call(rec, key)) {
          copy[key] = rec[key];
        }
      }
      copy[label] = value2;
      return copy;
    };
  };
};
const unsafeDelete = function(label) {
  return function(rec) {
    var copy = {};
    for (var key in rec) {
      if (key !== label && {}.hasOwnProperty.call(rec, key)) {
        copy[key] = rec[key];
      }
    }
    return copy;
  };
};
const showIntImpl = function(n2) {
  return n2.toString();
};
const showNumberImpl = function(n2) {
  var str = n2.toString();
  return isNaN(str + ".0") ? str : str + ".0";
};
const showStringImpl = function(s2) {
  var l2 = s2.length;
  return '"' + s2.replace(
    /[\0-\x1F\x7F"\\]/g,
    function(c2, i2) {
      switch (c2) {
        case '"':
        case "\\":
          return "\\" + c2;
        case "\x07":
          return "\\a";
        case "\b":
          return "\\b";
        case "\f":
          return "\\f";
        case "\n":
          return "\\n";
        case "\r":
          return "\\r";
        case "	":
          return "\\t";
        case "\v":
          return "\\v";
      }
      var k = i2 + 1;
      var empty2 = k < l2 && s2[k] >= "0" && s2[k] <= "9" ? "\\&" : "";
      return "\\" + c2.charCodeAt(0).toString(10) + empty2;
    }
  ) + '"';
};
const showArrayImpl = function(f) {
  return function(xs) {
    var ss = [];
    for (var i2 = 0, l2 = xs.length; i2 < l2; i2++) {
      ss[i2] = f(xs[i2]);
    }
    return "[" + ss.join(",") + "]";
  };
};
const cons = function(head) {
  return function(tail2) {
    return [head].concat(tail2);
  };
};
const intercalate$2 = function(separator) {
  return function(xs) {
    return xs.join(separator);
  };
};
const $NoArguments = () => ({ tag: "NoArguments" });
const $Product = (_1, _2) => ({ tag: "Product", _1, _2 });
const $Sum = (tag, _1) => ({ tag, _1 });
const NoArguments = /* @__PURE__ */ $NoArguments();
const Constructor = (x) => x;
const Argument = (x) => x;
const $Ordering = (tag) => ({ tag });
const LT = /* @__PURE__ */ $Ordering("LT");
const GT = /* @__PURE__ */ $Ordering("GT");
const EQ = /* @__PURE__ */ $Ordering("EQ");
const $Maybe = (tag, _1) => ({ tag, _1 });
const Nothing = /* @__PURE__ */ $Maybe("Nothing");
const Just = (value0) => $Maybe("Just", value0);
const maybe = (v) => (v1) => (v2) => {
  if (v2.tag === "Nothing") {
    return v;
  }
  if (v2.tag === "Just") {
    return v1(v2._1);
  }
  fail$3();
};
const isNothing = (v2) => {
  if (v2.tag === "Nothing") {
    return true;
  }
  if (v2.tag === "Just") {
    return false;
  }
  fail$3();
};
const functorMaybe = {
  map: (v) => (v1) => {
    if (v1.tag === "Just") {
      return $Maybe("Just", v(v1._1));
    }
    return Nothing;
  }
};
const applyMaybe = {
  apply: (v) => (v1) => {
    if (v.tag === "Just") {
      if (v1.tag === "Just") {
        return $Maybe("Just", v._1(v1._1));
      }
      return Nothing;
    }
    if (v.tag === "Nothing") {
      return Nothing;
    }
    fail$3();
  },
  Functor0: () => functorMaybe
};
const applicativeMaybe = { pure: Just, Apply0: () => applyMaybe };
const altMaybe = {
  alt: (v) => (v1) => {
    if (v.tag === "Nothing") {
      return v1;
    }
    return v;
  },
  Functor0: () => functorMaybe
};
const plusMaybe = { empty: Nothing, Alt0: () => altMaybe };
const $Either = (tag, _1) => ({ tag, _1 });
const Left = (value0) => $Either("Left", value0);
const Right = (value0) => $Either("Right", value0);
const functorEither = {
  map: (f) => (m) => {
    if (m.tag === "Left") {
      return $Either("Left", m._1);
    }
    if (m.tag === "Right") {
      return $Either("Right", f(m._1));
    }
    fail$3();
  }
};
const applyEither$1 = {
  apply: (v) => (v1) => {
    if (v.tag === "Left") {
      return $Either("Left", v._1);
    }
    if (v.tag === "Right") {
      if (v1.tag === "Left") {
        return $Either("Left", v1._1);
      }
      if (v1.tag === "Right") {
        return $Either("Right", v._1(v1._1));
      }
      fail$3();
    }
    fail$3();
  },
  Functor0: () => functorEither
};
const bindEither = {
  bind: (v2) => {
    if (v2.tag === "Left") {
      return (v) => $Either("Left", v2._1);
    }
    if (v2.tag === "Right") {
      return (f) => f(v2._1);
    }
    fail$3();
  },
  Apply0: () => applyEither$1
};
const Identity = (x) => x;
const functorIdentity = { map: (f) => (m) => f(m) };
const applyIdentity = { apply: (v) => (v1) => v(v1), Functor0: () => functorIdentity };
const bindIdentity = { bind: (v) => (f) => f(v), Apply0: () => applyIdentity };
const applicativeIdentity = { pure: Identity, Apply0: () => applyIdentity };
const monadIdentity = { Applicative0: () => applicativeIdentity, Bind1: () => bindIdentity };
const pureE = function(a2) {
  return function() {
    return a2;
  };
};
const bindE = function(a2) {
  return function(f) {
    return function() {
      return f(a2())();
    };
  };
};
const foreachE = function(as) {
  return function(f) {
    return function() {
      for (var i2 = 0, l2 = as.length; i2 < l2; i2++) {
        f(as[i2])();
      }
    };
  };
};
const monadEffect = { Applicative0: () => applicativeEffect, Bind1: () => bindEffect };
const bindEffect = { bind: bindE, Apply0: () => applyEffect };
const applyEffect = {
  apply: (f) => (a2) => () => {
    const f$p = f();
    const a$p = a2();
    return applicativeEffect.pure(f$p(a$p))();
  },
  Functor0: () => functorEffect
};
const applicativeEffect = { pure: pureE, Apply0: () => applyEffect };
const functorEffect = {
  map: (f) => (a2) => () => {
    const a$p = a2();
    return f(a$p);
  }
};
const $Tuple = (_1, _2) => ({ tag: "Tuple", _1, _2 });
const Tuple = (value0) => (value1) => $Tuple(value0, value1);
const snd = (v) => v._2;
const functorTuple = { map: (f) => (m) => $Tuple(m._1, f(m._2)) };
const fst = (v) => v._1;
const ordTuple$1 = (dictOrd) => {
  const $1 = dictOrd.Eq0();
  return (dictOrd1) => {
    const $3 = dictOrd1.Eq0();
    const eqTuple2 = { eq: (x) => (y) => $1.eq(x._1)(y._1) && $3.eq(x._2)(y._2) };
    return {
      compare: (x) => (y) => {
        const v = dictOrd.compare(x._1)(y._1);
        if (v.tag === "LT") {
          return LT;
        }
        if (v.tag === "GT") {
          return GT;
        }
        return dictOrd1.compare(x._2)(y._2);
      },
      Eq0: () => eqTuple2
    };
  };
};
const curry = (f) => (a2) => (b) => f($Tuple(a2, b));
const withExceptT = (dictFunctor) => (f) => (v) => dictFunctor.map((v2) => {
  if (v2.tag === "Right") {
    return $Either("Right", v2._1);
  }
  if (v2.tag === "Left") {
    return $Either("Left", f(v2._1));
  }
  fail$3();
})(v);
const monadExceptT = (dictMonad) => ({ Applicative0: () => applicativeExceptT$3(dictMonad), Bind1: () => bindExceptT$1(dictMonad) });
const bindExceptT$1 = (dictMonad) => {
  const bind2 = dictMonad.Bind1().bind;
  const pure3 = dictMonad.Applicative0().pure;
  return {
    bind: (v) => (k) => bind2(v)((v2) => {
      if (v2.tag === "Left") {
        return pure3($Either("Left", v2._1));
      }
      if (v2.tag === "Right") {
        return k(v2._1);
      }
      fail$3();
    }),
    Apply0: () => applyExceptT(dictMonad)
  };
};
const applyExceptT = (dictMonad) => {
  const $1 = dictMonad.Bind1().Apply0().Functor0();
  const functorExceptT1 = { map: (f) => $1.map(functorEither.map(f)) };
  return {
    apply: (() => {
      const $3 = monadExceptT(dictMonad);
      const bind2 = $3.Bind1().bind;
      const pure3 = $3.Applicative0().pure;
      return (f) => (a2) => bind2(f)((f$p) => bind2(a2)((a$p) => pure3(f$p(a$p))));
    })(),
    Functor0: () => functorExceptT1
  };
};
const applicativeExceptT$3 = (dictMonad) => ({
  pure: (() => {
    const $1 = dictMonad.Applicative0().pure;
    return (x) => $1($Either("Right", x));
  })(),
  Apply0: () => applyExceptT(dictMonad)
});
const monadThrowExceptT = (dictMonad) => {
  const monadExceptT1 = monadExceptT(dictMonad);
  return {
    throwError: (() => {
      const $2 = dictMonad.Applicative0().pure;
      return (x) => $2($Either("Left", x));
    })(),
    Monad0: () => monadExceptT1
  };
};
const altExceptT = (dictSemigroup) => (dictMonad) => {
  const Bind1 = dictMonad.Bind1();
  const pure3 = dictMonad.Applicative0().pure;
  const $4 = Bind1.Apply0().Functor0();
  const functorExceptT1 = { map: (f) => $4.map(functorEither.map(f)) };
  return {
    alt: (v) => (v1) => Bind1.bind(v)((rm) => {
      if (rm.tag === "Right") {
        return pure3($Either("Right", rm._1));
      }
      if (rm.tag === "Left") {
        return Bind1.bind(v1)((rn) => {
          if (rn.tag === "Right") {
            return pure3($Either("Right", rn._1));
          }
          if (rn.tag === "Left") {
            return pure3($Either("Left", dictSemigroup.append(rm._1)(rn._1)));
          }
          fail$3();
        });
      }
      fail$3();
    }),
    Functor0: () => functorExceptT1
  };
};
const $NonEmpty = (_1, _2) => ({ tag: "NonEmpty", _1, _2 });
const functorNonEmpty = (dictFunctor) => ({ map: (f) => (m) => $NonEmpty(f(m._1), dictFunctor.map(f)(m._2)) });
const $List = (tag, _1, _2) => ({ tag, _1, _2 });
const identity$u = (x) => x;
const Nil = /* @__PURE__ */ $List("Nil");
const Cons = (value0) => (value1) => $List("Cons", value0, value1);
const listMap = (f) => {
  const chunkedRevMap = (chunkedRevMap$a0$copy) => (chunkedRevMap$a1$copy) => {
    let chunkedRevMap$a0 = chunkedRevMap$a0$copy, chunkedRevMap$a1 = chunkedRevMap$a1$copy, chunkedRevMap$c = true, chunkedRevMap$r;
    while (chunkedRevMap$c) {
      const chunksAcc = chunkedRevMap$a0, v = chunkedRevMap$a1;
      const $4 = (chunksAcc1, xs) => {
        const reverseUnrolledMap = (reverseUnrolledMap$a0$copy) => (reverseUnrolledMap$a1$copy) => {
          let reverseUnrolledMap$a0 = reverseUnrolledMap$a0$copy, reverseUnrolledMap$a1 = reverseUnrolledMap$a1$copy, reverseUnrolledMap$c = true, reverseUnrolledMap$r;
          while (reverseUnrolledMap$c) {
            const v1 = reverseUnrolledMap$a0, acc = reverseUnrolledMap$a1;
            if (v1.tag === "Cons") {
              if (v1._1.tag === "Cons") {
                if (v1._1._2.tag === "Cons") {
                  if (v1._1._2._2.tag === "Cons") {
                    reverseUnrolledMap$a0 = v1._2;
                    reverseUnrolledMap$a1 = $List("Cons", f(v1._1._1), $List("Cons", f(v1._1._2._1), $List("Cons", f(v1._1._2._2._1), acc)));
                    continue;
                  }
                  reverseUnrolledMap$c = false;
                  reverseUnrolledMap$r = acc;
                  continue;
                }
                reverseUnrolledMap$c = false;
                reverseUnrolledMap$r = acc;
                continue;
              }
              reverseUnrolledMap$c = false;
              reverseUnrolledMap$r = acc;
              continue;
            }
            reverseUnrolledMap$c = false;
            reverseUnrolledMap$r = acc;
            continue;
          }
          return reverseUnrolledMap$r;
        };
        return reverseUnrolledMap(chunksAcc1)((() => {
          if (xs.tag === "Cons") {
            if (xs._2.tag === "Cons") {
              if (xs._2._2.tag === "Nil") {
                return $List("Cons", f(xs._1), $List("Cons", f(xs._2._1), Nil));
              }
              return Nil;
            }
            if (xs._2.tag === "Nil") {
              return $List("Cons", f(xs._1), Nil);
            }
            return Nil;
          }
          return Nil;
        })());
      };
      if (v.tag === "Cons") {
        if (v._2.tag === "Cons") {
          if (v._2._2.tag === "Cons") {
            chunkedRevMap$a0 = $List("Cons", v, chunksAcc);
            chunkedRevMap$a1 = v._2._2._2;
            continue;
          }
          chunkedRevMap$c = false;
          chunkedRevMap$r = $4(chunksAcc, v);
          continue;
        }
        chunkedRevMap$c = false;
        chunkedRevMap$r = $4(chunksAcc, v);
        continue;
      }
      chunkedRevMap$c = false;
      chunkedRevMap$r = $4(chunksAcc, v);
      continue;
    }
    return chunkedRevMap$r;
  };
  return chunkedRevMap(Nil);
};
const functorList = { map: listMap };
const functorNonEmptyList = /* @__PURE__ */ functorNonEmpty(functorList);
const foldableList = {
  foldr: (f) => (b) => {
    const $2 = foldableList.foldl((b$1) => (a2) => f(a2)(b$1))(b);
    const $3 = (() => {
      const go = (go$a0$copy) => (go$a1$copy) => {
        let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
        while (go$c) {
          const acc = go$a0, v = go$a1;
          if (v.tag === "Nil") {
            go$c = false;
            go$r = acc;
            continue;
          }
          if (v.tag === "Cons") {
            go$a0 = $List("Cons", v._1, acc);
            go$a1 = v._2;
            continue;
          }
          fail$3();
        }
        return go$r;
      };
      return go(Nil);
    })();
    return (x) => $2($3(x));
  },
  foldl: (f) => {
    const go = (go$a0$copy) => (go$a1$copy) => {
      let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
      while (go$c) {
        const b = go$a0, v = go$a1;
        if (v.tag === "Nil") {
          go$c = false;
          go$r = b;
          continue;
        }
        if (v.tag === "Cons") {
          go$a0 = f(b)(v._1);
          go$a1 = v._2;
          continue;
        }
        fail$3();
      }
      return go$r;
    };
    return go;
  },
  foldMap: (dictMonoid) => {
    const append2 = dictMonoid.Semigroup0().append;
    return (f) => foldableList.foldl((acc) => {
      const $4 = append2(acc);
      return (x) => $4(f(x));
    })(dictMonoid.mempty);
  }
};
const foldableWithIndexList = {
  foldrWithIndex: (f) => (b) => (xs) => {
    const v = (() => {
      const go2 = (go$a0$copy) => (go$a1$copy) => {
        let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
        while (go$c) {
          const b$1 = go$a0, v2 = go$a1;
          if (v2.tag === "Nil") {
            go$c = false;
            go$r = b$1;
            continue;
          }
          if (v2.tag === "Cons") {
            go$a0 = $Tuple(b$1._1 + 1 | 0, $List("Cons", v2._1, b$1._2));
            go$a1 = v2._2;
            continue;
          }
          fail$3();
        }
        return go$r;
      };
      return go2($Tuple(0, Nil))(xs);
    })();
    const go = (go$a0$copy) => (go$a1$copy) => {
      let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
      while (go$c) {
        const b$1 = go$a0, v$1 = go$a1;
        if (v$1.tag === "Nil") {
          go$c = false;
          go$r = b$1;
          continue;
        }
        if (v$1.tag === "Cons") {
          go$a0 = $Tuple(b$1._1 - 1 | 0, f(b$1._1 - 1 | 0)(v$1._1)(b$1._2));
          go$a1 = v$1._2;
          continue;
        }
        fail$3();
      }
      return go$r;
    };
    return go($Tuple(v._1, b))(v._2)._2;
  },
  foldlWithIndex: (f) => (acc) => {
    const $2 = (() => {
      const go = (go$a0$copy) => (go$a1$copy) => {
        let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
        while (go$c) {
          const b = go$a0, v = go$a1;
          if (v.tag === "Nil") {
            go$c = false;
            go$r = b;
            continue;
          }
          if (v.tag === "Cons") {
            go$a0 = $Tuple(b._1 + 1 | 0, f(b._1)(b._2)(v._1));
            go$a1 = v._2;
            continue;
          }
          fail$3();
        }
        return go$r;
      };
      return go($Tuple(0, acc));
    })();
    return (x) => $2(x)._2;
  },
  foldMapWithIndex: (dictMonoid) => {
    const append2 = dictMonoid.Semigroup0().append;
    return (f) => foldableWithIndexList.foldlWithIndex((i2) => (acc) => {
      const $5 = append2(acc);
      const $6 = f(i2);
      return (x) => $5($6(x));
    })(dictMonoid.mempty);
  },
  Foldable0: () => foldableList
};
const semigroupNonEmptyList = { append: (v) => (as$p) => $NonEmpty(v._1, foldableList.foldr(Cons)($List("Cons", as$p._1, as$p._2))(v._2)) };
const showList = (dictShow) => ({
  show: (v) => {
    if (v.tag === "Nil") {
      return "Nil";
    }
    const go = (go$a0$copy) => (go$a1$copy) => {
      let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
      while (go$c) {
        const b = go$a0, v$1 = go$a1;
        if (v$1.tag === "Nil") {
          go$c = false;
          go$r = b;
          continue;
        }
        if (v$1.tag === "Cons") {
          go$a0 = (() => {
            if (b.init) {
              return { init: false, acc: v$1._1 };
            }
            return { init: false, acc: b.acc + (" : " + v$1._1) };
          })();
          go$a1 = v$1._2;
          continue;
        }
        fail$3();
      }
      return go$r;
    };
    return "(" + (go({ init: true, acc: "" })(listMap(dictShow.show)(v)).acc + " : Nil)");
  }
});
const showNonEmptyList = (dictShow) => {
  const $1 = showList(dictShow);
  return { show: (v) => "(NonEmptyList (NonEmpty " + (dictShow.show(v._1) + (" " + ($1.show(v._2) + ")"))) + ")" };
};
const traversableList = {
  traverse: (dictApplicative) => {
    const Apply0 = dictApplicative.Apply0();
    const map1 = Apply0.Functor0().map;
    const map2 = Apply0.Functor0().map;
    return (f) => {
      const $5 = map1((() => {
        const go = (go$a0$copy) => (go$a1$copy) => {
          let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
          while (go$c) {
            const b = go$a0, v = go$a1;
            if (v.tag === "Nil") {
              go$c = false;
              go$r = b;
              continue;
            }
            if (v.tag === "Cons") {
              go$a0 = $List("Cons", v._1, b);
              go$a1 = v._2;
              continue;
            }
            fail$3();
          }
          return go$r;
        };
        return go(Nil);
      })());
      const $6 = (() => {
        const go = (go$a0$copy) => (go$a1$copy) => {
          let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
          while (go$c) {
            const b = go$a0, v = go$a1;
            if (v.tag === "Nil") {
              go$c = false;
              go$r = b;
              continue;
            }
            if (v.tag === "Cons") {
              go$a0 = Apply0.apply(map2((b$1) => (a2) => $List("Cons", a2, b$1))(b))(f(v._1));
              go$a1 = v._2;
              continue;
            }
            fail$3();
          }
          return go$r;
        };
        return go(dictApplicative.pure(Nil));
      })();
      return (x) => $5($6(x));
    };
  },
  sequence: (dictApplicative) => traversableList.traverse(dictApplicative)(identity$u),
  Functor0: () => functorList,
  Foldable1: () => foldableList
};
function showErrorImpl(err) {
  return err.stack || err.toString();
}
function error$1(msg) {
  return new Error(msg);
}
function message(e2) {
  return e2.message;
}
function throwException(e2) {
  return function() {
    throw e2;
  };
}
function catchException(c2) {
  return function(t2) {
    return function() {
      try {
        return t2();
      } catch (e2) {
        if (e2 instanceof Error || Object.prototype.toString.call(e2) === "[object Error]") {
          return c2(e2)();
        } else {
          return c2(new Error(e2.toString()))();
        }
      }
    };
  };
}
const $$try$2 = (dictMonadError) => {
  const Monad0 = dictMonadError.MonadThrow0().Monad0();
  const map2 = Monad0.Bind1().Apply0().Functor0().map;
  const pure3 = Monad0.Applicative0().pure;
  return (a2) => dictMonadError.catchError(map2(Right)(a2))((x) => pure3($Either("Left", x)));
};
const semigroupFirst = {
  append: (v) => (v1) => {
    if (v.tag === "Just") {
      return v;
    }
    return v1;
  }
};
const monoidFirst = { mempty: Nothing, Semigroup0: () => semigroupFirst };
const foldrArray = function(f) {
  return function(init2) {
    return function(xs) {
      var acc = init2;
      var len = xs.length;
      for (var i2 = len - 1; i2 >= 0; i2--) {
        acc = f(xs[i2])(acc);
      }
      return acc;
    };
  };
};
const foldlArray = function(f) {
  return function(init2) {
    return function(xs) {
      var acc = init2;
      var len = xs.length;
      for (var i2 = 0; i2 < len; i2++) {
        acc = f(acc)(xs[i2]);
      }
      return acc;
    };
  };
};
const identity$t = (x) => x;
const traverse_$7 = (dictApplicative) => {
  const $1 = dictApplicative.Apply0();
  const map2 = $1.Functor0().map;
  return (dictFoldable) => (f) => dictFoldable.foldr((x) => {
    const $6 = f(x);
    return (b) => $1.apply(map2((v) => identity$w)($6))(b);
  })(dictApplicative.pure(unit));
};
const for_$9 = (dictApplicative) => {
  const traverse_1 = traverse_$7(dictApplicative);
  return (dictFoldable) => {
    const $3 = traverse_1(dictFoldable);
    return (b) => (a2) => $3(a2)(b);
  };
};
const foldableTuple = { foldr: (f) => (z) => (v) => f(v._2)(z), foldl: (f) => (z) => (v) => f(z)(v._2), foldMap: (dictMonoid) => (f) => (v) => f(v._2) };
const foldableMaybe = {
  foldr: (v) => (z) => (v1) => {
    if (v1.tag === "Nothing") {
      return z;
    }
    if (v1.tag === "Just") {
      return v(v1._1)(z);
    }
    fail$3();
  },
  foldl: (v) => (z) => (v1) => {
    if (v1.tag === "Nothing") {
      return z;
    }
    if (v1.tag === "Just") {
      return v(z)(v1._1);
    }
    fail$3();
  },
  foldMap: (dictMonoid) => (v) => (v1) => {
    if (v1.tag === "Nothing") {
      return dictMonoid.mempty;
    }
    if (v1.tag === "Just") {
      return v(v1._1);
    }
    fail$3();
  }
};
const foldableArray = {
  foldr: foldrArray,
  foldl: foldlArray,
  foldMap: (dictMonoid) => {
    const append = dictMonoid.Semigroup0().append;
    return (f) => foldableArray.foldr((x) => (acc) => append(f(x))(acc))(dictMonoid.mempty);
  }
};
const lookup$3 = (dictFoldable) => {
  const foldMap2 = dictFoldable.foldMap(monoidFirst);
  return (dictEq) => (a2) => foldMap2((v) => {
    if (dictEq.eq(a2)(v._1)) {
      return $Maybe("Just", v._2);
    }
    return Nothing;
  });
};
const parTraverse_$1 = (dictParallel) => {
  const traverse_2 = traverse_$7(dictParallel.Applicative1());
  return (dictFoldable) => {
    const traverse_1 = traverse_2(dictFoldable);
    return (f) => {
      const $5 = traverse_1((x) => dictParallel.parallel(f(x)));
      return (x) => dictParallel.sequential($5(x));
    };
  };
};
const unsafePerformEffect = function(f) {
  return f();
};
const _crashWith = function(msg) {
  throw new Error(msg);
};
const unsafeCoerce = function(x) {
  return x;
};
var Aff = function() {
  var EMPTY = {};
  var PURE = "Pure";
  var THROW = "Throw";
  var CATCH = "Catch";
  var SYNC = "Sync";
  var ASYNC = "Async";
  var BIND = "Bind";
  var BRACKET = "Bracket";
  var FORK = "Fork";
  var SEQ = "Sequential";
  var MAP = "Map";
  var APPLY = "Apply";
  var ALT = "Alt";
  var CONS = "Cons";
  var RESUME = "Resume";
  var RELEASE = "Release";
  var FINALIZER = "Finalizer";
  var FINALIZED = "Finalized";
  var FORKED = "Forked";
  function Aff2(tag, _1, _2, _3) {
    this.tag = tag;
    this._1 = _1;
    this._2 = _2;
    this._3 = _3;
  }
  function AffCtr(tag) {
    var fn = function(_1, _2, _3) {
      return new Aff2(tag, _1, _2, _3);
    };
    fn.tag = tag;
    return fn;
  }
  function nonCanceler2(error2) {
    return new Aff2(PURE, void 0);
  }
  function runEff(eff) {
    try {
      eff();
    } catch (error2) {
      setTimeout(function() {
        throw error2;
      }, 0);
    }
  }
  function runSync(left, right, eff) {
    try {
      return right(eff());
    } catch (error2) {
      return left(error2);
    }
  }
  function runAsync(left, eff, k) {
    try {
      return eff(k)();
    } catch (error2) {
      k(left(error2))();
      return nonCanceler2;
    }
  }
  var Scheduler = function() {
    var limit = 1024;
    var size = 0;
    var ix = 0;
    var queue = new Array(limit);
    var draining = false;
    function drain() {
      var thunk;
      draining = true;
      while (size !== 0) {
        size--;
        thunk = queue[ix];
        queue[ix] = void 0;
        ix = (ix + 1) % limit;
        thunk();
      }
      draining = false;
    }
    return {
      isDraining: function() {
        return draining;
      },
      enqueue: function(cb) {
        var tmp;
        if (size === limit) {
          tmp = draining;
          drain();
          draining = tmp;
        }
        queue[(ix + size) % limit] = cb;
        size++;
        if (!draining) {
          drain();
        }
      }
    };
  }();
  function Supervisor(util) {
    var fibers = {};
    var fiberId = 0;
    var count = 0;
    return {
      register: function(fiber) {
        var fid = fiberId++;
        fiber.onComplete({
          rethrow: true,
          handler: function(result2) {
            return function() {
              count--;
              delete fibers[fid];
            };
          }
        })();
        fibers[fid] = fiber;
        count++;
      },
      isEmpty: function() {
        return count === 0;
      },
      killAll: function(killError, cb) {
        return function() {
          if (count === 0) {
            return cb();
          }
          var killCount = 0;
          var kills = {};
          function kill(fid) {
            kills[fid] = fibers[fid].kill(killError, function(result2) {
              return function() {
                delete kills[fid];
                killCount--;
                if (util.isLeft(result2) && util.fromLeft(result2)) {
                  setTimeout(function() {
                    throw util.fromLeft(result2);
                  }, 0);
                }
                if (killCount === 0) {
                  cb();
                }
              };
            })();
          }
          for (var k in fibers) {
            if (fibers.hasOwnProperty(k)) {
              killCount++;
              kill(k);
            }
          }
          fibers = {};
          fiberId = 0;
          count = 0;
          return function(error2) {
            return new Aff2(SYNC, function() {
              for (var k2 in kills) {
                if (kills.hasOwnProperty(k2)) {
                  kills[k2]();
                }
              }
            });
          };
        };
      }
    };
  }
  var SUSPENDED = 0;
  var CONTINUE = 1;
  var STEP_BIND = 2;
  var STEP_RESULT = 3;
  var PENDING = 4;
  var RETURN = 5;
  var COMPLETED = 6;
  function Fiber(util, supervisor, aff) {
    var runTick = 0;
    var status = SUSPENDED;
    var step = aff;
    var fail2 = null;
    var interrupt = null;
    var bhead = null;
    var btail = null;
    var attempts = null;
    var bracketCount = 0;
    var joinId = 0;
    var joins = null;
    var rethrow = true;
    function run3(localRunTick) {
      var tmp, result2, attempt;
      while (true) {
        tmp = null;
        result2 = null;
        attempt = null;
        switch (status) {
          case STEP_BIND:
            status = CONTINUE;
            try {
              step = bhead(step);
              if (btail === null) {
                bhead = null;
              } else {
                bhead = btail._1;
                btail = btail._2;
              }
            } catch (e2) {
              status = RETURN;
              fail2 = util.left(e2);
              step = null;
            }
            break;
          case STEP_RESULT:
            if (util.isLeft(step)) {
              status = RETURN;
              fail2 = step;
              step = null;
            } else if (bhead === null) {
              status = RETURN;
            } else {
              status = STEP_BIND;
              step = util.fromRight(step);
            }
            break;
          case CONTINUE:
            switch (step.tag) {
              case BIND:
                if (bhead) {
                  btail = new Aff2(CONS, bhead, btail);
                }
                bhead = step._2;
                status = CONTINUE;
                step = step._1;
                break;
              case PURE:
                if (bhead === null) {
                  status = RETURN;
                  step = util.right(step._1);
                } else {
                  status = STEP_BIND;
                  step = step._1;
                }
                break;
              case SYNC:
                status = STEP_RESULT;
                step = runSync(util.left, util.right, step._1);
                break;
              case ASYNC:
                status = PENDING;
                step = runAsync(util.left, step._1, function(result3) {
                  return function() {
                    if (runTick !== localRunTick) {
                      return;
                    }
                    runTick++;
                    Scheduler.enqueue(function() {
                      if (runTick !== localRunTick + 1) {
                        return;
                      }
                      status = STEP_RESULT;
                      step = result3;
                      run3(runTick);
                    });
                  };
                });
                return;
              case THROW:
                status = RETURN;
                fail2 = util.left(step._1);
                step = null;
                break;
              case CATCH:
                if (bhead === null) {
                  attempts = new Aff2(CONS, step, attempts, interrupt);
                } else {
                  attempts = new Aff2(CONS, step, new Aff2(CONS, new Aff2(RESUME, bhead, btail), attempts, interrupt), interrupt);
                }
                bhead = null;
                btail = null;
                status = CONTINUE;
                step = step._1;
                break;
              case BRACKET:
                bracketCount++;
                if (bhead === null) {
                  attempts = new Aff2(CONS, step, attempts, interrupt);
                } else {
                  attempts = new Aff2(CONS, step, new Aff2(CONS, new Aff2(RESUME, bhead, btail), attempts, interrupt), interrupt);
                }
                bhead = null;
                btail = null;
                status = CONTINUE;
                step = step._1;
                break;
              case FORK:
                status = STEP_RESULT;
                tmp = Fiber(util, supervisor, step._2);
                if (supervisor) {
                  supervisor.register(tmp);
                }
                if (step._1) {
                  tmp.run();
                }
                step = util.right(tmp);
                break;
              case SEQ:
                status = CONTINUE;
                step = sequential(util, supervisor, step._1);
                break;
            }
            break;
          case RETURN:
            bhead = null;
            btail = null;
            if (attempts === null) {
              status = COMPLETED;
              step = interrupt || fail2 || step;
            } else {
              tmp = attempts._3;
              attempt = attempts._1;
              attempts = attempts._2;
              switch (attempt.tag) {
                case CATCH:
                  if (interrupt && interrupt !== tmp && bracketCount === 0) {
                    status = RETURN;
                  } else if (fail2) {
                    status = CONTINUE;
                    step = attempt._2(util.fromLeft(fail2));
                    fail2 = null;
                  }
                  break;
                case RESUME:
                  if (interrupt && interrupt !== tmp && bracketCount === 0 || fail2) {
                    status = RETURN;
                  } else {
                    bhead = attempt._1;
                    btail = attempt._2;
                    status = STEP_BIND;
                    step = util.fromRight(step);
                  }
                  break;
                case BRACKET:
                  bracketCount--;
                  if (fail2 === null) {
                    result2 = util.fromRight(step);
                    attempts = new Aff2(CONS, new Aff2(RELEASE, attempt._2, result2), attempts, tmp);
                    if (interrupt === tmp || bracketCount > 0) {
                      status = CONTINUE;
                      step = attempt._3(result2);
                    }
                  }
                  break;
                case RELEASE:
                  attempts = new Aff2(CONS, new Aff2(FINALIZED, step, fail2), attempts, interrupt);
                  status = CONTINUE;
                  if (interrupt && interrupt !== tmp && bracketCount === 0) {
                    step = attempt._1.killed(util.fromLeft(interrupt))(attempt._2);
                  } else if (fail2) {
                    step = attempt._1.failed(util.fromLeft(fail2))(attempt._2);
                  } else {
                    step = attempt._1.completed(util.fromRight(step))(attempt._2);
                  }
                  fail2 = null;
                  bracketCount++;
                  break;
                case FINALIZER:
                  bracketCount++;
                  attempts = new Aff2(CONS, new Aff2(FINALIZED, step, fail2), attempts, interrupt);
                  status = CONTINUE;
                  step = attempt._1;
                  break;
                case FINALIZED:
                  bracketCount--;
                  status = RETURN;
                  step = attempt._1;
                  fail2 = attempt._2;
                  break;
              }
            }
            break;
          case COMPLETED:
            for (var k in joins) {
              if (joins.hasOwnProperty(k)) {
                rethrow = rethrow && joins[k].rethrow;
                runEff(joins[k].handler(step));
              }
            }
            joins = null;
            if (interrupt && fail2) {
              setTimeout(function() {
                throw util.fromLeft(fail2);
              }, 0);
            } else if (util.isLeft(step) && rethrow) {
              setTimeout(function() {
                if (rethrow) {
                  throw util.fromLeft(step);
                }
              }, 0);
            }
            return;
          case SUSPENDED:
            status = CONTINUE;
            break;
          case PENDING:
            return;
        }
      }
    }
    function onComplete(join2) {
      return function() {
        if (status === COMPLETED) {
          rethrow = rethrow && join2.rethrow;
          join2.handler(step)();
          return function() {
          };
        }
        var jid = joinId++;
        joins = joins || {};
        joins[jid] = join2;
        return function() {
          if (joins !== null) {
            delete joins[jid];
          }
        };
      };
    }
    function kill(error2, cb) {
      return function() {
        if (status === COMPLETED) {
          cb(util.right(void 0))();
          return function() {
          };
        }
        var canceler = onComplete({
          rethrow: false,
          handler: function() {
            return cb(util.right(void 0));
          }
        })();
        switch (status) {
          case SUSPENDED:
            interrupt = util.left(error2);
            status = COMPLETED;
            step = interrupt;
            run3(runTick);
            break;
          case PENDING:
            if (interrupt === null) {
              interrupt = util.left(error2);
            }
            if (bracketCount === 0) {
              if (status === PENDING) {
                attempts = new Aff2(CONS, new Aff2(FINALIZER, step(error2)), attempts, interrupt);
              }
              status = RETURN;
              step = null;
              fail2 = null;
              run3(++runTick);
            }
            break;
          default:
            if (interrupt === null) {
              interrupt = util.left(error2);
            }
            if (bracketCount === 0) {
              status = RETURN;
              step = null;
              fail2 = null;
            }
        }
        return canceler;
      };
    }
    function join(cb) {
      return function() {
        var canceler = onComplete({
          rethrow: false,
          handler: cb
        })();
        if (status === SUSPENDED) {
          run3(runTick);
        }
        return canceler;
      };
    }
    return {
      kill,
      join,
      onComplete,
      isSuspended: function() {
        return status === SUSPENDED;
      },
      run: function() {
        if (status === SUSPENDED) {
          if (!Scheduler.isDraining()) {
            Scheduler.enqueue(function() {
              run3(runTick);
            });
          } else {
            run3(runTick);
          }
        }
      }
    };
  }
  function runPar(util, supervisor, par, cb) {
    var fiberId = 0;
    var fibers = {};
    var killId = 0;
    var kills = {};
    var early = new Error("[ParAff] Early exit");
    var interrupt = null;
    var root2 = EMPTY;
    function kill(error2, par2, cb2) {
      var step = par2;
      var head = null;
      var tail2 = null;
      var count = 0;
      var kills2 = {};
      var tmp, kid;
      loop:
        while (true) {
          tmp = null;
          switch (step.tag) {
            case FORKED:
              if (step._3 === EMPTY) {
                tmp = fibers[step._1];
                kills2[count++] = tmp.kill(error2, function(result2) {
                  return function() {
                    count--;
                    if (count === 0) {
                      cb2(result2)();
                    }
                  };
                });
              }
              if (head === null) {
                break loop;
              }
              step = head._2;
              if (tail2 === null) {
                head = null;
              } else {
                head = tail2._1;
                tail2 = tail2._2;
              }
              break;
            case MAP:
              step = step._2;
              break;
            case APPLY:
            case ALT:
              if (head) {
                tail2 = new Aff2(CONS, head, tail2);
              }
              head = step;
              step = step._1;
              break;
          }
        }
      if (count === 0) {
        cb2(util.right(void 0))();
      } else {
        kid = 0;
        tmp = count;
        for (; kid < tmp; kid++) {
          kills2[kid] = kills2[kid]();
        }
      }
      return kills2;
    }
    function join(result2, head, tail2) {
      var fail2, step, lhs, rhs, tmp, kid;
      if (util.isLeft(result2)) {
        fail2 = result2;
        step = null;
      } else {
        step = result2;
        fail2 = null;
      }
      while (true) {
        lhs = null;
        rhs = null;
        tmp = null;
        kid = null;
        if (interrupt !== null) {
          return;
        }
        if (head === null) {
          cb(fail2 || step)();
          return;
        }
        if (head._3 !== EMPTY) {
          return;
        }
        switch (head.tag) {
          case MAP:
            if (fail2 === null) {
              head._3 = util.right(head._1(util.fromRight(step)));
              step = head._3;
            } else {
              head._3 = fail2;
            }
            break;
          case APPLY:
            lhs = head._1._3;
            rhs = head._2._3;
            if (fail2) {
              head._3 = fail2;
              tmp = true;
              kid = killId++;
              kills[kid] = kill(early, fail2 === lhs ? head._2 : head._1, function() {
                return function() {
                  delete kills[kid];
                  if (tmp) {
                    tmp = false;
                  } else if (tail2 === null) {
                    join(fail2, null, null);
                  } else {
                    join(fail2, tail2._1, tail2._2);
                  }
                };
              });
              if (tmp) {
                tmp = false;
                return;
              }
            } else if (lhs === EMPTY || rhs === EMPTY) {
              return;
            } else {
              step = util.right(util.fromRight(lhs)(util.fromRight(rhs)));
              head._3 = step;
            }
            break;
          case ALT:
            lhs = head._1._3;
            rhs = head._2._3;
            if (lhs === EMPTY && util.isLeft(rhs) || rhs === EMPTY && util.isLeft(lhs)) {
              return;
            }
            if (lhs !== EMPTY && util.isLeft(lhs) && rhs !== EMPTY && util.isLeft(rhs)) {
              fail2 = step === lhs ? rhs : lhs;
              step = null;
              head._3 = fail2;
            } else {
              head._3 = step;
              tmp = true;
              kid = killId++;
              kills[kid] = kill(early, step === lhs ? head._2 : head._1, function() {
                return function() {
                  delete kills[kid];
                  if (tmp) {
                    tmp = false;
                  } else if (tail2 === null) {
                    join(step, null, null);
                  } else {
                    join(step, tail2._1, tail2._2);
                  }
                };
              });
              if (tmp) {
                tmp = false;
                return;
              }
            }
            break;
        }
        if (tail2 === null) {
          head = null;
        } else {
          head = tail2._1;
          tail2 = tail2._2;
        }
      }
    }
    function resolve2(fiber) {
      return function(result2) {
        return function() {
          delete fibers[fiber._1];
          fiber._3 = result2;
          join(result2, fiber._2._1, fiber._2._2);
        };
      };
    }
    function run3() {
      var status = CONTINUE;
      var step = par;
      var head = null;
      var tail2 = null;
      var tmp, fid;
      loop:
        while (true) {
          tmp = null;
          fid = null;
          switch (status) {
            case CONTINUE:
              switch (step.tag) {
                case MAP:
                  if (head) {
                    tail2 = new Aff2(CONS, head, tail2);
                  }
                  head = new Aff2(MAP, step._1, EMPTY, EMPTY);
                  step = step._2;
                  break;
                case APPLY:
                  if (head) {
                    tail2 = new Aff2(CONS, head, tail2);
                  }
                  head = new Aff2(APPLY, EMPTY, step._2, EMPTY);
                  step = step._1;
                  break;
                case ALT:
                  if (head) {
                    tail2 = new Aff2(CONS, head, tail2);
                  }
                  head = new Aff2(ALT, EMPTY, step._2, EMPTY);
                  step = step._1;
                  break;
                default:
                  fid = fiberId++;
                  status = RETURN;
                  tmp = step;
                  step = new Aff2(FORKED, fid, new Aff2(CONS, head, tail2), EMPTY);
                  tmp = Fiber(util, supervisor, tmp);
                  tmp.onComplete({
                    rethrow: false,
                    handler: resolve2(step)
                  })();
                  fibers[fid] = tmp;
                  if (supervisor) {
                    supervisor.register(tmp);
                  }
              }
              break;
            case RETURN:
              if (head === null) {
                break loop;
              }
              if (head._1 === EMPTY) {
                head._1 = step;
                status = CONTINUE;
                step = head._2;
                head._2 = EMPTY;
              } else {
                head._2 = step;
                step = head;
                if (tail2 === null) {
                  head = null;
                } else {
                  head = tail2._1;
                  tail2 = tail2._2;
                }
              }
          }
        }
      root2 = step;
      for (fid = 0; fid < fiberId; fid++) {
        fibers[fid].run();
      }
    }
    function cancel(error2, cb2) {
      interrupt = util.left(error2);
      var innerKills;
      for (var kid in kills) {
        if (kills.hasOwnProperty(kid)) {
          innerKills = kills[kid];
          for (kid in innerKills) {
            if (innerKills.hasOwnProperty(kid)) {
              innerKills[kid]();
            }
          }
        }
      }
      kills = null;
      var newKills = kill(error2, root2, cb2);
      return function(killError) {
        return new Aff2(ASYNC, function(killCb) {
          return function() {
            for (var kid2 in newKills) {
              if (newKills.hasOwnProperty(kid2)) {
                newKills[kid2]();
              }
            }
            return nonCanceler2;
          };
        });
      };
    }
    run3();
    return function(killError) {
      return new Aff2(ASYNC, function(killCb) {
        return function() {
          return cancel(killError, killCb);
        };
      });
    };
  }
  function sequential(util, supervisor, par) {
    return new Aff2(ASYNC, function(cb) {
      return function() {
        return runPar(util, supervisor, par, cb);
      };
    });
  }
  Aff2.EMPTY = EMPTY;
  Aff2.Pure = AffCtr(PURE);
  Aff2.Throw = AffCtr(THROW);
  Aff2.Catch = AffCtr(CATCH);
  Aff2.Sync = AffCtr(SYNC);
  Aff2.Async = AffCtr(ASYNC);
  Aff2.Bind = AffCtr(BIND);
  Aff2.Bracket = AffCtr(BRACKET);
  Aff2.Fork = AffCtr(FORK);
  Aff2.Seq = AffCtr(SEQ);
  Aff2.ParMap = AffCtr(MAP);
  Aff2.ParApply = AffCtr(APPLY);
  Aff2.ParAlt = AffCtr(ALT);
  Aff2.Fiber = Fiber;
  Aff2.Supervisor = Supervisor;
  Aff2.Scheduler = Scheduler;
  Aff2.nonCanceler = nonCanceler2;
  return Aff2;
}();
const _pure = Aff.Pure;
const _throwError = Aff.Throw;
function _catchError(aff) {
  return function(k) {
    return Aff.Catch(aff, k);
  };
}
function _map(f) {
  return function(aff) {
    if (aff.tag === Aff.Pure.tag) {
      return Aff.Pure(f(aff._1));
    } else {
      return Aff.Bind(aff, function(value2) {
        return Aff.Pure(f(value2));
      });
    }
  };
}
function _bind(aff) {
  return function(k) {
    return Aff.Bind(aff, k);
  };
}
function _fork(immediate) {
  return function(aff) {
    return Aff.Fork(immediate, aff);
  };
}
const _liftEffect = Aff.Sync;
function _parAffMap(f) {
  return function(aff) {
    return Aff.ParMap(f, aff);
  };
}
function _parAffApply(aff1) {
  return function(aff2) {
    return Aff.ParApply(aff1, aff2);
  };
}
const makeAff = Aff.Async;
function _makeFiber(util, aff) {
  return function() {
    return Aff.Fiber(util, null, aff);
  };
}
const _delay = function() {
  function setDelay(n2, k) {
    if (n2 === 0 && typeof setImmediate !== "undefined") {
      return setImmediate(k);
    } else {
      return setTimeout(k, n2);
    }
  }
  function clearDelay(n2, t2) {
    if (n2 === 0 && typeof clearImmediate !== "undefined") {
      return clearImmediate(t2);
    } else {
      return clearTimeout(t2);
    }
  }
  return function(right, ms) {
    return Aff.Async(function(cb) {
      return function() {
        var timer = setDelay(ms, cb(right()));
        return function() {
          return Aff.Sync(function() {
            return right(clearDelay(ms, timer));
          });
        };
      };
    });
  };
}();
const _sequential = Aff.Seq;
const functorParAff = { map: _parAffMap };
const functorAff = { map: _map };
const forkAff = /* @__PURE__ */ _fork(true);
const ffiUtil$1 = {
  isLeft: (v) => {
    if (v.tag === "Left") {
      return true;
    }
    if (v.tag === "Right") {
      return false;
    }
    fail$3();
  },
  fromLeft: (v) => {
    if (v.tag === "Left") {
      return v._1;
    }
    if (v.tag === "Right") {
      return _crashWith("unsafeFromLeft: Right");
    }
    fail$3();
  },
  fromRight: (v) => {
    if (v.tag === "Right") {
      return v._1;
    }
    if (v.tag === "Left") {
      return _crashWith("unsafeFromRight: Left");
    }
    fail$3();
  },
  left: Left,
  right: Right
};
const applyParAff = { apply: _parAffApply, Functor0: () => functorParAff };
const monadAff = { Applicative0: () => applicativeAff, Bind1: () => bindAff };
const bindAff = { bind: _bind, Apply0: () => applyAff };
const applyAff = { apply: (f) => (a2) => _bind(f)((f$p) => _bind(a2)((a$p) => applicativeAff.pure(f$p(a$p)))), Functor0: () => functorAff };
const applicativeAff = { pure: _pure, Apply0: () => applyAff };
const joinFiber = (v) => makeAff((k) => {
  const $2 = v.join(k);
  return () => {
    const a$p = $2();
    return (() => {
      const $4 = _liftEffect(a$p);
      return (v$1) => $4;
    })();
  };
});
const monadThrowAff = { throwError: _throwError, Monad0: () => monadAff };
const monadErrorAff = { catchError: _catchError, MonadThrow0: () => monadThrowAff };
const parallelAff = { parallel: unsafeCoerce, sequential: _sequential, Monad0: () => monadAff, Applicative1: () => applicativeParAff };
const applicativeParAff = { pure: (x) => _pure(x), Apply0: () => applyParAff };
const monoidAff = (dictMonoid) => {
  const $1 = dictMonoid.Semigroup0();
  const semigroupAff1 = { append: (a2) => (b) => applyAff.apply(_map($1.append)(a2))(b) };
  return { mempty: _pure(dictMonoid.mempty), Semigroup0: () => semigroupAff1 };
};
const nonCanceler = /* @__PURE__ */ (() => {
  const $0 = _pure(unit);
  return (v) => $0;
})();
const never = /* @__PURE__ */ makeAff((v) => () => nonCanceler);
const isFiniteImpl = isFinite;
const abs = Math.abs;
const cos = Math.cos;
const floor = Math.floor;
const pow = function(n2) {
  return function(p2) {
    return Math.pow(n2, p2);
  };
};
const remainder = function(n2) {
  return function(m) {
    return n2 % m;
  };
};
const round = Math.round;
const sin = Math.sin;
const sqrt = Math.sqrt;
const fromNumberImpl = function(just) {
  return function(nothing) {
    return function(n2) {
      return (n2 | 0) === n2 ? just(n2) : nothing;
    };
  };
};
const toNumber = function(n2) {
  return n2;
};
const fromNumber = /* @__PURE__ */ fromNumberImpl(Just)(Nothing);
const unsafeClamp = (x) => {
  if (!isFiniteImpl(x)) {
    return 0;
  }
  if (x >= toNumber(2147483647)) {
    return 2147483647;
  }
  if (x <= toNumber(-2147483648)) {
    return -2147483648;
  }
  const $1 = fromNumber(x);
  if ($1.tag === "Nothing") {
    return 0;
  }
  if ($1.tag === "Just") {
    return $1._1;
  }
  fail$3();
};
var refEq = function(r1) {
  return function(r2) {
    return r1 === r2;
  };
};
const eqBooleanImpl = refEq;
const eqIntImpl = refEq;
const eqNumberImpl = refEq;
const eqStringImpl = refEq;
const eqString = { eq: eqStringImpl };
const eqNumber = { eq: eqNumberImpl };
const eqInt = { eq: eqIntImpl };
const eqBoolean = { eq: eqBooleanImpl };
var unsafeCompareImpl = function(lt) {
  return function(eq) {
    return function(gt) {
      return function(x) {
        return function(y) {
          return x < y ? lt : x === y ? eq : gt;
        };
      };
    };
  };
};
const ordIntImpl = unsafeCompareImpl;
const ordNumberImpl = unsafeCompareImpl;
const ordStringImpl = unsafeCompareImpl;
const ordString = { compare: /* @__PURE__ */ ordStringImpl(LT)(EQ)(GT), Eq0: () => eqString };
const ordNumber = { compare: /* @__PURE__ */ ordNumberImpl(LT)(EQ)(GT), Eq0: () => eqNumber };
const ordInt = { compare: /* @__PURE__ */ ordIntImpl(LT)(EQ)(GT), Eq0: () => eqInt };
const length = function(s2) {
  return s2.length;
};
const _indexOf = function(just) {
  return function(nothing) {
    return function(x) {
      return function(s2) {
        var i2 = s2.indexOf(x);
        return i2 === -1 ? nothing : just(i2);
      };
    };
  };
};
const take$2 = function(n2) {
  return function(s2) {
    return s2.substr(0, n2);
  };
};
const drop$1 = function(n2) {
  return function(s2) {
    return s2.substring(n2);
  };
};
const indexOf = /* @__PURE__ */ _indexOf(Just)(Nothing);
const contains = (pat) => {
  const $1 = indexOf(pat);
  return (x) => {
    const $3 = $1(x);
    if ($3.tag === "Nothing") {
      return false;
    }
    if ($3.tag === "Just") {
      return true;
    }
    fail$3();
  };
};
function typeOf(value2) {
  return typeof value2;
}
function tagOf(value2) {
  return Object.prototype.toString.call(value2).slice(8, -1);
}
function isNull(value2) {
  return value2 === null;
}
function isUndefined(value2) {
  return value2 === void 0;
}
const isArray = Array.isArray || function(value2) {
  return Object.prototype.toString.call(value2) === "[object Array]";
};
const $ForeignError = (tag, _1, _2) => ({ tag, _1, _2 });
const ErrorAtIndex = (value0) => (value1) => $ForeignError("ErrorAtIndex", value0, value1);
const ErrorAtProperty = (value0) => (value1) => $ForeignError("ErrorAtProperty", value0, value1);
const showForeignError = {
  show: (v) => {
    if (v.tag === "ForeignError") {
      return "(ForeignError " + (showStringImpl(v._1) + ")");
    }
    if (v.tag === "ErrorAtIndex") {
      return "(ErrorAtIndex " + (showIntImpl(v._1) + (" " + (showForeignError.show(v._2) + ")")));
    }
    if (v.tag === "ErrorAtProperty") {
      return "(ErrorAtProperty " + (showStringImpl(v._1) + (" " + (showForeignError.show(v._2) + ")")));
    }
    if (v.tag === "TypeMismatch") {
      return "(TypeMismatch " + (showStringImpl(v._1) + (" " + (showStringImpl(v._2) + ")")));
    }
    fail$3();
  }
};
const renderForeignError = (v) => {
  if (v.tag === "ForeignError") {
    return v._1;
  }
  if (v.tag === "ErrorAtIndex") {
    return "Error at array index " + (showIntImpl(v._1) + (": " + renderForeignError(v._2)));
  }
  if (v.tag === "ErrorAtProperty") {
    return "Error at property " + (showStringImpl(v._1) + (": " + renderForeignError(v._2)));
  }
  if (v.tag === "TypeMismatch") {
    return "Type mismatch: expected " + (v._1 + (", found " + v._2));
  }
  fail$3();
};
const readArray$1 = (dictMonad) => {
  const pure1 = applicativeExceptT$3(dictMonad).pure;
  const $2 = monadThrowExceptT(dictMonad).throwError;
  return (value2) => {
    if (isArray(value2)) {
      return pure1(value2);
    }
    return $2($NonEmpty($ForeignError("TypeMismatch", "array", tagOf(value2)), Nil));
  };
};
const unsafeReadTagged$2 = (dictMonad) => {
  const pure1 = applicativeExceptT$3(dictMonad).pure;
  const $2 = monadThrowExceptT(dictMonad).throwError;
  return (tag) => (value2) => {
    if (tagOf(value2) === tag) {
      return pure1(value2);
    }
    return $2($NonEmpty($ForeignError("TypeMismatch", tag, tagOf(value2)), Nil));
  };
};
const readInt$1 = (dictMonad) => {
  const map2 = dictMonad.Bind1().Apply0().Functor0().map;
  const readNumber1 = unsafeReadTagged$2(dictMonad)("Number");
  return (value2) => {
    const error2 = $Either("Left", $NonEmpty($ForeignError("TypeMismatch", "Int", tagOf(value2)), Nil));
    return map2((v2) => {
      if (v2.tag === "Left") {
        return error2;
      }
      if (v2.tag === "Right") {
        const $6 = fromNumber(v2._1);
        if ($6.tag === "Nothing") {
          return error2;
        }
        if ($6.tag === "Just") {
          return $Either("Right", $6._1);
        }
        fail$3();
      }
      fail$3();
    })(readNumber1(value2));
  };
};
function thenImpl(promise) {
  return function(errCB) {
    return function(succCB) {
      return function() {
        promise.then(succCB, errCB);
      };
    };
  };
}
const alt$1 = /* @__PURE__ */ (() => altExceptT(semigroupNonEmptyList)(monadIdentity).alt)();
const unsafeReadTagged$1 = /* @__PURE__ */ unsafeReadTagged$2(monadIdentity);
const readString$1 = /* @__PURE__ */ unsafeReadTagged$2(monadIdentity)("String");
const toAff$p = (customCoerce) => (p2) => makeAff((cb) => {
  const $3 = thenImpl(p2)(($32) => cb($Either("Left", customCoerce($32)))())((x) => cb($Either("Right", x))());
  return () => {
    $3();
    return nonCanceler;
  };
});
const coerce = (fn) => {
  const $1 = alt$1(unsafeReadTagged$1("Error")(fn))((() => {
    const $12 = readString$1(fn);
    if ($12.tag === "Left") {
      return $Either("Left", $12._1);
    }
    if ($12.tag === "Right") {
      return $Either("Right", error$1($12._1));
    }
    fail$3();
  })());
  if ($1.tag === "Left") {
    return error$1("Promise failed, couldn't extract JS Error or String");
  }
  if ($1.tag === "Right") {
    return $1._1;
  }
  fail$3();
};
const topNumber = Number.POSITIVE_INFINITY;
const toUnfoldable$2 = (dictUnfoldable) => dictUnfoldable.unfoldr((xs) => {
  if (xs.tag === "Nil") {
    return Nothing;
  }
  if (xs.tag === "Cons") {
    return $Maybe("Just", $Tuple(xs._1, xs._2));
  }
  fail$3();
});
const span$1 = (v) => (v1) => {
  if (v1.tag === "Cons") {
    if (v(v1._1)) {
      const v2 = span$1(v)(v1._2);
      return { init: $List("Cons", v1._1, v2.init), rest: v2.rest };
    }
    return { init: Nil, rest: v1 };
  }
  return { init: Nil, rest: v1 };
};
const sortBy$1 = (cmp) => {
  const merge = (v) => (v1) => {
    if (v.tag === "Cons") {
      if (v1.tag === "Cons") {
        if (cmp(v._1)(v1._1).tag === "GT") {
          return $List("Cons", v1._1, merge(v)(v1._2));
        }
        return $List("Cons", v._1, merge(v._2)(v1));
      }
      if (v1.tag === "Nil") {
        return v;
      }
      fail$3();
    }
    if (v.tag === "Nil") {
      return v1;
    }
    if (v1.tag === "Nil") {
      return v;
    }
    fail$3();
  };
  const mergePairs = (v) => {
    if (v.tag === "Cons") {
      if (v._2.tag === "Cons") {
        return $List("Cons", merge(v._1)(v._2._1), mergePairs(v._2._2));
      }
      return v;
    }
    return v;
  };
  const mergeAll = (mergeAll$a0$copy) => {
    let mergeAll$a0 = mergeAll$a0$copy, mergeAll$c = true, mergeAll$r;
    while (mergeAll$c) {
      const v = mergeAll$a0;
      if (v.tag === "Cons") {
        if (v._2.tag === "Nil") {
          mergeAll$c = false;
          mergeAll$r = v._1;
          continue;
        }
        mergeAll$a0 = mergePairs(v);
        continue;
      }
      mergeAll$a0 = mergePairs(v);
      continue;
    }
    return mergeAll$r;
  };
  const $sequedesceascen = ($sequedesceascen$b$copy, $sequedesceascen$a0$copy, $sequedesceascen$a1$copy, $sequedesceascen$a2$copy) => {
    let $sequedesceascen$b = $sequedesceascen$b$copy;
    let $sequedesceascen$a0 = $sequedesceascen$a0$copy;
    let $sequedesceascen$a1 = $sequedesceascen$a1$copy;
    let $sequedesceascen$a2 = $sequedesceascen$a2$copy;
    let $sequedesceascen$c = true;
    let $sequedesceascen$r;
    while ($sequedesceascen$c) {
      if ($sequedesceascen$b === 0) {
        const v = $sequedesceascen$a0;
        if (v.tag === "Cons") {
          if (v._2.tag === "Cons") {
            if (cmp(v._1)(v._2._1).tag === "GT") {
              $sequedesceascen$b = 1;
              $sequedesceascen$a0 = v._2._1;
              $sequedesceascen$a1 = $List("Cons", v._1, Nil);
              $sequedesceascen$a2 = v._2._2;
              continue;
            }
            $sequedesceascen$b = 2;
            $sequedesceascen$a0 = v._2._1;
            $sequedesceascen$a1 = (v1) => $List("Cons", v._1, v1);
            $sequedesceascen$a2 = v._2._2;
            continue;
          }
          $sequedesceascen$c = false;
          $sequedesceascen$r = $List("Cons", v, Nil);
          continue;
        }
        $sequedesceascen$c = false;
        $sequedesceascen$r = $List("Cons", v, Nil);
        continue;
      }
      if ($sequedesceascen$b === 1) {
        const a2 = $sequedesceascen$a0, as = $sequedesceascen$a1, v = $sequedesceascen$a2;
        if (v.tag === "Cons") {
          if (cmp(a2)(v._1).tag === "GT") {
            $sequedesceascen$b = 1;
            $sequedesceascen$a0 = v._1;
            $sequedesceascen$a1 = $List("Cons", a2, as);
            $sequedesceascen$a2 = v._2;
            continue;
          }
          $sequedesceascen$c = false;
          $sequedesceascen$r = $List("Cons", $List("Cons", a2, as), sequences(v));
          continue;
        }
        $sequedesceascen$c = false;
        $sequedesceascen$r = $List("Cons", $List("Cons", a2, as), sequences(v));
        continue;
      }
      if ($sequedesceascen$b === 2) {
        const a2 = $sequedesceascen$a0, as = $sequedesceascen$a1, v = $sequedesceascen$a2;
        if (v.tag === "Cons") {
          if ((() => {
            const $8 = cmp(a2)(v._1);
            return $8.tag === "LT" || !($8.tag === "GT");
          })()) {
            $sequedesceascen$b = 2;
            $sequedesceascen$a0 = v._1;
            $sequedesceascen$a1 = (ys) => as($List("Cons", a2, ys));
            $sequedesceascen$a2 = v._2;
            continue;
          }
          $sequedesceascen$c = false;
          $sequedesceascen$r = $List("Cons", as($List("Cons", a2, Nil)), sequences(v));
          continue;
        }
        $sequedesceascen$c = false;
        $sequedesceascen$r = $List("Cons", as($List("Cons", a2, Nil)), sequences(v));
        continue;
      }
    }
    return $sequedesceascen$r;
  };
  const sequences = (v) => $sequedesceascen(0, v);
  return (x) => mergeAll(sequences(x));
};
const reverse = /* @__PURE__ */ (() => {
  const go = (go$a0$copy) => (go$a1$copy) => {
    let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
    while (go$c) {
      const acc = go$a0, v = go$a1;
      if (v.tag === "Nil") {
        go$c = false;
        go$r = acc;
        continue;
      }
      if (v.tag === "Cons") {
        go$a0 = $List("Cons", v._1, acc);
        go$a1 = v._2;
        continue;
      }
      fail$3();
    }
    return go$r;
  };
  return go(Nil);
})();
const take$1 = /* @__PURE__ */ (() => {
  const go = (go$a0$copy) => (go$a1$copy) => (go$a2$copy) => {
    let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$a2 = go$a2$copy, go$c = true, go$r;
    while (go$c) {
      const acc = go$a0, v = go$a1, v1 = go$a2;
      if (v < 1) {
        go$c = false;
        go$r = reverse(acc);
        continue;
      }
      if (v1.tag === "Nil") {
        go$c = false;
        go$r = reverse(acc);
        continue;
      }
      if (v1.tag === "Cons") {
        go$a0 = $List("Cons", v1._1, acc);
        go$a1 = v - 1 | 0;
        go$a2 = v1._2;
        continue;
      }
      fail$3();
    }
    return go$r;
  };
  return go(Nil);
})();
const drop = (drop$a0$copy) => (drop$a1$copy) => {
  let drop$a0 = drop$a0$copy, drop$a1 = drop$a1$copy, drop$c = true, drop$r;
  while (drop$c) {
    const v = drop$a0, v1 = drop$a1;
    if (v < 1) {
      drop$c = false;
      drop$r = v1;
      continue;
    }
    if (v1.tag === "Nil") {
      drop$c = false;
      drop$r = Nil;
      continue;
    }
    if (v1.tag === "Cons") {
      drop$a0 = v - 1 | 0;
      drop$a1 = v1._2;
      continue;
    }
    fail$3();
  }
  return drop$r;
};
const defer = function(thunk) {
  var v = null;
  return function() {
    if (thunk === void 0)
      return v;
    v = thunk();
    thunk = void 0;
    return v;
  };
};
const force = function(l2) {
  return l2();
};
const unfoldr1ArrayImpl = function(isNothing2) {
  return function(fromJust2) {
    return function(fst2) {
      return function(snd2) {
        return function(f) {
          return function(b) {
            var result2 = [];
            var value2 = b;
            while (true) {
              var tuple = f(value2);
              result2.push(fst2(tuple));
              var maybe2 = snd2(tuple);
              if (isNothing2(maybe2))
                return result2;
              value2 = fromJust2(maybe2);
            }
          };
        };
      };
    };
  };
};
const fromJust$1 = (v) => {
  if (v.tag === "Just") {
    return v._1;
  }
  fail$3();
};
const unfoldable1Array = { unfoldr1: /* @__PURE__ */ unfoldr1ArrayImpl(isNothing)(fromJust$1)(fst)(snd) };
const unfoldrArrayImpl = function(isNothing2) {
  return function(fromJust2) {
    return function(fst2) {
      return function(snd2) {
        return function(f) {
          return function(b) {
            var result2 = [];
            var value2 = b;
            while (true) {
              var maybe2 = f(value2);
              if (isNothing2(maybe2))
                return result2;
              var tuple = fromJust2(maybe2);
              result2.push(fst2(tuple));
              value2 = snd2(tuple);
            }
          };
        };
      };
    };
  };
};
const fromJust = (v) => {
  if (v.tag === "Just") {
    return v._1;
  }
  fail$3();
};
const unfoldableArray = {
  unfoldr: /* @__PURE__ */ unfoldrArrayImpl(isNothing)(fromJust)(fst)(snd),
  Unfoldable10: () => unfoldable1Array
};
const replicate$1 = (dictUnfoldable) => (n2) => (v) => dictUnfoldable.unfoldr((i2) => {
  if (i2 <= 0) {
    return Nothing;
  }
  return $Maybe("Just", $Tuple(v, i2 - 1 | 0));
})(n2);
const $KickUp = (_1, _2, _3, _4) => ({ tag: "KickUp", _1, _2, _3, _4 });
const $Map = (tag, _1, _2, _3, _4, _5, _6, _7) => ({ tag, _1, _2, _3, _4, _5, _6, _7 });
const $TreeContext = (tag, _1, _2, _3, _4, _5, _6) => ({ tag, _1, _2, _3, _4, _5, _6 });
const identity$s = (x) => x;
const Leaf = /* @__PURE__ */ $Map("Leaf");
const Two = (value0) => (value1) => (value2) => (value3) => $Map("Two", value0, value1, value2, value3);
const Three = (value0) => (value1) => (value2) => (value3) => (value4) => (value5) => (value6) => $Map("Three", value0, value1, value2, value3, value4, value5, value6);
const toUnfoldable$1 = (dictUnfoldable) => (m) => {
  const go = (go$a0$copy) => {
    let go$a0 = go$a0$copy, go$c = true, go$r;
    while (go$c) {
      const v = go$a0;
      if (v.tag === "Nil") {
        go$c = false;
        go$r = Nothing;
        continue;
      }
      if (v.tag === "Cons") {
        if (v._1.tag === "Leaf") {
          go$a0 = v._2;
          continue;
        }
        if (v._1.tag === "Two") {
          if (v._1._1.tag === "Leaf") {
            if (v._1._4.tag === "Leaf") {
              go$c = false;
              go$r = $Maybe("Just", $Tuple($Tuple(v._1._2, v._1._3), v._2));
              continue;
            }
            go$c = false;
            go$r = $Maybe("Just", $Tuple($Tuple(v._1._2, v._1._3), $List("Cons", v._1._4, v._2)));
            continue;
          }
          go$a0 = $List(
            "Cons",
            v._1._1,
            $List("Cons", $Map("Two", Leaf, v._1._2, v._1._3, Leaf), $List("Cons", v._1._4, v._2))
          );
          continue;
        }
        if (v._1.tag === "Three") {
          go$a0 = $List(
            "Cons",
            v._1._1,
            $List(
              "Cons",
              $Map("Two", Leaf, v._1._2, v._1._3, Leaf),
              $List("Cons", v._1._4, $List("Cons", $Map("Two", Leaf, v._1._5, v._1._6, Leaf), $List("Cons", v._1._7, v._2)))
            )
          );
          continue;
        }
        fail$3();
      }
      fail$3();
    }
    return go$r;
  };
  return dictUnfoldable.unfoldr(go)($List("Cons", m, Nil));
};
const showMap = (dictShow) => (dictShow1) => {
  const show2 = showArrayImpl((v) => "(Tuple " + (dictShow.show(v._1) + (" " + (dictShow1.show(v._2) + ")"))));
  return { show: (m) => "(fromFoldable " + (show2(toUnfoldable$1(unfoldableArray)(m)) + ")") };
};
const lookup$2 = (dictOrd) => (k) => {
  const go = (go$a0$copy) => {
    let go$a0 = go$a0$copy, go$c = true, go$r;
    while (go$c) {
      const v = go$a0;
      if (v.tag === "Leaf") {
        go$c = false;
        go$r = Nothing;
        continue;
      }
      if (v.tag === "Two") {
        const v2 = dictOrd.compare(k)(v._2);
        if (v2.tag === "EQ") {
          go$c = false;
          go$r = $Maybe("Just", v._3);
          continue;
        }
        if (v2.tag === "LT") {
          go$a0 = v._1;
          continue;
        }
        go$a0 = v._4;
        continue;
      }
      if (v.tag === "Three") {
        const v3 = dictOrd.compare(k)(v._2);
        if (v3.tag === "EQ") {
          go$c = false;
          go$r = $Maybe("Just", v._3);
          continue;
        }
        const v42 = dictOrd.compare(k)(v._5);
        if (v42.tag === "EQ") {
          go$c = false;
          go$r = $Maybe("Just", v._6);
          continue;
        }
        if (v3.tag === "LT") {
          go$a0 = v._1;
          continue;
        }
        if (v42.tag === "GT") {
          go$a0 = v._7;
          continue;
        }
        go$a0 = v._4;
        continue;
      }
      fail$3();
    }
    return go$r;
  };
  return go;
};
const functorMap = {
  map: (v) => (v1) => {
    if (v1.tag === "Leaf") {
      return Leaf;
    }
    if (v1.tag === "Two") {
      return $Map("Two", functorMap.map(v)(v1._1), v1._2, v(v1._3), functorMap.map(v)(v1._4));
    }
    if (v1.tag === "Three") {
      return $Map("Three", functorMap.map(v)(v1._1), v1._2, v(v1._3), functorMap.map(v)(v1._4), v1._5, v(v1._6), functorMap.map(v)(v1._7));
    }
    fail$3();
  }
};
const fromZipper = (fromZipper$a0$copy) => (fromZipper$a1$copy) => (fromZipper$a2$copy) => {
  let fromZipper$a1 = fromZipper$a1$copy, fromZipper$a2 = fromZipper$a2$copy, fromZipper$c = true, fromZipper$r;
  while (fromZipper$c) {
    const v = fromZipper$a1, tree = fromZipper$a2;
    if (v.tag === "Nil") {
      fromZipper$c = false;
      fromZipper$r = tree;
      continue;
    }
    if (v.tag === "Cons") {
      if (v._1.tag === "TwoLeft") {
        fromZipper$a1 = v._2;
        fromZipper$a2 = $Map("Two", tree, v._1._1, v._1._2, v._1._3);
        continue;
      }
      if (v._1.tag === "TwoRight") {
        fromZipper$a1 = v._2;
        fromZipper$a2 = $Map("Two", v._1._1, v._1._2, v._1._3, tree);
        continue;
      }
      if (v._1.tag === "ThreeLeft") {
        fromZipper$a1 = v._2;
        fromZipper$a2 = $Map("Three", tree, v._1._1, v._1._2, v._1._3, v._1._4, v._1._5, v._1._6);
        continue;
      }
      if (v._1.tag === "ThreeMiddle") {
        fromZipper$a1 = v._2;
        fromZipper$a2 = $Map("Three", v._1._1, v._1._2, v._1._3, tree, v._1._4, v._1._5, v._1._6);
        continue;
      }
      if (v._1.tag === "ThreeRight") {
        fromZipper$a1 = v._2;
        fromZipper$a2 = $Map("Three", v._1._1, v._1._2, v._1._3, v._1._4, v._1._5, v._1._6, tree);
        continue;
      }
      fail$3();
    }
    fail$3();
  }
  return fromZipper$r;
};
const insert$2 = (dictOrd) => (k) => (v) => {
  const up = (up$a0$copy) => (up$a1$copy) => {
    let up$a0 = up$a0$copy, up$a1 = up$a1$copy, up$c = true, up$r;
    while (up$c) {
      const v1 = up$a0, v2 = up$a1;
      if (v1.tag === "Nil") {
        up$c = false;
        up$r = $Map("Two", v2._1, v2._2, v2._3, v2._4);
        continue;
      }
      if (v1.tag === "Cons") {
        if (v1._1.tag === "TwoLeft") {
          up$c = false;
          up$r = fromZipper()(v1._2)($Map("Three", v2._1, v2._2, v2._3, v2._4, v1._1._1, v1._1._2, v1._1._3));
          continue;
        }
        if (v1._1.tag === "TwoRight") {
          up$c = false;
          up$r = fromZipper()(v1._2)($Map("Three", v1._1._1, v1._1._2, v1._1._3, v2._1, v2._2, v2._3, v2._4));
          continue;
        }
        if (v1._1.tag === "ThreeLeft") {
          up$a0 = v1._2;
          up$a1 = $KickUp($Map("Two", v2._1, v2._2, v2._3, v2._4), v1._1._1, v1._1._2, $Map("Two", v1._1._3, v1._1._4, v1._1._5, v1._1._6));
          continue;
        }
        if (v1._1.tag === "ThreeMiddle") {
          up$a0 = v1._2;
          up$a1 = $KickUp($Map("Two", v1._1._1, v1._1._2, v1._1._3, v2._1), v2._2, v2._3, $Map("Two", v2._4, v1._1._4, v1._1._5, v1._1._6));
          continue;
        }
        if (v1._1.tag === "ThreeRight") {
          up$a0 = v1._2;
          up$a1 = $KickUp($Map("Two", v1._1._1, v1._1._2, v1._1._3, v1._1._4), v1._1._5, v1._1._6, $Map("Two", v2._1, v2._2, v2._3, v2._4));
          continue;
        }
        fail$3();
      }
      fail$3();
    }
    return up$r;
  };
  const down = (down$a0$copy) => (down$a1$copy) => {
    let down$a0 = down$a0$copy, down$a1 = down$a1$copy, down$c = true, down$r;
    while (down$c) {
      const ctx = down$a0, v1 = down$a1;
      if (v1.tag === "Leaf") {
        down$c = false;
        down$r = up(ctx)($KickUp(Leaf, k, v, Leaf));
        continue;
      }
      if (v1.tag === "Two") {
        const v2 = dictOrd.compare(k)(v1._2);
        if (v2.tag === "EQ") {
          down$c = false;
          down$r = fromZipper()(ctx)($Map("Two", v1._1, k, v, v1._4));
          continue;
        }
        if (v2.tag === "LT") {
          down$a0 = $List("Cons", $TreeContext("TwoLeft", v1._2, v1._3, v1._4), ctx);
          down$a1 = v1._1;
          continue;
        }
        down$a0 = $List("Cons", $TreeContext("TwoRight", v1._1, v1._2, v1._3), ctx);
        down$a1 = v1._4;
        continue;
      }
      if (v1.tag === "Three") {
        const v3 = dictOrd.compare(k)(v1._2);
        if (v3.tag === "EQ") {
          down$c = false;
          down$r = fromZipper()(ctx)($Map("Three", v1._1, k, v, v1._4, v1._5, v1._6, v1._7));
          continue;
        }
        const v42 = dictOrd.compare(k)(v1._5);
        if (v42.tag === "EQ") {
          down$c = false;
          down$r = fromZipper()(ctx)($Map("Three", v1._1, v1._2, v1._3, v1._4, k, v, v1._7));
          continue;
        }
        if (v3.tag === "LT") {
          down$a0 = $List("Cons", $TreeContext("ThreeLeft", v1._2, v1._3, v1._4, v1._5, v1._6, v1._7), ctx);
          down$a1 = v1._1;
          continue;
        }
        if (v3.tag === "GT") {
          if (v42.tag === "LT") {
            down$a0 = $List("Cons", $TreeContext("ThreeMiddle", v1._1, v1._2, v1._3, v1._5, v1._6, v1._7), ctx);
            down$a1 = v1._4;
            continue;
          }
          down$a0 = $List("Cons", $TreeContext("ThreeRight", v1._1, v1._2, v1._3, v1._4, v1._5, v1._6), ctx);
          down$a1 = v1._7;
          continue;
        }
        down$a0 = $List("Cons", $TreeContext("ThreeRight", v1._1, v1._2, v1._3, v1._4, v1._5, v1._6), ctx);
        down$a1 = v1._7;
        continue;
      }
      fail$3();
    }
    return down$r;
  };
  return down(Nil);
};
const pop = (dictOrd) => (k) => {
  const up = (up$a0$copy) => (up$a1$copy) => {
    let up$a0 = up$a0$copy, up$a1 = up$a1$copy, up$c = true, up$r;
    while (up$c) {
      const ctxs = up$a0, tree = up$a1;
      if (ctxs.tag === "Nil") {
        up$c = false;
        up$r = tree;
        continue;
      }
      if (ctxs.tag === "Cons") {
        const $5 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", $Map("Two", a2, k1, v1, b), k2, v2, $Map("Two", c2, k3, v3, d)));
        const $6 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", $Map("Two", a2, k1, v1, b), k2, v2, $Map("Two", c2, k3, v3, d)));
        const $7 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", $Map("Three", a2, k1, v1, b, k2, v2, c2), k3, v3, d));
        const $8 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", $Map("Three", a2, k1, v1, b, k2, v2, c2), k3, v3, d));
        const $9 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", a2, k1, v1, $Map("Three", b, k2, v2, c2, k3, v3, d)));
        const $10 = (a2, b, c2, d, k1, k2, k3, v1, v2, v3) => fromZipper()(ctxs._2)($Map("Two", a2, k1, v1, $Map("Three", b, k2, v2, c2, k3, v3, d)));
        const $11 = (a2, b, c2, d, e2, k1, k2, k3, k4, v1, v2, v3, v42) => fromZipper()(ctxs._2)($Map(
          "Three",
          $Map("Two", a2, k1, v1, b),
          k2,
          v2,
          $Map("Two", c2, k3, v3, d),
          k4,
          v42,
          e2
        ));
        const $12 = (a2, b, c2, d, e2, k1, k2, k3, k4, v1, v2, v3, v42) => fromZipper()(ctxs._2)($Map(
          "Three",
          $Map("Two", a2, k1, v1, b),
          k2,
          v2,
          $Map("Two", c2, k3, v3, d),
          k4,
          v42,
          e2
        ));
        const $13 = (a2, b, c2, d, e2, k1, k2, k3, k4, v1, v2, v3, v42) => fromZipper()(ctxs._2)($Map(
          "Three",
          a2,
          k1,
          v1,
          $Map("Two", b, k2, v2, c2),
          k3,
          v3,
          $Map("Two", d, k4, v42, e2)
        ));
        const $14 = (a2, b, c2, d, e2, k1, k2, k3, k4, v1, v2, v3, v42) => fromZipper()(ctxs._2)($Map(
          "Three",
          a2,
          k1,
          v1,
          $Map("Two", b, k2, v2, c2),
          k3,
          v3,
          $Map("Two", d, k4, v42, e2)
        ));
        if (tree.tag === "Leaf") {
          if (ctxs._1.tag === "TwoLeft") {
            if (ctxs._1._3.tag === "Leaf") {
              up$c = false;
              up$r = fromZipper()(ctxs._2)($Map("Two", Leaf, ctxs._1._1, ctxs._1._2, Leaf));
              continue;
            }
            if (ctxs._1._3.tag === "Two") {
              up$a0 = ctxs._2;
              up$a1 = $Map("Three", tree, ctxs._1._1, ctxs._1._2, ctxs._1._3._1, ctxs._1._3._2, ctxs._1._3._3, ctxs._1._3._4);
              continue;
            }
            if (ctxs._1._3.tag === "Three") {
              up$c = false;
              up$r = $5(tree, ctxs._1._3._1, ctxs._1._3._4, ctxs._1._3._7, ctxs._1._1, ctxs._1._3._2, ctxs._1._3._5, ctxs._1._2, ctxs._1._3._3, ctxs._1._3._6);
              continue;
            }
            up$c = false;
            up$r = _crashWith("The impossible happened in partial function `up`.");
            continue;
          }
          if (ctxs._1.tag === "TwoRight") {
            if (ctxs._1._1.tag === "Leaf") {
              up$c = false;
              up$r = fromZipper()(ctxs._2)($Map("Two", Leaf, ctxs._1._2, ctxs._1._3, Leaf));
              continue;
            }
            if (ctxs._1._1.tag === "Two") {
              up$a0 = ctxs._2;
              up$a1 = $Map("Three", ctxs._1._1._1, ctxs._1._1._2, ctxs._1._1._3, ctxs._1._1._4, ctxs._1._2, ctxs._1._3, tree);
              continue;
            }
            if (ctxs._1._1.tag === "Three") {
              up$c = false;
              up$r = $6(ctxs._1._1._1, ctxs._1._1._4, ctxs._1._1._7, tree, ctxs._1._1._2, ctxs._1._1._5, ctxs._1._2, ctxs._1._1._3, ctxs._1._1._6, ctxs._1._3);
              continue;
            }
            up$c = false;
            up$r = _crashWith("The impossible happened in partial function `up`.");
            continue;
          }
          if (ctxs._1.tag === "ThreeLeft") {
            if (ctxs._1._6.tag === "Leaf") {
              if (ctxs._1._3.tag === "Leaf") {
                up$c = false;
                up$r = fromZipper()(ctxs._2)($Map("Three", Leaf, ctxs._1._1, ctxs._1._2, Leaf, ctxs._1._4, ctxs._1._5, Leaf));
                continue;
              }
              if (ctxs._1._3.tag === "Two") {
                up$c = false;
                up$r = $7(tree, ctxs._1._3._1, ctxs._1._3._4, ctxs._1._6, ctxs._1._1, ctxs._1._3._2, ctxs._1._4, ctxs._1._2, ctxs._1._3._3, ctxs._1._5);
                continue;
              }
              if (ctxs._1._3.tag === "Three") {
                up$c = false;
                up$r = $11(
                  tree,
                  ctxs._1._3._1,
                  ctxs._1._3._4,
                  ctxs._1._3._7,
                  ctxs._1._6,
                  ctxs._1._1,
                  ctxs._1._3._2,
                  ctxs._1._3._5,
                  ctxs._1._4,
                  ctxs._1._2,
                  ctxs._1._3._3,
                  ctxs._1._3._6,
                  ctxs._1._5
                );
                continue;
              }
              up$c = false;
              up$r = _crashWith("The impossible happened in partial function `up`.");
              continue;
            }
            if (ctxs._1._3.tag === "Two") {
              up$c = false;
              up$r = $7(tree, ctxs._1._3._1, ctxs._1._3._4, ctxs._1._6, ctxs._1._1, ctxs._1._3._2, ctxs._1._4, ctxs._1._2, ctxs._1._3._3, ctxs._1._5);
              continue;
            }
            if (ctxs._1._3.tag === "Three") {
              up$c = false;
              up$r = $11(
                tree,
                ctxs._1._3._1,
                ctxs._1._3._4,
                ctxs._1._3._7,
                ctxs._1._6,
                ctxs._1._1,
                ctxs._1._3._2,
                ctxs._1._3._5,
                ctxs._1._4,
                ctxs._1._2,
                ctxs._1._3._3,
                ctxs._1._3._6,
                ctxs._1._5
              );
              continue;
            }
            up$c = false;
            up$r = _crashWith("The impossible happened in partial function `up`.");
            continue;
          }
          if (ctxs._1.tag === "ThreeMiddle") {
            if (ctxs._1._1.tag === "Leaf") {
              if (ctxs._1._6.tag === "Leaf") {
                up$c = false;
                up$r = fromZipper()(ctxs._2)($Map("Three", Leaf, ctxs._1._2, ctxs._1._3, Leaf, ctxs._1._4, ctxs._1._5, Leaf));
                continue;
              }
              if (ctxs._1._6.tag === "Two") {
                up$c = false;
                up$r = $9(ctxs._1._1, tree, ctxs._1._6._1, ctxs._1._6._4, ctxs._1._2, ctxs._1._4, ctxs._1._6._2, ctxs._1._3, ctxs._1._5, ctxs._1._6._3);
                continue;
              }
              if (ctxs._1._6.tag === "Three") {
                up$c = false;
                up$r = $13(
                  ctxs._1._1,
                  tree,
                  ctxs._1._6._1,
                  ctxs._1._6._4,
                  ctxs._1._6._7,
                  ctxs._1._2,
                  ctxs._1._4,
                  ctxs._1._6._2,
                  ctxs._1._6._5,
                  ctxs._1._3,
                  ctxs._1._5,
                  ctxs._1._6._3,
                  ctxs._1._6._6
                );
                continue;
              }
              up$c = false;
              up$r = _crashWith("The impossible happened in partial function `up`.");
              continue;
            }
            if (ctxs._1._1.tag === "Two") {
              up$c = false;
              up$r = $8(ctxs._1._1._1, ctxs._1._1._4, tree, ctxs._1._6, ctxs._1._1._2, ctxs._1._2, ctxs._1._4, ctxs._1._1._3, ctxs._1._3, ctxs._1._5);
              continue;
            }
            if (ctxs._1._6.tag === "Two") {
              up$c = false;
              up$r = $9(ctxs._1._1, tree, ctxs._1._6._1, ctxs._1._6._4, ctxs._1._2, ctxs._1._4, ctxs._1._6._2, ctxs._1._3, ctxs._1._5, ctxs._1._6._3);
              continue;
            }
            if (ctxs._1._1.tag === "Three") {
              up$c = false;
              up$r = $12(
                ctxs._1._1._1,
                ctxs._1._1._4,
                ctxs._1._1._7,
                tree,
                ctxs._1._6,
                ctxs._1._1._2,
                ctxs._1._1._5,
                ctxs._1._2,
                ctxs._1._4,
                ctxs._1._1._3,
                ctxs._1._1._6,
                ctxs._1._3,
                ctxs._1._5
              );
              continue;
            }
            if (ctxs._1._6.tag === "Three") {
              up$c = false;
              up$r = $13(
                ctxs._1._1,
                tree,
                ctxs._1._6._1,
                ctxs._1._6._4,
                ctxs._1._6._7,
                ctxs._1._2,
                ctxs._1._4,
                ctxs._1._6._2,
                ctxs._1._6._5,
                ctxs._1._3,
                ctxs._1._5,
                ctxs._1._6._3,
                ctxs._1._6._6
              );
              continue;
            }
            up$c = false;
            up$r = _crashWith("The impossible happened in partial function `up`.");
            continue;
          }
          if (ctxs._1.tag === "ThreeRight") {
            if (ctxs._1._1.tag === "Leaf") {
              if (ctxs._1._4.tag === "Leaf") {
                up$c = false;
                up$r = fromZipper()(ctxs._2)($Map("Three", Leaf, ctxs._1._2, ctxs._1._3, Leaf, ctxs._1._5, ctxs._1._6, Leaf));
                continue;
              }
              if (ctxs._1._4.tag === "Two") {
                up$c = false;
                up$r = $10(ctxs._1._1, ctxs._1._4._1, ctxs._1._4._4, tree, ctxs._1._2, ctxs._1._4._2, ctxs._1._5, ctxs._1._3, ctxs._1._4._3, ctxs._1._6);
                continue;
              }
              if (ctxs._1._4.tag === "Three") {
                up$c = false;
                up$r = $14(
                  ctxs._1._1,
                  ctxs._1._4._1,
                  ctxs._1._4._4,
                  ctxs._1._4._7,
                  tree,
                  ctxs._1._2,
                  ctxs._1._4._2,
                  ctxs._1._4._5,
                  ctxs._1._5,
                  ctxs._1._3,
                  ctxs._1._4._3,
                  ctxs._1._4._6,
                  ctxs._1._6
                );
                continue;
              }
              up$c = false;
              up$r = _crashWith("The impossible happened in partial function `up`.");
              continue;
            }
            if (ctxs._1._4.tag === "Two") {
              up$c = false;
              up$r = $10(ctxs._1._1, ctxs._1._4._1, ctxs._1._4._4, tree, ctxs._1._2, ctxs._1._4._2, ctxs._1._5, ctxs._1._3, ctxs._1._4._3, ctxs._1._6);
              continue;
            }
            if (ctxs._1._4.tag === "Three") {
              up$c = false;
              up$r = $14(
                ctxs._1._1,
                ctxs._1._4._1,
                ctxs._1._4._4,
                ctxs._1._4._7,
                tree,
                ctxs._1._2,
                ctxs._1._4._2,
                ctxs._1._4._5,
                ctxs._1._5,
                ctxs._1._3,
                ctxs._1._4._3,
                ctxs._1._4._6,
                ctxs._1._6
              );
              continue;
            }
            up$c = false;
            up$r = _crashWith("The impossible happened in partial function `up`.");
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        if (ctxs._1.tag === "TwoLeft") {
          if (ctxs._1._3.tag === "Two") {
            up$a0 = ctxs._2;
            up$a1 = $Map("Three", tree, ctxs._1._1, ctxs._1._2, ctxs._1._3._1, ctxs._1._3._2, ctxs._1._3._3, ctxs._1._3._4);
            continue;
          }
          if (ctxs._1._3.tag === "Three") {
            up$c = false;
            up$r = $5(tree, ctxs._1._3._1, ctxs._1._3._4, ctxs._1._3._7, ctxs._1._1, ctxs._1._3._2, ctxs._1._3._5, ctxs._1._2, ctxs._1._3._3, ctxs._1._3._6);
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        if (ctxs._1.tag === "TwoRight") {
          if (ctxs._1._1.tag === "Two") {
            up$a0 = ctxs._2;
            up$a1 = $Map("Three", ctxs._1._1._1, ctxs._1._1._2, ctxs._1._1._3, ctxs._1._1._4, ctxs._1._2, ctxs._1._3, tree);
            continue;
          }
          if (ctxs._1._1.tag === "Three") {
            up$c = false;
            up$r = $6(ctxs._1._1._1, ctxs._1._1._4, ctxs._1._1._7, tree, ctxs._1._1._2, ctxs._1._1._5, ctxs._1._2, ctxs._1._1._3, ctxs._1._1._6, ctxs._1._3);
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        if (ctxs._1.tag === "ThreeLeft") {
          if (ctxs._1._3.tag === "Two") {
            up$c = false;
            up$r = $7(tree, ctxs._1._3._1, ctxs._1._3._4, ctxs._1._6, ctxs._1._1, ctxs._1._3._2, ctxs._1._4, ctxs._1._2, ctxs._1._3._3, ctxs._1._5);
            continue;
          }
          if (ctxs._1._3.tag === "Three") {
            up$c = false;
            up$r = $11(
              tree,
              ctxs._1._3._1,
              ctxs._1._3._4,
              ctxs._1._3._7,
              ctxs._1._6,
              ctxs._1._1,
              ctxs._1._3._2,
              ctxs._1._3._5,
              ctxs._1._4,
              ctxs._1._2,
              ctxs._1._3._3,
              ctxs._1._3._6,
              ctxs._1._5
            );
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        if (ctxs._1.tag === "ThreeMiddle") {
          if (ctxs._1._1.tag === "Two") {
            up$c = false;
            up$r = $8(ctxs._1._1._1, ctxs._1._1._4, tree, ctxs._1._6, ctxs._1._1._2, ctxs._1._2, ctxs._1._4, ctxs._1._1._3, ctxs._1._3, ctxs._1._5);
            continue;
          }
          if (ctxs._1._6.tag === "Two") {
            up$c = false;
            up$r = $9(ctxs._1._1, tree, ctxs._1._6._1, ctxs._1._6._4, ctxs._1._2, ctxs._1._4, ctxs._1._6._2, ctxs._1._3, ctxs._1._5, ctxs._1._6._3);
            continue;
          }
          if (ctxs._1._1.tag === "Three") {
            up$c = false;
            up$r = $12(
              ctxs._1._1._1,
              ctxs._1._1._4,
              ctxs._1._1._7,
              tree,
              ctxs._1._6,
              ctxs._1._1._2,
              ctxs._1._1._5,
              ctxs._1._2,
              ctxs._1._4,
              ctxs._1._1._3,
              ctxs._1._1._6,
              ctxs._1._3,
              ctxs._1._5
            );
            continue;
          }
          if (ctxs._1._6.tag === "Three") {
            up$c = false;
            up$r = $13(
              ctxs._1._1,
              tree,
              ctxs._1._6._1,
              ctxs._1._6._4,
              ctxs._1._6._7,
              ctxs._1._2,
              ctxs._1._4,
              ctxs._1._6._2,
              ctxs._1._6._5,
              ctxs._1._3,
              ctxs._1._5,
              ctxs._1._6._3,
              ctxs._1._6._6
            );
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        if (ctxs._1.tag === "ThreeRight") {
          if (ctxs._1._4.tag === "Two") {
            up$c = false;
            up$r = $10(ctxs._1._1, ctxs._1._4._1, ctxs._1._4._4, tree, ctxs._1._2, ctxs._1._4._2, ctxs._1._5, ctxs._1._3, ctxs._1._4._3, ctxs._1._6);
            continue;
          }
          if (ctxs._1._4.tag === "Three") {
            up$c = false;
            up$r = $14(
              ctxs._1._1,
              ctxs._1._4._1,
              ctxs._1._4._4,
              ctxs._1._4._7,
              tree,
              ctxs._1._2,
              ctxs._1._4._2,
              ctxs._1._4._5,
              ctxs._1._5,
              ctxs._1._3,
              ctxs._1._4._3,
              ctxs._1._4._6,
              ctxs._1._6
            );
            continue;
          }
          up$c = false;
          up$r = _crashWith("The impossible happened in partial function `up`.");
          continue;
        }
        up$c = false;
        up$r = _crashWith("The impossible happened in partial function `up`.");
        continue;
      }
      fail$3();
    }
    return up$r;
  };
  const removeMaxNode = (removeMaxNode$a0$copy) => (removeMaxNode$a1$copy) => {
    let removeMaxNode$a0 = removeMaxNode$a0$copy, removeMaxNode$a1 = removeMaxNode$a1$copy, removeMaxNode$c = true, removeMaxNode$r;
    while (removeMaxNode$c) {
      const ctx = removeMaxNode$a0, m = removeMaxNode$a1;
      if (m.tag === "Two") {
        if (m._1.tag === "Leaf") {
          if (m._4.tag === "Leaf") {
            removeMaxNode$c = false;
            removeMaxNode$r = up(ctx)(Leaf);
            continue;
          }
          removeMaxNode$a0 = $List("Cons", $TreeContext("TwoRight", m._1, m._2, m._3), ctx);
          removeMaxNode$a1 = m._4;
          continue;
        }
        removeMaxNode$a0 = $List("Cons", $TreeContext("TwoRight", m._1, m._2, m._3), ctx);
        removeMaxNode$a1 = m._4;
        continue;
      }
      if (m.tag === "Three") {
        if (m._1.tag === "Leaf") {
          if (m._4.tag === "Leaf") {
            if (m._7.tag === "Leaf") {
              removeMaxNode$c = false;
              removeMaxNode$r = up($List("Cons", $TreeContext("TwoRight", Leaf, m._2, m._3), ctx))(Leaf);
              continue;
            }
            removeMaxNode$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
            removeMaxNode$a1 = m._7;
            continue;
          }
          removeMaxNode$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
          removeMaxNode$a1 = m._7;
          continue;
        }
        removeMaxNode$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
        removeMaxNode$a1 = m._7;
        continue;
      }
      removeMaxNode$c = false;
      removeMaxNode$r = _crashWith("The impossible happened in partial function `removeMaxNode`.");
      continue;
    }
    return removeMaxNode$r;
  };
  const maxNode = (maxNode$a0$copy) => {
    let maxNode$a0 = maxNode$a0$copy, maxNode$c = true, maxNode$r;
    while (maxNode$c) {
      const m = maxNode$a0;
      if (m.tag === "Two") {
        if (m._4.tag === "Leaf") {
          maxNode$c = false;
          maxNode$r = { key: m._2, value: m._3 };
          continue;
        }
        maxNode$a0 = m._4;
        continue;
      }
      if (m.tag === "Three") {
        if (m._7.tag === "Leaf") {
          maxNode$c = false;
          maxNode$r = { key: m._5, value: m._6 };
          continue;
        }
        maxNode$a0 = m._7;
        continue;
      }
      maxNode$c = false;
      maxNode$r = _crashWith("The impossible happened in partial function `maxNode`.");
      continue;
    }
    return maxNode$r;
  };
  const down = (down$a0$copy) => (down$a1$copy) => {
    let down$a0 = down$a0$copy, down$a1 = down$a1$copy, down$c = true, down$r;
    while (down$c) {
      const ctx = down$a0, m = down$a1;
      if (m.tag === "Leaf") {
        down$c = false;
        down$r = Nothing;
        continue;
      }
      if (m.tag === "Two") {
        const v = dictOrd.compare(k)(m._2);
        if (v.tag === "EQ") {
          if (m._4.tag === "Leaf") {
            down$c = false;
            down$r = $Maybe("Just", $Tuple(m._3, up(ctx)(Leaf)));
            continue;
          }
          const max2 = maxNode(m._1);
          down$c = false;
          down$r = $Maybe(
            "Just",
            $Tuple(m._3, removeMaxNode($List("Cons", $TreeContext("TwoLeft", max2.key, max2.value, m._4), ctx))(m._1))
          );
          continue;
        }
        if (v.tag === "LT") {
          down$a0 = $List("Cons", $TreeContext("TwoLeft", m._2, m._3, m._4), ctx);
          down$a1 = m._1;
          continue;
        }
        down$a0 = $List("Cons", $TreeContext("TwoRight", m._1, m._2, m._3), ctx);
        down$a1 = m._4;
        continue;
      }
      if (m.tag === "Three") {
        const v = dictOrd.compare(k)(m._5);
        const v3 = dictOrd.compare(k)(m._2);
        if ((() => {
          if (m._1.tag === "Leaf") {
            if (m._4.tag === "Leaf") {
              return m._7.tag === "Leaf";
            }
            return false;
          }
          return false;
        })()) {
          if (v3.tag === "EQ") {
            down$c = false;
            down$r = $Maybe("Just", $Tuple(m._3, fromZipper()(ctx)($Map("Two", Leaf, m._5, m._6, Leaf))));
            continue;
          }
          if (v.tag === "EQ") {
            down$c = false;
            down$r = $Maybe("Just", $Tuple(m._6, fromZipper()(ctx)($Map("Two", Leaf, m._2, m._3, Leaf))));
            continue;
          }
          if (v3.tag === "LT") {
            down$a0 = $List("Cons", $TreeContext("ThreeLeft", m._2, m._3, m._4, m._5, m._6, m._7), ctx);
            down$a1 = m._1;
            continue;
          }
          if (v3.tag === "GT") {
            if (v.tag === "LT") {
              down$a0 = $List("Cons", $TreeContext("ThreeMiddle", m._1, m._2, m._3, m._5, m._6, m._7), ctx);
              down$a1 = m._4;
              continue;
            }
            down$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
            down$a1 = m._7;
            continue;
          }
          down$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
          down$a1 = m._7;
          continue;
        }
        if (v3.tag === "EQ") {
          const max2 = maxNode(m._1);
          down$c = false;
          down$r = $Maybe(
            "Just",
            $Tuple(m._3, removeMaxNode($List("Cons", $TreeContext("ThreeLeft", max2.key, max2.value, m._4, m._5, m._6, m._7), ctx))(m._1))
          );
          continue;
        }
        if (v.tag === "EQ") {
          const max2 = maxNode(m._4);
          down$c = false;
          down$r = $Maybe(
            "Just",
            $Tuple(m._6, removeMaxNode($List("Cons", $TreeContext("ThreeMiddle", m._1, m._2, m._3, max2.key, max2.value, m._7), ctx))(m._4))
          );
          continue;
        }
        if (v3.tag === "LT") {
          down$a0 = $List("Cons", $TreeContext("ThreeLeft", m._2, m._3, m._4, m._5, m._6, m._7), ctx);
          down$a1 = m._1;
          continue;
        }
        if (v3.tag === "GT") {
          if (v.tag === "LT") {
            down$a0 = $List("Cons", $TreeContext("ThreeMiddle", m._1, m._2, m._3, m._5, m._6, m._7), ctx);
            down$a1 = m._4;
            continue;
          }
          down$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
          down$a1 = m._7;
          continue;
        }
        down$a0 = $List("Cons", $TreeContext("ThreeRight", m._1, m._2, m._3, m._4, m._5, m._6), ctx);
        down$a1 = m._7;
        continue;
      }
      fail$3();
    }
    return down$r;
  };
  return down(Nil);
};
const foldableMap = {
  foldr: (f) => (z) => (m) => {
    if (m.tag === "Leaf") {
      return z;
    }
    if (m.tag === "Two") {
      return foldableMap.foldr(f)(f(m._3)(foldableMap.foldr(f)(z)(m._4)))(m._1);
    }
    if (m.tag === "Three") {
      return foldableMap.foldr(f)(f(m._3)(foldableMap.foldr(f)(f(m._6)(foldableMap.foldr(f)(z)(m._7)))(m._4)))(m._1);
    }
    fail$3();
  },
  foldl: (f) => (z) => (m) => {
    if (m.tag === "Leaf") {
      return z;
    }
    if (m.tag === "Two") {
      return foldableMap.foldl(f)(f(foldableMap.foldl(f)(z)(m._1))(m._3))(m._4);
    }
    if (m.tag === "Three") {
      return foldableMap.foldl(f)(f(foldableMap.foldl(f)(f(foldableMap.foldl(f)(z)(m._1))(m._3))(m._4))(m._6))(m._7);
    }
    fail$3();
  },
  foldMap: (dictMonoid) => {
    const append2 = dictMonoid.Semigroup0().append;
    return (f) => (m) => {
      if (m.tag === "Leaf") {
        return dictMonoid.mempty;
      }
      if (m.tag === "Two") {
        return append2(foldableMap.foldMap(dictMonoid)(f)(m._1))(append2(f(m._3))(foldableMap.foldMap(dictMonoid)(f)(m._4)));
      }
      if (m.tag === "Three") {
        return append2(foldableMap.foldMap(dictMonoid)(f)(m._1))(append2(f(m._3))(append2(foldableMap.foldMap(dictMonoid)(f)(m._4))(append2(f(m._6))(foldableMap.foldMap(dictMonoid)(f)(m._7)))));
      }
      fail$3();
    };
  }
};
const foldableWithIndexMap = {
  foldrWithIndex: (f) => (z) => (m) => {
    if (m.tag === "Leaf") {
      return z;
    }
    if (m.tag === "Two") {
      return foldableWithIndexMap.foldrWithIndex(f)(f(m._2)(m._3)(foldableWithIndexMap.foldrWithIndex(f)(z)(m._4)))(m._1);
    }
    if (m.tag === "Three") {
      return foldableWithIndexMap.foldrWithIndex(f)(f(m._2)(m._3)(foldableWithIndexMap.foldrWithIndex(f)(f(m._5)(m._6)(foldableWithIndexMap.foldrWithIndex(f)(z)(m._7)))(m._4)))(m._1);
    }
    fail$3();
  },
  foldlWithIndex: (f) => (z) => (m) => {
    if (m.tag === "Leaf") {
      return z;
    }
    if (m.tag === "Two") {
      return foldableWithIndexMap.foldlWithIndex(f)(f(m._2)(foldableWithIndexMap.foldlWithIndex(f)(z)(m._1))(m._3))(m._4);
    }
    if (m.tag === "Three") {
      return foldableWithIndexMap.foldlWithIndex(f)(f(m._5)(foldableWithIndexMap.foldlWithIndex(f)(f(m._2)(foldableWithIndexMap.foldlWithIndex(f)(z)(m._1))(m._3))(m._4))(m._6))(m._7);
    }
    fail$3();
  },
  foldMapWithIndex: (dictMonoid) => {
    const append2 = dictMonoid.Semigroup0().append;
    return (f) => (m) => {
      if (m.tag === "Leaf") {
        return dictMonoid.mempty;
      }
      if (m.tag === "Two") {
        return append2(foldableWithIndexMap.foldMapWithIndex(dictMonoid)(f)(m._1))(append2(f(m._2)(m._3))(foldableWithIndexMap.foldMapWithIndex(dictMonoid)(f)(m._4)));
      }
      if (m.tag === "Three") {
        return append2(foldableWithIndexMap.foldMapWithIndex(dictMonoid)(f)(m._1))(append2(f(m._2)(m._3))(append2(foldableWithIndexMap.foldMapWithIndex(dictMonoid)(f)(m._4))(append2(f(m._5)(m._6))(foldableWithIndexMap.foldMapWithIndex(dictMonoid)(f)(m._7)))));
      }
      fail$3();
    };
  },
  Foldable0: () => foldableMap
};
const traversableMap = {
  traverse: (dictApplicative) => {
    const Apply0 = dictApplicative.Apply0();
    const map1 = Apply0.Functor0().map;
    return (v) => (v1) => {
      if (v1.tag === "Leaf") {
        return dictApplicative.pure(Leaf);
      }
      if (v1.tag === "Two") {
        return Apply0.apply(Apply0.apply(Apply0.apply(map1(Two)(traversableMap.traverse(dictApplicative)(v)(v1._1)))(dictApplicative.pure(v1._2)))(v(v1._3)))(traversableMap.traverse(dictApplicative)(v)(v1._4));
      }
      if (v1.tag === "Three") {
        return Apply0.apply(Apply0.apply(Apply0.apply(Apply0.apply(Apply0.apply(Apply0.apply(map1(Three)(traversableMap.traverse(dictApplicative)(v)(v1._1)))(dictApplicative.pure(v1._2)))(v(v1._3)))(traversableMap.traverse(dictApplicative)(v)(v1._4)))(dictApplicative.pure(v1._5)))(v(v1._6)))(traversableMap.traverse(dictApplicative)(v)(v1._7));
      }
      fail$3();
    };
  },
  sequence: (dictApplicative) => traversableMap.traverse(dictApplicative)(identity$s),
  Functor0: () => functorMap,
  Foldable1: () => foldableMap
};
const fromFoldable$9 = (dictOrd) => (dictFoldable) => dictFoldable.foldl((m) => (v) => insert$2(dictOrd)(v._1)(v._2)(m))(Leaf);
const $$delete = (dictOrd) => (k) => (m) => {
  const $3 = pop(dictOrd)(k)(m);
  if ($3.tag === "Nothing") {
    return m;
  }
  if ($3.tag === "Just") {
    return $3._1._2;
  }
  fail$3();
};
const alter = (dictOrd) => (f) => (k) => (m) => {
  const v = f(lookup$2(dictOrd)(k)(m));
  if (v.tag === "Nothing") {
    return $$delete(dictOrd)(k)(m);
  }
  if (v.tag === "Just") {
    return insert$2(dictOrd)(k)(v._1)(m);
  }
  fail$3();
};
const unionWith = (dictOrd) => (f) => (m1) => (m2) => foldableWithIndexMap.foldlWithIndex((k) => (m) => (v) => alter(dictOrd)((() => {
  const $7 = f(v);
  return (x) => $Maybe(
    "Just",
    (() => {
      if (x.tag === "Nothing") {
        return v;
      }
      if (x.tag === "Just") {
        return $7(x._1);
      }
      fail$3();
    })()
  );
})())(k)(m))(m2)(m1);
const update = (dictOrd) => (f) => (k) => (m) => alter(dictOrd)((v2) => {
  if (v2.tag === "Nothing") {
    return Nothing;
  }
  if (v2.tag === "Just") {
    return f(v2._1);
  }
  fail$3();
})(k)(m);
const numAdd = function(n1) {
  return function(n2) {
    return n1 + n2;
  };
};
const intDiv = function(x) {
  return function(y) {
    if (y === 0)
      return 0;
    return y > 0 ? Math.floor(x / y) : -Math.floor(x / -y);
  };
};
const intMod = function(x) {
  return function(y) {
    if (y === 0)
      return 0;
    var yy = Math.abs(y);
    return (x % yy + yy) % yy;
  };
};
const absurd = (a2) => {
  const spin = (spin$a0$copy) => {
    let spin$r;
    return spin$r;
  };
  return spin();
};
const concatString = function(s1) {
  return function(s2) {
    return s1 + s2;
  };
};
const concatArray = function(xs) {
  return function(ys) {
    if (xs.length === 0)
      return ys;
    if (ys.length === 0)
      return xs;
    return xs.concat(ys);
  };
};
const semigroupString = { append: concatString };
const semigroupArray = { append: concatArray };
const monoidString = { mempty: "", Semigroup0: () => semigroupString };
const monoidArray = { mempty: [], Semigroup0: () => semigroupArray };
const monoidRecord = () => (dictMonoidRecord) => {
  const semigroupRecord1 = { append: dictMonoidRecord.SemigroupRecord0().appendRecord($$Proxy) };
  return { mempty: dictMonoidRecord.memptyRecord($$Proxy), Semigroup0: () => semigroupRecord1 };
};
const map_ = function(f) {
  return function(a2) {
    return function() {
      return f(a2());
    };
  };
};
const pure_ = function(a2) {
  return function() {
    return a2;
  };
};
const bind_ = function(a2) {
  return function(f) {
    return function() {
      return f(a2())();
    };
  };
};
const run$2 = function(f) {
  return f();
};
function whileST(f) {
  return function(a2) {
    return function() {
      while (f()) {
        a2();
      }
    };
  };
}
const foreach = function(as) {
  return function(f) {
    return function() {
      for (var i2 = 0, l2 = as.length; i2 < l2; i2++) {
        f(as[i2])();
      }
    };
  };
};
const functorST = { map: map_ };
const monadST = { Applicative0: () => applicativeST, Bind1: () => bindST };
const bindST = { bind: bind_, Apply0: () => applyST };
const applyST = {
  apply: (f) => (a2) => () => {
    const f$p = f();
    const a$p = a2();
    return applicativeST.pure(f$p(a$p))();
  },
  Functor0: () => functorST
};
const applicativeST = { pure: pure_, Apply0: () => applyST };
function newSTArray() {
  return [];
}
const pushAll = function(as) {
  return function(xs) {
    return function() {
      return xs.push.apply(xs, as);
    };
  };
};
const splice = function(i2) {
  return function(howMany) {
    return function(bs) {
      return function(xs) {
        return function() {
          return xs.splice.apply(xs, [i2, howMany].concat(bs));
        };
      };
    };
  };
};
const unsafeFreeze = function(xs) {
  return function() {
    return xs;
  };
};
const unsafeThaw = function(xs) {
  return function() {
    return xs;
  };
};
function copyImpl(xs) {
  return function() {
    return xs.slice();
  };
}
const freeze = copyImpl;
const thaw = copyImpl;
const withArray = (f) => (xs) => {
  const $2 = thaw(xs);
  return () => {
    const result2 = $2();
    f(result2)();
    return unsafeFreeze(result2)();
  };
};
const $Iterator = (_1, _2) => ({ tag: "Iterator", _1, _2 });
const iterate = (iter) => (f) => () => {
  const $$break = { value: false };
  return whileST(() => {
    const $3 = $$break.value;
    return !$3;
  })(() => {
    const i2 = iter._2.value;
    const $4 = iter._2.value;
    iter._2.value = $4 + 1 | 0;
    const mx = iter._1(i2);
    if (mx.tag === "Just") {
      return f(mx._1)();
    }
    if (mx.tag === "Nothing") {
      $$break.value = true;
      return unit;
    }
    fail$3();
  })();
};
const identity$r = (x) => x;
const bifunctorEither = {
  bimap: (v) => (v1) => (v2) => {
    if (v2.tag === "Left") {
      return $Either("Left", v(v2._1));
    }
    if (v2.tag === "Right") {
      return $Either("Right", v1(v2._1));
    }
    fail$3();
  }
};
const traverseArrayImpl = function() {
  function array1(a2) {
    return [a2];
  }
  function array2(a2) {
    return function(b) {
      return [a2, b];
    };
  }
  function array3(a2) {
    return function(b) {
      return function(c2) {
        return [a2, b, c2];
      };
    };
  }
  function concat2(xs) {
    return function(ys) {
      return xs.concat(ys);
    };
  }
  return function(apply2) {
    return function(map2) {
      return function(pure3) {
        return function(f) {
          return function(array) {
            function go(bot, top) {
              switch (top - bot) {
                case 0:
                  return pure3([]);
                case 1:
                  return map2(array1)(f(array[bot]));
                case 2:
                  return apply2(map2(array2)(f(array[bot])))(f(array[bot + 1]));
                case 3:
                  return apply2(apply2(map2(array3)(f(array[bot])))(f(array[bot + 1])))(f(array[bot + 2]));
                default:
                  var pivot = bot + Math.floor((top - bot) / 4) * 2;
                  return apply2(map2(concat2)(go(bot, pivot)))(go(pivot, top));
              }
            }
            return go(0, array.length);
          };
        };
      };
    };
  };
}();
const identity$q = (x) => x;
const traversableTuple = {
  traverse: (dictApplicative) => {
    const map2 = dictApplicative.Apply0().Functor0().map;
    return (f) => (v) => map2(Tuple(v._1))(f(v._2));
  },
  sequence: (dictApplicative) => {
    const map2 = dictApplicative.Apply0().Functor0().map;
    return (v) => map2(Tuple(v._1))(v._2);
  },
  Functor0: () => functorTuple,
  Foldable1: () => foldableTuple
};
const traversableArray = {
  traverse: (dictApplicative) => {
    const Apply0 = dictApplicative.Apply0();
    return traverseArrayImpl(Apply0.apply)(Apply0.Functor0().map)(dictApplicative.pure);
  },
  sequence: (dictApplicative) => traversableArray.traverse(dictApplicative)(identity$q),
  Functor0: () => functorArray,
  Foldable1: () => foldableArray
};
const range = function(start) {
  return function(end2) {
    var step = start > end2 ? -1 : 1;
    var result2 = new Array(step * (end2 - start) + 1);
    var i2 = start, n2 = 0;
    while (i2 !== end2) {
      result2[n2++] = i2;
      i2 += step;
    }
    result2[n2] = i2;
    return result2;
  };
};
var replicateFill = function(count) {
  return function(value2) {
    if (count < 1) {
      return [];
    }
    var result2 = new Array(count);
    return result2.fill(value2);
  };
};
var replicatePolyfill = function(count) {
  return function(value2) {
    var result2 = [];
    var n2 = 0;
    for (var i2 = 0; i2 < count; i2++) {
      result2[n2++] = value2;
    }
    return result2;
  };
};
const replicate = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;
const fromFoldableImpl = function() {
  function Cons2(head, tail2) {
    this.head = head;
    this.tail = tail2;
  }
  var emptyList = {};
  function curryCons(head) {
    return function(tail2) {
      return new Cons2(head, tail2);
    };
  }
  function listToArray(list) {
    var result2 = [];
    var count = 0;
    var xs = list;
    while (xs !== emptyList) {
      result2[count++] = xs.head;
      xs = xs.tail;
    }
    return result2;
  }
  return function(foldr) {
    return function(xs) {
      return listToArray(foldr(curryCons)(emptyList)(xs));
    };
  };
}();
const unconsImpl = function(empty2) {
  return function(next) {
    return function(xs) {
      return xs.length === 0 ? empty2({}) : next(xs[0])(xs.slice(1));
    };
  };
};
const indexImpl$1 = function(just) {
  return function(nothing) {
    return function(xs) {
      return function(i2) {
        return i2 < 0 || i2 >= xs.length ? nothing : just(xs[i2]);
      };
    };
  };
};
const findIndexImpl = function(just) {
  return function(nothing) {
    return function(f) {
      return function(xs) {
        for (var i2 = 0, l2 = xs.length; i2 < l2; i2++) {
          if (f(xs[i2]))
            return just(i2);
        }
        return nothing;
      };
    };
  };
};
const _deleteAt = function(just) {
  return function(nothing) {
    return function(i2) {
      return function(l2) {
        if (i2 < 0 || i2 >= l2.length)
          return nothing;
        var l1 = l2.slice();
        l1.splice(i2, 1);
        return just(l1);
      };
    };
  };
};
const _updateAt = function(just) {
  return function(nothing) {
    return function(i2) {
      return function(a2) {
        return function(l2) {
          if (i2 < 0 || i2 >= l2.length)
            return nothing;
          var l1 = l2.slice();
          l1[i2] = a2;
          return just(l1);
        };
      };
    };
  };
};
const filter$1 = function(f) {
  return function(xs) {
    return xs.filter(f);
  };
};
const sortByImpl = function() {
  function mergeFromTo(compare, fromOrdering, xs1, xs2, from, to) {
    var mid;
    var i2;
    var j;
    var k;
    var x;
    var y;
    var c2;
    mid = from + (to - from >> 1);
    if (mid - from > 1)
      mergeFromTo(compare, fromOrdering, xs2, xs1, from, mid);
    if (to - mid > 1)
      mergeFromTo(compare, fromOrdering, xs2, xs1, mid, to);
    i2 = from;
    j = mid;
    k = from;
    while (i2 < mid && j < to) {
      x = xs2[i2];
      y = xs2[j];
      c2 = fromOrdering(compare(x)(y));
      if (c2 > 0) {
        xs1[k++] = y;
        ++j;
      } else {
        xs1[k++] = x;
        ++i2;
      }
    }
    while (i2 < mid) {
      xs1[k++] = xs2[i2++];
    }
    while (j < to) {
      xs1[k++] = xs2[j++];
    }
  }
  return function(compare) {
    return function(fromOrdering) {
      return function(xs) {
        var out;
        if (xs.length < 2)
          return xs;
        out = xs.slice(0);
        mergeFromTo(compare, fromOrdering, out, xs.slice(0), 0, xs.length);
        return out;
      };
    };
  };
}();
const slice = function(s2) {
  return function(e2) {
    return function(l2) {
      return l2.slice(s2, e2);
    };
  };
};
const zipWith = function(f) {
  return function(xs) {
    return function(ys) {
      var l2 = xs.length < ys.length ? xs.length : ys.length;
      var result2 = new Array(l2);
      for (var i2 = 0; i2 < l2; i2++) {
        result2[i2] = f(xs[i2])(ys[i2]);
      }
      return result2;
    };
  };
};
const intercalate1 = (dictMonoid) => {
  const append = dictMonoid.Semigroup0().append;
  return (sep) => (xs) => foldlArray((v) => (x) => {
    if (v.init) {
      return { init: false, acc: x };
    }
    return { init: false, acc: append(v.acc)(append(sep)(x)) };
  })({ init: true, acc: dictMonoid.mempty })(xs).acc;
};
const updateAt = /* @__PURE__ */ _updateAt(Just)(Nothing);
const uncons = /* @__PURE__ */ unconsImpl((v) => Nothing)((x) => (xs) => $Maybe("Just", { head: x, tail: xs }));
const tail = /* @__PURE__ */ unconsImpl((v) => Nothing)((v) => (xs) => $Maybe("Just", xs));
const sortBy = (comp) => sortByImpl(comp)((v) => {
  if (v.tag === "GT") {
    return 1;
  }
  if (v.tag === "EQ") {
    return 0;
  }
  if (v.tag === "LT") {
    return -1;
  }
  fail$3();
});
const sortWith = (dictOrd) => (f) => sortBy((x) => (y) => dictOrd.compare(f(x))(f(y)));
const init$1 = (xs) => {
  if (xs.length === 0) {
    return Nothing;
  }
  return $Maybe("Just", slice(0)(xs.length - 1 | 0)(xs));
};
const index = /* @__PURE__ */ indexImpl$1(Just)(Nothing);
const span = (p2) => (arr) => {
  const go = (go$a0$copy) => {
    let go$a0 = go$a0$copy, go$c = true, go$r;
    while (go$c) {
      const i2 = go$a0;
      const v = index(arr)(i2);
      if (v.tag === "Just") {
        if (p2(v._1)) {
          go$a0 = i2 + 1 | 0;
          continue;
        }
        go$c = false;
        go$r = $Maybe("Just", i2);
        continue;
      }
      if (v.tag === "Nothing") {
        go$c = false;
        go$r = Nothing;
        continue;
      }
      fail$3();
    }
    return go$r;
  };
  const breakIndex = go(0);
  if (breakIndex.tag === "Just") {
    if (breakIndex._1 === 0) {
      return { init: [], rest: arr };
    }
    return { init: slice(0)(breakIndex._1)(arr), rest: slice(breakIndex._1)(arr.length)(arr) };
  }
  if (breakIndex.tag === "Nothing") {
    return { init: arr, rest: [] };
  }
  fail$3();
};
const nubBy = (comp) => (xs) => {
  const indexedAndSorted = sortBy((x) => (y) => comp(x._2)(y._2))(zipWith(Tuple)(range(0)(xs.length - 1 | 0))(xs));
  const v = index(indexedAndSorted)(0);
  if (v.tag === "Nothing") {
    return [];
  }
  if (v.tag === "Just") {
    return arrayMap(snd)(sortWith(ordInt)(fst)(run$2((() => {
      const $4 = unsafeThaw([v._1]);
      return () => {
        const result2 = $4();
        foreach(indexedAndSorted)((v1) => () => {
          const $7 = unsafeFreeze(result2)();
          const $8 = index($7)($7.length - 1 | 0);
          const $9 = comp((() => {
            if ($8.tag === "Just") {
              return $8._1._2;
            }
            fail$3();
          })())(v1._2);
          if ($9.tag === "LT" || ($9.tag === "GT" || !($9.tag === "EQ"))) {
            pushAll([v1])(result2)();
            return unit;
          }
          return unit;
        })();
        return unsafeFreeze(result2)();
      };
    })())));
  }
  fail$3();
};
const findIndex = /* @__PURE__ */ findIndexImpl(Just)(Nothing);
const deleteAt = /* @__PURE__ */ _deleteAt(Just)(Nothing);
const deleteBy = (v) => (v1) => (v2) => {
  if (v2.length === 0) {
    return [];
  }
  const $3 = findIndex(v(v1))(v2);
  if ($3.tag === "Nothing") {
    return v2;
  }
  if ($3.tag === "Just") {
    const $4 = deleteAt($3._1)(v2);
    if ($4.tag === "Just") {
      return $4._1;
    }
    fail$3();
  }
  fail$3();
};
const concatMap = (b) => (a2) => arrayBind(a2)(b);
const mapMaybe = (f) => concatMap((x) => {
  const $2 = f(x);
  if ($2.tag === "Nothing") {
    return [];
  }
  if ($2.tag === "Just") {
    return [$2._1];
  }
  fail$3();
});
const toUnfoldable = (dictUnfoldable) => {
  const $1 = toUnfoldable$2(dictUnfoldable);
  return (x) => $1(foldableWithIndexMap.foldrWithIndex((k) => (v) => (acc) => $List("Cons", k, acc))(Nil)(x));
};
const foldableSet = {
  foldMap: (dictMonoid) => {
    const foldMap1 = foldableList.foldMap(dictMonoid);
    return (f) => {
      const $3 = foldMap1(f);
      return (x) => $3(foldableWithIndexMap.foldrWithIndex((k) => (v) => (acc) => $List("Cons", k, acc))(Nil)(x));
    };
  },
  foldl: (f) => (x) => {
    const $2 = (() => {
      const go = (go$a0$copy) => (go$a1$copy) => {
        let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
        while (go$c) {
          const b = go$a0, v = go$a1;
          if (v.tag === "Nil") {
            go$c = false;
            go$r = b;
            continue;
          }
          if (v.tag === "Cons") {
            go$a0 = f(b)(v._1);
            go$a1 = v._2;
            continue;
          }
          fail$3();
        }
        return go$r;
      };
      return go(x);
    })();
    return (x$1) => $2(foldableWithIndexMap.foldrWithIndex((k) => (v) => (acc) => $List("Cons", k, acc))(Nil)(x$1));
  },
  foldr: (f) => (x) => {
    const $2 = foldableList.foldr(f)(x);
    return (x$1) => $2(foldableWithIndexMap.foldrWithIndex((k) => (v) => (acc) => $List("Cons", k, acc))(Nil)(x$1));
  }
};
function setTimeoutImpl(ms) {
  return function(fn) {
    return function() {
      return setTimeout(fn, ms);
    };
  };
}
function clearTimeoutImpl(id2) {
  return function() {
    clearTimeout(id2);
  };
}
function setIntervalImpl(ms) {
  return function(fn) {
    return function() {
      return setInterval(fn, ms);
    };
  };
}
function clearIntervalImpl(id2) {
  return function() {
    clearInterval(id2);
  };
}
const eqTimeoutId = { eq: (x) => (y) => x === y };
const ordTimeoutId = { compare: (x) => (y) => ordInt.compare(x)(y), Eq0: () => eqTimeoutId };
function reallyUnsafeRefEq(a2) {
  return function(b) {
    return a2 === b;
  };
}
const for_$8 = /* @__PURE__ */ for_$9(applicativeEffect);
const for_1$2 = /* @__PURE__ */ for_$8(foldableMaybe);
const mempty$1 = (v) => unit;
const for_2$2 = /* @__PURE__ */ for_$8(foldableSet);
const sampleOn = (v) => (v1) => (b, k) => {
  const latest = { value: Nothing };
  const c1 = v(b, (a2) => latest.value = $Maybe("Just", a2));
  const c2 = v1(
    b,
    (f) => {
      const o = latest.value;
      return for_1$2(o)((a2) => () => k(f(a2)))();
    }
  );
  return () => {
    c1();
    return c2();
  };
};
const keepLatest = (v) => (tf, k) => {
  const cancelInner = { value: () => unit };
  const cancelOuter = v(
    tf,
    (v1) => {
      const ci = cancelInner.value;
      ci();
      const c2 = v1(tf, k);
      return cancelInner.value = c2;
    }
  );
  return () => {
    const ci = cancelInner.value;
    ci();
    return cancelOuter();
  };
};
const functorEvent = {
  map: (f) => (v) => (b, k) => v(
    b,
    (a2) => {
      const $5 = f(a2);
      return k($5);
    }
  )
};
const fold$2 = (f) => (v) => (b) => (tf, k) => {
  const result2 = { value: b };
  return v(
    tf,
    (a2) => {
      const $7 = result2.value;
      const res = result2.value = f(a2)($7);
      return k(res);
    }
  );
};
const filter = (p2) => (v) => (tf, k) => v(
  tf,
  (a2) => {
    const v1 = p2(a2);
    if (v1.tag === "Just") {
      return k(v1._1);
    }
    if (v1.tag === "Nothing") {
      return unit;
    }
    fail$3();
  }
);
const filter$p = (f) => filter((a2) => {
  if (f(a2)) {
    return $Maybe("Just", a2);
  }
  return Nothing;
});
const create$p = () => {
  const subscribers = { value: [] };
  return {
    event: (v, k) => {
      const rk = { value: k };
      const $4 = subscribers.value;
      subscribers.value = concatArray($4)([rk]);
      return () => {
        rk.value = mempty$1;
        const $7 = subscribers.value;
        subscribers.value = deleteBy(reallyUnsafeRefEq)(rk)($7);
        return unit;
      };
    },
    push: (a2) => {
      const o = subscribers.value;
      return foreachE(o)((rk) => () => {
        const k = rk.value;
        return k(a2);
      })();
    }
  };
};
const fix = (f) => (tf, k) => {
  const v = create$p();
  const v1 = f(v.event);
  const c1 = v1.input(tf, v.push);
  const c2 = v1.output(tf, k);
  return () => {
    c1();
    return c2();
  };
};
const compactableEvent = {
  compact: /* @__PURE__ */ filter((x) => x),
  separate: (xs) => ({
    left: filter((v) => {
      if (v.tag === "Left") {
        return $Maybe("Just", v._1);
      }
      if (v.tag === "Right") {
        return Nothing;
      }
      fail$3();
    })(xs),
    right: filter((v) => {
      if (v.tag === "Right") {
        return $Maybe("Just", v._1);
      }
      if (v.tag === "Left") {
        return Nothing;
      }
      fail$3();
    })(xs)
  })
};
const filterableEvent = {
  filter: filter$p,
  filterMap: filter,
  partition: (p2) => (xs) => ({ yes: filter$p(p2)(xs), no: filter$p((x) => !p2(x))(xs) }),
  partitionMap: (f) => (xs) => ({
    left: filterableEvent.filterMap((x) => {
      const $3 = f(x);
      if ($3.tag === "Left") {
        return $Maybe("Just", $3._1);
      }
      if ($3.tag === "Right") {
        return Nothing;
      }
      fail$3();
    })(xs),
    right: filterableEvent.filterMap((x) => {
      const $3 = f(x);
      if ($3.tag === "Left") {
        return Nothing;
      }
      if ($3.tag === "Right") {
        return $Maybe("Just", $3._1);
      }
      fail$3();
    })(xs)
  }),
  Compactable0: () => compactableEvent,
  Functor1: () => functorEvent
};
const biSampleOn$5 = (v) => (v1) => (tf, k) => {
  const latest1 = { value: Nothing };
  const replay1 = newSTArray();
  const latest2 = { value: Nothing };
  const replay2 = newSTArray();
  const capturing = { value: true };
  const c1 = v(
    tf,
    (a2) => {
      const o = capturing.value;
      if (o) {
        pushAll([a2])(replay1)();
        return unit;
      }
      latest1.value = $Maybe("Just", a2);
      const res = latest2.value;
      return for_1$2(res)((f) => () => k(f(a2)))();
    }
  );
  const c2 = v1(
    tf,
    (f) => {
      const o = capturing.value;
      if (o) {
        pushAll([f])(replay2)();
        return unit;
      }
      latest2.value = $Maybe("Just", f);
      const res = latest1.value;
      return for_1$2(res)((a2) => () => k(f(a2)))();
    }
  );
  capturing.value = false;
  const samples1 = freeze(replay1)();
  const samples2 = freeze(replay2)();
  (() => {
    if (samples1.length === 0) {
      const $14 = index(samples2)(samples2.length - 1 | 0);
      return () => latest2.value = $14;
    }
    return foreachE(samples1)((a2) => () => {
      latest1.value = $Maybe("Just", a2);
      return foreachE(samples2)((f) => () => {
        latest2.value = $Maybe("Just", f);
        return k(f(a2));
      })();
    });
  })()();
  splice(0)(samples1.length)([])(replay1)();
  splice(0)(samples2.length)([])(replay2)();
  return () => {
    c1();
    return c2();
  };
};
const subscribe = (i2) => backdoor$lazy().subscribe(i2);
const create$lazy = /* @__PURE__ */ binding(() => backdoor$lazy().create);
const backdoor$lazy = /* @__PURE__ */ binding(() => {
  const create_ = () => {
    const subscribers = { value: [] };
    return {
      event: (v, k) => {
        const rk = { value: k };
        const $4 = subscribers.value;
        subscribers.value = concatArray($4)([rk]);
        return () => {
          rk.value = mempty$1;
          const $7 = subscribers.value;
          subscribers.value = deleteBy(reallyUnsafeRefEq)(rk)($7);
          return unit;
        };
      },
      push: (a2) => () => {
        const o = subscribers.value;
        return foreachE(o)((rk) => () => {
          const k = rk.value;
          return k(a2);
        })();
      }
    };
  };
  return {
    makeEvent: (e2) => (tf, k) => {
      if (tf) {
        return () => unit;
      }
      return e2((a2) => () => k(a2))();
    },
    makePureEvent: (e2) => (v, k) => e2((a2) => () => k(a2))(),
    makeLemmingEvent: (e2) => (tf, k) => e2((v) => (kx) => () => v(tf, ($6) => kx($6)()))((a2) => () => k(a2))(),
    create: create_,
    createPure: create_,
    subscribe: (v) => (k) => () => v(false, ($3) => k($3)()),
    subscribePure: (v) => (k) => () => v(true, ($3) => k($3)()),
    bus: (f) => (v, k) => {
      const v1 = create$lazy()();
      k(f(v1.push)(v1.event));
      return () => unit;
    },
    memoize: (v) => (f) => (b, k) => {
      const v1 = create$p();
      k(f(v1.event));
      return v(b, v1.push);
    },
    hot: (e2) => () => {
      const v = create$lazy()();
      const unsubscribe = subscribe(e2)(v.push)();
      return { event: v.event, unsubscribe };
    },
    mailboxed: (dictOrd) => (v) => (f) => (tf, k1) => {
      const r2 = { value: Leaf };
      k1(f((a2) => (v1, k2) => {
        const $10 = r2.value;
        r2.value = alter(dictOrd)((v2) => {
          if (v2.tag === "Nothing") {
            return $Maybe("Just", [k2]);
          }
          if (v2.tag === "Just") {
            return $Maybe("Just", concatArray(v2._1)([k2]));
          }
          fail$3();
        })(a2)($10);
        const $12 = alter(dictOrd)((v2) => {
          if (v2.tag === "Nothing") {
            return Nothing;
          }
          if (v2.tag === "Just") {
            return $Maybe("Just", deleteBy(reallyUnsafeRefEq)(k2)(v2._1));
          }
          fail$3();
        })(a2);
        return () => {
          const $13 = r2.value;
          r2.value = $12($13);
          return unit;
        };
      }));
      const unsub = v(
        tf,
        (v1) => {
          const o = r2.value;
          const v2 = lookup$2(dictOrd)(v1.address)(o);
          if (v2.tag === "Nothing") {
            return unit;
          }
          if (v2.tag === "Just") {
            return foreachE(v2._1)((i2) => () => i2(v1.payload))();
          }
          fail$3();
        }
      );
      return () => {
        r2.value = Leaf;
        return unsub();
      };
    },
    delay: (n2) => (v) => (tf, k) => {
      const tid = { value: Leaf };
      const canceler = v(
        tf,
        (a2) => {
          const localId = { value: Nothing };
          const id2 = setTimeoutImpl(n2)(() => {
            k(a2);
            const lid = localId.value;
            if (lid.tag === "Nothing") {
              return unit;
            }
            if (lid.tag === "Just") {
              const $102 = tid.value;
              tid.value = $$delete(ordTimeoutId)(lid._1)($102);
              return unit;
            }
            fail$3();
          })();
          localId.value = $Maybe("Just", id2);
          const $10 = tid.value;
          tid.value = unionWith(ordTimeoutId)($$const)($Map(
            "Two",
            Leaf,
            id2,
            unit,
            Leaf
          ))($10);
          return unit;
        }
      );
      return () => {
        const ids = tid.value;
        for_2$2(ids)(clearTimeoutImpl)();
        return canceler();
      };
    }
  };
});
const create = /* @__PURE__ */ create$lazy();
const backdoor = /* @__PURE__ */ backdoor$lazy();
const applyEvent = { apply: (a2) => (b) => biSampleOn$5(a2)((b$1, k) => b(b$1, (a$1) => k(applyFlipped(a$1)))), Functor0: () => functorEvent };
const applicativeEvent = {
  pure: (a2) => (v, k) => {
    k(a2);
    return () => unit;
  },
  Apply0: () => applyEvent
};
const altEvent = {
  alt: (v) => (v1) => (tf, k) => {
    const a$p = v(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  },
  Functor0: () => functorEvent
};
const burning = (i2) => (v) => () => {
  const r2 = { value: i2 };
  const v1 = create$p();
  const unsubscribe = v(
    true,
    (x) => {
      r2.value = x;
      return v1.push(x);
    }
  );
  return {
    event: (tf, k) => {
      const a$p = v1.event(tf, k);
      const o = r2.value;
      k(o);
      return () => {
        a$p();
        return unit;
      };
    },
    unsubscribe
  };
};
const plusEvent = { empty: (v, v1) => () => unit, Alt0: () => altEvent };
const alternativeEvent = { Applicative0: () => applicativeEvent, Plus1: () => plusEvent };
const eventIsEvent = { fold: fold$2, keepLatest, sampleOn, fix, Alternative0: () => alternativeEvent, Filterable1: () => filterableEvent };
const vbusNil = { vb: (v) => () => $Tuple({}, {}) };
const vbackdoor = {
  vbus: () => (dictVBus) => (v) => (f) => backdoor.makeLemmingEvent((v1) => (k) => {
    const $6 = dictVBus.vb($$Proxy);
    return () => {
      const v2 = $6();
      k(f(v2._1)(v2._2))();
      return () => unit;
    };
  })
};
const vbus$2 = () => (dictVBus) => (i2) => vbackdoor.vbus()(dictVBus)(i2);
const vbusCons2 = (dictIsSymbol) => () => () => (dictVBus) => () => () => ({
  vb: (v) => {
    const $7 = dictVBus.vb($$Proxy);
    return () => {
      const v1 = $7();
      const v2 = create();
      return $Tuple(
        unsafeSet(dictIsSymbol.reflectSymbol($$Proxy))(v2.push)(v1._1),
        unsafeSet(dictIsSymbol.reflectSymbol($$Proxy))(v2.event)(v1._2)
      );
    };
  }
});
const $Child = (tag, _1) => ({ tag, _1 });
const $Entity = (tag, _1) => ({ tag, _1 });
const $Scope = (tag, _1) => ({ tag, _1 });
const Global = /* @__PURE__ */ $Scope("Global");
const Remove = /* @__PURE__ */ $Child("Remove");
const eqScope = {
  eq: (x) => (y) => {
    if (x.tag === "Local") {
      if (y.tag === "Local") {
        return x._1 === y._1;
      }
      return false;
    }
    if (x.tag === "Global") {
      return y.tag === "Global";
    }
    return false;
  }
};
const mapWithIndexArray = function(f) {
  return function(xs) {
    var l2 = xs.length;
    var result2 = Array(l2);
    for (var i2 = 0; i2 < l2; i2++) {
      result2[i2] = f(i2)(xs[i2]);
    }
    return result2;
  };
};
const functorWithIndexArray = { mapWithIndex: mapWithIndexArray, Functor0: () => functorArray };
const mapAccum$d = (dictIsEvent) => {
  const filterMap = dictIsEvent.Filterable1().filterMap;
  return (f) => (xs) => (acc) => filterMap(snd)(dictIsEvent.fold((a2) => (v) => {
    const $7 = f(a2)(v._1);
    return $Tuple($7._1, $Maybe("Just", $7._2));
  })(xs)($Tuple(acc, Nothing)));
};
const biSampleOn$4 = (dictIsEvent) => {
  const apply2 = dictIsEvent.Alternative0().Applicative0().Apply0().apply;
  const map1 = dictIsEvent.Filterable1().Functor1().map;
  return (a2) => (b) => apply2(map1(applyFlipped)(a2))(b);
};
const newImpl = function() {
  return {};
};
function poke(k) {
  return function(v) {
    return function(m) {
      return function() {
        m[k] = v;
        return m;
      };
    };
  };
}
const deleteImpl = function(k) {
  return function(m) {
    return function() {
      delete m[k];
      return m;
    };
  };
};
function _copyST(m) {
  return function() {
    var r2 = {};
    for (var k in m) {
      if (hasOwnProperty.call(m, k)) {
        r2[k] = m[k];
      }
    }
    return r2;
  };
}
const empty$2 = {};
function runST(f) {
  return f();
}
function _fmapObject(m0, f) {
  var m = {};
  for (var k in m0) {
    if (hasOwnProperty.call(m0, k)) {
      m[k] = f(m0[k]);
    }
  }
  return m;
}
function _mapWithKey(m0, f) {
  var m = {};
  for (var k in m0) {
    if (hasOwnProperty.call(m0, k)) {
      m[k] = f(k)(m0[k]);
    }
  }
  return m;
}
function _foldM(bind2) {
  return function(f) {
    return function(mz) {
      return function(m) {
        var acc = mz;
        function g(k2) {
          return function(z) {
            return f(z)(k2)(m[k2]);
          };
        }
        for (var k in m) {
          if (hasOwnProperty.call(m, k)) {
            acc = bind2(acc)(g(k));
          }
        }
        return acc;
      };
    };
  };
}
function _lookup(no, yes, k, m) {
  return k in m ? yes(m[k]) : no;
}
function toArrayWithKey(f) {
  return function(m) {
    var r2 = [];
    for (var k in m) {
      if (hasOwnProperty.call(m, k)) {
        r2.push(f(k)(m[k]));
      }
    }
    return r2;
  };
}
const identity$p = (x) => x;
const values = /* @__PURE__ */ toArrayWithKey((v) => (v1) => v1);
const mutate = (f) => (m) => runST((() => {
  const $2 = _copyST(m);
  return () => {
    const s2 = $2();
    f(s2)();
    return s2;
  };
})());
const mapWithKey = (f) => (m) => _mapWithKey(m, f);
const lookup$1 = ($0) => ($1) => _lookup(Nothing, Just, $0, $1);
const functorObject = { map: (f) => (m) => _fmapObject(m, f) };
const functorWithIndexObject = { mapWithIndex: mapWithKey, Functor0: () => functorObject };
const fromFoldable$8 = (dictFoldable) => {
  const fromFoldable12 = fromFoldableImpl(dictFoldable.foldr);
  return (l2) => runST(() => {
    const s2 = newImpl();
    foreach(fromFoldable12(l2))((v) => () => {
      poke(v._1)(v._2)(s2)();
      return unit;
    })();
    return s2;
  });
};
const foldM = (dictMonad) => {
  const bind1 = dictMonad.Bind1().bind;
  const pure1 = dictMonad.Applicative0().pure;
  return (f) => (z) => _foldM(bind1)(f)(pure1(z));
};
const foldM1 = /* @__PURE__ */ foldM(monadST);
const union = (m) => mutate((s2) => foldM1((s$p) => (k) => (v) => poke(k)(v)(s$p))(s2)(m));
const fold$1 = /* @__PURE__ */ _foldM(applyFlipped);
const foldMap$1 = (dictMonoid) => {
  const append1 = dictMonoid.Semigroup0().append;
  return (f) => fold$1((acc) => (k) => (v) => append1(acc)(f(k)(v)))(dictMonoid.mempty);
};
const foldableObject = {
  foldl: (f) => fold$1((z) => (v) => f(z)),
  foldr: (f) => (z) => (m) => foldrArray(f)(z)(values(m)),
  foldMap: (dictMonoid) => {
    const foldMap1 = foldMap$1(dictMonoid);
    return (f) => foldMap1((v) => f);
  }
};
const foldableWithIndexObject = {
  foldlWithIndex: (f) => fold$1((b) => (a2) => f(a2)(b)),
  foldrWithIndex: (f) => (z) => (m) => foldrArray((v) => f(v._1)(v._2))(z)(toArrayWithKey(Tuple)(m)),
  foldMapWithIndex: (dictMonoid) => foldMap$1(dictMonoid),
  Foldable0: () => foldableObject
};
const traversableWithIndexObject = {
  traverseWithIndex: (dictApplicative) => {
    const Apply0 = dictApplicative.Apply0();
    const map2 = Apply0.Functor0().map;
    return (f) => (ms) => fold$1((acc) => (k) => (v) => Apply0.apply(map2((b) => (a2) => mutate(poke(k)(a2))(b))(acc))(f(k)(v)))(dictApplicative.pure(empty$2))(ms);
  },
  FunctorWithIndex0: () => functorWithIndexObject,
  FoldableWithIndex1: () => foldableWithIndexObject,
  Traversable2: () => traversableObject
};
const traversableObject = {
  traverse: (dictApplicative) => {
    const $1 = traversableWithIndexObject.traverseWithIndex(dictApplicative);
    return (x) => $1((v) => x);
  },
  sequence: (dictApplicative) => traversableObject.traverse(dictApplicative)(identity$p),
  Functor0: () => functorObject,
  Foldable1: () => foldableObject
};
function mutAr(a2) {
  return () => {
    return a2.slice();
  };
}
function unsafeUpdateMutAr(i2) {
  return (v) => (a2) => () => {
    a2[i2] = v;
  };
}
function readAr(a2) {
  return () => {
    return a2.slice();
  };
}
const $Stage$1 = (tag) => ({ tag });
const mapAccum$c = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const oneOf$A = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const for_$7 = /* @__PURE__ */ for_$9(applicativeST);
const for_1$1 = /* @__PURE__ */ for_$7(foldableMaybe);
const for_2$1 = /* @__PURE__ */ for_$7(foldableArray);
const oneOfMap$c = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const traverse_$6 = /* @__PURE__ */ traverse_$7(applicativeST)(foldableArray);
const Begin$1 = /* @__PURE__ */ $Stage$1("Begin");
const Middle$1 = /* @__PURE__ */ $Stage$1("Middle");
const End$2 = /* @__PURE__ */ $Stage$1("End");
const switcher = (f) => (event) => $Entity(
  "DynamicChildren'",
  keepLatest(backdoor.memoize(mapAccum$c((a2) => (b) => $Tuple(b + 1 | 0, $Tuple(a2, b)))(event)(0))((cenv) => (b, k) => cenv(
    b,
    (a2) => {
      const $6 = oneOf$A([
        (() => {
          const $62 = filter$p((() => {
            const $63 = a2._2 + 1 | 0;
            return (x) => $63 === x._2;
          })())(cenv);
          return (b$1, k$1) => $62(b$1, (a$1) => k$1(Remove));
        })(),
        applicativeEvent.pure($Child("Insert", f(a2._1)))
      ]);
      return k($6);
    }
  )))
);
const flatten = (v) => (psr) => (interpreter) => (v1) => {
  if (v1.tag === "FixedChildren'") {
    return oneOfMap$c(flatten(v)(psr)(interpreter))(v1._1);
  }
  if (v1.tag === "EventfulElement'") {
    return keepLatest((() => {
      const $4 = flatten(v)(psr)(interpreter);
      return (b, k) => v1._1(
        b,
        (a2) => {
          const $8 = $4(a2);
          return k($8);
        }
      );
    })());
  }
  if (v1.tag === "Element'") {
    return v.toElt(v1._1)(psr)(interpreter);
  }
  if (v1.tag === "DynamicChildren'") {
    return backdoor.makeLemmingEvent((mySub) => (v2) => () => {
      const cancelInner = { value: empty$2 };
      const cancelOuter = mySub(v1._1)((inner) => {
        const $82 = v.ids(interpreter);
        return () => {
          const myUnsubId = $82();
          const myUnsub = { value: () => unit };
          const eltsUnsubId = v.ids(interpreter)();
          const eltsUnsub = { value: () => unit };
          const myIds = { value: [] };
          const myImmediateCancellation = { value: () => unit };
          const $15 = v.ids(interpreter)();
          const stageRef = { value: Begin$1 };
          const c0 = mySub(inner)((kid$p) => () => {
            const stage = stageRef.value;
            if (stage.tag === "Middle") {
              if (kid$p.tag === "Logic") {
                return bind_(() => myIds.value)(traverse_$6((() => {
                  const $192 = v.doLogic(kid$p._1)(interpreter);
                  return (x) => v2($192(x));
                })()))();
              }
              if (kid$p.tag === "Remove") {
                stageRef.value = End$2;
                const mic = () => {
                  const idRef = myIds.value;
                  for_2$1(idRef)((old) => for_1$1(psr.parent)((pnt) => v2(v.disconnectElement(interpreter)({ id: old, parent: pnt, scope: $Scope("Local", $15) }))))();
                  const myu = myUnsub.value;
                  myu();
                  const eltu = eltsUnsub.value;
                  eltu();
                  const $26 = cancelInner.value;
                  cancelInner.value = mutate(deleteImpl(myUnsubId))($26);
                  const $28 = cancelInner.value;
                  cancelInner.value = mutate(deleteImpl(eltsUnsubId))($28);
                  return unit;
                };
                myImmediateCancellation.value = mic;
                return mic();
              }
              return unit;
            }
            if (kid$p.tag === "Insert") {
              if (stage.tag === "Begin") {
                stageRef.value = Middle$1;
                const c1 = mySub(flatten(v)({
                  ...psr,
                  scope: $Scope("Local", $15),
                  raiseId: (id2) => () => {
                    (() => {
                      const $212 = concatArray([id2]);
                      return () => {
                        const $22 = myIds.value;
                        return myIds.value = $212($22);
                      };
                    })()();
                    return unit;
                  }
                })(interpreter)(kid$p._1))(v2)();
                const $21 = cancelInner.value;
                cancelInner.value = mutate(poke(eltsUnsubId)(c1))($21);
                eltsUnsub.value = c1;
                return unit;
              }
              return unit;
            }
            return unit;
          })();
          myUnsub.value = c0;
          const $19 = cancelInner.value;
          cancelInner.value = mutate(poke(myUnsubId)(c0))($19);
          const mican = myImmediateCancellation.value;
          return mican();
        };
      })();
      const $8 = bind_(() => cancelInner.value)(fold$1((z) => (v$1) => (b) => () => {
        z();
        const a$p = b();
        return a$p;
      })(() => unit));
      return () => {
        $8();
        return cancelOuter();
      };
    });
  }
  fail$3();
};
const internalPortalSimpleComplex = () => (isGlobal) => (scopeF) => (flatArgs) => (v) => (toBeam) => (closure) => $Entity(
  "Element'",
  v.fromEltO2((psr) => (interpreter) => backdoor.makeLemmingEvent((mySub) => (k) => {
    const $11 = mutAr(arrayMap((v$1) => "")(toBeam));
    return () => {
      const av = $11();
      const u0 = mySub(oneOf$A(mapWithIndexArray((ix) => (i2) => v.toElt(i2)({
        ...psr,
        parent: Nothing,
        scope: scopeF(psr.scope),
        raiseId: (id2) => unsafeUpdateMutAr(ix)(id2)(av)
      })(interpreter))(toBeam)))(k)();
      const av2 = { value: () => unit };
      const $15 = readAr(av)();
      const u = mySub(flatten(flatArgs)(psr)(interpreter)(closure(arrayMap((id2) => (specialization) => v.fromEltO1((v1) => (itp) => backdoor.makeLemmingEvent((v2) => (k2) => {
        const $22 = v1.raiseId(id2);
        return () => {
          $22();
          for_1$1(v1.parent)((pt) => k2(v.giveNewParent(itp)({ id: id2, parent: pt, scope: v1.scope })(specialization)))();
          return () => unit;
        };
      })))($15))(unsafeCoerce)))(k)();
      av2.value = u;
      return () => {
        u0();
        const $19 = for_2$1($15)((id2) => k(v.deleteFromCache(interpreter)({ id: id2 })));
        (() => {
          if (!isGlobal) {
            return $19;
          }
          return () => unit;
        })()();
        const av2c = av2.value;
        return av2c();
      };
    };
  }))
);
const globalPortalSimpleComplex = () => (flatArgs) => (portalArgs) => (toBeam) => (closure) => internalPortalSimpleComplex()(true)((v) => Global)(flatArgs)(portalArgs)(toBeam)((x) => (v) => closure(x));
const oneOf$z = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const text = (txt) => $Entity(
  "Element'",
  (v) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    v.raiseId(me)();
    const unsub = mySub(oneOf$z([
      applicativeEvent.pure(v1.makeText({ id: me, parent: v.parent, scope: v.scope })),
      (b, k$1) => txt(
        b,
        (a2) => {
          const $10 = v1.setText({ id: me, text: a2 });
          return k$1($10);
        }
      )
    ]))(k)();
    const $8 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $8();
      return unsub();
    };
  })
);
const portalFlatten = () => ({
  doLogic: (pos) => (v) => (id2) => v.sendToPos({ id: id2, pos }),
  ids: (x) => x.ids,
  disconnectElement: (v) => (v1) => v.disconnectElement({ id: v1.id, scope: v1.scope, parent: v1.parent, scopeEq: eqScope.eq }),
  toElt: (v) => v
});
const portalFlatten1 = /* @__PURE__ */ portalFlatten();
const deku = (root2) => (children) => (v) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
  const me = v.ids();
  return mySub((() => {
    const $6 = applicativeEvent.pure(v.makeRoot({ id: me, root: root2 }));
    const $7 = flatten(portalFlatten1)({
      parent: $Maybe("Just", me),
      scope: $Scope("Local", "rootScope"),
      raiseId: (v1) => () => unit,
      pos: Nothing
    })(v)(children);
    return (tf, k$1) => {
      const a$p = $6(tf, k$1);
      const a$p$1 = $7(tf, k$1);
      return () => {
        a$p();
        return a$p$1();
      };
    };
  })())(k)();
});
const elementify = (tag) => (atts) => (children) => (v) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
  const me = v1.ids();
  v.raiseId(me)();
  const unsub = mySub((() => {
    const $9 = oneOf$z(concatArray([
      applicativeEvent.pure(v1.makeElement({ id: me, parent: v.parent, scope: v.scope, tag })),
      (b, k$1) => atts(
        b,
        (a2) => {
          const $12 = (() => {
            if (a2.value.tag === "Prop'") {
              return v1.setProp({ id: me, key: a2.key, value: a2.value._1 });
            }
            if (a2.value.tag === "Cb'") {
              return v1.setCb({ id: me, key: a2.key, value: a2.value._1 });
            }
            fail$3();
          })();
          return k$1($12);
        }
      )
    ])((() => {
      if (v.parent.tag === "Nothing") {
        return [];
      }
      if (v.parent.tag === "Just") {
        return [applicativeEvent.pure(v1.attributeParent({ id: me, parent: v.parent._1, pos: v.pos }))];
      }
      fail$3();
    })()));
    const $102 = flatten(portalFlatten1)({ parent: $Maybe("Just", me), scope: v.scope, raiseId: (v2) => () => unit, pos: Nothing })(v1)(children);
    return (tf, k$1) => {
      const a$p = $9(tf, k$1);
      const a$p$1 = $102(tf, k$1);
      return () => {
        a$p();
        return a$p$1();
      };
    };
  })())(k)();
  const $10 = k(v1.deleteFromCache({ id: me }));
  return () => {
    $10();
    return unsub();
  };
});
const replace = function(s1) {
  return function(s2) {
    return function(s3) {
      return s3.replace(s1, s2);
    };
  };
};
const split = function(sep) {
  return function(s2) {
    return s2.split(sep);
  };
};
const joinWith = function(s2) {
  return function(xs) {
    return xs.join(s2);
  };
};
const functorStateT$1 = (dictFunctor) => ({ map: (f) => (v) => (s2) => dictFunctor.map((v1) => $Tuple(f(v1._1), v1._2))(v(s2)) });
const monadStateT = (dictMonad) => ({ Applicative0: () => applicativeStateT$1(dictMonad), Bind1: () => bindStateT$1(dictMonad) });
const bindStateT$1 = (dictMonad) => {
  const bind2 = dictMonad.Bind1().bind;
  return { bind: (v) => (f) => (s2) => bind2(v(s2))((v1) => f(v1._1)(v1._2)), Apply0: () => applyStateT(dictMonad) };
};
const applyStateT = (dictMonad) => {
  const functorStateT1 = functorStateT$1(dictMonad.Bind1().Apply0().Functor0());
  return {
    apply: (() => {
      const $2 = monadStateT(dictMonad);
      const bind2 = $2.Bind1().bind;
      const pure3 = $2.Applicative0().pure;
      return (f) => (a2) => bind2(f)((f$p) => bind2(a2)((a$p) => pure3(f$p(a$p))));
    })(),
    Functor0: () => functorStateT1
  };
};
const applicativeStateT$1 = (dictMonad) => {
  const pure3 = dictMonad.Applicative0().pure;
  return { pure: (a2) => (s2) => pure3($Tuple(a2, s2)), Apply0: () => applyStateT(dictMonad) };
};
const monadStateStateT$2 = (dictMonad) => {
  const pure3 = dictMonad.Applicative0().pure;
  const monadStateT1 = monadStateT(dictMonad);
  return { state: (f) => (x) => pure3(f(x)), Monad0: () => monadStateT1 };
};
const traverseWithIndex_$1 = (dictApplicative) => {
  const $1 = dictApplicative.Apply0();
  const map2 = $1.Functor0().map;
  return (dictFoldableWithIndex) => (f) => dictFoldableWithIndex.foldrWithIndex((i2) => {
    const $6 = f(i2);
    return (x) => {
      const $8 = $6(x);
      return (b) => $1.apply(map2((v) => identity$w)($8))(b);
    };
  })(dictApplicative.pure(unit));
};
const foldableWithIndexArray = {
  foldrWithIndex: (f) => (z) => {
    const $2 = foldrArray((v) => (y) => f(v._1)(v._2)(y))(z);
    const $3 = mapWithIndexArray(Tuple);
    return (x) => $2($3(x));
  },
  foldlWithIndex: (f) => (z) => {
    const $2 = foldlArray((y) => (v) => f(v._1)(y)(v._2))(z);
    const $3 = mapWithIndexArray(Tuple);
    return (x) => $2($3(x));
  },
  foldMapWithIndex: (dictMonoid) => {
    const append = dictMonoid.Semigroup0().append;
    return (f) => foldableWithIndexArray.foldrWithIndex((i2) => (x) => (acc) => append(f(i2)(x))(acc))(dictMonoid.mempty);
  },
  Foldable0: () => foldableArray
};
const traversableWithIndexArray = {
  traverseWithIndex: (dictApplicative) => {
    const mapWithIndex = traversableWithIndexArray.FunctorWithIndex0().mapWithIndex;
    const sequence1 = traversableWithIndexArray.Traversable2().sequence(dictApplicative);
    return (f) => {
      const $4 = mapWithIndex(f);
      return (x) => sequence1($4(x));
    };
  },
  FunctorWithIndex0: () => functorWithIndexArray,
  FoldableWithIndex1: () => foldableWithIndexArray,
  Traversable2: () => traversableArray
};
const random = Math.random;
const randomInt = (low) => (high) => () => {
  const n2 = random();
  return unsafeClamp(floor((toNumber(high) - toNumber(low) + 1) * n2 + toNumber(low)));
};
const lcgPerturb = (d) => (v) => {
  const $2 = fromNumber(remainder(toNumber(48271) * toNumber(v) + toNumber(d))(toNumber(2147483647)));
  if ($2.tag === "Just") {
    return $2._1;
  }
  fail$3();
};
const monadStateStateT$1 = /* @__PURE__ */ monadStateStateT$2(monadIdentity);
const functorStateT = /* @__PURE__ */ functorStateT$1(functorIdentity);
const lcgStep = /* @__PURE__ */ (() => monadStateStateT$1.state((s2) => $Tuple(s2.newSeed, { ...s2, newSeed: lcgPerturb(0)(s2.newSeed) })))();
const applyGen = /* @__PURE__ */ applyStateT(monadIdentity);
const chooseInt$p = (a2) => (b) => {
  const numB = toNumber(b);
  const numA = toNumber(a2);
  const choose31BitPosNumber = functorStateT.map(toNumber)(lcgStep);
  return functorStateT.map((x) => unsafeClamp(floor(numA + remainder(x)(numB - numA + 1))))(applyGen.apply(functorStateT.map(numAdd)(choose31BitPosNumber))(functorStateT.map(($5) => 2 * $5)(choose31BitPosNumber)));
};
const arbInt = { arbitrary: /* @__PURE__ */ chooseInt$p(-1e6)(1e6) };
const connectXToY_$1 = (maybe2, x, y$, state) => {
  maybe2((y) => state.units[y].main.appendChild(state.units[x].main))(y$);
};
const attributeParent_ = (runOnJust2) => (a2) => (state) => () => {
  if (state.units[a2.id]) {
    if (!state.units[a2.id].main.parentNode) {
      const iRan = runOnJust2(a2.pos)((pos) => () => {
        if (state.units[a2.parent].main.children[pos]) {
          state.units[a2.parent].main.insertBefore(
            state.units[a2.id].main,
            state.units[a2.parent].main.children[pos]
          );
          return true;
        }
        return false;
      })();
      if (!iRan) {
        if (a2.parent.indexOf("@!%") !== -1) {
          state.units[a2.parent].main.parentNode.replaceChild(
            state.units[a2.id].main,
            state.units[a2.parent].main
          );
        } else {
          state.units[a2.parent].main.appendChild(state.units[a2.id].main);
        }
      }
    }
  }
};
const makeElement_ = (runOnJust2) => (tryHydration) => (a2) => (state) => () => {
  var dom2;
  var ptr = a2.id;
  if (!state.scopes[a2.scope]) {
    state.scopes[a2.scope] = [];
  }
  state.scopes[a2.scope].push(ptr);
  const iRan = runOnJust2(a2.parent)(() => () => {
    if (state.hydrating && tryHydration && (dom2 = document.body.querySelectorAll("[data-deku-ssr-" + ptr + "]").item(0))) {
      state.units[ptr] = {
        listeners: {},
        parent: a2.parent,
        scope: a2.scope,
        main: dom2
      };
      return true;
    }
    return false;
  })();
  if (!iRan) {
    state.units[ptr] = {
      listeners: {},
      parent: a2.parent,
      scope: a2.scope,
      main: document.createElement(a2.tag)
    };
  }
};
const makeText_ = (runOnJust2) => (tryHydration) => (maybe2) => (a2) => (state) => () => {
  var ptr = a2.id;
  var dom2;
  if (!state.scopes[a2.scope]) {
    state.scopes[a2.scope] = [];
  }
  state.scopes[a2.scope].push(ptr);
  const iRan = runOnJust2(a2.parent)((parent) => () => {
    if (state.hydrating && tryHydration && (dom2 = document.body.querySelectorAll("[data-deku-ssr-" + parent + "]").item(0))) {
      var i2 = 0;
      if (dom2.childNodes.length === 1) {
        dom2.prepend(document.createTextNode(""));
      } else {
        for (var i2 = 0; i2 < dom2.childNodes.length; i2++) {
          if (dom2.childNodes[i2].nodeType === 8 && dom2.childNodes[i2].nodeValue === ptr) {
            i2 = i2 - 1;
            break;
          }
        }
      }
      state.units[ptr] = {
        main: dom2.childNodes[i2],
        parent: a2.parent,
        scope: a2.scope
      };
      return true;
    }
    return false;
  })();
  if (!iRan) {
    state.units[ptr] = {
      main: document.createTextNode(""),
      parent: a2.parent,
      scope: a2.scope
    };
    connectXToY_$1(maybe2, ptr, a2.parent, state);
  }
};
function makeFFIDOMSnapshot() {
  return {
    units: {},
    scopes: {}
  };
}
const setProp_ = (tryHydration) => (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    var avv = a2.value;
    if (state.hydrating && tryHydration && !state.units[ptr] && (dom = document.body.querySelectorAll("[data-deku-ssr-" + ptr + "]").item(0))) {
      state.units[ptr] = {
        listeners: {},
        parent: a2.parent,
        scope: a2.scope,
        main: dom
      };
      if (!state.scopes[a2.scope]) {
        state.scopes[a2.scope] = [];
      }
      state.scopes[a2.scope].push(ptr);
    }
    if (state.units[ptr].main.tagName === "INPUT" && a2.key === "value") {
      state.units[ptr].main.value = avv;
    } else if (state.units[ptr].main.tagName === "INPUT" && a2.key === "checked") {
      state.units[ptr].main.checked = avv === "true";
    } else if (a2.key === "disabled") {
      state.units[ptr].main.disabled = avv === "true";
    } else {
      state.units[ptr].main.setAttribute(a2.key, avv);
    }
  }
};
const setCb_ = (tryHydration) => (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    var avv = a2.value;
    if (state.hydrating && tryHydration && !state.units[ptr] && (dom = document.body.querySelectorAll("[data-deku-ssr-" + ptr + "]").item(0))) {
      state.units[ptr] = {
        listeners: {},
        parent: a2.parent,
        scope: a2.scope,
        main: dom
      };
      if (!state.scopes[a2.scope]) {
        state.scopes[a2.scope] = [];
      }
      state.scopes[a2.scope].push(ptr);
    }
    if (a2.key === "@self@") {
      avv(state.units[ptr].main)();
    } else {
      if (state.units[ptr].listeners[a2.key]) {
        state.units[ptr].main.removeEventListener(
          a2.key,
          state.units[ptr].listeners[a2.key]
        );
      }
      var el = (e2) => avv(e2)();
      state.units[ptr].main.addEventListener(a2.key, el);
      state.units[ptr].listeners[a2.key] = el;
    }
  }
};
const setText_ = (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    state.units[ptr].main.nodeValue = a2.text;
  }
};
const makePursx_ = (runOnJust2) => (tryHydration) => (maybe2) => (a2) => (state) => () => {
  var dom2;
  var tmp;
  var ptr = a2.id;
  var html = a2.html;
  var verb = a2.verb;
  var cache = a2.cache;
  var parent = a2.parent;
  var scope = a2.scope;
  var pxScope = a2.pxScope;
  const iRan = runOnJust2(a2.parent)(() => () => {
    if (state.hydrating && tryHydration && (dom2 = document.body.querySelectorAll("[data-deku-ssr-" + ptr + "]").item(0))) {
      state.units[ptr] = {
        listeners: {},
        scope,
        parent,
        main: dom2
      };
      return true;
    }
    return false;
  })();
  if (!iRan) {
    const entries = Object.entries(cache);
    for (var i2 = 0; i2 < entries.length; i2++) {
      const key = entries[i2][0];
      if (entries[i2][1] === true) {
        html = html.replace(
          verb + key + verb,
          'data-deku-attr-internal="' + key + '"'
        );
      } else {
        html = html.replace(
          verb + key + verb,
          '<span style="display:contents;" data-deku-elt-internal="' + key + '"></span>'
        );
      }
    }
    tmp = document.createElement("div");
    tmp.innerHTML = html.trim();
    state.units[ptr] = {
      listeners: {},
      scope,
      parent,
      main: tmp.firstChild
    };
  }
  if (!state.scopes[scope]) {
    state.scopes[scope] = [];
  }
  state.scopes[scope].push(ptr);
  if (!tmp) {
    tmp = dom2;
  }
  tmp.querySelectorAll("[data-deku-attr-internal]").forEach(function(e2) {
    var key = e2.getAttribute("data-deku-attr-internal");
    const namespacedKey = key + "@!%" + pxScope;
    state.units[namespacedKey] = {
      listeners: {},
      main: e2,
      scope
    };
    state.scopes[scope].push(namespacedKey);
  });
  tmp.querySelectorAll("[data-deku-elt-internal]").forEach(function(e2) {
    var key = e2.getAttribute("data-deku-elt-internal");
    const namespacedKey = key + "@!%" + pxScope;
    state.units[key + "@!%" + pxScope] = {
      listeners: {},
      main: e2,
      scope
    };
    state.scopes[scope].push(namespacedKey);
  });
  if (!dom2) {
    connectXToY_$1(maybe2, ptr, parent, state);
  }
};
const makeRoot_ = (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    main: a2.root
  };
};
const giveNewParent_ = (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    var parent = a2.parent;
    state.units[ptr].containingScope = a2.scope;
    state.units[parent].main.prepend(state.units[ptr].main);
  }
};
const disconnectElement_ = (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    if (state.units[ptr].noop) {
      return;
    }
    if (state.units[ptr].containingScope && !a2.scopeEq(state.units[ptr].containingScope)(a2.scope)) {
      return;
    }
    state.units[ptr].main.remove();
  }
};
const deleteFromCache_$2 = (a2) => (state) => () => {
  if (state.units[a2.id]) {
    delete state.units[a2.id];
  }
};
const sendToPos_ = (a2) => (state) => () => {
  if (state.units[a2.id]) {
    var ptr = a2.id;
    var pos = a2.pos;
    var parent = state.units[ptr].main.parentNode;
    parent.insertBefore(
      state.units[ptr].main,
      parent.children.length <= pos ? parent.children[parent.children.length - 1] : pos < 0 ? parent.children[0] : parent.children[pos]
    );
  }
};
const runOnJust = (v) => (v1) => {
  if (v.tag === "Just") {
    return v1(v._1);
  }
  return () => false;
};
const fullDOMInterpret = (seed) => ({
  ids: () => {
    const s2 = seed.value;
    const $2 = seed.value;
    seed.value = 1 + $2 | 0;
    return showIntImpl(arbInt.arbitrary({
      newSeed: (() => {
        const n$p = intMod(s2)(2147483645);
        if (n$p < 1) {
          return n$p + 2147483646 | 0;
        }
        return n$p;
      })(),
      size: 5
    })._1);
  },
  makeElement: makeElement_(runOnJust)(false),
  attributeParent: attributeParent_(runOnJust),
  makeRoot: makeRoot_,
  makeText: makeText_(runOnJust)(false)((v1) => (v2) => {
    if (v2.tag === "Nothing") {
      return unit;
    }
    if (v2.tag === "Just") {
      return v1(v2._1);
    }
    fail$3();
  }),
  makePursx: makePursx_(runOnJust)(false)((v1) => (v2) => {
    if (v2.tag === "Nothing") {
      return unit;
    }
    if (v2.tag === "Just") {
      return v1(v2._1);
    }
    fail$3();
  }),
  setProp: setProp_(false),
  setCb: setCb_(false),
  setText: setText_,
  sendToPos: sendToPos_,
  deleteFromCache: deleteFromCache_$2,
  giveNewParent: giveNewParent_,
  disconnectElement: disconnectElement_
});
const windowImpl = function() {
  return window;
};
const nullImpl = null;
function nullable(a2, r2, f) {
  return a2 == null ? r2 : f(a2);
}
function notNull(x) {
  return x;
}
function _unsafeReadProtoTagged(nothing, just, name, value2) {
  if (typeof window !== "undefined") {
    var ty = window[name];
    if (ty != null && value2 instanceof ty) {
      return just(value2);
    }
  }
  var obj = value2;
  while (obj != null) {
    var proto = Object.getPrototypeOf(obj);
    var constructorName = proto.constructor.name;
    if (constructorName === name) {
      return just(value2);
    } else if (constructorName === "Object") {
      return nothing;
    }
    obj = proto;
  }
  return nothing;
}
function _body(doc) {
  return function() {
    return doc.body;
  };
}
const body = (x) => {
  const $1 = _body(x);
  return () => {
    const a$p = $1();
    return nullable(a$p, Nothing, Just);
  };
};
function document$1(window2) {
  return function() {
    return window2.document;
  };
}
function location(window2) {
  return function() {
    return window2.location;
  };
}
function innerWidth(window2) {
  return function() {
    return window2.innerWidth;
  };
}
function innerHeight(window2) {
  return function() {
    return window2.innerHeight;
  };
}
function alert(str) {
  return function(window2) {
    return function() {
      window2.alert(str);
    };
  };
}
function localStorage$1(window2) {
  return function() {
    return window2.localStorage;
  };
}
function requestAnimationFrame(fn) {
  return function(window2) {
    return function() {
      return window2.requestAnimationFrame(fn);
    };
  };
}
function requestIdleCallback(opts) {
  return function(fn) {
    return function(window2) {
      return function() {
        return window2.requestIdleCallback(fn, opts);
      };
    };
  };
}
function cancelIdleCallback(id2) {
  return function(window2) {
    return function() {
      return window2.cancelIdleCallback(id2);
    };
  };
}
const runInElement$p = (elt) => (eee) => () => {
  const ffi = makeFFIDOMSnapshot();
  const a$p = { value: 0 };
  return subscribe(deku(elt)(eee)(fullDOMInterpret(a$p)))((i2) => i2(ffi))();
};
const runInBody$p = (eee) => {
  const $1 = bindE(bindE(windowImpl)(document$1))(body);
  return () => {
    const b$p = $1();
    if (b$p.tag === "Just") {
      return runInElement$p(b$p._1)(eee)();
    }
    return () => unit;
  };
};
const log = function(s2) {
  return function() {
    console.log(s2);
  };
};
const error = function(s2) {
  return function() {
    console.error(s2);
  };
};
const info = function(s2) {
  return function() {
    console.info(s2);
  };
};
const logShow$1 = (dictShow) => (a2) => log(dictShow.show(a2));
const animationFrame = /* @__PURE__ */ (() => backdoor.makeEvent((k) => () => {
  const w = windowImpl();
  const cancelled = { value: false };
  const loop$lazy = binding(() => {
    const $4 = requestAnimationFrame((() => {
      const $42 = k(unit);
      return () => {
        $42();
        const b = cancelled.value;
        if (!b) {
          return loop$lazy()();
        }
        if (b) {
          return unit;
        }
        fail$3();
      };
    })())(w);
    return () => {
      $4();
      return unit;
    };
  });
  const loop = loop$lazy();
  loop();
  return () => cancelled.value = true;
}))();
const sampleBy = (dictFunctor) => (f) => (b) => (e2) => b(dictFunctor.map((v1) => (x) => v1(f(x)))(dictFunctor.map(applyFlipped)(e2)));
const applyABehavior = (dictFunctor) => {
  const functorABehavior1 = { map: (f) => (v) => (e2) => v(dictFunctor.map((v1) => (x) => v1(f(x)))(e2)) };
  return { apply: (v) => (v1) => (e2) => v1(v(dictFunctor.map(semigroupoidFn.compose)(e2))), Functor0: () => functorABehavior1 };
};
const applicativeABehavior = (dictFunctor) => {
  const applyABehavior1 = applyABehavior(dictFunctor);
  return { pure: (a2) => (e2) => dictFunctor.map(applyFlipped(a2))(e2), Apply0: () => applyABehavior1 };
};
const onMatch = () => () => () => (r2) => (k) => (v) => {
  if (unsafeHas(v.type)(r2)) {
    return unsafeGet(v.type)(r2)(v.value);
  }
  return k(v);
};
const case_ = (r2) => _crashWith("Data.Variant: pattern match failure [" + (r2.type + "]"));
const foldlRecordNil = { foldlRecordRowList: (v) => (x) => (v1) => (v2) => x };
const foldlRecordCons = (dictIsSymbol) => () => (dictFoldingWithIndex) => (dictFoldlRecord) => ({
  foldlRecordRowList: (f) => (x) => (v) => (r2) => dictFoldlRecord.foldlRecordRowList(f)(dictFoldingWithIndex.foldingWithIndex(f)($$Proxy)(x)(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(r2)))($$Proxy)(r2)
});
const categoryFn = { identity: (x) => x, Semigroupoid0: () => semigroupoidFn };
function unsafeUnionFn(r1, r2) {
  var copy = {};
  for (var k1 in r2) {
    if ({}.hasOwnProperty.call(r2, k1)) {
      copy[k1] = r2[k1];
    }
  }
  for (var k2 in r1) {
    if ({}.hasOwnProperty.call(r1, k2)) {
      copy[k2] = r1[k2];
    }
  }
  return copy;
}
function copyRecord(rec) {
  var copy = {};
  for (var key in rec) {
    if ({}.hasOwnProperty.call(rec, key)) {
      copy[key] = rec[key];
    }
  }
  return copy;
}
function unsafeInsert(l2) {
  return function(a2) {
    return function(rec) {
      rec[l2] = a2;
      return rec;
    };
  };
}
function unsafeModify(l2) {
  return function(f) {
    return function(rec) {
      rec[l2] = f(rec[l2]);
      return rec;
    };
  };
}
const modify = () => () => (dictIsSymbol) => (l2) => (f) => (r1) => unsafeModify(dictIsSymbol.reflectSymbol(l2))(f)(r1);
const insert$1 = () => () => (dictIsSymbol) => (l2) => (a2) => (r1) => unsafeInsert(dictIsSymbol.reflectSymbol(l2))(a2)(r1);
const identity$o = (x) => x;
const mapRecordWithIndexNil = { mapRecordWithIndexBuilder: (v) => (v1) => identity$o };
const mapRecordWithIndexCons = (dictIsSymbol) => (dictMappingWithIndex) => (dictMapRecordWithIndex) => () => () => ({
  mapRecordWithIndexBuilder: (v) => (f) => {
    const $7 = modify()()(dictIsSymbol)($$Proxy)(dictMappingWithIndex.mappingWithIndex(f)($$Proxy));
    const $8 = dictMapRecordWithIndex.mapRecordWithIndexBuilder($$Proxy)(f);
    return (x) => $7($8(x));
  }
});
const hmapRecord = () => (dictMapRecordWithIndex) => ({
  hmap: (() => {
    const $2 = dictMapRecordWithIndex.mapRecordWithIndexBuilder($$Proxy);
    return (x) => {
      const $4 = $2(x);
      return (r1) => $4(copyRecord(r1));
    };
  })()
});
const compactableArray = {
  compact: (xs) => run$2(() => {
    const result2 = newSTArray();
    const $2 = { value: 0 };
    iterate($Iterator((v) => index(xs)(v), $2))((() => {
      const $3 = map_((v) => unit);
      return (x) => $3((() => {
        if (x.tag === "Nothing") {
          return () => 0;
        }
        if (x.tag === "Just") {
          return pushAll([x._1])(result2);
        }
        fail$3();
      })());
    })())();
    return unsafeFreeze(result2)();
  }),
  separate: (xs) => run$2(() => {
    const ls = newSTArray();
    const rs = newSTArray();
    const $3 = { value: 0 };
    iterate($Iterator((v) => index(xs)(v), $3))((() => {
      const $4 = map_((v) => unit);
      return (x) => $4((() => {
        if (x.tag === "Left") {
          return pushAll([x._1])(ls);
        }
        if (x.tag === "Right") {
          return pushAll([x._1])(rs);
        }
        fail$3();
      })());
    })())();
    const $5 = unsafeFreeze(ls)();
    const a$p = unsafeFreeze(rs)();
    return { left: $5, right: a$p };
  })
};
const profunctorFn = { dimap: (a2b) => (c2d) => (b2c) => (x) => c2d(b2c(a2b(x))) };
const identity$n = (x) => x;
const strongFn = /* @__PURE__ */ (() => ({ first: (a2b) => (v) => $Tuple(a2b(v._1), v._2), second: functorTuple.map, Profunctor0: () => profunctorFn }))();
const fanout$1 = (dictCategory) => {
  const $1 = dictCategory.Semigroupoid0();
  const $2 = dictCategory.Semigroupoid0();
  return (dictStrong) => {
    const dimap = dictStrong.Profunctor0().dimap;
    return (l2) => (r2) => $1.compose($2.compose(dictStrong.second(r2))(dictStrong.first(l2)))(dimap(identity$n)((a2) => $Tuple(a2, a2))(dictCategory.identity));
  };
};
const fanout = /* @__PURE__ */ fanout$1(categoryFn)(strongFn);
const affineTraversal = ($$set) => (pre) => (dictStrong) => (dictChoice) => {
  const $4 = fanout($$set)(pre);
  const dimap = dictChoice.Profunctor0().dimap;
  return (pab) => dimap($4)((v) => {
    if (v._2.tag === "Left") {
      return v._2._1;
    }
    if (v._2.tag === "Right") {
      return v._1(v._2._1);
    }
    fail$3();
  })(dictStrong.second(dictChoice.right(pab)));
};
const indexArray = {
  ix: (n2) => (dictStrong) => (dictChoice) => affineTraversal((s2) => (b) => {
    const $5 = updateAt(n2)(b)(s2);
    if ($5.tag === "Nothing") {
      return s2;
    }
    if ($5.tag === "Just") {
      return $5._1;
    }
    fail$3();
  })((s2) => {
    const $4 = index(s2)(n2);
    if ($4.tag === "Nothing") {
      return $Either("Left", s2);
    }
    if ($4.tag === "Just") {
      return $Either("Right", $4._1);
    }
    fail$3();
  })(dictStrong)(dictChoice)
};
function wrap(method) {
  return function(d) {
    return function(num) {
      return method.apply(num, [d]);
    };
  };
}
const toPrecisionNative = wrap(Number.prototype.toPrecision);
const toFixedNative = wrap(Number.prototype.toFixed);
const toExponentialNative = wrap(Number.prototype.toExponential);
const $Format = (tag, _1) => ({ tag, _1 });
const clamp$2 = (low) => (hi) => (x) => {
  const v = ordInt.compare(low)(x);
  const $4 = (() => {
    if (v.tag === "LT") {
      return x;
    }
    if (v.tag === "EQ") {
      return low;
    }
    if (v.tag === "GT") {
      return low;
    }
    fail$3();
  })();
  const v$1 = ordInt.compare(hi)($4);
  if (v$1.tag === "LT") {
    return hi;
  }
  if (v$1.tag === "EQ") {
    return hi;
  }
  if (v$1.tag === "GT") {
    return $4;
  }
  fail$3();
};
const toStringWith = (v) => {
  if (v.tag === "Precision") {
    return toPrecisionNative(v._1);
  }
  if (v.tag === "Fixed") {
    return toFixedNative(v._1);
  }
  if (v.tag === "Exponential") {
    return toExponentialNative(v._1);
  }
  fail$3();
};
const choiceFn = /* @__PURE__ */ (() => ({
  left: (v) => (v1) => {
    if (v1.tag === "Left") {
      return $Either("Left", v(v1._1));
    }
    if (v1.tag === "Right") {
      return $Either("Right", v1._1);
    }
    fail$3();
  },
  right: functorEither.map,
  Profunctor0: () => profunctorFn
}))();
const $AttributeValue = (tag, _1) => ({ tag, _1 });
const vbussed$2 = () => (dictVBus) => (px) => (f) => $Entity("EventfulElement'", vbackdoor.vbus()(dictVBus)(px)(f));
const vbussedUncurried$1 = () => (dictVBus) => (px) => (x) => $Entity("EventfulElement'", vbackdoor.vbus()(dictVBus)(px)(curry(x)));
const $Class = () => ({ tag: "Class" });
const Class = /* @__PURE__ */ $Class();
const attrButton_ClassString = { attr: (v) => (value2) => ({ key: "class", value: $AttributeValue("Prop'", value2) }) };
function _target(e2) {
  return e2.target;
}
function value(input) {
  return function() {
    return input.value;
  };
}
function valueAsNumber(input) {
  return function() {
    return input.valueAsNumber;
  };
}
const for_$6 = /* @__PURE__ */ for_$9(applicativeEffect)(foldableMaybe);
const slider = (x) => (tf, k) => {
  const a$p = applicativeEvent.pure({ key: "type", value: $AttributeValue("Prop'", "range") })(tf, k);
  const a$p$1 = x(
    tf,
    (a2) => k({
      key: "input",
      value: $AttributeValue(
        "Cb'",
        (x$1) => () => {
          for_$6((() => {
            const $6 = nullable(_target(x$1), Nothing, Just);
            if ($6.tag === "Just") {
              return _unsafeReadProtoTagged(Nothing, Just, "HTMLInputElement", $6._1);
            }
            if ($6.tag === "Nothing") {
              return Nothing;
            }
            fail$3();
          })())((a$1) => bindE(valueAsNumber(a$1))(a2))();
          return true;
        }
      )
    })
  );
  return () => {
    a$p();
    return a$p$1();
  };
};
function toRFC3896(input) {
  return input.replace(/[!'()*]/g, function(c2) {
    return "%" + c2.charCodeAt(0).toString(16);
  });
}
const _encodeURIComponent = function encode2(fail2, succeed, input) {
  try {
    return succeed(toRFC3896(encodeURIComponent(input)));
  } catch (err) {
    return fail2(err);
  }
};
const _encodeFormURLComponent = function encode3(fail2, succeed, input) {
  try {
    return succeed(toRFC3896(encodeURIComponent(input)).replace(/%20/g, "+"));
  } catch (err) {
    return fail2(err);
  }
};
function _decodeURIComponent(fail2, succeed, input) {
  try {
    return succeed(decodeURIComponent(input));
  } catch (err) {
    return fail2(err);
  }
}
const Reflectable$Dict$3 = { reflectType: () => "~" };
const pursxToElementNil = { pursxToElement: (v) => (v1) => (v2) => ({ cache: empty$2, element: (v3) => (v42) => plusEvent.empty }) };
const makePursx$p = (dictReflectable) => (dictReflectable1) => () => () => (dictPursxToElement) => (verb) => (html) => (r2) => $Entity(
  "Element'",
  (v) => (v1) => backdoor.makeLemmingEvent((mySub) => (k1) => () => {
    const me = v1.ids();
    const pxScope = v1.ids();
    v.raiseId(me)();
    const v2 = dictPursxToElement.pursxToElement(pxScope)($$Proxy)(r2);
    const unsub = mySub((() => {
      const $16 = applicativeEvent.pure(v1.makePursx({
        id: me,
        parent: v.parent,
        cache: v2.cache,
        pxScope,
        scope: v.scope,
        html: dictReflectable.reflectType(html),
        verb: dictReflectable1.reflectType(verb)
      }));
      const $172 = v2.element(v)(v1);
      return (tf, k) => {
        const a$p = $16(tf, k);
        const a$p$1 = $172(tf, k);
        return () => {
          a$p();
          return a$p$1();
        };
      };
    })())(k1)();
    const $17 = k1(v1.deleteFromCache({ id: me }));
    return () => {
      $17();
      return unsub();
    };
  })
);
const loadingPage = /* @__PURE__ */ makePursx$p({
  reflectType: () => '\n    <div class="wave-center">\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n      <div class="wave-loader"></div>\n</div>'
})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({});
const monadEffectEffect = { liftEffect: (x) => x, Monad0: () => monadEffect };
function now() {
  return Date.now();
}
const requestIdleCallbackIsDefined = () => window.requestIdleCallback !== void 0;
const identity$m = (x) => x;
const convertRecordOptionsNil = { convertRecordOptions: (v) => (v1) => (v2) => identity$m };
const convertRecordOptionsCons = (dictConvertRecordOptions) => (dictConvertOption) => () => () => () => (dictIsSymbol) => ({
  convertRecordOptions: (t2) => (v) => (r2) => {
    const $9 = insert$1()()(dictIsSymbol)($$Proxy)(dictConvertOption.convertOption(t2)($$Proxy)(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(r2)));
    const $10 = dictConvertRecordOptions.convertRecordOptions(t2)($$Proxy)(r2);
    return (x) => $9($10(x));
  }
});
const identity$l = (x) => x;
const mapAccum$b = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const withUnsubscribe = (e2) => backdoor.makeEvent((ff) => () => {
  const active = { value: true };
  const ro = { value: () => unit };
  const o = subscribe(e2)((a2) => {
    const $5 = ff({
      unsubscribe: () => {
        active.value = false;
        return bindE(() => ro.value)(identity$v)();
      },
      value: a2
    });
    return () => {
      const b = active.value;
      if (b) {
        return $5();
      }
      return unit;
    };
  })();
  const v = active.value;
  if (!v) {
    o();
    return () => unit;
  }
  if (v) {
    ro.value = o;
    return o;
  }
  fail$3();
});
const scheduleCf = (ll) => (e2) => backdoor.makeEvent((k) => () => {
  const r2 = { value: ll };
  const u = { value: () => unit };
  const usu = subscribe(e2)((n2) => () => {
    const l2 = r2.value;
    const c2 = l2(n2);
    k(force(c2)._1)();
    r2.value = force(c2)._2;
    return unit;
  })();
  u.value = usu;
  return bindE(() => u.value)(identity$v);
});
const emitUntil = (aToB) => (e2) => backdoor.makeEvent((k) => {
  const $3 = subscribe(withUnsubscribe(e2))((v) => {
    const v1 = aToB(v.value);
    if (v1.tag === "Just") {
      return k(v1._1);
    }
    if (v1.tag === "Nothing") {
      return v.unsubscribe;
    }
    fail$3();
  });
  return () => {
    const o = $3();
    return o;
  };
});
const oneOff = (f) => (e2) => compactableEvent.compact(emitUntil(identity$l)(mapAccum$b((a2) => (b) => {
  const v1 = f(a2);
  if (b) {
    return $Tuple(true, Nothing);
  }
  if (v1.tag === "Nothing") {
    return $Tuple(false, $Maybe("Just", Nothing));
  }
  if (v1.tag === "Just") {
    return $Tuple(true, $Maybe("Just", $Maybe("Just", v1._1)));
  }
  fail$3();
})(e2)(false)));
const insert = (dictIsSymbol) => () => () => (l2) => (a2) => (r2) => unsafeSet(dictIsSymbol.reflectSymbol(l2))(a2)(r2);
const intercalate$1 = function(separator) {
  return function(xs) {
    return xs.join(separator);
  };
};
const genericShowArgsNoArguments = { genericShowArgs: (v) => [] };
const genericShowArgsProduct = (dictGenericShowArgs) => (dictGenericShowArgs1) => ({ genericShowArgs: (v) => concatArray(dictGenericShowArgs.genericShowArgs(v._1))(dictGenericShowArgs1.genericShowArgs(v._2)) });
const genericShowConstructor = (dictGenericShowArgs) => (dictIsSymbol) => ({
  "genericShow'": (v) => {
    const ctor = dictIsSymbol.reflectSymbol($$Proxy);
    const v1 = dictGenericShowArgs.genericShowArgs(v);
    if (v1.length === 0) {
      return ctor;
    }
    return "(" + (intercalate$1(" ")(concatArray([ctor])(v1)) + ")");
  }
});
const runEffectFn1 = function runEffectFn12(fn) {
  return function(a2) {
    return function() {
      return fn(a2);
    };
  };
};
function unsafeReadPropImpl(f, s2, key, value2) {
  return value2 == null ? f : s2(value2[key]);
}
const unsafeReadProp = (dictMonad) => {
  const $1 = monadThrowExceptT(dictMonad).throwError;
  const pure3 = applicativeExceptT$3(dictMonad).pure;
  return (k) => (value2) => unsafeReadPropImpl(
    $1($NonEmpty($ForeignError("TypeMismatch", "object", typeOf(value2)), Nil)),
    pure3,
    k,
    value2
  );
};
const _parseJSON = JSON.parse;
const _undefined = void 0;
const _unsafeStringify = JSON.stringify;
const applicativeExceptT$2 = /* @__PURE__ */ applicativeExceptT$3(monadIdentity);
const bindExceptT = /* @__PURE__ */ bindExceptT$1(monadIdentity);
const identity$k = (x) => x;
const traverseWithIndex = /* @__PURE__ */ (() => traversableWithIndexArray.traverseWithIndex(applicativeExceptT$2))();
const readArray1 = /* @__PURE__ */ readArray$1(monadIdentity);
const readProp = /* @__PURE__ */ unsafeReadProp(monadIdentity);
const writeJSON$1 = (dictWriteForeign) => (x) => _unsafeStringify(dictWriteForeign.writeImpl(x));
const writeForeignString = { writeImpl: unsafeCoerce };
const writeForeignNumber = { writeImpl: unsafeCoerce };
const writeForeignInt = { writeImpl: unsafeCoerce };
const writeForeignBoolean = { writeImpl: unsafeCoerce };
const readString = { readImpl: /* @__PURE__ */ unsafeReadTagged$2(monadIdentity)("String") };
const readNumber = { readImpl: /* @__PURE__ */ unsafeReadTagged$2(monadIdentity)("Number") };
const readInt = { readImpl: /* @__PURE__ */ readInt$1(monadIdentity) };
const readMaybe$3 = (dictReadForeign) => ({
  readImpl: (value2) => {
    if (isNull(value2) || isUndefined(value2)) {
      return applicativeExceptT$2.pure(Nothing);
    }
    const $2 = dictReadForeign.readImpl(value2);
    if ($2.tag === "Left") {
      return $Either("Left", $2._1);
    }
    if ($2.tag === "Right") {
      return $Either("Right", $Maybe("Just", $2._1));
    }
    fail$3();
  }
});
const readFieldsNil = { getFields: (v) => (v1) => applicativeExceptT$2.pure(identity$k) };
const readBoolean = { readImpl: /* @__PURE__ */ unsafeReadTagged$2(monadIdentity)("Boolean") };
const readArray = (dictReadForeign) => ({
  readImpl: (() => {
    const $1 = traverseWithIndex((i2) => (f) => withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtIndex(i2)))(dictReadForeign.readImpl(f)));
    return (a2) => bindExceptT.bind(readArray1(a2))($1);
  })()
});
const parseJSON = /* @__PURE__ */ (() => {
  const $0 = bifunctorEither.bimap((x) => $NonEmpty($ForeignError("ForeignError", message(x)), Nil))(identity$r);
  const $1 = runEffectFn1(_parseJSON);
  return (x) => $0(unsafePerformEffect((() => {
    const $3 = $1(x);
    return catchException((x$1) => () => $Either("Left", x$1))(() => {
      const a$p = $3();
      return $Either("Right", a$p);
    });
  })()));
})();
const readJSON$2 = (dictReadForeign) => (x) => bindExceptT.bind(parseJSON(x))(dictReadForeign.readImpl);
const nilWriteForeignFields = { writeImplFields: (v) => (v1) => identity$k };
const readRecord = () => (dictReadForeignFields) => ({
  readImpl: (o) => {
    const $3 = dictReadForeignFields.getFields($$Proxy)(o);
    if ($3.tag === "Left") {
      return $Either("Left", $3._1);
    }
    if ($3.tag === "Right") {
      return $Either("Right", $3._1({}));
    }
    fail$3();
  }
});
const consWriteForeignFields = (dictIsSymbol) => (dictWriteForeign) => (dictWriteForeignFields) => () => () => () => ({
  writeImplFields: (v) => (rec) => {
    const $8 = insert$1()()(dictIsSymbol)($$Proxy)(dictWriteForeign.writeImpl(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(rec)));
    const $9 = dictWriteForeignFields.writeImplFields($$Proxy)(rec);
    return (x) => $8($9(x));
  }
});
const applyEither = (dictSemigroup) => (v) => (v1) => {
  if (v.tag === "Left") {
    if (v1.tag === "Right") {
      return $Either("Left", v._1);
    }
    if (v1.tag === "Left") {
      return $Either("Left", dictSemigroup.append(v._1)(v1._1));
    }
    fail$3();
  }
  if (v.tag === "Right") {
    if (v1.tag === "Left") {
      return $Either("Left", v1._1);
    }
    if (v1.tag === "Right") {
      return $Either("Right", v._1(v1._1));
    }
    fail$3();
  }
  fail$3();
};
const exceptTApply = (dictSemigroup) => (dictApplicative) => {
  const Apply0 = dictApplicative.Apply0();
  const map4 = Apply0.Functor0().map;
  return (fun) => (a2) => Apply0.apply(map4(applyEither(dictSemigroup))(fun))(a2);
};
const exceptTApply1 = /* @__PURE__ */ exceptTApply(semigroupNonEmptyList)(applicativeIdentity);
const readFieldsCons = (dictIsSymbol) => (dictReadForeign) => (dictReadForeignFields) => () => () => ({
  getFields: (v) => (obj) => {
    const name = dictIsSymbol.reflectSymbol($$Proxy);
    return exceptTApply1((() => {
      const $8 = bindExceptT.bind(withExceptT(functorIdentity)(functorNonEmptyList.map(ErrorAtProperty(name)))(bindExceptT.bind(readProp(name)(obj))(dictReadForeign.readImpl)))((value2) => applicativeExceptT$2.pure(insert$1()()(dictIsSymbol)($$Proxy)(value2)));
      if ($8.tag === "Left") {
        return $Either("Left", $8._1);
      }
      if ($8.tag === "Right") {
        return $Either("Right", semigroupoidFn.compose($8._1));
      }
      fail$3();
    })())(dictReadForeignFields.getFields($$Proxy)(obj));
  }
});
const _on = { type: "on", value: unit };
const _off = { type: "off", value: unit };
const $PlayBufOptions = () => ({ tag: "PlayBufOptions" });
const identity$j = (x) => x;
const PlayBufOptions = /* @__PURE__ */ $PlayBufOptions();
const initialGainNumber = { toInitializeGain: (x) => ({ gain: x }) };
const initialConvolverBrowserAu = { toInitializeConvolver: (x) => ({ buffer: x }) };
const convertOptionPlayBufOptio = { convertOption: (v) => (v1) => identity$j };
const defaultPlayBuf = { bufferOffset: 0, playbackRate: 1, duration: Nothing };
const indexImpl = (i2) => (v) => v[i2];
const showVect = (dictShow) => {
  const show12 = showArrayImpl(dictShow.show);
  return (dictReflectable) => ({ show: (v) => "Vect " + (showIntImpl(dictReflectable.reflectType($$Proxy)) + (" " + show12(v))) });
};
const __internalOcarinaFlatten = /* @__PURE__ */ flatten({
  doLogic: absurd,
  ids: (x) => x.ids,
  disconnectElement: (v) => (v1) => v.disconnectXFromY({ from: v1.id, to: v1.parent }),
  toElt: (v) => v
});
const convolver = (dictInitialConvolver) => (i$p) => (elts) => {
  const $3 = dictInitialConvolver.toInitializeConvolver(i$p);
  return $Entity(
    "Element'",
    (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const me = v1.ids();
      parent.raiseId(me)();
      const $10 = (() => {
        const $102 = applicativeEvent.pure(v1.makeConvolver({
          id: me,
          parent: parent.parent,
          scope: (() => {
            if (parent.scope.tag === "Global") {
              return Nothing;
            }
            if (parent.scope.tag === "Local") {
              return $Maybe("Just", parent.scope._1);
            }
            fail$3();
          })(),
          buffer: $3.buffer
        }));
        const $11 = __internalOcarinaFlatten({ parent: $Maybe("Just", me), scope: parent.scope, raiseId: (v2) => () => unit })(v1)($Entity(
          "FixedChildren'",
          elts
        ));
        return mySub((tf, k$1) => {
          const a$p = $102(tf, k$1);
          const a$p$1 = $11(tf, k$1);
          return () => {
            a$p();
            return a$p$1();
          };
        })(k);
      })()();
      return (() => {
        const $11 = k(v1.deleteFromCache({ id: me }));
        return () => {
          $11();
          const a$p = $10();
          return a$p;
        };
      })();
    })
  );
};
const speaker = (elts) => (v) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
  const id2 = v.ids();
  k(v.makeSpeaker({ id: id2 }))();
  return mySub(__internalOcarinaFlatten({ parent: $Maybe("Just", id2), scope: $Scope("Local", "toplevel"), raiseId: (v1) => () => unit })(v)($Entity(
    "FixedChildren'",
    elts
  )))(k)();
});
const tmpResolveAU = (scope) => (di) => (f) => (v) => onMatch()()()({
  numeric: (x) => applicativeEvent.pure(f({ type: "numeric", value: x })),
  envelope: (x) => applicativeEvent.pure(f({ type: "envelope", value: x })),
  cancel: (x) => applicativeEvent.pure(f({ type: "cancel", value: x })),
  sudden: (x) => applicativeEvent.pure(f({ type: "sudden", value: x })),
  unit: (v1) => {
    const n2 = gain_(initialGainNumber)(1)([v1.u]);
    return backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const av = { value: Nothing };
      return mySub((() => {
        const $9 = __internalOcarinaFlatten({
          parent: Nothing,
          scope,
          raiseId: (x) => () => {
            av.value = $Maybe("Just", x);
            return unit;
          }
        })(di)(n2);
        const $10 = backdoor.makeLemmingEvent((mySub1) => (k2) => () => {
          const v2 = av.value;
          (() => {
            if (v2.tag === "Nothing") {
              return () => unit;
            }
            if (v2.tag === "Just") {
              return k2(f({ type: "unit", value: { i: v2._1 } }));
            }
            fail$3();
          })()();
          return () => unit;
        });
        return (tf, k$1) => {
          const a$p = $9(tf, k$1);
          const a$p$1 = $10(tf, k$1);
          return () => {
            a$p();
            return a$p$1();
          };
        };
      })())(k)();
    });
  }
})(case_)(v);
const gain_ = (dictInitialGain) => (i2) => (a2) => gain(dictInitialGain)(i2)(plusEvent.empty)(a2);
const gain = (dictInitialGain) => (i$p) => (atts) => (elts) => {
  const $4 = dictInitialGain.toInitializeGain(i$p);
  return $Entity(
    "Element'",
    (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const me = v1.ids();
      parent.raiseId(me)();
      const $11 = (() => {
        const $112 = applicativeEvent.pure(v1.makeGain({
          id: me,
          parent: parent.parent,
          scope: (() => {
            if (parent.scope.tag === "Global") {
              return Nothing;
            }
            if (parent.scope.tag === "Local") {
              return $Maybe("Just", parent.scope._1);
            }
            fail$3();
          })(),
          gain: $4.gain
        }));
        const $12 = keepLatest((b, k$1) => atts(
          b,
          (a2) => {
            const $15 = onMatch()()()({ gain: tmpResolveAU(parent.scope)(v1)((x) => v1.setGain({ id: me, gain: x })) })(case_)(a2);
            return k$1($15);
          }
        ));
        const $13 = __internalOcarinaFlatten({ parent: $Maybe("Just", me), scope: parent.scope, raiseId: (v2) => () => unit })(v1)($Entity(
          "FixedChildren'",
          elts
        ));
        return mySub((tf, k$1) => {
          const a$p = $112(tf, k$1);
          const a$p$1 = $12(tf, k$1);
          const a$p$2 = $13(tf, k$1);
          return () => {
            a$p();
            a$p$1();
            return a$p$2();
          };
        })(k);
      })()();
      return (() => {
        const $12 = k(v1.deleteFromCache({ id: me }));
        return () => {
          $12();
          const a$p = $11();
          return a$p;
        };
      })();
    })
  );
};
const __playBuf = (dictInitialPlayBuf) => (i$p) => (atts) => {
  const $3 = dictInitialPlayBuf.toInitializePlayBuf(i$p);
  return $Entity(
    "Element'",
    (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const me = v1.ids();
      parent.raiseId(me)();
      const $10 = (() => {
        const $102 = applicativeEvent.pure(v1.makePlayBuf({
          id: me,
          parent: parent.parent,
          scope: (() => {
            if (parent.scope.tag === "Global") {
              return Nothing;
            }
            if (parent.scope.tag === "Local") {
              return $Maybe("Just", parent.scope._1);
            }
            fail$3();
          })(),
          buffer: $3.buffer,
          playbackRate: $3.playbackRate,
          bufferOffset: $3.bufferOffset,
          duration: $3.duration
        }));
        const $11 = keepLatest((b, k$1) => atts(
          b,
          (a2) => {
            const $14 = onMatch()()()({
              buffer: (buffer) => applicativeEvent.pure(v1.setBuffer({ id: me, buffer })),
              playbackRate: tmpResolveAU(parent.scope)(v1)((x) => v1.setPlaybackRate({ id: me, playbackRate: x })),
              bufferOffset: (bufferOffset) => applicativeEvent.pure(v1.setBufferOffset({ id: me, bufferOffset })),
              onOff: (onOff) => applicativeEvent.pure(v1.setOnOff({ id: me, onOff })),
              duration: (duration) => applicativeEvent.pure(v1.setDuration({ id: me, duration }))
            })(case_)(a2);
            return k$1($14);
          }
        ));
        return mySub((tf, k$1) => {
          const a$p = $102(tf, k$1);
          const a$p$1 = $11(tf, k$1);
          return () => {
            a$p();
            return a$p$1();
          };
        })(k);
      })()();
      return (() => {
        const $11 = k(v1.deleteFromCache({ id: me }));
        return () => {
          $11();
          const a$p = $10();
          return a$p;
        };
      })();
    })
  );
};
const playBuf$5 = (dictInitialPlayBuf) => __playBuf(dictInitialPlayBuf);
const playBuf$4 = /* @__PURE__ */ playBuf$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({
    reflectSymbol: () => "buffer"
  });
  return {
    toInitializePlayBuf: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PlayBufOptions)($$Proxy)(provided)({}),
      defaultPlayBuf
    )
  };
})());
const oneOf$y = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const graph$1 = (v) => [
  gain_(initialGainNumber)(1)([$Entity("DynamicChildren'", (b, k) => v.basics(b, (a2) => k((b$1, k$1) => a2(b$1, (a$1) => k$1(a$1)))))]),
  gain_(initialGainNumber)(1)([$Entity("DynamicChildren'", (b, k) => v.leaps(b, (a2) => k((b$1, k$1) => a2(b$1, (a$1) => k$1(a$1)))))]),
  convolver(initialConvolverBrowserAu)(v.longVerb)([
    $Entity("DynamicChildren'", (b, k) => v.longs(b, (a2) => k((b$1, k$1) => a2(b$1, (a$1) => k$1(a$1)))))
  ]),
  gain_(initialGainNumber)(1)([
    playBuf$4({ buffer: v.silence })(oneOf$y([
      (() => {
        const $1 = sampleBy(functorEvent)($$const)(v.buffers)(applicativeEvent.pure(unit));
        return (b, k) => $1(
          b,
          (a2) => {
            const $5 = _lookup(Nothing, Just, v.bgtrack, a2);
            const $6 = (() => {
              if ($5.tag === "Just") {
                return { type: "buffer", value: $5._1 };
              }
              if ($5.tag === "Nothing") {
                return { type: "buffer", value: v.silence };
              }
              fail$3();
            })();
            return k($6);
          }
        );
      })(),
      applicativeEvent.pure({ type: "bufferOffset", value: v.baseFileOffsetInSeconds }),
      (() => {
        const $1 = oneOff((v1) => {
          if (v1.beats > 0.94) {
            return $Maybe("Just", v1);
          }
          return Nothing;
        })(v.rateInfo);
        return (b, k) => $1(
          b,
          (a2) => {
            const $5 = {
              type: "onOff",
              value: {
                o: (() => {
                  if (a2.prevBeats.tag === "Just") {
                    if (a2.prevTime.tag === "Just") {
                      if (a2.beats === a2.prevBeats._1 || a2.time === a2.prevTime._1) {
                        return a2.prevTime._1;
                      }
                      const m = (a2.time - a2.prevTime._1) / (a2.beats - a2.prevBeats._1);
                      return m * 1 + (a2.prevTime._1 - m * a2.prevBeats._1);
                    }
                    return 0;
                  }
                  return 0;
                })(),
                x: _on
              }
            };
            return k($5);
          }
        );
      })()
    ]))
  ])
];
const refToBehavior = (r2) => (e2) => backdoor.makeEvent((k) => subscribe(e2)((f) => () => {
  const x = r2.value;
  return k(f(x))();
}));
const misbehavior = (mab) => (bv) => (e2) => compactableEvent.compact(sampleBy(functorEvent)((a2) => (f) => {
  const v = mab(a2);
  if (v.tag === "Nothing") {
    return Nothing;
  }
  if (v.tag === "Just") {
    return $Maybe("Just", f(v._1));
  }
  fail$3();
})(bv)(e2));
const howShouldIBehave = (m) => (e1) => (e2) => backdoor.makeEvent((k) => () => {
  const r2 = { value: m };
  const u0 = subscribe(e1)((m$p) => () => {
    r2.value = m$p;
    return unit;
  })();
  const u1 = subscribe(e2)((f) => () => {
    const m$p = r2.value;
    const x = m$p();
    return k(f(x))();
  })();
  return () => {
    u0();
    const a$p = u1();
    return a$p;
  };
});
const $RequestHeader = (tag, _1, _2) => ({ tag, _1, _2 });
const $ResponseFormat = (tag, _1) => ({ tag, _1 });
const identity$i = (x) => x;
const $ResponseHeader = (_1, _2) => ({ tag: "ResponseHeader", _1, _2 });
const ResponseHeader = (value0) => (value1) => $ResponseHeader(value0, value1);
function id(x) {
  return x;
}
function stringify$1(j) {
  return JSON.stringify(j);
}
const jsonEmptyObject = /* @__PURE__ */ id(empty$2);
function _jsonParser(fail2, succ, s2) {
  try {
    return succ(JSON.parse(s2));
  } catch (e2) {
    return fail2(e2.message);
  }
}
const traverse$3 = /* @__PURE__ */ (() => traversableArray.traverse(applicativeMaybe))();
const encode = /* @__PURE__ */ (() => {
  const $0 = functorMaybe.map(joinWith("&"));
  const $1 = traverse$3((v) => {
    if (v._2.tag === "Nothing") {
      return _encodeFormURLComponent((v$1) => Nothing, Just, v._1);
    }
    if (v._2.tag === "Just") {
      return applyMaybe.apply((() => {
        const $2 = _encodeFormURLComponent((v$1) => Nothing, Just, v._1);
        if ($2.tag === "Just") {
          return $Maybe("Just", (val) => $2._1 + ("=" + val));
        }
        return Nothing;
      })())(_encodeFormURLComponent((v$1) => Nothing, Just, v._2._1));
    }
    fail$3();
  });
  return (x) => $0($1(x));
})();
const $Method = (tag) => ({ tag });
const GET = /* @__PURE__ */ $Method("GET");
const print = (v2) => {
  if (v2.tag === "Left") {
    if (v2._1.tag === "OPTIONS") {
      return "OPTIONS";
    }
    if (v2._1.tag === "GET") {
      return "GET";
    }
    if (v2._1.tag === "HEAD") {
      return "HEAD";
    }
    if (v2._1.tag === "POST") {
      return "POST";
    }
    if (v2._1.tag === "PUT") {
      return "PUT";
    }
    if (v2._1.tag === "DELETE") {
      return "DELETE";
    }
    if (v2._1.tag === "TRACE") {
      return "TRACE";
    }
    if (v2._1.tag === "CONNECT") {
      return "CONNECT";
    }
    if (v2._1.tag === "PROPFIND") {
      return "PROPFIND";
    }
    if (v2._1.tag === "PROPPATCH") {
      return "PROPPATCH";
    }
    if (v2._1.tag === "MKCOL") {
      return "MKCOL";
    }
    if (v2._1.tag === "COPY") {
      return "COPY";
    }
    if (v2._1.tag === "MOVE") {
      return "MOVE";
    }
    if (v2._1.tag === "LOCK") {
      return "LOCK";
    }
    if (v2._1.tag === "UNLOCK") {
      return "UNLOCK";
    }
    if (v2._1.tag === "PATCH") {
      return "PATCH";
    }
    fail$3();
  }
  if (v2.tag === "Right") {
    return v2._1;
  }
  fail$3();
};
const fromEffectFnAff = (v) => makeAff((k) => () => {
  const v1 = v((x) => k($Either("Left", x))(), (x) => k($Either("Right", x))());
  return (e2) => makeAff((k2) => () => {
    v1(e2, (x) => k2($Either("Left", x))(), (x) => k2($Either("Right", x))());
    return nonCanceler;
  });
});
function _ajax(platformSpecificDriver, timeoutErrorMessageIdent, requestFailedMessageIdent, mkHeader, options) {
  return function(errback, callback) {
    var xhr = platformSpecificDriver.newXHR();
    var fixedUrl = platformSpecificDriver.fixupUrl(options.url, xhr);
    xhr.open(options.method || "GET", fixedUrl, true, options.username, options.password);
    if (options.headers) {
      try {
        for (var i2 = 0, header; (header = options.headers[i2]) != null; i2++) {
          xhr.setRequestHeader(header.field, header.value);
        }
      } catch (e2) {
        errback(e2);
      }
    }
    var onerror = function(msgIdent) {
      return function() {
        errback(new Error(msgIdent));
      };
    };
    xhr.onerror = onerror(requestFailedMessageIdent);
    xhr.ontimeout = onerror(timeoutErrorMessageIdent);
    xhr.onload = function() {
      callback({
        status: xhr.status,
        statusText: xhr.statusText,
        headers: xhr.getAllResponseHeaders().split("\r\n").filter(function(header2) {
          return header2.length > 0;
        }).map(function(header2) {
          var i3 = header2.indexOf(":");
          return mkHeader(header2.substring(0, i3))(header2.substring(i3 + 2));
        }),
        body: xhr.response
      });
    };
    xhr.responseType = options.responseType;
    xhr.withCredentials = options.withCredentials;
    xhr.timeout = options.timeout;
    xhr.send(options.content);
    return function(error2, cancelErrback, cancelCallback) {
      try {
        xhr.abort();
      } catch (e2) {
        return cancelErrback(e2);
      }
      return cancelCallback();
    };
  };
}
const $Error = (tag, _1, _2) => ({ tag, _1, _2 });
const pure$3 = /* @__PURE__ */ (() => applicativeExceptT$3(monadIdentity).pure)();
const fail$2 = /* @__PURE__ */ (() => {
  const $0 = monadThrowExceptT(monadIdentity).throwError;
  return (x) => $0($NonEmpty(x, Nil));
})();
const unsafeReadTagged = /* @__PURE__ */ unsafeReadTagged$2(monadIdentity);
const alt = /* @__PURE__ */ (() => altExceptT(semigroupNonEmptyList)(monadIdentity).alt)();
const any = /* @__PURE__ */ (() => foldableArray.foldMap((() => {
  const semigroupDisj1 = { append: (v) => (v1) => v || v1 };
  return { mempty: false, Semigroup0: () => semigroupDisj1 };
})()))();
const $$try$1 = /* @__PURE__ */ $$try$2(monadErrorAff);
const TimeoutError = /* @__PURE__ */ $Error("TimeoutError");
const RequestFailedError = /* @__PURE__ */ $Error("RequestFailedError");
const request = (driver2) => (req) => {
  const fromResponse = (() => {
    if (req.responseFormat.tag === "ArrayBuffer") {
      return unsafeReadTagged("ArrayBuffer");
    }
    if (req.responseFormat.tag === "Blob") {
      return unsafeReadTagged("Blob");
    }
    if (req.responseFormat.tag === "Document") {
      return (x) => alt(unsafeReadTagged("Document")(x))(alt(unsafeReadTagged("XMLDocument")(x))(unsafeReadTagged("HTMLDocument")(x)));
    }
    if (req.responseFormat.tag === "Json") {
      const $2 = bindExceptT$1(monadIdentity);
      const $3 = unsafeReadTagged("String");
      return (a2) => $2.bind($3(a2))((x) => req.responseFormat._1((() => {
        if (x === "") {
          return pure$3(jsonEmptyObject);
        }
        const $6 = _jsonParser(Left, Right, x);
        if ($6.tag === "Left") {
          return fail$2($ForeignError("ForeignError", $6._1));
        }
        if ($6.tag === "Right") {
          return pure$3($6._1);
        }
        fail$3();
      })()));
    }
    if (req.responseFormat.tag === "String") {
      return unsafeReadTagged("String");
    }
    if (req.responseFormat.tag === "Ignore") {
      const $2 = req.responseFormat._1(pure$3(unit));
      return (v) => $2;
    }
    fail$3();
  })();
  const send = (content) => _map((v) => {
    if (v.tag === "Right") {
      const v1 = fromResponse(v._1.body);
      if (v1.tag === "Left") {
        return $Either("Left", $Error("ResponseBodyError", v1._1._1, v._1));
      }
      if (v1.tag === "Right") {
        return $Either("Right", { body: v1._1, headers: v._1.headers, status: v._1.status, statusText: v._1.statusText });
      }
      fail$3();
    }
    if (v.tag === "Left") {
      return $Either(
        "Left",
        (() => {
          const message$1 = message(v._1);
          if (message$1 === "AffjaxTimeoutErrorMessageIdent") {
            return TimeoutError;
          }
          if (message$1 === "AffjaxRequestFailedMessageIdent") {
            return RequestFailedError;
          }
          return $Error("XHROtherError", v._1);
        })()
      );
    }
    fail$3();
  })($$try$1(fromEffectFnAff(_ajax(
    driver2,
    "AffjaxTimeoutErrorMessageIdent",
    "AffjaxRequestFailedMessageIdent",
    ResponseHeader,
    {
      method: print(req.method),
      url: req.url,
      headers: arrayMap((h) => ({
        field: (() => {
          if (h.tag === "Accept") {
            return "Accept";
          }
          if (h.tag === "ContentType") {
            return "Content-Type";
          }
          if (h.tag === "RequestHeader") {
            return h._1;
          }
          fail$3();
        })(),
        value: (() => {
          if (h.tag === "Accept") {
            return h._1;
          }
          if (h.tag === "ContentType") {
            return h._1;
          }
          if (h.tag === "RequestHeader") {
            return h._2;
          }
          fail$3();
        })()
      }))((() => {
        const $4 = (() => {
          if (req.content.tag === "Just") {
            if (req.content._1.tag === "FormURLEncoded") {
              return $Maybe("Just", "application/x-www-form-urlencoded");
            }
            if (req.content._1.tag === "Json") {
              return $Maybe("Just", "application/json");
            }
            return Nothing;
          }
          if (req.content.tag === "Nothing") {
            return Nothing;
          }
          fail$3();
        })();
        if ($4.tag === "Just") {
          if (req.responseFormat.tag === "Json") {
            const $5 = (() => {
              if (!any((y) => {
                if (y.tag === "Accept") {
                  return true;
                }
                if (y.tag === "ContentType") {
                  return false;
                }
                if (y.tag === "RequestHeader") {
                  return "Accept" === y._1;
                }
                fail$3();
              })(req.headers)) {
                return run$2(withArray(pushAll([$RequestHeader("Accept", "application/json")]))(req.headers));
              }
              return req.headers;
            })();
            if (!any((y) => {
              if (y.tag === "Accept") {
                return false;
              }
              if (y.tag === "ContentType") {
                return true;
              }
              if (y.tag === "RequestHeader") {
                return "Content-Type" === y._1;
              }
              fail$3();
            })($5)) {
              return run$2(withArray(pushAll([$RequestHeader("ContentType", $4._1)]))($5));
            }
            return $5;
          }
          if (!any((y) => {
            if (y.tag === "Accept") {
              return false;
            }
            if (y.tag === "ContentType") {
              return true;
            }
            if (y.tag === "RequestHeader") {
              return "Content-Type" === y._1;
            }
            fail$3();
          })(req.headers)) {
            return run$2(withArray(pushAll([$RequestHeader("ContentType", $4._1)]))(req.headers));
          }
          return req.headers;
        }
        if (req.responseFormat.tag === "Json") {
          if (!any((y) => {
            if (y.tag === "Accept") {
              return true;
            }
            if (y.tag === "ContentType") {
              return false;
            }
            if (y.tag === "RequestHeader") {
              return "Accept" === y._1;
            }
            fail$3();
          })(req.headers)) {
            return run$2(withArray(pushAll([$RequestHeader("Accept", "application/json")]))(req.headers));
          }
          return req.headers;
        }
        return req.headers;
      })()),
      content,
      responseType: (() => {
        if (req.responseFormat.tag === "ArrayBuffer") {
          return "arraybuffer";
        }
        if (req.responseFormat.tag === "Blob") {
          return "blob";
        }
        if (req.responseFormat.tag === "Document") {
          return "document";
        }
        if (req.responseFormat.tag === "Json") {
          return "text";
        }
        if (req.responseFormat.tag === "String") {
          return "text";
        }
        if (req.responseFormat.tag === "Ignore") {
          return "";
        }
        fail$3();
      })(),
      username: (() => {
        if (req.username.tag === "Nothing") {
          return nullImpl;
        }
        if (req.username.tag === "Just") {
          return notNull(req.username._1);
        }
        fail$3();
      })(),
      password: (() => {
        if (req.password.tag === "Nothing") {
          return nullImpl;
        }
        if (req.password.tag === "Just") {
          return notNull(req.password._1);
        }
        fail$3();
      })(),
      withCredentials: req.withCredentials,
      timeout: (() => {
        if (req.timeout.tag === "Just") {
          return req.timeout._1;
        }
        return 0;
      })()
    }
  ))));
  if (req.content.tag === "Nothing") {
    return send(nullImpl);
  }
  if (req.content.tag === "Just") {
    if (req.content._1.tag === "ArrayView") {
      return send(notNull(req.content._1._1(unsafeCoerce)));
    }
    if (req.content._1.tag === "Blob") {
      return send(notNull(req.content._1._1));
    }
    if (req.content._1.tag === "Document") {
      return send(notNull(req.content._1._1));
    }
    if (req.content._1.tag === "String") {
      return send(notNull(req.content._1._1));
    }
    if (req.content._1.tag === "FormData") {
      return send(notNull(req.content._1._1));
    }
    if (req.content._1.tag === "FormURLEncoded") {
      const $4 = encode(req.content._1._1);
      if ($4.tag === "Just") {
        return send(notNull($4._1));
      }
      return _pure($Either("Left", $Error("RequestContentError", "Body contains values that cannot be encoded as application/x-www-form-urlencoded")));
    }
    if (req.content._1.tag === "Json") {
      return send(notNull(stringify$1(req.content._1._1)));
    }
    fail$3();
  }
  fail$3();
};
const printError = (v) => {
  if (v.tag === "RequestContentError") {
    return "There was a problem with the request content: " + v._1;
  }
  if (v.tag === "ResponseBodyError") {
    return "There was a problem with the response body: " + renderForeignError(v._1);
  }
  if (v.tag === "TimeoutError") {
    return "There was a problem making the request: timeout";
  }
  if (v.tag === "RequestFailedError") {
    return "There was a problem making the request: request failed";
  }
  if (v.tag === "XHROtherError") {
    return "There was a problem making the request: " + message(v._1);
  }
  fail$3();
};
const driver = {
  newXHR: function() {
    return new XMLHttpRequest();
  },
  fixupUrl: function(url) {
    return url || "/";
  }
};
function dateMethod(method, date) {
  return date[method]();
}
function parse(dateString) {
  return function() {
    return new Date(dateString);
  };
}
const readJSON$1 = /* @__PURE__ */ readJSON$2(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons({ reflectSymbol: () => "datetime" })(readString)(readFieldsNil)()()));
const show1$5 = /* @__PURE__ */ (() => showNonEmptyList(showForeignError).show)();
const clamp$1 = (low) => (hi) => (x) => {
  const v = ordNumber.compare(low)(x);
  const $4 = (() => {
    if (v.tag === "LT") {
      return x;
    }
    if (v.tag === "EQ") {
      return low;
    }
    if (v.tag === "GT") {
      return low;
    }
    fail$3();
  })();
  const v$1 = ordNumber.compare(hi)($4);
  if (v$1.tag === "LT") {
    return hi;
  }
  if (v$1.tag === "EQ") {
    return hi;
  }
  if (v$1.tag === "GT") {
    return $4;
  }
  fail$3();
};
const withCTime = (ct) => (e2) => backdoor.makeEvent((k) => subscribe(e2)((value2) => () => {
  const time = ct();
  return k({ time, value: value2 })();
}));
const halfITime = /* @__PURE__ */ intDiv(2e3)(2);
const cnow = () => {
  const ptref = { value: 0 };
  const tref = { value: 0 };
  const preading = { value: Nothing };
  const iid = setIntervalImpl(2e3)((() => {
    const $3 = _makeFiber(
      ffiUtil$1,
      _bind(_liftEffect(now))((rs) => _bind(request(driver)({
        method: $Either("Left", GET),
        url: "https://worldtimeapi.org/api/ip",
        headers: [],
        content: Nothing,
        username: Nothing,
        password: Nothing,
        withCredentials: false,
        responseFormat: $ResponseFormat("String", identity$i),
        timeout: Nothing
      }))((res) => {
        if (res.tag === "Left") {
          return _liftEffect(error(showStringImpl(printError(res._1))));
        }
        if (res.tag === "Right") {
          const v = readJSON$1(res._1.body);
          if (v.tag === "Left") {
            return _liftEffect(error(show1$5(v._1)));
          }
          if (v.tag === "Right") {
            return _liftEffect(() => {
              const re = now();
              const a$p = parse(v._1.datetime)();
              const prev = tref.value;
              ptref.value = prev;
              tref.value = (re + rs) / 2 - dateMethod("getTime", a$p);
              return preading.value = $Maybe("Just", re);
            });
          }
          fail$3();
        }
        fail$3();
      }))
    );
    return () => {
      const fiber = $3();
      fiber.run();
      return unit;
    };
  })())();
  return {
    unsubscribe: clearIntervalImpl(iid),
    cnow: () => {
      const pr = preading.value;
      const n2 = now();
      if (pr.tag === "Nothing") {
        return { time: n2, diff: 0, pdiff: 0 };
      }
      if (pr.tag === "Just") {
        const fac = clamp$1(0)(1)((n2 - pr._1) / toNumber(halfITime));
        const ptr = ptref.value;
        const tr = tref.value;
        return { time: n2 - (ptr * (1 - fac) + tr * fac), diff: tr, pdiff: ptr };
      }
      fail$3();
    }
  };
};
const cInstant = (ms) => (e2) => {
  const $2 = withCTime(ms)(e2);
  return (b, k) => $2(
    b,
    (a2) => {
      const $6 = a2.value(a2.time);
      return k($6);
    }
  );
};
const mapAccum$a = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const apply = /* @__PURE__ */ (() => applyABehavior(functorEvent).apply)();
const timeFromRate = (ems) => (clengthB) => (afE) => mapAccum$a((v) => (v1) => {
  const beats = (() => {
    if (v1.prevTime.tag === "Nothing") {
      return (v.acTime - 0) / v.behaviors.clength;
    }
    if (v1.prevTime.tag === "Just") {
      return (v.acTime - v1.prevTime._1) / v.behaviors.clength;
    }
    fail$3();
  })() + (() => {
    if (v1.prevBeats.tag === "Nothing") {
      return 0;
    }
    if (v1.prevBeats.tag === "Just") {
      return v1.prevBeats._1;
    }
    fail$3();
  })();
  return $Tuple(
    { prevTime: $Maybe("Just", v.acTime), prevBeats: $Maybe("Just", beats) },
    { prevTime: v1.prevTime, prevBeats: v1.prevBeats, time: v.acTime, beats, epochTime: v.behaviors.epochTime }
  );
})(sampleBy(functorEvent)((v) => (v1) => ({ behaviors: v, acTime: v1 }))(apply((e2) => clengthB((b, k) => e2(
  b,
  (a2) => k((x) => a2((v1) => ({ clength: x.rate, epochTime: v1 })))
)))((e2) => cInstant(ems)((b, k) => e2(b, (a2) => k((x) => a2(x))))))((b, k) => afE(b, (a2) => k(a2.real))))({
  prevTime: Nothing,
  prevBeats: Nothing
});
const initializeWithEmpty = (dictPlus) => (dictApplicative) => (e2) => (tf, k) => {
  const a$p = applicativeEvent.pure(dictPlus.empty)(tf, k);
  const a$p$1 = e2(tf, (a2) => k(dictApplicative.pure(a2)));
  return () => {
    a$p();
    return a$p$1();
  };
};
const emitsTouchEvents = () => {
  try {
    document.createEvent("TouchEvent");
    return true;
  } catch (e2) {
    return false;
  }
};
function _getItem(key) {
  return function(storage) {
    return function() {
      return storage.getItem(key);
    };
  };
}
function setItem(key) {
  return function(value2) {
    return function(storage) {
      return function() {
        storage.setItem(key, value2);
      };
    };
  };
}
const getItem = (s2) => {
  const $1 = _getItem(s2);
  return (x) => {
    const $3 = $1(x);
    return () => {
      const a$p = $3();
      return nullable(a$p, Nothing, Just);
    };
  };
};
const fullscreenEnabled = () => document.fullscreenEnabled ? true : false;
const requestFullScreen = (rej) => (res) => () => {
  if (document.body.requestFullscreen) {
    return document.body.requestFullscreen().then(res, rej);
  } else {
    rej();
    Promise.reject();
  }
};
const fullScreenFlow = (cont) => () => {
  const v = emitsTouchEvents();
  if (!v) {
    return cont();
  }
  if (v) {
    const w = windowImpl();
    const stor = localStorage$1(w)();
    const grantState = getItem("full-screen-grant-state")(stor)();
    const flow = () => {
      const enabled = fullscreenEnabled();
      if (enabled) {
        return requestFullScreen(() => {
          setItem("full-screen-grant-state")("denied")(stor)();
          const a$p = cont();
          return a$p;
        })(() => {
          setItem("full-screen-grant-state")("granted")(stor)();
          const a$p = cont();
          return a$p;
        })();
      }
      return cont();
    };
    if (grantState.tag === "Nothing") {
      return flow();
    }
    if (grantState.tag === "Just") {
      if (grantState._1 === "granted") {
        return flow();
      }
      return cont();
    }
    fail$3();
  }
  fail$3();
};
const distinctColors = [
  "#b09b34",
  "#3c66e8",
  "#e99084",
  "#88502e",
  "#39c14a",
  "#9139b6",
  "#80ce4f",
  "#985fe0",
  "#6ab337",
  "#d071e6",
  "#41961c",
  "#c047b4",
  "#49cc70",
  "#c23198",
  "#34a54f",
  "#724fbe",
  "#aec334",
  "#835d26",
  "#a94153",
  "#3c4dbb",
  "#d0b737",
  "#235fc9",
  "#749e20",
  "#646bde",
  "#97ad3f",
  "#987dee",
  "#378736",
  "#ef6ecf",
  "#4acd95",
  "#e84c93",
  "#69aa55",
  "#8d4aaa",
  "#8ec677",
  "#554baa",
  "#e5a43e",
  "#4483f2",
  "#e2751e",
  "#5e64c1",
  "#6c8121",
  "#bc87e0",
  "#3f7429",
  "#bd67ba",
  "#445a06",
  "#6f87de",
  "#bb8028",
  "#499ae1",
  "#e13f3d",
  "#4ed1c3",
  "#ad7b4c",
  "#8a4756",
  "#e8426a",
  "#3f9f72",
  "#c72b67",
  "#73bf95",
  "#9c418c",
  "#7c9d57",
  "#644999",
  "#7a781f",
  "#8567bb",
  "#576c1c",
  "#864490",
  "#beba6f",
  "#3464ab",
  "#e46b42",
  "#36bddc",
  "#b23b1a",
  "#6ab0e1",
  "#b42d3b",
  "#31a49d",
  "#ab356f",
  "#3b8251",
  "#dc7ab6",
  "#b26462",
  "#a6503b",
  "#296437",
  "#cca0e2",
  "#5b5b10",
  "#969de0",
  "#8f711c",
  "#625ca1",
  "#dc8651",
  "#4280b1",
  "#a2571e",
  "#5d679c",
  "#705d18",
  "#764e90",
  "#476025",
  "#9577b8",
  "#69773d",
  "#e999c0",
  "#1a6447",
  "#de6762",
  "#368166",
  "#df728d",
  "#5f5c28",
  "#ae6b9c",
  "#978c4d",
  "#864e78",
  "#dda573",
  "#9a456a"
];
const buttonCls = "my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded";
const buttonActiveCls = "my-4 bg-white hover:bg-slate-300 text-black font-semibold hover:text-zinc-100 py-2 px-4 border border-slate-300 hover:border-transparent rounded";
const mapAccum$9 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const lpf = (lowpassFactor) => {
  const $1 = mapAccum$9((a2) => (b) => $Tuple(
    $Maybe("Just", a2),
    (() => {
      if (b.tag === "Nothing") {
        return a2;
      }
      if (b.tag === "Just") {
        return b._1 * lowpassFactor + a2 * (1 - lowpassFactor);
      }
      fail$3();
    })()
  ));
  return (a2) => $1(a2)(Nothing);
};
const vbust$2 = () => (dictVBus) => (a2) => (b) => vbackdoor.vbus()(dictVBus)(a2)((x) => (y) => b($Tuple(x, y)));
const mapAccum$8 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const dedup = (dictEq) => (e2) => compactableEvent.compact(mapAccum$8((a2) => (b) => $Tuple(
  $Maybe("Just", a2),
  (() => {
    if ((() => {
      if (b.tag === "Nothing") {
        return false;
      }
      if (b.tag === "Just") {
        return dictEq.eq(b._1)(a2);
      }
      return false;
    })()) {
      return Nothing;
    }
    return $Maybe("Just", a2);
  })()
))(e2)(Nothing));
const $Column = (tag) => ({ tag });
const $EventV0 = (tag, _1) => ({ tag, _1 });
const $Event_ = (_1) => ({ tag: "EventV0", _1 });
const $Position = (tag) => ({ tag });
const $Track = (_1) => ({ tag: "TrackV0", _1 });
const $Version = (_1) => ({ tag: "Version", _1 });
const ownerIsSymbol = { reflectSymbol: () => "owner" };
const privateIsSymbol = { reflectSymbol: () => "private" };
const titleIsSymbol = { reflectSymbol: () => "title" };
const writeForeignMaybe$2 = {
  writeImpl: (v2) => {
    if (v2.tag === "Nothing") {
      return _undefined;
    }
    if (v2.tag === "Just") {
      return v2._1;
    }
    fail$3();
  }
};
const urlIsSymbol = { reflectSymbol: () => "url" };
const versionIsSymbol$1 = { reflectSymbol: () => "version" };
const Reflectable$Dict$2 = { reflectType: () => 0 };
const whitelistIsSymbol = { reflectSymbol: () => "whitelist" };
const readImpl = /* @__PURE__ */ (() => readMaybe$3(readArray(readString)).readImpl)();
const bind$1 = /* @__PURE__ */ (() => bindExceptT$1(monadIdentity).bind)();
const pure$2 = /* @__PURE__ */ (() => applicativeExceptT$3(monadIdentity).pure)();
const fail$1 = /* @__PURE__ */ (() => {
  const $0 = monadThrowExceptT(monadIdentity).throwError;
  return (x) => $0($NonEmpty(x, Nil));
})();
const readMaybe$2 = /* @__PURE__ */ readMaybe$3(readString);
const _typeIsSymbol$1 = { reflectSymbol: () => "_type" };
const readImpl3$1 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(_typeIsSymbol$1)(readString)(readFieldsNil)()()).readImpl)();
const columnIsSymbol = { reflectSymbol: () => "column" };
const marker1AudioURLIsSymbol = { reflectSymbol: () => "marker1AudioURL" };
const marker1TimeIsSymbol = { reflectSymbol: () => "marker1Time" };
const marker2AudioURLIsSymbol = { reflectSymbol: () => "marker2AudioURL" };
const marker2TimeIsSymbol = { reflectSymbol: () => "marker2Time" };
const marker3AudioURLIsSymbol = { reflectSymbol: () => "marker3AudioURL" };
const marker3TimeIsSymbol = { reflectSymbol: () => "marker3Time" };
const marker4AudioURLIsSymbol = { reflectSymbol: () => "marker4AudioURL" };
const marker4TimeIsSymbol = { reflectSymbol: () => "marker4Time" };
const nameIsSymbol$1 = { reflectSymbol: () => "name" };
const audioURLIsSymbol = { reflectSymbol: () => "audioURL" };
const positionIsSymbol = { reflectSymbol: () => "position" };
const lengthIsSymbol = { reflectSymbol: () => "length" };
const Position1 = /* @__PURE__ */ $Position("Position1");
const Position2 = /* @__PURE__ */ $Position("Position2");
const Position3 = /* @__PURE__ */ $Position("Position3");
const Position4 = /* @__PURE__ */ $Position("Position4");
const C1 = /* @__PURE__ */ $Column("C1");
const C2 = /* @__PURE__ */ $Column("C2");
const C3 = /* @__PURE__ */ $Column("C3");
const C4 = /* @__PURE__ */ $Column("C4");
const C5 = /* @__PURE__ */ $Column("C5");
const C6 = /* @__PURE__ */ $Column("C6");
const C7 = /* @__PURE__ */ $Column("C7");
const C8 = /* @__PURE__ */ $Column("C8");
const C9 = /* @__PURE__ */ $Column("C9");
const C10 = /* @__PURE__ */ $Column("C10");
const C11 = /* @__PURE__ */ $Column("C11");
const C12 = /* @__PURE__ */ $Column("C12");
const C13 = /* @__PURE__ */ $Column("C13");
const C14 = /* @__PURE__ */ $Column("C14");
const C15 = /* @__PURE__ */ $Column("C15");
const C16 = /* @__PURE__ */ $Column("C16");
const C17 = /* @__PURE__ */ $Column("C17");
const EventV0 = (value0) => $Event_(value0);
const writeForeignWhitelist = { writeImpl: (v) => arrayMap(unsafeCoerce)(v) };
const writeImpl3$1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(ownerIsSymbol)(writeForeignString)(consWriteForeignFields(privateIsSymbol)(writeForeignBoolean)(consWriteForeignFields(titleIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(urlIsSymbol)(writeForeignString)(consWriteForeignFields(versionIsSymbol$1)({
    writeImpl: (v) => 0
  })(consWriteForeignFields(whitelistIsSymbol)(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const consWriteForeignFields6$1 = /* @__PURE__ */ consWriteForeignFields(versionIsSymbol$1)({ writeImpl: (v) => 0 })(nilWriteForeignFields)()()();
const consWriteForeignFields7$1 = /* @__PURE__ */ consWriteForeignFields(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields6$1)()()();
const writeForeignTrack = { writeImpl: (v) => writeImpl3$1(v._1) };
const writeForeignPosition = {
  writeImpl: (v) => {
    if (v.tag === "Position1") {
      return "Position1";
    }
    if (v.tag === "Position2") {
      return "Position2";
    }
    if (v.tag === "Position3") {
      return "Position3";
    }
    if (v.tag === "Position4") {
      return "Position4";
    }
    fail$3();
  }
};
const showWhitelist = { show: /* @__PURE__ */ showArrayImpl(showStringImpl) };
const show1$4 = (record2) => {
  const v = cons(intercalate$2(": ")(["owner", showStringImpl(record2.owner)]))(cons(intercalate$2(": ")([
    "private",
    (() => {
      if (record2.private) {
        return "true";
      }
      return "false";
    })()
  ]))(cons(intercalate$2(": ")([
    "title",
    (() => {
      if (record2.title.tag === "Just") {
        return "(Just " + (showStringImpl(record2.title._1) + ")");
      }
      if (record2.title.tag === "Nothing") {
        return "Nothing";
      }
      fail$3();
    })()
  ]))(cons(intercalate$2(": ")(["url", showStringImpl(record2.url)]))(cons(intercalate$2(": ")(["version", "Version 0"]))(cons(intercalate$2(": ")([
    "whitelist",
    showWhitelist.show(record2.whitelist)
  ]))([]))))));
  if (v.length === 0) {
    return "{}";
  }
  return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
};
const readForeignWhitelist = {
  readImpl: (i2) => {
    const $1 = readImpl(i2);
    if ($1.tag === "Left") {
      return $Either("Left", $1._1);
    }
    if ($1.tag === "Right") {
      return $Either(
        "Right",
        (() => {
          if ($1._1.tag === "Nothing") {
            return [];
          }
          if ($1._1.tag === "Just") {
            return $1._1._1;
          }
          fail$3();
        })()
      );
    }
    fail$3();
  }
};
const readForeignVersion = (dictReflectable) => ({
  readImpl: (i$p) => bind$1(readInt.readImpl(i$p))((i2) => {
    const j = dictReflectable.reflectType($$Proxy);
    if (i2 === j) {
      return pure$2($Version(i2));
    }
    return fail$1($ForeignError("ForeignError", "Expecting version " + (showIntImpl(j) + (" but received " + showIntImpl(i2)))));
  })
});
const readImpl4$1 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(ownerIsSymbol)(readString)(readFieldsCons(privateIsSymbol)(readBoolean)(readFieldsCons(titleIsSymbol)(readMaybe$2)(readFieldsCons(urlIsSymbol)(readString)(readFieldsCons(versionIsSymbol$1)(readForeignVersion(Reflectable$Dict$2))(readFieldsCons(whitelistIsSymbol)(readForeignWhitelist)(readFieldsNil)()())()())()())()())()())()()).readImpl)();
const readFieldsCons5 = /* @__PURE__ */ readFieldsCons(versionIsSymbol$1)(/* @__PURE__ */ readForeignVersion(Reflectable$Dict$2))(readFieldsNil)()();
const readFieldsCons6$1 = /* @__PURE__ */ readFieldsCons(nameIsSymbol$1)(readMaybe$2)(readFieldsCons5)()();
const readForeignTrack = {
  readImpl: (i2) => {
    const $1 = readImpl4$1(i2);
    if ($1.tag === "Left") {
      return $Either("Left", $1._1);
    }
    if ($1.tag === "Right") {
      return $Either("Right", $Track($1._1));
    }
    fail$3();
  }
};
const readForeignPosition = {
  readImpl: (i2) => bind$1(readString.readImpl(i2))((ri) => {
    if (ri === "Position1") {
      return pure$2(Position1);
    }
    if (ri === "Position2") {
      return pure$2(Position2);
    }
    if (ri === "Position3") {
      return pure$2(Position3);
    }
    if (ri === "Position4") {
      return pure$2(Position4);
    }
    return fail$1($ForeignError("ForeignError", "No idea how to parse: " + _unsafeStringify(i2)));
  })
};
const eqColumn = {
  eq: (x) => (y) => {
    if (x.tag === "C1") {
      return y.tag === "C1";
    }
    if (x.tag === "C2") {
      return y.tag === "C2";
    }
    if (x.tag === "C3") {
      return y.tag === "C3";
    }
    if (x.tag === "C4") {
      return y.tag === "C4";
    }
    if (x.tag === "C5") {
      return y.tag === "C5";
    }
    if (x.tag === "C6") {
      return y.tag === "C6";
    }
    if (x.tag === "C7") {
      return y.tag === "C7";
    }
    if (x.tag === "C8") {
      return y.tag === "C8";
    }
    if (x.tag === "C9") {
      return y.tag === "C9";
    }
    if (x.tag === "C10") {
      return y.tag === "C10";
    }
    if (x.tag === "C11") {
      return y.tag === "C11";
    }
    if (x.tag === "C12") {
      return y.tag === "C12";
    }
    if (x.tag === "C13") {
      return y.tag === "C13";
    }
    if (x.tag === "C14") {
      return y.tag === "C14";
    }
    if (x.tag === "C15") {
      return y.tag === "C15";
    }
    if (x.tag === "C16") {
      return y.tag === "C16";
    }
    if (x.tag === "C17") {
      return y.tag === "C17";
    }
    return false;
  }
};
const ordColumn = {
  compare: (x) => (y) => {
    if (x.tag === "C1") {
      if (y.tag === "C1") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C1") {
      return GT;
    }
    if (x.tag === "C2") {
      if (y.tag === "C2") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C2") {
      return GT;
    }
    if (x.tag === "C3") {
      if (y.tag === "C3") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C3") {
      return GT;
    }
    if (x.tag === "C4") {
      if (y.tag === "C4") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C4") {
      return GT;
    }
    if (x.tag === "C5") {
      if (y.tag === "C5") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C5") {
      return GT;
    }
    if (x.tag === "C6") {
      if (y.tag === "C6") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C6") {
      return GT;
    }
    if (x.tag === "C7") {
      if (y.tag === "C7") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C7") {
      return GT;
    }
    if (x.tag === "C8") {
      if (y.tag === "C8") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C8") {
      return GT;
    }
    if (x.tag === "C9") {
      if (y.tag === "C9") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C9") {
      return GT;
    }
    if (x.tag === "C10") {
      if (y.tag === "C10") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C10") {
      return GT;
    }
    if (x.tag === "C11") {
      if (y.tag === "C11") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C11") {
      return GT;
    }
    if (x.tag === "C12") {
      if (y.tag === "C12") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C12") {
      return GT;
    }
    if (x.tag === "C13") {
      if (y.tag === "C13") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C13") {
      return GT;
    }
    if (x.tag === "C14") {
      if (y.tag === "C14") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C14") {
      return GT;
    }
    if (x.tag === "C15") {
      if (y.tag === "C15") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C15") {
      return GT;
    }
    if (x.tag === "C16") {
      if (y.tag === "C16") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "C16") {
      return GT;
    }
    if (x.tag === "C17") {
      if (y.tag === "C17") {
        return EQ;
      }
      fail$3();
    }
    fail$3();
  },
  Eq0: () => eqColumn
};
const intToColumn = (v) => {
  if (v === 1) {
    return $Either("Right", C1);
  }
  if (v === 2) {
    return $Either("Right", C2);
  }
  if (v === 3) {
    return $Either("Right", C3);
  }
  if (v === 4) {
    return $Either("Right", C4);
  }
  if (v === 5) {
    return $Either("Right", C5);
  }
  if (v === 6) {
    return $Either("Right", C6);
  }
  if (v === 7) {
    return $Either("Right", C7);
  }
  if (v === 8) {
    return $Either("Right", C8);
  }
  if (v === 9) {
    return $Either("Right", C9);
  }
  if (v === 10) {
    return $Either("Right", C10);
  }
  if (v === 11) {
    return $Either("Right", C11);
  }
  if (v === 12) {
    return $Either("Right", C12);
  }
  if (v === 13) {
    return $Either("Right", C13);
  }
  if (v === 14) {
    return $Either("Right", C14);
  }
  if (v === 15) {
    return $Either("Right", C15);
  }
  if (v === 16) {
    return $Either("Right", C16);
  }
  if (v === 17) {
    return $Either("Right", C17);
  }
  return $Either("Left", v);
};
const readForeignColumn = {
  readImpl: (x) => bind$1(readInt.readImpl(x))((ri) => {
    const v = intToColumn(ri);
    if (v.tag === "Right") {
      return pure$2(v._1);
    }
    if (v.tag === "Left") {
      return fail$1($ForeignError("ForeignError", "No idea how to parse column: " + _unsafeStringify(v._1)));
    }
    fail$3();
  })
};
const readImpl5$1 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(marker1AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons(marker3AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker3TimeIsSymbol)(readNumber)(readFieldsCons(marker4AudioURLIsSymbol)(readMaybe$2)(readFieldsCons(marker4TimeIsSymbol)(readNumber)(readFieldsCons6$1)()())()())()())()())()())()())()())()())()()).readImpl)();
const readImpl6$1 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(audioURLIsSymbol)(readMaybe$2)(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons(nameIsSymbol$1)(readMaybe$2)(readFieldsCons(positionIsSymbol)(readForeignPosition)(readFieldsCons5)()())()())()())()())()())()()).readImpl)();
const readImpl7 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(audioURLIsSymbol)(readMaybe$2)(readFieldsCons(columnIsSymbol)(readForeignColumn)(readFieldsCons(lengthIsSymbol)(readNumber)(readFieldsCons(marker1TimeIsSymbol)(readNumber)(readFieldsCons(marker2TimeIsSymbol)(readNumber)(readFieldsCons6$1)()())()())()())()())()()).readImpl)();
const readForeignEventV0 = {
  readImpl: (i2) => bind$1(readImpl3$1(i2))((v) => {
    if (v._type === "Basic") {
      const $2 = readImpl5$1(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $EventV0("BasicEventV0", $2._1));
      }
      fail$3();
    }
    if (v._type === "Leap") {
      const $2 = readImpl6$1(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $EventV0("LeapEventV0", $2._1));
      }
      fail$3();
    }
    if (v._type === "Long") {
      const $2 = readImpl7(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $EventV0("LongEventV0", $2._1));
      }
      fail$3();
    }
    return fail$1($ForeignError("ForeignError", "Could not parse: " + _unsafeStringify(i2)));
  })
};
const readForeignEvent_ = {
  readImpl: (i2) => {
    const $1 = readForeignEventV0.readImpl(i2);
    if ($1.tag === "Left") {
      return $Either("Left", $1._1);
    }
    if ($1.tag === "Right") {
      return $Either("Right", $Event_($1._1));
    }
    fail$3();
  }
};
const semigroupColumn = {
  append: (a2) => (b) => {
    const $2 = intToColumn(intMod(((() => {
      if (a2.tag === "C1") {
        return 1;
      }
      if (a2.tag === "C2") {
        return 2;
      }
      if (a2.tag === "C3") {
        return 3;
      }
      if (a2.tag === "C4") {
        return 4;
      }
      if (a2.tag === "C5") {
        return 5;
      }
      if (a2.tag === "C6") {
        return 6;
      }
      if (a2.tag === "C7") {
        return 7;
      }
      if (a2.tag === "C8") {
        return 8;
      }
      if (a2.tag === "C9") {
        return 9;
      }
      if (a2.tag === "C10") {
        return 10;
      }
      if (a2.tag === "C11") {
        return 11;
      }
      if (a2.tag === "C12") {
        return 12;
      }
      if (a2.tag === "C13") {
        return 13;
      }
      if (a2.tag === "C14") {
        return 14;
      }
      if (a2.tag === "C15") {
        return 15;
      }
      if (a2.tag === "C16") {
        return 16;
      }
      if (a2.tag === "C17") {
        return 17;
      }
      fail$3();
    })() + (() => {
      if (b.tag === "C1") {
        return 1;
      }
      if (b.tag === "C2") {
        return 2;
      }
      if (b.tag === "C3") {
        return 3;
      }
      if (b.tag === "C4") {
        return 4;
      }
      if (b.tag === "C5") {
        return 5;
      }
      if (b.tag === "C6") {
        return 6;
      }
      if (b.tag === "C7") {
        return 7;
      }
      if (b.tag === "C8") {
        return 8;
      }
      if (b.tag === "C9") {
        return 9;
      }
      if (b.tag === "C10") {
        return 10;
      }
      if (b.tag === "C11") {
        return 11;
      }
      if (b.tag === "C12") {
        return 12;
      }
      if (b.tag === "C13") {
        return 13;
      }
      if (b.tag === "C14") {
        return 14;
      }
      if (b.tag === "C15") {
        return 15;
      }
      if (b.tag === "C16") {
        return 16;
      }
      if (b.tag === "C17") {
        return 17;
      }
      fail$3();
    })() | 0) - 1 | 0)(17) + 1 | 0);
    if ($2.tag === "Left") {
      return C7;
    }
    if ($2.tag === "Right") {
      return $2._1;
    }
    fail$3();
  }
};
const writeForeignColumn = {
  writeImpl: (x) => {
    if (x.tag === "C1") {
      return 1;
    }
    if (x.tag === "C2") {
      return 2;
    }
    if (x.tag === "C3") {
      return 3;
    }
    if (x.tag === "C4") {
      return 4;
    }
    if (x.tag === "C5") {
      return 5;
    }
    if (x.tag === "C6") {
      return 6;
    }
    if (x.tag === "C7") {
      return 7;
    }
    if (x.tag === "C8") {
      return 8;
    }
    if (x.tag === "C9") {
      return 9;
    }
    if (x.tag === "C10") {
      return 10;
    }
    if (x.tag === "C11") {
      return 11;
    }
    if (x.tag === "C12") {
      return 12;
    }
    if (x.tag === "C13") {
      return 13;
    }
    if (x.tag === "C14") {
      return 14;
    }
    if (x.tag === "C15") {
      return 15;
    }
    if (x.tag === "C16") {
      return 16;
    }
    if (x.tag === "C17") {
      return 17;
    }
    fail$3();
  }
};
const writeImpl4$1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(marker1AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker3AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker3TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker4AudioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(marker4TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7$1)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl5$1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(nameIsSymbol$1)(writeForeignMaybe$2)(consWriteForeignFields(positionIsSymbol)(writeForeignPosition)(consWriteForeignFields6$1)()()())()()())()()())()()())()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl6$1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol$1)(writeForeignString)(consWriteForeignFields(audioURLIsSymbol)(writeForeignMaybe$2)(consWriteForeignFields(columnIsSymbol)(writeForeignColumn)(consWriteForeignFields(lengthIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker1TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields(marker2TimeIsSymbol)(writeForeignNumber)(consWriteForeignFields7$1)()()())()()())()()())()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeForeignEventV0 = {
  writeImpl: (v) => {
    if (v.tag === "BasicEventV0") {
      return writeImpl4$1({ ...v._1, _type: "Basic" });
    }
    if (v.tag === "LeapEventV0") {
      return writeImpl5$1({ ...v._1, _type: "Leap" });
    }
    if (v.tag === "LongEventV0") {
      return writeImpl6$1({ ...v._1, _type: "Long" });
    }
    fail$3();
  }
};
const writeForeignEvent_ = { writeImpl: (v) => writeForeignEventV0.writeImpl(v._1) };
const ctorRGB_ = (color2) => ({ r: r2, g, b }) => new color2(r2, g, b);
const $RGB = (_1, _2, _3) => ({ tag: "RGB", _1, _2, _3 });
const colorRepresentationRGB = { color: (t2) => (v) => ctorRGB_(t2)({ r: v._1, g: v._2, b: v._3 }) };
const $BoxOptions = () => ({ tag: "BoxOptions" });
const identity$h = (x) => x;
const BoxOptions = /* @__PURE__ */ $BoxOptions();
const convertOptionBoxOptions$x34b1 = { convertOption: (v) => (v1) => identity$h };
const defaultBox = {
  width: 1,
  height: 1,
  depth: 1,
  widthSegments: 1,
  heightSegments: 1,
  depthSegments: 1,
  bufferAttributes: empty$2,
  instancedBufferAttributes: empty$2
};
const box$4 = (dictInitialBox) => (i$p) => {
  const $2 = dictInitialBox.toInitializeBox(i$p);
  return (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const unsub = mySub(applicativeEvent.pure(v1.makeBox({
      id: me,
      parent: parent.parent,
      scope: parent.scope,
      box: $2.box,
      width: $2.width,
      height: $2.height,
      depth: $2.depth,
      widthSegments: $2.widthSegments,
      heightSegments: $2.heightSegments,
      depthSegments: $2.depthSegments,
      bufferAttributes: $2.bufferAttributes,
      instancedBufferAttributes: $2.instancedBufferAttributes
    })))(k)();
    const $10 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $10();
      return unsub();
    };
  });
};
const object3D = (me) => (v) => ({
  matrix4: (x) => v.setMatrix4({ id: me, matrix4: x }),
  quaternion: (x) => v.setQuaternion({ id: me, quaternion: x }),
  rotationFromAxisAngle: (v1) => v.setRotationFromAxisAngle({ id: me, axis: v1.axis, angle: v1.angle }),
  rotationFromEuler: (x) => v.setRotationFromEuler({ id: me, euler: x }),
  rotationFromMatrix: (x) => v.setRotationFromMatrix({ id: me, matrix4: x }),
  rotationFromQuaternion: (x) => v.setRotationFromQuaternion({ id: me, quaternion: x }),
  rotateOnAxis: (v1) => v.setRotateOnAxis({ id: me, axis: v1.axis, angle: v1.angle }),
  rotateOnWorldAxis: (v1) => v.setRotateOnWorldAxis({ id: me, axis: v1.axis, angle: v1.angle }),
  rotateX: (x) => v.setRotateX({ id: me, rotateX: x }),
  rotateY: (x) => v.setRotateY({ id: me, rotateY: x }),
  rotateZ: (x) => v.setRotateZ({ id: me, rotateZ: x }),
  translateOnAxis: (v1) => v.setTranslateOnAxis({ id: me, axis: v1.axis, distance: v1.distance }),
  translateX: (x) => v.setTranslateX({ id: me, translateX: x }),
  translateY: (x) => v.setTranslateY({ id: me, translateY: x }),
  translateZ: (x) => v.setTranslateZ({ id: me, translateZ: x }),
  positionX: (x) => v.setPositionX({ id: me, positionX: x }),
  positionY: (x) => v.setPositionY({ id: me, positionY: x }),
  positionZ: (x) => v.setPositionZ({ id: me, positionZ: x }),
  scaleX: (x) => v.setScaleX({ id: me, scaleX: x }),
  scaleY: (x) => v.setScaleY({ id: me, scaleY: x }),
  scaleZ: (x) => v.setScaleZ({ id: me, scaleZ: x }),
  lookAt: (x) => v.setLookAt({ id: me, v: x })
});
const defaultMaterials = {
  alphaTest: Nothing,
  alphaToCoverage: Nothing,
  blendDst: Nothing,
  blendDstAlpha: Nothing,
  blendEquation: Nothing,
  blendEquationAlpha: Nothing,
  blending: Nothing,
  blendSrc: Nothing,
  blendSrcAlpha: Nothing,
  clipIntersection: Nothing,
  clipShadows: Nothing,
  colorWrite: Nothing,
  depthFunc: Nothing,
  depthTest: Nothing,
  depthWrite: Nothing,
  opacity: Nothing,
  polygonOffset: Nothing,
  polygonOffsetFactor: Nothing,
  polygonOffsetUnits: Nothing,
  precision: Nothing,
  premultipliedAlpha: Nothing,
  dithering: Nothing,
  shadowSide: Nothing,
  side: Nothing,
  toneMapped: Nothing,
  transparent: Nothing,
  vertexColors: Nothing,
  visible: Nothing
};
const $MeshStandardMaterialOptions = () => ({ tag: "MeshStandardMaterialOptions" });
const identity$g = (x) => x;
const oneOf$x = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const MeshStandardMaterialOptions = /* @__PURE__ */ $MeshStandardMaterialOptions();
const convertOptionMeshStandard = { convertOption: (v) => (v1) => Just };
const convertOptionMeshStandard53 = { convertOption: (v) => (v1) => Just };
const convertOptionMeshStandard54 = { convertOption: (v) => (v1) => Just };
const convertOptionMeshStandard55 = { convertOption: (v) => (v1) => identity$g };
const meshStandardMaterial$5 = (dictInitialMeshStandardMaterial) => (i$p) => (atts) => {
  const $3 = dictInitialMeshStandardMaterial.toInitializeMeshStandardMaterial(i$p);
  return (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const unsub = mySub(oneOf$x([
      applicativeEvent.pure(v1.makeMeshStandardMaterial({
        id: me,
        parent: parent.parent,
        scope: parent.scope,
        parameters: {
          meshStandardMaterial: $3.meshStandardMaterial,
          color: $3.color,
          roughness: $3.roughness,
          metalness: $3.metalness,
          map: $3.map,
          lightMap: $3.lightMap,
          lightMapIntensity: $3.lightMapIntensity,
          aoMap: $3.aoMap,
          aoMapIntensity: $3.aoMapIntensity,
          emissive: $3.emissive,
          emissiveIntensity: $3.emissiveIntensity,
          emissiveMap: $3.emissiveMap,
          bumpMap: $3.bumpMap,
          bumpScale: $3.bumpScale,
          normalMap: $3.normalMap,
          normalMapType: $3.normalMapType,
          normalScale: $3.normalScale,
          displacementMap: $3.displacementMap,
          displacementScale: $3.displacementScale,
          displacementBias: $3.displacementBias,
          roughnessMap: $3.roughnessMap,
          metalnessMap: $3.metalnessMap,
          alphaMap: $3.alphaMap,
          envMap: $3.envMap,
          envMapIntensity: $3.envMapIntensity,
          wireframe: $3.wireframe,
          wireframeLinewidth: $3.wireframeLinewidth,
          flatShading: $3.flatShading
        },
        materialParameters: {
          alphaTest: $3.alphaTest,
          alphaToCoverage: $3.alphaToCoverage,
          blendDst: $3.blendDst,
          blendDstAlpha: $3.blendDstAlpha,
          blendEquation: $3.blendEquation,
          blendEquationAlpha: $3.blendEquationAlpha,
          blending: $3.blending,
          blendSrc: $3.blendSrc,
          blendSrcAlpha: $3.blendSrcAlpha,
          clipIntersection: $3.clipIntersection,
          clipShadows: $3.clipShadows,
          colorWrite: $3.colorWrite,
          depthFunc: $3.depthFunc,
          depthTest: $3.depthTest,
          depthWrite: $3.depthWrite,
          opacity: $3.opacity,
          polygonOffset: $3.polygonOffset,
          polygonOffsetFactor: $3.polygonOffsetFactor,
          polygonOffsetUnits: $3.polygonOffsetUnits,
          precision: $3.precision,
          premultipliedAlpha: $3.premultipliedAlpha,
          dithering: $3.dithering,
          shadowSide: $3.shadowSide,
          side: $3.side,
          toneMapped: $3.toneMapped,
          transparent: $3.transparent,
          vertexColors: $3.vertexColors,
          visible: $3.visible
        }
      })),
      (b, k$1) => atts(
        b,
        (a2) => {
          const $13 = onMatch()()()({
            color: (x) => v1.setColor({ id: me, color: x }),
            roughness: (x) => v1.setRoughness({ id: me, roughness: x }),
            metalness: (x) => v1.setMetalness({ id: me, metalness: x }),
            map: (x) => v1.setMap({ id: me, map: x }),
            lightMap: (x) => v1.setLightMap({ id: me, lightMap: x }),
            lightMapIntensity: (x) => v1.setLightMapIntensity({ id: me, lightMapIntensity: x }),
            aoMap: (x) => v1.setAoMap({ id: me, aoMap: x }),
            aoMapIntensity: (x) => v1.setAoMapIntensity({ id: me, aoMapIntensity: x }),
            emissive: (x) => v1.setEmissive({ id: me, emissive: x }),
            emissiveIntensity: (x) => v1.setEmissiveIntensity({ id: me, emissiveIntensity: x }),
            emissiveMap: (x) => v1.setEmissiveMap({ id: me, emissiveMap: x }),
            bumpMap: (x) => v1.setBumpMap({ id: me, bumpMap: x }),
            bumpScale: (x) => v1.setBumpScale({ id: me, bumpScale: x }),
            normalMap: (x) => v1.setNormalMap({ id: me, normalMap: x }),
            normalMapType: (x) => v1.setNormalMapType({ id: me, normalMapType: x }),
            normalScale: (x) => v1.setNormalScale({ id: me, normalScale: x }),
            displacementMap: (x) => v1.setDisplacementMap({ id: me, displacementMap: x }),
            displacementScale: (x) => v1.setDisplacementScale({ id: me, displacementScale: x }),
            displacementBias: (x) => v1.setDisplacementBias({ id: me, displacementBias: x }),
            roughnessMap: (x) => v1.setRoughnessMap({ id: me, roughnessMap: x }),
            metalnessMap: (x) => v1.setMetalnessMap({ id: me, metalnessMap: x }),
            alphaMap: (x) => v1.setAlphaMap({ id: me, alphaMap: x }),
            envMap: (x) => v1.setEnvMap({ id: me, envMap: x }),
            envMapIntensity: (x) => v1.setEnvMapIntensity({ id: me, envMapIntensity: x }),
            wireframe: (x) => v1.setWireframe({ id: me, wireframe: x }),
            wireframeLinewidth: (x) => v1.setWireframeLinewidth({ id: me, wireframeLinewidth: x }),
            flatShading: (x) => v1.setFlatShading({ id: me, flatShading: x })
          })(case_)(a2);
          return k$1($13);
        }
      )
    ]))(k)();
    const $11 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $11();
      return unsub();
    };
  });
};
const defaultMeshStandardMaterial = {
  ...defaultMaterials,
  color: Nothing,
  roughness: Nothing,
  metalness: Nothing,
  map: Nothing,
  lightMap: Nothing,
  lightMapIntensity: Nothing,
  aoMap: Nothing,
  aoMapIntensity: Nothing,
  emissive: Nothing,
  emissiveIntensity: Nothing,
  emissiveMap: Nothing,
  bumpMap: Nothing,
  bumpScale: Nothing,
  normalMap: Nothing,
  normalMapType: Nothing,
  normalScale: Nothing,
  displacementMap: Nothing,
  displacementScale: Nothing,
  displacementBias: Nothing,
  roughnessMap: Nothing,
  metalnessMap: Nothing,
  alphaMap: Nothing,
  envMap: Nothing,
  envMapIntensity: Nothing,
  wireframe: Nothing,
  wireframeLinewidth: Nothing,
  flatShading: Nothing
};
const $MakeEvent = () => ({ tag: "MakeEvent" });
const oneOf$w = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const MakeEvent = /* @__PURE__ */ $MakeEvent();
const mappingMakeEventFunctionF = { mapping: (v) => semigroupoidFn.compose(pure_) };
const constMapping$1 = { mappingWithIndex: (v) => (v1) => mappingMakeEventFunctionF.mapping(v) };
const hmap = /* @__PURE__ */ (() => hmapRecord()(mapRecordWithIndexCons({ reflectSymbol: () => "lookAt" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "matrix4"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "positionX" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "positionY"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "positionZ" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "quaternion"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "rotateOnAxis" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "rotateOnWorldAxis"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "rotateX" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "rotateY"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "rotateZ" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "rotationFromAxisAngle"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "rotationFromEuler" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "rotationFromMatrix"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "rotationFromQuaternion" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "scaleX"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "scaleY" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "scaleZ"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "translateOnAxis" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "translateX"
})(constMapping$1)(mapRecordWithIndexCons({ reflectSymbol: () => "translateY" })(constMapping$1)(mapRecordWithIndexCons({
  reflectSymbol: () => "translateZ"
})(constMapping$1)(mapRecordWithIndexNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).hmap)();
const withRemoval$p$1 = (p2) => (s2) => (attach) => (remove) => () => {
  const $4 = p2.value;
  p2.value = mutate(poke(s2)(remove))($4);
  return attach;
};
const mesh$p = (mshhhh) => (v) => (v1) => (props) => (kidz) => $Entity(
  "Element'",
  (parent) => (v2) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v2.ids();
    parent.raiseId(me)();
    const unsub = mySub(oneOf$w([
      applicativeEvent.pure(v2.makeMesh({ id: me, parent: parent.parent, scope: parent.scope, mesh: mshhhh.mesh })),
      v({ parent: $Maybe("Just", me), scope: parent.scope, raiseId: (v3) => () => unit })(v2),
      v1({ parent: $Maybe("Just", me), scope: parent.scope, raiseId: (v3) => () => unit })(v2),
      backdoor.makeLemmingEvent((mySub1) => (pusher) => () => {
        const unsubs = { value: empty$2 };
        const usu = mySub1(props)((v3) => bind_(onMatch()()()({
          ...hmap(MakeEvent)(object3D(me)(v2)),
          onClick: (onClick) => withRemoval$p$1(unsubs)("click")(v2.setOnClick({ id: me, onClick }))(v2.removeOnClick({ id: me, onClick })),
          onMouseDown: (onMouseDown) => withRemoval$p$1(unsubs)("mousedown")(v2.setOnMouseDown({ id: me, onMouseDown }))(v2.removeOnMouseDown({
            id: me,
            onMouseDown
          })),
          onMouseUp: (onMouseUp) => withRemoval$p$1(unsubs)("mouseup")(v2.setOnMouseUp({ id: me, onMouseUp }))(v2.removeOnMouseUp({ id: me, onMouseUp })),
          onMouseMove: (onMouseMove) => withRemoval$p$1(unsubs)("mousemove")(v2.setOnMouseMove({ id: me, onMouseMove }))(v2.removeOnMouseMove({
            id: me,
            onMouseMove
          })),
          onTouchStart: (onTouchStart) => withRemoval$p$1(unsubs)("touchstart")(v2.setOnTouchStart({ id: me, onTouchStart }))(v2.removeOnTouchStart({
            id: me,
            onTouchStart
          })),
          onTouchEnd: (onTouchEnd) => withRemoval$p$1(unsubs)("touchend")(v2.setOnTouchEnd({ id: me, onTouchEnd }))(v2.removeOnTouchEnd({ id: me, onTouchEnd })),
          onTouchMove: (onTouchMove) => withRemoval$p$1(unsubs)("touchmove")(v2.setOnTouchMove({ id: me, onTouchMove }))(v2.removeOnTouchMove({
            id: me,
            onTouchMove
          })),
          onTouchCancel: (onTouchCancel) => withRemoval$p$1(unsubs)("touchcancel")(v2.setOnTouchCancel({ id: me, onTouchCancel }))(v2.removeOnTouchCancel({
            id: me,
            onTouchCancel
          }))
        })(case_)(v3))(pusher))();
        return () => {
          const removes = unsubs.value;
          foreachE(values(removes))(pusher)();
          return usu();
        };
      }),
      flatten({ doLogic: absurd, ids: (x) => x.ids, disconnectElement: (x) => x.disconnect, toElt: (v3) => v3 })({
        parent: $Maybe("Just", me),
        scope: parent.scope,
        raiseId: (v3) => () => unit
      })(v2)($Entity("FixedChildren'", kidz))
    ]))(k)();
    const $12 = k(v2.deleteFromCache({ id: me }));
    return () => {
      $12();
      return unsub();
    };
  })
);
const box$3 = /* @__PURE__ */ box$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({
    reflectSymbol: () => "box"
  });
  return {
    toInitializeBox: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(BoxOptions)($$Proxy)(provided)({}),
      defaultBox
    )
  };
})());
const meshStandardMaterial$4 = /* @__PURE__ */ meshStandardMaterial$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard55)()()()({
    reflectSymbol: () => "meshStandardMaterial"
  }))(convertOptionMeshStandard54)()()()({ reflectSymbol: () => "color" });
  return {
    toInitializeMeshStandardMaterial: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(provided)({}),
      defaultMeshStandardMaterial
    )
  };
})());
const oneOf$v = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const scaleX = (x) => ({ type: "scaleX", value: x });
const scaleY$1 = (x) => ({ type: "scaleY", value: x });
const scaleZ$1 = (x) => ({ type: "scaleZ", value: x });
const makeBar = (v) => {
  const initializeWith = (f, x) => {
    const $3 = applicativeEvent.pure(f(0));
    const $4 = oneOff(Just)((() => {
      const $42 = f(x);
      return (b, k) => v.rateE(b, (a2) => k($42));
    })());
    return (tf, k) => {
      const a$p = $3(tf, k);
      const a$p$1 = $4(tf, k);
      return () => {
        a$p();
        return a$p$1();
      };
    };
  };
  return mesh$p({ mesh: v.threeDI.mesh })(box$3({ box: v.threeDI.boxGeometry }))(meshStandardMaterial$4({
    meshStandardMaterial: v.threeDI.meshStandardMaterial,
    color: v.c3((() => {
      if (v.position.tag === "Position1") {
        return $RGB(0.2196078431372549, 0.8431372549019608, 0.9058823529411765);
      }
      if (v.position.tag === "Position2") {
        return $RGB(0.9764705882352941, 0.8784313725490196, 0.4627450980392157);
      }
      if (v.position.tag === "Position3") {
        return $RGB(0.9333333333333333, 0.19215686274509805, 0.4196078431372549);
      }
      if (v.position.tag === "Position4") {
        return $RGB(0.5176470588235295, 0.17647058823529413, 0.4470588235294118);
      }
      fail$3();
    })())
  })(plusEvent.empty))(oneOf$v([
    applicativeEvent.pure({ type: "positionX", value: 0 }),
    applicativeEvent.pure({ type: "positionY", value: 0 }),
    sampleBy(functorEvent)((ri) => (v1) => ({
      type: "positionZ",
      value: (() => {
        if (v.position.tag === "Position1") {
          return -3 * ri.barZSpacing;
        }
        if (v.position.tag === "Position2") {
          return -2 * ri.barZSpacing;
        }
        if (v.position.tag === "Position3") {
          return -1 * ri.barZSpacing;
        }
        if (v.position.tag === "Position4") {
          return 0;
        }
        fail$3();
      })()
    }))(v.renderingInfo)((() => {
      if (v.debug) {
        return (b, k) => v.rateE(b, (a2) => k(unit));
      }
      return applicativeEvent.pure(unit);
    })()),
    initializeWith(scaleX, 10),
    initializeWith(scaleY$1, 0.02),
    initializeWith(scaleZ$1, 0.03)
  ]))([]);
};
const lowPrioritySchedule = (f) => (n2) => (e2) => backdoor.makeEvent((k) => {
  const $4 = subscribe(e2)((i2) => f(n2)(k(i2)));
  return () => {
    $4();
    return () => unit;
  };
});
const $BasicOutcome = (tag) => ({ tag });
const Perfect = /* @__PURE__ */ $BasicOutcome("Perfect");
const Nice = /* @__PURE__ */ $BasicOutcome("Nice");
const Early = /* @__PURE__ */ $BasicOutcome("Early");
const Late = /* @__PURE__ */ $BasicOutcome("Late");
const beatsToBasicOutcome = (a2) => {
  if ((() => {
    if (a2 >= 0) {
      return a2 < 0.05;
    }
    return -a2 < 0.05;
  })()) {
    return Perfect;
  }
  if ((() => {
    if (a2 >= 0) {
      return a2 < 0.1;
    }
    return -a2 < 0.1;
  })()) {
    return Nice;
  }
  if (a2 > 0) {
    return Late;
  }
  return Early;
};
const basicOutcomeToPointOutcome = (v) => {
  if (v.tag === "Perfect") {
    return $Either("Right", 50);
  }
  if (v.tag === "Nice") {
    return $Either("Right", 20);
  }
  if (v.tag === "Late") {
    return $Either("Left", 30);
  }
  if (v.tag === "Early") {
    return $Either("Left", 30);
  }
  fail$3();
};
function createElement(localName) {
  return function(doc) {
    return function() {
      return doc.createElement(localName);
    };
  };
}
const oneOf$u = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const css2DObject$1 = (v) => (atts) => $Entity(
  "Element'",
  (parent) => (v1) => backdoor.makeEvent((k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const elt = bindE(bindE(windowImpl)(document$1))(createElement("div"))();
    const dku = runInElement$p(elt)(v.nut)();
    const unsub = subscribe(oneOf$u([
      applicativeEvent.pure(v1.makeCSS2DObject({ id: me, parent: parent.parent, scope: parent.scope, nut: elt, css2DObject: v.css2DObject })),
      (b, k$1) => atts(
        b,
        (a2) => {
          const $12 = onMatch()()()(object3D(me)(v1))(case_)(a2);
          return k$1($12);
        }
      )
    ]))(k)();
    const $10 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $10();
      dku();
      return unsub();
    };
  })
);
const oneOfMap$b = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const mapAccum$7 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const basicLabels = (mbl) => $Entity(
  "DynamicChildren'",
  (b, k) => mbl.basicTap(
    b,
    (a2) => {
      const $4 = applicativeEvent.pure($Child(
        "Insert",
        css2DObject$1({
          css2DObject: mbl.threeDI.css2DObject,
          nut: $Entity(
            "Element'",
            elementify("span")(oneOfMap$b(applicativeEvent.pure)([{ key: "class", value: $AttributeValue("Prop'", "text-zinc-100 fade-out") }]))($Entity(
              "FixedChildren'",
              [
                (() => {
                  const $42 = beatsToBasicOutcome(a2.deltaBeats);
                  return text(applicativeEvent.pure((() => {
                    if (a2.player.tag === "Player1") {
                      if ($42.tag === "Perfect") {
                        return "Player 1 Perfect!";
                      }
                      if ($42.tag === "Nice") {
                        return "Player 1 Nice!";
                      }
                      if ($42.tag === "Late") {
                        return "Player 1 Late";
                      }
                      if ($42.tag === "Early") {
                        return "Player 1 Early";
                      }
                      fail$3();
                    }
                    if (a2.player.tag === "Player2") {
                      if ($42.tag === "Perfect") {
                        return "Player 2 Perfect!";
                      }
                      if ($42.tag === "Nice") {
                        return "Player 2 Nice!";
                      }
                      if ($42.tag === "Late") {
                        return "Player 2 Late";
                      }
                      if ($42.tag === "Early") {
                        return "Player 2 Early";
                      }
                      fail$3();
                    }
                    if (a2.player.tag === "Player3") {
                      if ($42.tag === "Perfect") {
                        return "Player 3 Perfect!";
                      }
                      if ($42.tag === "Nice") {
                        return "Player 3 Nice!";
                      }
                      if ($42.tag === "Late") {
                        return "Player 3 Late";
                      }
                      if ($42.tag === "Early") {
                        return "Player 3 Early";
                      }
                      fail$3();
                    }
                    if (a2.player.tag === "Player4") {
                      if ($42.tag === "Perfect") {
                        return "Player 4 Perfect!";
                      }
                      if ($42.tag === "Nice") {
                        return "Player 4 Nice!";
                      }
                      if ($42.tag === "Late") {
                        return "Player 4 Late";
                      }
                      if ($42.tag === "Early") {
                        return "Player 4 Early";
                      }
                      fail$3();
                    }
                    fail$3();
                  })()));
                })()
              ]
            ))
          )
        })((() => {
          const $42 = keepLatest((() => {
            const $43 = mapAccum$7((a$1) => (b$1) => {
              if (b$1.tag === "Nothing") {
                return $Tuple($Maybe("Just", a$1), a$1);
              }
              if (b$1.tag === "Just") {
                return $Tuple($Maybe("Just", b$1._1), { z: b$1._1.z, x: a$1.x, y: a$1.y });
              }
              fail$3();
            })(a2.translation)(Nothing);
            return (b$1, k$1) => $43(
              b$1,
              (a$1) => {
                const $8 = oneOfMap$b(applicativeEvent.pure)([{ type: "positionX", value: a$1.x }, { type: "positionY", value: a$1.y }, { type: "positionZ", value: a$1.z }]);
                return k$1($8);
              }
            );
          })());
          return (tf, k$1) => {
            const a$p = applicativeEvent.pure({ type: "positionZ", value: 100 })(tf, k$1);
            const a$p$1 = $42(tf, k$1);
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })())
      ));
      const $5 = lowPrioritySchedule(mbl.lpsCallback)(3e3 + a2.issuedAt)(applicativeEvent.pure(Remove));
      return k((tf, k$1) => {
        const a$p = $4(tf, k$1);
        const a$p$1 = $5(tf, k$1);
        return () => {
          a$p();
          return a$p$1();
        };
      });
    }
  )
);
const oneOfMap$a = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const mapAccum$6 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const leapLabels = (mbl) => $Entity(
  "DynamicChildren'",
  (b, k) => mbl.leapTap(
    b,
    (a2) => {
      const $4 = applicativeEvent.pure($Child(
        "Insert",
        css2DObject$1({
          css2DObject: mbl.threeDI.css2DObject,
          nut: $Entity(
            "Element'",
            elementify("span")(oneOfMap$a(applicativeEvent.pure)([{ key: "class", value: $AttributeValue("Prop'", "text-zinc-100 fade-out") }]))($Entity(
              "FixedChildren'",
              [
                text(applicativeEvent.pure((() => {
                  if (a2.player.tag === "Player1") {
                    return "Player 1 Leap!";
                  }
                  if (a2.player.tag === "Player2") {
                    return "Player 2 Leap!";
                  }
                  if (a2.player.tag === "Player3") {
                    return "Player 3 Leap!";
                  }
                  if (a2.player.tag === "Player4") {
                    return "Player 4 Leap!";
                  }
                  fail$3();
                })()))
              ]
            ))
          )
        })((() => {
          const $42 = keepLatest((() => {
            const $43 = mapAccum$6((a$1) => (b$1) => {
              if (b$1.tag === "Nothing") {
                return $Tuple($Maybe("Just", a$1), a$1);
              }
              if (b$1.tag === "Just") {
                return $Tuple($Maybe("Just", b$1._1), { z: b$1._1.z, x: a$1.x, y: a$1.y });
              }
              fail$3();
            })(a2.translation)(Nothing);
            return (b$1, k$1) => $43(
              b$1,
              (a$1) => {
                const $8 = oneOfMap$a(applicativeEvent.pure)([{ type: "positionX", value: a$1.x }, { type: "positionY", value: a$1.y }, { type: "positionZ", value: a$1.z }]);
                return k$1($8);
              }
            );
          })());
          return (tf, k$1) => {
            const a$p = applicativeEvent.pure({ type: "positionZ", value: 100 })(tf, k$1);
            const a$p$1 = $42(tf, k$1);
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })())
      ));
      const $5 = lowPrioritySchedule(mbl.lpsCallback)(3e3 + a2.issuedAt)(applicativeEvent.pure(Remove));
      return k((tf, k$1) => {
        const a$p = $4(tf, k$1);
        const a$p$1 = $5(tf, k$1);
        return () => {
          a$p();
          return a$p$1();
        };
      });
    }
  )
);
const oneOfMap$9 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const oneOf$t = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const mapAccum$5 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const css2DNut = (mbl) => (v) => $Entity(
  "Element'",
  elementify("span")(oneOfMap$9(applicativeEvent.pure)([{ key: "class", value: $AttributeValue("Prop'", "text-zinc-100 fade-out") }]))($Entity(
    "FixedChildren'",
    [
      text(oneOf$t([
        applicativeEvent.pure((() => {
          if (v.player.tag === "Player1") {
            return "Player 1 Long on!";
          }
          if (v.player.tag === "Player2") {
            return "Player 2 Long on!";
          }
          if (v.player.tag === "Player3") {
            return "Player 3 Long on!";
          }
          if (v.player.tag === "Player4") {
            return "Player 4 Long on!";
          }
          fail$3();
        })()),
        (b, k) => mbl.longRelease(
          b,
          (a2) => {
            const $5 = (() => {
              if (v.player.tag === "Player1") {
                return "Player 1 Long off!";
              }
              if (v.player.tag === "Player2") {
                return "Player 2 Long off!";
              }
              if (v.player.tag === "Player3") {
                return "Player 3 Long off!";
              }
              if (v.player.tag === "Player4") {
                return "Player 4 Long off!";
              }
              fail$3();
            })();
            return k($5);
          }
        )
      ]))
    ]
  ))
);
const longLabels = (mbl) => $Entity(
  "DynamicChildren'",
  (b, k) => mbl.longTap(
    b,
    (a2) => {
      const $4 = applicativeEvent.pure($Child(
        "Insert",
        css2DObject$1({ css2DObject: mbl.threeDI.css2DObject, nut: css2DNut(mbl)(a2) })((() => {
          const $42 = keepLatest((() => {
            const $43 = mapAccum$5((a$1) => (b$1) => {
              if (b$1.tag === "Nothing") {
                return $Tuple($Maybe("Just", a$1), a$1);
              }
              if (b$1.tag === "Just") {
                return $Tuple($Maybe("Just", b$1._1), { z: b$1._1.z, x: a$1.x, y: a$1.y });
              }
              fail$3();
            })(a2.translation)(Nothing);
            return (b$1, k$1) => $43(
              b$1,
              (a$1) => {
                const $8 = oneOfMap$9(applicativeEvent.pure)([{ type: "positionX", value: a$1.x }, { type: "positionY", value: a$1.y }, { type: "positionZ", value: a$1.z }]);
                return k$1($8);
              }
            );
          })());
          return (tf, k$1) => {
            const a$p = applicativeEvent.pure({ type: "positionZ", value: 100 })(tf, k$1);
            const a$p$1 = $42(tf, k$1);
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })())
      ));
      const $5 = lowPrioritySchedule(mbl.lpsCallback)(3e3 + a2.issuedAt)(applicativeEvent.pure(Remove));
      return k((tf, k$1) => {
        const a$p = $4(tf, k$1);
        const a$p$1 = $5(tf, k$1);
        return () => {
          a$p();
          return a$p$1();
        };
      });
    }
  )
);
function clientX$1(t2) {
  return t2.clientX;
}
function clientY$1(t2) {
  return t2.clientY;
}
function clientX(e2) {
  return e2.clientX;
}
function clientY(e2) {
  return e2.clientY;
}
const box$2 = /* @__PURE__ */ box$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({
    reflectSymbol: () => "box"
  });
  return {
    toInitializeBox: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(BoxOptions)($$Proxy)(provided)({}),
      defaultBox
    )
  };
})());
const meshStandardMaterial$3 = /* @__PURE__ */ meshStandardMaterial$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard)()()()({
    reflectSymbol: () => "visible"
  }))(convertOptionMeshStandard55)()()()({ reflectSymbol: () => "meshStandardMaterial" }))(convertOptionMeshStandard54)()()()({
    reflectSymbol: () => "color"
  });
  return {
    toInitializeMeshStandardMaterial: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(provided)({}),
      defaultMeshStandardMaterial
    )
  };
})());
const oneOf$s = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const scaleY = (x) => ({ type: "scaleY", value: x });
const scaleZ = (x) => ({ type: "scaleZ", value: x });
const show$3 = (record2) => {
  const v = cons(intercalate$2(": ")(["cx", showIntImpl(record2.cx)]))(cons(intercalate$2(": ")([
    "cy",
    showIntImpl(record2.cy)
  ]))([]));
  if (v.length === 0) {
    return "{}";
  }
  return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
};
const makeRaycastableLane = (input) => {
  const initializeWith = (f, x) => {
    const $3 = applicativeEvent.pure(f(0));
    const $4 = oneOff(Just)((() => {
      const $42 = f(x);
      return (b, k) => input.rateE(b, (a2) => k($42));
    })());
    return (tf, k) => {
      const a$p = $3(tf, k);
      const a$p$1 = $4(tf, k);
      return () => {
        a$p();
        return a$p$1();
      };
    };
  };
  const forRendering = sampleBy(functorEvent)(applyFlipped)(input.renderingInfo)(sampleOn((b, k) => {
    const a$p = applicativeEvent.pure(input.initialDims)(
      b,
      (a2) => {
        const $5 = { iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih };
        return k($5);
      }
    );
    const a$p$1 = input.resizeEvent(b, (a2) => k({ iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih }));
    return () => {
      a$p();
      return a$p$1();
    };
  })((b, k) => input.rateInfo(b, (a2) => k((v1) => (v2) => ({ rateInfo: a2, ratio: v1, renderingInfo: v2 })))));
  return mesh$p({ mesh: input.threeDI.mesh })(box$2({ box: input.threeDI.boxGeometry }))(meshStandardMaterial$3({
    meshStandardMaterial: input.threeDI.meshStandardMaterial,
    color: input.c3($RGB(0.5, 0.5, 0.5)),
    visible: false
  })(plusEvent.empty))(oneOf$s([
    (b, k) => forRendering(
      b,
      (a2) => {
        const $6 = (() => {
          if (input.column.tag === "C1") {
            return a2.renderingInfo.halfAmbitus * -1 * a2.ratio.r;
          }
          if (input.column.tag === "C2") {
            return a2.renderingInfo.halfAmbitus * -0.875 * a2.ratio.r;
          }
          if (input.column.tag === "C3") {
            return a2.renderingInfo.halfAmbitus * -0.75 * a2.ratio.r;
          }
          if (input.column.tag === "C4") {
            return a2.renderingInfo.halfAmbitus * -0.625 * a2.ratio.r;
          }
          if (input.column.tag === "C5") {
            return a2.renderingInfo.halfAmbitus * -0.5 * a2.ratio.r;
          }
          if (input.column.tag === "C6") {
            return a2.renderingInfo.halfAmbitus * -0.375 * a2.ratio.r;
          }
          if (input.column.tag === "C7") {
            return a2.renderingInfo.halfAmbitus * -0.25 * a2.ratio.r;
          }
          if (input.column.tag === "C8") {
            return a2.renderingInfo.halfAmbitus * -0.125 * a2.ratio.r;
          }
          if (input.column.tag === "C9") {
            return a2.renderingInfo.halfAmbitus * 0 * a2.ratio.r;
          }
          if (input.column.tag === "C10") {
            return a2.renderingInfo.halfAmbitus * 0.125 * a2.ratio.r;
          }
          if (input.column.tag === "C11") {
            return a2.renderingInfo.halfAmbitus * 0.25 * a2.ratio.r;
          }
          if (input.column.tag === "C12") {
            return a2.renderingInfo.halfAmbitus * 0.375 * a2.ratio.r;
          }
          if (input.column.tag === "C13") {
            return a2.renderingInfo.halfAmbitus * 0.5 * a2.ratio.r;
          }
          if (input.column.tag === "C14") {
            return a2.renderingInfo.halfAmbitus * 0.625 * a2.ratio.r;
          }
          if (input.column.tag === "C15") {
            return a2.renderingInfo.halfAmbitus * 0.75 * a2.ratio.r;
          }
          if (input.column.tag === "C16") {
            return a2.renderingInfo.halfAmbitus * 0.875 * a2.ratio.r;
          }
          if (input.column.tag === "C17") {
            return a2.renderingInfo.halfAmbitus * 1 * a2.ratio.r;
          }
          fail$3();
        })();
        return k({ type: "positionX", value: $6 });
      }
    ),
    applicativeEvent.pure({ type: "positionY", value: 0 }),
    applicativeEvent.pure({ type: "positionZ", value: -1.5 }),
    (tf, k) => {
      const a$p = applicativeEvent.pure({ type: "scaleX", value: 0 })(tf, k);
      const a$p$1 = forRendering(tf, (a2) => k({ type: "scaleX", value: a2.renderingInfo.halfAmbitus * a2.ratio.r / 9 }));
      return () => {
        a$p();
        return a$p$1();
      };
    },
    initializeWith(scaleY, 0.1),
    initializeWith(scaleZ, 5),
    (() => {
      const f = applicativeEvent.pure((i2) => {
        const $4 = log("position: " + (show$3(i2) + (" column: " + _unsafeStringify((() => {
          if (input.column.tag === "C1") {
            return 1;
          }
          if (input.column.tag === "C2") {
            return 2;
          }
          if (input.column.tag === "C3") {
            return 3;
          }
          if (input.column.tag === "C4") {
            return 4;
          }
          if (input.column.tag === "C5") {
            return 5;
          }
          if (input.column.tag === "C6") {
            return 6;
          }
          if (input.column.tag === "C7") {
            return 7;
          }
          if (input.column.tag === "C8") {
            return 8;
          }
          if (input.column.tag === "C9") {
            return 9;
          }
          if (input.column.tag === "C10") {
            return 10;
          }
          if (input.column.tag === "C11") {
            return 11;
          }
          if (input.column.tag === "C12") {
            return 12;
          }
          if (input.column.tag === "C13") {
            return 13;
          }
          if (input.column.tag === "C14") {
            return 14;
          }
          if (input.column.tag === "C15") {
            return 15;
          }
          if (input.column.tag === "C16") {
            return 16;
          }
          if (input.column.tag === "C17") {
            return 17;
          }
          fail$3();
        })()))));
        return () => {
          $4();
          input.columnPusher();
          return () => unit;
        };
      });
      if (input.isMobile) {
        return (b, k) => f(
          b,
          (a2) => k({
            type: "onTouchStart",
            value: (x) => {
              const $8 = a2({ cx: clientX$1(x), cy: clientY$1(x) });
              return () => {
                const a$p = $8();
                return { end: (v) => a$p, cancel: (v) => a$p };
              };
            }
          })
        );
      }
      return (b, k) => f(
        b,
        (a2) => k({
          type: "onMouseDown",
          value: (x) => {
            const $8 = a2({ cx: clientX(x), cy: clientY(x) });
            return () => {
              const a$p = $8();
              return (v) => a$p;
            };
          }
        })
      );
    })()
  ]))([]);
};
const $PerspectiveCameraOptions = () => ({ tag: "PerspectiveCameraOptions" });
const identity$f = (x) => x;
const oneOf$r = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const PerspectiveCameraOptions = /* @__PURE__ */ $PerspectiveCameraOptions();
const convertOptionPerspectiveC = { convertOption: (v) => (v1) => identity$f };
const convertOptionPerspectiveC1 = { convertOption: (v) => (v1) => identity$f };
const convertOptionPerspectiveC2 = { convertOption: (v) => (v1) => identity$f };
const convertOptionPerspectiveC3 = { convertOption: (v) => (v1) => identity$f };
const convertOptionPerspectiveC4 = { convertOption: (v) => (v1) => identity$f };
const perspectiveCamera$4 = (dictInitialPerspectiveCamera) => (i$p) => (atts) => {
  const $3 = dictInitialPerspectiveCamera.toInitializePerspectiveCamera(i$p);
  return (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const unsub = mySub(oneOf$r([
      applicativeEvent.pure(v1.makePerspectiveCamera({
        id: me,
        parent: parent.parent,
        scope: parent.scope,
        perspectiveCamera: $3.perspectiveCamera,
        aspect: $3.aspect,
        far: $3.far,
        fov: $3.fov,
        near: $3.near
      })),
      (b, k$1) => atts(
        b,
        (a2) => {
          const $13 = onMatch()()()({
            ...object3D(me)(v1),
            aspect: (x) => v1.setAspect({ id: me, aspect: x }),
            far: (x) => v1.setFar({ id: me, far: x }),
            filmGauge: (x) => v1.setFilmGauge({ id: me, filmGauge: x }),
            filmOffset: (x) => v1.setFilmOffset({ id: me, filmOffset: x }),
            focus: (x) => v1.setFocus({ id: me, focus: x }),
            fov: (x) => v1.setFov({ id: me, fov: x }),
            near: (x) => v1.setNear({ id: me, near: x }),
            zoom: (x) => v1.setZoom({ id: me, zoom: x }),
            focalLength: (x) => v1.setFocalLength({ id: me, focalLength: x }),
            viewOffset: (v3) => v1.setViewOffset({ id: me, fullWidth: v3.fullWidth, fullHeight: v3.fullHeight, x: v3.x, y: v3.y, width: v3.width, height: v3.height })
          })(case_)(a2);
          return k$1($13);
        }
      )
    ]))(k)();
    const $11 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $11();
      return unsub();
    };
  });
};
const defaultPerspectiveCamera = { fov: 50, aspect: 1, near: 0.1, far: 2e3 };
const ctor_$1 = (euler2) => ({ x, y, z }) => new euler2(x, y, z);
const oneOf$q = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const unsafeInternalGroup = (dif) => (gp) => (props) => (kidz) => $Entity(
  "Element'",
  (parent) => (v) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v.ids();
    parent.raiseId(me)();
    const unsub = mySub(oneOf$q([
      applicativeEvent.pure(dif(v)({ id: me, parent: parent.parent, scope: parent.scope, group: gp.group })),
      (b, k$1) => props(
        b,
        (a2) => {
          const $13 = onMatch()()()(object3D(me)(v))(case_)(a2);
          return k$1($13);
        }
      ),
      flatten({ doLogic: absurd, ids: (x) => x.ids, disconnectElement: (x) => x.disconnect, toElt: (v1) => v1 })({
        parent: $Maybe("Just", me),
        scope: parent.scope,
        raiseId: (v1) => () => unit
      })(v)($Entity("FixedChildren'", arrayMap(unsafeCoerce)(kidz)))
    ]))(k)();
    const $11 = k(v.deleteFromCache({ id: me }));
    return () => {
      $11();
      return unsub();
    };
  })
);
const loader$2 = (gltfLoader2) => () => new gltfLoader2();
const load$2 = (loader2) => (url) => (onLoad) => (onError) => () => {
  loader2.load(
    url,
    (x) => onLoad(x)(),
    void 0,
    (x) => onError(x)()
  );
};
const sceneImpl = (gltf) => gltf.scene.clone();
const loadAff$2 = (l2) => (url) => makeAff((f) => {
  const $3 = load$2(l2)(url)((x) => f($Either("Right", x)))((x) => f($Either("Left", x)));
  return () => {
    $3();
    return nonCanceler;
  };
});
const $AmbientLightOptions = () => ({ tag: "AmbientLightOptions" });
const identity$e = (x) => x;
const oneOf$p = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const AmbientLightOptions = /* @__PURE__ */ $AmbientLightOptions();
const convertOptionAmbientLight = { convertOption: (v) => (v1) => identity$e };
const convertOptionAmbientLight1 = { convertOption: (v) => (v1) => identity$e };
const convertOptionAmbientLight2 = { convertOption: (v) => (v1) => identity$e };
const defaultAmbientLight = { intensity: 1 };
const ambientLight$3 = (dictInitialAmbientLight) => (i$p) => (atts) => {
  const $3 = dictInitialAmbientLight.toInitializeAmbientLight(i$p);
  return $Entity(
    "Element'",
    (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const me = v1.ids();
      parent.raiseId(me)();
      const unsub = mySub(oneOf$p([
        applicativeEvent.pure(v1.makeAmbientLight({
          id: me,
          parent: parent.parent,
          scope: parent.scope,
          ambientLight: $3.ambientLight,
          color: $3.color,
          intensity: $3.intensity
        })),
        (b, k$1) => atts(
          b,
          (a2) => {
            const $13 = onMatch()()()({
              ...object3D(me)(v1),
              color: (x) => v1.setColor({ id: me, color: x }),
              intensity: (x) => v1.setIntensity({ id: me, intensity: x })
            })(case_)(a2);
            return k$1($13);
          }
        )
      ]))(k)();
      const $11 = k(v1.deleteFromCache({ id: me }));
      return () => {
        $11();
        return unsub();
      };
    })
  );
};
const $PointLightOptions = () => ({ tag: "PointLightOptions" });
const identity$d = (x) => x;
const oneOf$o = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const PointLightOptions = /* @__PURE__ */ $PointLightOptions();
const convertOptionPointLightOp = { convertOption: (v) => (v1) => identity$d };
const convertOptionPointLightOp1 = { convertOption: (v) => (v1) => identity$d };
const convertOptionPointLightOp2 = { convertOption: (v) => (v1) => identity$d };
const convertOptionPointLightOp3 = { convertOption: (v) => (v1) => identity$d };
const convertOptionPointLightOp4 = { convertOption: (v) => (v1) => identity$d };
const pointLight$3 = (dictInitialPointLight) => (i$p) => (atts) => {
  const $3 = dictInitialPointLight.toInitializePointLight(i$p);
  return $Entity(
    "Element'",
    (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
      const me = v1.ids();
      parent.raiseId(me)();
      const unsub = mySub(oneOf$o([
        applicativeEvent.pure(v1.makePointLight({
          id: me,
          parent: parent.parent,
          scope: parent.scope,
          pointLight: $3.pointLight,
          color: $3.color,
          intensity: $3.intensity,
          distance: $3.distance,
          decay: $3.decay
        })),
        (b, k$1) => atts(
          b,
          (a2) => {
            const $13 = onMatch()()()({
              ...object3D(me)(v1),
              color: (x) => v1.setColor({ id: me, color: x }),
              intensity: (x) => v1.setIntensity({ id: me, intensity: x }),
              distance: (x) => v1.setDistance({ id: me, distance: x }),
              decay: (x) => v1.setDecay({ id: me, decay: x })
            })(case_)(a2);
            return k$1($13);
          }
        )
      ]))(k)();
      const $11 = k(v1.deleteFromCache({ id: me }));
      return () => {
        $11();
        return unsub();
      };
    })
  );
};
const defaultPointLight = { intensity: 1, distance: 0, decay: 1 };
const globalWebGLRendererPortal = () => () => () => (v) => (c2) => globalPortalSimpleComplex()({
  doLogic: absurd,
  ids: (x) => x.ids,
  disconnectElement: (v1) => (v2) => v1.disconnect({ id: v2.id, scope: v2.scope, parent: v2.parent }),
  toElt: unsafeCoerce
})({
  fromEltO1: unsafeCoerce,
  fromEltO2: unsafeCoerce,
  toElt: unsafeCoerce,
  giveNewParent: (a2) => (v1) => (v2) => a2.webGLRendererConnectionNoop({}),
  deleteFromCache: (x) => x.deleteFromCache
})(v)((() => {
  const $5 = arrayMap((v1) => v1(unit));
  return (x) => c2($5(x));
})());
const globalWebGLRendererPortal1 = () => () => (v) => (c2) => globalWebGLRendererPortal()()()([v])((() => {
  const $4 = indexImpl(0);
  return (x) => c2($4(x));
})());
const globalScenePortal = () => () => () => (v) => (c2) => globalPortalSimpleComplex()({
  doLogic: absurd,
  ids: (x) => x.ids,
  disconnectElement: (v1) => (v2) => v1.disconnect({ id: v2.id, scope: v2.scope, parent: v2.parent }),
  toElt: unsafeCoerce
})({
  fromEltO1: unsafeCoerce,
  fromEltO2: unsafeCoerce,
  toElt: unsafeCoerce,
  giveNewParent: (a2) => (b) => (v1) => a2.connectScene(b),
  deleteFromCache: (x) => x.deleteFromCache
})(v)((() => {
  const $5 = arrayMap((v1) => v1(unit));
  return (x) => c2($5(x));
})());
const globalScenePortal1 = () => () => (v) => (c2) => globalScenePortal()()()([v])((() => {
  const $4 = indexImpl(0);
  return (x) => c2($4(x));
})());
const globalEffectComposerPortal = () => () => () => (v) => (c2) => globalPortalSimpleComplex()({
  doLogic: absurd,
  ids: (x) => x.ids,
  disconnectElement: (v1) => (v2) => v1.disconnect({ id: v2.id, scope: v2.scope, parent: v2.parent }),
  toElt: unsafeCoerce
})({
  fromEltO1: unsafeCoerce,
  fromEltO2: unsafeCoerce,
  toElt: unsafeCoerce,
  giveNewParent: (a2) => (v1) => (v2) => a2.effectComposerConnectionNoop({}),
  deleteFromCache: (x) => x.deleteFromCache
})(v)((() => {
  const $5 = arrayMap((v1) => v1(unit));
  return (x) => c2($5(x));
})());
const globalEffectComposerPortal1 = () => () => (v) => (c2) => globalEffectComposerPortal()()()([v])((() => {
  const $4 = indexImpl(0);
  return (x) => c2($4(x));
})());
const globalCameraPortal = () => () => () => (v) => (c2) => globalPortalSimpleComplex()({
  doLogic: absurd,
  ids: (x) => x.ids,
  disconnectElement: (v1) => (v2) => v1.disconnect({ id: v2.id, scope: v2.scope, parent: v2.parent }),
  toElt: unsafeCoerce
})({
  fromEltO1: unsafeCoerce,
  fromEltO2: unsafeCoerce,
  toElt: unsafeCoerce,
  giveNewParent: (a2) => (b) => (v1) => a2.connectCamera(b),
  deleteFromCache: (x) => x.deleteFromCache
})(v)((() => {
  const $5 = arrayMap((v1) => v1(unit));
  return (x) => c2($5(x));
})());
const globalCameraPortal1 = () => () => (v) => (c2) => globalCameraPortal()()()([v])((() => {
  const $4 = indexImpl(0);
  return (x) => c2($4(x));
})());
const oneOf$n = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const css2DRenderer$1 = (sne) => (cam) => (make) => (props) => $Entity(
  "Element'",
  (psr) => (v) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v.ids();
    psr.raiseId(me)();
    const scope = v.ids();
    const sceneAvar = { value: Nothing };
    const cameraAvar = { value: Nothing };
    const u0 = mySub(oneOf$n([
      sne({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          sceneAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v),
      cam({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          cameraAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v)
    ]))(k0)();
    const sceneLR = sceneAvar.value;
    const cameraLR = cameraAvar.value;
    const u1 = (() => {
      if (sceneLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (sceneLR.tag === "Just") {
        if (cameraLR.tag === "Nothing") {
          return () => () => unit;
        }
        if (cameraLR.tag === "Just") {
          return mySub(oneOf$n([
            applicativeEvent.pure(v.makeCSS2DRenderer({ ...make, id: me, camera: cameraLR._1 })),
            backdoor.makeLemmingEvent((mySub1) => (k) => () => {
              const usuRef = { value: () => unit };
              const unsub = mySub1((b, k$1) => props(
                b,
                (a2) => {
                  const $22 = onMatch()()()({
                    render: (v2) => v.css2DRender({ id: me, scene: sceneLR._1, camera: cameraLR._1 }),
                    size: (v2) => v.setSize({ id: me, width: v2.width, height: v2.height })
                  })(case_)(a2);
                  return k$1($22);
                }
              ))(k)();
              usuRef.value = unsub;
              return () => {
                const usu = usuRef.value;
                return usu();
              };
            })
          ]))(k0);
        }
        fail$3();
      }
      fail$3();
    })()();
    const $17 = k0(v.deleteFromCache({ id: me }));
    return () => {
      $17();
      u0();
      return u1();
    };
  })
);
const oneOf$m = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const css3DRenderer$1 = (sne) => (cam) => (make) => (props) => $Entity(
  "Element'",
  (psr) => (v) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v.ids();
    psr.raiseId(me)();
    const scope = v.ids();
    const sceneAvar = { value: Nothing };
    const cameraAvar = { value: Nothing };
    const u0 = mySub(oneOf$m([
      sne({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          sceneAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v),
      cam({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          cameraAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v)
    ]))(k0)();
    const sceneLR = sceneAvar.value;
    const cameraLR = cameraAvar.value;
    const u1 = (() => {
      if (sceneLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (sceneLR.tag === "Just") {
        if (cameraLR.tag === "Nothing") {
          return () => () => unit;
        }
        if (cameraLR.tag === "Just") {
          return mySub(oneOf$m([
            applicativeEvent.pure(v.makeCSS3DRenderer({ ...make, id: me, camera: cameraLR._1 })),
            backdoor.makeLemmingEvent((mySub1) => (k) => () => {
              const usuRef = { value: () => unit };
              const unsub = mySub1((b, k$1) => props(
                b,
                (a2) => {
                  const $22 = onMatch()()()({
                    render: (v2) => v.css3DRender({ id: me, scene: sceneLR._1, camera: cameraLR._1 }),
                    size: (v2) => v.setSize({ id: me, width: v2.width, height: v2.height })
                  })(case_)(a2);
                  return k$1($22);
                }
              ))(k)();
              usuRef.value = unsub;
              return () => {
                const usu = usuRef.value;
                return usu();
              };
            })
          ]))(k0);
        }
        fail$3();
      }
      fail$3();
    })()();
    const $17 = k0(v.deleteFromCache({ id: me }));
    return () => {
      $17();
      u0();
      return u1();
    };
  })
);
const oneOf$l = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const raycaster$1 = (i2) => (cam) => $Entity(
  "Element'",
  (psr) => (v) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v.ids();
    psr.raiseId(me)();
    const scope = v.ids();
    const cameraAvar = { value: Nothing };
    const u0 = mySub(oneOf$l([
      cam({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (ii) => () => {
          cameraAvar.value = $Maybe("Just", ii);
          return unit;
        }
      })(v)
    ]))(k0)();
    const cameraLR = cameraAvar.value;
    const u1 = (() => {
      if (cameraLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (cameraLR.tag === "Just") {
        return mySub(oneOf$l([applicativeEvent.pure(v.makeRaycaster({ id: me, raycaster: i2.raycaster, canvas: i2.canvas, camera: cameraLR._1 }))]))(k0);
      }
      fail$3();
    })()();
    const $13 = k0(v.deleteFromCache({ id: me }));
    return () => {
      $13();
      u0();
      return u1();
    };
  })
);
const $WebGLRenderingPowerPreference = (tag) => ({ tag });
const Default = /* @__PURE__ */ $WebGLRenderingPowerPreference("Default");
const $WebGLRenderingPrecision = (tag) => ({ tag });
const High = /* @__PURE__ */ $WebGLRenderingPrecision("High");
const $WebGLRendererOptions = () => ({ tag: "WebGLRendererOptions" });
const identity$c = (x) => x;
const oneOf$k = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const WebGLRendererOptions = /* @__PURE__ */ $WebGLRendererOptions();
const convertOptionWebGLRendere10 = { convertOption: (v) => (v1) => identity$c };
const convertOptionWebGLRendere11 = { convertOption: (v) => (v1) => identity$c };
const webGLRenderer$4 = (dictInitialWebGLRenderer) => (sne) => (cam) => (i$p) => (props) => {
  const $5 = dictInitialWebGLRenderer.toInitializeWebGLRenderer(i$p);
  return (psr) => (v1) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v1.ids();
    psr.raiseId(me)();
    const scope = v1.ids();
    const sceneAvar = { value: Nothing };
    const cameraAvar = { value: Nothing };
    const u0 = mySub(oneOf$k([
      sne({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i1) => () => {
          sceneAvar.value = $Maybe("Just", i1);
          return unit;
        }
      })(v1),
      cam({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i1) => () => {
          cameraAvar.value = $Maybe("Just", i1);
          return unit;
        }
      })(v1)
    ]))(k0)();
    const sceneLR = sceneAvar.value;
    const cameraLR = cameraAvar.value;
    const u1 = (() => {
      if (sceneLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (sceneLR.tag === "Just") {
        if (cameraLR.tag === "Nothing") {
          return () => () => unit;
        }
        if (cameraLR.tag === "Just") {
          return mySub(oneOf$k([
            applicativeEvent.pure(v1.makeWebGLRenderer({
              id: me,
              webGLRenderer: $5.webGLRenderer,
              canvas: $5.canvas,
              camera: cameraLR._1,
              precision: $5.precision,
              alpha: $5.alpha,
              premultipliedAlpha: $5.premultipliedAlpha,
              antialias: $5.antialias,
              stencil: $5.stencil,
              preserveDrawingBuffer: $5.preserveDrawingBuffer,
              powerPreference: $5.powerPreference,
              failIfMajorPerformanceCaveat: $5.failIfMajorPerformanceCaveat,
              depth: $5.depth,
              logarithmicDepthBuffer: $5.logarithmicDepthBuffer
            })),
            backdoor.makeLemmingEvent((mySub1) => (k) => () => {
              const usuRef = { value: () => unit };
              const unsub = mySub1((b, k$1) => props(
                b,
                (a2) => {
                  const $24 = onMatch()()()({
                    render: (v3) => v1.webGLRender({ id: me, scene: sceneLR._1, camera: cameraLR._1 }),
                    size: (v3) => v1.setSize({ id: me, width: v3.width, height: v3.height })
                  })(case_)(a2);
                  return k$1($24);
                }
              ))(k)();
              usuRef.value = unsub;
              return () => {
                const usu = usuRef.value;
                return usu();
              };
            })
          ]))(k0);
        }
        fail$3();
      }
      fail$3();
    })()();
    const $19 = k0(v1.deleteFromCache({ id: me }));
    return () => {
      $19();
      u0();
      return u1();
    };
  });
};
const defaultWebGLRenderer = {
  precision: High,
  alpha: false,
  premultipliedAlpha: true,
  antialias: false,
  stencil: true,
  preserveDrawingBuffer: false,
  powerPreference: Default,
  failIfMajorPerformanceCaveat: false,
  depth: true,
  logarithmicDepthBuffer: false
};
const oneOf$j = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const effectComposer$1 = (i2) => (rndr) => (props) => (kidz) => (parent) => (v) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
  const me = v.ids();
  parent.raiseId(me)();
  const scope = v.ids();
  const rendererAvar = { value: Nothing };
  const u0 = mySub(oneOf$j([
    rndr({
      parent: $Maybe("Just", me),
      scope: $Scope("Local", scope),
      raiseId: (iii) => () => {
        rendererAvar.value = $Maybe("Just", iii);
        return unit;
      }
    })(v)
  ]))(k)();
  const rendererLR = rendererAvar.value;
  const u1 = (() => {
    if (rendererLR.tag === "Nothing") {
      return () => () => unit;
    }
    if (rendererLR.tag === "Just") {
      return mySub(oneOf$j([
        applicativeEvent.pure(v.makeEffectComposer({ id: me, effectComposer: i2.effectComposer, webGLRenderer: rendererLR._1 })),
        (b, k$1) => props(
          b,
          (a2) => {
            const $17 = onMatch()()()({ render: (v2) => v.effectComposerRender({ id: me }) })(case_)(a2);
            return k$1($17);
          }
        ),
        flatten({ doLogic: absurd, ids: (x) => x.ids, disconnectElement: (x) => x.disconnectPass, toElt: (v1) => v1 })({
          parent: $Maybe("Just", me),
          scope: parent.scope,
          raiseId: (v1) => () => unit
        })(v)($Entity("FixedChildren'", kidz))
      ]))(k);
    }
    fail$3();
  })()();
  const $15 = k(v.deleteFromCache({ id: me }));
  return () => {
    $15();
    u0();
    return u1();
  };
});
const oneOf$i = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const effectComposerPass$1 = (ii) => (ecomp) => $Entity(
  "Element'",
  (psr) => (v) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v.ids();
    psr.raiseId(me)();
    const scope = v.ids();
    const effectComposerAvar = { value: Nothing };
    const u0 = mySub(oneOf$i([
      ecomp({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          effectComposerAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v)
    ]))(k0)();
    const effectComposerLR = effectComposerAvar.value;
    const u1 = (() => {
      if (effectComposerLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (effectComposerLR.tag === "Just") {
        return mySub(oneOf$i([
          applicativeEvent.pure(v.makeEffectComposerPass({ id: me, parent: psr.parent, effectComposerPass: ii.effectComposerPass, effectComposer: effectComposerLR._1 }))
        ]))(k0);
      }
      fail$3();
    })()();
    const $13 = k0(v.deleteFromCache({ id: me }));
    return () => {
      $13();
      u0();
      return u1();
    };
  })
);
const oneOf$h = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const renderPass$1 = (ii) => (sne) => (cam) => $Entity(
  "Element'",
  (psr) => (v) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
    const me = v.ids();
    psr.raiseId(me)();
    const scope = v.ids();
    const sceneAvar = { value: Nothing };
    const cameraAvar = { value: Nothing };
    const u0 = mySub(oneOf$h([
      sne({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          sceneAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v),
      cam({
        parent: $Maybe("Just", me),
        scope: $Scope("Local", scope),
        raiseId: (i2) => () => {
          cameraAvar.value = $Maybe("Just", i2);
          return unit;
        }
      })(v)
    ]))(k0)();
    const sceneLR = sceneAvar.value;
    const cameraLR = cameraAvar.value;
    const u1 = (() => {
      if (sceneLR.tag === "Nothing") {
        return () => () => unit;
      }
      if (sceneLR.tag === "Just") {
        if (cameraLR.tag === "Nothing") {
          return () => () => unit;
        }
        if (cameraLR.tag === "Just") {
          return mySub(oneOf$h([applicativeEvent.pure(v.makeRenderPass({ id: me, parent: psr.parent, renderPass: ii.renderPass, camera: cameraLR._1, scene: sceneLR._1 }))]))(k0);
        }
        fail$3();
      }
      fail$3();
    })()();
    const $16 = k0(v.deleteFromCache({ id: me }));
    return () => {
      $16();
      u0();
      return u1();
    };
  })
);
const $UnrealBloomPassOptions = () => ({ tag: "UnrealBloomPassOptions" });
const identity$b = (x) => x;
const oneOf$g = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const UnrealBloomPassOptions = /* @__PURE__ */ $UnrealBloomPassOptions();
const convertOptionUnrealBloomP = { convertOption: (v) => (v1) => identity$b };
const convertOptionUnrealBloomP1 = { convertOption: (v) => (v1) => identity$b };
const convertOptionUnrealBloomP2 = { convertOption: (v) => (v1) => identity$b };
const convertOptionUnrealBloomP3 = { convertOption: (v) => (v1) => identity$b };
const convertOptionUnrealBloomP4 = { convertOption: (v) => (v1) => identity$b };
const unrealBloomPass$3 = (dictInitialUnrealBloomPass) => (ii$p) => (propz) => {
  const $3 = dictInitialUnrealBloomPass.toInitializeUnrealBloomPass(ii$p);
  return $Entity(
    "Element'",
    (psr) => (v1) => backdoor.makeLemmingEvent((mySub) => (k0) => () => {
      const me = v1.ids();
      psr.raiseId(me)();
      const u1 = mySub(oneOf$g([
        applicativeEvent.pure(v1.makeUnrealBloomPass({
          id: me,
          parent: psr.parent,
          unrealBloomPass: $3.unrealBloomPass,
          resolution: $3.resolution,
          strength: $3.strength,
          radius: $3.radius,
          threshold: $3.threshold
        })),
        (b, k) => propz(
          b,
          (a2) => {
            const $13 = onMatch()()()({
              resolution: (x) => v1.setResolution({ id: me, resolution: x }),
              strength: (x) => v1.setStrength({ id: me, strength: x }),
              radius: (x) => v1.setRadius({ id: me, radius: x }),
              threshold: (x) => v1.setThreshold({ id: me, threshold: x })
            })(case_)(a2);
            return k($13);
          }
        )
      ]))(k0)();
      const $11 = k0(v1.deleteFromCache({ id: me }));
      return () => {
        $11();
        return u1();
      };
    })
  );
};
const defaultUnrealBloomPass = {};
const undefinedImpl = void 0;
const GLOBAL_SCOPE = "@global@";
const genericMake_ = (ctor) => (conn) => (a2) => (state) => () => {
  const { id: id2, scope, parent, ...rest } = a2;
  const $scope = scope ? scope : GLOBAL_SCOPE;
  if (!state.scopes[$scope]) {
    state.scopes[$scope] = [];
  }
  state.scopes[$scope].push(id2);
  state.units[id2] = {
    listeners: {},
    parent,
    scope: $scope,
    main: ctor(rest)
  };
  if (parent === void 0) {
    return;
  }
  conn(state.units[id2], state.units[parent]);
};
const stripUndefined_ = (a2) => {
  const out = { ...a2 };
  for (const key in a2) {
    if (a2[key] === void 0) {
      delete out[key];
    }
  }
  return out;
};
const connectToScene_ = (a2) => (state) => () => state.units[a2.parent].main.add(state.units[a2.id].main);
const connectMesh_ = (a2) => (state) => () => state.units[a2.parent].main.add(state.units[a2.id].main);
const connectGeometry_ = (a2) => (state) => () => {
  state.units[a2.parent].main.geometry = state.units[a2.id].main;
};
const connectScene_ = (a2) => (state) => () => {
};
const connectCamera_ = (a2) => (state) => () => {
  if (state.units[a2.parent] && (state.units[a2.parent].main.isScene || state.units[a2.parent].main.isGroup)) {
    state.units[a2.parent].main.add(state.units[a2.id].main);
  }
};
const connectMaterial_ = (a2) => (state) => () => {
  state.units[a2.parent].main.material = state.units[a2.id].main;
};
const withAtts = (f) => (ctor) => {
  const o = f(ctor);
  const bufferAttributes = Object.entries(ctor.bufferAttributes);
  for (var i2 = 0; i2 < bufferAttributes.length; i2++) {
    o.setAttribute(bufferAttributes[i2][0], bufferAttributes[i2][1]);
  }
  const instancedBufferAttributes3 = Object.entries(
    ctor.instancedBufferAttributes
  );
  for (var i2 = 0; i2 < instancedBufferAttributes3.length; i2++) {
    o.setAttribute(
      instancedBufferAttributes3[i2][0],
      instancedBufferAttributes3[i2][1]
    );
  }
  return o;
};
const makeBox_ = genericMake_(
  withAtts(
    (ctor) => new ctor.box(
      ctor.width,
      ctor.height,
      ctor.depth,
      ctor.widthSegments,
      ctor.heightSegments,
      ctor.depthSegments
    )
  )
)((x, y) => {
  y.main.geometry = x.main;
});
const makePlane_ = genericMake_(
  withAtts(
    (ctor) => new ctor.plane(
      ctor.width,
      ctor.height,
      ctor.widthSegments,
      ctor.heightSegments
    )
  )
)((x, y) => {
  y.main.geometry = x.main;
});
const makeBufferGeometry_ = genericMake_(
  withAtts((ctor) => new ctor.bufferGeometry())
)((x, y) => {
  y.main.geometry = x.main;
});
const makeCapsule_ = genericMake_(
  withAtts(
    (ctor) => new ctor.capsule(
      ctor.radius,
      ctor.length,
      ctor.capSegments,
      ctor.radialSegments
    )
  )
)((x, y) => {
  y.main.geometry = x.main;
});
const makeCylinder_ = genericMake_(
  withAtts(
    (ctor) => new ctor.cylinder(
      ctor.radiusTop,
      ctor.radiusBottom,
      ctor.height,
      ctor.radialSegments,
      ctor.heightSegments,
      ctor.openEnded,
      ctor.thetaStart,
      ctor.thetaLength
    )
  )
)((x, y) => {
  y.main.geometry = x.main;
});
const makeSphere_ = genericMake_(
  withAtts(
    (ctor) => new ctor.sphere(
      ctor.radius,
      ctor.widthSegments,
      ctor.heightSegments,
      ctor.phiStart,
      ctor.phiLength,
      ctor.thetaStart,
      ctor.thetaLength
    )
  )
)((x, y) => {
  y.main.geometry = x.main;
});
const makePerspectiveCamera_ = (a2) => (state) => () => {
  genericMake_(
    (ctor) => new ctor.perspectiveCamera(ctor.fov, ctor.aspect, ctor.near, ctor.far)
  )(() => {
  })(a2)(state)();
};
const makeGLTFCamera_ = (a2) => (state) => () => {
  genericMake_(({ camera }) => camera)(() => {
  })(a2)(state)();
};
const ascSort = function(a2, b) {
  return a2.distance - b.distance;
};
const makeInstancedMesh_ = (a2) => (state) => () => {
  const _instanceLocalMatrix = /* @__PURE__ */ new a2.matrix4();
  const _instanceWorldMatrix = /* @__PURE__ */ new a2.matrix4();
  const _instanceIntersects = [];
  const _mesh = /* @__PURE__ */ new a2.mesh();
  class MyInstancedMesh extends a2.instancedMesh {
    constructor(geometry2, material2, count2) {
      super(geometry2, material2, count2);
    }
    raycastInstances(raycaster2, instances, intersects) {
      const matrixWorld = this.matrixWorld;
      const raycastTimes = instances !== void 0 ? instances.length : this.count;
      _mesh.geometry = this.geometry;
      _mesh.material = this.material;
      if (_mesh.material === void 0)
        return;
      for (let i2 = 0; i2 < raycastTimes; i2++) {
        const instanceId = instances !== void 0 ? instances[i2] : i2;
        this.getMatrixAt(instanceId, _instanceLocalMatrix);
        _instanceWorldMatrix.multiplyMatrices(
          matrixWorld,
          _instanceLocalMatrix
        );
        _mesh.matrixWorld = _instanceWorldMatrix;
        _mesh.raycast(raycaster2, _instanceIntersects);
        for (let i3 = 0, l2 = _instanceIntersects.length; i3 < l2; i3++) {
          const intersect = _instanceIntersects[i3];
          intersect.instanceId = instanceId;
          intersect.object = this;
          intersects.push(intersect);
        }
        _instanceIntersects.length = 0;
      }
    }
  }
  const { id: id2, scope, parent, geometry, material, count } = a2;
  const $scope = scope ? scope : GLOBAL_SCOPE;
  if (!state.scopes[$scope]) {
    state.scopes[$scope] = [];
  }
  state.scopes[$scope].push(id2);
  state.units[id2] = {
    listeners: {},
    parent,
    scope: $scope,
    main: new MyInstancedMesh(
      state.units[geometry].main,
      state.units[material].main,
      count
    )
  };
  if (parent === void 0) {
    return;
  }
  state.units[parent].main.add(state.units[id2].main);
};
const makeMesh_ = genericMake_((ctor) => new ctor.mesh())((x, y) => {
  y.main.add(x.main);
});
const makePoints_ = genericMake_((ctor) => new ctor.points())((x, y) => {
  y.main.add(x.main);
});
const makeCSS2DObject_ = genericMake_(
  (ctor) => new ctor.css2DObject(ctor.nut)
)((x, y) => {
  y.main.add(x.main);
});
const makeCSS3DObject_ = genericMake_(
  (ctor) => new ctor.css3DObject(ctor.nut)
)((x, y) => {
  y.main.add(x.main);
});
const makeAmbientLight_ = genericMake_((ctor) => {
  return new ctor.ambientLight(ctor.color, ctor.intensity);
})((x, y) => {
  y.main.add(x.main);
});
const makeDirectionalLight_ = genericMake_(
  (ctor) => new ctor.directionalLight(ctor.color, ctor.intensity)
)((x, y) => {
  y.main.add(x.main);
});
const makePointLight_ = genericMake_(
  (ctor) => new ctor.pointLight(ctor.color, ctor.intensity, ctor.distance, ctor.decay)
)((x, y) => {
  y.main.add(x.main);
});
const withMaterialParameters_ = (f) => (c2) => {
  const o = f(c2);
  const kv = Object.entries(c2.materialParameters);
  kv.forEach(([k, v]) => {
    o[k] = v;
  });
  return o;
};
const makeShaderMaterial_ = genericMake_(
  withMaterialParameters_(
    ({ parameters: { shaderMaterial: shaderMaterial2, ...options } }) => new shaderMaterial2(options)
  )
)((x, y) => {
  y.main.material = x.main;
});
const makeRawShaderMaterial_ = genericMake_(
  withMaterialParameters_(
    ({ parameters: { rawShaderMaterial, ...options } }) => new rawShaderMaterial(options)
  )
)((x, y) => {
  y.main.material = x.main;
});
const makeMeshBasicMaterial_ = genericMake_(
  withMaterialParameters_(
    ({ parameters: { meshBasicMaterial, ...options } }) => new meshBasicMaterial(options)
  )
)((x, y) => {
  y.main.material = x.main;
});
const makeMeshPhongMaterial_ = genericMake_(
  withMaterialParameters_(
    ({ parameters: { meshPhongMaterial: meshPhongMaterial2, ...options } }) => new meshPhongMaterial2(options)
  )
)((x, y) => {
  y.main.material = x.main;
});
const makeMeshStandardMaterial_ = genericMake_(
  withMaterialParameters_(
    ({ parameters: { meshStandardMaterial: meshStandardMaterial2, ...options } }) => new meshStandardMaterial2(options)
  )
)((x, y) => {
  y.main.material = x.main;
});
const setSize_ = (a2) => (state) => () => {
  state.units[a2.id].main.setSize(a2.width, a2.height);
};
const setSizeThroughEffectComposer_ = (a2) => (state) => () => {
  state.units[a2.id].main.renderer.setSize(a2.width, a2.height);
};
const makeScene_ = genericMake_((ctor) => new ctor.scene())(() => {
});
const makeGroup_ = genericMake_((ctor) => new ctor.group())((x, y) => {
  y.main.add(x.main);
});
const makeGLTFGroup_ = genericMake_(({ group: group2 }) => group2)((x, y) => {
  y.main.add(x.main);
});
const effectComposerRender_ = (a2) => (state) => () => {
  state.units[a2.id].main.render();
};
const webGLRender_ = (a2) => (state) => () => {
  state.units[a2.id].main.render(
    state.units[a2.scene].main,
    state.units[a2.camera].main
  );
};
const css2DRender_ = (a2) => (state) => () => {
  state.units[a2.id].main.render(
    state.units[a2.scene].main,
    state.units[a2.camera].main
  );
};
const css3DRender_ = (a2) => (state) => () => {
  state.units[a2.id].main.render(
    state.units[a2.scene].main,
    state.units[a2.camera].main
  );
};
const getAllTouches = (tl) => {
  const o = [];
  for (let i2 = 0; i2 < tl.length; i2++) {
    o.push(tl.item(i2));
  }
  return o;
};
const intersectInstance = (raycaster2, mesh2, instances, intersects = []) => {
  if (mesh2.layers.test(raycaster2.layers)) {
    mesh2.raycastInstances(raycaster2, instances, intersects);
  }
  intersects.sort(ascSort);
  return intersects;
};
const doFinalThunk = (e2, eventName, state) => {
  if (eventName === "mouseup") {
    const entries = Object.entries(state.listeners["upformousedown"]);
    entries.forEach(([k, val]) => {
      val(e2)();
    });
    state.listeners["upformousedown"] = {};
  } else if (eventName === "touchend") {
    const vals = Object.values(state.listeners["endfortouchstart"]);
    vals.forEach((val) => {
      val(e2)();
    });
    state.listeners["endfortouchstart"] = {};
  } else if (eventName === "touchcancel") {
    const vals = Object.values(state.listeners["cancelfortouchstart"]);
    vals.forEach((val) => {
      val(e2)();
    });
    state.listeners["cancelfortouchstart"] = {};
  }
};
const assignThunk = (k, thunk, eventName, state) => {
  if (eventName === "mousedown") {
    state.listeners["upformousedown"][k] = thunk;
  } else if (eventName === "touchstart") {
    state.listeners["endfortouchstart"][k] = thunk.end;
    state.listeners["cancelfortouchstart"][k] = thunk.cancel;
  }
};
const makeRenderPass_ = (a2) => (state) => () => {
  const pass = new a2.renderPass(
    state.units[a2.scene].main,
    state.units[a2.camera].main
  );
  state.units[a2.id] = { main: pass };
  if (a2.parent !== void 0) {
    state.units[a2.parent].main.addPass(pass);
  }
};
const makeRaycaster_ = (a2) => (state) => () => {
  setUpForRaycasting(a2, state);
};
const makeGlitchPass_ = (a2) => (state) => () => {
  const pass = new a2.glitchPass(a2.dtSize);
  state.units[a2.id] = { main: pass };
  if (a2.parent !== void 0) {
    state.units[a2.parent].main.addPass(pass);
  }
};
const makeEffectComposerPass_ = (a2) => (state) => () => {
  const pass = new a2.effectComposerPass(state.units[a2.effectComposer].main);
  state.units[a2.id] = { main: pass };
  if (a2.parent !== void 0) {
    state.units[a2.parent].main.addPass(pass);
  }
};
const makeBloomPass_ = (a2) => (state) => () => {
  const pass = new a2.bloomPass(
    a2.strength,
    a2.kernelSize,
    a2.sigma,
    a2.resolution
  );
  state.units[a2.id] = { main: pass };
  if (a2.parent !== void 0) {
    state.units[a2.parent].main.addPass(pass);
  }
};
const makeUnrealBloomPass_ = (a2) => (state) => () => {
  const pass = new a2.unrealBloomPass(a2.resolution, a2.strength, a2.radius, a2.threshold);
  state.units[a2.id] = { main: pass };
  if (a2.parent !== void 0) {
    state.units[a2.parent].main.addPass(pass);
  }
};
const makeEffectComposer_ = (a2) => (state) => () => {
  const myId = a2.id;
  const effectComposer2 = new a2.effectComposer(state.units[a2.webGLRenderer].main);
  state.units[myId] = {
    main: effectComposer2
  };
};
const setUpForRaycasting = (parameters, state) => {
  const raycaster2 = new parameters.raycaster();
  const camera = state.units[parameters.camera].main;
  const makeListener = (eventName) => {
    parameters.canvas.addEventListener(eventName, ($e) => {
      const entries = Object.entries(state.listeners[eventName]);
      const es = eventName.indexOf("touch") !== -1 ? getAllTouches($e.touches) : [$e];
      doFinalThunk($e, eventName, state);
      if (entries.length > 0) {
        es.forEach((e2) => {
          const x = e2.clientX / window.innerWidth * 2 - 1;
          const y = -(e2.clientY / window.innerHeight) * 2 + 1;
          raycaster2.setFromCamera({ x, y }, camera);
          entries.forEach(([k, v]) => {
            const u = state.units[k].main;
            const intersects = raycaster2.intersectObject(u);
            if (intersects.length > 0) {
              const thunk = v(e2)();
              assignThunk(k, thunk, eventName, state);
            }
          });
        });
      }
      const instancedEntries = Object.entries(
        state.listeners[eventName + "Instanced"]
      );
      if (instancedEntries.length > 0) {
        es.forEach((e2) => {
          const x = e2.clientX / window.innerWidth * 2 - 1;
          const y = -(e2.clientY / window.innerHeight) * 2 + 1;
          raycaster2.setFromCamera({ x, y }, camera);
          instancedEntries.forEach(([k, v]) => {
            const u = state.units[k].main;
            Object.entries(v).forEach(([kk, vv]) => {
              const intersects = intersectInstance(raycaster2, u, [kk]);
              if (intersects.length > 0) {
                const thunk = vv(e2)();
                assignThunk(kk, thunk, eventName, state);
              }
            });
          });
        });
      }
    });
  };
  makeListener("click");
  makeListener("mousedown");
  makeListener("mouseup");
  makeListener("mousemove");
  makeListener("touchstart");
  makeListener("touchend");
  makeListener("touchmove");
  makeListener("touchcancel");
};
const makeWebGLRendererInternal_ = (a2, state) => {
  const { id: id2, ...parameters } = a2;
  const canvas = parameters.canvas;
  const renderer = new a2.webGLRenderer(parameters);
  state.units[a2.id] = { main: renderer };
  renderer.setSize(canvas.width, canvas.height);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
};
const makeWebGLRenderer_ = (a2) => (state) => () => {
  makeWebGLRendererInternal_(a2, state);
};
const makeCSS2DRenderer_ = (a2) => (state) => () => {
  const { id: id2, canvas, element } = a2;
  const renderer = new a2.css2DRenderer({ element });
  renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
  state.units[id2] = { main: renderer };
};
const makeCSS3DRenderer_ = (a2) => (state) => () => {
  const { id: id2, canvas, element } = a2;
  const renderer = new a2.css3DRenderer({ element });
  renderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
  state.units[id2] = { main: renderer };
};
const setOnClick_ = (a2) => (state) => () => {
  state.listeners.click[a2.id] = a2.onClick;
};
const setOnMouseDown_ = (a2) => (state) => () => {
  state.listeners.mousedown[a2.id] = a2.onMouseDown;
};
const setOnMouseUp_ = (a2) => (state) => () => {
  state.listeners.mouseup[a2.id] = a2.onMouseUp;
};
const setOnMouseMove_ = (a2) => (state) => () => {
  state.listeners.mousemove[a2.id] = a2.onMouseMove;
};
const setOnTouchStart_ = (a2) => (state) => () => {
  state.listeners.touchstart[a2.id] = a2.onTouchStart;
};
const setOnTouchEnd_ = (a2) => (state) => () => {
  state.listeners.touchend[a2.id] = a2.onTouchEnd;
};
const setOnTouchMove_ = (a2) => (state) => () => {
  state.listeners.touchmove[a2.id] = a2.onTouchMove;
};
const setOnTouchCancel_ = (a2) => (state) => () => {
  state.listeners.touchcancel[a2.id] = a2.onTouchCancel;
};
const removeOnClick_ = (a2) => (state) => () => {
  delete state.listeners.click[a2.id];
};
const removeOnMouseDown_ = (a2) => (state) => () => {
  delete state.listeners.mousedown[a2.id];
};
const removeOnMouseUp_ = (a2) => (state) => () => {
  delete state.listeners.mouseup[a2.id];
};
const removeOnMouseMove_ = (a2) => (state) => () => {
  delete state.listeners.mousemove[a2.id];
};
const removeOnTouchStart_ = (a2) => (state) => () => {
  delete state.listeners.touchstart[a2.id];
};
const removeOnTouchEnd_ = (a2) => (state) => () => {
  delete state.listeners.touchend[a2.id];
};
const removeOnTouchMove_ = (a2) => (state) => () => {
  delete state.listeners.touchmove[a2.id];
};
const removeOnTouchCancel_ = (a2) => (state) => () => {
  delete state.listeners.touchcancel[a2.id];
};
const setIMOnClick_ = (a2) => (state) => () => {
  if (!state.listeners.clickInstanced[a2.id]) {
    state.listeners.clickInstanced[a2.id] = {};
  }
  state.listeners.clickInstanced[a2.id][a2.instanceId] = a2.onClick;
};
const setIMOnMouseDown_ = (a2) => (state) => () => {
  if (!state.listeners.mousedownInstanced[a2.id]) {
    state.listeners.mousedownInstanced[a2.id] = {};
  }
  state.listeners.mousedownInstanced[a2.id][a2.instanceId] = a2.onMouseDown;
};
const setIMOnMouseUp_ = (a2) => (state) => () => {
  if (!state.listeners.mouseupInstanced[a2.id]) {
    state.listeners.mouseupInstanced[a2.id] = {};
  }
  state.listeners.mouseupInstanced[a2.id][a2.instanceId] = a2.onMouseUp;
};
const setIMOnMouseMove_ = (a2) => (state) => () => {
  if (!state.listeners.mousemoveInstanced[a2.id]) {
    state.listeners.mousemoveInstanced[a2.id] = {};
  }
  state.listeners.mousemoveInstanced[a2.id][a2.instanceId] = a2.onMouseMove;
};
const setIMOnTouchStart_ = (a2) => (state) => () => {
  if (!state.listeners.touchstartInstanced[a2.id]) {
    state.listeners.touchstartInstanced[a2.id] = {};
  }
  state.listeners.touchstartInstanced[a2.id][a2.instanceId] = a2.onTouchStart;
};
const setIMOnTouchEnd_ = (a2) => (state) => () => {
  if (!state.listeners.touchendInstanced[a2.id]) {
    state.listeners.touchendInstanced[a2.id] = {};
  }
  state.listeners.touchendInstanced[a2.id][a2.instanceId] = a2.onTouchEnd;
};
const setIMOnTouchMove_ = (a2) => (state) => () => {
  if (!state.listeners.touchmoveInstanced[a2.id]) {
    state.listeners.touchmoveInstanced[a2.id] = {};
  }
  state.listeners.touchmoveInstanced[a2.id][a2.instanceId] = a2.onTouchMove;
};
const setIMOnTouchCancel_ = (a2) => (state) => () => {
  if (!state.listeners.touchcancelInstanced[a2.id]) {
    state.listeners.touchcancelInstanced[a2.id] = {};
  }
  state.listeners.touchcancelInstanced[a2.id][a2.instanceId] = a2.onTouchCancel;
};
const removeIMOnClick_ = (a2) => (state) => () => {
  delete state.listeners.clickInstanced[a2.id][a2.instanceId];
};
const removeIMOnMouseDown_ = (a2) => (state) => () => {
  delete state.listeners.mousedownInstanced[a2.id][a2.instanceId];
};
const removeIMOnMouseUp_ = (a2) => (state) => () => {
  delete state.listeners.mouseupInstanced[a2.id][a2.instanceId];
};
const removeIMOnMouseMove_ = (a2) => (state) => () => {
  delete state.listeners.mousemoveInstanced[a2.id][a2.instanceId];
};
const removeIMOnTouchStart_ = (a2) => (state) => () => {
  delete state.listeners.touchstartInstanced[a2.id][a2.instanceId];
};
const removeIMOnTouchEnd_ = (a2) => (state) => () => {
  delete state.listeners.touchendInstanced[a2.id][a2.instanceId];
};
const removeIMOnTouchMove_ = (a2) => (state) => () => {
  delete state.listeners.touchmoveInstanced[a2.id][a2.instanceId];
};
const removeIMOnTouchCancel_ = (a2) => (state) => () => {
  delete state.listeners.touchcancelInstanced[a2.id][a2.instanceId];
};
const setWidth_ = (a2) => (state) => () => {
  state.units[a2.id].main.width = a2.width;
};
const setHeight_ = (a2) => (state) => () => {
  state.units[a2.id].main.height = a2.height;
};
const setDepth_ = (a2) => (state) => () => {
  state.units[a2.id].main.depth = a2.depth;
};
const setLength_ = (a2) => (state) => () => {
  state.units[a2.id].main.length = a2.length;
};
const setAlphaTest_ = (a2) => (state) => () => {
  state.units[a2.id].main.alphaTest = a2.alphaTest;
};
const setAlphaToCoverage_ = (a2) => (state) => () => {
  state.units[a2.id].main.alphaToCoverage = a2.alphaToCoverage;
};
const setBlendDst_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendDst = a2.blendDst;
};
const setBlendDstAlpha_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendDstAlpha = a2.blendDstAlpha;
};
const setBlendEquation_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendEquation = a2.blendEquation;
};
const setBlendEquationAlpha_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendEquationAlpha = a2.blendEquationAlpha;
};
const setBlending_ = (a2) => (state) => () => {
  state.units[a2.id].main.blending = a2.blending;
};
const setBlendSrc_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendSrc = a2.blendSrc;
};
const setBlendSrcAlpha_ = (a2) => (state) => () => {
  state.units[a2.id].main.blendSrcAlpha = a2.blendSrcAlpha;
};
const setClipIntersection_ = (a2) => (state) => () => {
  state.units[a2.id].main.clipIntersection = a2.clipIntersection;
};
const setClipShadows_ = (a2) => (state) => () => {
  state.units[a2.id].main.clipShadows = a2.clipShadows;
};
const setColorWrite_ = (a2) => (state) => () => {
  state.units[a2.id].main.colorWrite = a2.colorWrite;
};
const setDepthFunc_ = (a2) => (state) => () => {
  state.units[a2.id].main.depthFunc = a2.depthFunc;
};
const setDepthTest_ = (a2) => (state) => () => {
  state.units[a2.id].main.depthTest = a2.depthTest;
};
const setDepthWrite_ = (a2) => (state) => () => {
  state.units[a2.id].main.depthWrite = a2.depthWrite;
};
const setOpacity_ = (a2) => (state) => () => {
  state.units[a2.id].main.opacity = a2.opacity;
};
const setPolygonOffset_ = (a2) => (state) => () => {
  state.units[a2.id].main.polygonOffset = a2.polygonOffset;
};
const setPolygonOffsetFactor_ = (a2) => (state) => () => {
  state.units[a2.id].main.polygonOffsetFactor = a2.polygonOffsetFactor;
};
const setPolygonOffsetUnits_ = (a2) => (state) => () => {
  state.units[a2.id].main.polygonOffsetUnits = a2.polygonOffsetUnits;
};
const setPrecision_ = (a2) => (state) => () => {
  state.units[a2.id].main.precision = a2.precision;
};
const setPremultipliedAlpha_ = (a2) => (state) => () => {
  state.units[a2.id].main.premultipliedAlpha = a2.premultipliedAlpha;
};
const setDithering_ = (a2) => (state) => () => {
  state.units[a2.id].main.dithering = a2.dithering;
};
const setShadowSide_ = (a2) => (state) => () => {
  state.units[a2.id].main.shadowSide = a2.shadowSide;
};
const setSide_ = (a2) => (state) => () => {
  state.units[a2.id].main.side = a2.side;
};
const setToneMapped_ = (a2) => (state) => () => {
  state.units[a2.id].main.toneMapped = a2.toneMapped;
};
const setTransparent_ = (a2) => (state) => () => {
  state.units[a2.id].main.transparent = a2.transparent;
};
const setVertexColors_ = (a2) => (state) => () => {
  state.units[a2.id].main.vertexColors = a2.vertexColors;
};
const setVisible_ = (a2) => (state) => () => {
  state.units[a2.id].main.visible = a2.visible;
};
const setBackgroundColor_ = (a2) => (state) => () => {
  state.units[a2.id].main.background = a2.color;
};
const setBackgroundTexture_ = (a2) => (state) => () => {
  state.units[a2.id].main.background = a2.texture;
};
const setBackgroundCubeTexture_ = (a2) => (state) => () => {
  state.units[a2.id].main.background = a2.cubeTexture;
};
const setThreshold_$1 = (a2) => (state) => () => {
  state.units[a2.id].main.threshold = a2.threshold;
};
const setStrength_ = (a2) => (state) => () => {
  state.units[a2.id].main.strength = a2.strength;
};
const setResolution_ = (a2) => (state) => () => {
  state.units[a2.id].main.resolution = a2.resolution;
};
const setRadius_ = (a2) => (state) => () => {
  state.units[a2.id].main.radius = a2.radius;
};
const setWidthSegments_ = (a2) => (state) => () => {
  state.units[a2.id].main.widthSegments = a2.widthSegments;
};
const setHeightSegments_ = (a2) => (state) => () => {
  state.units[a2.id].main.heightSegments = a2.heightSegments;
};
const setDepthSegments_ = (a2) => (state) => () => {
  state.units[a2.id].main.depthSegments = a2.depthSegments;
};
const setCapSegments_ = (a2) => (state) => () => {
  state.units[a2.id].main.capSegments = a2.capSegments;
};
const setRadialSegments_ = (a2) => (state) => () => {
  state.units[a2.id].main.radialSegments = a2.radialSegments;
};
const setPhiStart_ = (a2) => (state) => () => {
  state.units[a2.id].main.phiStart = a2.phiStart;
};
const setPhiLength_ = (a2) => (state) => () => {
  state.units[a2.id].main.phiLength = a2.phiLength;
};
const setThetaStart_ = (a2) => (state) => () => {
  state.units[a2.id].main.thetaStart = a2.thetaStart;
};
const setThetaLength_ = (a2) => (state) => () => {
  state.units[a2.id].main.thetaLength = a2.thetaLength;
};
const setMatrix4_ = (a2) => (state) => () => {
  state.units[a2.id].main.applyMatrix4(a2.matrix4);
};
const setQuaternion_ = (a2) => (state) => () => {
  state.units[a2.id].main.applyQuaternion(a2.quaternion);
};
const setRotateX_ = (a2) => (state) => () => {
  state.units[a2.id].main.rotateX(a2.rotateX);
};
const setRotateY_ = (a2) => (state) => () => {
  state.units[a2.id].main.rotateY(a2.rotateY);
};
const setRotateZ_ = (a2) => (state) => () => {
  state.units[a2.id].main.rotateZ(a2.rotateZ);
};
const setTranslate_ = (a2) => (state) => () => {
  state.units[a2.id].main.translate(a2.x, a2.y, a2.z);
};
const setScale_ = (a2) => (state) => () => {
  state.units[a2.id].main.scale(a2.x, a2.y, a2.z);
};
const setScaleX_ = (a2) => (state) => () => {
  state.units[a2.id].main.scale.x = a2.scaleX;
};
const setScaleY_ = (a2) => (state) => () => {
  state.units[a2.id].main.scale.y = a2.scaleY;
};
const setScaleZ_ = (a2) => (state) => () => {
  state.units[a2.id].main.scale.z = a2.scaleZ;
};
const setLookAt_ = (a2) => (state) => () => {
  state.units[a2.id].main.lookAt(a2.v);
};
const setCenter_ = (a2) => (state) => () => {
  state.units[a2.id].main.center();
};
const getBoundingBox_ = (a2) => (state) => () => {
  state.units[a2.id].main.computeBoundingBox();
  a2.box(state.units[a2.id].main.boundingBox)();
};
const getBoundingSphere_ = (a2) => (state) => () => {
  state.units[a2.id].main.computeBoundingSphere();
  a2.box(state.units[a2.id].main.boundingSphere)();
};
const setInstancedMeshMatrix4_ = (a2) => (state) => () => {
  const u = state.units[a2.id].main;
  let updated = false;
  a2.setMatrix4((i2) => (m) => () => {
    updated = true;
    u.setMatrixAt(i2, m);
  })();
  u.instanceMatrix.needsUpdate = updated;
};
const setInstancedMeshColor_ = (a2) => (state) => () => {
  const u = state.units[a2.id].main;
  let updated = false;
  a2.setColor((i2) => (c2) => () => {
    updated = true;
    u.setColorAt(i2, c2);
  })();
  u.instanceColor.needsUpdate = updated;
};
const setSingleInstancedMeshMatrix4_ = (a2) => (state) => () => {
  const u = state.units[a2.id].main;
  u.setMatrixAt(a2.instanceId, a2.matrix4);
  u.instanceMatrix.needsUpdate = true;
};
const setSingleInstancedMeshColor_ = (a2) => (state) => () => {
  const u = state.units[a2.id].main;
  u.setColorAt(a2.instanceId, a2.color);
  u.instanceColor.needsUpdate = true;
};
const setCombine_ = (a2) => (state) => () => {
  state.units[a2.id].main.combine = a2.combine;
};
const setFog_ = (a2) => (state) => () => {
  state.units[a2.id].main.fog = a2.fog;
};
const setReflectivity_ = (a2) => (state) => () => {
  state.units[a2.id].main.reflectivity = a2.reflectivity;
};
const setRefractionRatio_ = (a2) => (state) => () => {
  state.units[a2.id].main.refractionRatio = a2.refractionRatio;
};
const setShininess_ = (a2) => (state) => () => {
  state.units[a2.id].main.shininess = a2.shininess;
};
const setSpecular_ = (a2) => (state) => () => {
  state.units[a2.id].main.specular = a2.specular;
};
const setSpecularMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.specularMap = a2.specularMap;
};
const setWireframeLinecap_ = (a2) => (state) => () => {
  state.units[a2.id].main.wireframeLinecap = a2.wireframeLinecap;
};
const setWireframeLinejoin_ = (a2) => (state) => () => {
  state.units[a2.id].main.wireframeLinejoin = a2.wireframeLinejoin;
};
const setColor_ = (a2) => (state) => () => {
  state.units[a2.id].main.color = a2.color;
};
const setRoughness_ = (a2) => (state) => () => {
  state.units[a2.id].main.roughness = a2.roughness;
};
const setMetalness_ = (a2) => (state) => () => {
  state.units[a2.id].main.metalness = a2.metalness;
};
const setMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.map = a2.map;
};
const setLightMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.lightMap = a2.lightMap;
};
const setLightMapIntensity_ = (a2) => (state) => () => {
  state.units[a2.id].main.lightMapIntensity = a2.lightMapIntensity;
};
const setAoMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.aoMap = a2.aoMap;
};
const setAoMapIntensity_ = (a2) => (state) => () => {
  state.units[a2.id].main.aoMapIntensity = a2.aoMapIntensity;
};
const setEmissive_ = (a2) => (state) => () => {
  state.units[a2.id].main.emissive = a2.emissive;
};
const setEmissiveIntensity_ = (a2) => (state) => () => {
  state.units[a2.id].main.emissiveIntensity = a2.emissiveIntensity;
};
const setEmissiveMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.emissiveMap = a2.emissiveMap;
};
const setBumpMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.bumpMap = a2.bumpMap;
};
const setBumpScale_ = (a2) => (state) => () => {
  state.units[a2.id].main.bumpScale = a2.bumpScale;
};
const setNormalMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.normalMap = a2.normalMap;
};
const setNormalMapType_ = (a2) => (state) => () => {
  state.units[a2.id].main.normalMapType = a2.normalMapType;
};
const setNormalScale_ = (a2) => (state) => () => {
  state.units[a2.id].main.normalScale = a2.normalScale;
};
const setDisplacementMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.displacementMap = a2.displacementMap;
};
const setDisplacementScale_ = (a2) => (state) => () => {
  state.units[a2.id].main.displacementScale = a2.displacementScale;
};
const setDisplacementBias_ = (a2) => (state) => () => {
  state.units[a2.id].main.displacementBias = a2.displacementBias;
};
const setRoughnessMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.roughnessMap = a2.roughnessMap;
};
const setMetalnessMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.metalnessMap = a2.metalnessMap;
};
const setAlphaMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.alphaMap = a2.alphaMap;
};
const setEnvMap_ = (a2) => (state) => () => {
  state.units[a2.id].main.envMap = a2.envMap;
};
const setEnvMapIntensity_ = (a2) => (state) => () => {
  state.units[a2.id].main.envMapIntensity = a2.envMapIntensity;
};
const setWireframe_ = (a2) => (state) => () => {
  state.units[a2.id].main.wireframe = a2.wireframe;
};
const setWireframeLinewidth_ = (a2) => (state) => () => {
  state.units[a2.id].main.wireframeLinewidth = a2.wireframeLinewidth;
};
const setFlatShading_ = (a2) => (state) => () => {
  state.units[a2.id].main.flatShading = a2.flatShading;
};
const setDistance_ = (a2) => (state) => () => {
  state.units[a2.id].main.distance = a2.distance;
};
const setDecay_ = (a2) => (state) => () => {
  state.units[a2.id].main.decay = a2.decay;
};
const setIntensity_ = (a2) => (state) => () => {
  state.units[a2.id].main.intensity = a2.intensity;
};
const setRotationFromAxisAngle_ = (a2) => (state) => () => {
  state.units[a2.id].main.setRotationFromAxisAngle(a2.axis, a2.angle);
};
const setRotationFromEuler_ = (a2) => (state) => () => {
  state.units[a2.id].main.setRotationFromEuler(a2.euler);
};
const setRotationFromMatrix_ = (a2) => (state) => () => {
  state.units[a2.id].main.setRotationFromMatrix(a2.matrix4);
};
const setRotationFromQuaternion_ = (a2) => (state) => () => {
  state.units[a2.id].main.setRotationFromQuaternion(a2.quaternion);
};
const setRotateOnAxis_ = (a2) => (state) => () => {
  state.units[a2.id].main.rotateOnAxis(a2.axis, a2.angle);
};
const setRotateOnWorldAxis_ = (a2) => (state) => () => {
  state.units[a2.id].main.rotateOnWorldAxis(a2.axis, a2.angle);
};
const setTranslateOnAxis_ = (a2) => (state) => () => {
  state.units[a2.id].main.translateOnAxis(a2.axis, a2.distance);
};
const setTranslateX_ = (a2) => (state) => () => {
  state.units[a2.id].main.translateX(a2.translateX);
};
const setTranslateY_ = (a2) => (state) => () => {
  state.units[a2.id].main.translateY(a2.translateY);
};
const setTranslateZ_ = (a2) => (state) => () => {
  state.units[a2.id].main.translateZ(a2.translateZ);
};
const setPositionX_ = (a2) => (state) => () => {
  state.units[a2.id].main.position.x = a2.positionX;
};
const setPositionY_ = (a2) => (state) => () => {
  state.units[a2.id].main.position.y = a2.positionY;
};
const setPositionZ_ = (a2) => (state) => () => {
  state.units[a2.id].main.position.z = a2.positionZ;
};
const setUniform_ = (a2) => (state) => () => {
  state.units[a2.id].main.uniforms[a2.key].value = a2.value;
};
const setAspect_ = (a2) => (state) => () => {
  state.units[a2.id].main.aspect = a2.aspect;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFar_ = (a2) => (state) => () => {
  state.units[a2.id].main.far = a2.far;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFilmGauge_ = (a2) => (state) => () => {
  state.units[a2.id].main.filmGauge = a2.filmGauge;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFilmOffset_ = (a2) => (state) => () => {
  state.units[a2.id].main.filmOffset = a2.filmOffset;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFocus_ = (a2) => (state) => () => {
  state.units[a2.id].main.focus = a2.focus;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFov_ = (a2) => (state) => () => {
  state.units[a2.id].main.fov = a2.fov;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setNear_ = (a2) => (state) => () => {
  state.units[a2.id].main.updateProjectionMatrix();
  state.units[a2.id].main.near = a2.near;
};
const setZoom_ = (a2) => (state) => () => {
  state.units[a2.id].main.zoom = a2.zoom;
  state.units[a2.id].main.updateProjectionMatrix();
};
const setFocalLength_ = (a2) => (state) => () => {
  state.units[a2.id].main.setFocalLength(a2.focalLength);
};
const setViewOffset_ = ({ id: id2, fullWidth, fullHeight, x, y, width, height }) => (state) => () => {
  state.units[id2].main.setViewOffset(
    fullWidth,
    fullHeight,
    x,
    y,
    width,
    height
  );
};
const makeFFIThreeSnapshot = () => {
  return {
    units: {},
    scopes: {},
    listeners: {
      click: {},
      mousemove: {},
      mouseup: {},
      mousedown: {},
      touchstart: {},
      touchend: {},
      touchmove: {},
      touchcancel: {},
      clickInstanced: {},
      mousemoveInstanced: {},
      mouseupInstanced: {},
      mousedownInstanced: {},
      touchstartInstanced: {},
      touchendInstanced: {},
      touchmoveInstanced: {},
      touchcancelInstanced: {},
      upformousedown: {},
      endfortouchstart: {},
      cancelfortouchstart: {}
    }
  };
};
function disconnect_(a2) {
  return function(state) {
    return function() {
      const ptr = a2.id;
      state.units[ptr].main.removeFromParent();
      if (a2.scope !== GLOBAL_SCOPE) {
        if (state.units[ptr].main.isBufferGeometry || state.units[ptr].main.isMaterial) {
          state.units[ptr].main.dispose();
        }
      }
    };
  };
}
function disconnectPass_(a2) {
  return function(state) {
    return function() {
      const ptr = a2.id;
      const parent = a2.parent;
      state.units[parent].main.removePass(state.units[ptr].main);
    };
  };
}
function deleteFromCache_$1(a2) {
  return function(state) {
    return function() {
      if (!state.units[a2.id].main.isScene && state.units[a2.id].main.dispose) {
        state.units[a2.id].main.dispose();
      }
      if (state.units[a2.id].main.removeFromParent) {
        state.units[a2.id].main.removeFromParent();
      }
      delete state.units[a2.id];
    };
  };
}
const identity$a = (x) => x;
const identity1 = (x) => x;
const mempty = (v) => (v$1) => () => unit;
const fFIMeWireframeLinejoinStr = {
  ffiMe: (v) => {
    if (v.tag === "Round") {
      return "round";
    }
    if (v.tag === "Bevel") {
      return "bevel";
    }
    if (v.tag === "Miter") {
      return "miter";
    }
    fail$3();
  }
};
const fFIMeWireframeLinecapStri = {
  ffiMe: (v) => {
    if (v.tag === "Butt") {
      return "butt";
    }
    if (v.tag === "Round") {
      return "round";
    }
    if (v.tag === "Square") {
      return "square";
    }
    fail$3();
  }
};
const fFIMeWebGLRenderingPrecis = {
  ffiMe: (v) => {
    if (v.tag === "High") {
      return "highp";
    }
    if (v.tag === "Medium") {
      return "mediump";
    }
    if (v.tag === "Low") {
      return "lowp";
    }
    fail$3();
  }
};
const fFIMeWebGLRenderingPowerP = {
  ffiMe: (v) => {
    if (v.tag === "High") {
      return "high-performance";
    }
    if (v.tag === "Default") {
      return "default";
    }
    if (v.tag === "Low") {
      return "low-power";
    }
    fail$3();
  }
};
const fFIMeVector2Vector2 = { ffiMe: identity$a };
const fFIMeTWebGLRendererTWebGL = { ffiMe: identity$a };
const fFIMeTUnrealBloomPassTUnr = { ffiMe: identity$a };
const fFIMeTSphereGeometryTSphe = { ffiMe: identity$a };
const fFIMeTShaderMaterialTShad = { ffiMe: identity$a };
const fFIMeTSceneTScene = { ffiMe: identity$a };
const fFIMeTRenderPassTRenderPa = { ffiMe: identity$a };
const fFIMeTRaycasterTRaycaster = { ffiMe: identity$a };
const fFIMeTRawShaderMaterialTR = { ffiMe: identity$a };
const fFIMeTPointsTPoints = { ffiMe: identity$a };
const fFIMeTPointLightTPointLig = { ffiMe: identity$a };
const fFIMeTPlaneGeometryTPlane = { ffiMe: identity$a };
const fFIMeTPerspectiveCameraTP = { ffiMe: identity$a };
const fFIMeTMeshTMesh = { ffiMe: identity$a };
const fFIMeTMeshStandardMateria = { ffiMe: identity$a };
const fFIMeTMeshPhongMaterialTM = { ffiMe: identity$a };
const fFIMeTMeshBasicMaterialTM = { ffiMe: identity$a };
const fFIMeTMatrix4TMatrix4 = { ffiMe: identity$a };
const fFIMeTInstancedMeshTInsta = { ffiMe: identity$a };
const fFIMeTGroupTGroup = { ffiMe: identity$a };
const fFIMeTGlitchPassTGlitchPa = { ffiMe: identity$a };
const fFIMeTEffectComposerTEffe = { ffiMe: identity$a };
const fFIMeTEffectComposerPassT = { ffiMe: identity$a };
const fFIMeTDirectionalLightTDi = { ffiMe: identity$a };
const fFIMeTCylinderGeometryTCy = { ffiMe: identity$a };
const fFIMeTCapsuleGeometryTCap = { ffiMe: identity$a };
const fFIMeTCSS3DRendererTCSS3D = { ffiMe: identity$a };
const fFIMeTCSS3DObjectTCSS3DOb = { ffiMe: identity$a };
const fFIMeTCSS2DRendererTCSS2D = { ffiMe: identity$a };
const fFIMeTCSS2DObjectTCSS2DOb = { ffiMe: identity$a };
const fFIMeTBufferGeometryTBuff = { ffiMe: identity$a };
const fFIMeTBoxGeometryTBoxGeom = { ffiMe: identity$a };
const fFIMeTBloomPassTBloomPass = { ffiMe: identity$a };
const fFIMeTAmbientLightTAmbien = { ffiMe: identity$a };
const fFIMeStringString = { ffiMe: identity$a };
const fFIMeScopeUndefinableStri = {
  ffiMe: (v) => {
    if (v.tag === "Global") {
      return undefinedImpl;
    }
    if (v.tag === "Local") {
      return v._1;
    }
    fail$3();
  }
};
const fFIMeRawGroupRawGroup = { ffiMe: identity$a };
const fFIMeRawCameraRawCamera = { ffiMe: identity$a };
const fFIMeNumberNumber = { ffiMe: identity$a };
const fFIMeNormalMapTypeInt = {
  ffiMe: (v) => {
    if (v.tag === "TangentSpaceNormalMap") {
      return 0;
    }
    if (v.tag === "ObjectSpaceNormalMap") {
      return 1;
    }
    fail$3();
  }
};
const fFIMeIntInt = { ffiMe: identity$a };
const fFIMeHTMLCanvasElementHTM = { ffiMe: identity$a };
const fFIMeForeignForeign = { ffiMe: identity$a };
const fFIMeElementElement = { ffiMe: identity$a };
const fFIMeCombineOperationInt = {
  ffiMe: (v) => {
    if (v.tag === "MultiplyOperation") {
      return 0;
    }
    if (v.tag === "MixOperation") {
      return 1;
    }
    if (v.tag === "AddOperation") {
      return 2;
    }
    fail$3();
  }
};
const fFIMeColorColor = { ffiMe: identity$a };
const fFIMeBooleanBoolean = { ffiMe: identity$a };
const fFIIzeNilRow = { "ffiize'": (v) => (v1) => identity1 };
const ffiize = () => (dictFFIIze) => (i2) => stripUndefined_(dictFFIIze["ffiize'"]($$Proxy)(i2)({}));
const fFIIzeCons = (dictIsSymbol) => (dictFFIMe) => (dictFFIIze) => () => () => () => () => ({
  "ffiize'": (v) => (i2) => {
    const $9 = insert$1()()(dictIsSymbol)($$Proxy)(dictFFIMe.ffiMe(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(i2)));
    const $10 = dictFFIIze["ffiize'"]($$Proxy)(i2);
    return (x) => $9($10(x));
  }
});
const ffiize2 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "effectComposer" })(fFIMeTEffectComposerTEffe)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "webGLRenderer" })(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()());
const ffiize3 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "alpha" })(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "antialias"
})(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "canvas" })(fFIMeHTMLCanvasElementHTM)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "depth"
})(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "failIfMajorPerformanceCaveat" })(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "logarithmicDepthBuffer" })(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "powerPreference"
})(fFIMeWebGLRenderingPowerP)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "precision" })(fFIMeWebGLRenderingPrecis)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "premultipliedAlpha"
})(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "preserveDrawingBuffer" })(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "stencil" })(fFIMeBooleanBoolean)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "webGLRenderer"
})(fFIMeTWebGLRendererTWebGL)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()());
const fFIIzeCons14 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeNilRow)()()()();
const fFIIzeCons15 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "element" })(fFIMeElementElement)(fFIIzeCons14)()()()();
const ffiize4 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "canvas" })(fFIMeHTMLCanvasElementHTM)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "css2DRenderer"
})(fFIMeTCSS2DRendererTCSS2D)(fFIIzeCons15)()()()())()()()())()()()());
const ffiize5 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "canvas" })(fFIMeHTMLCanvasElementHTM)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "css3DRenderer"
})(fFIMeTCSS3DRendererTCSS3D)(fFIIzeCons15)()()()())()()()())()()()());
const ffiize6 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "canvas" })(fFIMeHTMLCanvasElementHTM)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "raycaster" })(fFIMeTRaycasterTRaycaster)(fFIIzeNilRow)()()()())()()()())()()()())()()()());
const fFIIzeCons17 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "scope" })(fFIMeScopeUndefinableStri)(fFIIzeNilRow)()()()();
const fFIIzeCons24 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "widthSegments" })(fFIMeIntInt)(fFIIzeNilRow)()()()();
const fFIIzeCons25 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "scope" })(fFIMeScopeUndefinableStri)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "width" })(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()();
const fFIIzeCons31 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "uniforms" })(fFIMeForeignForeign)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "vertexShader" })(fFIMeStringString)(fFIIzeNilRow)()()()())()()()();
const fFIIzeCons33 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "normalMapType" });
const ffiize7 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "normalMapType"
})(fFIMeNormalMapTypeInt)(fFIIzeNilRow)()()()())()()()());
const ffiize8 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "combine" })(fFIMeCombineOperationInt)(fFIIzeCons14)()()()());
const ffiize9 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "wireframeLinecap"
})(fFIMeWireframeLinecapStri)(fFIIzeNilRow)()()()())()()()());
const ffiize10 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "wireframeLinejoin"
})(fFIMeWireframeLinejoinStr)(fFIIzeNilRow)()()()())()()()());
const ffiize11 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parent"
})({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "renderPass" })(fFIMeTRenderPassTRenderPa)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "scene" })(fFIMeStringString)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()());
const fFIIzeCons37 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeNilRow)()()()())()()()();
const ffiize12 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "effectComposer" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "effectComposerPass"
})(fFIMeTEffectComposerPassT)(fFIIzeCons37)()()()())()()()());
const ffiize13 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "dtSize" })(fFIMeIntInt)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "glitchPass" })(fFIMeTGlitchPassTGlitchPa)(fFIIzeCons37)()()()())()()()());
const ffiize14 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "bloomPass" })(fFIMeTBloomPassTBloomPass)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "kernelSize" })(fFIMeIntInt)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "resolution" })(fFIMeIntInt)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "sigma" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "strength"
})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()());
const ffiize15 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "radius" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "resolution" })(fFIMeVector2Vector2)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "strength"
})(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "threshold" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "unrealBloomPass" })(fFIMeTUnrealBloomPassTUnr)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()());
const ffiize16 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "scene" })(fFIMeTSceneTScene)(fFIIzeCons17)()()()())()()()())()()()());
const fFIIzeCons38 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons17)()()()();
const fFIIzeCons39 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons38)()()()();
const ffiize17 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "group" })(fFIMeTGroupTGroup)(fFIIzeCons39)()()()());
const ffiize18 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "group" })(fFIMeRawGroupRawGroup)(fFIIzeCons39)()()()());
const fFIIzeCons40 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "mesh" })(fFIMeTMeshTMesh)(fFIIzeCons38)()()()();
const ffiize19 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons40)()()()());
const ffiize20 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "points" })(fFIMeTPointsTPoints)(fFIIzeCons17)()()()())()()()())()()()());
const ffiize21 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "count" })(fFIMeIntInt)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "geometry" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "instancedMesh" })(fFIMeTInstancedMeshTInsta)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "material" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "matrix4"
})(fFIMeTMatrix4TMatrix4)(fFIIzeCons40)()()()())()()()())()()()())()()()())()()()())()()()());
const fFIIzeCons41 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "intensity" })(fFIMeNumberNumber)(fFIIzeCons38)()()()())()()()();
const ffiize22 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "color" })(fFIMeColorColor)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "directionalLight"
})(fFIMeTDirectionalLightTDi)(fFIIzeCons41)()()()())()()()());
const ffiize23 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "ambientLight" })(fFIMeTAmbientLightTAmbien)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "color"
})(fFIMeColorColor)(fFIIzeCons41)()()()())()()()());
const ffiize24 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "color" })(fFIMeColorColor)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "decay" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "distance"
})(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "intensity" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parent"
})({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "pointLight" })(fFIMeTPointLightTPointLig)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()());
const ffiize25 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "aspect" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "far" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "fov"
})(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "near" })(fFIMeNumberNumber)(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parent"
})({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "perspectiveCamera" })(fFIMeTPerspectiveCameraTP)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()());
const ffiize26 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "camera" })(fFIMeRawCameraRawCamera)(fFIIzeCons39)()()()());
const fFIMeMaybeUndefinable1 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable2 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      if (x._1.tag === "ZeroFactor") {
        return 200;
      }
      if (x._1.tag === "OneFactor") {
        return 201;
      }
      if (x._1.tag === "SrcColorFactor") {
        return 202;
      }
      if (x._1.tag === "OneMinusSrcColorFactor") {
        return 203;
      }
      if (x._1.tag === "SrcAlphaFactor") {
        return 204;
      }
      if (x._1.tag === "OneMinusSrcAlphaFactor") {
        return 205;
      }
      if (x._1.tag === "DstAlphaFactor") {
        return 206;
      }
      if (x._1.tag === "OneMinusDstAlphaFactor") {
        return 207;
      }
      if (x._1.tag === "DstColorFactor") {
        return 208;
      }
      if (x._1.tag === "OneMinusDstColorFactor") {
        return 209;
      }
      fail$3();
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable3 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      if (x._1.tag === "AddEquation") {
        return 100;
      }
      if (x._1.tag === "SubtractEquation") {
        return 101;
      }
      if (x._1.tag === "ReverseSubtractEquation") {
        return 102;
      }
      if (x._1.tag === "MinEquation") {
        return 103;
      }
      if (x._1.tag === "MaxEquation") {
        return 104;
      }
      fail$3();
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable4 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      if (x._1.tag === "ZeroFactor") {
        return 200;
      }
      if (x._1.tag === "OneFactor") {
        return 201;
      }
      if (x._1.tag === "SrcColorFactor") {
        return 202;
      }
      if (x._1.tag === "OneMinusSrcColorFactor") {
        return 203;
      }
      if (x._1.tag === "SrcAlphaFactor") {
        return 204;
      }
      if (x._1.tag === "OneMinusSrcAlphaFactor") {
        return 205;
      }
      if (x._1.tag === "DstAlphaFactor") {
        return 206;
      }
      if (x._1.tag === "OneMinusDstAlphaFactor") {
        return 207;
      }
      if (x._1.tag === "DstColorFactor") {
        return 208;
      }
      if (x._1.tag === "OneMinusDstColorFactor") {
        return 209;
      }
      if (x._1.tag === "SrcAlphaSaturateFactor") {
        return 210;
      }
      fail$3();
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable5 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable6 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable7 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      if (x._1.tag === "FrontSide") {
        return 0;
      }
      if (x._1.tag === "BackSide") {
        return 1;
      }
      if (x._1.tag === "DoubleSide") {
        return 2;
      }
      fail$3();
    }
    return undefinedImpl;
  }
};
const fFIIzeCons42 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "materialParameters" })({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "alphaTest" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "alphaToCoverage"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "blendDst" })(fFIMeMaybeUndefinable2)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "blendDstAlpha" })(fFIMeMaybeUndefinable2)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "blendEquation"
  })(fFIMeMaybeUndefinable3)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "blendEquationAlpha" })(fFIMeMaybeUndefinable3)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "blendSrc"
  })(fFIMeMaybeUndefinable4)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "blendSrcAlpha" })(fFIMeMaybeUndefinable4)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "blending" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "NoBlending") {
          return 0;
        }
        if (x._1.tag === "NormalBlending") {
          return 1;
        }
        if (x._1.tag === "AdditiveBlending") {
          return 2;
        }
        if (x._1.tag === "SubtractiveBlending") {
          return 3;
        }
        if (x._1.tag === "MultiplyBlending") {
          return 4;
        }
        if (x._1.tag === "CustomBlending") {
          return 5;
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "clipIntersection" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "clipShadows" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "colorWrite"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "depthFunc" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "NeverDepth") {
          return 0;
        }
        if (x._1.tag === "AlwaysDepth") {
          return 1;
        }
        if (x._1.tag === "LessDepth") {
          return 2;
        }
        if (x._1.tag === "LessEqualDepth") {
          return 3;
        }
        if (x._1.tag === "EqualDepth") {
          return 4;
        }
        if (x._1.tag === "GreaterEqualDepth") {
          return 5;
        }
        if (x._1.tag === "GreaterDepth") {
          return 6;
        }
        if (x._1.tag === "NotEqualDepth") {
          return 7;
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "depthTest" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "depthWrite" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "dithering"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "opacity" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "polygonOffset" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "polygonOffsetFactor"
  })(fFIMeMaybeUndefinable6)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "polygonOffsetUnits" })(fFIMeMaybeUndefinable6)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "precision"
  })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "LowP") {
          return "lowp";
        }
        if (x._1.tag === "MediumP") {
          return "mediump";
        }
        if (x._1.tag === "HighP") {
          return "highp";
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "premultipliedAlpha" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "shadowSide" })(fFIMeMaybeUndefinable7)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "side"
  })(fFIMeMaybeUndefinable7)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "toneMapped" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "transparent" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "vertexColors"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "visible" })(fFIMeMaybeUndefinable5)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())
});
const ffiize27 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons42(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parameters"
})({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "fragmentShader" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "rawShaderMaterial"
  })(fFIMeTRawShaderMaterialTR)(fFIIzeCons31)()()()())()()()())
})(fFIIzeCons38)()()()())()()()())()()()());
const ffiize28 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons42(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parameters"
})({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "fragmentShader" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "shaderMaterial"
  })(fFIMeTShaderMaterialTShad)(fFIIzeCons31)()()()())()()()())
})(fFIIzeCons38)()()()())()()()())()()()());
const fFIMeMaybeUndefinable8 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
};
const fFIMeMaybeUndefinable9 = {
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
};
const fFIIzeCons61 = /* @__PURE__ */ fFIIzeCons33({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      if (x._1.tag === "TangentSpaceNormalMap") {
        return 0;
      }
      if (x._1.tag === "ObjectSpaceNormalMap") {
        return 1;
      }
      fail$3();
    }
    return undefinedImpl;
  }
});
const fFIIzeCons64 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "wireframeLinewidth" })(fFIMeMaybeUndefinable1)(fFIIzeNilRow)()()()();
const ffiize29 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons42(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parameters"
})({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "alphaMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "aoMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "aoMapIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "bumpMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "bumpScale" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "color"
  })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "combine" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "MultiplyOperation") {
          return 0;
        }
        if (x._1.tag === "MixOperation") {
          return 1;
        }
        if (x._1.tag === "AddOperation") {
          return 2;
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "displacementBias" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "displacementMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "displacementScale"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "emissive" })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "emissiveIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "emissiveMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "envMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "flatShading"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "fog" })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "lightMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "lightMapIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "map" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "meshPhongMaterial" })(fFIMeTMeshPhongMaterialTM)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "normalMap"
  })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons61(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "normalScale" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        return x._1;
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "reflectivity" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "refractionRatio" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "shininess"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "specular" })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "specularMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "wireframe"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "wireframeLinecap" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "Butt") {
          return "butt";
        }
        if (x._1.tag === "Round") {
          return "round";
        }
        if (x._1.tag === "Square") {
          return "square";
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "wireframeLinejoin" })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        if (x._1.tag === "Round") {
          return "round";
        }
        if (x._1.tag === "Bevel") {
          return "bevel";
        }
        if (x._1.tag === "Miter") {
          return "miter";
        }
        fail$3();
      }
      return undefinedImpl;
    }
  })(fFIIzeCons64)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())
})(fFIIzeCons38)()()()())()()()())()()()());
const fFIIzeCons65 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "wireframe" })(fFIMeMaybeUndefinable5)(fFIIzeCons64)()()()();
const ffiize30 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons42(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parameters"
})({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "alphaMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "aoMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "aoMapIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "color" })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "envMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "lightMap"
  })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "lightMapIntensity" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "map" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "meshBasicMaterial"
  })(fFIMeTMeshBasicMaterialTM)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())
})(fFIIzeCons38)()()()())()()()())()()()());
const ffiize31 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons42(/* @__PURE__ */ fFIIzeCons({
  reflectSymbol: () => "parameters"
})({
  ffiMe: /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "alphaMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "aoMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "aoMapIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "bumpMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "bumpScale" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "color"
  })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "displacementBias" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "displacementMap"
  })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "displacementScale" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "emissive"
  })(fFIMeMaybeUndefinable9)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "emissiveIntensity" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "emissiveMap"
  })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "envMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "envMapIntensity" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "flatShading"
  })(fFIMeMaybeUndefinable5)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "lightMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "lightMapIntensity"
  })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "map" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "meshStandardMaterial"
  })(fFIMeTMeshStandardMateria)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "metalness" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "metalnessMap"
  })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "normalMap" })(fFIMeMaybeUndefinable8)(/* @__PURE__ */ fFIIzeCons61(/* @__PURE__ */ fFIIzeCons({
    reflectSymbol: () => "normalScale"
  })({
    ffiMe: (x) => {
      if (x.tag === "Just") {
        return x._1;
      }
      return undefinedImpl;
    }
  })(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "roughness" })(fFIMeMaybeUndefinable1)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "roughnessMap" })(fFIMeMaybeUndefinable8)(fFIIzeCons65)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())
})(fFIIzeCons38)()()()())()()()())()()()());
const fFIIzeCons66 = /* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "nut" })(fFIMeElementElement)(fFIIzeCons38)()()()())()()()();
const ffiize32 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "css2DObject" })(fFIMeTCSS2DObjectTCSS2DOb)(fFIIzeCons66)()()()());
const ffiize33 = /* @__PURE__ */ ffiize()(/* @__PURE__ */ fFIIzeCons({ reflectSymbol: () => "css3DObject" })(fFIMeTCSS3DObjectTCSS3DOb)(fFIIzeCons66)()()()());
const ffiize34 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "capSegments"
})(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "capsule" })(fFIMeTCapsuleGeometryTCap)(fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons({
  reflectSymbol: () => "instancedBufferAttributes"
})({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({ reflectSymbol: () => "length" })(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons({ reflectSymbol: () => "radialSegments" })(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "radius" })(fFIMeNumberNumber)(fFIIzeCons17)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))();
const ffiize35 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "cylinder"
})(fFIMeTCylinderGeometryTCy)(fFIIzeCons({ reflectSymbol: () => "height" })(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "heightSegments" })(fFIMeIntInt)(fFIIzeCons({
  reflectSymbol: () => "id"
})(fFIMeStringString)(fFIIzeCons({ reflectSymbol: () => "instancedBufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "openEnded"
})(fFIMeBooleanBoolean)(fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons({ reflectSymbol: () => "radialSegments" })(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "radiusBottom" })(fFIMeNumberNumber)(fFIIzeCons({
  reflectSymbol: () => "radiusTop"
})(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "scope" })(fFIMeScopeUndefinableStri)(fFIIzeCons({ reflectSymbol: () => "thetaLength" })(fFIMeNumberNumber)(fFIIzeCons({
  reflectSymbol: () => "thetaStart"
})(fFIMeNumberNumber)(fFIIzeNilRow)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))();
const ffiize36 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "heightSegments"
})(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons({ reflectSymbol: () => "instancedBufferAttributes" })({
  ffiMe: functorObject.map(identity$a)
})(fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons({ reflectSymbol: () => "phiLength" })(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "phiStart" })(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "radius" })(fFIMeNumberNumber)(fFIIzeCons({
  reflectSymbol: () => "scope"
})(fFIMeScopeUndefinableStri)(fFIIzeCons({ reflectSymbol: () => "sphere" })(fFIMeTSphereGeometryTSphe)(fFIIzeCons({ reflectSymbol: () => "thetaLength" })(fFIMeNumberNumber)(fFIIzeCons({
  reflectSymbol: () => "thetaStart"
})(fFIMeNumberNumber)(fFIIzeCons24)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))();
const ffiize37 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "box" })(fFIMeTBoxGeometryTBoxGeom)(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({
  ffiMe: functorObject.map(identity$a)
})(fFIIzeCons({ reflectSymbol: () => "depth" })(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "depthSegments" })(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "height" })(fFIMeNumberNumber)(fFIIzeCons({
  reflectSymbol: () => "heightSegments"
})(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons({ reflectSymbol: () => "instancedBufferAttributes" })({
  ffiMe: functorObject.map(identity$a)
})(fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()())()()()()))();
const ffiize38 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "height"
})(fFIMeNumberNumber)(fFIIzeCons({ reflectSymbol: () => "heightSegments" })(fFIMeIntInt)(fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons({
  reflectSymbol: () => "instancedBufferAttributes"
})({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({ reflectSymbol: () => "parent" })({
  ffiMe: (x) => {
    if (x.tag === "Just") {
      return x._1;
    }
    return undefinedImpl;
  }
})(fFIIzeCons({ reflectSymbol: () => "plane" })(fFIMeTPlaneGeometryTPlane)(fFIIzeCons25)()()()())()()()())()()()())()()()())()()()())()()()())()()()()))();
const ffiize39 = /* @__PURE__ */ (() => ffiize()(fFIIzeCons({ reflectSymbol: () => "bufferAttributes" })({ ffiMe: functorObject.map(identity$a) })(fFIIzeCons({
  reflectSymbol: () => "bufferGeometry"
})(fFIMeTBufferGeometryTBuff)(fFIIzeCons({ reflectSymbol: () => "id" })(fFIMeStringString)(fFIIzeCons({ reflectSymbol: () => "instancedBufferAttributes" })({
  ffiMe: functorObject.map(identity$a)
})(fFIIzeCons38)()()()())()()()())()()()())()()()()))();
const effectfulThreeInterpret = (seed) => ({
  ids: () => {
    const s2 = seed.value;
    const $2 = seed.value;
    seed.value = 1 + $2 | 0;
    return showIntImpl(arbInt.arbitrary({
      newSeed: (() => {
        const n$p = intMod(s2)(2147483645);
        if (n$p < 1) {
          return n$p + 2147483646 | 0;
        }
        return n$p;
      })(),
      size: 5
    })._1);
  },
  effectComposerRender: effectComposerRender_,
  webGLRender: webGLRender_,
  css2DRender: css2DRender_,
  css3DRender: css3DRender_,
  makeRenderPass: (x) => makeRenderPass_(ffiize11(x)),
  makeEffectComposerPass: (x) => makeEffectComposerPass_(ffiize12(x)),
  makeGlitchPass: (x) => makeGlitchPass_(ffiize13(x)),
  makeBloomPass: (x) => makeBloomPass_(ffiize14(x)),
  makeUnrealBloomPass: (x) => makeUnrealBloomPass_(ffiize15(x)),
  makeEffectComposer: (x) => makeEffectComposer_(ffiize2(x)),
  makeWebGLRenderer: (x) => makeWebGLRenderer_(ffiize3(x)),
  makeCSS2DRenderer: (x) => makeCSS2DRenderer_(ffiize4(x)),
  makeCSS3DRenderer: (x) => makeCSS3DRenderer_(ffiize5(x)),
  makeRaycaster: (x) => makeRaycaster_(ffiize6(x)),
  makeScene: (x) => makeScene_(ffiize16(x)),
  makeGroup: (x) => makeGroup_(ffiize17(x)),
  makeGLTFGroup: (x) => makeGLTFGroup_(ffiize18(x)),
  makeMesh: (x) => makeMesh_(ffiize19(x)),
  makePoints: (x) => makePoints_(ffiize20(x)),
  makeInstancedMesh: (x) => makeInstancedMesh_(ffiize21(x)),
  makeCapsule: (x) => makeCapsule_(ffiize34(x)),
  makeCylinder: (x) => makeCylinder_(ffiize35(x)),
  makeSphere: (x) => makeSphere_(ffiize36(x)),
  makeBox: (x) => makeBox_(ffiize37(x)),
  makePlane: (x) => makePlane_(ffiize38(x)),
  makeBufferGeometry: (x) => makeBufferGeometry_(ffiize39(x)),
  makeDirectionalLight: (x) => makeDirectionalLight_(ffiize22(x)),
  makeAmbientLight: (x) => makeAmbientLight_(ffiize23(x)),
  makePointLight: (x) => makePointLight_(ffiize24(x)),
  makePerspectiveCamera: (x) => makePerspectiveCamera_(ffiize25(x)),
  makeGLTFCamera: (x) => makeGLTFCamera_(ffiize26(x)),
  makeRawShaderMaterial: (x) => makeRawShaderMaterial_(ffiize27(x)),
  makeShaderMaterial: (x) => makeShaderMaterial_(ffiize28(x)),
  makeMeshPhongMaterial: (x) => makeMeshPhongMaterial_(ffiize29(x)),
  makeMeshBasicMaterial: (x) => makeMeshBasicMaterial_(ffiize30(x)),
  makeMeshStandardMaterial: (x) => makeMeshStandardMaterial_(ffiize31(x)),
  makeCSS2DObject: (x) => makeCSS2DObject_(ffiize32(x)),
  makeCSS3DObject: (x) => makeCSS3DObject_(ffiize33(x)),
  setBackgroundCubeTexture: setBackgroundCubeTexture_,
  setBackgroundTexture: setBackgroundTexture_,
  setBackgroundColor: setBackgroundColor_,
  setOnClick: setOnClick_,
  setOnMouseDown: setOnMouseDown_,
  setOnMouseUp: setOnMouseUp_,
  setOnMouseMove: setOnMouseMove_,
  setOnTouchStart: setOnTouchStart_,
  setOnTouchEnd: setOnTouchEnd_,
  setOnTouchMove: setOnTouchMove_,
  setOnTouchCancel: setOnTouchCancel_,
  removeOnClick: removeOnClick_,
  removeOnMouseDown: removeOnMouseDown_,
  removeOnMouseUp: removeOnMouseUp_,
  removeOnMouseMove: removeOnMouseMove_,
  removeOnTouchStart: removeOnTouchStart_,
  removeOnTouchEnd: removeOnTouchEnd_,
  removeOnTouchMove: removeOnTouchMove_,
  removeOnTouchCancel: removeOnTouchCancel_,
  setIMOnClick: setIMOnClick_,
  setIMOnMouseDown: setIMOnMouseDown_,
  setIMOnMouseUp: setIMOnMouseUp_,
  setIMOnMouseMove: setIMOnMouseMove_,
  setIMOnTouchStart: setIMOnTouchStart_,
  setIMOnTouchEnd: setIMOnTouchEnd_,
  setIMOnTouchMove: setIMOnTouchMove_,
  setIMOnTouchCancel: setIMOnTouchCancel_,
  removeIMOnClick: removeIMOnClick_,
  removeIMOnMouseDown: removeIMOnMouseDown_,
  removeIMOnMouseUp: removeIMOnMouseUp_,
  removeIMOnMouseMove: removeIMOnMouseMove_,
  removeIMOnTouchStart: removeIMOnTouchStart_,
  removeIMOnTouchEnd: removeIMOnTouchEnd_,
  removeIMOnTouchMove: removeIMOnTouchMove_,
  removeIMOnTouchCancel: removeIMOnTouchCancel_,
  setWidth: setWidth_,
  setHeight: setHeight_,
  setDepth: setDepth_,
  setLength: setLength_,
  setCapSegments: setCapSegments_,
  setRadialSegments: setRadialSegments_,
  setRadius: setRadius_,
  setWidthSegments: setWidthSegments_,
  setHeightSegments: setHeightSegments_,
  setDepthSegments: setDepthSegments_,
  setPhiStart: setPhiStart_,
  setPhiLength: setPhiLength_,
  setThetaStart: setThetaStart_,
  setThetaLength: setThetaLength_,
  setMatrix4: setMatrix4_,
  setQuaternion: setQuaternion_,
  setRotateX: setRotateX_,
  setRotateY: setRotateY_,
  setRotateZ: setRotateZ_,
  setTranslate: setTranslate_,
  setScale: setScale_,
  setLookAt: setLookAt_,
  setCenter: setCenter_,
  getBoundingBox: getBoundingBox_,
  getBoundingSphere: getBoundingSphere_,
  setInstancedMeshMatrix4: setInstancedMeshMatrix4_,
  setInstancedMeshColor: setInstancedMeshColor_,
  setSingleInstancedMeshMatrix4: setSingleInstancedMeshMatrix4_,
  setSingleInstancedMeshColor: setSingleInstancedMeshColor_,
  setAlphaTest: setAlphaTest_,
  setAlphaToCoverage: setAlphaToCoverage_,
  setBlendDst: setBlendDst_,
  setBlendDstAlpha: setBlendDstAlpha_,
  setBlendEquation: setBlendEquation_,
  setBlendEquationAlpha: setBlendEquationAlpha_,
  setBlending: setBlending_,
  setBlendSrc: setBlendSrc_,
  setBlendSrcAlpha: setBlendSrcAlpha_,
  setClipIntersection: setClipIntersection_,
  setClipShadows: setClipShadows_,
  setColorWrite: setColorWrite_,
  setDepthFunc: setDepthFunc_,
  setDepthTest: setDepthTest_,
  setDepthWrite: setDepthWrite_,
  setOpacity: setOpacity_,
  setPolygonOffset: setPolygonOffset_,
  setPolygonOffsetFactor: setPolygonOffsetFactor_,
  setPolygonOffsetUnits: setPolygonOffsetUnits_,
  setPrecision: setPrecision_,
  setPremultipliedAlpha: setPremultipliedAlpha_,
  setDithering: setDithering_,
  setShadowSide: setShadowSide_,
  setSide: setSide_,
  setToneMapped: setToneMapped_,
  setTransparent: setTransparent_,
  setVertexColors: setVertexColors_,
  setVisible: setVisible_,
  setUniform: setUniform_,
  setColor: setColor_,
  setRoughness: setRoughness_,
  setMetalness: setMetalness_,
  setMap: setMap_,
  setLightMap: setLightMap_,
  setLightMapIntensity: setLightMapIntensity_,
  setAoMap: setAoMap_,
  setAoMapIntensity: setAoMapIntensity_,
  setEmissive: setEmissive_,
  setEmissiveIntensity: setEmissiveIntensity_,
  setEmissiveMap: setEmissiveMap_,
  setBumpMap: setBumpMap_,
  setBumpScale: setBumpScale_,
  setNormalMap: setNormalMap_,
  setNormalMapType: (x) => setNormalMapType_(ffiize7(x)),
  setNormalScale: setNormalScale_,
  setDisplacementMap: setDisplacementMap_,
  setDisplacementScale: setDisplacementScale_,
  setDisplacementBias: setDisplacementBias_,
  setRoughnessMap: setRoughnessMap_,
  setMetalnessMap: setMetalnessMap_,
  setAlphaMap: setAlphaMap_,
  setEnvMap: setEnvMap_,
  setEnvMapIntensity: setEnvMapIntensity_,
  setWireframe: setWireframe_,
  setWireframeLinewidth: setWireframeLinewidth_,
  setFlatShading: setFlatShading_,
  setRotationFromAxisAngle: setRotationFromAxisAngle_,
  setRotationFromEuler: setRotationFromEuler_,
  setRotationFromMatrix: setRotationFromMatrix_,
  setRotationFromQuaternion: setRotationFromQuaternion_,
  setRotateOnAxis: setRotateOnAxis_,
  setRotateOnWorldAxis: setRotateOnWorldAxis_,
  setTranslateOnAxis: setTranslateOnAxis_,
  setTranslateX: setTranslateX_,
  setTranslateY: setTranslateY_,
  setTranslateZ: setTranslateZ_,
  setPositionX: setPositionX_,
  setPositionY: setPositionY_,
  setPositionZ: setPositionZ_,
  setScaleX: setScaleX_,
  setScaleY: setScaleY_,
  setScaleZ: setScaleZ_,
  setCombine: (x) => setCombine_(ffiize8(x)),
  setFog: setFog_,
  setReflectivity: setReflectivity_,
  setRefractionRatio: setRefractionRatio_,
  setShininess: setShininess_,
  setSpecular: setSpecular_,
  setSpecularMap: setSpecularMap_,
  setWireframeLinecap: (x) => setWireframeLinecap_(ffiize9(x)),
  setWireframeLinejoin: (x) => setWireframeLinejoin_(ffiize10(x)),
  setDecay: setDecay_,
  setDistance: setDistance_,
  setIntensity: setIntensity_,
  setAspect: setAspect_,
  setFar: setFar_,
  setFilmGauge: setFilmGauge_,
  setFilmOffset: setFilmOffset_,
  setFocus: setFocus_,
  setFov: setFov_,
  setNear: setNear_,
  setZoom: setZoom_,
  setFocalLength: setFocalLength_,
  setViewOffset: setViewOffset_,
  setSize: setSize_,
  setSizeThroughEffectComposer: setSizeThroughEffectComposer_,
  setThreshold: setThreshold_$1,
  setStrength: setStrength_,
  setResolution: setResolution_,
  connectMesh: connectMesh_,
  connectScene: connectScene_,
  connectCamera: connectCamera_,
  connectGeometry: connectGeometry_,
  connectMaterial: connectMaterial_,
  connectToScene: connectToScene_,
  disconnect: disconnect_,
  disconnectPass: disconnectPass_,
  deleteFromCache: deleteFromCache_$1,
  webGLRendererConnectionNoop: mempty,
  effectComposerConnectionNoop: mempty
});
const run$1 = (s2) => () => {
  const ffi = makeFFIThreeSnapshot();
  const rf = { value: 0 };
  const u = subscribe(flatten({ doLogic: absurd, ids: (x) => x.ids, disconnectElement: (x) => x.disconnect, toElt: (v) => v })({
    parent: Nothing,
    scope: Global,
    raiseId: (v) => () => unit
  })(effectfulThreeInterpret(rf))(s2))((v) => v(ffi))();
  return u;
};
const $Background = (tag, _1) => ({ tag, _1 });
const oneOf$f = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const scene$1 = (ctor) => (props) => (kidz) => (parent) => (v) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
  const me = v.ids();
  parent.raiseId(me)();
  const unsub = mySub(oneOf$f([
    applicativeEvent.pure(v.makeScene({ id: me, parent: parent.parent, scope: parent.scope, scene: ctor.scene })),
    (b, k$1) => props(
      b,
      (a2) => {
        const $12 = onMatch()()()({
          ...object3D(me)(v),
          background: (v2) => {
            if (v2.tag === "CubeTexture") {
              return v.setBackgroundCubeTexture({ id: me, cubeTexture: v2._1 });
            }
            if (v2.tag === "Texture") {
              return v.setBackgroundTexture({ id: me, texture: v2._1 });
            }
            if (v2.tag === "Color") {
              return v.setBackgroundColor({ id: me, color: v2._1 });
            }
            fail$3();
          }
        })(case_)(a2);
        return k$1($12);
      }
    ),
    flatten({ doLogic: absurd, ids: (x) => x.ids, disconnectElement: (x) => x.disconnect, toElt: (v1) => v1 })({
      parent: $Maybe("Just", me),
      scope: parent.scope,
      raiseId: (v1) => () => unit
    })(v)($Entity("FixedChildren'", kidz))
  ]))(k)();
  const $10 = k(v.deleteFromCache({ id: me }));
  return () => {
    $10();
    return unsub();
  };
});
const ctor_ = (vector22) => ({ x, y }) => new vector22(x, y);
const $Axis = (tag) => ({ tag });
const $ChannelChooser = (tag, _1, _2, _3) => ({ tag, _1, _2, _3 });
const $Negotiation = (tag, _1) => ({ tag, _1 });
const $Player = (tag) => ({ tag });
const $PlayerAction = (tag, _1) => ({ tag, _1 });
const $Ride = (_1) => ({ tag: "RideV0", _1 });
const $StartStatus = (tag, _1) => ({ tag, _1 });
const $XDirection = (tag) => ({ tag });
const openIsSymbol = { reflectSymbol: () => "open" };
const player1IsSymbol = { reflectSymbol: () => "player1" };
const writeForeignMaybe$1 = {
  writeImpl: (v2) => {
    if (v2.tag === "Nothing") {
      return _undefined;
    }
    if (v2.tag === "Just") {
      return v2._1;
    }
    fail$3();
  }
};
const player1NameIsSymbol = { reflectSymbol: () => "player1Name" };
const player1PenaltiesIsSymbol = { reflectSymbol: () => "player1Penalties" };
const writeForeignMaybe1 = {
  writeImpl: (v2) => {
    if (v2.tag === "Nothing") {
      return _undefined;
    }
    if (v2.tag === "Just") {
      return v2._1;
    }
    fail$3();
  }
};
const player1PointsIsSymbol = { reflectSymbol: () => "player1Points" };
const player1StartTimeInMillisecondsIsSymbol = { reflectSymbol: () => "player1StartTimeInMilliseconds" };
const player2IsSymbol = { reflectSymbol: () => "player2" };
const player2NameIsSymbol = { reflectSymbol: () => "player2Name" };
const player2PenaltiesIsSymbol = { reflectSymbol: () => "player2Penalties" };
const player2PointsIsSymbol = { reflectSymbol: () => "player2Points" };
const player2StartTimeInMillisecondsIsSymbol = { reflectSymbol: () => "player2StartTimeInMilliseconds" };
const player3IsSymbol = { reflectSymbol: () => "player3" };
const player3NameIsSymbol = { reflectSymbol: () => "player3Name" };
const player3PenaltiesIsSymbol = { reflectSymbol: () => "player3Penalties" };
const player3PointsIsSymbol = { reflectSymbol: () => "player3Points" };
const player3StartTimeInMillisecondsIsSymbol = { reflectSymbol: () => "player3StartTimeInMilliseconds" };
const player4IsSymbol = { reflectSymbol: () => "player4" };
const player4NameIsSymbol = { reflectSymbol: () => "player4Name" };
const player4PenaltiesIsSymbol = { reflectSymbol: () => "player4Penalties" };
const player4PointsIsSymbol = { reflectSymbol: () => "player4Points" };
const player4StartTimeInMillisecondsIsSymbol = { reflectSymbol: () => "player4StartTimeInMilliseconds" };
const versionIsSymbol = { reflectSymbol: () => "version" };
const Reflectable$Dict$1 = { reflectType: () => 0 };
const writeImpl1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(openIsSymbol)(writeForeignBoolean)(consWriteForeignFields(player1IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player1NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player1PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player1PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player1StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player2NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player2PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player2StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player3NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player3PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player3StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4IsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player4NameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(player4PenaltiesIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4PointsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(player4StartTimeInMillisecondsIsSymbol)(writeForeignMaybe1)(consWriteForeignFields(versionIsSymbol)({
    writeImpl: (v) => 0
  })(nilWriteForeignFields)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const _typeIsSymbol = { reflectSymbol: () => "_type" };
const valIsSymbol = { reflectSymbol: () => "val" };
const nameIsSymbol = { reflectSymbol: () => "name" };
const startedAtIsSymbol = { reflectSymbol: () => "startedAt" };
const deltaBeatsIsSymbol = { reflectSymbol: () => "deltaBeats" };
const hitAtIsSymbol = { reflectSymbol: () => "hitAt" };
const logicalBeatIsSymbol = { reflectSymbol: () => "logicalBeat" };
const outcomeIsSymbol = { reflectSymbol: () => "outcome" };
const playerIsSymbol = { reflectSymbol: () => "player" };
const uniqueIdIsSymbol = { reflectSymbol: () => "uniqueId" };
const consWriteForeignFields3 = /* @__PURE__ */ consWriteForeignFields(uniqueIdIsSymbol)(writeForeignInt)(nilWriteForeignFields)()()();
const newPositionIsSymbol = { reflectSymbol: () => "newPosition" };
const oldPositionIsSymbol = { reflectSymbol: () => "oldPosition" };
const distanceIsSymbol = { reflectSymbol: () => "distance" };
const pctConsumedIsSymbol = { reflectSymbol: () => "pctConsumed" };
const releasedAtIsSymbol = { reflectSymbol: () => "releasedAt" };
const bind = /* @__PURE__ */ (() => bindExceptT$1(monadIdentity).bind)();
const pure$1 = /* @__PURE__ */ (() => applicativeExceptT$3(monadIdentity).pure)();
const fail = /* @__PURE__ */ (() => {
  const $0 = monadThrowExceptT(monadIdentity).throwError;
  return (x) => $0($NonEmpty(x, Nil));
})();
const readMaybe$1 = /* @__PURE__ */ readMaybe$3(readString);
const readMaybe1 = /* @__PURE__ */ readMaybe$3(readNumber);
const readImpl1 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(openIsSymbol)(readBoolean)(readFieldsCons(player1IsSymbol)(readMaybe$1)(readFieldsCons(player1NameIsSymbol)(readMaybe$1)(readFieldsCons(player1PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player1PointsIsSymbol)(readMaybe1)(readFieldsCons(player1StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player2IsSymbol)(readMaybe$1)(readFieldsCons(player2NameIsSymbol)(readMaybe$1)(readFieldsCons(player2PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player2PointsIsSymbol)(readMaybe1)(readFieldsCons(player2StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player3IsSymbol)(readMaybe$1)(readFieldsCons(player3NameIsSymbol)(readMaybe$1)(readFieldsCons(player3PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player3PointsIsSymbol)(readMaybe1)(readFieldsCons(player3StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(player4IsSymbol)(readMaybe$1)(readFieldsCons(player4NameIsSymbol)(readMaybe$1)(readFieldsCons(player4PenaltiesIsSymbol)(readMaybe1)(readFieldsCons(player4PointsIsSymbol)(readMaybe1)(readFieldsCons(player4StartTimeInMillisecondsIsSymbol)(readMaybe1)(readFieldsCons(versionIsSymbol)(readForeignVersion(Reflectable$Dict$1))(readFieldsNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()()).readImpl)();
const readImpl2 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(_typeIsSymbol)(readString)(readFieldsCons(valIsSymbol)(readNumber)(readFieldsNil)()())()()).readImpl)();
const readFieldsCons2$1 = /* @__PURE__ */ readFieldsCons(uniqueIdIsSymbol)(readInt)(readFieldsNil)()();
const readImpl3 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(_typeIsSymbol)(readString)(readFieldsNil)()()).readImpl)();
const ktpIsSymbol = { reflectSymbol: () => "ktp" };
const curXDirIsSymbol = { reflectSymbol: () => "curXDir" };
const posIsSymbol = { reflectSymbol: () => "pos" };
const timeIsSymbol = { reflectSymbol: () => "time" };
const gtpIsSymbol = { reflectSymbol: () => "gtp" };
const gammaIsSymbol = { reflectSymbol: () => "gamma" };
const showMaybe$1 = {
  show: (v) => {
    if (v.tag === "Just") {
      return "(Just " + (showStringImpl(v._1) + ")");
    }
    if (v.tag === "Nothing") {
      return "Nothing";
    }
    fail$3();
  }
};
const ToLeft = /* @__PURE__ */ $XDirection("ToLeft");
const ToRight = /* @__PURE__ */ $XDirection("ToRight");
const Still = /* @__PURE__ */ $XDirection("Still");
const Player1 = /* @__PURE__ */ $Player("Player1");
const Player2 = /* @__PURE__ */ $Player("Player2");
const Player3 = /* @__PURE__ */ $Player("Player3");
const Player4 = /* @__PURE__ */ $Player("Player4");
const HasNotStartedYet = /* @__PURE__ */ $StartStatus("HasNotStartedYet");
const NoChannel = /* @__PURE__ */ $ChannelChooser("NoChannel");
const RideChannel = (value0) => (value1) => (value2) => $ChannelChooser("RideChannel", value0, value1, value2);
const TutorialChannel = /* @__PURE__ */ $ChannelChooser("TutorialChannel");
const EditorChannel = /* @__PURE__ */ $ChannelChooser("EditorChannel");
const PageLoad = /* @__PURE__ */ $Negotiation("PageLoad");
const NeedsOrientation = /* @__PURE__ */ $Negotiation("NeedsOrientation");
const WillNotWorkWithoutOrientation = /* @__PURE__ */ $Negotiation("WillNotWorkWithoutOrientation");
const StartingNegotiation = /* @__PURE__ */ $Negotiation("StartingNegotiation");
const GameHasStarted = /* @__PURE__ */ $Negotiation("GameHasStarted");
const AxisX = /* @__PURE__ */ $Axis("AxisX");
const AxisY = /* @__PURE__ */ $Axis("AxisY");
const AxisZ = /* @__PURE__ */ $Axis("AxisZ");
const writeForeignXDirection = {
  writeImpl: (v) => {
    if (v.tag === "ToLeft") {
      return "ToLeft";
    }
    if (v.tag === "ToRight") {
      return "ToRight";
    }
    if (v.tag === "Still") {
      return "Still";
    }
    fail$3();
  }
};
const writeImpl2 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeForeignPlayer = {
  writeImpl: (v) => {
    if (v.tag === "Player1") {
      return "Player1";
    }
    if (v.tag === "Player2") {
      return "Player2";
    }
    if (v.tag === "Player3") {
      return "Player3";
    }
    if (v.tag === "Player4") {
      return "Player4";
    }
    fail$3();
  }
};
const consWriteForeignFields6 = /* @__PURE__ */ consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields3)()()();
const consWriteForeignFields7 = /* @__PURE__ */ consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(nilWriteForeignFields)()()();
const writeImpl3 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(valIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeForeignPointOutcome = {
  writeImpl: (v) => {
    if (v.tag === "Left") {
      return writeImpl3({ _type: "Penalty", val: v._1 });
    }
    if (v.tag === "Right") {
      return writeImpl2({ _type: "Points", val: v._1 });
    }
    fail$3();
  }
};
const consWriteForeignFields9 = /* @__PURE__ */ consWriteForeignFields(startedAtIsSymbol)(writeForeignNumber)(nilWriteForeignFields)()()();
const consWriteForeignFields10 = /* @__PURE__ */ consWriteForeignFields(posIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(timeIsSymbol)({
  writeImpl: (v2) => {
    if (v2.tag === "Nothing") {
      return _undefined;
    }
    if (v2.tag === "Just") {
      return v2._1;
    }
    fail$3();
  }
})(nilWriteForeignFields)()()())()()();
const writeImpl4 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(ktpIsSymbol)((() => {
    const $02 = consWriteForeignFields(curXDirIsSymbol)(writeForeignXDirection)(consWriteForeignFields10)()()();
    return { writeImpl: (rec) => $02.writeImplFields($$Proxy)(rec)({}) };
  })())(consWriteForeignFields7)()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl5 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(gtpIsSymbol)((() => {
    const $02 = consWriteForeignFields(gammaIsSymbol)(writeForeignNumber)(consWriteForeignFields10)()()();
    return { writeImpl: (rec) => $02.writeImplFields($$Proxy)(rec)({}) };
  })())(consWriteForeignFields7)()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl6 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields(nameIsSymbol)(writeForeignMaybe$1)(consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(consWriteForeignFields9)()()())()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const consWriteForeignFields12 = /* @__PURE__ */ consWriteForeignFields(deltaBeatsIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(logicalBeatIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(outcomeIsSymbol)(writeForeignPointOutcome)(consWriteForeignFields6)()()())()()())()()())()()();
const consWriteForeignFields13 = /* @__PURE__ */ consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(newPositionIsSymbol)(writeForeignPosition)(/* @__PURE__ */ consWriteForeignFields(oldPositionIsSymbol)(writeForeignPosition)(consWriteForeignFields6)()()())()()())()()();
const consWriteForeignFields14 = /* @__PURE__ */ consWriteForeignFields(distanceIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(consWriteForeignFields6)()()())()()();
const consWriteForeignFields15 = /* @__PURE__ */ consWriteForeignFields(distanceIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(hitAtIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(outcomeIsSymbol)(writeForeignPointOutcome)(/* @__PURE__ */ consWriteForeignFields(pctConsumedIsSymbol)(writeForeignNumber)(/* @__PURE__ */ consWriteForeignFields(playerIsSymbol)(writeForeignPlayer)(/* @__PURE__ */ consWriteForeignFields(releasedAtIsSymbol)(writeForeignNumber)(consWriteForeignFields3)()()())()()())()()())()()())()()())()()();
const writeImpl9 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields12)()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl10 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields13)()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl11 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields14)()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const writeImpl12 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(_typeIsSymbol)(writeForeignString)(consWriteForeignFields15)()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const showPointOutcome = {
  show: (v) => {
    if (v.tag === "Left") {
      return "(Left " + (showNumberImpl(v._1) + ")");
    }
    if (v.tag === "Right") {
      return "(Right " + (showNumberImpl(v._1) + ")");
    }
    fail$3();
  }
};
const readForeignXDirection = {
  readImpl: (i2) => bind(readString.readImpl(i2))((ri) => {
    if (ri === "ToLeft") {
      return pure$1(ToLeft);
    }
    if (ri === "ToRight") {
      return pure$1(ToRight);
    }
    if (ri === "Still") {
      return pure$1(Still);
    }
    return fail($ForeignError("ForeignError", "No idea how to parse: " + _unsafeStringify(i2)));
  })
};
const readForeignRide = {
  readImpl: (i2) => {
    const $1 = readImpl1(i2);
    if ($1.tag === "Left") {
      return $Either("Left", $1._1);
    }
    if ($1.tag === "Right") {
      return $Either("Right", $Ride($1._1));
    }
    fail$3();
  }
};
const readForeignPointOutcome = {
  readImpl: (i2) => bind(readImpl2(i2))((v) => {
    if (v._type === "Points") {
      return pure$1($Either("Right", v.val));
    }
    if (v._type === "Penalty") {
      return pure$1($Either("Left", v.val));
    }
    return fail($ForeignError("ForeignError", "Could not parse: " + _unsafeStringify(i2)));
  })
};
const readForeignPlayer = {
  readImpl: (i2) => bind(readString.readImpl(i2))((ri) => {
    if (ri === "Player1") {
      return pure$1(Player1);
    }
    if (ri === "Player2") {
      return pure$1(Player2);
    }
    if (ri === "Player3") {
      return pure$1(Player3);
    }
    if (ri === "Player4") {
      return pure$1(Player4);
    }
    return fail($ForeignError("ForeignError", "No idea how to parse: " + _unsafeStringify(i2)));
  })
};
const readFieldsCons6 = /* @__PURE__ */ readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsCons2$1)()();
const readFieldsCons7 = /* @__PURE__ */ readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsNil)()();
const readFieldsCons8 = /* @__PURE__ */ readFieldsCons(startedAtIsSymbol)(readNumber)(readFieldsNil)()();
const readFieldsCons9 = /* @__PURE__ */ readFieldsCons(posIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(timeIsSymbol)(/* @__PURE__ */ readMaybe$3(readNumber))(readFieldsNil)()())()();
const readImpl4 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(ktpIsSymbol)(readRecord()(readFieldsCons(curXDirIsSymbol)(readForeignXDirection)(readFieldsCons9)()()))(readFieldsCons7)()()).readImpl)();
const readImpl5 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(gtpIsSymbol)(readRecord()(readFieldsCons(gammaIsSymbol)(readNumber)(readFieldsCons9)()()))(readFieldsCons7)()()).readImpl)();
const readImpl6 = /* @__PURE__ */ (() => readRecord()(readFieldsCons(nameIsSymbol)(readMaybe$1)(readFieldsCons(playerIsSymbol)(readForeignPlayer)(readFieldsCons8)()())()()).readImpl)();
const readForeignHitBasicOverTh = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(deltaBeatsIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(hitAtIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(logicalBeatIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(outcomeIsSymbol)(readForeignPointOutcome)(readFieldsCons6)()())()())()())()());
const readForeignHitLeapOverThe = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(hitAtIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(newPositionIsSymbol)(readForeignPosition)(/* @__PURE__ */ readFieldsCons(oldPositionIsSymbol)(readForeignPosition)(readFieldsCons6)()())()())()());
const readForeignHitLongOverThe = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(distanceIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(hitAtIsSymbol)(readNumber)(readFieldsCons6)()())()());
const readForeignReleaseLongOve = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(distanceIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(hitAtIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(outcomeIsSymbol)(readForeignPointOutcome)(/* @__PURE__ */ readFieldsCons(pctConsumedIsSymbol)(readNumber)(/* @__PURE__ */ readFieldsCons(playerIsSymbol)(readForeignPlayer)(/* @__PURE__ */ readFieldsCons(releasedAtIsSymbol)(readNumber)(readFieldsCons2$1)()())()())()())()())()())()());
const max$9 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const max1 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const min$5 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const genericPlayer_ = {
  to: (x) => {
    if (x.tag === "Inl") {
      return Player1;
    }
    if (x.tag === "Inr") {
      if (x._1.tag === "Inl") {
        return Player2;
      }
      if (x._1.tag === "Inr") {
        if (x._1._1.tag === "Inl") {
          return Player3;
        }
        if (x._1._1.tag === "Inr") {
          return Player4;
        }
        fail$3();
      }
      fail$3();
    }
    fail$3();
  },
  from: (x) => {
    if (x.tag === "Player1") {
      return $Sum("Inl", NoArguments);
    }
    if (x.tag === "Player2") {
      return $Sum("Inr", $Sum("Inl", NoArguments));
    }
    if (x.tag === "Player3") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inl", NoArguments)));
    }
    if (x.tag === "Player4") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inr", NoArguments)));
    }
    fail$3();
  }
};
const showPlayer = {
  show: /* @__PURE__ */ (() => {
    const $0 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "Player1" });
    const $1 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "Player2" });
    const $2 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "Player3" });
    const $3 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "Player4" });
    return (x) => {
      const $5 = genericPlayer_.from(x);
      if ($5.tag === "Inl") {
        return $0["genericShow'"]($5._1);
      }
      if ($5.tag === "Inr") {
        if ($5._1.tag === "Inl") {
          return $1["genericShow'"]($5._1._1);
        }
        if ($5._1.tag === "Inr") {
          if ($5._1._1.tag === "Inl") {
            return $2["genericShow'"]($5._1._1._1);
          }
          if ($5._1._1.tag === "Inr") {
            return $3["genericShow'"]($5._1._1._1);
          }
          fail$3();
        }
        fail$3();
      }
      fail$3();
    };
  })()
};
const genericChannelChooser_ = {
  to: (x) => {
    if (x.tag === "Inl") {
      return NoChannel;
    }
    if (x.tag === "Inr") {
      if (x._1.tag === "Inl") {
        return $ChannelChooser("RideChannel", x._1._1._1, x._1._1._2._1, x._1._1._2._2);
      }
      if (x._1.tag === "Inr") {
        if (x._1._1.tag === "Inl") {
          return TutorialChannel;
        }
        if (x._1._1.tag === "Inr") {
          return EditorChannel;
        }
        fail$3();
      }
      fail$3();
    }
    fail$3();
  },
  from: (x) => {
    if (x.tag === "NoChannel") {
      return $Sum("Inl", NoArguments);
    }
    if (x.tag === "RideChannel") {
      return $Sum("Inr", $Sum("Inl", $Product(x._1, $Product(x._2, x._3))));
    }
    if (x.tag === "TutorialChannel") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inl", NoArguments)));
    }
    if (x.tag === "EditorChannel") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inr", NoArguments)));
    }
    fail$3();
  }
};
const showChannelChooser = {
  show: /* @__PURE__ */ (() => {
    const $0 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "NoChannel" });
    const $1 = genericShowConstructor(genericShowArgsProduct({ genericShowArgs: (v) => [showStringImpl(v)] })(genericShowArgsProduct({
      genericShowArgs: (v) => [showStringImpl(v)]
    })({ genericShowArgs: (v) => ["TrackV0 <" + (show1$4(v._1) + ">")] })))({ reflectSymbol: () => "RideChannel" });
    const $2 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "TutorialChannel" });
    const $3 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "EditorChannel" });
    return (x) => {
      const $5 = genericChannelChooser_.from(x);
      if ($5.tag === "Inl") {
        return $0["genericShow'"]($5._1);
      }
      if ($5.tag === "Inr") {
        if ($5._1.tag === "Inl") {
          return $1["genericShow'"]($5._1._1);
        }
        if ($5._1.tag === "Inr") {
          if ($5._1._1.tag === "Inl") {
            return $2["genericShow'"]($5._1._1._1);
          }
          if ($5._1._1.tag === "Inr") {
            return $3["genericShow'"]($5._1._1._1);
          }
          fail$3();
        }
        fail$3();
      }
      fail$3();
    };
  })()
};
const eqPlayer = {
  eq: (x) => (y) => {
    if (x.tag === "Player1") {
      return y.tag === "Player1";
    }
    if (x.tag === "Player2") {
      return y.tag === "Player2";
    }
    if (x.tag === "Player3") {
      return y.tag === "Player3";
    }
    if (x.tag === "Player4") {
      return y.tag === "Player4";
    }
    return false;
  }
};
const ordPlayer = {
  compare: (x) => (y) => {
    if (x.tag === "Player1") {
      if (y.tag === "Player1") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "Player1") {
      return GT;
    }
    if (x.tag === "Player2") {
      if (y.tag === "Player2") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "Player2") {
      return GT;
    }
    if (x.tag === "Player3") {
      if (y.tag === "Player3") {
        return EQ;
      }
      return LT;
    }
    if (y.tag === "Player3") {
      return GT;
    }
    if (x.tag === "Player4") {
      if (y.tag === "Player4") {
        return EQ;
      }
      fail$3();
    }
    fail$3();
  },
  Eq0: () => eqPlayer
};
const semigroupKnownPlayers = {
  append: (v) => (v1) => unionWith(ordPlayer)((v2) => (v3) => {
    if (v2.tag === "HasNotStartedYet") {
      if (v3.tag === "HasNotStartedYet") {
        return HasNotStartedYet;
      }
      return v3;
    }
    if (v3.tag === "HasNotStartedYet") {
      return v2;
    }
    if (v2.tag === "HasStarted") {
      if (v3.tag === "HasStarted") {
        return $StartStatus(
          "HasStarted",
          {
            startedAt: min$5(v2._1.startedAt)(v3._1.startedAt),
            points: max$9(v2._1.points)(v3._1.points),
            name: (() => {
              if (v2._1.name.tag === "Nothing") {
                return v3._1.name;
              }
              return v2._1.name;
            })(),
            penalties: max1(v2._1.penalties)(v3._1.penalties)
          }
        );
      }
      fail$3();
    }
    fail$3();
  })(v)(v1)
};
const toJSONPubNubPlayerAction = {
  readImpl: (i2) => bind(readImpl3(i2))((v) => {
    if (v._type === "XPositionKeyboard") {
      const $2 = readImpl4(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("XPositionKeyboard", $2._1));
      }
      fail$3();
    }
    if (v._type === "XPositionMobile") {
      const $2 = readImpl5(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("XPositionMobile", $2._1));
      }
      fail$3();
    }
    if (v._type === "HitBasic") {
      const $2 = readForeignHitBasicOverTh.readImpl(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("HitBasic", $2._1));
      }
      fail$3();
    }
    if (v._type === "HitLeap") {
      const $2 = readForeignHitLeapOverThe.readImpl(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("HitLeap", $2._1));
      }
      fail$3();
    }
    if (v._type === "HitLong") {
      const $2 = readForeignHitLongOverThe.readImpl(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("HitLong", $2._1));
      }
      fail$3();
    }
    if (v._type === "ReleaseLong") {
      const $2 = readForeignReleaseLongOve.readImpl(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("ReleaseLong", $2._1));
      }
      fail$3();
    }
    if (v._type === "PressedStart") {
      const $2 = readImpl6(i2);
      if ($2.tag === "Left") {
        return $Either("Left", $2._1);
      }
      if ($2.tag === "Right") {
        return $Either("Right", $PlayerAction("PressedStart", $2._1));
      }
      fail$3();
    }
    return fail($ForeignError("ForeignError", "Could not parse: " + _unsafeStringify(i2)));
  })
};
const showRecordFieldsCons8 = {
  showRecordFields: (v) => (record2) => cons(intercalate$2(": ")(["startedAt", "(JMilliseconds " + (showNumberImpl(record2.startedAt) + ")")]))([])
};
const showInFlightGameInfo = {
  show: (record2) => {
    const v = cons(intercalate$2(": ")(["name", showMaybe$1.show(record2.name)]))(cons(intercalate$2(": ")([
      "penalties",
      showNumberImpl(record2.penalties)
    ]))(cons(intercalate$2(": ")(["points", showNumberImpl(record2.points)]))(showRecordFieldsCons8.showRecordFields($$Proxy)(record2))));
    if (v.length === 0) {
      return "{}";
    }
    return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
  }
};
const showStartStatus = {
  show: /* @__PURE__ */ (() => {
    const $0 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "HasNotStartedYet" });
    const $1 = genericShowConstructor({ genericShowArgs: (v) => [showInFlightGameInfo.show(v)] })({ reflectSymbol: () => "HasStarted" });
    return (x) => {
      if (x.tag === "HasNotStartedYet") {
        return $0["genericShow'"](NoArguments);
      }
      if (x.tag === "HasStarted") {
        return $1["genericShow'"](x._1);
      }
      fail$3();
    };
  })()
};
const showKnownPlayers = /* @__PURE__ */ showMap(showPlayer)(showStartStatus);
const showBeats = { show: (v) => "(Beats " + (showNumberImpl(v) + ")") };
const playerPosition = (v) => (v1) => {
  if (v.tag === "Player1") {
    if (v1.tag === "AxisX") {
      return (v2) => v2.p1x;
    }
    if (v1.tag === "AxisY") {
      return (v2) => v2.p1y;
    }
    if (v1.tag === "AxisZ") {
      return (v2) => v2.p1z;
    }
    fail$3();
  }
  if (v.tag === "Player2") {
    if (v1.tag === "AxisX") {
      return (v2) => v2.p2x;
    }
    if (v1.tag === "AxisY") {
      return (v2) => v2.p2y;
    }
    if (v1.tag === "AxisZ") {
      return (v2) => v2.p2z;
    }
    fail$3();
  }
  if (v.tag === "Player3") {
    if (v1.tag === "AxisX") {
      return (v2) => v2.p3x;
    }
    if (v1.tag === "AxisY") {
      return (v2) => v2.p3y;
    }
    if (v1.tag === "AxisZ") {
      return (v2) => v2.p3z;
    }
    fail$3();
  }
  if (v.tag === "Player4") {
    if (v1.tag === "AxisX") {
      return (v2) => v2.p4x;
    }
    if (v1.tag === "AxisY") {
      return (v2) => v2.p4y;
    }
    if (v1.tag === "AxisZ") {
      return (v2) => v2.p4z;
    }
    fail$3();
  }
  fail$3();
};
const initialPositions = (ri) => ({
  p1x: (v) => 0,
  p1y: 0,
  p1z: -3 * ri.barZSpacing,
  p1p: Position1,
  p2x: (v) => 0,
  p2y: 0,
  p2z: -2 * ri.barZSpacing,
  p2p: Position2,
  p3x: (v) => 0,
  p3y: 0,
  p3z: -1 * ri.barZSpacing,
  p3p: Position3,
  p4x: (v) => 0,
  p4y: 0,
  p4z: 0,
  p4p: Position4
});
const fromJSONPubNubPlayerAction = {
  writeImpl: (v) => {
    if (v.tag === "XPositionKeyboard") {
      return writeImpl4({ ...v._1, _type: "XPositionKeyboard" });
    }
    if (v.tag === "XPositionMobile") {
      return writeImpl5({ ...v._1, _type: "XPositionMobile" });
    }
    if (v.tag === "HitBasic") {
      return writeImpl9({ ...v._1, _type: "HitBasic" });
    }
    if (v.tag === "HitLeap") {
      return writeImpl10({ ...v._1, _type: "HitLeap" });
    }
    if (v.tag === "HitLong") {
      return writeImpl11({ ...v._1, _type: "HitLong" });
    }
    if (v.tag === "ReleaseLong") {
      return writeImpl12({ ...v._1, _type: "ReleaseLong" });
    }
    if (v.tag === "PressedStart") {
      return writeImpl6({ ...v._1, _type: "PressedStart" });
    }
    fail$3();
  }
};
const defaultRide = /* @__PURE__ */ $Ride({
  player1: Nothing,
  player2: Nothing,
  player3: Nothing,
  player4: Nothing,
  player1StartTimeInMilliseconds: Nothing,
  player2StartTimeInMilliseconds: Nothing,
  player3StartTimeInMilliseconds: Nothing,
  player4StartTimeInMilliseconds: Nothing,
  player1Points: Nothing,
  player2Points: Nothing,
  player3Points: Nothing,
  player4Points: Nothing,
  player1Penalties: Nothing,
  player2Penalties: Nothing,
  player3Penalties: Nothing,
  player4Penalties: Nothing,
  player1Name: Nothing,
  player2Name: Nothing,
  player3Name: Nothing,
  player4Name: Nothing,
  open: true,
  version: /* @__PURE__ */ $Version(0)
});
const allPositions = [Position1, Position2, Position3, Position4];
const allPlayers = [Player1, Player2, Player3, Player4];
const allColumns = [
  C1,
  C2,
  C3,
  C4,
  C5,
  C6,
  C7,
  C8,
  C9,
  C10,
  C11,
  C12,
  C13,
  C14,
  C15,
  C16,
  C17
];
const mapAccum$4 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const vbust$1 = /* @__PURE__ */ vbust$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "hitBasicVisualForLabel" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "hitLeapVisualForLabel"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "hitLongVisualForLabel" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "releaseLongVisualForLabel"
})()()(vbusNil)()())()())()())()());
const perspectiveCamera$3 = /* @__PURE__ */ perspectiveCamera$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({
    reflectSymbol: () => "perspectiveCamera"
  }))(convertOptionPerspectiveC1)()()()({ reflectSymbol: () => "near" }))(convertOptionPerspectiveC3)()()()({
    reflectSymbol: () => "fov"
  }))(convertOptionPerspectiveC)()()()({ reflectSymbol: () => "far" }))(convertOptionPerspectiveC2)()()()({
    reflectSymbol: () => "aspect"
  });
  return {
    toInitializePerspectiveCamera: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(provided)({}),
      defaultPerspectiveCamera
    )
  };
})());
const oneOf$e = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const oneOfMap$8 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const intensityIsSymbol$1 = { reflectSymbol: () => "intensity" };
const colorIsSymbol$2 = { reflectSymbol: () => "color" };
const ambientLight$2 = /* @__PURE__ */ ambientLight$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol$1))(convertOptionAmbientLight1)()()()(colorIsSymbol$2))(convertOptionAmbientLight2)()()()({
    reflectSymbol: () => "ambientLight"
  });
  return {
    toInitializeAmbientLight: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(AmbientLightOptions)($$Proxy)(provided)({}),
      defaultAmbientLight
    )
  };
})());
const pointLight$2 = /* @__PURE__ */ pointLight$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({
    reflectSymbol: () => "pointLight"
  }))(convertOptionPointLightOp2)()()()(intensityIsSymbol$1))(convertOptionPointLightOp1)()()()({ reflectSymbol: () => "distance" }))(convertOptionPointLightOp)()()()({
    reflectSymbol: () => "decay"
  }))(convertOptionPointLightOp3)()()()(colorIsSymbol$2);
  return {
    toInitializePointLight: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PointLightOptions)($$Proxy)(provided)({}),
      defaultPointLight
    )
  };
})());
const webGLRenderer$3 = /* @__PURE__ */ webGLRenderer$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({
    reflectSymbol: () => "webGLRenderer"
  }))(convertOptionWebGLRendere11)()()()({ reflectSymbol: () => "canvas" });
  return {
    toInitializeWebGLRenderer: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(WebGLRendererOptions)($$Proxy)(provided)({}),
      defaultWebGLRenderer
    )
  };
})());
const unrealBloomPass$2 = /* @__PURE__ */ unrealBloomPass$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({
    reflectSymbol: () => "unrealBloomPass"
  }))(convertOptionUnrealBloomP)()()()({ reflectSymbol: () => "threshold" }))(convertOptionUnrealBloomP2)()()()({
    reflectSymbol: () => "strength"
  }))(convertOptionUnrealBloomP3)()()()({ reflectSymbol: () => "resolution" }))(convertOptionUnrealBloomP1)()()()({
    reflectSymbol: () => "radius"
  });
  return {
    toInitializeUnrealBloomPass: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(provided)({}),
      defaultUnrealBloomPass
    )
  };
})());
const render$2 = { type: "render", value: unit };
const runThree$1 = (opts) => {
  const tameXAxis = (v) => {
    if (!v) {
      return (i2) => mapAccum$4((v1) => (c2) => {
        if (v1._2) {
          return $Tuple(
            c2 + 1 | 0,
            (() => {
              if (c2 > 120) {
                return v1._1;
              }
              return v1._1 * toNumber(c2) / toNumber(120);
            })()
          );
        }
        return $Tuple(0, 0);
      })(applyEvent.apply((b, k) => i2(
        b,
        (a2) => {
          const $6 = Tuple(a2);
          return k($6);
        }
      ))((tf, k) => {
        const a$p = applicativeEvent.pure(false)(tf, k);
        const a$p$1 = opts.pressedStart(tf, k);
        return () => {
          a$p();
          return a$p$1();
        };
      }))(0);
    }
    if (v) {
      return lpf(0.65);
    }
    fail$3();
  };
  const $2 = run$1($Entity(
    "EventfulElement'",
    keepLatest(backdoor.mailboxed(ordColumn)((b, k) => opts.columnPusher.event(b, (a2) => k({ payload: unit, address: a2 })))((columnCtor) => vbust$1($$Proxy)((v) => globalCameraPortal1()()(perspectiveCamera$3({
      perspectiveCamera: opts.threeDI.perspectiveCamera,
      fov: 75,
      aspect: opts.initialDims.iw / opts.initialDims.ih,
      near: 0.1,
      far: 100
    })((() => {
      const $4 = playerPosition(opts.myPlayer)(AxisZ);
      return oneOf$e([
        (() => {
          const $5 = tameXAxis(false)((() => {
            const $52 = playerPosition(opts.myPlayer)(AxisX);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $9 = $52(a2.playerPositions);
                return k($9);
              }
            );
          })());
          return (b, k) => $5(b, (a2) => k({ type: "positionX", value: a2 }));
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((() => {
            const $52 = playerPosition(opts.myPlayer)(AxisY);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $9 = $52(a2.playerPositions);
                return k($9);
              }
            );
          })());
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "positionY", value: a2._1.cameraOffsetY + a2._2 };
              return k($9);
            }
          );
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $8 = $4(a2.playerPositions);
              return k($8);
            }
          ));
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "positionZ", value: a2._1.cameraOffsetZ + a2._2 };
              return k($9);
            }
          );
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $8 = $4(a2.playerPositions);
              return k($8);
            }
          ));
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "rotationFromEuler", value: ctor_$1(opts.threeDI.euler)({ x: a2._1.cameraRotationAroundX, y: 0, z: 0 }) };
              return k($9);
            }
          );
        })(),
        (b, k) => opts.resizeE(
          b,
          (a2) => {
            const $8 = { type: "aspect", value: a2.iw / a2.ih };
            return k($8);
          }
        )
      ]);
    })()))((myCamera) => {
      const shipsssss = (n2) => arrayMap((player) => unsafeInternalGroup((v$1) => v$1.makeGLTFGroup)({ group: sceneImpl(opts.models.spaceship) })(oneOf$e([
        (() => {
          const $7 = tameXAxis((() => {
            if (player.tag === "Player1") {
              return !(opts.myPlayer.tag === "Player1");
            }
            if (player.tag === "Player2") {
              return !(opts.myPlayer.tag === "Player2");
            }
            if (player.tag === "Player3") {
              return !(opts.myPlayer.tag === "Player3");
            }
            if (player.tag === "Player4") {
              return !(opts.myPlayer.tag === "Player4");
            }
            return true;
          })())((() => {
            const $72 = playerPosition(player)(AxisX);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $72(a2.playerPositions);
                return k($11);
              }
            );
          })());
          return (b, k) => $7(
            b,
            (a2) => {
              const $11 = { type: "positionX", value: n2 + a2 };
              return k($11);
            }
          );
        })(),
        (() => {
          const $7 = sampleBy(functorEvent)((v1) => (py) => v1.sphereOffsetY + py)(opts.renderingInfo)((() => {
            const $72 = playerPosition(player)(AxisY);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $72(a2.playerPositions);
                return k($11);
              }
            );
          })());
          return (b, k) => $7(b, (a2) => k({ type: "positionY", value: a2 }));
        })(),
        applicativeEvent.pure({
          type: "positionZ",
          value: (() => {
            if (player.tag === "Player1") {
              return -4;
            }
            if (player.tag === "Player2") {
              return -3;
            }
            if (player.tag === "Player3") {
              return -2;
            }
            if (player.tag === "Player4") {
              return -1;
            }
            fail$3();
          })()
        }),
        (() => {
          const $7 = playerPosition(player)(AxisZ);
          return (b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $11 = $7(a2.playerPositions);
              return k({ type: "positionZ", value: $11 });
            }
          );
        })(),
        applicativeEvent.pure({ type: "scaleX", value: 0.02 }),
        applicativeEvent.pure({ type: "scaleY", value: 0.02 }),
        applicativeEvent.pure({ type: "scaleZ", value: 0.02 }),
        (() => {
          if (player.tag === "Player1") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: sin(a2.rateInfo.time * 0.3141592653589793) * 0.06283185307179587,
                    y: sin(a2.rateInfo.time * 0.2827433388230814) * -0.09424777960769379,
                    z: cos(a2.rateInfo.time * 0.21991148575128555) * 0.12566370614359174
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player3") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: cos(a2.rateInfo.time * 0.18849555921538758) * 0.06283185307179587,
                    y: sin(a2.rateInfo.time * 0.34557519189487723) * 0.031415926535897934,
                    z: cos(a2.rateInfo.time * 0.09424777960769379) * -0.09424777960769379
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player2") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: sin(a2.rateInfo.time * 0.06283185307179587) * -0.15707963267948966,
                    y: cos(a2.rateInfo.time * 0.37699111843077515) * -0.06283185307179587,
                    z: sin(a2.rateInfo.time * -0.25132741228718347) * 0.25132741228718347
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player4") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: cos(a2.rateInfo.time * 0.031415926535897934) * 0.12566370614359174,
                    y: cos(a2.rateInfo.time * 0.09424777960769379) * -0.18849555921538758,
                    z: sin(a2.rateInfo.time * 0.06283185307179587) * -0.2827433388230814
                  })
                };
                return k($10);
              }
            );
          }
          fail$3();
        })()
      ]))([]))(filter$1((v1) => {
        if (v1.tag === "Player1") {
          return !(opts.myPlayer.tag === "Player1");
        }
        if (v1.tag === "Player2") {
          return !(opts.myPlayer.tag === "Player2");
        }
        if (v1.tag === "Player3") {
          return !(opts.myPlayer.tag === "Player3");
        }
        if (v1.tag === "Player4") {
          return !(opts.myPlayer.tag === "Player4");
        }
        return true;
      })(allPlayers));
      return globalScenePortal1()()(scene$1({ scene: opts.threeDI.scene })(applicativeEvent.pure({
        type: "background",
        value: $Background("CubeTexture", opts.cubeTextures.skybox)
      }))([
        unsafeInternalGroup((v$1) => v$1.makeGroup)({ group: opts.threeDI.group })(keepLatest((() => {
          const $6 = mapAccum$4((a2) => (b) => {
            if (b.tag === "Nothing") {
              return $Tuple($Maybe("Just", a2), 0);
            }
            if (b.tag === "Just") {
              return $Tuple($Maybe("Just", a2), a2 - b._1);
            }
            fail$3();
          })((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $9 = a2.rateInfo.epochTime / 1e3;
              return k($9);
            }
          ))(Nothing);
          return (b, k) => $6(
            b,
            (a2) => {
              const fac = a2 / 1e3;
              const $11 = oneOfMap$8(applicativeEvent.pure)([
                { type: "rotateX", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateY", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateZ", value: 1e-3 * cos(fac * 0.031415926535897934) }
              ]);
              return k($11);
            }
          );
        })()))(concatArray(shipsssss(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap((position) => makeBar({
          c3: colorRepresentationRGB.color(opts.threeDI.color),
          threeDI: opts.threeDI,
          renderingInfo: opts.renderingInfo,
          debug: opts.debug,
          initialIsMe: (() => {
            if (position.tag === "Position1") {
              return opts.myPlayer.tag === "Player1";
            }
            if (position.tag === "Position2") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              return opts.myPlayer.tag === "Player2";
            }
            if (position.tag === "Position3") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              if (opts.myPlayer.tag === "Player2") {
                return false;
              }
              return opts.myPlayer.tag === "Player3";
            }
            if (position.tag === "Position4") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              if (opts.myPlayer.tag === "Player2") {
                return false;
              }
              if (opts.myPlayer.tag === "Player3") {
                return false;
              }
              return opts.myPlayer.tag === "Player4";
            }
            if (opts.myPlayer.tag === "Player1") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player2") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player3") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player4") {
              fail$3();
            }
            return false;
          })(),
          isMe: dedup(eqBoolean)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $10 = (() => {
                if (opts.myPlayer.tag === "Player1") {
                  return a2.playerPositions.p1p;
                }
                if (opts.myPlayer.tag === "Player2") {
                  return a2.playerPositions.p2p;
                }
                if (opts.myPlayer.tag === "Player3") {
                  return a2.playerPositions.p3p;
                }
                if (opts.myPlayer.tag === "Player4") {
                  return a2.playerPositions.p4p;
                }
                fail$3();
              })();
              const $11 = (() => {
                if (position.tag === "Position1") {
                  return $10.tag === "Position1";
                }
                if (position.tag === "Position2") {
                  return $10.tag === "Position2";
                }
                if (position.tag === "Position3") {
                  return $10.tag === "Position3";
                }
                if (position.tag === "Position4") {
                  return $10.tag === "Position4";
                }
                return false;
              })();
              return k($11);
            }
          )),
          rateE: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          position
        }))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap((column) => makeRaycastableLane({
          initialDims: opts.initialDims,
          resizeEvent: opts.resizeE,
          c3: colorRepresentationRGB.color(opts.threeDI.color),
          renderingInfo: opts.renderingInfo,
          threeDI: opts.threeDI,
          rateInfo: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          debug: opts.debug,
          isMobile: opts.isMobile,
          rateE: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          column,
          columnPusher: opts.columnPusher.push(column)
        }))(allColumns)))(concatArray([
          ambientLight$2({ ambientLight: opts.threeDI.ambientLight, intensity: 0.1, color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 }) })(plusEvent.empty)
        ])(concatArray(arrayMap((player) => pointLight$2({
          pointLight: opts.threeDI.pointLight,
          distance: 4,
          decay: 2,
          intensity: 1,
          color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 })
        })(oneOf$e([
          (() => {
            const $7 = tameXAxis((() => {
              if (player.tag === "Player1") {
                return !(opts.myPlayer.tag === "Player1");
              }
              if (player.tag === "Player2") {
                return !(opts.myPlayer.tag === "Player2");
              }
              if (player.tag === "Player3") {
                return !(opts.myPlayer.tag === "Player3");
              }
              if (player.tag === "Player4") {
                return !(opts.myPlayer.tag === "Player4");
              }
              return true;
            })())((() => {
              const $72 = playerPosition(player)(AxisX);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionX", value: a2 }));
          })(),
          (() => {
            const $7 = sampleBy(functorEvent)((v1) => (py) => v1.lightOffsetY + py)(opts.renderingInfo)((() => {
              const $72 = playerPosition(player)(AxisY);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionY", value: a2 }));
          })(),
          (() => {
            const $7 = playerPosition(player)(AxisZ);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $7(a2.playerPositions);
                return k({ type: "positionZ", value: $11 });
              }
            );
          })(),
          applicativeEvent.pure({ type: "decay", value: 2 }),
          applicativeEvent.pure({ type: "intensity", value: 1 }),
          applicativeEvent.pure({ type: "distance", value: 4 })
        ])))(allPlayers))([
          opts.basicE(v._1.hitBasicVisualForLabel)(columnCtor),
          basicLabels({ threeDI: opts.threeDI, basicTap: v._2.hitBasicVisualForLabel, lpsCallback: opts.lowPriorityCb }),
          opts.leapE(v._1.hitLeapVisualForLabel)(columnCtor),
          opts.longE(v._1.hitLongVisualForLabel)(v._1.releaseLongVisualForLabel)(columnCtor),
          leapLabels({ threeDI: opts.threeDI, leapTap: v._2.hitLeapVisualForLabel, lpsCallback: opts.lowPriorityCb }),
          longLabels({
            threeDI: opts.threeDI,
            longTap: v._2.hitLongVisualForLabel,
            longRelease: v._2.releaseLongVisualForLabel,
            lpsCallback: opts.lowPriorityCb
          }),
          $Entity("Element'", myCamera)
        ]))))))
      ]))((myScene) => globalScenePortal1()()(scene$1({ scene: opts.threeDI.scene })(plusEvent.empty)([
        unsafeInternalGroup((v$1) => v$1.makeGroup)({ group: opts.threeDI.group })(keepLatest((() => {
          const $7 = mapAccum$4((a2) => (b) => {
            if (b.tag === "Nothing") {
              return $Tuple($Maybe("Just", a2), 0);
            }
            if (b.tag === "Just") {
              return $Tuple($Maybe("Just", a2), a2 - b._1);
            }
            fail$3();
          })((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $10 = a2.rateInfo.epochTime / 1e3;
              return k($10);
            }
          ))(Nothing);
          return (b, k) => $7(
            b,
            (a2) => {
              const fac = a2 / 1e3;
              const $12 = oneOfMap$8(applicativeEvent.pure)([
                { type: "rotateX", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateY", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateZ", value: 1e-3 * cos(fac * 0.031415926535897934) }
              ]);
              return k($12);
            }
          );
        })()))(concatArray(shipsssss(0))(arrayMap((player) => pointLight$2({
          pointLight: opts.threeDI.pointLight,
          distance: 4,
          decay: 2,
          intensity: 1,
          color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 })
        })(oneOf$e([
          (() => {
            const $8 = tameXAxis((() => {
              if (player.tag === "Player1") {
                return !(opts.myPlayer.tag === "Player1");
              }
              if (player.tag === "Player2") {
                return !(opts.myPlayer.tag === "Player2");
              }
              if (player.tag === "Player3") {
                return !(opts.myPlayer.tag === "Player3");
              }
              if (player.tag === "Player4") {
                return !(opts.myPlayer.tag === "Player4");
              }
              return true;
            })())((() => {
              const $82 = playerPosition(player)(AxisX);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $12 = $82(a2.playerPositions);
                  return k($12);
                }
              );
            })());
            return (b, k) => $8(b, (a2) => k({ type: "positionX", value: a2 }));
          })(),
          (() => {
            const $8 = sampleBy(functorEvent)((v1) => (py) => v1.lightOffsetY + py)(opts.renderingInfo)((() => {
              const $82 = playerPosition(player)(AxisY);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $12 = $82(a2.playerPositions);
                  return k($12);
                }
              );
            })());
            return (b, k) => $8(b, (a2) => k({ type: "positionY", value: a2 }));
          })(),
          (() => {
            const $8 = playerPosition(player)(AxisZ);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $12 = $8(a2.playerPositions);
                return k({ type: "positionZ", value: $12 });
              }
            );
          })(),
          applicativeEvent.pure({ type: "decay", value: 2 }),
          applicativeEvent.pure({ type: "intensity", value: 1 }),
          applicativeEvent.pure({ type: "distance", value: 4 })
        ])))(allPlayers)))
      ]))((myShips) => globalWebGLRendererPortal1()()(webGLRenderer$3(myScene)(myCamera)({ canvas: opts.canvas, webGLRenderer: opts.threeDI.webGLRenderer })(oneOf$e([
        applicativeEvent.pure({ type: "size", value: { width: opts.initialDims.iw, height: opts.initialDims.ih } }),
        (b, k) => opts.resizeE(b, (a2) => k({ type: "size", value: { width: a2.iw, height: a2.ih } }))
      ])))((myWebGLRenderer) => globalEffectComposerPortal1()()(effectComposer$1({ effectComposer: opts.threeDI.effectComposer })(myWebGLRenderer)(plusEvent.empty)([
        renderPass$1({ renderPass: opts.threeDI.renderPass })(myShips)(myCamera),
        unrealBloomPass$2({
          unrealBloomPass: opts.threeDI.unrealBloomPass,
          radius: 1,
          resolution: ctor_(opts.threeDI.vector2)({ x: 1e3, y: 1e3 }),
          strength: 3,
          threshold: 0.1
        })(plusEvent.empty)
      ]))((myShipComposer) => $Entity(
        "FixedChildren'",
        [
          raycaster$1({ raycaster: opts.threeDI.raycaster, canvas: opts.canvas })(myCamera),
          $Entity(
            "Element'",
            effectComposer$1({ effectComposer: opts.threeDI.effectComposer })(myWebGLRenderer)(oneOf$e([
              applicativeEvent.pure(render$2),
              (b, k) => opts.animatedStuff(b, (a2) => k(render$2))
            ]))([
              renderPass$1({ renderPass: opts.threeDI.renderPass })(myScene)(myCamera),
              effectComposerPass$1({ effectComposerPass: opts.threeDI.effectComposerPass })(myShipComposer)
            ])
          ),
          $Entity(
            "EventfulElement'",
            (b, k) => opts.css2DRendererElt(
              b,
              (a2) => {
                const $13 = css2DRenderer$1(myScene)(myCamera)({ canvas: opts.canvas, element: a2, css2DRenderer: opts.threeDI.css2DRenderer })(oneOf$e([
                  (b$1, k$1) => opts.resizeE(b$1, (a$1) => k$1({ type: "size", value: { width: a$1.iw, height: a$1.ih } })),
                  applicativeEvent.pure(render$2),
                  (b$1, k$1) => opts.animatedStuff(b$1, (a$1) => k$1(render$2))
                ]));
                return k($13);
              }
            )
          ),
          $Entity(
            "EventfulElement'",
            (b, k) => opts.css3DRendererElt(
              b,
              (a2) => {
                const $13 = css3DRenderer$1(myScene)(myCamera)({ canvas: opts.canvas, element: a2, css3DRenderer: opts.threeDI.css3DRenderer })(oneOf$e([
                  (b$1, k$1) => opts.resizeE(b$1, (a$1) => k$1({ type: "size", value: { width: a$1.iw, height: a$1.ih } })),
                  applicativeEvent.pure(render$2),
                  (b$1, k$1) => opts.animatedStuff(b$1, (a$1) => k$1(render$2))
                ]));
                return k($13);
              }
            )
          )
        ]
      )))));
    }))))
  ));
  return () => {
    $2();
    return unit;
  };
};
var NUMERIC = "numeric";
var SUDDEN = "sudden";
var UNIT = "unit";
var CANCEL = "cancel";
var NO_RAMP = "step";
var LINEAR_RAMP = "linear";
var EXPONENTIAL_RAMP = "exponential";
var ENVELOPE = "envelope";
var protoSetter = function(thingee, ctrl, param2, state) {
  if (param2.type === SUDDEN) {
    thingee.value = param2.value.n;
  } else if (param2.type === UNIT) {
    if (ctrl.id) {
      disconnectCtrl(ctrl.id, state);
    }
    state.units[param2.value.i].main.connect(thingee);
    ctrl.id = param2.value.i;
  } else {
    if (param2.type === NUMERIC) {
      thingee[param2.value.t.type === NO_RAMP ? "setValueAtTime" : param2.value.t.type === LINEAR_RAMP ? "linearRampToValueAtTime" : param2.value.t.type === EXPONENTIAL_RAMP ? "exponentialRampToValueAtTime" : "linearRampToValueAtTime"](param2.value.n, param2.value.o);
    } else if (param2.type === CANCEL) {
      param2.value.hold ? thingee.cancelAndHoldAtTime(param2.value.o) : thingee.cancelScheduledValues(param2.value.o);
    } else if (param2.type === ENVELOPE) {
      const tm = param2.value.o;
      thingee.cancelScheduledValues(Math.max(0, tm));
      thingee.setValueCurveAtTime(param2.value.p, tm, param2.value.d);
    } else {
      throw new Error("No idea what to do with " + JSON.stringify(param2));
    }
  }
};
var workletSetter = function(state, unit2, paramName, controllers, param2) {
  if (!controllers[paramName]) {
    controllers[paramName] = {};
  }
  return protoSetter(
    unit2.parameters.get(paramName),
    controllers[paramName],
    param2,
    state
  );
};
var genericSetter = function(state, unit2, name, controllers, param2) {
  if (!controllers[name]) {
    controllers[name] = {};
  }
  return protoSetter(unit2[name], controllers[name], param2, state);
};
var addToScope = function(mbe, ptr, scope$, state) {
  const scope = mbe("@fan@")((x) => x)(scope$);
  if (!state.scopes[scope]) {
    state.scopes[scope] = [];
  }
  state.scopes[scope].push(ptr);
  state.units[ptr].scope = scope;
};
var doDeferredConnections = function(ptr, state) {
  if (state.toConnect[ptr]) {
    state.toConnect[ptr].forEach(function(conn) {
      if (conn.w) {
        if (state.units[conn.w]) {
          conn.f();
        } else {
          if (!state.toConnect[conn.w]) {
            state.toConnect[conn.w] = [];
          }
          state.toConnect[conn.w].push({ f: conn.f });
        }
      } else {
        conn.f();
      }
    });
    delete state.toConnect[ptr];
  }
};
var mConnectXToY_ = function(mbe, x, y$, state) {
  mbe()((y) => connectXToYInternal_(x, y, state))(y$);
};
var connectXToYInternal_ = function(x, y, state) {
  var connectF = function() {
    state.units[x].audioOutgoing.push(y);
    if (!state.units[x].pendingOn) {
      state.units[x].main.connect(state.units[y].main);
      if (state.units[y].se) {
        state.units[x].main.connect(state.units[y].se);
      }
    }
  };
  if (!state.units[x]) {
    if (!state.toConnect[x]) {
      state.toConnect[x] = [];
    }
    var conn = { f: connectF };
    if (y !== x && !state.units[y]) {
      conn.w = y;
    }
    state.toConnect[x].push(conn);
    return;
  }
  if (!state.units[y]) {
    if (!state.toConnect[y]) {
      state.toConnect[y] = [];
    }
    var conn = { f: connectF };
    if (y !== x && !state.units[x]) {
      conn.w = x;
    }
    state.toConnect[y].push(conn);
    return;
  }
  connectF();
};
function deleteFromCache_(a2) {
  return function(state) {
    return function() {
      delete state.units[a2.id];
    };
  };
}
function connectXToY_(parameters) {
  return function(state) {
    return function() {
      connectXToYInternal_(parameters["from"], parameters["to"], state);
    };
  };
}
var disconnectCtrl = function(ptr, state) {
  if (state.units[ptr].scope === "@fan@") {
    return;
  }
  const scope = state.units[ptr].scope;
  state.scopes[scope].forEach((scp) => {
    delete state.units[scp];
  });
  delete state.scopes[scope];
};
function disconnectXFromY_(a2) {
  return function(state) {
    return function() {
      var x = a2.from;
      var y = a2.to;
      if (!state.units[x]) {
        return;
      }
      state.units[x].audioOutgoing = state.units[x].audioOutgoing.filter(
        function(i2) {
          return !(i2 === y);
        }
      );
      state.units[x].main.disconnect(state.units[y].main);
      if (state.units[y].se) {
        state.units[x].main.disconnect(state.units[y].se);
      }
      if (state.units[x].scope === "@fan@") {
        return;
      }
      const scope = state.units[x].scope;
      state.scopes[scope].forEach((scp) => {
        delete state.units[scp];
      });
      delete state.scopes[scope];
    };
  };
}
const makeAllpass_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "allpass",
      Q: a2.q,
      frequency: a2.frequency
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeAnalyser_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var analyserSideEffectFunction = a2.cb;
  var dest = new AnalyserNode(state.context, a2);
  var unsubscribe = analyserSideEffectFunction(dest)();
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    analyserOrig: analyserSideEffectFunction,
    analyser: unsubscribe,
    main: state.context.createGain(),
    se: dest
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeAudioWorkletNode_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var opts = a2.options;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new AudioWorkletNode(state.context, opts.name, {
      numberOfInputs: opts.numberOfInputs,
      numberOfOutputs: opts.numberOfOutputs,
      outputChannelCount: opts.outputChannelCount,
      parameterData: opts.parameterData,
      processorOptions: opts.processorOptions
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeBandpass_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "bandpass",
      Q: a2.q,
      frequency: a2.frequency
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeConstant_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new ConstantSourceNode(context, i2);
  };
  var resume = { offset: a2.offset };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeConvolver_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new ConvolverNode(state.context, { buffer: a2.buffer })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeDelay_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new DelayNode(state.context, {
      delayTime: a2.delayTime,
      maxDelayTime: a2.maxDelayTime
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeDynamicsCompressor_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new DynamicsCompressorNode(state.context, {
      knee: a2.knee,
      ratio: a2.ratio,
      threshold: a2.threshold,
      attack: a2.attack,
      release: a2.release
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeGain_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new GainNode(state.context, {
      gain: a2.gain
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeHighpass_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "highpass",
      Q: a2.q,
      frequency: a2.frequency
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeHighshelf_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "highshelf",
      frequency: a2.frequency,
      gain: a2.gain
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeIIRFilter_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new IIRFilterNode(state.context, {
      feedforward: a2.feedforward,
      feedback: a2.feedback
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeLoopBuf_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new AudioBufferSourceNode(context, i2);
  };
  var resume = {
    loop: true,
    buffer: a2.buffer,
    loopStart: a2.loopStart,
    loopEnd: a2.loopEnd,
    playbackRate: a2.playbackRate
  };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeLowpass_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "lowpass",
      Q: a2.q,
      frequency: a2.frequency
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeLowshelf_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "lowshelf",
      frequency: a2.frequency,
      gain: a2.gain
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeMediaElement_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var elt = a2.element;
  var createClosure = function() {
    var unit2 = state.context.createMediaElementSource(elt);
    return unit2;
  };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    createClosure,
    resumeClosure: {},
    main: createClosure()
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeMicrophone_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[a2.id] = {
    main: state.context.createMediaStreamSource(a2.microphone),
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: []
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeNotch_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "notch",
      frequency: a2.frequency,
      Q: a2.q
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makePeaking_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new BiquadFilterNode(state.context, {
      type: "peaking",
      frequency: a2.frequency,
      Q: a2.q,
      gain: a2.gain
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makePeriodicOsc_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    var opts = {
      frequency: i2.frequency,
      periodicWave: i2.spec.type === "wave" ? i2.spec.value : makePeriodicWaveImpl(state.context)(i2.spec.value.real)(
        i2.spec.value.img
      )()
    };
    var o = new OscillatorNode(context, opts);
    return o;
  };
  var resume = { frequency: a2.frequency, type: "custom", spec: a2.spec };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makePlayBuf_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    var opts = {
      loop: i2.loop,
      buffer: i2.buffer,
      playbackRate: i2.playbackRate
    };
    return new AudioBufferSourceNode(context, opts);
  };
  var resume = {
    loop: false,
    buffer: a2.buffer,
    playbackRate: a2.playbackRate,
    bufferOffset: a2.bufferOffset,
    duration: mbe(void 0)((x) => x)(a2.duration)
  };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeRecorder_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var mediaRecorderSideEffectFn = a2.cb;
  var dest = state.context.createMediaStreamDestination();
  var mediaRecorder = new MediaRecorder(dest.stream);
  mediaRecorderSideEffectFn(mediaRecorder)();
  mediaRecorder.start();
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    recorderOrig: mediaRecorderSideEffectFn,
    recorder: mediaRecorder,
    main: state.context.createGain(),
    se: dest
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeSawtoothOsc_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new OscillatorNode(context, i2);
  };
  var resume = { frequency: a2.frequency, type: "sawtooth" };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeSinOsc_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new OscillatorNode(context, i2);
  };
  var resume = { frequency: a2.frequency, type: "sine" };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeSpeaker_ = (a2) => (state) => () => {
  state.units[a2.id] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: state.context.createGain(),
    se: state.context.destination
  };
};
const makeStereoPanner_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new StereoPannerNode(state.context, {
      pan: a2.pan
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeSquareOsc_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new OscillatorNode(context, i2);
  };
  var resume = { frequency: a2.frequency, type: "square" };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeTriangleOsc_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var createClosure = function(context, i2) {
    return new OscillatorNode(context, i2);
  };
  var resume = { frequency: a2.frequency, type: "triangle" };
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    resume,
    createClosure,
    onOff: false,
    pendingOn: true,
    main: createClosure(state.context, resume)
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
const makeWaveShaper_ = (mbe) => (a2) => (state) => () => {
  var ptr = a2.id;
  var curve = a2.curve;
  var b = a2.oversample;
  state.units[ptr] = {
    controllers: {},
    audioOutgoing: [],
    controlOutgoing: [],
    main: new WaveShaperNode(state.context, {
      curve,
      oversample: b.type
    })
  };
  addToScope(mbe, ptr, a2.scope, state);
  doDeferredConnections(ptr, state);
  mConnectXToY_(mbe, ptr, a2.parent, state);
};
function setAnalyserNodeCb_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.cb;
      if (state.units[ptr].analyserOrig === a2) {
        return;
      }
      state.units[ptr].analyser && state.units[ptr].analyser();
      state.units[ptr].analyser = a2(state.units[ptr].se)();
      state.units[ptr].analyserOrig = a2;
    };
  };
}
function setMediaRecorderCb_(aa) {
  return function(state) {
    return function() {
      var a2 = aa.cb;
      var ptr = aa.id;
      if (state.units[ptr].recorderOrig === a2) {
        return;
      }
      state.units[ptr].recorder && state.units[ptr].recorder.stop();
      var mediaRecorderSideEffectFn = a2;
      state.units[ptr].recorderOrig = a2;
      var mediaRecorder = new MediaRecorder(state.units[ptr].se);
      mediaRecorderSideEffectFn(mediaRecorder)();
      mediaRecorder.start();
    };
  };
}
function setWaveShaperCurve_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.curve;
      state.units[ptr].main.curve = a2;
    };
  };
}
function setAudioWorkletParameter_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.paramName;
      var b = aa.paramValue;
      workletSetter(
        state,
        state.units[ptr].main,
        a2,
        state.units[ptr].controllers,
        b
      );
    };
  };
}
const recalcResume = function(a2, u, v) {
  if (u.resume) {
    if (a2.value.n !== void 0) {
      u.resume[v] = a2.value.n;
    }
  }
};
function setGain_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.gain;
      genericSetter(
        state,
        state.units[ptr].main,
        "gain",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "gain");
    };
  };
}
function setQ_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.q;
      genericSetter(
        state,
        state.units[ptr].main,
        "Q",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "Q");
    };
  };
}
function setBuffer_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.buffer;
      if (state.units[ptr].resume) {
        state.units[ptr].resume.buffer = a2;
      }
    };
  };
}
function setConvolverBuffer_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var buffer = aa.buffer;
      state.units[ptr].main.buffer = buffer;
    };
  };
}
function setPeriodicOsc_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.spec;
      if (state.units[ptr].resume) {
        state.units[ptr].resume.spec = a2;
      }
    };
  };
}
function setPan_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.pan;
      genericSetter(
        state,
        state.units[ptr].main,
        "pan",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "pan");
    };
  };
}
function setThreshold_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.threshold;
      genericSetter(
        state,
        state.units[ptr].main,
        "threshold",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "threshold");
    };
  };
}
function setLoopStart_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.loopStart;
      state.units[ptr].main.loopStart = a2;
      state.units[ptr].resume.loopStart = a2;
    };
  };
}
function setLoopEnd_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.loopEnd;
      state.units[ptr].main.loopEnd = a2;
      state.units[ptr].resume.loopEnd = a2;
    };
  };
}
function setBufferOffset_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.bufferOffset;
      state.units[ptr].resume.bufferOffset = a2;
    };
  };
}
function setDuration_(mbe) {
  return function(aa) {
    return function(state) {
      return function() {
        var ptr = aa.id;
        var a2 = aa.duration;
        state.units[ptr].duration = mbe(void 0)((x) => x)(a2);
      };
    };
  };
}
function setRelease_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.release;
      genericSetter(
        state,
        state.units[ptr].main,
        "release",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "release");
    };
  };
}
function setOffset_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.offset;
      genericSetter(
        state,
        state.units[ptr].main,
        "offset",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "offset");
    };
  };
}
function setRatio_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.ratio;
      genericSetter(
        state,
        state.units[ptr].main,
        "ratio",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "ratio");
    };
  };
}
function setAttack_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.attack;
      genericSetter(
        state,
        state.units[ptr].main,
        "attack",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "attack");
    };
  };
}
function setKnee_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.knee;
      genericSetter(
        state,
        state.units[ptr].main,
        "knee",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "knee");
    };
  };
}
function setDelay_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.delayTime;
      genericSetter(
        state,
        state.units[ptr].main,
        "delayTime",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "delayTime");
    };
  };
}
function setPlaybackRate_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.playbackRate;
      genericSetter(
        state,
        state.units[ptr].main,
        "playbackRate",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "playbackRate");
    };
  };
}
function setFrequency_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var a2 = aa.frequency;
      genericSetter(
        state,
        state.units[ptr].main,
        "frequency",
        state.units[ptr].controllers,
        a2
      );
      recalcResume(a2, state.units[ptr], "frequency");
    };
  };
}
function setOnOff_(aa) {
  return function(state) {
    return function() {
      var ptr = aa.id;
      var onOff = aa.onOff;
      if (onOff.x.type === "on") {
        setOn_(ptr)(onOff)(state)();
      } else if (onOff.x.type === "off") {
        setOff_(ptr)(onOff)(state)();
      }
    };
  };
}
var setOn_ = function(ptr) {
  return function(onOffInstr) {
    return function(state) {
      return function() {
        if (state.units[ptr].onOff) {
          return;
        }
        state.units[ptr].pendingOn = false;
        state.units[ptr].onOff = true;
        state.units[ptr].main = state.units[ptr].createClosure(
          state.context,
          state.units[ptr].resume
        );
        for (var i2 = 0; i2 < state.units[ptr].audioOutgoing.length; i2++) {
          var ogi = state.units[ptr].audioOutgoing[i2];
          state.units[ptr].main.connect(state.units[ogi].main);
          if (state.units[ogi].se) {
            state.units[ptr].main.connect(state.units[ogi].se);
          }
        }
        if (state.units[ptr].resume && state.units[ptr].resume.bufferOffset) {
          if (typeof state.units[ptr].resume.duration === "number") {
            state.units[ptr].main.start(
              state.deprecatedWriteHead + onOffInstr.o,
              state.units[ptr].resume.bufferOffset,
              state.units[ptr].resume.duration
            );
          } else {
            state.units[ptr].main.start(
              state.deprecatedWriteHead + onOffInstr.o,
              state.units[ptr].resume.bufferOffset
            );
          }
        } else if (state.units[ptr].resume && state.units[ptr].resume.loopStart) {
          state.units[ptr].main.start(
            state.deprecatedWriteHead + onOffInstr.o,
            state.units[ptr].resume.loopStart
          );
        } else {
          state.units[ptr].main.start(state.deprecatedWriteHead + onOffInstr.o);
        }
      };
    };
  };
};
var setOff_ = function(ptr) {
  return function(onOffInstr) {
    return function(state) {
      return function() {
        if (!state.units[ptr].onOff) {
          return;
        }
        state.units[ptr].onOff = false;
        var oldMain = state.units[ptr].main;
        oldMain.addEventListener("ended", () => {
          oldMain.disconnect();
        });
        oldMain.stop(state.deprecatedWriteHead + onOffInstr.o);
      };
    };
  };
};
function constant0Hack_(context) {
  return function() {
    var constant = context.createConstantSource();
    constant.offset.value = 0;
    constant.connect(context.destination);
    constant.start();
    return function() {
      constant.stop();
      constant.disconnect(context.destination);
    };
  };
}
var makePeriodicWaveImpl = function(ctx) {
  return function(real_) {
    return function(imag_) {
      return function() {
        var real = new Float32Array(real_.length);
        var imag = new Float32Array(imag_.length);
        for (var i2 = 0; i2 < real_.length; i2++) {
          real[i2] = real_[i2];
        }
        for (var i2 = 0; i2 < imag_.length; i2++) {
          imag[i2] = imag_[i2];
        }
        return ctx.createPeriodicWave(real, imag, {
          disableNormalization: true
        });
      };
    };
  };
};
function makeFFIAudioSnapshot(audioCtx) {
  return function() {
    return {
      context: audioCtx,
      deprecatedWriteHead: 0,
      units: {},
      scopes: {},
      unsu: {},
      toConnect: {}
    };
  };
}
function close_(audioCtx) {
  return function() {
    audioCtx.close();
  };
}
function fetchArrayBuffer(s2) {
  return function() {
    {
      return fetch(s2).then(
        function(b) {
          return b.arrayBuffer();
        },
        function(e2) {
          console.error("Error fetching buffer", e2);
          return Promise.reject(e2);
        }
      );
    }
  };
}
function decodeAudioDataFromArrayBuffer(ctx) {
  return function(b) {
    return function() {
      return ctx.decodeAudioData(b);
    };
  };
}
function context_() {
  return new (window.AudioContext || window.webkitAudioContext)();
}
function contextState_(audioCtx) {
  return function() {
    return audioCtx.state;
  };
}
function getAudioClockTime(ctx) {
  return function() {
    return ctx.currentTime;
  };
}
function makeAudioBuffer_(ctx) {
  return function(b) {
    return function() {
      var myArrayBuffer = ctx.createBuffer(
        b.arr.length,
        b.arr[0].length,
        b.size
      );
      for (var channel = 0; channel < myArrayBuffer.numberOfChannels; channel++) {
        var nowBuffering = myArrayBuffer.getChannelData(channel);
        for (var i2 = 0; i2 < myArrayBuffer.length; i2++) {
          nowBuffering[i2] = b.arr[channel][i2];
        }
      }
      return myArrayBuffer;
    };
  };
}
const effectfulAudioInterpret = (seed) => ({
  ids: () => {
    const s2 = seed.value;
    const $2 = seed.value;
    seed.value = 1 + $2 | 0;
    return showIntImpl(arbInt.arbitrary({
      newSeed: (() => {
        const n$p = intMod(s2)(2147483645);
        if (n$p < 1) {
          return n$p + 2147483646 | 0;
        }
        return n$p;
      })(),
      size: 5
    })._1);
  },
  deleteFromCache: deleteFromCache_,
  disconnectXFromY: disconnectXFromY_,
  connectXToY: connectXToY_,
  makeAllpass: makeAllpass_(maybe),
  makeAnalyser: makeAnalyser_(maybe),
  makeAudioWorkletNode: makeAudioWorkletNode_(maybe),
  makeBandpass: makeBandpass_(maybe),
  makeConstant: makeConstant_(maybe),
  makeConvolver: makeConvolver_(maybe),
  makeDelay: makeDelay_(maybe),
  makeDynamicsCompressor: makeDynamicsCompressor_(maybe),
  makeGain: makeGain_(maybe),
  makeHighpass: makeHighpass_(maybe),
  makeHighshelf: makeHighshelf_(maybe),
  makeIIRFilter: makeIIRFilter_(maybe),
  makeLoopBuf: makeLoopBuf_(maybe),
  makeLowpass: makeLowpass_(maybe),
  makeLowshelf: makeLowshelf_(maybe),
  makeMediaElement: makeMediaElement_(maybe),
  makeMicrophone: makeMicrophone_(maybe),
  makeNotch: makeNotch_(maybe),
  makePeaking: makePeaking_(maybe),
  makePeriodicOsc: makePeriodicOsc_(maybe),
  makePlayBuf: makePlayBuf_(maybe),
  makeRecorder: makeRecorder_(maybe),
  makeSawtoothOsc: makeSawtoothOsc_(maybe),
  makeSinOsc: makeSinOsc_(maybe),
  makeSpeaker: makeSpeaker_,
  makeSquareOsc: makeSquareOsc_(maybe),
  makeStereoPanner: makeStereoPanner_(maybe),
  makeTriangleOsc: makeTriangleOsc_(maybe),
  makeWaveShaper: makeWaveShaper_(maybe),
  setAnalyserNodeCb: setAnalyserNodeCb_,
  setMediaRecorderCb: setMediaRecorderCb_,
  setWaveShaperCurve: setWaveShaperCurve_,
  setAudioWorkletParameter: setAudioWorkletParameter_,
  setBuffer: setBuffer_,
  setConvolverBuffer: setConvolverBuffer_,
  setDuration: setDuration_(maybe),
  setPeriodicOsc: setPeriodicOsc_,
  setOnOff: setOnOff_,
  setBufferOffset: setBufferOffset_,
  setLoopStart: setLoopStart_,
  setLoopEnd: setLoopEnd_,
  setRatio: setRatio_,
  setOffset: setOffset_,
  setAttack: setAttack_,
  setGain: setGain_,
  setQ: setQ_,
  setPan: setPan_,
  setThreshold: setThreshold_,
  setRelease: setRelease_,
  setKnee: setKnee_,
  setDelay: setDelay_,
  setPlaybackRate: setPlaybackRate_,
  setFrequency: setFrequency_
});
const decodeAudioDataFromUri = (ctx) => (s2) => _bind(_bind(_liftEffect(fetchArrayBuffer(s2)))(toAff$p(coerce)))((() => {
  const $2 = decodeAudioDataFromArrayBuffer(ctx);
  return (x) => _bind(_liftEffect($2(x)))(toAff$p(coerce));
})());
const close = (dictMonadEffect) => (ctx) => dictMonadEffect.liftEffect((() => {
  const $2 = contextState_(ctx);
  return () => {
    const st = $2();
    const $4 = close_(ctx);
    if (st !== "closed") {
      return $4();
    }
    return unit;
  };
})());
const withACTime = (ctx) => (e2) => backdoor.makeEvent((k) => subscribe(e2)((value2) => {
  const $4 = getAudioClockTime(ctx);
  return () => {
    const acTime = $4();
    return k({ acTime, value: value2 })();
  };
}));
const run2 = (ctx) => (s2) => {
  const $2 = makeFFIAudioSnapshot(ctx);
  return () => {
    const ffi = $2();
    const rf = { value: 0 };
    const u = subscribe(speaker(s2)(effectfulAudioInterpret(rf)))((f) => f(ffi))();
    return u;
  };
};
const set_ = (matrix42) => ({
  n11,
  n12,
  n13,
  n14,
  n21,
  n22,
  n23,
  n24,
  n31,
  n32,
  n33,
  n34,
  n41,
  n42,
  n43,
  n44
}) => new matrix42().set(
  n11,
  n12,
  n13,
  n14,
  n21,
  n22,
  n23,
  n24,
  n31,
  n32,
  n33,
  n34,
  n41,
  n42,
  n43,
  n44
);
const $CenterState = (tag, _1) => ({ tag, _1 });
const $FadeInstruction = (tag) => ({ tag });
const identity$9 = (x) => x;
const oneOf$d = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const vbussed$1 = /* @__PURE__ */ vbussed$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "basicAudio" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "iAmReady"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "leapAudio" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "longAudio" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "pressedStart"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "rateInfo" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "render2DElement" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "render3DElement"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "tutorialCenterState" })()()(vbusNil)()())()())()())()())()())()())()())()())()());
const traverse_$5 = /* @__PURE__ */ traverse_$7(applicativeEffect)(foldableMaybe);
const fromFoldable$7 = /* @__PURE__ */ fromFoldable$9(ordNumber)(foldableArray);
const pure2$1 = /* @__PURE__ */ (() => applicativeABehavior(functorEvent).pure)();
const max$8 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const applicativeExceptT$1 = /* @__PURE__ */ applicativeExceptT$3(monadIdentity);
const traverse$2 = /* @__PURE__ */ (() => traversableMap.traverse(applicativeExceptT$1))();
const throwError$1 = /* @__PURE__ */ (() => monadThrowExceptT(monadIdentity).throwError)();
const biSampleOn$3 = /* @__PURE__ */ biSampleOn$4(eventIsEvent);
const oneOfMap$7 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const FadeIn = /* @__PURE__ */ $FadeInstruction("FadeIn");
const FadeOut = /* @__PURE__ */ $FadeInstruction("FadeOut");
const FadeInOut = /* @__PURE__ */ $FadeInstruction("FadeInOut");
const Intro = /* @__PURE__ */ $CenterState("Intro");
const Tiles = /* @__PURE__ */ $CenterState("Tiles");
const Tilt = /* @__PURE__ */ $CenterState("Tilt");
const Leap = /* @__PURE__ */ $CenterState("Leap");
const Long = /* @__PURE__ */ $CenterState("Long");
const End$1 = /* @__PURE__ */ $CenterState("End");
const Empty$1 = /* @__PURE__ */ $CenterState("Empty");
const tutorial$1 = (tli) => (tscore) => (v) => {
  const $3 = contains("tutorial-fade-in-animation");
  const $4 = replace("tutorial-fade-in-animation")("tutorial-fade-out-animation opacity-0 ");
  const tutorialCenterMatterFrame = (hd, txt, endBtnHack, action, fade, cb, pcenter) => $Entity(
    "EventfulElement'",
    backdoor.bus((setFadeOut) => (fadeOut$p) => $Entity(
      "Element'",
      elementify("div")((b, k) => {
        const $16 = (a2) => {
          const $17 = {
            key: "class",
            value: $AttributeValue(
              "Prop'",
              a2((() => {
                if (fade.tag === "FadeIn") {
                  return "tutorial-fade-in-animation ";
                }
                if (fade.tag === "FadeInOut") {
                  return "tutorial-fade-in-animation ";
                }
                return "opacity-100 ";
              })()) + "z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900"
            )
          };
          return k($17);
        };
        const a$p = applicativeEvent.pure(identity$9)(b, $16);
        const a$p$1 = fadeOut$p(b, $16);
        return () => {
          a$p();
          return a$p$1();
        };
      })($Entity(
        "FixedChildren'",
        [
          $Entity(
            "Element'",
            elementify("div")(applicativeEvent.pure({
              key: "class",
              value: $AttributeValue("Prop'", "select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6 md:col-start-3 md:col-end-5")
            }))($Entity(
              "FixedChildren'",
              concatArray([
                $Entity(
                  "Element'",
                  elementify("div")(applicativeEvent.pure({
                    key: "class",
                    value: $AttributeValue("Prop'", "pointer-events-auto text-center p-4 text-2xl text-slate-200")
                  }))($Entity(
                    "FixedChildren'",
                    [
                      $Entity(
                        "Element'",
                        elementify("p")(plusEvent.empty)($Entity("FixedChildren'", [text(applicativeEvent.pure(hd))]))
                      )
                    ]
                  ))
                )
              ])(concatArray((() => {
                if (txt.tag === "Just") {
                  return [
                    $Entity(
                      "Element'",
                      elementify("div")(applicativeEvent.pure({
                        key: "class",
                        value: $AttributeValue("Prop'", "pointer-events-auto text-center text-white p-4")
                      }))($Entity("FixedChildren'", [txt._1]))
                    )
                  ];
                }
                if (txt.tag === "Nothing") {
                  return [];
                }
                fail$3();
              })())([
                $Entity(
                  "Element'",
                  elementify("div")(applicativeEvent.pure({
                    key: "class",
                    value: $AttributeValue("Prop'", "flex w-full justify-center items-center")
                  }))($Entity(
                    "FixedChildren'",
                    concatArray((() => {
                      const $14 = [
                        $Entity(
                          "Element'",
                          elementify("button")(oneOf$d([
                            applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto") }),
                            applicativeEvent.pure((() => {
                              const $142 = setFadeOut((x) => {
                                const $152 = $4(x);
                                const $16 = "tutorial-fade-out-animation opacity-0 " + x;
                                if ($3(x)) {
                                  return $152;
                                }
                                return $16;
                              });
                              const $15 = _makeFiber(
                                ffiUtil$1,
                                applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 1500)))(_liftEffect(pcenter(Empty$1)))
                              );
                              return {
                                key: "click",
                                value: $AttributeValue(
                                  "Cb'",
                                  (v$1) => () => {
                                    $142();
                                    const fiber = $15();
                                    fiber.run();
                                    return true;
                                  }
                                )
                              };
                            })())
                          ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Keep playing"))]))
                        )
                      ];
                      if (endBtnHack) {
                        return $14;
                      }
                      return [];
                    })())([
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$d([
                          applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto") }),
                          applicativeEvent.pure((() => {
                            const goodbye = pcenter(Empty$1);
                            const $15 = setFadeOut((x) => {
                              const $162 = $4(x);
                              const $17 = "tutorial-fade-out-animation opacity-0 " + x;
                              if ($3(x)) {
                                return $162;
                              }
                              return $17;
                            });
                            const $16 = _makeFiber(
                              ffiUtil$1,
                              applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 1500)))(_liftEffect(goodbye))
                            );
                            const fout = () => {
                              $15();
                              const fiber = $16();
                              fiber.run();
                              return unit;
                            };
                            const $18 = (() => {
                              if (fade.tag === "FadeOut") {
                                return fout;
                              }
                              if (fade.tag === "FadeInOut") {
                                return fout;
                              }
                              return goodbye;
                            })();
                            return {
                              key: "click",
                              value: $AttributeValue(
                                "Cb'",
                                (v$1) => () => {
                                  $18();
                                  cb();
                                  return true;
                                }
                              )
                            };
                          })())
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure(action))]))
                      )
                    ])
                  ))
                )
              ]))
            ))
          )
        ]
      ))
    ))
  );
  return vbussed$1($$Proxy)((push) => (event) => $Entity(
    "Element'",
    elementify("div")(plusEvent.empty)($Entity(
      "FixedChildren'",
      [
        $Entity(
          "EventfulElement'",
          backdoor.memoize(sampleBy(functorEvent)((ppos) => (rinfo) => ({
            rateInfo: rinfo,
            playerPositions: {
              p1x: ppos.p1x(rinfo),
              p1y: ppos.p1y,
              p1z: ppos.p1z,
              p1p: ppos.p1p,
              p2x: ppos.p2x(rinfo),
              p2y: ppos.p2y,
              p2z: ppos.p2z,
              p2p: ppos.p2p,
              p3x: ppos.p3x(rinfo),
              p3y: ppos.p3y,
              p3z: ppos.p3z,
              p3p: ppos.p3p,
              p4x: ppos.p4x(rinfo),
              p4y: ppos.p4y,
              p4z: ppos.p4z,
              p4p: ppos.p4p
            }
          }))(v.playerPositions)(biSampleOn$3(oneOff(Just)(filter((m) => applyMaybe.apply((() => {
            if (m.tag === "Leaf") {
              return Nothing;
            }
            const $9 = traverse$2((v2) => {
              if (v2.tag === "HasNotStartedYet") {
                return throwError$1(unit);
              }
              if (v2.tag === "HasStarted") {
                return applicativeExceptT$1.pure(v2._1.startedAt);
              }
              fail$3();
            })(m);
            if ($9.tag === "Left") {
              return Nothing;
            }
            if ($9.tag === "Right") {
              return $Maybe("Just", (v2) => ({ startTime: foldableMap.foldl(max$8)(0)($9._1), myTime: v2 }));
            }
            fail$3();
          })())((() => {
            const $9 = lookup$2(ordPlayer)(v.player)(m);
            if ($9.tag === "Just") {
              if ($9._1.tag === "HasNotStartedYet") {
                return Nothing;
              }
              if ($9._1.tag === "HasStarted") {
                return $Maybe("Just", $9._1._1.startedAt);
              }
              fail$3();
            }
            return Nothing;
          })()))(v.playerStatus)))((b, k) => event.rateInfo(
            b,
            (a2) => k((v1) => {
              const offsetInSeconds = (v1.startTime - v1.myTime) / 1e3;
              return {
                epochTime: a2.epochTime,
                time: a2.time,
                prevTime: a2.prevTime,
                beats: a2.beats - offsetInSeconds,
                prevBeats: (() => {
                  if (a2.prevBeats.tag === "Nothing") {
                    return Nothing;
                  }
                  if (a2.prevBeats.tag === "Just") {
                    return $Maybe("Just", a2.prevBeats._1 - offsetInSeconds);
                  }
                  fail$3();
                })()
              };
            })
          ))))((animatedStuff) => $Entity(
            "Element'",
            elementify("div")(plusEvent.empty)($Entity(
              "FixedChildren'",
              [
                $Entity(
                  "Element'",
                  elementify("div")(applicativeEvent.pure({
                    key: "class",
                    value: $AttributeValue("Prop'", "z-10 pointer-events-none absolute w-screen h-screen grid grid-rows-6 grid-cols-6")
                  }))($Entity(
                    "FixedChildren'",
                    [
                      $Entity(
                        "Element'",
                        elementify("div")(applicativeEvent.pure({
                          key: "class",
                          value: $AttributeValue("Prop'", "row-start-1 row-end-3 col-start-1 col-end-3")
                        }))($Entity(
                          "FixedChildren'",
                          [
                            $Entity(
                              "Element'",
                              elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "mx-2 mt-2 ") }))($Entity(
                                "FixedChildren'",
                                [
                                  switcher((v1) => {
                                    if (v1._2.tag === "Nothing") {
                                      return $Entity(
                                        "Element'",
                                        elementify("ul")(plusEvent.empty)($Entity(
                                          "FixedChildren'",
                                          arrayMap((v2) => $Entity(
                                            "Element'",
                                            elementify("li")(plusEvent.empty)($Entity(
                                              "FixedChildren'",
                                              [
                                                $Entity(
                                                  "Element'",
                                                  elementify("span")(applicativeEvent.pure({
                                                    key: "class",
                                                    value: $AttributeValue("Prop'", "text-white")
                                                  }))($Entity(
                                                    "FixedChildren'",
                                                    [
                                                      text(applicativeEvent.pure((() => {
                                                        if ((() => {
                                                          if (v2._1.tag === "Player1") {
                                                            return v.player.tag === "Player1";
                                                          }
                                                          if (v2._1.tag === "Player2") {
                                                            return v.player.tag === "Player2";
                                                          }
                                                          if (v2._1.tag === "Player3") {
                                                            return v.player.tag === "Player3";
                                                          }
                                                          if (v2._1.tag === "Player4") {
                                                            return v.player.tag === "Player4";
                                                          }
                                                          return false;
                                                        })()) {
                                                          return "You have joined!";
                                                        }
                                                        if (v2._2.tag === "HasStarted") {
                                                          if (v2._2._1.name.tag === "Just") {
                                                            return v2._2._1.name._1 + " has joined!";
                                                          }
                                                          if (v2._2._1.name.tag === "Nothing") {
                                                            if (v2._1.tag === "Player1") {
                                                              return "Player 1 has joined!";
                                                            }
                                                            if (v2._1.tag === "Player2") {
                                                              return "Player 2 has joined!";
                                                            }
                                                            if (v2._1.tag === "Player3") {
                                                              return "Player 3 has joined!";
                                                            }
                                                            if (v2._1.tag === "Player4") {
                                                              return "Player 4 has joined!";
                                                            }
                                                            fail$3();
                                                          }
                                                          fail$3();
                                                        }
                                                        if (v2._2.tag === "HasNotStartedYet") {
                                                          if (v2._1.tag === "Player1") {
                                                            return "Player 1 has joined!";
                                                          }
                                                          if (v2._1.tag === "Player2") {
                                                            return "Player 2 has joined!";
                                                          }
                                                          if (v2._1.tag === "Player3") {
                                                            return "Player 3 has joined!";
                                                          }
                                                          if (v2._1.tag === "Player4") {
                                                            return "Player 4 has joined!";
                                                          }
                                                          fail$3();
                                                        }
                                                        fail$3();
                                                      })()))
                                                    ]
                                                  ))
                                                )
                                              ]
                                            ))
                                          ))(toUnfoldable$1(unfoldableArray)(v1._1))
                                        ))
                                      );
                                    }
                                    if (v1._2.tag === "Just") {
                                      return $Entity(
                                        "Element'",
                                        elementify("ul")(plusEvent.empty)($Entity(
                                          "FixedChildren'",
                                          arrayMap((v2) => $Entity(
                                            "Element'",
                                            elementify("li")(plusEvent.empty)($Entity(
                                              "FixedChildren'",
                                              [
                                                $Entity(
                                                  "Element'",
                                                  elementify("span")(applicativeEvent.pure({
                                                    key: "class",
                                                    value: $AttributeValue("Prop'", "text-white")
                                                  }))($Entity(
                                                    "FixedChildren'",
                                                    [
                                                      text(applicativeEvent.pure((() => {
                                                        if ((() => {
                                                          if (v2._1.tag === "Player1") {
                                                            return v.player.tag === "Player1";
                                                          }
                                                          if (v2._1.tag === "Player2") {
                                                            return v.player.tag === "Player2";
                                                          }
                                                          if (v2._1.tag === "Player3") {
                                                            return v.player.tag === "Player3";
                                                          }
                                                          if (v2._1.tag === "Player4") {
                                                            return v.player.tag === "Player4";
                                                          }
                                                          return false;
                                                        })()) {
                                                          if (v2._2.name.tag === "Just") {
                                                            return "You (" + (v2._2.name._1 + ")");
                                                          }
                                                          if (v2._2.name.tag === "Nothing") {
                                                            return "You";
                                                          }
                                                          fail$3();
                                                        }
                                                        if (v2._2.name.tag === "Just") {
                                                          return v2._2.name._1;
                                                        }
                                                        if (v2._2.name.tag === "Nothing") {
                                                          if (v2._1.tag === "Player1") {
                                                            return "Player 1";
                                                          }
                                                          if (v2._1.tag === "Player2") {
                                                            return "Player 2";
                                                          }
                                                          if (v2._1.tag === "Player3") {
                                                            return "Player 3";
                                                          }
                                                          if (v2._1.tag === "Player4") {
                                                            return "Player 4";
                                                          }
                                                          fail$3();
                                                        }
                                                        fail$3();
                                                      })() + (": " + (_unsafeStringify(unsafeClamp(round(v2._2.points + -1 * v2._2.penalties))) + " Points"))))
                                                    ]
                                                  ))
                                                )
                                              ]
                                            ))
                                          ))(mapMaybe((v2) => {
                                            if (v2._2.tag === "HasNotStartedYet") {
                                              return Nothing;
                                            }
                                            if (v2._2.tag === "HasStarted") {
                                              return $Maybe("Just", $Tuple(v2._1, v2._2._1));
                                            }
                                            fail$3();
                                          })(toUnfoldable$1(unfoldableArray)(v1._1)))
                                        ))
                                      );
                                    }
                                    fail$3();
                                  })(biSampleOn$3(initializeWithEmpty(plusMaybe)(applicativeMaybe)(event.iAmReady))((b, k) => v.playerStatus(
                                    b,
                                    (a2) => {
                                      const $12 = Tuple(a2);
                                      return k($12);
                                    }
                                  )))
                                ]
                              ))
                            ),
                            $Entity(
                              "Element'",
                              elementify("div")(plusEvent.empty)($Entity(
                                "FixedChildren'",
                                [
                                  $Entity(
                                    "EventfulElement'",
                                    (b, k) => event.iAmReady(
                                      b,
                                      (a2) => {
                                        const $12 = $Entity(
                                          "Element'",
                                          elementify("div")(oneOf$d([
                                            applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "mx-2") })
                                          ]))($Entity(
                                            "FixedChildren'",
                                            [
                                              $Entity(
                                                "Element'",
                                                elementify("button")(oneOf$d([
                                                  applicativeEvent.pure({
                                                    key: "class",
                                                    value: $AttributeValue("Prop'", "pointer-events-auto p-1 " + buttonCls)
                                                  }),
                                                  applicativeEvent.pure({
                                                    key: "click",
                                                    value: $AttributeValue(
                                                      "Cb'",
                                                      (v$1) => () => {
                                                        a2();
                                                        tli.goHome();
                                                        return true;
                                                      }
                                                    )
                                                  })
                                                ]))($Entity(
                                                  "FixedChildren'",
                                                  [
                                                    text(applicativeEvent.pure((() => {
                                                      if ((() => {
                                                        if (tscore.isPreviewPage.tag === "Nothing") {
                                                          return false;
                                                        }
                                                        if (tscore.isPreviewPage.tag === "Just") {
                                                          return true;
                                                        }
                                                        fail$3();
                                                      })()) {
                                                        return "Exit preview";
                                                      }
                                                      return "Exit tutorial";
                                                    })()))
                                                  ]
                                                ))
                                              )
                                            ]
                                          ))
                                        );
                                        return k($12);
                                      }
                                    )
                                  )
                                ]
                              ))
                            )
                          ]
                        ))
                      )
                    ]
                  ))
                ),
                (() => {
                  const $9 = applicativeEvent.pure((() => {
                    if (tscore.isPreviewPage.tag === "Nothing") {
                      return Intro;
                    }
                    if (tscore.isPreviewPage.tag === "Just") {
                      return $CenterState("Preview", tscore.isPreviewPage._1);
                    }
                    fail$3();
                  })());
                  const $10 = () => {
                    const ricid = requestIdleCallbackIsDefined();
                    const ctx = context_();
                    const hk = constant0Hack_(ctx)();
                    const ci = setIntervalImpl(1e3)((() => {
                      const $13 = bindE(() => tli.icid.value)(traverse_$5((a2) => cancelIdleCallback(a2)(tli.wdw)));
                      return () => {
                        $13();
                        const icb = () => {
                          const a$p2 = now();
                          const a$p$1 = tli.unschedule.value;
                          const lr = span((x) => x._1 < a$p2)(toUnfoldable$1(unfoldableArray)(a$p$1));
                          foreachE(lr.init)(snd)();
                          tli.unschedule.value = fromFoldable$7(lr.rest);
                          return unit;
                        };
                        if (ricid) {
                          const a$p2 = requestIdleCallback({ timeout: 0 })(icb)(tli.wdw)();
                          return tli.icid.value = $Maybe("Just", a$p2);
                        }
                        return icb();
                      };
                    })())();
                    const $14 = withACTime(ctx)(animationFrame);
                    const afE = backdoor.hot((b, k) => $14(b, (a2) => k(a2.acTime)))();
                    const withRate = backdoor.hot(timeFromRate(v.cNow)(pure2$1({ rate: 1 }))((b, k) => afE.event(b, (a2) => k({ real: a2 }))))();
                    const iu0 = subscribe(withRate.event)(push.rateInfo)();
                    const st = run2(ctx)(graph$1({
                      basics: event.basicAudio,
                      leaps: event.leapAudio,
                      longs: event.longAudio,
                      rateInfo: (b, k) => animatedStuff(b, (a2) => k(a2.rateInfo)),
                      buffers: refToBehavior(tli.soundObj),
                      silence: tli.silence,
                      longVerb: v.longVerb,
                      bgtrack: tscore.bgtrack,
                      baseFileOffsetInSeconds: tscore.baseFileOffsetInSeconds
                    }))();
                    push.pressedStart(true)();
                    push.iAmReady((() => {
                      const $20 = clearIntervalImpl(ci);
                      const $21 = close(monadEffectEffect)(ctx);
                      return () => {
                        st();
                        hk();
                        $20();
                        afE.unsubscribe();
                        iu0();
                        withRate.unsubscribe();
                        const a$p2 = $21();
                        return a$p2;
                      };
                    })())();
                    const a$p = v.cNow();
                    return v.optMeIn(a$p)();
                  };
                  return switcher((cs) => {
                    if (cs.tag === "Preview") {
                      return tutorialCenterMatterFrame(
                        "Preview your ride!",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [
                                      text(applicativeEvent.pure("Starting at " + (toStringWith($Format("Fixed", clamp$2(0)(20)(2)))(cs._1.startsAt) + " seconds.")))
                                    ]
                                  ))
                                )
                              ]
                            ))
                          )
                        ),
                        false,
                        "Start",
                        FadeOut,
                        fullScreenFlow($10),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Intro") {
                      return tutorialCenterMatterFrame(
                        "Welcome to Joyride!",
                        Nothing,
                        false,
                        "Start Tutorial",
                        FadeOut,
                        fullScreenFlow((() => {
                          const $12 = _makeFiber(
                            ffiUtil$1,
                            applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 4e3)))(_liftEffect(push.tutorialCenterState(Tiles)))
                          );
                          return () => {
                            $10();
                            const fiber = $12();
                            fiber.run();
                            return unit;
                          };
                        })()),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Tiles") {
                      return tutorialCenterMatterFrame(
                        "Points",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("Earn points by touching the "))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "italic") }))($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("gray"))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [
                                      text(applicativeEvent.pure(" tiles as soon as their edge touches the line. You'll lose points if you're too early or late."))
                                    ]
                                  ))
                                )
                              ]
                            ))
                          )
                        ),
                        false,
                        "Next >",
                        FadeInOut,
                        (() => {
                          const $12 = _makeFiber(
                            ffiUtil$1,
                            applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 12e3)))(_liftEffect(push.tutorialCenterState(Tilt)))
                          );
                          return () => {
                            const fiber = $12();
                            fiber.run();
                            return unit;
                          };
                        })(),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Tilt") {
                      return tutorialCenterMatterFrame(
                        "Tilt",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("Tilt your phone left or right to move sideways and reach far-off tiles."))]
                                  ))
                                )
                              ]
                            ))
                          )
                        ),
                        false,
                        "Next >",
                        FadeInOut,
                        (() => {
                          const $12 = _makeFiber(
                            ffiUtil$1,
                            applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 9500)))(_liftEffect(push.tutorialCenterState(Leap)))
                          );
                          return () => {
                            const fiber = $12();
                            fiber.run();
                            return unit;
                          };
                        })(),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Leap") {
                      return tutorialCenterMatterFrame(
                        "Leaps",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("Leap to a new line by touching a "))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "italic") }))($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("leap"))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure(" tile. Leap tiles have the same color as the line you'll leap to."))]
                                  ))
                                )
                              ]
                            ))
                          )
                        ),
                        false,
                        "Next >",
                        FadeInOut,
                        (() => {
                          const $12 = _makeFiber(
                            ffiUtil$1,
                            applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 1e4)))(_liftEffect(push.tutorialCenterState(Long)))
                          );
                          return () => {
                            const fiber = $12();
                            fiber.run();
                            return unit;
                          };
                        })(),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Long") {
                      return tutorialCenterMatterFrame(
                        "Press",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("Long-press the "))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "italic") }))($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure("green"))]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [text(applicativeEvent.pure(" tiles to earn points. The closer the tile is, the higher the points!"))]
                                  ))
                                )
                              ]
                            ))
                          )
                        ),
                        false,
                        "Next >",
                        FadeInOut,
                        (() => {
                          const $12 = _makeFiber(
                            ffiUtil$1,
                            applyAff.apply(_map((v$1) => identity$w)(_delay(Right, 25e3)))(_liftEffect(push.tutorialCenterState(End$1)))
                          );
                          return () => {
                            const fiber = $12();
                            fiber.run();
                            return unit;
                          };
                        })(),
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "End") {
                      return tutorialCenterMatterFrame(
                        "That's it!",
                        $Maybe(
                          "Just",
                          $Entity(
                            "Element'",
                            elementify("p")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [text(applicativeEvent.pure("Play against up to four people! The ride is more fun when shared with friends \u{1F917}"))]
                            ))
                          )
                        ),
                        true,
                        "Home >",
                        FadeIn,
                        tli.goHome,
                        push.tutorialCenterState
                      );
                    }
                    if (cs.tag === "Empty") {
                      return $Entity("EventfulElement'", plusEvent.empty);
                    }
                    fail$3();
                  })((tf, k) => {
                    const a$p = $9(tf, k);
                    const a$p$1 = event.tutorialCenterState(tf, k);
                    return () => {
                      a$p();
                      return a$p$1();
                    };
                  });
                })(),
                $Entity(
                  "Element'",
                  elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") }))($Entity(
                    "FixedChildren'",
                    [
                      $Entity(
                        "Element'",
                        elementify("canvas")(oneOf$d([
                          applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute w-screen h-screen") }),
                          applicativeEvent.pure({
                            key: "@self@",
                            value: $AttributeValue(
                              "Cb'",
                              (() => {
                                const $9 = traverse_$5((x) => runThree$1({
                                  threeDI: v.threeDI,
                                  css2DRendererElt: event.render2DElement,
                                  css3DRendererElt: event.render3DElement,
                                  pressedStart: event.pressedStart,
                                  isMobile: tli.isMobile,
                                  galaxyAttributes: v.galaxyAttributes,
                                  shaders: v.shaders,
                                  renderingInfo: tli.renderingInfo,
                                  columnPusher: tli.columnPusher,
                                  lowPriorityCb: tli.lpsCallback,
                                  myPlayer: v.player,
                                  debug: tli.debug,
                                  models: v.models,
                                  textures: v.textures,
                                  cubeTextures: v.cubeTextures,
                                  pushBasic: tli.pushBasic,
                                  basicE: (pushBasicVisualForLabel) => (columnEventConstructor) => tscore.basicE({
                                    initialDims: v.initialDims,
                                    renderingInfo: tli.renderingInfo,
                                    textures: v.textures,
                                    columnEventConstructor,
                                    cnow: v.cNow,
                                    threeDI: v.threeDI,
                                    myPlayer: v.player,
                                    debug: tli.debug,
                                    notifications: { hitBasic: plusEvent.empty },
                                    resizeEvent: tli.resizeE,
                                    isMobile: tli.isMobile,
                                    lpsCallback: tli.lpsCallback,
                                    pushAudio: push.basicAudio,
                                    mkColor: colorRepresentationRGB.color(v.threeDI.color),
                                    mkMatrix4: set_(v.threeDI.matrix4),
                                    buffers: refToBehavior(tli.soundObj),
                                    silence: tli.silence,
                                    animatedStuff,
                                    pushBasic: tli.pushBasic,
                                    pushBasicVisualForLabel
                                  }),
                                  leapE: (pushLeapVisualForLabel) => (columnEventConstructor) => tscore.leapE({
                                    initialDims: v.initialDims,
                                    renderingInfo: tli.renderingInfo,
                                    textures: v.textures,
                                    myPlayer: v.player,
                                    cnow: v.cNow,
                                    columnEventConstructor,
                                    debug: tli.debug,
                                    notifications: { hitLeap: plusEvent.empty },
                                    resizeEvent: tli.resizeE,
                                    isMobile: tli.isMobile,
                                    lpsCallback: tli.lpsCallback,
                                    pushAudio: push.leapAudio,
                                    mkColor: colorRepresentationRGB.color(v.threeDI.color),
                                    mkMatrix4: set_(v.threeDI.matrix4),
                                    threeDI: v.threeDI,
                                    buffers: refToBehavior(tli.soundObj),
                                    silence: tli.silence,
                                    animatedStuff,
                                    pushLeap: tli.pushLeap,
                                    pushLeapVisualForLabel
                                  }),
                                  longE: (pushHitLongVisualForLabel) => (pushReleaseLongVisualForLabel) => (columnEventConstructor) => tscore.longE({
                                    initialDims: v.initialDims,
                                    columnEventConstructor,
                                    renderingInfo: tli.renderingInfo,
                                    textures: v.textures,
                                    myPlayer: v.player,
                                    cnow: v.cNow,
                                    debug: tli.debug,
                                    notifications: { hitLong: plusEvent.empty, releaseLong: plusEvent.empty },
                                    resizeEvent: tli.resizeE,
                                    isMobile: tli.isMobile,
                                    lpsCallback: tli.lpsCallback,
                                    pushAudio: push.longAudio,
                                    mkColor: colorRepresentationRGB.color(v.threeDI.color),
                                    mkMatrix4: set_(v.threeDI.matrix4),
                                    threeDI: v.threeDI,
                                    buffers: refToBehavior(tli.soundObj),
                                    silence: tli.silence,
                                    animatedStuff,
                                    pushHitLong: tli.pushHitLong,
                                    pushReleaseLong: tli.pushReleaseLong,
                                    pushHitLongVisualForLabel,
                                    pushReleaseLongVisualForLabel
                                  }),
                                  animatedStuff,
                                  resizeE: tli.resizeE,
                                  initialDims: v.initialDims,
                                  canvas: x
                                }));
                                return (x) => $9(_unsafeReadProtoTagged(Nothing, Just, "HTMLCanvasElement", x));
                              })()
                            )
                          })
                        ]))($Entity("FixedChildren'", []))
                      ),
                      $Entity(
                        "Element'",
                        elementify("div")(oneOfMap$7(applicativeEvent.pure)([
                          { key: "class", value: $AttributeValue("Prop'", "absolute pointer-events-none") },
                          { key: "@self@", value: $AttributeValue("Cb'", push.render2DElement) }
                        ]))($Entity("FixedChildren'", []))
                      ),
                      $Entity(
                        "Element'",
                        elementify("div")(oneOfMap$7(applicativeEvent.pure)([
                          { key: "class", value: $AttributeValue("Prop'", "absolute pointer-events-none") },
                          { key: "@self@", value: $AttributeValue("Cb'", push.render3DElement) }
                        ]))($Entity("FixedChildren'", []))
                      )
                    ]
                  ))
                )
              ]
            ))
          ))
        )
      ]
    ))
  ));
};
const $Landmark = (tag, _1) => ({ tag, _1 });
const eventToAff = (e2) => makeAff((k) => () => {
  const u = { value: () => unit };
  const unsub = subscribe(e2)((v) => {
    const $4 = k($Either("Right", v));
    return () => {
      $4();
      bindE(() => u.value)(identity$v)();
      return u.value = () => unit;
    };
  })();
  u.value = unsub;
  return (v) => _liftEffect(bindE(() => u.value)(identity$v));
});
const memoBeh = (e2) => (a2) => (f) => backdoor.makeEvent((k) => () => {
  const v = create();
  const current = { value: a2 };
  k(f(backdoor.makeEvent((k$p) => {
    const $7 = bindE(() => current.value)(k$p);
    return () => {
      $7();
      return subscribe(v.event)(k$p)();
    };
  })))();
  return subscribe(e2)((v1) => () => {
    current.value = v1;
    const a$p = v.push(v1)();
    return a$p;
  })();
});
const rider = (r2) => (e2) => backdoor.makeEvent((k) => {
  const $3 = subscribe(e2)(k);
  return () => {
    const u0 = $3();
    const u1 = subscribe(r2.event)(r2.push)();
    return () => {
      u0();
      const a$p = u1();
      return a$p;
    };
  };
});
/*!
 * MIT License
 * 
 * Copyright (c) 2020 Filestack
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
var filestack = function(t2) {
  var e2 = {};
  function n2(i2) {
    if (e2[i2])
      return e2[i2].exports;
    var r2 = e2[i2] = { i: i2, l: false, exports: {} };
    return t2[i2].call(r2.exports, r2, r2.exports, n2), r2.l = true, r2.exports;
  }
  return n2.m = t2, n2.c = e2, n2.d = function(t3, e3, i2) {
    n2.o(t3, e3) || Object.defineProperty(t3, e3, { enumerable: true, get: i2 });
  }, n2.r = function(t3) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t3, "__esModule", { value: true });
  }, n2.t = function(t3, e3) {
    if (1 & e3 && (t3 = n2(t3)), 8 & e3)
      return t3;
    if (4 & e3 && "object" == typeof t3 && t3 && t3.__esModule)
      return t3;
    var i2 = /* @__PURE__ */ Object.create(null);
    if (n2.r(i2), Object.defineProperty(i2, "default", { enumerable: true, value: t3 }), 2 & e3 && "string" != typeof t3)
      for (var r2 in t3)
        n2.d(i2, r2, function(e4) {
          return t3[e4];
        }.bind(null, r2));
    return i2;
  }, n2.n = function(t3) {
    var e3 = t3 && t3.__esModule ? function() {
      return t3.default;
    } : function() {
      return t3;
    };
    return n2.d(e3, "a", e3), e3;
  }, n2.o = function(t3, e3) {
    return Object.prototype.hasOwnProperty.call(t3, e3);
  }, n2.p = "", n2(n2.s = 52);
}([function(t2, e2, n2) {
  n2.d(e2, "c", function() {
    return r2;
  }), n2.d(e2, "a", function() {
    return o;
  }), n2.d(e2, "b", function() {
    return a2;
  }), n2.d(e2, "d", function() {
    return s2;
  }), n2.d(e2, "f", function() {
    return c2;
  }), n2.d(e2, "e", function() {
    return u;
  });
  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
  var i2 = function(t3, e3) {
    return (i2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
      t4.__proto__ = e4;
    } || function(t4, e4) {
      for (var n3 in e4)
        e4.hasOwnProperty(n3) && (t4[n3] = e4[n3]);
    })(t3, e3);
  };
  function r2(t3, e3) {
    function n3() {
      this.constructor = t3;
    }
    i2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
  }
  var o = function() {
    return (o = Object.assign || function(t3) {
      for (var e3, n3 = 1, i3 = arguments.length; n3 < i3; n3++)
        for (var r3 in e3 = arguments[n3])
          Object.prototype.hasOwnProperty.call(e3, r3) && (t3[r3] = e3[r3]);
      return t3;
    }).apply(this, arguments);
  };
  function a2(t3, e3, n3, i3) {
    return new (n3 || (n3 = Promise))(function(r3, o2) {
      function a3(t4) {
        try {
          c3(i3.next(t4));
        } catch (t5) {
          o2(t5);
        }
      }
      function s3(t4) {
        try {
          c3(i3.throw(t4));
        } catch (t5) {
          o2(t5);
        }
      }
      function c3(t4) {
        var e4;
        t4.done ? r3(t4.value) : (e4 = t4.value, e4 instanceof n3 ? e4 : new n3(function(t5) {
          t5(e4);
        })).then(a3, s3);
      }
      c3((i3 = i3.apply(t3, e3 || [])).next());
    });
  }
  function s2(t3, e3) {
    var n3, i3, r3, o2, a3 = { label: 0, sent: function() {
      if (1 & r3[0])
        throw r3[1];
      return r3[1];
    }, trys: [], ops: [] };
    return o2 = { next: s3(0), throw: s3(1), return: s3(2) }, "function" == typeof Symbol && (o2[Symbol.iterator] = function() {
      return this;
    }), o2;
    function s3(o3) {
      return function(s4) {
        return function(o4) {
          if (n3)
            throw new TypeError("Generator is already executing.");
          for (; a3; )
            try {
              if (n3 = 1, i3 && (r3 = 2 & o4[0] ? i3.return : o4[0] ? i3.throw || ((r3 = i3.return) && r3.call(i3), 0) : i3.next) && !(r3 = r3.call(i3, o4[1])).done)
                return r3;
              switch (i3 = 0, r3 && (o4 = [2 & o4[0], r3.value]), o4[0]) {
                case 0:
                case 1:
                  r3 = o4;
                  break;
                case 4:
                  return a3.label++, { value: o4[1], done: false };
                case 5:
                  a3.label++, i3 = o4[1], o4 = [0];
                  continue;
                case 7:
                  o4 = a3.ops.pop(), a3.trys.pop();
                  continue;
                default:
                  if (!(r3 = a3.trys, (r3 = r3.length > 0 && r3[r3.length - 1]) || 6 !== o4[0] && 2 !== o4[0])) {
                    a3 = 0;
                    continue;
                  }
                  if (3 === o4[0] && (!r3 || o4[1] > r3[0] && o4[1] < r3[3])) {
                    a3.label = o4[1];
                    break;
                  }
                  if (6 === o4[0] && a3.label < r3[1]) {
                    a3.label = r3[1], r3 = o4;
                    break;
                  }
                  if (r3 && a3.label < r3[2]) {
                    a3.label = r3[2], a3.ops.push(o4);
                    break;
                  }
                  r3[2] && a3.ops.pop(), a3.trys.pop();
                  continue;
              }
              o4 = e3.call(t3, a3);
            } catch (t4) {
              o4 = [6, t4], i3 = 0;
            } finally {
              n3 = r3 = 0;
            }
          if (5 & o4[0])
            throw o4[1];
          return { value: o4[0] ? o4[1] : void 0, done: true };
        }([o3, s4]);
      };
    }
  }
  function c2(t3) {
    var e3 = "function" == typeof Symbol && Symbol.iterator, n3 = e3 && t3[e3], i3 = 0;
    if (n3)
      return n3.call(t3);
    if (t3 && "number" == typeof t3.length)
      return { next: function() {
        return t3 && i3 >= t3.length && (t3 = void 0), { value: t3 && t3[i3++], done: !t3 };
      } };
    throw new TypeError(e3 ? "Object is not iterable." : "Symbol.iterator is not defined.");
  }
  function p2(t3, e3) {
    var n3 = "function" == typeof Symbol && t3[Symbol.iterator];
    if (!n3)
      return t3;
    var i3, r3, o2 = n3.call(t3), a3 = [];
    try {
      for (; (void 0 === e3 || e3-- > 0) && !(i3 = o2.next()).done; )
        a3.push(i3.value);
    } catch (t4) {
      r3 = { error: t4 };
    } finally {
      try {
        i3 && !i3.done && (n3 = o2.return) && n3.call(o2);
      } finally {
        if (r3)
          throw r3.error;
      }
    }
    return a3;
  }
  function u() {
    for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
      t3 = t3.concat(p2(arguments[e3]));
    return t3;
  }
}, function(t2, e2, n2) {
  n2.r(e2), n2.d(e2, "resolveCdnUrl", function() {
    return y;
  }), n2.d(e2, "resolveHost", function() {
    return v;
  }), n2.d(e2, "removeEmpty", function() {
    return g;
  }), n2.d(e2, "uniqueTime", function() {
    return b;
  }), n2.d(e2, "uniqueId", function() {
    return x;
  }), n2.d(e2, "getMimetype", function() {
    return k;
  }), n2.d(e2, "extensionToMime", function() {
    return w;
  }), n2.d(e2, "sanitizeName", function() {
    return _;
  }), n2.d(e2, "filterObject", function() {
    return j;
  }), n2.d(e2, "cleanUpCallbacks", function() {
    return O;
  }), n2.d(e2, "md5", function() {
    return l2;
  }), n2.d(e2, "b64", function() {
    return f;
  }), n2.d(e2, "getVersion", function() {
    return d;
  }), n2.d(e2, "isMobile", function() {
    return m;
  }), n2.d(e2, "isFacebook", function() {
    return h;
  });
  var i2, r2 = n2(0), o = { "application/andrew-inset": ["ez"], "application/applixware": ["aw"], "application/atom+xml": ["atom"], "application/atomcat+xml": ["atomcat"], "application/atomsvc+xml": ["atomsvc"], "application/bdoc": ["bdoc"], "application/ccxml+xml": ["ccxml"], "application/cdmi-capability": ["cdmia"], "application/cdmi-container": ["cdmic"], "application/cdmi-domain": ["cdmid"], "application/cdmi-object": ["cdmio"], "application/cdmi-queue": ["cdmiq"], "application/cu-seeme": ["cu"], "application/dash+xml": ["mpd"], "application/davmount+xml": ["davmount"], "application/docbook+xml": ["dbk"], "application/dssc+der": ["dssc"], "application/dssc+xml": ["xdssc"], "application/ecmascript": ["ecma", "es"], "application/emma+xml": ["emma"], "application/epub+zip": ["epub"], "application/exi": ["exi"], "application/font-tdpfr": ["pfr"], "application/geo+json": ["geojson"], "application/gml+xml": ["gml"], "application/gpx+xml": ["gpx"], "application/gxf": ["gxf"], "application/gzip": ["gz"], "application/hjson": ["hjson"], "application/hyperstudio": ["stk"], "application/inkml+xml": ["ink", "inkml"], "application/ipfix": ["ipfix"], "application/java-archive": ["jar", "war", "ear"], "application/java-serialized-object": ["ser"], "application/java-vm": ["class"], "application/javascript": ["js", "mjs"], "application/json": ["json", "map"], "application/json5": ["json5"], "application/jsonml+json": ["jsonml"], "application/ld+json": ["jsonld"], "application/lost+xml": ["lostxml"], "application/mac-binhex40": ["hqx"], "application/mac-compactpro": ["cpt"], "application/mads+xml": ["mads"], "application/manifest+json": ["webmanifest"], "application/marc": ["mrc"], "application/marcxml+xml": ["mrcx"], "application/mathematica": ["ma", "nb", "mb"], "application/mathml+xml": ["mathml"], "application/mbox": ["mbox"], "application/mediaservercontrol+xml": ["mscml"], "application/metalink+xml": ["metalink"], "application/metalink4+xml": ["meta4"], "application/mets+xml": ["mets"], "application/mods+xml": ["mods"], "application/mp21": ["m21", "mp21"], "application/mp4": ["mp4s", "m4p"], "application/msword": ["doc", "dot"], "application/mxf": ["mxf"], "application/n-quads": ["nq"], "application/n-triples": ["nt"], "application/octet-stream": ["bin", "dms", "lrf", "mar", "so", "dist", "distz", "pkg", "bpk", "dump", "elc", "deploy", "exe", "dll", "deb", "dmg", "iso", "msp", "buffer"], "application/oda": ["oda"], "application/oebps-package+xml": ["opf"], "application/ogg": ["ogx"], "application/omdoc+xml": ["omdoc"], "application/onenote": ["onetoc", "onetoc2", "onetmp", "onepkg"], "application/oxps": ["oxps"], "application/patch-ops-error+xml": ["xer"], "application/pdf": ["pdf"], "application/pgp-encrypted": ["pgp"], "application/pgp-signature": ["asc", "sig"], "application/pics-rules": ["prf"], "application/pkcs10": ["p10"], "application/pkcs7-mime": ["p7m", "p7c"], "application/pkcs7-signature": ["p7s"], "application/pkcs8": ["p8"], "application/pkix-attr-cert": ["ac"], "application/pkix-cert": ["cer"], "application/pkix-crl": ["crl"], "application/pkix-pkipath": ["pkipath"], "application/pkixcmp": ["pki"], "application/pls+xml": ["pls"], "application/postscript": ["ai", "eps", "ps"], "application/pskc+xml": ["pskcxml"], "application/raml+yaml": ["raml"], "application/rdf+xml": ["rdf", "owl"], "application/reginfo+xml": ["rif"], "application/relax-ng-compact-syntax": ["rnc"], "application/resource-lists+xml": ["rl"], "application/resource-lists-diff+xml": ["rld"], "application/rls-services+xml": ["rs"], "application/rpki-ghostbusters": ["gbr"], "application/rpki-manifest": ["mft"], "application/rpki-roa": ["roa"], "application/rsd+xml": ["rsd"], "application/rss+xml": ["rss"], "application/rtf": ["rtf"], "application/sbml+xml": ["sbml"], "application/scvp-cv-request": ["scq"], "application/scvp-cv-response": ["scs"], "application/scvp-vp-request": ["spq"], "application/scvp-vp-response": ["spp"], "application/sdp": ["sdp"], "application/set-payment-initiation": ["setpay"], "application/set-registration-initiation": ["setreg"], "application/shf+xml": ["shf"], "application/sieve": ["siv", "sieve"], "application/smil+xml": ["smi", "smil"], "application/sparql-query": ["rq"], "application/sparql-results+xml": ["srx"], "application/srgs": ["gram"], "application/srgs+xml": ["grxml"], "application/sru+xml": ["sru"], "application/ssdl+xml": ["ssdl"], "application/ssml+xml": ["ssml"], "application/tei+xml": ["tei", "teicorpus"], "application/thraud+xml": ["tfi"], "application/timestamped-data": ["tsd"], "application/voicexml+xml": ["vxml"], "application/wasm": ["wasm"], "application/widget": ["wgt"], "application/winhlp": ["hlp"], "application/wsdl+xml": ["wsdl"], "application/wspolicy+xml": ["wspolicy"], "application/xaml+xml": ["xaml"], "application/xcap-diff+xml": ["xdf"], "application/xenc+xml": ["xenc"], "application/xhtml+xml": ["xhtml", "xht"], "application/xml": ["xml", "xsl", "xsd", "rng"], "application/xml-dtd": ["dtd"], "application/xop+xml": ["xop"], "application/xproc+xml": ["xpl"], "application/xslt+xml": ["xslt"], "application/xspf+xml": ["xspf"], "application/xv+xml": ["mxml", "xhvml", "xvml", "xvm"], "application/yang": ["yang"], "application/yin+xml": ["yin"], "application/zip": ["zip"], "audio/3gpp": ["*3gpp"], "audio/adpcm": ["adp"], "audio/basic": ["au", "snd"], "audio/midi": ["mid", "midi", "kar", "rmi"], "audio/mp3": ["*mp3"], "audio/mp4": ["m4a", "mp4a"], "audio/mpeg": ["mpga", "mp2", "mp2a", "mp3", "m2a", "m3a"], "audio/ogg": ["oga", "ogg", "spx"], "audio/s3m": ["s3m"], "audio/silk": ["sil"], "audio/wav": ["wav"], "audio/wave": ["*wav"], "audio/webm": ["weba"], "audio/xm": ["xm"], "font/collection": ["ttc"], "font/otf": ["otf"], "font/ttf": ["ttf"], "font/woff": ["woff"], "font/woff2": ["woff2"], "image/aces": ["exr"], "image/apng": ["apng"], "image/bmp": ["bmp"], "image/cgm": ["cgm"], "image/dicom-rle": ["drle"], "image/emf": ["emf"], "image/fits": ["fits"], "image/g3fax": ["g3"], "image/gif": ["gif"], "image/heic": ["heic"], "image/heic-sequence": ["heics"], "image/heif": ["heif"], "image/heif-sequence": ["heifs"], "image/ief": ["ief"], "image/jls": ["jls"], "image/jp2": ["jp2", "jpg2"], "image/jpeg": ["jpeg", "jpg", "jpe"], "image/jpm": ["jpm"], "image/jpx": ["jpx", "jpf"], "image/jxr": ["jxr"], "image/ktx": ["ktx"], "image/png": ["png"], "image/sgi": ["sgi"], "image/svg+xml": ["svg", "svgz"], "image/t38": ["t38"], "image/tiff": ["tif", "tiff"], "image/tiff-fx": ["tfx"], "image/webp": ["webp"], "image/wmf": ["wmf"], "message/disposition-notification": ["disposition-notification"], "message/global": ["u8msg"], "message/global-delivery-status": ["u8dsn"], "message/global-disposition-notification": ["u8mdn"], "message/global-headers": ["u8hdr"], "message/rfc822": ["eml", "mime"], "model/3mf": ["3mf"], "model/gltf+json": ["gltf"], "model/gltf-binary": ["glb"], "model/iges": ["igs", "iges"], "model/mesh": ["msh", "mesh", "silo"], "model/stl": ["stl"], "model/vrml": ["wrl", "vrml"], "model/x3d+binary": ["*x3db", "x3dbz"], "model/x3d+fastinfoset": ["x3db"], "model/x3d+vrml": ["*x3dv", "x3dvz"], "model/x3d+xml": ["x3d", "x3dz"], "model/x3d-vrml": ["x3dv"], "text/cache-manifest": ["appcache", "manifest"], "text/calendar": ["ics", "ifb"], "text/coffeescript": ["coffee", "litcoffee"], "text/css": ["css"], "text/csv": ["csv"], "text/html": ["html", "htm", "shtml"], "text/jade": ["jade"], "text/jsx": ["jsx"], "text/less": ["less"], "text/markdown": ["markdown", "md"], "text/mathml": ["mml"], "text/mdx": ["mdx"], "text/n3": ["n3"], "text/plain": ["txt", "text", "conf", "def", "list", "log", "in", "ini"], "text/richtext": ["rtx"], "application/font-ttf": "ttf", "application/vnd.ms-fontobject": "eot", "application/font-otf": "otf", "text/rtf": ["*rtf"], "text/sgml": ["sgml", "sgm"], "text/shex": ["shex"], "text/slim": ["slim", "slm"], "text/stylus": ["stylus", "styl"], "text/tab-separated-values": ["tsv"], "text/troff": ["t", "tr", "roff", "man", "me", "ms"], "text/turtle": ["ttl"], "text/uri-list": ["uri", "uris", "urls"], "text/vcard": ["vcard", "vcr"], "text/vtt": ["vtt"], "text/xml": ["*xml"], "text/yaml": ["yaml", "yml"], "video/3gpp": ["3gp", "3gpp"], "video/3gpp2": ["3g2"], "video/h261": ["h261"], "video/h263": ["h263"], "video/h264": ["h264"], "video/jpeg": ["jpgv"], "video/jpm": ["*jpm", "jpgm"], "video/mj2": ["mj2", "mjp2"], "video/mp2t": ["ts"], "video/mp4": ["mp4", "mp4v", "mpg4"], "video/mpeg": ["mpeg", "mpg", "mpe", "m1v", "m2v"], "video/ogg": ["ogv"], "video/quicktime": ["qt", "mov"], "video/webm": ["webm"], "application/prs.cww": ["cww"], "application/vnd.3gpp.pic-bw-large": ["plb"], "application/vnd.3gpp.pic-bw-small": ["psb"], "application/vnd.3gpp.pic-bw-var": ["pvb"], "application/vnd.3gpp2.tcap": ["tcap"], "application/vnd.3m.post-it-notes": ["pwn"], "application/vnd.accpac.simply.aso": ["aso"], "application/vnd.accpac.simply.imp": ["imp"], "application/vnd.acucobol": ["acu"], "application/vnd.acucorp": ["atc", "acutc"], "application/vnd.adobe.air-application-installer-package+zip": ["air"], "application/vnd.adobe.formscentral.fcdt": ["fcdt"], "application/vnd.adobe.fxp": ["fxp", "fxpl"], "application/vnd.adobe.xdp+xml": ["xdp"], "application/vnd.adobe.xfdf": ["xfdf"], "application/vnd.ahead.space": ["ahead"], "application/vnd.airzip.filesecure.azf": ["azf"], "application/vnd.airzip.filesecure.azs": ["azs"], "application/vnd.amazon.ebook": ["azw"], "application/vnd.americandynamics.acc": ["acc"], "application/vnd.amiga.ami": ["ami"], "application/vnd.android.package-archive": ["apk"], "application/vnd.anser-web-certificate-issue-initiation": ["cii"], "application/vnd.anser-web-funds-transfer-initiation": ["fti"], "application/vnd.antix.game-component": ["atx"], "application/vnd.apple.installer+xml": ["mpkg"], "application/vnd.apple.keynote": ["keynote", "key"], "application/vnd.apple.mpegurl": ["m3u8"], "application/vnd.apple.numbers": ["numbers"], "application/vnd.apple.pages": ["pages"], "application/vnd.apple.key": ["key"], "application/vnd.apple.pkpass": ["pkpass"], "application/vnd.aristanetworks.swi": ["swi"], "application/vnd.astraea-software.iota": ["iota"], "application/vnd.audiograph": ["aep"], "application/vnd.blueice.multipass": ["mpm"], "application/vnd.bmi": ["bmi"], "application/vnd.businessobjects": ["rep"], "application/vnd.chemdraw+xml": ["cdxml"], "application/vnd.chipnuts.karaoke-mmd": ["mmd"], "application/vnd.cinderella": ["cdy"], "application/vnd.citationstyles.style+xml": ["csl"], "application/vnd.claymore": ["cla"], "application/vnd.cloanto.rp9": ["rp9"], "application/vnd.clonk.c4group": ["c4g", "c4d", "c4f", "c4p", "c4u"], "application/vnd.cluetrust.cartomobile-config": ["c11amc"], "application/vnd.cluetrust.cartomobile-config-pkg": ["c11amz"], "application/vnd.commonspace": ["csp"], "application/vnd.contact.cmsg": ["cdbcmsg"], "application/vnd.cosmocaller": ["cmc"], "application/vnd.crick.clicker": ["clkx"], "application/vnd.crick.clicker.keyboard": ["clkk"], "application/vnd.crick.clicker.palette": ["clkp"], "application/vnd.crick.clicker.template": ["clkt"], "application/vnd.crick.clicker.wordbank": ["clkw"], "application/vnd.criticaltools.wbs+xml": ["wbs"], "application/vnd.ctc-posml": ["pml"], "application/vnd.cups-ppd": ["ppd"], "application/vnd.curl.car": ["car"], "application/vnd.curl.pcurl": ["pcurl"], "application/vnd.dart": ["dart"], "application/vnd.data-vision.rdz": ["rdz"], "application/vnd.dece.data": ["uvf", "uvvf", "uvd", "uvvd"], "application/vnd.dece.ttml+xml": ["uvt", "uvvt"], "application/vnd.dece.unspecified": ["uvx", "uvvx"], "application/vnd.dece.zip": ["uvz", "uvvz"], "application/vnd.denovo.fcselayout-link": ["fe_launch"], "application/vnd.dna": ["dna"], "application/vnd.dolby.mlp": ["mlp"], "application/vnd.dpgraph": ["dpg"], "application/vnd.dreamfactory": ["dfac"], "application/vnd.ds-keypoint": ["kpxx"], "application/vnd.dvb.ait": ["ait"], "application/vnd.dvb.service": ["svc"], "application/vnd.dynageo": ["geo"], "application/vnd.ecowin.chart": ["mag"], "application/vnd.enliven": ["nml"], "application/vnd.epson.esf": ["esf"], "application/vnd.epson.msf": ["msf"], "application/vnd.epson.quickanime": ["qam"], "application/vnd.epson.salt": ["slt"], "application/vnd.epson.ssf": ["ssf"], "application/vnd.eszigno3+xml": ["es3", "et3"], "application/vnd.ezpix-album": ["ez2"], "application/vnd.ezpix-package": ["ez3"], "application/vnd.fdf": ["fdf"], "application/vnd.fdsn.mseed": ["mseed"], "application/vnd.fdsn.seed": ["seed", "dataless"], "application/vnd.flographit": ["gph"], "application/vnd.fluxtime.clip": ["ftc"], "application/vnd.framemaker": ["fm", "frame", "maker", "book"], "application/vnd.frogans.fnc": ["fnc"], "application/vnd.frogans.ltf": ["ltf"], "application/vnd.fsc.weblaunch": ["fsc"], "application/vnd.fujitsu.oasys": ["oas"], "application/vnd.fujitsu.oasys2": ["oa2"], "application/vnd.fujitsu.oasys3": ["oa3"], "application/vnd.fujitsu.oasysgp": ["fg5"], "application/vnd.fujitsu.oasysprs": ["bh2"], "application/vnd.fujixerox.ddd": ["ddd"], "application/vnd.fujixerox.docuworks": ["xdw"], "application/vnd.fujixerox.docuworks.binder": ["xbd"], "application/vnd.fuzzysheet": ["fzs"], "application/vnd.genomatix.tuxedo": ["txd"], "application/vnd.geogebra.file": ["ggb"], "application/vnd.geogebra.tool": ["ggt"], "application/vnd.geometry-explorer": ["gex", "gre"], "application/vnd.geonext": ["gxt"], "application/vnd.geoplan": ["g2w"], "application/vnd.geospace": ["g3w"], "application/vnd.gmx": ["gmx"], "application/vnd.google-apps.document": ["gdoc"], "application/vnd.google-apps.presentation": ["gslides"], "application/vnd.google-apps.spreadsheet": ["gsheet"], "application/vnd.google-earth.kml+xml": ["kml"], "application/vnd.google-earth.kmz": ["kmz"], "application/vnd.grafeq": ["gqf", "gqs"], "application/vnd.groove-account": ["gac"], "application/vnd.groove-help": ["ghf"], "application/vnd.groove-identity-message": ["gim"], "application/vnd.groove-injector": ["grv"], "application/vnd.groove-tool-message": ["gtm"], "application/vnd.groove-tool-template": ["tpl"], "application/vnd.groove-vcard": ["vcg"], "application/vnd.hal+xml": ["hal"], "application/vnd.handheld-entertainment+xml": ["zmm"], "application/vnd.hbci": ["hbci"], "application/vnd.hhe.lesson-player": ["les"], "application/vnd.hp-hpgl": ["hpgl"], "application/vnd.hp-hpid": ["hpid"], "application/vnd.hp-hps": ["hps"], "application/vnd.hp-jlyt": ["jlt"], "application/vnd.hp-pcl": ["pcl"], "application/vnd.hp-pclxl": ["pclxl"], "application/vnd.hydrostatix.sof-data": ["sfd-hdstx"], "application/vnd.ibm.minipay": ["mpy"], "application/vnd.ibm.modcap": ["afp", "listafp", "list3820"], "application/vnd.ibm.rights-management": ["irm"], "application/vnd.ibm.secure-container": ["sc"], "application/vnd.iccprofile": ["icc", "icm"], "application/vnd.igloader": ["igl"], "application/vnd.immervision-ivp": ["ivp"], "application/vnd.immervision-ivu": ["ivu"], "application/vnd.insors.igm": ["igm"], "application/vnd.intercon.formnet": ["xpw", "xpx"], "application/vnd.intergeo": ["i2g"], "application/vnd.intu.qbo": ["qbo"], "application/vnd.intu.qfx": ["qfx"], "application/vnd.ipunplugged.rcprofile": ["rcprofile"], "application/vnd.irepository.package+xml": ["irp"], "application/vnd.is-xpr": ["xpr"], "application/vnd.isac.fcs": ["fcs"], "application/vnd.jam": ["jam"], "application/vnd.jcp.javame.midlet-rms": ["rms"], "application/vnd.jisp": ["jisp"], "application/vnd.joost.joda-archive": ["joda"], "application/vnd.kahootz": ["ktz", "ktr"], "application/vnd.kde.karbon": ["karbon"], "application/vnd.kde.kchart": ["chrt"], "application/vnd.kde.kformula": ["kfo"], "application/vnd.kde.kivio": ["flw"], "application/vnd.kde.kontour": ["kon"], "application/vnd.kde.kpresenter": ["kpr", "kpt"], "application/vnd.kde.kspread": ["ksp"], "application/vnd.kde.kword": ["kwd", "kwt"], "application/vnd.kenameaapp": ["htke"], "application/vnd.kidspiration": ["kia"], "application/vnd.kinar": ["kne", "knp"], "application/vnd.koan": ["skp", "skd", "skt", "skm"], "application/vnd.kodak-descriptor": ["sse"], "application/vnd.las.las+xml": ["lasxml"], "application/vnd.llamagraphics.life-balance.desktop": ["lbd"], "application/vnd.llamagraphics.life-balance.exchange+xml": ["lbe"], "application/vnd.lotus-1-2-3": ["123"], "application/vnd.lotus-approach": ["apr"], "application/vnd.lotus-freelance": ["pre"], "application/vnd.lotus-notes": ["nsf"], "application/vnd.lotus-organizer": ["org"], "application/vnd.lotus-screencam": ["scm"], "application/vnd.lotus-wordpro": ["lwp"], "application/vnd.macports.portpkg": ["portpkg"], "application/vnd.mcd": ["mcd"], "application/vnd.medcalcdata": ["mc1"], "application/vnd.mediastation.cdkey": ["cdkey"], "application/vnd.mfer": ["mwf"], "application/vnd.mfmp": ["mfm"], "application/vnd.micrografx.flo": ["flo"], "application/vnd.micrografx.igx": ["igx"], "application/vnd.mif": ["mif"], "application/vnd.mobius.daf": ["daf"], "application/vnd.mobius.dis": ["dis"], "application/vnd.mobius.mbk": ["mbk"], "application/vnd.mobius.mqy": ["mqy"], "application/vnd.mobius.msl": ["msl"], "application/vnd.mobius.plc": ["plc"], "application/vnd.mobius.txf": ["txf"], "application/vnd.mophun.application": ["mpn"], "application/vnd.mophun.certificate": ["mpc"], "application/vnd.mozilla.xul+xml": ["xul"], "application/vnd.ms-artgalry": ["cil"], "application/vnd.ms-cab-compressed": ["cab"], "application/vnd.ms-excel": ["xls", "xlm", "xla", "xlc", "xlt", "xlw"], "application/vnd.ms-excel.addin.macroenabled.12": ["xlam"], "application/vnd.ms-excel.sheet.binary.macroenabled.12": ["xlsb"], "application/vnd.ms-excel.sheet.macroenabled.12": ["xlsm"], "application/vnd.ms-excel.template.macroenabled.12": ["xltm"], "application/vnd.ms-htmlhelp": ["chm"], "application/vnd.ms-ims": ["ims"], "application/vnd.ms-lrm": ["lrm"], "application/vnd.ms-officetheme": ["thmx"], "application/vnd.ms-outlook": ["msg"], "application/vnd.ms-pki.seccat": ["cat"], "application/vnd.ms-pki.stl": ["*stl"], "application/vnd.ms-powerpoint": ["ppt", "pps", "pot"], "application/vnd.ms-powerpoint.addin.macroenabled.12": ["ppam"], "application/vnd.ms-powerpoint.presentation.macroenabled.12": ["pptm"], "application/vnd.ms-powerpoint.slide.macroenabled.12": ["sldm"], "application/vnd.ms-powerpoint.slideshow.macroenabled.12": ["ppsm"], "application/vnd.ms-powerpoint.template.macroenabled.12": ["potm"], "application/vnd.ms-project": ["mpp", "mpt"], "application/vnd.ms-word.document.macroenabled.12": ["docm"], "application/vnd.ms-word.template.macroenabled.12": ["dotm"], "application/vnd.ms-works": ["wps", "wks", "wcm", "wdb"], "application/vnd.ms-wpl": ["wpl"], "application/vnd.ms-xpsdocument": ["xps"], "application/vnd.mseq": ["mseq"], "application/vnd.musician": ["mus"], "application/vnd.muvee.style": ["msty"], "application/vnd.mynfc": ["taglet"], "application/vnd.neurolanguage.nlu": ["nlu"], "application/vnd.nitf": ["ntf", "nitf"], "application/vnd.noblenet-directory": ["nnd"], "application/vnd.noblenet-sealer": ["nns"], "application/vnd.noblenet-web": ["nnw"], "application/vnd.nokia.n-gage.data": ["ngdat"], "application/vnd.nokia.n-gage.symbian.install": ["n-gage"], "application/vnd.nokia.radio-preset": ["rpst"], "application/vnd.nokia.radio-presets": ["rpss"], "application/vnd.novadigm.edm": ["edm"], "application/vnd.novadigm.edx": ["edx"], "application/vnd.novadigm.ext": ["ext"], "application/vnd.oasis.opendocument.chart": ["odc"], "application/vnd.oasis.opendocument.chart-template": ["otc"], "application/vnd.oasis.opendocument.database": ["odb"], "application/vnd.oasis.opendocument.formula": ["odf"], "application/vnd.oasis.opendocument.formula-template": ["odft"], "application/vnd.oasis.opendocument.graphics": ["odg"], "application/vnd.oasis.opendocument.graphics-template": ["otg"], "application/vnd.oasis.opendocument.image": ["odi"], "application/vnd.oasis.opendocument.image-template": ["oti"], "application/vnd.oasis.opendocument.presentation": ["odp"], "application/vnd.oasis.opendocument.presentation-template": ["otp"], "application/vnd.oasis.opendocument.spreadsheet": ["ods"], "application/vnd.oasis.opendocument.spreadsheet-template": ["ots"], "application/vnd.oasis.opendocument.text": ["odt"], "application/vnd.oasis.opendocument.text-master": ["odm"], "application/vnd.oasis.opendocument.text-template": ["ott"], "application/vnd.oasis.opendocument.text-web": ["oth"], "application/vnd.olpc-sugar": ["xo"], "application/vnd.oma.dd2+xml": ["dd2"], "application/vnd.openofficeorg.extension": ["oxt"], "application/vnd.openxmlformats-officedocument.presentationml.presentation": ["pptx"], "application/vnd.openxmlformats-officedocument.presentationml.slide": ["sldx"], "application/vnd.openxmlformats-officedocument.presentationml.slideshow": ["ppsx"], "application/vnd.openxmlformats-officedocument.presentationml.template": ["potx"], "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": ["xlsx"], "application/vnd.openxmlformats-officedocument.spreadsheetml.template": ["xltx"], "application/vnd.openxmlformats-officedocument.wordprocessingml.document": ["docx"], "application/vnd.openxmlformats-officedocument.wordprocessingml.template": ["dotx"], "application/vnd.osgeo.mapguide.package": ["mgp"], "application/vnd.osgi.dp": ["dp"], "application/vnd.osgi.subsystem": ["esa"], "application/vnd.palm": ["pdb", "pqa", "oprc"], "application/vnd.pawaafile": ["paw"], "application/vnd.pg.format": ["str"], "application/vnd.pg.osasli": ["ei6"], "application/vnd.picsel": ["efif"], "application/vnd.pmi.widget": ["wg"], "application/vnd.pocketlearn": ["plf"], "application/vnd.powerbuilder6": ["pbd"], "application/vnd.previewsystems.box": ["box"], "application/vnd.proteus.magazine": ["mgz"], "application/vnd.publishare-delta-tree": ["qps"], "application/vnd.pvi.ptid1": ["ptid"], "application/vnd.quark.quarkxpress": ["qxd", "qxt", "qwd", "qwt", "qxl", "qxb"], "application/vnd.realvnc.bed": ["bed"], "application/vnd.recordare.musicxml": ["mxl"], "application/vnd.recordare.musicxml+xml": ["musicxml"], "application/vnd.rig.cryptonote": ["cryptonote"], "application/vnd.rim.cod": ["cod"], "application/vnd.rn-realmedia": ["rm"], "application/vnd.rn-realmedia-vbr": ["rmvb"], "application/vnd.route66.link66+xml": ["link66"], "application/vnd.sailingtracker.track": ["st"], "application/vnd.seemail": ["see"], "application/vnd.sema": ["sema"], "application/vnd.semd": ["semd"], "application/vnd.semf": ["semf"], "application/vnd.shana.informed.formdata": ["ifm"], "application/vnd.shana.informed.formtemplate": ["itp"], "application/vnd.shana.informed.interchange": ["iif"], "application/vnd.shana.informed.package": ["ipk"], "application/vnd.simtech-mindmapper": ["twd", "twds"], "application/vnd.smaf": ["mmf"], "application/vnd.smart.teacher": ["teacher"], "application/vnd.solent.sdkm+xml": ["sdkm", "sdkd"], "application/vnd.spotfire.dxp": ["dxp"], "application/vnd.spotfire.sfs": ["sfs"], "application/vnd.stardivision.calc": ["sdc"], "application/vnd.stardivision.draw": ["sda"], "application/vnd.stardivision.impress": ["sdd"], "application/vnd.stardivision.math": ["smf"], "application/vnd.stardivision.writer": ["sdw", "vor"], "application/vnd.stardivision.writer-global": ["sgl"], "application/vnd.stepmania.package": ["smzip"], "application/vnd.stepmania.stepchart": ["sm"], "application/vnd.sun.wadl+xml": ["wadl"], "application/vnd.sun.xml.calc": ["sxc"], "application/vnd.sun.xml.calc.template": ["stc"], "application/vnd.sun.xml.draw": ["sxd"], "application/vnd.sun.xml.draw.template": ["std"], "application/vnd.sun.xml.impress": ["sxi"], "application/vnd.sun.xml.impress.template": ["sti"], "application/vnd.sun.xml.math": ["sxm"], "application/vnd.sun.xml.writer": ["sxw"], "application/vnd.sun.xml.writer.global": ["sxg"], "application/vnd.sun.xml.writer.template": ["stw"], "application/vnd.sus-calendar": ["sus", "susp"], "application/vnd.svd": ["svd"], "application/vnd.symbian.install": ["sis", "sisx"], "application/vnd.syncml+xml": ["xsm"], "application/vnd.syncml.dm+wbxml": ["bdm"], "application/vnd.syncml.dm+xml": ["xdm"], "application/vnd.tao.intent-module-archive": ["tao"], "application/vnd.tcpdump.pcap": ["pcap", "cap", "dmp"], "application/vnd.tmobile-livetv": ["tmo"], "application/vnd.trid.tpt": ["tpt"], "application/vnd.triscape.mxs": ["mxs"], "application/vnd.trueapp": ["tra"], "application/vnd.ufdl": ["ufd", "ufdl"], "application/vnd.uiq.theme": ["utz"], "application/vnd.umajin": ["umj"], "application/vnd.unity": ["unityweb"], "application/vnd.uoml+xml": ["uoml"], "application/vnd.vcx": ["vcx"], "application/vnd.visio": ["vsd", "vst", "vss", "vsw"], "application/vnd.visionary": ["vis"], "application/vnd.vsf": ["vsf"], "application/vnd.wap.wbxml": ["wbxml"], "application/vnd.wap.wmlc": ["wmlc"], "application/vnd.wap.wmlscriptc": ["wmlsc"], "application/vnd.webturbo": ["wtb"], "application/vnd.wolfram.player": ["nbp"], "application/vnd.wordperfect": ["wpd"], "application/vnd.wqd": ["wqd"], "application/vnd.wt.stf": ["stf"], "application/vnd.xara": ["xar"], "application/vnd.xfdl": ["xfdl"], "application/vnd.yamaha.hv-dic": ["hvd"], "application/vnd.yamaha.hv-script": ["hvs"], "application/vnd.yamaha.hv-voice": ["hvp"], "application/vnd.yamaha.openscoreformat": ["osf"], "application/vnd.yamaha.openscoreformat.osfpvg+xml": ["osfpvg"], "application/vnd.yamaha.smaf-audio": ["saf"], "application/vnd.yamaha.smaf-phrase": ["spf"], "application/vnd.yellowriver-custom-menu": ["cmp"], "application/vnd.zul": ["zir", "zirz"], "application/vnd.zzazz.deck+xml": ["zaz"], "application/x-7z-compressed": ["7z"], "application/x-abiword": ["abw"], "application/x-ace-compressed": ["ace"], "application/x-apple-diskimage": ["*dmg"], "application/x-arj": ["arj"], "application/x-authorware-bin": ["aab", "x32", "u32", "vox"], "application/x-authorware-map": ["aam"], "application/x-authorware-seg": ["aas"], "application/x-bcpio": ["bcpio"], "application/x-bdoc": ["*bdoc"], "application/x-bittorrent": ["torrent"], "application/x-blorb": ["blb", "blorb"], "application/x-bzip": ["bz"], "application/x-bzip2": ["bz2", "boz"], "application/x-cbr": ["cbr", "cba", "cbt", "cbz", "cb7"], "application/x-cdlink": ["vcd"], "application/x-cfs-compressed": ["cfs"], "application/x-chat": ["chat"], "application/x-chess-pgn": ["pgn"], "application/x-chrome-extension": ["crx"], "application/x-cocoa": ["cco"], "application/x-conference": ["nsc"], "application/x-cpio": ["cpio"], "application/x-csh": ["csh"], "application/x-debian-package": ["*deb", "udeb"], "application/x-dgc-compressed": ["dgc"], "application/x-director": ["dir", "dcr", "dxr", "cst", "cct", "cxt", "w3d", "fgd", "swa"], "application/x-doom": ["wad"], "application/x-dtbncx+xml": ["ncx"], "application/x-dtbook+xml": ["dtb"], "application/x-dtbresource+xml": ["res"], "application/x-dvi": ["dvi"], "application/x-envoy": ["evy"], "application/x-eva": ["eva"], "application/x-font-bdf": ["bdf"], "application/x-font-ghostscript": ["gsf"], "application/x-font-linux-psf": ["psf"], "application/x-font-pcf": ["pcf"], "application/x-font-snf": ["snf"], "application/x-font-type1": ["pfa", "pfb", "pfm", "afm"], "application/x-freearc": ["arc"], "application/x-futuresplash": ["spl"], "application/x-gca-compressed": ["gca"], "application/x-glulx": ["ulx"], "application/x-gnumeric": ["gnumeric"], "application/x-gramps-xml": ["gramps"], "application/x-gtar": ["gtar"], "application/x-hdf": ["hdf"], "application/x-httpd-php": ["php"], "application/x-install-instructions": ["install"], "application/x-iso9660-image": ["*iso"], "application/x-java-archive-diff": ["jardiff"], "application/x-java-jnlp-file": ["jnlp"], "application/x-latex": ["latex"], "application/x-lua-bytecode": ["luac"], "application/x-lzh-compressed": ["lzh", "lha"], "application/x-makeself": ["run"], "application/x-mie": ["mie"], "application/x-mobipocket-ebook": ["prc", "mobi"], "application/x-ms-application": ["application"], "application/x-ms-shortcut": ["lnk"], "application/x-ms-wmd": ["wmd"], "application/x-ms-wmz": ["wmz"], "application/x-ms-xbap": ["xbap"], "application/x-msaccess": ["mdb"], "application/x-msbinder": ["obd"], "application/x-mscardfile": ["crd"], "application/x-msclip": ["clp"], "application/x-msdos-program": ["*exe"], "application/x-msdownload": ["*exe", "*dll", "com", "bat", "*msi"], "application/x-msmediaview": ["mvb", "m13", "m14"], "application/x-msmetafile": ["*wmf", "*wmz", "*emf", "emz"], "application/x-msmoney": ["mny"], "application/x-mspublisher": ["pub"], "application/x-msschedule": ["scd"], "application/x-msterminal": ["trm"], "application/x-mswrite": ["wri"], "application/x-netcdf": ["nc", "cdf"], "application/x-ns-proxy-autoconfig": ["pac"], "application/x-nzb": ["nzb"], "application/x-perl": ["pl", "pm"], "application/x-pilot": ["*prc", "*pdb"], "application/x-pkcs12": ["p12", "pfx"], "application/x-pkcs7-certificates": ["p7b", "spc"], "application/x-pkcs7-certreqresp": ["p7r"], "application/x-rar-compressed": ["rar"], "application/x-redhat-package-manager": ["rpm"], "application/x-research-info-systems": ["ris"], "application/x-sea": ["sea"], "application/x-sh": ["sh"], "application/x-shar": ["shar"], "application/x-shockwave-flash": ["swf"], "application/x-silverlight-app": ["xap"], "application/x-sql": ["sql"], "application/x-stuffit": ["sit"], "application/x-stuffitx": ["sitx"], "application/x-subrip": ["srt"], "application/x-sv4cpio": ["sv4cpio"], "application/x-sv4crc": ["sv4crc"], "application/x-t3vm-image": ["t3"], "application/x-tads": ["gam"], "application/x-tar": ["tar"], "application/x-tcl": ["tcl", "tk"], "application/x-tex": ["tex"], "application/x-tex-tfm": ["tfm"], "application/x-texinfo": ["texinfo", "texi"], "application/x-tgif": ["obj"], "application/x-ustar": ["ustar"], "application/x-virtualbox-hdd": ["hdd"], "application/x-virtualbox-ova": ["ova"], "application/x-virtualbox-ovf": ["ovf"], "application/x-virtualbox-vbox": ["vbox"], "application/x-virtualbox-vbox-extpack": ["vbox-extpack"], "application/x-virtualbox-vdi": ["vdi"], "application/x-virtualbox-vhd": ["vhd"], "application/x-virtualbox-vmdk": ["vmdk"], "application/x-wais-source": ["src"], "application/x-web-app-manifest+json": ["webapp"], "application/x-x509-ca-cert": ["der", "crt", "pem"], "application/x-xfig": ["fig"], "application/x-xliff+xml": ["xlf"], "application/x-xpinstall": ["xpi"], "application/x-xz": ["xz"], "application/x-zmachine": ["z1", "z2", "z3", "z4", "z5", "z6", "z7", "z8"], "audio/vnd.dece.audio": ["uva", "uvva"], "audio/vnd.digital-winds": ["eol"], "audio/vnd.dra": ["dra"], "audio/vnd.dts": ["dts"], "audio/vnd.dts.hd": ["dtshd"], "audio/vnd.lucent.voice": ["lvp"], "audio/vnd.ms-playready.media.pya": ["pya"], "audio/vnd.nuera.ecelp4800": ["ecelp4800"], "audio/vnd.nuera.ecelp7470": ["ecelp7470"], "audio/vnd.nuera.ecelp9600": ["ecelp9600"], "audio/vnd.rip": ["rip"], "audio/x-aac": ["aac"], "audio/x-aiff": ["aif", "aiff", "aifc"], "audio/x-caf": ["caf"], "audio/x-flac": ["flac"], "audio/x-m4a": ["*m4a"], "audio/x-matroska": ["mka"], "audio/x-mpegurl": ["m3u"], "audio/x-ms-wax": ["wax"], "audio/x-ms-wma": ["wma"], "audio/x-pn-realaudio": ["ram", "ra"], "audio/x-pn-realaudio-plugin": ["rmp"], "audio/x-realaudio": ["*ra"], "audio/x-wav": ["*wav"], "chemical/x-cdx": ["cdx"], "chemical/x-cif": ["cif"], "chemical/x-cmdf": ["cmdf"], "chemical/x-cml": ["cml"], "chemical/x-csml": ["csml"], "chemical/x-xyz": ["xyz"], "image/prs.btif": ["btif"], "image/prs.pti": ["pti"], "image/vnd.adobe.photoshop": ["psd"], "image/vnd.airzip.accelerator.azv": ["azv"], "image/vnd.dece.graphic": ["uvi", "uvvi", "uvg", "uvvg"], "image/vnd.djvu": ["djvu", "djv"], "image/vnd.dvb.subtitle": ["*sub"], "image/vnd.dwg": ["dwg"], "image/vnd.dxf": ["dxf"], "image/vnd.fastbidsheet": ["fbs"], "image/vnd.fpx": ["fpx"], "image/vnd.fst": ["fst"], "image/vnd.fujixerox.edmics-mmr": ["mmr"], "image/vnd.fujixerox.edmics-rlc": ["rlc"], "image/vnd.microsoft.icon": ["ico"], "image/vnd.ms-modi": ["mdi"], "image/vnd.ms-photo": ["wdp"], "image/vnd.net-fpx": ["npx"], "image/vnd.tencent.tap": ["tap"], "image/vnd.valve.source.texture": ["vtf"], "image/vnd.wap.wbmp": ["wbmp"], "image/vnd.xiff": ["xif"], "image/vnd.zbrush.pcx": ["pcx"], "image/x-3ds": ["3ds"], "image/x-cmu-raster": ["ras"], "image/x-cmx": ["cmx"], "image/x-freehand": ["fh", "fhc", "fh4", "fh5", "fh7"], "image/x-icon": ["*ico"], "image/x-jng": ["jng"], "image/x-mrsid-image": ["sid"], "image/x-ms-bmp": ["*bmp"], "image/x-pcx": ["*pcx"], "image/x-pict": ["pic", "pct"], "image/x-portable-anymap": ["pnm"], "image/x-portable-bitmap": ["pbm"], "image/x-portable-graymap": ["pgm"], "image/x-portable-pixmap": ["ppm"], "image/x-rgb": ["rgb"], "image/x-tga": ["tga"], "image/x-xbitmap": ["xbm"], "image/x-xpixmap": ["xpm"], "image/x-xwindowdump": ["xwd"], "message/vnd.wfa.wsc": ["wsc"], "model/vnd.collada+xml": ["dae"], "model/vnd.dwf": ["dwf"], "model/vnd.gdl": ["gdl"], "model/vnd.gtw": ["gtw"], "model/vnd.mts": ["mts"], "model/vnd.opengex": ["ogex"], "model/vnd.parasolid.transmit.binary": ["x_b"], "model/vnd.parasolid.transmit.text": ["x_t"], "model/vnd.usdz+zip": ["usdz"], "model/vnd.valve.source.compiled-map": ["bsp"], "model/vnd.vtu": ["vtu"], "text/prs.lines.tag": ["dsc"], "text/vnd.curl": ["curl"], "text/vnd.curl.dcurl": ["dcurl"], "text/vnd.curl.mcurl": ["mcurl"], "text/vnd.curl.scurl": ["scurl"], "text/vnd.dvb.subtitle": ["sub"], "text/vnd.fly": ["fly"], "text/vnd.fmi.flexstor": ["flx"], "text/vnd.graphviz": ["gv"], "text/vnd.in3d.3dml": ["3dml"], "text/vnd.in3d.spot": ["spot"], "text/vnd.sun.j2me.app-descriptor": ["jad"], "text/vnd.wap.wml": ["wml"], "text/vnd.wap.wmlscript": ["wmls"], "text/x-asm": ["s", "asm"], "text/x-c": ["c", "cc", "cxx", "cpp", "h", "hh", "dic"], "text/x-component": ["htc"], "text/x-fortran": ["f", "for", "f77", "f90"], "text/x-handlebars-template": ["hbs"], "text/x-java-source": ["java"], "text/x-lua": ["lua"], "text/x-markdown": ["mkd"], "text/x-nfo": ["nfo"], "text/x-opml": ["opml"], "text/x-org": ["*org"], "text/x-pascal": ["p", "pas"], "text/x-processing": ["pde"], "text/x-sass": ["sass"], "text/x-scss": ["scss"], "text/x-setext": ["etx"], "text/x-sfv": ["sfv"], "text/x-suse-ymp": ["ymp"], "text/x-uuencode": ["uu"], "text/x-vcalendar": ["vcs"], "text/x-vcard": ["vcf"], "video/vnd.dece.hd": ["uvh", "uvvh"], "video/vnd.dece.mobile": ["uvm", "uvvm"], "video/vnd.dece.pd": ["uvp", "uvvp"], "video/vnd.dece.sd": ["uvs", "uvvs"], "video/vnd.dece.video": ["uvv", "uvvv"], "video/vnd.dvb.file": ["dvb"], "video/vnd.fvt": ["fvt"], "video/vnd.mpegurl": ["mxu", "m4u"], "video/vnd.ms-playready.media.pyv": ["pyv"], "video/vnd.uvvu.mp4": ["uvu", "uvvu"], "video/vnd.vivo": ["viv"], "video/x-f4v": ["f4v"], "video/x-fli": ["fli"], "video/x-flv": ["flv"], "video/x-m4v": ["m4v"], "video/x-matroska": ["mkv", "mk3d", "mks"], "video/x-mng": ["mng"], "video/x-ms-asf": ["asf", "asx"], "video/x-ms-vob": ["vob"], "video/x-ms-wm": ["wm"], "video/x-ms-wmv": ["wmv"], "video/x-ms-wmx": ["wmx"], "video/x-ms-wvx": ["wvx"], "video/x-msvideo": ["avi"], "video/x-sgi-movie": ["movie"], "video/x-smv": ["smv"], "x-conference/x-cooltalk": ["ice"], "application/x-msi": "msi", "application/x-ms": "ms", "application/vnd.geo+json": "geojson", "application/vnd.debian.binary-package": "deb", "application/font-woff": "woff", "application/font-woff2": "woff2", "application/x-font-ttf": ["ttc", "ttf"], "font/opentype": "otf", "application/x-bb-appworld": "bbaw", "application/x-cd-image": "iso", "application/x-opera-extension": "oex", "application/x-ms-dos-executable": "exe", "text/vnd.rim.location.xloc": "xloc", "application/x-desktop": "desktop", "application/x-typescript": "ts", "application/x-java-archive": "jar", "application/x-sharedlib": "so" }, a2 = n2(17), s2 = n2.n(a2), c2 = n2(27), p2 = n2(28), u = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i, l2 = function(t3) {
    return btoa(p2.ArrayBuffer.hash(t3, true));
  }, f = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var n3 = btoa(t3);
    return e3 ? n3.replace(/\//g, "_").replace(/\+/g, "-") : n3;
  }, d = function() {
    return "JS-3.25.0";
  }, m = function() {
    return navigator && navigator.userAgent && u.test(navigator.userAgent);
  }, h = function() {
    return navigator && navigator.userAgent && /\[FB.*;/i.test(navigator.userAgent);
  }, y = function(t3, e3) {
    var n3 = t3.urls.cdnUrl;
    if (e3 && (0 === e3.indexOf("src:") || 0 === e3.indexOf("http"))) {
      if (!t3.apikey)
        throw new Error("Api key is required when storage alias is provided");
      return n3 + "/" + t3.apikey;
    }
    return n3;
  }, v = function(t3, e3) {
    if (!e3)
      return t3;
    var n3 = /filestackapi.com|filestackcontent.com/i;
    return Object.keys(t3).forEach(function(i3) {
      t3[i3] = t3[i3].replace(n3, e3);
    }), t3;
  }, g = function(t3) {
    var e3 = Object(r2.a)({}, t3);
    return Object.keys(e3).forEach(function(t4) {
      return !e3[t4] && "boolean" != typeof e3[t4] && delete e3[t4];
    }), e3;
  }, b = function() {
    var t3 = Date.now();
    return i2 = t3 === i2 ? t3 + 1 : t3;
  }, x = function(t3) {
    return void 0 === t3 && (t3 = 10), new Array(t3).join().replace(/(.|$)/g, function() {
      return (36 * Math.random() | 0).toString(36)[Math.random() < 0.5 ? "toString" : "toUpperCase"]();
    });
  }, k = function(t3, e3) {
    var n3 = s2()(t3);
    if (n3 && -1 === ["text/plain", "application/octet-stream", "application/x-ms", "application/x-msi", "application/zip"].indexOf(n3.mime))
      return n3.mime;
    if (e3 && e3.indexOf(".") > -1) {
      var i3 = w(e3);
      if (i3)
        return i3;
    }
    try {
      if (c2(t3))
        return "text/plain";
    } catch (t4) {
      console.warn("Additional mimetype checks (text/plain) are currently not supported for browsers");
    }
    return n3 ? n3.mime : "application/octet-stream";
  }, w = function(t3) {
    if (t3 && 0 !== t3.length) {
      if (2 === t3.split("/").length)
        return t3;
      t3.indexOf(".") > -1 && (t3 = t3.split(".").pop()), t3 = t3.toLocaleLowerCase();
      for (var e3 = Object.keys(o), n3 = e3.length, i3 = 0; i3 < n3; i3++)
        if (o[e3[i3]].indexOf(t3) > -1)
          return e3[i3];
    }
  }, _ = function(t3, e3) {
    if (void 0 === e3 && (e3 = true), "boolean" == typeof e3 && !e3)
      return t3;
    var n3, i3 = "boolean" != typeof e3 && e3.replacement ? e3.replacement : "-", r3 = "boolean" != typeof e3 && e3.exclude ? e3.exclude : ["\\", "{", "}", "|", "%", "`", '"', "'", "~", "[", "]", "#", "|", "^", "<", ">"];
    if (!t3 || 0 === t3.length)
      return "undefined";
    var o2 = t3.split(".");
    return o2.length > 1 && (n3 = o2.pop()), o2.join(".").split("").map(function(t4) {
      return r3.indexOf(t4) > -1 ? i3 : t4;
    }).join("") + (n3 ? "." + n3 : "");
  }, j = function(t3, e3) {
    return e3 && 0 !== e3.length ? 0 === Object.keys(t3).length ? t3 : Object.keys(t3).filter(function(t4) {
      return e3.indexOf(t4) > -1;
    }).reduce(function(e4, n3) {
      var i3;
      return Object(r2.a)(Object(r2.a)({}, e4), ((i3 = {})[n3] = t3[n3], i3));
    }, {}) : t3;
  }, O = function t3(e3) {
    return e3 && 0 !== Object.keys(e3).length ? (Object.keys(e3).forEach(function(n3) {
      "function" == typeof e3[n3] && (e3[n3] = void 0), e3[n3] === Object(e3[n3]) && (e3[n3] = t3(e3[n3]));
    }), e3) : e3;
  };
}, function(t2, e2, n2) {
  n2.d(e2, "b", function() {
    return i2;
  }), n2.d(e2, "a", function() {
    return o;
  });
  var i2, r2 = n2(0);
  !function(t3) {
    t3.ABORTED = "ABORTED", t3.NETWORK = "NETWORK", t3.TIMEOUT = "TIMEDOUT", t3.SERVER = "SERVER", t3.REQUEST = "REQUEST", t3.OTHER = "OTHER", t3.REDIRECT = "REDIRECT";
  }(i2 || (i2 = {}));
  var o = function(t3) {
    function e3(e4, n3, i3, r3) {
      var o2, a2, s2, c2 = this.constructor, p2 = t3.call(this, e4) || this;
      return p2.config = n3, p2.response = i3, p2.code = r3, o2 = p2, a2 = c2.prototype, (s2 = Object.setPrototypeOf) ? s2(o2, a2) : o2.__proto__ = a2, p2;
    }
    return Object(r2.c)(e3, t3), e3;
  }(Error);
}, function(t2, e2, n2) {
  (function(i2) {
    function r2(t3) {
      return (r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
        return typeof t4;
      } : function(t4) {
        return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
      })(t3);
    }
    e2.log = function() {
      var t3;
      return "object" === ("undefined" == typeof console ? "undefined" : r2(console)) && console.log && (t3 = console).log.apply(t3, arguments);
    }, e2.formatArgs = function(e3) {
      if (e3[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e3[0] + (this.useColors ? "%c " : " ") + "+" + t2.exports.humanize(this.diff), !this.useColors)
        return;
      var n3 = "color: " + this.color;
      e3.splice(1, 0, n3, "color: inherit");
      var i3 = 0, r3 = 0;
      e3[0].replace(/%[a-zA-Z%]/g, function(t3) {
        "%%" !== t3 && (i3++, "%c" === t3 && (r3 = i3));
      }), e3.splice(r3, 0, n3);
    }, e2.save = function(t3) {
      try {
        t3 ? e2.storage.setItem("debug", t3) : e2.storage.removeItem("debug");
      } catch (t4) {
      }
    }, e2.load = function() {
      var t3;
      try {
        t3 = e2.storage.getItem("debug");
      } catch (t4) {
      }
      !t3 && void 0 !== i2 && "env" in i2 && (t3 = i2.env.DEBUG);
      return t3;
    }, e2.useColors = function() {
      if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs))
        return true;
      if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
        return false;
      return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }, e2.storage = function() {
      try {
        return localStorage;
      } catch (t3) {
      }
    }(), e2.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], t2.exports = n2(41)(e2), t2.exports.formatters.j = function(t3) {
      try {
        return JSON.stringify(t3);
      } catch (t4) {
        return "[UnexpectedJSONParseError]: " + t4.message;
      }
    };
  }).call(this, n2(26));
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function r2(t3) {
    switch (Object.prototype.toString.call(t3)) {
      case "[object Error]":
      case "[object Exception]":
      case "[object DOMException]":
        return true;
      default:
        return d(t3, Error);
    }
  }
  function o(t3) {
    return "[object String]" === Object.prototype.toString.call(t3);
  }
  function a2(t3) {
    return null === t3 || "object" !== i2(t3) && "function" != typeof t3;
  }
  function s2(t3) {
    return "[object Object]" === Object.prototype.toString.call(t3);
  }
  function c2(t3) {
    return "undefined" != typeof Event && d(t3, Event);
  }
  function p2(t3) {
    return "undefined" != typeof Element && d(t3, Element);
  }
  function u(t3) {
    return "[object RegExp]" === Object.prototype.toString.call(t3);
  }
  function l2(t3) {
    return Boolean(t3 && t3.then && "function" == typeof t3.then);
  }
  function f(t3) {
    return s2(t3) && "nativeEvent" in t3 && "preventDefault" in t3 && "stopPropagation" in t3;
  }
  function d(t3, e3) {
    try {
      return t3 instanceof e3;
    } catch (t4) {
      return false;
    }
  }
  n2.d(e2, "b", function() {
    return r2;
  }), n2.d(e2, "h", function() {
    return o;
  }), n2.d(e2, "f", function() {
    return a2;
  }), n2.d(e2, "e", function() {
    return s2;
  }), n2.d(e2, "c", function() {
    return c2;
  }), n2.d(e2, "a", function() {
    return p2;
  }), n2.d(e2, "g", function() {
    return u;
  }), n2.d(e2, "j", function() {
    return l2;
  }), n2.d(e2, "i", function() {
    return f;
  }), n2.d(e2, "d", function() {
    return d;
  });
}, function(t2, e2, n2) {
  n2.d(e2, "a", function() {
    return a2;
  }), n2.d(e2, "f", function() {
    return s2;
  }), n2.d(e2, "d", function() {
    return c2;
  }), n2.d(e2, "b", function() {
    return p2;
  }), n2.d(e2, "h", function() {
    return u;
  }), n2.d(e2, "e", function() {
    return l2;
  }), n2.d(e2, "i", function() {
    return f;
  }), n2.d(e2, "c", function() {
    return i2;
  }), n2.d(e2, "g", function() {
    return r2;
  });
  var i2 = function() {
    return false;
  }, r2 = function() {
    return false;
  };
  function o(t3) {
    return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var a2 = function(t3) {
    return "[object ArrayBuffer]" === Object.prototype.toString.call(t3);
  }, s2 = function(t3) {
    return null !== t3 && "object" === o(t3);
  }, c2 = function(t3) {
    return "[object File]" === Object.prototype.toString.call(t3);
  }, p2 = function(t3) {
    return "[object Blob]" === Object.prototype.toString.call(t3);
  }, u = function(t3) {
    return "undefined" != typeof URLSearchParams && t3 instanceof URLSearchParams;
  }, l2 = function(t3) {
    return "undefined" != typeof FormData && t3 instanceof FormData;
  }, f = function(t3) {
    return t3.replace(/^\s*/, "").replace(/\s*$/, "");
  };
}, function(t2, e2, n2) {
  var i2;
  n2.d(e2, "a", function() {
    return i2;
  }), function(t3) {
    t3.GET = "GET", t3.DELETE = "DELETE", t3.HEAD = "HEAD", t3.PURGE = "PURGE", t3.OPTIONS = "OPTIONS", t3.POST = "POST", t3.PUT = "PUT", t3.PATH = "PATH";
  }(i2 || (i2 = {}));
}, function(t2, e2, n2) {
  var i2 = ":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", r2 = "[" + i2 + "][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*", o = new RegExp("^" + r2 + "$");
  e2.isExist = function(t3) {
    return void 0 !== t3;
  }, e2.isEmptyObject = function(t3) {
    return 0 === Object.keys(t3).length;
  }, e2.merge = function(t3, e3, n3) {
    if (e3)
      for (var i3 = Object.keys(e3), r3 = i3.length, o2 = 0; o2 < r3; o2++)
        t3[i3[o2]] = "strict" === n3 ? [e3[i3[o2]]] : e3[i3[o2]];
  }, e2.getValue = function(t3) {
    return e2.isExist(t3) ? t3 : "";
  }, e2.buildOptions = function(t3, e3, n3) {
    var i3 = {};
    if (!t3)
      return e3;
    for (var r3 = 0; r3 < n3.length; r3++)
      void 0 !== t3[n3[r3]] ? i3[n3[r3]] = t3[n3[r3]] : i3[n3[r3]] = e3[n3[r3]];
    return i3;
  }, e2.isName = function(t3) {
    var e3 = o.exec(t3);
    return !(null == e3);
  }, e2.getAllMatches = function(t3, e3) {
    for (var n3 = [], i3 = e3.exec(t3); i3; ) {
      for (var r3 = [], o2 = i3.length, a2 = 0; a2 < o2; a2++)
        r3.push(i3[a2]);
      n3.push(r3), i3 = e3.exec(t3);
    }
    return n3;
  }, e2.nameRegexp = r2;
}, function(t2, e2, n2) {
  var i2 = Object.prototype.hasOwnProperty, r2 = "~";
  function o() {
  }
  function a2(t3, e3, n3) {
    this.fn = t3, this.context = e3, this.once = n3 || false;
  }
  function s2(t3, e3, n3, i3, o2) {
    if ("function" != typeof n3)
      throw new TypeError("The listener must be a function");
    var s3 = new a2(n3, i3 || t3, o2), c3 = r2 ? r2 + e3 : e3;
    return t3._events[c3] ? t3._events[c3].fn ? t3._events[c3] = [t3._events[c3], s3] : t3._events[c3].push(s3) : (t3._events[c3] = s3, t3._eventsCount++), t3;
  }
  function c2(t3, e3) {
    0 == --t3._eventsCount ? t3._events = new o() : delete t3._events[e3];
  }
  function p2() {
    this._events = new o(), this._eventsCount = 0;
  }
  Object.create && (o.prototype = /* @__PURE__ */ Object.create(null), new o().__proto__ || (r2 = false)), p2.prototype.eventNames = function() {
    var t3, e3, n3 = [];
    if (0 === this._eventsCount)
      return n3;
    for (e3 in t3 = this._events)
      i2.call(t3, e3) && n3.push(r2 ? e3.slice(1) : e3);
    return Object.getOwnPropertySymbols ? n3.concat(Object.getOwnPropertySymbols(t3)) : n3;
  }, p2.prototype.listeners = function(t3) {
    var e3 = r2 ? r2 + t3 : t3, n3 = this._events[e3];
    if (!n3)
      return [];
    if (n3.fn)
      return [n3.fn];
    for (var i3 = 0, o2 = n3.length, a3 = new Array(o2); i3 < o2; i3++)
      a3[i3] = n3[i3].fn;
    return a3;
  }, p2.prototype.listenerCount = function(t3) {
    var e3 = r2 ? r2 + t3 : t3, n3 = this._events[e3];
    return n3 ? n3.fn ? 1 : n3.length : 0;
  }, p2.prototype.emit = function(t3, e3, n3, i3, o2, a3) {
    var s3 = r2 ? r2 + t3 : t3;
    if (!this._events[s3])
      return false;
    var c3, p3, u = this._events[s3], l2 = arguments.length;
    if (u.fn) {
      switch (u.once && this.removeListener(t3, u.fn, void 0, true), l2) {
        case 1:
          return u.fn.call(u.context), true;
        case 2:
          return u.fn.call(u.context, e3), true;
        case 3:
          return u.fn.call(u.context, e3, n3), true;
        case 4:
          return u.fn.call(u.context, e3, n3, i3), true;
        case 5:
          return u.fn.call(u.context, e3, n3, i3, o2), true;
        case 6:
          return u.fn.call(u.context, e3, n3, i3, o2, a3), true;
      }
      for (p3 = 1, c3 = new Array(l2 - 1); p3 < l2; p3++)
        c3[p3 - 1] = arguments[p3];
      u.fn.apply(u.context, c3);
    } else {
      var f, d = u.length;
      for (p3 = 0; p3 < d; p3++)
        switch (u[p3].once && this.removeListener(t3, u[p3].fn, void 0, true), l2) {
          case 1:
            u[p3].fn.call(u[p3].context);
            break;
          case 2:
            u[p3].fn.call(u[p3].context, e3);
            break;
          case 3:
            u[p3].fn.call(u[p3].context, e3, n3);
            break;
          case 4:
            u[p3].fn.call(u[p3].context, e3, n3, i3);
            break;
          default:
            if (!c3)
              for (f = 1, c3 = new Array(l2 - 1); f < l2; f++)
                c3[f - 1] = arguments[f];
            u[p3].fn.apply(u[p3].context, c3);
        }
    }
    return true;
  }, p2.prototype.on = function(t3, e3, n3) {
    return s2(this, t3, e3, n3, false);
  }, p2.prototype.once = function(t3, e3, n3) {
    return s2(this, t3, e3, n3, true);
  }, p2.prototype.removeListener = function(t3, e3, n3, i3) {
    var o2 = r2 ? r2 + t3 : t3;
    if (!this._events[o2])
      return this;
    if (!e3)
      return c2(this, o2), this;
    var a3 = this._events[o2];
    if (a3.fn)
      a3.fn !== e3 || i3 && !a3.once || n3 && a3.context !== n3 || c2(this, o2);
    else {
      for (var s3 = 0, p3 = [], u = a3.length; s3 < u; s3++)
        (a3[s3].fn !== e3 || i3 && !a3[s3].once || n3 && a3[s3].context !== n3) && p3.push(a3[s3]);
      p3.length ? this._events[o2] = 1 === p3.length ? p3[0] : p3 : c2(this, o2);
    }
    return this;
  }, p2.prototype.removeAllListeners = function(t3) {
    var e3;
    return t3 ? (e3 = r2 ? r2 + t3 : t3, this._events[e3] && c2(this, e3)) : (this._events = new o(), this._eventsCount = 0), this;
  }, p2.prototype.off = p2.prototype.removeListener, p2.prototype.addListener = p2.prototype.on, p2.prefixed = r2, p2.EventEmitter = p2, t2.exports = p2;
}, function(t2, e2, n2) {
  (function(t3) {
    n2.d(e2, "b", function() {
      return o;
    }), n2.d(e2, "c", function() {
      return a2;
    }), n2.d(e2, "a", function() {
      return s2;
    });
    var i2 = n2(13), r2 = (n2(10), {});
    function o() {
      return Object(i2.b)() ? t3 : "undefined" != typeof window ? window : "undefined" != typeof self ? self : r2;
    }
    function a2() {
      var t4 = o(), e3 = t4.crypto || t4.msCrypto;
      if (void 0 !== e3 && e3.getRandomValues) {
        var n3 = new Uint16Array(8);
        e3.getRandomValues(n3), n3[3] = 4095 & n3[3] | 16384, n3[4] = 16383 & n3[4] | 32768;
        var i3 = function(t5) {
          for (var e4 = t5.toString(16); e4.length < 4; )
            e4 = "0" + e4;
          return e4;
        };
        return i3(n3[0]) + i3(n3[1]) + i3(n3[2]) + i3(n3[3]) + i3(n3[4]) + i3(n3[5]) + i3(n3[6]) + i3(n3[7]);
      }
      return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(t5) {
        var e4 = 16 * Math.random() | 0;
        return ("x" === t5 ? e4 : 3 & e4 | 8).toString(16);
      });
    }
    function s2(t4) {
      var e3 = o();
      if (!("console" in e3))
        return t4();
      var n3 = e3.console, i3 = {};
      ["debug", "info", "warn", "error", "log", "assert"].forEach(function(t5) {
        t5 in e3.console && n3[t5].__sentry_original__ && (i3[t5] = n3[t5], n3[t5] = n3[t5].__sentry_original__);
      });
      var r3 = t4();
      return Object.keys(i3).forEach(function(t5) {
        n3[t5] = i3[t5];
      }), r3;
    }
  }).call(this, n2(14));
}, function(t2, e2, n2) {
  n2.d(e2, "b", function() {
    return i2;
  }), n2.d(e2, "a", function() {
    return r2;
  });
  n2(4);
  function i2(t3, e3) {
    return void 0 === e3 && (e3 = 0), "string" != typeof t3 || 0 === e3 || t3.length <= e3 ? t3 : t3.substr(0, e3) + "...";
  }
  function r2(t3, e3) {
    var n3 = t3, i3 = n3.length;
    if (i3 <= 150)
      return n3;
    e3 > i3 && (e3 = i3);
    var r3 = Math.max(e3 - 60, 0);
    r3 < 5 && (r3 = 0);
    var o = Math.min(r3 + 140, i3);
    return o > i3 - 5 && (o = i3), o === i3 && (r3 = Math.max(o - 140, 0)), n3 = n3.slice(r3, o), r3 > 0 && (n3 = "'{snip} " + n3), o < i3 && (n3 += " {snip}"), n3;
  }
}, function(t2, e2, n2) {
  n2.d(e2, "b", function() {
    return o;
  }), n2.d(e2, "d", function() {
    return d;
  }), n2.d(e2, "c", function() {
    return h;
  }), n2.d(e2, "a", function() {
    return v;
  }), n2.d(e2, "e", function() {
    return b.a;
  });
  var i2 = n2(5), r2 = ["expires", "from", "host", "if-modified-since", "if-unmodified-since", "age", "authorization", "content-length", "content-type", "etag", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"], o = function(t3) {
    var e3, n3, o2, a3 = {};
    return t3 ? (t3.split("\n").forEach(function(t4) {
      o2 = t4.indexOf(":"), e3 = Object(i2.i)(t4.substr(0, o2)).toLowerCase(), n3 = Object(i2.i)(t4.substr(o2 + 1)), e3 && (a3[e3] && r2.indexOf(e3) >= 0 || (a3[e3] = "set-cookie" === e3 ? (a3[e3] ? a3[e3] : []).concat([n3]) : a3[e3] ? a3[e3] + ", " + n3 : n3));
    }), a3) : a3;
  }, a2 = function(t3, e3, n3, i3) {
    void 0 === i3 && (i3 = false);
    var r3 = s2(e3);
    return t3 || (t3 = {}), void 0 === (t3 = JSON.parse(JSON.stringify(t3)))[e3] && void 0 === t3[r3] ? t3[r3] = n3 : i3 && (delete t3[e3], t3[r3] = n3), t3;
  }, s2 = function(t3) {
    var e3 = { "content-md5": "Content-MD5", dnt: "DNT", etag: "ETag", "last-event-id": "Last-Event-ID", tcn: "TCN", te: "TE", "www-authenticate": "WWW-Authenticate", "x-dnsprefetch-control": "X-DNSPrefetch-Control" }[t3.toLowerCase()];
    return e3 || t3.split("-").map(function(t4) {
      return t4.charAt(0).toUpperCase() + t4.substr(1).toLowerCase();
    }).join("-");
  }, c2 = n2(0), p2 = n2(1), u = n2(21), l2 = n2(3), f = n2.n(l2)()("fs:request:data"), d = function(t3) {
    return t3 = m(t3), Object(i2.e)(t3.data) || Object(i2.c)(t3.data) || Object(i2.g)(t3.data) || Object(i2.d)(t3.data) || Object(i2.b)(t3.data) || Object(i2.a)(t3.data) || (Object(i2.h)(t3.data) ? (t3.headers = a2(t3.headers, "content-type", "application/x-www-form-urlencoded;charset=utf-8"), t3.data = t3.data.toString()) : Object(i2.f)(t3.data) && (t3.headers = a2(t3.headers, "content-type", "application/json", true), t3.data = JSON.stringify(t3.data))), t3;
  }, m = function(t3) {
    return t3.filestackHeaders ? (t3.headers = a2(t3.headers, "filestack-source", Object(p2.getVersion)()), t3.headers = a2(t3.headers, "filestack-trace-id", Math.floor(Date.now() / 1e3) + "-" + Object(p2.uniqueId)()), t3.headers = a2(t3.headers, "filestack-trace-span", "jssdk-" + Object(p2.uniqueId)()), t3) : t3;
  }, h = function(t3) {
    return Object(c2.b)(void 0, void 0, void 0, function() {
      var e3, n3;
      return Object(c2.d)(this, function(r3) {
        if (!t3.headers || !t3.headers["content-type"])
          return [2, Promise.resolve(t3)];
        if (e3 = t3.headers["content-type"], /application\/json/.test(e3))
          try {
            t3.data = JSON.parse(t3.data);
          } catch (e4) {
            f("Cannot parse response %O - %O", t3.data, t3.headers);
          }
        else
          /text\/(plain|html)/.test(e3) ? Object(i2.c)(t3.data) && (t3.data = y(t3.data)) : /application\/xml/.test(e3) && (n3 = t3.data, Object(i2.c)(t3.data) && (n3 = y(t3.data)), true === u.validate(n3) && (t3.data = u.parse(n3, { ignoreAttributes: true, trimValues: true })));
        return [2, Promise.resolve(t3)];
      });
    });
  };
  function y(t3) {
    for (var e3 = new Uint16Array(t3), n3 = e3.length, i3 = "", r3 = Math.pow(2, 16) - 1, o2 = 0; o2 < n3; o2 += r3)
      o2 + r3 > n3 && (r3 = n3 - o2), i3 += String.fromCharCode.apply(null, e3.subarray(o2, o2 + r3));
    return i3;
  }
  var v = function(t3, e3) {
    if (!e3)
      return t3;
    var n3 = g(e3), i3 = t3.indexOf("#");
    return -1 !== i3 && (t3 = t3.slice(0, i3)), t3 + (-1 === t3.indexOf("?") ? "?" : "&") + n3;
  }, g = function(t3) {
    return Object.keys(t3).filter(function(e3) {
      return e3 && void 0 !== t3[e3];
    }).map(function(e3) {
      return encodeURIComponent(e3) + "=" + encodeURIComponent(t3[e3]);
    }).join("&");
  }, b = n2(16);
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(19), o = e2.ValidationError = function(t3, e3, n3, i3, r3, o2) {
    i3 && (this.property = i3), t3 && (this.message = t3), n3 && (n3.id ? this.schema = n3.id : this.schema = n3), e3 && (this.instance = e3), this.name = r3, this.argument = o2, this.stack = this.toString();
  };
  o.prototype.toString = function() {
    return this.property + " " + this.message;
  };
  var a2 = e2.ValidatorResult = function(t3, e3, n3, i3) {
    this.instance = t3, this.schema = e3, this.propertyPath = i3.propertyPath, this.errors = [], this.throwError = n3 && n3.throwError, this.disableFormat = n3 && true === n3.disableFormat;
  };
  function s2(t3, e3) {
    return e3 + ": " + t3.toString() + "\n";
  }
  a2.prototype.addError = function(t3) {
    var e3;
    if ("string" == typeof t3)
      e3 = new o(t3, this.instance, this.schema, this.propertyPath);
    else {
      if (!t3)
        throw new Error("Missing error detail");
      if (!t3.message)
        throw new Error("Missing error message");
      if (!t3.name)
        throw new Error("Missing validator type");
      e3 = new o(t3.message, this.instance, this.schema, this.propertyPath, t3.name, t3.argument);
    }
    if (this.throwError)
      throw e3;
    return this.errors.push(e3), e3;
  }, a2.prototype.importErrors = function(t3) {
    "string" == typeof t3 || t3 && t3.validatorType ? this.addError(t3) : t3 && t3.errors && Array.prototype.push.apply(this.errors, t3.errors);
  }, a2.prototype.toString = function(t3) {
    return this.errors.map(s2).join("");
  }, Object.defineProperty(a2.prototype, "valid", { get: function() {
    return !this.errors.length;
  } });
  var c2 = e2.SchemaError = function t3(e3, n3) {
    this.message = e3, this.schema = n3, Error.call(this, e3), Error.captureStackTrace(this, t3);
  };
  c2.prototype = Object.create(Error.prototype, { constructor: { value: c2, enumerable: false }, name: { value: "SchemaError", enumerable: false } });
  var p2 = e2.SchemaContext = function(t3, e3, n3, i3, r3) {
    this.schema = t3, this.options = e3, this.propertyPath = n3, this.base = i3, this.schemas = r3;
  };
  p2.prototype.resolve = function(t3) {
    return r2.resolve(this.base, t3);
  }, p2.prototype.makeChild = function(t3, e3) {
    var n3 = void 0 === e3 ? this.propertyPath : this.propertyPath + l2(e3), i3 = r2.resolve(this.base, t3.id || ""), o2 = new p2(t3, this.options, n3, i3, Object.create(this.schemas));
    return t3.id && !o2.schemas[i3] && (o2.schemas[i3] = t3), o2;
  };
  var u = e2.FORMAT_REGEXPS = { "date-time": /^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/, date: /^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/, time: /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/, email: /^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/, "ip-address": /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/, ipv6: /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/, uri: /^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/, color: /^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/, hostname: /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/, "host-name": /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/, alpha: /^[a-zA-Z]+$/, alphanumeric: /^[a-zA-Z0-9]+$/, "utc-millisec": function(t3) {
    return "string" == typeof t3 && parseFloat(t3) === parseInt(t3, 10) && !isNaN(t3);
  }, regex: function(t3) {
    var e3 = true;
    try {
      new RegExp(t3);
    } catch (t4) {
      e3 = false;
    }
    return e3;
  }, style: /\s*(.+?):\s*([^;]+);?/, phone: /^\+(?:[0-9] ?){6,14}[0-9]$/ };
  u.regexp = u.regex, u.pattern = u.regex, u.ipv4 = u["ip-address"], e2.isFormat = function(t3, e3, n3) {
    if ("string" == typeof t3 && void 0 !== u[e3]) {
      if (u[e3] instanceof RegExp)
        return u[e3].test(t3);
      if ("function" == typeof u[e3])
        return u[e3](t3);
    } else if (n3 && n3.customFormats && "function" == typeof n3.customFormats[e3])
      return n3.customFormats[e3](t3);
    return true;
  };
  var l2 = e2.makeSuffix = function(t3) {
    return (t3 = t3.toString()).match(/[.\s\[\]]/) || t3.match(/^[\d]/) ? t3.match(/^\d+$/) ? "[" + t3 + "]" : "[" + JSON.stringify(t3) + "]" : "." + t3;
  };
  function f(t3, e3, n3, r3) {
    "object" === i2(n3) ? e3[r3] = h(t3[r3], n3) : -1 === t3.indexOf(n3) && e3.push(n3);
  }
  function d(t3, e3, n3) {
    e3[n3] = t3[n3];
  }
  function m(t3, e3, n3, r3) {
    "object" === i2(e3[r3]) && e3[r3] && t3[r3] ? n3[r3] = h(t3[r3], e3[r3]) : n3[r3] = e3[r3];
  }
  function h(t3, e3) {
    var n3 = Array.isArray(e3), r3 = n3 && [] || {};
    return n3 ? (t3 = t3 || [], r3 = r3.concat(t3), e3.forEach(f.bind(null, t3, r3))) : (t3 && "object" === i2(t3) && Object.keys(t3).forEach(d.bind(null, t3, r3)), Object.keys(e3).forEach(m.bind(null, t3, e3, r3))), r3;
  }
  function y(t3) {
    return "/" + encodeURIComponent(t3).replace(/~/g, "%7E");
  }
  e2.deepCompareStrict = function t3(e3, n3) {
    if (i2(e3) !== i2(n3))
      return false;
    if (e3 instanceof Array)
      return n3 instanceof Array && (e3.length === n3.length && e3.every(function(i3, r4) {
        return t3(e3[r4], n3[r4]);
      }));
    if ("object" === i2(e3)) {
      if (!e3 || !n3)
        return e3 === n3;
      var r3 = Object.keys(e3), o2 = Object.keys(n3);
      return r3.length === o2.length && r3.every(function(i3) {
        return t3(e3[i3], n3[i3]);
      });
    }
    return e3 === n3;
  }, t2.exports.deepMerge = h, e2.objectGetPath = function(t3, e3) {
    for (var n3, i3 = e3.split("/").slice(1); "string" == typeof (n3 = i3.shift()); ) {
      var r3 = decodeURIComponent(n3.replace(/~0/, "~").replace(/~1/g, "/"));
      if (!(r3 in t3))
        return;
      t3 = t3[r3];
    }
    return t3;
  }, e2.encodePath = function(t3) {
    return t3.map(y).join("");
  }, e2.getDecimalPlaces = function(t3) {
    var e3 = 0;
    if (isNaN(t3))
      return e3;
    "number" != typeof t3 && (t3 = Number(t3));
    var n3 = t3.toString().split("e");
    if (2 === n3.length) {
      if ("-" !== n3[1][0])
        return e3;
      e3 = Number(n3[1].slice(1));
    }
    var i3 = n3[0].split(".");
    return 2 === i3.length && (e3 += i3[1].length), e3;
  };
}, function(t2, e2, n2) {
  (function(t3) {
    function i2() {
      return "[object process]" === Object.prototype.toString.call(void 0 !== t3 ? t3 : 0);
    }
    function r2(t4, e3) {
      return t4.require(e3);
    }
    n2.d(e2, "b", function() {
      return i2;
    }), n2.d(e2, "a", function() {
      return r2;
    });
  }).call(this, n2(26));
}, function(t2, e2) {
  function n2(t3) {
    return (n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var i2;
  i2 = function() {
    return this;
  }();
  try {
    i2 = i2 || new Function("return this")();
  } catch (t3) {
    "object" === ("undefined" == typeof window ? "undefined" : n2(window)) && (i2 = window);
  }
  t2.exports = i2;
}, function(t2, e2, n2) {
  var i2 = n2(7), r2 = n2(7).buildOptions, o = n2(45), a2 = 1, s2 = 2, c2 = 3, p2 = 4, u = "<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g, i2.nameRegexp);
  !Number.parseInt && window.parseInt && (Number.parseInt = window.parseInt), !Number.parseFloat && window.parseFloat && (Number.parseFloat = window.parseFloat);
  var l2 = { attributeNamePrefix: "@_", attrNodeName: false, textNodeName: "#text", ignoreAttributes: true, ignoreNameSpace: false, allowBooleanAttributes: false, parseNodeValue: true, parseAttributeValue: false, arrayMode: false, trimValues: true, cdataTagName: false, cdataPositionChar: "\\c", tagValueProcessor: function(t3, e3) {
    return t3;
  }, attrValueProcessor: function(t3, e3) {
    return t3;
  }, stopNodes: [] };
  e2.defaultOptions = l2;
  var f = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "ignoreNameSpace", "allowBooleanAttributes", "parseNodeValue", "parseAttributeValue", "arrayMode", "trimValues", "cdataTagName", "cdataPositionChar", "tagValueProcessor", "attrValueProcessor", "parseTrueNumberOnly", "stopNodes"];
  e2.props = f;
  function d(t3, e3, n3) {
    var i3 = t3[7] || n3, r3 = t3[12];
    return r3 && (e3.trimValues && (r3 = r3.trim()), r3 = y(r3 = e3.tagValueProcessor(r3, i3), e3.parseNodeValue, e3.parseTrueNumberOnly)), r3;
  }
  function m(t3) {
    return "]]>" === t3[4] ? p2 : "/" === t3[10] ? s2 : void 0 !== t3[8] && "/" === t3[8].substr(t3[8].length - 1) ? c2 : a2;
  }
  function h(t3, e3) {
    if (e3.ignoreNameSpace) {
      var n3 = t3.split(":"), i3 = "/" === t3.charAt(0) ? "/" : "";
      if ("xmlns" === n3[0])
        return "";
      2 === n3.length && (t3 = i3 + n3[1]);
    }
    return t3;
  }
  function y(t3, e3, n3) {
    var r3;
    return e3 && "string" == typeof t3 ? ("" === t3.trim() || isNaN(t3) ? r3 = "true" === t3 || "false" !== t3 && t3 : (-1 !== t3.indexOf("0x") ? r3 = Number.parseInt(t3, 16) : -1 !== t3.indexOf(".") ? (r3 = Number.parseFloat(t3), t3 = t3.replace(/0+$/, "")) : r3 = Number.parseInt(t3, 10), n3 && (r3 = String(r3) === t3 ? r3 : t3)), r3) : i2.isExist(t3) ? t3 : "";
  }
  var v = new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`, "g");
  function g(t3, e3) {
    if (!e3.ignoreAttributes && "string" == typeof t3) {
      t3 = t3.replace(/\r?\n/g, " ");
      for (var n3 = i2.getAllMatches(t3, v), r3 = n3.length, o2 = {}, a3 = 0; a3 < r3; a3++) {
        var s3 = h(n3[a3][1], e3);
        s3.length && (void 0 !== n3[a3][4] ? (e3.trimValues && (n3[a3][4] = n3[a3][4].trim()), n3[a3][4] = e3.attrValueProcessor(n3[a3][4], s3), o2[e3.attributeNamePrefix + s3] = y(n3[a3][4], e3.parseAttributeValue, e3.parseTrueNumberOnly)) : e3.allowBooleanAttributes && (o2[e3.attributeNamePrefix + s3] = true));
      }
      if (!Object.keys(o2).length)
        return;
      if (e3.attrNodeName) {
        var c3 = {};
        return c3[e3.attrNodeName] = o2, c3;
      }
      return o2;
    }
  }
  e2.getTraversalObj = function(t3, e3) {
    e3 = r2(e3, l2, f), t3 = t3.replace(/<!--[\s\S]*?-->/g, "");
    for (var n3 = new o("!xml"), a3 = n3, h2 = new RegExp(u, "g"), y2 = h2.exec(t3), v2 = h2.exec(t3); y2; ) {
      var b = m(y2);
      if (b === s2)
        a3.parent && y2[12] && (a3.parent.val = i2.getValue(a3.parent.val) + "" + d(y2, e3, a3.parent.tagname)), e3.stopNodes.length && e3.stopNodes.includes(a3.tagname) && (a3.child = [], null == a3.attrsMap && (a3.attrsMap = {}), a3.val = t3.substr(a3.startIndex + 1, y2.index - a3.startIndex - 1)), a3 = a3.parent;
      else if (b === p2)
        if (e3.cdataTagName) {
          var x = new o(e3.cdataTagName, a3, y2[3]);
          x.attrsMap = g(y2[8], e3), a3.addChild(x), a3.val = i2.getValue(a3.val) + e3.cdataPositionChar, y2[12] && (a3.val += d(y2, e3));
        } else
          a3.val = (a3.val || "") + (y2[3] || "") + d(y2, e3);
      else if (b === c2) {
        a3 && y2[12] && (a3.val = i2.getValue(a3.val) + "" + d(y2, e3));
        var k = new o(e3.ignoreNameSpace ? y2[7] : y2[5], a3, "");
        y2[8] && y2[8].length > 0 && (y2[8] = y2[8].substr(0, y2[8].length - 1)), k.attrsMap = g(y2[8], e3), a3.addChild(k);
      } else {
        var w = new o(e3.ignoreNameSpace ? y2[7] : y2[5], a3, d(y2, e3));
        e3.stopNodes.length && e3.stopNodes.includes(w.tagname) && (w.startIndex = y2.index + y2[1].length), w.attrsMap = g(y2[8], e3), a3.addChild(w), a3 = w;
      }
      y2 = v2, v2 = h2.exec(t3);
    }
    return n3;
  };
}, function(t2, e2, n2) {
  n2.d(e2, "a", function() {
    return a2;
  });
  var i2 = n2(2), r2 = n2(3), o = n2.n(r2)()("fs:request:shouldRetry"), a2 = function(t3) {
    switch (o("Checking error for retry. Code: %n, type: %s", t3.response ? t3.response.status : "Malformed response", t3.code), t3.code) {
      case i2.b.NETWORK:
      case i2.b.SERVER:
      case i2.b.TIMEOUT:
        return true;
      case i2.b.ABORTED:
        return false;
    }
    return !!t3.response && (500 <= t3.response.status && t3.response.status <= 599);
  };
}, function(module, exports, __webpack_require__) {
  function _typeof(t2) {
    return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
      return typeof t3;
    } : function(t3) {
      return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
    })(t2);
  }
  function _toConsumableArray(t2) {
    return _arrayWithoutHoles(t2) || _iterableToArray(t2) || _nonIterableSpread();
  }
  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance");
  }
  function _iterableToArray(t2) {
    if (Symbol.iterator in Object(t2) || "[object Arguments]" === Object.prototype.toString.call(t2))
      return Array.from(t2);
  }
  function _arrayWithoutHoles(t2) {
    if (Array.isArray(t2)) {
      for (var e2 = 0, n2 = new Array(t2.length); e2 < t2.length; e2++)
        n2[e2] = t2[e2];
      return n2;
    }
  }
  var toBytes = function(t2) {
    return _toConsumableArray(t2).map(function(t3) {
      return t3.charCodeAt(0);
    });
  }, xpiZipFilename = toBytes("META-INF/mozilla.rsa"), oxmlContentTypes = toBytes("[Content_Types].xml"), oxmlRels = toBytes("_rels/.rels");
  function readUInt64LE(t2) {
    for (var e2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n2 = t2[e2], i2 = 1, r2 = 0; ++r2 < 8; )
      i2 *= 256, n2 += t2[e2 + r2] * i2;
    return n2;
  }
  var fileType = function(t2) {
    if (!(t2 instanceof Uint8Array || t2 instanceof ArrayBuffer || Buffer.isBuffer(t2)))
      throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(t2), "`"));
    var e2 = t2 instanceof Uint8Array ? t2 : new Uint8Array(t2);
    if (!(e2 && e2.length > 1))
      return null;
    var n2 = function(t3, n3) {
      n3 = Object.assign({ offset: 0 }, n3);
      for (var i3 = 0; i3 < t3.length; i3++)
        if (n3.mask) {
          if (t3[i3] !== (n3.mask[i3] & e2[i3 + n3.offset]))
            return false;
        } else if (t3[i3] !== e2[i3 + n3.offset])
          return false;
      return true;
    }, i2 = function(t3, e3) {
      return n2(toBytes(t3), e3);
    };
    if (n2([255, 216, 255]))
      return { ext: "jpg", mime: "image/jpeg" };
    if (n2([137, 80, 78, 71, 13, 10, 26, 10]))
      return { ext: "png", mime: "image/png" };
    if (n2([71, 73, 70]))
      return { ext: "gif", mime: "image/gif" };
    if (n2([87, 69, 66, 80], { offset: 8 }))
      return { ext: "webp", mime: "image/webp" };
    if (n2([70, 76, 73, 70]))
      return { ext: "flif", mime: "image/flif" };
    if ((n2([73, 73, 42, 0]) || n2([77, 77, 0, 42])) && n2([67, 82], { offset: 8 }))
      return { ext: "cr2", mime: "image/x-canon-cr2" };
    if (n2([73, 73, 42, 0]) || n2([77, 77, 0, 42]))
      return { ext: "tif", mime: "image/tiff" };
    if (n2([66, 77]))
      return { ext: "bmp", mime: "image/bmp" };
    if (n2([73, 73, 188]))
      return { ext: "jxr", mime: "image/vnd.ms-photo" };
    if (n2([56, 66, 80, 83]))
      return { ext: "psd", mime: "image/vnd.adobe.photoshop" };
    if (n2([80, 75, 3, 4])) {
      if (n2([109, 105, 109, 101, 116, 121, 112, 101, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 101, 112, 117, 98, 43, 122, 105, 112], { offset: 30 }))
        return { ext: "epub", mime: "application/epub+zip" };
      if (n2(xpiZipFilename, { offset: 30 }))
        return { ext: "xpi", mime: "application/x-xpinstall" };
      if (i2("mimetypeapplication/vnd.oasis.opendocument.text", { offset: 30 }))
        return { ext: "odt", mime: "application/vnd.oasis.opendocument.text" };
      if (i2("mimetypeapplication/vnd.oasis.opendocument.spreadsheet", { offset: 30 }))
        return { ext: "ods", mime: "application/vnd.oasis.opendocument.spreadsheet" };
      if (i2("mimetypeapplication/vnd.oasis.opendocument.presentation", { offset: 30 }))
        return { ext: "odp", mime: "application/vnd.oasis.opendocument.presentation" };
      var r2 = function(t3) {
        var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return t3.findIndex(function(t4, n3, i3) {
          return n3 >= e3 && 80 === i3[n3] && 75 === i3[n3 + 1] && 3 === i3[n3 + 2] && 4 === i3[n3 + 3];
        });
      }, o = 0, a2 = false, s2 = null;
      do {
        var c2 = o + 30;
        if (a2 || (a2 = n2(oxmlContentTypes, { offset: c2 }) || n2(oxmlRels, { offset: c2 })), s2 || (i2("word/", { offset: c2 }) ? s2 = { ext: "docx", mime: "application/vnd.openxmlformats-officedocument.wordprocessingml.document" } : i2("ppt/", { offset: c2 }) ? s2 = { ext: "pptx", mime: "application/vnd.openxmlformats-officedocument.presentationml.presentation" } : i2("xl/", { offset: c2 }) && (s2 = { ext: "xlsx", mime: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" })), a2 && s2)
          return s2;
        o = r2(e2, c2);
      } while (o >= 0);
      if (s2)
        return s2;
    }
    if (n2([80, 75]) && (3 === e2[2] || 5 === e2[2] || 7 === e2[2]) && (4 === e2[3] || 6 === e2[3] || 8 === e2[3]))
      return { ext: "zip", mime: "application/zip" };
    if (n2([117, 115, 116, 97, 114], { offset: 257 }))
      return { ext: "tar", mime: "application/x-tar" };
    if (n2([82, 97, 114, 33, 26, 7]) && (0 === e2[6] || 1 === e2[6]))
      return { ext: "rar", mime: "application/x-rar-compressed" };
    if (n2([31, 139, 8]))
      return { ext: "gz", mime: "application/gzip" };
    if (n2([66, 90, 104]))
      return { ext: "bz2", mime: "application/x-bzip2" };
    if (n2([55, 122, 188, 175, 39, 28]))
      return { ext: "7z", mime: "application/x-7z-compressed" };
    if (n2([120, 1]))
      return { ext: "dmg", mime: "application/x-apple-diskimage" };
    if (n2([51, 103, 112, 53]) || n2([0, 0, 0]) && n2([102, 116, 121, 112], { offset: 4 }) && (n2([109, 112, 52, 49], { offset: 8 }) || n2([109, 112, 52, 50], { offset: 8 }) || n2([105, 115, 111, 109], { offset: 8 }) || n2([105, 115, 111, 50], { offset: 8 }) || n2([109, 109, 112, 52], { offset: 8 }) || n2([77, 52, 86], { offset: 8 }) || n2([100, 97, 115, 104], { offset: 8 })))
      return { ext: "mp4", mime: "video/mp4" };
    if (n2([77, 84, 104, 100]))
      return { ext: "mid", mime: "audio/midi" };
    if (n2([26, 69, 223, 163])) {
      var p2 = e2.subarray(4, 4100), u = p2.findIndex(function(t3, e3, n3) {
        return 66 === n3[e3] && 130 === n3[e3 + 1];
      });
      if (-1 !== u) {
        var l2 = u + 3, f = function(t3) {
          return _toConsumableArray(t3).every(function(t4, e3) {
            return p2[l2 + e3] === t4.charCodeAt(0);
          });
        };
        if (f("matroska"))
          return { ext: "mkv", mime: "video/x-matroska" };
        if (f("webm"))
          return { ext: "webm", mime: "video/webm" };
      }
    }
    if (n2([0, 0, 0, 20, 102, 116, 121, 112, 113, 116, 32, 32]) || n2([102, 114, 101, 101], { offset: 4 }) || n2([102, 116, 121, 112, 113, 116, 32, 32], { offset: 4 }) || n2([109, 100, 97, 116], { offset: 4 }) || n2([109, 111, 111, 118], { offset: 4 }) || n2([119, 105, 100, 101], { offset: 4 }))
      return { ext: "mov", mime: "video/quicktime" };
    if (n2([82, 73, 70, 70])) {
      if (n2([65, 86, 73], { offset: 8 }))
        return { ext: "avi", mime: "video/vnd.avi" };
      if (n2([87, 65, 86, 69], { offset: 8 }))
        return { ext: "wav", mime: "audio/vnd.wave" };
      if (n2([81, 76, 67, 77], { offset: 8 }))
        return { ext: "qcp", mime: "audio/qcelp" };
    }
    if (n2([48, 38, 178, 117, 142, 102, 207, 17, 166, 217])) {
      var d = 30;
      do {
        var m = readUInt64LE(e2, d + 16);
        if (n2([145, 7, 220, 183, 183, 169, 207, 17, 142, 230, 0, 192, 12, 32, 83, 101], { offset: d })) {
          if (n2([64, 158, 105, 248, 77, 91, 207, 17, 168, 253, 0, 128, 95, 92, 68, 43], { offset: d + 24 }))
            return { ext: "wma", mime: "audio/x-ms-wma" };
          if (n2([192, 239, 25, 188, 77, 91, 207, 17, 168, 253, 0, 128, 95, 92, 68, 43], { offset: d + 24 }))
            return { ext: "wmv", mime: "video/x-ms-asf" };
          break;
        }
        d += m;
      } while (d + 24 <= e2.length);
      return { ext: "asf", mime: "application/vnd.ms-asf" };
    }
    if (n2([0, 0, 1, 186]) || n2([0, 0, 1, 179]))
      return { ext: "mpg", mime: "video/mpeg" };
    if (n2([102, 116, 121, 112, 51, 103], { offset: 4 }))
      return { ext: "3gp", mime: "video/3gpp" };
    for (var h = 0; h < 2 && h < e2.length - 16; h++) {
      if (n2([73, 68, 51], { offset: h }) || n2([255, 226], { offset: h, mask: [255, 226] }))
        return { ext: "mp3", mime: "audio/mpeg" };
      if (n2([255, 228], { offset: h, mask: [255, 228] }))
        return { ext: "mp2", mime: "audio/mpeg" };
      if (n2([255, 248], { offset: h, mask: [255, 252] }))
        return { ext: "mp2", mime: "audio/mpeg" };
      if (n2([255, 240], { offset: h, mask: [255, 252] }))
        return { ext: "mp4", mime: "audio/mpeg" };
    }
    if (n2([102, 116, 121, 112, 77, 52, 65], { offset: 4 }))
      return { ext: "m4a", mime: "audio/mp4" };
    if (n2([79, 112, 117, 115, 72, 101, 97, 100], { offset: 28 }))
      return { ext: "opus", mime: "audio/opus" };
    if (n2([79, 103, 103, 83]))
      return n2([128, 116, 104, 101, 111, 114, 97], { offset: 28 }) ? { ext: "ogv", mime: "video/ogg" } : n2([1, 118, 105, 100, 101, 111, 0], { offset: 28 }) ? { ext: "ogm", mime: "video/ogg" } : n2([127, 70, 76, 65, 67], { offset: 28 }) ? { ext: "oga", mime: "audio/ogg" } : n2([83, 112, 101, 101, 120, 32, 32], { offset: 28 }) ? { ext: "spx", mime: "audio/ogg" } : n2([1, 118, 111, 114, 98, 105, 115], { offset: 28 }) ? { ext: "ogg", mime: "audio/ogg" } : { ext: "ogx", mime: "application/ogg" };
    if (n2([102, 76, 97, 67]))
      return { ext: "flac", mime: "audio/x-flac" };
    if (n2([77, 65, 67, 32]))
      return { ext: "ape", mime: "audio/ape" };
    if (n2([119, 118, 112, 107]))
      return { ext: "wv", mime: "audio/wavpack" };
    if (n2([35, 33, 65, 77, 82, 10]))
      return { ext: "amr", mime: "audio/amr" };
    if (n2([37, 80, 68, 70]))
      return { ext: "pdf", mime: "application/pdf" };
    if (n2([77, 90]))
      return { ext: "exe", mime: "application/x-msdownload" };
    if ((67 === e2[0] || 70 === e2[0]) && n2([87, 83], { offset: 1 }))
      return { ext: "swf", mime: "application/x-shockwave-flash" };
    if (n2([123, 92, 114, 116, 102]))
      return { ext: "rtf", mime: "application/rtf" };
    if (n2([0, 97, 115, 109]))
      return { ext: "wasm", mime: "application/wasm" };
    if (n2([119, 79, 70, 70]) && (n2([0, 1, 0, 0], { offset: 4 }) || n2([79, 84, 84, 79], { offset: 4 })))
      return { ext: "woff", mime: "font/woff" };
    if (n2([119, 79, 70, 50]) && (n2([0, 1, 0, 0], { offset: 4 }) || n2([79, 84, 84, 79], { offset: 4 })))
      return { ext: "woff2", mime: "font/woff2" };
    if (n2([76, 80], { offset: 34 }) && (n2([0, 0, 1], { offset: 8 }) || n2([1, 0, 2], { offset: 8 }) || n2([2, 0, 2], { offset: 8 })))
      return { ext: "eot", mime: "application/vnd.ms-fontobject" };
    if (n2([0, 1, 0, 0, 0]))
      return { ext: "ttf", mime: "font/ttf" };
    if (n2([79, 84, 84, 79, 0]))
      return { ext: "otf", mime: "font/otf" };
    if (n2([0, 0, 1, 0]))
      return { ext: "ico", mime: "image/x-icon" };
    if (n2([0, 0, 2, 0]))
      return { ext: "cur", mime: "image/x-icon" };
    if (n2([70, 76, 86, 1]))
      return { ext: "flv", mime: "video/x-flv" };
    if (n2([37, 33]))
      return { ext: "ps", mime: "application/postscript" };
    if (n2([253, 55, 122, 88, 90, 0]))
      return { ext: "xz", mime: "application/x-xz" };
    if (n2([83, 81, 76, 105]))
      return { ext: "sqlite", mime: "application/x-sqlite3" };
    if (n2([78, 69, 83, 26]))
      return { ext: "nes", mime: "application/x-nintendo-nes-rom" };
    if (n2([67, 114, 50, 52]))
      return { ext: "crx", mime: "application/x-google-chrome-extension" };
    if (n2([77, 83, 67, 70]) || n2([73, 83, 99, 40]))
      return { ext: "cab", mime: "application/vnd.ms-cab-compressed" };
    if (n2([33, 60, 97, 114, 99, 104, 62, 10, 100, 101, 98, 105, 97, 110, 45, 98, 105, 110, 97, 114, 121]))
      return { ext: "deb", mime: "application/x-deb" };
    if (n2([33, 60, 97, 114, 99, 104, 62]))
      return { ext: "ar", mime: "application/x-unix-archive" };
    if (n2([237, 171, 238, 219]))
      return { ext: "rpm", mime: "application/x-rpm" };
    if (n2([31, 160]) || n2([31, 157]))
      return { ext: "Z", mime: "application/x-compress" };
    if (n2([76, 90, 73, 80]))
      return { ext: "lz", mime: "application/x-lzip" };
    if (n2([208, 207, 17, 224, 161, 177, 26, 225]))
      return { ext: "msi", mime: "application/x-msi" };
    if (n2([6, 14, 43, 52, 2, 5, 1, 1, 13, 1, 2, 1, 1, 2]))
      return { ext: "mxf", mime: "application/mxf" };
    if (n2([71], { offset: 4 }) && (n2([71], { offset: 192 }) || n2([71], { offset: 196 })))
      return { ext: "mts", mime: "video/mp2t" };
    if (n2([66, 76, 69, 78, 68, 69, 82]))
      return { ext: "blend", mime: "application/x-blender" };
    if (n2([66, 80, 71, 251]))
      return { ext: "bpg", mime: "image/bpg" };
    if (n2([0, 0, 0, 12, 106, 80, 32, 32, 13, 10, 135, 10])) {
      if (n2([106, 112, 50, 32], { offset: 20 }))
        return { ext: "jp2", mime: "image/jp2" };
      if (n2([106, 112, 120, 32], { offset: 20 }))
        return { ext: "jpx", mime: "image/jpx" };
      if (n2([106, 112, 109, 32], { offset: 20 }))
        return { ext: "jpm", mime: "image/jpm" };
      if (n2([109, 106, 112, 50], { offset: 20 }))
        return { ext: "mj2", mime: "image/mj2" };
    }
    if (n2([70, 79, 82, 77]))
      return { ext: "aif", mime: "audio/aiff" };
    if (i2("<?xml "))
      return { ext: "xml", mime: "application/xml" };
    if (n2([66, 79, 79, 75, 77, 79, 66, 73], { offset: 60 }))
      return { ext: "mobi", mime: "application/x-mobipocket-ebook" };
    if (n2([102, 116, 121, 112], { offset: 4 })) {
      if (n2([109, 105, 102, 49], { offset: 8 }))
        return { ext: "heic", mime: "image/heif" };
      if (n2([109, 115, 102, 49], { offset: 8 }))
        return { ext: "heic", mime: "image/heif-sequence" };
      if (n2([104, 101, 105, 99], { offset: 8 }) || n2([104, 101, 105, 120], { offset: 8 }))
        return { ext: "heic", mime: "image/heic" };
      if (n2([104, 101, 118, 99], { offset: 8 }) || n2([104, 101, 118, 120], { offset: 8 }))
        return { ext: "heic", mime: "image/heic-sequence" };
    }
    return n2([171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10]) ? { ext: "ktx", mime: "image/ktx" } : n2([68, 73, 67, 77], { offset: 128 }) ? { ext: "dcm", mime: "application/dicom" } : n2([77, 80, 43]) || n2([77, 80, 67, 75]) ? { ext: "mpc", mime: "audio/x-musepack" } : n2([66, 69, 71, 73, 78, 58]) ? { ext: "ics", mime: "text/calendar" } : n2([103, 108, 84, 70, 2, 0, 0, 0]) ? { ext: "glb", mime: "model/gltf-binary" } : n2([212, 195, 178, 161]) || n2([161, 178, 195, 212]) ? { ext: "pcap", mime: "application/vnd.tcpdump.pcap" } : null;
  };
  module.exports = fileType, module.exports.default = fileType, Object.defineProperty(fileType, "minimumBytes", { value: 4100 }), module.exports.stream = function(readableStream) {
    return new Promise(function(resolve, reject) {
      var stream = eval("require")("stream");
      readableStream.once("readable", function() {
        var t2 = new stream.PassThrough(), e2 = readableStream.read(module.exports.minimumBytes) || readableStream.read();
        try {
          t2.fileType = fileType(e2);
        } catch (t3) {
          reject(t3);
        }
        readableStream.unshift(e2), stream.pipeline ? resolve(stream.pipeline(readableStream, t2, function() {
        })) : resolve(readableStream.pipe(t2));
      });
    });
  };
}, function(t2, e2, n2) {
  var i2 = t2.exports.Validator = n2(34);
  t2.exports.ValidatorResult = n2(12).ValidatorResult, t2.exports.ValidationError = n2(12).ValidationError, t2.exports.SchemaError = n2(12).SchemaError, t2.exports.SchemaScanResult = n2(20).SchemaScanResult, t2.exports.scan = n2(20).scan, t2.exports.validate = function(t3, e3, n3) {
    return new i2().validate(t3, e3, n3);
  };
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(35), o = n2(36);
  function a2() {
    this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
  }
  e2.parse = x, e2.resolve = function(t3, e3) {
    return x(t3, false, true).resolve(e3);
  }, e2.resolveObject = function(t3, e3) {
    return t3 ? x(t3, false, true).resolveObject(e3) : e3;
  }, e2.format = function(t3) {
    o.isString(t3) && (t3 = x(t3));
    return t3 instanceof a2 ? t3.format() : a2.prototype.format.call(t3);
  }, e2.Url = a2;
  var s2 = /^([a-z0-9.+-]+:)/i, c2 = /:[0-9]*$/, p2 = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, u = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "	"]), l2 = ["'"].concat(u), f = ["%", "/", "?", ";", "#"].concat(l2), d = ["/", "?", "#"], m = /^[+a-z0-9A-Z_-]{0,63}$/, h = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, y = { javascript: true, "javascript:": true }, v = { javascript: true, "javascript:": true }, g = { http: true, https: true, ftp: true, gopher: true, file: true, "http:": true, "https:": true, "ftp:": true, "gopher:": true, "file:": true }, b = n2(37);
  function x(t3, e3, n3) {
    if (t3 && o.isObject(t3) && t3 instanceof a2)
      return t3;
    var i3 = new a2();
    return i3.parse(t3, e3, n3), i3;
  }
  a2.prototype.parse = function(t3, e3, n3) {
    if (!o.isString(t3))
      throw new TypeError("Parameter 'url' must be a string, not " + i2(t3));
    var a3 = t3.indexOf("?"), c3 = -1 !== a3 && a3 < t3.indexOf("#") ? "?" : "#", u2 = t3.split(c3);
    u2[0] = u2[0].replace(/\\/g, "/");
    var x2 = t3 = u2.join(c3);
    if (x2 = x2.trim(), !n3 && 1 === t3.split("#").length) {
      var k = p2.exec(x2);
      if (k)
        return this.path = x2, this.href = x2, this.pathname = k[1], k[2] ? (this.search = k[2], this.query = e3 ? b.parse(this.search.substr(1)) : this.search.substr(1)) : e3 && (this.search = "", this.query = {}), this;
    }
    var w = s2.exec(x2);
    if (w) {
      var _ = (w = w[0]).toLowerCase();
      this.protocol = _, x2 = x2.substr(w.length);
    }
    if (n3 || w || x2.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var j = "//" === x2.substr(0, 2);
      !j || w && v[w] || (x2 = x2.substr(2), this.slashes = true);
    }
    if (!v[w] && (j || w && !g[w])) {
      for (var O, S, E = -1, C = 0; C < d.length; C++) {
        -1 !== (T = x2.indexOf(d[C])) && (-1 === E || T < E) && (E = T);
      }
      -1 !== (S = -1 === E ? x2.lastIndexOf("@") : x2.lastIndexOf("@", E)) && (O = x2.slice(0, S), x2 = x2.slice(S + 1), this.auth = decodeURIComponent(O)), E = -1;
      for (C = 0; C < f.length; C++) {
        var T;
        -1 !== (T = x2.indexOf(f[C])) && (-1 === E || T < E) && (E = T);
      }
      -1 === E && (E = x2.length), this.host = x2.slice(0, E), x2 = x2.slice(E), this.parseHost(), this.hostname = this.hostname || "";
      var A = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
      if (!A)
        for (var P = this.hostname.split(/\./), F = (C = 0, P.length); C < F; C++) {
          var I = P[C];
          if (I && !I.match(m)) {
            for (var z = "", N = 0, M = I.length; N < M; N++)
              I.charCodeAt(N) > 127 ? z += "x" : z += I[N];
            if (!z.match(m)) {
              var R = P.slice(0, C), $ = P.slice(C + 1), q = I.match(h);
              q && (R.push(q[1]), $.unshift(q[2])), $.length && (x2 = "/" + $.join(".") + x2), this.hostname = R.join(".");
              break;
            }
          }
        }
      this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), A || (this.hostname = r2.toASCII(this.hostname));
      var U = this.port ? ":" + this.port : "", D = this.hostname || "";
      this.host = D + U, this.href += this.host, A && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== x2[0] && (x2 = "/" + x2));
    }
    if (!y[_])
      for (C = 0, F = l2.length; C < F; C++) {
        var L = l2[C];
        if (-1 !== x2.indexOf(L)) {
          var B = encodeURIComponent(L);
          B === L && (B = escape(L)), x2 = x2.split(L).join(B);
        }
      }
    var V = x2.indexOf("#");
    -1 !== V && (this.hash = x2.substr(V), x2 = x2.slice(0, V));
    var H = x2.indexOf("?");
    if (-1 !== H ? (this.search = x2.substr(H), this.query = x2.substr(H + 1), e3 && (this.query = b.parse(this.query)), x2 = x2.slice(0, H)) : e3 && (this.search = "", this.query = {}), x2 && (this.pathname = x2), g[_] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
      U = this.pathname || "";
      var W = this.search || "";
      this.path = U + W;
    }
    return this.href = this.format(), this;
  }, a2.prototype.format = function() {
    var t3 = this.auth || "";
    t3 && (t3 = (t3 = encodeURIComponent(t3)).replace(/%3A/i, ":"), t3 += "@");
    var e3 = this.protocol || "", n3 = this.pathname || "", i3 = this.hash || "", r3 = false, a3 = "";
    this.host ? r3 = t3 + this.host : this.hostname && (r3 = t3 + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (r3 += ":" + this.port)), this.query && o.isObject(this.query) && Object.keys(this.query).length && (a3 = b.stringify(this.query));
    var s3 = this.search || a3 && "?" + a3 || "";
    return e3 && ":" !== e3.substr(-1) && (e3 += ":"), this.slashes || (!e3 || g[e3]) && false !== r3 ? (r3 = "//" + (r3 || ""), n3 && "/" !== n3.charAt(0) && (n3 = "/" + n3)) : r3 || (r3 = ""), i3 && "#" !== i3.charAt(0) && (i3 = "#" + i3), s3 && "?" !== s3.charAt(0) && (s3 = "?" + s3), e3 + r3 + (n3 = n3.replace(/[?#]/g, function(t4) {
      return encodeURIComponent(t4);
    })) + (s3 = s3.replace("#", "%23")) + i3;
  }, a2.prototype.resolve = function(t3) {
    return this.resolveObject(x(t3, false, true)).format();
  }, a2.prototype.resolveObject = function(t3) {
    if (o.isString(t3)) {
      var e3 = new a2();
      e3.parse(t3, false, true), t3 = e3;
    }
    for (var n3 = new a2(), i3 = Object.keys(this), r3 = 0; r3 < i3.length; r3++) {
      var s3 = i3[r3];
      n3[s3] = this[s3];
    }
    if (n3.hash = t3.hash, "" === t3.href)
      return n3.href = n3.format(), n3;
    if (t3.slashes && !t3.protocol) {
      for (var c3 = Object.keys(t3), p3 = 0; p3 < c3.length; p3++) {
        var u2 = c3[p3];
        "protocol" !== u2 && (n3[u2] = t3[u2]);
      }
      return g[n3.protocol] && n3.hostname && !n3.pathname && (n3.path = n3.pathname = "/"), n3.href = n3.format(), n3;
    }
    if (t3.protocol && t3.protocol !== n3.protocol) {
      if (!g[t3.protocol]) {
        for (var l3 = Object.keys(t3), f2 = 0; f2 < l3.length; f2++) {
          var d2 = l3[f2];
          n3[d2] = t3[d2];
        }
        return n3.href = n3.format(), n3;
      }
      if (n3.protocol = t3.protocol, t3.host || v[t3.protocol])
        n3.pathname = t3.pathname;
      else {
        for (var m2 = (t3.pathname || "").split("/"); m2.length && !(t3.host = m2.shift()); )
          ;
        t3.host || (t3.host = ""), t3.hostname || (t3.hostname = ""), "" !== m2[0] && m2.unshift(""), m2.length < 2 && m2.unshift(""), n3.pathname = m2.join("/");
      }
      if (n3.search = t3.search, n3.query = t3.query, n3.host = t3.host || "", n3.auth = t3.auth, n3.hostname = t3.hostname || t3.host, n3.port = t3.port, n3.pathname || n3.search) {
        var h2 = n3.pathname || "", y2 = n3.search || "";
        n3.path = h2 + y2;
      }
      return n3.slashes = n3.slashes || t3.slashes, n3.href = n3.format(), n3;
    }
    var b2 = n3.pathname && "/" === n3.pathname.charAt(0), x2 = t3.host || t3.pathname && "/" === t3.pathname.charAt(0), k = x2 || b2 || n3.host && t3.pathname, w = k, _ = n3.pathname && n3.pathname.split("/") || [], j = (m2 = t3.pathname && t3.pathname.split("/") || [], n3.protocol && !g[n3.protocol]);
    if (j && (n3.hostname = "", n3.port = null, n3.host && ("" === _[0] ? _[0] = n3.host : _.unshift(n3.host)), n3.host = "", t3.protocol && (t3.hostname = null, t3.port = null, t3.host && ("" === m2[0] ? m2[0] = t3.host : m2.unshift(t3.host)), t3.host = null), k = k && ("" === m2[0] || "" === _[0])), x2)
      n3.host = t3.host || "" === t3.host ? t3.host : n3.host, n3.hostname = t3.hostname || "" === t3.hostname ? t3.hostname : n3.hostname, n3.search = t3.search, n3.query = t3.query, _ = m2;
    else if (m2.length)
      _ || (_ = []), _.pop(), _ = _.concat(m2), n3.search = t3.search, n3.query = t3.query;
    else if (!o.isNullOrUndefined(t3.search)) {
      if (j)
        n3.hostname = n3.host = _.shift(), (T = !!(n3.host && n3.host.indexOf("@") > 0) && n3.host.split("@")) && (n3.auth = T.shift(), n3.host = n3.hostname = T.shift());
      return n3.search = t3.search, n3.query = t3.query, o.isNull(n3.pathname) && o.isNull(n3.search) || (n3.path = (n3.pathname ? n3.pathname : "") + (n3.search ? n3.search : "")), n3.href = n3.format(), n3;
    }
    if (!_.length)
      return n3.pathname = null, n3.search ? n3.path = "/" + n3.search : n3.path = null, n3.href = n3.format(), n3;
    for (var O = _.slice(-1)[0], S = (n3.host || t3.host || _.length > 1) && ("." === O || ".." === O) || "" === O, E = 0, C = _.length; C >= 0; C--)
      "." === (O = _[C]) ? _.splice(C, 1) : ".." === O ? (_.splice(C, 1), E++) : E && (_.splice(C, 1), E--);
    if (!k && !w)
      for (; E--; E)
        _.unshift("..");
    !k || "" === _[0] || _[0] && "/" === _[0].charAt(0) || _.unshift(""), S && "/" !== _.join("/").substr(-1) && _.push("");
    var T, A = "" === _[0] || _[0] && "/" === _[0].charAt(0);
    j && (n3.hostname = n3.host = A ? "" : _.length ? _.shift() : "", (T = !!(n3.host && n3.host.indexOf("@") > 0) && n3.host.split("@")) && (n3.auth = T.shift(), n3.host = n3.hostname = T.shift()));
    return (k = k || n3.host && _.length) && !A && _.unshift(""), _.length ? n3.pathname = _.join("/") : (n3.pathname = null, n3.path = null), o.isNull(n3.pathname) && o.isNull(n3.search) || (n3.path = (n3.pathname ? n3.pathname : "") + (n3.search ? n3.search : "")), n3.auth = t3.auth || n3.auth, n3.slashes = n3.slashes || t3.slashes, n3.href = n3.format(), n3;
  }, a2.prototype.parseHost = function() {
    var t3 = this.host, e3 = c2.exec(t3);
    e3 && (":" !== (e3 = e3[0]) && (this.port = e3.substr(1)), t3 = t3.substr(0, t3.length - e3.length)), t3 && (this.hostname = t3);
  };
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(19), o = n2(12);
  function a2(t3, e3) {
    this.id = t3, this.ref = e3;
  }
  t2.exports.SchemaScanResult = a2, t2.exports.scan = function(t3, e3) {
    function n3(t4, e4) {
      if (e4 && "object" == i2(e4))
        if (e4.$ref) {
          var a3 = r2.resolve(t4, e4.$ref);
          u[a3] = u[a3] ? u[a3] + 1 : 0;
        } else {
          var l2 = e4.id ? r2.resolve(t4, e4.id) : t4;
          if (l2) {
            if (l2.indexOf("#") < 0 && (l2 += "#"), p2[l2]) {
              if (!o.deepCompareStrict(p2[l2], e4))
                throw new Error("Schema <" + e4 + "> already exists with different definition");
              return p2[l2];
            }
            p2[l2] = e4, "#" == l2[l2.length - 1] && (p2[l2.substring(0, l2.length - 1)] = e4);
          }
          s2(l2 + "/items", e4.items instanceof Array ? e4.items : [e4.items]), s2(l2 + "/extends", e4.extends instanceof Array ? e4.extends : [e4.extends]), n3(l2 + "/additionalItems", e4.additionalItems), c2(l2 + "/properties", e4.properties), n3(l2 + "/additionalProperties", e4.additionalProperties), c2(l2 + "/definitions", e4.definitions), c2(l2 + "/patternProperties", e4.patternProperties), c2(l2 + "/dependencies", e4.dependencies), s2(l2 + "/disallow", e4.disallow), s2(l2 + "/allOf", e4.allOf), s2(l2 + "/anyOf", e4.anyOf), s2(l2 + "/oneOf", e4.oneOf), n3(l2 + "/not", e4.not);
        }
    }
    function s2(t4, e4) {
      if (e4 instanceof Array)
        for (var i3 = 0; i3 < e4.length; i3++)
          n3(t4 + "/" + i3, e4[i3]);
    }
    function c2(t4, e4) {
      if (e4 && "object" == i2(e4))
        for (var r3 in e4)
          n3(t4 + "/" + r3, e4[r3]);
    }
    var p2 = {}, u = {};
    return n3(t3, e3), new a2(p2, u);
  };
}, function(t2, e2, n2) {
  var i2 = n2(44), r2 = n2(15), o = n2(15), a2 = n2(7).buildOptions, s2 = n2(46);
  e2.parse = function(t3, e3, n3) {
    if (n3) {
      true === n3 && (n3 = {});
      var c2 = s2.validate(t3, n3);
      if (true !== c2)
        throw Error(c2.err.msg);
    }
    return e3 = a2(e3, o.defaultOptions, o.props), i2.convertToJson(r2.getTraversalObj(t3, e3), e3);
  }, e2.convertTonimn = n2(47).convert2nimn, e2.getTraversalObj = r2.getTraversalObj, e2.convertToJson = i2.convertToJson, e2.convertToJsonString = n2(48).convertToJsonString, e2.validate = s2.validate, e2.j2xParser = n2(49), e2.parseToNimn = function(t3, n3, i3) {
    return e2.convertTonimn(e2.getTraversalObj(t3, i3), n3, i3);
  };
}, function(t2, e2, n2) {
  n2.d(e2, "a", function() {
    return r2;
  });
  var i2 = n2(4);
  function r2(t3) {
    try {
      for (var e3 = t3, n3 = [], i3 = 0, r3 = 0, a2 = " > ".length, s2 = void 0; e3 && i3++ < 5 && !("html" === (s2 = o(e3)) || i3 > 1 && r3 + n3.length * a2 + s2.length >= 80); )
        n3.push(s2), r3 += s2.length, e3 = e3.parentNode;
      return n3.reverse().join(" > ");
    } catch (t4) {
      return "<unknown>";
    }
  }
  function o(t3) {
    var e3, n3, r3, o2, a2, s2 = t3, c2 = [];
    if (!s2 || !s2.tagName)
      return "";
    if (c2.push(s2.tagName.toLowerCase()), s2.id && c2.push("#" + s2.id), (e3 = s2.className) && Object(i2.h)(e3))
      for (n3 = e3.split(/\s+/), a2 = 0; a2 < n3.length; a2++)
        c2.push("." + n3[a2]);
    var p2 = ["type", "name", "title", "alt"];
    for (a2 = 0; a2 < p2.length; a2++)
      r3 = p2[a2], (o2 = s2.getAttribute(r3)) && c2.push("[" + r3 + '="' + o2 + '"]');
    return c2.join("");
  }
}, , function(t2, e2) {
  t2.exports = function(t3) {
    return t3.webpackPolyfill || (t3.deprecate = function() {
    }, t3.paths = [], t3.children || (t3.children = []), Object.defineProperty(t3, "loaded", { enumerable: true, get: function() {
      return t3.l;
    } }), Object.defineProperty(t3, "id", { enumerable: true, get: function() {
      return t3.i;
    } }), t3.webpackPolyfill = 1), t3;
  };
}, function(t2, e2) {
  (function(e3) {
    t2.exports = e3;
  }).call(this, {});
}, function(t2, e2) {
  var n2, i2, r2 = t2.exports = {};
  function o() {
    throw new Error("setTimeout has not been defined");
  }
  function a2() {
    throw new Error("clearTimeout has not been defined");
  }
  function s2(t3) {
    if (n2 === setTimeout)
      return setTimeout(t3, 0);
    if ((n2 === o || !n2) && setTimeout)
      return n2 = setTimeout, setTimeout(t3, 0);
    try {
      return n2(t3, 0);
    } catch (e3) {
      try {
        return n2.call(null, t3, 0);
      } catch (e4) {
        return n2.call(this, t3, 0);
      }
    }
  }
  !function() {
    try {
      n2 = "function" == typeof setTimeout ? setTimeout : o;
    } catch (t3) {
      n2 = o;
    }
    try {
      i2 = "function" == typeof clearTimeout ? clearTimeout : a2;
    } catch (t3) {
      i2 = a2;
    }
  }();
  var c2, p2 = [], u = false, l2 = -1;
  function f() {
    u && c2 && (u = false, c2.length ? p2 = c2.concat(p2) : l2 = -1, p2.length && d());
  }
  function d() {
    if (!u) {
      var t3 = s2(f);
      u = true;
      for (var e3 = p2.length; e3; ) {
        for (c2 = p2, p2 = []; ++l2 < e3; )
          c2 && c2[l2].run();
        l2 = -1, e3 = p2.length;
      }
      c2 = null, u = false, function(t4) {
        if (i2 === clearTimeout)
          return clearTimeout(t4);
        if ((i2 === a2 || !i2) && clearTimeout)
          return i2 = clearTimeout, clearTimeout(t4);
        try {
          i2(t4);
        } catch (e4) {
          try {
            return i2.call(null, t4);
          } catch (e5) {
            return i2.call(this, t4);
          }
        }
      }(t3);
    }
  }
  function m(t3, e3) {
    this.fun = t3, this.array = e3;
  }
  function h() {
  }
  r2.nextTick = function(t3) {
    var e3 = new Array(arguments.length - 1);
    if (arguments.length > 1)
      for (var n3 = 1; n3 < arguments.length; n3++)
        e3[n3 - 1] = arguments[n3];
    p2.push(new m(t3, e3)), 1 !== p2.length || u || s2(d);
  }, m.prototype.run = function() {
    this.fun.apply(null, this.array);
  }, r2.title = "browser", r2.browser = true, r2.env = {}, r2.argv = [], r2.version = "", r2.versions = {}, r2.on = h, r2.addListener = h, r2.once = h, r2.off = h, r2.removeListener = h, r2.removeAllListeners = h, r2.emit = h, r2.prependListener = h, r2.prependOnceListener = h, r2.listeners = function(t3) {
    return [];
  }, r2.binding = function(t3) {
    throw new Error("process.binding is not supported");
  }, r2.cwd = function() {
    return "/";
  }, r2.chdir = function(t3) {
    throw new Error("process.chdir is not supported");
  }, r2.umask = function() {
    return 0;
  };
}, function(t2, e2, n2) {
  t2.exports = function(t3) {
    if (!t3)
      return false;
    for (var e3 = 0, n3 = t3.length; e3 < n3; )
      if (t3[e3] <= 127)
        e3++;
      else {
        if (t3[e3] >= 194 && t3[e3] <= 223) {
          if (t3[e3 + 1] >> 6 == 2) {
            e3 += 2;
            continue;
          }
          return false;
        }
        if ((224 === t3[e3] && t3[e3 + 1] >= 160 && t3[e3 + 1] <= 191 || 237 === t3[e3] && t3[e3 + 1] >= 128 && t3[e3 + 1] <= 159) && t3[e3 + 2] >> 6 == 2)
          e3 += 3;
        else if ((t3[e3] >= 225 && t3[e3] <= 236 || t3[e3] >= 238 && t3[e3] <= 239) && t3[e3 + 1] >> 6 == 2 && t3[e3 + 2] >> 6 == 2)
          e3 += 3;
        else {
          if (!(240 === t3[e3] && t3[e3 + 1] >= 144 && t3[e3 + 1] <= 191 || t3[e3] >= 241 && t3[e3] <= 243 && t3[e3 + 1] >> 6 == 2 || 244 === t3[e3] && t3[e3 + 1] >= 128 && t3[e3 + 1] <= 143) || t3[e3 + 2] >> 6 != 2 || t3[e3 + 3] >> 6 != 2)
            return false;
          e3 += 4;
        }
      }
    return true;
  };
}, function(t2, e2, n2) {
  var i2, r2, o;
  function a2(t3) {
    return (a2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  o = function(t3) {
    var e3 = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"];
    function n3(t4, e4) {
      var n4 = t4[0], i4 = t4[1], r4 = t4[2], o3 = t4[3];
      i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & r4 | ~i4 & o3) + e4[0] - 680876936 | 0) << 7 | n4 >>> 25) + i4 | 0) & i4 | ~n4 & r4) + e4[1] - 389564586 | 0) << 12 | o3 >>> 20) + n4 | 0) & n4 | ~o3 & i4) + e4[2] + 606105819 | 0) << 17 | r4 >>> 15) + o3 | 0) & o3 | ~r4 & n4) + e4[3] - 1044525330 | 0) << 22 | i4 >>> 10) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & r4 | ~i4 & o3) + e4[4] - 176418897 | 0) << 7 | n4 >>> 25) + i4 | 0) & i4 | ~n4 & r4) + e4[5] + 1200080426 | 0) << 12 | o3 >>> 20) + n4 | 0) & n4 | ~o3 & i4) + e4[6] - 1473231341 | 0) << 17 | r4 >>> 15) + o3 | 0) & o3 | ~r4 & n4) + e4[7] - 45705983 | 0) << 22 | i4 >>> 10) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & r4 | ~i4 & o3) + e4[8] + 1770035416 | 0) << 7 | n4 >>> 25) + i4 | 0) & i4 | ~n4 & r4) + e4[9] - 1958414417 | 0) << 12 | o3 >>> 20) + n4 | 0) & n4 | ~o3 & i4) + e4[10] - 42063 | 0) << 17 | r4 >>> 15) + o3 | 0) & o3 | ~r4 & n4) + e4[11] - 1990404162 | 0) << 22 | i4 >>> 10) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & r4 | ~i4 & o3) + e4[12] + 1804603682 | 0) << 7 | n4 >>> 25) + i4 | 0) & i4 | ~n4 & r4) + e4[13] - 40341101 | 0) << 12 | o3 >>> 20) + n4 | 0) & n4 | ~o3 & i4) + e4[14] - 1502002290 | 0) << 17 | r4 >>> 15) + o3 | 0) & o3 | ~r4 & n4) + e4[15] + 1236535329 | 0) << 22 | i4 >>> 10) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & o3 | r4 & ~o3) + e4[1] - 165796510 | 0) << 5 | n4 >>> 27) + i4 | 0) & r4 | i4 & ~r4) + e4[6] - 1069501632 | 0) << 9 | o3 >>> 23) + n4 | 0) & i4 | n4 & ~i4) + e4[11] + 643717713 | 0) << 14 | r4 >>> 18) + o3 | 0) & n4 | o3 & ~n4) + e4[0] - 373897302 | 0) << 20 | i4 >>> 12) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & o3 | r4 & ~o3) + e4[5] - 701558691 | 0) << 5 | n4 >>> 27) + i4 | 0) & r4 | i4 & ~r4) + e4[10] + 38016083 | 0) << 9 | o3 >>> 23) + n4 | 0) & i4 | n4 & ~i4) + e4[15] - 660478335 | 0) << 14 | r4 >>> 18) + o3 | 0) & n4 | o3 & ~n4) + e4[4] - 405537848 | 0) << 20 | i4 >>> 12) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & o3 | r4 & ~o3) + e4[9] + 568446438 | 0) << 5 | n4 >>> 27) + i4 | 0) & r4 | i4 & ~r4) + e4[14] - 1019803690 | 0) << 9 | o3 >>> 23) + n4 | 0) & i4 | n4 & ~i4) + e4[3] - 187363961 | 0) << 14 | r4 >>> 18) + o3 | 0) & n4 | o3 & ~n4) + e4[8] + 1163531501 | 0) << 20 | i4 >>> 12) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 & o3 | r4 & ~o3) + e4[13] - 1444681467 | 0) << 5 | n4 >>> 27) + i4 | 0) & r4 | i4 & ~r4) + e4[2] - 51403784 | 0) << 9 | o3 >>> 23) + n4 | 0) & i4 | n4 & ~i4) + e4[7] + 1735328473 | 0) << 14 | r4 >>> 18) + o3 | 0) & n4 | o3 & ~n4) + e4[12] - 1926607734 | 0) << 20 | i4 >>> 12) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 ^ r4 ^ o3) + e4[5] - 378558 | 0) << 4 | n4 >>> 28) + i4 | 0) ^ i4 ^ r4) + e4[8] - 2022574463 | 0) << 11 | o3 >>> 21) + n4 | 0) ^ n4 ^ i4) + e4[11] + 1839030562 | 0) << 16 | r4 >>> 16) + o3 | 0) ^ o3 ^ n4) + e4[14] - 35309556 | 0) << 23 | i4 >>> 9) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 ^ r4 ^ o3) + e4[1] - 1530992060 | 0) << 4 | n4 >>> 28) + i4 | 0) ^ i4 ^ r4) + e4[4] + 1272893353 | 0) << 11 | o3 >>> 21) + n4 | 0) ^ n4 ^ i4) + e4[7] - 155497632 | 0) << 16 | r4 >>> 16) + o3 | 0) ^ o3 ^ n4) + e4[10] - 1094730640 | 0) << 23 | i4 >>> 9) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 ^ r4 ^ o3) + e4[13] + 681279174 | 0) << 4 | n4 >>> 28) + i4 | 0) ^ i4 ^ r4) + e4[0] - 358537222 | 0) << 11 | o3 >>> 21) + n4 | 0) ^ n4 ^ i4) + e4[3] - 722521979 | 0) << 16 | r4 >>> 16) + o3 | 0) ^ o3 ^ n4) + e4[6] + 76029189 | 0) << 23 | i4 >>> 9) + r4 | 0, i4 = ((i4 += ((r4 = ((r4 += ((o3 = ((o3 += ((n4 = ((n4 += (i4 ^ r4 ^ o3) + e4[9] - 640364487 | 0) << 4 | n4 >>> 28) + i4 | 0) ^ i4 ^ r4) + e4[12] - 421815835 | 0) << 11 | o3 >>> 21) + n4 | 0) ^ n4 ^ i4) + e4[15] + 530742520 | 0) << 16 | r4 >>> 16) + o3 | 0) ^ o3 ^ n4) + e4[2] - 995338651 | 0) << 23 | i4 >>> 9) + r4 | 0, i4 = ((i4 += ((o3 = ((o3 += (i4 ^ ((n4 = ((n4 += (r4 ^ (i4 | ~o3)) + e4[0] - 198630844 | 0) << 6 | n4 >>> 26) + i4 | 0) | ~r4)) + e4[7] + 1126891415 | 0) << 10 | o3 >>> 22) + n4 | 0) ^ ((r4 = ((r4 += (n4 ^ (o3 | ~i4)) + e4[14] - 1416354905 | 0) << 15 | r4 >>> 17) + o3 | 0) | ~n4)) + e4[5] - 57434055 | 0) << 21 | i4 >>> 11) + r4 | 0, i4 = ((i4 += ((o3 = ((o3 += (i4 ^ ((n4 = ((n4 += (r4 ^ (i4 | ~o3)) + e4[12] + 1700485571 | 0) << 6 | n4 >>> 26) + i4 | 0) | ~r4)) + e4[3] - 1894986606 | 0) << 10 | o3 >>> 22) + n4 | 0) ^ ((r4 = ((r4 += (n4 ^ (o3 | ~i4)) + e4[10] - 1051523 | 0) << 15 | r4 >>> 17) + o3 | 0) | ~n4)) + e4[1] - 2054922799 | 0) << 21 | i4 >>> 11) + r4 | 0, i4 = ((i4 += ((o3 = ((o3 += (i4 ^ ((n4 = ((n4 += (r4 ^ (i4 | ~o3)) + e4[8] + 1873313359 | 0) << 6 | n4 >>> 26) + i4 | 0) | ~r4)) + e4[15] - 30611744 | 0) << 10 | o3 >>> 22) + n4 | 0) ^ ((r4 = ((r4 += (n4 ^ (o3 | ~i4)) + e4[6] - 1560198380 | 0) << 15 | r4 >>> 17) + o3 | 0) | ~n4)) + e4[13] + 1309151649 | 0) << 21 | i4 >>> 11) + r4 | 0, i4 = ((i4 += ((o3 = ((o3 += (i4 ^ ((n4 = ((n4 += (r4 ^ (i4 | ~o3)) + e4[4] - 145523070 | 0) << 6 | n4 >>> 26) + i4 | 0) | ~r4)) + e4[11] - 1120210379 | 0) << 10 | o3 >>> 22) + n4 | 0) ^ ((r4 = ((r4 += (n4 ^ (o3 | ~i4)) + e4[2] + 718787259 | 0) << 15 | r4 >>> 17) + o3 | 0) | ~n4)) + e4[9] - 343485551 | 0) << 21 | i4 >>> 11) + r4 | 0, t4[0] = n4 + t4[0] | 0, t4[1] = i4 + t4[1] | 0, t4[2] = r4 + t4[2] | 0, t4[3] = o3 + t4[3] | 0;
    }
    function i3(t4) {
      var e4, n4 = [];
      for (e4 = 0; e4 < 64; e4 += 4)
        n4[e4 >> 2] = t4.charCodeAt(e4) + (t4.charCodeAt(e4 + 1) << 8) + (t4.charCodeAt(e4 + 2) << 16) + (t4.charCodeAt(e4 + 3) << 24);
      return n4;
    }
    function r3(t4) {
      var e4, n4 = [];
      for (e4 = 0; e4 < 64; e4 += 4)
        n4[e4 >> 2] = t4[e4] + (t4[e4 + 1] << 8) + (t4[e4 + 2] << 16) + (t4[e4 + 3] << 24);
      return n4;
    }
    function o2(t4) {
      var e4, r4, o3, a4, s3, c3, p3 = t4.length, u2 = [1732584193, -271733879, -1732584194, 271733878];
      for (e4 = 64; e4 <= p3; e4 += 64)
        n3(u2, i3(t4.substring(e4 - 64, e4)));
      for (r4 = (t4 = t4.substring(e4 - 64)).length, o3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], e4 = 0; e4 < r4; e4 += 1)
        o3[e4 >> 2] |= t4.charCodeAt(e4) << (e4 % 4 << 3);
      if (o3[e4 >> 2] |= 128 << (e4 % 4 << 3), e4 > 55)
        for (n3(u2, o3), e4 = 0; e4 < 16; e4 += 1)
          o3[e4] = 0;
      return a4 = (a4 = 8 * p3).toString(16).match(/(.*?)(.{0,8})$/), s3 = parseInt(a4[2], 16), c3 = parseInt(a4[1], 16) || 0, o3[14] = s3, o3[15] = c3, n3(u2, o3), u2;
    }
    function a3(t4) {
      var n4, i4 = "";
      for (n4 = 0; n4 < 4; n4 += 1)
        i4 += e3[t4 >> 8 * n4 + 4 & 15] + e3[t4 >> 8 * n4 & 15];
      return i4;
    }
    function s2(t4) {
      var e4;
      for (e4 = 0; e4 < t4.length; e4 += 1)
        t4[e4] = a3(t4[e4]);
      return t4.join("");
    }
    function c2(t4) {
      return /[\u0080-\uFFFF]/.test(t4) && (t4 = unescape(encodeURIComponent(t4))), t4;
    }
    function p2(t4) {
      var e4, n4 = [], i4 = t4.length;
      for (e4 = 0; e4 < i4 - 1; e4 += 2)
        n4.push(parseInt(t4.substr(e4, 2), 16));
      return String.fromCharCode.apply(String, n4);
    }
    function u() {
      this.reset();
    }
    return s2(o2("hello")), "undefined" == typeof ArrayBuffer || ArrayBuffer.prototype.slice || function() {
      function e4(t4, e5) {
        return (t4 = 0 | t4 || 0) < 0 ? Math.max(t4 + e5, 0) : Math.min(t4, e5);
      }
      ArrayBuffer.prototype.slice = function(n4, i4) {
        var r4, o3, a4, s3, c3 = this.byteLength, p3 = e4(n4, c3), u2 = c3;
        return i4 !== t3 && (u2 = e4(i4, c3)), p3 > u2 ? new ArrayBuffer(0) : (r4 = u2 - p3, o3 = new ArrayBuffer(r4), a4 = new Uint8Array(o3), s3 = new Uint8Array(this, p3, r4), a4.set(s3), o3);
      };
    }(), u.prototype.append = function(t4) {
      return this.appendBinary(c2(t4)), this;
    }, u.prototype.appendBinary = function(t4) {
      this._buff += t4, this._length += t4.length;
      var e4, r4 = this._buff.length;
      for (e4 = 64; e4 <= r4; e4 += 64)
        n3(this._hash, i3(this._buff.substring(e4 - 64, e4)));
      return this._buff = this._buff.substring(e4 - 64), this;
    }, u.prototype.end = function(t4) {
      var e4, n4, i4 = this._buff, r4 = i4.length, o3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (e4 = 0; e4 < r4; e4 += 1)
        o3[e4 >> 2] |= i4.charCodeAt(e4) << (e4 % 4 << 3);
      return this._finish(o3, r4), n4 = s2(this._hash), t4 && (n4 = p2(n4)), this.reset(), n4;
    }, u.prototype.reset = function() {
      return this._buff = "", this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this;
    }, u.prototype.getState = function() {
      return { buff: this._buff, length: this._length, hash: this._hash };
    }, u.prototype.setState = function(t4) {
      return this._buff = t4.buff, this._length = t4.length, this._hash = t4.hash, this;
    }, u.prototype.destroy = function() {
      delete this._hash, delete this._buff, delete this._length;
    }, u.prototype._finish = function(t4, e4) {
      var i4, r4, o3, a4 = e4;
      if (t4[a4 >> 2] |= 128 << (a4 % 4 << 3), a4 > 55)
        for (n3(this._hash, t4), a4 = 0; a4 < 16; a4 += 1)
          t4[a4] = 0;
      i4 = (i4 = 8 * this._length).toString(16).match(/(.*?)(.{0,8})$/), r4 = parseInt(i4[2], 16), o3 = parseInt(i4[1], 16) || 0, t4[14] = r4, t4[15] = o3, n3(this._hash, t4);
    }, u.hash = function(t4, e4) {
      return u.hashBinary(c2(t4), e4);
    }, u.hashBinary = function(t4, e4) {
      var n4 = s2(o2(t4));
      return e4 ? p2(n4) : n4;
    }, u.ArrayBuffer = function() {
      this.reset();
    }, u.ArrayBuffer.prototype.append = function(t4) {
      var e4, i4, o3, a4, s3, c3 = (i4 = this._buff.buffer, o3 = t4, a4 = true, (s3 = new Uint8Array(i4.byteLength + o3.byteLength)).set(new Uint8Array(i4)), s3.set(new Uint8Array(o3), i4.byteLength), a4 ? s3 : s3.buffer), p3 = c3.length;
      for (this._length += t4.byteLength, e4 = 64; e4 <= p3; e4 += 64)
        n3(this._hash, r3(c3.subarray(e4 - 64, e4)));
      return this._buff = e4 - 64 < p3 ? new Uint8Array(c3.buffer.slice(e4 - 64)) : new Uint8Array(0), this;
    }, u.ArrayBuffer.prototype.end = function(t4) {
      var e4, n4, i4 = this._buff, r4 = i4.length, o3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      for (e4 = 0; e4 < r4; e4 += 1)
        o3[e4 >> 2] |= i4[e4] << (e4 % 4 << 3);
      return this._finish(o3, r4), n4 = s2(this._hash), t4 && (n4 = p2(n4)), this.reset(), n4;
    }, u.ArrayBuffer.prototype.reset = function() {
      return this._buff = new Uint8Array(0), this._length = 0, this._hash = [1732584193, -271733879, -1732584194, 271733878], this;
    }, u.ArrayBuffer.prototype.getState = function() {
      var t4, e4 = u.prototype.getState.call(this);
      return e4.buff = (t4 = e4.buff, String.fromCharCode.apply(null, new Uint8Array(t4))), e4;
    }, u.ArrayBuffer.prototype.setState = function(t4) {
      return t4.buff = function(t5, e4) {
        var n4, i4 = t5.length, r4 = new ArrayBuffer(i4), o3 = new Uint8Array(r4);
        for (n4 = 0; n4 < i4; n4 += 1)
          o3[n4] = t5.charCodeAt(n4);
        return e4 ? o3 : r4;
      }(t4.buff, true), u.prototype.setState.call(this, t4);
    }, u.ArrayBuffer.prototype.destroy = u.prototype.destroy, u.ArrayBuffer.prototype._finish = u.prototype._finish, u.ArrayBuffer.hash = function(t4, e4) {
      var i4 = s2(function(t5) {
        var e5, i5, o3, a4, s3, c3, p3 = t5.length, u2 = [1732584193, -271733879, -1732584194, 271733878];
        for (e5 = 64; e5 <= p3; e5 += 64)
          n3(u2, r3(t5.subarray(e5 - 64, e5)));
        for (i5 = (t5 = e5 - 64 < p3 ? t5.subarray(e5 - 64) : new Uint8Array(0)).length, o3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], e5 = 0; e5 < i5; e5 += 1)
          o3[e5 >> 2] |= t5[e5] << (e5 % 4 << 3);
        if (o3[e5 >> 2] |= 128 << (e5 % 4 << 3), e5 > 55)
          for (n3(u2, o3), e5 = 0; e5 < 16; e5 += 1)
            o3[e5] = 0;
        return a4 = (a4 = 8 * p3).toString(16).match(/(.*?)(.{0,8})$/), s3 = parseInt(a4[2], 16), c3 = parseInt(a4[1], 16) || 0, o3[14] = s3, o3[15] = c3, n3(u2, o3), u2;
      }(new Uint8Array(t4)));
      return e4 ? p2(i4) : i4;
    }, u;
  }, "object" === a2(e2) ? t2.exports = o() : void 0 === (r2 = "function" == typeof (i2 = o) ? i2.call(e2, n2, e2, t2) : i2) || (t2.exports = r2);
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  function r2(t3, e3) {
    return !e3 || "object" !== i2(e3) && "function" != typeof e3 ? function(t4) {
      if (void 0 === t4)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return t4;
    }(t3) : e3;
  }
  function o(t3) {
    return (o = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
      return t4.__proto__ || Object.getPrototypeOf(t4);
    })(t3);
  }
  function a2(t3, e3) {
    return (a2 = Object.setPrototypeOf || function(t4, e4) {
      return t4.__proto__ = e4, t4;
    })(t3, e3);
  }
  function s2(t3, e3) {
    if (!(t3 instanceof e3))
      throw new TypeError("Cannot call a class as a function");
  }
  function c2(t3, e3) {
    for (var n3 = 0; n3 < e3.length; n3++) {
      var i3 = e3[n3];
      i3.enumerable = i3.enumerable || false, i3.configurable = true, "value" in i3 && (i3.writable = true), Object.defineProperty(t3, i3.key, i3);
    }
  }
  function p2(t3, e3, n3) {
    return e3 && c2(t3.prototype, e3), n3 && c2(t3, n3), t3;
  }
  var u = n2(50);
  var l2 = function() {
    function t3() {
      s2(this, t3), this._queue = [];
    }
    return p2(t3, [{ key: "enqueue", value: function(t4, e3) {
      var n3 = { priority: (e3 = Object.assign({ priority: 0 }, e3)).priority, run: t4 };
      if (this.size && this._queue[this.size - 1].priority >= e3.priority)
        this._queue.push(n3);
      else {
        var i3 = function(t5, e4, n4) {
          for (var i4 = 0, r3 = t5.length; r3 > 0; ) {
            var o2 = r3 / 2 | 0, a3 = i4 + o2;
            n4(t5[a3], e4) <= 0 ? (i4 = ++a3, r3 -= o2 + 1) : r3 = o2;
          }
          return i4;
        }(this._queue, n3, function(t5, e4) {
          return e4.priority - t5.priority;
        });
        this._queue.splice(i3, 0, n3);
      }
    } }, { key: "dequeue", value: function() {
      return this._queue.shift().run;
    } }, { key: "size", get: function() {
      return this._queue.length;
    } }]), t3;
  }(), f = function(t3) {
    function e3(t4) {
      var n3;
      if (s2(this, e3), n3 = r2(this, o(e3).call(this)), !("number" == typeof (t4 = Object.assign({ carryoverConcurrencyCount: false, intervalCap: 1 / 0, interval: 0, concurrency: 1 / 0, autoStart: true, queueClass: l2 }, t4)).concurrency && t4.concurrency >= 1))
        throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(t4.concurrency, "` (").concat(i2(t4.concurrency), ")"));
      if (!("number" == typeof t4.intervalCap && t4.intervalCap >= 1))
        throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(t4.intervalCap, "` (").concat(i2(t4.intervalCap), ")"));
      if (!(Number.isFinite(t4.interval) && t4.interval >= 0))
        throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(t4.interval, "` (").concat(i2(t4.interval), ")"));
      return n3._carryoverConcurrencyCount = t4.carryoverConcurrencyCount, n3._isIntervalIgnored = t4.intervalCap === 1 / 0 || 0 === t4.interval, n3._intervalCount = 0, n3._intervalCap = t4.intervalCap, n3._interval = t4.interval, n3._intervalId = null, n3._intervalEnd = 0, n3._timeoutId = null, n3.queue = new t4.queueClass(), n3._queueClass = t4.queueClass, n3._pendingCount = 0, n3._concurrency = t4.concurrency, n3._isPaused = false === t4.autoStart, n3._resolveEmpty = function() {
      }, n3._resolveIdle = function() {
      }, n3;
    }
    return function(t4, e4) {
      if ("function" != typeof e4 && null !== e4)
        throw new TypeError("Super expression must either be null or a function");
      t4.prototype = Object.create(e4 && e4.prototype, { constructor: { value: t4, writable: true, configurable: true } }), e4 && a2(t4, e4);
    }(e3, t3), p2(e3, [{ key: "_next", value: function() {
      this._pendingCount--, this._tryToStartAnother();
    } }, { key: "_resolvePromises", value: function() {
      this._resolveEmpty(), this._resolveEmpty = function() {
      }, 0 === this._pendingCount && (this._resolveIdle(), this._resolveIdle = function() {
      });
    } }, { key: "_onResumeInterval", value: function() {
      this._onInterval(), this._initializeIntervalIfNeeded(), this._timeoutId = null;
    } }, { key: "_intervalPaused", value: function() {
      var t4 = this, e4 = Date.now();
      if (null === this._intervalId) {
        var n3 = this._intervalEnd - e4;
        if (!(n3 < 0))
          return null === this._timeoutId && (this._timeoutId = setTimeout(function() {
            return t4._onResumeInterval();
          }, n3)), true;
        this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;
      }
      return false;
    } }, { key: "_tryToStartAnother", value: function() {
      if (0 === this.queue.size)
        return clearInterval(this._intervalId), this._intervalId = null, this._resolvePromises(), false;
      if (!this._isPaused) {
        var t4 = !this._intervalPaused();
        if (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother)
          return this.emit("active"), this.queue.dequeue()(), t4 && this._initializeIntervalIfNeeded(), true;
      }
      return false;
    } }, { key: "_initializeIntervalIfNeeded", value: function() {
      var t4 = this;
      this._isIntervalIgnored || null !== this._intervalId || (this._intervalId = setInterval(function() {
        return t4._onInterval();
      }, this._interval), this._intervalEnd = Date.now() + this._interval);
    } }, { key: "_onInterval", value: function() {
      for (0 === this._intervalCount && 0 === this._pendingCount && (clearInterval(this._intervalId), this._intervalId = null), this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0; this._tryToStartAnother(); )
        ;
    } }, { key: "add", value: function(t4, e4) {
      var n3 = this;
      return new Promise(function(i3, r3) {
        n3.queue.enqueue(function() {
          n3._pendingCount++, n3._intervalCount++;
          try {
            Promise.resolve(t4()).then(function(t5) {
              i3(t5), n3._next();
            }, function(t5) {
              r3(t5), n3._next();
            });
          } catch (t5) {
            r3(t5), n3._next();
          }
        }, e4), n3._tryToStartAnother();
      });
    } }, { key: "addAll", value: function(t4, e4) {
      var n3 = this;
      return Promise.all(t4.map(function(t5) {
        return n3.add(t5, e4);
      }));
    } }, { key: "start", value: function() {
      if (this._isPaused)
        for (this._isPaused = false; this._tryToStartAnother(); )
          ;
    } }, { key: "pause", value: function() {
      this._isPaused = true;
    } }, { key: "clear", value: function() {
      this.queue = new this._queueClass();
    } }, { key: "onEmpty", value: function() {
      var t4 = this;
      return 0 === this.queue.size ? Promise.resolve() : new Promise(function(e4) {
        var n3 = t4._resolveEmpty;
        t4._resolveEmpty = function() {
          n3(), e4();
        };
      });
    } }, { key: "onIdle", value: function() {
      var t4 = this;
      return 0 === this._pendingCount && 0 === this.queue.size ? Promise.resolve() : new Promise(function(e4) {
        var n3 = t4._resolveIdle;
        t4._resolveIdle = function() {
          n3(), e4();
        };
      });
    } }, { key: "_doesIntervalAllowAnother", get: function() {
      return this._isIntervalIgnored || this._intervalCount < this._intervalCap;
    } }, { key: "_doesConcurrentAllowAnother", get: function() {
      return this._pendingCount < this._concurrency;
    } }, { key: "size", get: function() {
      return this.queue.size;
    } }, { key: "pending", get: function() {
      return this._pendingCount;
    } }, { key: "isPaused", get: function() {
      return this._isPaused;
    } }]), e3;
  }(u);
  t2.exports = f, t2.exports.default = f;
}, function(t2, e2, n2) {
  (function(t3, n3) {
    function i2(t4) {
      return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
        return typeof t5;
      } : function(t5) {
        return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
      })(t4);
    }
    var r2 = "[object Arguments]", o = "[object Function]", a2 = "[object GeneratorFunction]", s2 = "[object Map]", c2 = "[object Set]", p2 = /\w*$/, u = /^\[object .+?Constructor\]$/, l2 = /^(?:0|[1-9]\d*)$/, f = {};
    f[r2] = f["[object Array]"] = f["[object ArrayBuffer]"] = f["[object DataView]"] = f["[object Boolean]"] = f["[object Date]"] = f["[object Float32Array]"] = f["[object Float64Array]"] = f["[object Int8Array]"] = f["[object Int16Array]"] = f["[object Int32Array]"] = f[s2] = f["[object Number]"] = f["[object Object]"] = f["[object RegExp]"] = f[c2] = f["[object String]"] = f["[object Symbol]"] = f["[object Uint8Array]"] = f["[object Uint8ClampedArray]"] = f["[object Uint16Array]"] = f["[object Uint32Array]"] = true, f["[object Error]"] = f[o] = f["[object WeakMap]"] = false;
    var d = "object" == (void 0 === t3 ? "undefined" : i2(t3)) && t3 && t3.Object === Object && t3, m = "object" == ("undefined" == typeof self ? "undefined" : i2(self)) && self && self.Object === Object && self, h = d || m || Function("return this")(), y = "object" == i2(e2) && e2 && !e2.nodeType && e2, v = y && "object" == i2(n3) && n3 && !n3.nodeType && n3, g = v && v.exports === y;
    function b(t4, e3) {
      return t4.set(e3[0], e3[1]), t4;
    }
    function x(t4, e3) {
      return t4.add(e3), t4;
    }
    function k(t4, e3, n4, i3) {
      var r3 = -1, o2 = t4 ? t4.length : 0;
      for (i3 && o2 && (n4 = t4[++r3]); ++r3 < o2; )
        n4 = e3(n4, t4[r3], r3, t4);
      return n4;
    }
    function w(t4) {
      var e3 = false;
      if (null != t4 && "function" != typeof t4.toString)
        try {
          e3 = !!(t4 + "");
        } catch (t5) {
        }
      return e3;
    }
    function _(t4) {
      var e3 = -1, n4 = Array(t4.size);
      return t4.forEach(function(t5, i3) {
        n4[++e3] = [i3, t5];
      }), n4;
    }
    function j(t4, e3) {
      return function(n4) {
        return t4(e3(n4));
      };
    }
    function O(t4) {
      var e3 = -1, n4 = Array(t4.size);
      return t4.forEach(function(t5) {
        n4[++e3] = t5;
      }), n4;
    }
    var S, E = Array.prototype, C = Function.prototype, T = Object.prototype, A = h["__core-js_shared__"], P = (S = /[^.]+$/.exec(A && A.keys && A.keys.IE_PROTO || "")) ? "Symbol(src)_1." + S : "", F = C.toString, I = T.hasOwnProperty, z = T.toString, N = RegExp("^" + F.call(I).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), M = g ? h.Buffer : void 0, R = h.Symbol, $ = h.Uint8Array, q = j(Object.getPrototypeOf, Object), U = Object.create, D = T.propertyIsEnumerable, L = E.splice, B = Object.getOwnPropertySymbols, V = M ? M.isBuffer : void 0, H = j(Object.keys, Object), W = vt(h, "DataView"), Z = vt(h, "Map"), J = vt(h, "Promise"), Y = vt(h, "Set"), G = vt(h, "WeakMap"), K = vt(Object, "create"), Q = wt(W), X = wt(Z), tt = wt(J), et = wt(Y), nt = wt(G), it = R ? R.prototype : void 0, rt = it ? it.valueOf : void 0;
    function ot(t4) {
      var e3 = -1, n4 = t4 ? t4.length : 0;
      for (this.clear(); ++e3 < n4; ) {
        var i3 = t4[e3];
        this.set(i3[0], i3[1]);
      }
    }
    function at(t4) {
      var e3 = -1, n4 = t4 ? t4.length : 0;
      for (this.clear(); ++e3 < n4; ) {
        var i3 = t4[e3];
        this.set(i3[0], i3[1]);
      }
    }
    function st(t4) {
      var e3 = -1, n4 = t4 ? t4.length : 0;
      for (this.clear(); ++e3 < n4; ) {
        var i3 = t4[e3];
        this.set(i3[0], i3[1]);
      }
    }
    function ct(t4) {
      this.__data__ = new at(t4);
    }
    function pt(t4, e3) {
      var n4 = jt(t4) || function(t5) {
        return function(t6) {
          return function(t7) {
            return !!t7 && "object" == i2(t7);
          }(t6) && Ot(t6);
        }(t5) && I.call(t5, "callee") && (!D.call(t5, "callee") || z.call(t5) == r2);
      }(t4) ? function(t5, e4) {
        for (var n5 = -1, i3 = Array(t5); ++n5 < t5; )
          i3[n5] = e4(n5);
        return i3;
      }(t4.length, String) : [], o2 = n4.length, a3 = !!o2;
      for (var s3 in t4)
        !e3 && !I.call(t4, s3) || a3 && ("length" == s3 || xt(s3, o2)) || n4.push(s3);
      return n4;
    }
    function ut(t4, e3, n4) {
      var i3 = t4[e3];
      I.call(t4, e3) && _t(i3, n4) && (void 0 !== n4 || e3 in t4) || (t4[e3] = n4);
    }
    function lt(t4, e3) {
      for (var n4 = t4.length; n4--; )
        if (_t(t4[n4][0], e3))
          return n4;
      return -1;
    }
    function ft(t4, e3, n4, i3, u2, l3, d2) {
      var m2;
      if (i3 && (m2 = l3 ? i3(t4, u2, l3, d2) : i3(t4)), void 0 !== m2)
        return m2;
      if (!Ct(t4))
        return t4;
      var h2 = jt(t4);
      if (h2) {
        if (m2 = function(t5) {
          var e4 = t5.length, n5 = t5.constructor(e4);
          e4 && "string" == typeof t5[0] && I.call(t5, "index") && (n5.index = t5.index, n5.input = t5.input);
          return n5;
        }(t4), !e3)
          return function(t5, e4) {
            var n5 = -1, i4 = t5.length;
            e4 || (e4 = Array(i4));
            for (; ++n5 < i4; )
              e4[n5] = t5[n5];
            return e4;
          }(t4, m2);
      } else {
        var y2 = bt(t4), v2 = y2 == o || y2 == a2;
        if (St(t4))
          return function(t5, e4) {
            if (e4)
              return t5.slice();
            var n5 = new t5.constructor(t5.length);
            return t5.copy(n5), n5;
          }(t4, e3);
        if ("[object Object]" == y2 || y2 == r2 || v2 && !l3) {
          if (w(t4))
            return l3 ? t4 : {};
          if (m2 = function(t5) {
            return "function" != typeof t5.constructor || kt(t5) ? {} : (e4 = q(t5), Ct(e4) ? U(e4) : {});
            var e4;
          }(v2 ? {} : t4), !e3)
            return function(t5, e4) {
              return ht(t5, gt(t5), e4);
            }(t4, function(t5, e4) {
              return t5 && ht(e4, Tt(e4), t5);
            }(m2, t4));
        } else {
          if (!f[y2])
            return l3 ? t4 : {};
          m2 = function(t5, e4, n5, i4) {
            var r3 = t5.constructor;
            switch (e4) {
              case "[object ArrayBuffer]":
                return mt(t5);
              case "[object Boolean]":
              case "[object Date]":
                return new r3(+t5);
              case "[object DataView]":
                return function(t6, e5) {
                  var n6 = e5 ? mt(t6.buffer) : t6.buffer;
                  return new t6.constructor(n6, t6.byteOffset, t6.byteLength);
                }(t5, i4);
              case "[object Float32Array]":
              case "[object Float64Array]":
              case "[object Int8Array]":
              case "[object Int16Array]":
              case "[object Int32Array]":
              case "[object Uint8Array]":
              case "[object Uint8ClampedArray]":
              case "[object Uint16Array]":
              case "[object Uint32Array]":
                return function(t6, e5) {
                  var n6 = e5 ? mt(t6.buffer) : t6.buffer;
                  return new t6.constructor(n6, t6.byteOffset, t6.length);
                }(t5, i4);
              case s2:
                return function(t6, e5, n6) {
                  return k(e5 ? n6(_(t6), true) : _(t6), b, new t6.constructor());
                }(t5, i4, n5);
              case "[object Number]":
              case "[object String]":
                return new r3(t5);
              case "[object RegExp]":
                return function(t6) {
                  var e5 = new t6.constructor(t6.source, p2.exec(t6));
                  return e5.lastIndex = t6.lastIndex, e5;
                }(t5);
              case c2:
                return function(t6, e5, n6) {
                  return k(e5 ? n6(O(t6), true) : O(t6), x, new t6.constructor());
                }(t5, i4, n5);
              case "[object Symbol]":
                return o2 = t5, rt ? Object(rt.call(o2)) : {};
            }
            var o2;
          }(t4, y2, ft, e3);
        }
      }
      d2 || (d2 = new ct());
      var g2 = d2.get(t4);
      if (g2)
        return g2;
      if (d2.set(t4, m2), !h2)
        var j2 = n4 ? function(t5) {
          return function(t6, e4, n5) {
            var i4 = e4(t6);
            return jt(t6) ? i4 : function(t7, e5) {
              for (var n6 = -1, i5 = e5.length, r3 = t7.length; ++n6 < i5; )
                t7[r3 + n6] = e5[n6];
              return t7;
            }(i4, n5(t6));
          }(t5, Tt, gt);
        }(t4) : Tt(t4);
      return function(t5, e4) {
        for (var n5 = -1, i4 = t5 ? t5.length : 0; ++n5 < i4 && false !== e4(t5[n5], n5, t5); )
          ;
      }(j2 || t4, function(r3, o2) {
        j2 && (r3 = t4[o2 = r3]), ut(m2, o2, ft(r3, e3, n4, i3, o2, t4, d2));
      }), m2;
    }
    function dt(t4) {
      return !(!Ct(t4) || (e3 = t4, P && P in e3)) && (Et(t4) || w(t4) ? N : u).test(wt(t4));
      var e3;
    }
    function mt(t4) {
      var e3 = new t4.constructor(t4.byteLength);
      return new $(e3).set(new $(t4)), e3;
    }
    function ht(t4, e3, n4, i3) {
      n4 || (n4 = {});
      for (var r3 = -1, o2 = e3.length; ++r3 < o2; ) {
        var a3 = e3[r3], s3 = i3 ? i3(n4[a3], t4[a3], a3, n4, t4) : void 0;
        ut(n4, a3, void 0 === s3 ? t4[a3] : s3);
      }
      return n4;
    }
    function yt(t4, e3) {
      var n4, r3, o2 = t4.__data__;
      return ("string" == (r3 = i2(n4 = e3)) || "number" == r3 || "symbol" == r3 || "boolean" == r3 ? "__proto__" !== n4 : null === n4) ? o2["string" == typeof e3 ? "string" : "hash"] : o2.map;
    }
    function vt(t4, e3) {
      var n4 = function(t5, e4) {
        return null == t5 ? void 0 : t5[e4];
      }(t4, e3);
      return dt(n4) ? n4 : void 0;
    }
    ot.prototype.clear = function() {
      this.__data__ = K ? K(null) : {};
    }, ot.prototype.delete = function(t4) {
      return this.has(t4) && delete this.__data__[t4];
    }, ot.prototype.get = function(t4) {
      var e3 = this.__data__;
      if (K) {
        var n4 = e3[t4];
        return "__lodash_hash_undefined__" === n4 ? void 0 : n4;
      }
      return I.call(e3, t4) ? e3[t4] : void 0;
    }, ot.prototype.has = function(t4) {
      var e3 = this.__data__;
      return K ? void 0 !== e3[t4] : I.call(e3, t4);
    }, ot.prototype.set = function(t4, e3) {
      return this.__data__[t4] = K && void 0 === e3 ? "__lodash_hash_undefined__" : e3, this;
    }, at.prototype.clear = function() {
      this.__data__ = [];
    }, at.prototype.delete = function(t4) {
      var e3 = this.__data__, n4 = lt(e3, t4);
      return !(n4 < 0) && (n4 == e3.length - 1 ? e3.pop() : L.call(e3, n4, 1), true);
    }, at.prototype.get = function(t4) {
      var e3 = this.__data__, n4 = lt(e3, t4);
      return n4 < 0 ? void 0 : e3[n4][1];
    }, at.prototype.has = function(t4) {
      return lt(this.__data__, t4) > -1;
    }, at.prototype.set = function(t4, e3) {
      var n4 = this.__data__, i3 = lt(n4, t4);
      return i3 < 0 ? n4.push([t4, e3]) : n4[i3][1] = e3, this;
    }, st.prototype.clear = function() {
      this.__data__ = { hash: new ot(), map: new (Z || at)(), string: new ot() };
    }, st.prototype.delete = function(t4) {
      return yt(this, t4).delete(t4);
    }, st.prototype.get = function(t4) {
      return yt(this, t4).get(t4);
    }, st.prototype.has = function(t4) {
      return yt(this, t4).has(t4);
    }, st.prototype.set = function(t4, e3) {
      return yt(this, t4).set(t4, e3), this;
    }, ct.prototype.clear = function() {
      this.__data__ = new at();
    }, ct.prototype.delete = function(t4) {
      return this.__data__.delete(t4);
    }, ct.prototype.get = function(t4) {
      return this.__data__.get(t4);
    }, ct.prototype.has = function(t4) {
      return this.__data__.has(t4);
    }, ct.prototype.set = function(t4, e3) {
      var n4 = this.__data__;
      if (n4 instanceof at) {
        var i3 = n4.__data__;
        if (!Z || i3.length < 199)
          return i3.push([t4, e3]), this;
        n4 = this.__data__ = new st(i3);
      }
      return n4.set(t4, e3), this;
    };
    var gt = B ? j(B, Object) : function() {
      return [];
    }, bt = function(t4) {
      return z.call(t4);
    };
    function xt(t4, e3) {
      return !!(e3 = null == e3 ? 9007199254740991 : e3) && ("number" == typeof t4 || l2.test(t4)) && t4 > -1 && t4 % 1 == 0 && t4 < e3;
    }
    function kt(t4) {
      var e3 = t4 && t4.constructor;
      return t4 === ("function" == typeof e3 && e3.prototype || T);
    }
    function wt(t4) {
      if (null != t4) {
        try {
          return F.call(t4);
        } catch (t5) {
        }
        try {
          return t4 + "";
        } catch (t5) {
        }
      }
      return "";
    }
    function _t(t4, e3) {
      return t4 === e3 || t4 != t4 && e3 != e3;
    }
    (W && "[object DataView]" != bt(new W(new ArrayBuffer(1))) || Z && bt(new Z()) != s2 || J && "[object Promise]" != bt(J.resolve()) || Y && bt(new Y()) != c2 || G && "[object WeakMap]" != bt(new G())) && (bt = function(t4) {
      var e3 = z.call(t4), n4 = "[object Object]" == e3 ? t4.constructor : void 0, i3 = n4 ? wt(n4) : void 0;
      if (i3)
        switch (i3) {
          case Q:
            return "[object DataView]";
          case X:
            return s2;
          case tt:
            return "[object Promise]";
          case et:
            return c2;
          case nt:
            return "[object WeakMap]";
        }
      return e3;
    });
    var jt = Array.isArray;
    function Ot(t4) {
      return null != t4 && function(t5) {
        return "number" == typeof t5 && t5 > -1 && t5 % 1 == 0 && t5 <= 9007199254740991;
      }(t4.length) && !Et(t4);
    }
    var St = V || function() {
      return false;
    };
    function Et(t4) {
      var e3 = Ct(t4) ? z.call(t4) : "";
      return e3 == o || e3 == a2;
    }
    function Ct(t4) {
      var e3 = i2(t4);
      return !!t4 && ("object" == e3 || "function" == e3);
    }
    function Tt(t4) {
      return Ot(t4) ? pt(t4) : function(t5) {
        if (!kt(t5))
          return H(t5);
        var e3 = [];
        for (var n4 in Object(t5))
          I.call(t5, n4) && "constructor" != n4 && e3.push(n4);
        return e3;
      }(t4);
    }
    n3.exports = function(t4) {
      return ft(t4, true, true);
    };
  }).call(this, n2(14), n2(24)(t2));
}, function(t2, e2, n2) {
  n2.d(e2, "a", function() {
    return i2;
  });
  function i2(t3) {
    try {
      return t3 && "function" == typeof t3 && t3.name || "<anonymous>";
    } catch (t4) {
      return "<anonymous>";
    }
  }
}, function(t2, e2, n2) {
  n2.d(e2, "a", function() {
    return i2;
  });
  var i2 = function() {
    function t3() {
      this._hasWeakSet = "function" == typeof WeakSet, this._inner = this._hasWeakSet ? /* @__PURE__ */ new WeakSet() : [];
    }
    return t3.prototype.memoize = function(t4) {
      if (this._hasWeakSet)
        return !!this._inner.has(t4) || (this._inner.add(t4), false);
      for (var e3 = 0; e3 < this._inner.length; e3++) {
        if (this._inner[e3] === t4)
          return true;
      }
      return this._inner.push(t4), false;
    }, t3.prototype.unmemoize = function(t4) {
      if (this._hasWeakSet)
        this._inner.delete(t4);
      else
        for (var e3 = 0; e3 < this._inner.length; e3++)
          if (this._inner[e3] === t4) {
            this._inner.splice(e3, 1);
            break;
          }
    }, t3;
  }();
}, , function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(19), o = n2(40), a2 = n2(12), s2 = n2(20).scan, c2 = a2.ValidatorResult, p2 = a2.SchemaError, u = a2.SchemaContext, l2 = function t3() {
    this.customFormats = Object.create(t3.prototype.customFormats), this.schemas = {}, this.unresolvedRefs = [], this.types = Object.create(d), this.attributes = Object.create(o.validators);
  };
  function f(t3) {
    var e3 = "string" == typeof t3 ? t3 : t3.$ref;
    return "string" == typeof e3 && e3;
  }
  l2.prototype.customFormats = {}, l2.prototype.schemas = null, l2.prototype.types = null, l2.prototype.attributes = null, l2.prototype.unresolvedRefs = null, l2.prototype.addSchema = function(t3, e3) {
    var n3 = this;
    if (!t3)
      return null;
    var i3 = s2(e3 || "/", t3), r3 = e3 || t3.id;
    for (var o2 in i3.id)
      this.schemas[o2] = i3.id[o2];
    for (var o2 in i3.ref)
      this.unresolvedRefs.push(o2);
    return this.unresolvedRefs = this.unresolvedRefs.filter(function(t4) {
      return void 0 === n3.schemas[t4];
    }), this.schemas[r3];
  }, l2.prototype.addSubSchemaArray = function(t3, e3) {
    if (e3 instanceof Array)
      for (var n3 = 0; n3 < e3.length; n3++)
        this.addSubSchema(t3, e3[n3]);
  }, l2.prototype.addSubSchemaObject = function(t3, e3) {
    if (e3 && "object" == i2(e3))
      for (var n3 in e3)
        this.addSubSchema(t3, e3[n3]);
  }, l2.prototype.setSchemas = function(t3) {
    this.schemas = t3;
  }, l2.prototype.getSchema = function(t3) {
    return this.schemas[t3];
  }, l2.prototype.validate = function(t3, e3, n3, i3) {
    n3 || (n3 = {});
    var o2 = n3.propertyName || "instance", a3 = r2.resolve(n3.base || "/", e3.id || "");
    if (!i3) {
      (i3 = new u(e3, n3, o2, a3, Object.create(this.schemas))).schemas[a3] || (i3.schemas[a3] = e3);
      var c3 = s2(a3, e3);
      for (var l3 in c3.id) {
        var f2 = c3.id[l3];
        i3.schemas[l3] = f2;
      }
    }
    if (e3) {
      var d2 = this.validateSchema(t3, e3, n3, i3);
      if (!d2)
        throw new Error("Result undefined");
      return d2;
    }
    throw new p2("no schema specified", e3);
  }, l2.prototype.validateSchema = function(t3, e3, n3, i3) {
    var r3, s3 = new c2(t3, e3, n3, i3);
    if ("boolean" == typeof e3)
      true === e3 ? e3 = {} : false === e3 && (e3 = { type: [] });
    else if (!e3)
      throw new Error("schema is undefined");
    if (e3.extends)
      if (e3.extends instanceof Array) {
        var l3 = { schema: e3, ctx: i3 };
        e3.extends.forEach(this.schemaTraverser.bind(this, l3)), e3 = l3.schema, l3.schema = null, l3.ctx = null, l3 = null;
      } else
        e3 = a2.deepMerge(e3, this.superResolve(e3.extends, i3));
    if (r3 = f(e3)) {
      var d2 = this.resolve(e3, r3, i3), m = new u(d2.subschema, n3, i3.propertyPath, d2.switchSchema, i3.schemas);
      return this.validateSchema(t3, d2.subschema, n3, m);
    }
    var h = n3 && n3.skipAttributes || [];
    for (var y in e3)
      if (!o.ignoreProperties[y] && h.indexOf(y) < 0) {
        var v = null, g = this.attributes[y];
        if (g)
          v = g.call(this, t3, e3, n3, i3);
        else if (false === n3.allowUnknownAttributes)
          throw new p2("Unsupported attribute: " + y, e3);
        v && s3.importErrors(v);
      }
    if ("function" == typeof n3.rewrite) {
      var b = n3.rewrite.call(this, t3, e3, n3, i3);
      s3.instance = b;
    }
    return s3;
  }, l2.prototype.schemaTraverser = function(t3, e3) {
    t3.schema = a2.deepMerge(t3.schema, this.superResolve(e3, t3.ctx));
  }, l2.prototype.superResolve = function(t3, e3) {
    var n3;
    return (n3 = f(t3)) ? this.resolve(t3, n3, e3).subschema : t3;
  }, l2.prototype.resolve = function(t3, e3, n3) {
    if (e3 = n3.resolve(e3), n3.schemas[e3])
      return { subschema: n3.schemas[e3], switchSchema: e3 };
    var i3 = r2.parse(e3), o2 = i3 && i3.hash, s3 = o2 && o2.length && e3.substr(0, e3.length - o2.length);
    if (!s3 || !n3.schemas[s3])
      throw new p2("no such schema <" + e3 + ">", t3);
    var c3 = a2.objectGetPath(n3.schemas[s3], o2.substr(1));
    if (void 0 === c3)
      throw new p2("no such schema " + o2 + " located in <" + s3 + ">", t3);
    return { subschema: c3, switchSchema: e3 };
  }, l2.prototype.testType = function(t3, e3, n3, r3, o2) {
    if ("function" == typeof this.types[o2])
      return this.types[o2].call(this, t3);
    if (o2 && "object" == i2(o2)) {
      var a3 = this.validateSchema(t3, o2, n3, r3);
      return void 0 === a3 || !(a3 && a3.errors.length);
    }
    return true;
  };
  var d = l2.prototype.types = {};
  d.string = function(t3) {
    return "string" == typeof t3;
  }, d.number = function(t3) {
    return "number" == typeof t3 && isFinite(t3);
  }, d.integer = function(t3) {
    return "number" == typeof t3 && t3 % 1 == 0;
  }, d.boolean = function(t3) {
    return "boolean" == typeof t3;
  }, d.array = function(t3) {
    return Array.isArray(t3);
  }, d.null = function(t3) {
    return null === t3;
  }, d.date = function(t3) {
    return t3 instanceof Date;
  }, d.any = function(t3) {
    return true;
  }, d.object = function(t3) {
    return t3 && "object" === i2(t3) && !(t3 instanceof Array) && !(t3 instanceof Date);
  }, t2.exports = l2;
}, function(t2, e2, n2) {
  (function(t3, i2) {
    var r2;
    function o(t4) {
      return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
        return typeof t5;
      } : function(t5) {
        return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
      })(t4);
    }
    /*! https://mths.be/punycode v1.3.2 by @mathias */
    !function(a2) {
      var s2 = "object" == o(e2) && e2 && !e2.nodeType && e2, c2 = "object" == o(t3) && t3 && !t3.nodeType && t3, p2 = "object" == (void 0 === i2 ? "undefined" : o(i2)) && i2;
      p2.global !== p2 && p2.window !== p2 && p2.self !== p2 || (a2 = p2);
      var u, l2, f = 2147483647, d = /^xn--/, m = /[^\x20-\x7E]/, h = /[\x2E\u3002\uFF0E\uFF61]/g, y = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, v = Math.floor, g = String.fromCharCode;
      function b(t4) {
        throw RangeError(y[t4]);
      }
      function x(t4, e3) {
        for (var n3 = t4.length, i3 = []; n3--; )
          i3[n3] = e3(t4[n3]);
        return i3;
      }
      function k(t4, e3) {
        var n3 = t4.split("@"), i3 = "";
        return n3.length > 1 && (i3 = n3[0] + "@", t4 = n3[1]), i3 + x((t4 = t4.replace(h, ".")).split("."), e3).join(".");
      }
      function w(t4) {
        for (var e3, n3, i3 = [], r3 = 0, o2 = t4.length; r3 < o2; )
          (e3 = t4.charCodeAt(r3++)) >= 55296 && e3 <= 56319 && r3 < o2 ? 56320 == (64512 & (n3 = t4.charCodeAt(r3++))) ? i3.push(((1023 & e3) << 10) + (1023 & n3) + 65536) : (i3.push(e3), r3--) : i3.push(e3);
        return i3;
      }
      function _(t4) {
        return x(t4, function(t5) {
          var e3 = "";
          return t5 > 65535 && (e3 += g((t5 -= 65536) >>> 10 & 1023 | 55296), t5 = 56320 | 1023 & t5), e3 += g(t5);
        }).join("");
      }
      function j(t4, e3) {
        return t4 + 22 + 75 * (t4 < 26) - ((0 != e3) << 5);
      }
      function O(t4, e3, n3) {
        var i3 = 0;
        for (t4 = n3 ? v(t4 / 700) : t4 >> 1, t4 += v(t4 / e3); t4 > 455; i3 += 36)
          t4 = v(t4 / 35);
        return v(i3 + 36 * t4 / (t4 + 38));
      }
      function S(t4) {
        var e3, n3, i3, r3, o2, a3, s3, c3, p3, u2, l3, d2 = [], m2 = t4.length, h2 = 0, y2 = 128, g2 = 72;
        for ((n3 = t4.lastIndexOf("-")) < 0 && (n3 = 0), i3 = 0; i3 < n3; ++i3)
          t4.charCodeAt(i3) >= 128 && b("not-basic"), d2.push(t4.charCodeAt(i3));
        for (r3 = n3 > 0 ? n3 + 1 : 0; r3 < m2; ) {
          for (o2 = h2, a3 = 1, s3 = 36; r3 >= m2 && b("invalid-input"), ((c3 = (l3 = t4.charCodeAt(r3++)) - 48 < 10 ? l3 - 22 : l3 - 65 < 26 ? l3 - 65 : l3 - 97 < 26 ? l3 - 97 : 36) >= 36 || c3 > v((f - h2) / a3)) && b("overflow"), h2 += c3 * a3, !(c3 < (p3 = s3 <= g2 ? 1 : s3 >= g2 + 26 ? 26 : s3 - g2)); s3 += 36)
            a3 > v(f / (u2 = 36 - p3)) && b("overflow"), a3 *= u2;
          g2 = O(h2 - o2, e3 = d2.length + 1, 0 == o2), v(h2 / e3) > f - y2 && b("overflow"), y2 += v(h2 / e3), h2 %= e3, d2.splice(h2++, 0, y2);
        }
        return _(d2);
      }
      function E(t4) {
        var e3, n3, i3, r3, o2, a3, s3, c3, p3, u2, l3, d2, m2, h2, y2, x2 = [];
        for (d2 = (t4 = w(t4)).length, e3 = 128, n3 = 0, o2 = 72, a3 = 0; a3 < d2; ++a3)
          (l3 = t4[a3]) < 128 && x2.push(g(l3));
        for (i3 = r3 = x2.length, r3 && x2.push("-"); i3 < d2; ) {
          for (s3 = f, a3 = 0; a3 < d2; ++a3)
            (l3 = t4[a3]) >= e3 && l3 < s3 && (s3 = l3);
          for (s3 - e3 > v((f - n3) / (m2 = i3 + 1)) && b("overflow"), n3 += (s3 - e3) * m2, e3 = s3, a3 = 0; a3 < d2; ++a3)
            if ((l3 = t4[a3]) < e3 && ++n3 > f && b("overflow"), l3 == e3) {
              for (c3 = n3, p3 = 36; !(c3 < (u2 = p3 <= o2 ? 1 : p3 >= o2 + 26 ? 26 : p3 - o2)); p3 += 36)
                y2 = c3 - u2, h2 = 36 - u2, x2.push(g(j(u2 + y2 % h2, 0))), c3 = v(y2 / h2);
              x2.push(g(j(c3, 0))), o2 = O(n3, m2, i3 == r3), n3 = 0, ++i3;
            }
          ++n3, ++e3;
        }
        return x2.join("");
      }
      if (u = { version: "1.3.2", ucs2: { decode: w, encode: _ }, decode: S, encode: E, toASCII: function(t4) {
        return k(t4, function(t5) {
          return m.test(t5) ? "xn--" + E(t5) : t5;
        });
      }, toUnicode: function(t4) {
        return k(t4, function(t5) {
          return d.test(t5) ? S(t5.slice(4).toLowerCase()) : t5;
        });
      } }, "object" == o(n2(25)) && n2(25))
        void 0 === (r2 = function() {
          return u;
        }.call(e2, n2, e2, t3)) || (t3.exports = r2);
      else if (s2 && c2)
        if (t3.exports == s2)
          c2.exports = u;
        else
          for (l2 in u)
            u.hasOwnProperty(l2) && (s2[l2] = u[l2]);
      else
        a2.punycode = u;
    }(this);
  }).call(this, n2(24)(t2), n2(14));
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  t2.exports = { isString: function(t3) {
    return "string" == typeof t3;
  }, isObject: function(t3) {
    return "object" === i2(t3) && null !== t3;
  }, isNull: function(t3) {
    return null === t3;
  }, isNullOrUndefined: function(t3) {
    return null == t3;
  } };
}, function(t2, e2, n2) {
  e2.decode = e2.parse = n2(38), e2.encode = e2.stringify = n2(39);
}, function(t2, e2, n2) {
  function i2(t3, e3) {
    return Object.prototype.hasOwnProperty.call(t3, e3);
  }
  t2.exports = function(t3, e3, n3, o) {
    e3 = e3 || "&", n3 = n3 || "=";
    var a2 = {};
    if ("string" != typeof t3 || 0 === t3.length)
      return a2;
    var s2 = /\+/g;
    t3 = t3.split(e3);
    var c2 = 1e3;
    o && "number" == typeof o.maxKeys && (c2 = o.maxKeys);
    var p2 = t3.length;
    c2 > 0 && p2 > c2 && (p2 = c2);
    for (var u = 0; u < p2; ++u) {
      var l2, f, d, m, h = t3[u].replace(s2, "%20"), y = h.indexOf(n3);
      y >= 0 ? (l2 = h.substr(0, y), f = h.substr(y + 1)) : (l2 = h, f = ""), d = decodeURIComponent(l2), m = decodeURIComponent(f), i2(a2, d) ? r2(a2[d]) ? a2[d].push(m) : a2[d] = [a2[d], m] : a2[d] = m;
    }
    return a2;
  };
  var r2 = Array.isArray || function(t3) {
    return "[object Array]" === Object.prototype.toString.call(t3);
  };
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = function(t3) {
    switch (i2(t3)) {
      case "string":
        return t3;
      case "boolean":
        return t3 ? "true" : "false";
      case "number":
        return isFinite(t3) ? t3 : "";
      default:
        return "";
    }
  };
  t2.exports = function(t3, e3, n3, c2) {
    return e3 = e3 || "&", n3 = n3 || "=", null === t3 && (t3 = void 0), "object" === i2(t3) ? a2(s2(t3), function(i3) {
      var s3 = encodeURIComponent(r2(i3)) + n3;
      return o(t3[i3]) ? a2(t3[i3], function(t4) {
        return s3 + encodeURIComponent(r2(t4));
      }).join(e3) : s3 + encodeURIComponent(r2(t3[i3]));
    }).join(e3) : c2 ? encodeURIComponent(r2(c2)) + n3 + encodeURIComponent(r2(t3)) : "";
  };
  var o = Array.isArray || function(t3) {
    return "[object Array]" === Object.prototype.toString.call(t3);
  };
  function a2(t3, e3) {
    if (t3.map)
      return t3.map(e3);
    for (var n3 = [], i3 = 0; i3 < t3.length; i3++)
      n3.push(e3(t3[i3], i3));
    return n3;
  }
  var s2 = Object.keys || function(t3) {
    var e3 = [];
    for (var n3 in t3)
      Object.prototype.hasOwnProperty.call(t3, n3) && e3.push(n3);
    return e3;
  };
}, function(t2, e2, n2) {
  var i2 = n2(12), r2 = i2.ValidatorResult, o = i2.SchemaError, a2 = { ignoreProperties: { id: true, default: true, description: true, title: true, exclusiveMinimum: true, exclusiveMaximum: true, additionalItems: true, $schema: true, $ref: true, extends: true } }, s2 = a2.validators = {};
  function c2(t3, e3, n3, i3, r3) {
    var o2 = e3.throwError;
    e3.throwError = false;
    var a3 = this.validateSchema(t3, r3, e3, n3);
    return e3.throwError = o2, !a3.valid && i3 instanceof Function && i3(a3), a3.valid;
  }
  function p2(t3, e3, n3, i3, r3, o2) {
    if (this.types.object(t3) && (!e3.properties || void 0 === e3.properties[r3]))
      if (false === e3.additionalProperties)
        o2.addError({ name: "additionalProperties", argument: r3, message: "additionalProperty " + JSON.stringify(r3) + " exists in instance when not allowed" });
      else {
        var a3 = e3.additionalProperties || {};
        "function" == typeof n3.preValidateProperty && n3.preValidateProperty(t3, r3, a3, n3, i3);
        var s3 = this.validateSchema(t3[r3], a3, n3, i3.makeChild(a3, r3));
        s3.instance !== o2.instance[r3] && (o2.instance[r3] = s3.instance), o2.importErrors(s3);
      }
  }
  s2.type = function(t3, e3, n3, i3) {
    if (void 0 === t3)
      return null;
    var o2 = new r2(t3, e3, n3, i3), a3 = Array.isArray(e3.type) ? e3.type : [e3.type];
    if (!a3.some(this.testType.bind(this, t3, e3, n3, i3))) {
      var s3 = a3.map(function(t4) {
        return t4.id && "<" + t4.id + ">" || t4 + "";
      });
      o2.addError({ name: "type", argument: s3, message: "is not of a type(s) " + s3 });
    }
    return o2;
  }, s2.anyOf = function(t3, e3, n3, i3) {
    if (void 0 === t3)
      return null;
    var a3 = new r2(t3, e3, n3, i3), s3 = new r2(t3, e3, n3, i3);
    if (!Array.isArray(e3.anyOf))
      throw new o("anyOf must be an array");
    if (!e3.anyOf.some(c2.bind(this, t3, n3, i3, function(t4) {
      s3.importErrors(t4);
    }))) {
      var p3 = e3.anyOf.map(function(t4, e4) {
        return t4.id && "<" + t4.id + ">" || t4.title && JSON.stringify(t4.title) || t4.$ref && "<" + t4.$ref + ">" || "[subschema " + e4 + "]";
      });
      n3.nestedErrors && a3.importErrors(s3), a3.addError({ name: "anyOf", argument: p3, message: "is not any of " + p3.join(",") });
    }
    return a3;
  }, s2.allOf = function(t3, e3, n3, i3) {
    if (void 0 === t3)
      return null;
    if (!Array.isArray(e3.allOf))
      throw new o("allOf must be an array");
    var a3 = new r2(t3, e3, n3, i3), s3 = this;
    return e3.allOf.forEach(function(e4, r3) {
      var o2 = s3.validateSchema(t3, e4, n3, i3);
      if (!o2.valid) {
        var c3 = e4.id && "<" + e4.id + ">" || e4.title && JSON.stringify(e4.title) || e4.$ref && "<" + e4.$ref + ">" || "[subschema " + r3 + "]";
        a3.addError({ name: "allOf", argument: { id: c3, length: o2.errors.length, valid: o2 }, message: "does not match allOf schema " + c3 + " with " + o2.errors.length + " error[s]:" }), a3.importErrors(o2);
      }
    }), a3;
  }, s2.oneOf = function(t3, e3, n3, i3) {
    if (void 0 === t3)
      return null;
    if (!Array.isArray(e3.oneOf))
      throw new o("oneOf must be an array");
    var a3 = new r2(t3, e3, n3, i3), s3 = new r2(t3, e3, n3, i3), p3 = e3.oneOf.filter(c2.bind(this, t3, n3, i3, function(t4) {
      s3.importErrors(t4);
    })).length, u2 = e3.oneOf.map(function(t4, e4) {
      return t4.id && "<" + t4.id + ">" || t4.title && JSON.stringify(t4.title) || t4.$ref && "<" + t4.$ref + ">" || "[subschema " + e4 + "]";
    });
    return 1 !== p3 && (n3.nestedErrors && a3.importErrors(s3), a3.addError({ name: "oneOf", argument: u2, message: "is not exactly one from " + u2.join(",") })), a3;
  }, s2.properties = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      var o2 = new r2(t3, e3, n3, i3), a3 = e3.properties || {};
      for (var s3 in a3) {
        "function" == typeof n3.preValidateProperty && n3.preValidateProperty(t3, s3, a3[s3], n3, i3);
        var c3 = Object.hasOwnProperty.call(t3, s3) ? t3[s3] : void 0, p3 = this.validateSchema(c3, a3[s3], n3, i3.makeChild(a3[s3], s3));
        p3.instance !== o2.instance[s3] && (o2.instance[s3] = p3.instance), o2.importErrors(p3);
      }
      return o2;
    }
  }, s2.patternProperties = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      var o2 = new r2(t3, e3, n3, i3), a3 = e3.patternProperties || {};
      for (var s3 in t3) {
        var c3 = true;
        for (var u2 in a3) {
          if (new RegExp(u2).test(s3)) {
            c3 = false, "function" == typeof n3.preValidateProperty && n3.preValidateProperty(t3, s3, a3[u2], n3, i3);
            var l3 = this.validateSchema(t3[s3], a3[u2], n3, i3.makeChild(a3[u2], s3));
            l3.instance !== o2.instance[s3] && (o2.instance[s3] = l3.instance), o2.importErrors(l3);
          }
        }
        c3 && p2.call(this, t3, e3, n3, i3, s3, o2);
      }
      return o2;
    }
  }, s2.additionalProperties = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      if (e3.patternProperties)
        return null;
      var o2 = new r2(t3, e3, n3, i3);
      for (var a3 in t3)
        p2.call(this, t3, e3, n3, i3, a3, o2);
      return o2;
    }
  }, s2.minProperties = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return Object.keys(t3).length >= e3.minProperties || o2.addError({ name: "minProperties", argument: e3.minProperties, message: "does not meet minimum property length of " + e3.minProperties }), o2;
    }
  }, s2.maxProperties = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return Object.keys(t3).length <= e3.maxProperties || o2.addError({ name: "maxProperties", argument: e3.maxProperties, message: "does not meet maximum property length of " + e3.maxProperties }), o2;
    }
  }, s2.items = function(t3, e3, n3, i3) {
    var o2 = this;
    if (this.types.array(t3) && e3.items) {
      var a3 = new r2(t3, e3, n3, i3);
      return t3.every(function(t4, r3) {
        var s3 = Array.isArray(e3.items) ? e3.items[r3] || e3.additionalItems : e3.items;
        if (void 0 === s3)
          return true;
        if (false === s3)
          return a3.addError({ name: "items", message: "additionalItems not permitted" }), false;
        var c3 = o2.validateSchema(t4, s3, n3, i3.makeChild(s3, r3));
        return c3.instance !== a3.instance[r3] && (a3.instance[r3] = c3.instance), a3.importErrors(c3), true;
      }), a3;
    }
  }, s2.minimum = function(t3, e3, n3, i3) {
    if (this.types.number(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return (e3.exclusiveMinimum && true === e3.exclusiveMinimum ? t3 > e3.minimum : t3 >= e3.minimum) || o2.addError({ name: "minimum", argument: e3.minimum, message: "must have a minimum value of " + e3.minimum }), o2;
    }
  }, s2.maximum = function(t3, e3, n3, i3) {
    if (this.types.number(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return (e3.exclusiveMaximum && true === e3.exclusiveMaximum ? t3 < e3.maximum : t3 <= e3.maximum) || o2.addError({ name: "maximum", argument: e3.maximum, message: "must have a maximum value of " + e3.maximum }), o2;
    }
  };
  var u = function(t3, e3, n3, a3, s3, c3) {
    if (this.types.number(t3)) {
      var p3 = e3[s3];
      if (0 == p3)
        throw new o(s3 + " cannot be zero");
      var u2 = new r2(t3, e3, n3, a3), l3 = i2.getDecimalPlaces(t3), f = i2.getDecimalPlaces(p3), d = Math.max(l3, f), m = Math.pow(10, d);
      return Math.round(t3 * m) % Math.round(p3 * m) != 0 && u2.addError({ name: s3, argument: p3, message: c3 + JSON.stringify(p3) }), u2;
    }
  };
  function l2(t3, e3, n3) {
    var r3, o2 = n3.length;
    for (r3 = e3 + 1; r3 < o2; r3++)
      if (i2.deepCompareStrict(t3, n3[r3]))
        return false;
    return true;
  }
  s2.multipleOf = function(t3, e3, n3, i3) {
    return u.call(this, t3, e3, n3, i3, "multipleOf", "is not a multiple of (divisible by) ");
  }, s2.divisibleBy = function(t3, e3, n3, i3) {
    return u.call(this, t3, e3, n3, i3, "divisibleBy", "is not divisible by (multiple of) ");
  }, s2.required = function(t3, e3, n3, i3) {
    var o2 = new r2(t3, e3, n3, i3);
    return void 0 === t3 && true === e3.required ? o2.addError({ name: "required", message: "is required" }) : this.types.object(t3) && Array.isArray(e3.required) && e3.required.forEach(function(e4) {
      void 0 === t3[e4] && o2.addError({ name: "required", argument: e4, message: "requires property " + JSON.stringify(e4) });
    }), o2;
  }, s2.pattern = function(t3, e3, n3, i3) {
    if (this.types.string(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return t3.match(e3.pattern) || o2.addError({ name: "pattern", argument: e3.pattern, message: "does not match pattern " + JSON.stringify(e3.pattern.toString()) }), o2;
    }
  }, s2.format = function(t3, e3, n3, o2) {
    if (void 0 !== t3) {
      var a3 = new r2(t3, e3, n3, o2);
      return a3.disableFormat || i2.isFormat(t3, e3.format, this) || a3.addError({ name: "format", argument: e3.format, message: "does not conform to the " + JSON.stringify(e3.format) + " format" }), a3;
    }
  }, s2.minLength = function(t3, e3, n3, i3) {
    if (this.types.string(t3)) {
      var o2 = new r2(t3, e3, n3, i3), a3 = t3.match(/[\uDC00-\uDFFF]/g);
      return t3.length - (a3 ? a3.length : 0) >= e3.minLength || o2.addError({ name: "minLength", argument: e3.minLength, message: "does not meet minimum length of " + e3.minLength }), o2;
    }
  }, s2.maxLength = function(t3, e3, n3, i3) {
    if (this.types.string(t3)) {
      var o2 = new r2(t3, e3, n3, i3), a3 = t3.match(/[\uDC00-\uDFFF]/g);
      return t3.length - (a3 ? a3.length : 0) <= e3.maxLength || o2.addError({ name: "maxLength", argument: e3.maxLength, message: "does not meet maximum length of " + e3.maxLength }), o2;
    }
  }, s2.minItems = function(t3, e3, n3, i3) {
    if (this.types.array(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return t3.length >= e3.minItems || o2.addError({ name: "minItems", argument: e3.minItems, message: "does not meet minimum length of " + e3.minItems }), o2;
    }
  }, s2.maxItems = function(t3, e3, n3, i3) {
    if (this.types.array(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return t3.length <= e3.maxItems || o2.addError({ name: "maxItems", argument: e3.maxItems, message: "does not meet maximum length of " + e3.maxItems }), o2;
    }
  }, s2.uniqueItems = function(t3, e3, n3, o2) {
    if (this.types.array(t3)) {
      var a3 = new r2(t3, e3, n3, o2);
      return t3.every(function(t4, e4, n4) {
        for (var r3 = e4 + 1; r3 < n4.length; r3++)
          if (i2.deepCompareStrict(t4, n4[r3]))
            return false;
        return true;
      }) || a3.addError({ name: "uniqueItems", message: "contains duplicate item" }), a3;
    }
  }, s2.uniqueItems = function(t3, e3, n3, i3) {
    if (this.types.array(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      return t3.every(l2) || o2.addError({ name: "uniqueItems", message: "contains duplicate item" }), o2;
    }
  }, s2.dependencies = function(t3, e3, n3, i3) {
    if (this.types.object(t3)) {
      var o2 = new r2(t3, e3, n3, i3);
      for (var a3 in e3.dependencies)
        if (void 0 !== t3[a3]) {
          var s3 = e3.dependencies[a3], c3 = i3.makeChild(s3, a3);
          if ("string" == typeof s3 && (s3 = [s3]), Array.isArray(s3))
            s3.forEach(function(e4) {
              void 0 === t3[e4] && o2.addError({ name: "dependencies", argument: c3.propertyPath, message: "property " + e4 + " not found, required by " + c3.propertyPath });
            });
          else {
            var p3 = this.validateSchema(t3, s3, n3, c3);
            o2.instance !== p3.instance && (o2.instance = p3.instance), p3 && p3.errors.length && (o2.addError({ name: "dependencies", argument: c3.propertyPath, message: "does not meet dependency required by " + c3.propertyPath }), o2.importErrors(p3));
          }
        }
      return o2;
    }
  }, s2.enum = function(t3, e3, n3, a3) {
    if (void 0 === t3)
      return null;
    if (!Array.isArray(e3.enum))
      throw new o("enum expects an array", e3);
    var s3 = new r2(t3, e3, n3, a3);
    return e3.enum.some(i2.deepCompareStrict.bind(null, t3)) || s3.addError({ name: "enum", argument: e3.enum, message: "is not one of enum values: " + e3.enum.map(String).join(",") }), s3;
  }, s2.const = function(t3, e3, n3, o2) {
    if (void 0 === t3)
      return null;
    var a3 = new r2(t3, e3, n3, o2);
    return i2.deepCompareStrict(e3.const, t3) || a3.addError({ name: "const", argument: e3.const, message: "does not exactly match expected constant: " + e3.const }), a3;
  }, s2.not = s2.disallow = function(t3, e3, n3, i3) {
    var o2 = this;
    if (void 0 === t3)
      return null;
    var a3 = new r2(t3, e3, n3, i3), s3 = e3.not || e3.disallow;
    return s3 ? (Array.isArray(s3) || (s3 = [s3]), s3.forEach(function(r3) {
      if (o2.testType(t3, e3, n3, i3, r3)) {
        var s4 = r3 && r3.id && "<" + r3.id + ">" || r3;
        a3.addError({ name: "not", argument: s4, message: "is of prohibited type " + s4 });
      }
    }), a3) : null;
  }, t2.exports = a2;
}, function(t2, e2, n2) {
  function i2(t3) {
    return function(t4) {
      if (Array.isArray(t4)) {
        for (var e3 = 0, n3 = new Array(t4.length); e3 < t4.length; e3++)
          n3[e3] = t4[e3];
        return n3;
      }
    }(t3) || function(t4) {
      if (Symbol.iterator in Object(t4) || "[object Arguments]" === Object.prototype.toString.call(t4))
        return Array.from(t4);
    }(t3) || function() {
      throw new TypeError("Invalid attempt to spread non-iterable instance");
    }();
  }
  t2.exports = function(t3) {
    function e3(t4) {
      for (var e4 = 0, n3 = 0; n3 < t4.length; n3++)
        e4 = (e4 << 5) - e4 + t4.charCodeAt(n3), e4 |= 0;
      return r2.colors[Math.abs(e4) % r2.colors.length];
    }
    function r2(t4) {
      var n3;
      function i3() {
        for (var t5 = arguments.length, e4 = new Array(t5), o2 = 0; o2 < t5; o2++)
          e4[o2] = arguments[o2];
        if (i3.enabled) {
          var a3 = i3, s3 = Number(new Date()), c2 = s3 - (n3 || s3);
          a3.diff = c2, a3.prev = n3, a3.curr = s3, n3 = s3, e4[0] = r2.coerce(e4[0]), "string" != typeof e4[0] && e4.unshift("%O");
          var p2 = 0;
          e4[0] = e4[0].replace(/%([a-zA-Z%])/g, function(t6, n4) {
            if ("%%" === t6)
              return t6;
            p2++;
            var i4 = r2.formatters[n4];
            if ("function" == typeof i4) {
              var o3 = e4[p2];
              t6 = i4.call(a3, o3), e4.splice(p2, 1), p2--;
            }
            return t6;
          }), r2.formatArgs.call(a3, e4);
          var u = a3.log || r2.log;
          u.apply(a3, e4);
        }
      }
      return i3.namespace = t4, i3.enabled = r2.enabled(t4), i3.useColors = r2.useColors(), i3.color = e3(t4), i3.destroy = o, i3.extend = a2, "function" == typeof r2.init && r2.init(i3), r2.instances.push(i3), i3;
    }
    function o() {
      var t4 = r2.instances.indexOf(this);
      return -1 !== t4 && (r2.instances.splice(t4, 1), true);
    }
    function a2(t4, e4) {
      var n3 = r2(this.namespace + (void 0 === e4 ? ":" : e4) + t4);
      return n3.log = this.log, n3;
    }
    function s2(t4) {
      return t4.toString().substring(2, t4.toString().length - 2).replace(/\.\*\?$/, "*");
    }
    return r2.debug = r2, r2.default = r2, r2.coerce = function(t4) {
      if (t4 instanceof Error)
        return t4.stack || t4.message;
      return t4;
    }, r2.disable = function() {
      var t4 = [].concat(i2(r2.names.map(s2)), i2(r2.skips.map(s2).map(function(t5) {
        return "-" + t5;
      }))).join(",");
      return r2.enable(""), t4;
    }, r2.enable = function(t4) {
      var e4;
      r2.save(t4), r2.names = [], r2.skips = [];
      var n3 = ("string" == typeof t4 ? t4 : "").split(/[\s,]+/), i3 = n3.length;
      for (e4 = 0; e4 < i3; e4++)
        n3[e4] && ("-" === (t4 = n3[e4].replace(/\*/g, ".*?"))[0] ? r2.skips.push(new RegExp("^" + t4.substr(1) + "$")) : r2.names.push(new RegExp("^" + t4 + "$")));
      for (e4 = 0; e4 < r2.instances.length; e4++) {
        var o2 = r2.instances[e4];
        o2.enabled = r2.enabled(o2.namespace);
      }
    }, r2.enabled = function(t4) {
      if ("*" === t4[t4.length - 1])
        return true;
      var e4, n3;
      for (e4 = 0, n3 = r2.skips.length; e4 < n3; e4++)
        if (r2.skips[e4].test(t4))
          return false;
      for (e4 = 0, n3 = r2.names.length; e4 < n3; e4++)
        if (r2.names[e4].test(t4))
          return true;
      return false;
    }, r2.humanize = n2(42), Object.keys(t3).forEach(function(e4) {
      r2[e4] = t3[e4];
    }), r2.instances = [], r2.names = [], r2.skips = [], r2.formatters = {}, r2.selectColor = e3, r2.enable(r2.load()), r2;
  };
}, function(t2, e2) {
  function n2(t3) {
    return (n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var i2 = 1e3, r2 = 6e4, o = 60 * r2, a2 = 24 * o;
  function s2(t3, e3, n3, i3) {
    var r3 = e3 >= 1.5 * n3;
    return Math.round(t3 / n3) + " " + i3 + (r3 ? "s" : "");
  }
  t2.exports = function(t3, e3) {
    e3 = e3 || {};
    var c2 = n2(t3);
    if ("string" === c2 && t3.length > 0)
      return function(t4) {
        if ((t4 = String(t4)).length > 100)
          return;
        var e4 = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t4);
        if (!e4)
          return;
        var n3 = parseFloat(e4[1]);
        switch ((e4[2] || "ms").toLowerCase()) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return 315576e5 * n3;
          case "weeks":
          case "week":
          case "w":
            return 6048e5 * n3;
          case "days":
          case "day":
          case "d":
            return n3 * a2;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return n3 * o;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return n3 * r2;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return n3 * i2;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return n3;
          default:
            return;
        }
      }(t3);
    if ("number" === c2 && isFinite(t3))
      return e3.long ? function(t4) {
        var e4 = Math.abs(t4);
        if (e4 >= a2)
          return s2(t4, e4, a2, "day");
        if (e4 >= o)
          return s2(t4, e4, o, "hour");
        if (e4 >= r2)
          return s2(t4, e4, r2, "minute");
        if (e4 >= i2)
          return s2(t4, e4, i2, "second");
        return t4 + " ms";
      }(t3) : function(t4) {
        var e4 = Math.abs(t4);
        if (e4 >= a2)
          return Math.round(t4 / a2) + "d";
        if (e4 >= o)
          return Math.round(t4 / o) + "h";
        if (e4 >= r2)
          return Math.round(t4 / r2) + "m";
        if (e4 >= i2)
          return Math.round(t4 / i2) + "s";
        return t4 + "ms";
      }(t3);
    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t3));
  };
}, function(t2, e2, n2) {
  n2.r(e2), n2.d(e2, "XhrAdapter", function() {
    return l2;
  });
  var i2 = n2(0), r2 = n2(3), o = n2.n(r2), a2 = n2(5), s2 = n2(6), c2 = n2(2), p2 = n2(11), u = o()("fs:request:xhr"), l2 = function() {
    function t3() {
    }
    return t3.prototype.request = function(t4) {
      var e3 = this;
      void 0 === t4.filestackHeaders && (t4.filestackHeaders = true), (t4 = Object(p2.d)(t4)).headers = t4.headers || {};
      var n3 = t4.data, r3 = t4.headers;
      a2.e(n3) && delete r3["Content-Type"];
      var o2 = new XMLHttpRequest();
      if (t4.blobResponse && (o2.responseType = "blob"), t4.auth) {
        if (!t4.auth.username || 0 === t4.auth.username.length || !t4.auth.password || 0 === t4.auth.password.length)
          return Promise.reject(new c2.a("Basic auth: username and password are required " + t4.auth, t4));
        r3.Authorization = "Basic " + btoa(unescape(encodeURIComponent(t4.auth.username + ":" + t4.auth.password))), u("Set request authorization to %s", t4.auth.username + t4.auth.password);
      }
      var l3 = t4.url.trim();
      return /^http(s)?:\/\//.test(l3) || (l3 = "https://" + l3), l3 = Object(p2.a)(l3, t4.params), u("Starting request to %s with options %O", l3, t4), o2.open(t4.method.toUpperCase(), l3, true), o2.timeout = t4.timeout, new Promise(function(a3, f) {
        var d;
        if (t4.cancelToken && (d = function(e4) {
          return o2 && (o2.abort(), o2 = null), u("Request canceled by user %s, config: %O", e4, t4), f(new c2.a("Request aborted. Reason: " + e4, t4, null, c2.b.ABORTED));
        }, t4.cancelToken.once("cancel", d)), o2.onreadystatechange = function() {
          return Object(i2.b)(e3, void 0, void 0, function() {
            var e4, n4, r4;
            return Object(i2.d)(this, function(i3) {
              switch (i3.label) {
                case 0:
                  return o2 && 4 === o2.readyState && (0 !== o2.status || o2.responseURL) ? (e4 = Object(p2.b)(o2.getAllResponseHeaders()), n4 = o2.response, r4 = { data: n4, status: o2.status, statusText: o2.statusText, headers: e4, config: t4 }, o2 = null, [4, Object(p2.c)(r4)]) : [2];
                case 1:
                  return 500 <= (r4 = i3.sent()).status && r4.status <= 599 ? (u("Server error(5xx) - %O", r4), [2, f(new c2.a("Server error " + l3, t4, r4, c2.b.SERVER))]) : 400 <= r4.status && r4.status <= 499 ? (u("Request error(4xx) - %O", r4), [2, f(new c2.a("Request error " + l3, t4, r4, c2.b.REQUEST))]) : (t4.cancelToken && (t4.cancelToken.removeListener("cancel", d), d = null), [2, a3(r4)]);
              }
            });
          });
        }, o2.onabort = function() {
          o2 && (o2 = null, f(new c2.a("Request aborted", t4, null, c2.b.ABORTED)));
        }, o2.onerror = function(e4) {
          o2 = null, u("Request error! %O", e4), f(new c2.a("Network Error", t4, null, c2.b.NETWORK));
        }, o2.ontimeout = function() {
          o2 = null, u("Request timed out. %O", t4), f(new c2.a("Request timeout", t4, null, c2.b.TIMEOUT));
        }, "setRequestHeader" in o2 && r3 && Object.keys(r3).length)
          for (var m in r3)
            void 0 !== r3[m] && (u("Set request header %s to %s", m, r3[m]), o2.setRequestHeader(m, r3[m]));
        "function" == typeof t4.onProgress && [s2.a.POST, s2.a.PUT].indexOf(t4.method) > -1 && (o2.upload ? (u("Bind to upload progress event"), o2.upload.addEventListener("progress", t4.onProgress)) : (u("Bind to progress event"), o2.addEventListener("progress", t4.onProgress))), void 0 === n3 && (n3 = null), o2.send(n3);
      });
    }, t3;
  }();
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(7);
  e2.convertToJson = function t3(e3, n3) {
    var o = {};
    if (!(e3.child && !r2.isEmptyObject(e3.child) || e3.attrsMap && !r2.isEmptyObject(e3.attrsMap)))
      return r2.isExist(e3.val) ? e3.val : "";
    r2.isExist(e3.val) && ("string" != typeof e3.val || "" !== e3.val && e3.val !== n3.cdataPositionChar) && ("strict" === n3.arrayMode ? o[n3.textNodeName] = [e3.val] : o[n3.textNodeName] = e3.val), r2.merge(o, e3.attrsMap, n3.arrayMode);
    for (var a2 = Object.keys(e3.child), s2 = 0; s2 < a2.length; s2++) {
      var c2 = a2[s2];
      if (e3.child[c2] && e3.child[c2].length > 1)
        for (var p2 in o[c2] = [], e3.child[c2])
          o[c2].push(t3(e3.child[c2][p2], n3));
      else if (true === n3.arrayMode) {
        var u = t3(e3.child[c2][0], n3);
        "object" === i2(u) ? o[c2] = [u] : o[c2] = u;
      } else
        "strict" === n3.arrayMode ? o[c2] = [t3(e3.child[c2][0], n3)] : o[c2] = t3(e3.child[c2][0], n3);
    }
    return o;
  };
}, function(t2, e2, n2) {
  t2.exports = function(t3, e3, n3) {
    this.tagname = t3, this.parent = e3, this.child = {}, this.attrsMap = {}, this.val = n3, this.addChild = function(t4) {
      Array.isArray(this.child[t4.tagname]) ? this.child[t4.tagname].push(t4) : this.child[t4.tagname] = [t4];
    };
  };
}, function(t2, e2, n2) {
  var i2 = n2(7), r2 = { allowBooleanAttributes: false }, o = ["allowBooleanAttributes"];
  function a2(t3, e3) {
    for (var n3 = e3; e3 < t3.length; e3++)
      if ("?" != t3[e3] && " " != t3[e3])
        ;
      else {
        var i3 = t3.substr(n3, e3 - n3);
        if (e3 > 5 && "xml" === i3)
          return f("InvalidXml", "XML declaration allowed only at the start of the document.", m(t3, e3));
        if ("?" == t3[e3] && ">" == t3[e3 + 1]) {
          e3++;
          break;
        }
      }
    return e3;
  }
  function s2(t3, e3) {
    if (t3.length > e3 + 5 && "-" === t3[e3 + 1] && "-" === t3[e3 + 2]) {
      for (e3 += 3; e3 < t3.length; e3++)
        if ("-" === t3[e3] && "-" === t3[e3 + 1] && ">" === t3[e3 + 2]) {
          e3 += 2;
          break;
        }
    } else if (t3.length > e3 + 8 && "D" === t3[e3 + 1] && "O" === t3[e3 + 2] && "C" === t3[e3 + 3] && "T" === t3[e3 + 4] && "Y" === t3[e3 + 5] && "P" === t3[e3 + 6] && "E" === t3[e3 + 7]) {
      var n3 = 1;
      for (e3 += 8; e3 < t3.length; e3++)
        if ("<" === t3[e3])
          n3++;
        else if (">" === t3[e3] && 0 === --n3)
          break;
    } else if (t3.length > e3 + 9 && "[" === t3[e3 + 1] && "C" === t3[e3 + 2] && "D" === t3[e3 + 3] && "A" === t3[e3 + 4] && "T" === t3[e3 + 5] && "A" === t3[e3 + 6] && "[" === t3[e3 + 7]) {
      for (e3 += 8; e3 < t3.length; e3++)
        if ("]" === t3[e3] && "]" === t3[e3 + 1] && ">" === t3[e3 + 2]) {
          e3 += 2;
          break;
        }
    }
    return e3;
  }
  e2.validate = function(t3, e3) {
    e3 = i2.buildOptions(e3, r2, o);
    var n3, p3 = [], d2 = false, h2 = false;
    "\uFEFF" === t3[0] && (t3 = t3.substr(1));
    for (var y = 0; y < t3.length; y++) {
      if ("<" !== t3[y]) {
        if (" " === t3[y] || "	" === t3[y] || "\n" === t3[y] || "\r" === t3[y])
          continue;
        return f("InvalidChar", "char '".concat(t3[y], "' is not expected."), m(t3, y));
      }
      if ("?" === t3[++y]) {
        if ((y = a2(t3, ++y)).err)
          return y;
      } else {
        if ("!" === t3[y]) {
          y = s2(t3, y);
          continue;
        }
        var v = false;
        "/" === t3[y] && (v = true, y++);
        for (var g = ""; y < t3.length && ">" !== t3[y] && " " !== t3[y] && "	" !== t3[y] && "\n" !== t3[y] && "\r" !== t3[y]; y++)
          g += t3[y];
        if ("/" === (g = g.trim())[g.length - 1] && (g = g.substring(0, g.length - 1), y--), n3 = g, !i2.isName(n3)) {
          return f("InvalidTag", 0 === g.trim().length ? "There is an unnecessary space between tag name and backward slash '</ ..'." : "Tag '".concat(g, "' is an invalid name."), m(t3, y));
        }
        var b = c2(t3, y);
        if (false === b)
          return f("InvalidAttr", "Attributes for '".concat(g, "' have open quote."), m(t3, y));
        var x = b.value;
        if (y = b.index, "/" === x[x.length - 1]) {
          var k = u(x = x.substring(0, x.length - 1), e3);
          if (true !== k)
            return f(k.err.code, k.err.msg, m(t3, y - x.length + k.err.line));
          d2 = true;
        } else if (v) {
          if (!b.tagClosed)
            return f("InvalidTag", "Closing tag '".concat(g, "' doesn't have proper closing."), m(t3, y));
          if (x.trim().length > 0)
            return f("InvalidTag", "Closing tag '".concat(g, "' can't have attributes or invalid starting."), m(t3, y));
          var w = p3.pop();
          if (g !== w)
            return f("InvalidTag", "Closing tag '".concat(w, "' is expected inplace of '").concat(g, "'."), m(t3, y));
          0 == p3.length && (h2 = true);
        } else {
          var _ = u(x, e3);
          if (true !== _)
            return f(_.err.code, _.err.msg, m(t3, y - x.length + _.err.line));
          if (true === h2)
            return f("InvalidXml", "Multiple possible root nodes found.", m(t3, y));
          p3.push(g), d2 = true;
        }
        for (y++; y < t3.length; y++) {
          if ("<" === t3[y]) {
            if ("!" === t3[y + 1]) {
              y = s2(t3, ++y);
              continue;
            }
            break;
          }
          if ("&" === t3[y]) {
            var j = l2(t3, y);
            if (-1 == j)
              return f("InvalidChar", "char '&' is not expected.", m(t3, y));
            y = j;
          }
        }
        "<" === t3[y] && y--;
      }
    }
    return d2 ? !(p3.length > 0) || f("InvalidXml", "Invalid '".concat(JSON.stringify(p3, null, 4).replace(/\r?\n/g, ""), "' found."), 1) : f("InvalidXml", "Start tag expected.", 1);
  };
  function c2(t3, e3) {
    for (var n3 = "", i3 = "", r3 = false; e3 < t3.length; e3++) {
      if ('"' === t3[e3] || "'" === t3[e3])
        if ("" === i3)
          i3 = t3[e3];
        else {
          if (i3 !== t3[e3])
            continue;
          i3 = "";
        }
      else if (">" === t3[e3] && "" === i3) {
        r3 = true;
        break;
      }
      n3 += t3[e3];
    }
    return "" === i3 && { value: n3, index: e3, tagClosed: r3 };
  }
  var p2 = new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`, "g");
  function u(t3, e3) {
    for (var n3 = i2.getAllMatches(t3, p2), r3 = {}, o2 = 0; o2 < n3.length; o2++) {
      if (0 === n3[o2][1].length)
        return f("InvalidAttr", "Attribute '".concat(n3[o2][2], "' has no space in starting."), h(t3, n3[o2][0]));
      if (void 0 === n3[o2][3] && !e3.allowBooleanAttributes)
        return f("InvalidAttr", "boolean attribute '".concat(n3[o2][2], "' is not allowed."), h(t3, n3[o2][0]));
      var a3 = n3[o2][2];
      if (!d(a3))
        return f("InvalidAttr", "Attribute '".concat(a3, "' is an invalid name."), h(t3, n3[o2][0]));
      if (r3.hasOwnProperty(a3))
        return f("InvalidAttr", "Attribute '".concat(a3, "' is repeated."), h(t3, n3[o2][0]));
      r3[a3] = 1;
    }
    return true;
  }
  function l2(t3, e3) {
    if (";" === t3[++e3])
      return -1;
    if ("#" === t3[e3])
      return function(t4, e4) {
        var n4 = /\d/;
        for ("x" === t4[e4] && (e4++, n4 = /[\da-fA-F]/); e4 < t4.length; e4++) {
          if (";" === t4[e4])
            return e4;
          if (!t4[e4].match(n4))
            break;
        }
        return -1;
      }(t3, ++e3);
    for (var n3 = 0; e3 < t3.length; e3++, n3++)
      if (!(t3[e3].match(/\w/) && n3 < 20)) {
        if (";" === t3[e3])
          break;
        return -1;
      }
    return e3;
  }
  function f(t3, e3, n3) {
    return { err: { code: t3, msg: e3, line: n3 } };
  }
  function d(t3) {
    return i2.isName(t3);
  }
  function m(t3, e3) {
    return t3.substring(0, e3).split(/\r?\n/).length;
  }
  function h(t3, e3) {
    return t3.indexOf(e3) + e3.length;
  }
}, function(t2, e2, n2) {
  var i2 = function(t3) {
    return String.fromCharCode(t3);
  }, r2 = { nilChar: i2(176), missingChar: i2(201), nilPremitive: i2(175), missingPremitive: i2(200), emptyChar: i2(178), emptyValue: i2(177), boundryChar: i2(179), objStart: i2(198), arrStart: i2(204), arrayEnd: i2(185) }, o = [r2.nilChar, r2.nilPremitive, r2.missingChar, r2.missingPremitive, r2.boundryChar, r2.emptyChar, r2.emptyValue, r2.arrayEnd, r2.objStart, r2.arrStart], a2 = function t3(e3, n3, i3) {
    if ("string" == typeof n3)
      return e3 && e3[0] && void 0 !== e3[0].val ? s2(e3[0].val) : s2(e3);
    var o2, a3 = void 0 === (o2 = e3) ? r2.missingChar : null === o2 ? r2.nilChar : !(o2.child && 0 === Object.keys(o2.child).length && (!o2.attrsMap || 0 === Object.keys(o2.attrsMap).length)) || r2.emptyChar;
    if (true === a3) {
      var p3 = "";
      if (Array.isArray(n3)) {
        p3 += r2.arrStart;
        var u2 = n3[0], l3 = e3.length;
        if ("string" == typeof u2)
          for (var f = 0; f < l3; f++) {
            var d = s2(e3[f].val);
            p3 = c2(p3, d);
          }
        else
          for (var m = 0; m < l3; m++) {
            var h = t3(e3[m], u2, i3);
            p3 = c2(p3, h);
          }
        p3 += r2.arrayEnd;
      } else {
        p3 += r2.objStart;
        var y = Object.keys(n3);
        for (var v in Array.isArray(e3) && (e3 = e3[0]), y) {
          var g = y[v], b = void 0;
          b = !i3.ignoreAttributes && e3.attrsMap && e3.attrsMap[g] ? t3(e3.attrsMap[g], n3[g], i3) : g === i3.textNodeName ? t3(e3.val, n3[g], i3) : t3(e3.child[g], n3[g], i3), p3 = c2(p3, b);
        }
      }
      return p3;
    }
    return a3;
  }, s2 = function(t3) {
    switch (t3) {
      case void 0:
        return r2.missingPremitive;
      case null:
        return r2.nilPremitive;
      case "":
        return r2.emptyValue;
      default:
        return t3;
    }
  }, c2 = function(t3, e3) {
    return p2(e3[0]) || p2(t3[t3.length - 1]) || (t3 += r2.boundryChar), t3 + e3;
  }, p2 = function(t3) {
    return -1 !== o.indexOf(t3);
  };
  var u = n2(15), l2 = n2(7).buildOptions;
  e2.convert2nimn = function(t3, e3, n3) {
    return n3 = l2(n3, u.defaultOptions, u.props), a2(t3, e3, n3);
  };
}, function(t2, e2, n2) {
  var i2 = n2(7), r2 = n2(7).buildOptions, o = n2(15), a2 = function t3(e3, n3, r3) {
    for (var o2, a3 = "{", s2 = Object.keys(e3.child), c2 = 0; c2 < s2.length; c2++) {
      var p2 = s2[c2];
      if (e3.child[p2] && e3.child[p2].length > 1) {
        for (var u in a3 += '"' + p2 + '" : [ ', e3.child[p2])
          a3 += t3(e3.child[p2][u], n3) + " , ";
        a3 = a3.substr(0, a3.length - 1) + " ] ";
      } else
        a3 += '"' + p2 + '" : ' + t3(e3.child[p2][0], n3) + " ,";
    }
    return i2.merge(a3, e3.attrsMap), i2.isEmptyObject(a3) ? i2.isExist(e3.val) ? e3.val : "" : (i2.isExist(e3.val) && ("string" != typeof e3.val || "" !== e3.val && e3.val !== n3.cdataPositionChar) && (a3 += '"' + n3.textNodeName + '" : ' + (true !== (o2 = e3.val) && false !== o2 && isNaN(o2) ? '"' + o2 + '"' : o2)), "," === a3[a3.length - 1] && (a3 = a3.substr(0, a3.length - 2)), a3 + "}");
  };
  e2.convertToJsonString = function(t3, e3) {
    return (e3 = r2(e3, o.defaultOptions, o.props)).indentBy = e3.indentBy || "", a2(t3, e3);
  };
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var r2 = n2(7).buildOptions, o = { attributeNamePrefix: "@_", attrNodeName: false, textNodeName: "#text", ignoreAttributes: true, cdataTagName: false, cdataPositionChar: "\\c", format: false, indentBy: "  ", supressEmptyNode: false, tagValueProcessor: function(t3) {
    return t3;
  }, attrValueProcessor: function(t3) {
    return t3;
  } }, a2 = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "cdataTagName", "cdataPositionChar", "format", "indentBy", "supressEmptyNode", "tagValueProcessor", "attrValueProcessor"];
  function s2(t3) {
    this.options = r2(t3, o, a2), this.options.ignoreAttributes || this.options.attrNodeName ? this.isAttribute = function() {
      return false;
    } : (this.attrPrefixLen = this.options.attributeNamePrefix.length, this.isAttribute = h), this.options.cdataTagName ? this.isCDATA = y : this.isCDATA = function() {
      return false;
    }, this.replaceCDATAstr = c2, this.replaceCDATAarr = p2, this.options.format ? (this.indentate = m, this.tagEndChar = ">\n", this.newLine = "\n") : (this.indentate = function() {
      return "";
    }, this.tagEndChar = ">", this.newLine = ""), this.options.supressEmptyNode ? (this.buildTextNode = d, this.buildObjNode = l2) : (this.buildTextNode = f, this.buildObjNode = u), this.buildTextValNode = f, this.buildObjectNode = u;
  }
  function c2(t3, e3) {
    return t3 = this.options.tagValueProcessor("" + t3), "" === this.options.cdataPositionChar || "" === t3 ? t3 + "<![CDATA[" + e3 + "]]" + this.tagEndChar : t3.replace(this.options.cdataPositionChar, "<![CDATA[" + e3 + "]]" + this.tagEndChar);
  }
  function p2(t3, e3) {
    if (t3 = this.options.tagValueProcessor("" + t3), "" === this.options.cdataPositionChar || "" === t3)
      return t3 + "<![CDATA[" + e3.join("]]><![CDATA[") + "]]" + this.tagEndChar;
    for (var n3 in e3)
      t3 = t3.replace(this.options.cdataPositionChar, "<![CDATA[" + e3[n3] + "]]>");
    return t3 + this.newLine;
  }
  function u(t3, e3, n3, i3) {
    return n3 && !t3.includes("<") ? this.indentate(i3) + "<" + e3 + n3 + ">" + t3 + "</" + e3 + this.tagEndChar : this.indentate(i3) + "<" + e3 + n3 + this.tagEndChar + t3 + this.indentate(i3) + "</" + e3 + this.tagEndChar;
  }
  function l2(t3, e3, n3, i3) {
    return "" !== t3 ? this.buildObjectNode(t3, e3, n3, i3) : this.indentate(i3) + "<" + e3 + n3 + "/" + this.tagEndChar;
  }
  function f(t3, e3, n3, i3) {
    return this.indentate(i3) + "<" + e3 + n3 + ">" + this.options.tagValueProcessor(t3) + "</" + e3 + this.tagEndChar;
  }
  function d(t3, e3, n3, i3) {
    return "" !== t3 ? this.buildTextValNode(t3, e3, n3, i3) : this.indentate(i3) + "<" + e3 + n3 + "/" + this.tagEndChar;
  }
  function m(t3) {
    return this.options.indentBy.repeat(t3);
  }
  function h(t3) {
    return !!t3.startsWith(this.options.attributeNamePrefix) && t3.substr(this.attrPrefixLen);
  }
  function y(t3) {
    return t3 === this.options.cdataTagName;
  }
  s2.prototype.parse = function(t3) {
    return this.j2x(t3, 0).val;
  }, s2.prototype.j2x = function(t3, e3) {
    for (var n3 = "", r3 = "", o2 = Object.keys(t3), a3 = o2.length, s3 = 0; s3 < a3; s3++) {
      var c3 = o2[s3];
      if (void 0 === t3[c3])
        ;
      else if (null === t3[c3])
        r3 += this.indentate(e3) + "<" + c3 + "/" + this.tagEndChar;
      else if (t3[c3] instanceof Date)
        r3 += this.buildTextNode(t3[c3], c3, "", e3);
      else if ("object" !== i2(t3[c3])) {
        var p3 = this.isAttribute(c3);
        p3 ? n3 += " " + p3 + '="' + this.options.attrValueProcessor("" + t3[c3]) + '"' : this.isCDATA(c3) ? t3[this.options.textNodeName] ? r3 += this.replaceCDATAstr(t3[this.options.textNodeName], t3[c3]) : r3 += this.replaceCDATAstr("", t3[c3]) : c3 === this.options.textNodeName ? t3[this.options.cdataTagName] || (r3 += this.options.tagValueProcessor("" + t3[c3])) : r3 += this.buildTextNode(t3[c3], c3, "", e3);
      } else if (Array.isArray(t3[c3]))
        if (this.isCDATA(c3))
          r3 += this.indentate(e3), t3[this.options.textNodeName] ? r3 += this.replaceCDATAarr(t3[this.options.textNodeName], t3[c3]) : r3 += this.replaceCDATAarr("", t3[c3]);
        else
          for (var u2 = t3[c3].length, l3 = 0; l3 < u2; l3++) {
            var f2 = t3[c3][l3];
            if (void 0 === f2)
              ;
            else if (null === f2)
              r3 += this.indentate(e3) + "<" + c3 + "/" + this.tagEndChar;
            else if ("object" === i2(f2)) {
              var d2 = this.j2x(f2, e3 + 1);
              r3 += this.buildObjNode(d2.val, c3, d2.attrStr, e3);
            } else
              r3 += this.buildTextNode(f2, c3, "", e3);
          }
      else if (this.options.attrNodeName && c3 === this.options.attrNodeName)
        for (var m2 = Object.keys(t3[c3]), h2 = m2.length, y2 = 0; y2 < h2; y2++)
          n3 += " " + m2[y2] + '="' + this.options.attrValueProcessor("" + t3[c3][m2[y2]]) + '"';
      else {
        var v = this.j2x(t3[c3], e3 + 1);
        r3 += this.buildObjNode(v.val, c3, v.attrStr, e3);
      }
    }
    return { attrStr: n3, val: r3 };
  }, t2.exports = s2;
}, function(t2, e2, n2) {
  var i2 = Object.prototype.hasOwnProperty, r2 = "~";
  function o() {
  }
  function a2(t3, e3, n3) {
    this.fn = t3, this.context = e3, this.once = n3 || false;
  }
  function s2(t3, e3, n3, i3, o2) {
    if ("function" != typeof n3)
      throw new TypeError("The listener must be a function");
    var s3 = new a2(n3, i3 || t3, o2), c3 = r2 ? r2 + e3 : e3;
    return t3._events[c3] ? t3._events[c3].fn ? t3._events[c3] = [t3._events[c3], s3] : t3._events[c3].push(s3) : (t3._events[c3] = s3, t3._eventsCount++), t3;
  }
  function c2(t3, e3) {
    0 == --t3._eventsCount ? t3._events = new o() : delete t3._events[e3];
  }
  function p2() {
    this._events = new o(), this._eventsCount = 0;
  }
  Object.create && (o.prototype = /* @__PURE__ */ Object.create(null), new o().__proto__ || (r2 = false)), p2.prototype.eventNames = function() {
    var t3, e3, n3 = [];
    if (0 === this._eventsCount)
      return n3;
    for (e3 in t3 = this._events)
      i2.call(t3, e3) && n3.push(r2 ? e3.slice(1) : e3);
    return Object.getOwnPropertySymbols ? n3.concat(Object.getOwnPropertySymbols(t3)) : n3;
  }, p2.prototype.listeners = function(t3) {
    var e3 = r2 ? r2 + t3 : t3, n3 = this._events[e3];
    if (!n3)
      return [];
    if (n3.fn)
      return [n3.fn];
    for (var i3 = 0, o2 = n3.length, a3 = new Array(o2); i3 < o2; i3++)
      a3[i3] = n3[i3].fn;
    return a3;
  }, p2.prototype.listenerCount = function(t3) {
    var e3 = r2 ? r2 + t3 : t3, n3 = this._events[e3];
    return n3 ? n3.fn ? 1 : n3.length : 0;
  }, p2.prototype.emit = function(t3, e3, n3, i3, o2, a3) {
    var s3 = r2 ? r2 + t3 : t3;
    if (!this._events[s3])
      return false;
    var c3, p3, u = this._events[s3], l2 = arguments.length;
    if (u.fn) {
      switch (u.once && this.removeListener(t3, u.fn, void 0, true), l2) {
        case 1:
          return u.fn.call(u.context), true;
        case 2:
          return u.fn.call(u.context, e3), true;
        case 3:
          return u.fn.call(u.context, e3, n3), true;
        case 4:
          return u.fn.call(u.context, e3, n3, i3), true;
        case 5:
          return u.fn.call(u.context, e3, n3, i3, o2), true;
        case 6:
          return u.fn.call(u.context, e3, n3, i3, o2, a3), true;
      }
      for (p3 = 1, c3 = new Array(l2 - 1); p3 < l2; p3++)
        c3[p3 - 1] = arguments[p3];
      u.fn.apply(u.context, c3);
    } else {
      var f, d = u.length;
      for (p3 = 0; p3 < d; p3++)
        switch (u[p3].once && this.removeListener(t3, u[p3].fn, void 0, true), l2) {
          case 1:
            u[p3].fn.call(u[p3].context);
            break;
          case 2:
            u[p3].fn.call(u[p3].context, e3);
            break;
          case 3:
            u[p3].fn.call(u[p3].context, e3, n3);
            break;
          case 4:
            u[p3].fn.call(u[p3].context, e3, n3, i3);
            break;
          default:
            if (!c3)
              for (f = 1, c3 = new Array(l2 - 1); f < l2; f++)
                c3[f - 1] = arguments[f];
            u[p3].fn.apply(u[p3].context, c3);
        }
    }
    return true;
  }, p2.prototype.on = function(t3, e3, n3) {
    return s2(this, t3, e3, n3, false);
  }, p2.prototype.once = function(t3, e3, n3) {
    return s2(this, t3, e3, n3, true);
  }, p2.prototype.removeListener = function(t3, e3, n3, i3) {
    var o2 = r2 ? r2 + t3 : t3;
    if (!this._events[o2])
      return this;
    if (!e3)
      return c2(this, o2), this;
    var a3 = this._events[o2];
    if (a3.fn)
      a3.fn !== e3 || i3 && !a3.once || n3 && a3.context !== n3 || c2(this, o2);
    else {
      for (var s3 = 0, p3 = [], u = a3.length; s3 < u; s3++)
        (a3[s3].fn !== e3 || i3 && !a3[s3].once || n3 && a3[s3].context !== n3) && p3.push(a3[s3]);
      p3.length ? this._events[o2] = 1 === p3.length ? p3[0] : p3 : c2(this, o2);
    }
    return this;
  }, p2.prototype.removeAllListeners = function(t3) {
    var e3;
    return t3 ? (e3 = r2 ? r2 + t3 : t3, this._events[e3] && c2(this, e3)) : (this._events = new o(), this._eventsCount = 0), this;
  }, p2.prototype.off = p2.prototype.removeListener, p2.prototype.addListener = p2.prototype.on, p2.prefixed = r2, p2.EventEmitter = p2, t2.exports = p2;
}, function(t2, e2) {
  t2.exports = function(t3) {
    if (!t3.webpackPolyfill) {
      var e3 = Object.create(t3);
      e3.children || (e3.children = []), Object.defineProperty(e3, "loaded", { enumerable: true, get: function() {
        return e3.l;
      } }), Object.defineProperty(e3, "id", { enumerable: true, get: function() {
        return e3.i;
      } }), Object.defineProperty(e3, "exports", { enumerable: true }), e3.webpackPolyfill = 1;
    }
    return e3;
  };
}, function(t2, e2, n2) {
  function i2(t3) {
    return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  n2.r(e2), n2.d(e2, "Filestack", function() {
    return Se;
  }), n2.d(e2, "init", function() {
    return Ee;
  }), n2.d(e2, "version", function() {
    return Ce;
  }), n2.d(e2, "EAlignOptions", function() {
    return Ft;
  }), n2.d(e2, "EAlignFacesOptions", function() {
    return It;
  }), n2.d(e2, "EFitOptions", function() {
    return zt;
  }), n2.d(e2, "EBlurMode", function() {
    return Nt;
  }), n2.d(e2, "EShapeType", function() {
    return Mt;
  }), n2.d(e2, "ENoiseType", function() {
    return Rt;
  }), n2.d(e2, "EStyleType", function() {
    return $t;
  }), n2.d(e2, "EColorspaceType", function() {
    return qt;
  }), n2.d(e2, "ECropfacesType", function() {
    return Ut;
  }), n2.d(e2, "ESmartCropMode", function() {
    return Dt;
  }), n2.d(e2, "EImageWatermarkPosition", function() {
    return Lt;
  }), n2.d(e2, "EVideoTypes", function() {
    return Bt;
  }), n2.d(e2, "EUrlscreenshotAgent", function() {
    return Vt;
  }), n2.d(e2, "EUrlscreenshotMode", function() {
    return Ht;
  }), n2.d(e2, "EUrlscreenshotOrientation", function() {
    return Wt;
  }), n2.d(e2, "EVideoLocations", function() {
    return Zt;
  }), n2.d(e2, "EVideoAccess", function() {
    return Jt;
  }), n2.d(e2, "EVideoAccessMode", function() {
    return Yt;
  }), n2.d(e2, "transform", function() {
    return Gt;
  }), n2.d(e2, "Align", function() {
    return Y;
  }), n2.d(e2, "FitOptions", function() {
    return G;
  }), n2.d(e2, "BlurMode", function() {
    return K;
  }), n2.d(e2, "ShapeType", function() {
    return Q;
  }), n2.d(e2, "NoiseType", function() {
    return X;
  }), n2.d(e2, "StyleType", function() {
    return tt;
  }), n2.d(e2, "ColorspaceType", function() {
    return et;
  }), n2.d(e2, "CropfacesType", function() {
    return nt;
  }), n2.d(e2, "ImageWatermarkPosition", function() {
    return it;
  }), n2.d(e2, "SmartCropMode", function() {
    return rt;
  }), n2.d(e2, "VideoTypes", function() {
    return ot;
  }), n2.d(e2, "URLScreenshotAgent", function() {
    return at;
  }), n2.d(e2, "URLScreenshotMode", function() {
    return st;
  }), n2.d(e2, "URLScreenshotOrientation", function() {
    return ct;
  }), n2.d(e2, "Locations", function() {
    return pt;
  }), n2.d(e2, "VideoAccess", function() {
    return ut;
  }), n2.d(e2, "VideoAccessMode", function() {
    return lt;
  }), n2.d(e2, "EnhancePreset", function() {
    return ft;
  }), n2.d(e2, "Filelink", function() {
    return ht;
  }), n2.d(e2, "FilestackErrorType", function() {
    return R;
  }), n2.d(e2, "FsHttpMethod", function() {
    return wt.a;
  }), n2.d(e2, "FsRequest", function() {
    return Et;
  }), n2.d(e2, "FsRequestErrorCode", function() {
    return Ct.b;
  }), n2.d(e2, "FsRequestError", function() {
    return Ct.a;
  }), n2.d(e2, "FsCancelToken", function() {
    return Tt;
  }), n2.d(e2, "resolveCdnUrl", function() {
    return H.resolveCdnUrl;
  }), n2.d(e2, "resolveHost", function() {
    return H.resolveHost;
  }), n2.d(e2, "removeEmpty", function() {
    return H.removeEmpty;
  }), n2.d(e2, "uniqueTime", function() {
    return H.uniqueTime;
  }), n2.d(e2, "uniqueId", function() {
    return H.uniqueId;
  }), n2.d(e2, "extensionToMime", function() {
    return H.extensionToMime;
  }), n2.d(e2, "sanitizeName", function() {
    return H.sanitizeName;
  }), n2.d(e2, "filterObject", function() {
    return H.filterObject;
  }), n2.d(e2, "cleanUpCallbacks", function() {
    return H.cleanUpCallbacks;
  }), n2.d(e2, "md5", function() {
    return H.md5;
  }), n2.d(e2, "b64", function() {
    return H.b64;
  }), n2.d(e2, "getVersion", function() {
    return H.getVersion;
  }), n2.d(e2, "isMobile", function() {
    return H.isMobile;
  }), n2.d(e2, "isFacebook", function() {
    return H.isFacebook;
  }), n2.d(e2, "TransformSchema", function() {
    return U;
  }), n2.d(e2, "getSecurity", function() {
    return p2;
  }), n2.d(e2, "validateWebhookSignature", function() {
    return u;
  }), n2.d(e2, "Client", function() {
    return Oe;
  }), n2.d(e2, "FilestackError", function() {
    return q;
  }), n2.d(e2, "PickerDisplayMode", function() {
    return we;
  }), n2.d(e2, "getMimetype", function() {
    return H.getMimetype;
  }), n2.d(e2, "PrefetchEvents", function() {
    return ve;
  });
  var r2, o = function(t3) {
    var e3 = {};
    function n3(i3) {
      if (e3[i3])
        return e3[i3].exports;
      var r3 = e3[i3] = { i: i3, l: false, exports: {} };
      return t3[i3].call(r3.exports, r3, r3.exports, n3), r3.l = true, r3.exports;
    }
    return n3.m = t3, n3.c = e3, n3.d = function(t4, e4, i3) {
      n3.o(t4, e4) || Object.defineProperty(t4, e4, { enumerable: true, get: i3 });
    }, n3.r = function(t4) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t4, "__esModule", { value: true });
    }, n3.t = function(t4, e4) {
      if (1 & e4 && (t4 = n3(t4)), 8 & e4)
        return t4;
      if (4 & e4 && "object" == i2(t4) && t4 && t4.__esModule)
        return t4;
      var r3 = /* @__PURE__ */ Object.create(null);
      if (n3.r(r3), Object.defineProperty(r3, "default", { enumerable: true, value: t4 }), 2 & e4 && "string" != typeof t4)
        for (var o2 in t4)
          n3.d(r3, o2, function(e5) {
            return t4[e5];
          }.bind(null, o2));
      return r3;
    }, n3.n = function(t4) {
      var e4 = t4 && t4.__esModule ? function() {
        return t4.default;
      } : function() {
        return t4;
      };
      return n3.d(e4, "a", e4), e4;
    }, n3.o = function(t4, e4) {
      return Object.prototype.hasOwnProperty.call(t4, e4);
    }, n3.p = "", n3(n3.s = 0);
  }([function(t3, e3, n3) {
    n3.r(e3), n3.d(e3, "loadModules", function() {
      return c3;
    }), n3.d(e3, "loadModule", function() {
      return p3;
    }), n3.d(e3, "registerModule", function() {
      return u2;
    }), n3.d(e3, "loadCss", function() {
      return l3;
    }), n3.d(e3, "FILESTACK_MODULES", function() {
      return i3;
    });
    var i3, r3 = {}, o2 = function() {
      var t4, e4 = (t4 = "undefined" == typeof window ? r3 : window).filestackInternals;
      return e4 || (e4 = { modules: {} }, t4.filestackInternals = e4), e4.modules || (e4.modules = {}), e4;
    }(), a3 = o2 && o2.modules, s3 = function(t4, e4, n4) {
      t4.detachEvent ? t4.detachEvent("onreadystatechange", e4) : t4.removeEventListener(n4, e4, false);
    }, c3 = function(t4) {
      return Promise.all(t4.map(function(t5) {
        var e4 = t5.id, n4 = t5.url;
        return p3(e4, n4);
      })).then(function(e4) {
        var n4 = {};
        return e4.forEach(function(e5, i4) {
          var r4 = t4[i4];
          n4[r4.id] = e5;
        }), n4;
      });
    }, p3 = function(t4, e4) {
      if ("undefined" == typeof window)
        return Promise.reject(new Error("Load module is working only on browser env"));
      if (!t4)
        throw new Error("Module id is required");
      var n4 = a3[t4 = "fs-loader-" + t4];
      return n4 || (a3[t4] = {}, n4 = a3[t4]), n4.instance ? Promise.resolve(n4.instance) : n4.promise ? n4.promise : n4.promise = new Promise(function(n5, i4) {
        var r4 = function e5(r5) {
          if ("load" === r5.type || /^(complete|loaded)$/.test((r5.currentTarget || r5.srcElement).readyState)) {
            var o4 = r5.currentTarget || r5.srcElement;
            s3(o4, e5, "load"), s3(o4, i4, "error"), setTimeout(function() {
              return n5(a3[t4] ? a3[t4].instance : void 0);
            }, 10);
          }
        }, o3 = document.createElement("script");
        o3.id = t4, !o3.attachEvent || o3.attachEvent.toString && o3.attachEvent.toString().indexOf("[native code") < 0 ? (o3.addEventListener("load", r4, false), o3.addEventListener("onerror", i4, false)) : o3.attachEvent("onreadystatechange", r4), o3.setAttribute("crossorigin", "anonymous"), o3.setAttribute("charset", "utf-8"), o3.setAttribute("async", "true"), o3.src = e4, document.body.appendChild(o3);
      });
    }, u2 = function(t4, e4, n4) {
      if ("undefined" != typeof window) {
        if (!t4)
          throw new Error("Module id is required");
        if (!a3)
          throw new Error("Loader is not initialized");
        a3[t4 = "fs-loader-" + t4] && (a3[t4] = { instance: e4, metadata: n4 });
      }
    }, l3 = function(t4) {
      return null !== document.querySelector('link[href="'.concat(t4, '"]')) ? Promise.resolve() : new Promise(function(e4) {
        var n4 = document.getElementsByTagName("head")[0], i4 = document.createElement("link");
        i4.rel = "stylesheet", i4.href = t4, i4.addEventListener("load", function t5() {
          e4(), i4.removeEventListener("load", t5);
        }), n4.appendChild(i4);
      });
    };
    !function(t4) {
      t4.FILESTACK_SDK = "filestack-sdk", t4.TRANSFORMS_UI = "transforms-ui", t4.PICKER = "picker";
    }(i3 || (i3 = {}));
  }]), a2 = (o.loadModules, o.loadModule), s2 = o.registerModule, c2 = (o.loadCss, o.FILESTACK_MODULES), p2 = function(t3, e3) {
    throw new Error("getSecurity is only supported in nodejs");
  }, u = function(t3, e3, n3) {
    throw new Error("validateWebhookSignature is only supported in nodejs");
  }, l2 = n2(0), f = n2(8);
  !function(t3) {
    t3.Ok = "ok", t3.Exited = "exited", t3.Crashed = "crashed", t3.Abnormal = "abnormal";
  }(r2 || (r2 = {}));
  var d = n2(9), m = n2(54), h = Object(d.b)(), y = "Sentry Logger ", v = function() {
    function t3() {
      this._enabled = false;
    }
    return t3.prototype.disable = function() {
      this._enabled = false;
    }, t3.prototype.enable = function() {
      this._enabled = true;
    }, t3.prototype.log = function() {
      for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
        t4[e3] = arguments[e3];
      this._enabled && Object(d.a)(function() {
        h.console.log(y + "[Log]: " + t4.join(" "));
      });
    }, t3.prototype.warn = function() {
      for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
        t4[e3] = arguments[e3];
      this._enabled && Object(d.a)(function() {
        h.console.warn(y + "[Warn]: " + t4.join(" "));
      });
    }, t3.prototype.error = function() {
      for (var t4 = [], e3 = 0; e3 < arguments.length; e3++)
        t4[e3] = arguments[e3];
      this._enabled && Object(d.a)(function() {
        h.console.error(y + "[Error]: " + t4.join(" "));
      });
    }, t3;
  }();
  h.__SENTRY__ = h.__SENTRY__ || {};
  var g, b = h.__SENTRY__.logger || (h.__SENTRY__.logger = new v()), x = n2(13), k = n2(4);
  !function(t3) {
    t3.PENDING = "PENDING", t3.RESOLVED = "RESOLVED", t3.REJECTED = "REJECTED";
  }(g || (g = {}));
  var w = function() {
    function t3(t4) {
      var e3 = this;
      this._state = g.PENDING, this._handlers = [], this._resolve = function(t5) {
        e3._setResult(g.RESOLVED, t5);
      }, this._reject = function(t5) {
        e3._setResult(g.REJECTED, t5);
      }, this._setResult = function(t5, n3) {
        e3._state === g.PENDING && (Object(k.j)(n3) ? n3.then(e3._resolve, e3._reject) : (e3._state = t5, e3._value = n3, e3._executeHandlers()));
      }, this._attachHandler = function(t5) {
        e3._handlers = e3._handlers.concat(t5), e3._executeHandlers();
      }, this._executeHandlers = function() {
        if (e3._state !== g.PENDING) {
          var t5 = e3._handlers.slice();
          e3._handlers = [], t5.forEach(function(t6) {
            t6.done || (e3._state === g.RESOLVED && t6.onfulfilled && t6.onfulfilled(e3._value), e3._state === g.REJECTED && t6.onrejected && t6.onrejected(e3._value), t6.done = true);
          });
        }
      };
      try {
        t4(this._resolve, this._reject);
      } catch (t5) {
        this._reject(t5);
      }
    }
    return t3.resolve = function(e3) {
      return new t3(function(t4) {
        t4(e3);
      });
    }, t3.reject = function(e3) {
      return new t3(function(t4, n3) {
        n3(e3);
      });
    }, t3.all = function(e3) {
      return new t3(function(n3, i3) {
        if (Array.isArray(e3))
          if (0 !== e3.length) {
            var r3 = e3.length, o2 = [];
            e3.forEach(function(e4, a3) {
              t3.resolve(e4).then(function(t4) {
                o2[a3] = t4, 0 === (r3 -= 1) && n3(o2);
              }).then(null, i3);
            });
          } else
            n3([]);
        else
          i3(new TypeError("Promise.all requires an array as input."));
      });
    }, t3.prototype.then = function(e3, n3) {
      var i3 = this;
      return new t3(function(t4, r3) {
        i3._attachHandler({ done: false, onfulfilled: function(n4) {
          if (e3)
            try {
              return void t4(e3(n4));
            } catch (t5) {
              return void r3(t5);
            }
          else
            t4(n4);
        }, onrejected: function(e4) {
          if (n3)
            try {
              return void t4(n3(e4));
            } catch (t5) {
              return void r3(t5);
            }
          else
            r3(e4);
        } });
      });
    }, t3.prototype.catch = function(t4) {
      return this.then(function(t5) {
        return t5;
      }, t4);
    }, t3.prototype.finally = function(e3) {
      var n3 = this;
      return new t3(function(t4, i3) {
        var r3, o2;
        return n3.then(function(t5) {
          o2 = false, r3 = t5, e3 && e3();
        }, function(t5) {
          o2 = true, r3 = t5, e3 && e3();
        }).then(function() {
          o2 ? i3(r3) : t4(r3);
        });
      });
    }, t3.prototype.toString = function() {
      return "[object SyncPromise]";
    }, t3;
  }(), _ = function() {
    function t3() {
      this._notifyingListeners = false, this._scopeListeners = [], this._eventProcessors = [], this._breadcrumbs = [], this._user = {}, this._tags = {}, this._extra = {}, this._contexts = {};
    }
    return t3.clone = function(e3) {
      var n3 = new t3();
      return e3 && (n3._breadcrumbs = Object(l2.e)(e3._breadcrumbs), n3._tags = Object(l2.a)({}, e3._tags), n3._extra = Object(l2.a)({}, e3._extra), n3._contexts = Object(l2.a)({}, e3._contexts), n3._user = e3._user, n3._level = e3._level, n3._span = e3._span, n3._session = e3._session, n3._transactionName = e3._transactionName, n3._fingerprint = e3._fingerprint, n3._eventProcessors = Object(l2.e)(e3._eventProcessors)), n3;
    }, t3.prototype.addScopeListener = function(t4) {
      this._scopeListeners.push(t4);
    }, t3.prototype.addEventProcessor = function(t4) {
      return this._eventProcessors.push(t4), this;
    }, t3.prototype.setUser = function(t4) {
      return this._user = t4 || {}, this._session && this._session.update({ user: t4 }), this._notifyScopeListeners(), this;
    }, t3.prototype.getUser = function() {
      return this._user;
    }, t3.prototype.setTags = function(t4) {
      return this._tags = Object(l2.a)(Object(l2.a)({}, this._tags), t4), this._notifyScopeListeners(), this;
    }, t3.prototype.setTag = function(t4, e3) {
      var n3;
      return this._tags = Object(l2.a)(Object(l2.a)({}, this._tags), ((n3 = {})[t4] = e3, n3)), this._notifyScopeListeners(), this;
    }, t3.prototype.setExtras = function(t4) {
      return this._extra = Object(l2.a)(Object(l2.a)({}, this._extra), t4), this._notifyScopeListeners(), this;
    }, t3.prototype.setExtra = function(t4, e3) {
      var n3;
      return this._extra = Object(l2.a)(Object(l2.a)({}, this._extra), ((n3 = {})[t4] = e3, n3)), this._notifyScopeListeners(), this;
    }, t3.prototype.setFingerprint = function(t4) {
      return this._fingerprint = t4, this._notifyScopeListeners(), this;
    }, t3.prototype.setLevel = function(t4) {
      return this._level = t4, this._notifyScopeListeners(), this;
    }, t3.prototype.setTransactionName = function(t4) {
      return this._transactionName = t4, this._notifyScopeListeners(), this;
    }, t3.prototype.setTransaction = function(t4) {
      return this.setTransactionName(t4);
    }, t3.prototype.setContext = function(t4, e3) {
      var n3;
      return null === e3 ? delete this._contexts[t4] : this._contexts = Object(l2.a)(Object(l2.a)({}, this._contexts), ((n3 = {})[t4] = e3, n3)), this._notifyScopeListeners(), this;
    }, t3.prototype.setSpan = function(t4) {
      return this._span = t4, this._notifyScopeListeners(), this;
    }, t3.prototype.getSpan = function() {
      return this._span;
    }, t3.prototype.getTransaction = function() {
      var t4, e3, n3, i3, r3 = this.getSpan();
      return (null === (t4 = r3) || void 0 === t4 ? void 0 : t4.transaction) ? null === (e3 = r3) || void 0 === e3 ? void 0 : e3.transaction : (null === (i3 = null === (n3 = r3) || void 0 === n3 ? void 0 : n3.spanRecorder) || void 0 === i3 ? void 0 : i3.spans[0]) ? r3.spanRecorder.spans[0] : void 0;
    }, t3.prototype.setSession = function(t4) {
      return t4 ? this._session = t4 : delete this._session, this._notifyScopeListeners(), this;
    }, t3.prototype.getSession = function() {
      return this._session;
    }, t3.prototype.update = function(e3) {
      if (!e3)
        return this;
      if ("function" == typeof e3) {
        var n3 = e3(this);
        return n3 instanceof t3 ? n3 : this;
      }
      return e3 instanceof t3 ? (this._tags = Object(l2.a)(Object(l2.a)({}, this._tags), e3._tags), this._extra = Object(l2.a)(Object(l2.a)({}, this._extra), e3._extra), this._contexts = Object(l2.a)(Object(l2.a)({}, this._contexts), e3._contexts), e3._user && Object.keys(e3._user).length && (this._user = e3._user), e3._level && (this._level = e3._level), e3._fingerprint && (this._fingerprint = e3._fingerprint)) : Object(k.e)(e3) && (e3 = e3, this._tags = Object(l2.a)(Object(l2.a)({}, this._tags), e3.tags), this._extra = Object(l2.a)(Object(l2.a)({}, this._extra), e3.extra), this._contexts = Object(l2.a)(Object(l2.a)({}, this._contexts), e3.contexts), e3.user && (this._user = e3.user), e3.level && (this._level = e3.level), e3.fingerprint && (this._fingerprint = e3.fingerprint)), this;
    }, t3.prototype.clear = function() {
      return this._breadcrumbs = [], this._tags = {}, this._extra = {}, this._user = {}, this._contexts = {}, this._level = void 0, this._transactionName = void 0, this._fingerprint = void 0, this._span = void 0, this._session = void 0, this._notifyScopeListeners(), this;
    }, t3.prototype.addBreadcrumb = function(t4, e3) {
      var n3 = Object(l2.a)({ timestamp: Object(m.a)() }, t4);
      return this._breadcrumbs = void 0 !== e3 && e3 >= 0 ? Object(l2.e)(this._breadcrumbs, [n3]).slice(-e3) : Object(l2.e)(this._breadcrumbs, [n3]), this._notifyScopeListeners(), this;
    }, t3.prototype.clearBreadcrumbs = function() {
      return this._breadcrumbs = [], this._notifyScopeListeners(), this;
    }, t3.prototype.applyToEvent = function(t4, e3) {
      var n3;
      if (this._extra && Object.keys(this._extra).length && (t4.extra = Object(l2.a)(Object(l2.a)({}, this._extra), t4.extra)), this._tags && Object.keys(this._tags).length && (t4.tags = Object(l2.a)(Object(l2.a)({}, this._tags), t4.tags)), this._user && Object.keys(this._user).length && (t4.user = Object(l2.a)(Object(l2.a)({}, this._user), t4.user)), this._contexts && Object.keys(this._contexts).length && (t4.contexts = Object(l2.a)(Object(l2.a)({}, this._contexts), t4.contexts)), this._level && (t4.level = this._level), this._transactionName && (t4.transaction = this._transactionName), this._span) {
        t4.contexts = Object(l2.a)({ trace: this._span.getTraceContext() }, t4.contexts);
        var i3 = null === (n3 = this._span.transaction) || void 0 === n3 ? void 0 : n3.name;
        i3 && (t4.tags = Object(l2.a)({ transaction: i3 }, t4.tags));
      }
      return this._applyFingerprint(t4), t4.breadcrumbs = Object(l2.e)(t4.breadcrumbs || [], this._breadcrumbs), t4.breadcrumbs = t4.breadcrumbs.length > 0 ? t4.breadcrumbs : void 0, this._notifyEventProcessors(Object(l2.e)(j(), this._eventProcessors), t4, e3);
    }, t3.prototype._notifyEventProcessors = function(t4, e3, n3, i3) {
      var r3 = this;
      return void 0 === i3 && (i3 = 0), new w(function(o2, a3) {
        var s3 = t4[i3];
        if (null === e3 || "function" != typeof s3)
          o2(e3);
        else {
          var c3 = s3(Object(l2.a)({}, e3), n3);
          Object(k.j)(c3) ? c3.then(function(e4) {
            return r3._notifyEventProcessors(t4, e4, n3, i3 + 1).then(o2);
          }).then(null, a3) : r3._notifyEventProcessors(t4, c3, n3, i3 + 1).then(o2).then(null, a3);
        }
      });
    }, t3.prototype._notifyScopeListeners = function() {
      var t4 = this;
      this._notifyingListeners || (this._notifyingListeners = true, this._scopeListeners.forEach(function(e3) {
        e3(t4);
      }), this._notifyingListeners = false);
    }, t3.prototype._applyFingerprint = function(t4) {
      t4.fingerprint = t4.fingerprint ? Array.isArray(t4.fingerprint) ? t4.fingerprint : [t4.fingerprint] : [], this._fingerprint && (t4.fingerprint = t4.fingerprint.concat(this._fingerprint)), t4.fingerprint && !t4.fingerprint.length && delete t4.fingerprint;
    }, t3;
  }();
  function j() {
    var t3 = Object(d.b)();
    return t3.__SENTRY__ = t3.__SENTRY__ || {}, t3.__SENTRY__.globalEventProcessors = t3.__SENTRY__.globalEventProcessors || [], t3.__SENTRY__.globalEventProcessors;
  }
  var O = n2(55), S = function() {
    function t3(t4) {
      this.errors = 0, this.sid = Object(d.c)(), this.timestamp = Date.now(), this.started = Date.now(), this.duration = 0, this.status = r2.Ok, this.init = true, t4 && this.update(t4);
    }
    return t3.prototype.update = function(t4) {
      void 0 === t4 && (t4 = {}), t4.user && (t4.user.ip_address && (this.ipAddress = t4.user.ip_address), t4.did || (this.did = t4.user.id || t4.user.email || t4.user.username)), this.timestamp = t4.timestamp || Date.now(), t4.sid && (this.sid = 32 === t4.sid.length ? t4.sid : Object(d.c)()), void 0 !== t4.init && (this.init = t4.init), t4.did && (this.did = "" + t4.did), "number" == typeof t4.started && (this.started = t4.started), "number" == typeof t4.duration ? this.duration = t4.duration : this.duration = this.timestamp - this.started, t4.release && (this.release = t4.release), t4.environment && (this.environment = t4.environment), t4.ipAddress && (this.ipAddress = t4.ipAddress), t4.userAgent && (this.userAgent = t4.userAgent), "number" == typeof t4.errors && (this.errors = t4.errors), t4.status && (this.status = t4.status);
    }, t3.prototype.close = function(t4) {
      t4 ? this.update({ status: t4 }) : this.status === r2.Ok ? this.update({ status: r2.Exited }) : this.update();
    }, t3.prototype.toJSON = function() {
      return Object(O.a)({ sid: "" + this.sid, init: this.init, started: new Date(this.started).toISOString(), timestamp: new Date(this.timestamp).toISOString(), status: this.status, errors: this.errors, did: "number" == typeof this.did || "string" == typeof this.did ? "" + this.did : void 0, duration: this.duration, attrs: Object(O.a)({ release: this.release, environment: this.environment, ip_address: this.ipAddress, user_agent: this.userAgent }) });
    }, t3;
  }(), E = function() {
    function t3(t4, e3, n3) {
      void 0 === e3 && (e3 = new _()), void 0 === n3 && (n3 = 3), this._version = n3, this._stack = [{}], this.getStackTop().scope = e3, this.bindClient(t4);
    }
    return t3.prototype.isOlderThan = function(t4) {
      return this._version < t4;
    }, t3.prototype.bindClient = function(t4) {
      this.getStackTop().client = t4, t4 && t4.setupIntegrations && t4.setupIntegrations();
    }, t3.prototype.pushScope = function() {
      var t4 = _.clone(this.getScope());
      return this.getStack().push({ client: this.getClient(), scope: t4 }), t4;
    }, t3.prototype.popScope = function() {
      return !(this.getStack().length <= 1) && !!this.getStack().pop();
    }, t3.prototype.withScope = function(t4) {
      var e3 = this.pushScope();
      try {
        t4(e3);
      } finally {
        this.popScope();
      }
    }, t3.prototype.getClient = function() {
      return this.getStackTop().client;
    }, t3.prototype.getScope = function() {
      return this.getStackTop().scope;
    }, t3.prototype.getStack = function() {
      return this._stack;
    }, t3.prototype.getStackTop = function() {
      return this._stack[this._stack.length - 1];
    }, t3.prototype.captureException = function(t4, e3) {
      var n3 = this._lastEventId = Object(d.c)(), i3 = e3;
      if (!e3) {
        var r3 = void 0;
        try {
          throw new Error("Sentry syntheticException");
        } catch (t5) {
          r3 = t5;
        }
        i3 = { originalException: t4, syntheticException: r3 };
      }
      return this._invokeClient("captureException", t4, Object(l2.a)(Object(l2.a)({}, i3), { event_id: n3 })), n3;
    }, t3.prototype.captureMessage = function(t4, e3, n3) {
      var i3 = this._lastEventId = Object(d.c)(), r3 = n3;
      if (!n3) {
        var o2 = void 0;
        try {
          throw new Error(t4);
        } catch (t5) {
          o2 = t5;
        }
        r3 = { originalException: t4, syntheticException: o2 };
      }
      return this._invokeClient("captureMessage", t4, e3, Object(l2.a)(Object(l2.a)({}, r3), { event_id: i3 })), i3;
    }, t3.prototype.captureEvent = function(t4, e3) {
      var n3 = this._lastEventId = Object(d.c)();
      return this._invokeClient("captureEvent", t4, Object(l2.a)(Object(l2.a)({}, e3), { event_id: n3 })), n3;
    }, t3.prototype.lastEventId = function() {
      return this._lastEventId;
    }, t3.prototype.addBreadcrumb = function(t4, e3) {
      var n3 = this.getStackTop(), i3 = n3.scope, r3 = n3.client;
      if (i3 && r3) {
        var o2 = r3.getOptions && r3.getOptions() || {}, a3 = o2.beforeBreadcrumb, s3 = void 0 === a3 ? null : a3, c3 = o2.maxBreadcrumbs, p3 = void 0 === c3 ? 100 : c3;
        if (!(p3 <= 0)) {
          var u2 = Object(m.a)(), f2 = Object(l2.a)({ timestamp: u2 }, t4), h2 = s3 ? Object(d.a)(function() {
            return s3(f2, e3);
          }) : f2;
          null !== h2 && i3.addBreadcrumb(h2, Math.min(p3, 100));
        }
      }
    }, t3.prototype.setUser = function(t4) {
      var e3 = this.getScope();
      e3 && e3.setUser(t4);
    }, t3.prototype.setTags = function(t4) {
      var e3 = this.getScope();
      e3 && e3.setTags(t4);
    }, t3.prototype.setExtras = function(t4) {
      var e3 = this.getScope();
      e3 && e3.setExtras(t4);
    }, t3.prototype.setTag = function(t4, e3) {
      var n3 = this.getScope();
      n3 && n3.setTag(t4, e3);
    }, t3.prototype.setExtra = function(t4, e3) {
      var n3 = this.getScope();
      n3 && n3.setExtra(t4, e3);
    }, t3.prototype.setContext = function(t4, e3) {
      var n3 = this.getScope();
      n3 && n3.setContext(t4, e3);
    }, t3.prototype.configureScope = function(t4) {
      var e3 = this.getStackTop(), n3 = e3.scope, i3 = e3.client;
      n3 && i3 && t4(n3);
    }, t3.prototype.run = function(t4) {
      var e3 = T(this);
      try {
        t4(this);
      } finally {
        T(e3);
      }
    }, t3.prototype.getIntegration = function(t4) {
      var e3 = this.getClient();
      if (!e3)
        return null;
      try {
        return e3.getIntegration(t4);
      } catch (e4) {
        return b.warn("Cannot retrieve integration " + t4.id + " from the current Hub"), null;
      }
    }, t3.prototype.startSpan = function(t4) {
      return this._callExtensionMethod("startSpan", t4);
    }, t3.prototype.startTransaction = function(t4, e3) {
      return this._callExtensionMethod("startTransaction", t4, e3);
    }, t3.prototype.traceHeaders = function() {
      return this._callExtensionMethod("traceHeaders");
    }, t3.prototype.captureSession = function(t4) {
      if (void 0 === t4 && (t4 = false), t4)
        return this.endSession();
      this._sendSessionUpdate();
    }, t3.prototype.endSession = function() {
      var t4, e3, n3, i3, r3;
      null === (n3 = null === (e3 = null === (t4 = this.getStackTop()) || void 0 === t4 ? void 0 : t4.scope) || void 0 === e3 ? void 0 : e3.getSession()) || void 0 === n3 || n3.close(), this._sendSessionUpdate(), null === (r3 = null === (i3 = this.getStackTop()) || void 0 === i3 ? void 0 : i3.scope) || void 0 === r3 || r3.setSession();
    }, t3.prototype.startSession = function(t4) {
      var e3 = this.getStackTop(), n3 = e3.scope, i3 = e3.client, o2 = i3 && i3.getOptions() || {}, a3 = o2.release, s3 = o2.environment, c3 = new S(Object(l2.a)(Object(l2.a)({ release: a3, environment: s3 }, n3 && { user: n3.getUser() }), t4));
      if (n3) {
        var p3 = n3.getSession && n3.getSession();
        p3 && p3.status === r2.Ok && p3.update({ status: r2.Exited }), this.endSession(), n3.setSession(c3);
      }
      return c3;
    }, t3.prototype._sendSessionUpdate = function() {
      var t4 = this.getStackTop(), e3 = t4.scope, n3 = t4.client;
      if (e3) {
        var i3 = e3.getSession && e3.getSession();
        i3 && n3 && n3.captureSession && n3.captureSession(i3);
      }
    }, t3.prototype._invokeClient = function(t4) {
      for (var e3, n3 = [], i3 = 1; i3 < arguments.length; i3++)
        n3[i3 - 1] = arguments[i3];
      var r3 = this.getStackTop(), o2 = r3.scope, a3 = r3.client;
      a3 && a3[t4] && (e3 = a3)[t4].apply(e3, Object(l2.e)(n3, [o2]));
    }, t3.prototype._callExtensionMethod = function(t4) {
      for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
        e3[n3 - 1] = arguments[n3];
      var i3 = C(), r3 = i3.__SENTRY__;
      if (r3 && r3.extensions && "function" == typeof r3.extensions[t4])
        return r3.extensions[t4].apply(this, e3);
      b.warn("Extension method " + t4 + " couldn't be found, doing nothing.");
    }, t3;
  }();
  function C() {
    var t3 = Object(d.b)();
    return t3.__SENTRY__ = t3.__SENTRY__ || { extensions: {}, hub: void 0 }, t3;
  }
  function T(t3) {
    var e3 = C(), n3 = F(e3);
    return I(e3, t3), n3;
  }
  function A() {
    var t3 = C();
    return P(t3) && !F(t3).isOlderThan(3) || I(t3, new E()), Object(x.b)() ? function(t4) {
      var e3, n3, i3;
      try {
        var r3 = null === (i3 = null === (n3 = null === (e3 = C().__SENTRY__) || void 0 === e3 ? void 0 : e3.extensions) || void 0 === n3 ? void 0 : n3.domain) || void 0 === i3 ? void 0 : i3.active;
        if (!r3)
          return F(t4);
        if (!P(r3) || F(r3).isOlderThan(3)) {
          var o2 = F(t4).getStackTop();
          I(r3, new E(o2.client, _.clone(o2.scope)));
        }
        return F(r3);
      } catch (e4) {
        return F(t4);
      }
    }(t3) : F(t3);
  }
  function P(t3) {
    return !!(t3 && t3.__SENTRY__ && t3.__SENTRY__.hub);
  }
  function F(t3) {
    return t3 && t3.__SENTRY__ && t3.__SENTRY__.hub || (t3.__SENTRY__ = t3.__SENTRY__ || {}, t3.__SENTRY__.hub = new E()), t3.__SENTRY__.hub;
  }
  function I(t3, e3) {
    return !!t3 && (t3.__SENTRY__ = t3.__SENTRY__ || {}, t3.__SENTRY__.hub = e3, true);
  }
  function z(t3) {
    for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
      e3[n3 - 1] = arguments[n3];
    var i3 = A();
    if (i3 && i3[t3])
      return i3[t3].apply(i3, Object(l2.e)(e3));
    throw new Error("No hub defined or " + t3 + " was not found on the hub, please open a bug report.");
  }
  function N(t3, e3) {
    var n3;
    try {
      throw new Error("Sentry syntheticException");
    } catch (t4) {
      n3 = t4;
    }
    return z("captureException", t3, { captureContext: e3, originalException: t3, syntheticException: n3 });
  }
  function M(t3) {
    z("withScope", t3);
  }
  var R, $ = { urls: { processUrl: "https://process.filestackapi.com", fileApiUrl: "https://www.filestackapi.com/api/file", uploadApiUrl: "https://upload.filestackapi.com", cloudApiUrl: "https://cloud.filestackapi.com", cdnUrl: "https://cdn.filestackcontent.com", pickerUrl: "https://static.filestackapi.com/picker/1.23.0/picker.js" } };
  !function(t3) {
    t3.VALIDATION = "validation", t3.REQUEST = "request", t3.ABORTED = "aborted", t3.OTHER = "other";
  }(R || (R = {}));
  var q = function(t3) {
    function e3(n3, i3, r3) {
      var o2 = t3.call(this, n3) || this;
      return Object.setPrototypeOf(o2, e3.prototype), o2.details = i3, o2.type = r3, o2;
    }
    return Object(l2.c)(e3, t3), e3;
  }(Error), U = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Transformations", description: "Filestack transformations parameters", type: "object", additionalProperties: false, properties: { flip: { type: "boolean", additionalProperties: false }, auto_image: { type: "boolean", additionalProperties: false }, no_metadata: { type: "boolean", additionalProperties: false }, compress: { additionalProperties: false, oneOf: [{ type: "boolean" }, { type: "object", properties: { metadata: { type: "boolean", default: false } } }] }, flop: { type: "boolean", additionalProperties: false }, enhance: { default: true, oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { preset: { type: "string", enum: ["auto", "vivid", "beautify", "beautify_plus", "fix_dark", "fix_noise", "fix_tint", "outdoor", "fireworks"] } } }] }, redeye: { type: "boolean", additionalProperties: false }, monochrome: { type: "boolean", additionalProperties: false }, negative: { type: "boolean", additionalProperties: false }, tags: { type: "boolean", additionalProperties: false }, sfw: { type: "boolean", additionalProperties: false }, imagesize: { type: "boolean", additionalProperties: false }, smart_crop: { width: { type: "integer", minimum: 0, maximum: 1e4 }, height: { type: "integer", minimum: 0, maximum: 1e4 }, mode: { type: "string", default: "auto", enum: ["face", "auto"] } }, animate: { type: "object", properties: { delay: { type: "integer", minimum: 0, maximum: 1e4, default: 1e3 }, loop: { type: "integer", minimum: 0, maximum: 1e3, default: 0 }, width: { type: "integer", minimum: 1, maximum: 1800 }, height: { type: "integer", minimum: 1, maximum: 1800 }, fit: { type: "string", default: "clip", enum: ["clip", "scale", "crop"] }, background: { $ref: "colorDef", default: "transparent" }, align: { $ref: "positionDef", default: "center" } } }, metadata: { type: "object", params: { type: "array", items: { type: "string", enum: ["filename", "mimetype", "size", "width", "height", "writeable", "path", "container", "cloud", "exif", "source_url", "md5", "sha256", "sha1", "sha512"] }, minItems: 0, uniqueItems: true, additionalItems: false }, additionalProperties: false }, resize: { type: "object", properties: { width: { type: "number", minimum: 0, maximum: 1e4 }, height: { type: "number", minimum: 0, maximum: 1e4 }, fit: { type: "string", enum: ["clip", "crop", "scale", "max"], default: "clip" }, align: { $ref: "positionDef", default: "center" } }, additionalProperties: false, anyOf: [{ required: ["width"] }, { required: ["height"] }] }, crop: { type: "object", properties: { dim: { type: "array", additionalItems: false, minItems: 4, items: [{ type: "integer", minimum: 0, maximum: 1e5 }, { type: "integer", minimum: 0, maximum: 1e5 }, { type: "integer", minimum: 1, maximum: 1e5 }, { type: "integer", minimum: 1, maximum: 1e5 }] } }, required: ["dim"] }, rotate: { type: "object", properties: { deg: { oneOf: [{ type: "string", enum: ["exif"] }, { type: "number", minimum: 0, maximum: 359 }] }, exif: { type: "boolean" }, background: { $ref: "colorDef", default: "FFFFFFFF" } }, additionalProperties: false }, detect_faces: { oneOf: [{ type: "boolean" }, { type: "object", properties: { maxsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, minsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, export: { type: "boolean" }, color: { $ref: "colorDef", default: "000000FF" } }, additionalProperties: false }] }, crop_faces: { oneOf: [{ type: "boolean" }, { type: "object", properties: { faces: { default: 1, $ref: "facesDef" }, width: { type: "number", minimum: 1, maximum: 1e4 }, height: { type: "number", minimum: 1, maximum: 1e4 }, maxsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, minsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, buffer: { type: "integer", minimum: 0, maximum: 1e4 }, mode: { type: "string", enum: ["crop", "thumb", "fill"], default: "thumb" } }, additionalProperties: false }] }, pixelate_faces: { oneOf: [{ type: "boolean" }, { type: "object", properties: { faces: { $ref: "facesDef", default: "all" }, maxsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, minsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, buffer: { type: "integer", minimum: 0, maximum: 1e4 }, amount: { type: "integer", minimum: 2, maximum: 100, default: 10 }, blur: { type: "number", minimum: 0, maximum: 20, default: 4 }, type: { type: "string", enum: ["rect", "oval"], default: "rect" } }, additionalProperties: false }] }, blur_faces: { oneOf: [{ type: "boolean" }, { type: "object", properties: { faces: { $ref: "facesDef", default: "all" }, maxsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, minsize: { type: "number", minimum: 0, maximum: 1e4, default: 0.35 }, buffer: { type: "integer", minimum: 0, maximum: 1e4 }, amount: { type: "number", minimum: 0, maximum: 10, default: 10 }, blur: { type: "number", minimum: 0, maximum: 20, default: 4 }, type: { type: "string", enum: ["rect", "oval"], default: "rect" } }, additionalProperties: false }] }, rounded_corners: { oneOf: [{ type: "boolean" }, { type: "object", properties: { radius: { oneOf: [{ type: "integer", minimum: 1, maximum: 1e4 }, { type: "string", enum: ["max"] }] }, blur: { type: "number", minimum: 0, maximum: 20, default: 0.3 }, background: { $ref: "colorDef" } }, additionalProperties: false }] }, vignette: { oneOf: [{ type: "boolean" }, { type: "object", properties: { amount: { type: "integer", minimum: 0, maximum: 100, default: 20 }, blurmode: { type: "string", enum: ["gaussian", "linear"], default: "gaussian" }, background: { $ref: "colorDef" } }, additionalProperties: false }] }, polaroid: { oneOf: [{ type: "boolean" }, { type: "object", properties: { rotate: { type: "integer", minimum: 0, maximum: 359 }, color: { $ref: "colorDef", default: "snow" }, background: { $ref: "colorDef" } }, additionalProperties: false }] }, torn_edges: { oneOf: [{ type: "boolean" }, { type: "object", properties: { spread: { type: "array", additionalItems: false, minItems: 2, items: [{ type: "integer", minimum: 1, maximum: 1e4, default: 1 }, { type: "integer", minimum: 1, maximum: 1e4, default: 10 }] }, background: { $ref: "colorDef" } }, additionalProperties: false }] }, shadow: { oneOf: [{ type: "boolean" }, { type: "object", properties: { blur: { type: "number", minimum: 0, maximum: 20, default: 100 }, opacity: { type: "integer", minimum: 0, maximum: 100, default: 60 }, vector: { type: "array", additionalItems: false, minItems: 2, items: [{ type: "integer", minimum: -1e3, maximum: 1e3, default: 4 }, { type: "integer", minimum: -1e3, maximum: 1e3, default: 4 }] }, color: { $ref: "colorDef" }, background: { $ref: "colorDef" } }, additionalProperties: false }] }, circle: { oneOf: [{ type: "boolean" }, { type: "object", properties: { background: { $ref: "colorDef" } }, additionalProperties: false }] }, border: { oneOf: [{ type: "boolean" }, { type: "object", properties: { color: { $ref: "colorDef" }, background: { $ref: "colorDef" }, width: { type: "integer", minimum: 0, maximum: 1e3 } }, additionalProperties: false }] }, sharpen: { oneOf: [{ type: "boolean" }, { type: "object", properties: { amount: { type: "integer", minimum: 0, maximum: 20, default: 2 } }, additionalProperties: false }] }, blur: { oneOf: [{ type: "boolean" }, { type: "object", properties: { amount: { type: "integer", minimum: 0, maximum: 20, default: 2 } }, additionalProperties: false }] }, blackwhite: { oneOf: [{ type: "boolean" }, { type: "object", properties: { threshold: { type: "integer", minimum: 0, maximum: 100, default: 50 } }, additionalProperties: false }] }, sepia: { oneOf: [{ type: "boolean" }, { type: "object", properties: { tone: { type: "integer", minimum: 0, maximum: 100, default: 80 } }, additionalProperties: false }] }, pixelate: { oneOf: [{ type: "boolean" }, { type: "object", properties: { amount: { type: "integer", minimum: 2, maximum: 100, default: 2 } }, additionalProperties: false }] }, oil_paint: { oneOf: [{ type: "boolean" }, { type: "object", properties: { amount: { type: "integer", minimum: 2, maximum: 100, default: 2 } }, additionalProperties: false }] }, modulate: { oneOf: [{ type: "boolean" }, { type: "object", properties: { brightness: { type: "integer", minimum: 0, maximum: 1e4, default: 100 }, saturation: { type: "integer", minimum: 0, maximum: 1e4, default: 100 }, hue: { type: "integer", minimum: 0, maximum: 359, default: 0 } }, additionalProperties: false }] }, ascii: { oneOf: [{ type: "boolean" }, { type: "object", properties: { foreground: { $ref: "colorDef", default: "000000FF" }, background: { $ref: "colorDef", default: "FFFFFFFF" }, colored: { type: "boolean", default: false }, size: { type: "integer", minimum: 10, maximum: 100, default: 100 }, reverse: { type: "boolean", default: false } }, additionalProperties: false }] }, collage: { type: "object", properties: { files: { type: "array", minItems: 1, items: [{ type: "string" }] }, margin: { type: "integer", minimum: 1, maximum: 100, default: 10 }, width: { type: "integer", minimum: 0, maximum: 1e4 }, height: { type: "integer", minimum: 0, maximum: 1e4 }, color: { $ref: "colorDef", default: "FFFFFFFF" }, fit: { type: "string", enum: ["auto", "crop"] }, autorotate: { type: "boolean", default: false } }, required: ["width", "height", "files"], additionalProperties: false }, urlscreenshot: { oneOf: [{ type: "boolean" }, { type: "object", properties: { agent: { type: "string", enum: ["desktop", "mobile"], default: "desktop" }, width: { type: "integer", minimum: 1, maximum: 1920, default: 1024 }, height: { type: "integer", minimum: 1, maximum: 8e3, default: 768 }, mode: { type: "string", enum: ["all", "window"], default: "all" }, delay: { type: "integer", minimum: 0, maximum: 2e4, default: 1e3 }, orientation: { type: "string", enum: ["portrait", "landscape"], default: "portrait" }, device: { type: "string", default: "" } }, additionalProperties: false }] }, upscale: { oneOf: [{ type: "boolean" }, { type: "object", properties: { noise: { type: "string", enum: ["none", "low", "medium", "high"], default: "none" }, upscale: { type: "boolean", default: true }, style: { type: "string", enum: ["artwork", "photo"], default: "photo" } }, additionalProperties: false }] }, output: { type: "object", additionalProperties: false, properties: { format: { type: "string", enum: ["doc", "docx", "html", "jpg", "odp", "ods", "odt", "pjpg", "pdf", "png", "ppt", "pptx", "svg", "txt", "webp", "xls", "xlsx"] }, page: { type: "integer", minimum: 1, maximum: 99999 }, density: { type: "integer", minimum: 1, maximum: 500 }, compress: { type: "boolean" }, quality: { oneOf: [{ type: "string", enum: ["input"] }, { type: "integer", minimum: 1, maximum: 100, default: 95 }] }, secure: { type: "boolean", default: false }, docinfo: { type: "boolean", default: false }, strip: { type: "boolean", default: false }, colorspace: { type: "string", enum: ["rgb", "cmyk", "input"], default: "rgb" }, background: { $ref: "colorDef" }, pageformat: { type: "string", enum: ["a2", "a3", "a4", "a5", "b4", "b5", "letter", "legal", "tabloid"] }, pageorientation: { type: "string", enum: ["landscape", "portrait"] } } }, pjpg: { oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { quality: { type: "integer", minimum: 0, maximum: 100 }, metadata: { type: "boolean", default: false } } }] }, quality: { type: "object", additionalProperties: false, properties: { value: { type: "integer", minimum: 1, maximum: 100 } } }, cache: { oneOf: [{ type: "boolean" }, { type: "object", properties: { expiry: { type: "integer" } } }] }, video_convert: { type: "object", additionalProperties: false, properties: { width: { type: "integer", minimum: 1, maximum: 4096 }, height: { type: "integer", minimum: 1, maximum: 4096 }, preset: { type: "string" }, force: { type: "boolean" }, title: { type: "string" }, extname: { type: "string" }, upscale: { type: "boolean" }, aspect_mode: { type: "string", enum: ["letterbox", "pad", "crop", "preserve", "constrain"], default: "letterbox" }, audio_sample_rate: { type: "integer", minimum: 1, maximum: 99999 }, two_pass: { type: "boolean" }, video_bitrate: { type: "integer", minimum: 1, maximum: 5e3 }, fps: { type: "integer", minimum: 1, maximum: 300 }, keyframe_interval: { type: "integer", minimum: 250, maximum: 250 }, audio_bitrate: { type: "integer", minimum: 1, maximum: 999 }, audio_channels: { type: "integer", minimum: 1, maximum: 12 }, clip_length: { type: "string", pattern: "^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$" }, clip_offset: { type: "string", pattern: "^([0-1]?\\d|2[0-3])(?::([0-5]?\\d))?(?::([0-5]?\\d))?$" }, watermark_url: { type: "string" }, watermark_top: { type: "integer", minimum: 0, maximum: 9999 }, watermark_right: { type: "integer", minimum: 0, maximum: 9999 }, watermark_bottom: { type: "integer", minimum: 0, maximum: 9999 }, watermark_left: { type: "integer", minimum: 0, maximum: 9999 }, frame_count: { type: "integer", minimum: 1, maximum: 1, default: 1 }, filename: { type: "string" }, location: { $ref: "locationsDef" }, path: { type: "string" }, container: { type: "string" }, access: { type: "string", enum: ["public", "private"], default: "public" } } }, store: { oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { filename: { type: "string" }, location: { $ref: "locationsDef" }, path: { type: "string" }, container: { type: "string" }, region: { $ref: "regionsDef" }, access: { type: "string", enum: ["public", "private"], default: "private" }, base64decode: { type: "boolean" }, workflows: { $ref: "workflowsDef" } } }] }, watermark: { type: "object", properties: { file: { type: "string" }, size: { type: "number", minimum: 0, maximum: 500 }, position: { $ref: "positionDef" } }, required: ["file"], additionalProperties: false }, partial_blur: { type: "object", properties: { objects: { $ref: "objectsDef" }, amount: { type: "number", minimum: 0, maximum: 20 }, blur: { type: "number", minimum: 0, maximum: 20 }, type: { type: "string", enum: ["rect", "oval"] } }, required: ["objects"] }, partial_pixelate: { type: "object", properties: { objects: { $ref: "objectsDef" }, amount: { type: "number", minimum: 2, maximum: 100 }, blur: { type: "number", minimum: 0, maximum: 20 }, type: { type: "string", enum: ["rect", "oval"] } }, required: ["objects"] }, security: { type: "object", additionalProperties: false, properties: { policy: { type: "string" }, signature: { type: "string" } }, required: ["policy", "signature"] }, pdfinfo: { oneOf: [{ type: "boolean" }, { type: "object", properties: { colorinfo: { type: "boolean" } } }] }, pdfconvert: { type: "object", additionalProperties: false, properties: { pageorientation: { type: "string", enum: ["portrait", "landscape"] }, pageformat: { $ref: "pageFormatDef" }, pages: { $ref: "pageRangeDef" } }, anyOf: [{ required: ["pageorientation"] }, { required: ["pageformat"] }, { required: ["pages"] }] }, fallback: { type: "object", additionalProperties: false, properties: { handle: { type: "string" }, cache: { type: "integer", minimum: 1, maximum: 31536e3 } }, required: ["handle"] }, zip: { type: "string" }, minify_css: { type: "object", additionalProperties: false, properties: { gzip: { type: "boolean" }, level: { type: "number", enum: [1, 2] } } }, minify_js: { type: "object", additionalProperties: false, properties: { gzip: { type: "boolean" }, use_babel_polyfill: { type: "boolean" }, keep_fn_name: { type: "boolean" }, keep_class_name: { type: "boolean" }, mangle: { type: "boolean" }, merge_vars: { type: "boolean" }, remove_console: { type: "boolean" }, remove_undefined: { type: "boolean" }, targets: { type: "string" } } } } }, D = n2(18), L = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack", description: "Filestack common definitions", type: "object", additionalProperties: false, definitions: { workflowsDef: { id: "/workflowsDef", type: "array", additionalItems: false, minItems: 1, maxItems: 20, items: [{ oneOf: [{ type: "string" }, { type: "object", additionalProperties: false, properties: { id: { type: "string" } } }] }] }, securityCallDef: { id: "/securityCallDef", oneOf: [{ additionalProperties: false, type: "string", enum: ["pick", "read", "stat", "write", "writeUrl", "store", "convert", "remove", "exif", "runWorkflow"] }, { type: "array", additionalProperties: false, items: [{ minItems: 1, maxItems: 10, type: "string", additionalProperties: false, enum: ["pick", "read", "stat", "write", "writeUrl", "store", "convert", "remove", "exif", "runWorkflow"] }] }] }, regionsDef: { id: "/regionsDef", type: "string" }, locationsDef: { id: "/locationsDef", type: "string", enum: ["s3", "S3", "rackspace", "gcs", "azure", "dropbox"] }, colorDef: { id: "colorDef", oneOf: [{ type: "string", pattern: "^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$" }, { type: "string", enum: ["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkgrey", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkslategrey", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dimgrey", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fractal", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray0", "gray1", "gray2", "gray3", "gray4", "gray5", "gray6", "gray7", "gray8", "gray9", "gray10", "gray11", "gray12", "gray13", "gray14", "gray15", "gray16", "gray17", "gray18", "gray19", "gray20", "gray21", "gray22", "gray23", "gray24", "gray25", "gray26", "gray27", "gray28", "gray29", "gray30", "gray31", "gray32", "gray33", "gray34", "gray35", "gray36", "gray37", "gray38", "gray39", "gray40", "gray41", "gray42", "gray43", "gray44", "gray45", "gray46", "gray47", "gray48", "gray49", "gray50", "gray51", "gray52", "gray53", "gray54", "gray55", "gray56", "gray57", "gray58", "gray59", "gray60", "gray61", "gray62", "gray63", "gray64", "gray65", "gray66", "gray67", "gray68", "gray69", "gray70", "gray71", "gray72", "gray73", "gray74", "gray75", "gray76", "gray77", "gray78", "gray79", "gray80", "gray81", "gray82", "gray83", "gray84", "gray85", "gray86", "gray87", "gray88", "gray89", "gray90", "gray91", "gray92", "gray93", "gray94", "gray95", "gray96", "gray97", "gray98", "gray99", "gray100", "gray", "green", "greenyellow", "grey", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightgrey", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightslategrey", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "none", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "slategrey", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen", "transparent"] }] }, pageFormatDef: { id: "/pageFormatDef", type: "string", enum: ["a2", "a3", "a4", "a5", "b4", "b5", "letter", "legal", "tabloid"] }, pageRangeDef: { id: "/pageRangeDef", type: "array", uniqueItems: true, items: [{ oneOf: [{ type: "integer", minimum: 1 }, { type: "string", pattern: "^(\\d+(?:-\\d+)?)$|^(-\\d+)$|^(\\d+-)$", errorMessage: 'Param should be provided in one of the following formats: "1,2,3,5", "1-3", "1-", "-2" ' }] }] }, facesDef: { id: "/facesDef", oneOf: [{ type: "string", enum: ["all"] }, { type: "integer", minimum: 1, maximum: 1e3 }, { type: "array", uniqueItems: true, items: [{ type: "integer", minimum: 1, maximum: 1e3 }] }] }, objectsDef: { id: "/objectsDef", type: "array", minItems: 1, maxItems: 50, items: [{ type: "array", additionalItems: false, minItems: 4, items: [{ type: "integer", minimum: 0, maximum: 1e4 }, { type: "integer", minimum: 0, maximum: 1e4 }, { type: "integer", minimum: 1, maximum: 1e4 }, { type: "integer", minimum: 1, maximum: 1e4 }] }] }, positionDef: { id: "/positionDef", default: ["middle", "center"], oneOf: [{ type: "string", enum: ["top", "middle", "bottom", "left", "center", "right", "faces"] }, { type: "array", uniqueItems: true, additionalItems: false, minItems: 2, maxItems: 2, default: ["middle", "center"], items: [{ type: "string", enum: ["top", "middle", "bottom"] }, { type: "string", enum: ["left", "center", "right"] }] }] } } }, B = new D.Validator();
  D.Validator.prototype.customFormats.callback = function(t3) {
    return "function" == typeof t3;
  }, D.Validator.prototype.customFormats.HTMLContainer = function(t3) {
    return "string" == typeof t3 || t3.toString && t3.toString().indexOf("HTML") > -1;
  };
  var V = function(t3) {
    return function(e3) {
      return B.addSchema(L), B.validate(e3, t3);
    };
  }, H = n2(1), W = n2(3), Z = n2.n(W);
  function J(t3) {
    return (J = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var Y, G, K, Q, X, tt, et, nt, it, rt, ot, at, st, ct, pt, ut, lt, ft, dt = Z()("fs:filelink");
  !function(t3) {
    t3.left = "left", t3.right = "right", t3.center = "center", t3.bottom = "bottom", t3.top = "top", t3.faces = "faces", t3.middle = "middle";
  }(Y || (Y = {})), function(t3) {
    t3.clip = "clip", t3.crop = "crop", t3.scale = "scale", t3.max = "max";
  }(G || (G = {})), function(t3) {
    t3.linear = "linear", t3.gaussian = "gaussian";
  }(K || (K = {})), function(t3) {
    t3.oval = "oval", t3.rect = "rect";
  }(Q || (Q = {})), function(t3) {
    t3.none = "none", t3.low = "low", t3.medium = "medium", t3.high = "high";
  }(X || (X = {})), function(t3) {
    t3.artwork = "artwork", t3.photo = "photo";
  }(tt || (tt = {})), function(t3) {
    t3.RGB = "RGB", t3.CMYK = "CMYK", t3.Input = "Input";
  }(et || (et = {})), function(t3) {
    t3.thumb = "thumb", t3.crop = "crop", t3.fill = "fill";
  }(nt || (nt = {})), function(t3) {
    t3.top = "top", t3.middle = "middle", t3.bottom = "bottom", t3.left = "left", t3.center = "center", t3.right = "right";
  }(it || (it = {})), function(t3) {
    t3.face = "face", t3.auto = "auto";
  }(rt || (rt = {})), function(t3) {
    t3.h264 = "h264", t3.h264_hi = "h264.hi", t3.webm = "webm", t3["webm-hi"] = "webm.hi", t3.ogg = "ogg", t3["ogg-hi"] = "ogg.hi", t3["hls-variant"] = "hls.variant", t3.mp3 = "mp3", t3.oga = "oga", t3.m4a = "m4a", t3.aac = "aac", t3.hls = "hls.variant.audio";
  }(ot || (ot = {})), function(t3) {
    t3.desktop = "desktop", t3.mobile = "mobile";
  }(at || (at = {})), function(t3) {
    t3.all = "all", t3.window = "window";
  }(st || (st = {})), function(t3) {
    t3.portrait = "portrait", t3.landscape = "landscape";
  }(ct || (ct = {})), function(t3) {
    t3.s3 = "s3", t3.azure = "azure", t3.gcs = "gcs", t3.rackspace = "rackspace", t3.dropbox = "dropbox";
  }(pt || (pt = {})), function(t3) {
    t3.private = "private", t3.public = "public";
  }(ut || (ut = {})), function(t3) {
    t3.preserve = "preserve", t3.constrain = "constrain", t3.letterbox = "letterbox", t3.pad = "pad", t3.crop = "crop";
  }(lt || (lt = {})), function(t3) {
    t3.auto = "auto", t3.vivid = "vivid", t3.beautify = "beautify", t3.beautifyPlus = "beautify_plus", t3.fixDark = "fix_dark", t3.fixNoise = "fix_noise", t3.fixTint = "fix_tint", t3.outdor = "outdoor", t3.fireworks = "fireworks";
  }(ft || (ft = {}));
  var mt = /^[\w\-]{20}|wf:\/\/[\w\-\/]{106}$/, ht = function() {
    function t3(t4, e3) {
      this.transforms = [], this.b64 = false, this.useValidator = true, this.arrayToObject = function(t5, e4, n3) {
        return void 0 === t5 && (t5 = []), t5.reduce(function(t6, i3) {
          return t6[i3[e4]] = i3[n3], t6;
        }, {});
      }, this.apikey = e3, this.setSource(t4);
    }
    return t3.prototype.setBase64 = function(t4) {
      return this.b64 = t4, this;
    }, t3.prototype.setUseValidator = function(t4) {
      return this.useValidator = t4, this;
    }, t3.prototype.setCname = function(t4) {
      return this.cname = t4, this;
    }, t3.prototype.setCustomDomain = function(t4) {
      return this.customDomain = t4, this;
    }, t3.prototype.setSource = function(t4) {
      this.source = t4;
      var e3 = this.isSourceExternal();
      if (dt("Source " + t4 + " - isExternal? " + e3), e3 && !this.apikey)
        throw new q("External sources requires apikey to handle transforms");
      if (!e3 && "string" == typeof this.source && !mt.test(this.source) && -1 === this.source.indexOf("filestackcontent"))
        throw new q("Invalid filestack source provided");
    }, t3.prototype.getValidationSchema = function() {
      return U;
    }, t3.prototype.getTransformations = function() {
      return this.useValidator && this.validateTasks(this.transforms), this.transforms;
    }, t3.prototype.toString = function() {
      var t4 = [];
      t4.push(this.getCdnHost()), this.useValidator && this.validateTasks(this.transforms), this.apikey && t4.push(this.apikey);
      var e3 = this.generateTransformString(), n3 = this.source;
      return this.b64 ? (this.transforms.length > 0 && (e3 = "b64/" + Object(H.b64)(JSON.stringify(this.transforms), true)), Array.isArray(n3) && (n3 = this.arrayToString(n3)), n3 = "b64://" + Object(H.b64)(n3, true)) : n3 = Array.isArray(n3) ? this.arrayToString(n3) : this.escapeValue(n3), e3.length && t4.push(e3), t4.push(n3), t4.join("/");
    }, t3.prototype.addTask = function(t4, e3) {
      if (Z()("Add task  " + t4 + " with params %O", e3), "cache" !== t4 && "boolean" == typeof e3) {
        if (!e3)
          return this;
        e3 = void 0;
      } else
        "object" !== J(e3) || Object.keys(e3).length || (e3 = void 0);
      return this.transforms.push({ name: t4, params: e3 }), this;
    }, t3.prototype.getTasks = function() {
      return this.transforms;
    }, t3.prototype.reset = function() {
      return this.transforms = [], this;
    }, t3.prototype.autoImage = function() {
      return this.addTask("auto_image", true);
    }, t3.prototype.flip = function() {
      return this.addTask("flip", true);
    }, t3.prototype.flop = function() {
      return this.addTask("flop", true);
    }, t3.prototype.imagesize = function() {
      return this.addTask("imagesize", true);
    }, t3.prototype.noMetadata = function() {
      return this.addTask("no_metadata", true);
    }, t3.prototype.pjpg = function(t4) {
      return this.addTask("pjpg", t4);
    }, t3.prototype.smartCrop = function(t4) {
      return this.addTask("smart_crop", t4);
    }, t3.prototype.watermark = function(t4) {
      return this.addTask("watermark", t4);
    }, t3.prototype.enhance = function(t4) {
      return this.addTask("enhance", t4 || true);
    }, t3.prototype.redeye = function() {
      return this.addTask("redeye", true);
    }, t3.prototype.monochrome = function() {
      return this.addTask("monochrome", true);
    }, t3.prototype.compress = function(t4) {
      return this.addTask("compress", t4 || true);
    }, t3.prototype.negative = function() {
      return this.addTask("negative", true);
    }, t3.prototype.tags = function() {
      return this.addTask("tags", true);
    }, t3.prototype.sfw = function() {
      return this.addTask("sfw", true);
    }, t3.prototype.animate = function(t4) {
      return this.addTask("animate", t4);
    }, t3.prototype.store = function(t4) {
      return this.addTask("store", t4);
    }, t3.prototype.cache = function(t4) {
      return this.addTask("cache", t4);
    }, t3.prototype.resize = function(t4) {
      return this.addTask("resize", t4);
    }, t3.prototype.crop = function(t4) {
      return this.addTask("crop", t4);
    }, t3.prototype.rotate = function(t4) {
      return this.addTask("rotate", t4);
    }, t3.prototype.detectFaces = function(t4) {
      return this.addTask("detect_faces", t4);
    }, t3.prototype.cropFaces = function(t4) {
      return this.addTask("crop_faces", t4);
    }, t3.prototype.pixelateFaces = function(t4) {
      return this.addTask("pixelate_faces", t4);
    }, t3.prototype.blurFaces = function(t4) {
      return this.addTask("blur_faces", t4);
    }, t3.prototype.roundedCorners = function(t4) {
      return this.addTask("rounded_corners", t4);
    }, t3.prototype.polaroid = function(t4) {
      return this.addTask("polaroid", t4);
    }, t3.prototype.vignette = function(t4) {
      return this.addTask("vignette", t4);
    }, t3.prototype.tornEdges = function(t4) {
      return this.addTask("torn_edges", t4);
    }, t3.prototype.shadow = function(t4) {
      return this.addTask("shadow", t4);
    }, t3.prototype.circle = function(t4) {
      return this.addTask("circle", t4);
    }, t3.prototype.border = function(t4) {
      return this.addTask("border", t4);
    }, t3.prototype.sharpen = function(t4) {
      return this.addTask("sharpen", t4);
    }, t3.prototype.blur = function(t4) {
      return this.addTask("blur", t4);
    }, t3.prototype.blackwhite = function(t4) {
      return this.addTask("blackwhite", t4);
    }, t3.prototype.sepia = function(t4) {
      return this.addTask("sepia", t4);
    }, t3.prototype.pixelate = function(t4) {
      return this.addTask("pixelate", t4);
    }, t3.prototype.oilPaint = function(t4) {
      return this.addTask("oil_paint", t4);
    }, t3.prototype.modulate = function(t4) {
      return this.addTask("modulate", t4);
    }, t3.prototype.partialPixelate = function(t4) {
      return this.addTask("partial_pixelate", t4);
    }, t3.prototype.partialBlur = function(t4) {
      return this.addTask("partial_blur", t4);
    }, t3.prototype.collage = function(t4) {
      return this.addTask("collage", t4);
    }, t3.prototype.upscale = function(t4) {
      return this.addTask("upscale", t4);
    }, t3.prototype.ascii = function(t4) {
      return this.addTask("ascii", t4);
    }, t3.prototype.quality = function(t4) {
      return this.addTask("quality", t4);
    }, t3.prototype.security = function(t4) {
      return this.addTask("security", t4);
    }, t3.prototype.output = function(t4) {
      return this.addTask("output", t4);
    }, t3.prototype.videoConvert = function(t4) {
      return this.addTask("video_convert", t4);
    }, t3.prototype.URLScreenshot = function(t4) {
      return this.addTask("urlscreenshot", t4);
    }, t3.prototype.PDFInfo = function(t4) {
      return this.addTask("pdfinfo", t4);
    }, t3.prototype.PDFConvert = function(t4) {
      return this.addTask("pdfconvert", t4);
    }, t3.prototype.fallback = function(t4) {
      return this.addTask("fallback", t4);
    }, t3.prototype.zip = function() {
      return this.addTask("zip", true);
    }, t3.prototype.minifyCss = function(t4) {
      return this.addTask("minify_css", t4);
    }, t3.prototype.minifyJs = function(t4) {
      return this.addTask("minify_js", t4);
    }, t3.prototype.isSourceExternal = function() {
      if (!this.source)
        throw new q("Source not Set");
      var t4 = Array.isArray(this.source) ? this.source : [this.source];
      for (var e3 in t4)
        if (t4.hasOwnProperty(e3) && (0 === t4[e3].indexOf("src:") || 0 === t4[e3].indexOf("http") && -1 === t4[e3].indexOf("filestackcontent")))
          return true;
      return false;
    }, t3.prototype.validateTasks = function(e3) {
      var n3 = t3.validator(this.arrayToObject(e3, "name", "params"));
      if (n3.errors.length)
        throw new q("Params validation error", n3.errors, R.VALIDATION);
    }, t3.prototype.getCdnHost = function() {
      var t4 = Object.assign({}, $.urls);
      return this.customDomain && (t4.cdnUrl = this.customDomain), (t4 = Object(H.resolveHost)(t4, this.cname)).cdnUrl;
    }, t3.prototype.generateTransformString = function() {
      var t4 = this, e3 = [];
      return this.transforms.forEach(function(n3) {
        e3.push(t4.optionToString(n3.name, n3.params));
      }), e3.join("/");
    }, t3.prototype.optionToString = function(t4, e3) {
      var n3 = this, i3 = [];
      return void 0 === e3 ? t4 : "boolean" == typeof e3 ? e3 || "cache" !== t4 ? t4 : "cache=false" : (Object.keys(e3).forEach(function(t5) {
        Array.isArray(e3[t5]) ? i3.push(t5 + ":" + n3.arrayToString(e3[t5])) : i3.push(t5 + ":" + n3.escapeValue(e3[t5]));
      }), t4 + "=" + i3.join(","));
    }, t3.prototype.escapeValue = function(t4) {
      return "string" != typeof t4 ? t4 : t4.indexOf("/") > -1 || t4.indexOf(",") > -1 ? '"' + t4 + '"' : t4;
    }, t3.prototype.arrayToString = function(t4) {
      var e3 = this;
      return "[" + t4.map(function(t5) {
        return Array.isArray(t5) ? e3.arrayToString(t5) : e3.escapeValue(t5);
      }) + "]";
    }, t3.validator = V(U), t3;
  }(), yt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Store", description: "Filestack Store Options", type: "object", additionalProperties: false, properties: { filename: { oneOf: [{ type: "string" }, { format: "callback" }] }, location: { $ref: "locationsDef" }, path: { type: "string" }, container: { type: "string" }, region: { $ref: "regionsDef" }, access: { type: "string", enum: ["public", "private"], default: "private" }, base64decode: { type: "boolean" }, workflows: { $ref: "workflowsDef" }, disableStorageKey: { type: "boolean" }, tags: { type: "object", additionalProperties: { type: "string" } }, sanitizer: { oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { exclude: { type: "array", items: [{ type: "string" }] }, replacement: { type: "string" } } }] } } }, vt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Preview", description: "Filestack Preview Options", type: "object", additionalProperties: false, properties: { id: { type: "string" }, css: { type: "string" } } }, gt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Upload", description: "Filestack Upload Options", type: "object", additionalProperties: false, properties: { partSize: { type: "integer", minimum: 5242880 }, concurrency: { type: "integer", minimum: 1, maximum: 20 }, progressInterval: { type: "integer", minimum: 1 }, retry: { type: "integer", minimum: 0, maximum: 20 }, retryFactor: { type: "integer" }, retryMaxTime: { type: "integer" }, timeout: { type: "integer", minimum: 1, maximum: 36e5 }, intelligent: { oneOf: [{ type: "boolean" }, { type: "string", enum: ["fallback"] }] }, intelligentChunkSize: { type: "integer" }, onProgress: { format: "callback" }, onRetry: { format: "callback" }, disableIntegrityCheck: { type: "boolean" }, tags: { type: "object", maxItems: 10, additionalProperties: { type: "string", maxlength: 256 } } } }, bt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Picker", description: "Filestack Picker Options", type: "object", additionalProperties: false, properties: { allowManualRetry: { type: "boolean" }, accept: { additionalProperties: false, oneOf: [{ type: "string" }, { type: "array", minItems: 1, items: [{ type: "string" }] }] }, acceptFn: { format: "callback" }, fromSources: { type: "array", items: [{ type: ["string", "object"], additionalProperties: false, enum: ["local_file_system", "url", "imagesearch", "facebook", "instagram", "googledrive", "unsplash", "dropbox", "webcam", "video", "audio", "box", "github", "gmail", "googlephotos", "onedrive", "onedriveforbusiness", "clouddrive", "googlephotos", "customsource", "tint"] }] }, container: { format: "HTMLContainer" }, cleanupImageExif: { oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { keepOrientation: { type: "boolean" }, keepICCandAPP: { type: "boolean" } } }] }, displayMode: { type: "string", enum: ["inline", "overlay", "dropPane"] }, concurrency: { type: "integer", minimum: 1, maximum: 20 }, supportEmail: { type: "string" }, customSourceContainer: { type: "string" }, customSourcePath: { type: "string" }, customSourceName: { type: "string" }, disableStorageKey: { type: "boolean" }, disableTransformer: { type: "boolean" }, disableThumbnails: { type: "boolean" }, exposeOriginalFile: { type: "boolean" }, globalDropZone: { type: "boolean" }, hideModalWhenUploading: { type: "boolean" }, imageDim: { type: "array", minItems: 2, maxItems: 2, items: [{ type: "integer", minimum: 1 }] }, imageMax: { type: "array", minItems: 2, maxItems: 2, items: [{ type: "integer", minimum: 1 }] }, imageMin: { type: "array", minItems: 2, maxItems: 2, items: [{ type: "integer", minimum: 1 }] }, imageMinMaxBlock: { type: "boolean", default: false }, lang: { type: "string", enum: ["ca", "da", "de", "en", "es", "fr", "he", "it", "ja", "ko", "nl", "no", "pl", "pt", "sv", "ru", "vi", "zh", "tr", "ar"] }, minFiles: { type: "integer", minimum: 1, maximum: 1e6 }, maxFiles: { type: "integer", minimum: 1, maximum: 1e6 }, maxSize: { type: "integer", minimum: 1 }, modalSize: { type: "array", minItems: 2, maxItems: 2, items: [{ type: "integer", minimum: 1, maximum: 1e6 }] }, rootId: { type: "string" }, startUploadingWhenMaxFilesReached: { type: "boolean" }, uploadInBackground: { type: "boolean" }, videoResolution: { type: "string" }, onCancel: { format: "callback" }, onClose: { format: "callback" }, onOpen: { format: "callback" }, onFileSelected: { format: "callback" }, onFileUploadCancel: { format: "callback" }, onFileUploadStarted: { format: "callback" }, onFileUploadFinished: { format: "callback" }, onFileUploadFailed: { format: "callback" }, onFileUploadProgress: { format: "callback" }, onUploadStarted: { format: "callback" }, onUploadDone: { format: "callback" }, onFileCropped: { format: "callback" }, storeTo: { additionalProperties: false, type: "object", properties: { filename: { type: "string" }, location: { $ref: "locationsDef" }, container: { type: "string" }, path: { type: "string" }, region: { type: "string" }, access: { type: "string", enum: ["public", "private"] }, workflows: { $ref: "workflowsDef" } } }, viewType: { type: "string", enum: ["grid", "list"] }, transformations: { type: "object", additionalProperties: false, properties: { circle: { type: "boolean" }, rotate: { type: "boolean" }, force: { type: "boolean" }, crop: { oneOf: [{ type: "boolean" }, { type: "object", additionalProperties: false, properties: { force: { type: "boolean" }, aspectRatio: { type: "number" } } }] } } }, customText: { type: "object", patternProperties: { ".*": { type: "string" } } }, cropFiles: { type: "array", minItems: 1 }, loadCss: { type: "string" }, failOverMaxFiles: { type: "boolean" }, dropPane: { type: "object", properties: { cropFiles: { type: "array", minItems: 1 }, customText: { type: "string" }, disableClick: { type: "boolean" }, overlay: { type: "boolean" }, showIcon: { type: "boolean" }, showProgress: { type: "boolean" }, onDragEnter: { format: "callback" }, onProgress: { format: "callback" }, onDragLeave: { format: "callback" }, onDragOver: { format: "callback" }, onDrop: { format: "callback" }, onSuccess: { format: "callback" }, onError: { format: "callback" }, onClick: { format: "callback" } } }, errorsTimeout: { type: "number", minimum: 0 }, customAuthText: { type: "object", patternProperties: { ".*": { additionalProperties: false, type: "object", required: ["top", "bottom"], properties: { top: { type: "string" }, bottom: { type: "string" } } } } }, uploadConfig: { type: "object", additionalProperties: false, properties: Object(l2.a)(Object(l2.a)({}, gt.properties), { tags: { type: "object", additionalProperties: { anyOf: [{ type: "string" }, { format: "callback" }] } } }) }, useSentryBreadcrumbs: { type: "boolean" }, pasteMode: { type: "object", additionalProperties: false, properties: { pasteToFirstInViewPort: { type: "boolean" }, pasteToFirstInstance: { type: "boolean" } } } } }, xt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Metadata", description: "Filestack Metadata Options", type: "object", additionalProperties: false, properties: { size: { type: "boolean" }, mimetype: { type: "boolean" }, filename: { type: "boolean" }, width: { type: "boolean" }, metadata: { type: "boolean" }, height: { type: "boolean" }, uploaded: { type: "boolean" }, writeable: { type: "boolean" }, cloud: { type: "boolean" }, sourceUrl: { type: "boolean" }, md5: { type: "boolean" }, sha1: { type: "boolean" }, sha224: { type: "boolean" }, sha256: { type: "boolean" }, sha384: { type: "boolean" }, sha512: { type: "boolean" }, location: { type: "boolean" }, path: { type: "boolean" }, container: { type: "boolean" }, exif: { type: "boolean" } } }, kt = { $schema: "http://json-schema.org/draft-07/schema#", title: "Filestack Retrieve", description: "Filestack Retrieve Options", type: "object", additionalProperties: false, properties: { metadata: { type: "boolean" }, head: { type: "boolean" }, dl: { type: "boolean" }, cache: { type: "boolean" }, extension: { type: "string" } } }, wt = n2(6), _t = n2(16), jt = Z()("fs:request:dispatch"), Ot = function() {
    function t3(t4) {
      this.adapter = t4;
    }
    return t3.prototype.request = function(t4) {
      var e3 = this;
      return t4.headers = t4.headers || {}, jt("Dispatching request %O", t4), this.adapter.request(t4).catch(function(t5) {
        return jt('Request error "%s": %O', t5, t5.response), e3.retry(t5);
      });
    }, t3.prototype.retry = function(t4) {
      var e3 = this, n3 = t4.config;
      if (!Object(_t.a)(t4))
        return jt("[Retry] Request error is not retriable. Exiting"), Promise.reject(t4);
      if (!n3.retry)
        return jt("[Retry] Retry config not found. Exiting"), Promise.reject(t4);
      var i3 = n3.retry, r3 = n3.runtime && n3.runtime.retryCount ? n3.runtime.retryCount : 0;
      if (i3.retry && i3.retry <= r3)
        return jt("[Retry] Retry attempts reached %d. Exiting", r3), Promise.reject(t4);
      var o2 = Math.max(Math.min(i3.retryMaxTime, 1e3 * Math.pow(i3.retryFactor, r3)), 1);
      return n3.runtime = Object(l2.a)(Object(l2.a)({}, n3.runtime), { retryCount: r3 + 1 }), jt("[Retry] Retrying request to " + n3.url + ", count " + r3 + " of " + i3.retry + " - Delay: " + o2), new Promise(function(t5) {
        setTimeout(function() {
          return t5(e3.request(n3));
        }, o2);
      });
    }, t3;
  }(), St = n2(43).XhrAdapter, Et = function() {
    function t3(t4) {
      this.defaults = t4, this.dispatcher = new Ot(new St());
    }
    return t3.getInstance = function() {
      return t3.instance || (t3.instance = new t3()), t3.instance;
    }, t3.prototype.dispatch = function(t4) {
      return t4.method || (t4.method = wt.a.GET), this.dispatcher.request(Object.assign({}, this.defaults, t4));
    }, t3.dispatch = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { url: e3 }));
    }, t3.get = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { method: wt.a.GET, url: e3 }));
    }, t3.head = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { method: wt.a.HEAD, url: e3 }));
    }, t3.options = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { method: wt.a.OPTIONS, url: e3 }));
    }, t3.purge = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { method: wt.a.PURGE, url: e3 }));
    }, t3.delete = function(e3, n3) {
      return t3.getInstance().dispatch(Object.assign({}, n3 || {}, { method: wt.a.DELETE, url: e3 }));
    }, t3.post = function(e3, n3, i3) {
      return t3.getInstance().dispatch(Object.assign({}, i3 || {}, { method: wt.a.POST, url: e3, data: n3 }));
    }, t3.put = function(e3, n3, i3) {
      return t3.getInstance().dispatch(Object.assign({}, i3 || {}, { method: wt.a.PUT, url: e3, data: n3 }));
    }, t3.path = function(e3, n3, i3) {
      return t3.getInstance().dispatch(Object.assign({}, i3 || {}, { method: wt.a.PATH, url: e3, data: n3 }));
    }, t3;
  }(), Ct = n2(2), Tt = function(t3) {
    function e3() {
      return null !== t3 && t3.apply(this, arguments) || this;
    }
    return Object(l2.c)(e3, t3), e3.prototype.cancel = function(t4) {
      this.emit("cancel", t4), this.removeAllListeners();
    }, e3;
  }(f.EventEmitter), At = function(t3, e3, n3, i3) {
    if (!e3 || "string" != typeof e3)
      throw new q("A valid Filestack handle is required for remove");
    if (!(t3.policy && t3.signature || i3 && i3.policy && i3.signature))
      throw new q("Security policy and signature are required for remove");
    var r3 = t3.urls.fileApiUrl + "/" + e3, o2 = { key: t3.apikey, policy: i3 && i3.policy || t3.policy, signature: i3 && i3.signature || t3.signature };
    return n3 && (o2.skip_storage = true), Et.delete(r3, { filestackHeaders: false, params: Object(H.removeEmpty)(o2) });
  };
  function Pt(t3) {
    return (Pt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var Ft, It, zt, Nt, Mt, Rt, $t, qt, Ut, Dt, Lt, Bt, Vt, Ht, Wt, Zt, Jt, Yt;
  !function(t3) {
    t3.left = "left", t3.right = "right", t3.center = "center", t3.bottom = "bottom", t3.top = "top";
  }(Ft || (Ft = {})), function(t3) {
    t3.left = "left", t3.right = "right", t3.center = "center", t3.bottom = "bottom", t3.top = "top", t3.faces = "faces";
  }(It || (It = {})), function(t3) {
    t3.clip = "clip", t3.crop = "crop", t3.scale = "scale", t3.max = "max";
  }(zt || (zt = {})), function(t3) {
    t3.linear = "linear", t3.gaussian = "gaussian";
  }(Nt || (Nt = {})), function(t3) {
    t3.oval = "oval", t3.rect = "rect";
  }(Mt || (Mt = {})), function(t3) {
    t3.none = "none", t3.low = "low", t3.medium = "medium", t3.high = "high";
  }(Rt || (Rt = {})), function(t3) {
    t3.artwork = "artwork", t3.photo = "photo";
  }($t || ($t = {})), function(t3) {
    t3.RGB = "RGB", t3.CMYK = "CMYK", t3.Input = "Input";
  }(qt || (qt = {})), function(t3) {
    t3.thumb = "thumb", t3.crop = "crop", t3.fill = "fill";
  }(Ut || (Ut = {})), function(t3) {
    t3.fit = "fit", t3.auto = "auto";
  }(Dt || (Dt = {})), function(t3) {
    t3.top = "top", t3.middle = "middle", t3.bottom = "bottom", t3.left = "left", t3.center = "center", t3.right = "right";
  }(Lt || (Lt = {})), function(t3) {
    t3.h264 = "h264", t3.h264_hi = "h264.hi", t3.webm = "webm", t3["webm-hi"] = "webm.hi", t3.ogg = "ogg", t3["ogg-hi"] = "ogg.hi", t3["hls-variant"] = "hls.variant", t3.mp3 = "mp3", t3.oga = "oga", t3.m4a = "m4a", t3.aac = "aac", t3.hls = "hls.variant.audio";
  }(Bt || (Bt = {})), function(t3) {
    t3.desktop = "desktop", t3.mobile = "mobile";
  }(Vt || (Vt = {})), function(t3) {
    t3.all = "all", t3.window = "window";
  }(Ht || (Ht = {})), function(t3) {
    t3.portrait = "portrait", t3.landscape = "landscape";
  }(Wt || (Wt = {})), function(t3) {
    t3.s3 = "s3", t3.azure = "azure", t3.gcs = "gcs", t3.rackspace = "rackspace", t3.dropbox = "dropbox";
  }(Zt || (Zt = {})), function(t3) {
    t3.private = "private", t3.public = "public";
  }(Jt || (Jt = {})), function(t3) {
    t3.preserve = "preserve", t3.constrain = "constrain", t3.letterbox = "letterbox", t3.pad = "pad", t3.crop = "crop";
  }(Yt || (Yt = {}));
  var Gt = function(t3, e3, n3, i3) {
    void 0 === n3 && (n3 = {}), void 0 === i3 && (i3 = false), n3 = function t4(e4) {
      for (var n4 = {}, i4 = Object.keys(e4), r4 = 0; r4 < i4.length; r4++) {
        var o2 = i4[r4].split(/(?=[A-Z])/).join("_").toLowerCase();
        "object" !== Pt(e4[i4[r4]]) || Array.isArray(e4[i4[r4]]) ? n4[o2] = e4[i4[r4]] : n4[o2] = t4(e4[i4[r4]]);
      }
      return n4;
    }(n3), t3.policy && t3.signature && (n3.security = { policy: t3.policy, signature: t3.signature });
    var r3 = new ht(e3, t3.apikey);
    return r3.setCname(t3.cname), r3.setBase64(i3), Object.keys(n3).forEach(function(t4) {
      ("boolean" != typeof n3[t4] || n3[t4] || "cache" === t4) && r3.addTask(t4, n3[t4]);
    }), r3.toString();
  };
  function Kt(t3) {
    return (Kt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
      return typeof t4;
    } : function(t4) {
      return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
    })(t3);
  }
  var Qt, Xt = function() {
    function t3(t4, e3) {
      this._file = t4, this._sanitizeOptions = e3, this._file.name = Object(H.sanitizeName)(this._file.name, this._sanitizeOptions);
    }
    return Object.defineProperty(t3.prototype, "name", { get: function() {
      return this._file.name;
    }, set: function(t4) {
      this._file.name = Object(H.sanitizeName)(t4, this._sanitizeOptions);
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "filename", { get: function() {
      return this.name;
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "customName", { set: function(t4) {
      switch (Kt(t4)) {
        case "string":
          this.name = t4;
          break;
        case "function":
          if ("string" != typeof t4(this))
            throw new Error("Name function must return a string. Current return type is " + Kt(t4));
          this.name = t4(this);
      }
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "type", { get: function() {
      return this._file.type || "application/octet-stream";
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "mimetype", { get: function() {
      return this.type;
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "size", { get: function() {
      return this._file.size;
    }, enumerable: true, configurable: true }), t3.prototype.getPartsCount = function(t4) {
      return Math.ceil(this._file.size / t4);
    }, t3.prototype.getPartMetadata = function(t4, e3) {
      var n3 = e3 * t4;
      if (n3 > this._file.size)
        throw new Error("Start byte of the part is higher than buffer size");
      var i3 = Math.min(n3 + e3, this._file.size);
      return { partNumber: t4, startByte: n3, endByte: i3, size: i3 - n3 };
    }, t3.prototype.getPartByMetadata = function(t4, e3) {
      return void 0 === e3 && (e3 = true), Object(l2.b)(this, void 0, void 0, function() {
        var n3;
        return Object(l2.d)(this, function(i3) {
          switch (i3.label) {
            case 0:
              return [4, this._file.slice(t4.startByte, t4.endByte)];
            case 1:
              return n3 = i3.sent(), [2, Promise.resolve(Object(l2.a)(Object(l2.a)({}, t4), { buffer: n3, md5: e3 ? Object(H.md5)(n3) : void 0 }))];
          }
        });
      });
    }, t3.prototype.getChunkByMetadata = function(t4, e3, n3, i3) {
      return void 0 === i3 && (i3 = true), Object(l2.b)(this, void 0, void 0, function() {
        var r3, o2, a3;
        return Object(l2.d)(this, function(s3) {
          switch (s3.label) {
            case 0:
              return r3 = t4.startByte + e3, o2 = Math.min(r3 + n3, t4.endByte), [4, this._file.slice(r3, o2)];
            case 1:
              return a3 = s3.sent(), [2, Promise.resolve(Object(l2.a)(Object(l2.a)({}, t4), { buffer: a3, md5: i3 ? Object(H.md5)(a3) : void 0, size: a3.byteLength, startByte: r3, endByte: o2, offset: e3 }))];
          }
        });
      });
    }, t3.prototype.release = function() {
      this._file.release && this._file.release();
    }, t3.prototype.toJSON = function() {
      return { name: this.name, status: this.status, type: this.type, size: this.size, url: this.url, handle: this.handle, uploadTags: this.uploadTags };
    }, t3;
  }(), te = n2(17), ee = n2.n(te), ne = /data:([a-zA-Z]*\/[a-zA-Z]*);base64,([^\"]*)/i, ie = function(t3, e3, n3) {
    return new Promise(function(i3, r3) {
      var o2 = new FileReader(), a3 = n3.slice(t3, e3);
      o2.onload = function() {
        return i3(o2.result);
      }, o2.onerror = r3, o2.readAsArrayBuffer(a3);
    });
  }, re = function(t3, e3) {
    var n3, i3;
    if (function(t4) {
      return t4 && t4.file && t4.name;
    }(t3) && (n3 = t3.name, t3 = t3.file), function(t4) {
      return t4 instanceof File;
    }(t3))
      i3 = t3, n3 = t3.name;
    else if (function(t4) {
      if ("string" != typeof t4)
        return false;
      t4.indexOf("base64") > -1 && (t4 = t4.match(ne).pop());
      try {
        return btoa(atob(t4)) === t4;
      } catch (t5) {
        return false;
      }
    }(t3))
      i3 = function(t4, e4) {
        void 0 === e4 && (e4 = 512);
        var n4 = "";
        if (t4.indexOf("base64") > -1) {
          var i4 = t4.match(ne);
          t4 = i4.pop(), n4 = i4[1];
        }
        for (var r3 = atob(t4), o2 = [], a3 = 0; a3 < r3.length; a3 += e4) {
          for (var s3 = r3.slice(a3, a3 + e4), c3 = new Array(s3.length), p3 = 0; p3 < s3.length; p3 += 1)
            c3[p3] = s3.charCodeAt(p3);
          o2.push(new Uint8Array(c3));
        }
        return new Blob(o2, { type: n4 });
      }(t3);
    else {
      if (!function(t4) {
        return "[object Blob]" === t4.toString();
      }(t3))
        return Promise.reject(new q("Unsupported input file type"));
      i3 = t3;
    }
    return function(t4) {
      return Object(l2.b)(void 0, void 0, void 0, function() {
        return Object(l2.d)(this, function(e4) {
          return File && FileReader && Blob ? [2, Promise.resolve({ slice: function(e5, n4) {
            return ie(e5, n4, t4);
          }, release: function() {
            t4 = null;
          } })] : [2, Promise.reject(new q("The File APIs are not fully supported by your browser"))];
        });
      });
    }(i3).then(function(t4) {
      return Object(l2.b)(void 0, void 0, void 0, function() {
        var r3, o2;
        return Object(l2.d)(this, function(a3) {
          switch (a3.label) {
            case 0:
              return r3 = i3.type, i3.type && 0 !== i3.type.length && "text/plain" !== i3.type ? [3, 2] : (o2 = H.getMimetype, [4, t4.slice(0, ee.a.minimumBytes)]);
            case 1:
              r3 = o2.apply(void 0, [a3.sent(), n3]), a3.label = 2;
            case 2:
              return [2, new Xt({ name: n3, size: i3.size, type: r3, slice: t4.slice, release: t4.release }, e3)];
          }
        });
      });
    });
  }, oe = n2(29), ae = n2.n(oe), se = n2(11), ce = Z()("fs:upload:abstract"), pe = function(t3) {
    function e3(e4, n3) {
      void 0 === n3 && (n3 = 3);
      var i3 = t3.call(this) || this;
      return i3.storeOptions = e4, i3.concurrency = n3, i3.partSize = 6291456, i3.intelligentChunkSize = Object(H.isMobile)() ? 1048576 : 8388608, i3.timeout = 3e4, i3.uploadMode = "default", i3.isModeLocked = false, i3.integrityCheck = true, i3.uploadTags = null, i3;
    }
    return Object(l2.c)(e3, t3), e3.prototype.setSecurity = function(t4) {
      ce("Set security %O", t4), this.security = t4;
    }, e3.prototype.setApikey = function(t4) {
      ce("Set apikey to " + t4), this.apikey = t4;
    }, e3.prototype.setTimeout = function(t4) {
      ce("Set request timeout to " + t4), this.timeout = t4;
    }, e3.prototype.setRetryConfig = function(t4) {
      ce("Set retry config to " + t4), this.retryConfig = t4;
    }, e3.prototype.setUrl = function(t4) {
      ce("Set upload url to " + t4), this.url = t4;
    }, e3.prototype.setUploadTags = function(t4) {
      ce("Set tags to %O", t4), this.uploadTags = t4;
    }, e3.prototype.setIntegrityCheck = function(t4) {
      this.integrityCheck = t4;
    }, e3.prototype.setUploadMode = function(t4, e4) {
      void 0 === e4 && (e4 = false), true !== this.isModeLocked ? (this.isModeLocked = e4, ce("Set upload mode to " + t4), this.uploadMode = t4) : ce("Cannot switch mode to " + t4 + ". Locked! Probably mode is not supported at this apikey");
    }, e3.prototype.setPartSize = function(t4) {
      if ("default" === this.uploadMode) {
        if (ce("Set part size to " + t4), t4 < 5242880)
          throw new q("Minimum part size is 5MB");
        this.partSize = t4;
      } else
        ce("Cannot set part size because upload mode is other than default. ");
    }, e3.prototype.getPartSize = function() {
      return this.partSize;
    }, e3.prototype.setIntelligentChunkSize = function(t4) {
      if (ce("Set inteligent chunk size to " + t4), t4 < 32768)
        throw new q("Minimum intelligent chunk size is 32768");
      this.intelligentChunkSize = t4;
    }, e3.prototype.getIntelligentChunkSize = function() {
      return this.intelligentChunkSize;
    }, e3.prototype.getUrl = function() {
      if (!this.url)
        throw new q("Upload url not set");
      return this.url;
    }, e3;
  }(f), ue = Z()("fs:upload:s3"), le = function(t3) {
    function e3(e4, n3) {
      var i3 = t3.call(this, e4, n3) || this;
      return i3.payloads = {}, i3.partsQueue = new ae.a({ autoStart: false, concurrency: i3.concurrency }), i3.cancelToken = new Tt(), i3;
    }
    return Object(l2.c)(e3, t3), e3.prototype.pause = function() {
      this.partsQueue.pause();
    }, e3.prototype.resume = function() {
      this.partsQueue.isPaused && this.partsQueue.start();
    }, e3.prototype.abort = function(t4) {
      this.partsQueue.pause(), this.partsQueue.clear(), this.cancelToken.cancel(t4 || "Aborted by user");
    }, e3.prototype.execute = function() {
      return Object(l2.b)(this, void 0, void 0, function() {
        var t4, e4 = this;
        return Object(l2.d)(this, function(n3) {
          return t4 = Object.keys(this.payloads).map(function(t5) {
            return new Promise(function(n4) {
              return Object(l2.b)(e4, void 0, void 0, function() {
                var e5, i3;
                return Object(l2.d)(this, function(r3) {
                  switch (r3.label) {
                    case 0:
                      return r3.trys.push([0, 5, , 6]), [4, this.startRequest(t5)];
                    case 1:
                      return r3.sent(), [4, this.prepareParts(t5)];
                    case 2:
                      return r3.sent(), [4, this.startPartsQueue(t5)];
                    case 3:
                      return r3.sent(), [4, this.completeRequest(t5)];
                    case 4:
                      return r3.sent(), [3, 6];
                    case 5:
                      return e5 = r3.sent(), this.emit("error", e5), ue("[" + t5 + "] File upload failed. %O, \nDetails: %O ", e5.message, e5.details), [3, 6];
                    case 6:
                      return (i3 = this.getPayloadById(t5).file).release(), delete this.payloads[t5], n4(i3), [2];
                  }
                });
              });
            });
          }), [2, Promise.all(t4)];
        });
      });
    }, e3.prototype.addFile = function(t4) {
      ue("Add file to queue: \n %o", t4);
      var e4 = Object(H.uniqueId)(15) + "_" + Object(H.uniqueTime)();
      return t4.status = "Initialized", this.payloads[e4] = { file: t4, parts: [] }, e4;
    }, e3.prototype.getUploadUrl = function(t4) {
      var e4 = this.getDefaultFields(t4, ["location_url"]).location_url;
      return 0 === e4.indexOf("http") ? e4 : "https://" + e4;
    }, e3.prototype.getStoreOptions = function(t4) {
      var e4 = Object(l2.a)({ location: "s3" }, this.storeOptions);
      if (this.storeOptions.disableStorageKey) {
        var n3 = this.getPayloadById(t4);
        e4.path && "/" !== e4.path.substr(-1) && (e4.path = e4.path + "/"), e4.path = "" + (e4.path ? e4.path : "/") + n3.file.name, delete e4.disableStorageKey;
      }
      return e4;
    }, e3.prototype.getDefaultFields = function(t4, e4, n3) {
      void 0 === n3 && (n3 = false);
      var i3 = this.getPayloadById(t4), r3 = Object(l2.a)(Object(l2.a)({}, this.security), { apikey: this.apikey, uri: i3.uri, location_url: i3.location_url, upload_id: i3.upload_id, region: i3.region });
      return ("intelligent" === this.uploadMode || "fallback" === this.uploadMode && n3) && (r3.fii = true), Object(l2.a)(Object(l2.a)({}, Object(H.filterObject)(r3, e4)), { store: this.getStoreOptions(t4) });
    }, e3.prototype.getDefaultHeaders = function(t4) {
      var e4 = {}, n3 = this.getPayloadById(t4);
      return n3.location_region && (e4["Filestack-Upload-Region"] = n3.location_region), e4;
    }, e3.prototype.getPayloadById = function(t4) {
      return this.payloads[t4];
    }, e3.prototype.prepareParts = function(t4) {
      var e4 = this.getPayloadById(t4).file;
      ["intelligent", "fallback"].indexOf(this.uploadMode) > -1 && (this.partSize = 8388608);
      for (var n3 = e4.getPartsCount(this.partSize), i3 = [], r3 = 0; r3 < n3; r3++)
        i3[r3] = Object(l2.a)(Object(l2.a)({}, e4.getPartMetadata(r3, this.partSize)), { offset: 0 });
      return this.payloads[t4].parts = i3, Promise.resolve();
    }, e3.prototype.startRequest = function(t4) {
      var e4 = this, n3 = this.getPayloadById(t4);
      return 0 === n3.file.size ? (this.setPayloadStatus(t4, "Failed"), Promise.reject(new q('Invalid file "' + n3.file.name + '" size - 0', {}, R.VALIDATION))) : (ue("[" + t4 + "] Make start request"), Et.post(this.getUrl() + "/multipart/start", Object(l2.a)({ filename: n3.file.name, mimetype: n3.file.type, size: n3.file.size }, this.getDefaultFields(t4, ["apikey", "policy", "signature", "fii"], true)), { timeout: this.timeout, cancelToken: this.cancelToken, headers: this.getDefaultHeaders(t4), retry: this.retryConfig }).then(function(n4) {
        var i3 = n4.data;
        return i3 && i3.location_url && i3.region && i3.upload_id && i3.uri ? (ue("[" + t4 + "] Assign payload data: \n%O\n", i3), e4.updatePayload(t4, i3), ["intelligent", "fallback"].indexOf(e4.uploadMode) > -1 && (!i3.upload_type || "intelligent_ingestion" !== i3.upload_type) && (ue("[" + t4 + "] Intelligent Ingestion is not enabled on account, switch back to regular upload and lock mode change"), e4.setUploadMode("default", true)), i3) : (ue("[" + t4 + "] Incorrect start response: \n%O\n", i3), e4.setPayloadStatus(t4, "Failed"), Promise.reject(new q("Incorrect start response", i3, R.REQUEST)));
      }).catch(function(n4) {
        return ue("[" + t4 + "] Start request error %O", n4), e4.setPayloadStatus(t4, "Failed"), e4.rejectUpload("Cannot upload file. Start request failed", n4);
      }));
    }, e3.prototype.startPartsQueue = function(t4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var e4, n3, i3, r3 = this;
        return Object(l2.d)(this, function(o2) {
          return e4 = this.getPayloadById(t4), n3 = e4.parts, i3 = n3.length, ue("[" + t4 + "] Create uploading queue from file. parts count - %d", i3), [2, new Promise(function(e5, i4) {
            return Object(l2.b)(r3, void 0, void 0, function() {
              var r4, o3 = this;
              return Object(l2.d)(this, function(a3) {
                switch (a3.label) {
                  case 0:
                    return n3.forEach(function(e6) {
                      return o3.partsQueue.add(function() {
                        return o3.startPart(t4, e6.partNumber);
                      }).catch(function(e7) {
                        return o3.setPayloadStatus(t4, "Failed"), ue("[" + t4 + "] Failed to upload part %s", e7.message), o3.partsQueue.pause(), o3.partsQueue.clear(), i4(e7);
                      });
                    }), ue("[" + t4 + "] All tasks for %s enqueued. Start processing main upload queue", t4), this.emit("start"), this.partsQueue.start(), r4 = e5, [4, this.partsQueue.onIdle()];
                  case 1:
                    return r4.apply(void 0, [a3.sent()]), [2];
                }
              });
            });
          })];
        });
      });
    }, e3.prototype.startPart = function(t4, e4) {
      return ue("[" + t4 + "] Start processing part " + e4 + " with mode " + this.uploadMode), this.getPayloadById(t4).file.status = "Progress", ("intelligent" !== this.uploadMode ? this.uploadRegular : this.uploadIntelligent).apply(this, [t4, e4]);
    }, e3.prototype.getS3PartMetadata = function(t4, e4, n3) {
      var i3 = this, r3 = this.getUploadUrl(t4);
      ue("[" + t4 + "] Get data for part " + e4.partNumber + ", url " + r3 + ", Md5: " + e4.md5 + ", Size: " + e4.size);
      var o2 = Object(l2.a)(Object(l2.a)({}, this.getDefaultFields(t4, ["apikey", "uri", "region", "signature", "policy", "upload_id", "fii"])), { part: e4.partNumber + 1, size: e4.size, offset: n3 });
      return this.integrityCheck && e4.md5 && (o2.md5 = e4.md5), Et.post(r3 + "/multipart/upload", o2, { headers: this.getDefaultHeaders(t4), cancelToken: this.cancelToken, timeout: this.timeout, retry: this.retryConfig }).catch(function(e5) {
        return i3.setPayloadStatus(t4, "Failed"), i3.rejectUpload("Cannot get part metadata", e5);
      });
    }, e3.prototype.uploadRegular = function(t4, e4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var n3, i3, r3, o2, a3, s3, c3 = this;
        return Object(l2.d)(this, function(p3) {
          switch (p3.label) {
            case 0:
              return n3 = this.getPayloadById(t4), i3 = n3.parts[e4], [4, n3.file.getPartByMetadata(i3, this.integrityCheck)];
            case 1:
              return r3 = p3.sent(), [4, this.getS3PartMetadata(t4, r3)];
            case 2:
              return o2 = p3.sent(), a3 = o2.data, s3 = o2.headers, ue("[" + t4 + "] Received part " + e4 + " info body: \n%O\n headers: \n%O\n", a3, s3), [2, Et.put(a3.url, r3.buffer, { cancelToken: this.cancelToken, timeout: this.timeout, headers: a3.headers, filestackHeaders: false, onProgress: function(n4) {
                return c3.onProgressUpdate(t4, e4, n4.loaded);
              }, retry: this.retryConfig && "fallback" !== this.uploadMode ? this.retryConfig : void 0 }).then(function(n4) {
                if (!n4.headers.etag)
                  throw r3 = null, new q("Cannot upload file, check S3 bucket settings", "Etag header is not exposed in CORS settings", R.REQUEST);
                return c3.setPartETag(t4, e4, n4.headers.etag), ue("[" + t4 + "] S3 Upload response headers for " + e4 + ": \n%O\n", n4.headers), c3.onProgressUpdate(t4, e4, r3.size), r3 = null, n4;
              }).catch(function(n4) {
                var i4 = n4 && n4.response ? n4.response : null;
                if (i4 && 403 === i4.status && i4.data && i4.data.Error && i4.data.Error.code) {
                  var o3 = i4.data.Error.code;
                  switch (Array.isArray(o3) && (o3 = o3.pop()), o3) {
                    case "RequestTimeTooSkewed":
                      return c3.startPart(t4, e4);
                    default:
                      return Promise.reject(new q("Cannot upload file", i4.data.Error, R.REQUEST));
                  }
                }
                return r3 = null, n4 instanceof q ? Promise.reject(n4) : (c3.onProgressUpdate(t4, e4, 0), "fallback" === c3.uploadMode && !c3.isModeLocked || "intelligent" === c3.uploadMode ? (ue("[" + t4 + "] Regular upload failed. Switching to intelligent ingestion mode"), c3.setUploadMode("intelligent"), c3.startPart(t4, e4)) : c3.rejectUpload("Cannot upload file part", n4));
              })];
          }
        });
      });
    }, e3.prototype.uploadIntelligent = function(t4, e4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var n3 = this;
        return Object(l2.d)(this, function(i3) {
          return [2, this.uploadNextChunk(t4, e4).then(function() {
            return n3.commitPart(t4, e4);
          })];
        });
      });
    }, e3.prototype.uploadNextChunk = function(t4, e4, n3) {
      return void 0 === n3 && (n3 = this.intelligentChunkSize), Object(l2.b)(this, void 0, void 0, function() {
        var i3, r3, o2, a3, s3 = this;
        return Object(l2.d)(this, function(c3) {
          switch (c3.label) {
            case 0:
              return i3 = this.getPayloadById(t4), r3 = i3.parts[e4], n3 = Math.min(n3, r3.size - r3.offset), [4, i3.file.getChunkByMetadata(r3, r3.offset, n3, this.integrityCheck)];
            case 1:
              return o2 = c3.sent(), ue("[" + t4 + "] PartNum: " + e4 + ", PartSize: " + r3.size + ", StartByte: " + r3.startByte + ", Offset: " + r3.offset + ", ChunkSize: " + o2.size + ",\n       Left: " + (r3.size - r3.offset - o2.size)), [4, this.getS3PartMetadata(t4, o2, r3.offset).catch(function(i4) {
                return ue("[" + t4 + "] Getting chunk data for ii failed %O, Chunk size: " + n3 + ", offset " + r3.offset + ", part " + e4, i4), Promise.reject(i4);
              })];
            case 2:
              return a3 = c3.sent().data, [2, Et.put(a3.url, o2.buffer, { cancelToken: this.cancelToken, timeout: this.timeout, headers: a3.headers, filestackHeaders: false, onProgress: function(n4) {
                return r3 ? s3.onProgressUpdate(t4, e4, r3.offset + n4.loaded) : null;
              } }).then(function(i4) {
                s3.onProgressUpdate(t4, e4, r3.offset + o2.size);
                var a4 = Math.min(r3.offset + n3, r3.size);
                return ue("[" + t4 + "] S3 Chunk uploaded! offset: " + r3.offset + ", part " + e4 + "! response headers for " + e4 + ": \n%O\n", i4.headers), s3.setPartData(t4, e4, "offset", a4), a4 === r3.size ? Promise.resolve(i4) : (r3 = null, o2 = null, s3.uploadNextChunk(t4, e4, n3));
              }).catch(function(i4) {
                var a4 = i4 && i4.response ? i4.response : null;
                if (a4 && 403 === a4.status && a4.data && a4.data.Error && a4.data.Error.code) {
                  var c4 = a4.data.Error.code;
                  switch (Array.isArray(c4) && (c4 = c4.pop()), c4) {
                    case "RequestTimeTooSkewed":
                      return s3.startPart(t4, e4);
                    default:
                      return Promise.reject(new q("Cannot upload file", a4.data.Error, R.REQUEST));
                  }
                }
                s3.onProgressUpdate(t4, e4, r3.offset);
                var p3 = Math.ceil(n3 / 2);
                return p3 < 32768 ? (ue("[" + t4 + "] Minimal chunk size limit. Upload file failed!"), Promise.reject(new q("Min chunk size reached", i4.data, R.REQUEST))) : Object(se.e)(i4) ? (ue("[" + t4 + "] Request network error. Retry with new chunk size: " + p3), s3.uploadNextChunk(t4, e4, p3)) : (r3 = null, o2 = null, s3.rejectUpload("Cannot upload file part (FII)", i4));
              })];
          }
        });
      });
    }, e3.prototype.commitPart = function(t4, e4) {
      var n3 = this, i3 = this.getPayloadById(t4), r3 = i3.parts[e4];
      return Et.post(this.getUploadUrl(t4) + "/multipart/commit", Object(l2.a)(Object(l2.a)({}, this.getDefaultFields(t4, ["apikey", "region", "upload_id", "policy", "signature", "uri"])), { size: i3.file.size, part: r3.partNumber + 1 }), { cancelToken: this.cancelToken, timeout: this.timeout, headers: this.getDefaultHeaders(t4), retry: this.retryConfig }).then(function(e5) {
        return ue("[" + t4 + "] Commit Part number " + r3.partNumber + ". Response: %O", e5.data), e5;
      }).catch(function(t5) {
        return n3.rejectUpload("Cannot commit file part metadata", t5);
      });
    }, e3.prototype.completeRequest = function(t4) {
      var e4 = this, n3 = this.getPayloadById(t4), i3 = [];
      ue("[" + t4 + "] Run complete request");
      for (var r3 = n3.parts, o2 = r3.length, a3 = 0; a3 < o2; a3++)
        r3[a3].etag && i3.push({ part_number: a3 + 1, etag: r3[a3].etag });
      return ue("[" + t4 + "] Etags %O", i3), Et.post(this.getUploadUrl(t4) + "/multipart/complete", Object(l2.a)(Object(l2.a)({}, this.getDefaultFields(t4, ["apikey", "policy", "signature", "uri", "region", "upload_id", "fii"], true)), { filename: n3.file.name, mimetype: n3.file.type, size: n3.file.size, upload_tags: this.uploadTags && Object.keys(this.uploadTags).length ? this.uploadTags : void 0, parts: i3.length ? i3 : void 0 }), { timeout: this.timeout, cancelToken: this.cancelToken, headers: this.getDefaultHeaders(t4), retry: this.retryConfig }).then(function(n4) {
        if (202 === n4.status)
          return new Promise(function(n5, i5) {
            setTimeout(function() {
              return e4.completeRequest(t4).then(n5).catch(i5);
            }, 1e3);
          });
        var i4 = e4.getPayloadById(t4).file;
        return i4.handle = n4.data.handle, i4.url = n4.data.url, i4.container = n4.data.container, i4.key = n4.data.key, i4.uploadTags = n4.data.upload_tags, i4.workflows = n4.data.workflows, i4.status = n4.data.status, i4;
      }).catch(function(n4) {
        return e4.setPayloadStatus(t4, "Failed"), e4.rejectUpload("Cannot complete file", n4);
      });
    }, e3.prototype.onProgressUpdate = function(t4, e4, n3) {
      this.setPartData(t4, e4, "progress", n3), this.emitProgress();
    }, e3.prototype.emitProgress = function() {
      var t4 = 0, e4 = 0, n3 = {};
      for (var i3 in this.payloads) {
        var r3 = this.payloads[i3];
        if ("Failed" !== r3.file.status) {
          var o2 = r3.parts.map(function(t5) {
            return t5.progress || 0;
          }).reduce(function(t5, e5) {
            return t5 + e5;
          }, 0);
          e4 += o2, n3[i3] = { totalBytes: o2, totalPercent: Math.round(100 * o2 / r3.file.size) || 0 }, t4 += r3.file.size;
        }
      }
      var a3 = { totalBytes: e4 || 0, totalPercent: Math.round(100 * e4 / t4) || 0, files: n3 };
      ue("Upload progress %O", a3), this.emit("progress", a3);
    }, e3.prototype.updatePayload = function(t4, e4) {
      this.payloads[t4] = Object(l2.a)(Object(l2.a)({}, this.payloads[t4]), e4);
    }, e3.prototype.setPartETag = function(t4, e4, n3) {
      ue("[" + t4 + "] Set " + n3 + " etag for part " + e4), this.getPayloadById(t4).parts[e4].etag = n3;
    }, e3.prototype.setPartData = function(t4, e4, n3, i3) {
      ue("[" + t4 + "] Set " + n3 + " = " + i3 + " for part " + e4);
      var r3 = this.getPayloadById(t4);
      r3 ? r3.parts[e4][n3] = i3 : ue("[" + t4 + "] Cannot set " + n3 + " = " + i3 + " for part " + e4);
    }, e3.prototype.setPayloadStatus = function(t4, e4) {
      ue("[" + t4 + "] Set payload status to " + e4), this.payloads[t4] && (this.payloads[t4].file.status = e4);
    }, e3.prototype.parseError = function(t4) {
      return t4.response ? { code: t4.response.status, data: t4.response.data, headers: t4.response.headers } : {};
    }, e3.prototype.rejectUpload = function(t4, e4) {
      return e4 instanceof Ct.a && e4.code === Ct.b.ABORTED ? Promise.reject(new q(t4, { reason: e4.message }, R.ABORTED)) : Promise.reject(new q(t4, this.parseError(e4), R.REQUEST));
    }, e3;
  }(pe), fe = function(t3, e3) {
    return t3.totalBytes = Math.max(t3.totalBytes, e3.totalBytes), t3.totalPercent = Math.max(t3.totalPercent, e3.totalPercent), t3;
  }, de = function(t3) {
    function e3(e4, n3) {
      void 0 === e4 && (e4 = {}), void 0 === n3 && (n3 = {});
      var i3 = t3.call(this) || this;
      i3.options = e4, i3.storeOptions = n3, i3.lastProgress = { totalBytes: 0, totalPercent: 0 }, i3.storeOptions = Object.assign({}, n3);
      var r3 = V(gt)(e4);
      if (r3.errors.length)
        throw new q("Invalid upload params", r3.errors, R.VALIDATION);
      var o2 = V(yt)(n3);
      if (o2.errors.length)
        throw new q("Invalid store upload params", o2.errors, R.VALIDATION);
      return n3.filename && (i3.overrideFileName = n3.filename, delete i3.storeOptions.filename), i3.storeOptions.sanitizer && (i3.sanitizerOptions = i3.storeOptions.sanitizer, delete i3.storeOptions.sanitizer), i3.uploader = new le(i3.storeOptions, e4.concurrency), i3.uploader.setRetryConfig({ retry: e4.retry || 10, onRetry: e4.onRetry, retryFactor: e4.retryFactor || 2, retryMaxTime: e4.retryMaxTime || 15e3 }), i3.uploader.setTimeout(e4.timeout || 12e4), e4.partSize && i3.uploader.setPartSize(e4.partSize), e4.intelligentChunkSize && i3.uploader.setIntelligentChunkSize(e4.intelligentChunkSize), e4.disableIntegrityCheck && i3.uploader.setIntegrityCheck(false), e4.intelligent && i3.uploader.setUploadMode("fallback" === e4.intelligent ? "fallback" : "intelligent"), i3.uploader.setUploadTags(e4.tags), i3.uploader.on("start", function() {
        return i3.emit("start");
      }), i3.uploader.on("error", function(t4) {
        return i3.emit("error", t4);
      }), i3.uploader.on("progress", i3.handleProgress.bind(i3)), i3;
    }
    return Object(l2.c)(e3, t3), e3.prototype.setSession = function(t4) {
      this.uploader.setApikey(t4.apikey), t4.policy && t4.signature && this.uploader.setSecurity({ policy: t4.policy, signature: t4.signature }), this.uploader.setUrl(t4.urls.uploadApiUrl);
    }, e3.prototype.setToken = function(t4) {
      var e4 = this;
      if (!t4 || t4 !== Object(t4))
        throw new Error("Incorrect upload token. Must be instance of object");
      return t4.pause = function() {
        return e4.uploader.pause();
      }, t4.resume = function() {
        return e4.uploader.resume();
      }, t4.cancel = function() {
        return e4.uploader.abort();
      }, t4;
    }, e3.prototype.setSecurity = function(t4) {
      this.uploader.setSecurity(t4);
    }, e3.prototype.setUploadTags = function(t4) {
      this.uploader.setUploadTags(t4);
    }, e3.prototype.upload = function(t4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var e4, n3;
        return Object(l2.d)(this, function(i3) {
          switch (i3.label) {
            case 0:
              return [4, re(t4, this.sanitizerOptions)];
            case 1:
              return (e4 = i3.sent()).customName = this.overrideFileName, this.uploader.addFile(e4), this.startProgressInterval(), [4, this.uploader.execute()];
            case 2:
              return n3 = i3.sent().shift(), this.stopProgressInterval(), this.uploader.removeAllListeners(), "Failed" === n3.status ? [2, Promise.reject(n3)] : [2, Promise.resolve(n3)];
          }
        });
      });
    }, e3.prototype.multiupload = function(t4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var e4, n3, i3, r3, o2, a3;
        return Object(l2.d)(this, function(s3) {
          switch (s3.label) {
            case 0:
              for (n3 in e4 = [], t4)
                e4.push(n3);
              i3 = 0, s3.label = 1;
            case 1:
              return i3 < e4.length ? (r3 = e4[i3], t4.hasOwnProperty(r3) ? [4, re(t4[r3], this.sanitizerOptions)] : [3, 3]) : [3, 4];
            case 2:
              (o2 = s3.sent()).customName = this.overrideFileName, this.uploader.addFile(o2), s3.label = 3;
            case 3:
              return i3++, [3, 1];
            case 4:
              return this.startProgressInterval(), [4, this.uploader.execute()];
            case 5:
              return a3 = s3.sent(), this.stopProgressInterval(), this.uploader.removeAllListeners(), [2, Promise.resolve(a3)];
          }
        });
      });
    }, e3.prototype.startProgressInterval = function() {
      var t4 = this;
      "function" == typeof this.options.onProgress && (this.progressIntervalHandler = setInterval(function() {
        t4.options.onProgress(t4.lastProgress);
      }, this.options.progressInterval || 1e3), this.options.onProgress(this.lastProgress));
    }, e3.prototype.stopProgressInterval = function() {
      clearInterval(this.progressIntervalHandler);
    }, e3.prototype.handleProgress = function(t4) {
      if (t4 = fe(t4, this.lastProgress), this.lastProgress.files)
        for (var e4 in t4.files)
          this.lastProgress.files[e4] && (t4.files[e4] = fe(t4.files[e4], this.lastProgress.files[e4]));
      this.lastProgress = t4;
    }, e3;
  }(f.EventEmitter), me = function(t3, e3, n3) {
    if (!e3 || "string" != typeof e3)
      throw new Error("A valid Filestack handle or storage alias is required for preview");
    var i3 = V(vt)(n3);
    if (i3.errors.length)
      throw new q("Invalid preview params", i3.errors, R.VALIDATION);
    var r3 = Object(H.removeEmpty)(n3 || {}), o2 = function(t4, e4, n4, i4) {
      var r4 = Object(l2.a)({}, n4), o3 = i4 && i4.policy || t4.policy, a4 = i4 && i4.signature || t4.signature, s4 = a4 && o3, c4 = [t4.urls.cdnUrl], p3 = r4.css && encodeURIComponent('"' + r4.css + '"'), u2 = p3 ? "preview=css:" + p3 : "preview";
      return -1 !== e4.indexOf("src:") ? c4.push(t4.apikey + "/" + u2) : c4.push(u2), s4 && c4.push("security=policy:" + o3 + ",signature:" + a4), c4.push(e4), c4.join("/");
    }(t3, e3, r3);
    if (r3 && r3.id) {
      var a3 = r3.id, s3 = document.createElement("iframe"), c3 = document.getElementById(a3);
      if (s3.src = o2, s3.width = "100%", s3.height = "100%", !c3)
        throw new Error('DOM Element with id "' + a3 + '" not found.');
      return c3.appendChild(s3);
    }
    return window.open(o2, e3);
  }, he = Z()("fs:storage"), ye = function() {
    function t3() {
      this.availableTypes = [], void 0 !== window.localStorage && (this.availableTypes.push(Qt.LOCAL), he("Local storage exists")), void 0 !== window.sessionStorage && (this.availableTypes.push(Qt.SESSION), he("Session storage exists")), he("availableTypes - %O", this.availableTypes);
    }
    return t3.prototype.hasAccess = function(t4) {
      return he("Checking access to storage for %s. Available types: %O", t4, this.availableTypes), t4 ? this.availableTypes.indexOf(t4) > -1 : !!this.availableTypes.length;
    }, t3.prototype.getItem = function(t4, e3) {
      var n3 = this.getStore(e3);
      if (he("getItem %s from %O", t4, n3), n3)
        return n3.getItem(t4);
    }, t3.prototype.setItem = function(t4, e3, n3) {
      var i3 = this.getStore(n3);
      if (he("setItem %s to %O", t4, i3), i3)
        return i3.setItem(t4, e3);
    }, t3.prototype.removeItem = function(t4, e3) {
      var n3 = this.getStore(e3);
      if (he("removeItem %s from %O", t4, n3), n3)
        return n3.removeItem(t4);
    }, t3.prototype.getStore = function(t4) {
      if (he("get store with pref type - %s", t4), this.hasAccess(t4))
        switch (t4) {
          case Qt.LOCAL:
            return window.localStorage;
          case Qt.SESSION:
            return window.sessionStorage;
          default:
            return window[this.availableTypes[0]];
        }
      else
        he("User dont have access to any storage");
    }, t3;
  }();
  !function(t3) {
    t3.SESSION = "sessionStorage", t3.LOCAL = "localStorage";
  }(Qt || (Qt = {}));
  var ve, ge = "__fs_picker_token", be = function() {
    function t3(t4, e3) {
      this.cache = false, this.session = t4, this.storeAdapter = new ye(), this.cloudApiUrl = t4.urls.cloudApiUrl, e3 && e3.sessionCache && (this.cache = e3.sessionCache);
    }
    return Object.defineProperty(t3.prototype, "token", { get: function() {
      if (this.cache) {
        var t4 = this.storeAdapter.getItem(ge, Qt.LOCAL);
        if (t4)
          return t4;
      }
      return this.isInAppBrowser ? this.storeAdapter.getItem(ge, Qt.SESSION) : this._token;
    }, set: function(t4) {
      this.cache && this.storeAdapter.setItem(ge, t4, Qt.LOCAL), this.isInAppBrowser && this.storeAdapter.setItem(ge, t4, Qt.SESSION), this._token = t4;
    }, enumerable: true, configurable: true }), Object.defineProperty(t3.prototype, "isInAppBrowser", { get: function() {
      return !!(this.session && this.session.prefetch && this.session.prefetch.settings && this.session.prefetch.settings.inapp_browser) && this.session.prefetch.settings.inapp_browser;
    }, enumerable: true, configurable: true }), t3.prototype.list = function(t4, e3, n3) {
      var i3 = this, r3 = { apikey: this.session.apikey, clouds: t4, flow: "web", token: this.token };
      n3 && (Array.isArray(n3) || (n3 = [n3]), r3.accept = n3), this.isInAppBrowser && (r3.appurl = this.currentAppUrl()), this.session.policy && this.session.signature && (r3.policy = this.session.policy, r3.signature = this.session.signature);
      var o2 = {};
      if (e3) {
        var a3 = new Tt();
        e3.cancel = a3.cancel.bind(a3), o2.cancelToken = a3;
      }
      return Et.post(this.cloudApiUrl + "/folder/list", r3, o2).then(function(t5) {
        return t5.data && t5.data.token && (i3.token = t5.data.token), t5.data;
      });
    }, t3.prototype.store = function(t4, e3, n3, i3, r3, o2) {
      var a3, s3 = this;
      void 0 === n3 && (n3 = {}), void 0 === i3 && (i3 = {}), void 0 === o2 && (o2 = null), void 0 === n3.location && (n3.location = "s3");
      var c3 = { apikey: this.session.apikey, token: this.token, flow: "web", upload_tags: o2 || void 0, clouds: (a3 = {}, a3[t4] = { path: e3, store: Object(H.removeEmpty)(n3) }, a3) };
      "customsource" === t4 && i3.customSourcePath && (c3.clouds.customsource.customSourcePath = i3.customSourcePath), "customsource" === t4 && i3.customSourceContainer && (c3.clouds.customsource.customSourceContainer = i3.customSourceContainer), this.session.policy && this.session.signature && (c3.policy = this.session.policy, c3.signature = this.session.signature);
      var p3 = {};
      if (r3) {
        var u2 = new Tt();
        r3.cancel = u2.cancel.bind(u2), p3.cancelToken = u2;
      }
      return Et.post(this.cloudApiUrl + "/store/", c3, p3).then(function(e4) {
        return e4.data && e4.data.token && (s3.token = e4.data.token), e4.data && e4.data[t4] ? e4.data[t4] : e4.data;
      });
    }, t3.prototype.logout = function(t4) {
      var e3, n3 = { apikey: this.session.apikey, flow: "web", token: this.token };
      return t4 ? n3.clouds = ((e3 = {})[t4] = {}, e3) : (this.cache && this.storeAdapter.removeItem(ge, Qt.LOCAL), this.isInAppBrowser && this.storeAdapter.removeItem(ge, Qt.SESSION)), Et.post(this.cloudApiUrl + "/auth/logout", n3).then(function(e4) {
        return e4.data && e4.data[t4] ? e4.data[t4] : e4.data;
      });
    }, t3.prototype.metadata = function(t4, e3) {
      var n3 = { apikey: this.session.apikey, url: t4, headers: e3 };
      return this.session.policy && this.session.signature && (n3.policy = this.session.policy, n3.signature = this.session.signature), Et.post(this.cloudApiUrl + "/metadata", n3).then(function(t5) {
        return t5.data;
      });
    }, t3.prototype.tokInit = function(t4) {
      if ("video" !== t4 && "audio" !== t4)
        throw new q("Type must be one of video or audio.");
      return Et.post(this.cloudApiUrl + "/recording/" + t4 + "/init").then(function(t5) {
        return t5.data;
      });
    }, t3.prototype.tokStart = function(t4, e3, n3) {
      if ("video" !== t4 && "audio" !== t4)
        throw new q("Type must be one of video or audio.");
      var i3 = { apikey: e3, session_id: n3 };
      return Et.post(this.cloudApiUrl + "/recording/" + t4 + "/start", i3).then(function(t5) {
        return t5.data;
      });
    }, t3.prototype.tokStop = function(t4, e3, n3, i3) {
      if ("video" !== t4 && "audio" !== t4)
        throw new q("Type must be one of video or audio.");
      var r3 = { apikey: e3, session_id: n3, archive_id: i3 };
      return Et.post(this.cloudApiUrl + "/recording/" + t4 + "/stop", r3).then(function(t5) {
        return t5.data;
      });
    }, t3.prototype.currentAppUrl = function() {
      if (window.URLSearchParams) {
        var t4 = new URLSearchParams(window.location.search);
        return t4.set("fs-tab", "init"), window.location.protocol + "//" + window.location.host + window.location.pathname + "?" + t4.toString();
      }
    }, t3;
  }(), xe = n2(30);
  !function(t3) {
    t3.PICKER = "picker", t3.TRANSFORM_UI = "transform_ui";
  }(ve || (ve = {}));
  var ke, we, _e = function() {
    function t3(t4) {
      this.session = t4 instanceof Oe ? t4.session : t4;
    }
    return t3.prototype.getConfig = function(t4) {
      var e3 = t4.pickerOptions, n3 = t4.settings, i3 = t4.permissions, r3 = t4.events;
      return Object(l2.b)(this, void 0, void 0, function() {
        var t5, o2, a3 = this;
        return Object(l2.d)(this, function(s3) {
          return t5 = { apikey: this.session.apikey }, this.session.policy && this.session.signature && (t5.security = { policy: this.session.policy, signature: this.session.signature }), n3 = n3 ? (n3 = n3.concat(["inapp_browser"])).filter(function(t6, e4) {
            return n3.indexOf(t6) === e4;
          }) : ["inapp_browser"], e3 && Object.keys(e3).length && (o2 = Object(H.cleanUpCallbacks)(xe(Object(l2.a)({}, e3)))), t5 = Object(l2.a)(Object(l2.a)({}, t5), { permissions: i3, settings: n3, picker_config: o2, events: r3 }), this.session.prefetch = null, [2, Et.post(this.session.urls.uploadApiUrl + "/prefetch", t5).then(function(t6) {
            if (200 !== t6.status)
              throw new q("There is a problem with prefetch request");
            var n4 = t6.data;
            return n4.updated_config ? (n4.pickerOptions = a3.reassignCallbacks(e3, n4.updated_config || {}), delete n4.updated_config) : n4.pickerOptions = e3, a3.session.prefetch = n4, n4;
          })];
        });
      });
    }, t3.prototype.reassignCallbacks = function(t4, e3) {
      if (!t4 || 0 === Object.keys(t4).length)
        return t4;
      for (var n3 in t4)
        "function" == typeof t4[n3] && (e3[n3] = t4[n3]), t4[n3] === Object(t4[n3]) && (e3[n3] = this.reassignCallbacks(t4[n3], e3[n3]));
      return e3;
    }, t3;
  }();
  !function(t3) {
    t3.cw = "CW", t3.ccw = "CCW";
  }(ke || (ke = {})), function(t3) {
    t3.inline = "inline", t3.overlay = "overlay", t3.dropPane = "dropPane";
  }(we || (we = {}));
  var je = function() {
    function t3(t4, e3) {
      var n3 = V(bt)(e3);
      if (n3.errors.length)
        throw new q("Invalid picker params", n3.errors, R.VALIDATION);
      this._initialized = this.loadModule(t4, e3);
    }
    return t3.prototype.open = function() {
      return Object(l2.b)(this, void 0, void 0, function() {
        return Object(l2.d)(this, function(t4) {
          switch (t4.label) {
            case 0:
              return [4, this._initialized];
            case 1:
              return [4, t4.sent().open()];
            case 2:
              return t4.sent(), [2];
          }
        });
      });
    }, t3.prototype.crop = function(t4) {
      return Object(l2.b)(this, void 0, void 0, function() {
        return Object(l2.d)(this, function(e3) {
          switch (e3.label) {
            case 0:
              return [4, this._initialized];
            case 1:
              return [4, e3.sent().crop(t4)];
            case 2:
              return e3.sent(), [2];
          }
        });
      });
    }, t3.prototype.close = function() {
      return Object(l2.b)(this, void 0, void 0, function() {
        return Object(l2.d)(this, function(t4) {
          switch (t4.label) {
            case 0:
              return [4, this._initialized];
            case 1:
              return [4, t4.sent().close()];
            case 2:
              return t4.sent(), [2];
          }
        });
      });
    }, t3.prototype.cancel = function() {
      return Object(l2.b)(this, void 0, void 0, function() {
        return Object(l2.d)(this, function(t4) {
          switch (t4.label) {
            case 0:
              return [4, this._initialized];
            case 1:
              return [4, t4.sent().cancel()];
            case 2:
              return t4.sent(), [2];
          }
        });
      });
    }, t3.prototype.loadModule = function(t4, e3) {
      return Object(l2.b)(this, void 0, void 0, function() {
        var n3;
        return Object(l2.d)(this, function(i3) {
          switch (i3.label) {
            case 0:
              return n3 = t4.session.urls.pickerUrl, [4, a2(c2.PICKER, n3)];
            case 1:
              return [2, new (i3.sent())(t4, e3)];
          }
        });
      });
    }, t3;
  }();
  z("addBreadcrumb", { category: "sdk", message: "filestack-js-sdk scope" });
  var Oe = function(t3) {
    function e3(e4, n3) {
      var i3 = t3.call(this) || this;
      if (i3.options = n3, i3.forwardErrors = true, n3 && n3.forwardErrors && (i3.forwardErrors = n3.forwardErrors), !e4 || "string" != typeof e4 || 0 === e4.length)
        throw new Error("An apikey is required to initialize the Filestack client");
      var r3 = $.urls;
      if (i3.session = { apikey: e4, urls: r3 }, n3) {
        var o2 = n3.cname, a3 = n3.security;
        i3.setSecurity(a3), i3.setCname(o2);
      }
      return i3.prefetchInstance = new _e(i3.session), i3.cloud = new be(i3.session, n3), i3;
    }
    return Object(l2.c)(e3, t3), Object.defineProperty(e3.prototype, "utils", { get: function() {
      return H;
    }, enumerable: true, configurable: true }), e3.prototype.prefetch = function(t4) {
      return this.prefetchInstance.getConfig(t4);
    }, e3.prototype.setSecurity = function(t4) {
      if (t4 && (!t4.policy || !t4.signature))
        throw new q("Both policy and signature are required for client security");
      t4 && t4.policy && t4.signature && (this.session.policy = t4.policy, this.session.signature = t4.signature);
    }, e3.prototype.setCname = function(t4) {
      t4 && 0 !== t4.length && (this.session.cname = t4, this.session.urls = H.resolveHost(this.session.urls, t4));
    }, e3.prototype.logout = function(t4) {
      return this.cloud.logout(t4);
    }, e3.prototype.metadata = function(t4, e4, n3) {
      return function(t5, e5, n4, i3) {
        if (!e5 || "string" != typeof e5)
          throw new q("A valid Filestack handle is required for metadata");
        var r3 = V(xt)(n4);
        if (r3.errors.length)
          throw new q("Invalid metadata params", r3.errors);
        var o2 = Object(l2.a)({}, n4);
        o2.source_url = o2.sourceUrl, o2.policy = i3 && i3.policy || t5.policy, o2.signature = i3 && i3.signature || t5.signature;
        var a3 = t5.urls.fileApiUrl + "/" + e5 + "/metadata";
        return new Promise(function(t6, n5) {
          Et.get(a3, { params: Object(H.removeEmpty)(o2), filestackHeaders: false }).then(function(n6) {
            return t6(Object(l2.a)(Object(l2.a)({}, n6.data), { handle: e5 }));
          }).catch(n5);
        });
      }(this.session, t4, e4, n3);
    }, e3.prototype.picker = function(t4) {
      return function(t5, e4) {
        return new je(t5, e4);
      }(this, t4);
    }, e3.prototype.preview = function(t4, e4) {
      return me(this.session, t4, e4);
    }, e3.prototype.remove = function(t4, e4) {
      return At(this.session, t4, false, e4);
    }, e3.prototype.removeMetadata = function(t4, e4) {
      return At(this.session, t4, true, e4);
    }, e3.prototype.storeURL = function(t4, e4, n3, i3, r3, o2, a3) {
      return function(t5) {
        var e5 = t5.session, n4 = t5.url, i4 = t5.storeParams, r4 = t5.token, o3 = t5.security, a4 = t5.uploadTags, s3 = t5.headers, c3 = t5.workflowIds;
        if (!n4 || "string" != typeof n4)
          return Promise.reject(new q("url is required for storeURL"));
        var p3 = V(yt)(i4);
        if (p3.errors.length)
          return Promise.reject(new q("Invalid store params", p3.errors));
        e5.policy = o3 && o3.policy || e5.policy, e5.signature = o3 && o3.signature || e5.signature;
        var u2 = new ht(n4, e5.apikey);
        u2.store(i4), e5.policy && e5.signature && u2.security({ policy: e5.policy, signature: e5.signature });
        var f2 = {};
        if (r4) {
          var d2 = new Tt();
          r4.cancel = d2.cancel.bind(d2), f2.cancelToken = d2;
        }
        var m2 = [n4];
        return s3 && (m2 = [{ source: n4, headers: s3 }]), c3 && c3.length > 0 && u2.addTask("store", { workflows: c3 }), Et.post(e5.urls.processUrl + "/process", { apikey: e5.apikey, sources: m2, tasks: u2.getTasks(), upload_tags: a4 }, f2).then(function(t6) {
          if (t6.data && t6.data.handle)
            return t6.data.upload_tags && (t6.data.uploadTags = t6.data.upload_tags, delete t6.data.upload_tags), Object(l2.a)(Object(l2.a)({}, t6.data), { mimetype: t6.data.type });
          throw new q("Invalid store response " + JSON.stringify(t6.data));
        });
      }({ session: this.session, url: t4, storeParams: e4, token: n3, security: i3, uploadTags: r3, headers: o2, workflowIds: a3 });
    }, e3.prototype.retrieve = function(t4, e4, n3) {
      return function(t5, e5, n4, i3) {
        if (void 0 === n4 && (n4 = {}), !e5 || 0 === e5.length || "string" != typeof e5)
          throw new q("File handle is required");
        console.info("Retrieve method is deprecated and it will be removed. Please use metadata or download");
        var r3 = V(kt)(n4);
        if (r3.errors.length)
          throw new q("Invalid retrieve params", r3.errors);
        var o2 = Object(l2.a)({}, n4);
        o2.key = t5.apikey, o2.policy = i3 && i3.policy || t5.policy, o2.signature = i3 && i3.signature || t5.signature;
        var a3, s3, c3 = wt.a.GET;
        if (o2.head && (c3 = wt.a.HEAD, delete o2.head), o2.extension && o2.extension.length && (a3 = o2.extension, delete o2.extension), o2.metadata) {
          if (c3 === wt.a.HEAD)
            throw new q("Head and metadata options cannot be used together");
          s3 = o2.metadata, delete o2.metadata;
        }
        var p3 = t5.urls.fileApiUrl + "/" + e5 + (a3 ? "+" + a3 : "") + (s3 ? "/metadata" : "");
        return new Promise(function(t6, e6) {
          Et.dispatch(p3, { method: c3, filestackHeaders: false, params: Object(H.removeEmpty)(o2) }).then(function(e7) {
            return t6(c3 === wt.a.HEAD ? e7.headers : e7.data);
          }).catch(e6);
        });
      }(this.session, t4, e4, n3);
    }, e3.prototype.download = function(t4, e4) {
      return function(t5, e5, n3) {
        var i3 = new ht(e5, t5.apikey), r3 = n3 && n3.policy || t5.policy, o2 = n3 && n3.signature || t5.signature;
        return r3 && o2 && i3.security({ signature: o2, policy: r3 }), Et.dispatch(i3.toString(), { method: wt.a.GET, blobResponse: true });
      }(this.session, t4, e4);
    }, e3.prototype.transform = function(t4, e4, n3) {
      return void 0 === n3 && (n3 = false), Gt(this.session, t4, e4, n3);
    }, e3.prototype.upload = function(t4, e4, n3, i3, r3) {
      var o2 = this, a3 = new de(e4, n3);
      return a3.setSession(this.session), i3 && a3.setToken(i3), r3 && a3.setSecurity(r3), a3.on("start", function() {
        return o2.emit("upload.start");
      }), a3.on("error", function(t5) {
        o2.forwardErrors && M(function(i4) {
          i4.setTag("filestack-apikey", o2.session.apikey), i4.setTag("filestack-version", H.getVersion()), i4.setExtra("filestack-options", o2.options), i4.setExtras({ uploadOptions: e4, storeOptions: n3, details: t5.details }), t5.message = "FS-" + t5.message, N(t5);
        }), o2.emit("upload.error", t5);
      }), a3.upload(t4);
    }, e3.prototype.multiupload = function(t4, e4, n3, i3, r3) {
      var o2 = this, a3 = new de(e4, n3);
      return a3.setSession(this.session), i3 && a3.setToken(i3), r3 && a3.setSecurity(r3), a3.on("start", function() {
        return o2.emit("upload.start");
      }), a3.on("error", function(t5) {
        M(function(i4) {
          i4.setTag("filestack-apikey", o2.session.apikey), i4.setTag("filestack-version", H.getVersion()), i4.setExtra("filestack-options", o2.options), i4.setExtras(t5.details), i4.setExtras({ uploadOptions: e4, storeOptions: n3 }), N(t5);
        }), o2.emit("upload.error", t5);
      }), a3.multiupload(t4);
    }, e3;
  }(f.EventEmitter), Se = function(t3, e3) {
    return new Oe(t3, e3);
  }, Ee = Se, Ce = "3.25.0";
  s2(c2.FILESTACK_SDK, Se, { version: "3.25.0" });
}, , function(t2, e2, n2) {
  (function(t3) {
    n2.d(e2, "a", function() {
      return c2;
    });
    var i2 = n2(9), r2 = n2(13), o = { nowSeconds: function() {
      return Date.now() / 1e3;
    } };
    var a2 = Object(r2.b)() ? function() {
      try {
        return Object(r2.a)(t3, "perf_hooks").performance;
      } catch (t4) {
        return;
      }
    }() : function() {
      var t4 = Object(i2.b)().performance;
      if (t4 && t4.now)
        return { now: function() {
          return t4.now();
        }, timeOrigin: Date.now() - t4.now() };
    }(), s2 = void 0 === a2 ? o : { nowSeconds: function() {
      return (a2.timeOrigin + a2.now()) / 1e3;
    } }, c2 = o.nowSeconds.bind(o);
    s2.nowSeconds.bind(s2), function() {
      var t4 = Object(i2.b)().performance;
      if (t4)
        t4.timeOrigin ? t4.timeOrigin : t4.timing && t4.timing.navigationStart || Date.now();
    }();
  }).call(this, n2(51)(t2));
}, function(t2, e2, n2) {
  (function(t3) {
    n2.d(e2, "a", function() {
      return o;
    });
    var i2 = n2(0), r2 = (n2(22), n2(4));
    n2(32), n2(31), n2(10);
    function o(t4) {
      var e3, n3;
      if (Object(r2.e)(t4)) {
        var a2 = t4, s2 = {};
        try {
          for (var c2 = Object(i2.f)(Object.keys(a2)), p2 = c2.next(); !p2.done; p2 = c2.next()) {
            var u = p2.value;
            void 0 !== a2[u] && (s2[u] = o(a2[u]));
          }
        } catch (t5) {
          e3 = { error: t5 };
        } finally {
          try {
            p2 && !p2.done && (n3 = c2.return) && n3.call(c2);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return s2;
      }
      return Array.isArray(t4) ? t4.map(o) : t4;
    }
  }).call(this, n2(14));
}]);
filestack.Filestack;
const _filestack$init = filestack.init;
filestack.version;
filestack.EAlignOptions;
filestack.EAlignFacesOptions;
filestack.EFitOptions;
filestack.EBlurMode;
filestack.EShapeType;
filestack.ENoiseType;
filestack.EStyleType;
filestack.EColorspaceType;
filestack.ECropfacesType;
filestack.ESmartCropMode;
filestack.EImageWatermarkPosition;
filestack.EVideoTypes;
filestack.EUrlscreenshotAgent;
filestack.EUrlscreenshotMode;
filestack.EUrlscreenshotOrientation;
filestack.EVideoLocations;
filestack.EVideoAccess;
filestack.EVideoAccessMode;
filestack.transform;
filestack.Align;
filestack.FitOptions;
filestack.BlurMode;
filestack.ShapeType;
filestack.NoiseType;
filestack.StyleType;
filestack.ColorspaceType;
filestack.CropfacesType;
filestack.ImageWatermarkPosition;
filestack.SmartCropMode;
filestack.VideoTypes;
filestack.URLScreenshotAgent;
filestack.URLScreenshotMode;
filestack.URLScreenshotOrientation;
filestack.Locations;
filestack.VideoAccess;
filestack.VideoAccessMode;
filestack.EnhancePreset;
filestack.Filelink;
filestack.FilestackErrorType;
filestack.FsHttpMethod;
filestack.FsRequest;
filestack.FsRequestErrorCode;
filestack.FsRequestError;
filestack.FsCancelToken;
filestack.resolveCdnUrl;
filestack.resolveHost;
filestack.removeEmpty;
filestack.uniqueTime;
filestack.uniqueId;
filestack.extensionToMime;
filestack.sanitizeName;
filestack.filterObject;
filestack.cleanUpCallbacks;
filestack.md5;
filestack.b64;
filestack.getVersion;
filestack.isMobile;
filestack.isFacebook;
filestack.TransformSchema;
filestack.getSecurity;
filestack.validateWebhookSignature;
filestack.Client;
filestack.FilestackError;
filestack.PickerDisplayMode;
filestack.getMimetype;
filestack.PrefetchEvents;
const init = () => _filestack$init("ArcQnSXbqT4O0OORDyYxrz");
const picker = (cancel) => (failure) => (progress) => (success) => (client) => () => client.picker({
  onFileUploadCancel: (metadata) => cancel(metadata)(),
  onFileUploadFailed: (metadata, err) => failure(metadata)(err)(),
  onFileUploadProgress: (metadata, event) => progress(metadata)(event)(),
  onFileUploadFinished: (metadata) => success(metadata)()
}).open();
const scriptRel = "modulepreload";
const assetsURL = function(dep) {
  return "/" + dep;
};
const seen = {};
const __vitePreload = function preload(baseModule, deps, importerUrl) {
  if (!deps || deps.length === 0) {
    return baseModule();
  }
  return Promise.all(deps.map((dep) => {
    dep = assetsURL(dep);
    if (dep in seen)
      return;
    seen[dep] = true;
    const isCss = dep.endsWith(".css");
    const cssSelector = isCss ? '[rel="stylesheet"]' : "";
    if (document.querySelector(`link[href="${dep}"]${cssSelector}`)) {
      return;
    }
    const link = document.createElement("link");
    link.rel = isCss ? "stylesheet" : scriptRel;
    if (!isCss) {
      link.as = "script";
      link.crossOrigin = "";
    }
    link.href = dep;
    document.head.appendChild(link);
    if (isCss) {
      return new Promise((res, rej) => {
        link.addEventListener("load", res);
        link.addEventListener("error", () => rej(new Error(`Unable to preload CSS for ${dep}`)));
      });
    }
  })).then(() => baseModule());
};
const firebaseAuth = (app) => () => __vitePreload(() => import("./index.esm.6070e7ab.js"), true ? ["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"] : void 0).then(
  ({ getAuth }) => getAuth({ "BASE_URL": "/", "MODE": "production", "DEV": false, "PROD": true }.BUILD_TYPE === "production" ? app : void 0)
);
const initializeGoogleClient = (auth) => (success) => () => {
  window.google.accounts.id.initialize({
    client_id: "58052920677-fs42m1rdh38g8rt9u6jv6s63c4ga9v0r.apps.googleusercontent.com",
    callback: (i2) => {
      console.log("credential received");
      __vitePreload(() => import("./index.esm.6070e7ab.js"), true ? ["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"] : void 0).then(
        ({ GoogleAuthProvider, linkWithCredential, signInWithCredential }) => {
          console.log("attempting to use credential", i2.credential);
          const credential = GoogleAuthProvider.credential(i2.credential);
          linkWithCredential(auth.currentUser, credential).then(
            (usercred) => {
              const user = usercred.user;
              console.log("Anonymous account successfully upgraded", user);
              success();
            },
            () => {
              return signInWithCredential(auth, credential).then(
                (usercred) => {
                  const user = usercred.user;
                  console.log("Account successfully linked to existing credential", user);
                  success();
                },
                (error2) => console.log("Error upgrading anonymous account", error2)
              );
            }
          );
        }
      );
    }
  });
};
const signInWithGoogle = (err) => () => {
  google.accounts.id.prompt((notification) => {
    if (notification.isNotDisplayed() || notification.isSkippedMoment()) {
      google.accounts.id.renderButton(
        document.getElementById("google_sign_in"),
        {}
      );
    }
  });
};
const currentUserImpl = (nothing) => (just) => (auth) => () => auth.currentUser ? just(auth.currentUser) : nothing;
const signOut = (auth) => (cb) => () => auth.signOut().then(
  () => signInAnonymously(auth).then(
    () => {
      cb();
    },
    (error2) => {
      console.error("Could not sign in anonymously after sign out", error2);
    }
  )
);
const onAuthStateChanged = (errorF) => (signedInAnon) => (signedInGoogle) => (auth) => () => __vitePreload(() => import("./index.esm.6070e7ab.js"), true ? ["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"] : void 0).then(
  ({ onAuthStateChanged: onAuthStateChanged2, signInAnonymously: signInAnonymously2 }) => {
    const thunk = onAuthStateChanged2(auth, (user) => {
      if (user) {
        console.log("auth state change with user", user);
        if (user.isAnonymous) {
          signedInAnon(user)();
        } else {
          signedInGoogle(user)();
        }
      } else {
        signInAnonymously2(auth).then(() => {
        }).catch((error2) => {
          errorF(error2)();
        });
      }
    });
    return thunk;
  }
);
const $AuthProvider = (tag) => ({ tag });
const displayNameIsSymbol = { reflectSymbol: () => "displayName" };
const writeForeignMaybe = {
  writeImpl: (v2) => {
    if (v2.tag === "Nothing") {
      return _undefined;
    }
    if (v2.tag === "Just") {
      return v2._1;
    }
    fail$3();
  }
};
const emailIsSymbol = { reflectSymbol: () => "email" };
const emailVerifiedIsSymbol = { reflectSymbol: () => "emailVerified" };
const isAnonymousIsSymbol = { reflectSymbol: () => "isAnonymous" };
const metadataIsSymbol = { reflectSymbol: () => "metadata" };
const creationTimeIsSymbol = { reflectSymbol: () => "creationTime" };
const lastSignInTimeIsSymbol = { reflectSymbol: () => "lastSignInTime" };
const multiFactorIsSymbol = { reflectSymbol: () => "multiFactor" };
const enrolledFactorsIsSymbol = { reflectSymbol: () => "enrolledFactors" };
const enrollmentTimeIsSymbol = { reflectSymbol: () => "enrollmentTime" };
const factorIdIsSymbol = { reflectSymbol: () => "factorId" };
const uidIsSymbol = { reflectSymbol: () => "uid" };
const consWriteForeignFields2 = /* @__PURE__ */ consWriteForeignFields(uidIsSymbol)(writeForeignString)(nilWriteForeignFields)()()();
const phoneNumberIsSymbol = { reflectSymbol: () => "phoneNumber" };
const photoURLIsSymbol = { reflectSymbol: () => "photoURL" };
const providerDataIsSymbol = { reflectSymbol: () => "providerData" };
const providerIdIsSymbol = { reflectSymbol: () => "providerId" };
const refreshTokenIsSymbol = { reflectSymbol: () => "refreshToken" };
const tenantIdIsSymbol = { reflectSymbol: () => "tenantId" };
const readMaybe = /* @__PURE__ */ readMaybe$3(readString);
const readFieldsCons2 = /* @__PURE__ */ readFieldsCons(uidIsSymbol)(readString)(readFieldsNil)()();
const show1$3 = /* @__PURE__ */ (() => showNonEmptyList(showForeignError).show)();
const AuthAnonymous = /* @__PURE__ */ $AuthProvider("AuthAnonymous");
const AuthGoogle = /* @__PURE__ */ $AuthProvider("AuthGoogle");
const writeForeignUser = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailVerifiedIsSymbol)(writeForeignBoolean)(consWriteForeignFields(isAnonymousIsSymbol)(writeForeignBoolean)(consWriteForeignFields(metadataIsSymbol)((() => {
    const $02 = consWriteForeignFields(creationTimeIsSymbol)(writeForeignMaybe)(consWriteForeignFields(lastSignInTimeIsSymbol)(writeForeignMaybe)(nilWriteForeignFields)()()())()()();
    return {
      writeImpl: (v2) => {
        if (v2.tag === "Nothing") {
          return _undefined;
        }
        if (v2.tag === "Just") {
          return $02.writeImplFields($$Proxy)(v2._1)({});
        }
        fail$3();
      }
    };
  })())(consWriteForeignFields(multiFactorIsSymbol)((() => {
    const $02 = consWriteForeignFields(enrolledFactorsIsSymbol)((() => {
      const $03 = consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(enrollmentTimeIsSymbol)(writeForeignString)(consWriteForeignFields(factorIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()();
      return { writeImpl: (xs) => arrayMap((rec) => $03.writeImplFields($$Proxy)(rec)({}))(xs) };
    })())(nilWriteForeignFields)()()();
    return {
      writeImpl: (v2) => {
        if (v2.tag === "Nothing") {
          return _undefined;
        }
        if (v2.tag === "Just") {
          return $02.writeImplFields($$Proxy)(v2._1)({});
        }
        fail$3();
      }
    };
  })())(consWriteForeignFields(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields(providerDataIsSymbol)((() => {
    const $02 = consWriteForeignFields(displayNameIsSymbol)(writeForeignMaybe)(consWriteForeignFields(emailIsSymbol)(writeForeignMaybe)(consWriteForeignFields(phoneNumberIsSymbol)(writeForeignMaybe)(consWriteForeignFields(photoURLIsSymbol)(writeForeignMaybe)(consWriteForeignFields(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields2)()()())()()())()()())()()())()()();
    return { writeImpl: (xs) => arrayMap((rec) => $02.writeImplFields($$Proxy)(rec)({}))(xs) };
  })())(consWriteForeignFields(providerIdIsSymbol)(writeForeignString)(consWriteForeignFields(refreshTokenIsSymbol)(writeForeignString)(consWriteForeignFields(tenantIdIsSymbol)(writeForeignMaybe)(consWriteForeignFields2)()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()())()()();
  return { writeImpl: (rec) => $0.writeImplFields($$Proxy)(rec)({}) };
})();
const readForeignUser = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(displayNameIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(emailIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(emailVerifiedIsSymbol)(readBoolean)(/* @__PURE__ */ readFieldsCons(isAnonymousIsSymbol)(readBoolean)(/* @__PURE__ */ readFieldsCons(metadataIsSymbol)(/* @__PURE__ */ readMaybe$3(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(creationTimeIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(lastSignInTimeIsSymbol)(readMaybe)(readFieldsNil)()())()())))(/* @__PURE__ */ readFieldsCons(multiFactorIsSymbol)(/* @__PURE__ */ readMaybe$3(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(enrolledFactorsIsSymbol)(/* @__PURE__ */ readArray(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(displayNameIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(enrollmentTimeIsSymbol)(readString)(/* @__PURE__ */ readFieldsCons(factorIdIsSymbol)(readString)(readFieldsCons2)()())()())()())))(readFieldsNil)()())))(/* @__PURE__ */ readFieldsCons(phoneNumberIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(photoURLIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(providerDataIsSymbol)(/* @__PURE__ */ readArray(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(displayNameIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(emailIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(phoneNumberIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(photoURLIsSymbol)(readMaybe)(/* @__PURE__ */ readFieldsCons(providerIdIsSymbol)(readString)(readFieldsCons2)()())()())()())()())()())))(/* @__PURE__ */ readFieldsCons(providerIdIsSymbol)(readString)(/* @__PURE__ */ readFieldsCons(refreshTokenIsSymbol)(readString)(/* @__PURE__ */ readFieldsCons(tenantIdIsSymbol)(readMaybe)(readFieldsCons2)()())()())()())()())()())()())()())()())()())()())()())()());
const currentUser = /* @__PURE__ */ currentUserImpl(Nothing)(Just);
const authStateChangedEventWithAnonymousAccountCreation = (auth) => backdoor.makeEvent((k) => () => {
  const unsub = { value: () => unit };
  const authFlow = (provider) => (u) => {
    const user$p = readForeignUser.readImpl(u);
    if (user$p.tag === "Left") {
      return throwException(error$1(showStringImpl(_unsafeStringify(u)) + (" " + show1$3(user$p._1))));
    }
    if (user$p.tag === "Right") {
      return k({ user: user$p._1, provider });
    }
    fail$3();
  };
  const fiber = _makeFiber(
    ffiUtil$1,
    _bind(_bind(_liftEffect(onAuthStateChanged((x) => error(showErrorImpl(x)))(authFlow(AuthAnonymous))(authFlow(AuthGoogle))(auth)))(toAff$p(coerce)))((us) => _liftEffect(() => unsub.value = us))
  )();
  fiber.run();
  return bindE(() => unsub.value)(identity$v);
});
const firestoreDb = (app) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ getFirestore }) => {
  return getFirestore(
    { "BASE_URL": "/", "MODE": "production", "DEV": false, "PROD": true }.BUILD_TYPE === "production" ? app : void 0
  );
});
const RIDES = "rides";
const TRACKS = "tracks";
const EVENTS = "events";
const MARKER1TIME = "marker1Time";
const MARKER2TIME = "marker2Time";
const MARKER3TIME = "marker3Time";
const MARKER4TIME = "marker4Time";
const NAME = "name";
const TITLE = "title";
const PRIVATE = "private";
const COLUMN = "column";
const initializeRealtimePresence = (app) => (fsdb) => (auth) => () => Promise.all([__vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0), __vitePreload(() => import("./index.esm.02d469b5.js"), true ? ["assets/index.esm.02d469b5.js","assets/index.esm2017.ce458832.js"] : void 0)]).then(([firestore, database]) => {
  var uid = auth.currentUser.uid;
  var db = database.getDatabase(app);
  var userStatusDatabaseRef = database.ref(db, "/status/" + uid);
  var isOfflineForDatabase = {
    state: "offline",
    last_changed: database.serverTimestamp()
  };
  var isOnlineForDatabase = {
    state: "online",
    last_changed: database.serverTimestamp()
  };
  var userStatusFirestoreRef = firestore.doc(fsdb, "/status/" + uid);
  var isOfflineForFirestore = {
    state: "offline",
    last_changed: firestore.serverTimestamp()
  };
  var isOnlineForFirestore = {
    state: "online",
    last_changed: firestore.serverTimestamp()
  };
  database.onValue(database.ref(db, ".info/connected"), function(snapshot) {
    if (snapshot.val() == false) {
      console.log("not connected to rtdb");
      firestore.setDoc(userStatusFirestoreRef, isOfflineForFirestore);
      return;
    }
    userStatusDatabaseRef.onDisconnect().set(isOfflineForDatabase).then(function() {
      console.log("connected to rtdb");
      userStatusDatabaseRef.set(isOnlineForDatabase);
      firestore.setDoc(userStatusFirestoreRef, isOnlineForFirestore);
    });
  });
});
const addTrack = (db) => (track) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ collection, addDoc }) => {
  return addDoc(collection(db, TRACKS), track);
});
const forkTrack = (auth) => (db) => (trackID) => () => Promise.all([getTrack(db)(trackID)(), getEvents(db)(trackID)()]).then(
  ([track, events]) => Promise.all([
    addTrack(db)({ owner: auth.currentUser.uid, ...track })(),
    Promise.resolve(events)
  ])
).then(
  ([doc, events]) => Promise.all([
    ...events.map((e2) => addEvent(db)(doc.id)(e2.data)())
  ])
);
const getTrack = (db) => (trackID) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ getDoc, doc }) => {
  return getDoc(doc(db, TRACKS, trackID)).then((r2) => r2.data());
});
const updateTrackTitle = (db) => (trackID) => (title) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[TITLE] = title;
  return updateDoc(doc(db, TRACKS, trackID), update2);
});
const updateTrackPrivate = (db) => (trackID) => (pvt) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[PRIVATE] = pvt;
  return updateDoc(doc(db, TRACKS, trackID), update2);
});
const addEvent = (db) => (trackID) => (event) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ collection, addDoc }) => {
  console.log(trackID, event);
  return addDoc(collection(db, TRACKS, trackID, EVENTS), event);
});
const getEvent = (db) => (trackID) => (eventID) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ getDoc, doc }) => {
  return getDoc(doc(db, TRACKS, trackID, EVENTS, eventID)).then(
    (r2) => r2.data()
  );
});
const getTracks = (auth) => (db) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ query, getDocs, collection, where }) => {
  const q = query(
    collection(db, TRACKS),
    where("owner", "==", auth.currentUser.uid)
  );
  return getDocs(q).then((querySnapshot) => {
    const data = [];
    querySnapshot.forEach((doc) => {
      data.push({ id: doc.id, data: doc.data() });
    });
    return data;
  });
});
const getWhitelistedTracks = (auth) => (db) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ query, getDocs, collection, where }) => {
  const q = query(
    collection(db, TRACKS),
    where("whitelist", "array-contains", auth.currentUser.uid)
  );
  return getDocs(q).then((querySnapshot) => {
    const data = [];
    querySnapshot.forEach((doc) => {
      data.push({ id: doc.id, data: doc.data() });
    });
    return data;
  });
});
const getPublicTracks = (db) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(
  ({ query, getDocs, collection, where, limit }) => {
    const q = query(
      collection(db, TRACKS),
      where("private", "==", false),
      limit(50)
    );
    return getDocs(q).then((querySnapshot) => {
      const data = [];
      querySnapshot.forEach((doc) => {
        data.push({ id: doc.id, data: doc.data() });
      });
      return data;
    });
  }
);
const getEvents = (db) => (trackID) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ query, getDocs, collection }) => {
  const q = query(collection(db, TRACKS, trackID, EVENTS));
  return getDocs(q).then((querySnapshot) => {
    const data = [];
    querySnapshot.forEach((doc) => {
      data.push({ id: doc.id, data: doc.data() });
    });
    return data;
  });
});
const updateEventName = (db) => (trackID) => (eventID) => (name) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[NAME] = name;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const updateColumn = (db) => (trackID) => (eventID) => (column) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[COLUMN] = column;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const deleteEvent = (db) => (trackID) => (eventID) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ deleteDoc, doc }) => {
  return deleteDoc(doc(db, TRACKS, trackID, EVENTS, eventID));
});
const updateMarker1Time = (db) => (trackID) => (eventID) => (time) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[MARKER1TIME] = time;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const updateMarker2Time = (db) => (trackID) => (eventID) => (time) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[MARKER2TIME] = time;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const updateMarker3Time = (db) => (trackID) => (eventID) => (time) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[MARKER3TIME] = time;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const updateMarker4Time = (db) => (trackID) => (eventID) => (time) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  update2[MARKER4TIME] = time;
  return updateDoc(doc(db, TRACKS, trackID, EVENTS, eventID), update2);
});
const addRide = (db) => (ride2) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ collection, addDoc }) => {
  return addDoc(collection(db, RIDES), ride2);
});
const getRide = (db) => (rideID) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ getDoc, doc }) => {
  return getDoc(doc(db, RIDES, rideID)).then((r2) => r2.data());
});
const claimPlayer = (auth) => (db) => (ride2) => (player) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  if (!auth.currentUser) {
    return Promise.reject(new Error("No current user"));
  }
  update2[player] = auth.currentUser.uid;
  console.log("claimPlayer", ride2, player);
  return updateDoc(doc(db, RIDES, ride2), update2);
});
const removeUndefineds = (obj) => JSON.parse(JSON.stringify(obj));
const listenToRemoteChannelChanges = (db) => (rideID) => (pub) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(
  ({ doc, onSnapshot }) => onSnapshot(doc(db, RIDES, rideID), (doc2) => {
    if (doc2.metadata.hasPendingWrites)
      ;
    else {
      const toPublish = doc2.data();
      pub(toPublish)();
    }
  })
);
const sendMyPointsAndPenaltiesToFirebaseImpl = (db) => (auth) => (rideID) => (keyPoints) => (keyPenalty) => (points2) => (penalties) => () => __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ updateDoc, doc }) => {
  const update2 = {};
  if (!auth.currentUser) {
    return Promise.reject(new Error("No current user"));
  }
  update2[keyPoints] = points2;
  update2[keyPenalty] = penalties;
  return updateDoc(doc(db, RIDES, rideID), update2);
});
const readFieldsCons1 = /* @__PURE__ */ readFieldsCons({ reflectSymbol: () => "id" })(readString)(readFieldsNil)()();
const read$1 = /* @__PURE__ */ (() => {
  const $0 = readArray(readRecord()(readFieldsCons({ reflectSymbol: () => "data" })(readForeignTrack)(readFieldsCons1)()()));
  return (x) => $0.readImpl(x);
})();
const show$2 = /* @__PURE__ */ (() => showNonEmptyList(showForeignError).show)();
const read1 = /* @__PURE__ */ (() => {
  const $0 = readMaybe$3(readForeignTrack);
  return (x) => $0.readImpl(x);
})();
const read2 = /* @__PURE__ */ (() => {
  const $0 = readMaybe$3(readForeignRide);
  return (x) => $0.readImpl(x);
})();
const read3 = /* @__PURE__ */ (() => {
  const $0 = readArray(readRecord()(readFieldsCons({ reflectSymbol: () => "data" })(readForeignEvent_)(readFieldsCons1)()()));
  return (x) => $0.readImpl(x);
})();
const read4 = /* @__PURE__ */ (() => {
  const $0 = readMaybe$3(readForeignEvent_);
  return (x) => $0.readImpl(x);
})();
const $$try = /* @__PURE__ */ $$try$2(monadErrorAff);
const updateTrackTitleAff = (a2) => (b) => (c2) => _bind(_liftEffect(updateTrackTitle(a2)(b)(c2)))(toAff$p(coerce));
const updateTrackPrivateAff = (a2) => (b) => (c2) => _bind(_liftEffect(updateTrackPrivate(a2)(b)(c2)))(toAff$p(coerce));
const updateMarker4TimeAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateMarker4Time(a2)(b)(c2)(d)))(toAff$p(coerce));
const updateMarker3TimeAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateMarker3Time(a2)(b)(c2)(d)))(toAff$p(coerce));
const updateMarker2TimeAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateMarker2Time(a2)(b)(c2)(d)))(toAff$p(coerce));
const updateMarker1TimeAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateMarker1Time(a2)(b)(c2)(d)))(toAff$p(coerce));
const updateEventNameAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateEventName(a2)(b)(c2)(d)))(toAff$p(coerce));
const updateColumnAff = (a2) => (b) => (c2) => (d) => _bind(_liftEffect(updateColumn(a2)(b)(c2)((() => {
  if (d.tag === "C1") {
    return 1;
  }
  if (d.tag === "C2") {
    return 2;
  }
  if (d.tag === "C3") {
    return 3;
  }
  if (d.tag === "C4") {
    return 4;
  }
  if (d.tag === "C5") {
    return 5;
  }
  if (d.tag === "C6") {
    return 6;
  }
  if (d.tag === "C7") {
    return 7;
  }
  if (d.tag === "C8") {
    return 8;
  }
  if (d.tag === "C9") {
    return 9;
  }
  if (d.tag === "C10") {
    return 10;
  }
  if (d.tag === "C11") {
    return 11;
  }
  if (d.tag === "C12") {
    return 12;
  }
  if (d.tag === "C13") {
    return 13;
  }
  if (d.tag === "C14") {
    return 14;
  }
  if (d.tag === "C15") {
    return 15;
  }
  if (d.tag === "C16") {
    return 16;
  }
  if (d.tag === "C17") {
    return 17;
  }
  fail$3();
})())))(toAff$p(coerce));
const sendMyPointsAndPenaltiesToFirebase = (fdb) => (auth) => (myChannel) => (myPlayer) => (v) => (v1) => _bind(_liftEffect(sendMyPointsAndPenaltiesToFirebaseImpl(fdb)(auth)(myChannel)((() => {
  if (myPlayer.tag === "Player1") {
    return "player1Points";
  }
  if (myPlayer.tag === "Player2") {
    return "player2Points";
  }
  if (myPlayer.tag === "Player3") {
    return "player3Points";
  }
  if (myPlayer.tag === "Player4") {
    return "player4Points";
  }
  fail$3();
})())((() => {
  if (myPlayer.tag === "Player1") {
    return "player1Penalties";
  }
  if (myPlayer.tag === "Player2") {
    return "player2Penalties";
  }
  if (myPlayer.tag === "Player3") {
    return "player3Penalties";
  }
  if (myPlayer.tag === "Player4") {
    return "player4Penalties";
  }
  fail$3();
})())(v)(v1)))(toAff$p(coerce));
const initializeRealtimePresenceAff = (fbApp) => (fst2) => (auth) => _bind(_liftEffect(initializeRealtimePresence(fbApp)(fst2)(auth)))(toAff$p(coerce));
const getWhitelistedTracksAff = (fa) => (fs) => _bind(_bind(_liftEffect(getWhitelistedTracks(fa)(fs)))(toAff$p(coerce)))((ds) => {
  const v = read$1(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getTracksAff = (fa) => (fs) => _bind(_bind(_liftEffect(getTracks(fa)(fs)))(toAff$p(coerce)))((ds) => {
  const v = read$1(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getTrackAff = (fs) => (id2) => _bind(_bind(_liftEffect(getTrack(fs)(id2)))(toAff$p(coerce)))((ds) => {
  const v = read1(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getRideAff = (fs) => (id2) => _bind(_bind(_liftEffect(getRide(fs)(id2)))(toAff$p(coerce)))((ds) => {
  const v = read2(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getPublicTracksAff = (fs) => _bind(_bind(_liftEffect(getPublicTracks(fs)))(toAff$p(coerce)))((ds) => {
  const v = read$1(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getLowestAvailablePlayer = (v) => {
  const $1 = (() => {
    if (v.player4.tag === "Nothing") {
      return $Maybe("Just", Player4);
    }
    if (v.player4.tag === "Just") {
      return Nothing;
    }
    fail$3();
  })();
  const $2 = (() => {
    if (v.player3.tag === "Nothing") {
      return $Maybe("Just", Player3);
    }
    if (v.player3.tag === "Just") {
      return Nothing;
    }
    fail$3();
  })();
  const $3 = (() => {
    if (v.player2.tag === "Nothing") {
      return $Maybe("Just", Player2);
    }
    if (v.player2.tag === "Just") {
      return Nothing;
    }
    fail$3();
  })();
  const $4 = (() => {
    if (v.player1.tag === "Nothing") {
      return $Maybe("Just", Player1);
    }
    if (v.player1.tag === "Just") {
      return Nothing;
    }
    fail$3();
  })();
  const $5 = (() => {
    if ($3.tag === "Nothing") {
      return $4;
    }
    return $3;
  })();
  const $6 = (() => {
    if ($2.tag === "Nothing") {
      return $5;
    }
    return $2;
  })();
  if ($1.tag === "Nothing") {
    return $6;
  }
  return $1;
};
const getEventsAff = (fs) => (id2) => _bind(_bind(_liftEffect(getEvents(fs)(id2)))(toAff$p(coerce)))((ds) => {
  const v = read3(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const getEventAff = (fs) => (id0) => (id1) => _bind(_bind(_liftEffect(getEvent(fs)(id0)(id1)))(toAff$p(coerce)))((ds) => {
  const v = read4(ds);
  if (v.tag === "Right") {
    return _pure(v._1);
  }
  if (v.tag === "Left") {
    return _throwError(error$1(show$2(v._1)));
  }
  fail$3();
});
const forkTrackAff = (au) => (fs) => (r2) => _bind(_liftEffect(forkTrack(au)(fs)(r2)))(toAff$p(coerce));
const eventChannelChanges = (fs) => (s2) => backdoor.makeEvent((k) => () => {
  const u = { value: () => unit };
  const fiber = _makeFiber(
    ffiUtil$1,
    _bind(_bind(_liftEffect(listenToRemoteChannelChanges(fs)(s2)((f) => {
      const v = readForeignRide.readImpl(f);
      if (v.tag === "Left") {
        return throwException(error$1(show$2(v._1)));
      }
      if (v.tag === "Right") {
        return k(v._1);
      }
      fail$3();
    })))(toAff$p(coerce)))((unsub) => _liftEffect(() => u.value = unsub))
  )();
  fiber.run();
  return bindE(() => u.value)(identity$v);
});
const deleteEventAff = (a2) => (b) => (c2) => _bind(_liftEffect(deleteEvent(a2)(b)(c2)))(toAff$p(coerce));
const claimPlayerAff = (auth) => (firestore) => (myChannel) => (p2) => _bind(_liftEffect(claimPlayer(auth)(firestore)(myChannel)((() => {
  if (p2.tag === "Player1") {
    return "player1";
  }
  if (p2.tag === "Player2") {
    return "player2";
  }
  if (p2.tag === "Player3") {
    return "player3";
  }
  if (p2.tag === "Player4") {
    return "player4";
  }
  fail$3();
})())))(toAff$p(coerce));
const getPlayerForChannel = /* @__PURE__ */ (() => {
  const go = (n2) => (auth) => (fs) => (myChannel) => (myPlayerHint) => _bind((() => {
    const $6 = _throwError(error$1("No player found"));
    if (n2 >= 4) {
      return $6;
    }
    return _pure(unit);
  })())(() => _bind(getRideAff(fs)(myChannel))((ride2) => {
    if (ride2.tag === "Nothing") {
      return _throwError(error$1("PROGRAMMING ERROR: Ride has not been created yet, verify control flow!"));
    }
    if (ride2.tag === "Just") {
      const $8 = getLowestAvailablePlayer(ride2._1._1);
      if (myPlayerHint.tag === "Nothing") {
        if ($8.tag === "Nothing") {
          return _pure(Nothing);
        }
        if ($8.tag === "Just") {
          return _bind($$try(claimPlayerAff(auth)(fs)(myChannel)($8._1)))((maybeClaim) => {
            if (maybeClaim.tag === "Right") {
              return _pure($Maybe("Just", $8._1));
            }
            if (maybeClaim.tag === "Left") {
              return go(n2 + 1 | 0)(auth)(fs)(myChannel)(myPlayerHint);
            }
            fail$3();
          });
        }
        fail$3();
      }
      if (myPlayerHint.tag === "Nothing") {
        return _pure(Nothing);
      }
      if (myPlayerHint.tag === "Just") {
        return _bind($$try(claimPlayerAff(auth)(fs)(myChannel)(myPlayerHint._1)))((maybeClaim) => {
          if (maybeClaim.tag === "Right") {
            return _pure($Maybe("Just", myPlayerHint._1));
          }
          if (maybeClaim.tag === "Left") {
            return go(n2 + 1 | 0)(auth)(fs)(myChannel)(myPlayerHint);
          }
          fail$3();
        });
      }
      fail$3();
    }
    fail$3();
  }));
  return go(0);
})();
const addTrackAff = (fs) => (r2) => _bind(_liftEffect(addTrack(fs)(removeUndefineds(writeImpl3$1(r2._1)))))(toAff$p(coerce));
const addRideAff = (fs) => (r2) => _bind(_liftEffect(addRide(fs)(removeUndefineds(writeImpl1(r2._1)))))(toAff$p(coerce));
const createRideIfNotExistsYet = (fs) => (id2) => _bind(getRideAff(fs)(id2))((v) => {
  if (v.tag === "Nothing") {
    return _map((v1) => v1.id)(addRideAff(fs)(defaultRide));
  }
  if (v.tag === "Just") {
    return _pure(id2);
  }
  fail$3();
});
const addEventAff = (fs) => (id2) => (r2) => _bind(_liftEffect(addEvent(fs)(id2)(removeUndefineds(writeForeignEventV0.writeImpl(r2._1)))))(toAff$p(coerce));
class e$1 extends Error {
}
class t extends e$1 {
}
class n$1 extends e$1 {
}
const c = (e2, t2 = ",") => e2.join(t2), l$1 = { accept: "*", multiple: false, strict: false }, r$1 = (e2) => {
  const { accept: t2, multiple: n2, strict: r2 } = { ...l$1, ...e2 }, i2 = p({ multiple: n2, accept: Array.isArray(t2) ? c(t2) : t2 });
  return new Promise((e3) => {
    i2.onchange = () => {
      e3(s(i2.files, n2, r2)), i2.remove();
    }, i2.click();
  });
}, s = (e2, c2, l2) => new Promise((r2, s2) => {
  if (!e2)
    return s2(new t());
  const p2 = i$2(e2, c2, l2);
  if (!p2)
    return s2(new n$1());
  r2(p2);
}), i$2 = (e2, t2, n2) => !t2 && n2 ? 1 === e2.length ? e2[0] : null : e2.length ? e2 : null, p = ({ accept: e2, multiple: t2 }) => {
  const n2 = document.createElement("input");
  return n2.type = "file", n2.multiple = t2, n2.accept = e2, n2;
};
const fileList = () => r$1();
const $AugmentedEventV0 = (tag, _1) => ({ tag, _1 });
const $AugmentedEvent_ = (_1) => ({ tag: "AugmentedEventV0", _1 });
const applicativeStateT = /* @__PURE__ */ applicativeStateT$1(monadIdentity);
const traverse$1 = /* @__PURE__ */ (() => traversableArray.traverse(applicativeStateT))();
const bindStateT = /* @__PURE__ */ bindStateT$1(monadIdentity);
const map = /* @__PURE__ */ (() => functorStateT$1(functorIdentity).map)();
const monadStateStateT = /* @__PURE__ */ monadStateStateT$2(monadIdentity);
const toAugmentedEvents = (arr) => traverse$1((v) => {
  if (v._1.tag === "BasicEventV0") {
    return bindStateT.bind(map((v2) => {
      if (v2.tag === "Nothing") {
        return (v$1) => 0;
      }
      if (v2.tag === "Just") {
        return v2._1;
      }
      fail$3();
    })((() => {
      const $2 = lookup$2(ordColumn)(v._1._1.column);
      return monadStateStateT.state((s2) => $Tuple($2(s2), s2));
    })()))((raycastingCanStartAt) => bindStateT.bind((() => {
      const $3 = insert$2(ordColumn)(v._1._1.column)((x) => {
        if (x.tag === "Position1") {
          return 0.2 + v._1._1.marker1Time;
        }
        if (x.tag === "Position2") {
          return 0.2 + v._1._1.marker2Time;
        }
        if (x.tag === "Position3") {
          return 0.2 + v._1._1.marker3Time;
        }
        if (x.tag === "Position4") {
          return 0.2 + v._1._1.marker4Time;
        }
        fail$3();
      });
      return monadStateStateT.state((s2) => $Tuple(unit, $3(s2)));
    })())(() => applicativeStateT.pure((() => {
      if (v._1.tag === "BasicEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LeapEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LongEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      fail$3();
    })())));
  }
  if (v._1.tag === "LeapEventV0") {
    return bindStateT.bind(map((v2) => {
      if (v2.tag === "Nothing") {
        return (v$1) => 0;
      }
      if (v2.tag === "Just") {
        return v2._1;
      }
      fail$3();
    })((() => {
      const $2 = lookup$2(ordColumn)(v._1._1.column);
      return monadStateStateT.state((s2) => $Tuple($2(s2), s2));
    })()))((raycastingCanStartAt) => bindStateT.bind((() => {
      const $3 = insert$2(ordColumn)(v._1._1.column)((x) => {
        if (x.tag === "Position1") {
          return 0.2 + v._1._1.marker1Time;
        }
        if (x.tag === "Position2") {
          return 0.2 + ((v._1._1.marker2Time - v._1._1.marker1Time) * 0.33 + v._1._1.marker1Time);
        }
        if (x.tag === "Position3") {
          return 0.2 + ((v._1._1.marker2Time - v._1._1.marker1Time) * 0.66 + v._1._1.marker1Time);
        }
        if (x.tag === "Position4") {
          return 0.2 + v._1._1.marker2Time;
        }
        fail$3();
      });
      return monadStateStateT.state((s2) => $Tuple(unit, $3(s2)));
    })())(() => applicativeStateT.pure((() => {
      if (v._1.tag === "BasicEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LeapEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LongEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      fail$3();
    })())));
  }
  if (v._1.tag === "LongEventV0") {
    return bindStateT.bind(map((v2) => {
      if (v2.tag === "Nothing") {
        return (v$1) => 0;
      }
      if (v2.tag === "Just") {
        return v2._1;
      }
      fail$3();
    })((() => {
      const $2 = lookup$2(ordColumn)(v._1._1.column);
      return monadStateStateT.state((s2) => $Tuple($2(s2), s2));
    })()))((raycastingCanStartAt) => bindStateT.bind((() => {
      const $3 = insert$2(ordColumn)(v._1._1.column)((x) => {
        if (x.tag === "Position1") {
          return 0.2 + v._1._1.marker1Time;
        }
        if (x.tag === "Position2") {
          return 0.2 + ((v._1._1.marker2Time - v._1._1.marker1Time) * 0.33 + v._1._1.marker1Time);
        }
        if (x.tag === "Position3") {
          return 0.2 + ((v._1._1.marker2Time - v._1._1.marker1Time) * 0.66 + v._1._1.marker1Time);
        }
        if (x.tag === "Position4") {
          return 0.2 + v._1._1.marker2Time;
        }
        fail$3();
      });
      return monadStateStateT.state((s2) => $Tuple(unit, $3(s2)));
    })())(() => applicativeStateT.pure((() => {
      if (v._1.tag === "BasicEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedBasicEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LeapEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLeapEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      if (v._1.tag === "LongEventV0") {
        return $AugmentedEvent_($AugmentedEventV0("AugmentedLongEventV0", { ...v._1._1, raycastingCanStartAt }));
      }
      fail$3();
    })())));
  }
  fail$3();
})(sortBy((x) => (y) => ordNumber.compare((() => {
  if (x._1.tag === "BasicEventV0") {
    return x._1._1.marker1Time;
  }
  if (x._1.tag === "LeapEventV0") {
    return x._1._1.marker1Time;
  }
  if (x._1.tag === "LongEventV0") {
    return x._1._1.marker1Time;
  }
  fail$3();
})())((() => {
  if (y._1.tag === "BasicEventV0") {
    return y._1._1.marker1Time;
  }
  if (y._1.tag === "LeapEventV0") {
    return y._1._1.marker1Time;
  }
  if (y._1.tag === "LongEventV0") {
    return y._1._1.marker1Time;
  }
  fail$3();
})()))(arr))(Leaf)._1;
const withTime = (e2) => backdoor.makeEvent((k) => subscribe(e2)((value2) => () => {
  const time = now();
  return k({ time, value: value2 })();
}));
const onAt = () => (v) => (b, k) => v(b, (a2) => k({ type: "onOff", value: { o: a2, x: _on } }));
const offAt = () => (v) => (b, k) => v(b, (a2) => k({ type: "onOff", value: { o: a2, x: _off } }));
const playBuf$3 = /* @__PURE__ */ playBuf$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({
    reflectSymbol: () => "buffer"
  });
  return {
    toInitializePlayBuf: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PlayBufOptions)($$Proxy)(provided)({}),
      defaultPlayBuf
    )
  };
})());
const basic$1 = (x) => gain_(initialGainNumber)(1)([
  playBuf$3({ buffer: x.silence })((tf, k) => {
    const a$p = x.buffer(tf, (a2) => k({ type: "buffer", value: a2 }));
    const a$p$1 = onAt()(x.onAt)(tf, k);
    const a$p$2 = offAt()(x.offAt)(tf, k);
    return () => {
      a$p();
      a$p$1();
      return a$p$2();
    };
  })
]);
const emptyMatrix = { n11: 0, n12: 0, n13: 0, n14: 0, n21: 0, n22: 0, n23: 0, n24: 0, n31: 0, n32: 0, n33: 0, n34: 0, n41: 0, n42: 0, n43: 0, n44: 1 };
const $Semaphore = (tag, _1) => ({ tag, _1 });
const $Stage = (tag) => ({ tag });
const oneOf$c = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const traverse_$4 = /* @__PURE__ */ traverse_$7(applicativeST)(foldableObject);
const identity$8 = (x) => x;
const Begin = /* @__PURE__ */ $Stage("Begin");
const Middle = /* @__PURE__ */ $Stage("Middle");
const End = /* @__PURE__ */ $Stage("End");
const Release = /* @__PURE__ */ $Semaphore("Release");
const withRemoval$p = (p2) => (s2) => (attach) => (remove) => () => {
  const $4 = p2.value;
  p2.value = mutate(poke(s2)(remove))($4);
  return attach;
};
const singleInstance = (props) => (v) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => {
  const $5 = mySub(oneOf$c([
    backdoor.makeLemmingEvent((mySub1) => (pusher) => () => {
      const unsubs = { value: empty$2 };
      const usu = mySub1(props)((v2) => bind_(onMatch()()()({
        matrix4: (matrix42) => {
          const $10 = v1.setSingleInstancedMeshMatrix4({ id: v.meshId, instanceId: v.instanceId, matrix4: matrix42 });
          return () => $10;
        },
        color: (color2) => {
          const $10 = v1.setSingleInstancedMeshColor({ id: v.meshId, instanceId: v.instanceId, color: color2 });
          return () => $10;
        },
        onClick: (onClick) => withRemoval$p(unsubs)("click")(v1.setIMOnClick({ id: v.meshId, instanceId: v.instanceId, onClick }))(v1.removeIMOnClick({
          id: v.meshId,
          instanceId: v.instanceId,
          onClick
        })),
        onMouseDown: (onMouseDown) => withRemoval$p(unsubs)("mousedown")(v1.setIMOnMouseDown({ id: v.meshId, instanceId: v.instanceId, onMouseDown }))(v1.removeIMOnMouseDown({
          id: v.meshId,
          instanceId: v.instanceId,
          onMouseDown
        })),
        onMouseUp: (onMouseUp) => withRemoval$p(unsubs)("mouseup")(v1.setIMOnMouseUp({ id: v.meshId, instanceId: v.instanceId, onMouseUp }))(v1.removeIMOnMouseUp({
          id: v.meshId,
          instanceId: v.instanceId,
          onMouseUp
        })),
        onMouseMove: (onMouseMove) => withRemoval$p(unsubs)("mousemove")(v1.setIMOnMouseMove({ id: v.meshId, instanceId: v.instanceId, onMouseMove }))(v1.removeIMOnMouseMove({
          id: v.meshId,
          instanceId: v.instanceId,
          onMouseMove
        })),
        onTouchStart: (onTouchStart) => withRemoval$p(unsubs)("touchstart")(v1.setIMOnTouchStart({ id: v.meshId, instanceId: v.instanceId, onTouchStart }))(v1.removeIMOnTouchStart({
          id: v.meshId,
          instanceId: v.instanceId,
          onTouchStart
        })),
        onTouchEnd: (onTouchEnd) => withRemoval$p(unsubs)("touchend")(v1.setIMOnTouchEnd({ id: v.meshId, instanceId: v.instanceId, onTouchEnd }))(v1.removeIMOnTouchEnd({
          id: v.meshId,
          instanceId: v.instanceId,
          onTouchEnd
        })),
        onTouchMove: (onTouchMove) => withRemoval$p(unsubs)("touchmove")(v1.setIMOnTouchMove({ id: v.meshId, instanceId: v.instanceId, onTouchMove }))(v1.removeIMOnTouchMove({
          id: v.meshId,
          instanceId: v.instanceId,
          onTouchMove
        })),
        onTouchCancel: (onTouchCancel) => withRemoval$p(unsubs)("touchcancel")(v1.setIMOnTouchCancel({ id: v.meshId, instanceId: v.instanceId, onTouchCancel }))(v1.removeIMOnTouchCancel({
          id: v.meshId,
          instanceId: v.instanceId,
          onTouchCancel
        }))
      })(case_)(v2))(pusher))();
      return () => {
        const removes = unsubs.value;
        foreachE(values(removes))(pusher)();
        return usu();
      };
    })
  ]))(k);
  return () => {
    const u = $5();
    return u;
  };
});
const roundRobinInstancedMesh = (mmi) => (count) => (v) => (v1) => (props) => $Entity(
  "Element'",
  (parent) => (v2) => backdoor.makeLemmingEvent((mySub) => (topK) => () => {
    const me = v2.ids();
    const geoR = { value: Nothing };
    const matR = { value: Nothing };
    parent.raiseId(me)();
    const u0 = mySub(oneOf$c([
      v({
        parent: Nothing,
        scope: parent.scope,
        raiseId: (id2) => () => {
          geoR.value = $Maybe("Just", id2);
          return unit;
        }
      })(v2),
      v1({
        parent: Nothing,
        scope: parent.scope,
        raiseId: (id2) => () => {
          matR.value = $Maybe("Just", id2);
          return unit;
        }
      })(v2)
    ]))(topK)();
    const geoId = geoR.value;
    const matId = matR.value;
    const u1 = mySub((() => {
      if (geoId.tag === "Nothing") {
        return plusEvent.empty;
      }
      if (matId.tag === "Nothing") {
        return plusEvent.empty;
      }
      if (geoId.tag === "Just") {
        if (matId.tag === "Just") {
          return oneOf$c([
            applicativeEvent.pure(v2.makeInstancedMesh({ ...mmi, id: me, parent: parent.parent, scope: parent.scope, geometry: geoId._1, material: matId._1, count })),
            backdoor.makeLemmingEvent((mySub1) => (k) => {
              const $18 = range(0)(count - 1 | 0);
              return () => {
                const available = { value: $18 };
                const cancelInner = { value: empty$2 };
                const cancelOuter = mySub1(props)((inner) => () => {
                  const availableNow = available.value;
                  const currentHead = uncons(availableNow);
                  if (currentHead.tag === "Nothing") {
                    return unit;
                  }
                  if (currentHead.tag === "Just") {
                    available.value = currentHead._1.tail;
                    const myUnsubId = v2.ids();
                    const myUnsub = { value: () => unit };
                    const eltsUnsubId = v2.ids();
                    const eltsUnsub = { value: () => unit };
                    const myImmediateCancellation = { value: () => unit };
                    const stageRef = { value: Begin };
                    const c0 = mySub1(inner)((kid$p) => () => {
                      const stage = stageRef.value;
                      if (kid$p.tag === "Release") {
                        if (stage.tag === "Middle") {
                          stageRef.value = End;
                          const mic = () => {
                            const $34 = available.value;
                            available.value = nubBy(ordInt.compare)(concatArray($34)([currentHead._1.head]));
                            bind_(() => myUnsub.value)(identity$v)();
                            bind_(() => eltsUnsub.value)(identity$v)();
                            const $38 = cancelInner.value;
                            cancelInner.value = mutate(deleteImpl(myUnsubId))($38);
                            const $40 = cancelInner.value;
                            cancelInner.value = mutate(deleteImpl(eltsUnsubId))($40);
                            return unit;
                          };
                          myImmediateCancellation.value = mic;
                          return mic();
                        }
                        return unit;
                      }
                      if (kid$p.tag === "Acquire") {
                        if (stage.tag === "Begin") {
                          stageRef.value = Middle;
                          const c1 = mySub1(kid$p._1({ meshId: me, instanceId: currentHead._1.head })(v2))(k)();
                          const $35 = cancelInner.value;
                          cancelInner.value = mutate(poke(eltsUnsubId)(c1))($35);
                          eltsUnsub.value = c1;
                          return unit;
                        }
                        return unit;
                      }
                      return unit;
                    })();
                    myUnsub.value = c0;
                    const $33 = cancelInner.value;
                    cancelInner.value = mutate(poke(myUnsubId)(c0))($33);
                    const mycan = myImmediateCancellation.value;
                    return mycan();
                  }
                  fail$3();
                })();
                const $22 = bind_(() => cancelInner.value)(traverse_$4(identity$8));
                return () => {
                  $22();
                  return cancelOuter();
                };
              };
            })
          ]);
        }
        fail$3();
      }
      fail$3();
    })())(topK)();
    const $17 = topK(v2.deleteFromCache({ id: me }));
    return () => {
      $17();
      u0();
      return u1();
    };
  })
);
const max$7 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const oneOf$b = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const oneOfMap$6 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const for_$5 = /* @__PURE__ */ for_$9(applicativeAff)(foldableMaybe);
const show1$2 = /* @__PURE__ */ (() => {
  const $0 = showVect(showBeats)({ reflectType: () => 4 });
  return (record2) => {
    const v = cons(intercalate$2(": ")(["canStartAt", showNumberImpl(record2.canStartAt)]))(cons(intercalate$2(": ")([
      "cbeat",
      showNumberImpl(record2.cbeat)
    ]))(cons(intercalate$2(": ")(["myInfo", $0.show(record2.myInfo)]))(cons(intercalate$2(": ")(["rb", showNumberImpl(record2.rb)]))([]))));
    if (v.length === 0) {
      return "{}";
    }
    return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
  };
})();
const basic = (makeBasic) => {
  const p4 = indexImpl(3)(makeBasic.myInfo.beats);
  const p3 = indexImpl(2)(makeBasic.myInfo.beats);
  const p2 = indexImpl(1)(makeBasic.myInfo.beats);
  const p1 = indexImpl(0)(makeBasic.myInfo.beats);
  const otherPlayedMe = filter$p((v) => makeBasic.myInfo.uniqueId === v.uniqueId)(makeBasic.notifications.hitBasic);
  return keepLatest(backdoor.bus((setPlayed) => (iWasPlayed) => {
    const played = oneOf$b([
      (b, k) => iWasPlayed(b, (a2) => k(a2.logicalBeat)),
      (() => {
        const $8 = filter$p((v) => makeBasic.myInfo.uniqueId === v.uniqueId)(otherPlayedMe);
        return (b, k) => $8(b, (a2) => k(a2.logicalBeat));
      })()
    ]);
    const rateInfoAtTouchForAudio = compactableEvent.compact(sampleOn((tf, k) => {
      const a$p = applicativeEvent.pure(Nothing)(tf, k);
      const a$p$1 = played(tf, (a2) => k($Maybe("Just", a2)));
      return () => {
        a$p();
        return a$p$1();
      };
    })((b, k) => makeBasic.animatedStuff(
      b,
      (a2) => k((p5) => {
        if (p5.tag === "Nothing") {
          return $Maybe("Just", a2.rateInfo);
        }
        if (p5.tag === "Just") {
          if (p5._1 >= a2.rateInfo.beats) {
            return $Maybe("Just", a2.rateInfo);
          }
          return Nothing;
        }
        fail$3();
      })
    )));
    return keepLatest((() => {
      const $10 = sampleBy(functorEvent)(applyFlipped)(makeBasic.renderingInfo)(sampleOn((() => {
        const $102 = oneOff(Just)(sampleBy(functorEvent)($$const)((e2) => cInstant(makeBasic.cnow)((b, k) => e2(b, (a2) => k((x) => a2($Maybe("Just", x))))))(played));
        return (tf, k) => {
          const a$p = applicativeEvent.pure(Nothing)(tf, k);
          const a$p$1 = $102(tf, k);
          return () => {
            a$p();
            return a$p$1();
          };
        };
      })())(sampleOn((b, k) => {
        const a$p = applicativeEvent.pure(makeBasic.initialDims)(
          b,
          (a2) => {
            const $13 = { iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih };
            return k($13);
          }
        );
        const a$p$1 = makeBasic.resizeEvent(b, (a2) => k({ iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih }));
        return () => {
          a$p();
          return a$p$1();
        };
      })((b, k) => makeBasic.animatedStuff(b, (a2) => k((v1) => (v2) => (v3) => ({ rateInfo: a2.rateInfo, ratio: v1, endTime: v2, renderingInfo: v3 }))))));
      return backdoor.memoize((b, k) => $10(
        b,
        (a2) => {
          const $14 = {
            n14: (() => {
              if (makeBasic.myInfo.column.tag === "C1") {
                return a2.renderingInfo.halfAmbitus * -1 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C2") {
                return a2.renderingInfo.halfAmbitus * -0.875 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C3") {
                return a2.renderingInfo.halfAmbitus * -0.75 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C4") {
                return a2.renderingInfo.halfAmbitus * -0.625 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C5") {
                return a2.renderingInfo.halfAmbitus * -0.5 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C6") {
                return a2.renderingInfo.halfAmbitus * -0.375 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C7") {
                return a2.renderingInfo.halfAmbitus * -0.25 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C8") {
                return a2.renderingInfo.halfAmbitus * -0.125 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C9") {
                return a2.renderingInfo.halfAmbitus * 0 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C10") {
                return a2.renderingInfo.halfAmbitus * 0.125 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C11") {
                return a2.renderingInfo.halfAmbitus * 0.25 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C12") {
                return a2.renderingInfo.halfAmbitus * 0.375 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C13") {
                return a2.renderingInfo.halfAmbitus * 0.5 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C14") {
                return a2.renderingInfo.halfAmbitus * 0.625 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C15") {
                return a2.renderingInfo.halfAmbitus * 0.75 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C16") {
                return a2.renderingInfo.halfAmbitus * 0.875 * a2.ratio.r;
              }
              if (makeBasic.myInfo.column.tag === "C17") {
                return a2.renderingInfo.halfAmbitus * 1 * a2.ratio.r;
              }
              fail$3();
            })(),
            n24: 0,
            n34: (() => {
              if (a2.rateInfo.beats < p1.startsAt) {
                const $143 = -5 * a2.renderingInfo.barZSpacing;
                const $15 = -3 * a2.renderingInfo.barZSpacing;
                if (p1.startsAt === makeBasic.myInfo.appearsAt || $15 === $143) {
                  return $143 - 0.115;
                }
                const m2 = ($15 - $143) / (p1.startsAt - makeBasic.myInfo.appearsAt);
                return m2 * a2.rateInfo.beats + ($143 - m2 * makeBasic.myInfo.appearsAt) - 0.115;
              }
              if (a2.rateInfo.beats < p2.startsAt) {
                const $143 = -3 * a2.renderingInfo.barZSpacing;
                const $15 = -2 * a2.renderingInfo.barZSpacing;
                if (p2.startsAt === p1.startsAt || $15 === $143) {
                  return $143 - 0.115;
                }
                const m2 = ($15 - $143) / (p2.startsAt - p1.startsAt);
                return m2 * a2.rateInfo.beats + ($143 - m2 * p1.startsAt) - 0.115;
              }
              if (a2.rateInfo.beats < p3.startsAt) {
                const $143 = -2 * a2.renderingInfo.barZSpacing;
                const $15 = -1 * a2.renderingInfo.barZSpacing;
                if (p3.startsAt === p2.startsAt || $15 === $143) {
                  return $143 - 0.115;
                }
                const m2 = ($15 - $143) / (p3.startsAt - p2.startsAt);
                return m2 * a2.rateInfo.beats + ($143 - m2 * p2.startsAt) - 0.115;
              }
              if (a2.rateInfo.beats < p4.startsAt) {
                const $143 = -1 * a2.renderingInfo.barZSpacing;
                if (p4.startsAt === p3.startsAt || 0 === $143) {
                  return $143 - 0.115;
                }
                const m2 = -$143 / (p4.startsAt - p3.startsAt);
                return m2 * a2.rateInfo.beats + ($143 - m2 * p3.startsAt) - 0.115;
              }
              const $142 = p4.startsAt + 0.2;
              if ($142 === p4.startsAt) {
                return -0.115;
              }
              const m = 0.5 / ($142 - p4.startsAt);
              return m * a2.rateInfo.beats + -(m * p4.startsAt) - 0.115;
            })(),
            n11: (() => {
              const baseWidth = a2.renderingInfo.halfAmbitus * a2.ratio.r / 9;
              if (a2.endTime.tag === "Nothing") {
                return baseWidth;
              }
              if (a2.endTime.tag === "Just") {
                return max$7(0)(baseWidth - baseWidth * 3 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n22: (() => {
              if (a2.endTime.tag === "Nothing") {
                return 0.04;
              }
              if (a2.endTime.tag === "Just") {
                return max$7(0)(0.04 - 0.12 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n33: (() => {
              if (a2.endTime.tag === "Nothing") {
                return 0.23;
              }
              if (a2.endTime.tag === "Just") {
                return max$7(0)(0.23 - 0.6900000000000001 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n12: 0,
            n13: 0,
            n21: 0,
            n23: 0,
            n31: 0,
            n32: 0,
            n41: 0,
            n42: 0,
            n43: 0,
            n44: 1
          };
          return k($14);
        }
      ))((drawingMatrix) => rider({
        event: oneOfMap$6(applicativeEvent.pure)(arrayMap((v) => oneOf$b([
          applicativeEvent.pure($Child("Insert", v.audio(rateInfoAtTouchForAudio))),
          keepLatest((() => {
            const $13 = withTime(applicativeEvent.pure(unit));
            return (b, k) => $13(
              b,
              (a2) => {
                const $17 = lowPrioritySchedule(makeBasic.lpsCallback)(1e4 + a2.time)(applicativeEvent.pure(Remove));
                return k($17);
              }
            );
          })())
        ]))(makeBasic.myInfo.beats)),
        push: makeBasic.pushAudio
      })(rider({
        event: compactableEvent.compact(sampleOn(applyEvent.apply((b, k) => {
          const a$p = applicativeEvent.pure(Nothing)(b, (a2) => k((v1) => ({ iWasPlayed: a2, hbop: v1 })));
          const a$p$1 = iWasPlayed(b, (a2) => k((v1) => ({ iWasPlayed: $Maybe("Just", a2), hbop: v1 })));
          return () => {
            a$p();
            return a$p$1();
          };
        })((() => {
          const $12 = filter$p((v) => {
            if (v.player.tag === "Player1") {
              return !(makeBasic.myPlayer.tag === "Player1");
            }
            if (v.player.tag === "Player2") {
              return !(makeBasic.myPlayer.tag === "Player2");
            }
            if (v.player.tag === "Player3") {
              return !(makeBasic.myPlayer.tag === "Player3");
            }
            if (v.player.tag === "Player4") {
              return !(makeBasic.myPlayer.tag === "Player4");
            }
            return true;
          })(otherPlayedMe);
          return (tf, k) => {
            const a$p = applicativeEvent.pure(Nothing)(tf, k);
            const a$p$1 = $12(tf, (a2) => k($Maybe("Just", a2)));
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })()))((() => {
          const $12 = makeBasic.columnEventConstructor(makeBasic.myInfo.column);
          return (b, k) => $12(
            b,
            (a2) => k((v1) => {
              if ((() => {
                if (v1.iWasPlayed.tag === "Nothing") {
                  return false;
                }
                if (v1.iWasPlayed.tag === "Just") {
                  return true;
                }
                fail$3();
              })()) {
                return Nothing;
              }
              return $Maybe(
                "Just",
                (v2) => {
                  const ppos = (() => {
                    if (makeBasic.myPlayer.tag === "Player1") {
                      return v2.playerPositions.p1p;
                    }
                    if (makeBasic.myPlayer.tag === "Player2") {
                      return v2.playerPositions.p2p;
                    }
                    if (makeBasic.myPlayer.tag === "Player3") {
                      return v2.playerPositions.p3p;
                    }
                    if (makeBasic.myPlayer.tag === "Player4") {
                      return v2.playerPositions.p4p;
                    }
                    fail$3();
                  })();
                  const canStartAt = makeBasic.myInfo.raycastingCanStartAt(ppos);
                  if (ppos.tag === "Position1") {
                    if (v1.hbop.tag === "Just") {
                      return $Maybe(
                        "Just",
                        $Either(
                          "Left",
                          (issuedAt) => ({
                            uniqueId: v1.hbop._1.uniqueId,
                            logicalBeat: v1.hbop._1.logicalBeat,
                            deltaBeats: v1.hbop._1.deltaBeats,
                            hitAt: v1.hbop._1.hitAt,
                            issuedAt,
                            translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                            player: v1.hbop._1.player
                          })
                        )
                      );
                    }
                    if (v1.hbop.tag === "Nothing") {
                      if (v2.rateInfo.beats > canStartAt && p1.startsAt - v2.rateInfo.beats > -0.5) {
                        return $Maybe(
                          "Just",
                          $Either(
                            "Right",
                            { cbeat: v2.rateInfo.beats, canStartAt, rb: p1.startsAt, myInfo: arrayMap((v3) => v3.startsAt)(makeBasic.myInfo.beats) }
                          )
                        );
                      }
                      return Nothing;
                    }
                    fail$3();
                  }
                  if (ppos.tag === "Position2") {
                    if (v1.hbop.tag === "Just") {
                      return $Maybe(
                        "Just",
                        $Either(
                          "Left",
                          (issuedAt) => ({
                            uniqueId: v1.hbop._1.uniqueId,
                            logicalBeat: v1.hbop._1.logicalBeat,
                            deltaBeats: v1.hbop._1.deltaBeats,
                            hitAt: v1.hbop._1.hitAt,
                            issuedAt,
                            translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                            player: v1.hbop._1.player
                          })
                        )
                      );
                    }
                    if (v1.hbop.tag === "Nothing") {
                      if (v2.rateInfo.beats > canStartAt && p2.startsAt - v2.rateInfo.beats > -0.5) {
                        return $Maybe(
                          "Just",
                          $Either(
                            "Right",
                            { cbeat: v2.rateInfo.beats, canStartAt, rb: p2.startsAt, myInfo: arrayMap((v3) => v3.startsAt)(makeBasic.myInfo.beats) }
                          )
                        );
                      }
                      return Nothing;
                    }
                    fail$3();
                  }
                  if (ppos.tag === "Position3") {
                    if (v1.hbop.tag === "Just") {
                      return $Maybe(
                        "Just",
                        $Either(
                          "Left",
                          (issuedAt) => ({
                            uniqueId: v1.hbop._1.uniqueId,
                            logicalBeat: v1.hbop._1.logicalBeat,
                            deltaBeats: v1.hbop._1.deltaBeats,
                            hitAt: v1.hbop._1.hitAt,
                            issuedAt,
                            translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                            player: v1.hbop._1.player
                          })
                        )
                      );
                    }
                    if (v1.hbop.tag === "Nothing") {
                      if (v2.rateInfo.beats > canStartAt && p3.startsAt - v2.rateInfo.beats > -0.5) {
                        return $Maybe(
                          "Just",
                          $Either(
                            "Right",
                            { cbeat: v2.rateInfo.beats, canStartAt, rb: p3.startsAt, myInfo: arrayMap((v3) => v3.startsAt)(makeBasic.myInfo.beats) }
                          )
                        );
                      }
                      return Nothing;
                    }
                    fail$3();
                  }
                  if (ppos.tag === "Position4") {
                    if (v1.hbop.tag === "Just") {
                      return $Maybe(
                        "Just",
                        $Either(
                          "Left",
                          (issuedAt) => ({
                            uniqueId: v1.hbop._1.uniqueId,
                            logicalBeat: v1.hbop._1.logicalBeat,
                            deltaBeats: v1.hbop._1.deltaBeats,
                            hitAt: v1.hbop._1.hitAt,
                            issuedAt,
                            translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                            player: v1.hbop._1.player
                          })
                        )
                      );
                    }
                    if (v1.hbop.tag === "Nothing") {
                      if (v2.rateInfo.beats > canStartAt && p4.startsAt - v2.rateInfo.beats > -0.5) {
                        return $Maybe(
                          "Just",
                          $Either(
                            "Right",
                            { cbeat: v2.rateInfo.beats, canStartAt, rb: p4.startsAt, myInfo: arrayMap((v3) => v3.startsAt)(makeBasic.myInfo.beats) }
                          )
                        );
                      }
                      return Nothing;
                    }
                    fail$3();
                  }
                  if (v1.hbop.tag === "Just") {
                    return $Maybe(
                      "Just",
                      $Either(
                        "Left",
                        (issuedAt) => ({
                          uniqueId: v1.hbop._1.uniqueId,
                          logicalBeat: v1.hbop._1.logicalBeat,
                          deltaBeats: v1.hbop._1.deltaBeats,
                          hitAt: v1.hbop._1.hitAt,
                          issuedAt,
                          translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                          player: v1.hbop._1.player
                        })
                      )
                    );
                  }
                  if (v1.hbop.tag === "Nothing") {
                    fail$3();
                  }
                  fail$3();
                }
              );
            })
          );
        })())),
        push: (ipt) => {
          const $13 = _makeFiber(
            ffiUtil$1,
            _bind(eventToAff(makeBasic.animatedStuff))((v) => for_$5(ipt({ rateInfo: v.rateInfo, playerPositions: v.playerPositions }))((v1) => {
              if (v1.tag === "Left") {
                return _bind(_liftEffect(makeBasic.cnow))((cnow2) => {
                  const notMe = v1._1(cnow2);
                  return _bind(_liftEffect(log("drats, it wudn't me: " + showIntImpl(notMe.uniqueId))))(() => _liftEffect(makeBasic.pushBasicVisualForLabel(notMe)));
                });
              }
              if (v1.tag === "Right") {
                return _bind(_liftEffect(log("Raycaster strikes again! " + show1$2(v1._1))))(() => _bind(_liftEffect(makeBasic.cnow))((n2) => {
                  const pos = (() => {
                    if (makeBasic.myPlayer.tag === "Player1") {
                      return v.playerPositions.p1p;
                    }
                    if (makeBasic.myPlayer.tag === "Player2") {
                      return v.playerPositions.p2p;
                    }
                    if (makeBasic.myPlayer.tag === "Player3") {
                      return v.playerPositions.p3p;
                    }
                    if (makeBasic.myPlayer.tag === "Player4") {
                      return v.playerPositions.p4p;
                    }
                    fail$3();
                  })();
                  if (pos.tag === "Position1") {
                    const $18 = v.rateInfo.beats - p1.startsAt;
                    const hitBasicMe = { uniqueId: makeBasic.myInfo.uniqueId, logicalBeat: p1.startsAt, deltaBeats: $18, hitAt: v.rateInfo.beats, issuedAt: n2 };
                    return _bind(_liftEffect(makeBasic.pushBasicVisualForLabel({
                      uniqueId: makeBasic.myInfo.uniqueId,
                      logicalBeat: p1.startsAt,
                      deltaBeats: $18,
                      hitAt: v.rateInfo.beats,
                      issuedAt: n2,
                      translation: (b, k) => drawingMatrix(b, (a2) => k({ x: a2.n14, y: a2.n24, z: a2.n34 })),
                      player: makeBasic.myPlayer
                    })))(() => _bind(_liftEffect(makeBasic.pushBasic.push(hitBasicMe)))(() => _liftEffect(setPlayed(hitBasicMe))));
                  }
                  if (pos.tag === "Position2") {
                    const $18 = v.rateInfo.beats - p2.startsAt;
                    const hitBasicMe = { uniqueId: makeBasic.myInfo.uniqueId, logicalBeat: p2.startsAt, deltaBeats: $18, hitAt: v.rateInfo.beats, issuedAt: n2 };
                    return _bind(_liftEffect(makeBasic.pushBasicVisualForLabel({
                      uniqueId: makeBasic.myInfo.uniqueId,
                      logicalBeat: p2.startsAt,
                      deltaBeats: $18,
                      hitAt: v.rateInfo.beats,
                      issuedAt: n2,
                      translation: (b, k) => drawingMatrix(b, (a2) => k({ x: a2.n14, y: a2.n24, z: a2.n34 })),
                      player: makeBasic.myPlayer
                    })))(() => _bind(_liftEffect(makeBasic.pushBasic.push(hitBasicMe)))(() => _liftEffect(setPlayed(hitBasicMe))));
                  }
                  if (pos.tag === "Position3") {
                    const $18 = v.rateInfo.beats - p3.startsAt;
                    const hitBasicMe = { uniqueId: makeBasic.myInfo.uniqueId, logicalBeat: p3.startsAt, deltaBeats: $18, hitAt: v.rateInfo.beats, issuedAt: n2 };
                    return _bind(_liftEffect(makeBasic.pushBasicVisualForLabel({
                      uniqueId: makeBasic.myInfo.uniqueId,
                      logicalBeat: p3.startsAt,
                      deltaBeats: $18,
                      hitAt: v.rateInfo.beats,
                      issuedAt: n2,
                      translation: (b, k) => drawingMatrix(b, (a2) => k({ x: a2.n14, y: a2.n24, z: a2.n34 })),
                      player: makeBasic.myPlayer
                    })))(() => _bind(_liftEffect(makeBasic.pushBasic.push(hitBasicMe)))(() => _liftEffect(setPlayed(hitBasicMe))));
                  }
                  if (pos.tag === "Position4") {
                    const $18 = v.rateInfo.beats - p4.startsAt;
                    const hitBasicMe = { uniqueId: makeBasic.myInfo.uniqueId, logicalBeat: p4.startsAt, deltaBeats: $18, hitAt: v.rateInfo.beats, issuedAt: n2 };
                    return _bind(_liftEffect(makeBasic.pushBasicVisualForLabel({
                      uniqueId: makeBasic.myInfo.uniqueId,
                      logicalBeat: p4.startsAt,
                      deltaBeats: $18,
                      hitAt: v.rateInfo.beats,
                      issuedAt: n2,
                      translation: (b, k) => drawingMatrix(b, (a2) => k({ x: a2.n14, y: a2.n24, z: a2.n34 })),
                      player: makeBasic.myPlayer
                    })))(() => _bind(_liftEffect(makeBasic.pushBasic.push(hitBasicMe)))(() => _liftEffect(setPlayed(hitBasicMe))));
                  }
                  fail$3();
                }));
              }
              fail$3();
            }))
          );
          return () => {
            const fiber = $13();
            fiber.run();
            return unit;
          };
        }
      })(applicativeEvent.pure(singleInstance(oneOf$b([
        applicativeEvent.pure({ type: "matrix4", value: makeBasic.mkMatrix4(emptyMatrix) }),
        (b, k) => drawingMatrix(
          b,
          (a2) => {
            const $15 = { type: "matrix4", value: makeBasic.mkMatrix4(a2) };
            return k($15);
          }
        )
      ]))))));
    })());
  }));
};
const $MeshPhongMaterialOptions = () => ({ tag: "MeshPhongMaterialOptions" });
const identity$7 = (x) => x;
const oneOf$a = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const MeshPhongMaterialOptions = /* @__PURE__ */ $MeshPhongMaterialOptions();
const convertOptionMeshPhongMat49 = { convertOption: (v) => (v1) => Just };
const convertOptionMeshPhongMat50 = { convertOption: (v) => (v1) => identity$7 };
const meshPhongMaterial$2 = (dictInitialMeshPhongMaterial) => (i$p) => (atts) => {
  const $3 = dictInitialMeshPhongMaterial.toInitializeMeshPhongMaterial(i$p);
  return (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const unsub = mySub(oneOf$a([
      applicativeEvent.pure(v1.makeMeshPhongMaterial({
        id: me,
        parent: parent.parent,
        scope: parent.scope,
        parameters: {
          meshPhongMaterial: $3.meshPhongMaterial,
          color: $3.color,
          map: $3.map,
          combine: $3.combine,
          fog: $3.fog,
          reflectivity: $3.reflectivity,
          refractionRatio: $3.refractionRatio,
          shininess: $3.shininess,
          specular: $3.specular,
          specularMap: $3.specularMap,
          wireframeLinecap: $3.wireframeLinecap,
          wireframeLinejoin: $3.wireframeLinejoin,
          lightMap: $3.lightMap,
          lightMapIntensity: $3.lightMapIntensity,
          aoMap: $3.aoMap,
          aoMapIntensity: $3.aoMapIntensity,
          emissive: $3.emissive,
          emissiveIntensity: $3.emissiveIntensity,
          emissiveMap: $3.emissiveMap,
          bumpMap: $3.bumpMap,
          bumpScale: $3.bumpScale,
          normalMap: $3.normalMap,
          normalMapType: $3.normalMapType,
          normalScale: $3.normalScale,
          displacementMap: $3.displacementMap,
          displacementScale: $3.displacementScale,
          displacementBias: $3.displacementBias,
          alphaMap: $3.alphaMap,
          envMap: $3.envMap,
          wireframe: $3.wireframe,
          wireframeLinewidth: $3.wireframeLinewidth,
          flatShading: $3.flatShading
        },
        materialParameters: {
          alphaTest: $3.alphaTest,
          alphaToCoverage: $3.alphaToCoverage,
          blendDst: $3.blendDst,
          blendDstAlpha: $3.blendDstAlpha,
          blendEquation: $3.blendEquation,
          blendEquationAlpha: $3.blendEquationAlpha,
          blending: $3.blending,
          blendSrc: $3.blendSrc,
          blendSrcAlpha: $3.blendSrcAlpha,
          clipIntersection: $3.clipIntersection,
          clipShadows: $3.clipShadows,
          colorWrite: $3.colorWrite,
          depthFunc: $3.depthFunc,
          depthTest: $3.depthTest,
          depthWrite: $3.depthWrite,
          opacity: $3.opacity,
          polygonOffset: $3.polygonOffset,
          polygonOffsetFactor: $3.polygonOffsetFactor,
          polygonOffsetUnits: $3.polygonOffsetUnits,
          precision: $3.precision,
          premultipliedAlpha: $3.premultipliedAlpha,
          dithering: $3.dithering,
          shadowSide: $3.shadowSide,
          side: $3.side,
          toneMapped: $3.toneMapped,
          transparent: $3.transparent,
          vertexColors: $3.vertexColors,
          visible: $3.visible
        }
      })),
      (b, k$1) => atts(
        b,
        (a2) => {
          const $13 = onMatch()()()({
            color: (x) => v1.setColor({ id: me, color: x }),
            map: (x) => v1.setMap({ id: me, map: x }),
            lightMap: (x) => v1.setLightMap({ id: me, lightMap: x }),
            lightMapIntensity: (x) => v1.setLightMapIntensity({ id: me, lightMapIntensity: x }),
            aoMap: (x) => v1.setAoMap({ id: me, aoMap: x }),
            aoMapIntensity: (x) => v1.setAoMapIntensity({ id: me, aoMapIntensity: x }),
            emissive: (x) => v1.setEmissive({ id: me, emissive: x }),
            emissiveIntensity: (x) => v1.setEmissiveIntensity({ id: me, emissiveIntensity: x }),
            emissiveMap: (x) => v1.setEmissiveMap({ id: me, emissiveMap: x }),
            bumpMap: (x) => v1.setBumpMap({ id: me, bumpMap: x }),
            bumpScale: (x) => v1.setBumpScale({ id: me, bumpScale: x }),
            normalMap: (x) => v1.setNormalMap({ id: me, normalMap: x }),
            normalMapType: (x) => v1.setNormalMapType({ id: me, normalMapType: x }),
            normalScale: (x) => v1.setNormalScale({ id: me, normalScale: x }),
            displacementMap: (x) => v1.setDisplacementMap({ id: me, displacementMap: x }),
            displacementScale: (x) => v1.setDisplacementScale({ id: me, displacementScale: x }),
            displacementBias: (x) => v1.setDisplacementBias({ id: me, displacementBias: x }),
            alphaMap: (x) => v1.setAlphaMap({ id: me, alphaMap: x }),
            envMap: (x) => v1.setEnvMap({ id: me, envMap: x }),
            wireframe: (x) => v1.setWireframe({ id: me, wireframe: x }),
            wireframeLinewidth: (x) => v1.setWireframeLinewidth({ id: me, wireframeLinewidth: x }),
            flatShading: (x) => v1.setFlatShading({ id: me, flatShading: x }),
            combine: (x) => v1.setCombine({ id: me, combine: x }),
            fog: (x) => v1.setFog({ id: me, fog: x }),
            reflectivity: (x) => v1.setReflectivity({ id: me, reflectivity: x }),
            refractionRatio: (x) => v1.setRefractionRatio({ id: me, refractionRatio: x }),
            shininess: (x) => v1.setShininess({ id: me, shininess: x }),
            specular: (x) => v1.setSpecular({ id: me, specular: x }),
            specularMap: (x) => v1.setSpecularMap({ id: me, specularMap: x }),
            wireframeLinecap: (x) => v1.setWireframeLinecap({ id: me, wireframeLinecap: x }),
            wireframeLinejoin: (x) => v1.setWireframeLinejoin({ id: me, wireframeLinejoin: x })
          })(case_)(a2);
          return k$1($13);
        }
      )
    ]))(k)();
    const $11 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $11();
      return unsub();
    };
  });
};
const defaultMeshPhongMaterial = {
  ...defaultMaterials,
  color: Nothing,
  map: Nothing,
  lightMap: Nothing,
  lightMapIntensity: Nothing,
  aoMap: Nothing,
  aoMapIntensity: Nothing,
  emissive: Nothing,
  emissiveIntensity: Nothing,
  emissiveMap: Nothing,
  bumpMap: Nothing,
  bumpScale: Nothing,
  normalMap: Nothing,
  normalMapType: Nothing,
  normalScale: Nothing,
  displacementMap: Nothing,
  displacementScale: Nothing,
  displacementBias: Nothing,
  alphaMap: Nothing,
  envMap: Nothing,
  wireframe: Nothing,
  wireframeLinewidth: Nothing,
  flatShading: Nothing,
  combine: Nothing,
  fog: Nothing,
  reflectivity: Nothing,
  refractionRatio: Nothing,
  shininess: Nothing,
  specular: Nothing,
  specularMap: Nothing,
  wireframeLinecap: Nothing,
  wireframeLinejoin: Nothing
};
const identity$6 = (x) => x;
const pure = /* @__PURE__ */ (() => applicativeABehavior(functorEvent).pure)();
const fromFoldable$6 = /* @__PURE__ */ foldrArray(Cons)(Nil);
const oneOfMap$5 = (f) => foldableList.foldr((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const box$1 = /* @__PURE__ */ box$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({
    reflectSymbol: () => "box"
  });
  return {
    toInitializeBox: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(BoxOptions)($$Proxy)(provided)({}),
      defaultBox
    )
  };
})());
const meshPhongMaterial$1 = /* @__PURE__ */ meshPhongMaterial$2(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshPhongMat50)()()()({
    reflectSymbol: () => "meshPhongMaterial"
  }))(convertOptionMeshPhongMat49)()()()({ reflectSymbol: () => "color" });
  return {
    toInitializeMeshPhongMaterial: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(MeshPhongMaterialOptions)($$Proxy)(provided)({}),
      defaultMeshPhongMaterial
    )
  };
})());
const singleBeat$2 = (v) => ({
  startsAt: v.myBeat,
  audio: (riE) => $Entity(
    "EventfulElement'",
    backdoor.memoize(oneOff(identity$6)((b, k) => riE(
      b,
      (a2) => {
        const $5 = (() => {
          if (a2.beats + 4 >= v.myBeat) {
            return $Maybe(
              "Just",
              (() => {
                if (a2.prevBeats.tag === "Just") {
                  if (a2.prevTime.tag === "Just") {
                    if (a2.beats === a2.prevBeats._1 || a2.time === a2.prevTime._1) {
                      return a2.prevTime._1;
                    }
                    const m = (a2.time - a2.prevTime._1) / (a2.beats - a2.prevBeats._1);
                    return m * v.myBeat + (a2.prevTime._1 - m * a2.prevBeats._1);
                  }
                  return 0;
                }
                return 0;
              })()
            );
          }
          return Nothing;
        })();
        return k($5);
      }
    )))((oa) => basic$1({
      buffer: sampleBy(functorEvent)($$const)(v.buffer)(oa),
      offAt: plusEvent.empty,
      silence: v.silence,
      onAt: oa
    }))
  )
});
const severalBeats = (v) => [
  singleBeat$2({ myBeat: v.b0, buffer: pure(v.silence), silence: v.silence }),
  singleBeat$2({ myBeat: v.b1, buffer: pure(v.silence), silence: v.silence }),
  singleBeat$2({ myBeat: v.b2, buffer: pure(v.silence), silence: v.silence }),
  singleBeat$2({ myBeat: v.b3, buffer: pure(v.silence), silence: v.silence })
];
const rideBasics = (bevs) => (makeBasics) => {
  const go = (f) => (v) => (v1) => {
    if (v.tag === "Nil") {
      const $6 = go(f)(Nil);
      return defer((v$1) => $Tuple(Nil, $6));
    }
    const v2 = span$1((v3) => v3.appearsAt <= v1.beats + 4)(v);
    const $7 = listMap(f)(v2.init);
    const $8 = go(f)(v2.rest);
    return defer((v$1) => $Tuple($7, $8));
  };
  return $Entity(
    "FixedChildren'",
    [
      roundRobinInstancedMesh({ instancedMesh: makeBasics.threeDI.instancedMesh, matrix4: makeBasics.threeDI.matrix4, mesh: makeBasics.threeDI.mesh })(100)(box$1({
        box: makeBasics.threeDI.boxGeometry
      }))(meshPhongMaterial$1({ meshPhongMaterial: makeBasics.threeDI.meshPhongMaterial, color: makeBasics.mkColor($RGB(0.798, 0.927, 0.778)) })(plusEvent.empty))(keepLatest((() => {
        const $3 = oneOfMap$5(applicativeEvent.pure);
        const $4 = scheduleCf(go((input) => {
          const $5 = basic({
            myInfo: {
              beats: severalBeats({ b0: input.b0, b1: input.b1, b2: input.b2, b3: input.b3, silence: makeBasics.silence }),
              raycastingCanStartAt: input.raycastingCanStartAt,
              uniqueId: input.uniqueId,
              appearsAt: input.appearsAt,
              column: input.column
            },
            ...unsafeUnionFn(makeBasics, input)
          });
          const $6 = keepLatest((() => {
            const $62 = withTime(applicativeEvent.pure(unit));
            return (b, k) => $62(
              b,
              (a2) => {
                const $10 = lowPrioritySchedule(makeBasics.lpsCallback)(15e3 + a2.time)(applicativeEvent.pure(Release));
                return k($10);
              }
            );
          })());
          return (tf, k) => {
            const a$p = $5(tf, (a2) => k($Semaphore("Acquire", a2)));
            const a$p$1 = $6(tf, k);
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })(foldableWithIndexList.foldrWithIndex((i2) => (x) => (acc) => $List(
          "Cons",
          {
            uniqueId: i2,
            appearsAt: 3 * x.marker1Time - 2 * x.marker2Time + 1,
            b0: x.marker1Time + 1,
            b1: x.marker2Time + 1,
            b2: x.marker3Time + 1,
            b3: x.marker4Time + 1,
            text: replicate(4)(""),
            raycastingCanStartAt: (x$1) => 1 + x.raycastingCanStartAt(x$1),
            column: x.column
          },
          acc
        ))(Nil)(sortBy$1((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(fromFoldable$6(bevs)))))((b, k) => makeBasics.animatedStuff(
          b,
          (a2) => k(a2.rateInfo)
        ));
        return (b, k) => $4(
          b,
          (a2) => {
            const $8 = $3(a2);
            return k($8);
          }
        );
      })()))
    ]
  );
};
const playBuf$2 = /* @__PURE__ */ playBuf$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({
    reflectSymbol: () => "buffer"
  });
  return {
    toInitializePlayBuf: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PlayBufOptions)($$Proxy)(provided)({}),
      defaultPlayBuf
    )
  };
})());
const leap$1 = (x) => gain_(initialGainNumber)(1)([
  playBuf$2({ buffer: x.silence })((tf, k) => {
    const a$p = x.buffer(tf, (a2) => k({ type: "buffer", value: a2 }));
    const a$p$1 = onAt()(x.onAt)(tf, k);
    const a$p$2 = offAt()(x.offAt)(tf, k);
    return () => {
      a$p();
      a$p$1();
      return a$p$2();
    };
  })
]);
const max$6 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const oneOf$9 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const for_$4 = /* @__PURE__ */ for_$9(applicativeAff)(foldableMaybe);
const show1$1 = (record2) => {
  const v = cons(intercalate$2(": ")(["canStartAt", showNumberImpl(record2.canStartAt)]))(cons(intercalate$2(": ")([
    "cbeat",
    showNumberImpl(record2.cbeat)
  ]))(cons(intercalate$2(": ")(["rb", showNumberImpl(record2.rb)]))([])));
  if (v.length === 0) {
    return "{}";
  }
  return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
};
const leap = (makeLeap) => {
  const otherPlayedMe = filter$p((v) => makeLeap.uniqueId === v.uniqueId)(makeLeap.notifications.hitLeap);
  return keepLatest(backdoor.bus((setPlayed) => (iWasPlayed) => {
    const $4 = filter$p((v) => makeLeap.uniqueId === v.uniqueId)(otherPlayedMe);
    const played = (tf, k) => {
      const a$p = iWasPlayed(tf, (a2) => k(unit));
      const a$p$1 = $4(tf, (a2) => k(unit));
      return () => {
        a$p();
        return a$p$1();
      };
    };
    return keepLatest((() => {
      const $6 = sampleBy(functorEvent)(applyFlipped)(makeLeap.renderingInfo)(sampleOn((() => {
        const $62 = oneOff(Just)(sampleBy(functorEvent)($$const)((e2) => cInstant(makeLeap.cnow)((b, k) => e2(b, (a2) => k((x) => a2($Maybe("Just", x))))))(played));
        return (tf, k) => {
          const a$p = applicativeEvent.pure(Nothing)(tf, k);
          const a$p$1 = $62(tf, k);
          return () => {
            a$p();
            return a$p$1();
          };
        };
      })())(sampleOn((b, k) => {
        const a$p = applicativeEvent.pure(makeLeap.initialDims)(
          b,
          (a2) => {
            const $9 = { iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih };
            return k($9);
          }
        );
        const a$p$1 = makeLeap.resizeEvent(b, (a2) => k({ iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih }));
        return () => {
          a$p();
          return a$p$1();
        };
      })((b, k) => makeLeap.animatedStuff(b, (a2) => k((v1) => (v2) => (v3) => ({ rateInfo: a2.rateInfo, ratio: v1, endTime: v2, renderingInfo: v3 }))))));
      return backdoor.memoize((b, k) => $6(
        b,
        (a2) => {
          const $10 = {
            n14: (() => {
              if (makeLeap.column.tag === "C1") {
                return a2.renderingInfo.halfAmbitus * -1 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C2") {
                return a2.renderingInfo.halfAmbitus * -0.875 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C3") {
                return a2.renderingInfo.halfAmbitus * -0.75 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C4") {
                return a2.renderingInfo.halfAmbitus * -0.625 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C5") {
                return a2.renderingInfo.halfAmbitus * -0.5 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C6") {
                return a2.renderingInfo.halfAmbitus * -0.375 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C7") {
                return a2.renderingInfo.halfAmbitus * -0.25 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C8") {
                return a2.renderingInfo.halfAmbitus * -0.125 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C9") {
                return a2.renderingInfo.halfAmbitus * 0 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C10") {
                return a2.renderingInfo.halfAmbitus * 0.125 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C11") {
                return a2.renderingInfo.halfAmbitus * 0.25 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C12") {
                return a2.renderingInfo.halfAmbitus * 0.375 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C13") {
                return a2.renderingInfo.halfAmbitus * 0.5 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C14") {
                return a2.renderingInfo.halfAmbitus * 0.625 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C15") {
                return a2.renderingInfo.halfAmbitus * 0.75 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C16") {
                return a2.renderingInfo.halfAmbitus * 0.875 * a2.ratio.r;
              }
              if (makeLeap.column.tag === "C17") {
                return a2.renderingInfo.halfAmbitus * 1 * a2.ratio.r;
              }
              fail$3();
            })(),
            n24: 0,
            n34: (() => {
              const $102 = -3 * a2.renderingInfo.barZSpacing;
              if (makeLeap.hitsLastPositionAt === makeLeap.hitsFirstPositionAt || 0 === $102) {
                return $102 - 0.1;
              }
              const m = -$102 / (makeLeap.hitsLastPositionAt - makeLeap.hitsFirstPositionAt);
              return m * a2.rateInfo.beats + ($102 - m * makeLeap.hitsFirstPositionAt) - 0.1;
            })(),
            n11: (() => {
              const baseWidth = a2.renderingInfo.halfAmbitus * a2.ratio.r / 20;
              if (a2.endTime.tag === "Nothing") {
                return baseWidth;
              }
              if (a2.endTime.tag === "Just") {
                return max$6(0)(baseWidth - baseWidth * 3 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n22: (() => {
              if (a2.endTime.tag === "Nothing") {
                return 0.04;
              }
              if (a2.endTime.tag === "Just") {
                return max$6(0)(0.04 - 0.12 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n33: (() => {
              if (a2.endTime.tag === "Nothing") {
                return 0.2;
              }
              if (a2.endTime.tag === "Just") {
                return max$6(0)(0.2 - 0.6000000000000001 * (a2.rateInfo.epochTime - a2.endTime._1) / 1e3);
              }
              fail$3();
            })(),
            n12: 0,
            n13: 0,
            n21: 0,
            n23: 0,
            n31: 0,
            n32: 0,
            n41: 0,
            n42: 0,
            n43: 0,
            n44: 1
          };
          return k($10);
        }
      ))((drawingMatrix) => rider({
        event: applicativeEvent.pure(oneOf$9([
          applicativeEvent.pure($Child(
            "Insert",
            makeLeap.sound(keepLatest((b, k) => oneOff(Just)(played)(
              b,
              (a2) => k((b$1, k$1) => makeLeap.animatedStuff(b$1, (a$1) => k$1(a$1.rateInfo)))
            )))
          )),
          keepLatest((() => {
            const $8 = withTime(applicativeEvent.pure(unit));
            return (b, k) => $8(
              b,
              (a2) => {
                const $12 = lowPrioritySchedule(makeLeap.lpsCallback)(1e4 + a2.time)(applicativeEvent.pure(Remove));
                return k($12);
              }
            );
          })())
        ])),
        push: makeLeap.pushAudio
      })(rider({
        event: compactableEvent.compact(sampleOn(applyEvent.apply((b, k) => {
          const a$p = applicativeEvent.pure(Nothing)(b, (a2) => k((v1) => ({ iWasPlayed: a2, hbop: v1 })));
          const a$p$1 = iWasPlayed(b, (a2) => k((v1) => ({ iWasPlayed: $Maybe("Just", a2), hbop: v1 })));
          return () => {
            a$p();
            return a$p$1();
          };
        })((() => {
          const $8 = filter$p((v) => {
            if (v.player.tag === "Player1") {
              return !(makeLeap.myPlayer.tag === "Player1");
            }
            if (v.player.tag === "Player2") {
              return !(makeLeap.myPlayer.tag === "Player2");
            }
            if (v.player.tag === "Player3") {
              return !(makeLeap.myPlayer.tag === "Player3");
            }
            if (v.player.tag === "Player4") {
              return !(makeLeap.myPlayer.tag === "Player4");
            }
            return true;
          })(otherPlayedMe);
          return (tf, k) => {
            const a$p = applicativeEvent.pure(Nothing)(tf, k);
            const a$p$1 = $8(tf, (a2) => k($Maybe("Just", a2)));
            return () => {
              a$p();
              return a$p$1();
            };
          };
        })()))((() => {
          const $8 = makeLeap.columnEventConstructor(makeLeap.column);
          return (b, k) => $8(
            b,
            (a2) => k((v1) => {
              if ((() => {
                if (v1.iWasPlayed.tag === "Nothing") {
                  return false;
                }
                if (v1.iWasPlayed.tag === "Just") {
                  return true;
                }
                fail$3();
              })()) {
                return Nothing;
              }
              return $Maybe(
                "Just",
                (v2) => {
                  const ppos = (() => {
                    if (makeLeap.myPlayer.tag === "Player1") {
                      return v2.playerPositions.p1p;
                    }
                    if (makeLeap.myPlayer.tag === "Player2") {
                      return v2.playerPositions.p2p;
                    }
                    if (makeLeap.myPlayer.tag === "Player3") {
                      return v2.playerPositions.p3p;
                    }
                    if (makeLeap.myPlayer.tag === "Player4") {
                      return v2.playerPositions.p4p;
                    }
                    fail$3();
                  })();
                  const canStartAt = makeLeap.raycastingCanStartAt(ppos);
                  const rightBeat = (() => {
                    if (ppos.tag === "Position1") {
                      return makeLeap.hitsFirstPositionAt;
                    }
                    if (ppos.tag === "Position2") {
                      return (makeLeap.hitsLastPositionAt - makeLeap.hitsFirstPositionAt) * 0.33 + makeLeap.hitsFirstPositionAt;
                    }
                    if (ppos.tag === "Position3") {
                      return (makeLeap.hitsLastPositionAt - makeLeap.hitsFirstPositionAt) * 0.66 + makeLeap.hitsFirstPositionAt;
                    }
                    if (ppos.tag === "Position4") {
                      return makeLeap.hitsLastPositionAt;
                    }
                    fail$3();
                  })();
                  if (v1.hbop.tag === "Just") {
                    return $Maybe(
                      "Just",
                      $Either(
                        "Left",
                        (issuedAt) => ({
                          uniqueId: v1.hbop._1.uniqueId,
                          oldPosition: v1.hbop._1.oldPosition,
                          newPosition: v1.hbop._1.newPosition,
                          hitAt: v1.hbop._1.hitAt,
                          issuedAt,
                          translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1.n14, y: a$1.n24, z: a$1.n34 })),
                          player: v1.hbop._1.player
                        })
                      )
                    );
                  }
                  if (v1.hbop.tag === "Nothing") {
                    if (v2.rateInfo.beats > canStartAt && rightBeat - v2.rateInfo.beats > -0.5) {
                      return $Maybe("Just", $Either("Right", { cbeat: v2.rateInfo.beats, canStartAt, rb: rightBeat }));
                    }
                    return Nothing;
                  }
                  fail$3();
                }
              );
            })
          );
        })())),
        push: (ipt) => {
          const $9 = _makeFiber(
            ffiUtil$1,
            _bind(eventToAff(makeLeap.animatedStuff))((v) => for_$4(ipt({ rateInfo: v.rateInfo, playerPositions: v.playerPositions }))((v1) => {
              if (v1.tag === "Left") {
                return _bind(_liftEffect(makeLeap.cnow))((cnow2) => {
                  const notMe = v1._1(cnow2);
                  return _bind(_liftEffect(log("drats, it wudn't me: " + showIntImpl(notMe.uniqueId))))(() => _liftEffect(makeLeap.pushLeapVisualForLabel(notMe)));
                });
              }
              if (v1.tag === "Right") {
                return _bind(_liftEffect(log("Raycaster strikes again! " + show1$1(v1._1))))(() => _bind(_liftEffect(makeLeap.cnow))((n2) => {
                  const $13 = (() => {
                    if (makeLeap.myPlayer.tag === "Player1") {
                      return v.playerPositions.p1p;
                    }
                    if (makeLeap.myPlayer.tag === "Player2") {
                      return v.playerPositions.p2p;
                    }
                    if (makeLeap.myPlayer.tag === "Player3") {
                      return v.playerPositions.p3p;
                    }
                    if (makeLeap.myPlayer.tag === "Player4") {
                      return v.playerPositions.p4p;
                    }
                    fail$3();
                  })();
                  const hitLeapMe = { uniqueId: makeLeap.uniqueId, hitAt: v.rateInfo.beats, issuedAt: n2, oldPosition: $13, newPosition: makeLeap.newPosition };
                  return _bind(_liftEffect(makeLeap.pushLeapVisualForLabel({
                    uniqueId: makeLeap.uniqueId,
                    oldPosition: $13,
                    newPosition: makeLeap.newPosition,
                    hitAt: v.rateInfo.beats,
                    issuedAt: n2,
                    translation: (b, k) => drawingMatrix(b, (a2) => k({ x: a2.n14, y: a2.n24, z: a2.n34 })),
                    player: makeLeap.myPlayer
                  })))(() => _bind(_liftEffect(makeLeap.pushLeap.push(hitLeapMe)))(() => _liftEffect(setPlayed(hitLeapMe))));
                }));
              }
              fail$3();
            }))
          );
          return () => {
            const fiber = $9();
            fiber.run();
            return unit;
          };
        }
      })(applicativeEvent.pure(singleInstance(oneOf$9([
        applicativeEvent.pure({ type: "matrix4", value: makeLeap.mkMatrix4(emptyMatrix) }),
        (b, k) => drawingMatrix(
          b,
          (a2) => {
            const $11 = { type: "matrix4", value: makeLeap.mkMatrix4(a2) };
            return k($11);
          }
        )
      ]))))));
    })());
  }));
};
const $CylinderOptions = () => ({ tag: "CylinderOptions" });
const identity$5 = (x) => x;
const CylinderOptions = /* @__PURE__ */ $CylinderOptions();
const convertOptionCylinderOpti6 = { convertOption: (v) => (v1) => identity$5 };
const convertOptionCylinderOpti10 = { convertOption: (v) => (v1) => identity$5 };
const defaultCylinder = {
  radiusTop: 1,
  radiusBottom: 1,
  height: 1,
  radialSegments: 8,
  heightSegments: 1,
  openEnded: false,
  thetaStart: 0,
  thetaLength: 6.283185307179586,
  bufferAttributes: empty$2,
  instancedBufferAttributes: empty$2
};
const cylinder$1 = (dictInitialCylinder) => (i$p) => {
  const $2 = dictInitialCylinder.toInitializeCylinder(i$p);
  return (parent) => (v1) => backdoor.makeLemmingEvent((mySub) => (k) => () => {
    const me = v1.ids();
    parent.raiseId(me)();
    const unsub = mySub(applicativeEvent.pure(v1.makeCylinder({
      id: me,
      parent: parent.parent,
      scope: parent.scope,
      cylinder: $2.cylinder,
      radiusTop: $2.radiusTop,
      radiusBottom: $2.radiusBottom,
      height: $2.height,
      radialSegments: $2.radialSegments,
      heightSegments: $2.heightSegments,
      openEnded: $2.openEnded,
      thetaStart: $2.thetaStart,
      thetaLength: $2.thetaLength,
      bufferAttributes: $2.bufferAttributes,
      instancedBufferAttributes: $2.instancedBufferAttributes
    })))(k)();
    const $10 = k(v1.deleteFromCache({ id: me }));
    return () => {
      $10();
      return unsub();
    };
  });
};
const identity$4 = (x) => x;
const fromFoldable$5 = /* @__PURE__ */ foldrArray(Cons)(Nil);
const max$5 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const min$4 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const oneOfMap$4 = (f) => foldableList.foldr((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const cylinder = /* @__PURE__ */ cylinder$1(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionCylinderOpti6)()()()({
    reflectSymbol: () => "radialSegments"
  }))(convertOptionCylinderOpti10)()()()({ reflectSymbol: () => "cylinder" });
  return {
    toInitializeCylinder: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(CylinderOptions)($$Proxy)(provided)({}),
      defaultCylinder
    )
  };
})());
const meshStandardMaterial$2 = /* @__PURE__ */ meshStandardMaterial$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({
    reflectSymbol: () => "roughness"
  }))(convertOptionMeshStandard55)()()()({ reflectSymbol: () => "meshStandardMaterial" }))(convertOptionMeshStandard54)()()()({
    reflectSymbol: () => "color"
  });
  return {
    toInitializeMeshStandardMaterial: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(provided)({}),
      defaultMeshStandardMaterial
    )
  };
})());
const singleBeat$1 = (v) => (riE) => $Entity(
  "EventfulElement'",
  backdoor.memoize(oneOff(identity$4)((b, k) => riE(b, (a2) => k($Maybe("Just", 0)))))((oa) => leap$1({
    buffer: sampleBy(functorEvent)($$const)(v.buffer)(oa),
    offAt: plusEvent.empty,
    silence: v.silence,
    onAt: oa
  }))
);
const rideLeaps = (i2) => (makeLeaps) => {
  const leapGroup = (v) => {
    const go = (f) => (v1) => (v2) => {
      if (v1.tag === "Nil") {
        const $7 = go(f)(Nil);
        return defer((v$1) => $Tuple(Nil, $7));
      }
      const v3 = span$1((v42) => v42.hitsFirstPositionAt <= v2.beats + 4)(v1);
      const $8 = listMap(f)(v3.init);
      const $9 = go(f)(v3.rest);
      return defer((v$1) => $Tuple($8, $9));
    };
    return roundRobinInstancedMesh({ instancedMesh: makeLeaps.threeDI.instancedMesh, matrix4: makeLeaps.threeDI.matrix4, mesh: makeLeaps.threeDI.mesh })(25)(cylinder({
      cylinder: makeLeaps.threeDI.cylinderGeometry,
      radialSegments: 16
    }))(meshStandardMaterial$2({ meshStandardMaterial: makeLeaps.threeDI.meshStandardMaterial, color: makeLeaps.mkColor(v.couleur), roughness: 0.4 })(plusEvent.empty))(keepLatest((() => {
      const $4 = oneOfMap$4(applicativeEvent.pure);
      const $5 = scheduleCf(go((input) => {
        const $6 = leap({
          sound: singleBeat$1({ silence: makeLeaps.silence, buffer: misbehavior(lookup$1("floorTom"))(makeLeaps.buffers) }),
          uniqueId: input.uniqueId,
          newPosition: input.position,
          ...unsafeUnionFn(makeLeaps, input)
        });
        const $7 = keepLatest((() => {
          const $72 = withTime(applicativeEvent.pure(unit));
          return (b, k) => $72(
            b,
            (a2) => {
              const $11 = lowPrioritySchedule(makeLeaps.lpsCallback)(15e3 + a2.time)(applicativeEvent.pure(Release));
              return k($11);
            }
          );
        })());
        return (tf, k) => {
          const a$p = $6(tf, (a2) => k($Semaphore("Acquire", a2)));
          const a$p$1 = $7(tf, k);
          return () => {
            a$p();
            return a$p$1();
          };
        };
      })(fromFoldable$5(mapWithIndexArray((uniqueId) => (x) => ({
        uniqueId,
        hitsFirstPositionAt: min$4(x.marker1Time)(x.marker2Time) + 1,
        hitsLastPositionAt: max$5(x.marker1Time)(x.marker2Time) + 1,
        column: x.column,
        raycastingCanStartAt: (x$1) => 1 + x.raycastingCanStartAt(x$1),
        position: x.position
      }))(v.levs))))((b, k) => makeLeaps.animatedStuff(b, (a2) => k(a2.rateInfo)));
      return (b, k) => $5(
        b,
        (a2) => {
          const $9 = $4(a2);
          return k($9);
        }
      );
    })()));
  };
  return $Entity(
    "FixedChildren'",
    [
      leapGroup({ levs: filter$1((x) => x.position.tag === "Position1")(i2), couleur: $RGB(0.2196078431372549, 0.8431372549019608, 0.9058823529411765) }),
      leapGroup({ levs: filter$1((x) => x.position.tag === "Position2")(i2), couleur: $RGB(0.9764705882352941, 0.8784313725490196, 0.4627450980392157) }),
      leapGroup({ levs: filter$1((x) => x.position.tag === "Position3")(i2), couleur: $RGB(0.9333333333333333, 0.19215686274509805, 0.4196078431372549) }),
      leapGroup({ levs: filter$1((x) => x.position.tag === "Position4")(i2), couleur: $RGB(0.5176470588235295, 0.17647058823529413, 0.4470588235294118) })
    ]
  );
};
const playBuf$1 = /* @__PURE__ */ playBuf$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({
    reflectSymbol: () => "buffer"
  });
  return {
    toInitializePlayBuf: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PlayBufOptions)($$Proxy)(provided)({}),
      defaultPlayBuf
    )
  };
})());
const $$long$1 = (x) => gain(initialGainNumber)(1)((b, k) => x.offAt(
  b,
  (a2) => k({ type: "gain", value: { type: "envelope", value: { d: 1, o: a2, p: [1, 0] } } })
))([
  playBuf$1({ buffer: x.silence })((tf, k) => {
    const a$p = x.buffer(tf, (a2) => k({ type: "buffer", value: a2 }));
    const a$p$1 = onAt()(x.onAt)(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  })
]);
var AVar = function() {
  function MutableQueue() {
    this.head = null;
    this.last = null;
    this.size = 0;
  }
  function MutableCell(queue, value2) {
    this.queue = queue;
    this.value = value2;
    this.next = null;
    this.prev = null;
  }
  function AVar2(value2) {
    this.draining = false;
    this.error = null;
    this.value = value2;
    this.takes = new MutableQueue();
    this.reads = new MutableQueue();
    this.puts = new MutableQueue();
  }
  var EMPTY = {};
  function runEff(eff) {
    try {
      eff();
    } catch (error2) {
      setTimeout(function() {
        throw error2;
      }, 0);
    }
  }
  function putLast(queue, value2) {
    var cell = new MutableCell(queue, value2);
    switch (queue.size) {
      case 0:
        queue.head = cell;
        break;
      case 1:
        cell.prev = queue.head;
        queue.head.next = cell;
        queue.last = cell;
        break;
      default:
        cell.prev = queue.last;
        queue.last.next = cell;
        queue.last = cell;
    }
    queue.size++;
    return cell;
  }
  function takeLast(queue) {
    var cell;
    switch (queue.size) {
      case 0:
        return null;
      case 1:
        cell = queue.head;
        queue.head = null;
        break;
      case 2:
        cell = queue.last;
        queue.head.next = null;
        queue.last = null;
        break;
      default:
        cell = queue.last;
        queue.last = cell.prev;
        queue.last.next = null;
    }
    cell.prev = null;
    cell.queue = null;
    queue.size--;
    return cell.value;
  }
  function takeHead(queue) {
    var cell;
    switch (queue.size) {
      case 0:
        return null;
      case 1:
        cell = queue.head;
        queue.head = null;
        break;
      case 2:
        cell = queue.head;
        queue.last.prev = null;
        queue.head = queue.last;
        queue.last = null;
        break;
      default:
        cell = queue.head;
        queue.head = cell.next;
        queue.head.prev = null;
    }
    cell.next = null;
    cell.queue = null;
    queue.size--;
    return cell.value;
  }
  function deleteCell(cell) {
    if (cell.queue === null) {
      return;
    }
    if (cell.queue.last === cell) {
      takeLast(cell.queue);
      return;
    }
    if (cell.queue.head === cell) {
      takeHead(cell.queue);
      return;
    }
    if (cell.prev) {
      cell.prev.next = cell.next;
    }
    if (cell.next) {
      cell.next.prev = cell.prev;
    }
    cell.queue.size--;
    cell.queue = null;
    cell.value = null;
    cell.next = null;
    cell.prev = null;
  }
  function drainVar(util, avar) {
    if (avar.draining) {
      return;
    }
    var ps = avar.puts;
    var ts = avar.takes;
    var rs = avar.reads;
    var p2, r2, t2, value2, rsize;
    avar.draining = true;
    while (1) {
      p2 = null;
      r2 = null;
      t2 = null;
      value2 = avar.value;
      rsize = rs.size;
      if (avar.error !== null) {
        value2 = util.left(avar.error);
        while (p2 = takeHead(ps)) {
          runEff(p2.cb(value2));
        }
        while (r2 = takeHead(rs)) {
          runEff(r2(value2));
        }
        while (t2 = takeHead(ts)) {
          runEff(t2(value2));
        }
        break;
      }
      if (value2 === EMPTY && (p2 = takeHead(ps))) {
        avar.value = value2 = p2.value;
      }
      if (value2 !== EMPTY) {
        t2 = takeHead(ts);
        while (rsize-- && (r2 = takeHead(rs))) {
          runEff(r2(util.right(value2)));
        }
        if (t2 !== null) {
          avar.value = EMPTY;
          runEff(t2(util.right(value2)));
        }
      }
      if (p2 !== null) {
        runEff(p2.cb(util.right(void 0)));
      }
      if (avar.value === EMPTY && ps.size === 0 || avar.value !== EMPTY && ts.size === 0) {
        break;
      }
    }
    avar.draining = false;
  }
  AVar2.EMPTY = EMPTY;
  AVar2.putLast = putLast;
  AVar2.takeLast = takeLast;
  AVar2.takeHead = takeHead;
  AVar2.deleteCell = deleteCell;
  AVar2.drainVar = drainVar;
  return AVar2;
}();
function empty$1() {
  return new AVar(AVar.EMPTY);
}
function _putVar(util, value2, avar, cb) {
  return function() {
    var cell = AVar.putLast(avar.puts, { cb, value: value2 });
    AVar.drainVar(util, avar);
    return function() {
      AVar.deleteCell(cell);
    };
  };
}
function _takeVar(util, avar, cb) {
  return function() {
    var cell = AVar.putLast(avar.takes, cb);
    AVar.drainVar(util, avar);
    return function() {
      AVar.deleteCell(cell);
    };
  };
}
function _readVar(util, avar, cb) {
  return function() {
    var cell = AVar.putLast(avar.reads, cb);
    AVar.drainVar(util, avar);
    return function() {
      AVar.deleteCell(cell);
    };
  };
}
function _tryTakeVar(util, avar) {
  return function() {
    var value2 = avar.value;
    if (value2 === AVar.EMPTY) {
      return util.nothing;
    } else {
      avar.value = AVar.EMPTY;
      AVar.drainVar(util, avar);
      return util.just(value2);
    }
  };
}
const $AVarStatus = (tag, _1) => ({ tag, _1 });
const Killed = (value0) => $AVarStatus("Killed", value0);
const Filled = (value0) => $AVarStatus("Filled", value0);
const Empty = /* @__PURE__ */ $AVarStatus("Empty");
const ffiUtil = { left: Left, right: Right, nothing: Nothing, just: Just, killed: Killed, filled: Filled, empty: Empty };
const take = (avar) => makeAff((k) => {
  const $2 = _takeVar(ffiUtil, avar, k);
  return () => {
    const c2 = $2();
    const $4 = _liftEffect(c2);
    return (v) => $4;
  };
});
const read = (avar) => makeAff((k) => {
  const $2 = _readVar(ffiUtil, avar, k);
  return () => {
    const c2 = $2();
    const $4 = _liftEffect(c2);
    return (v) => $4;
  };
});
const put$1 = (value2) => (avar) => makeAff((k) => {
  const $3 = _putVar(ffiUtil, value2, avar, k);
  return () => {
    const c2 = $3();
    const $5 = _liftEffect(c2);
    return (v) => $5;
  };
});
const empty = /* @__PURE__ */ _liftEffect(empty$1);
const sampleJIT = (e2) => (ae) => backdoor.makeEvent((k) => {
  const $3 = _makeFiber(
    ffiUtil$1,
    _bind(empty)((av) => _liftEffect((() => {
      const $4 = subscribe(e2)((v) => {
        const $5 = _makeFiber(
          ffiUtil$1,
          _bind(_map((v$1) => unit)(_liftEffect(_tryTakeVar(ffiUtil, av))))(() => put$1(v)(av))
        );
        return () => {
          const fiber = $5();
          fiber.run();
          return unit;
        };
      });
      return () => {
        const u0 = $4();
        const u1 = subscribe(ae)((v) => k(v(av)))();
        return () => {
          u0();
          const a$p = u1();
          return a$p;
        };
      };
    })()))
  );
  return () => {
    const fiber = $3();
    fiber.run();
    const $6 = _makeFiber(ffiUtil$1, _bind(joinFiber(fiber))((thunk) => _liftEffect(thunk)));
    return () => {
      const fiber$1 = $6();
      fiber$1.run();
      return unit;
    };
  };
});
const vbus$1 = /* @__PURE__ */ vbus$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "iWasPlayed" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "iWasReleased"
})()()(vbusNil)()())()());
const mapAccum$3 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const max$4 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const oneOf$8 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const clamp = (low) => (hi) => (x) => {
  const v = ordNumber.compare(low)(x);
  const $4 = (() => {
    if (v.tag === "LT") {
      return x;
    }
    if (v.tag === "EQ") {
      return low;
    }
    if (v.tag === "GT") {
      return low;
    }
    fail$3();
  })();
  const v$1 = ordNumber.compare(hi)($4);
  if (v$1.tag === "LT") {
    return hi;
  }
  if (v$1.tag === "EQ") {
    return hi;
  }
  if (v$1.tag === "GT") {
    return $4;
  }
  fail$3();
};
const $$long = (makeLong) => {
  const otherReleasedMe = filter$p((v) => makeLong.uniqueId === v.uniqueId)(makeLong.notifications.releaseLong);
  const otherPlayedMe = filter$p((v) => makeLong.uniqueId === v.uniqueId)(makeLong.notifications.hitLong);
  return keepLatest(vbus$1($$Proxy)((push) => (event) => {
    const $5 = filter$p((v) => makeLong.uniqueId === v.uniqueId)(otherReleasedMe);
    const released = (tf, k) => {
      const a$p = event.iWasReleased(tf, (a2) => k(unit));
      const a$p$1 = $5(tf, (a2) => k(unit));
      return () => {
        a$p();
        return a$p$1();
      };
    };
    const $7 = filter$p((v) => makeLong.uniqueId === v.uniqueId)(otherPlayedMe);
    const played = (tf, k) => {
      const a$p = event.iWasPlayed(tf, (a2) => k(unit));
      const a$p$1 = $7(tf, (a2) => k(unit));
      return () => {
        a$p();
        return a$p$1();
      };
    };
    const $9 = mapAccum$3((fr) => (v) => {
      const $11 = -3 * fr.renderingInfo.barZSpacing;
      const logicalZ = (() => {
        if (makeLong.hitsLastPositionAt === makeLong.hitsFirstPositionAt || 0 === $11) {
          return $11;
        }
        const m = -$11 / (makeLong.hitsLastPositionAt - makeLong.hitsFirstPositionAt);
        return m * fr.animatedStuff.rateInfo.beats + ($11 - m * makeLong.hitsFirstPositionAt);
      })();
      const newConsumed = (() => {
        if (fr.endTime.tag === "Just") {
          if (v.prevZ.tag === "Just") {
            return v.consumedByPress + (logicalZ - v.prevZ._1);
          }
          return v.consumedByPress;
        }
        return v.consumedByPress;
      })();
      return $Tuple(
        { prevZ: $Maybe("Just", logicalZ), consumedByPress: newConsumed },
        { logicalZ, prevZ: v.prevZ, consumedByPress: newConsumed, ...fr }
      );
    })(sampleBy(functorEvent)(applyFlipped)(makeLong.renderingInfo)(sampleOn((() => {
      const $92 = sampleBy(functorEvent)($$const)((e2) => cInstant(makeLong.cnow)((b, k) => e2(
        b,
        (a2) => k((x) => a2($Maybe("Just", x)))
      )))(played);
      return (tf, k) => {
        const a$p = applicativeEvent.pure(Nothing)(tf, k);
        const a$p$1 = released(tf, (a2) => k(Nothing));
        const a$p$2 = $92(tf, k);
        return () => {
          a$p();
          a$p$1();
          return a$p$2();
        };
      };
    })())(sampleOn((b, k) => {
      const a$p = applicativeEvent.pure(makeLong.initialDims)(
        b,
        (a2) => {
          const $12 = { iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih };
          return k($12);
        }
      );
      const a$p$1 = makeLong.resizeEvent(b, (a2) => k({ iw: a2.iw, ih: a2.ih, r: a2.iw / a2.ih }));
      return () => {
        a$p();
        return a$p$1();
      };
    })((b, k) => makeLong.animatedStuff(b, (a2) => k((v1) => (v2) => (v3) => ({ animatedStuff: a2, ratio: v1, endTime: v2, renderingInfo: v3 })))))))({
      prevZ: Nothing,
      consumedByPress: 0
    });
    const drawingMatrix$p = (b, k) => $9(
      b,
      (a2) => {
        const n33 = max$4(0)(makeLong.length - a2.consumedByPress);
        const $14 = $Tuple(
          a2,
          {
            n14: (() => {
              if (makeLong.column.tag === "C1") {
                return a2.renderingInfo.halfAmbitus * -1 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C2") {
                return a2.renderingInfo.halfAmbitus * -0.875 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C3") {
                return a2.renderingInfo.halfAmbitus * -0.75 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C4") {
                return a2.renderingInfo.halfAmbitus * -0.625 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C5") {
                return a2.renderingInfo.halfAmbitus * -0.5 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C6") {
                return a2.renderingInfo.halfAmbitus * -0.375 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C7") {
                return a2.renderingInfo.halfAmbitus * -0.25 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C8") {
                return a2.renderingInfo.halfAmbitus * -0.125 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C9") {
                return a2.renderingInfo.halfAmbitus * 0 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C10") {
                return a2.renderingInfo.halfAmbitus * 0.125 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C11") {
                return a2.renderingInfo.halfAmbitus * 0.25 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C12") {
                return a2.renderingInfo.halfAmbitus * 0.375 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C13") {
                return a2.renderingInfo.halfAmbitus * 0.5 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C14") {
                return a2.renderingInfo.halfAmbitus * 0.625 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C15") {
                return a2.renderingInfo.halfAmbitus * 0.75 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C16") {
                return a2.renderingInfo.halfAmbitus * 0.875 * a2.ratio.r;
              }
              if (makeLong.column.tag === "C17") {
                return a2.renderingInfo.halfAmbitus * 1 * a2.ratio.r;
              }
              fail$3();
            })(),
            n24: 0,
            n34: a2.logicalZ - makeLong.length / 2 - a2.consumedByPress,
            n11: (() => {
              if (n33 === 0) {
                return 0;
              }
              return a2.renderingInfo.halfAmbitus * a2.ratio.r / 9;
            })(),
            n22: (() => {
              if (n33 === 0) {
                return 0;
              }
              return 0.04;
            })(),
            n33,
            n12: 0,
            n13: 0,
            n21: 0,
            n23: 0,
            n31: 0,
            n32: 0,
            n41: 0,
            n42: 0,
            n43: 0,
            n44: 1
          }
        );
        return k($14);
      }
    );
    return keepLatest(backdoor.memoize(drawingMatrix$p)((drawingMatrix) => keepLatest(backdoor.memoize(filter$p((v) => {
      if (v.player.tag === "Player1") {
        return !(makeLong.myPlayer.tag === "Player1");
      }
      if (v.player.tag === "Player2") {
        return !(makeLong.myPlayer.tag === "Player2");
      }
      if (v.player.tag === "Player3") {
        return !(makeLong.myPlayer.tag === "Player3");
      }
      if (v.player.tag === "Player4") {
        return !(makeLong.myPlayer.tag === "Player4");
      }
      return true;
    })(otherPlayedMe))((hitLongOtherPlayer) => keepLatest(backdoor.memoize(filter$p((v) => {
      if (v.player.tag === "Player1") {
        return !(makeLong.myPlayer.tag === "Player1");
      }
      if (v.player.tag === "Player2") {
        return !(makeLong.myPlayer.tag === "Player2");
      }
      if (v.player.tag === "Player3") {
        return !(makeLong.myPlayer.tag === "Player3");
      }
      if (v.player.tag === "Player4") {
        return !(makeLong.myPlayer.tag === "Player4");
      }
      return true;
    })(otherReleasedMe))((releaseLongOtherPlayer) => rider({
      event: applicativeEvent.pure(oneOf$8([
        applicativeEvent.pure($Child(
          "Insert",
          makeLong.sound({
            on: keepLatest((b, k) => oneOff(Just)(played)(
              b,
              (a2) => k((b$1, k$1) => makeLong.animatedStuff(b$1, (a$1) => k$1(a$1.rateInfo)))
            )),
            off: keepLatest((b, k) => oneOff(Just)(released)(
              b,
              (a2) => k((b$1, k$1) => makeLong.animatedStuff(b$1, (a$1) => k$1(a$1.rateInfo)))
            ))
          })
        )),
        keepLatest((() => {
          const $14 = withTime(applicativeEvent.pure(unit));
          return (b, k) => $14(
            b,
            (a2) => {
              const $18 = lowPrioritySchedule(makeLong.lpsCallback)(1e4 + a2.time)(applicativeEvent.pure(Remove));
              return k($18);
            }
          );
        })())
      ])),
      push: makeLong.pushAudio
    })(applicativeEvent.pure(singleInstance(oneOf$8([
      applicativeEvent.pure({ type: "matrix4", value: makeLong.mkMatrix4(emptyMatrix) }),
      (b, k) => drawingMatrix(
        b,
        (a2) => {
          const $17 = { type: "matrix4", value: makeLong.mkMatrix4(a2._2) };
          return k($17);
        }
      ),
      (() => {
        const callF = (ev) => sampleJIT(drawingMatrix$p)((b, k) => ev(
          b,
          (a2) => k((av) => (v) => {
            const $20 = _makeFiber(ffiUtil$1, empty);
            return () => {
              const fiber = $20();
              fiber.run();
              const fiber$1 = _makeFiber(ffiUtil$1, empty)();
              fiber$1.run();
              const fiber$2 = _makeFiber(
                ffiUtil$1,
                _bind(_liftEffect(makeLong.cnow))((n2) => _bind(read(av))((v1) => {
                  const distance = abs((() => {
                    const $272 = (() => {
                      if (makeLong.myPlayer.tag === "Player1") {
                        return v1._1.animatedStuff.playerPositions.p1p;
                      }
                      if (makeLong.myPlayer.tag === "Player2") {
                        return v1._1.animatedStuff.playerPositions.p2p;
                      }
                      if (makeLong.myPlayer.tag === "Player3") {
                        return v1._1.animatedStuff.playerPositions.p3p;
                      }
                      if (makeLong.myPlayer.tag === "Player4") {
                        return v1._1.animatedStuff.playerPositions.p4p;
                      }
                      fail$3();
                    })();
                    if ($272.tag === "Position1") {
                      return -3 * v1._1.renderingInfo.barZSpacing - v1._2.n33;
                    }
                    if ($272.tag === "Position2") {
                      return -2 * v1._1.renderingInfo.barZSpacing - v1._2.n33;
                    }
                    if ($272.tag === "Position3") {
                      return -1 * v1._1.renderingInfo.barZSpacing - v1._2.n33;
                    }
                    if ($272.tag === "Position4") {
                      return -v1._2.n33;
                    }
                    fail$3();
                  })());
                  const hitLongMe = { uniqueId: makeLong.uniqueId, hitAt: v1._1.animatedStuff.rateInfo.beats, issuedAt: n2, distance };
                  const hitLongVisualForLabel = {
                    uniqueId: makeLong.uniqueId,
                    hitAt: v1._1.animatedStuff.rateInfo.beats,
                    issuedAt: n2,
                    distance,
                    translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1._2.n14, y: a$1._2.n24, z: a$1._2.n34 })),
                    player: makeLong.myPlayer
                  };
                  return _bind(joinFiber(fiber))((hitAt) => _bind(put$1(v1._1.animatedStuff.rateInfo.beats)(hitAt))(() => _bind(joinFiber(fiber$1))((dist) => _bind(put$1(distance)(dist))(() => _bind(_liftEffect(makeLong.pushHitLongVisualForLabel(hitLongVisualForLabel)))(() => _bind(_liftEffect(makeLong.pushHitLong.push(hitLongMe)))(() => _liftEffect(push.iWasPlayed(hitLongMe))))))));
                }))
              )();
              fiber$2.run();
              const $27 = _makeFiber(
                ffiUtil$1,
                _bind(_liftEffect(makeLong.cnow))((n2) => _bind(read(av))((v1) => _bind(joinFiber(fiber))((hitAt) => _bind(take(hitAt))((outerHitAt) => _bind(joinFiber(fiber$1))((dist) => _bind(take(dist))((distance) => {
                  const pctConsumed = clamp(0)(1)(v1._1.consumedByPress / makeLong.length);
                  const releaseLongMe = {
                    uniqueId: makeLong.uniqueId,
                    releasedAt: v1._1.animatedStuff.rateInfo.beats,
                    issuedAt: n2,
                    pctConsumed,
                    hitAt: outerHitAt,
                    distance
                  };
                  return _bind(_liftEffect(makeLong.pushReleaseLongVisualForLabel({
                    uniqueId: makeLong.uniqueId,
                    hitAt: outerHitAt,
                    releasedAt: v1._1.animatedStuff.rateInfo.beats,
                    distance,
                    pctConsumed,
                    issuedAt: n2,
                    translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1._2.n14, y: a$1._2.n24, z: a$1._2.n34 })),
                    player: makeLong.myPlayer
                  })))(() => _bind(_liftEffect(makeLong.pushReleaseLong.push(releaseLongMe)))(() => _liftEffect(push.iWasReleased(releaseLongMe))));
                }))))))
              );
              return () => {
                const fiber$3 = $27();
                fiber$3.run();
                return unit;
              };
            };
          })
        ));
        const f = oneOf$8([
          (b, k) => event.iWasPlayed(b, (a2) => k((v) => () => () => unit)),
          callF((b, k) => event.iWasReleased(b, (a2) => k(unit))),
          oneOff(Just)(keepLatest((b, k) => hitLongOtherPlayer(
            b,
            (a2) => {
              const $18 = rider({
                event: sampleBy(functorEvent)(applyFlipped)((e2) => cInstant(makeLong.cnow)((b$1, k$1) => e2(
                  b$1,
                  (a$1) => k$1((x) => a$1(x))
                )))(applicativeEvent.pure((issuedAt) => ({
                  uniqueId: a2.uniqueId,
                  hitAt: a2.hitAt,
                  distance: a2.distance,
                  issuedAt,
                  translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1._2.n14, y: a$1._2.n24, z: a$1._2.n34 })),
                  player: a2.player
                }))),
                push: makeLong.pushHitLongVisualForLabel
              })(applicativeEvent.pure((v1) => () => () => unit));
              return k($18);
            }
          ))),
          oneOff(Just)(keepLatest((b, k) => releaseLongOtherPlayer(
            b,
            (a2) => {
              const $18 = rider({
                event: sampleBy(functorEvent)(applyFlipped)((e2) => cInstant(makeLong.cnow)((b$1, k$1) => e2(
                  b$1,
                  (a$1) => k$1((x) => a$1(x))
                )))(applicativeEvent.pure((issuedAt) => ({
                  uniqueId: a2.uniqueId,
                  hitAt: a2.hitAt,
                  releasedAt: a2.releasedAt,
                  distance: a2.distance,
                  issuedAt,
                  pctConsumed: a2.pctConsumed,
                  translation: (b$1, k$1) => drawingMatrix(b$1, (a$1) => k$1({ x: a$1._2.n14, y: a$1._2.n24, z: a$1._2.n34 })),
                  player: a2.player
                }))),
                push: makeLong.pushReleaseLongVisualForLabel
              })(callF(applicativeEvent.pure(unit)));
              return k($18);
            }
          ))),
          callF(applicativeEvent.pure(unit))
        ]);
        if (makeLong.isMobile) {
          return (b, k) => f(
            b,
            (a2) => k({
              type: "onTouchStart",
              value: (x) => {
                const $20 = a2({ cx: clientX$1(x), cy: clientY$1(x) });
                return () => {
                  const a$p = $20();
                  return { end: (v) => a$p, cancel: (v) => a$p };
                };
              }
            })
          );
        }
        return (b, k) => f(
          b,
          (a2) => k({
            type: "onMouseDown",
            value: (x) => {
              const $20 = a2({ cx: clientX(x), cy: clientY(x) });
              return () => {
                const a$p = $20();
                return (v) => a$p;
              };
            }
          })
        );
      })()
    ]))))))))));
  }));
};
const identity$3 = (x) => x;
const fromFoldable$4 = /* @__PURE__ */ foldrArray(Cons)(Nil);
const max$3 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const min$3 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const oneOfMap$3 = (f) => foldableList.foldr((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const box = /* @__PURE__ */ box$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionBoxOptions$x34b1)()()()({
    reflectSymbol: () => "box"
  });
  return {
    toInitializeBox: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(BoxOptions)($$Proxy)(provided)({}),
      defaultBox
    )
  };
})());
const meshStandardMaterial$1 = /* @__PURE__ */ meshStandardMaterial$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionMeshStandard53)()()()({
    reflectSymbol: () => "roughness"
  }))(convertOptionMeshStandard55)()()()({ reflectSymbol: () => "meshStandardMaterial" }))(convertOptionMeshStandard54)()()()({
    reflectSymbol: () => "color"
  });
  return {
    toInitializeMeshStandardMaterial: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(MeshStandardMaterialOptions)($$Proxy)(provided)({}),
      defaultMeshStandardMaterial
    )
  };
})());
const singleBeat = (v) => (riE) => {
  const oaOn = oneOff(identity$3)((b, k) => riE.on(b, (a2) => k($Maybe("Just", 0))));
  return $$long$1({
    buffer: sampleBy(functorEvent)($$const)(v.buffer)(oaOn),
    silence: v.silence,
    onAt: oaOn,
    offAt: oneOff(identity$3)((b, k) => riE.off(b, (a2) => k($Maybe("Just", a2.time))))
  });
};
const rideLongs = (levs) => (makeLongs) => {
  const go = (v) => (v1) => {
    if (v.tag === "Nil") {
      const $5 = go(Nil);
      return defer((v$1) => $Tuple(Nil, $5));
    }
    const v2 = span$1((v3) => v3.hitsFirstPositionAt <= v1.beats + 5)(v);
    const $6 = listMap((input) => {
      const $72 = $$long({
        sound: singleBeat({
          silence: makeLongs.silence,
          buffer: misbehavior((x) => {
            if (input.tag.tag === "Just") {
              return _lookup(Nothing, Just, input.tag._1, x);
            }
            if (input.tag.tag === "Nothing") {
              return Nothing;
            }
            fail$3();
          })(makeLongs.buffers)
        }),
        uniqueId: input.uniqueId,
        ...unsafeUnionFn(makeLongs, input)
      });
      const $8 = keepLatest((() => {
        const $82 = withTime(applicativeEvent.pure(unit));
        return (b, k) => $82(
          b,
          (a2) => {
            const $12 = lowPrioritySchedule(makeLongs.lpsCallback)(2e4 + a2.time)(applicativeEvent.pure(Release));
            return k($12);
          }
        );
      })());
      return (tf, k) => {
        const a$p = $72(tf, (a2) => k($Semaphore("Acquire", a2)));
        const a$p$1 = $8(tf, k);
        return () => {
          a$p();
          return a$p$1();
        };
      };
    })(v2.init);
    const $7 = go(v2.rest);
    return defer((v$1) => $Tuple($6, $7));
  };
  return roundRobinInstancedMesh({ instancedMesh: makeLongs.threeDI.instancedMesh, mesh: makeLongs.threeDI.mesh, matrix4: makeLongs.threeDI.matrix4 })(100)(box({
    box: makeLongs.threeDI.boxGeometry
  }))(meshStandardMaterial$1({ meshStandardMaterial: makeLongs.threeDI.meshStandardMaterial, color: makeLongs.mkColor($RGB(0.49, 0.83, 0.45)), roughness: 0.1 })(plusEvent.empty))(keepLatest((() => {
    const $3 = oneOfMap$3(applicativeEvent.pure);
    const $4 = scheduleCf(go(fromFoldable$4(mapWithIndexArray((uniqueId) => (x) => ({
      uniqueId,
      hitsFirstPositionAt: min$3(x.marker1Time)(x.marker2Time) + 1,
      hitsLastPositionAt: max$3(x.marker1Time)(x.marker2Time) + 1,
      tag: x.audioURL,
      length: x.length,
      column: x.column,
      raycastingCanStartAt: (x$1) => 1 + x.raycastingCanStartAt(x$1)
    }))(levs))))((b, k) => makeLongs.animatedStuff(b, (a2) => k(a2.rateInfo)));
    return (b, k) => $4(
      b,
      (a2) => {
        const $8 = $3(a2);
        return k($8);
      }
    );
  })()));
};
const a = (a2) => {
  a2 = 1831565813 + (a2 |= 0) | 0;
  let e2 = Math.imul(a2 ^ a2 >>> 15, 1 | a2);
  return e2 = e2 + Math.imul(e2 ^ e2 >>> 7, 61 | e2) ^ e2, ((e2 ^ e2 >>> 14) >>> 0) / 4294967296;
};
class e {
  constructor(a2) {
    this.dictionaries = void 0, this.length = void 0, this.separator = void 0, this.style = void 0, this.seed = void 0;
    const { length: e2, separator: i2, dictionaries: n2, style: l2, seed: r2 } = a2;
    this.dictionaries = n2, this.separator = i2, this.length = e2, this.style = l2, this.seed = r2;
  }
  generate() {
    if (!this.dictionaries)
      throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');
    if (this.length <= 0)
      throw new Error("Invalid length provided");
    if (this.length > this.dictionaries.length)
      throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);
    let e2 = this.seed;
    return this.dictionaries.slice(0, this.length).reduce((i2, n2) => {
      let l2;
      e2 ? (l2 = ((e3) => {
        if ("string" == typeof e3) {
          const i3 = e3.split("").map((a2) => a2.charCodeAt(0)).reduce((a2, e4) => a2 + e4, 1), n3 = Math.floor(Number(i3));
          return a(n3);
        }
        return a(e3);
      })(e2), e2 = 4294967296 * l2) : l2 = Math.random();
      let r2 = n2[Math.floor(l2 * n2.length)] || "";
      if ("lowerCase" === this.style)
        r2 = r2.toLowerCase();
      else if ("capital" === this.style) {
        const [a2, ...e3] = r2.split("");
        r2 = a2.toUpperCase() + e3.join("");
      } else
        "upperCase" === this.style && (r2 = r2.toUpperCase());
      return i2 ? `${i2}${this.separator}${r2}` : `${r2}`;
    }, "");
  }
}
const i$1 = { separator: "_", dictionaries: [] }, n = (a2) => {
  const n2 = [...a2 && a2.dictionaries || i$1.dictionaries], l2 = { ...i$1, ...a2, length: a2 && a2.length || n2.length, dictionaries: n2 };
  if (!a2 || !a2.dictionaries || !a2.dictionaries.length)
    throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');
  return new e(l2).generate();
};
var l = ["able", "above", "absent", "absolute", "abstract", "abundant", "academic", "acceptable", "accepted", "accessible", "accurate", "accused", "active", "actual", "acute", "added", "additional", "adequate", "adjacent", "administrative", "adorable", "advanced", "adverse", "advisory", "aesthetic", "afraid", "aggregate", "aggressive", "agreeable", "agreed", "agricultural", "alert", "alive", "alleged", "allied", "alone", "alright", "alternative", "amateur", "amazing", "ambitious", "amused", "ancient", "angry", "annoyed", "annual", "anonymous", "anxious", "appalling", "apparent", "applicable", "appropriate", "arbitrary", "architectural", "armed", "arrogant", "artificial", "artistic", "ashamed", "asleep", "assistant", "associated", "atomic", "attractive", "automatic", "autonomous", "available", "average", "awake", "aware", "awful", "awkward", "back", "bad", "balanced", "bare", "basic", "beautiful", "beneficial", "better", "bewildered", "big", "binding", "biological", "bitter", "bizarre", "blank", "blind", "blonde", "bloody", "blushing", "boiling", "bold", "bored", "boring", "bottom", "brainy", "brave", "breakable", "breezy", "brief", "bright", "brilliant", "broad", "broken", "bumpy", "burning", "busy", "calm", "capable", "capitalist", "careful", "casual", "causal", "cautious", "central", "certain", "changing", "characteristic", "charming", "cheap", "cheerful", "chemical", "chief", "chilly", "chosen", "christian", "chronic", "chubby", "circular", "civic", "civil", "civilian", "classic", "classical", "clean", "clear", "clever", "clinical", "close", "closed", "cloudy", "clumsy", "coastal", "cognitive", "coherent", "cold", "collective", "colonial", "colorful", "colossal", "coloured", "colourful", "combative", "combined", "comfortable", "coming", "commercial", "common", "communist", "compact", "comparable", "comparative", "compatible", "competent", "competitive", "complete", "complex", "complicated", "comprehensive", "compulsory", "conceptual", "concerned", "concrete", "condemned", "confident", "confidential", "confused", "conscious", "conservation", "conservative", "considerable", "consistent", "constant", "constitutional", "contemporary", "content", "continental", "continued", "continuing", "continuous", "controlled", "controversial", "convenient", "conventional", "convinced", "convincing", "cooing", "cool", "cooperative", "corporate", "correct", "corresponding", "costly", "courageous", "crazy", "creative", "creepy", "criminal", "critical", "crooked", "crowded", "crucial", "crude", "cruel", "cuddly", "cultural", "curious", "curly", "current", "curved", "cute", "daily", "damaged", "damp", "dangerous", "dark", "dead", "deaf", "deafening", "dear", "decent", "decisive", "deep", "defeated", "defensive", "defiant", "definite", "deliberate", "delicate", "delicious", "delighted", "delightful", "democratic", "dependent", "depressed", "desirable", "desperate", "detailed", "determined", "developed", "developing", "devoted", "different", "difficult", "digital", "diplomatic", "direct", "dirty", "disabled", "disappointed", "disastrous", "disciplinary", "disgusted", "distant", "distinct", "distinctive", "distinguished", "disturbed", "disturbing", "diverse", "divine", "dizzy", "domestic", "dominant", "double", "doubtful", "drab", "dramatic", "dreadful", "driving", "drunk", "dry", "dual", "due", "dull", "dusty", "dutch", "dying", "dynamic", "eager", "early", "eastern", "easy", "economic", "educational", "eerie", "effective", "efficient", "elaborate", "elated", "elderly", "eldest", "electoral", "electric", "electrical", "electronic", "elegant", "eligible", "embarrassed", "embarrassing", "emotional", "empirical", "empty", "enchanting", "encouraging", "endless", "energetic", "enormous", "enthusiastic", "entire", "entitled", "envious", "environmental", "equal", "equivalent", "essential", "established", "estimated", "ethical", "ethnic", "eventual", "everyday", "evident", "evil", "evolutionary", "exact", "excellent", "exceptional", "excess", "excessive", "excited", "exciting", "exclusive", "existing", "exotic", "expected", "expensive", "experienced", "experimental", "explicit", "extended", "extensive", "external", "extra", "extraordinary", "extreme", "exuberant", "faint", "fair", "faithful", "familiar", "famous", "fancy", "fantastic", "far", "fascinating", "fashionable", "fast", "fat", "fatal", "favourable", "favourite", "federal", "fellow", "female", "feminist", "few", "fierce", "filthy", "final", "financial", "fine", "firm", "fiscal", "fit", "fixed", "flaky", "flat", "flexible", "fluffy", "fluttering", "flying", "following", "fond", "foolish", "foreign", "formal", "formidable", "forthcoming", "fortunate", "forward", "fragile", "frail", "frantic", "free", "frequent", "fresh", "friendly", "frightened", "front", "frozen", "full", "fun", "functional", "fundamental", "funny", "furious", "future", "fuzzy", "gastric", "gay", "general", "generous", "genetic", "gentle", "genuine", "geographical", "giant", "gigantic", "given", "glad", "glamorous", "gleaming", "global", "glorious", "golden", "good", "gorgeous", "gothic", "governing", "graceful", "gradual", "grand", "grateful", "greasy", "great", "grieving", "grim", "gross", "grotesque", "growing", "grubby", "grumpy", "guilty", "handicapped", "handsome", "happy", "hard", "harsh", "head", "healthy", "heavy", "helpful", "helpless", "hidden", "high", "hilarious", "hissing", "historic", "historical", "hollow", "holy", "homeless", "homely", "hon", "honest", "horizontal", "horrible", "hostile", "hot", "huge", "human", "hungry", "hurt", "hushed", "husky", "icy", "ideal", "identical", "ideological", "ill", "illegal", "imaginative", "immediate", "immense", "imperial", "implicit", "important", "impossible", "impressed", "impressive", "improved", "inadequate", "inappropriate", "inc", "inclined", "increased", "increasing", "incredible", "independent", "indirect", "individual", "industrial", "inevitable", "influential", "informal", "inherent", "initial", "injured", "inland", "inner", "innocent", "innovative", "inquisitive", "instant", "institutional", "insufficient", "intact", "integral", "integrated", "intellectual", "intelligent", "intense", "intensive", "interested", "interesting", "interim", "interior", "intermediate", "internal", "international", "intimate", "invisible", "involved", "irrelevant", "isolated", "itchy", "jealous", "jittery", "joint", "jolly", "joyous", "judicial", "juicy", "junior", "just", "keen", "key", "kind", "known", "labour", "large", "late", "latin", "lazy", "leading", "left", "legal", "legislative", "legitimate", "lengthy", "lesser", "level", "lexical", "liable", "liberal", "light", "like", "likely", "limited", "linear", "linguistic", "liquid", "literary", "little", "live", "lively", "living", "local", "logical", "lonely", "long", "loose", "lost", "loud", "lovely", "low", "loyal", "ltd", "lucky", "mad", "magic", "magnetic", "magnificent", "main", "major", "male", "mammoth", "managerial", "managing", "manual", "many", "marginal", "marine", "marked", "married", "marvellous", "marxist", "mass", "massive", "mathematical", "mature", "maximum", "mean", "meaningful", "mechanical", "medical", "medieval", "melodic", "melted", "mental", "mere", "metropolitan", "mid", "middle", "mighty", "mild", "military", "miniature", "minimal", "minimum", "ministerial", "minor", "miserable", "misleading", "missing", "misty", "mixed", "moaning", "mobile", "moderate", "modern", "modest", "molecular", "monetary", "monthly", "moral", "motionless", "muddy", "multiple", "mushy", "musical", "mute", "mutual", "mysterious", "naked", "narrow", "nasty", "national", "native", "natural", "naughty", "naval", "near", "nearby", "neat", "necessary", "negative", "neighbouring", "nervous", "net", "neutral", "new", "nice", "noble", "noisy", "normal", "northern", "nosy", "notable", "novel", "nuclear", "numerous", "nursing", "nutritious", "nutty", "obedient", "objective", "obliged", "obnoxious", "obvious", "occasional", "occupational", "odd", "official", "ok", "okay", "old", "olympic", "only", "open", "operational", "opposite", "optimistic", "oral", "ordinary", "organic", "organisational", "original", "orthodox", "other", "outdoor", "outer", "outrageous", "outside", "outstanding", "overall", "overseas", "overwhelming", "painful", "pale", "panicky", "parallel", "parental", "parliamentary", "partial", "particular", "passing", "passive", "past", "patient", "payable", "peaceful", "peculiar", "perfect", "permanent", "persistent", "personal", "petite", "philosophical", "physical", "plain", "planned", "plastic", "pleasant", "pleased", "poised", "polite", "political", "poor", "popular", "positive", "possible", "potential", "powerful", "practical", "precious", "precise", "preferred", "pregnant", "preliminary", "premier", "prepared", "present", "presidential", "pretty", "previous", "prickly", "primary", "prime", "primitive", "principal", "printed", "prior", "private", "probable", "productive", "professional", "profitable", "profound", "progressive", "prominent", "promising", "proper", "proposed", "prospective", "protective", "protestant", "proud", "provincial", "psychiatric", "psychological", "public", "puny", "pure", "purring", "puzzled", "quaint", "qualified", "quarrelsome", "querulous", "quick", "quickest", "quiet", "quintessential", "quixotic", "racial", "radical", "rainy", "random", "rapid", "rare", "raspy", "rational", "ratty", "raw", "ready", "real", "realistic", "rear", "reasonable", "recent", "reduced", "redundant", "regional", "registered", "regular", "regulatory", "related", "relative", "relaxed", "relevant", "reliable", "relieved", "religious", "reluctant", "remaining", "remarkable", "remote", "renewed", "representative", "repulsive", "required", "resident", "residential", "resonant", "respectable", "respective", "responsible", "resulting", "retail", "retired", "revolutionary", "rich", "ridiculous", "right", "rigid", "ripe", "rising", "rival", "roasted", "robust", "rolling", "romantic", "rotten", "rough", "round", "royal", "rubber", "rude", "ruling", "running", "rural", "sacred", "sad", "safe", "salty", "satisfactory", "satisfied", "scared", "scary", "scattered", "scientific", "scornful", "scrawny", "screeching", "secondary", "secret", "secure", "select", "selected", "selective", "selfish", "semantic", "senior", "sensible", "sensitive", "separate", "serious", "severe", "sexual", "shaggy", "shaky", "shallow", "shared", "sharp", "sheer", "shiny", "shivering", "shocked", "short", "shrill", "shy", "sick", "significant", "silent", "silky", "silly", "similar", "simple", "single", "skilled", "skinny", "sleepy", "slight", "slim", "slimy", "slippery", "slow", "small", "smart", "smiling", "smoggy", "smooth", "social", "socialist", "soft", "solar", "sole", "solid", "sophisticated", "sore", "sorry", "sound", "sour", "southern", "soviet", "spare", "sparkling", "spatial", "special", "specific", "specified", "spectacular", "spicy", "spiritual", "splendid", "spontaneous", "sporting", "spotless", "spotty", "square", "squealing", "stable", "stale", "standard", "static", "statistical", "statutory", "steady", "steep", "sticky", "stiff", "still", "stingy", "stormy", "straight", "straightforward", "strange", "strategic", "strict", "striking", "striped", "strong", "structural", "stuck", "stupid", "subjective", "subsequent", "substantial", "subtle", "successful", "successive", "sudden", "sufficient", "suitable", "sunny", "super", "superb", "superior", "supporting", "supposed", "supreme", "sure", "surprised", "surprising", "surrounding", "surviving", "suspicious", "sweet", "swift", "symbolic", "sympathetic", "systematic", "tall", "tame", "tart", "tasteless", "tasty", "technical", "technological", "teenage", "temporary", "tender", "tense", "terrible", "territorial", "testy", "then", "theoretical", "thick", "thin", "thirsty", "thorough", "thoughtful", "thoughtless", "thundering", "tight", "tiny", "tired", "top", "tory", "total", "tough", "toxic", "traditional", "tragic", "tremendous", "tricky", "tropical", "troubled", "typical", "ugliest", "ugly", "ultimate", "unable", "unacceptable", "unaware", "uncertain", "unchanged", "uncomfortable", "unconscious", "underground", "underlying", "unemployed", "uneven", "unexpected", "unfair", "unfortunate", "unhappy", "uniform", "uninterested", "unique", "united", "universal", "unknown", "unlikely", "unnecessary", "unpleasant", "unsightly", "unusual", "unwilling", "upper", "upset", "uptight", "urban", "urgent", "used", "useful", "useless", "usual", "vague", "valid", "valuable", "variable", "varied", "various", "varying", "vast", "verbal", "vertical", "very", "vicarious", "vicious", "victorious", "violent", "visible", "visiting", "visual", "vital", "vitreous", "vivacious", "vivid", "vocal", "vocational", "voiceless", "voluminous", "voluntary", "vulnerable", "wandering", "warm", "wasteful", "watery", "weak", "wealthy", "weary", "wee", "weekly", "weird", "welcome", "well", "western", "wet", "whispering", "whole", "wicked", "wide", "widespread", "wild", "wilful", "willing", "willowy", "wily", "wise", "wispy", "wittering", "witty", "wonderful", "wooden", "working", "worldwide", "worried", "worrying", "worthwhile", "worthy", "written", "wrong", "xenacious", "xenial", "xenogeneic", "xenophobic", "xeric", "xerothermic", "yabbering", "yammering", "yappiest", "yappy", "yawning", "yearling", "yearning", "yeasty", "yelling", "yelping", "yielding", "yodelling", "young", "youngest", "youthful", "ytterbic", "yucky", "yummy", "zany", "zealous", "zeroth", "zestful", "zesty", "zippy", "zonal", "zoophagous", "zygomorphic", "zygotic"], r = ["aardvark", "aardwolf", "albatross", "alligator", "alpaca", "amphibian", "anaconda", "angelfish", "anglerfish", "ant", "anteater", "antelope", "antlion", "ape", "aphid", "armadillo", "asp", "baboon", "badger", "bandicoot", "barnacle", "barracuda", "basilisk", "bass", "bat", "bear", "beaver", "bedbug", "bee", "beetle", "bird", "bison", "blackbird", "boa", "boar", "bobcat", "bobolink", "bonobo", "booby", "bovid", "bug", "butterfly", "buzzard", "camel", "canid", "canidae", "capybara", "cardinal", "caribou", "carp", "cat", "caterpillar", "catfish", "catshark", "cattle", "centipede", "cephalopod", "chameleon", "cheetah", "chickadee", "chicken", "chimpanzee", "chinchilla", "chipmunk", "cicada", "clam", "clownfish", "cobra", "cockroach", "cod", "condor", "constrictor", "coral", "cougar", "cow", "coyote", "crab", "crane", "crawdad", "crayfish", "cricket", "crocodile", "crow", "cuckoo", "damselfly", "deer", "dingo", "dinosaur", "dog", "dolphin", "donkey", "dormouse", "dove", "dragon", "dragonfly", "duck", "eagle", "earthworm", "earwig", "echidna", "eel", "egret", "elephant", "elk", "emu", "ermine", "falcon", "felidae", "ferret", "finch", "firefly", "fish", "flamingo", "flea", "fly", "flyingfish", "fowl", "fox", "frog", "galliform", "gamefowl", "gayal", "gazelle", "gecko", "gerbil", "gibbon", "giraffe", "goat", "goldfish", "goose", "gopher", "gorilla", "grasshopper", "grouse", "guan", "guanaco", "guineafowl", "gull", "guppy", "haddock", "halibut", "hamster", "hare", "harrier", "hawk", "hedgehog", "heron", "herring", "hippopotamus", "hookworm", "hornet", "horse", "hoverfly", "hummingbird", "hyena", "iguana", "impala", "jackal", "jaguar", "jay", "jellyfish", "junglefowl", "kangaroo", "kingfisher", "kite", "kiwi", "koala", "koi", "krill", "ladybug", "lamprey", "landfowl", "lark", "leech", "lemming", "lemur", "leopard", "leopon", "limpet", "lion", "lizard", "llama", "lobster", "locust", "loon", "louse", "lungfish", "lynx", "macaw", "mackerel", "magpie", "mammal", "manatee", "mandrill", "marlin", "marmoset", "marmot", "marsupial", "marten", "mastodon", "meadowlark", "meerkat", "mink", "minnow", "mite", "mockingbird", "mole", "mollusk", "mongoose", "monkey", "moose", "mosquito", "moth", "mouse", "mule", "muskox", "narwhal", "newt", "nightingale", "ocelot", "octopus", "opossum", "orangutan", "orca", "ostrich", "otter", "owl", "ox", "panda", "panther", "parakeet", "parrot", "parrotfish", "partridge", "peacock", "peafowl", "pelican", "penguin", "perch", "pheasant", "pig", "pigeon", "pike", "pinniped", "piranha", "planarian", "platypus", "pony", "porcupine", "porpoise", "possum", "prawn", "primate", "ptarmigan", "puffin", "puma", "python", "quail", "quelea", "quokka", "rabbit", "raccoon", "rat", "rattlesnake", "raven", "reindeer", "reptile", "rhinoceros", "roadrunner", "rodent", "rook", "rooster", "roundworm", "sailfish", "salamander", "salmon", "sawfish", "scallop", "scorpion", "seahorse", "shark", "sheep", "shrew", "shrimp", "silkworm", "silverfish", "skink", "skunk", "sloth", "slug", "smelt", "snail", "snake", "snipe", "sole", "sparrow", "spider", "spoonbill", "squid", "squirrel", "starfish", "stingray", "stoat", "stork", "sturgeon", "swallow", "swan", "swift", "swordfish", "swordtail", "tahr", "takin", "tapir", "tarantula", "tarsier", "termite", "tern", "thrush", "tick", "tiger", "tiglon", "toad", "tortoise", "toucan", "trout", "tuna", "turkey", "turtle", "tyrannosaurus", "unicorn", "urial", "vicuna", "viper", "vole", "vulture", "wallaby", "walrus", "warbler", "wasp", "weasel", "whale", "whippet", "whitefish", "wildcat", "wildebeest", "wildfowl", "wolf", "wolverine", "wombat", "woodpecker", "worm", "wren", "xerinae", "yak", "zebra"];
const randomName = () => n({
  dictionaries: [l, r],
  separator: "-"
});
function getDefaultExportFromCjs(x) {
  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
}
var wavesurfer = { exports: {} };
/*!
 * wavesurfer.js 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
(function(module2, exports2) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module2.exports = factory();
  })(self, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/drawer.canvasentry.js": (module3, exports3, __webpack_require__3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var _style = _interopRequireDefault(__webpack_require__3("./src/util/style.js"));
          var _getId = _interopRequireDefault(__webpack_require__3("./src/util/get-id.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var CanvasEntry = /* @__PURE__ */ function() {
            function CanvasEntry2() {
              _classCallCheck(this, CanvasEntry2);
              this.wave = null;
              this.waveCtx = null;
              this.progress = null;
              this.progressCtx = null;
              this.start = 0;
              this.end = 1;
              this.id = (0, _getId.default)(typeof this.constructor.name !== "undefined" ? this.constructor.name.toLowerCase() + "_" : "canvasentry_");
              this.canvasContextAttributes = {};
            }
            _createClass(CanvasEntry2, [{
              key: "initWave",
              value: function initWave(element) {
                this.wave = element;
                this.waveCtx = this.wave.getContext("2d", this.canvasContextAttributes);
              }
            }, {
              key: "initProgress",
              value: function initProgress(element) {
                this.progress = element;
                this.progressCtx = this.progress.getContext("2d", this.canvasContextAttributes);
              }
            }, {
              key: "updateDimensions",
              value: function updateDimensions(elementWidth, totalWidth, width, height) {
                this.start = this.wave.offsetLeft / totalWidth || 0;
                this.end = this.start + elementWidth / totalWidth;
                this.wave.width = width;
                this.wave.height = height;
                var elementSize = {
                  width: elementWidth + "px"
                };
                (0, _style.default)(this.wave, elementSize);
                if (this.hasProgressCanvas) {
                  this.progress.width = width;
                  this.progress.height = height;
                  (0, _style.default)(this.progress, elementSize);
                }
              }
            }, {
              key: "clearWave",
              value: function clearWave() {
                this.waveCtx.clearRect(0, 0, this.waveCtx.canvas.width, this.waveCtx.canvas.height);
                if (this.hasProgressCanvas) {
                  this.progressCtx.clearRect(0, 0, this.progressCtx.canvas.width, this.progressCtx.canvas.height);
                }
              }
            }, {
              key: "setFillStyles",
              value: function setFillStyles(waveColor, progressColor) {
                this.waveCtx.fillStyle = this.getFillStyle(this.waveCtx, waveColor);
                if (this.hasProgressCanvas) {
                  this.progressCtx.fillStyle = this.getFillStyle(this.progressCtx, progressColor);
                }
              }
            }, {
              key: "getFillStyle",
              value: function getFillStyle(ctx, color2) {
                if (typeof color2 == "string" || color2 instanceof CanvasGradient) {
                  return color2;
                }
                var waveGradient = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);
                color2.forEach(function(value2, index2) {
                  return waveGradient.addColorStop(index2 / color2.length, value2);
                });
                return waveGradient;
              }
            }, {
              key: "applyCanvasTransforms",
              value: function applyCanvasTransforms(vertical) {
                if (vertical) {
                  this.waveCtx.setTransform(0, 1, 1, 0, 0, 0);
                  if (this.hasProgressCanvas) {
                    this.progressCtx.setTransform(0, 1, 1, 0, 0, 0);
                  }
                }
              }
            }, {
              key: "fillRects",
              value: function fillRects(x, y, width, height, radius) {
                this.fillRectToContext(this.waveCtx, x, y, width, height, radius);
                if (this.hasProgressCanvas) {
                  this.fillRectToContext(this.progressCtx, x, y, width, height, radius);
                }
              }
            }, {
              key: "fillRectToContext",
              value: function fillRectToContext(ctx, x, y, width, height, radius) {
                if (!ctx) {
                  return;
                }
                if (radius) {
                  this.drawRoundedRect(ctx, x, y, width, height, radius);
                } else {
                  ctx.fillRect(x, y, width, height);
                }
              }
            }, {
              key: "drawRoundedRect",
              value: function drawRoundedRect(ctx, x, y, width, height, radius) {
                if (height === 0) {
                  return;
                }
                if (height < 0) {
                  height *= -1;
                  y -= height;
                }
                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
                ctx.fill();
              }
            }, {
              key: "drawLines",
              value: function drawLines(peaks, absmax, halfH, offsetY, start, end2) {
                this.drawLineToContext(this.waveCtx, peaks, absmax, halfH, offsetY, start, end2);
                if (this.hasProgressCanvas) {
                  this.drawLineToContext(this.progressCtx, peaks, absmax, halfH, offsetY, start, end2);
                }
              }
            }, {
              key: "drawLineToContext",
              value: function drawLineToContext(ctx, peaks, absmax, halfH, offsetY, start, end2) {
                if (!ctx) {
                  return;
                }
                var length2 = peaks.length / 2;
                var first = Math.round(length2 * this.start);
                var last = Math.round(length2 * this.end) + 1;
                var canvasStart = first;
                var canvasEnd = last;
                var scale = this.wave.width / (canvasEnd - canvasStart - 1);
                var halfOffset = halfH + offsetY;
                var absmaxHalf = absmax / halfH;
                ctx.beginPath();
                ctx.moveTo((canvasStart - first) * scale, halfOffset);
                ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart] || 0) / absmaxHalf));
                var i2, peak, h;
                for (i2 = canvasStart; i2 < canvasEnd; i2++) {
                  peak = peaks[2 * i2] || 0;
                  h = Math.round(peak / absmaxHalf);
                  ctx.lineTo((i2 - first) * scale + this.halfPixel, halfOffset - h);
                }
                var j = canvasEnd - 1;
                for (j; j >= canvasStart; j--) {
                  peak = peaks[2 * j + 1] || 0;
                  h = Math.round(peak / absmaxHalf);
                  ctx.lineTo((j - first) * scale + this.halfPixel, halfOffset - h);
                }
                ctx.lineTo((canvasStart - first) * scale, halfOffset - Math.round((peaks[2 * canvasStart + 1] || 0) / absmaxHalf));
                ctx.closePath();
                ctx.fill();
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.waveCtx = null;
                this.wave = null;
                this.progressCtx = null;
                this.progress = null;
              }
            }, {
              key: "getImage",
              value: function getImage(format, quality, type) {
                var _this = this;
                if (type === "blob") {
                  return new Promise(function(resolve2) {
                    _this.wave.toBlob(resolve2, format, quality);
                  });
                } else if (type === "dataURL") {
                  return this.wave.toDataURL(format, quality);
                }
              }
            }]);
            return CanvasEntry2;
          }();
          exports3["default"] = CanvasEntry;
          module3.exports = exports3.default;
        },
        "./src/drawer.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var util = _interopRequireWildcard(__webpack_require__3("./src/util/index.js"));
          function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function")
              return null;
            var cacheBabelInterop = /* @__PURE__ */ new WeakMap();
            var cacheNodeInterop = /* @__PURE__ */ new WeakMap();
            return (_getRequireWildcardCache = function _getRequireWildcardCache2(nodeInterop2) {
              return nodeInterop2 ? cacheNodeInterop : cacheBabelInterop;
            })(nodeInterop);
          }
          function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
              return obj;
            }
            if (obj === null || _typeof2(obj) !== "object" && typeof obj !== "function") {
              return { default: obj };
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
              return cache.get(obj);
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
              if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                if (desc && (desc.get || desc.set)) {
                  Object.defineProperty(newObj, key, desc);
                } else {
                  newObj[key] = obj[key];
                }
              }
            }
            newObj.default = obj;
            if (cache) {
              cache.set(obj, newObj);
            }
            return newObj;
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          var Drawer = /* @__PURE__ */ function(_util$Observer) {
            _inherits(Drawer2, _util$Observer);
            var _super = _createSuper(Drawer2);
            function Drawer2(container, params) {
              var _this;
              _classCallCheck(this, Drawer2);
              _this = _super.call(this);
              _this.container = util.withOrientation(container, params.vertical);
              _this.params = params;
              _this.width = 0;
              _this.height = params.height * _this.params.pixelRatio;
              _this.lastPos = 0;
              _this.wrapper = null;
              return _this;
            }
            _createClass(Drawer2, [{
              key: "style",
              value: function style2(el, styles) {
                return util.style(el, styles);
              }
            }, {
              key: "createWrapper",
              value: function createWrapper() {
                this.wrapper = util.withOrientation(this.container.appendChild(document.createElement("wave")), this.params.vertical);
                this.style(this.wrapper, {
                  display: "block",
                  position: "relative",
                  userSelect: "none",
                  webkitUserSelect: "none",
                  height: this.params.height + "px"
                });
                if (this.params.fillParent || this.params.scrollParent) {
                  this.style(this.wrapper, {
                    width: "100%",
                    cursor: this.params.hideCursor ? "none" : "auto",
                    overflowX: this.params.hideScrollbar ? "hidden" : "auto",
                    overflowY: "hidden"
                  });
                }
                this.setupWrapperEvents();
              }
            }, {
              key: "handleEvent",
              value: function handleEvent(e2, noPrevent) {
                !noPrevent && e2.preventDefault();
                var clientX2 = util.withOrientation(e2.targetTouches ? e2.targetTouches[0] : e2, this.params.vertical).clientX;
                var bbox = this.wrapper.getBoundingClientRect();
                var nominalWidth = this.width;
                var parentWidth = this.getWidth();
                var progressPixels = this.getProgressPixels(bbox, clientX2);
                var progress;
                if (!this.params.fillParent && nominalWidth < parentWidth) {
                  progress = progressPixels * (this.params.pixelRatio / nominalWidth) || 0;
                } else {
                  progress = (progressPixels + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0;
                }
                return util.clamp(progress, 0, 1);
              }
            }, {
              key: "getProgressPixels",
              value: function getProgressPixels(wrapperBbox, clientX2) {
                if (this.params.rtl) {
                  return wrapperBbox.right - clientX2;
                } else {
                  return clientX2 - wrapperBbox.left;
                }
              }
            }, {
              key: "setupWrapperEvents",
              value: function setupWrapperEvents() {
                var _this2 = this;
                this.wrapper.addEventListener("click", function(e2) {
                  var orientedEvent = util.withOrientation(e2, _this2.params.vertical);
                  var scrollbarHeight = _this2.wrapper.offsetHeight - _this2.wrapper.clientHeight;
                  if (scrollbarHeight !== 0) {
                    var bbox = _this2.wrapper.getBoundingClientRect();
                    if (orientedEvent.clientY >= bbox.bottom - scrollbarHeight) {
                      return;
                    }
                  }
                  if (_this2.params.interact) {
                    _this2.fireEvent("click", e2, _this2.handleEvent(e2));
                  }
                });
                this.wrapper.addEventListener("dblclick", function(e2) {
                  if (_this2.params.interact) {
                    _this2.fireEvent("dblclick", e2, _this2.handleEvent(e2));
                  }
                });
                this.wrapper.addEventListener("scroll", function(e2) {
                  return _this2.fireEvent("scroll", e2);
                });
              }
            }, {
              key: "drawPeaks",
              value: function drawPeaks(peaks, length2, start, end2) {
                if (!this.setWidth(length2)) {
                  this.clearWave();
                }
                this.params.barWidth ? this.drawBars(peaks, 0, start, end2) : this.drawWave(peaks, 0, start, end2);
              }
            }, {
              key: "resetScroll",
              value: function resetScroll() {
                if (this.wrapper !== null) {
                  this.wrapper.scrollLeft = 0;
                }
              }
            }, {
              key: "recenter",
              value: function recenter(percent) {
                var position = this.wrapper.scrollWidth * percent;
                this.recenterOnPosition(position, true);
              }
            }, {
              key: "recenterOnPosition",
              value: function recenterOnPosition(position, immediate) {
                var scrollLeft = this.wrapper.scrollLeft;
                var half = ~~(this.wrapper.clientWidth / 2);
                var maxScroll = this.wrapper.scrollWidth - this.wrapper.clientWidth;
                var target = position - half;
                var offset = target - scrollLeft;
                if (maxScroll == 0) {
                  return;
                }
                if (!immediate && -half <= offset && offset < half) {
                  var rate = this.params.autoCenterRate;
                  rate /= half;
                  rate *= maxScroll;
                  offset = Math.max(-rate, Math.min(rate, offset));
                  target = scrollLeft + offset;
                }
                target = Math.max(0, Math.min(maxScroll, target));
                if (target != scrollLeft) {
                  this.wrapper.scrollLeft = target;
                }
              }
            }, {
              key: "getScrollX",
              value: function getScrollX() {
                var x = 0;
                if (this.wrapper) {
                  var pixelRatio = this.params.pixelRatio;
                  x = Math.round(this.wrapper.scrollLeft * pixelRatio);
                  if (this.params.scrollParent) {
                    var maxScroll = ~~(this.wrapper.scrollWidth * pixelRatio - this.getWidth());
                    x = Math.min(maxScroll, Math.max(0, x));
                  }
                }
                return x;
              }
            }, {
              key: "getWidth",
              value: function getWidth() {
                return Math.round(this.container.clientWidth * this.params.pixelRatio);
              }
            }, {
              key: "setWidth",
              value: function setWidth(width) {
                if (this.width == width) {
                  return false;
                }
                this.width = width;
                if (this.params.fillParent || this.params.scrollParent) {
                  this.style(this.wrapper, {
                    width: ""
                  });
                } else {
                  var newWidth = ~~(this.width / this.params.pixelRatio) + "px";
                  this.style(this.wrapper, {
                    width: newWidth
                  });
                }
                this.updateSize();
                return true;
              }
            }, {
              key: "setHeight",
              value: function setHeight(height) {
                if (height == this.height) {
                  return false;
                }
                this.height = height;
                this.style(this.wrapper, {
                  height: ~~(this.height / this.params.pixelRatio) + "px"
                });
                this.updateSize();
                return true;
              }
            }, {
              key: "progress",
              value: function progress(_progress) {
                var minPxDelta = 1 / this.params.pixelRatio;
                var pos = Math.round(_progress * this.width) * minPxDelta;
                if (pos < this.lastPos || pos - this.lastPos >= minPxDelta) {
                  this.lastPos = pos;
                  if (this.params.scrollParent && this.params.autoCenter) {
                    var newPos = ~~(this.wrapper.scrollWidth * _progress);
                    this.recenterOnPosition(newPos, this.params.autoCenterImmediately);
                  }
                  this.updateProgress(pos);
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.unAll();
                if (this.wrapper) {
                  if (this.wrapper.parentNode == this.container.domElement) {
                    this.container.removeChild(this.wrapper.domElement);
                  }
                  this.wrapper = null;
                }
              }
            }, {
              key: "updateCursor",
              value: function updateCursor() {
              }
            }, {
              key: "updateSize",
              value: function updateSize() {
              }
            }, {
              key: "drawBars",
              value: function drawBars(peaks, channelIndex, start, end2) {
              }
            }, {
              key: "drawWave",
              value: function drawWave(peaks, channelIndex, start, end2) {
              }
            }, {
              key: "clearWave",
              value: function clearWave() {
              }
            }, {
              key: "updateProgress",
              value: function updateProgress(position) {
              }
            }]);
            return Drawer2;
          }(util.Observer);
          exports3["default"] = Drawer;
          module3.exports = exports3.default;
        },
        "./src/drawer.multicanvas.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var _drawer = _interopRequireDefault(__webpack_require__3("./src/drawer.js"));
          var util = _interopRequireWildcard(__webpack_require__3("./src/util/index.js"));
          var _drawer2 = _interopRequireDefault(__webpack_require__3("./src/drawer.canvasentry.js"));
          function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function")
              return null;
            var cacheBabelInterop = /* @__PURE__ */ new WeakMap();
            var cacheNodeInterop = /* @__PURE__ */ new WeakMap();
            return (_getRequireWildcardCache = function _getRequireWildcardCache2(nodeInterop2) {
              return nodeInterop2 ? cacheNodeInterop : cacheBabelInterop;
            })(nodeInterop);
          }
          function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
              return obj;
            }
            if (obj === null || _typeof2(obj) !== "object" && typeof obj !== "function") {
              return { default: obj };
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
              return cache.get(obj);
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
              if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                if (desc && (desc.get || desc.set)) {
                  Object.defineProperty(newObj, key, desc);
                } else {
                  newObj[key] = obj[key];
                }
              }
            }
            newObj.default = obj;
            if (cache) {
              cache.set(obj, newObj);
            }
            return newObj;
          }
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          var MultiCanvas = /* @__PURE__ */ function(_Drawer) {
            _inherits(MultiCanvas2, _Drawer);
            var _super = _createSuper(MultiCanvas2);
            function MultiCanvas2(container, params) {
              var _this;
              _classCallCheck(this, MultiCanvas2);
              _this = _super.call(this, container, params);
              _this.maxCanvasWidth = params.maxCanvasWidth;
              _this.maxCanvasElementWidth = Math.round(params.maxCanvasWidth / params.pixelRatio);
              _this.hasProgressCanvas = params.waveColor != params.progressColor;
              _this.halfPixel = 0.5 / params.pixelRatio;
              _this.canvases = [];
              _this.progressWave = null;
              _this.EntryClass = _drawer2.default;
              _this.canvasContextAttributes = params.drawingContextAttributes;
              _this.overlap = 2 * Math.ceil(params.pixelRatio / 2);
              _this.barRadius = params.barRadius || 0;
              _this.vertical = params.vertical;
              return _this;
            }
            _createClass(MultiCanvas2, [{
              key: "init",
              value: function init2() {
                this.createWrapper();
                this.createElements();
              }
            }, {
              key: "createElements",
              value: function createElements() {
                this.progressWave = util.withOrientation(this.wrapper.appendChild(document.createElement("wave")), this.params.vertical);
                this.style(this.progressWave, {
                  position: "absolute",
                  zIndex: 3,
                  left: 0,
                  top: 0,
                  bottom: 0,
                  overflow: "hidden",
                  width: "0",
                  display: "none",
                  boxSizing: "border-box",
                  borderRightStyle: "solid",
                  pointerEvents: "none"
                });
                this.addCanvas();
                this.updateCursor();
              }
            }, {
              key: "updateCursor",
              value: function updateCursor() {
                this.style(this.progressWave, {
                  borderRightWidth: this.params.cursorWidth + "px",
                  borderRightColor: this.params.cursorColor
                });
              }
            }, {
              key: "updateSize",
              value: function updateSize() {
                var _this2 = this;
                var totalWidth = Math.round(this.width / this.params.pixelRatio);
                var requiredCanvases = Math.ceil(totalWidth / (this.maxCanvasElementWidth + this.overlap));
                while (this.canvases.length < requiredCanvases) {
                  this.addCanvas();
                }
                while (this.canvases.length > requiredCanvases) {
                  this.removeCanvas();
                }
                var canvasWidth = this.maxCanvasWidth + this.overlap;
                var lastCanvas = this.canvases.length - 1;
                this.canvases.forEach(function(entry, i2) {
                  if (i2 == lastCanvas) {
                    canvasWidth = _this2.width - _this2.maxCanvasWidth * lastCanvas;
                  }
                  _this2.updateDimensions(entry, canvasWidth, _this2.height);
                  entry.clearWave();
                });
              }
            }, {
              key: "addCanvas",
              value: function addCanvas() {
                var entry = new this.EntryClass();
                entry.canvasContextAttributes = this.canvasContextAttributes;
                entry.hasProgressCanvas = this.hasProgressCanvas;
                entry.halfPixel = this.halfPixel;
                var leftOffset = this.maxCanvasElementWidth * this.canvases.length;
                var wave = util.withOrientation(this.wrapper.appendChild(document.createElement("canvas")), this.params.vertical);
                this.style(wave, {
                  position: "absolute",
                  zIndex: 2,
                  left: leftOffset + "px",
                  top: 0,
                  bottom: 0,
                  height: "100%",
                  pointerEvents: "none"
                });
                entry.initWave(wave);
                if (this.hasProgressCanvas) {
                  var progress = util.withOrientation(this.progressWave.appendChild(document.createElement("canvas")), this.params.vertical);
                  this.style(progress, {
                    position: "absolute",
                    left: leftOffset + "px",
                    top: 0,
                    bottom: 0,
                    height: "100%"
                  });
                  entry.initProgress(progress);
                }
                this.canvases.push(entry);
              }
            }, {
              key: "removeCanvas",
              value: function removeCanvas() {
                var lastEntry = this.canvases[this.canvases.length - 1];
                lastEntry.wave.parentElement.removeChild(lastEntry.wave.domElement);
                if (this.hasProgressCanvas) {
                  lastEntry.progress.parentElement.removeChild(lastEntry.progress.domElement);
                }
                if (lastEntry) {
                  lastEntry.destroy();
                  lastEntry = null;
                }
                this.canvases.pop();
              }
            }, {
              key: "updateDimensions",
              value: function updateDimensions(entry, width, height) {
                var elementWidth = Math.round(width / this.params.pixelRatio);
                var totalWidth = Math.round(this.width / this.params.pixelRatio);
                entry.updateDimensions(elementWidth, totalWidth, width, height);
                this.style(this.progressWave, {
                  display: "block"
                });
              }
            }, {
              key: "clearWave",
              value: function clearWave() {
                var _this3 = this;
                util.frame(function() {
                  _this3.canvases.forEach(function(entry) {
                    return entry.clearWave();
                  });
                })();
              }
            }, {
              key: "drawBars",
              value: function drawBars(peaks, channelIndex, start, end2) {
                var _this4 = this;
                return this.prepareDraw(peaks, channelIndex, start, end2, function(_ref) {
                  var absmax = _ref.absmax, hasMinVals = _ref.hasMinVals;
                  _ref.height;
                  var offsetY = _ref.offsetY, halfH = _ref.halfH, peaks2 = _ref.peaks, ch = _ref.channelIndex;
                  if (start === void 0) {
                    return;
                  }
                  var peakIndexScale = hasMinVals ? 2 : 1;
                  var length2 = peaks2.length / peakIndexScale;
                  var bar = _this4.params.barWidth * _this4.params.pixelRatio;
                  var gap = _this4.params.barGap === null ? Math.max(_this4.params.pixelRatio, ~~(bar / 2)) : Math.max(_this4.params.pixelRatio, _this4.params.barGap * _this4.params.pixelRatio);
                  var step = bar + gap;
                  var scale = length2 / _this4.width;
                  var first = start;
                  var last = end2;
                  var peakIndex = first;
                  for (peakIndex; peakIndex < last; peakIndex += step) {
                    var peak = 0;
                    var peakIndexRange = Math.floor(peakIndex * scale) * peakIndexScale;
                    var peakIndexEnd = Math.floor((peakIndex + step) * scale) * peakIndexScale;
                    do {
                      var newPeak = Math.abs(peaks2[peakIndexRange]);
                      if (newPeak > peak) {
                        peak = newPeak;
                      }
                      peakIndexRange += peakIndexScale;
                    } while (peakIndexRange < peakIndexEnd);
                    var h = Math.round(peak / absmax * halfH);
                    if (h == 0 && _this4.params.barMinHeight) {
                      h = _this4.params.barMinHeight;
                    }
                    _this4.fillRect(peakIndex + _this4.halfPixel, halfH - h + offsetY, bar + _this4.halfPixel, h * 2, _this4.barRadius, ch);
                  }
                });
              }
            }, {
              key: "drawWave",
              value: function drawWave(peaks, channelIndex, start, end2) {
                var _this5 = this;
                return this.prepareDraw(peaks, channelIndex, start, end2, function(_ref2) {
                  var absmax = _ref2.absmax, hasMinVals = _ref2.hasMinVals;
                  _ref2.height;
                  var offsetY = _ref2.offsetY, halfH = _ref2.halfH, peaks2 = _ref2.peaks, channelIndex2 = _ref2.channelIndex;
                  if (!hasMinVals) {
                    var reflectedPeaks = [];
                    var len = peaks2.length;
                    var i2 = 0;
                    for (i2; i2 < len; i2++) {
                      reflectedPeaks[2 * i2] = peaks2[i2];
                      reflectedPeaks[2 * i2 + 1] = -peaks2[i2];
                    }
                    peaks2 = reflectedPeaks;
                  }
                  if (start !== void 0) {
                    _this5.drawLine(peaks2, absmax, halfH, offsetY, start, end2, channelIndex2);
                  }
                  _this5.fillRect(0, halfH + offsetY - _this5.halfPixel, _this5.width, _this5.halfPixel, _this5.barRadius, channelIndex2);
                });
              }
            }, {
              key: "drawLine",
              value: function drawLine(peaks, absmax, halfH, offsetY, start, end2, channelIndex) {
                var _this6 = this;
                var _ref3 = this.params.splitChannelsOptions.channelColors[channelIndex] || {}, waveColor = _ref3.waveColor, progressColor = _ref3.progressColor;
                this.canvases.forEach(function(entry, i2) {
                  _this6.setFillStyles(entry, waveColor, progressColor);
                  _this6.applyCanvasTransforms(entry, _this6.params.vertical);
                  entry.drawLines(peaks, absmax, halfH, offsetY, start, end2);
                });
              }
            }, {
              key: "fillRect",
              value: function fillRect(x, y, width, height, radius, channelIndex) {
                var startCanvas = Math.floor(x / this.maxCanvasWidth);
                var endCanvas = Math.min(Math.ceil((x + width) / this.maxCanvasWidth) + 1, this.canvases.length);
                var i2 = startCanvas;
                for (i2; i2 < endCanvas; i2++) {
                  var entry = this.canvases[i2];
                  var leftOffset = i2 * this.maxCanvasWidth;
                  var intersection = {
                    x1: Math.max(x, i2 * this.maxCanvasWidth),
                    y1: y,
                    x2: Math.min(x + width, i2 * this.maxCanvasWidth + entry.wave.width),
                    y2: y + height
                  };
                  if (intersection.x1 < intersection.x2) {
                    var _ref4 = this.params.splitChannelsOptions.channelColors[channelIndex] || {}, waveColor = _ref4.waveColor, progressColor = _ref4.progressColor;
                    this.setFillStyles(entry, waveColor, progressColor);
                    this.applyCanvasTransforms(entry, this.params.vertical);
                    entry.fillRects(intersection.x1 - leftOffset, intersection.y1, intersection.x2 - intersection.x1, intersection.y2 - intersection.y1, radius);
                  }
                }
              }
            }, {
              key: "hideChannel",
              value: function hideChannel(channelIndex) {
                return this.params.splitChannels && this.params.splitChannelsOptions.filterChannels.includes(channelIndex);
              }
            }, {
              key: "prepareDraw",
              value: function prepareDraw(peaks, channelIndex, start, end2, fn, drawIndex, normalizedMax) {
                var _this7 = this;
                return util.frame(function() {
                  if (peaks[0] instanceof Array) {
                    var channels = peaks;
                    if (_this7.params.splitChannels) {
                      var filteredChannels = channels.filter(function(c2, i2) {
                        return !_this7.hideChannel(i2);
                      });
                      if (!_this7.params.splitChannelsOptions.overlay) {
                        _this7.setHeight(Math.max(filteredChannels.length, 1) * _this7.params.height * _this7.params.pixelRatio);
                      }
                      var overallAbsMax;
                      if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.relativeNormalization) {
                        overallAbsMax = util.max(channels.map(function(channelPeaks) {
                          return util.absMax(channelPeaks);
                        }));
                      }
                      return channels.forEach(function(channelPeaks, i2) {
                        return _this7.prepareDraw(channelPeaks, i2, start, end2, fn, filteredChannels.indexOf(channelPeaks), overallAbsMax);
                      });
                    }
                    peaks = channels[0];
                  }
                  if (_this7.hideChannel(channelIndex)) {
                    return;
                  }
                  var absmax = 1 / _this7.params.barHeight;
                  if (_this7.params.normalize) {
                    absmax = normalizedMax === void 0 ? util.absMax(peaks) : normalizedMax;
                  }
                  var hasMinVals = [].some.call(peaks, function(val) {
                    return val < 0;
                  });
                  var height = _this7.params.height * _this7.params.pixelRatio;
                  var halfH = height / 2;
                  var offsetY = height * drawIndex || 0;
                  if (_this7.params.splitChannelsOptions && _this7.params.splitChannelsOptions.overlay) {
                    offsetY = 0;
                  }
                  return fn({
                    absmax,
                    hasMinVals,
                    height,
                    offsetY,
                    halfH,
                    peaks,
                    channelIndex
                  });
                })();
              }
            }, {
              key: "setFillStyles",
              value: function setFillStyles(entry) {
                var waveColor = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.params.waveColor;
                var progressColor = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : this.params.progressColor;
                entry.setFillStyles(waveColor, progressColor);
              }
            }, {
              key: "applyCanvasTransforms",
              value: function applyCanvasTransforms(entry) {
                var vertical = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                entry.applyCanvasTransforms(vertical);
              }
            }, {
              key: "getImage",
              value: function getImage(format, quality, type) {
                if (type === "blob") {
                  return Promise.all(this.canvases.map(function(entry) {
                    return entry.getImage(format, quality, type);
                  }));
                } else if (type === "dataURL") {
                  var images = this.canvases.map(function(entry) {
                    return entry.getImage(format, quality, type);
                  });
                  return images.length > 1 ? images : images[0];
                }
              }
            }, {
              key: "updateProgress",
              value: function updateProgress(position) {
                this.style(this.progressWave, {
                  width: position + "px"
                });
              }
            }]);
            return MultiCanvas2;
          }(_drawer.default);
          exports3["default"] = MultiCanvas;
          module3.exports = exports3.default;
        },
        "./src/mediaelement-webaudio.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var _mediaelement = _interopRequireDefault(__webpack_require__3("./src/mediaelement.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
              _get = Reflect.get;
            } else {
              _get = function _get2(target, property, receiver) {
                var base = _superPropBase(target, property);
                if (!base)
                  return;
                var desc = Object.getOwnPropertyDescriptor(base, property);
                if (desc.get) {
                  return desc.get.call(arguments.length < 3 ? target : receiver);
                }
                return desc.value;
              };
            }
            return _get.apply(this, arguments);
          }
          function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
              object = _getPrototypeOf(object);
              if (object === null)
                break;
            }
            return object;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          var MediaElementWebAudio = /* @__PURE__ */ function(_MediaElement) {
            _inherits(MediaElementWebAudio2, _MediaElement);
            var _super = _createSuper(MediaElementWebAudio2);
            function MediaElementWebAudio2(params) {
              var _this;
              _classCallCheck(this, MediaElementWebAudio2);
              _this = _super.call(this, params);
              _this.params = params;
              _this.sourceMediaElement = null;
              return _this;
            }
            _createClass(MediaElementWebAudio2, [{
              key: "init",
              value: function init2() {
                this.setPlaybackRate(this.params.audioRate);
                this.createTimer();
                this.createVolumeNode();
                this.createScriptNode();
                this.createAnalyserNode();
              }
            }, {
              key: "_load",
              value: function _load(media, peaks, preload2) {
                _get(_getPrototypeOf(MediaElementWebAudio2.prototype), "_load", this).call(this, media, peaks, preload2);
                this.createMediaElementSource(media);
              }
            }, {
              key: "createMediaElementSource",
              value: function createMediaElementSource(mediaElement) {
                this.sourceMediaElement = this.ac.createMediaElementSource(mediaElement);
                this.sourceMediaElement.connect(this.analyser);
              }
            }, {
              key: "play",
              value: function play(start, end2) {
                this.resumeAudioContext();
                return _get(_getPrototypeOf(MediaElementWebAudio2.prototype), "play", this).call(this, start, end2);
              }
            }, {
              key: "destroy",
              value: function destroy() {
                _get(_getPrototypeOf(MediaElementWebAudio2.prototype), "destroy", this).call(this);
                this.destroyWebAudio();
              }
            }]);
            return MediaElementWebAudio2;
          }(_mediaelement.default);
          exports3["default"] = MediaElementWebAudio;
          module3.exports = exports3.default;
        },
        "./src/mediaelement.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var _webaudio = _interopRequireDefault(__webpack_require__3("./src/webaudio.js"));
          var util = _interopRequireWildcard(__webpack_require__3("./src/util/index.js"));
          function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function")
              return null;
            var cacheBabelInterop = /* @__PURE__ */ new WeakMap();
            var cacheNodeInterop = /* @__PURE__ */ new WeakMap();
            return (_getRequireWildcardCache = function _getRequireWildcardCache2(nodeInterop2) {
              return nodeInterop2 ? cacheNodeInterop : cacheBabelInterop;
            })(nodeInterop);
          }
          function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
              return obj;
            }
            if (obj === null || _typeof2(obj) !== "object" && typeof obj !== "function") {
              return { default: obj };
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
              return cache.get(obj);
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
              if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                if (desc && (desc.get || desc.set)) {
                  Object.defineProperty(newObj, key, desc);
                } else {
                  newObj[key] = obj[key];
                }
              }
            }
            newObj.default = obj;
            if (cache) {
              cache.set(obj, newObj);
            }
            return newObj;
          }
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _get() {
            if (typeof Reflect !== "undefined" && Reflect.get) {
              _get = Reflect.get;
            } else {
              _get = function _get2(target, property, receiver) {
                var base = _superPropBase(target, property);
                if (!base)
                  return;
                var desc = Object.getOwnPropertyDescriptor(base, property);
                if (desc.get) {
                  return desc.get.call(arguments.length < 3 ? target : receiver);
                }
                return desc.value;
              };
            }
            return _get.apply(this, arguments);
          }
          function _superPropBase(object, property) {
            while (!Object.prototype.hasOwnProperty.call(object, property)) {
              object = _getPrototypeOf(object);
              if (object === null)
                break;
            }
            return object;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          var MediaElement = /* @__PURE__ */ function(_WebAudio) {
            _inherits(MediaElement2, _WebAudio);
            var _super = _createSuper(MediaElement2);
            function MediaElement2(params) {
              var _this;
              _classCallCheck(this, MediaElement2);
              _this = _super.call(this, params);
              _this.params = params;
              _this.media = {
                currentTime: 0,
                duration: 0,
                paused: true,
                playbackRate: 1,
                play: function play() {
                },
                pause: function pause() {
                },
                volume: 0
              };
              _this.mediaType = params.mediaType.toLowerCase();
              _this.elementPosition = params.elementPosition;
              _this.peaks = null;
              _this.playbackRate = 1;
              _this.volume = 1;
              _this.isMuted = false;
              _this.buffer = null;
              _this.onPlayEnd = null;
              _this.mediaListeners = {};
              return _this;
            }
            _createClass(MediaElement2, [{
              key: "init",
              value: function init2() {
                this.setPlaybackRate(this.params.audioRate);
                this.createTimer();
              }
            }, {
              key: "_setupMediaListeners",
              value: function _setupMediaListeners() {
                var _this2 = this;
                this.mediaListeners.error = function() {
                  _this2.fireEvent("error", "Error loading media element");
                };
                this.mediaListeners.canplay = function() {
                  _this2.fireEvent("canplay");
                };
                this.mediaListeners.ended = function() {
                  _this2.fireEvent("finish");
                };
                this.mediaListeners.play = function() {
                  _this2.fireEvent("play");
                };
                this.mediaListeners.pause = function() {
                  _this2.fireEvent("pause");
                };
                this.mediaListeners.seeked = function(event) {
                  _this2.fireEvent("seek");
                };
                this.mediaListeners.volumechange = function(event) {
                  _this2.isMuted = _this2.media.muted;
                  if (_this2.isMuted) {
                    _this2.volume = 0;
                  } else {
                    _this2.volume = _this2.media.volume;
                  }
                  _this2.fireEvent("volume");
                };
                Object.keys(this.mediaListeners).forEach(function(id2) {
                  _this2.media.removeEventListener(id2, _this2.mediaListeners[id2]);
                  _this2.media.addEventListener(id2, _this2.mediaListeners[id2]);
                });
              }
            }, {
              key: "createTimer",
              value: function createTimer() {
                var _this3 = this;
                var onAudioProcess = function onAudioProcess2() {
                  if (_this3.isPaused()) {
                    return;
                  }
                  _this3.fireEvent("audioprocess", _this3.getCurrentTime());
                  util.frame(onAudioProcess2)();
                };
                this.on("play", onAudioProcess);
                this.on("pause", function() {
                  _this3.fireEvent("audioprocess", _this3.getCurrentTime());
                });
              }
            }, {
              key: "load",
              value: function load2(url, container, peaks, preload2) {
                var media = document.createElement(this.mediaType);
                media.controls = this.params.mediaControls;
                media.autoplay = this.params.autoplay || false;
                media.preload = preload2 == null ? "auto" : preload2;
                media.src = url;
                media.style.width = "100%";
                var prevMedia = container.querySelector(this.mediaType);
                if (prevMedia) {
                  container.removeChild(prevMedia);
                }
                container.appendChild(media);
                this._load(media, peaks, preload2);
              }
            }, {
              key: "loadElt",
              value: function loadElt(elt, peaks) {
                elt.controls = this.params.mediaControls;
                elt.autoplay = this.params.autoplay || false;
                this._load(elt, peaks, elt.preload);
              }
            }, {
              key: "_load",
              value: function _load(media, peaks, preload2) {
                if (!(media instanceof HTMLMediaElement) || typeof media.addEventListener === "undefined") {
                  throw new Error("media parameter is not a valid media element");
                }
                if (typeof media.load == "function" && !(peaks && preload2 == "none")) {
                  media.load();
                }
                this.media = media;
                this._setupMediaListeners();
                this.peaks = peaks;
                this.onPlayEnd = null;
                this.buffer = null;
                this.isMuted = media.muted;
                this.setPlaybackRate(this.playbackRate);
                this.setVolume(this.volume);
              }
            }, {
              key: "isPaused",
              value: function isPaused() {
                return !this.media || this.media.paused;
              }
            }, {
              key: "getDuration",
              value: function getDuration2() {
                if (this.explicitDuration) {
                  return this.explicitDuration;
                }
                var duration = (this.buffer || this.media).duration;
                if (duration >= Infinity) {
                  duration = this.media.seekable.end(0);
                }
                return duration;
              }
            }, {
              key: "getCurrentTime",
              value: function getCurrentTime2() {
                return this.media && this.media.currentTime;
              }
            }, {
              key: "getPlayedPercents",
              value: function getPlayedPercents() {
                return this.getCurrentTime() / this.getDuration() || 0;
              }
            }, {
              key: "getPlaybackRate",
              value: function getPlaybackRate() {
                return this.playbackRate || this.media.playbackRate;
              }
            }, {
              key: "setPlaybackRate",
              value: function setPlaybackRate(value2) {
                this.playbackRate = value2 || 1;
                this.media.playbackRate = this.playbackRate;
              }
            }, {
              key: "seekTo",
              value: function seekTo(start) {
                if (start != null && !isNaN(start)) {
                  this.media.currentTime = start;
                }
                this.clearPlayEnd();
              }
            }, {
              key: "play",
              value: function play(start, end2) {
                this.seekTo(start);
                var promise = this.media.play();
                end2 && this.setPlayEnd(end2);
                return promise;
              }
            }, {
              key: "pause",
              value: function pause() {
                var promise;
                if (this.media) {
                  promise = this.media.pause();
                }
                this.clearPlayEnd();
                return promise;
              }
            }, {
              key: "setPlayEnd",
              value: function setPlayEnd(end2) {
                var _this4 = this;
                this.clearPlayEnd();
                this._onPlayEnd = function(time) {
                  if (time >= end2) {
                    _this4.pause();
                    _this4.seekTo(end2);
                  }
                };
                this.on("audioprocess", this._onPlayEnd);
              }
            }, {
              key: "clearPlayEnd",
              value: function clearPlayEnd() {
                if (this._onPlayEnd) {
                  this.un("audioprocess", this._onPlayEnd);
                  this._onPlayEnd = null;
                }
              }
            }, {
              key: "getPeaks",
              value: function getPeaks(length2, first, last) {
                if (this.buffer) {
                  return _get(_getPrototypeOf(MediaElement2.prototype), "getPeaks", this).call(this, length2, first, last);
                }
                return this.peaks || [];
              }
            }, {
              key: "setSinkId",
              value: function setSinkId(deviceId) {
                if (deviceId) {
                  if (!this.media.setSinkId) {
                    return Promise.reject(new Error("setSinkId is not supported in your browser"));
                  }
                  return this.media.setSinkId(deviceId);
                }
                return Promise.reject(new Error("Invalid deviceId: " + deviceId));
              }
            }, {
              key: "getVolume",
              value: function getVolume() {
                return this.volume;
              }
            }, {
              key: "setVolume",
              value: function setVolume(value2) {
                this.volume = value2;
                if (this.media.volume !== this.volume) {
                  this.media.volume = this.volume;
                }
              }
            }, {
              key: "setMute",
              value: function setMute(muted) {
                this.isMuted = this.media.muted = muted;
              }
            }, {
              key: "destroy",
              value: function destroy() {
                var _this5 = this;
                this.pause();
                this.unAll();
                this.destroyed = true;
                Object.keys(this.mediaListeners).forEach(function(id2) {
                  if (_this5.media) {
                    _this5.media.removeEventListener(id2, _this5.mediaListeners[id2]);
                  }
                });
                if (this.params.removeMediaElementOnDestroy && this.media && this.media.parentNode) {
                  this.media.parentNode.removeChild(this.media);
                }
                this.media = null;
              }
            }]);
            return MediaElement2;
          }(_webaudio.default);
          exports3["default"] = MediaElement;
          module3.exports = exports3.default;
        },
        "./src/peakcache.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var PeakCache = /* @__PURE__ */ function() {
            function PeakCache2() {
              _classCallCheck(this, PeakCache2);
              this.clearPeakCache();
            }
            _createClass(PeakCache2, [{
              key: "clearPeakCache",
              value: function clearPeakCache() {
                this.peakCacheRanges = [];
                this.peakCacheLength = -1;
              }
            }, {
              key: "addRangeToPeakCache",
              value: function addRangeToPeakCache(length2, start, end2) {
                if (length2 != this.peakCacheLength) {
                  this.clearPeakCache();
                  this.peakCacheLength = length2;
                }
                var uncachedRanges = [];
                var i2 = 0;
                while (i2 < this.peakCacheRanges.length && this.peakCacheRanges[i2] < start) {
                  i2++;
                }
                if (i2 % 2 == 0) {
                  uncachedRanges.push(start);
                }
                while (i2 < this.peakCacheRanges.length && this.peakCacheRanges[i2] <= end2) {
                  uncachedRanges.push(this.peakCacheRanges[i2]);
                  i2++;
                }
                if (i2 % 2 == 0) {
                  uncachedRanges.push(end2);
                }
                uncachedRanges = uncachedRanges.filter(function(item, pos, arr) {
                  if (pos == 0) {
                    return item != arr[pos + 1];
                  } else if (pos == arr.length - 1) {
                    return item != arr[pos - 1];
                  }
                  return item != arr[pos - 1] && item != arr[pos + 1];
                });
                this.peakCacheRanges = this.peakCacheRanges.concat(uncachedRanges);
                this.peakCacheRanges = this.peakCacheRanges.sort(function(a2, b) {
                  return a2 - b;
                }).filter(function(item, pos, arr) {
                  if (pos == 0) {
                    return item != arr[pos + 1];
                  } else if (pos == arr.length - 1) {
                    return item != arr[pos - 1];
                  }
                  return item != arr[pos - 1] && item != arr[pos + 1];
                });
                var uncachedRangePairs = [];
                for (i2 = 0; i2 < uncachedRanges.length; i2 += 2) {
                  uncachedRangePairs.push([uncachedRanges[i2], uncachedRanges[i2 + 1]]);
                }
                return uncachedRangePairs;
              }
            }, {
              key: "getCacheRanges",
              value: function getCacheRanges() {
                var peakCacheRangePairs = [];
                var i2;
                for (i2 = 0; i2 < this.peakCacheRanges.length; i2 += 2) {
                  peakCacheRangePairs.push([this.peakCacheRanges[i2], this.peakCacheRanges[i2 + 1]]);
                }
                return peakCacheRangePairs;
              }
            }]);
            return PeakCache2;
          }();
          exports3["default"] = PeakCache;
          module3.exports = exports3.default;
        },
        "./src/util/absMax.js": (module3, exports3, __webpack_require__3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = absMax;
          var _max = _interopRequireDefault(__webpack_require__3("./src/util/max.js"));
          var _min = _interopRequireDefault(__webpack_require__3("./src/util/min.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function absMax(values2) {
            var max2 = (0, _max.default)(values2);
            var min2 = (0, _min.default)(values2);
            return -min2 > max2 ? -min2 : max2;
          }
          module3.exports = exports3.default;
        },
        "./src/util/clamp.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = clamp2;
          function clamp2(val, min2, max2) {
            return Math.min(Math.max(min2, val), max2);
          }
          module3.exports = exports3.default;
        },
        "./src/util/fetch.js": (module3, exports3, __webpack_require__3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = fetchFile;
          var _observer = _interopRequireDefault(__webpack_require__3("./src/util/observer.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var ProgressHandler = /* @__PURE__ */ function() {
            function ProgressHandler2(instance, contentLength, response) {
              _classCallCheck(this, ProgressHandler2);
              this.instance = instance;
              this.instance._reader = response.body.getReader();
              this.total = parseInt(contentLength, 10);
              this.loaded = 0;
            }
            _createClass(ProgressHandler2, [{
              key: "start",
              value: function start(controller) {
                var _this = this;
                var read5 = function read6() {
                  _this.instance._reader.read().then(function(_ref) {
                    var done = _ref.done, value2 = _ref.value;
                    if (done) {
                      if (_this.total === 0) {
                        _this.instance.onProgress.call(_this.instance, {
                          loaded: _this.loaded,
                          total: _this.total,
                          lengthComputable: false
                        });
                      }
                      controller.close();
                      return;
                    }
                    _this.loaded += value2.byteLength;
                    _this.instance.onProgress.call(_this.instance, {
                      loaded: _this.loaded,
                      total: _this.total,
                      lengthComputable: !(_this.total === 0)
                    });
                    controller.enqueue(value2);
                    read6();
                  }).catch(function(error2) {
                    controller.error(error2);
                  });
                };
                read5();
              }
            }]);
            return ProgressHandler2;
          }();
          function fetchFile(options) {
            if (!options) {
              throw new Error("fetch options missing");
            } else if (!options.url) {
              throw new Error("fetch url missing");
            }
            var instance = new _observer.default();
            var fetchHeaders = new Headers();
            var fetchRequest = new Request(options.url);
            instance.controller = new AbortController();
            if (options && options.requestHeaders) {
              options.requestHeaders.forEach(function(header) {
                fetchHeaders.append(header.key, header.value);
              });
            }
            var responseType = options.responseType || "json";
            var fetchOptions = {
              method: options.method || "GET",
              headers: fetchHeaders,
              mode: options.mode || "cors",
              credentials: options.credentials || "same-origin",
              cache: options.cache || "default",
              redirect: options.redirect || "follow",
              referrer: options.referrer || "client",
              signal: instance.controller.signal
            };
            fetch(fetchRequest, fetchOptions).then(function(response) {
              instance.response = response;
              var progressAvailable = true;
              if (!response.body) {
                progressAvailable = false;
              }
              var contentLength = response.headers.get("content-length");
              if (contentLength === null) {
                progressAvailable = false;
              }
              if (!progressAvailable) {
                return response;
              }
              instance.onProgress = function(e2) {
                instance.fireEvent("progress", e2);
              };
              return new Response(new ReadableStream(new ProgressHandler(instance, contentLength, response)), fetchOptions);
            }).then(function(response) {
              var errMsg;
              if (response.ok) {
                switch (responseType) {
                  case "arraybuffer":
                    return response.arrayBuffer();
                  case "json":
                    return response.json();
                  case "blob":
                    return response.blob();
                  case "text":
                    return response.text();
                  default:
                    errMsg = "Unknown responseType: " + responseType;
                    break;
                }
              }
              if (!errMsg) {
                errMsg = "HTTP error status: " + response.status;
              }
              throw new Error(errMsg);
            }).then(function(response) {
              instance.fireEvent("success", response);
            }).catch(function(error2) {
              instance.fireEvent("error", error2);
            });
            instance.fetchRequest = fetchRequest;
            return instance;
          }
          module3.exports = exports3.default;
        },
        "./src/util/frame.js": (module3, exports3, __webpack_require__3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = frame;
          var _requestAnimationFrame = _interopRequireDefault(__webpack_require__3("./src/util/request-animation-frame.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function frame(func) {
            return function() {
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }
              return (0, _requestAnimationFrame.default)(function() {
                return func.apply(void 0, args);
              });
            };
          }
          module3.exports = exports3.default;
        },
        "./src/util/get-id.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = getId;
          function getId(prefix2) {
            if (prefix2 === void 0) {
              prefix2 = "wavesurfer_";
            }
            return prefix2 + Math.random().toString(32).substring(2);
          }
          module3.exports = exports3.default;
        },
        "./src/util/index.js": (__unused_webpack_module, exports3, __webpack_require__3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          Object.defineProperty(exports3, "Observer", {
            enumerable: true,
            get: function get() {
              return _observer.default;
            }
          });
          Object.defineProperty(exports3, "absMax", {
            enumerable: true,
            get: function get() {
              return _absMax.default;
            }
          });
          Object.defineProperty(exports3, "clamp", {
            enumerable: true,
            get: function get() {
              return _clamp.default;
            }
          });
          Object.defineProperty(exports3, "debounce", {
            enumerable: true,
            get: function get() {
              return _debounce.default;
            }
          });
          Object.defineProperty(exports3, "fetchFile", {
            enumerable: true,
            get: function get() {
              return _fetch.default;
            }
          });
          Object.defineProperty(exports3, "frame", {
            enumerable: true,
            get: function get() {
              return _frame.default;
            }
          });
          Object.defineProperty(exports3, "getId", {
            enumerable: true,
            get: function get() {
              return _getId.default;
            }
          });
          Object.defineProperty(exports3, "ignoreSilenceMode", {
            enumerable: true,
            get: function get() {
              return _silenceMode.default;
            }
          });
          Object.defineProperty(exports3, "max", {
            enumerable: true,
            get: function get() {
              return _max.default;
            }
          });
          Object.defineProperty(exports3, "min", {
            enumerable: true,
            get: function get() {
              return _min.default;
            }
          });
          Object.defineProperty(exports3, "preventClick", {
            enumerable: true,
            get: function get() {
              return _preventClick.default;
            }
          });
          Object.defineProperty(exports3, "requestAnimationFrame", {
            enumerable: true,
            get: function get() {
              return _requestAnimationFrame.default;
            }
          });
          Object.defineProperty(exports3, "style", {
            enumerable: true,
            get: function get() {
              return _style.default;
            }
          });
          Object.defineProperty(exports3, "withOrientation", {
            enumerable: true,
            get: function get() {
              return _orientation.default;
            }
          });
          var _getId = _interopRequireDefault(__webpack_require__3("./src/util/get-id.js"));
          var _max = _interopRequireDefault(__webpack_require__3("./src/util/max.js"));
          var _min = _interopRequireDefault(__webpack_require__3("./src/util/min.js"));
          var _absMax = _interopRequireDefault(__webpack_require__3("./src/util/absMax.js"));
          var _observer = _interopRequireDefault(__webpack_require__3("./src/util/observer.js"));
          var _style = _interopRequireDefault(__webpack_require__3("./src/util/style.js"));
          var _requestAnimationFrame = _interopRequireDefault(__webpack_require__3("./src/util/request-animation-frame.js"));
          var _frame = _interopRequireDefault(__webpack_require__3("./src/util/frame.js"));
          var _debounce = _interopRequireDefault(__webpack_require__3("./node_modules/debounce/index.js"));
          var _preventClick = _interopRequireDefault(__webpack_require__3("./src/util/prevent-click.js"));
          var _fetch = _interopRequireDefault(__webpack_require__3("./src/util/fetch.js"));
          var _clamp = _interopRequireDefault(__webpack_require__3("./src/util/clamp.js"));
          var _orientation = _interopRequireDefault(__webpack_require__3("./src/util/orientation.js"));
          var _silenceMode = _interopRequireDefault(__webpack_require__3("./src/util/silence-mode.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
        },
        "./src/util/max.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = max2;
          function max2(values2) {
            var largest = -Infinity;
            Object.keys(values2).forEach(function(i2) {
              if (values2[i2] > largest) {
                largest = values2[i2];
              }
            });
            return largest;
          }
          module3.exports = exports3.default;
        },
        "./src/util/min.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = min2;
          function min2(values2) {
            var smallest = Number(Infinity);
            Object.keys(values2).forEach(function(i2) {
              if (values2[i2] < smallest) {
                smallest = values2[i2];
              }
            });
            return smallest;
          }
          module3.exports = exports3.default;
        },
        "./src/util/observer.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var Observer = /* @__PURE__ */ function() {
            function Observer2() {
              _classCallCheck(this, Observer2);
              this._disabledEventEmissions = [];
              this.handlers = null;
            }
            _createClass(Observer2, [{
              key: "on",
              value: function on(event, fn) {
                var _this = this;
                if (!this.handlers) {
                  this.handlers = {};
                }
                var handlers = this.handlers[event];
                if (!handlers) {
                  handlers = this.handlers[event] = [];
                }
                handlers.push(fn);
                return {
                  name: event,
                  callback: fn,
                  un: function un(e2, fn2) {
                    return _this.un(e2, fn2);
                  }
                };
              }
            }, {
              key: "un",
              value: function un(event, fn) {
                if (!this.handlers) {
                  return;
                }
                var handlers = this.handlers[event];
                var i2;
                if (handlers) {
                  if (fn) {
                    for (i2 = handlers.length - 1; i2 >= 0; i2--) {
                      if (handlers[i2] == fn) {
                        handlers.splice(i2, 1);
                      }
                    }
                  } else {
                    handlers.length = 0;
                  }
                }
              }
            }, {
              key: "unAll",
              value: function unAll() {
                this.handlers = null;
              }
            }, {
              key: "once",
              value: function once(event, handler) {
                var _this2 = this;
                var fn = function fn2() {
                  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                    args[_key] = arguments[_key];
                  }
                  handler.apply(_this2, args);
                  setTimeout(function() {
                    _this2.un(event, fn2);
                  }, 0);
                };
                return this.on(event, fn);
              }
            }, {
              key: "setDisabledEventEmissions",
              value: function setDisabledEventEmissions(eventNames) {
                this._disabledEventEmissions = eventNames;
              }
            }, {
              key: "_isDisabledEventEmission",
              value: function _isDisabledEventEmission(event) {
                return this._disabledEventEmissions && this._disabledEventEmissions.includes(event);
              }
            }, {
              key: "fireEvent",
              value: function fireEvent(event) {
                for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                  args[_key2 - 1] = arguments[_key2];
                }
                if (!this.handlers || this._isDisabledEventEmission(event)) {
                  return;
                }
                var handlers = this.handlers[event];
                handlers && handlers.forEach(function(fn) {
                  fn.apply(void 0, args);
                });
              }
            }]);
            return Observer2;
          }();
          exports3["default"] = Observer;
          module3.exports = exports3.default;
        },
        "./src/util/orientation.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = withOrientation;
          var verticalPropMap = {
            width: "height",
            height: "width",
            overflowX: "overflowY",
            overflowY: "overflowX",
            clientWidth: "clientHeight",
            clientHeight: "clientWidth",
            clientX: "clientY",
            clientY: "clientX",
            scrollWidth: "scrollHeight",
            scrollLeft: "scrollTop",
            offsetLeft: "offsetTop",
            offsetTop: "offsetLeft",
            offsetHeight: "offsetWidth",
            offsetWidth: "offsetHeight",
            left: "top",
            right: "bottom",
            top: "left",
            bottom: "right",
            borderRightStyle: "borderBottomStyle",
            borderRightWidth: "borderBottomWidth",
            borderRightColor: "borderBottomColor"
          };
          function mapProp(prop2, vertical) {
            if (Object.prototype.hasOwnProperty.call(verticalPropMap, prop2)) {
              return vertical ? verticalPropMap[prop2] : prop2;
            } else {
              return prop2;
            }
          }
          var isProxy = Symbol("isProxy");
          function withOrientation(target, vertical) {
            if (target[isProxy]) {
              return target;
            } else {
              return new Proxy(target, {
                get: function get(obj, prop2, receiver) {
                  if (prop2 === isProxy) {
                    return true;
                  } else if (prop2 === "domElement") {
                    return obj;
                  } else if (prop2 === "style") {
                    return withOrientation(obj.style, vertical);
                  } else if (prop2 === "canvas") {
                    return withOrientation(obj.canvas, vertical);
                  } else if (prop2 === "getBoundingClientRect") {
                    return function() {
                      return withOrientation(obj.getBoundingClientRect.apply(obj, arguments), vertical);
                    };
                  } else if (prop2 === "getContext") {
                    return function() {
                      return withOrientation(obj.getContext.apply(obj, arguments), vertical);
                    };
                  } else {
                    var value2 = obj[mapProp(prop2, vertical)];
                    return typeof value2 == "function" ? value2.bind(obj) : value2;
                  }
                },
                set: function set(obj, prop2, value2) {
                  obj[mapProp(prop2, vertical)] = value2;
                  return true;
                }
              });
            }
          }
          module3.exports = exports3.default;
        },
        "./src/util/prevent-click.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = preventClick;
          function preventClickHandler(event) {
            event.stopPropagation();
            document.body.removeEventListener("click", preventClickHandler, true);
          }
          function preventClick(values2) {
            document.body.addEventListener("click", preventClickHandler, true);
          }
          module3.exports = exports3.default;
        },
        "./src/util/request-animation-frame.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var _default = (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback, element) {
            return setTimeout(callback, 1e3 / 60);
          }).bind(window);
          exports3["default"] = _default;
          module3.exports = exports3.default;
        },
        "./src/util/silence-mode.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = ignoreSilenceMode;
          function ignoreSilenceMode() {
            var audioData = "data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==";
            var tmp = document.createElement("div");
            tmp.innerHTML = '<audio x-webkit-airplay="deny"></audio>';
            var audioSilentMode = tmp.children.item(0);
            audioSilentMode.src = audioData;
            audioSilentMode.preload = "auto";
            audioSilentMode.type = "audio/mpeg";
            audioSilentMode.disableRemotePlayback = true;
            audioSilentMode.play();
            audioSilentMode.remove();
            tmp.remove();
          }
          module3.exports = exports3.default;
        },
        "./src/util/style.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = style2;
          function style2(el, styles) {
            Object.keys(styles).forEach(function(prop2) {
              if (el.style[prop2] !== styles[prop2]) {
                el.style[prop2] = styles[prop2];
              }
            });
            return el;
          }
          module3.exports = exports3.default;
        },
        "./src/wavesurfer.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var util = _interopRequireWildcard(__webpack_require__3("./src/util/index.js"));
          var _drawer = _interopRequireDefault(__webpack_require__3("./src/drawer.multicanvas.js"));
          var _webaudio = _interopRequireDefault(__webpack_require__3("./src/webaudio.js"));
          var _mediaelement = _interopRequireDefault(__webpack_require__3("./src/mediaelement.js"));
          var _peakcache = _interopRequireDefault(__webpack_require__3("./src/peakcache.js"));
          var _mediaelementWebaudio = _interopRequireDefault(__webpack_require__3("./src/mediaelement-webaudio.js"));
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function")
              return null;
            var cacheBabelInterop = /* @__PURE__ */ new WeakMap();
            var cacheNodeInterop = /* @__PURE__ */ new WeakMap();
            return (_getRequireWildcardCache = function _getRequireWildcardCache2(nodeInterop2) {
              return nodeInterop2 ? cacheNodeInterop : cacheBabelInterop;
            })(nodeInterop);
          }
          function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
              return obj;
            }
            if (obj === null || _typeof2(obj) !== "object" && typeof obj !== "function") {
              return { default: obj };
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
              return cache.get(obj);
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
              if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                if (desc && (desc.get || desc.set)) {
                  Object.defineProperty(newObj, key, desc);
                } else {
                  newObj[key] = obj[key];
                }
              }
            }
            newObj.default = obj;
            if (cache) {
              cache.set(obj, newObj);
            }
            return newObj;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          function _defineProperty(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var WaveSurfer2 = /* @__PURE__ */ function(_util$Observer) {
            _inherits(WaveSurfer3, _util$Observer);
            var _super = _createSuper(WaveSurfer3);
            function WaveSurfer3(params) {
              var _this;
              _classCallCheck(this, WaveSurfer3);
              _this = _super.call(this);
              _defineProperty(_assertThisInitialized(_this), "defaultParams", {
                audioContext: null,
                audioScriptProcessor: null,
                audioRate: 1,
                autoCenter: true,
                autoCenterRate: 5,
                autoCenterImmediately: false,
                backend: "WebAudio",
                backgroundColor: null,
                barHeight: 1,
                barRadius: 0,
                barGap: null,
                barMinHeight: null,
                container: null,
                cursorColor: "#333",
                cursorWidth: 1,
                dragSelection: true,
                drawingContextAttributes: {
                  desynchronized: false
                },
                duration: null,
                fillParent: true,
                forceDecode: false,
                height: 128,
                hideScrollbar: false,
                hideCursor: false,
                ignoreSilenceMode: false,
                interact: true,
                loopSelection: true,
                maxCanvasWidth: 4e3,
                mediaContainer: null,
                mediaControls: false,
                mediaType: "audio",
                minPxPerSec: 20,
                normalize: false,
                partialRender: false,
                pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,
                plugins: [],
                progressColor: "#555",
                removeMediaElementOnDestroy: true,
                renderer: _drawer.default,
                responsive: false,
                rtl: false,
                scrollParent: false,
                skipLength: 2,
                splitChannels: false,
                splitChannelsOptions: {
                  overlay: false,
                  channelColors: {},
                  filterChannels: [],
                  relativeNormalization: false
                },
                vertical: false,
                waveColor: "#999",
                xhr: {}
              });
              _defineProperty(_assertThisInitialized(_this), "backends", {
                MediaElement: _mediaelement.default,
                WebAudio: _webaudio.default,
                MediaElementWebAudio: _mediaelementWebaudio.default
              });
              _defineProperty(_assertThisInitialized(_this), "util", util);
              _this.params = Object.assign({}, _this.defaultParams, params);
              _this.params.splitChannelsOptions = Object.assign({}, _this.defaultParams.splitChannelsOptions, params.splitChannelsOptions);
              _this.container = "string" == typeof params.container ? document.querySelector(_this.params.container) : _this.params.container;
              if (!_this.container) {
                throw new Error("Container element not found");
              }
              if (_this.params.mediaContainer == null) {
                _this.mediaContainer = _this.container;
              } else if (typeof _this.params.mediaContainer == "string") {
                _this.mediaContainer = document.querySelector(_this.params.mediaContainer);
              } else {
                _this.mediaContainer = _this.params.mediaContainer;
              }
              if (!_this.mediaContainer) {
                throw new Error("Media Container element not found");
              }
              if (_this.params.maxCanvasWidth <= 1) {
                throw new Error("maxCanvasWidth must be greater than 1");
              } else if (_this.params.maxCanvasWidth % 2 == 1) {
                throw new Error("maxCanvasWidth must be an even number");
              }
              if (_this.params.rtl === true) {
                if (_this.params.vertical === true) {
                  util.style(_this.container, {
                    transform: "rotateX(180deg)"
                  });
                } else {
                  util.style(_this.container, {
                    transform: "rotateY(180deg)"
                  });
                }
              }
              if (_this.params.backgroundColor) {
                _this.setBackgroundColor(_this.params.backgroundColor);
              }
              _this.savedVolume = 0;
              _this.isMuted = false;
              _this.tmpEvents = [];
              _this.currentRequest = null;
              _this.arraybuffer = null;
              _this.drawer = null;
              _this.backend = null;
              _this.peakCache = null;
              if (typeof _this.params.renderer !== "function") {
                throw new Error("Renderer parameter is invalid");
              }
              _this.Drawer = _this.params.renderer;
              if (_this.params.backend == "AudioElement") {
                _this.params.backend = "MediaElement";
              }
              if ((_this.params.backend == "WebAudio" || _this.params.backend === "MediaElementWebAudio") && !_webaudio.default.prototype.supportsWebAudio.call(null)) {
                _this.params.backend = "MediaElement";
              }
              _this.Backend = _this.backends[_this.params.backend];
              _this.initialisedPluginList = {};
              _this.isDestroyed = false;
              _this.isReady = false;
              var prevWidth = 0;
              _this._onResize = util.debounce(function() {
                if (_this.drawer.wrapper && prevWidth != _this.drawer.wrapper.clientWidth && !_this.params.scrollParent) {
                  prevWidth = _this.drawer.wrapper.clientWidth;
                  if (prevWidth) {
                    _this.drawer.fireEvent("redraw");
                  }
                }
              }, typeof _this.params.responsive === "number" ? _this.params.responsive : 100);
              return _possibleConstructorReturn(_this, _assertThisInitialized(_this));
            }
            _createClass(WaveSurfer3, [{
              key: "init",
              value: function init2() {
                this.registerPlugins(this.params.plugins);
                this.createDrawer();
                this.createBackend();
                this.createPeakCache();
                return this;
              }
            }, {
              key: "registerPlugins",
              value: function registerPlugins(plugins) {
                var _this2 = this;
                plugins.forEach(function(plugin) {
                  return _this2.addPlugin(plugin);
                });
                plugins.forEach(function(plugin) {
                  if (!plugin.deferInit) {
                    _this2.initPlugin(plugin.name);
                  }
                });
                this.fireEvent("plugins-registered", plugins);
                return this;
              }
            }, {
              key: "getActivePlugins",
              value: function getActivePlugins() {
                return this.initialisedPluginList;
              }
            }, {
              key: "addPlugin",
              value: function addPlugin(plugin) {
                var _this3 = this;
                if (!plugin.name) {
                  throw new Error("Plugin does not have a name!");
                }
                if (!plugin.instance) {
                  throw new Error("Plugin ".concat(plugin.name, " does not have an instance property!"));
                }
                if (plugin.staticProps) {
                  Object.keys(plugin.staticProps).forEach(function(pluginStaticProp) {
                    _this3[pluginStaticProp] = plugin.staticProps[pluginStaticProp];
                  });
                }
                var Instance = plugin.instance;
                var observerPrototypeKeys = Object.getOwnPropertyNames(util.Observer.prototype);
                observerPrototypeKeys.forEach(function(key) {
                  Instance.prototype[key] = util.Observer.prototype[key];
                });
                this[plugin.name] = new Instance(plugin.params || {}, this);
                this.fireEvent("plugin-added", plugin.name);
                return this;
              }
            }, {
              key: "initPlugin",
              value: function initPlugin(name) {
                if (!this[name]) {
                  throw new Error("Plugin ".concat(name, " has not been added yet!"));
                }
                if (this.initialisedPluginList[name]) {
                  this.destroyPlugin(name);
                }
                this[name].init();
                this.initialisedPluginList[name] = true;
                this.fireEvent("plugin-initialised", name);
                return this;
              }
            }, {
              key: "destroyPlugin",
              value: function destroyPlugin(name) {
                if (!this[name]) {
                  throw new Error("Plugin ".concat(name, " has not been added yet and cannot be destroyed!"));
                }
                if (!this.initialisedPluginList[name]) {
                  throw new Error("Plugin ".concat(name, " is not active and cannot be destroyed!"));
                }
                if (typeof this[name].destroy !== "function") {
                  throw new Error("Plugin ".concat(name, " does not have a destroy function!"));
                }
                this[name].destroy();
                delete this.initialisedPluginList[name];
                this.fireEvent("plugin-destroyed", name);
                return this;
              }
            }, {
              key: "destroyAllPlugins",
              value: function destroyAllPlugins() {
                var _this4 = this;
                Object.keys(this.initialisedPluginList).forEach(function(name) {
                  return _this4.destroyPlugin(name);
                });
              }
            }, {
              key: "createDrawer",
              value: function createDrawer() {
                var _this5 = this;
                this.drawer = new this.Drawer(this.container, this.params);
                this.drawer.init();
                this.fireEvent("drawer-created", this.drawer);
                if (this.params.responsive !== false) {
                  window.addEventListener("resize", this._onResize, true);
                  window.addEventListener("orientationchange", this._onResize, true);
                }
                this.drawer.on("redraw", function() {
                  _this5.drawBuffer();
                  _this5.drawer.progress(_this5.backend.getPlayedPercents());
                });
                this.drawer.on("click", function(e2, progress) {
                  setTimeout(function() {
                    return _this5.seekTo(progress);
                  }, 0);
                });
                this.drawer.on("scroll", function(e2) {
                  if (_this5.params.partialRender) {
                    _this5.drawBuffer();
                  }
                  _this5.fireEvent("scroll", e2);
                });
              }
            }, {
              key: "createBackend",
              value: function createBackend() {
                var _this6 = this;
                if (this.backend) {
                  this.backend.destroy();
                }
                this.backend = new this.Backend(this.params);
                this.backend.init();
                this.fireEvent("backend-created", this.backend);
                this.backend.on("finish", function() {
                  _this6.drawer.progress(_this6.backend.getPlayedPercents());
                  _this6.fireEvent("finish");
                });
                this.backend.on("play", function() {
                  return _this6.fireEvent("play");
                });
                this.backend.on("pause", function() {
                  return _this6.fireEvent("pause");
                });
                this.backend.on("audioprocess", function(time) {
                  _this6.drawer.progress(_this6.backend.getPlayedPercents());
                  _this6.fireEvent("audioprocess", time);
                });
                if (this.params.backend === "MediaElement" || this.params.backend === "MediaElementWebAudio") {
                  this.backend.on("seek", function() {
                    _this6.drawer.progress(_this6.backend.getPlayedPercents());
                  });
                  this.backend.on("volume", function() {
                    var newVolume = _this6.getVolume();
                    _this6.fireEvent("volume", newVolume);
                    if (_this6.backend.isMuted !== _this6.isMuted) {
                      _this6.isMuted = _this6.backend.isMuted;
                      _this6.fireEvent("mute", _this6.isMuted);
                    }
                  });
                }
              }
            }, {
              key: "createPeakCache",
              value: function createPeakCache() {
                if (this.params.partialRender) {
                  this.peakCache = new _peakcache.default();
                }
              }
            }, {
              key: "getDuration",
              value: function getDuration2() {
                return this.backend.getDuration();
              }
            }, {
              key: "getCurrentTime",
              value: function getCurrentTime2() {
                return this.backend.getCurrentTime();
              }
            }, {
              key: "setCurrentTime",
              value: function setCurrentTime(seconds) {
                if (seconds >= this.getDuration()) {
                  this.seekTo(1);
                } else {
                  this.seekTo(seconds / this.getDuration());
                }
              }
            }, {
              key: "play",
              value: function play(start, end2) {
                var _this7 = this;
                if (this.params.ignoreSilenceMode) {
                  util.ignoreSilenceMode();
                }
                this.fireEvent("interaction", function() {
                  return _this7.play(start, end2);
                });
                return this.backend.play(start, end2);
              }
            }, {
              key: "setPlayEnd",
              value: function setPlayEnd(position) {
                this.backend.setPlayEnd(position);
              }
            }, {
              key: "pause",
              value: function pause() {
                if (!this.backend.isPaused()) {
                  return this.backend.pause();
                }
              }
            }, {
              key: "playPause",
              value: function playPause() {
                return this.backend.isPaused() ? this.play() : this.pause();
              }
            }, {
              key: "isPlaying",
              value: function isPlaying() {
                return !this.backend.isPaused();
              }
            }, {
              key: "skipBackward",
              value: function skipBackward(seconds) {
                this.skip(-seconds || -this.params.skipLength);
              }
            }, {
              key: "skipForward",
              value: function skipForward(seconds) {
                this.skip(seconds || this.params.skipLength);
              }
            }, {
              key: "skip",
              value: function skip(offset) {
                var duration = this.getDuration() || 1;
                var position = this.getCurrentTime() || 0;
                position = Math.max(0, Math.min(duration, position + (offset || 0)));
                this.seekAndCenter(position / duration);
              }
            }, {
              key: "seekAndCenter",
              value: function seekAndCenter(progress) {
                this.seekTo(progress);
                this.drawer.recenter(progress);
              }
            }, {
              key: "seekTo",
              value: function seekTo(progress) {
                var _this8 = this;
                if (typeof progress !== "number" || !isFinite(progress) || progress < 0 || progress > 1) {
                  throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");
                }
                this.fireEvent("interaction", function() {
                  return _this8.seekTo(progress);
                });
                var isWebAudioBackend = this.params.backend === "WebAudio";
                var paused = this.backend.isPaused();
                if (isWebAudioBackend && !paused) {
                  this.backend.pause();
                }
                var oldScrollParent = this.params.scrollParent;
                this.params.scrollParent = false;
                this.backend.seekTo(progress * this.getDuration());
                this.drawer.progress(progress);
                if (isWebAudioBackend && !paused) {
                  this.backend.play();
                }
                this.params.scrollParent = oldScrollParent;
                this.fireEvent("seek", progress);
              }
            }, {
              key: "stop",
              value: function stop() {
                this.pause();
                this.seekTo(0);
                this.drawer.progress(0);
              }
            }, {
              key: "setSinkId",
              value: function setSinkId(deviceId) {
                return this.backend.setSinkId(deviceId);
              }
            }, {
              key: "setVolume",
              value: function setVolume(newVolume) {
                this.backend.setVolume(newVolume);
                this.fireEvent("volume", newVolume);
              }
            }, {
              key: "getVolume",
              value: function getVolume() {
                return this.backend.getVolume();
              }
            }, {
              key: "setPlaybackRate",
              value: function setPlaybackRate(rate) {
                this.backend.setPlaybackRate(rate);
              }
            }, {
              key: "getPlaybackRate",
              value: function getPlaybackRate() {
                return this.backend.getPlaybackRate();
              }
            }, {
              key: "toggleMute",
              value: function toggleMute() {
                this.setMute(!this.isMuted);
              }
            }, {
              key: "setMute",
              value: function setMute(mute) {
                if (mute === this.isMuted) {
                  this.fireEvent("mute", this.isMuted);
                  return;
                }
                if (this.backend.setMute) {
                  this.backend.setMute(mute);
                  this.isMuted = mute;
                } else {
                  if (mute) {
                    this.savedVolume = this.backend.getVolume();
                    this.backend.setVolume(0);
                    this.isMuted = true;
                    this.fireEvent("volume", 0);
                  } else {
                    this.backend.setVolume(this.savedVolume);
                    this.isMuted = false;
                    this.fireEvent("volume", this.savedVolume);
                  }
                }
                this.fireEvent("mute", this.isMuted);
              }
            }, {
              key: "getMute",
              value: function getMute() {
                return this.isMuted;
              }
            }, {
              key: "getFilters",
              value: function getFilters() {
                return this.backend.filters || [];
              }
            }, {
              key: "toggleScroll",
              value: function toggleScroll() {
                this.params.scrollParent = !this.params.scrollParent;
                this.drawBuffer();
              }
            }, {
              key: "toggleInteraction",
              value: function toggleInteraction() {
                this.params.interact = !this.params.interact;
              }
            }, {
              key: "getWaveColor",
              value: function getWaveColor() {
                var channelIdx = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
                if (this.params.splitChannelsOptions.channelColors[channelIdx]) {
                  return this.params.splitChannelsOptions.channelColors[channelIdx].waveColor;
                }
                return this.params.waveColor;
              }
            }, {
              key: "setWaveColor",
              value: function setWaveColor(color2) {
                var channelIdx = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
                if (this.params.splitChannelsOptions.channelColors[channelIdx]) {
                  this.params.splitChannelsOptions.channelColors[channelIdx].waveColor = color2;
                } else {
                  this.params.waveColor = color2;
                }
                this.drawBuffer();
              }
            }, {
              key: "getProgressColor",
              value: function getProgressColor() {
                var channelIdx = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
                if (this.params.splitChannelsOptions.channelColors[channelIdx]) {
                  return this.params.splitChannelsOptions.channelColors[channelIdx].progressColor;
                }
                return this.params.progressColor;
              }
            }, {
              key: "setProgressColor",
              value: function setProgressColor(color2, channelIdx) {
                if (this.params.splitChannelsOptions.channelColors[channelIdx]) {
                  this.params.splitChannelsOptions.channelColors[channelIdx].progressColor = color2;
                } else {
                  this.params.progressColor = color2;
                }
                this.drawBuffer();
              }
            }, {
              key: "getBackgroundColor",
              value: function getBackgroundColor() {
                return this.params.backgroundColor;
              }
            }, {
              key: "setBackgroundColor",
              value: function setBackgroundColor(color2) {
                this.params.backgroundColor = color2;
                util.style(this.container, {
                  background: this.params.backgroundColor
                });
              }
            }, {
              key: "getCursorColor",
              value: function getCursorColor() {
                return this.params.cursorColor;
              }
            }, {
              key: "setCursorColor",
              value: function setCursorColor(color2) {
                this.params.cursorColor = color2;
                this.drawer.updateCursor();
              }
            }, {
              key: "getHeight",
              value: function getHeight() {
                return this.params.height;
              }
            }, {
              key: "setHeight",
              value: function setHeight(height) {
                this.params.height = height;
                this.drawer.setHeight(height * this.params.pixelRatio);
                this.drawBuffer();
              }
            }, {
              key: "setFilteredChannels",
              value: function setFilteredChannels(channelIndices) {
                this.params.splitChannelsOptions.filterChannels = channelIndices;
                this.drawBuffer();
              }
            }, {
              key: "drawBuffer",
              value: function drawBuffer() {
                var nominalWidth = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio);
                var parentWidth = this.drawer.getWidth();
                var width = nominalWidth;
                var start = 0;
                var end2 = Math.max(start + parentWidth, width);
                if (this.params.fillParent && (!this.params.scrollParent || nominalWidth < parentWidth)) {
                  width = parentWidth;
                  start = 0;
                  end2 = width;
                }
                var peaks;
                if (this.params.partialRender) {
                  var newRanges = this.peakCache.addRangeToPeakCache(width, start, end2);
                  var i2;
                  for (i2 = 0; i2 < newRanges.length; i2++) {
                    peaks = this.backend.getPeaks(width, newRanges[i2][0], newRanges[i2][1]);
                    this.drawer.drawPeaks(peaks, width, newRanges[i2][0], newRanges[i2][1]);
                  }
                } else {
                  peaks = this.backend.getPeaks(width, start, end2);
                  this.drawer.drawPeaks(peaks, width, start, end2);
                }
                this.fireEvent("redraw", peaks, width);
              }
            }, {
              key: "zoom",
              value: function zoom2(pxPerSec) {
                if (!pxPerSec) {
                  this.params.minPxPerSec = this.defaultParams.minPxPerSec;
                  this.params.scrollParent = false;
                } else {
                  this.params.minPxPerSec = pxPerSec;
                  this.params.scrollParent = true;
                }
                this.drawBuffer();
                this.drawer.progress(this.backend.getPlayedPercents());
                this.drawer.recenter(this.getCurrentTime() / this.getDuration());
                this.fireEvent("zoom", pxPerSec);
              }
            }, {
              key: "loadArrayBuffer",
              value: function loadArrayBuffer(arraybuffer) {
                var _this9 = this;
                this.decodeArrayBuffer(arraybuffer, function(data) {
                  if (!_this9.isDestroyed) {
                    _this9.loadDecodedBuffer(data);
                  }
                });
              }
            }, {
              key: "loadDecodedBuffer",
              value: function loadDecodedBuffer(buffer) {
                this.backend.load(buffer);
                this.drawBuffer();
                this.isReady = true;
                this.fireEvent("ready");
              }
            }, {
              key: "loadBlob",
              value: function loadBlob(blob) {
                var _this10 = this;
                var reader = new FileReader();
                reader.addEventListener("progress", function(e2) {
                  return _this10.onProgress(e2);
                });
                reader.addEventListener("load", function(e2) {
                  return _this10.loadArrayBuffer(e2.target.result);
                });
                reader.addEventListener("error", function() {
                  return _this10.fireEvent("error", "Error reading file");
                });
                reader.readAsArrayBuffer(blob);
                this.empty();
              }
            }, {
              key: "load",
              value: function load2(url, peaks, preload2, duration) {
                if (!url) {
                  throw new Error("url parameter cannot be empty");
                }
                this.empty();
                if (preload2) {
                  var preloadIgnoreReasons = {
                    "Preload is not 'auto', 'none' or 'metadata'": ["auto", "metadata", "none"].indexOf(preload2) === -1,
                    "Peaks are not provided": !peaks,
                    "Backend is not of type 'MediaElement' or 'MediaElementWebAudio'": ["MediaElement", "MediaElementWebAudio"].indexOf(this.params.backend) === -1,
                    "Url is not of type string": typeof url !== "string"
                  };
                  var activeReasons = Object.keys(preloadIgnoreReasons).filter(function(reason) {
                    return preloadIgnoreReasons[reason];
                  });
                  if (activeReasons.length) {
                    console.warn("Preload parameter of wavesurfer.load will be ignored because:\n	- " + activeReasons.join("\n	- "));
                    preload2 = null;
                  }
                }
                if (this.params.backend === "WebAudio" && url instanceof HTMLMediaElement) {
                  url = url.src;
                }
                switch (this.params.backend) {
                  case "WebAudio":
                    return this.loadBuffer(url, peaks, duration);
                  case "MediaElement":
                  case "MediaElementWebAudio":
                    return this.loadMediaElement(url, peaks, preload2, duration);
                }
              }
            }, {
              key: "loadBuffer",
              value: function loadBuffer(url, peaks, duration) {
                var _this11 = this;
                var load2 = function load3(action) {
                  if (action) {
                    _this11.tmpEvents.push(_this11.once("ready", action));
                  }
                  return _this11.getArrayBuffer(url, function(data) {
                    return _this11.loadArrayBuffer(data);
                  });
                };
                if (peaks) {
                  this.backend.setPeaks(peaks, duration);
                  this.drawBuffer();
                  this.fireEvent("waveform-ready");
                  this.tmpEvents.push(this.once("interaction", load2));
                } else {
                  return load2();
                }
              }
            }, {
              key: "loadMediaElement",
              value: function loadMediaElement(urlOrElt, peaks, preload2, duration) {
                var _this12 = this;
                var url = urlOrElt;
                if (typeof urlOrElt === "string") {
                  this.backend.load(url, this.mediaContainer, peaks, preload2);
                } else {
                  var elt = urlOrElt;
                  this.backend.loadElt(elt, peaks);
                  url = elt.src;
                }
                this.tmpEvents.push(this.backend.once("canplay", function() {
                  if (!_this12.backend.destroyed) {
                    _this12.drawBuffer();
                    _this12.isReady = true;
                    _this12.fireEvent("ready");
                  }
                }), this.backend.once("error", function(err) {
                  return _this12.fireEvent("error", err);
                }));
                if (peaks) {
                  this.backend.setPeaks(peaks, duration);
                  this.drawBuffer();
                  this.fireEvent("waveform-ready");
                }
                if ((!peaks || this.params.forceDecode) && this.backend.supportsWebAudio()) {
                  this.getArrayBuffer(url, function(arraybuffer) {
                    _this12.decodeArrayBuffer(arraybuffer, function(buffer) {
                      _this12.backend.buffer = buffer;
                      _this12.backend.setPeaks(null);
                      _this12.drawBuffer();
                      _this12.fireEvent("waveform-ready");
                    });
                  });
                }
              }
            }, {
              key: "decodeArrayBuffer",
              value: function decodeArrayBuffer(arraybuffer, callback) {
                var _this13 = this;
                if (!this.isDestroyed) {
                  this.arraybuffer = arraybuffer;
                  this.backend.decodeArrayBuffer(arraybuffer, function(data) {
                    if (!_this13.isDestroyed && _this13.arraybuffer == arraybuffer) {
                      callback(data);
                      _this13.arraybuffer = null;
                    }
                  }, function() {
                    return _this13.fireEvent("error", "Error decoding audiobuffer");
                  });
                }
              }
            }, {
              key: "getArrayBuffer",
              value: function getArrayBuffer(url, callback) {
                var _this14 = this;
                var options = Object.assign({
                  url,
                  responseType: "arraybuffer"
                }, this.params.xhr);
                var request2 = util.fetchFile(options);
                this.currentRequest = request2;
                this.tmpEvents.push(request2.on("progress", function(e2) {
                  _this14.onProgress(e2);
                }), request2.on("success", function(data) {
                  callback(data);
                  _this14.currentRequest = null;
                }), request2.on("error", function(e2) {
                  _this14.fireEvent("error", e2);
                  _this14.currentRequest = null;
                }));
                return request2;
              }
            }, {
              key: "onProgress",
              value: function onProgress(e2) {
                var percentComplete;
                if (e2.lengthComputable) {
                  percentComplete = e2.loaded / e2.total;
                } else {
                  percentComplete = e2.loaded / (e2.loaded + 1e6);
                }
                this.fireEvent("loading", Math.round(percentComplete * 100), e2.target);
              }
            }, {
              key: "exportPCM",
              value: function exportPCM(length2, accuracy, noWindow, start, end2) {
                length2 = length2 || 1024;
                start = start || 0;
                accuracy = accuracy || 1e4;
                noWindow = noWindow || false;
                var peaks = this.backend.getPeaks(length2, start, end2);
                var arr = [].map.call(peaks, function(val) {
                  return Math.round(val * accuracy) / accuracy;
                });
                return new Promise(function(resolve2, reject2) {
                  if (!noWindow) {
                    var blobJSON = new Blob([JSON.stringify(arr)], {
                      type: "application/json;charset=utf-8"
                    });
                    var objURL = URL.createObjectURL(blobJSON);
                    window.open(objURL);
                    URL.revokeObjectURL(objURL);
                  }
                  resolve2(arr);
                });
              }
            }, {
              key: "exportImage",
              value: function exportImage(format, quality, type) {
                if (!format) {
                  format = "image/png";
                }
                if (!quality) {
                  quality = 1;
                }
                if (!type) {
                  type = "dataURL";
                }
                return this.drawer.getImage(format, quality, type);
              }
            }, {
              key: "cancelAjax",
              value: function cancelAjax() {
                if (this.currentRequest && this.currentRequest.controller) {
                  if (this.currentRequest._reader) {
                    this.currentRequest._reader.cancel().catch(function(err) {
                    });
                  }
                  this.currentRequest.controller.abort();
                  this.currentRequest = null;
                }
              }
            }, {
              key: "clearTmpEvents",
              value: function clearTmpEvents() {
                this.tmpEvents.forEach(function(e2) {
                  return e2.un();
                });
              }
            }, {
              key: "empty",
              value: function empty2() {
                if (!this.backend.isPaused()) {
                  this.stop();
                  this.backend.disconnectSource();
                }
                this.isReady = false;
                this.cancelAjax();
                this.clearTmpEvents();
                this.drawer.progress(0);
                this.drawer.setWidth(0);
                this.drawer.drawPeaks({
                  length: this.drawer.getWidth()
                }, 0);
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.destroyAllPlugins();
                this.fireEvent("destroy");
                this.cancelAjax();
                this.clearTmpEvents();
                this.unAll();
                if (this.params.responsive !== false) {
                  window.removeEventListener("resize", this._onResize, true);
                  window.removeEventListener("orientationchange", this._onResize, true);
                }
                if (this.backend) {
                  this.backend.destroy();
                  this.backend = null;
                }
                if (this.drawer) {
                  this.drawer.destroy();
                }
                this.isDestroyed = true;
                this.isReady = false;
                this.arraybuffer = null;
              }
            }], [{
              key: "create",
              value: function create2(params) {
                var wavesurfer2 = new WaveSurfer3(params);
                return wavesurfer2.init();
              }
            }]);
            return WaveSurfer3;
          }(util.Observer);
          exports3["default"] = WaveSurfer2;
          _defineProperty(WaveSurfer2, "VERSION", "6.2.0");
          _defineProperty(WaveSurfer2, "util", util);
          module3.exports = exports3.default;
        },
        "./src/webaudio.js": (module3, exports3, __webpack_require__3) => {
          function _typeof2(obj) {
            "@babel/helpers - typeof";
            return _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof2(obj);
          }
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          var util = _interopRequireWildcard(__webpack_require__3("./src/util/index.js"));
          function _getRequireWildcardCache(nodeInterop) {
            if (typeof WeakMap !== "function")
              return null;
            var cacheBabelInterop = /* @__PURE__ */ new WeakMap();
            var cacheNodeInterop = /* @__PURE__ */ new WeakMap();
            return (_getRequireWildcardCache = function _getRequireWildcardCache2(nodeInterop2) {
              return nodeInterop2 ? cacheNodeInterop : cacheBabelInterop;
            })(nodeInterop);
          }
          function _interopRequireWildcard(obj, nodeInterop) {
            if (!nodeInterop && obj && obj.__esModule) {
              return obj;
            }
            if (obj === null || _typeof2(obj) !== "object" && typeof obj !== "function") {
              return { default: obj };
            }
            var cache = _getRequireWildcardCache(nodeInterop);
            if (cache && cache.has(obj)) {
              return cache.get(obj);
            }
            var newObj = {};
            var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var key in obj) {
              if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
                var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
                if (desc && (desc.get || desc.set)) {
                  Object.defineProperty(newObj, key, desc);
                } else {
                  newObj[key] = obj[key];
                }
              }
            }
            newObj.default = obj;
            if (cache) {
              cache.set(obj, newObj);
            }
            return newObj;
          }
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            Object.defineProperty(subClass, "prototype", { writable: false });
            if (superClass)
              _setPrototypeOf(subClass, superClass);
          }
          function _setPrototypeOf(o, p2) {
            _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p3) {
              o2.__proto__ = p3;
              return o2;
            };
            return _setPrototypeOf(o, p2);
          }
          function _createSuper(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf(Derived), result2;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf(this).constructor;
                result2 = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result2 = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn(this, result2);
            };
          }
          function _possibleConstructorReturn(self2, call) {
            if (call && (_typeof2(call) === "object" || typeof call === "function")) {
              return call;
            } else if (call !== void 0) {
              throw new TypeError("Derived constructors may only return object or undefined");
            }
            return _assertThisInitialized(self2);
          }
          function _assertThisInitialized(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e2) {
              return false;
            }
          }
          function _getPrototypeOf(o) {
            _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
              return o2.__proto__ || Object.getPrototypeOf(o2);
            };
            return _getPrototypeOf(o);
          }
          function _defineProperty(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          var PLAYING = "playing";
          var PAUSED = "paused";
          var FINISHED = "finished";
          var WebAudio = /* @__PURE__ */ function(_util$Observer) {
            _inherits(WebAudio2, _util$Observer);
            var _super = _createSuper(WebAudio2);
            function WebAudio2(params) {
              var _defineProperty2, _this$states;
              var _this;
              _classCallCheck(this, WebAudio2);
              _this = _super.call(this);
              _defineProperty(_assertThisInitialized(_this), "audioContext", null);
              _defineProperty(_assertThisInitialized(_this), "offlineAudioContext", null);
              _defineProperty(_assertThisInitialized(_this), "stateBehaviors", (_defineProperty2 = {}, _defineProperty(_defineProperty2, PLAYING, {
                init: function init2() {
                  this.addOnAudioProcess();
                },
                getPlayedPercents: function getPlayedPercents() {
                  var duration = this.getDuration();
                  return this.getCurrentTime() / duration || 0;
                },
                getCurrentTime: function getCurrentTime2() {
                  return this.startPosition + this.getPlayedTime();
                }
              }), _defineProperty(_defineProperty2, PAUSED, {
                init: function init2() {
                  this.removeOnAudioProcess();
                },
                getPlayedPercents: function getPlayedPercents() {
                  var duration = this.getDuration();
                  return this.getCurrentTime() / duration || 0;
                },
                getCurrentTime: function getCurrentTime2() {
                  return this.startPosition;
                }
              }), _defineProperty(_defineProperty2, FINISHED, {
                init: function init2() {
                  this.removeOnAudioProcess();
                  this.fireEvent("finish");
                },
                getPlayedPercents: function getPlayedPercents() {
                  return 1;
                },
                getCurrentTime: function getCurrentTime2() {
                  return this.getDuration();
                }
              }), _defineProperty2));
              _this.params = params;
              _this.ac = params.audioContext || (_this.supportsWebAudio() ? _this.getAudioContext() : {});
              _this.lastPlay = _this.ac.currentTime;
              _this.startPosition = 0;
              _this.scheduledPause = null;
              _this.states = (_this$states = {}, _defineProperty(_this$states, PLAYING, Object.create(_this.stateBehaviors[PLAYING])), _defineProperty(_this$states, PAUSED, Object.create(_this.stateBehaviors[PAUSED])), _defineProperty(_this$states, FINISHED, Object.create(_this.stateBehaviors[FINISHED])), _this$states);
              _this.buffer = null;
              _this.filters = [];
              _this.gainNode = null;
              _this.mergedPeaks = null;
              _this.offlineAc = null;
              _this.peaks = null;
              _this.playbackRate = 1;
              _this.analyser = null;
              _this.scriptNode = null;
              _this.source = null;
              _this.splitPeaks = [];
              _this.state = null;
              _this.explicitDuration = params.duration;
              _this.sinkStreamDestination = null;
              _this.sinkAudioElement = null;
              _this.destroyed = false;
              return _this;
            }
            _createClass(WebAudio2, [{
              key: "supportsWebAudio",
              value: function supportsWebAudio() {
                return !!(window.AudioContext || window.webkitAudioContext);
              }
            }, {
              key: "getAudioContext",
              value: function getAudioContext() {
                if (!window.WaveSurferAudioContext) {
                  window.WaveSurferAudioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                return window.WaveSurferAudioContext;
              }
            }, {
              key: "getOfflineAudioContext",
              value: function getOfflineAudioContext(sampleRate) {
                if (!window.WaveSurferOfflineAudioContext) {
                  window.WaveSurferOfflineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, sampleRate);
                }
                return window.WaveSurferOfflineAudioContext;
              }
            }, {
              key: "init",
              value: function init2() {
                this.createVolumeNode();
                this.createScriptNode();
                this.createAnalyserNode();
                this.setState(PAUSED);
                this.setPlaybackRate(this.params.audioRate);
                this.setLength(0);
              }
            }, {
              key: "disconnectFilters",
              value: function disconnectFilters() {
                if (this.filters) {
                  this.filters.forEach(function(filter2) {
                    filter2 && filter2.disconnect();
                  });
                  this.filters = null;
                  this.analyser.connect(this.gainNode);
                }
              }
            }, {
              key: "setState",
              value: function setState(state) {
                if (this.state !== this.states[state]) {
                  this.state = this.states[state];
                  this.state.init.call(this);
                }
              }
            }, {
              key: "setFilter",
              value: function setFilter() {
                for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {
                  filters[_key] = arguments[_key];
                }
                this.setFilters(filters);
              }
            }, {
              key: "setFilters",
              value: function setFilters(filters) {
                this.disconnectFilters();
                if (filters && filters.length) {
                  this.filters = filters;
                  this.analyser.disconnect();
                  filters.reduce(function(prev, curr) {
                    prev.connect(curr);
                    return curr;
                  }, this.analyser).connect(this.gainNode);
                }
              }
            }, {
              key: "createScriptNode",
              value: function createScriptNode() {
                if (this.params.audioScriptProcessor) {
                  this.scriptNode = this.params.audioScriptProcessor;
                } else {
                  if (this.ac.createScriptProcessor) {
                    this.scriptNode = this.ac.createScriptProcessor(WebAudio2.scriptBufferSize);
                  } else {
                    this.scriptNode = this.ac.createJavaScriptNode(WebAudio2.scriptBufferSize);
                  }
                }
                this.scriptNode.connect(this.ac.destination);
              }
            }, {
              key: "addOnAudioProcess",
              value: function addOnAudioProcess() {
                var _this2 = this;
                this.scriptNode.onaudioprocess = function() {
                  var time = _this2.getCurrentTime();
                  if (time >= _this2.getDuration()) {
                    _this2.setState(FINISHED);
                    _this2.fireEvent("pause");
                  } else if (time >= _this2.scheduledPause) {
                    _this2.pause();
                  } else if (_this2.state === _this2.states[PLAYING]) {
                    _this2.fireEvent("audioprocess", time);
                  }
                };
              }
            }, {
              key: "removeOnAudioProcess",
              value: function removeOnAudioProcess() {
                this.scriptNode.onaudioprocess = null;
              }
            }, {
              key: "createAnalyserNode",
              value: function createAnalyserNode() {
                this.analyser = this.ac.createAnalyser();
                this.analyser.connect(this.gainNode);
              }
            }, {
              key: "createVolumeNode",
              value: function createVolumeNode() {
                if (this.ac.createGain) {
                  this.gainNode = this.ac.createGain();
                } else {
                  this.gainNode = this.ac.createGainNode();
                }
                this.gainNode.connect(this.ac.destination);
              }
            }, {
              key: "setSinkId",
              value: function setSinkId(deviceId) {
                if (deviceId) {
                  if (!this.sinkAudioElement) {
                    this.sinkAudioElement = new window.Audio();
                    this.sinkAudioElement.autoplay = true;
                  }
                  if (!this.sinkAudioElement.setSinkId) {
                    return Promise.reject(new Error("setSinkId is not supported in your browser"));
                  }
                  if (!this.sinkStreamDestination) {
                    this.sinkStreamDestination = this.ac.createMediaStreamDestination();
                  }
                  this.gainNode.disconnect();
                  this.gainNode.connect(this.sinkStreamDestination);
                  this.sinkAudioElement.srcObject = this.sinkStreamDestination.stream;
                  return this.sinkAudioElement.setSinkId(deviceId);
                } else {
                  return Promise.reject(new Error("Invalid deviceId: " + deviceId));
                }
              }
            }, {
              key: "setVolume",
              value: function setVolume(value2) {
                this.gainNode.gain.setValueAtTime(value2, this.ac.currentTime);
              }
            }, {
              key: "getVolume",
              value: function getVolume() {
                return this.gainNode.gain.value;
              }
            }, {
              key: "decodeArrayBuffer",
              value: function decodeArrayBuffer(arraybuffer, callback, errback) {
                if (!this.offlineAc) {
                  this.offlineAc = this.getOfflineAudioContext(this.ac && this.ac.sampleRate ? this.ac.sampleRate : 44100);
                }
                if ("webkitAudioContext" in window) {
                  this.offlineAc.decodeAudioData(arraybuffer, function(data) {
                    return callback(data);
                  }, errback);
                } else {
                  this.offlineAc.decodeAudioData(arraybuffer).then(function(data) {
                    return callback(data);
                  }).catch(function(err) {
                    return errback(err);
                  });
                }
              }
            }, {
              key: "setPeaks",
              value: function setPeaks(peaks, duration) {
                if (duration != null) {
                  this.explicitDuration = duration;
                }
                this.peaks = peaks;
              }
            }, {
              key: "setLength",
              value: function setLength(length2) {
                if (this.mergedPeaks && length2 == 2 * this.mergedPeaks.length - 1 + 2) {
                  return;
                }
                this.splitPeaks = [];
                this.mergedPeaks = [];
                var channels = this.buffer ? this.buffer.numberOfChannels : 1;
                var c2;
                for (c2 = 0; c2 < channels; c2++) {
                  this.splitPeaks[c2] = [];
                  this.splitPeaks[c2][2 * (length2 - 1)] = 0;
                  this.splitPeaks[c2][2 * (length2 - 1) + 1] = 0;
                }
                this.mergedPeaks[2 * (length2 - 1)] = 0;
                this.mergedPeaks[2 * (length2 - 1) + 1] = 0;
              }
            }, {
              key: "getPeaks",
              value: function getPeaks(length2, first, last) {
                if (this.peaks) {
                  return this.peaks;
                }
                if (!this.buffer) {
                  return [];
                }
                first = first || 0;
                last = last || length2 - 1;
                this.setLength(length2);
                if (!this.buffer) {
                  return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;
                }
                if (!this.buffer.length) {
                  var newBuffer = this.createBuffer(1, 4096, this.sampleRate);
                  this.buffer = newBuffer.buffer;
                }
                var sampleSize = this.buffer.length / length2;
                var sampleStep = ~~(sampleSize / 10) || 1;
                var channels = this.buffer.numberOfChannels;
                var c2;
                for (c2 = 0; c2 < channels; c2++) {
                  var peaks = this.splitPeaks[c2];
                  var chan = this.buffer.getChannelData(c2);
                  var i2 = void 0;
                  for (i2 = first; i2 <= last; i2++) {
                    var start = ~~(i2 * sampleSize);
                    var end2 = ~~(start + sampleSize);
                    var min2 = chan[start];
                    var max2 = min2;
                    var j = void 0;
                    for (j = start; j < end2; j += sampleStep) {
                      var value2 = chan[j];
                      if (value2 > max2) {
                        max2 = value2;
                      }
                      if (value2 < min2) {
                        min2 = value2;
                      }
                    }
                    peaks[2 * i2] = max2;
                    peaks[2 * i2 + 1] = min2;
                    if (c2 == 0 || max2 > this.mergedPeaks[2 * i2]) {
                      this.mergedPeaks[2 * i2] = max2;
                    }
                    if (c2 == 0 || min2 < this.mergedPeaks[2 * i2 + 1]) {
                      this.mergedPeaks[2 * i2 + 1] = min2;
                    }
                  }
                }
                return this.params.splitChannels ? this.splitPeaks : this.mergedPeaks;
              }
            }, {
              key: "getPlayedPercents",
              value: function getPlayedPercents() {
                return this.state.getPlayedPercents.call(this);
              }
            }, {
              key: "disconnectSource",
              value: function disconnectSource() {
                if (this.source) {
                  this.source.disconnect();
                }
              }
            }, {
              key: "destroyWebAudio",
              value: function destroyWebAudio() {
                this.disconnectFilters();
                this.disconnectSource();
                this.gainNode.disconnect();
                this.scriptNode.disconnect();
                this.analyser.disconnect();
                if (this.params.closeAudioContext) {
                  if (typeof this.ac.close === "function" && this.ac.state != "closed") {
                    this.ac.close();
                  }
                  this.ac = null;
                  if (!this.params.audioContext) {
                    window.WaveSurferAudioContext = null;
                  } else {
                    this.params.audioContext = null;
                  }
                  window.WaveSurferOfflineAudioContext = null;
                }
                if (this.sinkStreamDestination) {
                  this.sinkAudioElement.pause();
                  this.sinkAudioElement.srcObject = null;
                  this.sinkStreamDestination.disconnect();
                  this.sinkStreamDestination = null;
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                if (!this.isPaused()) {
                  this.pause();
                }
                this.unAll();
                this.buffer = null;
                this.destroyed = true;
                this.destroyWebAudio();
              }
            }, {
              key: "load",
              value: function load2(buffer) {
                this.startPosition = 0;
                this.lastPlay = this.ac.currentTime;
                this.buffer = buffer;
                this.createSource();
              }
            }, {
              key: "createSource",
              value: function createSource() {
                this.disconnectSource();
                this.source = this.ac.createBufferSource();
                this.source.start = this.source.start || this.source.noteGrainOn;
                this.source.stop = this.source.stop || this.source.noteOff;
                this.setPlaybackRate(this.playbackRate);
                this.source.buffer = this.buffer;
                this.source.connect(this.analyser);
              }
            }, {
              key: "resumeAudioContext",
              value: function resumeAudioContext() {
                if (this.ac.state == "suspended") {
                  this.ac.resume && this.ac.resume();
                }
              }
            }, {
              key: "isPaused",
              value: function isPaused() {
                return this.state !== this.states[PLAYING];
              }
            }, {
              key: "getDuration",
              value: function getDuration2() {
                if (this.explicitDuration) {
                  return this.explicitDuration;
                }
                if (!this.buffer) {
                  return 0;
                }
                return this.buffer.duration;
              }
            }, {
              key: "seekTo",
              value: function seekTo(start, end2) {
                if (!this.buffer) {
                  return;
                }
                this.scheduledPause = null;
                if (start == null) {
                  start = this.getCurrentTime();
                  if (start >= this.getDuration()) {
                    start = 0;
                  }
                }
                if (end2 == null) {
                  end2 = this.getDuration();
                }
                this.startPosition = start;
                this.lastPlay = this.ac.currentTime;
                if (this.state === this.states[FINISHED]) {
                  this.setState(PAUSED);
                }
                return {
                  start,
                  end: end2
                };
              }
            }, {
              key: "getPlayedTime",
              value: function getPlayedTime() {
                return (this.ac.currentTime - this.lastPlay) * this.playbackRate;
              }
            }, {
              key: "play",
              value: function play(start, end2) {
                if (!this.buffer) {
                  return;
                }
                this.createSource();
                var adjustedTime = this.seekTo(start, end2);
                start = adjustedTime.start;
                end2 = adjustedTime.end;
                this.scheduledPause = end2;
                this.source.start(0, start);
                this.resumeAudioContext();
                this.setState(PLAYING);
                this.fireEvent("play");
              }
            }, {
              key: "pause",
              value: function pause() {
                this.scheduledPause = null;
                this.startPosition += this.getPlayedTime();
                try {
                  this.source && this.source.stop(0);
                } catch (err) {
                }
                this.setState(PAUSED);
                this.fireEvent("pause");
              }
            }, {
              key: "getCurrentTime",
              value: function getCurrentTime2() {
                return this.state.getCurrentTime.call(this);
              }
            }, {
              key: "getPlaybackRate",
              value: function getPlaybackRate() {
                return this.playbackRate;
              }
            }, {
              key: "setPlaybackRate",
              value: function setPlaybackRate(value2) {
                this.playbackRate = value2 || 1;
                this.source && this.source.playbackRate.setValueAtTime(this.playbackRate, this.ac.currentTime);
              }
            }, {
              key: "setPlayEnd",
              value: function setPlayEnd(end2) {
                this.scheduledPause = end2;
              }
            }]);
            return WebAudio2;
          }(util.Observer);
          exports3["default"] = WebAudio;
          _defineProperty(WebAudio, "scriptBufferSize", 256);
          module3.exports = exports3.default;
        },
        "./node_modules/debounce/index.js": (module3) => {
          function debounce(func, wait, immediate) {
            var timeout, args, context, timestamp, result2;
            if (null == wait)
              wait = 100;
            function later() {
              var last = Date.now() - timestamp;
              if (last < wait && last >= 0) {
                timeout = setTimeout(later, wait - last);
              } else {
                timeout = null;
                if (!immediate) {
                  result2 = func.apply(context, args);
                  context = args = null;
                }
              }
            }
            var debounced = function() {
              context = this;
              args = arguments;
              timestamp = Date.now();
              var callNow = immediate && !timeout;
              if (!timeout)
                timeout = setTimeout(later, wait);
              if (callNow) {
                result2 = func.apply(context, args);
                context = args = null;
              }
              return result2;
            };
            debounced.clear = function() {
              if (timeout) {
                clearTimeout(timeout);
                timeout = null;
              }
            };
            debounced.flush = function() {
              if (timeout) {
                result2 = func.apply(context, args);
                context = args = null;
                clearTimeout(timeout);
                timeout = null;
              }
            };
            return debounced;
          }
          debounce.debounce = debounce;
          module3.exports = debounce;
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__2(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module3 = __webpack_module_cache__[moduleId] = {
          exports: {}
        };
        __webpack_modules__[moduleId](module3, module3.exports, __webpack_require__2);
        return module3.exports;
      }
      var __webpack_exports__ = __webpack_require__2("./src/wavesurfer.js");
      return __webpack_exports__;
    })();
  });
})(wavesurfer);
const WaveSurfer = /* @__PURE__ */ getDefaultExportFromCjs(wavesurfer.exports);
var wavesurfer_playhead = { exports: {} };
/*!
 * wavesurfer.js playhead plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
(function(module2, exports2) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module2.exports = factory();
  })(self, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/plugin/playhead/index.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var DEFAULT_FILL_COLOR = "#CF2F00";
          var PlayheadPlugin2 = /* @__PURE__ */ function() {
            function PlayheadPlugin3(params, ws) {
              var _this = this;
              _classCallCheck(this, PlayheadPlugin3);
              this.params = params;
              this.options = {};
              ["draw", "moveOnSeek", "returnOnPause"].forEach(function(opt) {
                if (opt in params) {
                  _this.options[opt] = params[opt];
                } else {
                  _this.options[opt] = true;
                }
              });
              this.wavesurfer = ws;
              this.util = ws.util;
              this.style = this.util.style;
              this.markerWidth = 21;
              this.markerHeight = 16;
              this.playheadTime = 0;
              this.unFuns = [];
              this._onResize = function() {
                _this._updatePlayheadPosition();
              };
              this._onReady = function() {
                _this.wrapper = _this.wavesurfer.drawer.wrapper;
                _this._updatePlayheadPosition();
              };
            }
            _createClass(PlayheadPlugin3, [{
              key: "_onBackendCreated",
              value: function _onBackendCreated() {
                var _this2 = this;
                this.wrapper = this.wavesurfer.drawer.wrapper;
                if (this.options.draw) {
                  this._createPlayheadElement();
                  window.addEventListener("resize", this._onResize, true);
                  window.addEventListener("orientationchange", this._onResize, true);
                  this.wavesurferOn("zoom", this._onResize);
                }
                this.wavesurferOn("pause", function() {
                  if (_this2.options.returnOnPause) {
                    _this2.wavesurfer.setCurrentTime(_this2.playheadTime);
                  }
                });
                this.wavesurferOn("seek", function() {
                  if (_this2.options.moveOnSeek) {
                    _this2.playheadTime = _this2.wavesurfer.getCurrentTime();
                    _this2._updatePlayheadPosition();
                  }
                });
                this.playheadTime = this.wavesurfer.getCurrentTime();
              }
            }, {
              key: "wavesurferOn",
              value: function wavesurferOn(ev, fn) {
                var _this3 = this;
                var ret = this.wavesurfer.on(ev, fn);
                this.unFuns.push(function() {
                  _this3.wavesurfer.un(ev, fn);
                });
                return ret;
              }
            }, {
              key: "init",
              value: function init2() {
                var _this4 = this;
                if (this.wavesurfer.isReady) {
                  this._onBackendCreated();
                  this._onReady();
                } else {
                  this.wavesurfer.once("ready", function() {
                    return _this4._onReady();
                  });
                  this.wavesurfer.once("backend-created", function() {
                    return _this4._onBackendCreated();
                  });
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.unFuns.forEach(function(f) {
                  return f();
                });
                this.unFuns = [];
                this.wrapper.removeChild(this.element);
                window.removeEventListener("resize", this._onResize, true);
                window.removeEventListener("orientationchange", this._onResize, true);
              }
            }, {
              key: "setPlayheadTime",
              value: function setPlayheadTime(time) {
                this.playheadTime = time;
                if (!this.wavesurfer.isPlaying()) {
                  this.wavesurfer.setCurrentTime(time);
                }
                this._updatePlayheadPosition();
              }
            }, {
              key: "_createPointerSVG",
              value: function _createPointerSVG() {
                var svgNS = "http://www.w3.org/2000/svg";
                var el = document.createElementNS(svgNS, "svg");
                var path2 = document.createElementNS(svgNS, "path");
                el.setAttribute("viewBox", "0 0 33 30");
                path2.setAttribute("d", "M16.75 31 31.705 5.566A3 3 0 0 0 29.146 1H4.354a3 3 0 0 0-2.56 4.566L16.75 31z");
                path2.setAttribute("stroke", "#979797");
                path2.setAttribute("fill", DEFAULT_FILL_COLOR);
                el.appendChild(path2);
                this.style(el, {
                  width: this.markerWidth + "px",
                  height: this.markerHeight + "px",
                  cursor: "pointer",
                  "z-index": 5
                });
                return el;
              }
            }, {
              key: "_createPlayheadElement",
              value: function _createPlayheadElement() {
                var _this5 = this;
                var el = document.createElement("playhead");
                el.className = "wavesurfer-playhead";
                this.style(el, {
                  position: "absolute",
                  height: "100%",
                  display: "flex",
                  "flex-direction": "column"
                });
                var pointer = this._createPointerSVG();
                el.appendChild(pointer);
                pointer.addEventListener("click", function(e2) {
                  e2.stopPropagation();
                  _this5.wavesurfer.setCurrentTime(_this5.playheadTime);
                });
                var line = document.createElement("div");
                this.style(line, {
                  "flex-grow": 1,
                  "margin-left": this.markerWidth / 2 - 0.5 + "px",
                  background: "black",
                  width: "1px",
                  opacity: 0.1
                });
                el.appendChild(line);
                this.element = el;
                this.wrapper.appendChild(el);
              }
            }, {
              key: "_updatePlayheadPosition",
              value: function _updatePlayheadPosition() {
                if (!this.element) {
                  return;
                }
                var duration = this.wavesurfer.getDuration();
                var elementWidth = this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;
                var positionPct = this.playheadTime / duration;
                this.style(this.element, {
                  left: elementWidth * positionPct - this.markerWidth / 2 + "px"
                });
              }
            }], [{
              key: "create",
              value: function create2(params) {
                return {
                  name: "playhead",
                  deferInit: params && params.deferInit ? params.deferInit : false,
                  params,
                  instance: PlayheadPlugin3
                };
              }
            }]);
            return PlayheadPlugin3;
          }();
          exports3["default"] = PlayheadPlugin2;
          module3.exports = exports3.default;
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__2(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module3 = __webpack_module_cache__[moduleId] = {
          exports: {}
        };
        __webpack_modules__[moduleId](module3, module3.exports, __webpack_require__2);
        return module3.exports;
      }
      var __webpack_exports__ = __webpack_require__2("./src/plugin/playhead/index.js");
      return __webpack_exports__;
    })();
  });
})(wavesurfer_playhead);
const PlayheadPlugin = /* @__PURE__ */ getDefaultExportFromCjs(wavesurfer_playhead.exports);
var wavesurfer_markers = { exports: {} };
/*!
 * wavesurfer.js markers plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
(function(module2, exports2) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module2.exports = factory();
  })(self, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/plugin/markers/index.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          var DEFAULT_FILL_COLOR = "#D8D8D8";
          var DEFAULT_POSITION = "bottom";
          var MarkersPlugin2 = /* @__PURE__ */ function() {
            function MarkersPlugin3(params, ws) {
              var _this = this;
              _classCallCheck(this, MarkersPlugin3);
              this.params = params;
              this.wavesurfer = ws;
              this.util = ws.util;
              this.style = this.util.style;
              this.markerLineWidth = 1;
              this.markerWidth = 11;
              this.markerHeight = 22;
              this.dragging = false;
              this._onResize = function() {
                _this._updateMarkerPositions();
              };
              this._onBackendCreated = function() {
                _this.wrapper = _this.wavesurfer.drawer.wrapper;
                if (_this.params.markers) {
                  _this.params.markers.forEach(function(marker) {
                    return _this.add(marker);
                  });
                }
                window.addEventListener("resize", _this._onResize, true);
                window.addEventListener("orientationchange", _this._onResize, true);
                _this.wavesurfer.on("zoom", _this._onResize);
                if (!_this.markers.find(function(marker) {
                  return marker.draggable;
                })) {
                  return;
                }
                _this.onMouseMove = function(e2) {
                  return _this._onMouseMove(e2);
                };
                window.addEventListener("mousemove", _this.onMouseMove);
                _this.onMouseUp = function(e2) {
                  return _this._onMouseUp(e2);
                };
                window.addEventListener("mouseup", _this.onMouseUp);
              };
              this.markers = [];
              this._onReady = function() {
                _this.wrapper = _this.wavesurfer.drawer.wrapper;
                _this._updateMarkerPositions();
              };
            }
            _createClass(MarkersPlugin3, [{
              key: "init",
              value: function init2() {
                if (this.wavesurfer.isReady) {
                  this._onBackendCreated();
                  this._onReady();
                } else {
                  this.wavesurfer.once("ready", this._onReady);
                  this.wavesurfer.once("backend-created", this._onBackendCreated);
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.wavesurfer.un("ready", this._onReady);
                this.wavesurfer.un("backend-created", this._onBackendCreated);
                this.wavesurfer.un("zoom", this._onResize);
                window.removeEventListener("resize", this._onResize, true);
                window.removeEventListener("orientationchange", this._onResize, true);
                if (this.onMouseMove) {
                  window.removeEventListener("mousemove", this.onMouseMove);
                }
                if (this.onMouseUp) {
                  window.removeEventListener("mouseup", this.onMouseUp);
                }
                this.clear();
              }
            }, {
              key: "add",
              value: function add(params) {
                var marker = {
                  time: params.time,
                  label: params.label,
                  color: params.color || DEFAULT_FILL_COLOR,
                  position: params.position || DEFAULT_POSITION,
                  draggable: !!params.draggable
                };
                marker.el = this._createMarkerElement(marker, params.markerElement);
                this.wrapper.appendChild(marker.el);
                this.markers.push(marker);
                this._updateMarkerPositions();
                return marker;
              }
            }, {
              key: "remove",
              value: function remove(index2) {
                var marker = this.markers[index2];
                if (!marker) {
                  return;
                }
                this.wrapper.removeChild(marker.el);
                this.markers.splice(index2, 1);
              }
            }, {
              key: "_createPointerSVG",
              value: function _createPointerSVG(color2, position) {
                var svgNS = "http://www.w3.org/2000/svg";
                var el = document.createElementNS(svgNS, "svg");
                var polygon = document.createElementNS(svgNS, "polygon");
                el.setAttribute("viewBox", "0 0 40 80");
                polygon.setAttribute("id", "polygon");
                polygon.setAttribute("stroke", "#979797");
                polygon.setAttribute("fill", color2);
                polygon.setAttribute("points", "20 0 40 30 40 80 0 80 0 30");
                if (position == "top") {
                  polygon.setAttribute("transform", "rotate(180, 20 40)");
                }
                el.appendChild(polygon);
                this.style(el, {
                  width: this.markerWidth + "px",
                  height: this.markerHeight + "px",
                  "min-width": this.markerWidth + "px",
                  "margin-right": "5px",
                  "z-index": 4
                });
                return el;
              }
            }, {
              key: "_createMarkerElement",
              value: function _createMarkerElement(marker, markerElement) {
                var _this2 = this;
                var label = marker.label;
                var el = document.createElement("marker");
                el.className = "wavesurfer-marker";
                this.style(el, {
                  position: "absolute",
                  height: "100%",
                  display: "flex",
                  overflow: "hidden",
                  "flex-direction": marker.position == "top" ? "column-reverse" : "column"
                });
                var line = document.createElement("div");
                var width = markerElement ? markerElement.width : this.markerWidth;
                marker.offset = (width - this.markerLineWidth) / 2;
                this.style(line, {
                  "flex-grow": 1,
                  "margin-left": marker.offset + "px",
                  background: "black",
                  width: this.markerLineWidth + "px",
                  opacity: 0.1
                });
                el.appendChild(line);
                var labelDiv = document.createElement("div");
                var point = markerElement || this._createPointerSVG(marker.color, marker.position);
                if (marker.draggable) {
                  point.draggable = false;
                }
                labelDiv.appendChild(point);
                if (label) {
                  var labelEl = document.createElement("span");
                  labelEl.innerText = label;
                  this.style(labelEl, {
                    "font-family": "monospace",
                    "font-size": "90%"
                  });
                  labelDiv.appendChild(labelEl);
                }
                this.style(labelDiv, {
                  display: "flex",
                  "align-items": "center",
                  cursor: "pointer"
                });
                el.appendChild(labelDiv);
                labelDiv.addEventListener("click", function(e2) {
                  e2.stopPropagation();
                  if (_this2.dragging) {
                    return;
                  }
                  _this2.wavesurfer.setCurrentTime(marker.time);
                  _this2.wavesurfer.fireEvent("marker-click", marker, e2);
                });
                if (marker.draggable) {
                  labelDiv.addEventListener("mousedown", function(e2) {
                    _this2.selectedMarker = marker;
                  });
                }
                return el;
              }
            }, {
              key: "_updateMarkerPositions",
              value: function _updateMarkerPositions() {
                for (var i2 = 0; i2 < this.markers.length; i2++) {
                  var marker = this.markers[i2];
                  this._updateMarkerPosition(marker);
                }
              }
            }, {
              key: "_updateMarkerPosition",
              value: function _updateMarkerPosition(params) {
                var duration = this.wavesurfer.getDuration();
                var elementWidth = this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;
                var positionPct = Math.min(params.time / duration, 1);
                var leftPx = elementWidth * positionPct - params.offset;
                this.style(params.el, {
                  "left": leftPx + "px",
                  "max-width": elementWidth - leftPx + "px"
                });
              }
            }, {
              key: "_onMouseMove",
              value: function _onMouseMove(event) {
                if (!this.selectedMarker) {
                  return;
                }
                if (!this.dragging) {
                  this.dragging = true;
                  this.wavesurfer.fireEvent("marker-drag", this.selectedMarker, event);
                }
                this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * this.wavesurfer.getDuration();
                this._updateMarkerPositions();
              }
            }, {
              key: "_onMouseUp",
              value: function _onMouseUp(event) {
                var _this3 = this;
                if (this.selectedMarker) {
                  setTimeout(function() {
                    _this3.selectedMarker = false;
                    _this3.dragging = false;
                  }, 0);
                }
                if (!this.dragging) {
                  return;
                }
                event.stopPropagation();
                var duration = this.wavesurfer.getDuration();
                this.selectedMarker.time = this.wavesurfer.drawer.handleEvent(event) * duration;
                this._updateMarkerPositions();
                this.wavesurfer.fireEvent("marker-drop", this.selectedMarker, event);
              }
            }, {
              key: "clear",
              value: function clear() {
                while (this.markers.length > 0) {
                  this.remove(0);
                }
              }
            }], [{
              key: "create",
              value: function create2(params) {
                return {
                  name: "markers",
                  deferInit: params && params.deferInit ? params.deferInit : false,
                  params,
                  staticProps: {
                    addMarker: function addMarker2(options) {
                      if (!this.initialisedPluginList.markers) {
                        this.initPlugin("markers");
                      }
                      return this.markers.add(options);
                    },
                    clearMarkers: function clearMarkers() {
                      this.markers && this.markers.clear();
                    }
                  },
                  instance: MarkersPlugin3
                };
              }
            }]);
            return MarkersPlugin3;
          }();
          exports3["default"] = MarkersPlugin2;
          module3.exports = exports3.default;
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__2(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module3 = __webpack_module_cache__[moduleId] = {
          exports: {}
        };
        __webpack_modules__[moduleId](module3, module3.exports, __webpack_require__2);
        return module3.exports;
      }
      var __webpack_exports__ = __webpack_require__2("./src/plugin/markers/index.js");
      return __webpack_exports__;
    })();
  });
})(wavesurfer_markers);
const MarkersPlugin = /* @__PURE__ */ getDefaultExportFromCjs(wavesurfer_markers.exports);
var wavesurfer_cursor = { exports: {} };
/*!
 * wavesurfer.js cursor plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
(function(module2, exports2) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module2.exports = factory();
  })(self, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/plugin/cursor/index.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _defineProperty(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          var CursorPlugin2 = /* @__PURE__ */ function() {
            function CursorPlugin3(params, ws) {
              var _this = this;
              _classCallCheck(this, CursorPlugin3);
              _defineProperty(this, "defaultParams", {
                hideOnBlur: true,
                width: "1px",
                color: "black",
                opacity: "0.25",
                style: "solid",
                zIndex: 4,
                customStyle: {},
                customShowTimeStyle: {},
                showTime: false,
                followCursorY: false,
                formatTimeCallback: null
              });
              _defineProperty(this, "_onMousemove", function(e2) {
                var event = _this.util.withOrientation(e2, _this.wavesurfer.params.vertical);
                var bbox = _this.wrapper.getBoundingClientRect();
                var y = 0;
                var x = _this.wrapper.scrollLeft + event.clientX - bbox.left;
                var displayTimeWidth = _this.displayTime ? _this.displayTime.getBoundingClientRect().width : 0;
                var flip = bbox.right < event.clientX + displayTimeWidth;
                if (_this.params.showTime && _this.params.followCursorY) {
                  y = event.clientY - (bbox.top + bbox.height / 2);
                }
                _this.updateCursorPosition(x, y, flip);
              });
              _defineProperty(this, "_onMouseenter", function() {
                return _this.showCursor();
              });
              _defineProperty(this, "_onMouseleave", function() {
                return _this.hideCursor();
              });
              this.wavesurfer = ws;
              this.style = ws.util.style;
              this.util = ws.util;
              this.cursor = null;
              this.showTime = null;
              this.displayTime = null;
              this.params = Object.assign({}, this.defaultParams, params);
            }
            _createClass(CursorPlugin3, [{
              key: "_onReady",
              value: function _onReady() {
                this.wrapper = this.wavesurfer.drawer.wrapper;
                this.cursor = this.util.withOrientation(this.wrapper.appendChild(document.createElement("cursor")), this.wavesurfer.params.vertical);
                this.style(this.cursor, Object.assign({
                  position: "absolute",
                  zIndex: this.params.zIndex,
                  left: 0,
                  top: 0,
                  bottom: 0,
                  width: "0",
                  display: "flex",
                  borderRightStyle: this.params.style,
                  borderRightWidth: this.params.width,
                  borderRightColor: this.params.color,
                  opacity: this.params.opacity,
                  pointerEvents: "none"
                }, this.params.customStyle));
                if (this.params.showTime) {
                  this.showTime = this.util.withOrientation(this.wrapper.appendChild(document.createElement("showTitle")), this.wavesurfer.params.vertical);
                  this.style(this.showTime, Object.assign({
                    position: "absolute",
                    zIndex: this.params.zIndex,
                    left: 0,
                    top: 0,
                    bottom: 0,
                    width: "auto",
                    display: "flex",
                    opacity: this.params.opacity,
                    pointerEvents: "none",
                    height: "100%"
                  }, this.params.customStyle));
                  this.displayTime = this.util.withOrientation(this.showTime.appendChild(document.createElement("div")), this.wavesurfer.params.vertical);
                  this.style(this.displayTime, Object.assign({
                    display: "inline",
                    pointerEvents: "none",
                    margin: "auto",
                    visibility: "hidden"
                  }, this.params.customShowTimeStyle));
                  this.displayTime.innerHTML = this.formatTime(0);
                }
                this.wrapper.addEventListener("mousemove", this._onMousemove);
                if (this.params.hideOnBlur) {
                  this.hideCursor();
                  this.wrapper.addEventListener("mouseenter", this._onMouseenter);
                  this.wrapper.addEventListener("mouseleave", this._onMouseleave);
                }
              }
            }, {
              key: "init",
              value: function init2() {
                var _this2 = this;
                if (this.wavesurfer.isReady) {
                  this._onReady();
                } else {
                  this.wavesurfer.once("ready", function() {
                    return _this2._onReady();
                  });
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                if (this.params.showTime) {
                  this.showTime.remove();
                }
                this.cursor.remove();
                this.wrapper.removeEventListener("mousemove", this._onMousemove);
                if (this.params.hideOnBlur) {
                  this.wrapper.removeEventListener("mouseenter", this._onMouseenter);
                  this.wrapper.removeEventListener("mouseleave", this._onMouseleave);
                }
              }
            }, {
              key: "updateCursorPosition",
              value: function updateCursorPosition(xpos, ypos) {
                var flip = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
                this.style(this.cursor, {
                  left: "".concat(xpos, "px")
                });
                if (this.params.showTime) {
                  var duration = this.wavesurfer.getDuration();
                  var elementWidth = this.wavesurfer.drawer.width / this.wavesurfer.params.pixelRatio;
                  var scrollWidth = this.wavesurfer.drawer.getScrollX();
                  var scrollTime = duration / this.wavesurfer.drawer.width * scrollWidth;
                  var timeValue = Math.max(0, (xpos - this.wrapper.scrollLeft) / elementWidth * duration) + scrollTime;
                  var formatValue = this.formatTime(timeValue);
                  if (flip) {
                    var textOffset = this.displayTime.getBoundingClientRect().width;
                    xpos -= textOffset;
                  }
                  this.style(this.showTime, {
                    left: "".concat(xpos, "px"),
                    top: "".concat(ypos, "px")
                  });
                  this.style(this.displayTime, {
                    visibility: "visible"
                  });
                  this.displayTime.innerHTML = "".concat(formatValue);
                }
              }
            }, {
              key: "showCursor",
              value: function showCursor() {
                this.style(this.cursor, {
                  display: "flex"
                });
                if (this.params.showTime) {
                  this.style(this.showTime, {
                    display: "flex"
                  });
                }
              }
            }, {
              key: "hideCursor",
              value: function hideCursor() {
                this.style(this.cursor, {
                  display: "none"
                });
                if (this.params.showTime) {
                  this.style(this.showTime, {
                    display: "none"
                  });
                }
              }
            }, {
              key: "formatTime",
              value: function formatTime(cursorTime) {
                cursorTime = isNaN(cursorTime) ? 0 : cursorTime;
                if (this.params.formatTimeCallback) {
                  return this.params.formatTimeCallback(cursorTime);
                }
                return [cursorTime].map(function(time) {
                  return [
                    Math.floor(time % 3600 / 60),
                    ("00" + Math.floor(time % 60)).slice(-2),
                    ("000" + Math.floor(time % 1 * 1e3)).slice(-3)
                  ].join(":");
                });
              }
            }], [{
              key: "create",
              value: function create2(params) {
                return {
                  name: "cursor",
                  deferInit: params && params.deferInit ? params.deferInit : false,
                  params,
                  staticProps: {},
                  instance: CursorPlugin3
                };
              }
            }]);
            return CursorPlugin3;
          }();
          exports3["default"] = CursorPlugin2;
          module3.exports = exports3.default;
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__2(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module3 = __webpack_module_cache__[moduleId] = {
          exports: {}
        };
        __webpack_modules__[moduleId](module3, module3.exports, __webpack_require__2);
        return module3.exports;
      }
      var __webpack_exports__ = __webpack_require__2("./src/plugin/cursor/index.js");
      return __webpack_exports__;
    })();
  });
})(wavesurfer_cursor);
const CursorPlugin = /* @__PURE__ */ getDefaultExportFromCjs(wavesurfer_cursor.exports);
var wavesurfer_timeline = { exports: {} };
/*!
 * wavesurfer.js timeline plugin 6.2.0 (2022-05-16)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
(function(module2, exports2) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module2.exports = factory();
  })(self, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/plugin/timeline/index.js": (module3, exports3) => {
          Object.defineProperty(exports3, "__esModule", {
            value: true
          });
          exports3["default"] = void 0;
          function _classCallCheck(instance, Constructor2) {
            if (!(instance instanceof Constructor2)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i2 = 0; i2 < props.length; i2++) {
              var descriptor = props[i2];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor2, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor2.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor2, staticProps);
            Object.defineProperty(Constructor2, "prototype", { writable: false });
            return Constructor2;
          }
          function _defineProperty(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          var TimelinePlugin2 = /* @__PURE__ */ function() {
            function TimelinePlugin3(params, _ws) {
              var _this = this;
              _classCallCheck(this, TimelinePlugin3);
              _defineProperty(this, "_onScroll", function() {
                if (_this.wrapper && _this.drawer.wrapper) {
                  _this.wrapper.scrollLeft = _this.drawer.wrapper.scrollLeft;
                }
              });
              _defineProperty(this, "_onRedraw", function() {
                return _this.render();
              });
              _defineProperty(this, "_onReady", function() {
                var ws = _this.wavesurfer;
                _this.drawer = ws.drawer;
                _this.pixelRatio = ws.drawer.params.pixelRatio;
                _this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;
                _this.maxCanvasElementWidth = ws.drawer.maxCanvasElementWidth || Math.round(_this.maxCanvasWidth / _this.pixelRatio);
                ws.drawer.wrapper.addEventListener("scroll", _this._onScroll);
                ws.on("redraw", _this._onRedraw);
                ws.on("zoom", _this._onZoom);
                _this.render();
              });
              _defineProperty(this, "_onWrapperClick", function(e2) {
                e2.preventDefault();
                var relX = "offsetX" in e2 ? e2.offsetX : e2.layerX;
                _this.fireEvent("click", relX / _this.wrapper.scrollWidth || 0);
              });
              this.container = "string" == typeof params.container ? document.querySelector(params.container) : params.container;
              if (!this.container) {
                throw new Error("No container for wavesurfer timeline");
              }
              this.wavesurfer = _ws;
              this.util = _ws.util;
              this.params = Object.assign({}, {
                height: 20,
                notchPercentHeight: 90,
                labelPadding: 5,
                unlabeledNotchColor: "#c0c0c0",
                primaryColor: "#000",
                secondaryColor: "#c0c0c0",
                primaryFontColor: "#000",
                secondaryFontColor: "#000",
                fontFamily: "Arial",
                fontSize: 10,
                duration: null,
                zoomDebounce: false,
                formatTimeCallback: this.defaultFormatTimeCallback,
                timeInterval: this.defaultTimeInterval,
                primaryLabelInterval: this.defaultPrimaryLabelInterval,
                secondaryLabelInterval: this.defaultSecondaryLabelInterval,
                offset: 0
              }, params);
              this.canvases = [];
              this.wrapper = null;
              this.drawer = null;
              this.pixelRatio = null;
              this.maxCanvasWidth = null;
              this.maxCanvasElementWidth = null;
              this._onZoom = this.params.zoomDebounce ? this.wavesurfer.util.debounce(function() {
                return _this.render();
              }, this.params.zoomDebounce) : function() {
                return _this.render();
              };
            }
            _createClass(TimelinePlugin3, [{
              key: "init",
              value: function init2() {
                if (this.wavesurfer.isReady) {
                  this._onReady();
                } else {
                  this.wavesurfer.once("ready", this._onReady);
                }
              }
            }, {
              key: "destroy",
              value: function destroy() {
                this.unAll();
                this.wavesurfer.un("redraw", this._onRedraw);
                this.wavesurfer.un("zoom", this._onZoom);
                this.wavesurfer.un("ready", this._onReady);
                this.wavesurfer.drawer.wrapper.removeEventListener("scroll", this._onScroll);
                if (this.wrapper && this.wrapper.parentNode) {
                  this.wrapper.removeEventListener("click", this._onWrapperClick);
                  this.wrapper.parentNode.removeChild(this.wrapper);
                  this.wrapper = null;
                }
              }
            }, {
              key: "createWrapper",
              value: function createWrapper() {
                var wsParams = this.wavesurfer.params;
                this.container.innerHTML = "";
                this.wrapper = this.container.appendChild(document.createElement("timeline"));
                this.util.style(this.wrapper, {
                  display: "block",
                  position: "relative",
                  userSelect: "none",
                  webkitUserSelect: "none",
                  height: "".concat(this.params.height, "px")
                });
                if (wsParams.fillParent || wsParams.scrollParent) {
                  this.util.style(this.wrapper, {
                    width: "100%",
                    overflowX: "hidden",
                    overflowY: "hidden"
                  });
                }
                this.wrapper.addEventListener("click", this._onWrapperClick);
              }
            }, {
              key: "render",
              value: function render2() {
                if (!this.wrapper) {
                  this.createWrapper();
                }
                this.updateCanvases();
                this.updateCanvasesPositioning();
                this.renderCanvases();
              }
            }, {
              key: "addCanvas",
              value: function addCanvas() {
                var canvas = this.wrapper.appendChild(document.createElement("canvas"));
                this.canvases.push(canvas);
                this.util.style(canvas, {
                  position: "absolute",
                  zIndex: 4
                });
              }
            }, {
              key: "removeCanvas",
              value: function removeCanvas() {
                var canvas = this.canvases.pop();
                canvas.parentElement.removeChild(canvas);
              }
            }, {
              key: "updateCanvases",
              value: function updateCanvases() {
                var totalWidth = Math.round(this.drawer.wrapper.scrollWidth);
                var requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);
                while (this.canvases.length < requiredCanvases) {
                  this.addCanvas();
                }
                while (this.canvases.length > requiredCanvases) {
                  this.removeCanvas();
                }
              }
            }, {
              key: "updateCanvasesPositioning",
              value: function updateCanvasesPositioning() {
                var _this2 = this;
                var canvasesLength = this.canvases.length;
                this.canvases.forEach(function(canvas, i2) {
                  var canvasWidth = i2 === canvasesLength - 1 ? _this2.drawer.wrapper.scrollWidth - _this2.maxCanvasElementWidth * (canvasesLength - 1) : _this2.maxCanvasElementWidth;
                  canvas.width = canvasWidth * _this2.pixelRatio;
                  canvas.height = (_this2.params.height + 1) * _this2.pixelRatio;
                  _this2.util.style(canvas, {
                    width: "".concat(canvasWidth, "px"),
                    height: "".concat(_this2.params.height, "px"),
                    left: "".concat(i2 * _this2.maxCanvasElementWidth, "px")
                  });
                });
              }
            }, {
              key: "renderCanvases",
              value: function renderCanvases() {
                var _this3 = this;
                var duration = this.params.duration || this.wavesurfer.backend.getDuration();
                if (duration <= 0) {
                  return;
                }
                var wsParams = this.wavesurfer.params;
                var fontSize = this.params.fontSize * wsParams.pixelRatio;
                var totalSeconds = parseInt(duration, 10) + 1;
                var width = wsParams.fillParent && !wsParams.scrollParent ? this.drawer.getWidth() : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;
                var height1 = this.params.height * this.pixelRatio;
                var height2 = this.params.height * (this.params.notchPercentHeight / 100) * this.pixelRatio;
                var pixelsPerSecond = width / duration;
                var formatTime = this.params.formatTimeCallback;
                var intervalFnOrVal = function intervalFnOrVal2(option) {
                  return typeof option === "function" ? option(pixelsPerSecond) : option;
                };
                var timeInterval2 = intervalFnOrVal(this.params.timeInterval);
                var primaryLabelInterval2 = intervalFnOrVal(this.params.primaryLabelInterval);
                var secondaryLabelInterval2 = intervalFnOrVal(this.params.secondaryLabelInterval);
                var curPixel = pixelsPerSecond * this.params.offset;
                var curSeconds = 0;
                var i2;
                var positioning = [];
                var renderSeconds = this.params.offset < 0 ? totalSeconds - this.params.offset : totalSeconds;
                for (i2 = 0; i2 < renderSeconds / timeInterval2; i2++) {
                  positioning.push([i2, curSeconds, curPixel]);
                  curSeconds += timeInterval2;
                  curPixel += pixelsPerSecond * timeInterval2;
                }
                var renderPositions = function renderPositions2(cb) {
                  positioning.forEach(function(pos) {
                    cb(pos[0], pos[1], pos[2]);
                  });
                };
                this.setFillStyles(this.params.primaryColor);
                this.setFonts("".concat(fontSize, "px ").concat(this.params.fontFamily));
                this.setFillStyles(this.params.primaryFontColor);
                renderPositions(function(i3, curSeconds2, curPixel2) {
                  if (i3 % primaryLabelInterval2 === 0) {
                    _this3.fillRect(curPixel2, 0, 1, height1);
                    _this3.fillText(formatTime(curSeconds2, pixelsPerSecond), curPixel2 + _this3.params.labelPadding * _this3.pixelRatio, height1);
                  }
                });
                this.setFillStyles(this.params.secondaryColor);
                this.setFonts("".concat(fontSize, "px ").concat(this.params.fontFamily));
                this.setFillStyles(this.params.secondaryFontColor);
                renderPositions(function(i3, curSeconds2, curPixel2) {
                  if (i3 % secondaryLabelInterval2 === 0) {
                    _this3.fillRect(curPixel2, 0, 1, height1);
                    _this3.fillText(formatTime(curSeconds2, pixelsPerSecond), curPixel2 + _this3.params.labelPadding * _this3.pixelRatio, height1);
                  }
                });
                this.setFillStyles(this.params.unlabeledNotchColor);
                renderPositions(function(i3, curSeconds2, curPixel2) {
                  if (i3 % secondaryLabelInterval2 !== 0 && i3 % primaryLabelInterval2 !== 0) {
                    _this3.fillRect(curPixel2, 0, 1, height2);
                  }
                });
              }
            }, {
              key: "setFillStyles",
              value: function setFillStyles(fillStyle) {
                this.canvases.forEach(function(canvas) {
                  var context = canvas.getContext("2d");
                  if (context) {
                    context.fillStyle = fillStyle;
                  }
                });
              }
            }, {
              key: "setFonts",
              value: function setFonts(font) {
                this.canvases.forEach(function(canvas) {
                  var context = canvas.getContext("2d");
                  if (context) {
                    context.font = font;
                  }
                });
              }
            }, {
              key: "fillRect",
              value: function fillRect(x, y, width, height) {
                var _this4 = this;
                this.canvases.forEach(function(canvas, i2) {
                  var leftOffset = i2 * _this4.maxCanvasWidth;
                  var intersection = {
                    x1: Math.max(x, i2 * _this4.maxCanvasWidth),
                    y1: y,
                    x2: Math.min(x + width, i2 * _this4.maxCanvasWidth + canvas.width),
                    y2: y + height
                  };
                  if (intersection.x1 < intersection.x2) {
                    var context = canvas.getContext("2d");
                    if (context) {
                      context.fillRect(intersection.x1 - leftOffset, intersection.y1, intersection.x2 - intersection.x1, intersection.y2 - intersection.y1);
                    }
                  }
                });
              }
            }, {
              key: "fillText",
              value: function fillText(text2, x, y) {
                var textWidth;
                var xOffset = 0;
                this.canvases.forEach(function(canvas) {
                  var context = canvas.getContext("2d");
                  if (context) {
                    var canvasWidth = context.canvas.width;
                    if (xOffset > x + textWidth) {
                      return;
                    }
                    if (xOffset + canvasWidth > x && context) {
                      textWidth = context.measureText(text2).width;
                      context.fillText(text2, x - xOffset, y);
                    }
                    xOffset += canvasWidth;
                  }
                });
              }
            }, {
              key: "defaultFormatTimeCallback",
              value: function defaultFormatTimeCallback(seconds, pxPerSec) {
                if (seconds / 60 > 1) {
                  var minutes = parseInt(seconds / 60, 10);
                  seconds = parseInt(seconds % 60, 10);
                  seconds = seconds < 10 ? "0" + seconds : seconds;
                  return "".concat(minutes, ":").concat(seconds);
                }
                return Math.round(seconds * 1e3) / 1e3;
              }
            }, {
              key: "defaultTimeInterval",
              value: function defaultTimeInterval(pxPerSec) {
                if (pxPerSec >= 25) {
                  return 1;
                } else if (pxPerSec * 5 >= 25) {
                  return 5;
                } else if (pxPerSec * 15 >= 25) {
                  return 15;
                }
                return Math.ceil(0.5 / pxPerSec) * 60;
              }
            }, {
              key: "defaultPrimaryLabelInterval",
              value: function defaultPrimaryLabelInterval(pxPerSec) {
                if (pxPerSec >= 25) {
                  return 10;
                } else if (pxPerSec * 5 >= 25) {
                  return 6;
                } else if (pxPerSec * 15 >= 25) {
                  return 4;
                }
                return 4;
              }
            }, {
              key: "defaultSecondaryLabelInterval",
              value: function defaultSecondaryLabelInterval(pxPerSec) {
                if (pxPerSec >= 25) {
                  return 5;
                } else if (pxPerSec * 5 >= 25) {
                  return 2;
                } else if (pxPerSec * 15 >= 25) {
                  return 2;
                }
                return 2;
              }
            }], [{
              key: "create",
              value: function create2(params) {
                return {
                  name: "timeline",
                  deferInit: params && params.deferInit ? params.deferInit : false,
                  params,
                  instance: TimelinePlugin3
                };
              }
            }]);
            return TimelinePlugin3;
          }();
          exports3["default"] = TimelinePlugin2;
          module3.exports = exports3.default;
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__2(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module3 = __webpack_module_cache__[moduleId] = {
          exports: {}
        };
        __webpack_modules__[moduleId](module3, module3.exports, __webpack_require__2);
        return module3.exports;
      }
      var __webpack_exports__ = __webpack_require__2("./src/plugin/timeline/index.js");
      return __webpack_exports__;
    })();
  });
})(wavesurfer_timeline);
const TimelinePlugin = /* @__PURE__ */ getDefaultExportFromCjs(wavesurfer_timeline.exports);
function formatTimeCallback(seconds, pxPerSec) {
  seconds = Number(seconds);
  var minutes = Math.floor(seconds / 60);
  seconds = seconds % 60;
  var secondsStr = Math.round(seconds).toString();
  if (pxPerSec >= 25 * 10) {
    secondsStr = seconds.toFixed(2);
  } else if (pxPerSec >= 25 * 1) {
    secondsStr = seconds.toFixed(1);
  }
  if (minutes > 0) {
    if (seconds < 10) {
      secondsStr = "0" + secondsStr;
    }
    return `${minutes}:${secondsStr}`;
  }
  return secondsStr;
}
function timeInterval(pxPerSec) {
  var retval = 1;
  if (pxPerSec >= 25 * 100) {
    retval = 0.01;
  } else if (pxPerSec >= 25 * 40) {
    retval = 0.025;
  } else if (pxPerSec >= 25 * 10) {
    retval = 0.1;
  } else if (pxPerSec >= 25 * 4) {
    retval = 0.25;
  } else if (pxPerSec >= 25) {
    retval = 1;
  } else if (pxPerSec * 5 >= 25) {
    retval = 5;
  } else if (pxPerSec * 15 >= 25) {
    retval = 15;
  } else {
    retval = Math.ceil(0.5 / pxPerSec) * 60;
  }
  return retval;
}
function primaryLabelInterval(pxPerSec) {
  var retval = 1;
  if (pxPerSec >= 25 * 100) {
    retval = 10;
  } else if (pxPerSec >= 25 * 40) {
    retval = 4;
  } else if (pxPerSec >= 25 * 10) {
    retval = 10;
  } else if (pxPerSec >= 25 * 4) {
    retval = 4;
  } else if (pxPerSec >= 25) {
    retval = 1;
  } else if (pxPerSec * 5 >= 25) {
    retval = 5;
  } else if (pxPerSec * 15 >= 25) {
    retval = 15;
  } else {
    retval = Math.ceil(0.5 / pxPerSec) * 60;
  }
  return retval;
}
function secondaryLabelInterval(pxPerSec) {
  return Math.floor(10 / timeInterval(pxPerSec));
}
const makeWavesurfer = (nothing) => (just) => (dropCb) => (success) => (container) => (url) => () => {
  const ws = WaveSurfer.create({
    backend: "MediaElement",
    waveColor: "#A8DBA8",
    progressColor: "#3B8131",
    container,
    mediaControls: true,
    scrollParent: true,
    plugins: [
      PlayheadPlugin.create({
        returnOnPause: true,
        moveOnSeek: true,
        draw: true
      }),
      TimelinePlugin.create({
        container: "#timeline",
        formatTimeCallback,
        timeInterval,
        primaryLabelInterval,
        secondaryLabelInterval,
        primaryColor: "#0b83a7",
        secondaryColor: "#ef0ea6",
        primaryFontColor: "#0b83a7",
        secondaryFontColor: "#ef0ea6"
      }),
      MarkersPlugin.create({
        markers: [{ time: 0, color: "#00ffff", draggable: true, position: "top" }]
      }),
      CursorPlugin.create({
        showTime: true,
        opacity: 1,
        customShowTimeStyle: {
          "background-color": "#000",
          color: "#fff",
          padding: "2px",
          "font-size": "10px"
        }
      })
    ]
  });
  ws.load(url);
  ws.on("ready", success);
  ws.markers.remove(0);
  ws.on(
    "marker-drop",
    function({
      time,
      el: { $$joyrideIndex, $$joyrideOffset, $$realIndex, $$documentId }
    }) {
      dropCb($$joyrideIndex)($$joyrideOffset)($$realIndex)(
        $$documentId ? just($$documentId) : nothing
      )(time)();
    }
  );
  var GLOBAL_ACTIONS = {
    play: function() {
      ws.playPause();
    },
    back: function() {
      ws.skipBackward();
    },
    forth: function() {
      ws.skipForward();
    },
    stop: function() {
      ws.stop();
    },
    "toggle-mute": function() {
      ws.toggleMute();
    }
  };
  const evl = function(e2) {
    let map2 = {
      38: "play",
      37: "back",
      39: "forth",
      40: "stop"
    };
    let action = map2[e2.keyCode];
    if (action in GLOBAL_ACTIONS) {
      if (document == e2.target || document.body == e2.target || e2.target.attributes["data-action"]) {
        e2.preventDefault();
      }
      GLOBAL_ACTIONS[action](e2);
    }
  };
  document.addEventListener("keydown", evl);
  ws.on("destroy", () => {
    document.removeEventListener("keydown", evl);
  });
  return ws;
};
const zoom = (ws) => (z) => () => ws.zoom(z);
const associateEventDocumentIdWithSortedMarkerIdList = (ws) => ($ixid) => () => {
  const ixid = [...$ixid];
  for (let i2 = 0; i2 < ws.markers.markers.length; i2++) {
    if (ws.markers.markers[i2].el.$$joyrideIndex !== ixid[0].ix) {
      console.log(
        "shifting",
        ws.markers.markers[i2].el.$$joyrideIndex,
        ixid[0].ix
      );
      ixid.shift();
    }
    if (ws.markers.markers[i2].el.$$joyrideIndex !== ixid[0].ix) {
      console.error(
        "Programming error: something isn't sorted",
        ws.markers.markers[i2].el.$$joyrideIndex,
        ixid[0].ix,
        JSON.stringify($ixid),
        JSON.stringify(ws.markers.markers.map((m) => m.el.$$joyrideIndex))
      );
      throw new Error("Programming error: something isn't sorted");
    }
    ws.markers.markers[i2].el.$$documentId = ixid[0].id;
  }
};
const associateEventDocumentIdWithMarker = (m) => (id2) => () => {
  m.el.$$documentId = id2;
};
const addMarker = (ws) => (i2) => (j) => (p2) => () => {
  const m = ws.addMarker({ draggable: true, position: "top", ...p2 });
  m.el.$$joyrideIndex = i2;
  m.el.$$joyrideOffset = j;
  m.el.$$realIndex = ws.markers.markers.length - 1;
  return m;
};
const hideMarker = (ws) => (ix) => () => {
  ws.markers.markers[ix].el.classList.remove("visible");
  ws.markers.markers[ix].el.classList.add("invisible");
};
const muteExcept = (ws) => ($ixs) => () => {
  if ($ixs.length === 0) {
    for (let i2 = 0; i2 < ws.markers.markers.length; i2++) {
      ws.markers.markers[i2].el.classList.remove("invisible");
      ws.markers.markers[i2].el.classList.add("visible");
    }
  } else {
    const ixs = [...$ixs];
    for (let i2 = 0; i2 < ws.markers.markers.length; i2++) {
      if (ixs.length && i2 == ixs[0][1]) {
        ixs.shift();
      }
      if (ixs.length && i2 >= ixs[0][0] && i2 < ixs[0][1]) {
        ws.markers.markers[i2].el.classList.remove("invisible");
        ws.markers.markers[i2].el.classList.add("visible");
        continue;
      }
      ws.markers.markers[i2].el.classList.remove("visible");
      ws.markers.markers[i2].el.classList.add("invisible");
    }
  }
};
const removeMarker = (ws) => (ix) => () => {
  ws.markers.remove(ix);
};
const getCurrentTime = (ws) => () => ws.getCurrentTime();
const getDuration = (ws) => () => ws.getDuration();
const showMarker = (ws) => (ix) => () => {
  ws.markers.markers[ix].el.classList.remove("invisible");
  ws.markers.markers[ix].el.classList.add("visible");
};
var getEffProp = function(name) {
  return function(node) {
    return function() {
      return node[name];
    };
  };
};
const _firstChild = getEffProp("firstChild");
const textContent = getEffProp("textContent");
function eventListener(fn) {
  return function() {
    return function(event) {
      return fn(event)();
    };
  };
}
function addEventListener(type) {
  return function(listener) {
    return function(useCapture) {
      return function(target) {
        return function() {
          return target.addEventListener(type, listener, useCapture);
        };
      };
    };
  };
}
function _item(index2) {
  return function(fileList2) {
    return fileList2.item(index2);
  };
}
function fileReader() {
  return new FileReader();
}
function result(fr) {
  return function() {
    return fr.result;
  };
}
function readAsText(blob) {
  return function(fr) {
    return function() {
      fr.readAsText(blob);
    };
  };
}
const styleAudio = () => {
  const $$audio = document.getElementsByTagName("audio");
  const audio2 = Array.prototype.slice.call($$audio);
  audio2.forEach((element) => {
    element.id = "audio";
    element.classList.add("op-player");
    element.classList.add("op-player__media");
    element.setAttribute("controls", true);
    element.setAttribute("playsinline", true);
  });
};
const $CAction = (tag, _1) => ({ tag, _1 });
const $SoMu = (tag, _1) => ({ tag, _1 });
const oneOf$7 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const vbussedUncurried = /* @__PURE__ */ vbussedUncurried$1()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "addBasic" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "addLeap"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "addLongPress" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "atomicEventOperation"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "atomicTrackOperation" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "availableTracks"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "chooserScreenVisible" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "currentTime" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "documentId"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "forkingScreenVisible" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "importerScreenVisible"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "initialPrivate" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "initialTitle" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "initialWhitelist"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "loadWave" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "loadingScreenVisible" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "markerMoved"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "mute" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "previewScreenVisible" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "solo"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "spamIdsOnSubscription" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "unMute" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "unSolo"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "waveSurfer" })()()(vbusNil)()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()())()());
const biSampleOn$2 = /* @__PURE__ */ biSampleOn$4(eventIsEvent);
const for_$3 = /* @__PURE__ */ for_$9(applicativeEffect);
const for_1 = /* @__PURE__ */ for_$3(foldableMaybe);
const folded$1 = (s2) => (tf, k) => {
  const result2 = { value: [] };
  return s2(
    tf,
    (a2) => {
      const $5 = result2.value;
      const res = result2.value = concatArray(a2)($5);
      return k(res);
    }
  );
};
const traverse_$3 = /* @__PURE__ */ traverse_$7(applicativeEffect)(foldableMaybe);
const parTraverse$2 = /* @__PURE__ */ (() => {
  const traverse2 = traversableArray.traverse(applicativeParAff);
  return (f) => {
    const $2 = traverse2((x) => f(x));
    return (x) => _sequential($2(x));
  };
})();
const mapAccum$2 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const ordTuple = /* @__PURE__ */ ordTuple$1(ordInt)(ordInt);
const toUnfoldable1 = /* @__PURE__ */ toUnfoldable(unfoldableArray);
const for_2 = /* @__PURE__ */ for_$3(foldableArray);
const traverseWithIndex_ = /* @__PURE__ */ traverseWithIndex_$1(applicativeEffect)(foldableWithIndexArray);
const min$2 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const writeForeignArray = { writeImpl: (xs) => arrayMap(writeForeignEvent_.writeImpl)(xs) };
const trackIsSymbol$1 = { reflectSymbol: () => "track" };
const writeJSON = /* @__PURE__ */ writeJSON$1(/* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields({ reflectSymbol: () => "evs" })(writeForeignArray)(consWriteForeignFields(trackIsSymbol$1)((() => {
    const $02 = consWriteForeignFields({ reflectSymbol: () => "owner" })(writeForeignString)(consWriteForeignFields({
      reflectSymbol: () => "private"
    })(writeForeignBoolean)(consWriteForeignFields({ reflectSymbol: () => "title" })({
      writeImpl: (v2) => {
        if (v2.tag === "Nothing") {
          return _undefined;
        }
        if (v2.tag === "Just") {
          return v2._1;
        }
        fail$3();
      }
    })(consWriteForeignFields({ reflectSymbol: () => "url" })(writeForeignString)(consWriteForeignFields({ reflectSymbol: () => "version" })({
      writeImpl: (v) => 0
    })(consWriteForeignFields({ reflectSymbol: () => "whitelist" })(writeForeignWhitelist)(nilWriteForeignFields)()()())()()())()()())()()())()()())()()();
    return { writeImpl: (rec) => $02.writeImplFields($$Proxy)(rec)({}) };
  })())(nilWriteForeignFields)()()())()()();
  return { writeImpl: (rec) => $0.writeImplFields($$Proxy)(rec)({}) };
})());
const fromFoldable$3 = /* @__PURE__ */ (() => fromFoldableImpl(foldableList.foldr))();
const eventsIsSymbol = { reflectSymbol: () => "events" };
const writeJSON1 = /* @__PURE__ */ writeJSON$1(/* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(eventsIsSymbol)(writeForeignArray)(consWriteForeignFields(trackIsSymbol$1)(writeForeignTrack)(nilWriteForeignFields)()()())()()();
  return { writeImpl: (rec) => $0.writeImplFields($$Proxy)(rec)({}) };
})());
const vbus = /* @__PURE__ */ vbus$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "changeColumn" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "changeName"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "delete" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "mute" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "solo"
})()()(vbusNil)()())()())()())()())()());
const intercalate = /* @__PURE__ */ intercalate1(monoidString);
const click$4 = (v) => (b, k) => v(
  b,
  (a2) => {
    const $4 = {
      key: "click",
      value: $AttributeValue(
        "Cb'",
        (v$1) => () => {
          a2();
          return true;
        }
      )
    };
    return k($4);
  }
);
const readJSON = /* @__PURE__ */ readJSON$2(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(eventsIsSymbol)(/* @__PURE__ */ readArray(readForeignEvent_))(/* @__PURE__ */ readFieldsCons(trackIsSymbol$1)(readForeignTrack)(readFieldsNil)()())()()));
const show1 = /* @__PURE__ */ (() => showNonEmptyList(showForeignError).show)();
const parTraverse_ = /* @__PURE__ */ parTraverse_$1(parallelAff)(foldableMaybe);
const ldc = /* @__PURE__ */ (() => distinctColors.length)();
const defaultLongPress = (id2) => (startIx) => (fbId) => (be) => $Landmark(
  "LLong",
  { start: { at: be.marker1Time }, end: { at: be.marker2Time }, len: { len: be.length }, name: be.name, id: id2, fbId, startIx, col: be.column }
);
const defaultLeap = (id2) => (startIx) => (fbId) => (be) => $Landmark(
  "LLeap",
  { start: { at: be.marker1Time }, end: { at: be.marker2Time }, position: be.position, name: be.name, id: id2, fbId, startIx, col: be.column }
);
const defaultBasic = (id2) => (startIx) => (fbId) => (be) => $Landmark(
  "LBasic",
  { l1: { at: be.marker1Time }, l2: { at: be.marker2Time }, l3: { at: be.marker3Time }, l4: { at: be.marker4Time }, name: be.name, fbId, id: id2, startIx, col: be.column }
);
const dC = (i2) => {
  const $1 = index(distinctColors)(intMod(i2)(ldc));
  if ($1.tag === "Nothing") {
    return "#8b6f1f";
  }
  if ($1.tag === "Just") {
    return $1._1;
  }
  fail$3();
};
const aDeleteEvent_ = (v) => $$delete(ordInt)(v.id);
const aChangeTitle = (t2) => (v) => $Track({ url: v._1.url, private: v._1.private, title: t2, owner: v._1.owner, whitelist: v._1.whitelist, version: v._1.version });
const aChangePrivate = (p2) => (v) => $Track({ url: v._1.url, private: p2, title: v._1.title, owner: v._1.owner, whitelist: v._1.whitelist, version: v._1.version });
const aChangeOwner = (o) => (v) => $Track({ url: v._1.url, private: v._1.private, title: v._1.title, owner: o, whitelist: v._1.whitelist, version: v._1.version });
const aChangeName = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: x._1._1.marker2Time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: x._1._1.marker3Time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: x._1._1.marker4Time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: x._1._1.column,
          name: v.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LeapEventV0") {
      return $Event_($EventV0(
        "LeapEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          column: x._1._1.column,
          position: x._1._1.position,
          name: v.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LongEventV0") {
      return $Event_($EventV0(
        "LongEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          length: x._1._1.length,
          column: x._1._1.column,
          name: v.name,
          version: x._1._1.version
        }
      ));
    }
    fail$3();
  })()
))(v.id);
const aChangeMarker4 = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: x._1._1.marker2Time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: x._1._1.marker3Time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: v.time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    return x;
  })()
))(v.id);
const aChangeMarker3 = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: x._1._1.marker2Time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: v.time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: x._1._1.marker4Time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    return x;
  })()
))(v.id);
const aChangeMarker2 = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: v.time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: x._1._1.marker3Time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: x._1._1.marker4Time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LeapEventV0") {
      return $Event_($EventV0(
        "LeapEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: v.time,
          audioURL: x._1._1.audioURL,
          column: x._1._1.column,
          position: x._1._1.position,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LongEventV0") {
      return $Event_($EventV0(
        "LongEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: v.time,
          audioURL: x._1._1.audioURL,
          length: x._1._1.length,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    fail$3();
  })()
))(v.id);
const aChangeMarker1 = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: v.time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: x._1._1.marker2Time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: x._1._1.marker3Time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: x._1._1.marker4Time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LeapEventV0") {
      return $Event_($EventV0(
        "LeapEventV0",
        {
          marker1Time: v.time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          column: x._1._1.column,
          position: x._1._1.position,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LongEventV0") {
      return $Event_($EventV0(
        "LongEventV0",
        {
          marker1Time: v.time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          length: x._1._1.length,
          column: x._1._1.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    fail$3();
  })()
))(v.id);
const aChangeColumn = (v) => update(ordInt)((x) => $Maybe(
  "Just",
  (() => {
    if (x._1.tag === "BasicEventV0") {
      return $Event_($EventV0(
        "BasicEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker1AudioURL: x._1._1.marker1AudioURL,
          marker2Time: x._1._1.marker2Time,
          marker2AudioURL: x._1._1.marker2AudioURL,
          marker3Time: x._1._1.marker3Time,
          marker3AudioURL: x._1._1.marker3AudioURL,
          marker4Time: x._1._1.marker4Time,
          marker4AudioURL: x._1._1.marker4AudioURL,
          column: v.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LeapEventV0") {
      return $Event_($EventV0(
        "LeapEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          column: v.column,
          position: x._1._1.position,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    if (x._1.tag === "LongEventV0") {
      return $Event_($EventV0(
        "LongEventV0",
        {
          marker1Time: x._1._1.marker1Time,
          marker2Time: x._1._1.marker2Time,
          audioURL: x._1._1.audioURL,
          length: x._1._1.length,
          column: v.column,
          name: x._1._1.name,
          version: x._1._1.version
        }
      ));
    }
    fail$3();
  })()
))(v.id);
const aAddLongPress = (t2) => insert$2(ordInt)(t2.id)($Event_($EventV0(
  "LongEventV0",
  { marker1Time: t2.marker1Time, audioURL: Nothing, marker2Time: t2.marker2Time, length: t2.length, column: t2.column, name: t2.name, version: $Version(0) }
)));
const aAddLeap = (t2) => insert$2(ordInt)(t2.id)($Event_($EventV0(
  "LeapEventV0",
  { marker1Time: t2.marker1Time, audioURL: Nothing, marker2Time: t2.marker2Time, position: t2.position, column: t2.column, name: t2.name, version: $Version(0) }
)));
const aAddBasic = (t2) => insert$2(ordInt)(t2.id)($Event_($EventV0(
  "BasicEventV0",
  {
    marker1Time: t2.marker1Time,
    marker1AudioURL: Nothing,
    marker2Time: t2.marker2Time,
    marker2AudioURL: Nothing,
    marker3Time: t2.marker3Time,
    marker3AudioURL: Nothing,
    marker4Time: t2.marker4Time,
    marker4AudioURL: Nothing,
    column: t2.column,
    name: t2.name,
    version: $Version(0)
  }
)));
const editorPage = (tli) => (v) => (wtut) => vbussedUncurried($$Proxy)((v1) => $Entity(
  "EventfulElement'",
  memoBeh(keepLatest((() => {
    const $4 = oneOff(Just)(applyEvent.apply(applyEvent.apply(applyEvent.apply((b, k) => v1._2.initialTitle(
      b,
      (a2) => k((v3) => (v42) => (v5) => ({ initialTitle: a2, url: v3, initialPrivate: v42, initialWhitelist: v5 }))
    ))(v1._2.loadWave))(v1._2.initialPrivate))(v1._2.initialWhitelist));
    return (b, k) => $4(
      b,
      (a2) => k((tf, k$1) => {
        const result2 = {
          value: $Tuple(
            $Track({ title: Nothing, url: a2.url, private: a2.initialPrivate, version: $Version(0), whitelist: a2.initialWhitelist, owner: "" }),
            Leaf
          )
        };
        const $11 = (a$1) => {
          const $12 = result2.value;
          const res = result2.value = (() => {
            if (a$1.tag === "Left") {
              return $Tuple($12._1, a$1._1($12._2));
            }
            if (a$1.tag === "Right") {
              return $Tuple(a$1._1($12._1), $12._2);
            }
            fail$3();
          })();
          return k$1(res);
        };
        const a$p = v1._2.atomicEventOperation(tf, (a$1) => $11($Either("Left", a$1)));
        const a$p$1 = applicativeEvent.pure(aChangeTitle($Maybe("Just", a2.initialTitle)))(tf, (a$1) => $11($Either("Right", a$1)));
        const a$p$2 = v1._2.atomicTrackOperation(tf, (a$1) => $11($Either("Right", a$1)));
        return () => {
          a$p();
          a$p$1();
          return a$p$2();
        };
      })
    );
  })()))($Tuple(
    $Track({ title: Nothing, url: "", private: false, version: $Version(0), whitelist: [], owner: "" }),
    Leaf
  ))((mostRecentData) => $Entity(
    "EventfulElement'",
    rider({
      event: biSampleOn$2(v1._2.markerMoved)((b, k) => v1._2.documentId(
        b,
        (a2) => {
          const $8 = Tuple(a2);
          return k($8);
        }
      )),
      push: (v2) => for_1(v2._2.id)((id2) => {
        const $7 = _makeFiber(
          ffiUtil$1,
          (() => {
            if (v2._2.offset === 0) {
              return updateMarker1TimeAff(v.firestoreDb)(v2._1)(id2)(v2._2.time);
            }
            if (v2._2.offset === 1) {
              return updateMarker2TimeAff(v.firestoreDb)(v2._1)(id2)(v2._2.time);
            }
            if (v2._2.offset === 2) {
              return updateMarker3TimeAff(v.firestoreDb)(v2._1)(id2)(v2._2.time);
            }
            return updateMarker4TimeAff(v.firestoreDb)(v2._1)(id2)(v2._2.time);
          })()
        );
        return () => {
          const fiber = $7();
          fiber.run();
          return unit;
        };
      })
    })(rider({
      event: sampleOn(mostRecentData)(sampleOn(v1._2.waveSurfer)(biSampleOn$2(folded$1((b, k) => v.signedInNonAnonymously(b, (a2) => k([a2]))))((b, k) => {
        const a$p = v1._2.documentId(b, (a2) => k((v3) => (v42) => (v5) => ({ did: $Maybe("Just", a2), sina: v3, ws: v42, mrd: v5 })));
        const a$p$1 = applicativeEvent.pure(Nothing)(b, (a2) => k((v3) => (v42) => (v5) => ({ did: a2, sina: v3, ws: v42, mrd: v5 })));
        return () => {
          a$p();
          return a$p$1();
        };
      }))),
      push: (v2) => {
        if (v2.did.tag === "Nothing") {
          if (v2.sina.length === 2) {
            if (v2.sina[0]) {
              if (!v2.sina[1]) {
                return bindE(currentUser(v.fbAuth))(traverse_$3((v3) => {
                  const $7 = _makeFiber(
                    ffiUtil$1,
                    _bind(addTrackAff(v.firestoreDb)(aChangeOwner(v3.uid)(v2.mrd._1)))((added) => _bind(_liftEffect(v1._1.documentId(added.id)))(() => _bind(parTraverse$2((v42) => _bind(addEventAff(v.firestoreDb)(added.id)(v42._2))((addedEvent) => _pure({
                      ix: v42._1,
                      id: addedEvent.id
                    })))(toUnfoldable$1(unfoldableArray)(v2.mrd._2)))((forIdAttribution) => _liftEffect(associateEventDocumentIdWithSortedMarkerIdList(v2.ws)(forIdAttribution)))))
                  );
                  return () => {
                    const fiber = $7();
                    fiber.run();
                    return unit;
                  };
                }));
              }
              return () => unit;
            }
            return () => unit;
          }
          return () => unit;
        }
        return () => unit;
      }
    })(rider({
      event: sampleOn(v1._2.waveSurfer)((() => {
        const $5 = mapAccum$2((v2) => {
          if (v2.tag === "Solo") {
            return (s2) => {
              const o = insert$2(ordTuple)(v2._1)(unit)(s2);
              return $Tuple(o, $Either("Left", o));
            };
          }
          if (v2.tag === "UnSolo") {
            return (s2) => {
              const o = $$delete(ordTuple)(v2._1)(s2);
              return $Tuple(o, $Either("Left", o));
            };
          }
          if (v2.tag === "Mute") {
            return (s2) => $Tuple(s2, $Either("Right", $Either("Right", v2._1)));
          }
          if (v2.tag === "UnMute") {
            return (s2) => $Tuple(s2, $Either("Right", $Either("Left", v2._1)));
          }
          fail$3();
        })((tf, k) => {
          const a$p = v1._2.solo(tf, (a2) => k($SoMu("Solo", a2)));
          const a$p$1 = v1._2.mute(tf, (a2) => k($SoMu("Mute", a2)));
          const a$p$2 = v1._2.unSolo(tf, (a2) => k($SoMu("UnSolo", a2)));
          const a$p$3 = v1._2.unMute(tf, (a2) => k($SoMu("UnMute", a2)));
          return () => {
            a$p();
            a$p$1();
            a$p$2();
            return a$p$3();
          };
        })(Leaf);
        return (b, k) => $5(
          b,
          (a2) => {
            const $9 = Tuple(a2);
            return k($9);
          }
        );
      })()),
      push: (v2) => {
        if (v2._1.tag === "Left") {
          return muteExcept(v2._2)(arrayMap((v3) => [v3._1, v3._1 + v3._2 | 0])(toUnfoldable1(v2._1._1)));
        }
        if (v2._1.tag === "Right") {
          if (v2._1._1.tag === "Right") {
            return for_2(range(v2._1._1._1._1)((v2._1._1._1._1 + v2._1._1._1._2 | 0) - 1 | 0))((ix1) => hideMarker(v2._2)(ix1));
          }
          if (v2._1._1.tag === "Left") {
            return for_2(range(v2._1._1._1._1)((v2._1._1._1._1 + v2._1._1._1._2 | 0) - 1 | 0))((ix1) => showMarker(v2._2)(ix1));
          }
          fail$3();
        }
        fail$3();
      }
    })(memoBeh((b, k) => v1._2.documentId(b, (a2) => k($Maybe("Just", a2))))(Nothing)((docEv) => $Entity(
      "EventfulElement'",
      backdoor.mailboxed(ordInt)(v1._2.spamIdsOnSubscription)((ctor) => $Entity(
        "EventfulElement'",
        backdoor.mailboxed(ordInt)((b, k) => v1._2.markerMoved(b, (a2) => k({ address: a2.ix, payload: a2 })))((markerEvent) => $Entity(
          "EventfulElement'",
          memoBeh(v1._2.currentTime)(() => 0)((cTime) => $Entity(
            "EventfulElement'",
            backdoor.memoize(oneOf$7([
              (b, k) => v1._2.addBasic(b, (a2) => k($CAction("CBasic", a2))),
              (b, k) => v1._2.addLeap(b, (a2) => k($CAction("CLeap", a2))),
              (b, k) => v1._2.addLongPress(b, (a2) => k($CAction("CLongPress", a2)))
            ]))((ctrlEvent) => {
              const loadTrack = (trackId, v2, evz) => {
                const evts = sortBy((x) => (y) => ordNumber.compare((() => {
                  if (x.data._1.tag === "BasicEventV0") {
                    return x.data._1._1.marker1Time;
                  }
                  if (x.data._1.tag === "LeapEventV0") {
                    return x.data._1._1.marker1Time;
                  }
                  if (x.data._1.tag === "LongEventV0") {
                    return x.data._1._1.marker1Time;
                  }
                  fail$3();
                })())((() => {
                  if (y.data._1.tag === "BasicEventV0") {
                    return y.data._1._1.marker1Time;
                  }
                  if (y.data._1.tag === "LeapEventV0") {
                    return y.data._1._1.marker1Time;
                  }
                  if (y.data._1.tag === "LongEventV0") {
                    return y.data._1._1.marker1Time;
                  }
                  fail$3();
                })()))(evz);
                return _bind(forkAff(eventToAff(v1._2.waveSurfer)))((wsf) => _bind(_liftEffect((() => {
                  const $15 = v1._1.loadWave(v2._1.url);
                  return () => {
                    $15();
                    for_1(v2._1.title)(v1._1.initialTitle)();
                    v1._1.initialPrivate(v2._1.private)();
                    v1._1.initialWhitelist(v2._1.whitelist)();
                    return v1._1.atomicTrackOperation((v$1) => v2)();
                  };
                })()))(() => _bind(joinFiber(wsf))((ws) => _liftEffect((() => {
                  const $17 = v1._1.documentId(trackId);
                  return () => {
                    $17();
                    return traverseWithIndex_((ix1) => (v3) => () => {
                      v1._1.atomicEventOperation(insert$2(ordInt)(ix1)(v3.data))();
                      if (v3.data._1.tag === "BasicEventV0") {
                        v1._1.addBasic($Tuple($Maybe("Just", v3.id), v3.data._1._1))();
                        const m0 = addMarker(ws)(ix1)(0)({ color: dC(ix1), label: "B1", time: v3.data._1._1.marker1Time })();
                        const m1 = addMarker(ws)(ix1)(1)({ color: dC(ix1), label: "B2", time: v3.data._1._1.marker2Time })();
                        const m2 = addMarker(ws)(ix1)(2)({ color: dC(ix1), label: "B3", time: v3.data._1._1.marker3Time })();
                        const m3 = addMarker(ws)(ix1)(3)({ color: dC(ix1), label: "B4", time: v3.data._1._1.marker4Time })();
                        associateEventDocumentIdWithMarker(m0)(v3.id)();
                        associateEventDocumentIdWithMarker(m1)(v3.id)();
                        associateEventDocumentIdWithMarker(m2)(v3.id)();
                        return associateEventDocumentIdWithMarker(m3)(v3.id)();
                      }
                      if (v3.data._1.tag === "LeapEventV0") {
                        v1._1.addLeap($Tuple($Maybe("Just", v3.id), v3.data._1._1))();
                        const m0 = addMarker(ws)(ix1)(0)({ color: dC(ix1), label: "LSt", time: v3.data._1._1.marker1Time })();
                        const m1 = addMarker(ws)(ix1)(1)({ color: dC(ix1), label: "LEd", time: v3.data._1._1.marker2Time })();
                        associateEventDocumentIdWithMarker(m0)(v3.id)();
                        return associateEventDocumentIdWithMarker(m1)(v3.id)();
                      }
                      if (v3.data._1.tag === "LongEventV0") {
                        v1._1.addLongPress($Tuple($Maybe("Just", v3.id), v3.data._1._1))();
                        const m0 = addMarker(ws)(ix1)(0)({ color: dC(ix1), label: "LSt", time: v3.data._1._1.marker1Time })();
                        const m1 = addMarker(ws)(ix1)(1)({ color: dC(ix1), label: "LEd", time: v3.data._1._1.marker2Time })();
                        associateEventDocumentIdWithMarker(m0)(v3.id)();
                        return associateEventDocumentIdWithMarker(m1)(v3.id)();
                      }
                      fail$3();
                    })(evts)();
                  };
                })()))));
              };
              const markerIndices = (tf, k) => {
                const a$p = applicativeEvent.pure($Tuple(0, 0))(tf, k);
                const result2 = { value: $Tuple(0, 0) };
                const a$p$1 = ctrlEvent(
                  tf,
                  (a2) => {
                    const $16 = result2.value;
                    const res = result2.value = $Tuple(
                      $16._1 + 1 | 0,
                      (() => {
                        if (a2.tag === "CBasic") {
                          return $16._2 + 4 | 0;
                        }
                        if (a2.tag === "CLeap") {
                          return $16._2 + 2 | 0;
                        }
                        if (a2.tag === "CLongPress") {
                          return $16._2 + 2 | 0;
                        }
                        fail$3();
                      })()
                    );
                    return k(res);
                  }
                );
                return () => {
                  a$p();
                  return a$p$1();
                };
              };
              return $Entity(
                "Element'",
                elementify("div")(applicativeEvent.pure({
                  key: "class",
                  value: $AttributeValue("Prop'", "absolute w-screen h-screen bg-zinc-900 overflow-hidden")
                }))($Entity(
                  "FixedChildren'",
                  [
                    $Entity(
                      "Element'",
                      elementify("div")(oneOf$7([
                        (b, k) => {
                          const $14 = (a2) => {
                            const $15 = {
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                (() => {
                                  if ((() => {
                                    if (a2.tag === "Nothing") {
                                      return false;
                                    }
                                    if (a2.tag === "Just") {
                                      return true;
                                    }
                                    fail$3();
                                  })()) {
                                    return "absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden hidden";
                                  }
                                  return "absolute w-screen h-screen max-h-screen bg-zinc-900 flex flex-col overflow-hidden";
                                })()
                              )
                            };
                            return k($15);
                          };
                          const a$p = v1._2.previewScreenVisible(b, $14);
                          const a$p$1 = applicativeEvent.pure(Nothing)(b, $14);
                          return () => {
                            a$p();
                            return a$p$1();
                          };
                        }
                      ]))($Entity(
                        "FixedChildren'",
                        [
                          $Entity(
                            "Element'",
                            elementify("div")(oneOf$7([
                              applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "flex flex-row justify-between") })
                            ]))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    applicativeEvent.pure({
                                      key: "class",
                                      value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                    }),
                                    applicativeEvent.pure({
                                      key: "click",
                                      value: $AttributeValue(
                                        "Cb'",
                                        (v$1) => () => {
                                          v.goBack();
                                          return true;
                                        }
                                      )
                                    })
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("<"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("h2")(oneOf$7([
                                    applicativeEvent.pure({ key: "contenteditable", value: $AttributeValue("Prop'", "true") }),
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "text-2xl text-slate-200 p-2") }),
                                    (b, k) => docEv(
                                      b,
                                      (a2) => {
                                        const $15 = {
                                          key: "input",
                                          value: $AttributeValue(
                                            "Cb'",
                                            (x) => {
                                              const $16 = for_1((() => {
                                                const $162 = nullable(_target(x), Nothing, Just);
                                                if ($162.tag === "Just") {
                                                  return _unsafeReadProtoTagged(Nothing, Just, "Node", $162._1);
                                                }
                                                if ($162.tag === "Nothing") {
                                                  return Nothing;
                                                }
                                                fail$3();
                                              })())((x$1) => {
                                                const $17 = _firstChild(x$1);
                                                return () => {
                                                  const a$p = $17();
                                                  return for_1(nullable(a$p, Nothing, Just))((fc$p) => () => {
                                                    const v2 = textContent(fc$p)();
                                                    log("New title: " + v2)();
                                                    v1._1.atomicTrackOperation(aChangeTitle((() => {
                                                      if (v2 === "") {
                                                        return Nothing;
                                                      }
                                                      return $Maybe("Just", v2);
                                                    })()))();
                                                    return for_1(a2)((trackId) => () => {
                                                      const fiber = _makeFiber(
                                                        ffiUtil$1,
                                                        updateTrackTitleAff(v.firestoreDb)(trackId)(v2)
                                                      )();
                                                      fiber.run();
                                                      return unit;
                                                    })();
                                                  })();
                                                };
                                              });
                                              return () => {
                                                $16();
                                                return true;
                                              };
                                            }
                                          )
                                        };
                                        return k($15);
                                      }
                                    )
                                  ]))($Entity("FixedChildren'", [text(v1._2.initialTitle)]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("span")(plusEvent.empty)($Entity(
                                    "FixedChildren'",
                                    [
                                      $Entity(
                                        "Element'",
                                        elementify("a")(oneOf$7([
                                          (b, k) => {
                                            const $14 = (a2) => {
                                              const $15 = {
                                                key: "class",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if ((() => {
                                                      if (a2.tag === "Nothing") {
                                                        return false;
                                                      }
                                                      if (a2.tag === "Just") {
                                                        return true;
                                                      }
                                                      fail$3();
                                                    })()) {
                                                      return buttonCls + " mx-2 pointer-events-auto";
                                                    }
                                                    return buttonCls + " mx-2 pointer-events-auto hidden";
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            };
                                            const a$p = applicativeEvent.pure(Nothing)(b, $14);
                                            const a$p$1 = mostRecentData(b, (a2) => $14($Maybe("Just", a2)));
                                            return () => {
                                              a$p();
                                              return a$p$1();
                                            };
                                          },
                                          (b, k) => mostRecentData(
                                            b,
                                            (a2) => {
                                              const $15 = {
                                                key: "href",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    const $152 = _encodeURIComponent(
                                                      (v$1) => Nothing,
                                                      Just,
                                                      writeJSON1({
                                                        track: a2._1,
                                                        events: fromFoldable$3(foldableMap.foldr(Cons)(Nil)(a2._2))
                                                      })
                                                    );
                                                    if ($152.tag === "Nothing") {
                                                      return "data:text/plain;charset=utf-8,";
                                                    }
                                                    if ($152.tag === "Just") {
                                                      return "data:text/plain;charset=utf-8," + $152._1;
                                                    }
                                                    fail$3();
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            }
                                          ),
                                          (b, k) => {
                                            const $14 = (a2) => {
                                              const $15 = {
                                                key: "download",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if (a2.tag === "Just") {
                                                      return a2._1 + ".json";
                                                    }
                                                    if (a2.tag === "Nothing") {
                                                      return "export.json";
                                                    }
                                                    fail$3();
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            };
                                            const a$p = applicativeEvent.pure(Nothing)(b, $14);
                                            const a$p$1 = v1._2.initialTitle(b, (a2) => $14($Maybe("Just", a2)));
                                            const a$p$2 = mostRecentData(b, (a2) => $14(a2._1._1.title));
                                            return () => {
                                              a$p();
                                              a$p$1();
                                              return a$p$2();
                                            };
                                          }
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Export"))]))
                                      ),
                                      $Entity(
                                        "Element'",
                                        elementify("span")(applicativeEvent.pure({
                                          key: "class",
                                          value: $AttributeValue("Prop'", "text-white")
                                        }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Private?"))]))
                                      ),
                                      $Entity(
                                        "Element'",
                                        elementify("input")(oneOf$7([
                                          applicativeEvent.pure({ key: "type", value: $AttributeValue("Prop'", "checkbox") }),
                                          (b, k) => oneOff(Just)(mostRecentData)(
                                            b,
                                            (a2) => {
                                              const $15 = {
                                                key: "checked",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if (a2._1._1.private) {
                                                      return "true";
                                                    }
                                                    return "false";
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            }
                                          ),
                                          applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue(
                                              "Prop'",
                                              "w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                            )
                                          }),
                                          (() => {
                                            const $12 = biSampleOn$2(docEv)((b, k) => mostRecentData(
                                              b,
                                              (a2) => {
                                                const $15 = Tuple(a2);
                                                return k($15);
                                              }
                                            ));
                                            return (b, k) => $12(
                                              b,
                                              (a2) => {
                                                const changed = !a2._1._1._1.private;
                                                const $17 = v1._1.atomicTrackOperation(aChangePrivate(changed));
                                                const $18 = {
                                                  key: "click",
                                                  value: $AttributeValue(
                                                    "Cb'",
                                                    (v$1) => () => {
                                                      $17();
                                                      for_1(a2._2)((trackId) => () => {
                                                        const fiber = _makeFiber(
                                                          ffiUtil$1,
                                                          updateTrackPrivateAff(v.firestoreDb)(trackId)(changed)
                                                        )();
                                                        fiber.run();
                                                        return unit;
                                                      })();
                                                      return true;
                                                    }
                                                  )
                                                };
                                                return k($18);
                                              }
                                            );
                                          })()
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("<"))]))
                                      )
                                    ]
                                  ))
                                )
                              ]
                            ))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(oneOf$7([
                              applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "bg-zinc-600") }),
                              (b, k) => v1._2.loadWave(
                                b,
                                (a2) => {
                                  const $15 = {
                                    key: "@self@",
                                    value: $AttributeValue(
                                      "Cb'",
                                      (s2) => {
                                        const $16 = makeWavesurfer(Nothing)(Just)((i2) => (j) => (x) => (id2) => (t2) => {
                                          const $21 = v1._1.markerMoved({ ix: i2, offset: j, inArray: x, time: t2, id: id2 });
                                          return () => {
                                            $21();
                                            return v1._1.atomicEventOperation((() => {
                                              if (j === 0) {
                                                return aChangeMarker1({ id: i2, time: t2 });
                                              }
                                              if (j === 1) {
                                                return aChangeMarker2({ id: i2, time: t2 });
                                              }
                                              if (j === 2) {
                                                return aChangeMarker3({ id: i2, time: t2 });
                                              }
                                              return aChangeMarker4({ id: i2, time: t2 });
                                            })())();
                                          };
                                        })(v1._1.importerScreenVisible(false))(s2)(a2);
                                        return () => {
                                          const ws = $16();
                                          v1._1.waveSurfer(ws)();
                                          v1._1.currentTime(getCurrentTime(ws))();
                                          styleAudio();
                                          return v1._1.loadingScreenVisible(false)();
                                        };
                                      }
                                    )
                                  };
                                  return k($15);
                                }
                              )
                            ]))($Entity("FixedChildren'", []))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(oneOf$7([
                              applicativeEvent.pure({ key: "id", value: $AttributeValue("Prop'", "timeline") }),
                              applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "") })
                            ]))($Entity("FixedChildren'", []))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(plusEvent.empty)($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("label")(oneOf$7([
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "text-white") })
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Zoom"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("input")(oneOf$7([
                                    applicativeEvent.pure({ key: "min", value: $AttributeValue("Prop'", "2") }),
                                    applicativeEvent.pure({ key: "value", value: $AttributeValue("Prop'", "2") }),
                                    applicativeEvent.pure({ key: "max", value: $AttributeValue("Prop'", "1000") }),
                                    slider((b, k) => v1._2.waveSurfer(
                                      b,
                                      (a2) => {
                                        const $15 = zoom(a2);
                                        return k($15);
                                      }
                                    ))
                                  ]))($Entity("FixedChildren'", []))
                                )
                              ]
                            ))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(oneOf$7([
                              applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "flex flex-row justify-around") })
                            ]))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    (() => {
                                      const $12 = biSampleOn$2((tf, k) => {
                                        const a$p = v1._2.documentId(tf, (a2) => k($Maybe("Just", a2)));
                                        const a$p$1 = applicativeEvent.pure(Nothing)(tf, k);
                                        return () => {
                                          a$p();
                                          return a$p$1();
                                        };
                                      })(biSampleOn$2(markerIndices)((b, k) => v1._2.waveSurfer(b, (a2) => k((v3) => (v42) => ({ ws: a2, ixs: v3, did: v42 })))));
                                      return (b, k) => $12(
                                        b,
                                        (a2) => {
                                          const $16 = getCurrentTime(a2.ws);
                                          const $17 = {
                                            key: "click",
                                            value: $AttributeValue(
                                              "Cb'",
                                              (v$1) => () => {
                                                const ct = $16();
                                                const dur = getDuration(a2.ws)();
                                                (() => {
                                                  const time1 = min$2(dur)(0 + ct);
                                                  const time2 = min$2(dur)(0.5 + ct);
                                                  const time3 = min$2(dur)(1 + ct);
                                                  const time4 = min$2(dur)(1.5 + ct);
                                                  const endgame = (x) => v1._1.addBasic($Tuple(
                                                    x,
                                                    {
                                                      marker1Time: time1,
                                                      marker1AudioURL: Nothing,
                                                      marker2Time: time2,
                                                      marker2AudioURL: Nothing,
                                                      marker3Time: time3,
                                                      marker3AudioURL: Nothing,
                                                      marker4Time: time4,
                                                      marker4AudioURL: Nothing,
                                                      column: C9,
                                                      name: Nothing,
                                                      version: $Version(0)
                                                    }
                                                  ));
                                                  return () => {
                                                    const m0 = addMarker(a2.ws)(a2.ixs._1)(0)({ color: dC(a2.ixs._1), label: "B1", time: time1 })();
                                                    const m1 = addMarker(a2.ws)(a2.ixs._1)(1)({ color: dC(a2.ixs._1), label: "B2", time: time2 })();
                                                    const m2 = addMarker(a2.ws)(a2.ixs._1)(2)({ color: dC(a2.ixs._1), label: "B3", time: time3 })();
                                                    const m3 = addMarker(a2.ws)(a2.ixs._1)(3)({ color: dC(a2.ixs._1), label: "B4", time: time4 })();
                                                    v1._1.atomicEventOperation(aAddBasic({
                                                      id: a2.ixs._1,
                                                      name: Nothing,
                                                      column: C9,
                                                      marker1Time: time1,
                                                      marker2Time: time2,
                                                      marker3Time: time3,
                                                      marker4Time: time4
                                                    }))();
                                                    const $30 = endgame(Nothing);
                                                    if (a2.did.tag === "Nothing") {
                                                      return $30();
                                                    }
                                                    if (a2.did.tag === "Just") {
                                                      const fiber = _makeFiber(
                                                        ffiUtil$1,
                                                        _bind(addEventAff(v.firestoreDb)(a2.did._1)($Event_($EventV0(
                                                          "BasicEventV0",
                                                          {
                                                            marker1Time: time1,
                                                            marker1AudioURL: Nothing,
                                                            marker2Time: time2,
                                                            marker2AudioURL: Nothing,
                                                            marker3Time: time3,
                                                            marker3AudioURL: Nothing,
                                                            marker4Time: time4,
                                                            marker4AudioURL: Nothing,
                                                            column: C9,
                                                            name: Nothing,
                                                            version: $Version(0)
                                                          }
                                                        ))))((evDid) => _liftEffect((() => {
                                                          const $32 = associateEventDocumentIdWithMarker(m0)(evDid.id);
                                                          const $33 = associateEventDocumentIdWithMarker(m1)(evDid.id);
                                                          const $34 = associateEventDocumentIdWithMarker(m2)(evDid.id);
                                                          const $35 = associateEventDocumentIdWithMarker(m3)(evDid.id);
                                                          const $36 = endgame($Maybe("Just", evDid.id));
                                                          return () => {
                                                            $32();
                                                            $33();
                                                            $34();
                                                            $35();
                                                            const a$p = $36();
                                                            return a$p;
                                                          };
                                                        })()))
                                                      )();
                                                      fiber.run();
                                                      return unit;
                                                    }
                                                    fail$3();
                                                  };
                                                })()();
                                                return true;
                                              }
                                            )
                                          };
                                          return k($17);
                                        }
                                      );
                                    })(),
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls) })
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Add Tile"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    (() => {
                                      const $12 = biSampleOn$2((tf, k) => {
                                        const a$p = v1._2.documentId(tf, (a2) => k($Maybe("Just", a2)));
                                        const a$p$1 = applicativeEvent.pure(Nothing)(tf, k);
                                        return () => {
                                          a$p();
                                          return a$p$1();
                                        };
                                      })(biSampleOn$2(markerIndices)((b, k) => v1._2.waveSurfer(b, (a2) => k((v3) => (v42) => ({ ws: a2, ixs: v3, did: v42 })))));
                                      return (b, k) => $12(
                                        b,
                                        (a2) => {
                                          const $16 = getCurrentTime(a2.ws);
                                          const $17 = {
                                            key: "click",
                                            value: $AttributeValue(
                                              "Cb'",
                                              (v$1) => () => {
                                                const ct = $16();
                                                const dur = getDuration(a2.ws)();
                                                (() => {
                                                  const time2 = min$2(dur)(0.5 + ct);
                                                  const time1 = min$2(dur)(0 + ct);
                                                  const endgame = (position, x) => v1._1.addLeap($Tuple(
                                                    x,
                                                    {
                                                      marker1Time: time1,
                                                      audioURL: Nothing,
                                                      marker2Time: time2,
                                                      column: C9,
                                                      position,
                                                      name: Nothing,
                                                      version: $Version(0)
                                                    }
                                                  ));
                                                  return () => {
                                                    const m0 = addMarker(a2.ws)(a2.ixs._1)(0)({ color: dC(a2.ixs._1), label: "LSt", time: time1 })();
                                                    const m1 = addMarker(a2.ws)(a2.ixs._1)(1)({ color: dC(a2.ixs._1), label: "LEd", time: time2 })();
                                                    const a$p = randomInt(0)(3)();
                                                    const position = (() => {
                                                      if (a$p === 0) {
                                                        return Position1;
                                                      }
                                                      if (a$p === 1) {
                                                        return Position2;
                                                      }
                                                      if (a$p === 2) {
                                                        return Position3;
                                                      }
                                                      return Position4;
                                                    })();
                                                    v1._1.atomicEventOperation(aAddLeap({
                                                      id: a2.ixs._1,
                                                      name: Nothing,
                                                      column: C9,
                                                      position,
                                                      marker1Time: time1,
                                                      marker2Time: time2
                                                    }))();
                                                    const $28 = endgame(position, Nothing);
                                                    if (a2.did.tag === "Nothing") {
                                                      return $28();
                                                    }
                                                    if (a2.did.tag === "Just") {
                                                      const fiber = _makeFiber(
                                                        ffiUtil$1,
                                                        _bind(addEventAff(v.firestoreDb)(a2.did._1)($Event_($EventV0(
                                                          "LeapEventV0",
                                                          {
                                                            marker1Time: time1,
                                                            audioURL: Nothing,
                                                            marker2Time: time2,
                                                            position,
                                                            name: Nothing,
                                                            column: C9,
                                                            version: $Version(0)
                                                          }
                                                        ))))((evDid) => _liftEffect((() => {
                                                          const $30 = associateEventDocumentIdWithMarker(m0)(evDid.id);
                                                          const $31 = associateEventDocumentIdWithMarker(m1)(evDid.id);
                                                          const $32 = endgame(position, $Maybe("Just", evDid.id));
                                                          return () => {
                                                            $30();
                                                            $31();
                                                            const a$p$1 = $32();
                                                            return a$p$1;
                                                          };
                                                        })()))
                                                      )();
                                                      fiber.run();
                                                      return unit;
                                                    }
                                                    fail$3();
                                                  };
                                                })()();
                                                return true;
                                              }
                                            )
                                          };
                                          return k($17);
                                        }
                                      );
                                    })(),
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls) })
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Add Leap"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    (() => {
                                      const $12 = biSampleOn$2((tf, k) => {
                                        const a$p = v1._2.documentId(tf, (a2) => k($Maybe("Just", a2)));
                                        const a$p$1 = applicativeEvent.pure(Nothing)(tf, k);
                                        return () => {
                                          a$p();
                                          return a$p$1();
                                        };
                                      })(biSampleOn$2(markerIndices)((b, k) => v1._2.waveSurfer(b, (a2) => k((v3) => (v42) => ({ ws: a2, ixs: v3, did: v42 })))));
                                      return (b, k) => $12(
                                        b,
                                        (a2) => {
                                          const $16 = getCurrentTime(a2.ws);
                                          const $17 = {
                                            key: "click",
                                            value: $AttributeValue(
                                              "Cb'",
                                              (v$1) => () => {
                                                const ct = $16();
                                                const dur = getDuration(a2.ws)();
                                                (() => {
                                                  const time2 = min$2(dur)(0.5 + ct);
                                                  const time1 = min$2(dur)(0 + ct);
                                                  const endgame = (x) => v1._1.addLongPress($Tuple(
                                                    x,
                                                    {
                                                      marker1Time: time1,
                                                      audioURL: Nothing,
                                                      marker2Time: time2,
                                                      length: 1,
                                                      column: C9,
                                                      name: Nothing,
                                                      version: $Version(0)
                                                    }
                                                  ));
                                                  return () => {
                                                    const m0 = addMarker(a2.ws)(a2.ixs._1)(0)({ color: dC(a2.ixs._1), label: "P1", time: time1 })();
                                                    const m1 = addMarker(a2.ws)(a2.ixs._1)(1)({ color: dC(a2.ixs._1), label: "P2", time: time2 })();
                                                    v1._1.atomicEventOperation(aAddLongPress({
                                                      id: a2.ixs._1,
                                                      name: Nothing,
                                                      column: C9,
                                                      marker1Time: time1,
                                                      marker2Time: time2,
                                                      length: 1
                                                    }))();
                                                    const $26 = endgame(Nothing);
                                                    if (a2.did.tag === "Nothing") {
                                                      return $26();
                                                    }
                                                    if (a2.did.tag === "Just") {
                                                      const fiber = _makeFiber(
                                                        ffiUtil$1,
                                                        _bind(addEventAff(v.firestoreDb)(a2.did._1)($Event_($EventV0(
                                                          "LongEventV0",
                                                          {
                                                            marker1Time: time1,
                                                            audioURL: Nothing,
                                                            marker2Time: time2,
                                                            length: 1,
                                                            name: Nothing,
                                                            column: C9,
                                                            version: $Version(0)
                                                          }
                                                        ))))((evDid) => _liftEffect((() => {
                                                          const $28 = associateEventDocumentIdWithMarker(m0)(evDid.id);
                                                          const $29 = associateEventDocumentIdWithMarker(m1)(evDid.id);
                                                          const $30 = endgame($Maybe("Just", evDid.id));
                                                          return () => {
                                                            $28();
                                                            $29();
                                                            const a$p = $30();
                                                            return a$p;
                                                          };
                                                        })()))
                                                      )();
                                                      fiber.run();
                                                      return unit;
                                                    }
                                                    fail$3();
                                                  };
                                                })()();
                                                return true;
                                              }
                                            )
                                          };
                                          return k($17);
                                        }
                                      );
                                    })(),
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls) })
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Add Long Press"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    applicativeEvent.pure({
                                      key: "class",
                                      value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                    }),
                                    (b, k) => mostRecentData(
                                      b,
                                      (a2) => {
                                        const $15 = log("starting from most recent data: " + writeJSON({
                                          track: a2._1._1,
                                          evs: fromFoldable$3(foldableMap.foldr(Cons)(Nil)(a2._2))
                                        }));
                                        const $16 = {
                                          key: "click",
                                          value: $AttributeValue(
                                            "Cb'",
                                            (v$1) => () => {
                                              $15();
                                              v1._1.loadingScreenVisible(true)();
                                              const ctx = context_();
                                              const fiber = _makeFiber(
                                                ffiUtil$1,
                                                _bind(decodeAudioDataFromUri(ctx)(a2._1._1.url))((buffy) => _liftEffect(() => {
                                                  const $21 = tli.soundObj.value;
                                                  tli.soundObj.value = mutate(poke(a2._1._1.url)(buffy))($21);
                                                  v1._1.previewScreenVisible($Maybe("Just", wtut))();
                                                  return v1._1.loadingScreenVisible(false)();
                                                }))
                                              )();
                                              fiber.run();
                                              return true;
                                            }
                                          )
                                        };
                                        return k($16);
                                      }
                                    )
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Preview"))]))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    applicativeEvent.pure({ key: "id", value: $AttributeValue("Prop'", "google_sign_in") }),
                                    applicativeEvent.pure((() => {
                                      const $12 = signInWithGoogle();
                                      return {
                                        key: "click",
                                        value: $AttributeValue(
                                          "Cb'",
                                          (v$1) => () => {
                                            $12();
                                            return true;
                                          }
                                        )
                                      };
                                    })()),
                                    (b, k) => v.signedInNonAnonymously(
                                      b,
                                      (a2) => {
                                        const $15 = {
                                          key: "class",
                                          value: $AttributeValue(
                                            "Prop'",
                                            (() => {
                                              if (a2) {
                                                return buttonCls + " hidden";
                                              }
                                              return buttonCls + "";
                                            })()
                                          )
                                        };
                                        return k($15);
                                      }
                                    )
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Save (sign in)"))]))
                                )
                              ]
                            ))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(oneOf$7([
                              applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "overflow-scroll") })
                            ]))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("div")(oneOf$7([
                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "accordion") }),
                                    applicativeEvent.pure({ key: "id", value: $AttributeValue("Prop'", "accordionExample") })
                                  ]))($Entity(
                                    "FixedChildren'",
                                    [
                                      (() => {
                                        const $12 = sampleOn((b, k) => {
                                          const result2 = { value: $Tuple(true, 7) };
                                          return applicativeEvent.pure(unit)(
                                            b,
                                            (a2) => {
                                              const $16 = result2.value;
                                              const res = result2.value = (() => {
                                                if ($16._1 && $16._2 >= 10) {
                                                  return $Tuple(false, 9);
                                                }
                                                if (!$16._1 && $16._2 <= 4) {
                                                  return $Tuple(true, 5);
                                                }
                                                return $Tuple(
                                                  $16._1,
                                                  (() => {
                                                    if ($16._1) {
                                                      return $16._2 + 1 | 0;
                                                    }
                                                    return $16._2 - 1 | 0;
                                                  })()
                                                );
                                              })();
                                              return k(res._2);
                                            }
                                          );
                                        })(sampleOn(v1._2.waveSurfer)((() => {
                                          const $122 = mapAccum$2((a2) => (v2) => {
                                            if (a2.tag === "CBasic") {
                                              return $Tuple({ id: v2.id + 1 | 0, startIx: v2.startIx + 4 | 0 }, defaultBasic(v2.id)(v2.startIx)(a2._1._1)(a2._1._2));
                                            }
                                            if (a2.tag === "CLeap") {
                                              return $Tuple({ id: v2.id + 1 | 0, startIx: v2.startIx + 2 | 0 }, defaultLeap(v2.id)(v2.startIx)(a2._1._1)(a2._1._2));
                                            }
                                            if (a2.tag === "CLongPress") {
                                              return $Tuple({ id: v2.id + 1 | 0, startIx: v2.startIx + 2 | 0 }, defaultLongPress(v2.id)(v2.startIx)(a2._1._1)(a2._1._2));
                                            }
                                            fail$3();
                                          })(ctrlEvent)({ id: 0, startIx: 0 });
                                          return (b, k) => $122(b, (a2) => k((v3) => (v42) => ({ itm: a2, ws: v3, nac: v42 })));
                                        })()));
                                        return $Entity(
                                          "DynamicChildren'",
                                          (b, k) => $12(
                                            b,
                                            (a2) => {
                                              const $16 = keepLatest(vbus($$Proxy)((p$p) => (e$p) => {
                                                const v3 = (() => {
                                                  if (a2.itm.tag === "LBasic") {
                                                    return $Tuple(
                                                      (() => {
                                                        const $18 = "Tile " + showIntImpl(a2.itm._1.id);
                                                        if (a2.itm._1.name.tag === "Nothing") {
                                                          return $18;
                                                        }
                                                        if (a2.itm._1.name.tag === "Just") {
                                                          return a2.itm._1.name._1;
                                                        }
                                                        fail$3();
                                                      })(),
                                                      "\u2665"
                                                    );
                                                  }
                                                  if (a2.itm.tag === "LLeap") {
                                                    return $Tuple(
                                                      (() => {
                                                        const $18 = "Leap " + showIntImpl(a2.itm._1.id);
                                                        if (a2.itm._1.name.tag === "Nothing") {
                                                          return $18;
                                                        }
                                                        if (a2.itm._1.name.tag === "Just") {
                                                          return a2.itm._1.name._1;
                                                        }
                                                        fail$3();
                                                      })(),
                                                      "\u2660"
                                                    );
                                                  }
                                                  if (a2.itm.tag === "LLong") {
                                                    return $Tuple(
                                                      (() => {
                                                        const $18 = "Long " + showIntImpl(a2.itm._1.id);
                                                        if (a2.itm._1.name.tag === "Nothing") {
                                                          return $18;
                                                        }
                                                        if (a2.itm._1.name.tag === "Just") {
                                                          return a2.itm._1.name._1;
                                                        }
                                                        fail$3();
                                                      })(),
                                                      "\u2666"
                                                    );
                                                  }
                                                  fail$3();
                                                })();
                                                const v42 = (() => {
                                                  if (a2.itm.tag === "LBasic") {
                                                    return $Tuple(
                                                      a2.itm._1.id,
                                                      $Tuple(
                                                        a2.itm._1.name,
                                                        $Tuple(
                                                          a2.itm._1.col,
                                                          $Tuple(
                                                            a2.itm._1.startIx,
                                                            $Tuple(
                                                              a2.itm._1.fbId,
                                                              $Tuple(4, [a2.itm._1.l1.at, a2.itm._1.l2.at, a2.itm._1.l3.at, a2.itm._1.l4.at])
                                                            )
                                                          )
                                                        )
                                                      )
                                                    );
                                                  }
                                                  if (a2.itm.tag === "LLeap") {
                                                    return $Tuple(
                                                      a2.itm._1.id,
                                                      $Tuple(
                                                        a2.itm._1.name,
                                                        $Tuple(
                                                          a2.itm._1.col,
                                                          $Tuple(
                                                            a2.itm._1.startIx,
                                                            $Tuple(a2.itm._1.fbId, $Tuple(2, [a2.itm._1.start.at, a2.itm._1.end.at]))
                                                          )
                                                        )
                                                      )
                                                    );
                                                  }
                                                  if (a2.itm.tag === "LLong") {
                                                    return $Tuple(
                                                      a2.itm._1.id,
                                                      $Tuple(
                                                        a2.itm._1.name,
                                                        $Tuple(
                                                          a2.itm._1.col,
                                                          $Tuple(
                                                            a2.itm._1.startIx,
                                                            $Tuple(a2.itm._1.fbId, $Tuple(2, [a2.itm._1.start.at, a2.itm._1.end.at]))
                                                          )
                                                        )
                                                      )
                                                    );
                                                  }
                                                  fail$3();
                                                })();
                                                const $20 = applicativeEvent.pure($Child(
                                                  "Insert",
                                                  $Entity(
                                                    "Element'",
                                                    elementify("div")(oneOf$7([
                                                      applicativeEvent.pure({
                                                        key: "class",
                                                        value: $AttributeValue("Prop'", "accordion-item bg-zinc-900 border border-white")
                                                      })
                                                    ]))($Entity(
                                                      "FixedChildren'",
                                                      [
                                                        $Entity(
                                                          "Element'",
                                                          elementify("h2")(oneOf$7([
                                                            applicativeEvent.pure({
                                                              key: "class",
                                                              value: $AttributeValue("Prop'", "accordion-header bg-zinc-900 mb-0")
                                                            }),
                                                            applicativeEvent.pure({
                                                              key: "id",
                                                              value: $AttributeValue("Prop'", "heading" + showIntImpl(v42._1))
                                                            })
                                                          ]))($Entity(
                                                            "FixedChildren'",
                                                            [
                                                              $Entity(
                                                                "Element'",
                                                                elementify("button")(oneOf$7([
                                                                  applicativeEvent.pure({
                                                                    key: "class",
                                                                    value: $AttributeValue(
                                                                      "Prop'",
                                                                      "accordion-button-ms accordion-button\n      relative\n      flex\n      items-center\n      w-full\n      py-4\n      px-5\n      text-base text-white text-left\n      bg-zinc-900\n      border-0\n      rounded-none\n      transition\n      focus:outline-none"
                                                                    )
                                                                  }),
                                                                  applicativeEvent.pure({
                                                                    key: "data-bs-toggle",
                                                                    value: $AttributeValue("Prop'", "collapse")
                                                                  }),
                                                                  applicativeEvent.pure({
                                                                    key: "data-bs-target",
                                                                    value: $AttributeValue("Prop'", "#collapse" + showIntImpl(v42._1))
                                                                  })
                                                                ]))($Entity(
                                                                  "FixedChildren'",
                                                                  [
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "mr-2") }),
                                                                        applicativeEvent.pure({
                                                                          key: "style",
                                                                          value: $AttributeValue("Prop'", "color: " + (dC(v42._1) + ";"))
                                                                        })
                                                                      ]))($Entity("FixedChildren'", [text(applicativeEvent.pure(v3._2))]))
                                                                    ),
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(plusEvent.empty)($Entity(
                                                                        "FixedChildren'",
                                                                        [
                                                                          text((tf, k$1) => {
                                                                            const a$p = e$p.changeName(
                                                                              tf,
                                                                              (a$1) => {
                                                                                const $23 = (() => {
                                                                                  if (a$1.tag === "Just") {
                                                                                    return a$1._1;
                                                                                  }
                                                                                  if (a$1.tag === "Nothing") {
                                                                                    return v3._1;
                                                                                  }
                                                                                  fail$3();
                                                                                })();
                                                                                return k$1($23);
                                                                              }
                                                                            );
                                                                            const a$p$1 = applicativeEvent.pure(v3._1)(tf, k$1);
                                                                            return () => {
                                                                              a$p();
                                                                              return a$p$1();
                                                                            };
                                                                          }),
                                                                          text(applicativeEvent.pure(" (Column ")),
                                                                          text((b$1, k$1) => {
                                                                            const $22 = (a$1) => {
                                                                              const $23 = _unsafeStringify((() => {
                                                                                if (a$1.tag === "C1") {
                                                                                  return 1;
                                                                                }
                                                                                if (a$1.tag === "C2") {
                                                                                  return 2;
                                                                                }
                                                                                if (a$1.tag === "C3") {
                                                                                  return 3;
                                                                                }
                                                                                if (a$1.tag === "C4") {
                                                                                  return 4;
                                                                                }
                                                                                if (a$1.tag === "C5") {
                                                                                  return 5;
                                                                                }
                                                                                if (a$1.tag === "C6") {
                                                                                  return 6;
                                                                                }
                                                                                if (a$1.tag === "C7") {
                                                                                  return 7;
                                                                                }
                                                                                if (a$1.tag === "C8") {
                                                                                  return 8;
                                                                                }
                                                                                if (a$1.tag === "C9") {
                                                                                  return 9;
                                                                                }
                                                                                if (a$1.tag === "C10") {
                                                                                  return 10;
                                                                                }
                                                                                if (a$1.tag === "C11") {
                                                                                  return 11;
                                                                                }
                                                                                if (a$1.tag === "C12") {
                                                                                  return 12;
                                                                                }
                                                                                if (a$1.tag === "C13") {
                                                                                  return 13;
                                                                                }
                                                                                if (a$1.tag === "C14") {
                                                                                  return 14;
                                                                                }
                                                                                if (a$1.tag === "C15") {
                                                                                  return 15;
                                                                                }
                                                                                if (a$1.tag === "C16") {
                                                                                  return 16;
                                                                                }
                                                                                if (a$1.tag === "C17") {
                                                                                  return 17;
                                                                                }
                                                                                fail$3();
                                                                              })());
                                                                              return k$1($23);
                                                                            };
                                                                            const a$p = e$p.changeColumn(b$1, $22);
                                                                            const a$p$1 = applicativeEvent.pure(v42._2._2._1)(b$1, $22);
                                                                            return () => {
                                                                              a$p();
                                                                              return a$p$1();
                                                                            };
                                                                          }),
                                                                          text(applicativeEvent.pure(") ")),
                                                                          text((() => {
                                                                            const $202 = markerEvent(v42._1);
                                                                            return (b$1, k$1) => {
                                                                              const $23 = (a$1) => {
                                                                                const $24 = " (" + (intercalate(",")(arrayMap(toStringWith($Format(
                                                                                  "Fixed",
                                                                                  clamp$2(0)(20)(2)
                                                                                )))(a$1)) + ")");
                                                                                return k$1($24);
                                                                              };
                                                                              const a$p = applicativeEvent.pure(v42._2._2._2._2._2._2)(b$1, $23);
                                                                              const result2 = { value: v42._2._2._2._2._2._2 };
                                                                              const a$p$1 = $202(
                                                                                b$1,
                                                                                (a$1) => {
                                                                                  const $27 = result2.value;
                                                                                  const res = result2.value = indexArray.ix(a$1.offset)(strongFn)(choiceFn)((v$1) => a$1.time)($27);
                                                                                  return $23(res);
                                                                                }
                                                                              );
                                                                              return () => {
                                                                                a$p();
                                                                                return a$p$1();
                                                                              };
                                                                            };
                                                                          })())
                                                                        ]
                                                                      ))
                                                                    ),
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        (b$1, k$1) => {
                                                                          const result2 = { value: false };
                                                                          const a$p = e$p.solo(
                                                                            b$1,
                                                                            (a$1) => {
                                                                              const $24 = result2.value;
                                                                              const res = result2.value = !$24;
                                                                              return k$1({
                                                                                key: "class",
                                                                                value: $AttributeValue(
                                                                                  "Prop'",
                                                                                  (() => {
                                                                                    if (res) {
                                                                                      return "text-white font-bold pl-2 ";
                                                                                    }
                                                                                    return "text-white font-bold pl-2  hidden";
                                                                                  })()
                                                                                )
                                                                              });
                                                                            }
                                                                          );
                                                                          const a$p$1 = applicativeEvent.pure(false)(
                                                                            b$1,
                                                                            (a$1) => k$1({
                                                                              key: "class",
                                                                              value: $AttributeValue(
                                                                                "Prop'",
                                                                                (() => {
                                                                                  if (a$1) {
                                                                                    return "text-white font-bold pl-2 ";
                                                                                  }
                                                                                  return "text-white font-bold pl-2  hidden";
                                                                                })()
                                                                              )
                                                                            })
                                                                          );
                                                                          return () => {
                                                                            a$p();
                                                                            return a$p$1();
                                                                          };
                                                                        }
                                                                      ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("S"))]))
                                                                    ),
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        (b$1, k$1) => {
                                                                          const result2 = { value: false };
                                                                          const a$p = e$p.mute(
                                                                            b$1,
                                                                            (a$1) => {
                                                                              const $24 = result2.value;
                                                                              const res = result2.value = !$24;
                                                                              return k$1({
                                                                                key: "class",
                                                                                value: $AttributeValue(
                                                                                  "Prop'",
                                                                                  (() => {
                                                                                    if (res) {
                                                                                      return "text-white font-bold pl-2 ";
                                                                                    }
                                                                                    return "text-white font-bold pl-2  hidden";
                                                                                  })()
                                                                                )
                                                                              });
                                                                            }
                                                                          );
                                                                          const a$p$1 = applicativeEvent.pure(false)(
                                                                            b$1,
                                                                            (a$1) => k$1({
                                                                              key: "class",
                                                                              value: $AttributeValue(
                                                                                "Prop'",
                                                                                (() => {
                                                                                  if (a$1) {
                                                                                    return "text-white font-bold pl-2 ";
                                                                                  }
                                                                                  return "text-white font-bold pl-2  hidden";
                                                                                })()
                                                                              )
                                                                            })
                                                                          );
                                                                          return () => {
                                                                            a$p();
                                                                            return a$p$1();
                                                                          };
                                                                        }
                                                                      ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("M"))]))
                                                                    )
                                                                  ]
                                                                ))
                                                              )
                                                            ]
                                                          ))
                                                        ),
                                                        $Entity(
                                                          "Element'",
                                                          elementify("div")(oneOf$7([
                                                            applicativeEvent.pure({
                                                              key: "id",
                                                              value: $AttributeValue("Prop'", "collapse" + showIntImpl(v42._1))
                                                            }),
                                                            applicativeEvent.pure({
                                                              key: "class",
                                                              value: $AttributeValue(
                                                                "Prop'",
                                                                (() => {
                                                                  if (v42._1 === 0) {
                                                                    return "accordion-collapse collapse show";
                                                                  }
                                                                  return "accordion-collapse collapse";
                                                                })()
                                                              )
                                                            }),
                                                            applicativeEvent.pure({
                                                              key: "data-bs-parent",
                                                              value: $AttributeValue("Prop'", "#accordionExample")
                                                            })
                                                          ]))($Entity(
                                                            "FixedChildren'",
                                                            [
                                                              $Entity(
                                                                "Element'",
                                                                elementify("div")(oneOf$7([
                                                                  applicativeEvent.pure({
                                                                    key: "class",
                                                                    value: $AttributeValue("Prop'", "accordion-body bg-zinc-900 py-4 px-5")
                                                                  })
                                                                ]))($Entity(
                                                                  "FixedChildren'",
                                                                  [
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        applicativeEvent.pure({
                                                                          key: "class",
                                                                          value: $AttributeValue("Prop'", "inline-block")
                                                                        })
                                                                      ]))($Entity(
                                                                        "FixedChildren'",
                                                                        [
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("label")(oneOf$7([
                                                                              applicativeEvent.pure({
                                                                                key: "class",
                                                                                value: $AttributeValue("Prop'", "text-white ml-2")
                                                                              })
                                                                            ]))($Entity(
                                                                              "FixedChildren'",
                                                                              [text(applicativeEvent.pure("Name"))]
                                                                            ))
                                                                          ),
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("input")(oneOf$7(concatArray([
                                                                              (() => {
                                                                                const $202 = biSampleOn$2((() => {
                                                                                  const $203 = ctor(v42._1);
                                                                                  return (tf, k$1) => {
                                                                                    const a$p = $203(tf, (a$1) => k$1($Maybe("Just", a$1)));
                                                                                    const a$p$1 = applicativeEvent.pure(Nothing)(tf, k$1);
                                                                                    return () => {
                                                                                      a$p();
                                                                                      return a$p$1();
                                                                                    };
                                                                                  };
                                                                                })())((b$1, k$1) => docEv(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $23 = Tuple(a$1);
                                                                                    return k$1($23);
                                                                                  }
                                                                                ));
                                                                                return (b$1, k$1) => $202(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $24 = {
                                                                                      key: "input",
                                                                                      value: $AttributeValue(
                                                                                        "Cb'",
                                                                                        (x) => {
                                                                                          const $25 = for_1((() => {
                                                                                            const $252 = nullable(
                                                                                              _target(x),
                                                                                              Nothing,
                                                                                              Just
                                                                                            );
                                                                                            if ($252.tag === "Just") {
                                                                                              return _unsafeReadProtoTagged(
                                                                                                Nothing,
                                                                                                Just,
                                                                                                "HTMLInputElement",
                                                                                                $252._1
                                                                                              );
                                                                                            }
                                                                                            if ($252.tag === "Nothing") {
                                                                                              return Nothing;
                                                                                            }
                                                                                            fail$3();
                                                                                          })())((x$1) => {
                                                                                            const $26 = value(x$1);
                                                                                            return () => {
                                                                                              const v6 = $26();
                                                                                              const nm = (() => {
                                                                                                if (v6 === "") {
                                                                                                  return Nothing;
                                                                                                }
                                                                                                return $Maybe("Just", v6);
                                                                                              })();
                                                                                              p$p.changeName(nm)();
                                                                                              v1._1.atomicEventOperation(aChangeName({ id: v42._1, name: nm }))();
                                                                                              return for_1(applyMaybe.apply((() => {
                                                                                                if (a$1._1.tag === "Just") {
                                                                                                  return $Maybe("Just", Tuple(a$1._1._1));
                                                                                                }
                                                                                                return Nothing;
                                                                                              })())((() => {
                                                                                                if (v42._2._2._2._2._1.tag === "Nothing") {
                                                                                                  return a$1._2;
                                                                                                }
                                                                                                return v42._2._2._2._2._1;
                                                                                              })()))((v7) => () => {
                                                                                                const fiber = _makeFiber(
                                                                                                  ffiUtil$1,
                                                                                                  updateEventNameAff(v.firestoreDb)(v7._1)(v7._2)(v6)
                                                                                                )();
                                                                                                fiber.run();
                                                                                                return unit;
                                                                                              })();
                                                                                            };
                                                                                          });
                                                                                          return () => {
                                                                                            $25();
                                                                                            return true;
                                                                                          };
                                                                                        }
                                                                                      )
                                                                                    };
                                                                                    return k$1($24);
                                                                                  }
                                                                                );
                                                                              })(),
                                                                              applicativeEvent.pure({
                                                                                key: "class",
                                                                                value: $AttributeValue(
                                                                                  "Prop'",
                                                                                  "bg-inherit text-white mx-2 appearance-none border rounded py-2 px-2 leading-tight focus:outline-none focus:shadow-outline"
                                                                                )
                                                                              }),
                                                                              applicativeEvent.pure({
                                                                                key: "placeholder",
                                                                                value: $AttributeValue("Prop'", v3._1)
                                                                              })
                                                                            ])((() => {
                                                                              if (v42._2._1.tag === "Nothing") {
                                                                                return [];
                                                                              }
                                                                              if (v42._2._1.tag === "Just") {
                                                                                return [
                                                                                  applicativeEvent.pure({
                                                                                    key: "value",
                                                                                    value: $AttributeValue("Prop'", v42._2._1._1)
                                                                                  })
                                                                                ];
                                                                              }
                                                                              fail$3();
                                                                            })())))($Entity("FixedChildren'", []))
                                                                          )
                                                                        ]
                                                                      ))
                                                                    ),
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        applicativeEvent.pure({
                                                                          key: "class",
                                                                          value: $AttributeValue("Prop'", "inline-block")
                                                                        })
                                                                      ]))($Entity(
                                                                        "FixedChildren'",
                                                                        [
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("label")(oneOf$7([
                                                                              applicativeEvent.pure({
                                                                                key: "class",
                                                                                value: $AttributeValue("Prop'", "text-white")
                                                                              })
                                                                            ]))($Entity(
                                                                              "FixedChildren'",
                                                                              [text(applicativeEvent.pure("Column"))]
                                                                            ))
                                                                          ),
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("input")(oneOf$7([
                                                                              (() => {
                                                                                const $202 = biSampleOn$2((() => {
                                                                                  const $203 = ctor(v42._1);
                                                                                  return (tf, k$1) => {
                                                                                    const a$p = $203(tf, (a$1) => k$1($Maybe("Just", a$1)));
                                                                                    const a$p$1 = applicativeEvent.pure(Nothing)(tf, k$1);
                                                                                    return () => {
                                                                                      a$p();
                                                                                      return a$p$1();
                                                                                    };
                                                                                  };
                                                                                })())((b$1, k$1) => docEv(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $23 = Tuple(a$1);
                                                                                    return k$1($23);
                                                                                  }
                                                                                ));
                                                                                return (b$1, k$1) => $202(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $24 = {
                                                                                      key: "input",
                                                                                      value: $AttributeValue(
                                                                                        "Cb'",
                                                                                        (x) => {
                                                                                          const $25 = for_1((() => {
                                                                                            const $252 = nullable(
                                                                                              _target(x),
                                                                                              Nothing,
                                                                                              Just
                                                                                            );
                                                                                            if ($252.tag === "Just") {
                                                                                              return _unsafeReadProtoTagged(
                                                                                                Nothing,
                                                                                                Just,
                                                                                                "HTMLInputElement",
                                                                                                $252._1
                                                                                              );
                                                                                            }
                                                                                            if ($252.tag === "Nothing") {
                                                                                              return Nothing;
                                                                                            }
                                                                                            fail$3();
                                                                                          })())((x$1) => {
                                                                                            const $26 = valueAsNumber(x$1);
                                                                                            return () => {
                                                                                              const a$p = $26();
                                                                                              const $28 = intToColumn(unsafeClamp(floor(a$p)));
                                                                                              if ($28.tag === "Left") {
                                                                                                p$p.changeColumn(C9)();
                                                                                                v1._1.atomicEventOperation(aChangeColumn({ id: v42._1, column: C9 }))();
                                                                                                return for_1(applyMaybe.apply((() => {
                                                                                                  if (a$1._1.tag === "Just") {
                                                                                                    return $Maybe("Just", Tuple(a$1._1._1));
                                                                                                  }
                                                                                                  return Nothing;
                                                                                                })())((() => {
                                                                                                  if (v42._2._2._2._2._1.tag === "Nothing") {
                                                                                                    return a$1._2;
                                                                                                  }
                                                                                                  return v42._2._2._2._2._1;
                                                                                                })()))((v7) => () => {
                                                                                                  const fiber = _makeFiber(
                                                                                                    ffiUtil$1,
                                                                                                    updateColumnAff(v.firestoreDb)(v7._1)(v7._2)(C9)
                                                                                                  )();
                                                                                                  fiber.run();
                                                                                                  return unit;
                                                                                                })();
                                                                                              }
                                                                                              if ($28.tag === "Right") {
                                                                                                p$p.changeColumn($28._1)();
                                                                                                v1._1.atomicEventOperation(aChangeColumn({ id: v42._1, column: $28._1 }))();
                                                                                                return for_1(applyMaybe.apply((() => {
                                                                                                  if (a$1._1.tag === "Just") {
                                                                                                    return $Maybe("Just", Tuple(a$1._1._1));
                                                                                                  }
                                                                                                  return Nothing;
                                                                                                })())((() => {
                                                                                                  if (v42._2._2._2._2._1.tag === "Nothing") {
                                                                                                    return a$1._2;
                                                                                                  }
                                                                                                  return v42._2._2._2._2._1;
                                                                                                })()))((v7) => () => {
                                                                                                  const fiber = _makeFiber(
                                                                                                    ffiUtil$1,
                                                                                                    updateColumnAff(v.firestoreDb)(v7._1)(v7._2)($28._1)
                                                                                                  )();
                                                                                                  fiber.run();
                                                                                                  return unit;
                                                                                                })();
                                                                                              }
                                                                                              fail$3();
                                                                                            };
                                                                                          });
                                                                                          return () => {
                                                                                            $25();
                                                                                            return true;
                                                                                          };
                                                                                        }
                                                                                      )
                                                                                    };
                                                                                    return k$1($24);
                                                                                  }
                                                                                );
                                                                              })(),
                                                                              applicativeEvent.pure({
                                                                                key: "type",
                                                                                value: $AttributeValue("Prop'", "number")
                                                                              }),
                                                                              applicativeEvent.pure({
                                                                                key: "value",
                                                                                value: $AttributeValue(
                                                                                  "Prop'",
                                                                                  _unsafeStringify((() => {
                                                                                    if (v42._2._2._1.tag === "C1") {
                                                                                      return 1;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C2") {
                                                                                      return 2;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C3") {
                                                                                      return 3;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C4") {
                                                                                      return 4;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C5") {
                                                                                      return 5;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C6") {
                                                                                      return 6;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C7") {
                                                                                      return 7;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C8") {
                                                                                      return 8;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C9") {
                                                                                      return 9;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C10") {
                                                                                      return 10;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C11") {
                                                                                      return 11;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C12") {
                                                                                      return 12;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C13") {
                                                                                      return 13;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C14") {
                                                                                      return 14;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C15") {
                                                                                      return 15;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C16") {
                                                                                      return 16;
                                                                                    }
                                                                                    if (v42._2._2._1.tag === "C17") {
                                                                                      return 17;
                                                                                    }
                                                                                    fail$3();
                                                                                  })())
                                                                                )
                                                                              }),
                                                                              applicativeEvent.pure({ key: "min", value: $AttributeValue("Prop'", "1") }),
                                                                              applicativeEvent.pure({ key: "max", value: $AttributeValue("Prop'", "17") }),
                                                                              applicativeEvent.pure({
                                                                                key: "class",
                                                                                value: $AttributeValue(
                                                                                  "Prop'",
                                                                                  "bg-inherit text-white mx-2 appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:shadow-outline"
                                                                                )
                                                                              })
                                                                            ]))($Entity("FixedChildren'", []))
                                                                          )
                                                                        ]
                                                                      ))
                                                                    ),
                                                                    $Entity(
                                                                      "Element'",
                                                                      elementify("span")(oneOf$7([
                                                                        applicativeEvent.pure({
                                                                          key: "class",
                                                                          value: $AttributeValue("Prop'", "inline-block")
                                                                        })
                                                                      ]))($Entity(
                                                                        "FixedChildren'",
                                                                        [
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("button")(oneOf$7([
                                                                              (b$1, k$1) => {
                                                                                const result2 = { value: false };
                                                                                const a$p = e$p.solo(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $24 = result2.value;
                                                                                    const res = result2.value = !$24;
                                                                                    return k$1({
                                                                                      key: "class",
                                                                                      value: $AttributeValue(
                                                                                        "Prop'",
                                                                                        (() => {
                                                                                          if (res) {
                                                                                            return buttonActiveCls + " mr-2";
                                                                                          }
                                                                                          return buttonCls + " mr-2";
                                                                                        })()
                                                                                      )
                                                                                    });
                                                                                  }
                                                                                );
                                                                                const a$p$1 = applicativeEvent.pure(false)(
                                                                                  b$1,
                                                                                  (a$1) => k$1({
                                                                                    key: "class",
                                                                                    value: $AttributeValue(
                                                                                      "Prop'",
                                                                                      (() => {
                                                                                        if (a$1) {
                                                                                          return buttonActiveCls + " mr-2";
                                                                                        }
                                                                                        return buttonCls + " mr-2";
                                                                                      })()
                                                                                    )
                                                                                  })
                                                                                );
                                                                                return () => {
                                                                                  a$p();
                                                                                  return a$p$1();
                                                                                };
                                                                              },
                                                                              click$4((b$1, k$1) => {
                                                                                const $22 = (a$1) => {
                                                                                  const $23 = (() => {
                                                                                    if (a$1) {
                                                                                      return v1._1.unSolo($Tuple(v42._2._2._2._1, v42._2._2._2._2._2._1));
                                                                                    }
                                                                                    return v1._1.solo($Tuple(v42._2._2._2._1, v42._2._2._2._2._2._1));
                                                                                  })();
                                                                                  return k$1(() => {
                                                                                    $23();
                                                                                    return p$p.solo(unit)();
                                                                                  });
                                                                                };
                                                                                const result2 = { value: false };
                                                                                const a$p = e$p.solo(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $25 = result2.value;
                                                                                    const res = result2.value = !$25;
                                                                                    return $22(res);
                                                                                  }
                                                                                );
                                                                                const a$p$1 = applicativeEvent.pure(false)(b$1, $22);
                                                                                return () => {
                                                                                  a$p();
                                                                                  return a$p$1();
                                                                                };
                                                                              })
                                                                            ]))($Entity(
                                                                              "FixedChildren'",
                                                                              [
                                                                                $Entity(
                                                                                  "Element'",
                                                                                  elementify("span")(oneOf$7([]))($Entity(
                                                                                    "FixedChildren'",
                                                                                    [text(applicativeEvent.pure("Solo"))]
                                                                                  ))
                                                                                )
                                                                              ]
                                                                            ))
                                                                          ),
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("button")(oneOf$7([
                                                                              (b$1, k$1) => {
                                                                                const result2 = { value: false };
                                                                                const a$p = e$p.mute(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $24 = result2.value;
                                                                                    const res = result2.value = !$24;
                                                                                    return k$1({
                                                                                      key: "class",
                                                                                      value: $AttributeValue(
                                                                                        "Prop'",
                                                                                        (() => {
                                                                                          if (res) {
                                                                                            return buttonActiveCls + " mr-2";
                                                                                          }
                                                                                          return buttonCls + " mr-2";
                                                                                        })()
                                                                                      )
                                                                                    });
                                                                                  }
                                                                                );
                                                                                const a$p$1 = applicativeEvent.pure(false)(
                                                                                  b$1,
                                                                                  (a$1) => k$1({
                                                                                    key: "class",
                                                                                    value: $AttributeValue(
                                                                                      "Prop'",
                                                                                      (() => {
                                                                                        if (a$1) {
                                                                                          return buttonActiveCls + " mr-2";
                                                                                        }
                                                                                        return buttonCls + " mr-2";
                                                                                      })()
                                                                                    )
                                                                                  })
                                                                                );
                                                                                return () => {
                                                                                  a$p();
                                                                                  return a$p$1();
                                                                                };
                                                                              },
                                                                              click$4((b$1, k$1) => {
                                                                                const $22 = (a$1) => {
                                                                                  const $23 = (() => {
                                                                                    if (a$1) {
                                                                                      return v1._1.unMute($Tuple(v42._2._2._2._1, v42._2._2._2._2._2._1));
                                                                                    }
                                                                                    return v1._1.mute($Tuple(v42._2._2._2._1, v42._2._2._2._2._2._1));
                                                                                  })();
                                                                                  return k$1(() => {
                                                                                    $23();
                                                                                    return p$p.mute(unit)();
                                                                                  });
                                                                                };
                                                                                const result2 = { value: false };
                                                                                const a$p = e$p.mute(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $25 = result2.value;
                                                                                    const res = result2.value = !$25;
                                                                                    return $22(res);
                                                                                  }
                                                                                );
                                                                                const a$p$1 = applicativeEvent.pure(false)(b$1, $22);
                                                                                return () => {
                                                                                  a$p();
                                                                                  return a$p$1();
                                                                                };
                                                                              })
                                                                            ]))($Entity(
                                                                              "FixedChildren'",
                                                                              [
                                                                                $Entity(
                                                                                  "Element'",
                                                                                  elementify("span")(oneOf$7([]))($Entity(
                                                                                    "FixedChildren'",
                                                                                    [text(applicativeEvent.pure("Mute"))]
                                                                                  ))
                                                                                )
                                                                              ]
                                                                            ))
                                                                          ),
                                                                          $Entity(
                                                                            "Element'",
                                                                            elementify("button")(oneOf$7([
                                                                              (() => {
                                                                                const $202 = biSampleOn$2((() => {
                                                                                  const $203 = ctor(v42._1);
                                                                                  return (tf, k$1) => {
                                                                                    const a$p = $203(tf, (a$1) => k$1($Maybe("Just", a$1)));
                                                                                    const a$p$1 = applicativeEvent.pure(Nothing)(tf, k$1);
                                                                                    return () => {
                                                                                      a$p();
                                                                                      return a$p$1();
                                                                                    };
                                                                                  };
                                                                                })())((b$1, k$1) => docEv(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $23 = Tuple(a$1);
                                                                                    return k$1($23);
                                                                                  }
                                                                                ));
                                                                                return (b$1, k$1) => $202(
                                                                                  b$1,
                                                                                  (a$1) => {
                                                                                    const $24 = {
                                                                                      key: "click",
                                                                                      value: $AttributeValue(
                                                                                        "Cb'",
                                                                                        (x) => {
                                                                                          const $25 = for_2(range(v42._2._2._2._1)((v42._2._2._2._1 + v42._2._2._2._2._2._1 | 0) - 1 | 0))((v7) => removeMarker(a2.ws)(v42._2._2._2._1));
                                                                                          return () => {
                                                                                            $25();
                                                                                            p$p.delete(unit)();
                                                                                            v1._1.atomicEventOperation(aDeleteEvent_({ id: v42._1 }))();
                                                                                            for_1(applyMaybe.apply((() => {
                                                                                              if (a$1._1.tag === "Just") {
                                                                                                return $Maybe("Just", Tuple(a$1._1._1));
                                                                                              }
                                                                                              return Nothing;
                                                                                            })())((() => {
                                                                                              if (v42._2._2._2._2._1.tag === "Nothing") {
                                                                                                return a$1._2;
                                                                                              }
                                                                                              return v42._2._2._2._2._1;
                                                                                            })()))((v7) => () => {
                                                                                              const fiber = _makeFiber(
                                                                                                ffiUtil$1,
                                                                                                deleteEventAff(v.firestoreDb)(v7._1)(v7._2)
                                                                                              )();
                                                                                              fiber.run();
                                                                                              return unit;
                                                                                            })();
                                                                                            return true;
                                                                                          };
                                                                                        }
                                                                                      )
                                                                                    };
                                                                                    return k$1($24);
                                                                                  }
                                                                                );
                                                                              })(),
                                                                              applicativeEvent.pure({
                                                                                key: "class",
                                                                                value: $AttributeValue("Prop'", buttonCls + " mr-2")
                                                                              })
                                                                            ]))($Entity(
                                                                              "FixedChildren'",
                                                                              [
                                                                                $Entity(
                                                                                  "Element'",
                                                                                  elementify("span")(oneOf$7([]))($Entity(
                                                                                    "FixedChildren'",
                                                                                    [text(applicativeEvent.pure("Delete"))]
                                                                                  ))
                                                                                )
                                                                              ]
                                                                            ))
                                                                          )
                                                                        ]
                                                                      ))
                                                                    )
                                                                  ]
                                                                ))
                                                              )
                                                            ]
                                                          ))
                                                        )
                                                      ]
                                                    ))
                                                  )
                                                ));
                                                return (tf, k$1) => {
                                                  const a$p = $20(tf, k$1);
                                                  const a$p$1 = e$p.delete(tf, (a$1) => k$1(Remove));
                                                  return () => {
                                                    a$p();
                                                    return a$p$1();
                                                  };
                                                };
                                              }));
                                              return k($16);
                                            }
                                          )
                                        );
                                      })()
                                    ]
                                  ))
                                )
                              ]
                            ))
                          )
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")((b, k) => {
                        const a$p = v1._2.importerScreenVisible(
                          b,
                          (a2) => {
                            const $15 = {
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                (() => {
                                  if (a2) {
                                    return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                  }
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                                })()
                              )
                            };
                            return k($15);
                          }
                        );
                        const a$p$1 = applicativeEvent.pure(true)(
                          b,
                          (a2) => k({
                            key: "class",
                            value: $AttributeValue(
                              "Prop'",
                              (() => {
                                if (a2) {
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                }
                                return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                              })()
                            )
                          })
                        );
                        return () => {
                          a$p();
                          return a$p$1();
                        };
                      })($Entity(
                        "FixedChildren'",
                        [
                          $Entity(
                            "Element'",
                            elementify("div")(applicativeEvent.pure({
                              key: "class",
                              value: $AttributeValue("Prop'", "select-auto justify-self-center self-center row-start-3 row-end-5 col-start-2 col-end-6")
                            }))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("div")(applicativeEvent.pure({
                                    key: "class",
                                    value: $AttributeValue("Prop'", "pointer-events-auto text-center p-4 text-2xl text-slate-200")
                                  }))($Entity(
                                    "FixedChildren'",
                                    [
                                      $Entity(
                                        "Element'",
                                        elementify("p")(plusEvent.empty)($Entity(
                                          "FixedChildren'",
                                          [text(applicativeEvent.pure("Joyride editor"))]
                                        ))
                                      )
                                    ]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("div")(applicativeEvent.pure({
                                    key: "class",
                                    value: $AttributeValue("Prop'", "pointer-events-auto text-center text-white p-4")
                                  }))($Entity(
                                    "FixedChildren'",
                                    [
                                      text((b, k) => v.signedInNonAnonymously(
                                        b,
                                        (a2) => {
                                          const $15 = (() => {
                                            if (a2) {
                                              return "Get started by importing an audio file or project.";
                                            }
                                            return "Get started by importing an audio file.";
                                          })();
                                          return k($15);
                                        }
                                      ))
                                    ]
                                  ))
                                ),
                                $Entity(
                                  "Element'",
                                  elementify("div")(applicativeEvent.pure({
                                    key: "class",
                                    value: $AttributeValue("Prop'", "flex w-full justify-center items-center")
                                  }))($Entity(
                                    "FixedChildren'",
                                    [
                                      $Entity(
                                        "Element'",
                                        elementify("button")(oneOf$7([
                                          (b, k) => v.signedInNonAnonymously(
                                            b,
                                            (a2) => {
                                              const $15 = {
                                                key: "class",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if (a2) {
                                                      return buttonCls + " mx-2 pointer-events-auto";
                                                    }
                                                    return buttonCls + " mx-2 pointer-events-auto hidden";
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            }
                                          ),
                                          applicativeEvent.pure((() => {
                                            const $12 = v1._1.loadingScreenVisible(true);
                                            return {
                                              key: "click",
                                              value: $AttributeValue(
                                                "Cb'",
                                                (v$1) => () => {
                                                  $12();
                                                  const fiber = _makeFiber(
                                                    ffiUtil$1,
                                                    _bind(getTracksAff(v.fbAuth)(v.firestoreDb))((tracks) => _bind(_liftEffect(v1._1.availableTracks(tracks)))(() => _liftEffect((() => {
                                                      const $17 = v1._1.forkingScreenVisible(true);
                                                      return () => {
                                                        $17();
                                                        return v1._1.loadingScreenVisible(false)();
                                                      };
                                                    })())))
                                                  )();
                                                  fiber.run();
                                                  return true;
                                                }
                                              )
                                            };
                                          })())
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Fork project"))]))
                                      ),
                                      $Entity(
                                        "Element'",
                                        elementify("button")(oneOf$7([
                                          (b, k) => v.signedInNonAnonymously(
                                            b,
                                            (a2) => {
                                              const $15 = {
                                                key: "class",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if (a2) {
                                                      return buttonCls + " mx-2 pointer-events-auto";
                                                    }
                                                    return buttonCls + " mx-2 pointer-events-auto hidden";
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            }
                                          ),
                                          applicativeEvent.pure((() => {
                                            const $12 = v1._1.loadingScreenVisible(true);
                                            return {
                                              key: "click",
                                              value: $AttributeValue(
                                                "Cb'",
                                                (v$1) => () => {
                                                  $12();
                                                  const fiber = _makeFiber(
                                                    ffiUtil$1,
                                                    _bind(_bind(_liftEffect(fileList))(toAff$p(coerce)))((fl) => {
                                                      const $16 = _liftEffect((() => {
                                                        const $162 = bindE(windowImpl)(alert("No valid files found"));
                                                        return () => {
                                                          $162();
                                                          return v1._1.loadingScreenVisible(false)();
                                                        };
                                                      })());
                                                      const $17 = nullable(_item(0)(fl), Nothing, Just);
                                                      if ($17.tag === "Nothing") {
                                                        return $16;
                                                      }
                                                      if ($17.tag === "Just") {
                                                        return _bind(makeAff((cb) => () => {
                                                          const fr = fileReader();
                                                          const el0 = eventListener((v2) => {
                                                            const $21 = result(fr);
                                                            return () => {
                                                              const x = $21();
                                                              return cb($Either("Right", x))();
                                                            };
                                                          })();
                                                          const el1 = eventListener((v2) => cb($Either(
                                                            "Left",
                                                            error$1("Could not read the file")
                                                          )))();
                                                          addEventListener("load")(el0)(true)(fr)();
                                                          addEventListener("error")(el1)(true)(fr)();
                                                          readAsText($17._1)(fr)();
                                                          return nonCanceler;
                                                        }))((res) => {
                                                          const v2 = bindEither.bind(readString.readImpl(res))(readJSON);
                                                          if (v2.tag === "Left") {
                                                            return _liftEffect((() => {
                                                              const $20 = bindE(windowImpl)(alert("Parse error: " + show1(v2._1)));
                                                              return () => {
                                                                $20();
                                                                return v1._1.loadingScreenVisible(false)();
                                                              };
                                                            })());
                                                          }
                                                          if (v2.tag === "Right") {
                                                            return _bind(_liftEffect(currentUser(v.fbAuth)))((cu) => _bind(addTrackAff(v.firestoreDb)((() => {
                                                              if (cu.tag === "Nothing") {
                                                                return v2._1.track;
                                                              }
                                                              if (cu.tag === "Just") {
                                                                return aChangeOwner(cu._1.uid)(v2._1.track);
                                                              }
                                                              fail$3();
                                                            })()))((doc) => _bind(getTrackAff(v.firestoreDb)(doc.id))((myTrack) => _bind(parTraverse_((v3) => _bind(_map(compactableArray.compact)(parTraverse$2((e2) => _bind(addEventAff(v.firestoreDb)(doc.id)(e2))((v42) => _bind(getEventAff(v.firestoreDb)(doc.id)(v42.id))((eAff) => _pure((() => {
                                                              if (eAff.tag === "Just") {
                                                                return $Maybe("Just", { id: v42.id, data: eAff._1 });
                                                              }
                                                              return Nothing;
                                                            })()))))(v2._1.events)))((v42) => loadTrack(doc.id, v3, v42)))(myTrack))(() => _liftEffect((() => {
                                                              const $24 = v1._1.chooserScreenVisible(false);
                                                              return () => {
                                                                $24();
                                                                v1._1.importerScreenVisible(false)();
                                                                return v1._1.loadingScreenVisible(false)();
                                                              };
                                                            })())))));
                                                          }
                                                          fail$3();
                                                        });
                                                      }
                                                      fail$3();
                                                    })
                                                  )();
                                                  fiber.run();
                                                  return true;
                                                }
                                              )
                                            };
                                          })())
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Import project"))]))
                                      ),
                                      $Entity(
                                        "Element'",
                                        elementify("button")(oneOf$7([
                                          (b, k) => v.signedInNonAnonymously(
                                            b,
                                            (a2) => {
                                              const $15 = {
                                                key: "class",
                                                value: $AttributeValue(
                                                  "Prop'",
                                                  (() => {
                                                    if (a2) {
                                                      return buttonCls + " mx-2 pointer-events-auto";
                                                    }
                                                    return buttonCls + " mx-2 pointer-events-auto hidden";
                                                  })()
                                                )
                                              };
                                              return k($15);
                                            }
                                          ),
                                          applicativeEvent.pure((() => {
                                            const $12 = v1._1.loadingScreenVisible(true);
                                            return {
                                              key: "click",
                                              value: $AttributeValue(
                                                "Cb'",
                                                (v$1) => () => {
                                                  $12();
                                                  const fiber = _makeFiber(
                                                    ffiUtil$1,
                                                    _bind(getTracksAff(v.fbAuth)(v.firestoreDb))((tracks) => _bind(_liftEffect(v1._1.availableTracks(tracks)))(() => _liftEffect((() => {
                                                      const $17 = v1._1.chooserScreenVisible(true);
                                                      return () => {
                                                        $17();
                                                        return v1._1.loadingScreenVisible(false)();
                                                      };
                                                    })())))
                                                  )();
                                                  fiber.run();
                                                  return true;
                                                }
                                              )
                                            };
                                          })())
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Open project"))]))
                                      ),
                                      $Entity(
                                        "Element'",
                                        elementify("button")(oneOf$7([
                                          applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                          }),
                                          applicativeEvent.pure({
                                            key: "click",
                                            value: $AttributeValue(
                                              "Cb'",
                                              (v$1) => () => {
                                                const client = init();
                                                picker((v2) => () => unit)((v2) => (v3) => () => unit)((v2) => (v3) => () => unit)((v2) => () => {
                                                  log("Uploaded to: " + v2.url)();
                                                  v1._1.loadingScreenVisible(true)();
                                                  const rn = randomName();
                                                  const $18 = v1._1.initialTitle(rn);
                                                  const endgame = () => {
                                                    $18();
                                                    v1._1.loadWave(v2.url)();
                                                    return v1._1.initialPrivate(false)();
                                                  };
                                                  const a$p = currentUser(v.fbAuth)();
                                                  if (a$p.tag === "Just") {
                                                    if (!a$p._1.isAnonymous) {
                                                      const fiber = _makeFiber(
                                                        ffiUtil$1,
                                                        _bind(addTrackAff(v.firestoreDb)($Track({
                                                          url: v2.url,
                                                          title: $Maybe("Just", rn),
                                                          owner: a$p._1.uid,
                                                          private: false,
                                                          version: $Version(0),
                                                          whitelist: []
                                                        })))((docRef) => _liftEffect((() => {
                                                          const $22 = v1._1.documentId(docRef.id);
                                                          return () => {
                                                            $22();
                                                            const a$p$1 = endgame();
                                                            return a$p$1;
                                                          };
                                                        })()))
                                                      )();
                                                      fiber.run();
                                                      return unit;
                                                    }
                                                    return endgame();
                                                  }
                                                  return endgame();
                                                })(client)();
                                                return true;
                                              }
                                            )
                                          })
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Import file"))]))
                                      )
                                    ]
                                  ))
                                )
                              ]
                            ))
                          )
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")((b, k) => {
                        const a$p = v1._2.chooserScreenVisible(
                          b,
                          (a2) => {
                            const $15 = {
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                (() => {
                                  if (a2) {
                                    return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                  }
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                                })()
                              )
                            };
                            return k($15);
                          }
                        );
                        const a$p$1 = applicativeEvent.pure(false)(
                          b,
                          (a2) => k({
                            key: "class",
                            value: $AttributeValue(
                              "Prop'",
                              (() => {
                                if (a2) {
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                }
                                return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                              })()
                            )
                          })
                        );
                        return () => {
                          a$p();
                          return a$p$1();
                        };
                      })($Entity(
                        "FixedChildren'",
                        [
                          $Entity(
                            "Element'",
                            elementify("div")(applicativeEvent.pure({
                              key: "class",
                              value: $AttributeValue("Prop'", "select-auto row-start-1 row-end-2 col-start-1 col-end-2")
                            }))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    applicativeEvent.pure({
                                      key: "class",
                                      value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                    }),
                                    applicativeEvent.pure((() => {
                                      const $12 = v1._1.chooserScreenVisible(false);
                                      return {
                                        key: "click",
                                        value: $AttributeValue(
                                          "Cb'",
                                          (v$1) => () => {
                                            $12();
                                            return true;
                                          }
                                        )
                                      };
                                    })())
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("< Back"))]))
                                )
                              ]
                            ))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(applicativeEvent.pure({
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                "col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"
                              )
                            }))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("h2")(applicativeEvent.pure({
                                    key: "class",
                                    value: $AttributeValue("Prop'", "pointer-events-auto text-center p-4 text-2xl text-slate-200")
                                  }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Choose a project"))]))
                                ),
                                switcher((l2) => $Entity(
                                  "Element'",
                                  elementify("ul")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "") }))($Entity(
                                    "FixedChildren'",
                                    arrayMap((v2) => $Entity(
                                      "Element'",
                                      elementify("li")(plusEvent.empty)($Entity(
                                        "FixedChildren'",
                                        [
                                          $Entity(
                                            "Element'",
                                            elementify("button")(oneOf$7([
                                              applicativeEvent.pure({
                                                key: "class",
                                                value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                              }),
                                              applicativeEvent.pure((() => {
                                                const $14 = v1._1.loadingScreenVisible(true);
                                                const $15 = _makeFiber(
                                                  ffiUtil$1,
                                                  _bind(getEventsAff(v.firestoreDb)(v2.id))((evz) => _bind(loadTrack(
                                                    v2.id,
                                                    v2.data,
                                                    evz
                                                  ))(() => _liftEffect((() => {
                                                    const $17 = v1._1.chooserScreenVisible(false);
                                                    return () => {
                                                      $17();
                                                      v1._1.importerScreenVisible(false)();
                                                      return v1._1.loadingScreenVisible(false)();
                                                    };
                                                  })())))
                                                );
                                                return {
                                                  key: "click",
                                                  value: $AttributeValue(
                                                    "Cb'",
                                                    (v$1) => () => {
                                                      $14();
                                                      const fiber = $15();
                                                      fiber.run();
                                                      return true;
                                                    }
                                                  )
                                                };
                                              })())
                                            ]))($Entity(
                                              "FixedChildren'",
                                              [
                                                text(applicativeEvent.pure((() => {
                                                  if (v2.data._1.title.tag === "Nothing") {
                                                    return "Untitled Track";
                                                  }
                                                  if (v2.data._1.title.tag === "Just") {
                                                    return v2.data._1.title._1;
                                                  }
                                                  fail$3();
                                                })()))
                                              ]
                                            ))
                                          )
                                        ]
                                      ))
                                    ))(l2)
                                  ))
                                ))(v1._2.availableTracks)
                              ]
                            ))
                          )
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")((b, k) => {
                        const a$p = v1._2.forkingScreenVisible(
                          b,
                          (a2) => {
                            const $15 = {
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                (() => {
                                  if (a2) {
                                    return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                  }
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                                })()
                              )
                            };
                            return k($15);
                          }
                        );
                        const a$p$1 = applicativeEvent.pure(false)(
                          b,
                          (a2) => k({
                            key: "class",
                            value: $AttributeValue(
                              "Prop'",
                              (() => {
                                if (a2) {
                                  return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900";
                                }
                                return "absolute w-screen h-screen grid grid-rows-6 grid-cols-6 bg-zinc-900 hidden";
                              })()
                            )
                          })
                        );
                        return () => {
                          a$p();
                          return a$p$1();
                        };
                      })($Entity(
                        "FixedChildren'",
                        [
                          $Entity(
                            "Element'",
                            elementify("div")(applicativeEvent.pure({
                              key: "class",
                              value: $AttributeValue("Prop'", "select-auto row-start-1 row-end-2 col-start-1 col-end-2")
                            }))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("button")(oneOf$7([
                                    applicativeEvent.pure({
                                      key: "class",
                                      value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                    }),
                                    applicativeEvent.pure((() => {
                                      const $12 = v1._1.forkingScreenVisible(false);
                                      return {
                                        key: "click",
                                        value: $AttributeValue(
                                          "Cb'",
                                          (v$1) => () => {
                                            $12();
                                            return true;
                                          }
                                        )
                                      };
                                    })())
                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("< Back"))]))
                                )
                              ]
                            ))
                          ),
                          $Entity(
                            "Element'",
                            elementify("div")(applicativeEvent.pure({
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                "col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center"
                              )
                            }))($Entity(
                              "FixedChildren'",
                              [
                                $Entity(
                                  "Element'",
                                  elementify("h2")(applicativeEvent.pure({
                                    key: "class",
                                    value: $AttributeValue("Prop'", "pointer-events-auto text-center p-4 text-2xl text-slate-200")
                                  }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Fork a project"))]))
                                ),
                                switcher((l2) => $Entity(
                                  "Element'",
                                  elementify("ul")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "") }))($Entity(
                                    "FixedChildren'",
                                    arrayMap((v2) => $Entity(
                                      "Element'",
                                      elementify("li")(plusEvent.empty)($Entity(
                                        "FixedChildren'",
                                        [
                                          $Entity(
                                            "Element'",
                                            elementify("button")(oneOf$7([
                                              applicativeEvent.pure({
                                                key: "class",
                                                value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                              }),
                                              applicativeEvent.pure((() => {
                                                const $14 = v1._1.loadingScreenVisible(true);
                                                const $15 = _makeFiber(
                                                  ffiUtil$1,
                                                  _bind(forkTrackAff(v.fbAuth)(v.firestoreDb)(v2.id))(() => _bind(getTracksAff(v.fbAuth)(v.firestoreDb))((tracks) => _bind(_liftEffect(v1._1.availableTracks(tracks)))(() => _liftEffect((() => {
                                                    const $18 = v1._1.forkingScreenVisible(false);
                                                    return () => {
                                                      $18();
                                                      return v1._1.loadingScreenVisible(false)();
                                                    };
                                                  })()))))
                                                );
                                                return {
                                                  key: "click",
                                                  value: $AttributeValue(
                                                    "Cb'",
                                                    (v$1) => () => {
                                                      $14();
                                                      const fiber = $15();
                                                      fiber.run();
                                                      return true;
                                                    }
                                                  )
                                                };
                                              })())
                                            ]))($Entity(
                                              "FixedChildren'",
                                              [
                                                text(applicativeEvent.pure((() => {
                                                  if (v2.data._1.title.tag === "Nothing") {
                                                    return "Untitled Track";
                                                  }
                                                  if (v2.data._1.title.tag === "Just") {
                                                    return v2.data._1.title._1;
                                                  }
                                                  fail$3();
                                                })()))
                                              ]
                                            ))
                                          )
                                        ]
                                      ))
                                    ))(l2)
                                  ))
                                ))(v1._2.availableTracks)
                              ]
                            ))
                          )
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")((b, k) => {
                        const $14 = (a2) => {
                          const $15 = {
                            key: "class",
                            value: $AttributeValue(
                              "Prop'",
                              (() => {
                                if ((() => {
                                  if (a2.tag === "Nothing") {
                                    return false;
                                  }
                                  if (a2.tag === "Just") {
                                    return true;
                                  }
                                  fail$3();
                                })()) {
                                  return "absolute w-screen h-screen";
                                }
                                return "absolute w-screen h-screen hidden";
                              })()
                            )
                          };
                          return k($15);
                        };
                        const a$p = v1._2.previewScreenVisible(b, $14);
                        const a$p$1 = applicativeEvent.pure(Nothing)(b, $14);
                        return () => {
                          a$p();
                          return a$p$1();
                        };
                      })($Entity(
                        "FixedChildren'",
                        [
                          switcher((x) => {
                            const vals = toAugmentedEvents(fromFoldable$3(foldableMap.foldr(Cons)(Nil)(x.mrd._2)));
                            if (x.psv.tag === "Nothing") {
                              return $Entity("EventfulElement'", plusEvent.empty);
                            }
                            if (x.psv.tag === "Just") {
                              return tutorial$1({
                                loaded: tli.loaded,
                                isMobile: tli.isMobile,
                                lpsCallback: tli.lpsCallback,
                                resizeE: tli.resizeE,
                                renderingInfo: tli.renderingInfo,
                                goHome: (() => {
                                  const $14 = v1._1.loadingScreenVisible(true);
                                  return () => {
                                    $14();
                                    v1._1.previewScreenVisible(Nothing)();
                                    return v1._1.loadingScreenVisible(false)();
                                  };
                                })(),
                                pushBasic: tli.pushBasic,
                                pushLeap: tli.pushLeap,
                                pushHitLong: tli.pushHitLong,
                                columnPusher: tli.columnPusher,
                                pushReleaseLong: tli.pushReleaseLong,
                                debug: tli.debug,
                                silence: tli.silence,
                                icid: tli.icid,
                                wdw: tli.wdw,
                                unschedule: tli.unschedule,
                                soundObj: tli.soundObj,
                                editor: tli.editor,
                                givePermission: tli.givePermission,
                                negotiation: tli.negotiation,
                                ride: tli.ride,
                                tutorial: tli.tutorial
                              })({
                                basicE: rideBasics(sortBy((x$1) => (y) => ordNumber.compare(x$1.marker1Time)(y.marker1Time))(mapMaybe((v3) => {
                                  if (v3._1.tag === "AugmentedBasicEventV0") {
                                    if (v3._1._1.marker4Time < x.ct) {
                                      return Nothing;
                                    }
                                    return $Maybe(
                                      "Just",
                                      {
                                        marker1Time: v3._1._1.marker1Time - x.ct,
                                        marker2Time: v3._1._1.marker2Time - x.ct,
                                        marker3Time: v3._1._1.marker3Time - x.ct,
                                        marker4Time: v3._1._1.marker4Time - x.ct,
                                        column: v3._1._1.column,
                                        marker1AudioURL: v3._1._1.marker1AudioURL,
                                        marker2AudioURL: v3._1._1.marker2AudioURL,
                                        marker3AudioURL: v3._1._1.marker3AudioURL,
                                        marker4AudioURL: v3._1._1.marker4AudioURL,
                                        name: v3._1._1.name,
                                        raycastingCanStartAt: v3._1._1.raycastingCanStartAt,
                                        version: v3._1._1.version
                                      }
                                    );
                                  }
                                  return Nothing;
                                })(vals))),
                                leapE: rideLeaps(mapMaybe((v3) => {
                                  if (v3._1.tag === "AugmentedLeapEventV0") {
                                    if (v3._1._1.marker2Time < x.ct) {
                                      return Nothing;
                                    }
                                    return $Maybe(
                                      "Just",
                                      {
                                        marker1Time: v3._1._1.marker1Time - x.ct,
                                        marker2Time: v3._1._1.marker2Time - x.ct,
                                        audioURL: v3._1._1.audioURL,
                                        column: v3._1._1.column,
                                        name: v3._1._1.name,
                                        position: v3._1._1.position,
                                        raycastingCanStartAt: v3._1._1.raycastingCanStartAt,
                                        version: v3._1._1.version
                                      }
                                    );
                                  }
                                  return Nothing;
                                })(vals)),
                                longE: rideLongs(mapMaybe((v3) => {
                                  if (v3._1.tag === "AugmentedLongEventV0") {
                                    if (v3._1._1.marker2Time < x.ct) {
                                      return Nothing;
                                    }
                                    return $Maybe(
                                      "Just",
                                      {
                                        marker1Time: v3._1._1.marker1Time - x.ct,
                                        marker2Time: v3._1._1.marker2Time - x.ct,
                                        audioURL: v3._1._1.audioURL,
                                        column: v3._1._1.column,
                                        length: v3._1._1.length,
                                        name: v3._1._1.name,
                                        raycastingCanStartAt: v3._1._1.raycastingCanStartAt,
                                        version: v3._1._1.version
                                      }
                                    );
                                  }
                                  return Nothing;
                                })(vals)),
                                bgtrack: x.mrd._1._1.url,
                                isPreviewPage: $Maybe("Just", { startsAt: x.ct }),
                                baseFileOffsetInSeconds: x.ct
                              })(x.psv._1);
                            }
                            fail$3();
                          })(howShouldIBehave(() => 0)(cTime)(sampleOn(v1._2.waveSurfer)(sampleOn(mostRecentData)((b, k) => {
                            const a$p = v1._2.previewScreenVisible(b, (a2) => k((v3) => (v42) => (v5) => ({ psv: a2, mrd: v3, ws: v42, ct: v5 })));
                            const a$p$1 = applicativeEvent.pure(Nothing)(b, (a2) => k((v3) => (v42) => (v5) => ({ psv: a2, mrd: v3, ws: v42, ct: v5 })));
                            return () => {
                              a$p();
                              return a$p$1();
                            };
                          }))))
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")((b, k) => {
                        const a$p = v1._2.loadingScreenVisible(
                          b,
                          (a2) => {
                            const $15 = {
                              key: "class",
                              value: $AttributeValue(
                                "Prop'",
                                (() => {
                                  if (a2) {
                                    return "absolute w-screen h-screen";
                                  }
                                  return "absolute w-screen h-screen hidden";
                                })()
                              )
                            };
                            return k($15);
                          }
                        );
                        const a$p$1 = applicativeEvent.pure(false)(
                          b,
                          (a2) => k({
                            key: "class",
                            value: $AttributeValue(
                              "Prop'",
                              (() => {
                                if (a2) {
                                  return "absolute w-screen h-screen";
                                }
                                return "absolute w-screen h-screen hidden";
                              })()
                            )
                          })
                        );
                        return () => {
                          a$p();
                          return a$p$1();
                        };
                      })($Entity("FixedChildren'", [loadingPage]))
                    )
                  ]
                ))
              );
            })
          ))
        ))
      ))
    )))))
  ))
));
const klass = (dictAttr) => (e2) => (b, k) => e2(
  b,
  (a2) => {
    const $5 = dictAttr.attr(Class)(a2);
    return k($5);
  }
);
const animationFrameEvent = /* @__PURE__ */ (() => backdoor.makeEvent((k) => () => {
  const w = windowImpl();
  const running = { value: true };
  const fx$lazy = binding(() => {
    const $4 = requestAnimationFrame(() => {
      const r$p = running.value;
      const $5 = k(unit);
      if (r$p) {
        $5();
        return fx$lazy()();
      }
      return unit;
    })(w);
    return () => {
      $4();
      return unit;
    };
  });
  const fx = fx$lazy();
  fx();
  return () => running.value = false;
}))();
const perspectiveCamera$2 = /* @__PURE__ */ perspectiveCamera$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({
    reflectSymbol: () => "perspectiveCamera"
  }))(convertOptionPerspectiveC1)()()()({ reflectSymbol: () => "near" }))(convertOptionPerspectiveC3)()()()({
    reflectSymbol: () => "fov"
  }))(convertOptionPerspectiveC)()()()({ reflectSymbol: () => "far" }))(convertOptionPerspectiveC2)()()()({
    reflectSymbol: () => "aspect"
  });
  return {
    toInitializePerspectiveCamera: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(provided)({}),
      defaultPerspectiveCamera
    )
  };
})());
const oneOf$6 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const mapAccum$1 = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const oneOfMap$2 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const webGLRenderer$2 = /* @__PURE__ */ webGLRenderer$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({
    reflectSymbol: () => "webGLRenderer"
  }))(convertOptionWebGLRendere11)()()()({ reflectSymbol: () => "canvas" });
  return {
    toInitializeWebGLRenderer: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(WebGLRendererOptions)($$Proxy)(provided)({}),
      defaultWebGLRenderer
    )
  };
})());
const render$1 = { type: "render", value: unit };
const vbussed = /* @__PURE__ */ vbussed$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "availableRides" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "unsubscriber"
})()()(vbusNil)()())()());
const click$3 = (v) => (b, k) => v(
  b,
  (a2) => {
    const $4 = {
      key: "click",
      value: $AttributeValue(
        "Cb'",
        (v$1) => () => {
          a2();
          return true;
        }
      )
    };
    return k($4);
  }
);
const for_$2 = /* @__PURE__ */ for_$9(applicativeEffect)(foldableMaybe);
const parSequence = /* @__PURE__ */ (() => {
  const $0 = traversableArray.traverse(applicativeParAff)((x) => x);
  return (x) => _sequential($0(x));
})();
const traverse_$2 = /* @__PURE__ */ traverse_$7(applicativeEffect)(foldableMaybe);
const threeLoader = (opts) => {
  const $1 = run$1((() => {
    const $12 = withCTime(opts.cnow)(animationFrameEvent);
    return $Entity(
      "EventfulElement'",
      backdoor.memoize((b, k) => $12(b, (a2) => k(a2.time)))((animationTime) => globalCameraPortal1()()(perspectiveCamera$2({
        perspectiveCamera: opts.threeDI.perspectiveCamera,
        fov: 75,
        aspect: opts.initialDims.iw / opts.initialDims.ih,
        near: 0.1,
        far: 100
      })(oneOf$6([
        applicativeEvent.pure({ type: "positionX", value: 0 }),
        applicativeEvent.pure({ type: "positionY", value: 0 }),
        applicativeEvent.pure({ type: "positionZ", value: 0 }),
        (b, k) => opts.resizeE(
          b,
          (a2) => {
            const $6 = { type: "aspect", value: a2.iw / a2.ih };
            return k($6);
          }
        )
      ])))((myCamera) => globalScenePortal1()()(scene$1({ scene: opts.threeDI.scene })(applicativeEvent.pure({
        type: "background",
        value: $Background("CubeTexture", opts.cubeTextures.skybox)
      }))([
        unsafeInternalGroup((v) => v.makeGroup)({ group: opts.threeDI.group })(keepLatest((() => {
          const $4 = mapAccum$1((a2) => (b) => {
            if (b.tag === "Nothing") {
              return $Tuple($Maybe("Just", a2), 0);
            }
            if (b.tag === "Just") {
              return $Tuple($Maybe("Just", a2), a2 - b._1);
            }
            fail$3();
          })((b, k) => animationTime(
            b,
            (a2) => {
              const $7 = a2 / 1e3;
              return k($7);
            }
          ))(Nothing);
          return (b, k) => $4(
            b,
            (a2) => {
              const fac = a2 / 1e3;
              const $9 = oneOfMap$2(applicativeEvent.pure)([
                { type: "rotateX", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateY", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateZ", value: 1e-3 * cos(fac * 0.031415926535897934) }
              ]);
              return k($9);
            }
          );
        })()))([$Entity("Element'", myCamera)])
      ]))((myScene) => $Entity(
        "FixedChildren'",
        [
          $Entity(
            "Element'",
            webGLRenderer$2(myScene)(myCamera)({ canvas: opts.canvas, webGLRenderer: opts.threeDI.webGLRenderer })(oneOf$6([
              applicativeEvent.pure({ type: "size", value: { width: opts.initialDims.iw, height: opts.initialDims.ih } }),
              applicativeEvent.pure(render$1),
              (b, k) => animationTime(b, (a2) => k(render$1)),
              (b, k) => opts.resizeE(b, (a2) => k({ type: "size", value: { width: a2.iw, height: a2.ih } }))
            ]))
          )
        ]
      ))))
    );
  })());
  return () => {
    const u = $1();
    return opts.unsubscriber(u)();
  };
};
const filler = /* @__PURE__ */ (() => $Entity(
  "Element'",
  elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "grow") }))($Entity(
    "FixedChildren'",
    []
  ))
))();
const explainerPage = (opts) => vbussed($$Proxy)((push) => (event) => $Entity(
  "EventfulElement'",
  backdoor.memoize((tf, k) => {
    const a$p = applicativeEvent.pure(Nothing)(tf, k);
    const a$p$1 = event.availableRides(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  })((availableRides) => $Entity(
    "Element'",
    elementify("div")(oneOf$6([applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") })]))($Entity(
      "FixedChildren'",
      [
        $Entity(
          "Element'",
          elementify("div")(oneOf$6([
            applicativeEvent.pure({
              key: "class",
              value: $AttributeValue("Prop'", "z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")
            })
          ]))($Entity(
            "FixedChildren'",
            [
              (() => {
                const buttonCls2 = "my-4 bg-transparent hover:bg-slate-300 text-white font-semibold hover:text-zinc-700 py-2 px-4 border border-slate-300 hover:border-transparent rounded";
                return $Entity(
                  "Element'",
                  elementify("div")(applicativeEvent.pure({
                    key: "class",
                    value: $AttributeValue("Prop'", "col-start-2 col-end-3 row-start-2 row-end-3 flex flex-col")
                  }))($Entity(
                    "FixedChildren'",
                    [
                      $Entity(
                        "Element'",
                        elementify("h1")(oneOf$6([
                          applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "text-center text-2xl text-slate-200") }),
                          click$3((b, k) => opts.signedInNonAnonymously(
                            b,
                            (a2) => {
                              const $8 = currentUser(opts.fbAuth);
                              const $9 = (() => {
                                if (a2) {
                                  return () => {
                                    const cu = $8();
                                    return for_$2(cu)((v) => bindE(windowImpl)(alert(v.uid)))();
                                  };
                                }
                                return () => unit;
                              })();
                              return k($9);
                            }
                          ))
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Joyride"))]))
                      ),
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$6([
                          applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls2) }),
                          click$3((() => {
                            const $5 = oneOf$6([applicativeEvent.pure(() => unit), event.unsubscriber]);
                            return (b, k) => $5(
                              b,
                              (a2) => {
                                const $9 = fullScreenFlow(() => {
                                  opts.tutorial();
                                  const a$p = a2();
                                  return a$p;
                                });
                                return k($9);
                              }
                            );
                          })())
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Tutorial"))]))
                      ),
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$6([
                          klass(attrButton_ClassString)(applicativeEvent.pure(buttonCls2)),
                          click$3((b, k) => opts.signedInNonAnonymously(
                            b,
                            (a2) => {
                              const $8 = _makeFiber(
                                ffiUtil$1,
                                _bind(_map((() => {
                                  const $82 = nubBy((x) => (y) => ordString.compare(x.id)(y.id));
                                  return (x) => $82(arrayBind(x)(identity$v));
                                })())(parSequence([
                                  getPublicTracksAff(opts.firestoreDb),
                                  (() => {
                                    const $82 = monoidAff(monoidArray);
                                    const $9 = getTracksAff(opts.fbAuth)(opts.firestoreDb);
                                    if (a2) {
                                      return $9;
                                    }
                                    return $82.mempty;
                                  })(),
                                  (() => {
                                    const $82 = monoidAff(monoidArray);
                                    const $9 = getWhitelistedTracksAff(opts.fbAuth)(opts.firestoreDb);
                                    if (a2) {
                                      return $9;
                                    }
                                    return $82.mempty;
                                  })()
                                ])))((rides) => _liftEffect(push.availableRides($Maybe("Just", rides))))
                              );
                              return k(() => {
                                const fiber = $8();
                                fiber.run();
                                return unit;
                              });
                            }
                          ))
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Take a ride"))]))
                      ),
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$6([
                          applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls2) }),
                          click$3((() => {
                            const $5 = oneOf$6([applicativeEvent.pure(() => unit), event.unsubscriber]);
                            return (b, k) => $5(
                              b,
                              (a2) => {
                                const $9 = fullScreenFlow(() => {
                                  opts.editor();
                                  const a$p = a2();
                                  return a$p;
                                });
                                return k($9);
                              }
                            );
                          })())
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Editor"))]))
                      ),
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$6([
                          applicativeEvent.pure({ key: "id", value: $AttributeValue("Prop'", "google_sign_in") }),
                          applicativeEvent.pure((() => {
                            const $5 = signInWithGoogle();
                            return {
                              key: "click",
                              value: $AttributeValue(
                                "Cb'",
                                (v) => () => {
                                  $5();
                                  return true;
                                }
                              )
                            };
                          })()),
                          (b, k) => opts.signedInNonAnonymously(
                            b,
                            (a2) => {
                              const $8 = {
                                key: "class",
                                value: $AttributeValue(
                                  "Prop'",
                                  (() => {
                                    if (a2) {
                                      return buttonCls2 + " hidden";
                                    }
                                    return buttonCls2 + "";
                                  })()
                                )
                              };
                              return k($8);
                            }
                          )
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Sign In"))]))
                      ),
                      $Entity(
                        "Element'",
                        elementify("button")(oneOf$6([
                          (b, k) => opts.signedInNonAnonymously(
                            b,
                            (a2) => {
                              const $8 = {
                                key: "class",
                                value: $AttributeValue(
                                  "Prop'",
                                  (() => {
                                    if (a2) {
                                      return buttonCls2 + "";
                                    }
                                    return buttonCls2 + " hidden";
                                  })()
                                )
                              };
                              return k($8);
                            }
                          ),
                          click$3(applicativeEvent.pure(opts.signOut))
                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Sign Out"))]))
                      )
                    ]
                  ))
                );
              })()
            ]
          ))
        ),
        $Entity(
          "Element'",
          elementify("div")(oneOf$6([
            (b, k) => availableRides(
              b,
              (a2) => {
                const $7 = {
                  key: "class",
                  value: $AttributeValue(
                    "Prop'",
                    (() => {
                      if ((() => {
                        if (a2.tag === "Nothing") {
                          return false;
                        }
                        if (a2.tag === "Just") {
                          return true;
                        }
                        fail$3();
                      })()) {
                        return "z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen ";
                      }
                      return "z-10 bg-zinc-900 absolute grid grid-cols-6 grid-rows-6 place-items-center h-screen w-screen  hidden";
                    })()
                  )
                };
                return k($7);
              }
            )
          ]))($Entity(
            "FixedChildren'",
            [
              $Entity(
                "Element'",
                elementify("div")(applicativeEvent.pure({
                  key: "class",
                  value: $AttributeValue("Prop'", "col-start-1 col-end-2 row-start-1 row-end-2")
                }))($Entity(
                  "FixedChildren'",
                  [
                    $Entity(
                      "Element'",
                      elementify("button")(oneOf$6([
                        applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto") }),
                        click$3(applicativeEvent.pure(push.availableRides(Nothing)))
                      ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("< Back"))]))
                    )
                  ]
                ))
              ),
              $Entity(
                "Element'",
                elementify("div")(applicativeEvent.pure({
                  key: "class",
                  value: $AttributeValue("Prop'", "col-start-2 col-end-6 row-start-2 row-end-6 flex flex-col justify-items-center overflow-scroll text-center")
                }))($Entity(
                  "FixedChildren'",
                  [
                    $Entity(
                      "Element'",
                      elementify("h2")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "text-2xl text-slate-200") }))($Entity(
                        "FixedChildren'",
                        [text(applicativeEvent.pure("Choose a ride"))]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")(plusEvent.empty)($Entity(
                        "FixedChildren'",
                        [
                          switcher((l$p) => {
                            if (l$p.tag === "Nothing") {
                              return $Entity("EventfulElement'", plusEvent.empty);
                            }
                            if (l$p.tag === "Just") {
                              return $Entity(
                                "Element'",
                                elementify("ul")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "") }))($Entity(
                                  "FixedChildren'",
                                  arrayMap((v) => $Entity(
                                    "Element'",
                                    elementify("li")(plusEvent.empty)($Entity(
                                      "FixedChildren'",
                                      [
                                        $Entity(
                                          "Element'",
                                          elementify("button")(oneOf$6([
                                            applicativeEvent.pure({
                                              key: "class",
                                              value: $AttributeValue("Prop'", buttonCls + " mx-2 pointer-events-auto")
                                            }),
                                            click$3((() => {
                                              const $6 = oneOf$6([applicativeEvent.pure(() => unit), event.unsubscriber]);
                                              return (b, k) => $6(
                                                b,
                                                (a2) => {
                                                  const $10 = fullScreenFlow((() => {
                                                    const $102 = opts.ride($Tuple(v.id, v.data));
                                                    return () => {
                                                      $102();
                                                      const a$p = a2();
                                                      return a$p;
                                                    };
                                                  })());
                                                  return k($10);
                                                }
                                              );
                                            })())
                                          ]))($Entity(
                                            "FixedChildren'",
                                            [
                                              text(applicativeEvent.pure((() => {
                                                if (v.data._1.title.tag === "Nothing") {
                                                  return "Untitled Track";
                                                }
                                                if (v.data._1.title.tag === "Just") {
                                                  return v.data._1.title._1;
                                                }
                                                fail$3();
                                              })()))
                                            ]
                                          ))
                                        )
                                      ]
                                    ))
                                  ))(l$p._1)
                                ))
                              );
                            }
                            fail$3();
                          })(availableRides)
                        ]
                      ))
                    )
                  ]
                ))
              )
            ]
          ))
        ),
        filler,
        $Entity(
          "Element'",
          elementify("canvas")(oneOf$6([
            applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") }),
            applicativeEvent.pure({
              key: "@self@",
              value: $AttributeValue(
                "Cb'",
                (() => {
                  const $4 = traverse_$2((x) => threeLoader({
                    threeDI: opts.threeDI,
                    isMobile: opts.isMobile,
                    cubeTextures: opts.cubeTextures,
                    unsubscriber: push.unsubscriber,
                    resizeE: opts.resizeE,
                    cnow: opts.cnow,
                    initialDims: opts.initialDims,
                    canvas: x
                  }));
                  return (x) => $4(_unsafeReadProtoTagged(Nothing, Just, "HTMLCanvasElement", x));
                })()
              )
            })
          ]))($Entity("FixedChildren'", []))
        )
      ]
    ))
  ))
));
const gameHasStarted = /* @__PURE__ */ makePursx$p({
  reflectType: () => "\n<div>\n  <h1>Sorry :(</h1>\n  <p>The game has already started. You can make a new game, though!</p>\n</div>\n"
})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({});
const hasOrientationPermission = () => typeof DeviceMotionEvent !== "undefined" && typeof DeviceMotionEvent.requestPermission === "function";
const orientationPermission = () => {
  if (typeof DeviceMotionEvent !== "undefined" && typeof DeviceMotionEvent.requestPermission === "function") {
    return DeviceMotionEvent.requestPermission().then(
      (response) => {
        if (response == "granted") {
          return true;
        }
        return false;
      },
      (e2) => {
        console.error(e2);
        Promise.reject(e2);
      }
    );
  } else {
    return Promise.resolve(true);
  }
};
const min$1 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const max$2 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const posFromOrientation = (gtp) => (v) => {
  if (gtp.time.tag === "Nothing") {
    return 0;
  }
  if (gtp.time.tag === "Just") {
    return min$1(2.5)(max$2(-2.5)((v - gtp.time._1) / 1e3 * gtp.gamma * 0.055 + gtp.pos));
  }
  fail$3();
};
const xForTouch = (cnow2) => (w) => (myPlayer) => (pub) => () => {
  const evt = create();
  const xpe = { value: { gamma: 0, time: Nothing, pos: 0 } };
  const orientationListener = eventListener((e$p) => () => {
    const a$p = cnow2();
    const $8 = xpe.value;
    const nw = xpe.value = { gamma: e$p.gamma, time: $Maybe("Just", a$p), pos: posFromOrientation($8)(a$p) };
    pub($PlayerAction("XPositionMobile", { gtp: nw, player: myPlayer }))();
    return evt.push(nw)();
  })();
  addEventListener("deviceorientation")(orientationListener)(true)(w)();
  return (b, k) => evt.event(b, (a2) => k((x) => posFromOrientation(a2)(x.epochTime)));
};
const oneOf$5 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const click$2 = (v) => (b, k) => v(
  b,
  (a2) => {
    const $4 = {
      key: "click",
      value: $AttributeValue(
        "Cb'",
        (v$1) => () => {
          a2();
          return true;
        }
      )
    };
    return k($4);
  }
);
const orientationPermissionPage = (opts) => $Entity(
  "Element'",
  elementify("div")(oneOf$5([applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") })]))($Entity(
    "FixedChildren'",
    [
      $Entity(
        "Element'",
        elementify("div")(oneOf$5([
          applicativeEvent.pure({
            key: "class",
            value: $AttributeValue("Prop'", "z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")
          })
        ]))($Entity(
          "FixedChildren'",
          [
            $Entity(
              "Element'",
              elementify("div")(applicativeEvent.pure({
                key: "class",
                value: $AttributeValue("Prop'", "col-start-1 col-end-4 row-start-1 row-end-2")
              }))($Entity(
                "FixedChildren'",
                [
                  $Entity(
                    "Element'",
                    elementify("p")(applicativeEvent.pure({
                      key: "class",
                      value: $AttributeValue("Prop'", "text-center text-2xl text-slate-800 p-3")
                    }))($Entity(
                      "FixedChildren'",
                      [text(applicativeEvent.pure("To play Joyride, you need to ask for orientation permissions."))]
                    ))
                  )
                ]
              ))
            ),
            $Entity(
              "Element'",
              elementify("button")(oneOf$5([
                applicativeEvent.pure({
                  key: "class",
                  value: $AttributeValue(
                    "Prop'",
                    "text-center bg-gray-600 hover:bg-gray-400 text-white py-2 px-4 rounded col-start-2 col-end-2 row-start-2 row-end-3"
                  )
                }),
                click$2(applicativeEvent.pure((() => {
                  const $1 = _makeFiber(
                    ffiUtil$1,
                    _bind(_bind(_liftEffect(orientationPermission))(toAff$p(coerce)))((op) => _liftEffect(opts.givePermission(op)))
                  );
                  return () => {
                    const fiber = $1();
                    fiber.run();
                    return unit;
                  };
                })()))
              ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Ask for permission"))]))
            )
          ]
        ))
      )
    ]
  ))
);
const boolNot = function(b) {
  return !b;
};
const writeText = (t2) => () => navigator.clipboard.writeText(t2);
const playBuf = /* @__PURE__ */ playBuf$5(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPlayBufOptio)()()()({
    reflectSymbol: () => "buffer"
  });
  return {
    toInitializePlayBuf: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PlayBufOptions)($$Proxy)(provided)({}),
      defaultPlayBuf
    )
  };
})());
const oneOf$4 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const graph = (v) => [
  gain_(initialGainNumber)(1)([$Entity("DynamicChildren'", (b, k) => v.basics(b, (a2) => k((b$1, k$1) => a2(b$1, (a$1) => k$1(a$1)))))]),
  gain_(initialGainNumber)(1)([$Entity("DynamicChildren'", (b, k) => v.leaps(b, (a2) => k((b$1, k$1) => a2(b$1, (a$1) => k$1(a$1)))))]),
  gain_(initialGainNumber)(1)([
    playBuf({ buffer: v.silence })(oneOf$4([
      (() => {
        const $1 = sampleBy(functorEvent)($$const)(v.buffers)(applicativeEvent.pure(unit));
        return (b, k) => $1(
          b,
          (a2) => {
            const $5 = _lookup(Nothing, Just, v.bgtrack, a2);
            const $6 = (() => {
              if ($5.tag === "Just") {
                return { type: "buffer", value: $5._1 };
              }
              if ($5.tag === "Nothing") {
                return { type: "buffer", value: v.silence };
              }
              fail$3();
            })();
            return k($6);
          }
        );
      })(),
      applicativeEvent.pure({ type: "bufferOffset", value: v.baseFileOffsetInSeconds }),
      (() => {
        const $1 = oneOff((v1) => {
          if (v1.beats > 1) {
            return $Maybe("Just", v1);
          }
          return Nothing;
        })(v.rateInfo);
        return (b, k) => $1(
          b,
          (a2) => {
            const $5 = {
              type: "onOff",
              value: {
                o: (() => {
                  if (a2.prevBeats.tag === "Just") {
                    if (a2.prevTime.tag === "Just") {
                      if (a2.beats === a2.prevBeats._1 || a2.time === a2.prevTime._1) {
                        return a2.prevTime._1;
                      }
                      const m = (a2.time - a2.prevTime._1) / (a2.beats - a2.prevBeats._1);
                      return m * 1 + (a2.prevTime._1 - m * a2.prevBeats._1);
                    }
                    return 0;
                  }
                  return 0;
                })(),
                x: _on
              }
            };
            return k($5);
          }
        );
      })()
    ]))
  ])
];
const mapAccum = /* @__PURE__ */ mapAccum$d(eventIsEvent);
const vbust = /* @__PURE__ */ vbust$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "hitBasicVisualForLabel" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "hitLeapVisualForLabel"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "hitLongVisualForLabel" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "releaseLongVisualForLabel"
})()()(vbusNil)()())()())()())()());
const perspectiveCamera$1 = /* @__PURE__ */ perspectiveCamera$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPerspectiveC4)()()()({
    reflectSymbol: () => "perspectiveCamera"
  }))(convertOptionPerspectiveC1)()()()({ reflectSymbol: () => "near" }))(convertOptionPerspectiveC3)()()()({
    reflectSymbol: () => "fov"
  }))(convertOptionPerspectiveC)()()()({ reflectSymbol: () => "far" }))(convertOptionPerspectiveC2)()()()({
    reflectSymbol: () => "aspect"
  });
  return {
    toInitializePerspectiveCamera: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PerspectiveCameraOptions)($$Proxy)(provided)({}),
      defaultPerspectiveCamera
    )
  };
})());
const oneOf$3 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const oneOfMap$1 = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const intensityIsSymbol = { reflectSymbol: () => "intensity" };
const colorIsSymbol$1 = { reflectSymbol: () => "color" };
const ambientLight$1 = /* @__PURE__ */ ambientLight$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionAmbientLight)()()()(intensityIsSymbol))(convertOptionAmbientLight1)()()()(colorIsSymbol$1))(convertOptionAmbientLight2)()()()({
    reflectSymbol: () => "ambientLight"
  });
  return {
    toInitializeAmbientLight: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(AmbientLightOptions)($$Proxy)(provided)({}),
      defaultAmbientLight
    )
  };
})());
const pointLight$1 = /* @__PURE__ */ pointLight$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionPointLightOp4)()()()({
    reflectSymbol: () => "pointLight"
  }))(convertOptionPointLightOp2)()()()(intensityIsSymbol))(convertOptionPointLightOp1)()()()({ reflectSymbol: () => "distance" }))(convertOptionPointLightOp)()()()({
    reflectSymbol: () => "decay"
  }))(convertOptionPointLightOp3)()()()(colorIsSymbol$1);
  return {
    toInitializePointLight: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(PointLightOptions)($$Proxy)(provided)({}),
      defaultPointLight
    )
  };
})());
const webGLRenderer$1 = /* @__PURE__ */ webGLRenderer$4(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionWebGLRendere10)()()()({
    reflectSymbol: () => "webGLRenderer"
  }))(convertOptionWebGLRendere11)()()()({ reflectSymbol: () => "canvas" });
  return {
    toInitializeWebGLRenderer: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(WebGLRendererOptions)($$Proxy)(provided)({}),
      defaultWebGLRenderer
    )
  };
})());
const unrealBloomPass$1 = /* @__PURE__ */ unrealBloomPass$3(/* @__PURE__ */ (() => {
  const $0 = convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsCons(convertRecordOptionsNil)(convertOptionUnrealBloomP4)()()()({
    reflectSymbol: () => "unrealBloomPass"
  }))(convertOptionUnrealBloomP)()()()({ reflectSymbol: () => "threshold" }))(convertOptionUnrealBloomP2)()()()({
    reflectSymbol: () => "strength"
  }))(convertOptionUnrealBloomP3)()()()({ reflectSymbol: () => "resolution" }))(convertOptionUnrealBloomP1)()()()({
    reflectSymbol: () => "radius"
  });
  return {
    toInitializeUnrealBloomPass: (provided) => unsafeUnionFn(
      $0.convertRecordOptions(UnrealBloomPassOptions)($$Proxy)(provided)({}),
      defaultUnrealBloomPass
    )
  };
})());
const render = { type: "render", value: unit };
const runThree = (opts) => {
  const tameXAxis = (v) => {
    if (!v) {
      return (i2) => mapAccum((v1) => (c2) => {
        if (v1._2) {
          return $Tuple(
            c2 + 1 | 0,
            (() => {
              if (c2 > 120) {
                return v1._1;
              }
              return v1._1 * toNumber(c2) / toNumber(120);
            })()
          );
        }
        return $Tuple(0, 0);
      })(applyEvent.apply((b, k) => i2(
        b,
        (a2) => {
          const $6 = Tuple(a2);
          return k($6);
        }
      ))((tf, k) => {
        const a$p = applicativeEvent.pure(false)(tf, k);
        const a$p$1 = opts.pressedStart(tf, k);
        return () => {
          a$p();
          return a$p$1();
        };
      }))(0);
    }
    if (v) {
      return lpf(0.65);
    }
    fail$3();
  };
  const $2 = run$1($Entity(
    "EventfulElement'",
    keepLatest(backdoor.mailboxed(ordColumn)((b, k) => opts.columnPusher.event(b, (a2) => k({ payload: unit, address: a2 })))((columnCtor) => vbust($$Proxy)((v) => globalCameraPortal1()()(perspectiveCamera$1({
      perspectiveCamera: opts.threeDI.perspectiveCamera,
      fov: 75,
      aspect: opts.initialDims.iw / opts.initialDims.ih,
      near: 0.1,
      far: 100
    })((() => {
      const $4 = playerPosition(opts.myPlayer)(AxisZ);
      return oneOf$3([
        (() => {
          const $5 = tameXAxis(false)((() => {
            const $52 = playerPosition(opts.myPlayer)(AxisX);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $9 = $52(a2.playerPositions);
                return k($9);
              }
            );
          })());
          return (b, k) => $5(b, (a2) => k({ type: "positionX", value: a2 }));
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((() => {
            const $52 = playerPosition(opts.myPlayer)(AxisY);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $9 = $52(a2.playerPositions);
                return k($9);
              }
            );
          })());
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "positionY", value: a2._1.cameraOffsetY + a2._2 };
              return k($9);
            }
          );
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $8 = $4(a2.playerPositions);
              return k($8);
            }
          ));
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "positionZ", value: a2._1.cameraOffsetZ + a2._2 };
              return k($9);
            }
          );
        })(),
        (() => {
          const $5 = sampleBy(functorEvent)(Tuple)(opts.renderingInfo)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $8 = $4(a2.playerPositions);
              return k($8);
            }
          ));
          return (b, k) => $5(
            b,
            (a2) => {
              const $9 = { type: "rotationFromEuler", value: ctor_$1(opts.threeDI.euler)({ x: a2._1.cameraRotationAroundX, y: 0, z: 0 }) };
              return k($9);
            }
          );
        })(),
        (b, k) => opts.resizeE(
          b,
          (a2) => {
            const $8 = { type: "aspect", value: a2.iw / a2.ih };
            return k($8);
          }
        )
      ]);
    })()))((myCamera) => {
      const shipsssss = (n2) => arrayMap((player) => unsafeInternalGroup((v$1) => v$1.makeGLTFGroup)({ group: sceneImpl(opts.models.spaceship) })(oneOf$3([
        (() => {
          const $7 = tameXAxis((() => {
            if (player.tag === "Player1") {
              return !(opts.myPlayer.tag === "Player1");
            }
            if (player.tag === "Player2") {
              return !(opts.myPlayer.tag === "Player2");
            }
            if (player.tag === "Player3") {
              return !(opts.myPlayer.tag === "Player3");
            }
            if (player.tag === "Player4") {
              return !(opts.myPlayer.tag === "Player4");
            }
            return true;
          })())((() => {
            const $72 = playerPosition(player)(AxisX);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $72(a2.playerPositions);
                return k($11);
              }
            );
          })());
          return (b, k) => $7(
            b,
            (a2) => {
              const $11 = { type: "positionX", value: n2 + a2 };
              return k($11);
            }
          );
        })(),
        (() => {
          const $7 = sampleBy(functorEvent)((v1) => (py) => v1.sphereOffsetY + py)(opts.renderingInfo)((() => {
            const $72 = playerPosition(player)(AxisY);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $72(a2.playerPositions);
                return k($11);
              }
            );
          })());
          return (b, k) => $7(b, (a2) => k({ type: "positionY", value: a2 }));
        })(),
        applicativeEvent.pure({
          type: "positionZ",
          value: (() => {
            if (player.tag === "Player1") {
              return -4;
            }
            if (player.tag === "Player2") {
              return -3;
            }
            if (player.tag === "Player3") {
              return -2;
            }
            if (player.tag === "Player4") {
              return -1;
            }
            fail$3();
          })()
        }),
        (() => {
          const $7 = playerPosition(player)(AxisZ);
          return (b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $11 = $7(a2.playerPositions);
              return k({ type: "positionZ", value: $11 });
            }
          );
        })(),
        applicativeEvent.pure({ type: "scaleX", value: 0.02 }),
        applicativeEvent.pure({ type: "scaleY", value: 0.02 }),
        applicativeEvent.pure({ type: "scaleZ", value: 0.02 }),
        (() => {
          if (player.tag === "Player1") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: sin(a2.rateInfo.time * 0.3141592653589793) * 0.06283185307179587,
                    y: sin(a2.rateInfo.time * 0.2827433388230814) * -0.09424777960769379,
                    z: cos(a2.rateInfo.time * 0.21991148575128555) * 0.12566370614359174
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player3") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: cos(a2.rateInfo.time * 0.18849555921538758) * 0.06283185307179587,
                    y: sin(a2.rateInfo.time * 0.34557519189487723) * 0.031415926535897934,
                    z: cos(a2.rateInfo.time * 0.09424777960769379) * -0.09424777960769379
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player2") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: sin(a2.rateInfo.time * 0.06283185307179587) * -0.15707963267948966,
                    y: cos(a2.rateInfo.time * 0.37699111843077515) * -0.06283185307179587,
                    z: sin(a2.rateInfo.time * -0.25132741228718347) * 0.25132741228718347
                  })
                };
                return k($10);
              }
            );
          }
          if (player.tag === "Player4") {
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $10 = {
                  type: "rotationFromEuler",
                  value: ctor_$1(opts.threeDI.euler)({
                    x: cos(a2.rateInfo.time * 0.031415926535897934) * 0.12566370614359174,
                    y: cos(a2.rateInfo.time * 0.09424777960769379) * -0.18849555921538758,
                    z: sin(a2.rateInfo.time * 0.06283185307179587) * -0.2827433388230814
                  })
                };
                return k($10);
              }
            );
          }
          fail$3();
        })()
      ]))([]))(filter$1((v1) => {
        if (v1.tag === "Player1") {
          return !(opts.myPlayer.tag === "Player1");
        }
        if (v1.tag === "Player2") {
          return !(opts.myPlayer.tag === "Player2");
        }
        if (v1.tag === "Player3") {
          return !(opts.myPlayer.tag === "Player3");
        }
        if (v1.tag === "Player4") {
          return !(opts.myPlayer.tag === "Player4");
        }
        return true;
      })(allPlayers));
      return globalScenePortal1()()(scene$1({ scene: opts.threeDI.scene })(applicativeEvent.pure({
        type: "background",
        value: $Background("CubeTexture", opts.cubeTextures.skybox)
      }))([
        unsafeInternalGroup((v$1) => v$1.makeGroup)({ group: opts.threeDI.group })(keepLatest((() => {
          const $6 = mapAccum((a2) => (b) => {
            if (b.tag === "Nothing") {
              return $Tuple($Maybe("Just", a2), 0);
            }
            if (b.tag === "Just") {
              return $Tuple($Maybe("Just", a2), a2 - b._1);
            }
            fail$3();
          })((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $9 = a2.rateInfo.epochTime / 1e3;
              return k($9);
            }
          ))(Nothing);
          return (b, k) => $6(
            b,
            (a2) => {
              const fac = a2 / 1e3;
              const $11 = oneOfMap$1(applicativeEvent.pure)([
                { type: "rotateX", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateY", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateZ", value: 1e-3 * cos(fac * 0.031415926535897934) }
              ]);
              return k($11);
            }
          );
        })()))(concatArray(shipsssss(0))(concatArray(arrayMap(unsafeCoerce)(arrayMap((position) => makeBar({
          c3: colorRepresentationRGB.color(opts.threeDI.color),
          threeDI: opts.threeDI,
          renderingInfo: opts.renderingInfo,
          debug: opts.debug,
          initialIsMe: (() => {
            if (position.tag === "Position1") {
              return opts.myPlayer.tag === "Player1";
            }
            if (position.tag === "Position2") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              return opts.myPlayer.tag === "Player2";
            }
            if (position.tag === "Position3") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              if (opts.myPlayer.tag === "Player2") {
                return false;
              }
              return opts.myPlayer.tag === "Player3";
            }
            if (position.tag === "Position4") {
              if (opts.myPlayer.tag === "Player1") {
                return false;
              }
              if (opts.myPlayer.tag === "Player2") {
                return false;
              }
              if (opts.myPlayer.tag === "Player3") {
                return false;
              }
              return opts.myPlayer.tag === "Player4";
            }
            if (opts.myPlayer.tag === "Player1") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player2") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player3") {
              fail$3();
            }
            if (opts.myPlayer.tag === "Player4") {
              fail$3();
            }
            return false;
          })(),
          isMe: dedup(eqBoolean)((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $10 = (() => {
                if (opts.myPlayer.tag === "Player1") {
                  return a2.playerPositions.p1p;
                }
                if (opts.myPlayer.tag === "Player2") {
                  return a2.playerPositions.p2p;
                }
                if (opts.myPlayer.tag === "Player3") {
                  return a2.playerPositions.p3p;
                }
                if (opts.myPlayer.tag === "Player4") {
                  return a2.playerPositions.p4p;
                }
                fail$3();
              })();
              const $11 = (() => {
                if (position.tag === "Position1") {
                  return $10.tag === "Position1";
                }
                if (position.tag === "Position2") {
                  return $10.tag === "Position2";
                }
                if (position.tag === "Position3") {
                  return $10.tag === "Position3";
                }
                if (position.tag === "Position4") {
                  return $10.tag === "Position4";
                }
                return false;
              })();
              return k($11);
            }
          )),
          rateE: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          position
        }))(allPositions)))(concatArray(arrayMap(unsafeCoerce)(arrayMap((column) => makeRaycastableLane({
          initialDims: opts.initialDims,
          resizeEvent: opts.resizeE,
          c3: colorRepresentationRGB.color(opts.threeDI.color),
          renderingInfo: opts.renderingInfo,
          threeDI: opts.threeDI,
          rateInfo: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          debug: opts.debug,
          isMobile: opts.isMobile,
          rateE: (b, k) => opts.animatedStuff(b, (a2) => k(a2.rateInfo)),
          column,
          columnPusher: opts.columnPusher.push(column)
        }))(allColumns)))(concatArray(arrayMap((player) => unsafeInternalGroup((v$1) => v$1.makeGLTFGroup)({
          group: sceneImpl(opts.models.spaceship)
        })(oneOf$3([
          (() => {
            const $7 = tameXAxis((() => {
              if (player.tag === "Player1") {
                return !(opts.myPlayer.tag === "Player1");
              }
              if (player.tag === "Player2") {
                return !(opts.myPlayer.tag === "Player2");
              }
              if (player.tag === "Player3") {
                return !(opts.myPlayer.tag === "Player3");
              }
              if (player.tag === "Player4") {
                return !(opts.myPlayer.tag === "Player4");
              }
              return true;
            })())((() => {
              const $72 = playerPosition(player)(AxisX);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionX", value: a2 }));
          })(),
          (() => {
            const $7 = sampleBy(functorEvent)((v1) => (py) => v1.sphereOffsetY + py)(opts.renderingInfo)((() => {
              const $72 = playerPosition(player)(AxisY);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionY", value: a2 }));
          })(),
          applicativeEvent.pure({
            type: "positionZ",
            value: (() => {
              if (player.tag === "Player1") {
                return -4;
              }
              if (player.tag === "Player2") {
                return -3;
              }
              if (player.tag === "Player3") {
                return -2;
              }
              if (player.tag === "Player4") {
                return -1;
              }
              fail$3();
            })()
          }),
          (() => {
            const $7 = playerPosition(player)(AxisZ);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $7(a2.playerPositions);
                return k({ type: "positionZ", value: $11 });
              }
            );
          })(),
          applicativeEvent.pure({ type: "scaleX", value: 0.02 }),
          applicativeEvent.pure({ type: "scaleY", value: 0.02 }),
          applicativeEvent.pure({ type: "scaleZ", value: 0.02 }),
          (() => {
            if (player.tag === "Player1") {
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $10 = {
                    type: "rotationFromEuler",
                    value: ctor_$1(opts.threeDI.euler)({
                      x: sin(a2.rateInfo.time * 0.3141592653589793) * 0.06283185307179587,
                      y: sin(a2.rateInfo.time * 0.2827433388230814) * -0.09424777960769379,
                      z: cos(a2.rateInfo.time * 0.21991148575128555) * 0.12566370614359174
                    })
                  };
                  return k($10);
                }
              );
            }
            if (player.tag === "Player3") {
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $10 = {
                    type: "rotationFromEuler",
                    value: ctor_$1(opts.threeDI.euler)({
                      x: cos(a2.rateInfo.time * 0.18849555921538758) * 0.06283185307179587,
                      y: sin(a2.rateInfo.time * 0.34557519189487723) * 0.031415926535897934,
                      z: cos(a2.rateInfo.time * 0.09424777960769379) * -0.09424777960769379
                    })
                  };
                  return k($10);
                }
              );
            }
            if (player.tag === "Player2") {
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $10 = {
                    type: "rotationFromEuler",
                    value: ctor_$1(opts.threeDI.euler)({
                      x: sin(a2.rateInfo.time * 0.06283185307179587) * -0.15707963267948966,
                      y: cos(a2.rateInfo.time * 0.37699111843077515) * -0.06283185307179587,
                      z: sin(a2.rateInfo.time * -0.25132741228718347) * 0.25132741228718347
                    })
                  };
                  return k($10);
                }
              );
            }
            if (player.tag === "Player4") {
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $10 = {
                    type: "rotationFromEuler",
                    value: ctor_$1(opts.threeDI.euler)({
                      x: cos(a2.rateInfo.time * 0.031415926535897934) * 0.12566370614359174,
                      y: cos(a2.rateInfo.time * 0.09424777960769379) * -0.18849555921538758,
                      z: sin(a2.rateInfo.time * 0.06283185307179587) * -0.2827433388230814
                    })
                  };
                  return k($10);
                }
              );
            }
            fail$3();
          })()
        ]))([]))(filter$1((v1) => {
          if (v1.tag === "Player1") {
            return !(opts.myPlayer.tag === "Player1");
          }
          if (v1.tag === "Player2") {
            return !(opts.myPlayer.tag === "Player2");
          }
          if (v1.tag === "Player3") {
            return !(opts.myPlayer.tag === "Player3");
          }
          if (v1.tag === "Player4") {
            return !(opts.myPlayer.tag === "Player4");
          }
          return true;
        })(allPlayers)))(concatArray([
          ambientLight$1({ ambientLight: opts.threeDI.ambientLight, intensity: 0.1, color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 }) })(plusEvent.empty)
        ])(concatArray(arrayMap((player) => pointLight$1({
          pointLight: opts.threeDI.pointLight,
          distance: 4,
          decay: 2,
          intensity: 1,
          color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 })
        })(oneOf$3([
          (() => {
            const $7 = tameXAxis((() => {
              if (player.tag === "Player1") {
                return !(opts.myPlayer.tag === "Player1");
              }
              if (player.tag === "Player2") {
                return !(opts.myPlayer.tag === "Player2");
              }
              if (player.tag === "Player3") {
                return !(opts.myPlayer.tag === "Player3");
              }
              if (player.tag === "Player4") {
                return !(opts.myPlayer.tag === "Player4");
              }
              return true;
            })())((() => {
              const $72 = playerPosition(player)(AxisX);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionX", value: a2 }));
          })(),
          (() => {
            const $7 = sampleBy(functorEvent)((v1) => (py) => v1.sphereOffsetY / 2 + py)(opts.renderingInfo)((() => {
              const $72 = playerPosition(player)(AxisY);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $11 = $72(a2.playerPositions);
                  return k($11);
                }
              );
            })());
            return (b, k) => $7(b, (a2) => k({ type: "positionY", value: a2 }));
          })(),
          (() => {
            const $7 = playerPosition(player)(AxisZ);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $11 = $7(a2.playerPositions);
                return k({ type: "positionZ", value: $11 });
              }
            );
          })(),
          applicativeEvent.pure({ type: "decay", value: 2 }),
          applicativeEvent.pure({ type: "intensity", value: 1 }),
          applicativeEvent.pure({ type: "distance", value: 4 })
        ])))(allPlayers))([
          opts.basicE(v._1.hitBasicVisualForLabel)(columnCtor),
          opts.leapE(v._1.hitLeapVisualForLabel)(columnCtor),
          opts.longE(v._1.hitLongVisualForLabel)(v._1.releaseLongVisualForLabel)(columnCtor),
          basicLabels({ threeDI: opts.threeDI, basicTap: v._2.hitBasicVisualForLabel, lpsCallback: opts.lowPriorityCb }),
          leapLabels({ threeDI: opts.threeDI, leapTap: v._2.hitLeapVisualForLabel, lpsCallback: opts.lowPriorityCb }),
          longLabels({
            threeDI: opts.threeDI,
            longTap: v._2.hitLongVisualForLabel,
            longRelease: v._2.releaseLongVisualForLabel,
            lpsCallback: opts.lowPriorityCb
          }),
          $Entity("Element'", myCamera)
        ])))))))
      ]))((myScene) => globalWebGLRendererPortal1()()(webGLRenderer$1(myScene)(myCamera)({ canvas: opts.canvas, webGLRenderer: opts.threeDI.webGLRenderer })(oneOf$3([
        applicativeEvent.pure({ type: "size", value: { width: opts.initialDims.iw, height: opts.initialDims.ih } }),
        (b, k) => opts.resizeE(b, (a2) => k({ type: "size", value: { width: a2.iw, height: a2.ih } }))
      ])))((myWebGLRenderer) => globalScenePortal1()()(scene$1({ scene: opts.threeDI.scene })(plusEvent.empty)([
        unsafeInternalGroup((v$1) => v$1.makeGroup)({ group: opts.threeDI.group })(keepLatest((() => {
          const $8 = mapAccum((a2) => (b) => {
            if (b.tag === "Nothing") {
              return $Tuple($Maybe("Just", a2), 0);
            }
            if (b.tag === "Just") {
              return $Tuple($Maybe("Just", a2), a2 - b._1);
            }
            fail$3();
          })((b, k) => opts.animatedStuff(
            b,
            (a2) => {
              const $11 = a2.rateInfo.epochTime / 1e3;
              return k($11);
            }
          ))(Nothing);
          return (b, k) => $8(
            b,
            (a2) => {
              const fac = a2 / 1e3;
              const $13 = oneOfMap$1(applicativeEvent.pure)([
                { type: "rotateX", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateY", value: 1e-3 * cos(fac * 0.031415926535897934) },
                { type: "rotateZ", value: 1e-3 * cos(fac * 0.031415926535897934) }
              ]);
              return k($13);
            }
          );
        })()))(concatArray(shipsssss(0))(arrayMap((player) => pointLight$1({
          pointLight: opts.threeDI.pointLight,
          distance: 4,
          decay: 2,
          intensity: 1,
          color: ctorRGB_(opts.threeDI.color)({ r: 1, g: 1, b: 1 })
        })(oneOf$3([
          (() => {
            const $9 = tameXAxis((() => {
              if (player.tag === "Player1") {
                return !(opts.myPlayer.tag === "Player1");
              }
              if (player.tag === "Player2") {
                return !(opts.myPlayer.tag === "Player2");
              }
              if (player.tag === "Player3") {
                return !(opts.myPlayer.tag === "Player3");
              }
              if (player.tag === "Player4") {
                return !(opts.myPlayer.tag === "Player4");
              }
              return true;
            })())((() => {
              const $92 = playerPosition(player)(AxisX);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $13 = $92(a2.playerPositions);
                  return k($13);
                }
              );
            })());
            return (b, k) => $9(b, (a2) => k({ type: "positionX", value: a2 }));
          })(),
          (() => {
            const $9 = sampleBy(functorEvent)((v1) => (py) => v1.lightOffsetY + py)(opts.renderingInfo)((() => {
              const $92 = playerPosition(player)(AxisY);
              return (b, k) => opts.animatedStuff(
                b,
                (a2) => {
                  const $13 = $92(a2.playerPositions);
                  return k($13);
                }
              );
            })());
            return (b, k) => $9(b, (a2) => k({ type: "positionY", value: a2 }));
          })(),
          (() => {
            const $9 = playerPosition(player)(AxisZ);
            return (b, k) => opts.animatedStuff(
              b,
              (a2) => {
                const $13 = $9(a2.playerPositions);
                return k({ type: "positionZ", value: $13 });
              }
            );
          })(),
          applicativeEvent.pure({ type: "decay", value: 2 }),
          applicativeEvent.pure({ type: "intensity", value: 1 }),
          applicativeEvent.pure({ type: "distance", value: 4 })
        ])))(allPlayers)))
      ]))((myShips) => globalEffectComposerPortal1()()(effectComposer$1({ effectComposer: opts.threeDI.effectComposer })(myWebGLRenderer)(plusEvent.empty)([
        renderPass$1({ renderPass: opts.threeDI.renderPass })(myShips)(myCamera),
        unrealBloomPass$1({
          unrealBloomPass: opts.threeDI.unrealBloomPass,
          radius: 1,
          resolution: ctor_(opts.threeDI.vector2)({ x: 1e3, y: 1e3 }),
          strength: 3,
          threshold: 0.1
        })(plusEvent.empty)
      ]))((myShipComposer) => $Entity(
        "FixedChildren'",
        [
          raycaster$1({ raycaster: opts.threeDI.raycaster, canvas: opts.canvas })(myCamera),
          $Entity(
            "Element'",
            effectComposer$1({ effectComposer: opts.threeDI.effectComposer })(myWebGLRenderer)(oneOf$3([
              applicativeEvent.pure(render),
              (b, k) => opts.animatedStuff(b, (a2) => k(render))
            ]))([
              renderPass$1({ renderPass: opts.threeDI.renderPass })(myScene)(myCamera),
              effectComposerPass$1({ effectComposerPass: opts.threeDI.effectComposerPass })(myShipComposer)
            ])
          ),
          $Entity(
            "EventfulElement'",
            (b, k) => opts.css2DRendererElt(
              b,
              (a2) => {
                const $13 = css2DRenderer$1(myScene)(myCamera)({ canvas: opts.canvas, element: a2, css2DRenderer: opts.threeDI.css2DRenderer })(oneOf$3([
                  (b$1, k$1) => opts.resizeE(b$1, (a$1) => k$1({ type: "size", value: { width: a$1.iw, height: a$1.ih } })),
                  applicativeEvent.pure(render),
                  (b$1, k$1) => opts.animatedStuff(b$1, (a$1) => k$1(render))
                ]));
                return k($13);
              }
            )
          ),
          $Entity(
            "EventfulElement'",
            (b, k) => opts.css3DRendererElt(
              b,
              (a2) => {
                const $13 = css3DRenderer$1(myScene)(myCamera)({ canvas: opts.canvas, element: a2, css3DRenderer: opts.threeDI.css3DRenderer })(oneOf$3([
                  (b$1, k$1) => opts.resizeE(b$1, (a$1) => k$1({ type: "size", value: { width: a$1.iw, height: a$1.ih } })),
                  applicativeEvent.pure(render),
                  (b$1, k$1) => opts.animatedStuff(b$1, (a$1) => k$1(render))
                ]));
                return k($13);
              }
            )
          )
        ]
      )))));
    }))))
  ));
  return () => {
    $2();
    return unit;
  };
};
function _read(nothing, just, value2) {
  var tag = Object.prototype.toString.call(value2);
  if (tag.indexOf("[object HTML") === 0 && tag.indexOf("Element]") === tag.length - 8) {
    return just(value2);
  } else {
    return nothing;
  }
}
function click$1(elt) {
  return function() {
    return elt.click();
  };
}
function focus(elt) {
  return function() {
    return elt.focus();
  };
}
const $StartState = (tag, _1) => ({ tag, _1 });
const vbussed1 = /* @__PURE__ */ vbussed$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "basicAudio" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "copiedToClipboard"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "iAmReady" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "leapAudio" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "pressedStart"
})()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "rateInfo" })()()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "render2DElement" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "render3DElement"
})()()(vbusNil)()())()())()())()())()())()())()())()());
const oneOf$2 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const traverse_$1 = /* @__PURE__ */ traverse_$7(applicativeEffect)(foldableMaybe);
const fromFoldable$2 = /* @__PURE__ */ fromFoldable$9(ordNumber)(foldableArray);
const pure2 = /* @__PURE__ */ (() => applicativeABehavior(functorEvent).pure)();
const vbussed2 = /* @__PURE__ */ vbussed$2()(/* @__PURE__ */ vbusCons2({ reflectSymbol: () => "changeText" })()()(/* @__PURE__ */ vbusCons2({
  reflectSymbol: () => "requestName"
})()()(vbusNil)()())()());
const oneOfMap = (f) => foldrArray((x) => {
  const $2 = f(x);
  return (v1) => (tf, k) => {
    const a$p = $2(tf, k);
    const a$p$1 = v1(tf, k);
    return () => {
      a$p();
      return a$p$1();
    };
  };
})(plusEvent.empty);
const for_$1 = /* @__PURE__ */ for_$9(applicativeEffect)(foldableMaybe);
const click = (v) => (b, k) => v(
  b,
  (a2) => {
    const $4 = {
      key: "click",
      value: $AttributeValue(
        "Cb'",
        (v$1) => () => {
          a2();
          return true;
        }
      )
    };
    return k($4);
  }
);
const max$1 = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const applicativeExceptT = /* @__PURE__ */ applicativeExceptT$3(monadIdentity);
const traverse = /* @__PURE__ */ (() => traversableMap.traverse(applicativeExceptT))();
const throwError = /* @__PURE__ */ (() => monadThrowExceptT(monadIdentity).throwError)();
const biSampleOn$1 = /* @__PURE__ */ biSampleOn$4(eventIsEvent);
const identity$2 = (x) => x;
const WaitingForMe = /* @__PURE__ */ $StartState("WaitingForMe");
const WaitingForOthers = /* @__PURE__ */ $StartState("WaitingForOthers");
const eqStartState = {
  eq: (x) => (y) => {
    if (x.tag === "WaitingForMe") {
      return y.tag === "WaitingForMe";
    }
    if (x.tag === "WaitingForOthers") {
      return y.tag === "WaitingForOthers";
    }
    if (x.tag === "Started") {
      if (y.tag === "Started") {
        return x._1 === y._1;
      }
      return false;
    }
    return false;
  }
};
const ride = (tli) => (tscore) => (v) => vbussed1($$Proxy)((push) => (event) => $Entity(
  "EventfulElement'",
  backdoor.memoize(sampleBy(functorEvent)((ppos) => (rinfo) => ({
    rateInfo: rinfo,
    playerPositions: {
      p1x: ppos.p1x(rinfo),
      p1y: ppos.p1y,
      p1z: ppos.p1z,
      p1p: ppos.p1p,
      p2x: ppos.p2x(rinfo),
      p2y: ppos.p2y,
      p2z: ppos.p2z,
      p2p: ppos.p2p,
      p3x: ppos.p3x(rinfo),
      p3y: ppos.p3y,
      p3z: ppos.p3z,
      p3p: ppos.p3p,
      p4x: ppos.p4x(rinfo),
      p4y: ppos.p4y,
      p4z: ppos.p4z,
      p4p: ppos.p4p
    }
  }))(v.playerPositions)(biSampleOn$1(oneOff(Just)(filter((m) => applyMaybe.apply((() => {
    if (m.tag === "Leaf") {
      return Nothing;
    }
    const $6 = traverse((v2) => {
      if (v2.tag === "HasNotStartedYet") {
        return throwError(unit);
      }
      if (v2.tag === "HasStarted") {
        return applicativeExceptT.pure(v2._1.startedAt);
      }
      fail$3();
    })(m);
    if ($6.tag === "Left") {
      return Nothing;
    }
    if ($6.tag === "Right") {
      return $Maybe("Just", (v2) => ({ startTime: foldableMap.foldl(max$1)(0)($6._1), myTime: v2 }));
    }
    fail$3();
  })())((() => {
    const $6 = lookup$2(ordPlayer)(v.player)(m);
    if ($6.tag === "Just") {
      if ($6._1.tag === "HasNotStartedYet") {
        return Nothing;
      }
      if ($6._1.tag === "HasStarted") {
        return $Maybe("Just", $6._1._1.startedAt);
      }
      fail$3();
    }
    return Nothing;
  })()))(v.playerStatus)))((b, k) => event.rateInfo(
    b,
    (a2) => k((v1) => {
      const offsetInSeconds = (v1.startTime - v1.myTime) / 1e3;
      return {
        epochTime: a2.epochTime,
        time: a2.time,
        prevTime: a2.prevTime,
        beats: a2.beats - offsetInSeconds,
        prevBeats: (() => {
          if (a2.prevBeats.tag === "Nothing") {
            return Nothing;
          }
          if (a2.prevBeats.tag === "Just") {
            return $Maybe("Just", a2.prevBeats._1 - offsetInSeconds);
          }
          fail$3();
        })()
      };
    })
  ))))((animatedStuff) => $Entity(
    "Element'",
    elementify("div")(plusEvent.empty)($Entity(
      "FixedChildren'",
      [
        $Entity(
          "Element'",
          elementify("div")(applicativeEvent.pure({
            key: "class",
            value: $AttributeValue("Prop'", "z-20 pointer-events-none absolute w-screen h-screen grid grid-rows-3 grid-cols-3")
          }))($Entity(
            "FixedChildren'",
            [
              $Entity(
                "Element'",
                elementify("div")(applicativeEvent.pure({
                  key: "class",
                  value: $AttributeValue("Prop'", "row-start-1 row-end-2 col-start-1 col-end-4")
                }))($Entity(
                  "FixedChildren'",
                  [
                    $Entity(
                      "Element'",
                      elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "mx-2 mt-2") }))($Entity(
                        "FixedChildren'",
                        [
                          switcher((v1) => {
                            if (v1._2.tag === "Nothing") {
                              return $Entity(
                                "Element'",
                                elementify("ul")(plusEvent.empty)($Entity(
                                  "FixedChildren'",
                                  arrayMap((v2) => $Entity(
                                    "Element'",
                                    elementify("li")(plusEvent.empty)($Entity(
                                      "FixedChildren'",
                                      [
                                        $Entity(
                                          "Element'",
                                          elementify("span")(applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue("Prop'", "text-white")
                                          }))($Entity(
                                            "FixedChildren'",
                                            [
                                              text(applicativeEvent.pure((() => {
                                                if ((() => {
                                                  if (v2._1.tag === "Player1") {
                                                    return v.player.tag === "Player1";
                                                  }
                                                  if (v2._1.tag === "Player2") {
                                                    return v.player.tag === "Player2";
                                                  }
                                                  if (v2._1.tag === "Player3") {
                                                    return v.player.tag === "Player3";
                                                  }
                                                  if (v2._1.tag === "Player4") {
                                                    return v.player.tag === "Player4";
                                                  }
                                                  return false;
                                                })()) {
                                                  return "You have joined!";
                                                }
                                                if (v2._2.tag === "HasStarted") {
                                                  if (v2._2._1.name.tag === "Just") {
                                                    return v2._2._1.name._1 + " has joined!";
                                                  }
                                                  if (v2._2._1.name.tag === "Nothing") {
                                                    if (v2._1.tag === "Player1") {
                                                      return "Player 1 has joined!";
                                                    }
                                                    if (v2._1.tag === "Player2") {
                                                      return "Player 2 has joined!";
                                                    }
                                                    if (v2._1.tag === "Player3") {
                                                      return "Player 3 has joined!";
                                                    }
                                                    if (v2._1.tag === "Player4") {
                                                      return "Player 4 has joined!";
                                                    }
                                                    fail$3();
                                                  }
                                                  fail$3();
                                                }
                                                if (v2._2.tag === "HasNotStartedYet") {
                                                  if (v2._1.tag === "Player1") {
                                                    return "Player 1 has joined!";
                                                  }
                                                  if (v2._1.tag === "Player2") {
                                                    return "Player 2 has joined!";
                                                  }
                                                  if (v2._1.tag === "Player3") {
                                                    return "Player 3 has joined!";
                                                  }
                                                  if (v2._1.tag === "Player4") {
                                                    return "Player 4 has joined!";
                                                  }
                                                  fail$3();
                                                }
                                                fail$3();
                                              })()))
                                            ]
                                          ))
                                        )
                                      ]
                                    ))
                                  ))(toUnfoldable$1(unfoldableArray)(v1._1))
                                ))
                              );
                            }
                            if (v1._2.tag === "Just") {
                              return $Entity(
                                "Element'",
                                elementify("ul")(plusEvent.empty)($Entity(
                                  "FixedChildren'",
                                  arrayMap((v2) => $Entity(
                                    "Element'",
                                    elementify("li")(plusEvent.empty)($Entity(
                                      "FixedChildren'",
                                      [
                                        $Entity(
                                          "Element'",
                                          elementify("span")(applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue("Prop'", "text-white")
                                          }))($Entity(
                                            "FixedChildren'",
                                            [
                                              text(applicativeEvent.pure((() => {
                                                if ((() => {
                                                  if (v2._1.tag === "Player1") {
                                                    return v.player.tag === "Player1";
                                                  }
                                                  if (v2._1.tag === "Player2") {
                                                    return v.player.tag === "Player2";
                                                  }
                                                  if (v2._1.tag === "Player3") {
                                                    return v.player.tag === "Player3";
                                                  }
                                                  if (v2._1.tag === "Player4") {
                                                    return v.player.tag === "Player4";
                                                  }
                                                  return false;
                                                })()) {
                                                  if (v2._2.name.tag === "Just") {
                                                    return "You (" + (v2._2.name._1 + ")");
                                                  }
                                                  if (v2._2.name.tag === "Nothing") {
                                                    return "You";
                                                  }
                                                  fail$3();
                                                }
                                                if (v2._2.name.tag === "Just") {
                                                  return v2._2.name._1;
                                                }
                                                if (v2._2.name.tag === "Nothing") {
                                                  if (v2._1.tag === "Player1") {
                                                    return "Player 1";
                                                  }
                                                  if (v2._1.tag === "Player2") {
                                                    return "Player 2";
                                                  }
                                                  if (v2._1.tag === "Player3") {
                                                    return "Player 3";
                                                  }
                                                  if (v2._1.tag === "Player4") {
                                                    return "Player 4";
                                                  }
                                                  fail$3();
                                                }
                                                fail$3();
                                              })() + (": " + (_unsafeStringify(unsafeClamp(round(v2._2.points + -1 * v2._2.penalties))) + " Points"))))
                                            ]
                                          ))
                                        )
                                      ]
                                    ))
                                  ))(mapMaybe((v2) => {
                                    if (v2._2.tag === "HasNotStartedYet") {
                                      return Nothing;
                                    }
                                    if (v2._2.tag === "HasStarted") {
                                      return $Maybe("Just", $Tuple(v2._1, v2._2._1));
                                    }
                                    fail$3();
                                  })(toUnfoldable$1(unfoldableArray)(v1._1)))
                                ))
                              );
                            }
                            fail$3();
                          })(biSampleOn$1(initializeWithEmpty(plusMaybe)(applicativeMaybe)(event.iAmReady))((b, k) => v.playerStatus(
                            b,
                            (a2) => {
                              const $9 = Tuple(a2);
                              return k($9);
                            }
                          )))
                        ]
                      ))
                    ),
                    $Entity(
                      "Element'",
                      elementify("div")(plusEvent.empty)($Entity(
                        "FixedChildren'",
                        [
                          $Entity(
                            "EventfulElement'",
                            (b, k) => event.iAmReady(
                              b,
                              (a2) => {
                                const $9 = $Entity(
                                  "Element'",
                                  elementify("div")(oneOf$2([applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "mx-2") })]))($Entity(
                                    "FixedChildren'",
                                    [
                                      $Entity(
                                        "Element'",
                                        elementify("button")(oneOf$2([
                                          applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue("Prop'", "pointer-events-auto p-1 " + buttonCls)
                                          }),
                                          applicativeEvent.pure({
                                            key: "click",
                                            value: $AttributeValue(
                                              "Cb'",
                                              (v$1) => () => {
                                                a2();
                                                tli.goHome();
                                                return true;
                                              }
                                            )
                                          })
                                        ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Exit to main menu"))]))
                                      )
                                    ]
                                  ))
                                );
                                return k($9);
                              }
                            )
                          )
                        ]
                      ))
                    )
                  ]
                ))
              )
            ]
          ))
        ),
        $Entity(
          "Element'",
          elementify("div")(plusEvent.empty)($Entity(
            "FixedChildren'",
            [
              switcher((v1) => {
                if (v1.tag === "WaitingForMe") {
                  const callback = (toSample) => oneOf$2([
                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls + " pointer-events-auto") }),
                    sampleJIT(toSample)(applicativeEvent.pure((av) => {
                      const $9 = fullScreenFlow(() => {
                        const ricid = requestIdleCallbackIsDefined();
                        const ctx = context_();
                        const hk = constant0Hack_(ctx)();
                        const ci = setIntervalImpl(1e3)((() => {
                          const $12 = bindE(() => tli.icid.value)(traverse_$1((a2) => cancelIdleCallback(a2)(tli.wdw)));
                          return () => {
                            $12();
                            const icb = () => {
                              const a$p = now();
                              const a$p$1 = tli.unschedule.value;
                              const lr = span((x) => x._1 < a$p)(toUnfoldable$1(unfoldableArray)(a$p$1));
                              foreachE(lr.init)(snd)();
                              tli.unschedule.value = fromFoldable$2(lr.rest);
                              return unit;
                            };
                            if (ricid) {
                              const a$p = requestIdleCallback({ timeout: 0 })(icb)(tli.wdw)();
                              return tli.icid.value = $Maybe("Just", a$p);
                            }
                            return icb();
                          };
                        })())();
                        const $13 = withACTime(ctx)(animationFrame);
                        const afE = backdoor.hot((b, k) => $13(b, (a2) => k(a2.acTime)))();
                        const withRate = backdoor.hot(timeFromRate(v.cNow)(pure2({ rate: 1 }))((b, k) => afE.event(b, (a2) => k({ real: a2 }))))();
                        const iu0 = subscribe(withRate.event)(push.rateInfo)();
                        const st = run2(ctx)(graph({
                          basics: event.basicAudio,
                          baseFileOffsetInSeconds: tscore.baseFileOffsetInSeconds,
                          leaps: event.leapAudio,
                          rateInfo: (b, k) => animatedStuff(b, (a2) => k(a2.rateInfo)),
                          buffers: refToBehavior(tli.soundObj),
                          silence: tli.silence,
                          bgtrack: tscore.bgtrack
                        }))();
                        push.pressedStart(true)();
                        push.iAmReady((() => {
                          const $19 = clearIntervalImpl(ci);
                          const $20 = close(monadEffectEffect)(ctx);
                          return () => {
                            st();
                            hk();
                            $19();
                            afE.unsubscribe();
                            iu0();
                            withRate.unsubscribe();
                            const a$p = $20();
                            return a$p;
                          };
                        })())();
                        const fiber = _makeFiber(
                          ffiUtil$1,
                          _bind(read(av))((nm) => _liftEffect(() => {
                            const a$p = v.cNow();
                            return v.optMeIn(a$p)(nm)();
                          }))
                        )();
                        fiber.run();
                        return unit;
                      });
                      return {
                        key: "click",
                        value: $AttributeValue(
                          "Cb'",
                          (v$1) => () => {
                            $9();
                            return true;
                          }
                        )
                      };
                    }))
                  ]);
                  return $Entity(
                    "Element'",
                    elementify("div")(applicativeEvent.pure({
                      key: "class",
                      value: $AttributeValue("Prop'", "z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900")
                    }))($Entity(
                      "FixedChildren'",
                      [
                        $Entity(
                          "Element'",
                          elementify("div")(applicativeEvent.pure({
                            key: "class",
                            value: $AttributeValue("Prop'", "col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900")
                          }))($Entity(
                            "FixedChildren'",
                            [
                              vbussed2($$Proxy)((nPush) => (v1$1) => switcher((v2) => {
                                if (v2) {
                                  return $Entity(
                                    "Element'",
                                    elementify("div")(applicativeEvent.pure({
                                      key: "class",
                                      value: $AttributeValue("Prop'", "mb-4 select-auto")
                                    }))($Entity(
                                      "FixedChildren'",
                                      [
                                        $Entity(
                                          "Element'",
                                          elementify("input")(oneOfMap(applicativeEvent.pure)([
                                            { key: "type", value: $AttributeValue("Prop'", "text") },
                                            { key: "placeholder", value: $AttributeValue("Prop'", "My name") },
                                            {
                                              key: "class",
                                              value: $AttributeValue(
                                                "Prop'",
                                                "pointer-events-auto shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                              )
                                            },
                                            {
                                              key: "input",
                                              value: $AttributeValue(
                                                "Cb'",
                                                (x) => {
                                                  const $12 = for_$1((() => {
                                                    const $122 = nullable(_target(x), Nothing, Just);
                                                    if ($122.tag === "Just") {
                                                      return _unsafeReadProtoTagged(Nothing, Just, "HTMLInputElement", $122._1);
                                                    }
                                                    if ($122.tag === "Nothing") {
                                                      return Nothing;
                                                    }
                                                    fail$3();
                                                  })())((a2) => bindE(value(a2))(nPush.changeText));
                                                  return () => {
                                                    $12();
                                                    return true;
                                                  };
                                                }
                                              )
                                            },
                                            {
                                              key: "@self@",
                                              value: $AttributeValue(
                                                "Cb'",
                                                (e$p) => for_$1(_read(Nothing, Just, e$p))((e2) => {
                                                  const $13 = focus(e2);
                                                  return () => {
                                                    $13();
                                                    return click$1(e2)();
                                                  };
                                                })
                                              )
                                            }
                                          ]))($Entity("FixedChildren'", []))
                                        ),
                                        $Entity(
                                          "Element'",
                                          elementify("button")(callback((tf, k) => {
                                            const a$p = applicativeEvent.pure(Nothing)(tf, k);
                                            const a$p$1 = v1$1.changeText(tf, (a2) => k($Maybe("Just", a2)));
                                            return () => {
                                              a$p();
                                              return a$p$1();
                                            };
                                          }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Start"))]))
                                        )
                                      ]
                                    ))
                                  );
                                }
                                return $Entity(
                                  "Element'",
                                  elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "select-auto") }))($Entity(
                                    "FixedChildren'",
                                    [
                                      (() => {
                                        const url = "joyride.fm/?ride=" + (v.channelName + ("&track=" + v.trackId));
                                        return $Entity(
                                          "Element'",
                                          elementify("div")(applicativeEvent.pure({
                                            key: "class",
                                            value: $AttributeValue("Prop'", "pointer-events-auto text-center text-white p-4")
                                          }))($Entity(
                                            "FixedChildren'",
                                            [
                                              $Entity(
                                                "Element'",
                                                elementify("p")(plusEvent.empty)($Entity(
                                                  "FixedChildren'",
                                                  [text(applicativeEvent.pure("Press the clipboard and get a link to this ride:"))]
                                                ))
                                              ),
                                              $Entity(
                                                "Element'",
                                                elementify("button")(oneOf$2([
                                                  applicativeEvent.pure({
                                                    key: "class",
                                                    value: $AttributeValue(
                                                      "Prop'",
                                                      "pointer-events-auto text-center text-xl bg-gray-800 hover:bg-gray-600 text-white mx-2 rounded"
                                                    )
                                                  }),
                                                  click(applicativeEvent.pure((() => {
                                                    const $12 = _makeFiber(
                                                      ffiUtil$1,
                                                      _bind(_liftEffect(push.copiedToClipboard(true)))(() => _bind(_bind(_liftEffect(writeText("https://" + url)))(toAff$p(coerce)))(() => _bind(_delay(
                                                        Right,
                                                        2e3
                                                      ))(() => _liftEffect(push.copiedToClipboard(false)))))
                                                    );
                                                    return () => {
                                                      const fiber = $12();
                                                      fiber.run();
                                                      return unit;
                                                    };
                                                  })()))
                                                ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("\u{1F449}\u{1F3FD} \u{1F4CB} \u{1F448}\u{1F3FD}"))]))
                                              ),
                                              $Entity(
                                                "Element'",
                                                elementify("p")(plusEvent.empty)($Entity(
                                                  "FixedChildren'",
                                                  [
                                                    text(applicativeEvent.pure("You can send the link to up to 3 people. When everyone has joined, or if you're playing alone, press Start!"))
                                                  ]
                                                ))
                                              )
                                            ]
                                          ))
                                        );
                                      })(),
                                      $Entity(
                                        "Element'",
                                        elementify("div")(applicativeEvent.pure({
                                          key: "class",
                                          value: $AttributeValue("Prop'", "flex w-full justify-center items-center")
                                        }))($Entity(
                                          "FixedChildren'",
                                          (() => {
                                            if (v.playerName.tag === "Just") {
                                              return [
                                                $Entity(
                                                  "Element'",
                                                  elementify("button")(callback((tf, k) => {
                                                    const a$p = applicativeEvent.pure(Nothing)(tf, k);
                                                    const a$p$1 = v1$1.changeText(tf, (a2) => k($Maybe("Just", a2)));
                                                    return () => {
                                                      a$p();
                                                      return a$p$1();
                                                    };
                                                  }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Start"))]))
                                                )
                                              ];
                                            }
                                            if (v.playerName.tag === "Nothing") {
                                              return [
                                                $Entity(
                                                  "Element'",
                                                  elementify("button")(oneOf$2([
                                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls) }),
                                                    callback((tf, k) => {
                                                      const a$p = applicativeEvent.pure(Nothing)(tf, k);
                                                      const a$p$1 = v1$1.changeText(tf, (a2) => k($Maybe("Just", a2)));
                                                      return () => {
                                                        a$p();
                                                        return a$p$1();
                                                      };
                                                    })
                                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Start"))]))
                                                ),
                                                $Entity(
                                                  "Element'",
                                                  elementify("button")(oneOf$2([
                                                    applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", buttonCls) }),
                                                    click(applicativeEvent.pure(nPush.requestName(unit)))
                                                  ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Start with name"))]))
                                                )
                                              ];
                                            }
                                            fail$3();
                                          })()
                                        ))
                                      )
                                    ]
                                  ))
                                );
                              })((tf, k) => {
                                const a$p = applicativeEvent.pure(false)(tf, k);
                                const a$p$1 = v1$1.requestName(tf, (a2) => k(true));
                                return () => {
                                  a$p();
                                  return a$p$1();
                                };
                              }))
                            ]
                          ))
                        )
                      ]
                    ))
                  );
                }
                if (v1.tag === "WaitingForOthers") {
                  return $Entity(
                    "Element'",
                    elementify("div")(applicativeEvent.pure({
                      key: "class",
                      value: $AttributeValue("Prop'", "z-10 pointer-events-auto absolute w-screen h-screen grid grid-rows-6 grid-cols-8 bg-zinc-900")
                    }))($Entity(
                      "FixedChildren'",
                      [
                        $Entity(
                          "Element'",
                          elementify("div")(applicativeEvent.pure({
                            key: "class",
                            value: $AttributeValue("Prop'", "col-start-2 col-end-8 row-start-3 row-end-5 bg-zinc-900")
                          }))($Entity(
                            "FixedChildren'",
                            [
                              $Entity(
                                "Element'",
                                elementify("span")(applicativeEvent.pure({
                                  key: "class",
                                  value: $AttributeValue("Prop'", "text-lg text-white")
                                }))($Entity("FixedChildren'", [text(applicativeEvent.pure("Waiting for others to join"))]))
                              )
                            ]
                          ))
                        )
                      ]
                    ))
                  );
                }
                if (v1.tag === "Started") {
                  return $Entity("EventfulElement'", plusEvent.empty);
                }
                fail$3();
              })(dedup(eqStartState)((b, k) => v.playerStatus(
                b,
                (a2) => {
                  const $9 = (() => {
                    if (a2.tag === "Leaf") {
                      if ((() => {
                        const lookup1 = lookup$2(ordPlayer)(v.player)(a2);
                        return (() => {
                          if (lookup1.tag === "Just") {
                            return !(lookup1._1.tag === "HasNotStartedYet");
                          }
                          return true;
                        })() && !(lookup1.tag === "Nothing");
                      })()) {
                        return WaitingForOthers;
                      }
                      return WaitingForMe;
                    }
                    const $92 = traverse((v2) => {
                      if (v2.tag === "HasNotStartedYet") {
                        return throwError(unit);
                      }
                      if (v2.tag === "HasStarted") {
                        return applicativeExceptT.pure(v2._1.startedAt);
                      }
                      fail$3();
                    })(a2);
                    if ($92.tag === "Left") {
                      if ((() => {
                        const lookup1 = lookup$2(ordPlayer)(v.player)(a2);
                        return (() => {
                          if (lookup1.tag === "Just") {
                            return !(lookup1._1.tag === "HasNotStartedYet");
                          }
                          return true;
                        })() && !(lookup1.tag === "Nothing");
                      })()) {
                        return WaitingForOthers;
                      }
                      return WaitingForMe;
                    }
                    if ($92.tag === "Right") {
                      return $StartState("Started", foldableMap.foldl(max$1)(0)($92._1));
                    }
                    fail$3();
                  })();
                  return k($9);
                }
              )))
            ]
          ))
        ),
        $Entity(
          "Element'",
          elementify("div")(applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") }))($Entity(
            "FixedChildren'",
            [
              $Entity(
                "Element'",
                elementify("canvas")(oneOf$2([
                  applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") }),
                  applicativeEvent.pure({
                    key: "@self@",
                    value: $AttributeValue(
                      "Cb'",
                      (() => {
                        const $6 = traverse_$1((x) => runThree({
                          threeDI: v.threeDI,
                          css2DRendererElt: event.render2DElement,
                          css3DRendererElt: event.render3DElement,
                          isMobile: tli.isMobile,
                          pressedStart: event.pressedStart,
                          galaxyAttributes: v.galaxyAttributes,
                          shaders: v.shaders,
                          renderingInfo: tli.renderingInfo,
                          lowPriorityCb: tli.lpsCallback,
                          myPlayer: v.player,
                          columnPusher: tli.columnPusher,
                          debug: tli.debug,
                          textures: v.textures,
                          cubeTextures: v.cubeTextures,
                          models: v.models,
                          pushBasic: tli.pushBasic,
                          basicE: (pushBasicVisualForLabel) => (columnEventConstructor) => tscore.basicE({
                            initialDims: v.initialDims,
                            columnEventConstructor,
                            renderingInfo: tli.renderingInfo,
                            textures: v.textures,
                            cnow: v.cNow,
                            threeDI: v.threeDI,
                            myPlayer: v.player,
                            debug: tli.debug,
                            notifications: {
                              hitBasic: filter((v2) => {
                                if (v2.value.tag === "HitBasic") {
                                  return $Maybe(
                                    "Just",
                                    {
                                      uniqueId: v2.value._1.uniqueId,
                                      logicalBeat: v2.value._1.logicalBeat,
                                      deltaBeats: v2.value._1.deltaBeats,
                                      hitAt: v2.value._1.hitAt,
                                      player: v2.value._1.player,
                                      issuedAt: v2.time
                                    }
                                  );
                                }
                                return Nothing;
                              })(withCTime(v.cNow)(v.pubNubEvent))
                            },
                            resizeEvent: tli.resizeE,
                            isMobile: tli.isMobile,
                            lpsCallback: tli.lpsCallback,
                            pushAudio: push.basicAudio,
                            mkColor: colorRepresentationRGB.color(v.threeDI.color),
                            mkMatrix4: set_(v.threeDI.matrix4),
                            buffers: refToBehavior(tli.soundObj),
                            silence: tli.silence,
                            animatedStuff,
                            pushBasic: tli.pushBasic,
                            pushBasicVisualForLabel
                          }),
                          leapE: (pushLeapVisualForLabel) => (columnEventConstructor) => tscore.leapE({
                            initialDims: v.initialDims,
                            renderingInfo: tli.renderingInfo,
                            textures: v.textures,
                            myPlayer: v.player,
                            columnEventConstructor,
                            cnow: v.cNow,
                            debug: tli.debug,
                            notifications: {
                              hitLeap: filter((v2) => {
                                if (v2.value.tag === "HitLeap") {
                                  return $Maybe(
                                    "Just",
                                    {
                                      uniqueId: v2.value._1.uniqueId,
                                      hitAt: v2.value._1.hitAt,
                                      player: v2.value._1.player,
                                      oldPosition: v2.value._1.oldPosition,
                                      newPosition: v2.value._1.newPosition,
                                      issuedAt: v2.time
                                    }
                                  );
                                }
                                return Nothing;
                              })(withCTime(v.cNow)(v.pubNubEvent))
                            },
                            resizeEvent: tli.resizeE,
                            isMobile: tli.isMobile,
                            lpsCallback: tli.lpsCallback,
                            pushAudio: push.leapAudio,
                            mkColor: colorRepresentationRGB.color(v.threeDI.color),
                            mkMatrix4: set_(v.threeDI.matrix4),
                            threeDI: v.threeDI,
                            buffers: refToBehavior(tli.soundObj),
                            silence: tli.silence,
                            animatedStuff,
                            pushLeap: tli.pushLeap,
                            pushLeapVisualForLabel
                          }),
                          longE: (pushHitLongVisualForLabel) => (pushReleaseLongVisualForLabel) => (columnEventConstructor) => tscore.longE({
                            initialDims: v.initialDims,
                            renderingInfo: tli.renderingInfo,
                            textures: v.textures,
                            columnEventConstructor,
                            myPlayer: v.player,
                            cnow: v.cNow,
                            debug: tli.debug,
                            notifications: {
                              hitLong: filter((v2) => {
                                if (v2.value.tag === "HitLong") {
                                  return $Maybe(
                                    "Just",
                                    { uniqueId: v2.value._1.uniqueId, hitAt: v2.value._1.hitAt, player: v2.value._1.player, distance: v2.value._1.distance, issuedAt: v2.time }
                                  );
                                }
                                return Nothing;
                              })(withCTime(v.cNow)(v.pubNubEvent)),
                              releaseLong: filter((v2) => {
                                if (v2.value.tag === "ReleaseLong") {
                                  return $Maybe(
                                    "Just",
                                    {
                                      uniqueId: v2.value._1.uniqueId,
                                      releasedAt: v2.value._1.releasedAt,
                                      pctConsumed: v2.value._1.pctConsumed,
                                      player: v2.value._1.player,
                                      hitAt: v2.value._1.hitAt,
                                      distance: v2.value._1.distance,
                                      issuedAt: v2.time
                                    }
                                  );
                                }
                                return Nothing;
                              })(withCTime(v.cNow)(v.pubNubEvent))
                            },
                            resizeEvent: tli.resizeE,
                            isMobile: tli.isMobile,
                            lpsCallback: tli.lpsCallback,
                            pushAudio: push.leapAudio,
                            mkColor: colorRepresentationRGB.color(v.threeDI.color),
                            mkMatrix4: set_(v.threeDI.matrix4),
                            threeDI: v.threeDI,
                            buffers: refToBehavior(tli.soundObj),
                            silence: tli.silence,
                            animatedStuff,
                            pushHitLong: tli.pushHitLong,
                            pushReleaseLong: tli.pushReleaseLong,
                            pushHitLongVisualForLabel,
                            pushReleaseLongVisualForLabel
                          }),
                          animatedStuff,
                          resizeE: tli.resizeE,
                          initialDims: v.initialDims,
                          canvas: x
                        }));
                        return (x) => $6(_unsafeReadProtoTagged(Nothing, Just, "HTMLCanvasElement", x));
                      })()
                    )
                  })
                ]))($Entity("FixedChildren'", []))
              ),
              $Entity(
                "Element'",
                elementify("div")(oneOfMap(applicativeEvent.pure)([
                  { key: "class", value: $AttributeValue("Prop'", "absolute pointer-events-none") },
                  { key: "@self@", value: $AttributeValue("Cb'", push.render2DElement) }
                ]))($Entity("FixedChildren'", []))
              ),
              $Entity(
                "Element'",
                elementify("div")(oneOfMap(applicativeEvent.pure)([
                  { key: "class", value: $AttributeValue("Prop'", "absolute pointer-events-none") },
                  { key: "@self@", value: $AttributeValue("Cb'", push.render3DElement) }
                ]))($Entity("FixedChildren'", []))
              )
            ]
          ))
        ),
        $Entity(
          "Element'",
          elementify("div")(oneOf$2([
            applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "z-1 snackbar text-white") }),
            (b, k) => filter$p(boolNot)(event.copiedToClipboard)(
              b,
              (a2) => k({ key: "class", value: $AttributeValue("Prop'", "z-30 snackbar text-white") })
            ),
            (b, k) => filter$p(identity$2)(event.copiedToClipboard)(
              b,
              (a2) => k({ key: "class", value: $AttributeValue("Prop'", "z-30 snackbar show text-white") })
            )
          ]))($Entity("FixedChildren'", [text(applicativeEvent.pure("Copied to clipboard"))]))
        )
      ]
    ))
  ))
));
const roomIsFull = /* @__PURE__ */ makePursx$p({
  reflectType: () => "\n<div>\n  <h1>Sorry :(</h1>\n  <p>It looks like four players have already joined this joyride. Pick another slug to get started.</p>\n</div>\n"
})(Reflectable$Dict$3)()()(pursxToElementNil)($$Proxy)($$Proxy)({});
const oneOf$1 = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const sorryNeedPermissionPage = /* @__PURE__ */ (() => $Entity(
  "Element'",
  elementify("div")(oneOf$1([applicativeEvent.pure({ key: "class", value: $AttributeValue("Prop'", "absolute") })]))($Entity(
    "FixedChildren'",
    [
      $Entity(
        "Element'",
        elementify("div")(oneOf$1([
          applicativeEvent.pure({
            key: "class",
            value: $AttributeValue("Prop'", "z-10 absolute grid grid-cols-3 grid-rows-3  place-items-center h-screen w-screen")
          })
        ]))($Entity(
          "FixedChildren'",
          [
            $Entity(
              "Element'",
              elementify("div")(applicativeEvent.pure({
                key: "class",
                value: $AttributeValue("Prop'", "col-start-2 col-end-3 row-start-2 row-end-3")
              }))($Entity(
                "FixedChildren'",
                [
                  $Entity(
                    "Element'",
                    elementify("p")(applicativeEvent.pure({
                      key: "class",
                      value: $AttributeValue("Prop'", "text-center text-2xl text-slate-200")
                    }))($Entity(
                      "FixedChildren'",
                      [
                        text(applicativeEvent.pure("This application needs access to your device's orientation in order to function properly. If you change your mind about the orientation permission, please reload the page. Thanks for visiting!"))
                      ]
                    ))
                  )
                ]
              ))
            )
          ]
        ))
      )
    ]
  ))
))();
const $BeatNumber = (tag) => ({ tag });
const $MeasureNumber = (tag) => ({ tag });
const $MeasureNumberBeatNumber = (tag) => ({ tag });
const M1B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M1B1");
const M2B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M2B1");
const M3B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M3B1");
const M3B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M3B3");
const M4B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M4B1");
const M5B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M5B1");
const M6B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M6B1");
const M7B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M7B1");
const M7B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M7B3");
const M8B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M8B1");
const M9B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M9B1");
const M10B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M10B1");
const M11B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M11B1");
const M12B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M12B1");
const M13B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M13B1");
const M14B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M14B1");
const M15B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M15B1");
const M15B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M15B3");
const M16B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M16B1");
const M17B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M17B1");
const M18B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M18B1");
const M19B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M19B1");
const M19B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M19B3");
const M20B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M20B1");
const M21B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M21B1");
const M22B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M22B1");
const M23B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M23B1");
const M23B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M23B3");
const M24B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M24B1");
const M24B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M24B2");
const M24B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M24B3");
const M24B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M24B4");
const M25B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M25B1");
const M25B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M25B2");
const M25B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M25B3");
const M25B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M25B4");
const M26B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M26B1");
const M26B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M26B2");
const M26B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M26B3");
const M26B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M26B4");
const M27B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M27B1");
const M27B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M27B2");
const M27B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M27B3");
const M27B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M27B4");
const M28B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M28B1");
const M28B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M28B2");
const M28B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M28B3");
const M28B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M28B4");
const M29B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M29B1");
const M29B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M29B2");
const M29B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M29B3");
const M29B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M29B4");
const M30B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M30B1");
const M30B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M30B2");
const M30B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M30B3");
const M30B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M30B4");
const M31B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M31B1");
const M31B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M31B2");
const M31B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M31B3");
const M31B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M31B4");
const M32B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M32B1");
const M32B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M32B2");
const M32B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M32B3");
const M32B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M32B4");
const M33B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M33B1");
const M33B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M33B2");
const M33B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M33B3");
const M33B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M33B4");
const M34B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M34B1");
const M34B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M34B2");
const M34B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M34B3");
const M34B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M34B4");
const M35B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M35B1");
const M35B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M35B2");
const M35B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M35B3");
const M35B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M35B4");
const M36B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M36B1");
const M36B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M36B2");
const M36B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M36B3");
const M36B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M36B4");
const M37B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M37B1");
const M37B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M37B2");
const M37B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M37B3");
const M37B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M37B4");
const M38B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M38B1");
const M38B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M38B2");
const M38B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M38B3");
const M38B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M38B4");
const M39B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M39B1");
const M39B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M39B2");
const M39B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M39B3");
const M39B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M39B4");
const M40B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M40B1");
const M40B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M40B2");
const M40B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M40B3");
const M40B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M40B4");
const M41B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M41B1");
const M41B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M41B2");
const M41B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M41B3");
const M41B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M41B4");
const M42B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M42B1");
const M42B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M42B2");
const M42B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M42B3");
const M42B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M42B4");
const M43B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M43B1");
const M43B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M43B2");
const M43B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M43B3");
const M43B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M43B4");
const M44B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M44B1");
const M44B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M44B2");
const M44B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M44B3");
const M44B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M44B4");
const M45B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M45B1");
const M45B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M45B2");
const M45B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M45B3");
const M45B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M45B4");
const M46B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M46B1");
const M46B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M46B2");
const M46B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M46B3");
const M46B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M46B4");
const M47B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M47B1");
const M47B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M47B2");
const M47B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M47B3");
const M47B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M47B4");
const M48B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M48B1");
const M48B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M48B2");
const M48B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M48B3");
const M48B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M48B4");
const M49B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M49B1");
const M49B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M49B2");
const M49B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M49B3");
const M49B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M49B4");
const M50B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M50B1");
const M50B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M50B2");
const M50B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M50B3");
const M50B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M50B4");
const M51B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M51B1");
const M51B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M51B2");
const M51B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M51B3");
const M51B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M51B4");
const M52B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M52B1");
const M52B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M52B2");
const M52B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M52B3");
const M52B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M52B4");
const M53B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M53B1");
const M53B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M53B2");
const M53B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M53B3");
const M53B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M53B4");
const M54B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M54B1");
const M54B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M54B2");
const M54B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M54B3");
const M54B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M54B4");
const M55B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M55B1");
const M55B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M55B2");
const M55B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M55B3");
const M55B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M55B4");
const M56B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M56B1");
const M56B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M56B2");
const M56B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M56B3");
const M56B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M56B4");
const M57B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M57B1");
const M57B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M57B2");
const M57B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M57B3");
const M57B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M57B4");
const M58B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M58B1");
const M58B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M58B2");
const M58B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M58B3");
const M58B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M58B4");
const M59B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M59B1");
const M59B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M59B2");
const M59B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M59B3");
const M59B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M59B4");
const M60B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M60B1");
const M60B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M60B2");
const M60B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M60B3");
const M60B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M60B4");
const M61B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M61B1");
const M61B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M61B2");
const M61B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M61B3");
const M61B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M61B4");
const M62B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M62B1");
const M62B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M62B2");
const M62B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M62B3");
const M62B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M62B4");
const M63B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M63B1");
const M63B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M63B2");
const M63B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M63B3");
const M63B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M63B4");
const M64B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M64B1");
const M64B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M64B2");
const M64B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M64B3");
const M64B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M64B4");
const M65B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M65B1");
const M65B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M65B2");
const M65B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M65B3");
const M65B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M65B4");
const M66B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M66B1");
const M66B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M66B2");
const M66B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M66B3");
const M66B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M66B4");
const M67B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M67B1");
const M67B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M67B2");
const M67B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M67B3");
const M67B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M67B4");
const M68B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M68B1");
const M68B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M68B2");
const M68B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M68B3");
const M68B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M68B4");
const M69B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M69B1");
const M69B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M69B2");
const M69B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M69B3");
const M69B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M69B4");
const M70B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M70B1");
const M70B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M70B2");
const M70B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M70B3");
const M70B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M70B4");
const M71B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M71B1");
const M71B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M71B2");
const M71B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M71B3");
const M71B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M71B4");
const M72B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M72B1");
const M72B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M72B2");
const M72B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M72B3");
const M72B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M72B4");
const M73B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M73B1");
const M73B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M73B2");
const M73B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M73B3");
const M73B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M73B4");
const M74B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M74B1");
const M74B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M74B2");
const M74B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M74B3");
const M74B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M74B4");
const M75B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M75B1");
const M75B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M75B2");
const M75B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M75B3");
const M75B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M75B4");
const M76B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M76B1");
const M76B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M76B2");
const M76B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M76B3");
const M76B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M76B4");
const M77B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M77B1");
const M77B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M77B2");
const M77B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M77B3");
const M77B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M77B4");
const M78B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M78B1");
const M78B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M78B2");
const M78B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M78B3");
const M78B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M78B4");
const M79B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M79B1");
const M79B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M79B2");
const M79B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M79B3");
const M79B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M79B4");
const M80B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M80B1");
const M80B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M80B2");
const M80B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M80B3");
const M80B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M80B4");
const M81B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M81B1");
const M81B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M81B2");
const M81B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M81B3");
const M81B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M81B4");
const M82B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M82B1");
const M82B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M82B2");
const M82B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M82B3");
const M82B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M82B4");
const M83B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M83B1");
const M83B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M83B2");
const M83B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M83B3");
const M83B4 = /* @__PURE__ */ $MeasureNumberBeatNumber("M83B4");
const M84B1 = /* @__PURE__ */ $MeasureNumberBeatNumber("M84B1");
const M84B2 = /* @__PURE__ */ $MeasureNumberBeatNumber("M84B2");
const M84B3 = /* @__PURE__ */ $MeasureNumberBeatNumber("M84B3");
const M1 = /* @__PURE__ */ $MeasureNumber("M1");
const M2 = /* @__PURE__ */ $MeasureNumber("M2");
const M3 = /* @__PURE__ */ $MeasureNumber("M3");
const M4 = /* @__PURE__ */ $MeasureNumber("M4");
const M5 = /* @__PURE__ */ $MeasureNumber("M5");
const M6 = /* @__PURE__ */ $MeasureNumber("M6");
const M7 = /* @__PURE__ */ $MeasureNumber("M7");
const M8 = /* @__PURE__ */ $MeasureNumber("M8");
const M9 = /* @__PURE__ */ $MeasureNumber("M9");
const M10 = /* @__PURE__ */ $MeasureNumber("M10");
const M11 = /* @__PURE__ */ $MeasureNumber("M11");
const M12 = /* @__PURE__ */ $MeasureNumber("M12");
const M13 = /* @__PURE__ */ $MeasureNumber("M13");
const M14 = /* @__PURE__ */ $MeasureNumber("M14");
const M15 = /* @__PURE__ */ $MeasureNumber("M15");
const M16 = /* @__PURE__ */ $MeasureNumber("M16");
const M17 = /* @__PURE__ */ $MeasureNumber("M17");
const M18 = /* @__PURE__ */ $MeasureNumber("M18");
const M19 = /* @__PURE__ */ $MeasureNumber("M19");
const M20 = /* @__PURE__ */ $MeasureNumber("M20");
const M21 = /* @__PURE__ */ $MeasureNumber("M21");
const M22 = /* @__PURE__ */ $MeasureNumber("M22");
const M23 = /* @__PURE__ */ $MeasureNumber("M23");
const M24 = /* @__PURE__ */ $MeasureNumber("M24");
const M25 = /* @__PURE__ */ $MeasureNumber("M25");
const M26 = /* @__PURE__ */ $MeasureNumber("M26");
const M27 = /* @__PURE__ */ $MeasureNumber("M27");
const M28 = /* @__PURE__ */ $MeasureNumber("M28");
const M29 = /* @__PURE__ */ $MeasureNumber("M29");
const M30 = /* @__PURE__ */ $MeasureNumber("M30");
const M31 = /* @__PURE__ */ $MeasureNumber("M31");
const M32 = /* @__PURE__ */ $MeasureNumber("M32");
const M33 = /* @__PURE__ */ $MeasureNumber("M33");
const M34 = /* @__PURE__ */ $MeasureNumber("M34");
const M35 = /* @__PURE__ */ $MeasureNumber("M35");
const M36 = /* @__PURE__ */ $MeasureNumber("M36");
const M37 = /* @__PURE__ */ $MeasureNumber("M37");
const M38 = /* @__PURE__ */ $MeasureNumber("M38");
const M39 = /* @__PURE__ */ $MeasureNumber("M39");
const M40 = /* @__PURE__ */ $MeasureNumber("M40");
const M41 = /* @__PURE__ */ $MeasureNumber("M41");
const M42 = /* @__PURE__ */ $MeasureNumber("M42");
const M43 = /* @__PURE__ */ $MeasureNumber("M43");
const M44 = /* @__PURE__ */ $MeasureNumber("M44");
const M45 = /* @__PURE__ */ $MeasureNumber("M45");
const M46 = /* @__PURE__ */ $MeasureNumber("M46");
const M47 = /* @__PURE__ */ $MeasureNumber("M47");
const M48 = /* @__PURE__ */ $MeasureNumber("M48");
const M49 = /* @__PURE__ */ $MeasureNumber("M49");
const M50 = /* @__PURE__ */ $MeasureNumber("M50");
const M51 = /* @__PURE__ */ $MeasureNumber("M51");
const M52 = /* @__PURE__ */ $MeasureNumber("M52");
const M53 = /* @__PURE__ */ $MeasureNumber("M53");
const M54 = /* @__PURE__ */ $MeasureNumber("M54");
const M55 = /* @__PURE__ */ $MeasureNumber("M55");
const M56 = /* @__PURE__ */ $MeasureNumber("M56");
const M57 = /* @__PURE__ */ $MeasureNumber("M57");
const M58 = /* @__PURE__ */ $MeasureNumber("M58");
const M59 = /* @__PURE__ */ $MeasureNumber("M59");
const M60 = /* @__PURE__ */ $MeasureNumber("M60");
const M61 = /* @__PURE__ */ $MeasureNumber("M61");
const M62 = /* @__PURE__ */ $MeasureNumber("M62");
const M63 = /* @__PURE__ */ $MeasureNumber("M63");
const M64 = /* @__PURE__ */ $MeasureNumber("M64");
const M65 = /* @__PURE__ */ $MeasureNumber("M65");
const M66 = /* @__PURE__ */ $MeasureNumber("M66");
const M67 = /* @__PURE__ */ $MeasureNumber("M67");
const M68 = /* @__PURE__ */ $MeasureNumber("M68");
const M69 = /* @__PURE__ */ $MeasureNumber("M69");
const M70 = /* @__PURE__ */ $MeasureNumber("M70");
const M71 = /* @__PURE__ */ $MeasureNumber("M71");
const M72 = /* @__PURE__ */ $MeasureNumber("M72");
const M73 = /* @__PURE__ */ $MeasureNumber("M73");
const M74 = /* @__PURE__ */ $MeasureNumber("M74");
const M75 = /* @__PURE__ */ $MeasureNumber("M75");
const M76 = /* @__PURE__ */ $MeasureNumber("M76");
const M77 = /* @__PURE__ */ $MeasureNumber("M77");
const M78 = /* @__PURE__ */ $MeasureNumber("M78");
const M79 = /* @__PURE__ */ $MeasureNumber("M79");
const M80 = /* @__PURE__ */ $MeasureNumber("M80");
const M81 = /* @__PURE__ */ $MeasureNumber("M81");
const M82 = /* @__PURE__ */ $MeasureNumber("M82");
const M83 = /* @__PURE__ */ $MeasureNumber("M83");
const M84 = /* @__PURE__ */ $MeasureNumber("M84");
const B1 = /* @__PURE__ */ $BeatNumber("B1");
const B2 = /* @__PURE__ */ $BeatNumber("B2");
const B3 = /* @__PURE__ */ $BeatNumber("B3");
const B4 = /* @__PURE__ */ $BeatNumber("B4");
const mb2info = (v) => {
  if (v.tag === "M1B1") {
    return { t: 6.941271, b: B1, m: M1, mb: M1B1 };
  }
  if (v.tag === "M2B1") {
    return { t: 8.45158, b: B1, m: M2, mb: M2B1 };
  }
  if (v.tag === "M3B1") {
    return { t: 9.913475, b: B1, m: M3, mb: M3B1 };
  }
  if (v.tag === "M3B3") {
    return { t: 10.615054, b: B3, m: M3, mb: M3B3 };
  }
  if (v.tag === "M4B1") {
    return { t: 11.349264, b: B1, m: M4, mb: M4B1 };
  }
  if (v.tag === "M5B1") {
    return { t: 12.726317, b: B1, m: M5, mb: M5B1 };
  }
  if (v.tag === "M6B1") {
    return { t: 14.149054, b: B1, m: M6, mb: M6B1 };
  }
  if (v.tag === "M7B1") {
    return { t: 15.548949, b: B1, m: M7, mb: M7B1 };
  }
  if (v.tag === "M7B3") {
    return { t: 16.253791, b: B3, m: M7, mb: M7B3 };
  }
  if (v.tag === "M8B1") {
    return { t: 16.96516, b: B1, m: M8, mb: M8B1 };
  }
  if (v.tag === "M9B1") {
    return { t: 18.394423, b: B1, m: M9, mb: M9B1 };
  }
  if (v.tag === "M10B1") {
    return { t: 19.751897, b: B1, m: M10, mb: M10B1 };
  }
  if (v.tag === "M11B1") {
    return { t: 21.177897, b: B1, m: M11, mb: M11B1 };
  }
  if (v.tag === "M12B1") {
    return { t: 22.577792, b: B1, m: M12, mb: M12B1 };
  }
  if (v.tag === "M13B1") {
    return { t: 24.000529, b: B1, m: M13, mb: M13B1 };
  }
  if (v.tag === "M14B1") {
    return { t: 25.393897, b: B1, m: M14, mb: M14B1 };
  }
  if (v.tag === "M15B1") {
    return { t: 26.806845, b: B1, m: M15, mb: M15B1 };
  }
  if (v.tag === "M15B3") {
    return { t: 27.482318, b: B3, m: M15, mb: M15B3 };
  }
  if (v.tag === "M16B1") {
    return { t: 28.177371, b: B1, m: M16, mb: M16B1 };
  }
  if (v.tag === "M17B1") {
    return { t: 29.528319, b: B1, m: M17, mb: M17B1 };
  }
  if (v.tag === "M18B1") {
    return { t: 30.921687, b: B1, m: M18, mb: M18B1 };
  }
  if (v.tag === "M19B1") {
    return { t: 32.253056, b: B1, m: M19, mb: M19B1 };
  }
  if (v.tag === "M19B3") {
    return { t: 32.92853, b: B3, m: M19, mb: M19B3 };
  }
  if (v.tag === "M20B1") {
    return { t: 33.604003, b: B1, m: M20, mb: M20B1 };
  }
  if (v.tag === "M21B1") {
    return { t: 34.948424, b: B1, m: M21, mb: M21B1 };
  }
  if (v.tag === "M22B1") {
    return { t: 36.270004, b: B1, m: M22, mb: M22B1 };
  }
  if (v.tag === "M23B1") {
    return { t: 37.630741, b: B1, m: M23, mb: M23B1 };
  }
  if (v.tag === "M23B3") {
    return { t: 38.293162, b: B3, m: M23, mb: M23B3 };
  }
  if (v.tag === "M24B1") {
    return { t: 38.981688, b: B1, m: M24, mb: M24B1 };
  }
  if (v.tag === "M24B2") {
    return { t: 39.32432, b: B2, m: M24, mb: M24B2 };
  }
  if (v.tag === "M24B3") {
    return { t: 39.666951, b: B3, m: M24, mb: M24B3 };
  }
  if (v.tag === "M24B4") {
    return { t: 40.009583, b: B4, m: M24, mb: M24B4 };
  }
  if (v.tag === "M25B1") {
    return { t: 40.319583, b: B1, m: M25, mb: M25B1 };
  }
  if (v.tag === "M25B2") {
    return { t: 40.685057, b: B2, m: M25, mb: M25B2 };
  }
  if (v.tag === "M25B3") {
    return { t: 40.982004, b: B3, m: M25, mb: M25B3 };
  }
  if (v.tag === "M25B4") {
    return { t: 41.24632, b: B4, m: M25, mb: M25B4 };
  }
  if (v.tag === "M26B1") {
    return { t: 41.660741, b: B1, m: M26, mb: M26B1 };
  }
  if (v.tag === "M26B2") {
    return { t: 42.016425, b: B2, m: M26, mb: M26B2 };
  }
  if (v.tag === "M26B3") {
    return { t: 42.332952, b: B3, m: M26, mb: M26B3 };
  }
  if (v.tag === "M26B4") {
    return { t: 42.659267, b: B4, m: M26, mb: M26B4 };
  }
  if (v.tag === "M27B1") {
    return { t: 42.985583, b: B1, m: M27, mb: M27B1 };
  }
  if (v.tag === "M27B2") {
    return { t: 43.318425, b: B2, m: M27, mb: M27B2 };
  }
  if (v.tag === "M27B3") {
    return { t: 43.621899, b: B3, m: M27, mb: M27B3 };
  }
  if (v.tag === "M27B4") {
    return { t: 43.961267, b: B4, m: M27, mb: M27B4 };
  }
  if (v.tag === "M28B1") {
    return { t: 44.290846, b: B1, m: M28, mb: M28B1 };
  }
  if (v.tag === "M28B2") {
    return { t: 44.633478, b: B2, m: M28, mb: M28B2 };
  }
  if (v.tag === "M28B3") {
    return { t: 44.953268, b: B3, m: M28, mb: M28B3 };
  }
  if (v.tag === "M28B4") {
    return { t: 45.28611, b: B4, m: M28, mb: M28B4 };
  }
  if (v.tag === "M29B1") {
    return { t: 45.615689, b: B1, m: M29, mb: M29B1 };
  }
  if (v.tag === "M29B2") {
    return { t: 45.964847, b: B2, m: M29, mb: M29B2 };
  }
  if (v.tag === "M29B3") {
    return { t: 46.297689, b: B3, m: M29, mb: M29B3 };
  }
  if (v.tag === "M29B4") {
    return { t: 46.64032, b: B4, m: M29, mb: M29B4 };
  }
  if (v.tag === "M30B1") {
    return { t: 46.953584, b: B1, m: M30, mb: M30B1 };
  }
  if (v.tag === "M30B2") {
    return { t: 47.279899, b: B2, m: M30, mb: M30B2 };
  }
  if (v.tag === "M30B3") {
    return { t: 47.619268, b: B3, m: M30, mb: M30B3 };
  }
  if (v.tag === "M30B4") {
    return { t: 47.965163, b: B4, m: M30, mb: M30B4 };
  }
  if (v.tag === "M31B1") {
    return { t: 48.249057, b: B1, m: M31, mb: M31B1 };
  }
  if (v.tag === "M31B2") {
    return { t: 48.585163, b: B2, m: M31, mb: M31B2 };
  }
  if (v.tag === "M31B3") {
    return { t: 48.901689, b: B3, m: M31, mb: M31B3 };
  }
  if (v.tag === "M31B4") {
    return { t: 49.273689, b: B4, m: M31, mb: M31B4 };
  }
  if (v.tag === "M32B1") {
    return { t: 49.567373, b: B1, m: M32, mb: M32B1 };
  }
  if (v.tag === "M32B2") {
    return { t: 49.910005, b: B2, m: M32, mb: M32B2 };
  }
  if (v.tag === "M32B3") {
    return { t: 50.229794, b: B3, m: M32, mb: M32B3 };
  }
  if (v.tag === "M32B4") {
    return { t: 50.569163, b: B4, m: M32, mb: M32B4 };
  }
  if (v.tag === "M33B1") {
    return { t: 50.892216, b: B1, m: M33, mb: M33B1 };
  }
  if (v.tag === "M33B2") {
    return { t: 51.234847, b: B2, m: M33, mb: M33B2 };
  }
  if (v.tag === "M33B3") {
    return { t: 51.554637, b: B3, m: M33, mb: M33B3 };
  }
  if (v.tag === "M33B4") {
    return { t: 51.890742, b: B4, m: M33, mb: M33B4 };
  }
  if (v.tag === "M34B1") {
    return { t: 52.220321, b: B1, m: M34, mb: M34B1 };
  }
  if (v.tag === "M34B2") {
    return { t: 52.536847, b: B2, m: M34, mb: M34B2 };
  }
  if (v.tag === "M34B3") {
    return { t: 52.853374, b: B3, m: M34, mb: M34B3 };
  }
  if (v.tag === "M34B4") {
    return { t: 53.196005, b: B4, m: M34, mb: M34B4 };
  }
  if (v.tag === "M35B1") {
    return { t: 53.512532, b: B1, m: M35, mb: M35B1 };
  }
  if (v.tag === "M35B2") {
    return { t: 53.8519, b: B2, m: M35, mb: M35B2 };
  }
  if (v.tag === "M35B3") {
    return { t: 54.17169, b: B3, m: M35, mb: M35B3 };
  }
  if (v.tag === "M35B4") {
    return { t: 54.507795, b: B4, m: M35, mb: M35B4 };
  }
  if (v.tag === "M36B1") {
    return { t: 54.817795, b: B1, m: M36, mb: M36B1 };
  }
  if (v.tag === "M36B2") {
    return { t: 55.144111, b: B2, m: M36, mb: M36B2 };
  }
  if (v.tag === "M36B3") {
    return { t: 55.457374, b: B3, m: M36, mb: M36B3 };
  }
  if (v.tag === "M36B4") {
    return { t: 55.777163, b: B4, m: M36, mb: M36B4 };
  }
  if (v.tag === "M37B1") {
    return { t: 56.090427, b: B1, m: M37, mb: M37B1 };
  }
  if (v.tag === "M37B2") {
    return { t: 56.413479, b: B2, m: M37, mb: M37B2 };
  }
  if (v.tag === "M37B3") {
    return { t: 56.733269, b: B3, m: M37, mb: M37B3 };
  }
  if (v.tag === "M37B4") {
    return { t: 57.0759, b: B4, m: M37, mb: M37B4 };
  }
  if (v.tag === "M38B1") {
    return { t: 57.39569, b: B1, m: M38, mb: M38B1 };
  }
  if (v.tag === "M38B2") {
    return { t: 57.722006, b: B2, m: M38, mb: M38B2 };
  }
  if (v.tag === "M38B3") {
    return { t: 58.032006, b: B3, m: M38, mb: M38B3 };
  }
  if (v.tag === "M38B4") {
    return { t: 58.358322, b: B4, m: M38, mb: M38B4 };
  }
  if (v.tag === "M39B1") {
    return { t: 58.678111, b: B1, m: M39, mb: M39B1 };
  }
  if (v.tag === "M39B2") {
    return { t: 58.988111, b: B2, m: M39, mb: M39B2 };
  }
  if (v.tag === "M39B3") {
    return { t: 59.307901, b: B3, m: M39, mb: M39B3 };
  }
  if (v.tag === "M39B4") {
    return { t: 59.644006, b: B4, m: M39, mb: M39B4 };
  }
  if (v.tag === "M40B1") {
    return { t: 59.960532, b: B1, m: M40, mb: M40B1 };
  }
  if (v.tag === "M40B2") {
    return { t: 60.296637, b: B2, m: M40, mb: M40B2 };
  }
  if (v.tag === "M40B3") {
    return { t: 60.622953, b: B3, m: M40, mb: M40B3 };
  }
  if (v.tag === "M40B4") {
    return { t: 60.955795, b: B4, m: M40, mb: M40B4 };
  }
  if (v.tag === "M41B1") {
    return { t: 61.278848, b: B1, m: M41, mb: M41B1 };
  }
  if (v.tag === "M41B2") {
    return { t: 61.595374, b: B2, m: M41, mb: M41B2 };
  }
  if (v.tag === "M41B3") {
    return { t: 61.905374, b: B3, m: M41, mb: M41B3 };
  }
  if (v.tag === "M41B4") {
    return { t: 62.24148, b: B4, m: M41, mb: M41B4 };
  }
  if (v.tag === "M42B1") {
    return { t: 62.544953, b: B1, m: M42, mb: M42B1 };
  }
  if (v.tag === "M42B2") {
    return { t: 62.874532, b: B2, m: M42, mb: M42B2 };
  }
  if (v.tag === "M42B3") {
    return { t: 63.194322, b: B3, m: M42, mb: M42B3 };
  }
  if (v.tag === "M42B4") {
    return { t: 63.494533, b: B4, m: M42, mb: M42B4 };
  }
  if (v.tag === "M43B1") {
    return { t: 63.807796, b: B1, m: M43, mb: M43B1 };
  }
  if (v.tag === "M43B2") {
    return { t: 64.140638, b: B2, m: M43, mb: M43B2 };
  }
  if (v.tag === "M43B3") {
    return { t: 64.450638, b: B3, m: M43, mb: M43B3 };
  }
  if (v.tag === "M43B4") {
    return { t: 64.770427, b: B4, m: M43, mb: M43B4 };
  }
  if (v.tag === "M44B1") {
    return { t: 65.10327, b: B1, m: M44, mb: M44B1 };
  }
  if (v.tag === "M44B2") {
    return { t: 65.445901, b: B2, m: M44, mb: M44B2 };
  }
  if (v.tag === "M44B3") {
    return { t: 65.77548, b: B3, m: M44, mb: M44B3 };
  }
  if (v.tag === "M44B4") {
    return { t: 66.088743, b: B4, m: M44, mb: M44B4 };
  }
  if (v.tag === "M45B1") {
    return { t: 66.411796, b: B1, m: M45, mb: M45B1 };
  }
  if (v.tag === "M45B2") {
    return { t: 66.728322, b: B2, m: M45, mb: M45B2 };
  }
  if (v.tag === "M45B3") {
    return { t: 67.041586, b: B3, m: M45, mb: M45B3 };
  }
  if (v.tag === "M45B4") {
    return { t: 67.371164, b: B4, m: M45, mb: M45B4 };
  }
  if (v.tag === "M46B1") {
    return { t: 67.655059, b: B1, m: M46, mb: M46B1 };
  }
  if (v.tag === "M46B2") {
    return { t: 67.987901, b: B2, m: M46, mb: M46B2 };
  }
  if (v.tag === "M46B3") {
    return { t: 68.310954, b: B3, m: M46, mb: M46B3 };
  }
  if (v.tag === "M46B4") {
    return { t: 68.62748, b: B4, m: M46, mb: M46B4 };
  }
  if (v.tag === "M47B1") {
    return { t: 68.924428, b: B1, m: M47, mb: M47B1 };
  }
  if (v.tag === "M47B2") {
    return { t: 69.244217, b: B2, m: M47, mb: M47B2 };
  }
  if (v.tag === "M47B3") {
    return { t: 69.573796, b: B3, m: M47, mb: M47B3 };
  }
  if (v.tag === "M47B4") {
    return { t: 69.913165, b: B4, m: M47, mb: M47B4 };
  }
  if (v.tag === "M48B1") {
    return { t: 70.216638, b: B1, m: M48, mb: M48B1 };
  }
  if (v.tag === "M48B2") {
    return { t: 70.533165, b: B2, m: M48, mb: M48B2 };
  }
  if (v.tag === "M48B3") {
    return { t: 70.859481, b: B3, m: M48, mb: M48B3 };
  }
  if (v.tag === "M48B4") {
    return { t: 71.185796, b: B4, m: M48, mb: M48B4 };
  }
  if (v.tag === "M49B1") {
    return { t: 71.495796, b: B1, m: M49, mb: M49B1 };
  }
  if (v.tag === "M49B2") {
    return { t: 71.828639, b: B2, m: M49, mb: M49B2 };
  }
  if (v.tag === "M49B3") {
    return { t: 72.145165, b: B3, m: M49, mb: M49B3 };
  }
  if (v.tag === "M49B4") {
    return { t: 72.500849, b: B4, m: M49, mb: M49B4 };
  }
  if (v.tag === "M50B1") {
    return { t: 72.794533, b: B1, m: M50, mb: M50B1 };
  }
  if (v.tag === "M50B2") {
    return { t: 73.117586, b: B2, m: M50, mb: M50B2 };
  }
  if (v.tag === "M50B3") {
    return { t: 73.414534, b: B3, m: M50, mb: M50B3 };
  }
  if (v.tag === "M50B4") {
    return { t: 73.773481, b: B4, m: M50, mb: M50B4 };
  }
  if (v.tag === "M51B1") {
    return { t: 74.050849, b: B1, m: M51, mb: M51B1 };
  }
  if (v.tag === "M51B2") {
    return { t: 74.377165, b: B2, m: M51, mb: M51B2 };
  }
  if (v.tag === "M51B3") {
    return { t: 74.664323, b: B3, m: M51, mb: M51B3 };
  }
  if (v.tag === "M51B4") {
    return { t: 74.984113, b: B4, m: M51, mb: M51B4 };
  }
  if (v.tag === "M52B1") {
    return { t: 75.300639, b: B1, m: M52, mb: M52B1 };
  }
  if (v.tag === "M52B2") {
    return { t: 75.623692, b: B2, m: M52, mb: M52B2 };
  }
  if (v.tag === "M52B3") {
    return { t: 75.953271, b: B3, m: M52, mb: M52B3 };
  }
  if (v.tag === "M52B4") {
    return { t: 76.217586, b: B4, m: M52, mb: M52B4 };
  }
  if (v.tag === "M53B1") {
    return { t: 76.517797, b: B1, m: M53, mb: M53B1 };
  }
  if (v.tag === "M53B2") {
    return { t: 76.866955, b: B2, m: M53, mb: M53B2 };
  }
  if (v.tag === "M53B3") {
    return { t: 77.167165, b: B3, m: M53, mb: M53B3 };
  }
  if (v.tag === "M53B4") {
    return { t: 77.500008, b: B4, m: M53, mb: M53B4 };
  }
  if (v.tag === "M54B1") {
    return { t: 77.806744, b: B1, m: M54, mb: M54B1 };
  }
  if (v.tag === "M54B2") {
    return { t: 78.159166, b: B2, m: M54, mb: M54B2 };
  }
  if (v.tag === "M54B3") {
    return { t: 78.475692, b: B3, m: M54, mb: M54B3 };
  }
  if (v.tag === "M54B4") {
    return { t: 78.834639, b: B4, m: M54, mb: M54B4 };
  }
  if (v.tag === "M55B1") {
    return { t: 79.13485, b: B1, m: M55, mb: M55B1 };
  }
  if (v.tag === "M55B2") {
    return { t: 79.464429, b: B2, m: M55, mb: M55B2 };
  }
  if (v.tag === "M55B3") {
    return { t: 79.774429, b: B3, m: M55, mb: M55B3 };
  }
  if (v.tag === "M55B4") {
    return { t: 80.097482, b: B4, m: M55, mb: M55B4 };
  }
  if (v.tag === "M56B1") {
    return { t: 80.433587, b: B1, m: M56, mb: M56B1 };
  }
  if (v.tag === "M56B2") {
    return { t: 80.750113, b: B2, m: M56, mb: M56B2 };
  }
  if (v.tag === "M56B3") {
    return { t: 81.069903, b: B3, m: M56, mb: M56B3 };
  }
  if (v.tag === "M56B4") {
    return { t: 81.392955, b: B4, m: M56, mb: M56B4 };
  }
  if (v.tag === "M57B1") {
    return { t: 81.702955, b: B1, m: M57, mb: M57B1 };
  }
  if (v.tag === "M57B2") {
    return { t: 82.045587, b: B2, m: M57, mb: M57B2 };
  }
  if (v.tag === "M57B3") {
    return { t: 82.342534, b: B3, m: M57, mb: M57B3 };
  }
  if (v.tag === "M57B4") {
    return { t: 82.67864, b: B4, m: M57, mb: M57B4 };
  }
  if (v.tag === "M58B1") {
    return { t: 83.004956, b: B1, m: M58, mb: M58B1 };
  }
  if (v.tag === "M58B2") {
    return { t: 83.292113, b: B2, m: M58, mb: M58B2 };
  }
  if (v.tag === "M58B3") {
    return { t: 83.634745, b: B3, m: M58, mb: M58B3 };
  }
  if (v.tag === "M58B4") {
    return { t: 83.983903, b: B4, m: M58, mb: M58B4 };
  }
  if (v.tag === "M59B1") {
    return { t: 84.264535, b: B1, m: M59, mb: M59B1 };
  }
  if (v.tag === "M59B2") {
    return { t: 84.597377, b: B2, m: M59, mb: M59B2 };
  }
  if (v.tag === "M59B3") {
    return { t: 84.913903, b: B3, m: M59, mb: M59B3 };
  }
  if (v.tag === "M59B4") {
    return { t: 85.276114, b: B4, m: M59, mb: M59B4 };
  }
  if (v.tag === "M60B1") {
    return { t: 85.589377, b: B1, m: M60, mb: M60B1 };
  }
  if (v.tag === "M60B2") {
    return { t: 85.892851, b: B2, m: M60, mb: M60B2 };
  }
  if (v.tag === "M60B3") {
    return { t: 86.206114, b: B3, m: M60, mb: M60B3 };
  }
  if (v.tag === "M60B4") {
    return { t: 86.565061, b: B4, m: M60, mb: M60B4 };
  }
  if (v.tag === "M61B1") {
    return { t: 86.855482, b: B1, m: M61, mb: M61B1 };
  }
  if (v.tag === "M61B2") {
    return { t: 87.185061, b: B2, m: M61, mb: M61B2 };
  }
  if (v.tag === "M61B3") {
    return { t: 87.495061, b: B3, m: M61, mb: M61B3 };
  }
  if (v.tag === "M61B4") {
    return { t: 87.854009, b: B4, m: M61, mb: M61B4 };
  }
  if (v.tag === "M62B1") {
    return { t: 88.186851, b: B1, m: M62, mb: M62B1 };
  }
  if (v.tag === "M62B2") {
    return { t: 88.490324, b: B2, m: M62, mb: M62B2 };
  }
  if (v.tag === "M62B3") {
    return { t: 88.784009, b: B3, m: M62, mb: M62B3 };
  }
  if (v.tag === "M62B4") {
    return { t: 89.097272, b: B4, m: M62, mb: M62B4 };
  }
  if (v.tag === "M63B1") {
    return { t: 89.449693, b: B1, m: M63, mb: M63B1 };
  }
  if (v.tag === "M63B2") {
    return { t: 89.805377, b: B2, m: M63, mb: M63B2 };
  }
  if (v.tag === "M63B3") {
    return { t: 90.102325, b: B3, m: M63, mb: M63B3 };
  }
  if (v.tag === "M63B4") {
    return { t: 90.458009, b: B4, m: M63, mb: M63B4 };
  }
  if (v.tag === "M64B1") {
    return { t: 90.774535, b: B1, m: M64, mb: M64B1 };
  }
  if (v.tag === "M64B2") {
    return { t: 91.100851, b: B2, m: M64, mb: M64B2 };
  }
  if (v.tag === "M64B3") {
    return { t: 91.423904, b: B3, m: M64, mb: M64B3 };
  }
  if (v.tag === "M64B4") {
    return { t: 91.746956, b: B4, m: M64, mb: M64B4 };
  }
  if (v.tag === "M65B1") {
    return { t: 92.043904, b: B1, m: M65, mb: M65B1 };
  }
  if (v.tag === "M65B2") {
    return { t: 92.389799, b: B2, m: M65, mb: M65B2 };
  }
  if (v.tag === "M65B3") {
    return { t: 92.706325, b: B3, m: M65, mb: M65B3 };
  }
  if (v.tag === "M65B4") {
    return { t: 93.032641, b: B4, m: M65, mb: M65B4 };
  }
  if (v.tag === "M66B1") {
    return { t: 93.316535, b: B1, m: M66, mb: M66B1 };
  }
  if (v.tag === "M66B2") {
    return { t: 93.67222, b: B2, m: M66, mb: M66B2 };
  }
  if (v.tag === "M66B3") {
    return { t: 93.956114, b: B3, m: M66, mb: M66B3 };
  }
  if (v.tag === "M66B4") {
    return { t: 94.288957, b: B4, m: M66, mb: M66B4 };
  }
  if (v.tag === "M67B1") {
    return { t: 94.615272, b: B1, m: M67, mb: M67B1 };
  }
  if (v.tag === "M67B2") {
    return { t: 94.948115, b: B2, m: M67, mb: M67B2 };
  }
  if (v.tag === "M67B3") {
    return { t: 95.218957, b: B3, m: M67, mb: M67B3 };
  }
  if (v.tag === "M67B4") {
    return { t: 95.590957, b: B4, m: M67, mb: M67B4 };
  }
  if (v.tag === "M68B1") {
    return { t: 95.910746, b: B1, m: M68, mb: M68B1 };
  }
  if (v.tag === "M68B2") {
    return { t: 96.230536, b: B2, m: M68, mb: M68B2 };
  }
  if (v.tag === "M68B3") {
    return { t: 96.556852, b: B3, m: M68, mb: M68B3 };
  }
  if (v.tag === "M68B4") {
    return { t: 96.873378, b: B4, m: M68, mb: M68B4 };
  }
  if (v.tag === "M69B1") {
    return { t: 97.183378, b: B1, m: M69, mb: M69B1 };
  }
  if (v.tag === "M69B2") {
    return { t: 97.532536, b: B2, m: M69, mb: M69B2 };
  }
  if (v.tag === "M69B3") {
    return { t: 97.842536, b: B3, m: M69, mb: M69B3 };
  }
  if (v.tag === "M69B4") {
    return { t: 98.162325, b: B4, m: M69, mb: M69B4 };
  }
  if (v.tag === "M70B1") {
    return { t: 98.436431, b: B1, m: M70, mb: M70B1 };
  }
  if (v.tag === "M70B2") {
    return { t: 98.782325, b: B2, m: M70, mb: M70B2 };
  }
  if (v.tag === "M70B3") {
    return { t: 99.082536, b: B3, m: M70, mb: M70B3 };
  }
  if (v.tag === "M70B4") {
    return { t: 99.392536, b: B4, m: M70, mb: M70B4 };
  }
  if (v.tag === "M71B1") {
    return { t: 99.679694, b: B1, m: M71, mb: M71B1 };
  }
  if (v.tag === "M71B2") {
    return { t: 100.019062, b: B2, m: M71, mb: M71B2 };
  }
  if (v.tag === "M71B3") {
    return { t: 100.329062, b: B3, m: M71, mb: M71B3 };
  }
  if (v.tag === "M71B4") {
    return { t: 100.635799, b: B4, m: M71, mb: M71B4 };
  }
  if (v.tag === "M72B1") {
    return { t: 100.945799, b: B1, m: M72, mb: M72B1 };
  }
  if (v.tag === "M72B2") {
    return { t: 101.301484, b: B2, m: M72, mb: M72B2 };
  }
  if (v.tag === "M72B3") {
    return { t: 101.650642, b: B3, m: M72, mb: M72B3 };
  }
  if (v.tag === "M72B4") {
    return { t: 101.931273, b: B4, m: M72, mb: M72B4 };
  }
  if (v.tag === "M73B1") {
    return { t: 102.224957, b: B1, m: M73, mb: M73B1 };
  }
  if (v.tag === "M73B2") {
    return { t: 102.515378, b: B2, m: M73, mb: M73B2 };
  }
  if (v.tag === "M73B3") {
    return { t: 102.776431, b: B3, m: M73, mb: M73B3 };
  }
  if (v.tag === "M73B4") {
    return { t: 103.099484, b: B4, m: M73, mb: M73B4 };
  }
  if (v.tag === "M74B1") {
    return { t: 103.4878, b: B1, m: M74, mb: M74B1 };
  }
  if (v.tag === "M74B2") {
    return { t: 103.830431, b: B2, m: M74, mb: M74B2 };
  }
  if (v.tag === "M74B3") {
    return { t: 104.150221, b: B3, m: M74, mb: M74B3 };
  }
  if (v.tag === "M74B4") {
    return { t: 104.466747, b: B4, m: M74, mb: M74B4 };
  }
  if (v.tag === "M75B1") {
    return { t: 104.760431, b: B1, m: M75, mb: M75B1 };
  }
  if (v.tag === "M75B2") {
    return { t: 105.031273, b: B2, m: M75, mb: M75B2 };
  }
  if (v.tag === "M75B3") {
    return { t: 105.383695, b: B3, m: M75, mb: M75B3 };
  }
  if (v.tag === "M75B4") {
    return { t: 105.729589, b: B4, m: M75, mb: M75B4 };
  }
  if (v.tag === "M76B1") {
    return { t: 106.023274, b: B1, m: M76, mb: M76B1 };
  }
  if (v.tag === "M76B2") {
    return { t: 106.343063, b: B2, m: M76, mb: M76B2 };
  }
  if (v.tag === "M76B3") {
    return { t: 106.6498, b: B3, m: M76, mb: M76B3 };
  }
  if (v.tag === "M76B4") {
    return { t: 106.972853, b: B4, m: M76, mb: M76B4 };
  }
  if (v.tag === "M77B1") {
    return { t: 107.292642, b: B1, m: M77, mb: M77B1 };
  }
  if (v.tag === "M77B2") {
    return { t: 107.638537, b: B2, m: M77, mb: M77B2 };
  }
  if (v.tag === "M77B3") {
    return { t: 107.912642, b: B3, m: M77, mb: M77B3 };
  }
  if (v.tag === "M77B4") {
    return { t: 108.268326, b: B4, m: M77, mb: M77B4 };
  }
  if (v.tag === "M78B1") {
    return { t: 108.565274, b: B1, m: M78, mb: M78B1 };
  }
  if (v.tag === "M78B2") {
    return { t: 108.901379, b: B2, m: M78, mb: M78B2 };
  }
  if (v.tag === "M78B3") {
    return { t: 109.230958, b: B3, m: M78, mb: M78B3 };
  }
  if (v.tag === "M78B4") {
    return { t: 109.547484, b: B4, m: M78, mb: M78B4 };
  }
  if (v.tag === "M79B1") {
    return { t: 109.837906, b: B1, m: M79, mb: M79B1 };
  }
  if (v.tag === "M79B2") {
    return { t: 110.203379, b: B2, m: M79, mb: M79B2 };
  }
  if (v.tag === "M79B3") {
    return { t: 110.519906, b: B3, m: M79, mb: M79B3 };
  }
  if (v.tag === "M79B4") {
    return { t: 110.849485, b: B4, m: M79, mb: M79B4 };
  }
  if (v.tag === "M80B1") {
    return { t: 111.12359, b: B1, m: M80, mb: M80B1 };
  }
  if (v.tag === "M80B2") {
    return { t: 111.453169, b: B2, m: M80, mb: M80B2 };
  }
  if (v.tag === "M80B3") {
    return { t: 111.772958, b: B3, m: M80, mb: M80B3 };
  }
  if (v.tag === "M80B4") {
    return { t: 112.089485, b: B4, m: M80, mb: M80B4 };
  }
  if (v.tag === "M81B1") {
    return { t: 112.36359, b: B1, m: M81, mb: M81B1 };
  }
  if (v.tag === "M81B2") {
    return { t: 112.712748, b: B2, m: M81, mb: M81B2 };
  }
  if (v.tag === "M81B3") {
    return { t: 113.019485, b: B3, m: M81, mb: M81B3 };
  }
  if (v.tag === "M81B4") {
    return { t: 113.339274, b: B4, m: M81, mb: M81B4 };
  }
  if (v.tag === "M82B1") {
    return { t: 113.636222, b: B1, m: M82, mb: M82B1 };
  }
  if (v.tag === "M82B2") {
    return { t: 113.965801, b: B2, m: M82, mb: M82B2 };
  }
  if (v.tag === "M82B3") {
    return { t: 114.275801, b: B3, m: M82, mb: M82B3 };
  }
  if (v.tag === "M82B4") {
    return { t: 114.608643, b: B4, m: M82, mb: M82B4 };
  }
  if (v.tag === "M83B1") {
    return { t: 114.895801, b: B1, m: M83, mb: M83B1 };
  }
  if (v.tag === "M83B2") {
    return { t: 115.22538, b: B2, m: M83, mb: M83B2 };
  }
  if (v.tag === "M83B3") {
    return { t: 115.52559, b: B3, m: M83, mb: M83B3 };
  }
  if (v.tag === "M83B4") {
    return { t: 115.83559, b: B4, m: M83, mb: M83B4 };
  }
  if (v.tag === "M84B1") {
    return { t: 116.15538, b: B1, m: M84, mb: M84B1 };
  }
  if (v.tag === "M84B2") {
    return { t: 116.481696, b: B2, m: M84, mb: M84B2 };
  }
  if (v.tag === "M84B3") {
    return { t: 116.850433, b: B3, m: M84, mb: M84B3 };
  }
  fail$3();
};
const tmpLeapScore = /* @__PURE__ */ (() => [
  { column: C7, hitsFirstPositionAt: mb2info(M16B1).t, position: Position2 },
  { column: C8, hitsFirstPositionAt: mb2info(M18B1).t, position: Position3 },
  { column: C7, hitsFirstPositionAt: mb2info(M20B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M21B1).t, position: Position4 },
  { column: C7, hitsFirstPositionAt: mb2info(M22B1).t, position: Position2 },
  { column: C8, hitsFirstPositionAt: mb2info(M23B1).t, position: Position3 },
  { column: C7, hitsFirstPositionAt: mb2info(M24B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M25B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M26B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M26B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M27B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M27B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M29B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M29B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M30B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M30B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M31B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M32B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M33B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M34B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M35B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M36B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M37B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M38B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M39B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M40B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M41B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M42B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M43B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M44B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M45B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M46B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M47B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M48B3).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M49B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M50B3).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M51B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M51B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M51B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M51B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M55B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M55B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M55B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M55B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M59B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M59B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M59B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M59B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M63B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M63B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M63B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M63B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M67B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M67B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M67B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M67B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M71B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M71B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M71B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M71B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M75B1).t, position: Position2 },
  { column: C7, hitsFirstPositionAt: mb2info(M75B1).t, position: Position3 },
  { column: C12, hitsFirstPositionAt: mb2info(M75B1).t, position: Position1 },
  { column: C8, hitsFirstPositionAt: mb2info(M75B1).t, position: Position4 },
  { column: C3, hitsFirstPositionAt: mb2info(M79B1).t, position: Position2 },
  { column: C12, hitsFirstPositionAt: mb2info(M79B1).t, position: Position1 },
  { column: C3, hitsFirstPositionAt: mb2info(M83B1).t, position: Position2 },
  { column: C12, hitsFirstPositionAt: mb2info(M83B1).t, position: Position1 }
])();
const tmpLongScore = /* @__PURE__ */ (() => [
  { column: C10, hitsFirstPositionAt: mb2info(M29B1).t, length: 1.25, tag: "shakuhachi0" },
  { column: C2, hitsFirstPositionAt: mb2info(M33B1).t, length: 1, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M36B1).t, length: 1.25, tag: "shakuhachi2" },
  { column: C2, hitsFirstPositionAt: mb2info(M39B1).t, length: 1.5, tag: "shakuhachi3" },
  { column: C10, hitsFirstPositionAt: mb2info(M42B1).t, length: 1.75, tag: "shakuhachi0" },
  { column: C2, hitsFirstPositionAt: mb2info(M45B1).t, length: 1.5, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M48B1).t, length: 1.25, tag: "shakuhachi2" },
  { column: C2, hitsFirstPositionAt: mb2info(M51B1).t, length: 1, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M53B1).t, length: 1.75, tag: "shakuhachi0" },
  { column: C2, hitsFirstPositionAt: mb2info(M55B1).t, length: 1.5, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M57B1).t, length: 1.25, tag: "shakuhachi2" },
  { column: C2, hitsFirstPositionAt: mb2info(M59B1).t, length: 1, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M61B1).t, length: 1.75, tag: "shakuhachi0" },
  { column: C2, hitsFirstPositionAt: mb2info(M63B1).t, length: 1.5, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M65B1).t, length: 1.25, tag: "shakuhachi2" },
  { column: C2, hitsFirstPositionAt: mb2info(M67B1).t, length: 1, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M69B1).t, length: 1.75, tag: "shakuhachi0" },
  { column: C2, hitsFirstPositionAt: mb2info(M72B1).t, length: 1.5, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M75B1).t, length: 1.25, tag: "shakuhachi2" },
  { column: C2, hitsFirstPositionAt: mb2info(M78B1).t, length: 1, tag: "shakuhachi1" },
  { column: C10, hitsFirstPositionAt: mb2info(M81B1).t, length: 1.75, tag: "shakuhachi0" }
])();
const beats2 = [
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M1B1, /* @__PURE__ */ $Tuple(M2B1, /* @__PURE__ */ $Tuple(M3B1, M4B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M5B1, /* @__PURE__ */ $Tuple(M6B1, /* @__PURE__ */ $Tuple(M7B1, M8B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M9B1, /* @__PURE__ */ $Tuple(M10B1, /* @__PURE__ */ $Tuple(M11B1, M12B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M10B1, /* @__PURE__ */ $Tuple(M11B1, /* @__PURE__ */ $Tuple(M12B1, M13B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M11B1, /* @__PURE__ */ $Tuple(M12B1, /* @__PURE__ */ $Tuple(M13B1, M14B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M12B1, /* @__PURE__ */ $Tuple(M13B1, /* @__PURE__ */ $Tuple(M14B1, M15B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M13B1, /* @__PURE__ */ $Tuple(M14B1, /* @__PURE__ */ $Tuple(M15B1, M16B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M14B1, /* @__PURE__ */ $Tuple(M15B1, /* @__PURE__ */ $Tuple(M16B1, M17B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M15B1, /* @__PURE__ */ $Tuple(M16B1, /* @__PURE__ */ $Tuple(M17B1, M18B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M16B1, /* @__PURE__ */ $Tuple(M17B1, /* @__PURE__ */ $Tuple(M18B1, M19B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M17B1, /* @__PURE__ */ $Tuple(M18B1, /* @__PURE__ */ $Tuple(M19B1, M20B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M18B1, /* @__PURE__ */ $Tuple(M19B1, /* @__PURE__ */ $Tuple(M20B1, M21B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M19B1, /* @__PURE__ */ $Tuple(M20B1, /* @__PURE__ */ $Tuple(M21B1, M22B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M20B1, /* @__PURE__ */ $Tuple(M21B1, /* @__PURE__ */ $Tuple(M22B1, M23B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M21B1, /* @__PURE__ */ $Tuple(M22B1, /* @__PURE__ */ $Tuple(M23B1, M24B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M22B1, /* @__PURE__ */ $Tuple(M23B1, /* @__PURE__ */ $Tuple(M24B1, M25B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M23B1, /* @__PURE__ */ $Tuple(M24B1, /* @__PURE__ */ $Tuple(M25B1, M26B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M24B1, /* @__PURE__ */ $Tuple(M25B1, /* @__PURE__ */ $Tuple(M26B1, M27B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M24B3, /* @__PURE__ */ $Tuple(M25B3, /* @__PURE__ */ $Tuple(M26B3, M27B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M25B1, /* @__PURE__ */ $Tuple(M26B1, /* @__PURE__ */ $Tuple(M27B1, M28B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M25B3, /* @__PURE__ */ $Tuple(M26B3, /* @__PURE__ */ $Tuple(M27B3, M28B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M26B1, /* @__PURE__ */ $Tuple(M27B1, /* @__PURE__ */ $Tuple(M28B1, M29B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M26B3, /* @__PURE__ */ $Tuple(M27B3, /* @__PURE__ */ $Tuple(M28B3, M29B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M27B1, /* @__PURE__ */ $Tuple(M28B1, /* @__PURE__ */ $Tuple(M29B1, M30B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M27B3, /* @__PURE__ */ $Tuple(M28B3, /* @__PURE__ */ $Tuple(M29B3, M30B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M28B1, /* @__PURE__ */ $Tuple(M29B1, /* @__PURE__ */ $Tuple(M30B1, M31B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M28B3, /* @__PURE__ */ $Tuple(M29B3, /* @__PURE__ */ $Tuple(M30B3, M31B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M29B1, /* @__PURE__ */ $Tuple(M30B1, /* @__PURE__ */ $Tuple(M31B1, M32B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M29B3, /* @__PURE__ */ $Tuple(M30B3, /* @__PURE__ */ $Tuple(M31B3, M32B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M30B1, /* @__PURE__ */ $Tuple(M31B1, /* @__PURE__ */ $Tuple(M32B1, M33B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M30B3, /* @__PURE__ */ $Tuple(M31B3, /* @__PURE__ */ $Tuple(M32B3, M33B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M31B1, /* @__PURE__ */ $Tuple(M32B1, /* @__PURE__ */ $Tuple(M33B1, M34B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M31B3, /* @__PURE__ */ $Tuple(M32B3, /* @__PURE__ */ $Tuple(M33B3, M34B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M32B1, /* @__PURE__ */ $Tuple(M33B1, /* @__PURE__ */ $Tuple(M34B1, M35B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M33B1, /* @__PURE__ */ $Tuple(M33B3, /* @__PURE__ */ $Tuple(M34B1, M34B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M34B1, /* @__PURE__ */ $Tuple(M35B1, /* @__PURE__ */ $Tuple(M36B1, M37B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M35B1, /* @__PURE__ */ $Tuple(M35B3, /* @__PURE__ */ $Tuple(M36B1, M37B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M36B1, /* @__PURE__ */ $Tuple(M37B1, /* @__PURE__ */ $Tuple(M38B1, M39B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M37B1, /* @__PURE__ */ $Tuple(M37B3, /* @__PURE__ */ $Tuple(M38B1, M38B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M38B1, /* @__PURE__ */ $Tuple(M39B1, /* @__PURE__ */ $Tuple(M40B1, M41B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M39B1, /* @__PURE__ */ $Tuple(M39B3, /* @__PURE__ */ $Tuple(M40B1, M40B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C1,
    /* @__PURE__ */ $Tuple(M40B1, /* @__PURE__ */ $Tuple(M42B1, /* @__PURE__ */ $Tuple(M44B1, M46B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M40B1, /* @__PURE__ */ $Tuple(M41B1, /* @__PURE__ */ $Tuple(M42B1, M43B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M41B1, /* @__PURE__ */ $Tuple(M41B3, /* @__PURE__ */ $Tuple(M42B1, M42B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M42B1, /* @__PURE__ */ $Tuple(M43B1, /* @__PURE__ */ $Tuple(M44B1, M45B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M43B1, /* @__PURE__ */ $Tuple(M43B3, /* @__PURE__ */ $Tuple(M44B1, M44B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C15,
    /* @__PURE__ */ $Tuple(M44B1, /* @__PURE__ */ $Tuple(M46B1, /* @__PURE__ */ $Tuple(M48B1, M50B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M44B1, /* @__PURE__ */ $Tuple(M45B1, /* @__PURE__ */ $Tuple(M46B1, M47B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M45B1, /* @__PURE__ */ $Tuple(M45B3, /* @__PURE__ */ $Tuple(M46B1, M46B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M46B1, /* @__PURE__ */ $Tuple(M47B1, /* @__PURE__ */ $Tuple(M48B1, M49B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M47B1, /* @__PURE__ */ $Tuple(M47B3, /* @__PURE__ */ $Tuple(M48B1, M49B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M48B1, /* @__PURE__ */ $Tuple(M48B3, /* @__PURE__ */ $Tuple(M49B1, M49B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M48B2, /* @__PURE__ */ $Tuple(M48B4, /* @__PURE__ */ $Tuple(M49B2, M49B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M48B3, /* @__PURE__ */ $Tuple(M49B1, /* @__PURE__ */ $Tuple(M49B3, M50B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M48B4, /* @__PURE__ */ $Tuple(M49B2, /* @__PURE__ */ $Tuple(M49B4, M50B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M49B1, /* @__PURE__ */ $Tuple(M49B3, /* @__PURE__ */ $Tuple(M50B1, M50B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M49B2, /* @__PURE__ */ $Tuple(M49B4, /* @__PURE__ */ $Tuple(M50B2, M50B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M49B3, /* @__PURE__ */ $Tuple(M50B1, /* @__PURE__ */ $Tuple(M50B3, M51B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M49B4, /* @__PURE__ */ $Tuple(M50B2, /* @__PURE__ */ $Tuple(M50B4, M51B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M50B1, /* @__PURE__ */ $Tuple(M50B3, /* @__PURE__ */ $Tuple(M51B1, M51B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M50B2, /* @__PURE__ */ $Tuple(M50B4, /* @__PURE__ */ $Tuple(M51B2, M51B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M50B3, /* @__PURE__ */ $Tuple(M51B1, /* @__PURE__ */ $Tuple(M51B3, M52B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M50B4, /* @__PURE__ */ $Tuple(M51B2, /* @__PURE__ */ $Tuple(M51B4, M52B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M51B1, /* @__PURE__ */ $Tuple(M51B3, /* @__PURE__ */ $Tuple(M52B1, M52B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M51B2, /* @__PURE__ */ $Tuple(M51B4, /* @__PURE__ */ $Tuple(M52B2, M52B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M51B3, /* @__PURE__ */ $Tuple(M52B1, /* @__PURE__ */ $Tuple(M52B3, M53B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M51B4, /* @__PURE__ */ $Tuple(M52B2, /* @__PURE__ */ $Tuple(M52B4, M53B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M52B1, /* @__PURE__ */ $Tuple(M52B2, /* @__PURE__ */ $Tuple(M52B3, M52B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M52B1, /* @__PURE__ */ $Tuple(M52B2, /* @__PURE__ */ $Tuple(M52B3, M52B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M53B1, /* @__PURE__ */ $Tuple(M53B2, /* @__PURE__ */ $Tuple(M53B3, M53B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M53B1, /* @__PURE__ */ $Tuple(M53B2, /* @__PURE__ */ $Tuple(M53B3, M53B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M54B1, /* @__PURE__ */ $Tuple(M54B2, /* @__PURE__ */ $Tuple(M54B3, M54B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M54B1, /* @__PURE__ */ $Tuple(M54B2, /* @__PURE__ */ $Tuple(M54B3, M54B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M55B1, /* @__PURE__ */ $Tuple(M55B2, /* @__PURE__ */ $Tuple(M55B3, M55B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M55B1, /* @__PURE__ */ $Tuple(M55B2, /* @__PURE__ */ $Tuple(M55B3, M55B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C1,
    /* @__PURE__ */ $Tuple(M56B1, /* @__PURE__ */ $Tuple(M57B1, /* @__PURE__ */ $Tuple(M58B1, M59B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M56B1, /* @__PURE__ */ $Tuple(M56B2, /* @__PURE__ */ $Tuple(M56B3, M56B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M56B1, /* @__PURE__ */ $Tuple(M56B2, /* @__PURE__ */ $Tuple(M57B3, M57B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M57B1, /* @__PURE__ */ $Tuple(M57B2, /* @__PURE__ */ $Tuple(M57B3, M57B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M57B1, /* @__PURE__ */ $Tuple(M57B2, /* @__PURE__ */ $Tuple(M57B3, M57B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C15,
    /* @__PURE__ */ $Tuple(M58B1, /* @__PURE__ */ $Tuple(M59B1, /* @__PURE__ */ $Tuple(M60B1, M61B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M58B1, /* @__PURE__ */ $Tuple(M58B2, /* @__PURE__ */ $Tuple(M58B3, M58B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M58B1, /* @__PURE__ */ $Tuple(M58B2, /* @__PURE__ */ $Tuple(M58B3, M58B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M59B1, /* @__PURE__ */ $Tuple(M59B2, /* @__PURE__ */ $Tuple(M59B3, M59B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M59B1, /* @__PURE__ */ $Tuple(M59B2, /* @__PURE__ */ $Tuple(M59B3, M59B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M60B1, /* @__PURE__ */ $Tuple(M60B2, /* @__PURE__ */ $Tuple(M60B3, M60B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M60B2, /* @__PURE__ */ $Tuple(M60B3, /* @__PURE__ */ $Tuple(M60B4, M61B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M61B1, /* @__PURE__ */ $Tuple(M61B2, /* @__PURE__ */ $Tuple(M61B3, M61B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M61B2, /* @__PURE__ */ $Tuple(M61B3, /* @__PURE__ */ $Tuple(M61B4, M62B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M62B1, /* @__PURE__ */ $Tuple(M62B2, /* @__PURE__ */ $Tuple(M62B3, M63B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M62B2, /* @__PURE__ */ $Tuple(M62B3, /* @__PURE__ */ $Tuple(M62B4, M63B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M63B1, /* @__PURE__ */ $Tuple(M63B2, /* @__PURE__ */ $Tuple(M63B3, M63B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M63B2, /* @__PURE__ */ $Tuple(M63B3, /* @__PURE__ */ $Tuple(M63B4, M64B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M64B1, /* @__PURE__ */ $Tuple(M64B2, /* @__PURE__ */ $Tuple(M64B3, M64B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M64B2, /* @__PURE__ */ $Tuple(M64B3, /* @__PURE__ */ $Tuple(M64B4, M65B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M65B1, /* @__PURE__ */ $Tuple(M65B2, /* @__PURE__ */ $Tuple(M65B3, M65B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M65B2, /* @__PURE__ */ $Tuple(M65B3, /* @__PURE__ */ $Tuple(M65B4, M66B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M66B1, /* @__PURE__ */ $Tuple(M66B2, /* @__PURE__ */ $Tuple(M66B3, M67B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M66B2, /* @__PURE__ */ $Tuple(M66B3, /* @__PURE__ */ $Tuple(M66B4, M67B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M67B1, /* @__PURE__ */ $Tuple(M67B2, /* @__PURE__ */ $Tuple(M67B3, M67B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M67B2, /* @__PURE__ */ $Tuple(M67B3, /* @__PURE__ */ $Tuple(M67B4, M68B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M68B1, /* @__PURE__ */ $Tuple(M68B2, /* @__PURE__ */ $Tuple(M68B3, M68B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M68B1, /* @__PURE__ */ $Tuple(M68B2, /* @__PURE__ */ $Tuple(M68B3, M68B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M68B1, /* @__PURE__ */ $Tuple(M68B2, /* @__PURE__ */ $Tuple(M68B3, M68B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M68B1, /* @__PURE__ */ $Tuple(M68B2, /* @__PURE__ */ $Tuple(M68B3, M68B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M69B1, /* @__PURE__ */ $Tuple(M69B2, /* @__PURE__ */ $Tuple(M69B3, M69B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M69B1, /* @__PURE__ */ $Tuple(M69B2, /* @__PURE__ */ $Tuple(M69B3, M69B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M69B1, /* @__PURE__ */ $Tuple(M69B2, /* @__PURE__ */ $Tuple(M69B3, M69B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M69B1, /* @__PURE__ */ $Tuple(M69B2, /* @__PURE__ */ $Tuple(M69B3, M69B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M70B1, /* @__PURE__ */ $Tuple(M70B2, /* @__PURE__ */ $Tuple(M70B3, M70B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M70B1, /* @__PURE__ */ $Tuple(M70B2, /* @__PURE__ */ $Tuple(M70B3, M70B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M70B1, /* @__PURE__ */ $Tuple(M70B2, /* @__PURE__ */ $Tuple(M70B3, M70B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M70B1, /* @__PURE__ */ $Tuple(M70B2, /* @__PURE__ */ $Tuple(M70B3, M70B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M71B1, /* @__PURE__ */ $Tuple(M71B2, /* @__PURE__ */ $Tuple(M71B3, M71B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M71B1, /* @__PURE__ */ $Tuple(M71B2, /* @__PURE__ */ $Tuple(M71B3, M71B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M71B1, /* @__PURE__ */ $Tuple(M71B2, /* @__PURE__ */ $Tuple(M71B3, M71B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M71B1, /* @__PURE__ */ $Tuple(M71B2, /* @__PURE__ */ $Tuple(M71B3, M71B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M71B3, /* @__PURE__ */ $Tuple(M71B4, /* @__PURE__ */ $Tuple(M72B1, M72B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M71B3, /* @__PURE__ */ $Tuple(M71B4, /* @__PURE__ */ $Tuple(M72B1, M72B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M71B3, /* @__PURE__ */ $Tuple(M71B4, /* @__PURE__ */ $Tuple(M72B1, M72B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M71B3, /* @__PURE__ */ $Tuple(M71B4, /* @__PURE__ */ $Tuple(M72B1, M72B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M72B1, /* @__PURE__ */ $Tuple(M72B2, /* @__PURE__ */ $Tuple(M72B3, M72B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M72B1, /* @__PURE__ */ $Tuple(M72B2, /* @__PURE__ */ $Tuple(M72B3, M72B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M72B1, /* @__PURE__ */ $Tuple(M72B2, /* @__PURE__ */ $Tuple(M72B3, M72B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M72B1, /* @__PURE__ */ $Tuple(M72B2, /* @__PURE__ */ $Tuple(M72B3, M72B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M72B3, /* @__PURE__ */ $Tuple(M72B4, /* @__PURE__ */ $Tuple(M73B1, M73B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M72B3, /* @__PURE__ */ $Tuple(M72B4, /* @__PURE__ */ $Tuple(M73B1, M73B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M72B3, /* @__PURE__ */ $Tuple(M72B4, /* @__PURE__ */ $Tuple(M73B1, M73B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M72B3, /* @__PURE__ */ $Tuple(M72B4, /* @__PURE__ */ $Tuple(M73B1, M73B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M73B1, /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, M73B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M73B1, /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, M73B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M73B1, /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, M73B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M73B1, /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, M73B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, M74B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, M74B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, M74B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M73B2, /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, M74B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, M74B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, M74B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, M74B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M73B3, /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, M74B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, M74B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, M74B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, M74B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M73B4, /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, M74B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, /* @__PURE__ */ $Tuple(M74B3, M74B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, /* @__PURE__ */ $Tuple(M74B3, M74B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, /* @__PURE__ */ $Tuple(M74B3, M74B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M74B1, /* @__PURE__ */ $Tuple(M74B2, /* @__PURE__ */ $Tuple(M74B3, M74B4)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M74B3, /* @__PURE__ */ $Tuple(M74B4, /* @__PURE__ */ $Tuple(M75B1, M75B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M74B3, /* @__PURE__ */ $Tuple(M74B4, /* @__PURE__ */ $Tuple(M75B1, M75B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M74B3, /* @__PURE__ */ $Tuple(M74B4, /* @__PURE__ */ $Tuple(M75B1, M75B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M74B3, /* @__PURE__ */ $Tuple(M74B4, /* @__PURE__ */ $Tuple(M75B1, M75B2)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M75B1, /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, M76B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M75B1, /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, M76B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M75B1, /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, M76B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M75B1, /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, M76B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, M77B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, M77B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, M77B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M75B3, /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, M77B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C4,
    /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, /* @__PURE__ */ $Tuple(M77B1, M77B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M76B1, /* @__PURE__ */ $Tuple(M76B3, /* @__PURE__ */ $Tuple(M77B1, M77B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M76B3, /* @__PURE__ */ $Tuple(M77B1, /* @__PURE__ */ $Tuple(M77B3, M78B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C11,
    /* @__PURE__ */ $Tuple(M76B3, /* @__PURE__ */ $Tuple(M77B1, /* @__PURE__ */ $Tuple(M77B3, M78B1)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M77B1, /* @__PURE__ */ $Tuple(M77B3, /* @__PURE__ */ $Tuple(M78B1, M78B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M77B1, /* @__PURE__ */ $Tuple(M77B3, /* @__PURE__ */ $Tuple(M78B1, M78B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M79B1, /* @__PURE__ */ $Tuple(M79B3, /* @__PURE__ */ $Tuple(M80B1, M80B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M79B1, /* @__PURE__ */ $Tuple(M79B3, /* @__PURE__ */ $Tuple(M80B1, M80B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M80B1, /* @__PURE__ */ $Tuple(M80B3, /* @__PURE__ */ $Tuple(M81B1, M81B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M81B1, /* @__PURE__ */ $Tuple(M81B3, /* @__PURE__ */ $Tuple(M82B1, M82B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C6,
    /* @__PURE__ */ $Tuple(M82B1, /* @__PURE__ */ $Tuple(M82B3, /* @__PURE__ */ $Tuple(M83B1, M83B3)))
  ),
  /* @__PURE__ */ $Tuple(
    C9,
    /* @__PURE__ */ $Tuple(M82B1, /* @__PURE__ */ $Tuple(M82B3, /* @__PURE__ */ $Tuple(M83B1, M83B3)))
  )
];
const tutorialScore = /* @__PURE__ */ toAugmentedEvents(/* @__PURE__ */ arrayMap(EventV0)(/* @__PURE__ */ arrayBind([
  /* @__PURE__ */ arrayMap((v) => $EventV0(
    "BasicEventV0",
    {
      marker1AudioURL: Nothing,
      marker1Time: mb2info(v._2._1).t,
      marker2AudioURL: Nothing,
      marker2Time: mb2info(v._2._2._1).t,
      marker3AudioURL: Nothing,
      marker3Time: mb2info(v._2._2._2._1).t,
      marker4AudioURL: Nothing,
      marker4Time: mb2info(v._2._2._2._2).t,
      name: Nothing,
      column: semigroupColumn.append(v._1)(C1),
      version: $Version(0)
    }
  ))(beats2),
  /* @__PURE__ */ arrayMap((v) => $EventV0(
    "LeapEventV0",
    {
      audioURL: $Maybe("Just", "floorTom"),
      column: semigroupColumn.append(v.column)(C1),
      marker1Time: v.hitsFirstPositionAt,
      marker2Time: v.hitsFirstPositionAt + 5,
      name: Nothing,
      position: v.position,
      version: $Version(0)
    }
  ))(tmpLeapScore),
  /* @__PURE__ */ arrayMap((v) => $EventV0(
    "LongEventV0",
    {
      audioURL: $Maybe("Just", v.tag),
      column: semigroupColumn.append(v.column)(C1),
      marker1Time: v.hitsFirstPositionAt,
      marker2Time: v.hitsFirstPositionAt + 5,
      name: Nothing,
      length: v.length,
      version: $Version(0)
    }
  ))(tmpLongScore)
])(identity$v)));
const $TopLevelDisplay = (tag, _1) => ({ tag, _1 });
const biSampleOn = /* @__PURE__ */ biSampleOn$4(eventIsEvent);
const startingWith = (a2) => (e2) => (tf, k) => {
  const a$p = applicativeEvent.pure(a2)(tf, k);
  const a$p$1 = e2(tf, k);
  return () => {
    a$p();
    return a$p$1();
  };
};
const TLNeedsOrientation = /* @__PURE__ */ $TopLevelDisplay("TLNeedsOrientation");
const TLWillNotWorkWithoutOrientation = /* @__PURE__ */ $TopLevelDisplay("TLWillNotWorkWithoutOrientation");
const TLLoading = /* @__PURE__ */ $TopLevelDisplay("TLLoading");
const TLGameHasStarted = /* @__PURE__ */ $TopLevelDisplay("TLGameHasStarted");
const TLRoomIsFull = /* @__PURE__ */ $TopLevelDisplay("TLRoomIsFull");
const eqTopLevelDisplay = {
  eq: (v) => (v1) => {
    if (v.tag === "TLExplainer") {
      return v1.tag === "TLExplainer";
    }
    if (v.tag === "TLLoading") {
      return v1.tag === "TLLoading";
    }
    if (v.tag === "TLRoomIsFull") {
      return v1.tag === "TLRoomIsFull";
    }
    if (v.tag === "TLGameHasStarted") {
      return v1.tag === "TLGameHasStarted";
    }
    if (v.tag === "TLSuccess") {
      return v1.tag === "TLSuccess";
    }
    return false;
  }
};
const toplevel = (tli) => switcher((v) => {
  if (v.tag === "TLNeedsOrientation") {
    return orientationPermissionPage({ givePermission: tli.givePermission });
  }
  if (v.tag === "TLWillNotWorkWithoutOrientation") {
    return sorryNeedPermissionPage;
  }
  if (v.tag === "TLExplainer") {
    return explainerPage({
      ride: tli.ride,
      editor: tli.editor,
      tutorial: tli.tutorial,
      isMobile: tli.isMobile,
      cnow: v._1.cNow,
      signOut: v._1.signOut,
      resizeE: tli.resizeE,
      initialDims: v._1.initialDims,
      fbAuth: v._1.fbAuth,
      firestoreDb: v._1.firestoreDb,
      threeDI: v._1.threeDI,
      cubeTextures: v._1.cubeTextures,
      signedInNonAnonymously: v._1.signedInNonAnonymously
    });
  }
  if (v.tag === "TLOpenEditor") {
    return editorPage(tli)(v._1.oe)(v._1.wt);
  }
  if (v.tag === "TLLoading") {
    return loadingPage;
  }
  if (v.tag === "TLRoomIsFull") {
    return roomIsFull;
  }
  if (v.tag === "TLGameHasStarted") {
    return gameHasStarted;
  }
  if (v.tag === "TLWantsTutorial") {
    return tutorial$1(tli)({
      basicE: rideBasics(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedBasicEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(tutorialScore))),
      leapE: rideLeaps(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedLeapEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(tutorialScore))),
      longE: rideLongs(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedLongEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(tutorialScore))),
      baseFileOffsetInSeconds: 0,
      bgtrack: "tutorial",
      isPreviewPage: Nothing
    })(v._1);
  }
  if (v.tag === "TLSuccess") {
    return ride(tli)({
      basicE: rideBasics(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedBasicEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(v._1.events))),
      leapE: rideLeaps(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedLeapEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(v._1.events))),
      longE: rideLongs(sortBy((x) => (y) => ordNumber.compare(x.marker1Time)(y.marker1Time))(mapMaybe((v$1) => {
        if (v$1._1.tag === "AugmentedLongEventV0") {
          return $Maybe("Just", v$1._1._1);
        }
        return Nothing;
      })(v._1.events))),
      bgtrack: v._1.track._1.url,
      baseFileOffsetInSeconds: 0
    })(v._1);
  }
  fail$3();
})(dedup(eqTopLevelDisplay)((() => {
  const $1 = biSampleOn(startingWith(PageLoad)(tli.negotiation))((b, k) => startingWith(false)(tli.loaded)(b, (a2) => k((v1) => ({ loaded: a2, negotiation: v1 }))));
  return (b, k) => $1(
    b,
    (a2) => {
      const $5 = (() => {
        if (a2.negotiation.tag === "NeedsOrientation") {
          return TLNeedsOrientation;
        }
        if (a2.negotiation.tag === "WillNotWorkWithoutOrientation") {
          return TLWillNotWorkWithoutOrientation;
        }
        if (a2.negotiation.tag === "GetRulesOfGame") {
          return $TopLevelDisplay("TLExplainer", a2.negotiation._1);
        }
        if (!a2.loaded) {
          return TLLoading;
        }
        if (a2.negotiation.tag === "PageLoad") {
          return TLLoading;
        }
        if (a2.negotiation.tag === "StartingNegotiation") {
          return TLLoading;
        }
        if (a2.negotiation.tag === "RoomIsFull") {
          return TLRoomIsFull;
        }
        if (a2.negotiation.tag === "GameHasStarted") {
          return TLGameHasStarted;
        }
        if (a2.negotiation.tag === "RequestingPlayer") {
          return TLLoading;
        }
        if (a2.negotiation.tag === "ReceivedPossibilities") {
          return TLLoading;
        }
        if (a2.negotiation.tag === "ClaimFail") {
          return TLRoomIsFull;
        }
        if (a2.loaded) {
          if (a2.negotiation.tag === "Success") {
            return $TopLevelDisplay("TLSuccess", a2.negotiation._1);
          }
          if (a2.negotiation.tag === "WantsTutorial") {
            return $TopLevelDisplay("TLWantsTutorial", a2.negotiation._1);
          }
          if (a2.negotiation.tag === "OpenEditor") {
            return $TopLevelDisplay("TLOpenEditor", a2.negotiation._1);
          }
          fail$3();
        }
        fail$3();
      })();
      return k($5);
    }
  );
})()));
const writeToRecordImpl = function(key) {
  return function(val) {
    return function(ref) {
      return function() {
        ref.value[key] = val;
      };
    };
  };
};
const readFromRecordImpl = function(key) {
  return function(ref) {
    return function() {
      return ref.value[key];
    };
  };
};
function code(e2) {
  return e2.code;
}
const traverse_ = /* @__PURE__ */ traverse_$7(applicativeEffect)(foldableMaybe);
const posFromKeypress = (ktp) => (v) => {
  if (ktp.time.tag === "Nothing") {
    return 0;
  }
  if (ktp.time.tag === "Just") {
    const tdiffsqo2 = 0.77 * pow((v - ktp.time._1) * 1e-3)(2) / 2;
    if (ktp.curXDir.tag === "Still") {
      return ktp.pos;
    }
    if (ktp.curXDir.tag === "ToLeft") {
      return -2 * tdiffsqo2 + ktp.pos;
    }
    if (ktp.curXDir.tag === "ToRight") {
      return 2 * tdiffsqo2 + ktp.pos;
    }
    fail$3();
  }
  fail$3();
};
const xForKeyboard = (cnow2) => (w) => (myPlayer) => (pub) => () => {
  const evt = create();
  const xpe = { value: { curXDir: Still, time: Nothing, pos: 0 } };
  const makeListener = (isUp) => eventListener((() => {
    const $7 = traverse_((e2) => {
      const keyCode = code(e2);
      const curXDir = (() => {
        if (isUp) {
          return Still;
        }
        if (keyCode === "ArrowLeft") {
          return ToLeft;
        }
        return ToRight;
      })();
      if (keyCode === "ArrowLeft" || keyCode === "ArrowRight") {
        return () => {
          const a$p = cnow2();
          const $11 = xpe.value;
          const nw = xpe.value = (() => {
            if ((() => {
              if ($11.curXDir.tag === "ToLeft") {
                return curXDir.tag === "ToLeft";
              }
              if ($11.curXDir.tag === "ToRight") {
                return curXDir.tag === "ToRight";
              }
              if ($11.curXDir.tag === "Still") {
                return curXDir.tag === "Still";
              }
              return false;
            })()) {
              return $11;
            }
            return { curXDir, time: $Maybe("Just", a$p), pos: posFromKeypress($11)(a$p) };
          })();
          evt.push(nw)();
          return pub($PlayerAction("XPositionKeyboard", { ktp: nw, player: myPlayer }))();
        };
      }
      return () => unit;
    });
    return (x) => $7(_unsafeReadProtoTagged(Nothing, Just, "KeyboardEvent", x));
  })());
  const keydownListener = makeListener(false)();
  const keyupListener = makeListener(true)();
  addEventListener("keydown")(keydownListener)(true)(w)();
  addEventListener("keyup")(keyupListener)(true)(w)();
  return (b, k) => evt.event(b, (a2) => k((x) => posFromKeypress(a2)(x.epochTime)));
};
const firebaseConfig = {
  apiKey: "AIzaSyBwnikO21-Mmj0WKLEwLYQ801X5MsJkmCw",
  authDomain: "joyri-de.firebaseapp.com",
  projectId: "joyri-de",
  storageBucket: "joyri-de.appspot.com",
  messagingSenderId: "58052920677",
  appId: "1:58052920677:web:7bd22ca2a8b3e0423e8d8c",
  measurementId: "G-G6P7FY8QWJ"
};
const firebaseApp = () => __vitePreload(() => import("./index.esm.8a9335aa.js"), true ? ["assets/index.esm.8a9335aa.js","assets/index.esm2017.ce458832.js"] : void 0).then(
  ({ initializeApp }) => initializeApp(firebaseConfig)
);
const firebaseAppAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(firebaseApp))(/* @__PURE__ */ toAff$p(coerce));
const $ParFold = () => ({ tag: "ParFold" });
const ParFold = /* @__PURE__ */ $ParFold();
const foldingWithIndexParFoldPr = () => (dictIsSymbol) => () => ({ foldingWithIndex: (v) => (prop2) => (x$p) => (affA) => _parAffApply(_parAffMap(insert(dictIsSymbol)()()(prop2))(affA))(x$p) });
const guiImpl = () => __vitePreload(() => import("./lil-gui.esm.47a06ea7.js"), true ? [] : void 0).then((GUI) => new GUI.default());
const mockGui = () => {
  return { add: () => {
  }, addColor: () => {
  } };
};
const linkUpGuiImpl = (gui2) => (x) => () => {
  const urObject = { value: {} };
  const myObject = urObject.value;
  for (const [key, value2] of Object.entries(x)) {
    if (value2.type === "slider") {
      myObject[key] = value2.v.default;
      gui2.add(myObject, key, value2.v.min, value2.v.max, value2.v.step);
    } else if (value2.type === "numeric") {
      myObject[key] = value2.v;
      gui2.add(myObject, key);
    } else if (value2.type === "checkbox") {
      myObject[key] = value2.v;
      gui2.add(myObject, key);
    } else if (value2.type === "color") {
      myObject[key] = value2.v;
      gui2.addColor(myObject, key);
    }
  }
  return urObject;
};
const $Guiables = () => ({ tag: "Guiables" });
const $Tuple1 = () => ({ tag: "Tuple1" });
const writeImpl = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields({ reflectSymbol: () => "type" })(writeForeignString)(consWriteForeignFields({ reflectSymbol: () => "v" })((() => {
    const $02 = consWriteForeignFields({ reflectSymbol: () => "default" })(writeForeignNumber)(consWriteForeignFields({
      reflectSymbol: () => "max"
    })(writeForeignNumber)(consWriteForeignFields({ reflectSymbol: () => "min" })(writeForeignNumber)(consWriteForeignFields({
      reflectSymbol: () => "step"
    })(writeForeignNumber)(nilWriteForeignFields)()()())()()())()()())()()();
    return { writeImpl: (rec) => $02.writeImplFields($$Proxy)(rec)({}) };
  })())(nilWriteForeignFields)()()())()()();
  return (rec) => $0.writeImplFields($$Proxy)(rec)({});
})();
const Tuple1 = /* @__PURE__ */ $Tuple1();
const Guiables = /* @__PURE__ */ $Guiables();
const mappingTuple2 = { mapping: (v) => snd };
const mappingTuple1 = { mapping: (v) => fst };
const guiableSlider = { guiable: (v) => $Tuple(writeImpl({ type: "slider", v }), v.default) };
const gui$p = (dictHMap) => (dictHMap1) => (dictHMap2) => (g$p) => (i2) => _bind(g$p)((g) => _liftEffect(linkUpGuiImpl(g)(dictHMap1.hmap(Tuple1)(dictHMap.hmap(Guiables)(i2)))));
const noGui = (dictHMap) => (dictHMap1) => (dictHMap2) => (i2) => _map((v) => ({ debug: false, renderingInfo: v }))(gui$p(dictHMap)(dictHMap1)(dictHMap2)(_liftEffect(mockGui))(i2));
const gui = (dictHMap) => (dictHMap1) => (dictHMap2) => (i2) => _map((v) => ({ debug: true, renderingInfo: v }))(gui$p(dictHMap)(dictHMap1)(dictHMap2)(_bind(_liftEffect(guiImpl))(toAff$p(coerce)))(i2));
const parTraverse$1 = /* @__PURE__ */ (() => {
  const traverse2 = traversableList.traverse(applicativeParAff);
  return (f) => {
    const $2 = traverse2((x) => f(x));
    return (x) => _sequential($2(x));
  };
})();
const sequence$1 = /* @__PURE__ */ (() => traversableTuple.sequence(applicativeAff))();
const fromFoldable$1 = /* @__PURE__ */ fromFoldable$8(foldableList);
const dlInChunks = (silentRoom) => (i2) => (l2) => (ac) => (rf) => {
  const go = (a2) => (b) => {
    const v = span$1((x) => x._1 < a2)(b);
    return _bind(parTraverse$1((() => {
      const $9 = functorTuple.map((() => {
        const $92 = _throwError(error$1("Could not download file"));
        return (x) => {
          const $11 = _lookup(Nothing, Just, x, silentRoom);
          if ($11.tag === "Nothing") {
            return $92;
          }
          if ($11.tag === "Just") {
            return decodeAudioDataFromUri(ac)($11._1);
          }
          fail$3();
        };
      })());
      return (x) => sequence$1($9(x));
    })())(listMap((x) => $Tuple(x._2._1, x._2._2))(v.init)))((o) => _bind(_liftEffect((() => {
      const $10 = union(fromFoldable$1(o));
      return () => {
        const $11 = rf.value;
        rf.value = $10($11);
        return unit;
      };
    })()))(() => {
      const $11 = go(a2 + i2 | 0)(v.rest);
      if (!(v.rest.tag === "Nil")) {
        return $11;
      }
      return _pure(unit);
    }));
  };
  return go(i2)(foldableWithIndexList.foldrWithIndex((i$12) => (x) => (acc) => $List("Cons", $Tuple(i$12, x), acc))(Nil)(l2));
};
const sfc32 = (iv) => {
  let a2 = iv.a;
  let b = iv.b;
  let c2 = iv.c;
  let d = iv.d;
  a2 >>>= 0;
  b >>>= 0;
  c2 >>>= 0;
  d >>>= 0;
  var t2 = a2 + b | 0;
  a2 = b ^ b >>> 9;
  b = c2 + (c2 << 3) | 0;
  c2 = c2 << 21 | c2 >>> 11;
  d = d + 1 | 0;
  t2 = t2 + d | 0;
  c2 = c2 + t2 | 0;
  return { r: (t2 >>> 0) / 4294967296, a: a2, b, c: c2, d };
};
const cyrb128 = (str) => {
  let h1 = 1779033703, h2 = 3144134277, h3 = 1013904242, h4 = 2773480762;
  for (let i2 = 0, k; i2 < str.length; i2++) {
    k = str.charCodeAt(i2);
    h1 = h2 ^ Math.imul(h1 ^ k, 597399067);
    h2 = h3 ^ Math.imul(h2 ^ k, 2869860233);
    h3 = h4 ^ Math.imul(h3 ^ k, 951274213);
    h4 = h1 ^ Math.imul(h4 ^ k, 2716044179);
  }
  h1 = Math.imul(h3 ^ h1 >>> 18, 597399067);
  h2 = Math.imul(h4 ^ h2 >>> 22, 2869860233);
  h3 = Math.imul(h1 ^ h3 >>> 17, 951274213);
  h4 = Math.imul(h2 ^ h4 >>> 19, 2716044179);
  return {
    a: (h1 ^ h2 ^ h3 ^ h4) >>> 0,
    b: (h2 ^ h1) >>> 0,
    c: (h3 ^ h1) >>> 0,
    d: (h4 ^ h1) >>> 0
  };
};
const fold = /* @__PURE__ */ (() => foldableArray.foldMap(monoidString)(identity$t))();
const sequence = /* @__PURE__ */ (() => traversableArray.traverse(applicativeEffect)(identity$q))();
const randId$p = (n2) => {
  const $1 = sequence(replicate(n2)((() => {
    const $12 = randomInt(0)(9);
    return () => {
      const a$p = $12();
      return showIntImpl(a$p);
    };
  })()));
  return () => {
    const a$p = $1();
    return fold(a$p);
  };
};
const randId = /* @__PURE__ */ randId$p(32);
const bufferAttributesImpl = (m) => (ns) => (bufferAttribute2) => (a2) => (f) => {
  const fas = {};
  for (let i2 = 0; i2 < ns.length; i2++) {
    fas[ns[i2].k] = new Float32Array(m * ns[i2].n);
  }
  let $a = a2;
  for (let i2 = 0; i2 < m; i2++) {
    const $v = f(i2)($a);
    const v = $v.l;
    $a = $v.r;
    for (let j = 0; j < ns.length; j++) {
      const key = ns[j].k;
      const n2 = ns[j].n;
      const o = i2 * n2;
      for (let k = 0; k < n2; k++) {
        fas[key][o + k] = v[key][k];
      }
    }
  }
  const out = {};
  for (let i2 = 0; i2 < ns.length; i2++) {
    out[ns[i2].k] = new bufferAttribute2(fas[ns[i2].k], ns[i2].n);
  }
  return out;
};
const instancedBufferAttributes1 = { internalDoNotUseBA: (v) => $Tuple([], $$Proxy) };
const instancedBufferAttributes2 = (dictInstancedBufferAttributes) => (dictIsSymbol) => (dictReflectable) => ({
  internalDoNotUseBA: (v) => $Tuple(
    concatArray([{ k: dictIsSymbol.reflectSymbol($$Proxy), n: dictReflectable.reflectType($$Proxy) }])(dictInstancedBufferAttributes.internalDoNotUseBA($$Proxy)._1),
    $$Proxy
  )
});
const instancedBufferAttributes$1 = (dictReflectable) => () => () => (dictInstancedBufferAttributes) => (px) => (ba) => (a2) => (f) => bufferAttributesImpl(dictReflectable.reflectType(px))(dictInstancedBufferAttributes.internalDoNotUseBA($$Proxy)._1)(ba)(a2)((x) => {
  const $9 = f(x);
  return (x$1) => {
    const $11 = $9(x$1);
    return { l: $11._1, r: $11._2 };
  };
});
const Reflectable$Dict = { reflectType: () => 3 };
const instancedBufferAttributes = /* @__PURE__ */ instancedBufferAttributes$1({ reflectType: () => 2e3 })()()(/* @__PURE__ */ instancedBufferAttributes2(/* @__PURE__ */ instancedBufferAttributes2(/* @__PURE__ */ instancedBufferAttributes2(/* @__PURE__ */ instancedBufferAttributes2(instancedBufferAttributes1)({
  reflectSymbol: () => "aPosition2"
})(Reflectable$Dict))({ reflectSymbol: () => "aPosition" })(Reflectable$Dict))({ reflectSymbol: () => "aColor2" })(Reflectable$Dict))({ reflectSymbol: () => "aColor" })(Reflectable$Dict));
const makeGalaxyAttributes = (tba) => instancedBufferAttributes($$Proxy)(tba)(cyrb128("galaxy"))((i2) => (a2) => {
  const x0R = sfc32(sfc32(sfc32(a2)));
  const x1R = sfc32(x0R);
  const y0R = sfc32(x1R);
  const y1R = sfc32(y0R);
  const z0R = sfc32(y1R);
  const z1R = sfc32(z0R);
  const r0R = sfc32(z1R);
  const r1R = sfc32(r0R);
  const g0R = sfc32(r1R);
  const g1R = sfc32(g0R);
  const b0R = sfc32(g1R);
  const b1R = sfc32(b0R);
  return $Tuple(
    {
      aPosition: [x0R.r * 2 - 1, y0R.r * 2 - 1, z0R.r * 2 - 1],
      aPosition2: [x1R.r * 2 - 1, y1R.r * 2 - 1, z1R.r * 2 - 1],
      aColor: [r0R.r, g0R.r, b0R.r],
      aColor2: [r1R.r, g1R.r, b1R.r]
    },
    unsafeDelete("r")(b1R)
  );
});
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== "undefined" && typeof msCrypto.getRandomValues === "function" && msCrypto.getRandomValues.bind(msCrypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}
const REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function validate(uuid) {
  return typeof uuid === "string" && REGEX.test(uuid);
}
var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).substr(1));
}
function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
  if (!validate(uuid)) {
    throw TypeError("Stringified UUID is invalid");
  }
  return uuid;
}
function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i2 = 0; i2 < 16; ++i2) {
      buf[offset + i2] = rnds[i2];
    }
    return buf;
  }
  return stringify(rnds);
}
const _PubNub = () => __vitePreload(() => import("./pubnub.min.61aa5ff8.js").then((n2) => n2.p), true ? [] : void 0);
const pubnub_ = (PubNub) => (channel) => (listener) => {
  return function() {
    var publisher = v4();
    var pn = new PubNub.default({
      publishKey: "pub-c-672671ca-ea5d-4c31-9bbf-1c123cddfa2b",
      subscribeKey: "sub-c-9e61eeea-570c-48cd-8088-ad367df0dcf7",
      uuid: publisher
    });
    pn.subscribe({
      channels: [channel]
    });
    pn.addListener({
      message: function(msg_) {
        var msg = Object.assign({}, msg_);
        msg.timetoken = parseInt(msg.timetoken) / 1e4;
        if (msg.publisher !== publisher) {
          listener(msg)();
        }
      }
    });
    return pn;
  };
};
const publish_ = (pubnub2) => {
  return function(channel) {
    return function(message2) {
      return function() {
        pubnub2.publish({
          channel,
          message: message2
        });
      };
    };
  };
};
const messageIsSymbol = { reflectSymbol: () => "message" };
const actionIsSymbol = { reflectSymbol: () => "action" };
const iAmIsSymbol = { reflectSymbol: () => "iAm" };
const publisherIsSymbol = { reflectSymbol: () => "publisher" };
const timetokenIsSymbol = { reflectSymbol: () => "timetoken" };
const show$1 = /* @__PURE__ */ (() => showNonEmptyList(showForeignError).show)();
const recordWriteForeign1 = /* @__PURE__ */ (() => {
  const $0 = consWriteForeignFields(actionIsSymbol)(fromJSONPubNubPlayerAction)(consWriteForeignFields(iAmIsSymbol)(writeForeignString)(nilWriteForeignFields)()()())()()();
  return { writeImpl: (rec) => $0.writeImplFields($$Proxy)(rec)({}) };
})();
const toJSONPubNubEvent = /* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(messageIsSymbol)(/* @__PURE__ */ readRecord()(/* @__PURE__ */ readFieldsCons(actionIsSymbol)(toJSONPubNubPlayerAction)(/* @__PURE__ */ readFieldsCons(iAmIsSymbol)(readString)(readFieldsNil)()())()()))(/* @__PURE__ */ readFieldsCons(publisherIsSymbol)(readString)(/* @__PURE__ */ readFieldsCons(timetokenIsSymbol)(readNumber)(readFieldsNil)()())()())()());
const pubnubE = (pjs) => (ch) => (f) => pubnub_(pjs)(ch)((x) => bindE((() => {
  const $4 = toJSONPubNubEvent.readImpl(x);
  if ($4.tag === "Left") {
    return throwException(error$1(show$1($4._1)));
  }
  if ($4.tag === "Right") {
    return () => $4._1;
  }
  fail$3();
})())(f));
const pubnub = (v) => (v1) => _bind(_bind(_liftEffect(_PubNub))(toAff$p(coerce)))((pjs) => _bind(_liftEffect(create))((eventIO) => _bind(_liftEffect(pubnubE(pjs)(v1)((v2) => eventIO.push(v2))))((pn) => _pure({
  event: eventIO.event,
  publish: (action) => publish_(pn)(v1)(recordWriteForeign1.writeImpl({ iAm: v, action }))
}))));
const loader$1 = (cubeTextureLoader2) => () => new cubeTextureLoader2();
const load$1 = (loader2) => (urls) => (onLoad) => (onError) => () => {
  loader2.load(
    urls,
    (x) => onLoad(x)(),
    void 0,
    (x) => onError(x)()
  );
};
const loadAff$1 = (l2) => (url) => makeAff((f) => {
  const $3 = load$1(l2)(url)((x) => f($Either("Right", x)))((x) => f($Either("Left", x)));
  return () => {
    $3();
    return nonCanceler;
  };
});
const loadAffRecord = (l2) => (u) => loadAff$1(l2)([u.right, u.left, u.top, u.bottom, u.front, u.back]);
const css2DRenderer = () => __vitePreload(() => import("./CSS2DRenderer.b72b37f1.js"), true ? ["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"] : void 0).then(
  (r2) => r2.CSS2DRenderer
);
const css3DRenderer = () => __vitePreload(() => import("./CSS3DRenderer.68d93ac3.js"), true ? ["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"] : void 0).then(
  (r2) => r2.CSS3DRenderer
);
const css2DObject = () => __vitePreload(() => import("./CSS2DRenderer.b72b37f1.js"), true ? ["assets/CSS2DRenderer.b72b37f1.js","assets/three.module.81fc2a6a.js"] : void 0).then(
  (r2) => r2.CSS2DObject
);
const css3DObject = () => __vitePreload(() => import("./CSS3DRenderer.68d93ac3.js"), true ? ["assets/CSS3DRenderer.68d93ac3.js","assets/three.module.81fc2a6a.js"] : void 0).then(
  (r2) => r2.CSS3DObject
);
const vector2 = () => __vitePreload(() => import("./Vector2.3964b2c2.js"), true ? [] : void 0).then((r2) => r2.Vector2);
const vector3 = () => __vitePreload(() => import("./Vector3.5db2ef2e.js").then((n2) => n2.a), true ? ["assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"] : void 0).then((r2) => r2.Vector3);
const textureLoader = () => __vitePreload(() => import("./TextureLoader.60cda0eb.js"), true ? ["assets/TextureLoader.60cda0eb.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"] : void 0).then((r2) => r2.TextureLoader);
const gltfLoader = () => __vitePreload(() => import("./GLTFLoader.3cfb26be.js"), true ? ["assets/GLTFLoader.3cfb26be.js","assets/three.module.81fc2a6a.js"] : void 0).then((r2) => r2.GLTFLoader);
const cubeTextureLoader = () => __vitePreload(() => import("./CubeTextureLoader.a71be225.js"), true ? ["assets/CubeTextureLoader.a71be225.js","assets/ImageLoader.7060b556.js","assets/utils.4cfc5b76.js","assets/CubeTexture.575c92d6.js","assets/Texture.fb44cc87.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js"] : void 0).then(
  (r2) => r2.CubeTextureLoader
);
const euler = () => __vitePreload(() => import("./Euler.d28ed76f.js"), true ? ["assets/Euler.d28ed76f.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js"] : void 0).then((r2) => r2.Euler);
const matrix4 = () => __vitePreload(() => import("./Matrix4.0c7a2215.js"), true ? ["assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js"] : void 0).then((r2) => r2.Matrix4);
const color = () => __vitePreload(() => import("./Color.5efc95ab.js"), true ? ["assets/Color.5efc95ab.js","assets/MathUtils.9169ae61.js","assets/constants.cc13e4fd.js"] : void 0).then((r2) => r2.Color);
const scene = () => __vitePreload(() => import("./Scene.5ac5f5be.js"), true ? ["assets/Scene.5ac5f5be.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"] : void 0).then((r2) => r2.Scene);
const group = () => __vitePreload(() => import("./Group.157021da.js"), true ? ["assets/Group.157021da.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"] : void 0).then((r2) => r2.Group);
const webGLRenderer = () => __vitePreload(() => import("./WebGLRenderer.16b7d376.js"), true ? ["assets/WebGLRenderer.16b7d376.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js","assets/Frustum.21d548b8.js","assets/Vector3.5db2ef2e.js","assets/Sphere.bf80223e.js","assets/Matrix3.254ef6d6.js","assets/Matrix4.0c7a2215.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Color.5efc95ab.js","assets/Object3D.d81adcf4.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/utils.4cfc5b76.js","assets/PlaneGeometry.94665e38.js","assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/Mesh.53231fd1.js","assets/Ray.14000e07.js","assets/Texture.fb44cc87.js","assets/PerspectiveCamera.3def8065.js","assets/CubeTexture.575c92d6.js","assets/Group.157021da.js"] : void 0).then((r2) => r2.WebGLRenderer);
const mesh = () => __vitePreload(() => import("./Mesh.53231fd1.js").then((n2) => n2.b), true ? ["assets/Mesh.53231fd1.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.Mesh);
const instancedMesh = () => __vitePreload(() => import("./InstancedMesh.016527f5.js"), true ? ["assets/InstancedMesh.016527f5.js","assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Mesh.53231fd1.js","assets/Sphere.bf80223e.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/BufferGeometry.d5615ad3.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.InstancedMesh);
const meshStandardMaterial = () => __vitePreload(() => import("./MeshStandardMaterial.6787a3d9.js"), true ? ["assets/MeshStandardMaterial.6787a3d9.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"] : void 0).then(
  (r2) => r2.MeshStandardMaterial
);
const pointLight = () => __vitePreload(() => import("./PointLight.acc28636.js"), true ? ["assets/PointLight.acc28636.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Vector2.3964b2c2.js","assets/Vector4.27798d04.js","assets/Frustum.21d548b8.js","assets/Sphere.bf80223e.js","assets/PerspectiveCamera.3def8065.js"] : void 0).then((r2) => r2.PointLight);
const ambientLight = () => __vitePreload(() => import("./AmbientLight.321e982d.js"), true ? ["assets/AmbientLight.321e982d.js","assets/Light.876ff18c.js","assets/Object3D.d81adcf4.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Matrix4.0c7a2215.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"] : void 0).then((r2) => r2.AmbientLight);
const sphereGeometry = () => __vitePreload(() => import("./SphereGeometry.46bea0af.js"), true ? ["assets/SphereGeometry.46bea0af.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"] : void 0).then(
  (r2) => r2.SphereGeometry
);
const boxGeometry = () => __vitePreload(() => import("./BoxGeometry.d73cb17e.js"), true ? ["assets/BoxGeometry.d73cb17e.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.BoxGeometry);
const cylinderGeometry = () => __vitePreload(() => import("./CylinderGeometry.25a72d53.js"), true ? ["assets/CylinderGeometry.25a72d53.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.CylinderGeometry);
const planeGeometry = () => __vitePreload(() => import("./PlaneGeometry.94665e38.js"), true ? ["assets/PlaneGeometry.94665e38.js","assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.PlaneGeometry);
const bufferGeometry = () => __vitePreload(() => import("./BufferGeometry.d5615ad3.js"), true ? ["assets/BufferGeometry.d5615ad3.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Sphere.bf80223e.js","assets/EventDispatcher.62ae53dd.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js","assets/Object3D.d81adcf4.js","assets/Matrix4.0c7a2215.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.BufferGeometry);
const perspectiveCamera = () => __vitePreload(() => import("./PerspectiveCamera.3def8065.js").then((n2) => n2.a), true ? ["assets/PerspectiveCamera.3def8065.js","assets/Matrix4.0c7a2215.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js"] : void 0).then(
  (r2) => r2.PerspectiveCamera
);
const raycaster = () => __vitePreload(() => import("./Raycaster.8d6c944e.js"), true ? ["assets/Raycaster.8d6c944e.js","assets/Ray.14000e07.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Layers.61b05682.js"] : void 0).then((r2) => r2.Raycaster);
const shaderMaterial = () => __vitePreload(() => import("./ShaderMaterial.01a0feab.js").then((n2) => n2.a), true ? ["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"] : void 0).then((r2) => r2.ShaderMaterial);
const bufferAttribute = () => __vitePreload(() => import("./BufferAttribute.ad6349b3.js"), true ? ["assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"] : void 0).then((r2) => r2.BufferAttribute);
const instancedBufferAttribute = () => __vitePreload(() => import("./InstancedBufferAttribute.aa91042e.js"), true ? ["assets/InstancedBufferAttribute.aa91042e.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js","assets/constants.cc13e4fd.js"] : void 0).then(
  (r2) => r2.InstancedBufferAttribute
);
const points = () => __vitePreload(() => import("./Points.d53b4d59.js"), true ? ["assets/Points.d53b4d59.js","assets/Sphere.bf80223e.js","assets/Vector3.5db2ef2e.js","assets/MathUtils.9169ae61.js","assets/Ray.14000e07.js","assets/Matrix4.0c7a2215.js","assets/Object3D.d81adcf4.js","assets/EventDispatcher.62ae53dd.js","assets/Euler.d28ed76f.js","assets/Layers.61b05682.js","assets/Matrix3.254ef6d6.js","assets/Material.3b90100d.js","assets/constants.cc13e4fd.js","assets/Color.5efc95ab.js","assets/BufferGeometry.d5615ad3.js","assets/Vector2.3964b2c2.js","assets/BufferAttribute.ad6349b3.js","assets/Vector4.27798d04.js","assets/utils.4cfc5b76.js"] : void 0).then((r2) => r2.Points);
const meshPhongMaterial = () => __vitePreload(() => import("./MeshPhongMaterial.629d8a0e.js"), true ? ["assets/MeshPhongMaterial.629d8a0e.js","assets/constants.cc13e4fd.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/MathUtils.9169ae61.js","assets/Vector2.3964b2c2.js","assets/Color.5efc95ab.js"] : void 0).then(
  (r2) => r2.MeshPhongMaterial
);
const effectComposer = () => __vitePreload(() => import("./EffectComposer.45295e78.js"), true ? ["assets/EffectComposer.45295e78.js","assets/three.module.81fc2a6a.js","assets/CopyShader.1f7b6c4a.js","assets/ShaderPass.d65654b5.js","assets/Pass.09e32dfb.js"] : void 0).then(
  (r2) => r2.EffectComposer
);
const renderPass = () => __vitePreload(() => import("./RenderPass.fbc92c19.js"), true ? ["assets/RenderPass.fbc92c19.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"] : void 0).then(
  (r2) => r2.RenderPass
);
const glitchPass = () => __vitePreload(() => import("./GlitchPass.345bbdd2.js"), true ? ["assets/GlitchPass.345bbdd2.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"] : void 0).then(
  (r2) => r2.GlitchPass
);
const unrealBloomPass = () => __vitePreload(() => import("./UnrealBloomPass.2221478f.js"), true ? ["assets/UnrealBloomPass.2221478f.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js","assets/CopyShader.1f7b6c4a.js"] : void 0).then(
  (r2) => r2.UnrealBloomPass
);
const effectComposerPass = () => Promise.all([
  __vitePreload(() => import("./ShaderPass.d65654b5.js"), true ? ["assets/ShaderPass.d65654b5.js","assets/three.module.81fc2a6a.js","assets/Pass.09e32dfb.js"] : void 0),
  __vitePreload(() => import("./ShaderMaterial.01a0feab.js").then((n2) => n2.a), true ? ["assets/ShaderMaterial.01a0feab.js","assets/Material.3b90100d.js","assets/EventDispatcher.62ae53dd.js","assets/constants.cc13e4fd.js","assets/MathUtils.9169ae61.js"] : void 0)
]).then(([sp, sm]) => {
  class EffectComposerPass extends sp.ShaderPass {
    constructor(effectComposer2) {
      super(
        new sm.ShaderMaterial({
          uniforms: {
            tDiffuse: { value: null },
            incomingTexture: {
              value: effectComposer2.renderTarget2.texture
            }
          },
          vertexShader: `
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,
          fragmentShader: `
		uniform sampler2D tDiffuse;
    uniform sampler2D incomingTexture;

    varying vec2 vUv;

    void main() {

      gl_FragColor = ( texture2D( tDiffuse, vUv ) + texture2D( incomingTexture, vUv ) );

    }`
        })
      );
      this.effectComposer = effectComposer2;
    }
    render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {
      this.effectComposer.renderToScreen = false;
      this.effectComposer.render();
      const buffy = this.effectComposer.renderTarget2.texture;
      this.uniforms.incomingTexture.value = buffy;
      super.render(renderer, writeBuffer, readBuffer, deltaTime, maskActive);
    }
  }
  return EffectComposerPass;
});
const webGLRendererAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(webGLRenderer))(/* @__PURE__ */ toAff$p(coerce));
const vector3Aff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(vector3))(/* @__PURE__ */ toAff$p(coerce));
const vector2Aff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(vector2))(/* @__PURE__ */ toAff$p(coerce));
const unrealBloomPassAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(unrealBloomPass))(/* @__PURE__ */ toAff$p(coerce));
const textureLoaderAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(textureLoader))(/* @__PURE__ */ toAff$p(coerce));
const sphereGeometryAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(sphereGeometry))(/* @__PURE__ */ toAff$p(coerce));
const shaderMaterialAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(shaderMaterial))(/* @__PURE__ */ toAff$p(coerce));
const sceneAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(scene))(/* @__PURE__ */ toAff$p(coerce));
const renderPassAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(renderPass))(/* @__PURE__ */ toAff$p(coerce));
const raycasterAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(raycaster))(/* @__PURE__ */ toAff$p(coerce));
const pointsAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(points))(/* @__PURE__ */ toAff$p(coerce));
const pointLightAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(pointLight))(/* @__PURE__ */ toAff$p(coerce));
const planeGeometryAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(planeGeometry))(/* @__PURE__ */ toAff$p(coerce));
const perspectiveCameraAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(perspectiveCamera))(/* @__PURE__ */ toAff$p(coerce));
const meshStandardMaterialAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(meshStandardMaterial))(/* @__PURE__ */ toAff$p(coerce));
const meshPhongMaterialAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(meshPhongMaterial))(/* @__PURE__ */ toAff$p(coerce));
const meshAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(mesh))(/* @__PURE__ */ toAff$p(coerce));
const matrix4Aff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(matrix4))(/* @__PURE__ */ toAff$p(coerce));
const instancedMeshAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(instancedMesh))(/* @__PURE__ */ toAff$p(coerce));
const instancedBufferAttributeAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(instancedBufferAttribute))(/* @__PURE__ */ toAff$p(coerce));
const groupAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(group))(/* @__PURE__ */ toAff$p(coerce));
const gltfLoaderAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(gltfLoader))(/* @__PURE__ */ toAff$p(coerce));
const glitchPassAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(glitchPass))(/* @__PURE__ */ toAff$p(coerce));
const eulerAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(euler))(/* @__PURE__ */ toAff$p(coerce));
const effectComposerPassAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(effectComposerPass))(/* @__PURE__ */ toAff$p(coerce));
const effectComposerAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(effectComposer))(/* @__PURE__ */ toAff$p(coerce));
const cylinderGeometryAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(cylinderGeometry))(/* @__PURE__ */ toAff$p(coerce));
const cubeTextureLoaderAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(cubeTextureLoader))(/* @__PURE__ */ toAff$p(coerce));
const css3DRendererAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(css3DRenderer))(/* @__PURE__ */ toAff$p(coerce));
const css3DObjectAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(css3DObject))(/* @__PURE__ */ toAff$p(coerce));
const css2DRendererAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(css2DRenderer))(/* @__PURE__ */ toAff$p(coerce));
const css2DObjectAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(css2DObject))(/* @__PURE__ */ toAff$p(coerce));
const colorAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(color))(/* @__PURE__ */ toAff$p(coerce));
const bufferGeometryAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(bufferGeometry))(/* @__PURE__ */ toAff$p(coerce));
const bufferAttributeAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(bufferAttribute))(/* @__PURE__ */ toAff$p(coerce));
const boxGeometryAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(boxGeometry))(/* @__PURE__ */ toAff$p(coerce));
const ambientLightAff = /* @__PURE__ */ _bind(/* @__PURE__ */ _liftEffect(ambientLight))(/* @__PURE__ */ toAff$p(coerce));
const loader = (textureLoader2) => () => new textureLoader2();
const load = (loader2) => (url) => (onLoad) => (onError) => () => {
  loader2.load(
    url,
    (x) => onLoad(x)(),
    void 0,
    (x) => onError(x)()
  );
};
const loadAff = (l2) => (url) => makeAff((f) => {
  const $3 = load(l2)(url)((x) => f($Either("Right", x)))((x) => f($Either("Left", x)));
  return () => {
    $3();
    return nonCanceler;
  };
});
const $RouteError = (tag, _1, _2) => ({ tag, _1, _2 });
const $RouteParser = (tag, _1, _2) => ({ tag, _1, _2 });
const $RouteResult = (tag, _1, _2) => ({ tag, _1, _2 });
const lookup = /* @__PURE__ */ lookup$3(foldableArray)(eqString);
const genericShowArgsArgument = { genericShowArgs: (v) => [showStringImpl(v)] };
const EndOfPath = /* @__PURE__ */ $RouteError("EndOfPath");
const parsePath = /* @__PURE__ */ (() => {
  const $0 = arrayMap((x) => {
    const v = indexOf("=")(x);
    if (v.tag === "Just") {
      return $Tuple(
        (() => {
          const $2 = _decodeURIComponent((v$1) => Nothing, Just, take$2(v._1)(x));
          if ($2.tag === "Just") {
            return $2._1;
          }
          fail$3();
        })(),
        (() => {
          const $2 = _decodeURIComponent((v$1) => Nothing, Just, drop$1(v._1 + length("=") | 0)(x));
          if ($2.tag === "Just") {
            return $2._1;
          }
          fail$3();
        })()
      );
    }
    if (v.tag === "Nothing") {
      return $Tuple(
        (() => {
          const $2 = _decodeURIComponent((v$1) => Nothing, Just, x);
          if ($2.tag === "Just") {
            return $2._1;
          }
          fail$3();
        })(),
        (() => {
          const $2 = _decodeURIComponent((v$1) => Nothing, Just, "");
          if ($2.tag === "Just") {
            return $2._1;
          }
          fail$3();
        })()
      );
    }
    fail$3();
  });
  const $1 = (v) => $Tuple(
    (() => {
      const $2 = (() => {
        if (v._1 === "") {
          return [];
        }
        return split("/")(v._1);
      })();
      if ($2.length === 2) {
        if ($2[0] === "") {
          if ($2[1] === "") {
            return [""];
          }
          return arrayMap((x) => {
            const $4 = _decodeURIComponent((v$1) => Nothing, Just, x);
            if ($4.tag === "Just") {
              return $4._1;
            }
            fail$3();
          })($2);
        }
        return arrayMap((x) => {
          const $4 = _decodeURIComponent((v$1) => Nothing, Just, x);
          if ($4.tag === "Just") {
            return $4._1;
          }
          fail$3();
        })($2);
      }
      return arrayMap((x) => {
        const $4 = _decodeURIComponent((v$1) => Nothing, Just, x);
        if ($4.tag === "Just") {
          return $4._1;
        }
        fail$3();
      })($2);
    })(),
    $0((() => {
      if (v._2 === "") {
        return [];
      }
      return split("&")(v._2);
    })())
  );
  return (x) => {
    const v = indexOf("#")(x);
    if (v.tag === "Just") {
      const v$1 = indexOf("?")(take$2(v._1)(x));
      const $5 = $1((() => {
        if (v$1.tag === "Just") {
          return $Tuple(
            take$2(v$1._1)(take$2(v._1)(x)),
            drop$1(v$1._1 + length("?") | 0)(take$2(v._1)(x))
          );
        }
        if (v$1.tag === "Nothing") {
          return $Tuple(take$2(v._1)(x), "");
        }
        fail$3();
      })());
      return { segments: $5._1, params: $5._2, hash: drop$1(v._1 + length("#") | 0)(x) };
    }
    if (v.tag === "Nothing") {
      const v$1 = indexOf("?")(x);
      const $5 = $1((() => {
        if (v$1.tag === "Just") {
          return $Tuple(take$2(v$1._1)(x), drop$1(v$1._1 + length("?") | 0)(x));
        }
        if (v$1.tag === "Nothing") {
          return $Tuple(x, "");
        }
        fail$3();
      })());
      return { segments: $5._1, params: $5._2, hash: "" };
    }
    fail$3();
  };
})();
const param$1 = (key) => $RouteParser(
  "Chomp",
  (state) => {
    const v = lookup(key)(state.params);
    if (v.tag === "Just") {
      return $RouteResult("Success", state, v._1);
    }
    return $RouteResult("Fail", $RouteError("MissingParam", key));
  }
);
const genericRouteError = {
  to: (x) => {
    if (x.tag === "Inl") {
      return $RouteError("Expected", x._1._1, x._1._2);
    }
    if (x.tag === "Inr") {
      if (x._1.tag === "Inl") {
        return $RouteError("ExpectedEndOfPath", x._1._1);
      }
      if (x._1.tag === "Inr") {
        if (x._1._1.tag === "Inl") {
          return $RouteError("MissingParam", x._1._1._1);
        }
        if (x._1._1.tag === "Inr") {
          return EndOfPath;
        }
        fail$3();
      }
      fail$3();
    }
    fail$3();
  },
  from: (x) => {
    if (x.tag === "Expected") {
      return $Sum("Inl", $Product(x._1, x._2));
    }
    if (x.tag === "ExpectedEndOfPath") {
      return $Sum("Inr", $Sum("Inl", x._1));
    }
    if (x.tag === "MissingParam") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inl", x._1)));
    }
    if (x.tag === "EndOfPath") {
      return $Sum("Inr", $Sum("Inr", $Sum("Inr", NoArguments)));
    }
    fail$3();
  }
};
const showRouteError = {
  show: /* @__PURE__ */ (() => {
    const $0 = genericShowConstructor(genericShowArgsProduct(genericShowArgsArgument)(genericShowArgsArgument))({
      reflectSymbol: () => "Expected"
    });
    const $1 = genericShowConstructor(genericShowArgsArgument)({ reflectSymbol: () => "ExpectedEndOfPath" });
    const $2 = genericShowConstructor(genericShowArgsArgument)({ reflectSymbol: () => "MissingParam" });
    const $3 = genericShowConstructor(genericShowArgsNoArguments)({ reflectSymbol: () => "EndOfPath" });
    return (x) => {
      const $5 = genericRouteError.from(x);
      if ($5.tag === "Inl") {
        return $0["genericShow'"]($5._1);
      }
      if ($5.tag === "Inr") {
        if ($5._1.tag === "Inl") {
          return $1["genericShow'"]($5._1._1);
        }
        if ($5._1.tag === "Inr") {
          if ($5._1._1.tag === "Inl") {
            return $2["genericShow'"]($5._1._1._1);
          }
          if ($5._1._1.tag === "Inr") {
            return $3["genericShow'"]($5._1._1._1);
          }
          fail$3();
        }
        fail$3();
      }
      fail$3();
    };
  })()
};
const functorRouteResult = {
  map: (f) => (m) => {
    if (m.tag === "Fail") {
      return $RouteResult("Fail", m._1);
    }
    if (m.tag === "Success") {
      return $RouteResult("Success", m._1, f(m._2));
    }
    fail$3();
  }
};
const functorRouteParser = {
  map: (f) => (m) => {
    if (m.tag === "Alt") {
      return $RouteParser("Alt", arrayMap(functorRouteParser.map(f))(m._1));
    }
    if (m.tag === "Chomp") {
      return $RouteParser("Chomp", (x) => functorRouteResult.map(f)(m._1(x)));
    }
    if (m.tag === "Prefix") {
      return $RouteParser("Prefix", m._1, functorRouteParser.map(f)(m._2));
    }
    fail$3();
  }
};
const end$1 = /* @__PURE__ */ $RouteParser(
  "Chomp",
  (state) => {
    const v = index(state.segments)(0);
    if (v.tag === "Nothing") {
      return $RouteResult("Success", state, unit);
    }
    if (v.tag === "Just") {
      return $RouteResult("Fail", $RouteError("ExpectedEndOfPath", v._1));
    }
    fail$3();
  }
);
const chompPrefix = (pre) => (state) => {
  const v = index(state.segments)(0);
  if (v.tag === "Just") {
    if (pre === v._1) {
      return $RouteResult("Success", { segments: slice(1)(state.segments.length)(state.segments), params: state.params, hash: state.hash }, unit);
    }
    return $RouteResult("Fail", $RouteError("Expected", pre, v._1));
  }
  return $RouteResult("Fail", EndOfPath);
};
const runRouteParser$lazy = /* @__PURE__ */ binding(() => {
  const go = (go$a0$copy) => (go$a1$copy) => {
    let go$a0 = go$a0$copy, go$a1 = go$a1$copy, go$c = true, go$r;
    while (go$c) {
      const state = go$a0, v = go$a1;
      if (v.tag === "Alt") {
        go$c = false;
        go$r = foldlArray((v1) => (v2) => {
          if (v1.tag === "Fail") {
            return runRouteParser$lazy()(state)(v2);
          }
          return v1;
        })($RouteResult("Fail", EndOfPath))(v._1);
        continue;
      }
      if (v.tag === "Chomp") {
        go$c = false;
        go$r = v._1(state);
        continue;
      }
      if (v.tag === "Prefix") {
        const v1 = chompPrefix(v._1)(state);
        if (v1.tag === "Fail") {
          go$c = false;
          go$r = $RouteResult("Fail", v1._1);
          continue;
        }
        if (v1.tag === "Success") {
          go$a0 = v1._1;
          go$a1 = v._2;
          continue;
        }
        fail$3();
      }
      fail$3();
    }
    return go$r;
  };
  return go;
});
const runRouteParser = /* @__PURE__ */ runRouteParser$lazy();
const run = (p2) => (x) => {
  const $2 = runRouteParser(parsePath(x))(p2);
  if ($2.tag === "Fail") {
    return $Either("Left", $2._1);
  }
  if ($2.tag === "Success") {
    return $Either("Right", $2._2);
  }
  fail$3();
};
const applyRouteParser = {
  apply: (fx) => (x) => $RouteParser(
    "Chomp",
    (state) => {
      const v = runRouteParser(state)(fx);
      if (v.tag === "Fail") {
        return $RouteResult("Fail", v._1);
      }
      if (v.tag === "Success") {
        return functorRouteResult.map(v._2)(runRouteParser(v._1)(x));
      }
      fail$3();
    }
  ),
  Functor0: () => functorRouteParser
};
const altSnoc = (ls) => (v) => {
  if (v.tag === "Prefix") {
    const $2 = index(ls)(ls.length - 1 | 0);
    const $3 = (() => {
      if ($2.tag === "Just") {
        return $2._1;
      }
      fail$3();
    })();
    if ($3.tag === "Prefix") {
      if (v._1 === $3._1) {
        const $4 = init$1(ls);
        return run$2(withArray(pushAll([$RouteParser("Prefix", v._1, altRouteParser.alt($3._2)(v._2))]))((() => {
          if ($4.tag === "Just") {
            return $4._1;
          }
          fail$3();
        })()));
      }
      return run$2(withArray(pushAll([v]))(ls));
    }
    return run$2(withArray(pushAll([v]))(ls));
  }
  return run$2(withArray(pushAll([v]))(ls));
};
const altRouteParser = {
  alt: (v) => (v1) => {
    if (v.tag === "Alt") {
      if (v1.tag === "Alt") {
        return $RouteParser("Alt", altAppend(v._1)(v1._1));
      }
      return $RouteParser("Alt", altSnoc(v._1)(v1));
    }
    if (v1.tag === "Alt") {
      return $RouteParser("Alt", altCons(v)(v1._1));
    }
    if (v.tag === "Prefix") {
      if (v1.tag === "Prefix") {
        if (v._1 === v1._1) {
          return $RouteParser("Prefix", v._1, altRouteParser.alt(v._2)(v1._2));
        }
        return $RouteParser("Alt", [v, v1]);
      }
      return $RouteParser("Alt", [v, v1]);
    }
    return $RouteParser("Alt", [v, v1]);
  },
  Functor0: () => functorRouteParser
};
const altCons = (v) => (rs) => {
  if (v.tag === "Prefix") {
    const $2 = index(rs)(0);
    const $3 = (() => {
      if ($2.tag === "Just") {
        return $2._1;
      }
      fail$3();
    })();
    if ($3.tag === "Prefix") {
      if (v._1 === $3._1) {
        const $4 = tail(rs);
        return concatArray([$RouteParser("Prefix", v._1, altRouteParser.alt(v._2)($3._2))])((() => {
          if ($4.tag === "Just") {
            return $4._1;
          }
          fail$3();
        })());
      }
      return concatArray([v])(rs);
    }
    return concatArray([v])(rs);
  }
  return concatArray([v])(rs);
};
const altAppend = (ls) => (rs) => {
  const $2 = index(ls)(ls.length - 1 | 0);
  const $3 = (() => {
    if ($2.tag === "Just") {
      return $2._1;
    }
    fail$3();
  })();
  if ($3.tag === "Prefix") {
    const $4 = index(rs)(0);
    const $5 = (() => {
      if ($4.tag === "Just") {
        return $4._1;
      }
      fail$3();
    })();
    if ($5.tag === "Prefix") {
      if ($3._1 === $5._1) {
        const $6 = tail(rs);
        const rs$p = concatArray([$RouteParser("Prefix", $3._1, altRouteParser.alt($3._2)($5._2))])((() => {
          if ($6.tag === "Just") {
            return $6._1;
          }
          fail$3();
        })());
        const $8 = init$1(ls);
        const $9 = (() => {
          if ($8.tag === "Just") {
            return $8._1;
          }
          fail$3();
        })();
        if ($9.length > 0) {
          return altAppend($9)(rs$p);
        }
        return rs$p;
      }
      return concatArray(ls)(rs);
    }
    return concatArray(ls)(rs);
  }
  return concatArray(ls)(rs);
};
const optional = (x) => altRouteParser.alt(functorRouteParser.map(Just)(x))($RouteParser("Chomp", (a2) => $RouteResult("Success", a2, Nothing)));
const semigroupRoutePrinter = { append: (v) => (v1) => (x) => v1(v(x)) };
const put = (str) => (state) => ({ segments: run$2(withArray(pushAll([str]))(state.segments)), params: state.params, hash: state.hash });
const param = (key) => (val) => (state) => ({ segments: state.segments, params: concatArray([$Tuple(key, val)])(state.params), hash: state.hash });
const monoidRoutePRinter = { mempty: (x) => x, Semigroup0: () => semigroupRoutePrinter };
const $RouteDuplex = (_1, _2) => ({ tag: "RouteDuplex", _1, _2 });
const identity$1 = (x) => x;
const foldMap = (v) => (v1) => {
  if (v1.tag === "Nothing") {
    return monoidRoutePRinter.mempty;
  }
  if (v1.tag === "Just") {
    return v(v1._1);
  }
  fail$3();
};
const record = /* @__PURE__ */ $RouteDuplex(
  (v) => monoidRoutePRinter.mempty,
  /* @__PURE__ */ $RouteParser("Chomp", (a2) => $RouteResult("Success", a2, {}))
);
const prop = (dictIsSymbol) => () => () => () => (sym) => (v) => (v1) => $RouteDuplex(
  (r2) => {
    const $8 = v1._1(r2);
    const $9 = v._1(unsafeGet(dictIsSymbol.reflectSymbol(sym))(r2));
    return (x) => $9($8(x));
  },
  applyRouteParser.apply(functorRouteParser.map((b) => (a2) => unsafeSet(dictIsSymbol.reflectSymbol(sym))(a2)(b))(v1._2))(v._2)
);
const profunctorRouteDuplex = { dimap: (f) => (g) => (v) => $RouteDuplex((x) => v._1(f(x)), functorRouteParser.map(g)(v._2)) };
const prefix = (s2) => (v) => $RouteDuplex(
  (a2) => {
    const $3 = v._1(a2);
    return (x) => $3(put(s2)(x));
  },
  $RouteParser("Prefix", s2, v._2)
);
const path = /* @__PURE__ */ (() => {
  const $0 = foldrArray(prefix);
  const $1 = split("/");
  return (x) => {
    const $3 = $1(x);
    return (a2) => $0(a2)($3);
  };
})();
const root = /* @__PURE__ */ path("");
const end = (v) => $RouteDuplex(
  v._1,
  applyRouteParser.apply(functorRouteParser.map($$const)(v._2))(end$1)
);
const buildParamsNil = { buildParams: (v) => (v1) => identity$1 };
const buildParamsCons = (dictIsSymbol) => () => () => () => () => (dictRouteDuplexBuildParams) => ({
  buildParams: (v) => (r2) => (prev) => dictRouteDuplexBuildParams.buildParams($$Proxy)(r2)(prop(dictIsSymbol)()()()($$Proxy)(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(r2)((() => {
    const $9 = dictIsSymbol.reflectSymbol($$Proxy);
    return $RouteDuplex(param($9), param$1($9));
  })()))(prev))
});
const gRouteConstructor = (dictIsSymbol) => () => (dictGRouteDuplexCtr) => ({
  gRouteDuplex: (r2) => {
    const v = end(dictGRouteDuplexCtr.gRouteDuplexCtr(unsafeGet(dictIsSymbol.reflectSymbol($$Proxy))(r2)));
    return $RouteDuplex((v1) => v._1(v1), functorRouteParser.map(Constructor)(v._2));
  }
});
const gRouteAll = { gRouteDuplexCtr: (v) => $RouteDuplex((v1) => v._1(v1), functorRouteParser.map(Argument)(v._2)) };
const $Route = (_1) => ({ tag: "Session", _1 });
const SessionIsSymbol = { reflectSymbol: () => "Session" };
const rideIsSymbol = { reflectSymbol: () => "ride" };
const trackIsSymbol = { reflectSymbol: () => "track" };
const showMaybe = {
  show: (v) => {
    if (v.tag === "Just") {
      return "(Just " + (showStringImpl(v._1) + ")");
    }
    if (v.tag === "Nothing") {
      return "Nothing";
    }
    fail$3();
  }
};
const genericRoute = { to: (x) => $Route(x), from: (x) => x._1 };
const route = /* @__PURE__ */ (() => root(profunctorRouteDuplex.dimap(genericRoute.from)(genericRoute.to)(gRouteConstructor(SessionIsSymbol)()(gRouteAll).gRouteDuplex({
  Session: buildParamsCons(rideIsSymbol)()()()()(buildParamsCons(trackIsSymbol)()()()()(buildParamsNil)).buildParams($$Proxy)({
    ride: (x) => $RouteDuplex(foldMap(x._1), optional(x._2)),
    track: (x) => $RouteDuplex(foldMap(x._1), optional(x._2))
  })(record)
}))))();
const showRoute = {
  show: /* @__PURE__ */ (() => {
    const $0 = genericShowConstructor({
      genericShowArgs: (v) => [
        (() => {
          const v$1 = cons(intercalate$2(": ")(["ride", showMaybe.show(v.ride)]))(cons(intercalate$2(": ")([
            "track",
            showMaybe.show(v.track)
          ]))([]));
          if (v$1.length === 0) {
            return "{}";
          }
          return intercalate$2(" ")(["{", intercalate$2(", ")(v$1), "}"]);
        })()
      ]
    })(SessionIsSymbol);
    return (x) => $0["genericShow'"](x._1);
  })()
};
function pathname(location2) {
  return function() {
    return location2.pathname;
  };
}
function search(location2) {
  return function() {
    return location2.search;
  };
}
const useLilGui = () => {
  return { "BASE_URL": "/", "MODE": "production", "DEV": false, "PROD": true }.LIL_GUI === "true";
};
const force4 = () => {
  return { "BASE_URL": "/", "MODE": "production", "DEV": false, "PROD": true }.FORCE_4 === "true";
};
const useFirebaseEmulatorInDevMode = (db) => (auth) => () => {
  if ({ "BASE_URL": "/", "MODE": "production", "DEV": false, "PROD": true }.BUILD_TYPE !== "production") {
    return __vitePreload(() => import("./index.esm.b3ac2dde.js"), true ? ["assets/index.esm.b3ac2dde.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ connectFirestoreEmulator }) => {
      connectFirestoreEmulator(db, "localhost", 8080);
      return __vitePreload(() => import("./index.esm.6070e7ab.js"), true ? ["assets/index.esm.6070e7ab.js","assets/index.esm2017.ce458832.js"] : void 0).then(({ connectAuthEmulator }) => {
        connectAuthEmulator(auth, "http://localhost:9099");
        return;
      });
    });
  } else {
    return Promise.resolve();
  }
};
const min = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return x;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return y;
  }
  fail$3();
};
const max = (x) => (y) => {
  const v = ordNumber.compare(x)(y);
  if (v.tag === "LT") {
    return y;
  }
  if (v.tag === "EQ") {
    return x;
  }
  if (v.tag === "GT") {
    return x;
  }
  fail$3();
};
const monoidEffect = /* @__PURE__ */ (() => {
  const semigroupEffect1 = {
    append: (a2) => (b) => () => {
      a2();
      b();
      return unit;
    }
  };
  return { mempty: () => unit, Semigroup0: () => semigroupEffect1 };
})();
const for_ = /* @__PURE__ */ for_$9(applicativeEffect)(foldableMaybe);
const fromFoldable = /* @__PURE__ */ fromFoldable$9(ordPlayer)(foldableArray);
const constMapping = { mappingWithIndex: (v) => (v1) => guiableSlider.guiable };
const hmapRecord1 = /* @__PURE__ */ hmapRecord()(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "barZSpacing" })(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraOffsetY"
})(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "cameraOffsetZ" })(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraRotationAroundX"
})(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "halfAmbitus" })(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "lightOffsetY"
})(constMapping)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "sphereOffsetY" })(constMapping)(mapRecordWithIndexNil)()())()())()())()())()())()())()());
const constMapping1 = { mappingWithIndex: (v) => (v1) => mappingTuple1.mapping(v) };
const hmapRecord2 = /* @__PURE__ */ hmapRecord()(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "barZSpacing" })(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraOffsetY"
})(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "cameraOffsetZ" })(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraRotationAroundX"
})(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "halfAmbitus" })(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "lightOffsetY"
})(constMapping1)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "sphereOffsetY" })(constMapping1)(mapRecordWithIndexNil)()())()())()())()())()())()())()());
const constMapping2 = { mappingWithIndex: (v) => (v1) => mappingTuple2.mapping(v) };
const hmapRecord3 = /* @__PURE__ */ hmapRecord()(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "barZSpacing" })(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraOffsetY"
})(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "cameraOffsetZ" })(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "cameraRotationAroundX"
})(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "halfAmbitus" })(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({
  reflectSymbol: () => "lightOffsetY"
})(constMapping2)(/* @__PURE__ */ mapRecordWithIndexCons({ reflectSymbol: () => "sphereOffsetY" })(constMapping2)(mapRecordWithIndexNil)()())()())()())()())()())()())()());
const ambientLightIsSymbol = { reflectSymbol: () => "ambientLight" };
const boxGeometryIsSymbol = { reflectSymbol: () => "boxGeometry" };
const bufferAttributeIsSymbol = { reflectSymbol: () => "bufferAttribute" };
const bufferGeometryIsSymbol = { reflectSymbol: () => "bufferGeometry" };
const colorIsSymbol = { reflectSymbol: () => "color" };
const css2DObjectIsSymbol = { reflectSymbol: () => "css2DObject" };
const css2DRendererIsSymbol = { reflectSymbol: () => "css2DRenderer" };
const css3DObjectIsSymbol = { reflectSymbol: () => "css3DObject" };
const css3DRendererIsSymbol = { reflectSymbol: () => "css3DRenderer" };
const cubeTextureLoaderIsSymbol = { reflectSymbol: () => "cubeTextureLoader" };
const cylinderGeometryIsSymbol = { reflectSymbol: () => "cylinderGeometry" };
const effectComposerIsSymbol = { reflectSymbol: () => "effectComposer" };
const effectComposerPassIsSymbol = { reflectSymbol: () => "effectComposerPass" };
const eulerIsSymbol = { reflectSymbol: () => "euler" };
const glitchPassIsSymbol = { reflectSymbol: () => "glitchPass" };
const gltfLoaderIsSymbol = { reflectSymbol: () => "gltfLoader" };
const groupIsSymbol = { reflectSymbol: () => "group" };
const instancedBufferAttributeIsSymbol = { reflectSymbol: () => "instancedBufferAttribute" };
const instancedMeshIsSymbol = { reflectSymbol: () => "instancedMesh" };
const matrix4IsSymbol = { reflectSymbol: () => "matrix4" };
const meshIsSymbol = { reflectSymbol: () => "mesh" };
const meshPhongMaterialIsSymbol = { reflectSymbol: () => "meshPhongMaterial" };
const meshStandardMaterialIsSymbol = { reflectSymbol: () => "meshStandardMaterial" };
const perspectiveCameraIsSymbol = { reflectSymbol: () => "perspectiveCamera" };
const planeIsSymbol = { reflectSymbol: () => "plane" };
const pointLightIsSymbol = { reflectSymbol: () => "pointLight" };
const pointsIsSymbol = { reflectSymbol: () => "points" };
const raycasterIsSymbol = { reflectSymbol: () => "raycaster" };
const renderPassIsSymbol = { reflectSymbol: () => "renderPass" };
const sceneIsSymbol = { reflectSymbol: () => "scene" };
const shaderMaterialIsSymbol = { reflectSymbol: () => "shaderMaterial" };
const sphereGeometryIsSymbol = { reflectSymbol: () => "sphereGeometry" };
const textureLoaderIsSymbol = { reflectSymbol: () => "textureLoader" };
const unrealBloomPassIsSymbol = { reflectSymbol: () => "unrealBloomPass" };
const vector2IsSymbol = { reflectSymbol: () => "vector2" };
const vector3IsSymbol = { reflectSymbol: () => "vector3" };
const webGLRendererIsSymbol = { reflectSymbol: () => "webGLRenderer" };
const hfoldlWithIndex = /* @__PURE__ */ (() => {
  const $0 = foldlRecordCons(ambientLightIsSymbol)()(foldingWithIndexParFoldPr()(ambientLightIsSymbol)())(foldlRecordCons(boxGeometryIsSymbol)()(foldingWithIndexParFoldPr()(boxGeometryIsSymbol)())(foldlRecordCons(bufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(bufferAttributeIsSymbol)())(foldlRecordCons(bufferGeometryIsSymbol)()(foldingWithIndexParFoldPr()(bufferGeometryIsSymbol)())(foldlRecordCons(colorIsSymbol)()(foldingWithIndexParFoldPr()(colorIsSymbol)())(foldlRecordCons(css2DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css2DObjectIsSymbol)())(foldlRecordCons(css2DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css2DRendererIsSymbol)())(foldlRecordCons(css3DObjectIsSymbol)()(foldingWithIndexParFoldPr()(css3DObjectIsSymbol)())(foldlRecordCons(css3DRendererIsSymbol)()(foldingWithIndexParFoldPr()(css3DRendererIsSymbol)())(foldlRecordCons(cubeTextureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(cubeTextureLoaderIsSymbol)())(foldlRecordCons(cylinderGeometryIsSymbol)()(foldingWithIndexParFoldPr()(cylinderGeometryIsSymbol)())(foldlRecordCons(effectComposerIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerIsSymbol)())(foldlRecordCons(effectComposerPassIsSymbol)()(foldingWithIndexParFoldPr()(effectComposerPassIsSymbol)())(foldlRecordCons(eulerIsSymbol)()(foldingWithIndexParFoldPr()(eulerIsSymbol)())(foldlRecordCons(glitchPassIsSymbol)()(foldingWithIndexParFoldPr()(glitchPassIsSymbol)())(foldlRecordCons(gltfLoaderIsSymbol)()(foldingWithIndexParFoldPr()(gltfLoaderIsSymbol)())(foldlRecordCons(groupIsSymbol)()(foldingWithIndexParFoldPr()(groupIsSymbol)())(foldlRecordCons(instancedBufferAttributeIsSymbol)()(foldingWithIndexParFoldPr()(instancedBufferAttributeIsSymbol)())(foldlRecordCons(instancedMeshIsSymbol)()(foldingWithIndexParFoldPr()(instancedMeshIsSymbol)())(foldlRecordCons(matrix4IsSymbol)()(foldingWithIndexParFoldPr()(matrix4IsSymbol)())(foldlRecordCons(meshIsSymbol)()(foldingWithIndexParFoldPr()(meshIsSymbol)())(foldlRecordCons(meshPhongMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshPhongMaterialIsSymbol)())(foldlRecordCons(meshStandardMaterialIsSymbol)()(foldingWithIndexParFoldPr()(meshStandardMaterialIsSymbol)())(foldlRecordCons(perspectiveCameraIsSymbol)()(foldingWithIndexParFoldPr()(perspectiveCameraIsSymbol)())(foldlRecordCons(planeIsSymbol)()(foldingWithIndexParFoldPr()(planeIsSymbol)())(foldlRecordCons(pointLightIsSymbol)()(foldingWithIndexParFoldPr()(pointLightIsSymbol)())(foldlRecordCons(pointsIsSymbol)()(foldingWithIndexParFoldPr()(pointsIsSymbol)())(foldlRecordCons(raycasterIsSymbol)()(foldingWithIndexParFoldPr()(raycasterIsSymbol)())(foldlRecordCons(renderPassIsSymbol)()(foldingWithIndexParFoldPr()(renderPassIsSymbol)())(foldlRecordCons(sceneIsSymbol)()(foldingWithIndexParFoldPr()(sceneIsSymbol)())(foldlRecordCons(shaderMaterialIsSymbol)()(foldingWithIndexParFoldPr()(shaderMaterialIsSymbol)())(foldlRecordCons(sphereGeometryIsSymbol)()(foldingWithIndexParFoldPr()(sphereGeometryIsSymbol)())(foldlRecordCons(textureLoaderIsSymbol)()(foldingWithIndexParFoldPr()(textureLoaderIsSymbol)())(foldlRecordCons(unrealBloomPassIsSymbol)()(foldingWithIndexParFoldPr()(unrealBloomPassIsSymbol)())(foldlRecordCons(vector2IsSymbol)()(foldingWithIndexParFoldPr()(vector2IsSymbol)())(foldlRecordCons(vector3IsSymbol)()(foldingWithIndexParFoldPr()(vector3IsSymbol)())(foldlRecordCons(webGLRendererIsSymbol)()(foldingWithIndexParFoldPr()(webGLRendererIsSymbol)())(foldlRecordNil)))))))))))))))))))))))))))))))))))));
  return (f) => (x) => $0.foldlRecordRowList(f)(x)($$Proxy);
})();
const fromHomogeneous = (v) => v;
const parTraverse = /* @__PURE__ */ (() => {
  const $0 = traversableWithIndexObject.traverseWithIndex(applicativeParAff);
  return (f) => {
    const $2 = $0((v) => (x) => f(x));
    return (x) => _sequential($2(x));
  };
})();
const show = (v) => {
  if (v.tag === "Left") {
    return "(Left " + (showRouteError.show(v._1) + ")");
  }
  if (v.tag === "Right") {
    return "(Right " + (showRoute.show(v._1) + ")");
  }
  fail$3();
};
const mempty1 = (v) => monoidEffect.mempty;
const mempty2 = /* @__PURE__ */ (() => monoidRecord()((() => {
  const Semigroup0 = monoidEffect.Semigroup0();
  const Semigroup0$1 = monoidEffect.Semigroup0();
  const Semigroup0$2 = monoidEffect.Semigroup0();
  const Semigroup0$3 = monoidEffect.Semigroup0();
  const semigroupRecordCons1 = {
    appendRecord: (v) => (ra) => (rb) => ({ p1: Semigroup0.append(ra.p1)(rb.p1), p2: Semigroup0$1.append(ra.p2)(rb.p2), p3: Semigroup0$2.append(ra.p3)(rb.p3), p4: Semigroup0$3.append(ra.p4)(rb.p4) })
  };
  return { memptyRecord: (v) => ({ p1: monoidEffect.mempty, p2: monoidEffect.mempty, p3: monoidEffect.mempty, p4: monoidEffect.mempty }), SemigroupRecord0: () => semigroupRecordCons1 };
})()).mempty)();
const folded = (s2) => (tf, k) => {
  const result2 = { value: Leaf };
  return s2(
    tf,
    (a2) => {
      const $5 = result2.value;
      const res = result2.value = semigroupKnownPlayers.append(a2)($5);
      return k(res);
    }
  );
};
const logShow = /* @__PURE__ */ logShow$1({
  show: (record2) => {
    const v = cons(intercalate$2(": ")(["kp", showKnownPlayers.show(record2.kp)]))(cons(intercalate$2(": ")([
      "outcome",
      showPointOutcome.show(record2.outcome)
    ]))(cons(intercalate$2(": ")(["player", showPlayer.show(record2.player)]))([])));
    if (v.length === 0) {
      return "{}";
    }
    return intercalate$2(" ")(["{", intercalate$2(", ")(v), "}"]);
  }
});
const fromFoldable1 = /* @__PURE__ */ fromFoldable$8(foldableList);
const identity = (x) => x;
const oneOf = /* @__PURE__ */ (() => foldrArray(altEvent.alt)(plusEvent.empty))();
const renderingInfoMobile = {
  halfAmbitus: { default: 3.5, min: 0.5, max: 4.4, step: 0.1 },
  barZSpacing: { default: 1, min: 0.1, max: 3, step: 0.1 },
  cameraOffsetY: { default: 1.05, min: 0.1, max: 3, step: 0.05 },
  cameraRotationAroundX: { default: -0.15, min: -3.141592653589793, max: 3.141592653589793, step: 0.05 },
  cameraOffsetZ: { default: 1.45, min: -0.5, max: 3, step: 0.05 },
  lightOffsetY: { default: 0.9, min: 0, max: 2, step: 0.05 },
  sphereOffsetY: { default: 0.2, min: 0.05, max: 0.5, step: 0.05 }
};
const renderingInfoDesktop = {
  halfAmbitus: { default: 3.1, min: 0.5, max: 4.4, step: 0.1 },
  barZSpacing: { default: 1, min: 0.1, max: 3, step: 0.1 },
  cameraOffsetY: { default: 0.55, min: 0.1, max: 3, step: 0.05 },
  cameraRotationAroundX: { default: -0.45, min: -3.141592653589793, max: 3.141592653589793, step: 0.05 },
  cameraOffsetZ: { default: 0.35, min: -0.5, max: 3, step: 0.05 },
  lightOffsetY: { default: 0.9, min: 0, max: 2, step: 0.05 },
  sphereOffsetY: { default: 0.2, min: 0.05, max: 0.5, step: 0.05 }
};
const magicLeap = (leapUnsubscribesRef) => (mappedCNow) => (pPos) => (renderingInfoBehavior) => (hl) => () => {
  const leapUnsubscribes = leapUnsubscribesRef.value;
  (() => {
    if (hl.player.tag === "Player1") {
      return leapUnsubscribes.p1;
    }
    if (hl.player.tag === "Player2") {
      return leapUnsubscribes.p2;
    }
    if (hl.player.tag === "Player3") {
      return leapUnsubscribes.p3;
    }
    if (hl.player.tag === "Player4") {
      return leapUnsubscribes.p4;
    }
    fail$3();
  })()();
  const a$p = mappedCNow();
  (() => {
    if (hl.player.tag === "Player1") {
      return writeToRecordImpl("p1p")(hl.newPosition)(pPos);
    }
    if (hl.player.tag === "Player2") {
      return writeToRecordImpl("p2p")(hl.newPosition)(pPos);
    }
    if (hl.player.tag === "Player3") {
      return writeToRecordImpl("p3p")(hl.newPosition)(pPos);
    }
    if (hl.player.tag === "Player4") {
      return writeToRecordImpl("p4p")(hl.newPosition)(pPos);
    }
    fail$3();
  })()();
  const startY = (() => {
    if (hl.player.tag === "Player1") {
      return readFromRecordImpl("p1y")(pPos);
    }
    if (hl.player.tag === "Player2") {
      return readFromRecordImpl("p2y")(pPos);
    }
    if (hl.player.tag === "Player3") {
      return readFromRecordImpl("p3y")(pPos);
    }
    if (hl.player.tag === "Player4") {
      return readFromRecordImpl("p4y")(pPos);
    }
    fail$3();
  })()();
  const startZ = (() => {
    if (hl.player.tag === "Player1") {
      return readFromRecordImpl("p1z")(pPos);
    }
    if (hl.player.tag === "Player2") {
      return readFromRecordImpl("p2z")(pPos);
    }
    if (hl.player.tag === "Player3") {
      return readFromRecordImpl("p3z")(pPos);
    }
    if (hl.player.tag === "Player4") {
      return readFromRecordImpl("p4z")(pPos);
    }
    fail$3();
  })()();
  const newSub = subscribe(sampleBy(functorEvent)($$const)(renderingInfoBehavior)(animationFrame))((ri) => {
    const endZ = (() => {
      if (hl.newPosition.tag === "Position1") {
        return -3 * ri.barZSpacing;
      }
      if (hl.newPosition.tag === "Position2") {
        return -2 * ri.barZSpacing;
      }
      if (hl.newPosition.tag === "Position3") {
        return -1 * ri.barZSpacing;
      }
      if (hl.newPosition.tag === "Position4") {
        return 0;
      }
      fail$3();
    })();
    return () => {
      const a$p$1 = mappedCNow();
      const t2 = min(1)(max(0)((a$p$1 - a$p) / 1e3 / (0.4 * sqrt(pow(endZ - startZ)(2) + pow(-startY)(2)))));
      const cy = pow(1 - t2)(2) * startY + 2 * (1 - t2) * t2 * ((0 + startY) / 2 + 0.5) + pow(t2)(2) * 0;
      const cz = pow(1 - t2)(2) * startZ + 2 * (1 - t2) * t2 * ((endZ + startZ) / 2) + pow(t2)(2) * endZ;
      (() => {
        if (hl.player.tag === "Player1") {
          return writeToRecordImpl("p1z")(cz)(pPos);
        }
        if (hl.player.tag === "Player2") {
          return writeToRecordImpl("p2z")(cz)(pPos);
        }
        if (hl.player.tag === "Player3") {
          return writeToRecordImpl("p3z")(cz)(pPos);
        }
        if (hl.player.tag === "Player4") {
          return writeToRecordImpl("p4z")(cz)(pPos);
        }
        fail$3();
      })()();
      (() => {
        if (hl.player.tag === "Player1") {
          return writeToRecordImpl("p1y")(cy)(pPos);
        }
        if (hl.player.tag === "Player2") {
          return writeToRecordImpl("p2y")(cy)(pPos);
        }
        if (hl.player.tag === "Player3") {
          return writeToRecordImpl("p3y")(cy)(pPos);
        }
        if (hl.player.tag === "Player4") {
          return writeToRecordImpl("p4y")(cy)(pPos);
        }
        fail$3();
      })()();
      const $19 = (() => {
        if (hl.player.tag === "Player1") {
          return (v) => v.p1;
        }
        if (hl.player.tag === "Player2") {
          return (v) => v.p2;
        }
        if (hl.player.tag === "Player3") {
          return (v) => v.p3;
        }
        if (hl.player.tag === "Player4") {
          return (v) => v.p4;
        }
        fail$3();
      })();
      const $20 = bindE(() => {
        const a$p$2 = leapUnsubscribesRef.value;
        return $19(a$p$2);
      })(identity$v);
      if (t2 >= 1) {
        $20();
        const $22 = leapUnsubscribesRef.value;
        leapUnsubscribesRef.value = (() => {
          if (hl.player.tag === "Player1") {
            return { p1: monoidEffect.mempty, p2: $22.p2, p3: $22.p3, p4: $22.p4 };
          }
          if (hl.player.tag === "Player2") {
            return { p2: monoidEffect.mempty, p1: $22.p1, p3: $22.p3, p4: $22.p4 };
          }
          if (hl.player.tag === "Player3") {
            return { p3: monoidEffect.mempty, p1: $22.p1, p2: $22.p2, p4: $22.p4 };
          }
          if (hl.player.tag === "Player4") {
            return { p4: monoidEffect.mempty, p1: $22.p1, p2: $22.p2, p3: $22.p3 };
          }
          fail$3();
        })();
        return unit;
      }
      return unit;
    };
  })();
  const $12 = leapUnsubscribesRef.value;
  leapUnsubscribesRef.value = (() => {
    if (hl.player.tag === "Player1") {
      return { p1: newSub, p2: $12.p2, p3: $12.p3, p4: $12.p4 };
    }
    if (hl.player.tag === "Player2") {
      return { p2: newSub, p1: $12.p1, p3: $12.p3, p4: $12.p4 };
    }
    if (hl.player.tag === "Player3") {
      return { p3: newSub, p1: $12.p1, p2: $12.p2, p4: $12.p4 };
    }
    if (hl.player.tag === "Player4") {
      return { p4: newSub, p1: $12.p1, p2: $12.p2, p3: $12.p3 };
    }
    fail$3();
  })();
  return unit;
};
const magicLeaps = (leapUnsubscribesRef) => (mappedCNow) => (pPos) => (renderingInfoBehavior) => (pnp) => () => {
  const wholeRec = pPos.value;
  const oldPosition = (() => {
    if (pnp.player.tag === "Player1") {
      return readFromRecordImpl("p1p")(pPos);
    }
    if (pnp.player.tag === "Player2") {
      return readFromRecordImpl("p2p")(pPos);
    }
    if (pnp.player.tag === "Player3") {
      return readFromRecordImpl("p3p")(pPos);
    }
    if (pnp.player.tag === "Player4") {
      return readFromRecordImpl("p4p")(pPos);
    }
    fail$3();
  })()();
  magicLeap(leapUnsubscribesRef)(mappedCNow)(pPos)(renderingInfoBehavior)(pnp)();
  return for_((() => {
    if ((() => {
      if (wholeRec.p1p.tag === "Position1") {
        return pnp.newPosition.tag === "Position1";
      }
      if (wholeRec.p1p.tag === "Position2") {
        return pnp.newPosition.tag === "Position2";
      }
      if (wholeRec.p1p.tag === "Position3") {
        return pnp.newPosition.tag === "Position3";
      }
      if (wholeRec.p1p.tag === "Position4") {
        return pnp.newPosition.tag === "Position4";
      }
      return false;
    })()) {
      return $Maybe("Just", Player1);
    }
    if ((() => {
      if (wholeRec.p2p.tag === "Position1") {
        return pnp.newPosition.tag === "Position1";
      }
      if (wholeRec.p2p.tag === "Position2") {
        return pnp.newPosition.tag === "Position2";
      }
      if (wholeRec.p2p.tag === "Position3") {
        return pnp.newPosition.tag === "Position3";
      }
      if (wholeRec.p2p.tag === "Position4") {
        return pnp.newPosition.tag === "Position4";
      }
      return false;
    })()) {
      return $Maybe("Just", Player2);
    }
    if ((() => {
      if (wholeRec.p3p.tag === "Position1") {
        return pnp.newPosition.tag === "Position1";
      }
      if (wholeRec.p3p.tag === "Position2") {
        return pnp.newPosition.tag === "Position2";
      }
      if (wholeRec.p3p.tag === "Position3") {
        return pnp.newPosition.tag === "Position3";
      }
      if (wholeRec.p3p.tag === "Position4") {
        return pnp.newPosition.tag === "Position4";
      }
      return false;
    })()) {
      return $Maybe("Just", Player3);
    }
    if ((() => {
      if (wholeRec.p4p.tag === "Position1") {
        return pnp.newPosition.tag === "Position1";
      }
      if (wholeRec.p4p.tag === "Position2") {
        return pnp.newPosition.tag === "Position2";
      }
      if (wholeRec.p4p.tag === "Position3") {
        return pnp.newPosition.tag === "Position3";
      }
      if (wholeRec.p4p.tag === "Position4") {
        return pnp.newPosition.tag === "Position4";
      }
      return false;
    })()) {
      return $Maybe("Just", Player4);
    }
    return Nothing;
  })())((player) => magicLeap(leapUnsubscribesRef)(mappedCNow)(pPos)(renderingInfoBehavior)({ player, newPosition: oldPosition }))();
};
const updateKnownPlayerPoints = (player) => (outcome) => (knownPlayers) => () => {
  const $3 = knownPlayers.value;
  return knownPlayers.value = update(ordPlayer)((v1) => {
    if (v1.tag === "HasNotStartedYet") {
      return $Maybe(
        "Just",
        $StartStatus(
          "HasStarted",
          (() => {
            if (outcome.tag === "Left") {
              return { startedAt: topNumber, points: 0, name: Nothing, penalties: outcome._1 };
            }
            if (outcome.tag === "Right") {
              return { startedAt: topNumber, points: outcome._1, name: Nothing, penalties: 0 };
            }
            fail$3();
          })()
        )
      );
    }
    if (v1.tag === "HasStarted") {
      return $Maybe(
        "Just",
        $StartStatus(
          "HasStarted",
          (() => {
            if (outcome.tag === "Left") {
              return { startedAt: v1._1.startedAt, points: v1._1.points, name: v1._1.name, penalties: v1._1.penalties + outcome._1 };
            }
            if (outcome.tag === "Right") {
              return { startedAt: v1._1.startedAt, points: v1._1.points + outcome._1, name: v1._1.name, penalties: v1._1.penalties };
            }
            fail$3();
          })()
        )
      );
    }
    fail$3();
  })(player)($3);
};
const constructAppendableKnownPlayersFromRide = (v) => fromFoldable(concatArray((() => {
  if (v._1.player1.tag === "Just") {
    return [
      $Tuple(
        Player1,
        (() => {
          if (v._1.player1StartTimeInMilliseconds.tag === "Nothing") {
            return HasNotStartedYet;
          }
          if (v._1.player1StartTimeInMilliseconds.tag === "Just") {
            return $StartStatus(
              "HasStarted",
              {
                startedAt: v._1.player1StartTimeInMilliseconds._1,
                points: (() => {
                  if (v._1.player1Points.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player1Points.tag === "Just") {
                    return v._1.player1Points._1;
                  }
                  fail$3();
                })(),
                name: v._1.player1Name,
                penalties: (() => {
                  if (v._1.player1Penalties.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player1Penalties.tag === "Just") {
                    return v._1.player1Penalties._1;
                  }
                  fail$3();
                })()
              }
            );
          }
          fail$3();
        })()
      )
    ];
  }
  if (v._1.player1.tag === "Nothing") {
    return [];
  }
  fail$3();
})())(concatArray((() => {
  if (v._1.player2.tag === "Just") {
    return [
      $Tuple(
        Player2,
        (() => {
          if (v._1.player2StartTimeInMilliseconds.tag === "Nothing") {
            return HasNotStartedYet;
          }
          if (v._1.player2StartTimeInMilliseconds.tag === "Just") {
            return $StartStatus(
              "HasStarted",
              {
                startedAt: v._1.player2StartTimeInMilliseconds._1,
                points: (() => {
                  if (v._1.player2Points.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player2Points.tag === "Just") {
                    return v._1.player2Points._1;
                  }
                  fail$3();
                })(),
                name: v._1.player2Name,
                penalties: (() => {
                  if (v._1.player2Penalties.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player2Penalties.tag === "Just") {
                    return v._1.player2Penalties._1;
                  }
                  fail$3();
                })()
              }
            );
          }
          fail$3();
        })()
      )
    ];
  }
  if (v._1.player2.tag === "Nothing") {
    return [];
  }
  fail$3();
})())(concatArray((() => {
  if (v._1.player3.tag === "Just") {
    return [
      $Tuple(
        Player3,
        (() => {
          if (v._1.player3StartTimeInMilliseconds.tag === "Nothing") {
            return HasNotStartedYet;
          }
          if (v._1.player3StartTimeInMilliseconds.tag === "Just") {
            return $StartStatus(
              "HasStarted",
              {
                startedAt: v._1.player3StartTimeInMilliseconds._1,
                points: (() => {
                  if (v._1.player3Points.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player3Points.tag === "Just") {
                    return v._1.player3Points._1;
                  }
                  fail$3();
                })(),
                name: v._1.player3Name,
                penalties: (() => {
                  if (v._1.player3Penalties.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player3Penalties.tag === "Just") {
                    return v._1.player3Penalties._1;
                  }
                  fail$3();
                })()
              }
            );
          }
          fail$3();
        })()
      )
    ];
  }
  if (v._1.player3.tag === "Nothing") {
    return [];
  }
  fail$3();
})())((() => {
  if (v._1.player4.tag === "Just") {
    return [
      $Tuple(
        Player4,
        (() => {
          if (v._1.player4StartTimeInMilliseconds.tag === "Nothing") {
            return HasNotStartedYet;
          }
          if (v._1.player4StartTimeInMilliseconds.tag === "Just") {
            return $StartStatus(
              "HasStarted",
              {
                startedAt: v._1.player4StartTimeInMilliseconds._1,
                points: (() => {
                  if (v._1.player4Points.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player4Points.tag === "Just") {
                    return v._1.player4Points._1;
                  }
                  fail$3();
                })(),
                name: v._1.player4Name,
                penalties: (() => {
                  if (v._1.player4Penalties.tag === "Nothing") {
                    return 0;
                  }
                  if (v._1.player4Penalties.tag === "Just") {
                    return v._1.player4Penalties._1;
                  }
                  fail$3();
                })()
              }
            );
          }
          fail$3();
        })()
      )
    ];
  }
  if (v._1.player4.tag === "Nothing") {
    return [];
  }
  fail$3();
})()))));
const main = (v) => (shaders2) => (v1) => (v2) => (audio2) => {
  const $5 = _makeFiber(
    ffiUtil$1,
    _bind(firebaseAppAff)((fbApp) => _bind(_bind(_liftEffect(firestoreDb(fbApp)))(toAff$p(coerce)))((firestoreDb2) => _bind(_bind(_liftEffect(firebaseAuth(fbApp)))(toAff$p(coerce)))((fbAuth) => _bind(_bind(_liftEffect(useFirebaseEmulatorInDevMode(firestoreDb2)(fbAuth)))(toAff$p(coerce)))(() => _bind(_liftEffect(hasOrientationPermission))((hop) => _liftEffect(() => {
      const signedInNonAnonymously$p = create();
      initializeGoogleClient(fbAuth)(signedInNonAnonymously$p.push(true))();
      const hasSetUpPresence = { value: false };
      subscribe(authStateChangedEventWithAnonymousAccountCreation(fbAuth))((v32) => {
        const $14 = info("I'm a user: " + _unsafeStringify(writeForeignUser.writeImpl(v32.user)));
        return () => {
          $14();
          const a2 = hasSetUpPresence.value;
          (() => {
            if (!a2) {
              return () => {
                hasSetUpPresence.value = true;
                const fiber2 = _makeFiber(ffiUtil$1, initializeRealtimePresenceAff(fbApp)(firestoreDb2)(fbAuth))();
                fiber2.run();
                return unit;
              };
            }
            if (a2) {
              return () => unit;
            }
            fail$3();
          })()();
          return signedInNonAnonymously$p.push((() => {
            if (v32.provider.tag === "AuthGoogle") {
              return true;
            }
            if (v32.provider.tag === "AuthAnonymous") {
              return false;
            }
            fail$3();
          })())();
        };
      })();
      const signedInNonAnonymously = burning(false)(signedInNonAnonymously$p.event)();
      const myCNow = cnow();
      const mappedCNow = () => {
        const a$p = myCNow.cnow();
        return a$p.time;
      };
      const w = windowImpl();
      const stor = localStorage$1(w)();
      const resizeE = create();
      const loaded = create();
      const negotiation = create();
      const orientationPerm = create();
      const v3 = create();
      const v42 = create();
      const v5 = create();
      const v6 = create();
      const isMobile = emitsTouchEvents();
      const fiber = _makeFiber(
        ffiUtil$1,
        _bind(_bind(_liftEffect(useLilGui))((x) => (() => {
          if (x) {
            return gui(hmapRecord1)(hmapRecord2)(hmapRecord3);
          }
          return noGui(hmapRecord1)(hmapRecord2)(hmapRecord3);
        })()((() => {
          if (isMobile) {
            return renderingInfoMobile;
          }
          return renderingInfoDesktop;
        })())))((v7) => _liftEffect(() => {
          const unschedule = { value: Leaf };
          const channelUnsub = { value: () => unit };
          const idleCallbackId = { value: Nothing };
          const ctx$p = context_();
          const silence = makeAudioBuffer_(ctx$p)({ size: 44100, arr: [replicate$1(unfoldableArray)(1e3)(0)] })();
          const loc = location(w)();
          const a$p = pathname(loc)();
          const a$p$1 = search(loc)();
          const parsed = run(route._2)(a$p + a$p$1);
          const resizeListener = eventListener((v8) => bindE((() => {
            const $39 = innerWidth(w);
            const $40 = innerHeight(w);
            return () => {
              const a$p$2 = $39();
              const a$p$3 = $40();
              return { iw: toNumber(a$p$2), ih: toNumber(a$p$3) };
            };
          })())(resizeE.push))();
          addEventListener("resize")(resizeListener)(true)(w)();
          const soundObj = { value: empty$2 };
          const channelEvent = create();
          const columnPusher = create();
          runInBody$p(toplevel({
            loaded: loaded.event,
            ride: (v8) => {
              const $44 = randId$p(6);
              return () => {
                const cid = $44();
                return channelEvent.push($ChannelChooser("RideChannel", cid, v8._1, v8._2))();
              };
            },
            negotiation: negotiation.event,
            tutorial: channelEvent.push(TutorialChannel),
            editor: channelEvent.push(EditorChannel),
            isMobile,
            lpsCallback: (k) => (v8) => () => {
              const n2 = random();
              const $46 = unschedule.value;
              unschedule.value = insert$2(ordNumber)(k + n2 * 0.25)(v8)($46);
              return unit;
            },
            givePermission: orientationPerm.push,
            pushBasic: v3,
            pushLeap: v42,
            columnPusher,
            pushHitLong: v5,
            pushReleaseLong: v6,
            resizeE: resizeE.event,
            goHome: channelEvent.push(NoChannel),
            renderingInfo: refToBehavior(v7.renderingInfo),
            debug: v7.debug,
            silence,
            icid: idleCallbackId,
            wdw: w,
            unschedule,
            soundObj
          }))();
          const iAm = randId();
          const fiber2 = _makeFiber(
            ffiUtil$1,
            _bind(_sequential(hfoldlWithIndex(ParFold)(_pure({}))({
              scene: sceneAff,
              vector2: vector2Aff,
              vector3: vector3Aff,
              meshStandardMaterial: meshStandardMaterialAff,
              bufferGeometry: bufferGeometryAff,
              points: pointsAff,
              meshPhongMaterial: meshPhongMaterialAff,
              boxGeometry: boxGeometryAff,
              cylinderGeometry: cylinderGeometryAff,
              pointLight: pointLightAff,
              ambientLight: ambientLightAff,
              css2DObject: css2DObjectAff,
              webGLRenderer: webGLRendererAff,
              effectComposer: effectComposerAff,
              effectComposerPass: effectComposerPassAff,
              unrealBloomPass: unrealBloomPassAff,
              glitchPass: glitchPassAff,
              renderPass: renderPassAff,
              color: colorAff,
              instancedMesh: instancedMeshAff,
              euler: eulerAff,
              raycaster: raycasterAff,
              mesh: meshAff,
              perspectiveCamera: perspectiveCameraAff,
              matrix4: matrix4Aff,
              plane: planeGeometryAff,
              bufferAttribute: bufferAttributeAff,
              instancedBufferAttribute: instancedBufferAttributeAff,
              shaderMaterial: shaderMaterialAff,
              gltfLoader: gltfLoaderAff,
              cubeTextureLoader: cubeTextureLoaderAff,
              sphereGeometry: sphereGeometryAff,
              css2DRenderer: css2DRendererAff,
              css3DObject: css3DObjectAff,
              css3DRenderer: css3DRendererAff,
              group: groupAff,
              textureLoader: textureLoaderAff
            })))((v8) => _bind(_liftEffect(loader(v8.textureLoader)))((ldr) => _bind(_liftEffect(loader$1(v8.cubeTextureLoader)))((cldr) => _bind(_liftEffect(loader$2(v8.gltfLoader)))((gldr) => _bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff(ldr))(v2))))((downloadedTextures) => _bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAff$2(gldr))(v))))((downloadedGLTFs) => _bind(forkAff(_map(fromHomogeneous)(parTraverse(loadAffRecord(cldr))(_fmapObject(
              v1,
              unsafeCoerce
            )))))((downloadedCubeTextures) => _bind(_liftEffect(log("Parsed route: " + show(parsed))))(() => {
              const proposedChannel$p$p = (() => {
                if (parsed.tag === "Left") {
                  return Nothing;
                }
                if (parsed.tag === "Right") {
                  return applyMaybe.apply((() => {
                    if (parsed._1._1.ride.tag === "Just") {
                      return $Maybe("Just", Tuple(parsed._1._1.ride._1));
                    }
                    return Nothing;
                  })())(parsed._1._1.track);
                }
                fail$3();
              })();
              const galaxyAttributes = makeGalaxyAttributes(v8.instancedBufferAttribute);
              const buildWantsTutorial = _bind(_liftEffect(() => ({ value: Leaf })))((v9) => _bind(_liftEffect(create))((knownPlayersBus) => _bind(_liftEffect((() => {
                if (isMobile) {
                  return xForTouch(mappedCNow)(w)(Player4)(mempty1);
                }
                return xForKeyboard(mappedCNow)(w)(Player4)(mempty1);
              })()))((xPosE) => _bind(_liftEffect(() => {
                const ri = v7.renderingInfo.value;
                return { value: initialPositions(ri) };
              }))((playerPositions) => _bind(_liftEffect(subscribe(xPosE)((xp) => writeToRecordImpl("p4x")(xp)(playerPositions))))(() => _bind(_liftEffect(subscribe(v3.event)((v10) => {
                const $61 = updateKnownPlayerPoints(Player4)(basicOutcomeToPointOutcome(beatsToBasicOutcome(v10.deltaBeats)))(v9);
                return () => {
                  const kp = $61();
                  return knownPlayersBus.push(kp)();
                };
              })))(() => _bind(_liftEffect(subscribe(v6.event)((v10) => {
                const $62 = updateKnownPlayerPoints(Player4)($Either("Right", abs(2 - v10.distance) * v10.pctConsumed * 20))(v9);
                return () => {
                  const kp = $62();
                  return knownPlayersBus.push(kp)();
                };
              })))(() => _bind(_liftEffect(() => ({ value: mempty2 })))((leapUnsubscribesRef) => _bind(_liftEffect(subscribe(v42.event)((v10) => magicLeaps(leapUnsubscribesRef)(mappedCNow)(playerPositions)(refToBehavior(v7.renderingInfo))({
                player: Player4,
                newPosition: v10.newPosition
              }))))(() => {
                const n2ot = drop(300)($List(
                  "Cons",
                  $Tuple("tutorial", "tutorial"),
                  $List(
                    "Cons",
                    $Tuple("shakuhachi0", "shakuhachi0"),
                    $List(
                      "Cons",
                      $Tuple("shakuhachi1", "shakuhachi1"),
                      $List(
                        "Cons",
                        $Tuple("shakuhachi2", "shakuhachi2"),
                        $List(
                          "Cons",
                          $Tuple("shakuhachi3", "shakuhachi3"),
                          $List(
                            "Cons",
                            $Tuple("floorTom", "floorTom"),
                            $List(
                              "Cons",
                              $Tuple("floorTom", "floorTom"),
                              $List("Cons", $Tuple("elvedenHallLordsCloakroom", "elvedenHallLordsCloakroom"), Nil)
                            )
                          )
                        )
                      )
                    )
                  )
                ));
                return _bind(dlInChunks(audio2)(100)(take$1(300)($List(
                  "Cons",
                  $Tuple("tutorial", "tutorial"),
                  $List(
                    "Cons",
                    $Tuple("shakuhachi0", "shakuhachi0"),
                    $List(
                      "Cons",
                      $Tuple("shakuhachi1", "shakuhachi1"),
                      $List(
                        "Cons",
                        $Tuple("shakuhachi2", "shakuhachi2"),
                        $List(
                          "Cons",
                          $Tuple("shakuhachi3", "shakuhachi3"),
                          $List(
                            "Cons",
                            $Tuple("floorTom", "floorTom"),
                            $List(
                              "Cons",
                              $Tuple("floorTom", "floorTom"),
                              $List("Cons", $Tuple("elvedenHallLordsCloakroom", "elvedenHallLordsCloakroom"), Nil)
                            )
                          )
                        )
                      )
                    )
                  )
                )))(ctx$p)(soundObj))(() => _bind(_liftEffect(loaded.push(true)))(() => _bind(dlInChunks(audio2)(100)(n2ot)(ctx$p)(soundObj))(() => _bind(joinFiber(downloadedTextures))((myTextures) => _bind(joinFiber(downloadedGLTFs))((myGLTFs) => _bind(joinFiber(downloadedCubeTextures))((myCubeTextures) => _liftEffect(() => {
                  const a$p$2 = soundObj.value;
                  const $72 = _lookup(Nothing, Just, "elvedenHallLordsCloakroom", a$p$2);
                  const a$p$3 = innerWidth(w)();
                  const a$p$4 = innerHeight(w)();
                  return {
                    player: Player4,
                    threeDI: v8,
                    initialDims: { iw: toNumber(a$p$3), ih: toNumber(a$p$4) },
                    shaders: shaders2,
                    galaxyAttributes,
                    cNow: mappedCNow,
                    playerPositions: refToBehavior(playerPositions),
                    models: myGLTFs,
                    textures: myTextures,
                    cubeTextures: myCubeTextures,
                    longVerb: (() => {
                      if ($72.tag === "Nothing") {
                        return silence;
                      }
                      if ($72.tag === "Just") {
                        return $72._1;
                      }
                      fail$3();
                    })(),
                    playerStatus: folded((() => {
                      const $75 = sampleBy(functorEvent)($$const)(refToBehavior(v9))(applicativeEvent.pure(unit));
                      return (tf, k) => {
                        const a$p$5 = $75(tf, k);
                        const a$p$6 = knownPlayersBus.event(tf, k);
                        return () => {
                          a$p$5();
                          return a$p$6();
                        };
                      };
                    })()),
                    optMeIn: (ms) => () => {
                      const $76 = v9.value;
                      const players = v9.value = semigroupKnownPlayers.append($Map(
                        "Two",
                        Leaf,
                        Player4,
                        $StartStatus("HasStarted", { startedAt: ms, points: 0, penalties: 0, name: Nothing }),
                        Leaf
                      ))($76);
                      return knownPlayersBus.push(players)();
                    }
                  };
                })))))));
              })))))))));
              return _bind(_liftEffect(subscribe(channelEvent.event)((chan) => {
                const $57 = _makeFiber(
                  ffiUtil$1,
                  _bind(_liftEffect(info("received channel " + showChannelChooser.show(chan))))(() => _bind(_liftEffect(bindE(() => channelUnsub.value)(identity$v)))(() => {
                    if (chan.tag === "EditorChannel") {
                      return _bind(_liftEffect(negotiation.push(StartingNegotiation)))(() => _bind(buildWantsTutorial)((wt) => _liftEffect(negotiation.push($Negotiation(
                        "OpenEditor",
                        {
                          oe: {
                            fbAuth,
                            firestoreDb: firestoreDb2,
                            goBack: channelEvent.push(NoChannel),
                            signedInNonAnonymously: dedup(eqBoolean)(signedInNonAnonymously.event)
                          },
                          wt
                        }
                      )))));
                    }
                    if (chan.tag === "TutorialChannel") {
                      return _bind(_liftEffect(negotiation.push(StartingNegotiation)))(() => _bind(buildWantsTutorial)((wt) => _liftEffect(negotiation.push($Negotiation(
                        "WantsTutorial",
                        wt
                      )))));
                    }
                    if (chan.tag === "NoChannel") {
                      return _bind(joinFiber(downloadedGLTFs))((myGLTFs) => _bind(joinFiber(downloadedCubeTextures))((myCubeTextures) => _bind(_liftEffect((() => {
                        const $61 = innerWidth(w);
                        const $62 = innerHeight(w);
                        return () => {
                          const a$p$2 = $61();
                          const a$p$3 = $62();
                          return { iw: toNumber(a$p$2), ih: toNumber(a$p$3) };
                        };
                      })()))((initialDims) => _liftEffect(negotiation.push($Negotiation(
                        "GetRulesOfGame",
                        {
                          threeDI: v8,
                          initialDims,
                          firestoreDb: firestoreDb2,
                          fbAuth,
                          models: myGLTFs,
                          signOut: (() => {
                            const $62 = _makeFiber(
                              ffiUtil$1,
                              _bind(_liftEffect(signOut(fbAuth)(() => unit)))(toAff$p(coerce))
                            );
                            return () => {
                              const fiber3 = $62();
                              fiber3.run();
                              return unit;
                            };
                          })(),
                          cubeTextures: myCubeTextures,
                          cNow: mappedCNow,
                          signedInNonAnonymously: signedInNonAnonymously.event
                        }
                      ))))));
                    }
                    if (chan.tag === "RideChannel") {
                      return _bind(_liftEffect(() => ({ value: Leaf })))((v9) => _bind(_liftEffect(create))((knownPlayersBus) => _bind(_liftEffect(negotiation.push(StartingNegotiation)))(() => _bind(_liftEffect(force4))((f4) => _bind(createRideIfNotExistsYet(firestoreDb2)(chan._1))((myChannel) => _bind(_liftEffect((() => {
                        const $64 = subscribe(eventChannelChanges(firestoreDb2)(myChannel))((ride2) => () => {
                          const $65 = v9.value;
                          const kp = v9.value = semigroupKnownPlayers.append(constructAppendableKnownPlayersFromRide(ride2))($65);
                          return knownPlayersBus.push(kp)();
                        });
                        return () => {
                          const usu = $64();
                          return channelUnsub.value = usu;
                        };
                      })()))(() => _bind(_bind(pubnub(iAm)(myChannel))((v10) => _pure({
                        publish: v10.publish,
                        event: filter((v11) => {
                          if (v11.message.iAm !== iAm) {
                            return $Maybe("Just", v11.message.action);
                          }
                          return Nothing;
                        })(v10.event)
                      })))((pubNub) => _bind(_liftEffect(() => ({ value: mempty2 })))((leapUnsubscribesRef) => _bind(_liftEffect(() => {
                        const ri = v7.renderingInfo.value;
                        return { value: initialPositions(ri) };
                      }))((playerPositions) => _bind(_liftEffect(subscribe(pubNub.event)((pevt) => {
                        if (pevt.tag === "HitLeap") {
                          return magicLeaps(leapUnsubscribesRef)(mappedCNow)(playerPositions)(refToBehavior(v7.renderingInfo))(pevt._1);
                        }
                        if (pevt.tag === "HitBasic") {
                          const $69 = updateKnownPlayerPoints(pevt._1.player)(pevt._1.outcome)(v9);
                          return () => {
                            const kp = $69();
                            logShow({ player: pevt._1.player, outcome: pevt._1.outcome, kp })();
                            return knownPlayersBus.push(kp)();
                          };
                        }
                        if (pevt.tag === "PressedStart") {
                          return () => {
                            const $69 = v9.value;
                            const kp = v9.value = semigroupKnownPlayers.append($Map(
                              "Two",
                              Leaf,
                              pevt._1.player,
                              $StartStatus("HasStarted", { name: pevt._1.name, startedAt: pevt._1.startedAt, points: 0, penalties: 0 }),
                              Leaf
                            ))($69);
                            return knownPlayersBus.push(kp)();
                          };
                        }
                        if (pevt.tag === "HitLong") {
                          return () => unit;
                        }
                        if (pevt.tag === "ReleaseLong") {
                          const $69 = updateKnownPlayerPoints(pevt._1.player)(pevt._1.outcome)(v9);
                          return () => {
                            const kp = $69();
                            return knownPlayersBus.push(kp)();
                          };
                        }
                        if (pevt.tag === "XPositionKeyboard") {
                          return (() => {
                            if (pevt._1.player.tag === "Player1") {
                              return writeToRecordImpl("p1x");
                            }
                            if (pevt._1.player.tag === "Player2") {
                              return writeToRecordImpl("p2x");
                            }
                            if (pevt._1.player.tag === "Player3") {
                              return writeToRecordImpl("p3x");
                            }
                            if (pevt._1.player.tag === "Player4") {
                              return writeToRecordImpl("p4x");
                            }
                            fail$3();
                          })()((x) => posFromKeypress(pevt._1.ktp)(x.epochTime))(playerPositions);
                        }
                        if (pevt.tag === "XPositionMobile") {
                          return (() => {
                            if (pevt._1.player.tag === "Player1") {
                              return writeToRecordImpl("p1x");
                            }
                            if (pevt._1.player.tag === "Player2") {
                              return writeToRecordImpl("p2x");
                            }
                            if (pevt._1.player.tag === "Player3") {
                              return writeToRecordImpl("p3x");
                            }
                            if (pevt._1.player.tag === "Player4") {
                              return writeToRecordImpl("p4x");
                            }
                            fail$3();
                          })()((x) => posFromOrientation(pevt._1.gtp)(x.epochTime))(playerPositions);
                        }
                        fail$3();
                      })))(() => {
                        const v10 = (() => {
                          if (parsed.tag === "Left") {
                            return Nothing;
                          }
                          if (parsed.tag === "Right") {
                            return Nothing;
                          }
                          fail$3();
                        })();
                        return _bind(getPlayerForChannel(fbAuth)(firestoreDb2)(myChannel)((() => {
                          if (v10.tag === "Just") {
                            return $Maybe("Just", v10._1);
                          }
                          if (v10.tag === "Nothing") {
                            if (f4) {
                              return $Maybe("Just", Player4);
                            }
                            return Nothing;
                          }
                          fail$3();
                        })()))((v10$1) => {
                          if (v10$1.tag === "Nothing") {
                            return _bind(_liftEffect(negotiation.push(GameHasStarted)))(() => never);
                          }
                          if (v10$1.tag === "Just") {
                            return _bind(_liftEffect(() => {
                              const $71 = v9.value;
                              v9.value = semigroupKnownPlayers.append($Map(
                                "Two",
                                Leaf,
                                v10$1._1,
                                HasNotStartedYet,
                                Leaf
                              ))($71);
                              return unit;
                            }))(() => _bind(_liftEffect((() => {
                              if (isMobile) {
                                return xForTouch(mappedCNow)(w)(v10$1._1)(pubNub.publish);
                              }
                              return xForKeyboard(mappedCNow)(w)(v10$1._1)(pubNub.publish);
                            })()))((xPosE) => _bind(_liftEffect(subscribe(xPosE)((xp) => {
                              if (v10$1._1.tag === "Player1") {
                                return writeToRecordImpl("p1x")(xp)(playerPositions);
                              }
                              if (v10$1._1.tag === "Player2") {
                                return writeToRecordImpl("p2x")(xp)(playerPositions);
                              }
                              if (v10$1._1.tag === "Player3") {
                                return writeToRecordImpl("p3x")(xp)(playerPositions);
                              }
                              if (v10$1._1.tag === "Player4") {
                                return writeToRecordImpl("p4x")(xp)(playerPositions);
                              }
                              fail$3();
                            })))(() => _bind(_liftEffect(subscribe(v3.event)((v11) => {
                              const outcome = basicOutcomeToPointOutcome(beatsToBasicOutcome(v11.deltaBeats));
                              const $76 = updateKnownPlayerPoints(v10$1._1)(outcome)(v9);
                              return () => {
                                const kp = $76();
                                knownPlayersBus.push(kp)();
                                for_((() => {
                                  const $79 = lookup$2(ordPlayer)(v10$1._1)(kp);
                                  if ($79.tag === "Just") {
                                    if ($79._1.tag === "HasNotStartedYet") {
                                      return Nothing;
                                    }
                                    if ($79._1.tag === "HasStarted") {
                                      return $Maybe("Just", $79._1._1);
                                    }
                                    fail$3();
                                  }
                                  if ($79.tag === "Nothing") {
                                    return Nothing;
                                  }
                                  fail$3();
                                })())((v12) => {
                                  const $80 = _makeFiber(
                                    ffiUtil$1,
                                    sendMyPointsAndPenaltiesToFirebase(firestoreDb2)(fbAuth)(myChannel)(v10$1._1)(v12.points)(v12.penalties)
                                  );
                                  return () => {
                                    const fiber3 = $80();
                                    fiber3.run();
                                    return unit;
                                  };
                                })();
                                return pubNub.publish($PlayerAction(
                                  "HitBasic",
                                  { uniqueId: v11.uniqueId, logicalBeat: v11.logicalBeat, deltaBeats: v11.deltaBeats, hitAt: v11.hitAt, player: v10$1._1, outcome }
                                ))();
                              };
                            })))(() => _bind(_liftEffect(subscribe(v5.event)((v11) => pubNub.publish($PlayerAction(
                              "HitLong",
                              { uniqueId: v11.uniqueId, hitAt: v11.hitAt, distance: v11.distance, player: v10$1._1 }
                            )))))(() => _bind(_liftEffect(subscribe(v6.event)((v11) => {
                              const outcome = $Either("Right", abs(2 - v11.distance) * v11.pctConsumed * 20);
                              const $78 = updateKnownPlayerPoints(v10$1._1)(outcome)(v9);
                              return () => {
                                const kp = $78();
                                knownPlayersBus.push(kp)();
                                for_((() => {
                                  const $81 = lookup$2(ordPlayer)(v10$1._1)(kp);
                                  if ($81.tag === "Just") {
                                    if ($81._1.tag === "HasNotStartedYet") {
                                      return Nothing;
                                    }
                                    if ($81._1.tag === "HasStarted") {
                                      return $Maybe("Just", $81._1._1);
                                    }
                                    fail$3();
                                  }
                                  if ($81.tag === "Nothing") {
                                    return Nothing;
                                  }
                                  fail$3();
                                })())((v12) => {
                                  const $82 = _makeFiber(
                                    ffiUtil$1,
                                    sendMyPointsAndPenaltiesToFirebase(firestoreDb2)(fbAuth)(myChannel)(v10$1._1)(v12.points)(v12.penalties)
                                  );
                                  return () => {
                                    const fiber3 = $82();
                                    fiber3.run();
                                    return unit;
                                  };
                                })();
                                return pubNub.publish($PlayerAction(
                                  "ReleaseLong",
                                  {
                                    uniqueId: v11.uniqueId,
                                    hitAt: v11.hitAt,
                                    player: v10$1._1,
                                    distance: v11.distance,
                                    pctConsumed: v11.pctConsumed,
                                    releasedAt: v11.releasedAt,
                                    outcome
                                  }
                                ))();
                              };
                            })))(() => _bind(_liftEffect(subscribe(v42.event)((v11) => {
                              const $78 = magicLeaps(leapUnsubscribesRef)(mappedCNow)(playerPositions)(refToBehavior(v7.renderingInfo))({
                                player: v10$1._1,
                                newPosition: v11.newPosition
                              });
                              return () => {
                                $78();
                                return pubNub.publish($PlayerAction(
                                  "HitLeap",
                                  { uniqueId: v11.uniqueId, hitAt: v11.hitAt, player: v10$1._1, oldPosition: v11.oldPosition, newPosition: v11.newPosition }
                                ))();
                              };
                            })))(() => {
                              const n2ot = drop(300)($List("Cons", $Tuple(chan._3._1.url, chan._3._1.url), Nil));
                              const dumb = fromFoldable1(listMap((v11) => $Tuple(v11._1, v11._2))($List(
                                "Cons",
                                $Tuple(chan._3._1.url, chan._3._1.url),
                                Nil
                              )));
                              return _bind(dlInChunks(dumb)(100)(take$1(300)($List(
                                "Cons",
                                $Tuple(chan._3._1.url, chan._3._1.url),
                                Nil
                              )))(ctx$p)(soundObj))(() => _bind(_liftEffect(loaded.push(true)))(() => _bind(dlInChunks(dumb)(100)(n2ot)(ctx$p)(soundObj))(() => _bind(_liftEffect(getItem("player-name")(stor)))((playerName) => _bind(joinFiber(downloadedTextures))((myTextures) => _bind(joinFiber(downloadedGLTFs))((myGLTFs) => _bind(joinFiber(downloadedCubeTextures))((myCubeTextures) => _bind(_liftEffect((() => {
                                const $87 = innerWidth(w);
                                const $88 = innerHeight(w);
                                return () => {
                                  const a$p$2 = $87();
                                  const a$p$3 = $88();
                                  return { iw: toNumber(a$p$2), ih: toNumber(a$p$3) };
                                };
                              })()))((initialDims) => _bind(getEventsAff(firestoreDb2)(chan._2))((ets) => _liftEffect(negotiation.push($Negotiation(
                                "Success",
                                {
                                  player: v10$1._1,
                                  trackId: chan._2,
                                  track: chan._3,
                                  events: toAugmentedEvents(arrayMap((v11) => v11.data)(ets)),
                                  initialDims,
                                  threeDI: v8,
                                  playerName,
                                  shaders: shaders2,
                                  galaxyAttributes,
                                  cNow: mappedCNow,
                                  playerPositions: refToBehavior(playerPositions),
                                  models: myGLTFs,
                                  channelName: myChannel,
                                  pubNubEvent: pubNub.event,
                                  textures: myTextures,
                                  cubeTextures: myCubeTextures,
                                  playerStatus: folded((() => {
                                    const $89 = sampleBy(functorEvent)($$const)(refToBehavior(v9))(applicativeEvent.pure(unit));
                                    return (tf, k) => {
                                      const a$p$2 = $89(tf, k);
                                      const a$p$3 = knownPlayersBus.event(tf, k);
                                      return () => {
                                        a$p$2();
                                        return a$p$3();
                                      };
                                    };
                                  })()),
                                  optMeIn: (ms) => (name) => {
                                    const thisIsMyRealName = (() => {
                                      if (name.tag === "Nothing") {
                                        return playerName;
                                      }
                                      return name;
                                    })();
                                    const $92 = for_(name)((name$p) => setItem("player-name")(name$p)(stor));
                                    return () => {
                                      $92();
                                      const $94 = v9.value;
                                      const players = v9.value = semigroupKnownPlayers.append($Map(
                                        "Two",
                                        Leaf,
                                        v10$1._1,
                                        $StartStatus("HasStarted", { startedAt: ms, points: 0, penalties: 0, name: thisIsMyRealName }),
                                        Leaf
                                      ))($94);
                                      pubNub.publish($PlayerAction("PressedStart", { startedAt: ms, name: thisIsMyRealName, player: v10$1._1 }))();
                                      return knownPlayersBus.push(players)();
                                    };
                                  }
                                }
                              ))))))))))));
                            })))))));
                          }
                          fail$3();
                        });
                      }))))))))));
                    }
                    fail$3();
                  }))
                );
                return () => {
                  const fiber3 = $57();
                  fiber3.run();
                  return unit;
                };
              })))(() => _bind(_liftEffect((() => {
                const $57 = negotiation.push(NeedsOrientation);
                if (hop) {
                  return $57;
                }
                return () => unit;
              })()))(() => _bind((() => {
                if (proposedChannel$p$p.tag === "Nothing") {
                  return _pure(NoChannel);
                }
                if (proposedChannel$p$p.tag === "Just") {
                  return _bind(getTrackAff(firestoreDb2)(proposedChannel$p$p._1._2))((track) => _pure((() => {
                    const $59 = RideChannel(proposedChannel$p$p._1._1)(proposedChannel$p$p._1._2);
                    if (track.tag === "Nothing") {
                      return NoChannel;
                    }
                    if (track.tag === "Just") {
                      return $59(track._1);
                    }
                    fail$3();
                  })()));
                }
                fail$3();
              })())((proposedChannel$p) => _bind(_liftEffect(subscribe(filter$p(identity)(oneOf([
                applicativeEvent.pure(!hop),
                orientationPerm.event
              ])))((v9) => channelEvent.push(proposedChannel$p))))(() => _bind(_liftEffect(subscribe(filter$p(identity)((b, k) => orientationPerm.event(
                b,
                (a2) => {
                  const $63 = !a2;
                  return k($63);
                }
              )))((v9) => negotiation.push(WillNotWorkWithoutOrientation))))(() => _pure(unit))))));
            }))))))))
          )();
          fiber2.run();
          return unit;
        }))
      )();
      fiber.run();
      return unit;
    }))))))
  );
  return () => {
    const fiber = $5();
    fiber.run();
    return unit;
  };
};
const butterflies = "/assets/butterflies.50d2e6a4.mp3";
const tutorial = "/assets/tutorial.28f8239c.mp3";
const shakuhachi0 = "/assets/shakuhachi0.87441ba1.mp3";
const shakuhachi1 = "/assets/shakuhachi1.467979ab.mp3";
const shakuhachi2 = "/assets/shakuhachi2.e7dcdf09.mp3";
const shakuhachi3 = "/assets/shakuhachi3.d5a25298.mp3";
const floorTom = "/assets/floorTom.72a3bc1a.mp3";
const elvedenHallLordsCloakroom = "/assets/elvedenHallLordsCloakroom.16b64111.m4a";
const audio = {
  butterflies,
  tutorial,
  shakuhachi0,
  shakuhachi1,
  shakuhachi2,
  shakuhachi3,
  floorTom,
  elvedenHallLordsCloakroom
};
const galaxyVertex = "data:application/octet-stream;base64,dW5pZm9ybSBmbG9hdCB1U2l6ZTsKdW5pZm9ybSBmbG9hdCB1VGltZTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb24yOwphdHRyaWJ1dGUgdmVjMyBhQ29sb3I7CmF0dHJpYnV0ZSB2ZWMzIGFDb2xvcjI7CnZhcnlpbmcgdmVjMiB2VXY7CiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTMyMzg0NgoKbWF0NCByb3RhdGlvblgoIGluIGZsb2F0IGFuZ2xlICkgewoJcmV0dXJuIG1hdDQoCTEuMCwJCTAsCQkJMCwJCQkwLAoJCQkgCQkwLCAJY29zKGFuZ2xlKSwJLXNpbihhbmdsZSksCQkwLAoJCQkJCTAsIAlzaW4oYW5nbGUpLAkgY29zKGFuZ2xlKSwJCTAsCgkJCQkJMCwgCQkJMCwJCQkgIDAsIAkJMSk7Cn0KCm1hdDQgcm90YXRpb25ZKCBpbiBmbG9hdCBhbmdsZSApIHsKCXJldHVybiBtYXQ0KAljb3MoYW5nbGUpLAkJMCwJCXNpbihhbmdsZSksCTAsCgkJCSAJCQkJMCwJCTEuMCwJCQkgMCwJMCwKCQkJCQktc2luKGFuZ2xlKSwJMCwJCWNvcyhhbmdsZSksCTAsCgkJCQkJCQkwLCAJCTAsCQkJCTAsCTEpOwp9CgptYXQ0IHJvdGF0aW9uWiggaW4gZmxvYXQgYW5nbGUgKSB7CglyZXR1cm4gbWF0NCgJY29zKGFuZ2xlKSwJCS1zaW4oYW5nbGUpLAkwLAkwLAoJCQkgCQlzaW4oYW5nbGUpLAkJY29zKGFuZ2xlKSwJCTAsCTAsCgkJCQkJCQkwLAkJCQkwLAkJMSwJMCwKCQkJCQkJCTAsCQkJCTAsCQkwLAkxKTsKfQoKbWF0MyByb3RNYXQoZmxvYXQgY29zdGhldGEsIHZlYzMgdmMpIHsKICBmbG9hdCBjID0gY29zdGhldGE7CiAgZmxvYXQgcyA9IHNxcnQoMS4wLShjKmMpKTsKICBmbG9hdCBDID0gMS4wLWM7CiAgZmxvYXQgeCA9IHZjLng7CiAgZmxvYXQgeSA9IHZjLnk7CiAgZmxvYXQgeiA9IHZjLno7CiAgbWF0MyBvdXR2OwogIG91dHZbMF1bMF0gPSB4KngqQytjOwogIG91dHZbMV1bMF0gPSB4KnkqQy16KnM7CiAgb3V0dlsyXVswXSA9IHgqeipDK3kqczsKICBvdXR2WzFdWzBdID0geSp4KkMreipzOwogIG91dHZbMV1bMV0gPSB5KnkqQytjOwogIG91dHZbMV1bMl0gPSB5KnoqQy14KnM7CiAgb3V0dlsyXVswXSA9IHoqeCpDLXkqczsKICBvdXR2WzJdWzFdID0geip5KkMreCpzOwogIG91dHZbMl1bMl0gPSB6KnoqQytjOwogIHJldHVybiBvdXR2Owp9CgpmbG9hdCBta1NpblRpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gc2luKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueCAqIDAuMDMpICsgZnV6ei55ICogUEkpICogMC41ICsgMC41Owp9CgpmbG9hdCBta0Nvc1RpbWUgKGZsb2F0IHVUaW1lLCB2ZWMzIGZ1enopIHsKICByZXR1cm4gY29zKHVUaW1lICogUEkgKiAoMC4wNCArIGZ1enoueSAqIDAuMDMpICsgZnV6ei56ICogUEkpICogMC41ICsgMC41Owp9Cgp2b2lkIG1haW4oKSB7CiAgZmxvYXQgZHQgPSAwLjAyOwogIGZsb2F0IHNpblRpbWUgPSBta1NpblRpbWUodVRpbWUsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZSA9IG1rQ29zVGltZSh1VGltZSwgYVBvc2l0aW9uKTsKICBmbG9hdCBzaW5UaW1lRnV0dXJlID0gbWtTaW5UaW1lKHVUaW1lICsgZHQsIGFQb3NpdGlvbik7CiAgZmxvYXQgY29zVGltZUZ1dHVyZSA9IG1rQ29zVGltZSh1VGltZSArIGR0LCBhUG9zaXRpb24pOwogIGZsb2F0IHNpblRpbWUyID0gc2luKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IGNvc1RpbWUyID0gY29zKHVUaW1lICogUEkgKiAwLjUpICogMC41ICsgMC41OwogIGZsb2F0IHNpblRpbWUzID0gc2luKHVUaW1lICogUEkgKiA2LjAgKiBhUG9zaXRpb24ueikgKiAwLjUgKyAwLjU7CiAgdmVjMyBtb2RQb3NpdGlvbjsKICBmbG9hdCBmbGFwRmFjdG9yID0gMC43NTsKICBtb2RQb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqIHNpblRpbWUzICogLTEuMCAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi54OwogIG1vZFBvc2l0aW9uLnkgPSBwb3NpdGlvbi55OwogIG1vZFBvc2l0aW9uLnogPSBhYnMocG9zaXRpb24ueCkgKiBzaW5UaW1lMyAqIGZsYXBGYWN0b3IgKyBwb3NpdGlvbi56OwogIG1hdDQgc2NhbGVNYXRyaXggPSBtYXQ0KDEuMCk7CiAgc2NhbGVNYXRyaXhbMF1bMF0gPSAwLjA1OwogIHNjYWxlTWF0cml4WzFdWzFdID0gMC4wNTsKICBzY2FsZU1hdHJpeFsyXVsyXSA9IDAuMDU7CiAgbWF0NCB0cmFuc2xhdGlvbk1hdHJpeCA9IG1hdDQoMS4wKTsKICBmbG9hdCB4bm93ID0gbWl4KGFQb3NpdGlvbi54ICogMi4wLCBhUG9zaXRpb24yLnggKiAyLjAsIHNpblRpbWUpOwogIGZsb2F0IHlub3cgPSBtaXgoYVBvc2l0aW9uLnkgKiAyLjAsIGFQb3NpdGlvbjIueSAqIDIuMCwgY29zVGltZSk7CiAgZmxvYXQgem5vdyA9IC0yLjAgKyBtaXgoYVBvc2l0aW9uLnogKiAyLjAsIGFQb3NpdGlvbjIueiAqIDIuMCwgc2luVGltZSk7CiAgZmxvYXQgeEZ1dHVyZSA9IG1peChhUG9zaXRpb24ueCAqIDIuMCwgYVBvc2l0aW9uMi54ICogMi4wLCBzaW5UaW1lRnV0dXJlKTsKICBmbG9hdCB5RnV0dXJlID0gbWl4KGFQb3NpdGlvbi55ICogMi4wLCBhUG9zaXRpb24yLnkgKiAyLjAsIGNvc1RpbWVGdXR1cmUpOwogIGZsb2F0IHpGdXR1cmUgPSAtMi4wICsgbWl4KGFQb3NpdGlvbi56ICogMi4wLCBhUG9zaXRpb24yLnogKiAyLjAsIHNpblRpbWVGdXR1cmUpOwogIGZsb2F0IHhWZWwgPSAoeEZ1dHVyZSAtIHhub3cpIC8gZHQ7CiAgZmxvYXQgeVZlbCA9ICh5RnV0dXJlIC0geW5vdykgLyBkdDsKICBmbG9hdCB6VmVsID0gKHpGdXR1cmUgLSB6bm93KSAvIGR0OwogIHZlYzMgdmVsID0gbm9ybWFsaXplKHZlYzMoeFZlbCwgeVZlbCwgelZlbCkpOwogIHZlYzMgTSA9IHZlYzMoMC4wLCAwLjAsIDEuMCk7CiAgdmVjMyBOID0gTSAtICh2ZWMzKDAuMCwgMS4wLCAwLjApIC0gdmVsKTsKICBmbG9hdCBjb3N0aGV0YSA9IGRvdChNLE4pLyhsZW5ndGgoTSkqbGVuZ3RoKE4pKTsKICB2ZWMzIGNyb3NzTU4gPSBjcm9zcyhNLCBOKTsKICB2ZWMzIGF4aXMgPSBjcm9zc01OIC8gbGVuZ3RoKGNyb3NzTU4pOwogIHRyYW5zbGF0aW9uTWF0cml4WzNdWzBdID0geG5vdzsKICB0cmFuc2xhdGlvbk1hdHJpeFszXVsxXSA9IHlub3c7CiAgdHJhbnNsYXRpb25NYXRyaXhbM11bMl0gPSB6bm93OwogIHZVdiA9IHV2OwogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogIHNjYWxlTWF0cml4ICogdmVjNChyb3RNYXQoY29zdGhldGEsIGNyb3NzTU4pICogbW9kUG9zaXRpb24sIDEuMCk7CiAgdkNvbG9yID0gdmVjMyhtaXgoYUNvbG9yLngsYUNvbG9yMi54LHNpblRpbWUyKSwgbWl4KGFDb2xvci55LGFDb2xvcjIueSxjb3NUaW1lMiksIG1peChhQ29sb3IueixhQ29sb3IyLnosc2luVGltZTIpKTsKfQ==";
const galaxyFragment = "data:application/octet-stream;base64,dW5pZm9ybSBzYW1wbGVyMkQgdUJ1dHRlcmZseTsKdmFyeWluZyB2ZWMzIHZDb2xvcjsKdmFyeWluZyB2ZWMyIHZVdjsKCnZvaWQgbWFpbigpIHsKICAgIC8vIExpZ2h0IHBvaW50CiAgICAvLyBkaXN0YW5jZSBmcm9tIGNlbnRlcgogICAgLy9mbG9hdCBzdHJlbmd0aCA9IGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoMC41KSk7CiAgICAvL2Zsb2F0IHN0cmVuZ3RoID0gZGlzdGFuY2UodlV2LCB2ZWMyKDAuNSkpOwogICAgLy8gYnJpZ2h0ZXN0IGF0IGNlbnRlcgogICAgLy8gc3RyZW5ndGggPSAxLjAgLSBzdHJlbmd0aDsKICAgIC8vIGZhc3QgZmFsbCBvZmYKICAgIC8vIHN0cmVuZ3RoID0gcG93KHN0cmVuZ3RoLCAxMC4wKTsKICAgIC8vIGFtcCB1cCB0byBvdXIgZGVzaXJlZCBjb2xvciBiYXNlZCBvbiBzdHJlbmd0aAogICAgLy92ZWM0IGNvbG9yUmF3ID0gdGV4dHVyZTJEKHVCdXR0ZXJmbHksIHZlYzIoZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnkpKTsKICAgIHZlYzQgY29sb3JSYXcgPSB0ZXh0dXJlMkQodUJ1dHRlcmZseSwgdlV2KTsKICAgIHZlYzQgY29sb3IgPSB2ZWM0KG1peCh2Q29sb3IueCwgY29sb3JSYXcueCwgMC41KSwgbWl4KHZDb2xvci55LCBjb2xvclJhdy55LCAwLjUpLCBtaXgodkNvbG9yLnosIGNvbG9yUmF3LnosIDAuNSksIGNvbG9yUmF3LmEgKiAwLjgpOwogICAgLy92ZWM0IGNvbG9yID0gY29sb3JSYXc7CiAgICAvLyB2ZWMzIGNvbG9yMyA9IG1peCh2ZWMzKDAuMCksIHZDb2xvciwgc3RyZW5ndGgpOwogICAgLy8gdmVjNCBjb2xvciA9IHZlYzQoY29sb3IzLCAxLjApOwogICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn0=";
const shaders = {
  galaxy: { vertex: galaxyVertex, fragment: galaxyFragment }
};
const skyboxBack = "/assets/back.8d9e29a9.png";
const skyboxBottom = "/assets/bottom.12fd9dfa.png";
const skyboxFront = "/assets/front.0bb4245b.png";
const skyboxLeft = "/assets/left.9c5ded93.png";
const skyboxRight = "/assets/right.dc686941.png";
const skyboxTop = "/assets/top.56ee4123.png";
const cubeTextures = {
  skybox: {
    back: skyboxBack,
    bottom: skyboxBottom,
    front: skyboxFront,
    left: skyboxLeft,
    right: skyboxRight,
    top: skyboxTop
  }
};
const textures = {};
const models = {
  spaceship: "./models/spaceship26_mod.gltf"
};
main(models)(shaders)(cubeTextures)(textures)(audio)();
export {
  getDefaultExportFromCjs as g
};
