import{g as dt}from"./index.1b360c49.js";function pt(ke,Ce){for(var S=0;S<Ce.length;S++){const i=Ce[S];if(typeof i!="string"&&!Array.isArray(i)){for(const u in i)if(u!=="default"&&!(u in ke)){const c=Object.getOwnPropertyDescriptor(i,u);c&&Object.defineProperty(ke,u,c.get?c:{enumerable:!0,get:()=>i[u]})}}}return Object.freeze(Object.defineProperty(ke,Symbol.toStringTag,{value:"Module"}))}var De={exports:{}};/*! 5.0.1 / Consumer  */(function(ke,Ce){(function(S,i){ke.exports=i()})(window,function(){return function(S){var i={};function u(c){if(i[c])return i[c].exports;var b=i[c]={i:c,l:!1,exports:{}};return S[c].call(b.exports,b,b.exports,u),b.l=!0,b.exports}return u.m=S,u.c=i,u.d=function(c,b,p){u.o(c,b)||Object.defineProperty(c,b,{enumerable:!0,get:p})},u.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},u.t=function(c,b){if(1&b&&(c=u(c)),8&b||4&b&&typeof c=="object"&&c&&c.__esModule)return c;var p=Object.create(null);if(u.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:c}),2&b&&typeof c!="string")for(var o in c)u.d(p,o,function(t){return c[t]}.bind(null,o));return p},u.n=function(c){var b=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(b,"a",b),b},u.o=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)},u.p="",u(u.s=31)}([function(S,i){S.exports=function(u){return u&&u.__esModule?u:{default:u}},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNMessageCounts:"PNMessageCountsOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNSignalOperation:"PNSignalOperation",PNAddMessageActionOperation:"PNAddActionOperation",PNRemoveMessageActionOperation:"PNRemoveMessageActionOperation",PNGetMessageActionsOperation:"PNGetMessageActionsOperation",PNCreateUserOperation:"PNCreateUserOperation",PNUpdateUserOperation:"PNUpdateUserOperation",PNDeleteUserOperation:"PNDeleteUserOperation",PNGetUserOperation:"PNGetUsersOperation",PNGetUsersOperation:"PNGetUsersOperation",PNCreateSpaceOperation:"PNCreateSpaceOperation",PNUpdateSpaceOperation:"PNUpdateSpaceOperation",PNDeleteSpaceOperation:"PNDeleteSpaceOperation",PNGetSpaceOperation:"PNGetSpacesOperation",PNGetSpacesOperation:"PNGetSpacesOperation",PNGetMembersOperation:"PNGetMembersOperation",PNUpdateMembersOperation:"PNUpdateMembersOperation",PNGetMembershipsOperation:"PNGetMembershipsOperation",PNUpdateMembershipsOperation:"PNUpdateMembershipsOperation",PNListFilesOperation:"PNListFilesOperation",PNGenerateUploadUrlOperation:"PNGenerateUploadUrlOperation",PNPublishFileOperation:"PNPublishFileOperation",PNGetFileUrlOperation:"PNGetFileUrlOperation",PNDownloadFileOperation:"PNDownloadFileOperation",PNGetAllUUIDMetadataOperation:"PNGetAllUUIDMetadataOperation",PNGetUUIDMetadataOperation:"PNGetUUIDMetadataOperation",PNSetUUIDMetadataOperation:"PNSetUUIDMetadataOperation",PNRemoveUUIDMetadataOperation:"PNRemoveUUIDMetadataOperation",PNGetAllChannelMetadataOperation:"PNGetAllChannelMetadataOperation",PNGetChannelMetadataOperation:"PNGetChannelMetadataOperation",PNSetChannelMetadataOperation:"PNSetChannelMetadataOperation",PNRemoveChannelMetadataOperation:"PNRemoveChannelMetadataOperation",PNSetMembersOperation:"PNSetMembersOperation",PNSetMembershipsOperation:"PNSetMembershipsOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerGrantToken:"PNAccessManagerGrantToken",PNAccessManagerAudit:"PNAccessManagerAudit",PNAccessManagerRevokeToken:"PNAccessManagerRevokeToken",PNHandshakeOperation:"PNHandshakeOperation",PNReceiveMessagesOperation:"PNReceiveMessagesOperation"},S.exports=i.default},function(S,i,u){S.exports={}},function(S,i,u){(function(c){function b(t){return encodeURIComponent(t).replace(/[!~*'()]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}function p(t){return function(e){var n=[];return Object.keys(e).forEach(function(r){return n.push(r)}),n}(t).sort()}var o=`The Objects v1 API has been deprecated.
You can learn more about Objects v2 API at https://www.pubnub.com/docs/web-javascript/api-reference-objects.
If you have questions about the Objects v2 API or require additional help with migrating to the new data model, please contact PubNub Support at support@pubnub.com.`;S.exports={signPamFromParams:function(t){return p(t).map(function(e){return"".concat(e,"=").concat(b(t[e]))}).join("&")},endsWith:function(t,e){return t.indexOf(e,this.length-e.length)!==-1},createPromise:function(){var t,e;return{promise:new Promise(function(n,r){t=n,e=r}),reject:e,fulfill:t}},encodeString:b,deprecated:function(t){return function(){var e,n;return c!==void 0&&((e=c)===null||e===void 0||(n=e.env)===null||n===void 0?void 0:"production")!=="test"&&console.warn(o),t.apply(void 0,arguments)}}}}).call(this,u(42))},function(S,i){S.exports=function(u,c,b){return c in u?Object.defineProperty(u,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):u[c]=b,u},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function u(c,b){for(var p=0;p<b.length;p++){var o=b[p];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(c,o.key,o)}}S.exports=function(c,b,p){return b&&u(c.prototype,b),p&&u(c,p),c},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function u(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(S.exports=u=function(b){return typeof b},S.exports.default=S.exports,S.exports.__esModule=!0):(S.exports=u=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},S.exports.default=S.exports,S.exports.__esModule=!0),u(c)}S.exports=u,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=c(u(17)),e=(u(2),function(){function n(r){var a,l,g,v=r.setup;if((0,b.default)(this,n),(0,o.default)(this,"subscribeKey",void 0),(0,o.default)(this,"publishKey",void 0),(0,o.default)(this,"secretKey",void 0),(0,o.default)(this,"cipherKey",void 0),(0,o.default)(this,"authKey",void 0),(0,o.default)(this,"UUID",void 0),(0,o.default)(this,"proxy",void 0),(0,o.default)(this,"instanceId",void 0),(0,o.default)(this,"sdkName",void 0),(0,o.default)(this,"sdkFamily",void 0),(0,o.default)(this,"partnerId",void 0),(0,o.default)(this,"filterExpression",void 0),(0,o.default)(this,"suppressLeaveEvents",void 0),(0,o.default)(this,"secure",void 0),(0,o.default)(this,"origin",void 0),(0,o.default)(this,"logVerbosity",void 0),(0,o.default)(this,"useInstanceId",void 0),(0,o.default)(this,"useRequestId",void 0),(0,o.default)(this,"keepAlive",void 0),(0,o.default)(this,"keepAliveSettings",void 0),(0,o.default)(this,"autoNetworkDetection",void 0),(0,o.default)(this,"announceSuccessfulHeartbeats",void 0),(0,o.default)(this,"announceFailedHeartbeats",void 0),(0,o.default)(this,"_presenceTimeout",void 0),(0,o.default)(this,"_heartbeatInterval",void 0),(0,o.default)(this,"_subscribeRequestTimeout",void 0),(0,o.default)(this,"_transactionalRequestTimeout",void 0),(0,o.default)(this,"_useSendBeacon",void 0),(0,o.default)(this,"_PNSDKSuffix",void 0),(0,o.default)(this,"requestMessageCountThreshold",void 0),(0,o.default)(this,"restore",void 0),(0,o.default)(this,"dedupeOnSubscribe",void 0),(0,o.default)(this,"maximumCacheSize",void 0),(0,o.default)(this,"customEncrypt",void 0),(0,o.default)(this,"customDecrypt",void 0),(0,o.default)(this,"fileUploadPublishRetryLimit",void 0),(0,o.default)(this,"useRandomIVs",void 0),(0,o.default)(this,"enableSubscribeBeta",void 0),this._PNSDKSuffix={},this.instanceId="pn-".concat(t.default.createUUID()),this.secretKey=v.secretKey||v.secret_key,this.subscribeKey=v.subscribeKey||v.subscribe_key,this.publishKey=v.publishKey||v.publish_key,this.sdkName=v.sdkName,this.sdkFamily=v.sdkFamily,this.partnerId=v.partnerId,this.setAuthKey(v.authKey),this.setCipherKey(v.cipherKey),this.setFilterExpression(v.filterExpression),typeof v.origin!="string"&&!Array.isArray(v.origin)&&v.origin!==void 0)throw new Error("Origin must be either undefined, a string or a list of strings.");if(this.origin=v.origin||Array.from({length:20},function(_,O){return"ps".concat(O+1,".pndsn.com")}),this.secure=v.ssl||!1,this.restore=v.restore||!1,this.proxy=v.proxy,this.keepAlive=v.keepAlive,this.keepAliveSettings=v.keepAliveSettings,this.autoNetworkDetection=v.autoNetworkDetection||!1,this.dedupeOnSubscribe=v.dedupeOnSubscribe||!1,this.maximumCacheSize=v.maximumCacheSize||100,this.customEncrypt=v.customEncrypt,this.customDecrypt=v.customDecrypt,this.fileUploadPublishRetryLimit=(a=v.fileUploadPublishRetryLimit)!==null&&a!==void 0?a:5,this.useRandomIVs=(l=v.useRandomIVs)===null||l===void 0||l,this.enableSubscribeBeta=(g=v.enableSubscribeBeta)!==null&&g!==void 0&&g,v.enableSubscribeBeta&&v.enableSubscribeBeta===!0)throw new Error("not implemented");typeof location<"u"&&location.protocol==="https:"&&(this.secure=!0),this.logVerbosity=v.logVerbosity||!1,this.suppressLeaveEvents=v.suppressLeaveEvents||!1,this.announceFailedHeartbeats=v.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=v.announceSuccessfulHeartbeats||!1,this.useInstanceId=v.useInstanceId||!1,this.useRequestId=v.useRequestId||!1,this.requestMessageCountThreshold=v.requestMessageCountThreshold,this.setTransactionTimeout(v.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(v.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(v.useSendBeacon||!0),v.presenceTimeout?this.setPresenceTimeout(v.presenceTimeout):this._presenceTimeout=300,v.heartbeatInterval!=null&&this.setHeartbeatInterval(v.heartbeatInterval),this.setUUID(v.uuid)}return(0,p.default)(n,[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(r){return this.authKey=r,this}},{key:"setCipherKey",value:function(r){return this.cipherKey=r,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(r){if(!r||typeof r!="string"||r.trim().length===0)throw new Error("Missing uuid parameter. Provide a valid string uuid");return this.UUID=r,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(r){return this.filterExpression=r,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(r){return r>=20?this._presenceTimeout=r:(this._presenceTimeout=20,console.log("WARNING: Presence timeout is less than the minimum. Using minimum value: ",this._presenceTimeout)),this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(r){this.proxy=r}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(r){return this._heartbeatInterval=r,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(r){return this._subscribeRequestTimeout=r,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(r){return this._transactionalRequestTimeout=r,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(r){return this._useSendBeacon=r,this}},{key:"getVersion",value:function(){return"5.0.1"}},{key:"_addPnsdkSuffix",value:function(r,a){this._PNSDKSuffix[r]=a}},{key:"_getPnsdkSuffix",value:function(r){var a=this;return Object.keys(this._PNSDKSuffix).reduce(function(l,g){return l+r+a._PNSDKSuffix[g]},"")}}]),n}());i.default=e,S.exports=i.default},function(S,i,u){var c=u(80),b=u(81),p=u(82),o=u(84);S.exports=function(t,e){return c(t)||b(t,e)||p(t,e)||o()},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},S.exports=i.default},function(S,i,u){S.exports=u(75)},function(S,i){function u(c,b,p,o,t,e,n){try{var r=c[e](n),a=r.value}catch(l){return void p(l)}r.done?b(a):Promise.resolve(a).then(o,t)}S.exports=function(c){return function(){var b=this,p=arguments;return new Promise(function(o,t){var e=c.apply(b,p);function n(a){u(e,o,t,n,r,"next",a)}function r(a){u(e,o,t,n,r,"throw",a)}n(void 0)})}},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function u(c){return S.exports=u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},S.exports.default=S.exports,S.exports.__esModule=!0,u(c)}S.exports=u,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(15);S.exports=function(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&c(b,p)},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){function u(c,b){return S.exports=u=Object.setPrototypeOf||function(p,o){return p.__proto__=o,p},S.exports.default=S.exports,S.exports.__esModule=!0,u(c,b)}S.exports=u,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(7).default,b=u(22);S.exports=function(p,o){if(o&&(c(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(p)},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(34)),p={createUUID:function(){return b.default.uuid?b.default.uuid():(0,b.default)()}};i.default=p,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.PubNubError=void 0,i.createValidationError=k,i.default=function(f,s){var h=f.networking,P=f.config,M=f.telemetryManager,C=f.tokenManager,I=r.default.createUUID(),E=null,F=null,L={};s.getOperation()===l.default.PNTimeOperation||s.getOperation()===l.default.PNChannelGroupsOperation?E=arguments.length<=2?void 0:arguments[2]:(L=arguments.length<=2?void 0:arguments[2],E=arguments.length<=3?void 0:arguments[3]),typeof Promise>"u"||E||(F=a.default.createPromise());var H=s.validateParams(f,L);if(H)return E?E(k(H)):F?(F.reject(new A("Validation failed, check status for details",k(H))),F.promise):void 0;var B,V=s.prepareParams(f,L),$=j(s,f,L),X={url:$,operation:s.getOperation(),timeout:s.getRequestTimeout(f),headers:s.getRequestHeaders?s.getRequestHeaders():{},ignoreBody:typeof s.ignoreBody=="function"&&s.ignoreBody(f),forceBuffered:typeof s.forceBuffered=="function"?s.forceBuffered(f,L):null,abortSignal:typeof s.getAbortSignal=="function"?s.getAbortSignal(f,L):null};V.uuid=P.UUID,V.pnsdk=x(P);var ee=M.operationsLatencyForRequest();if(Object.keys(ee).length&&(V=_(_({},V),ee)),P.useInstanceId&&(V.instanceid=P.instanceId),P.useRequestId&&(V.requestid=I),s.isAuthSupported()){var q=C.getToken()||P.getAuthKey();q&&(V.auth=q)}P.secretKey&&d(f,$,V,L,s);var z=function(G,y){var m;if(G.error)return s.handleError&&s.handleError(f,L,G),void(E?E(G):F&&F.reject(new A("PubNub call failed, check status for details",G)));M.stopLatencyMeasure(s.getOperation(),I);var w=s.handleResponse(f,y,L);typeof((m=w)===null||m===void 0?void 0:m.then)!="function"&&(w=Promise.resolve(w)),w.then(function(N){E?E(G,N):F&&F.fulfill(N)}).catch(function(N){if(E){var U=N;s.getOperation()===l.default.PNSubscribeOperation&&(U={statusCode:400,error:!0,operation:s.getOperation(),errorData:N,category:g.default.PNUnknownCategory}),E(U,null)}else F&&F.reject(new A("PubNub call failed, check status for details",N))})};if(M.startLatencyMeasure(s.getOperation(),I),T(f,s,L)==="POST"){var D=s.postPayload(f,L);B=h.POST(V,D,X,z)}else if(T(f,s,L)==="PATCH"){var R=s.patchPayload(f,L);B=h.PATCH(V,R,X,z)}else B=T(f,s,L)==="DELETE"?h.DELETE(V,X,z):T(f,s,L)==="GETFILE"?h.GETFILE(V,X,z):h.GET(V,X,z);if(s.getOperation()===l.default.PNSubscribeOperation)return B;if(F)return F.promise},i.generatePNSDK=x,i.signRequest=d;var b=c(u(4)),p=c(u(5)),o=c(u(14)),t=c(u(16)),e=c(u(13)),n=c(u(48)),r=c(u(17)),a=(u(2),c(u(3))),l=(c(u(8)),c(u(1))),g=c(u(10));function v(f,s){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(f);s&&(P=P.filter(function(M){return Object.getOwnPropertyDescriptor(f,M).enumerable})),h.push.apply(h,P)}return h}function _(f){for(var s=1;s<arguments.length;s++){var h=arguments[s]!=null?arguments[s]:{};s%2?v(Object(h),!0).forEach(function(P){(0,b.default)(f,P,h[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):v(Object(h)).forEach(function(P){Object.defineProperty(f,P,Object.getOwnPropertyDescriptor(h,P))})}return f}function O(f){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var h,P=(0,e.default)(f);if(s){var M=(0,e.default)(this).constructor;h=Reflect.construct(P,arguments,M)}else h=P.apply(this,arguments);return(0,t.default)(this,h)}}var A=function(f){(0,o.default)(h,f);var s=O(h);function h(P,M){var C;return(0,p.default)(this,h),(C=s.call(this,P)).name=C.constructor.name,C.status=M,C.message=P,C}return h}((0,n.default)(Error));function k(f){return(s={message:f}).type="validationError",s.error=!0,s;var s}function j(f,s,h){return f.usePost&&f.usePost(s,h)?f.postURL(s,h):f.usePatch&&f.usePatch(s,h)?f.patchURL(s,h):f.useGetFile&&f.useGetFile(s,h)?f.getFileURL(s,h):f.getURL(s,h)}function x(f){if(f.sdkName)return f.sdkName;var s="PubNub-JS-".concat(f.sdkFamily);f.partnerId&&(s+="-".concat(f.partnerId)),s+="/".concat(f.getVersion());var h=f._getPnsdkSuffix(" ");return h.length>0&&(s+=h),s}function T(f,s,h){return s.usePost&&s.usePost(f,h)?"POST":s.usePatch&&s.usePatch(f,h)?"PATCH":s.useDelete&&s.useDelete(f,h)?"DELETE":s.useGetFile&&s.useGetFile(f,h)?"GETFILE":"GET"}function d(f,s,h,P,M){var C=f.config,I=f.crypto,E=T(f,M,P);h.timestamp=Math.floor(new Date().getTime()/1e3),M.getOperation()==="PNPublishOperation"&&M.usePost&&M.usePost(f,P)&&(E="GET"),E==="GETFILE"&&(E="GET");var F="".concat(E,`
`).concat(C.publishKey,`
`).concat(s,`
`).concat(a.default.signPamFromParams(h),`
`);if(E==="POST"){var L=M.postPayload(f,P);F+=typeof L=="string"?L:JSON.stringify(L)}else if(E==="PATCH"){var H=M.patchPayload(f,P);F+=typeof H=="string"?H:JSON.stringify(H)}var B="v2.".concat(I.HMACSHA256(F));B=(B=(B=B.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/=+$/,""),h.signature=B}i.PubNubError=A},function(S,i,u){var c=SyntaxError,b=Function,p=TypeError,o=function(P){try{return b('"use strict"; return ('+P+").constructor;")()}catch{}},t=Object.getOwnPropertyDescriptor;if(t)try{t({},"")}catch{t=null}var e=function(){throw new p},n=t?function(){try{return e}catch{try{return t(arguments,"callee").get}catch{return e}}}():e,r=u(138)(),a=Object.getPrototypeOf||function(P){return P.__proto__},l={},g=typeof Uint8Array>"u"?void 0:a(Uint8Array),v={"%AggregateError%":typeof AggregateError>"u"?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":r?a([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%BigInt%":typeof BigInt>"u"?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?void 0:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?a(a([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&r?a(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&r?a(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?a(""[Symbol.iterator]()):void 0,"%Symbol%":r?Symbol:void 0,"%SyntaxError%":c,"%ThrowTypeError%":n,"%TypedArray%":g,"%TypeError%":p,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?void 0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=u(20),A=u(141),k=O.call(Function.call,Array.prototype.concat),j=O.call(Function.apply,Array.prototype.splice),x=O.call(Function.call,String.prototype.replace),T=O.call(Function.call,String.prototype.slice),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,f=/\\(\\)?/g,s=function(P){var M=T(P,0,1),C=T(P,-1);if(M==="%"&&C!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(C==="%"&&M!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var I=[];return x(P,d,function(E,F,L,H){I[I.length]=L?x(H,f,"$1"):F||E}),I},h=function(P,M){var C,I=P;if(A(_,I)&&(I="%"+(C=_[I])[0]+"%"),A(v,I)){var E=v[I];if(E===l&&(E=function F(L){var H;if(L==="%AsyncFunction%")H=o("async function () {}");else if(L==="%GeneratorFunction%")H=o("function* () {}");else if(L==="%AsyncGeneratorFunction%")H=o("async function* () {}");else if(L==="%AsyncGenerator%"){var B=F("%AsyncGeneratorFunction%");B&&(H=B.prototype)}else if(L==="%AsyncIteratorPrototype%"){var V=F("%AsyncGenerator%");V&&(H=a(V.prototype))}return v[L]=H,H}(I)),E===void 0&&!M)throw new p("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:C,name:I,value:E}}throw new c("intrinsic "+P+" does not exist!")};S.exports=function(P,M){if(typeof P!="string"||P.length===0)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof M!="boolean")throw new p('"allowMissing" argument must be a boolean');var C=s(P),I=C.length>0?C[0]:"",E=h("%"+I+"%",M),F=E.name,L=E.value,H=!1,B=E.alias;B&&(I=B[0],j(C,k([0,1],B)));for(var V=1,$=!0;V<C.length;V+=1){var X=C[V],ee=T(X,0,1),q=T(X,-1);if((ee==='"'||ee==="'"||ee==="`"||q==='"'||q==="'"||q==="`")&&ee!==q)throw new c("property names with quotes must have matching quotes");if(X!=="constructor"&&$||(H=!0),A(v,F="%"+(I+="."+X)+"%"))L=v[F];else if(L!=null){if(!(X in L)){if(!M)throw new p("base intrinsic for "+P+" exists, but the property is not available.");return}if(t&&V+1>=C.length){var z=t(L,X);L=($=!!z)&&"get"in z&&!("originalValue"in z.get)?z.get:L[X]}else $=A(L,X),L=L[X];$&&!H&&(v[F]=L)}}return L}},function(S,i,u){var c=u(140);S.exports=Function.prototype.bind||c},function(S,i,u){var c=String.prototype.replace,b=/%20/g,p="RFC1738",o="RFC3986";S.exports={default:o,formatters:{RFC1738:function(t){return c.call(t,b,"+")},RFC3986:function(t){return String(t)}},RFC1738:p,RFC3986:o}},function(S,i){S.exports=function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){(function(c){var b=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var p=b(u(5)),o=b(u(6)),t=b(u(4)),e=(b(u(8)),b(u(25)));function n(a){var l,g=[];for(l=0;l<a.length;l+=1)g[l/4|0]|=a[l]<<24-8*l;return e.default.lib.WordArray.create(g,a.length)}var r=function(){function a(l){var g=l.config;(0,p.default)(this,a),(0,t.default)(this,"_config",void 0),(0,t.default)(this,"_iv",void 0),(0,t.default)(this,"_allowedKeyEncodings",void 0),(0,t.default)(this,"_allowedKeyLengths",void 0),(0,t.default)(this,"_allowedModes",void 0),(0,t.default)(this,"_defaultOptions",void 0),this._config=g,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return(0,o.default)(a,[{key:"HMACSHA256",value:function(l){return e.default.HmacSHA256(l,this._config.secretKey).toString(e.default.enc.Base64)}},{key:"SHA256",value:function(l){return e.default.SHA256(l).toString(e.default.enc.Hex)}},{key:"_parseOptions",value:function(l){var g=l||{};return g.hasOwnProperty("encryptKey")||(g.encryptKey=this._defaultOptions.encryptKey),g.hasOwnProperty("keyEncoding")||(g.keyEncoding=this._defaultOptions.keyEncoding),g.hasOwnProperty("keyLength")||(g.keyLength=this._defaultOptions.keyLength),g.hasOwnProperty("mode")||(g.mode=this._defaultOptions.mode),this._allowedKeyEncodings.indexOf(g.keyEncoding.toLowerCase())===-1&&(g.keyEncoding=this._defaultOptions.keyEncoding),this._allowedKeyLengths.indexOf(parseInt(g.keyLength,10))===-1&&(g.keyLength=this._defaultOptions.keyLength),this._allowedModes.indexOf(g.mode.toLowerCase())===-1&&(g.mode=this._defaultOptions.mode),g}},{key:"_decodeKey",value:function(l,g){return g.keyEncoding==="base64"?e.default.enc.Base64.parse(l):g.keyEncoding==="hex"?e.default.enc.Hex.parse(l):l}},{key:"_getPaddedKey",value:function(l,g){return l=this._decodeKey(l,g),g.encryptKey?e.default.enc.Utf8.parse(this.SHA256(l).slice(0,32)):l}},{key:"_getMode",value:function(l){return l.mode==="ecb"?e.default.mode.ECB:e.default.mode.CBC}},{key:"_getIV",value:function(l){return l.mode==="cbc"?e.default.enc.Utf8.parse(this._iv):null}},{key:"_getRandomIV",value:function(){return e.default.lib.WordArray.random(16)}},{key:"encrypt",value:function(l,g,v){return this._config.customEncrypt?this._config.customEncrypt(l):this.pnEncrypt(l,g,v)}},{key:"decrypt",value:function(l,g,v){return this._config.customDecrypt?this._config.customDecrypt(l):this.pnDecrypt(l,g,v)}},{key:"pnEncrypt",value:function(l,g,v){if(!g&&!this._config.cipherKey)return l;v=this._parseOptions(v);var _=this._getMode(v),O=this._getPaddedKey(g||this._config.cipherKey,v);if(this._config.useRandomIVs){var A=this._getRandomIV(),k=e.default.AES.encrypt(l,O,{iv:A,mode:_}).ciphertext;return A.clone().concat(k.clone()).toString(e.default.enc.Base64)}var j=this._getIV(v);return e.default.AES.encrypt(l,O,{iv:j,mode:_}).ciphertext.toString(e.default.enc.Base64)||l}},{key:"pnDecrypt",value:function(l,g,v){if(!g&&!this._config.cipherKey)return l;v=this._parseOptions(v);var _=this._getMode(v),O=this._getPaddedKey(g||this._config.cipherKey,v);if(this._config.useRandomIVs){var A=c.from(l,"base64"),k=n(A.slice(0,16)),j=n(A.slice(16));try{var x=e.default.AES.decrypt({ciphertext:j},O,{iv:k,mode:_}).toString(e.default.enc.Utf8);return JSON.parse(x)}catch{return null}}else{var T=this._getIV(v);try{var d=e.default.enc.Base64.parse(l),f=e.default.AES.decrypt({ciphertext:d},O,{iv:T,mode:_}).toString(e.default.enc.Utf8);return JSON.parse(f)}catch{return null}}}}]),a}();i.default=r,S.exports=i.default}).call(this,u(24).Buffer)},function(S,i,u){(function(c){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var b=u(36),p=u(37),o=u(38);function t(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(y,m){if(t()<m)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(y=new Uint8Array(m)).__proto__=n.prototype:(y===null&&(y=new n(m)),y.length=m),y}function n(y,m,w){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(y,m,w);if(typeof y=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,y)}return r(this,y,m,w)}function r(y,m,w,N){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?function(U,K,Y,Z){if(K.byteLength,Y<0||K.byteLength<Y)throw new RangeError("'offset' is out of bounds");if(K.byteLength<Y+(Z||0))throw new RangeError("'length' is out of bounds");return K=Y===void 0&&Z===void 0?new Uint8Array(K):Z===void 0?new Uint8Array(K,Y):new Uint8Array(K,Y,Z),n.TYPED_ARRAY_SUPPORT?(U=K).__proto__=n.prototype:U=g(U,K),U}(y,m,w,N):typeof m=="string"?function(U,K,Y){if(typeof Y=="string"&&Y!==""||(Y="utf8"),!n.isEncoding(Y))throw new TypeError('"encoding" must be a valid string encoding');var Z=0|_(K,Y),oe=(U=e(U,Z)).write(K,Y);return oe!==Z&&(U=U.slice(0,oe)),U}(y,m,w):function(U,K){if(n.isBuffer(K)){var Y=0|v(K.length);return(U=e(U,Y)).length===0||K.copy(U,0,0,Y),U}if(K){if(typeof ArrayBuffer<"u"&&K.buffer instanceof ArrayBuffer||"length"in K)return typeof K.length!="number"||(Z=K.length)!=Z?e(U,0):g(U,K);if(K.type==="Buffer"&&o(K.data))return g(U,K.data)}var Z;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(y,m)}function a(y){if(typeof y!="number")throw new TypeError('"size" argument must be a number');if(y<0)throw new RangeError('"size" argument must not be negative')}function l(y,m){if(a(m),y=e(y,m<0?0:0|v(m)),!n.TYPED_ARRAY_SUPPORT)for(var w=0;w<m;++w)y[w]=0;return y}function g(y,m){var w=m.length<0?0:0|v(m.length);y=e(y,w);for(var N=0;N<w;N+=1)y[N]=255&m[N];return y}function v(y){if(y>=t())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t().toString(16)+" bytes");return 0|y}function _(y,m){if(n.isBuffer(y))return y.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(y)||y instanceof ArrayBuffer))return y.byteLength;typeof y!="string"&&(y=""+y);var w=y.length;if(w===0)return 0;for(var N=!1;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return D(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*w;case"hex":return w>>>1;case"base64":return R(y).length;default:if(N)return D(y).length;m=(""+m).toLowerCase(),N=!0}}function O(y,m,w){var N=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0)<=(m>>>=0))return"";for(y||(y="utf8");;)switch(y){case"hex":return E(this,m,w);case"utf8":case"utf-8":return M(this,m,w);case"ascii":return C(this,m,w);case"latin1":case"binary":return I(this,m,w);case"base64":return P(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,m,w);default:if(N)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),N=!0}}function A(y,m,w){var N=y[m];y[m]=y[w],y[w]=N}function k(y,m,w,N,U){if(y.length===0)return-1;if(typeof w=="string"?(N=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=U?0:y.length-1),w<0&&(w=y.length+w),w>=y.length){if(U)return-1;w=y.length-1}else if(w<0){if(!U)return-1;w=0}if(typeof m=="string"&&(m=n.from(m,N)),n.isBuffer(m))return m.length===0?-1:j(y,m,w,N,U);if(typeof m=="number")return m&=255,n.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(y,m,w):Uint8Array.prototype.lastIndexOf.call(y,m,w):j(y,[m],w,N,U);throw new TypeError("val must be string, number or Buffer")}function j(y,m,w,N,U){var K,Y=1,Z=y.length,oe=m.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(y.length<2||m.length<2)return-1;Y=2,Z/=2,oe/=2,w/=2}function ae(ge,me){return Y===1?ge[me]:ge.readUInt16BE(me*Y)}if(U){var te=-1;for(K=w;K<Z;K++)if(ae(y,K)===ae(m,te===-1?0:K-te)){if(te===-1&&(te=K),K-te+1===oe)return te*Y}else te!==-1&&(K-=K-te),te=-1}else for(w+oe>Z&&(w=Z-oe),K=w;K>=0;K--){for(var ye=!0,pe=0;pe<oe;pe++)if(ae(y,K+pe)!==ae(m,pe)){ye=!1;break}if(ye)return K}return-1}function x(y,m,w,N){w=Number(w)||0;var U=y.length-w;N?(N=Number(N))>U&&(N=U):N=U;var K=m.length;if(K%2!=0)throw new TypeError("Invalid hex string");N>K/2&&(N=K/2);for(var Y=0;Y<N;++Y){var Z=parseInt(m.substr(2*Y,2),16);if(isNaN(Z))return Y;y[w+Y]=Z}return Y}function T(y,m,w,N){return G(D(m,y.length-w),y,w,N)}function d(y,m,w,N){return G(function(U){for(var K=[],Y=0;Y<U.length;++Y)K.push(255&U.charCodeAt(Y));return K}(m),y,w,N)}function f(y,m,w,N){return d(y,m,w,N)}function s(y,m,w,N){return G(R(m),y,w,N)}function h(y,m,w,N){return G(function(U,K){for(var Y,Z,oe,ae=[],te=0;te<U.length&&!((K-=2)<0);++te)Y=U.charCodeAt(te),Z=Y>>8,oe=Y%256,ae.push(oe),ae.push(Z);return ae}(m,y.length-w),y,w,N)}function P(y,m,w){return m===0&&w===y.length?b.fromByteArray(y):b.fromByteArray(y.slice(m,w))}function M(y,m,w){w=Math.min(y.length,w);for(var N=[],U=m;U<w;){var K,Y,Z,oe,ae=y[U],te=null,ye=ae>239?4:ae>223?3:ae>191?2:1;if(U+ye<=w)switch(ye){case 1:ae<128&&(te=ae);break;case 2:(192&(K=y[U+1]))==128&&(oe=(31&ae)<<6|63&K)>127&&(te=oe);break;case 3:K=y[U+1],Y=y[U+2],(192&K)==128&&(192&Y)==128&&(oe=(15&ae)<<12|(63&K)<<6|63&Y)>2047&&(oe<55296||oe>57343)&&(te=oe);break;case 4:K=y[U+1],Y=y[U+2],Z=y[U+3],(192&K)==128&&(192&Y)==128&&(192&Z)==128&&(oe=(15&ae)<<18|(63&K)<<12|(63&Y)<<6|63&Z)>65535&&oe<1114112&&(te=oe)}te===null?(te=65533,ye=1):te>65535&&(te-=65536,N.push(te>>>10&1023|55296),te=56320|1023&te),N.push(te),U+=ye}return function(pe){var ge=pe.length;if(ge<=4096)return String.fromCharCode.apply(String,pe);for(var me="",Pe=0;Pe<ge;)me+=String.fromCharCode.apply(String,pe.slice(Pe,Pe+=4096));return me}(N)}i.Buffer=n,i.SlowBuffer=function(y){return+y!=y&&(y=0),n.alloc(+y)},i.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT!==void 0?c.TYPED_ARRAY_SUPPORT:function(){try{var y=new Uint8Array(1);return y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},y.foo()===42&&typeof y.subarray=="function"&&y.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=t(),n.poolSize=8192,n._augment=function(y){return y.__proto__=n.prototype,y},n.from=function(y,m,w){return r(null,y,m,w)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(y,m,w){return function(N,U,K,Y){return a(U),U<=0?e(N,U):K!==void 0?typeof Y=="string"?e(N,U).fill(K,Y):e(N,U).fill(K):e(N,U)}(null,y,m,w)},n.allocUnsafe=function(y){return l(null,y)},n.allocUnsafeSlow=function(y){return l(null,y)},n.isBuffer=function(y){return!(y==null||!y._isBuffer)},n.compare=function(y,m){if(!n.isBuffer(y)||!n.isBuffer(m))throw new TypeError("Arguments must be Buffers");if(y===m)return 0;for(var w=y.length,N=m.length,U=0,K=Math.min(w,N);U<K;++U)if(y[U]!==m[U]){w=y[U],N=m[U];break}return w<N?-1:N<w?1:0},n.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(y,m){if(!o(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return n.alloc(0);var w;if(m===void 0)for(m=0,w=0;w<y.length;++w)m+=y[w].length;var N=n.allocUnsafe(m),U=0;for(w=0;w<y.length;++w){var K=y[w];if(!n.isBuffer(K))throw new TypeError('"list" argument must be an Array of Buffers');K.copy(N,U),U+=K.length}return N},n.byteLength=_,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var y=this.length;if(y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<y;m+=2)A(this,m,m+1);return this},n.prototype.swap32=function(){var y=this.length;if(y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<y;m+=4)A(this,m,m+3),A(this,m+1,m+2);return this},n.prototype.swap64=function(){var y=this.length;if(y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<y;m+=8)A(this,m,m+7),A(this,m+1,m+6),A(this,m+2,m+5),A(this,m+3,m+4);return this},n.prototype.toString=function(){var y=0|this.length;return y===0?"":arguments.length===0?M(this,0,y):O.apply(this,arguments)},n.prototype.equals=function(y){if(!n.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y||n.compare(this,y)===0},n.prototype.inspect=function(){var y="",m=i.INSPECT_MAX_BYTES;return this.length>0&&(y=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(y+=" ... ")),"<Buffer "+y+">"},n.prototype.compare=function(y,m,w,N,U){if(!n.isBuffer(y))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),w===void 0&&(w=y?y.length:0),N===void 0&&(N=0),U===void 0&&(U=this.length),m<0||w>y.length||N<0||U>this.length)throw new RangeError("out of range index");if(N>=U&&m>=w)return 0;if(N>=U)return-1;if(m>=w)return 1;if(this===y)return 0;for(var K=(U>>>=0)-(N>>>=0),Y=(w>>>=0)-(m>>>=0),Z=Math.min(K,Y),oe=this.slice(N,U),ae=y.slice(m,w),te=0;te<Z;++te)if(oe[te]!==ae[te]){K=oe[te],Y=ae[te];break}return K<Y?-1:Y<K?1:0},n.prototype.includes=function(y,m,w){return this.indexOf(y,m,w)!==-1},n.prototype.indexOf=function(y,m,w){return k(this,y,m,w,!0)},n.prototype.lastIndexOf=function(y,m,w){return k(this,y,m,w,!1)},n.prototype.write=function(y,m,w,N){if(m===void 0)N="utf8",w=this.length,m=0;else if(w===void 0&&typeof m=="string")N=m,w=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(w)?(w|=0,N===void 0&&(N="utf8")):(N=w,w=void 0)}var U=this.length-m;if((w===void 0||w>U)&&(w=U),y.length>0&&(w<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var K=!1;;)switch(N){case"hex":return x(this,y,m,w);case"utf8":case"utf-8":return T(this,y,m,w);case"ascii":return d(this,y,m,w);case"latin1":case"binary":return f(this,y,m,w);case"base64":return s(this,y,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,y,m,w);default:if(K)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),K=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(y,m,w){var N="";w=Math.min(y.length,w);for(var U=m;U<w;++U)N+=String.fromCharCode(127&y[U]);return N}function I(y,m,w){var N="";w=Math.min(y.length,w);for(var U=m;U<w;++U)N+=String.fromCharCode(y[U]);return N}function E(y,m,w){var N=y.length;(!m||m<0)&&(m=0),(!w||w<0||w>N)&&(w=N);for(var U="",K=m;K<w;++K)U+=z(y[K]);return U}function F(y,m,w){for(var N=y.slice(m,w),U="",K=0;K<N.length;K+=2)U+=String.fromCharCode(N[K]+256*N[K+1]);return U}function L(y,m,w){if(y%1!=0||y<0)throw new RangeError("offset is not uint");if(y+m>w)throw new RangeError("Trying to access beyond buffer length")}function H(y,m,w,N,U,K){if(!n.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>U||m<K)throw new RangeError('"value" argument is out of bounds');if(w+N>y.length)throw new RangeError("Index out of range")}function B(y,m,w,N){m<0&&(m=65535+m+1);for(var U=0,K=Math.min(y.length-w,2);U<K;++U)y[w+U]=(m&255<<8*(N?U:1-U))>>>8*(N?U:1-U)}function V(y,m,w,N){m<0&&(m=4294967295+m+1);for(var U=0,K=Math.min(y.length-w,4);U<K;++U)y[w+U]=m>>>8*(N?U:3-U)&255}function $(y,m,w,N,U,K){if(w+N>y.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function X(y,m,w,N,U){return U||$(y,0,w,4),p.write(y,m,w,N,23,4),w+4}function ee(y,m,w,N,U){return U||$(y,0,w,8),p.write(y,m,w,N,52,8),w+8}n.prototype.slice=function(y,m){var w,N=this.length;if((y=~~y)<0?(y+=N)<0&&(y=0):y>N&&(y=N),(m=m===void 0?N:~~m)<0?(m+=N)<0&&(m=0):m>N&&(m=N),m<y&&(m=y),n.TYPED_ARRAY_SUPPORT)(w=this.subarray(y,m)).__proto__=n.prototype;else{var U=m-y;w=new n(U,void 0);for(var K=0;K<U;++K)w[K]=this[K+y]}return w},n.prototype.readUIntLE=function(y,m,w){y|=0,m|=0,w||L(y,m,this.length);for(var N=this[y],U=1,K=0;++K<m&&(U*=256);)N+=this[y+K]*U;return N},n.prototype.readUIntBE=function(y,m,w){y|=0,m|=0,w||L(y,m,this.length);for(var N=this[y+--m],U=1;m>0&&(U*=256);)N+=this[y+--m]*U;return N},n.prototype.readUInt8=function(y,m){return m||L(y,1,this.length),this[y]},n.prototype.readUInt16LE=function(y,m){return m||L(y,2,this.length),this[y]|this[y+1]<<8},n.prototype.readUInt16BE=function(y,m){return m||L(y,2,this.length),this[y]<<8|this[y+1]},n.prototype.readUInt32LE=function(y,m){return m||L(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+16777216*this[y+3]},n.prototype.readUInt32BE=function(y,m){return m||L(y,4,this.length),16777216*this[y]+(this[y+1]<<16|this[y+2]<<8|this[y+3])},n.prototype.readIntLE=function(y,m,w){y|=0,m|=0,w||L(y,m,this.length);for(var N=this[y],U=1,K=0;++K<m&&(U*=256);)N+=this[y+K]*U;return N>=(U*=128)&&(N-=Math.pow(2,8*m)),N},n.prototype.readIntBE=function(y,m,w){y|=0,m|=0,w||L(y,m,this.length);for(var N=m,U=1,K=this[y+--N];N>0&&(U*=256);)K+=this[y+--N]*U;return K>=(U*=128)&&(K-=Math.pow(2,8*m)),K},n.prototype.readInt8=function(y,m){return m||L(y,1,this.length),128&this[y]?-1*(255-this[y]+1):this[y]},n.prototype.readInt16LE=function(y,m){m||L(y,2,this.length);var w=this[y]|this[y+1]<<8;return 32768&w?4294901760|w:w},n.prototype.readInt16BE=function(y,m){m||L(y,2,this.length);var w=this[y+1]|this[y]<<8;return 32768&w?4294901760|w:w},n.prototype.readInt32LE=function(y,m){return m||L(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},n.prototype.readInt32BE=function(y,m){return m||L(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},n.prototype.readFloatLE=function(y,m){return m||L(y,4,this.length),p.read(this,y,!0,23,4)},n.prototype.readFloatBE=function(y,m){return m||L(y,4,this.length),p.read(this,y,!1,23,4)},n.prototype.readDoubleLE=function(y,m){return m||L(y,8,this.length),p.read(this,y,!0,52,8)},n.prototype.readDoubleBE=function(y,m){return m||L(y,8,this.length),p.read(this,y,!1,52,8)},n.prototype.writeUIntLE=function(y,m,w,N){y=+y,m|=0,w|=0,N||H(this,y,m,w,Math.pow(2,8*w)-1,0);var U=1,K=0;for(this[m]=255&y;++K<w&&(U*=256);)this[m+K]=y/U&255;return m+w},n.prototype.writeUIntBE=function(y,m,w,N){y=+y,m|=0,w|=0,N||H(this,y,m,w,Math.pow(2,8*w)-1,0);var U=w-1,K=1;for(this[m+U]=255&y;--U>=0&&(K*=256);)this[m+U]=y/K&255;return m+w},n.prototype.writeUInt8=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,1,255,0),n.TYPED_ARRAY_SUPPORT||(y=Math.floor(y)),this[m]=255&y,m+1},n.prototype.writeUInt16LE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[m]=255&y,this[m+1]=y>>>8):B(this,y,m,!0),m+2},n.prototype.writeUInt16BE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[m]=y>>>8,this[m+1]=255&y):B(this,y,m,!1),m+2},n.prototype.writeUInt32LE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[m+3]=y>>>24,this[m+2]=y>>>16,this[m+1]=y>>>8,this[m]=255&y):V(this,y,m,!0),m+4},n.prototype.writeUInt32BE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[m]=y>>>24,this[m+1]=y>>>16,this[m+2]=y>>>8,this[m+3]=255&y):V(this,y,m,!1),m+4},n.prototype.writeIntLE=function(y,m,w,N){if(y=+y,m|=0,!N){var U=Math.pow(2,8*w-1);H(this,y,m,w,U-1,-U)}var K=0,Y=1,Z=0;for(this[m]=255&y;++K<w&&(Y*=256);)y<0&&Z===0&&this[m+K-1]!==0&&(Z=1),this[m+K]=(y/Y>>0)-Z&255;return m+w},n.prototype.writeIntBE=function(y,m,w,N){if(y=+y,m|=0,!N){var U=Math.pow(2,8*w-1);H(this,y,m,w,U-1,-U)}var K=w-1,Y=1,Z=0;for(this[m+K]=255&y;--K>=0&&(Y*=256);)y<0&&Z===0&&this[m+K+1]!==0&&(Z=1),this[m+K]=(y/Y>>0)-Z&255;return m+w},n.prototype.writeInt8=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,1,127,-128),n.TYPED_ARRAY_SUPPORT||(y=Math.floor(y)),y<0&&(y=255+y+1),this[m]=255&y,m+1},n.prototype.writeInt16LE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[m]=255&y,this[m+1]=y>>>8):B(this,y,m,!0),m+2},n.prototype.writeInt16BE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[m]=y>>>8,this[m+1]=255&y):B(this,y,m,!1),m+2},n.prototype.writeInt32LE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[m]=255&y,this[m+1]=y>>>8,this[m+2]=y>>>16,this[m+3]=y>>>24):V(this,y,m,!0),m+4},n.prototype.writeInt32BE=function(y,m,w){return y=+y,m|=0,w||H(this,y,m,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),n.TYPED_ARRAY_SUPPORT?(this[m]=y>>>24,this[m+1]=y>>>16,this[m+2]=y>>>8,this[m+3]=255&y):V(this,y,m,!1),m+4},n.prototype.writeFloatLE=function(y,m,w){return X(this,y,m,!0,w)},n.prototype.writeFloatBE=function(y,m,w){return X(this,y,m,!1,w)},n.prototype.writeDoubleLE=function(y,m,w){return ee(this,y,m,!0,w)},n.prototype.writeDoubleBE=function(y,m,w){return ee(this,y,m,!1,w)},n.prototype.copy=function(y,m,w,N){if(w||(w=0),N||N===0||(N=this.length),m>=y.length&&(m=y.length),m||(m=0),N>0&&N<w&&(N=w),N===w||y.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("sourceStart out of bounds");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),y.length-m<N-w&&(N=y.length-m+w);var U,K=N-w;if(this===y&&w<m&&m<N)for(U=K-1;U>=0;--U)y[U+m]=this[U+w];else if(K<1e3||!n.TYPED_ARRAY_SUPPORT)for(U=0;U<K;++U)y[U+m]=this[U+w];else Uint8Array.prototype.set.call(y,this.subarray(w,w+K),m);return K},n.prototype.fill=function(y,m,w,N){if(typeof y=="string"){if(typeof m=="string"?(N=m,m=0,w=this.length):typeof w=="string"&&(N=w,w=this.length),y.length===1){var U=y.charCodeAt(0);U<256&&(y=U)}if(N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!n.isEncoding(N))throw new TypeError("Unknown encoding: "+N)}else typeof y=="number"&&(y&=255);if(m<0||this.length<m||this.length<w)throw new RangeError("Out of range index");if(w<=m)return this;var K;if(m>>>=0,w=w===void 0?this.length:w>>>0,y||(y=0),typeof y=="number")for(K=m;K<w;++K)this[K]=y;else{var Y=n.isBuffer(y)?y:D(new n(y,N).toString()),Z=Y.length;for(K=0;K<w-m;++K)this[K+m]=Y[K%Z]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function z(y){return y<16?"0"+y.toString(16):y.toString(16)}function D(y,m){var w;m=m||1/0;for(var N=y.length,U=null,K=[],Y=0;Y<N;++Y){if((w=y.charCodeAt(Y))>55295&&w<57344){if(!U){if(w>56319){(m-=3)>-1&&K.push(239,191,189);continue}if(Y+1===N){(m-=3)>-1&&K.push(239,191,189);continue}U=w;continue}if(w<56320){(m-=3)>-1&&K.push(239,191,189),U=w;continue}w=65536+(U-55296<<10|w-56320)}else U&&(m-=3)>-1&&K.push(239,191,189);if(U=null,w<128){if((m-=1)<0)break;K.push(w)}else if(w<2048){if((m-=2)<0)break;K.push(w>>6|192,63&w|128)}else if(w<65536){if((m-=3)<0)break;K.push(w>>12|224,w>>6&63|128,63&w|128)}else{if(!(w<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;K.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}}return K}function R(y){return b.toByteArray(function(m){if((m=function(w){return w.trim?w.trim():w.replace(/^\s+|\s+$/g,"")}(m).replace(q,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(y))}function G(y,m,w,N){for(var U=0;U<N&&!(U+w>=m.length||U>=y.length);++U)m[U+w]=y[U];return U}}).call(this,u(35))},function(S,i,u){var c,b,p,o,t,e=e||function(n,r){var a={},l=a.lib={},g=function(){},v=l.Base={extend:function(d){g.prototype=this;var f=new g;return d&&f.mixIn(d),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}},_=l.WordArray=v.extend({init:function(d,f){d=this.words=d||[],this.sigBytes=f!=null?f:4*d.length},toString:function(d){return(d||A).stringify(this)},concat:function(d){var f=this.words,s=d.words,h=this.sigBytes;if(d=d.sigBytes,this.clamp(),h%4)for(var P=0;P<d;P++)f[h+P>>>2]|=(s[P>>>2]>>>24-P%4*8&255)<<24-(h+P)%4*8;else if(65535<s.length)for(P=0;P<d;P+=4)f[h+P>>>2]=s[P>>>2];else f.push.apply(f,s);return this.sigBytes+=d,this},clamp:function(){var d=this.words,f=this.sigBytes;d[f>>>2]&=4294967295<<32-f%4*8,d.length=n.ceil(f/4)},clone:function(){var d=v.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var f=[],s=0;s<d;s+=4)f.push(4294967296*n.random()|0);return new _.init(f,d)}}),O=a.enc={},A=O.Hex={stringify:function(d){var f=d.words;d=d.sigBytes;for(var s=[],h=0;h<d;h++){var P=f[h>>>2]>>>24-h%4*8&255;s.push((P>>>4).toString(16)),s.push((15&P).toString(16))}return s.join("")},parse:function(d){for(var f=d.length,s=[],h=0;h<f;h+=2)s[h>>>3]|=parseInt(d.substr(h,2),16)<<24-h%8*4;return new _.init(s,f/2)}},k=O.Latin1={stringify:function(d){var f=d.words;d=d.sigBytes;for(var s=[],h=0;h<d;h++)s.push(String.fromCharCode(f[h>>>2]>>>24-h%4*8&255));return s.join("")},parse:function(d){for(var f=d.length,s=[],h=0;h<f;h++)s[h>>>2]|=(255&d.charCodeAt(h))<<24-h%4*8;return new _.init(s,f)}},j=O.Utf8={stringify:function(d){try{return decodeURIComponent(escape(k.stringify(d)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(d){return k.parse(unescape(encodeURIComponent(d)))}},x=l.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=j.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var f=this._data,s=f.words,h=f.sigBytes,P=this.blockSize,M=h/(4*P);if(d=(M=d?n.ceil(M):n.max((0|M)-this._minBufferSize,0))*P,h=n.min(4*d,h),d){for(var C=0;C<d;C+=P)this._doProcessBlock(s,C);C=s.splice(0,d),f.sigBytes-=h}return new _.init(C,h)},clone:function(){var d=v.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0});l.Hasher=x.extend({cfg:v.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(f,s){return new d.init(s).finalize(f)}},_createHmacHelper:function(d){return function(f,s){return new T.HMAC.init(d,s).finalize(f)}}});var T=a.algo={};return a}(Math);(function(n){for(var r=e,a=(g=r.lib).WordArray,l=g.Hasher,g=r.algo,v=[],_=[],O=function(f){return 4294967296*(f-(0|f))|0},A=2,k=0;64>k;){var j;e:{j=A;for(var x=n.sqrt(j),T=2;T<=x;T++)if(!(j%T)){j=!1;break e}j=!0}j&&(8>k&&(v[k]=O(n.pow(A,.5))),_[k]=O(n.pow(A,1/3)),k++),A++}var d=[];g=g.SHA256=l.extend({_doReset:function(){this._hash=new a.init(v.slice(0))},_doProcessBlock:function(f,s){for(var h=this._hash.words,P=h[0],M=h[1],C=h[2],I=h[3],E=h[4],F=h[5],L=h[6],H=h[7],B=0;64>B;B++){if(16>B)d[B]=0|f[s+B];else{var V=d[B-15],$=d[B-2];d[B]=((V<<25|V>>>7)^(V<<14|V>>>18)^V>>>3)+d[B-7]+(($<<15|$>>>17)^($<<13|$>>>19)^$>>>10)+d[B-16]}V=H+((E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25))+(E&F^~E&L)+_[B]+d[B],$=((P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22))+(P&M^P&C^M&C),H=L,L=F,F=E,E=I+V|0,I=C,C=M,M=P,P=V+$|0}h[0]=h[0]+P|0,h[1]=h[1]+M|0,h[2]=h[2]+C|0,h[3]=h[3]+I|0,h[4]=h[4]+E|0,h[5]=h[5]+F|0,h[6]=h[6]+L|0,h[7]=h[7]+H|0},_doFinalize:function(){var f=this._data,s=f.words,h=8*this._nDataBytes,P=8*f.sigBytes;return s[P>>>5]|=128<<24-P%32,s[14+(P+64>>>9<<4)]=n.floor(h/4294967296),s[15+(P+64>>>9<<4)]=h,f.sigBytes=4*s.length,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}}),r.SHA256=l._createHelper(g),r.HmacSHA256=l._createHmacHelper(g)})(Math),b=(c=e).enc.Utf8,c.algo.HMAC=c.lib.Base.extend({init:function(n,r){n=this._hasher=new n.init,typeof r=="string"&&(r=b.parse(r));var a=n.blockSize,l=4*a;r.sigBytes>l&&(r=n.finalize(r)),r.clamp();for(var g=this._oKey=r.clone(),v=this._iKey=r.clone(),_=g.words,O=v.words,A=0;A<a;A++)_[A]^=1549556828,O[A]^=909522486;g.sigBytes=v.sigBytes=l,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var r=this._hasher;return n=r.finalize(n),r.reset(),r.finalize(this._oKey.clone().concat(n))}}),o=(p=e).lib.WordArray,p.enc.Base64={stringify:function(n){var r=n.words,a=n.sigBytes,l=this._map;n.clamp(),n=[];for(var g=0;g<a;g+=3)for(var v=(r[g>>>2]>>>24-g%4*8&255)<<16|(r[g+1>>>2]>>>24-(g+1)%4*8&255)<<8|r[g+2>>>2]>>>24-(g+2)%4*8&255,_=0;4>_&&g+.75*_<a;_++)n.push(l.charAt(v>>>6*(3-_)&63));if(r=l.charAt(64))for(;n.length%4;)n.push(r);return n.join("")},parse:function(n){var r=n.length,a=this._map;(l=a.charAt(64))&&(l=n.indexOf(l))!=-1&&(r=l);for(var l=[],g=0,v=0;v<r;v++)if(v%4){var _=a.indexOf(n.charAt(v-1))<<v%4*2,O=a.indexOf(n.charAt(v))>>>6-v%4*2;l[g>>>2]|=(_|O)<<24-g%4*8,g++}return o.create(l,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(n){function r(x,T,d,f,s,h,P){return((x=x+(T&d|~T&f)+s+P)<<h|x>>>32-h)+T}function a(x,T,d,f,s,h,P){return((x=x+(T&f|d&~f)+s+P)<<h|x>>>32-h)+T}function l(x,T,d,f,s,h,P){return((x=x+(T^d^f)+s+P)<<h|x>>>32-h)+T}function g(x,T,d,f,s,h,P){return((x=x+(d^(T|~f))+s+P)<<h|x>>>32-h)+T}for(var v=e,_=(A=v.lib).WordArray,O=A.Hasher,A=v.algo,k=[],j=0;64>j;j++)k[j]=4294967296*n.abs(n.sin(j+1))|0;A=A.MD5=O.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,T){for(var d=0;16>d;d++){var f=x[s=T+d];x[s]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}d=this._hash.words;var s=x[T+0],h=(f=x[T+1],x[T+2]),P=x[T+3],M=x[T+4],C=x[T+5],I=x[T+6],E=x[T+7],F=x[T+8],L=x[T+9],H=x[T+10],B=x[T+11],V=x[T+12],$=x[T+13],X=x[T+14],ee=x[T+15],q=r(q=d[0],R=d[1],D=d[2],z=d[3],s,7,k[0]),z=r(z,q,R,D,f,12,k[1]),D=r(D,z,q,R,h,17,k[2]),R=r(R,D,z,q,P,22,k[3]);q=r(q,R,D,z,M,7,k[4]),z=r(z,q,R,D,C,12,k[5]),D=r(D,z,q,R,I,17,k[6]),R=r(R,D,z,q,E,22,k[7]),q=r(q,R,D,z,F,7,k[8]),z=r(z,q,R,D,L,12,k[9]),D=r(D,z,q,R,H,17,k[10]),R=r(R,D,z,q,B,22,k[11]),q=r(q,R,D,z,V,7,k[12]),z=r(z,q,R,D,$,12,k[13]),D=r(D,z,q,R,X,17,k[14]),q=a(q,R=r(R,D,z,q,ee,22,k[15]),D,z,f,5,k[16]),z=a(z,q,R,D,I,9,k[17]),D=a(D,z,q,R,B,14,k[18]),R=a(R,D,z,q,s,20,k[19]),q=a(q,R,D,z,C,5,k[20]),z=a(z,q,R,D,H,9,k[21]),D=a(D,z,q,R,ee,14,k[22]),R=a(R,D,z,q,M,20,k[23]),q=a(q,R,D,z,L,5,k[24]),z=a(z,q,R,D,X,9,k[25]),D=a(D,z,q,R,P,14,k[26]),R=a(R,D,z,q,F,20,k[27]),q=a(q,R,D,z,$,5,k[28]),z=a(z,q,R,D,h,9,k[29]),D=a(D,z,q,R,E,14,k[30]),q=l(q,R=a(R,D,z,q,V,20,k[31]),D,z,C,4,k[32]),z=l(z,q,R,D,F,11,k[33]),D=l(D,z,q,R,B,16,k[34]),R=l(R,D,z,q,X,23,k[35]),q=l(q,R,D,z,f,4,k[36]),z=l(z,q,R,D,M,11,k[37]),D=l(D,z,q,R,E,16,k[38]),R=l(R,D,z,q,H,23,k[39]),q=l(q,R,D,z,$,4,k[40]),z=l(z,q,R,D,s,11,k[41]),D=l(D,z,q,R,P,16,k[42]),R=l(R,D,z,q,I,23,k[43]),q=l(q,R,D,z,L,4,k[44]),z=l(z,q,R,D,V,11,k[45]),D=l(D,z,q,R,ee,16,k[46]),q=g(q,R=l(R,D,z,q,h,23,k[47]),D,z,s,6,k[48]),z=g(z,q,R,D,E,10,k[49]),D=g(D,z,q,R,X,15,k[50]),R=g(R,D,z,q,C,21,k[51]),q=g(q,R,D,z,V,6,k[52]),z=g(z,q,R,D,P,10,k[53]),D=g(D,z,q,R,H,15,k[54]),R=g(R,D,z,q,f,21,k[55]),q=g(q,R,D,z,F,6,k[56]),z=g(z,q,R,D,ee,10,k[57]),D=g(D,z,q,R,I,15,k[58]),R=g(R,D,z,q,$,21,k[59]),q=g(q,R,D,z,M,6,k[60]),z=g(z,q,R,D,B,10,k[61]),D=g(D,z,q,R,h,15,k[62]),R=g(R,D,z,q,L,21,k[63]),d[0]=d[0]+q|0,d[1]=d[1]+R|0,d[2]=d[2]+D|0,d[3]=d[3]+z|0},_doFinalize:function(){var x=this._data,T=x.words,d=8*this._nDataBytes,f=8*x.sigBytes;T[f>>>5]|=128<<24-f%32;var s=n.floor(d/4294967296);for(T[15+(f+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),T[14+(f+64>>>9<<4)]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),x.sigBytes=4*(T.length+1),this._process(),T=(x=this._hash).words,d=0;4>d;d++)f=T[d],T[d]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8);return x},clone:function(){var x=O.clone.call(this);return x._hash=this._hash.clone(),x}}),v.MD5=O._createHelper(A),v.HmacMD5=O._createHmacHelper(A)}(Math),function(){var n,r=e,a=(n=r.lib).Base,l=n.WordArray,g=(n=r.algo).EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,_){for(var O=(x=this.cfg).hasher.create(),A=l.create(),k=A.words,j=x.keySize,x=x.iterations;k.length<j;){T&&O.update(T);var T=O.update(v).finalize(_);O.reset();for(var d=1;d<x;d++)T=O.finalize(T),O.reset();A.concat(T)}return A.sigBytes=4*j,A}});r.EvpKDF=function(v,_,O){return g.create(O).compute(v,_)}}(),e.lib.Cipher||function(n){var r=(d=e).lib,a=r.Base,l=r.WordArray,g=r.BufferedBlockAlgorithm,v=d.enc.Base64,_=d.algo.EvpKDF,O=r.Cipher=g.extend({cfg:a.extend(),createEncryptor:function(s,h){return this.create(this._ENC_XFORM_MODE,s,h)},createDecryptor:function(s,h){return this.create(this._DEC_XFORM_MODE,s,h)},init:function(s,h,P){this.cfg=this.cfg.extend(P),this._xformMode=s,this._key=h,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(s){return this._append(s),this._process()},finalize:function(s){return s&&this._append(s),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(s){return{encrypt:function(h,P,M){return(typeof P=="string"?f:T).encrypt(s,h,P,M)},decrypt:function(h,P,M){return(typeof P=="string"?f:T).decrypt(s,h,P,M)}}}});r.StreamCipher=O.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var A=d.mode={},k=function(s,h,P){var M=this._iv;M?this._iv=void 0:M=this._prevBlock;for(var C=0;C<P;C++)s[h+C]^=M[C]},j=(r.BlockCipherMode=a.extend({createEncryptor:function(s,h){return this.Encryptor.create(s,h)},createDecryptor:function(s,h){return this.Decryptor.create(s,h)},init:function(s,h){this._cipher=s,this._iv=h}})).extend();j.Encryptor=j.extend({processBlock:function(s,h){var P=this._cipher,M=P.blockSize;k.call(this,s,h,M),P.encryptBlock(s,h),this._prevBlock=s.slice(h,h+M)}}),j.Decryptor=j.extend({processBlock:function(s,h){var P=this._cipher,M=P.blockSize,C=s.slice(h,h+M);P.decryptBlock(s,h),k.call(this,s,h,M),this._prevBlock=C}}),A=A.CBC=j,j=(d.pad={}).Pkcs7={pad:function(s,h){for(var P,M=(P=(P=4*h)-s.sigBytes%P)<<24|P<<16|P<<8|P,C=[],I=0;I<P;I+=4)C.push(M);P=l.create(C,P),s.concat(P)},unpad:function(s){s.sigBytes-=255&s.words[s.sigBytes-1>>>2]}},r.BlockCipher=O.extend({cfg:O.cfg.extend({mode:A,padding:j}),reset:function(){O.reset.call(this);var s=(h=this.cfg).iv,h=h.mode;if(this._xformMode==this._ENC_XFORM_MODE)var P=h.createEncryptor;else P=h.createDecryptor,this._minBufferSize=1;this._mode=P.call(h,this,s&&s.words)},_doProcessBlock:function(s,h){this._mode.processBlock(s,h)},_doFinalize:function(){var s=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){s.pad(this._data,this.blockSize);var h=this._process(!0)}else h=this._process(!0),s.unpad(h);return h},blockSize:4});var x=r.CipherParams=a.extend({init:function(s){this.mixIn(s)},toString:function(s){return(s||this.formatter).stringify(this)}}),T=(A=(d.format={}).OpenSSL={stringify:function(s){var h=s.ciphertext;return((s=s.salt)?l.create([1398893684,1701076831]).concat(s).concat(h):h).toString(v)},parse:function(s){var h=(s=v.parse(s)).words;if(h[0]==1398893684&&h[1]==1701076831){var P=l.create(h.slice(2,4));h.splice(0,4),s.sigBytes-=16}return x.create({ciphertext:s,salt:P})}},r.SerializableCipher=a.extend({cfg:a.extend({format:A}),encrypt:function(s,h,P,M){M=this.cfg.extend(M);var C=s.createEncryptor(P,M);return h=C.finalize(h),C=C.cfg,x.create({ciphertext:h,key:P,iv:C.iv,algorithm:s,mode:C.mode,padding:C.padding,blockSize:s.blockSize,formatter:M.format})},decrypt:function(s,h,P,M){return M=this.cfg.extend(M),h=this._parse(h,M.format),s.createDecryptor(P,M).finalize(h.ciphertext)},_parse:function(s,h){return typeof s=="string"?h.parse(s,this):s}})),d=(d.kdf={}).OpenSSL={execute:function(s,h,P,M){return M||(M=l.random(8)),s=_.create({keySize:h+P}).compute(s,M),P=l.create(s.words.slice(h),4*P),s.sigBytes=4*h,x.create({key:s,iv:P,salt:M})}},f=r.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:d}),encrypt:function(s,h,P,M){return P=(M=this.cfg.extend(M)).kdf.execute(P,s.keySize,s.ivSize),M.iv=P.iv,(s=T.encrypt.call(this,s,h,P.key,M)).mixIn(P),s},decrypt:function(s,h,P,M){return M=this.cfg.extend(M),h=this._parse(h,M.format),P=M.kdf.execute(P,s.keySize,s.ivSize,h.salt),M.iv=P.iv,T.decrypt.call(this,s,h,P.key,M)}})}(),function(){for(var n=e,r=n.lib.BlockCipher,a=n.algo,l=[],g=[],v=[],_=[],O=[],A=[],k=[],j=[],x=[],T=[],d=[],f=0;256>f;f++)d[f]=128>f?f<<1:f<<1^283;var s=0,h=0;for(f=0;256>f;f++){var P=(P=h^h<<1^h<<2^h<<3^h<<4)>>>8^255&P^99;l[s]=P,g[P]=s;var M=d[s],C=d[M],I=d[C],E=257*d[P]^16843008*P;v[s]=E<<24|E>>>8,_[s]=E<<16|E>>>16,O[s]=E<<8|E>>>24,A[s]=E,E=16843009*I^65537*C^257*M^16843008*s,k[P]=E<<24|E>>>8,j[P]=E<<16|E>>>16,x[P]=E<<8|E>>>24,T[P]=E,s?(s=M^d[d[d[I^M]]],h^=d[d[h]]):s=h=1}var F=[0,1,2,4,8,16,32,64,128,27,54];a=a.AES=r.extend({_doReset:function(){for(var L=(B=this._key).words,H=B.sigBytes/4,B=4*((this._nRounds=H+6)+1),V=this._keySchedule=[],$=0;$<B;$++)if($<H)V[$]=L[$];else{var X=V[$-1];$%H?6<H&&$%H==4&&(X=l[X>>>24]<<24|l[X>>>16&255]<<16|l[X>>>8&255]<<8|l[255&X]):(X=l[(X=X<<8|X>>>24)>>>24]<<24|l[X>>>16&255]<<16|l[X>>>8&255]<<8|l[255&X],X^=F[$/H|0]<<24),V[$]=V[$-H]^X}for(L=this._invKeySchedule=[],H=0;H<B;H++)$=B-H,X=H%4?V[$]:V[$-4],L[H]=4>H||4>=$?X:k[l[X>>>24]]^j[l[X>>>16&255]]^x[l[X>>>8&255]]^T[l[255&X]]},encryptBlock:function(L,H){this._doCryptBlock(L,H,this._keySchedule,v,_,O,A,l)},decryptBlock:function(L,H){var B=L[H+1];L[H+1]=L[H+3],L[H+3]=B,this._doCryptBlock(L,H,this._invKeySchedule,k,j,x,T,g),B=L[H+1],L[H+1]=L[H+3],L[H+3]=B},_doCryptBlock:function(L,H,B,V,$,X,ee,q){for(var z=this._nRounds,D=L[H]^B[0],R=L[H+1]^B[1],G=L[H+2]^B[2],y=L[H+3]^B[3],m=4,w=1;w<z;w++){var N=V[D>>>24]^$[R>>>16&255]^X[G>>>8&255]^ee[255&y]^B[m++],U=V[R>>>24]^$[G>>>16&255]^X[y>>>8&255]^ee[255&D]^B[m++],K=V[G>>>24]^$[y>>>16&255]^X[D>>>8&255]^ee[255&R]^B[m++];y=V[y>>>24]^$[D>>>16&255]^X[R>>>8&255]^ee[255&G]^B[m++],D=N,R=U,G=K}N=(q[D>>>24]<<24|q[R>>>16&255]<<16|q[G>>>8&255]<<8|q[255&y])^B[m++],U=(q[R>>>24]<<24|q[G>>>16&255]<<16|q[y>>>8&255]<<8|q[255&D])^B[m++],K=(q[G>>>24]<<24|q[y>>>16&255]<<16|q[D>>>8&255]<<8|q[255&R])^B[m++],y=(q[y>>>24]<<24|q[D>>>16&255]<<16|q[R>>>8&255]<<8|q[255&G])^B[m++],L[H]=N,L[H+1]=U,L[H+2]=K,L[H+3]=y},keySize:8}),n.AES=r._createHelper(a)}(),e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(n,r){this._cipher.encryptBlock(n,r)}}),t.Decryptor=t.extend({processBlock:function(n,r){this._cipher.decryptBlock(n,r)}}),t),S.exports=e},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=(u(2),c(u(10))),e=function(){function n(){(0,b.default)(this,n),(0,o.default)(this,"_listeners",void 0),this._listeners=[]}return(0,p.default)(n,[{key:"addListener",value:function(r){this._listeners.push(r)}},{key:"removeListener",value:function(r){var a=[];this._listeners.forEach(function(l){l!==r&&a.push(l)}),this._listeners=a}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(r){this._listeners.forEach(function(a){a.presence&&a.presence(r)})}},{key:"announceStatus",value:function(r){this._listeners.forEach(function(a){a.status&&a.status(r)})}},{key:"announceMessage",value:function(r){this._listeners.forEach(function(a){a.message&&a.message(r)})}},{key:"announceSignal",value:function(r){this._listeners.forEach(function(a){a.signal&&a.signal(r)})}},{key:"announceMessageAction",value:function(r){this._listeners.forEach(function(a){a.messageAction&&a.messageAction(r)})}},{key:"announceFile",value:function(r){this._listeners.forEach(function(a){a.file&&a.file(r)})}},{key:"announceObjects",value:function(r){this._listeners.forEach(function(a){a.objects&&a.objects(r)})}},{key:"announceUser",value:function(r){this._listeners.forEach(function(a){a.user&&a.user(r)})}},{key:"announceSpace",value:function(r){this._listeners.forEach(function(a){a.space&&a.space(r)})}},{key:"announceMembership",value:function(r){this._listeners.forEach(function(a){a.membership&&a.membership(r)})}},{key:"announceNetworkUp",value:function(){var r={};r.category=t.default.PNNetworkUpCategory,this.announceStatus(r)}},{key:"announceNetworkDown",value:function(){var r={};r.category=t.default.PNNetworkDownCategory,this.announceStatus(r)}}]),n}();i.default=e,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNTimeOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(){return"/time/0"},i.handleResponse=function(p,o){return{timetoken:o[0]}},i.isAuthSupported=function(){return!1},i.prepareParams=function(){return{}},i.validateParams=function(){},u(2);var b=c(u(1))},function(S,i,u){},function(S,i,u){var c=u(21),b=Object.prototype.hasOwnProperty,p=Array.isArray,o=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),t=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},a=0;a<e.length;++a)e[a]!==void 0&&(r[a]=e[a]);return r};S.exports={arrayToObject:t,assign:function(e,n){return Object.keys(n).reduce(function(r,a){return r[a]=n[a],r},e)},combine:function(e,n){return[].concat(e,n)},compact:function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],a=0;a<n.length;++a)for(var l=n[a],g=l.obj[l.prop],v=Object.keys(g),_=0;_<v.length;++_){var O=v[_],A=g[O];typeof A=="object"&&A!==null&&r.indexOf(A)===-1&&(n.push({obj:g,prop:O}),r.push(A))}return function(k){for(;k.length>1;){var j=k.pop(),x=j.obj[j.prop];if(p(x)){for(var T=[],d=0;d<x.length;++d)x[d]!==void 0&&T.push(x[d]);j.obj[j.prop]=T}}}(n),e},decode:function(e,n,r){var a=e.replace(/\+/g," ");if(r==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch{return a}},encode:function(e,n,r,a,l){if(e.length===0)return e;var g=e;if(typeof e=="symbol"?g=Symbol.prototype.toString.call(e):typeof e!="string"&&(g=String(e)),r==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});for(var v="",_=0;_<g.length;++_){var O=g.charCodeAt(_);O===45||O===46||O===95||O===126||O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122||l===c.RFC1738&&(O===40||O===41)?v+=g.charAt(_):O<128?v+=o[O]:O<2048?v+=o[192|O>>6]+o[128|63&O]:O<55296||O>=57344?v+=o[224|O>>12]+o[128|O>>6&63]+o[128|63&O]:(_+=1,O=65536+((1023&O)<<10|1023&g.charCodeAt(_)),v+=o[240|O>>18]+o[128|O>>12&63]+o[128|O>>6&63]+o[128|63&O])}return v},isBuffer:function(e){return!(!e||typeof e!="object")&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,n){if(p(e)){for(var r=[],a=0;a<e.length;a+=1)r.push(n(e[a]));return r}return n(e)},merge:function e(n,r,a){if(!r)return n;if(typeof r!="object"){if(p(n))n.push(r);else{if(!n||typeof n!="object")return[n,r];(a&&(a.plainObjects||a.allowPrototypes)||!b.call(Object.prototype,r))&&(n[r]=!0)}return n}if(!n||typeof n!="object")return[n].concat(r);var l=n;return p(n)&&!p(r)&&(l=t(n,a)),p(n)&&p(r)?(r.forEach(function(g,v){if(b.call(n,v)){var _=n[v];_&&typeof _=="object"&&g&&typeof g=="object"?n[v]=e(_,g,a):n.push(g)}else n[v]=g}),n):Object.keys(r).reduce(function(g,v){var _=r[v];return b.call(g,v)?g[v]=e(g[v],_,a):g[v]=_,g},l)}}},function(S,i,u){function c(b){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(b)}S.exports=function(b){return b!==null&&c(b)==="object"}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(14)),o=c(u(16)),t=c(u(13)),e=c(u(7)),n=c(u(32)),r=c(u(33)),a=c(u(128)),l=c(u(25)),g=c(u(129)),v=c(u(130)),_=u(131),O=(u(2),c(u(151))),A=c(u(152));function k(f){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var h,P=(0,t.default)(f);if(s){var M=(0,t.default)(this).constructor;h=Reflect.construct(P,arguments,M)}else h=P.apply(this,arguments);return(0,o.default)(this,h)}}function j(f){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(f)}function x(f){for(var s=l.default.enc.Base64.parse(f).words,h=new ArrayBuffer(4*s.length),P=new Uint8Array(h),M=0,C=0,I=0;I<s.length;I+=1){var E=s[I];P[C=4*I]=(4278190080&E)>>24,P[C+1]=(16711680&E)>>16,P[C+2]=(65280&E)>>8,P[C+3]=255&E}for(var F=C+3;F>=C;F-=1)P[F]===0&&M<3&&(M+=1);return M>0?P.buffer.slice(0,P.byteLength-M):P.buffer}function T(f){var s=function(P){return P&&(0,e.default)(P)==="object"&&P.constructor===Object};if(!s(f))return f;var h={};return Object.keys(f).forEach(function(P){var M=function(E){return typeof E=="string"||E instanceof String}(P),C=P,I=f[P];Array.isArray(P)||M&&P.indexOf(",")>=0?C=(M?P.split(","):P).reduce(function(E,F){return E+=String.fromCharCode(F)},""):(function(E){return typeof E=="number"&&isFinite(E)}(P)||M&&!isNaN(P))&&(C=String.fromCharCode(M?parseInt(P,10):10)),h[C]=s(I)?T(I):I}),h}var d=function(f){(0,p.default)(h,f);var s=k(h);function h(P){var M;(0,b.default)(this,h);var C=P.listenToBrowserNetworkEvents,I=C===void 0||C;return P.db=g.default,P.sdkFamily="Web",P.networking=new a.default({del:_.del,get:_.get,post:_.post,patch:_.patch,sendBeacon:j,getfile:_.getfile,postfile:_.postfile}),P.cbor=new v.default(function(E){return T(n.default.decode(E))},x),P.PubNubFile=A.default,P.cryptography=new O.default,M=s.call(this,P),I&&(window.addEventListener("offline",function(){M.networkDownDetected()}),window.addEventListener("online",function(){M.networkUpDetected()})),M}return h}(r.default);i.default=d,S.exports=i.default},function(S,i,u){var c,b;(function(p,o){var t=Math.pow(2,-24),e=Math.pow(2,32),n=Math.pow(2,53);(b=typeof(c={encode:function(r){var a,l=new ArrayBuffer(256),g=new DataView(l),v=0;function _(f){for(var s=l.byteLength,h=v+f;s<h;)s*=2;if(s!==l.byteLength){var P=g;l=new ArrayBuffer(s),g=new DataView(l);for(var M=v+3>>2,C=0;C<M;++C)g.setUint32(4*C,P.getUint32(4*C))}return a=f,g}function O(){v+=a}function A(f){O(_(1).setUint8(v,f))}function k(f){for(var s=_(f.length),h=0;h<f.length;++h)s.setUint8(v+h,f[h]);O()}function j(f,s){s<24?A(f<<5|s):s<256?(A(f<<5|24),A(s)):s<65536?(A(f<<5|25),function(h){O(_(2).setUint16(v,h))}(s)):s<4294967296?(A(f<<5|26),function(h){O(_(4).setUint32(v,h))}(s)):(A(f<<5|27),function(h){var P=h%e,M=(h-P)/e,C=_(8);C.setUint32(v,M),C.setUint32(v+4,P),O()}(s))}if(function f(s){var h;if(s===!1)return A(244);if(s===!0)return A(245);if(s===null)return A(246);if(s===void 0)return A(247);switch(typeof s){case"number":if(Math.floor(s)===s){if(0<=s&&s<=n)return j(0,s);if(-n<=s&&s<0)return j(1,-(s+1))}return A(251),function(F){O(_(8).setFloat64(v,F))}(s);case"string":var P=[];for(h=0;h<s.length;++h){var M=s.charCodeAt(h);M<128?P.push(M):M<2048?(P.push(192|M>>6),P.push(128|63&M)):M<55296?(P.push(224|M>>12),P.push(128|M>>6&63),P.push(128|63&M)):(M=(1023&M)<<10,M|=1023&s.charCodeAt(++h),M+=65536,P.push(240|M>>18),P.push(128|M>>12&63),P.push(128|M>>6&63),P.push(128|63&M))}return j(3,P.length),k(P);default:var C;if(Array.isArray(s))for(j(4,C=s.length),h=0;h<C;++h)f(s[h]);else if(s instanceof Uint8Array)j(2,s.length),k(s);else{var I=Object.keys(s);for(j(5,C=I.length),h=0;h<C;++h){var E=I[h];f(E),f(s[E])}}}}(r),"slice"in l)return l.slice(0,v);for(var x=new ArrayBuffer(v),T=new DataView(x),d=0;d<v;++d)T.setUint8(d,g.getUint8(d));return x},decode:function(r,a,l){var g=new DataView(r),v=0;function _(h,P){return v+=P,h}function O(h){return _(new Uint8Array(r,v,h),h)}function A(){return _(g.getUint8(v),1)}function k(){return _(g.getUint16(v),2)}function j(){return _(g.getUint32(v),4)}function x(){return g.getUint8(v)===255&&(v+=1,!0)}function T(h){if(h<24)return h;if(h===24)return A();if(h===25)return k();if(h===26)return j();if(h===27)return j()*e+j();if(h===31)return-1;throw"Invalid length encoding"}function d(h){var P=A();if(P===255)return-1;var M=T(31&P);if(M<0||P>>5!==h)throw"Invalid indefinite length element";return M}function f(h,P){for(var M=0;M<P;++M){var C=A();128&C&&(C<224?(C=(31&C)<<6|63&A(),P-=1):C<240?(C=(15&C)<<12|(63&A())<<6|63&A(),P-=2):(C=(15&C)<<18|(63&A())<<12|(63&A())<<6|63&A(),P-=3)),C<65536?h.push(C):(C-=65536,h.push(55296|C>>10),h.push(56320|1023&C))}}typeof a!="function"&&(a=function(h){return h}),typeof l!="function"&&(l=function(){});var s=function h(){var P,M,C=A(),I=C>>5,E=31&C;if(I===7)switch(E){case 25:return function(){var ee=new ArrayBuffer(4),q=new DataView(ee),z=k(),D=32768&z,R=31744&z,G=1023&z;if(R===31744)R=261120;else if(R!==0)R+=114688;else if(G!==0)return G*t;return q.setUint32(0,D<<16|R<<13|G<<13),q.getFloat32(0)}();case 26:return _(g.getFloat32(v),4);case 27:return _(g.getFloat64(v),8)}if((M=T(E))<0&&(I<2||6<I))throw"Invalid length";switch(I){case 0:return M;case 1:return-1-M;case 2:if(M<0){for(var F=[],L=0;(M=d(I))>=0;)L+=M,F.push(O(M));var H=new Uint8Array(L),B=0;for(P=0;P<F.length;++P)H.set(F[P],B),B+=F[P].length;return H}return O(M);case 3:var V=[];if(M<0)for(;(M=d(I))>=0;)f(V,M);else f(V,M);return String.fromCharCode.apply(null,V);case 4:var $;if(M<0)for($=[];!x();)$.push(h());else for($=new Array(M),P=0;P<M;++P)$[P]=h();return $;case 5:var X={};for(P=0;P<M||M<0&&!x();++P)X[h()]=h();return X;case 6:return a(h(),M);case 7:switch(M){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return l(M)}}}();if(v!==r.byteLength)throw"Remaining bytes";return s}})=="function"?c.call(i,u,i,S):c)===void 0||(S.exports=b)})()},function(S,i,u){var c=u(0),b=u(7);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var p=c(u(5)),o=c(u(6)),t=c(u(4)),e=c(u(8)),n=c(u(23)),r=c(u(39)),a=c(u(43)),l=c(u(44)),g=c(u(26)),v=c(u(47)),_=c(u(18)),O=u(3),A=Q(u(52)),k=Q(u(53)),j=Q(u(54)),x=Q(u(55)),T=Q(u(56)),d=Q(u(57)),f=Q(u(58)),s=Q(u(59)),h=Q(u(60)),P=Q(u(61)),M=Q(u(62)),C=Q(u(63)),I=Q(u(64)),E=Q(u(65)),F=Q(u(66)),L=Q(u(67)),H=Q(u(68)),B=Q(u(69)),V=(u(28),Q(u(70)),c(u(71))),$=c(u(72)),X=c(u(73)),ee=c(u(74)),q=c(u(76)),z=c(u(77)),D=c(u(78)),R=c(u(79)),G=c(u(85)),y=c(u(86)),m=c(u(87)),w=c(u(88)),N=c(u(89)),U=c(u(90)),K=c(u(91)),Y=c(u(92)),Z=c(u(93)),oe=c(u(94)),ae=c(u(95)),te=Q(u(96)),ye=Q(u(97)),pe=Q(u(98)),ge=Q(u(99)),me=Q(u(100)),Pe=Q(u(101)),Ee=Q(u(102)),Te=Q(u(103)),je=Q(u(104)),xe=Q(u(105)),Re=Q(u(106)),Ae=Q(u(107)),J=Q(u(108)),ne=Q(u(109)),he=Q(u(110)),Oe=Q(u(111)),Ue=Q(u(112)),Ge=Q(u(113)),qe=Q(u(114)),He=Q(u(115)),ze=Q(u(116)),We=c(u(117)),Ve=Q(u(118)),Ye=Q(u(119)),Je=Q(u(120)),$e=Q(u(121)),Xe=Q(u(122)),Qe=Q(u(123)),Ze=Q(u(27)),et=Q(u(124)),tt=c(u(125)),nt=c(u(126)),rt=(Q(u(127)),c(u(1))),it=c(u(10)),ot=(u(2),c(u(17)));function Le(re){if(typeof WeakMap!="function")return null;var ue=new WeakMap,ie=new WeakMap;return(Le=function(ce){return ce?ie:ue})(re)}function Q(re,ue){if(!ue&&re&&re.__esModule)return re;if(re===null||b(re)!=="object"&&typeof re!="function")return{default:re};var ie=Le(ue);if(ie&&ie.has(re))return ie.get(re);var ce={},Me=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in re)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(re,ve)){var _e=Me?Object.getOwnPropertyDescriptor(re,ve):null;_e&&(_e.get||_e.set)?Object.defineProperty(ce,ve,_e):ce[ve]=re[ve]}return ce.default=re,ie&&ie.set(re,ce),ce}function Ke(re,ue){var ie=Object.keys(re);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(re);ue&&(ce=ce.filter(function(Me){return Object.getOwnPropertyDescriptor(re,Me).enumerable})),ie.push.apply(ie,ce)}return ie}function Ne(re){for(var ue=1;ue<arguments.length;ue++){var ie=arguments[ue]!=null?arguments[ue]:{};ue%2?Ke(Object(ie),!0).forEach(function(ce){(0,t.default)(re,ce,ie[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(ie)):Ke(Object(ie)).forEach(function(ce){Object.defineProperty(re,ce,Object.getOwnPropertyDescriptor(ie,ce))})}return re}var Ie=function(){function re(ue){var ie=this;(0,p.default)(this,re),(0,t.default)(this,"_config",void 0),(0,t.default)(this,"_telemetryManager",void 0),(0,t.default)(this,"_listenerManager",void 0),(0,t.default)(this,"_tokenManager",void 0),(0,t.default)(this,"time",void 0),(0,t.default)(this,"publish",void 0),(0,t.default)(this,"fire",void 0),(0,t.default)(this,"history",void 0),(0,t.default)(this,"deleteMessages",void 0),(0,t.default)(this,"messageCounts",void 0),(0,t.default)(this,"fetchMessages",void 0),(0,t.default)(this,"channelGroups",void 0),(0,t.default)(this,"push",void 0),(0,t.default)(this,"hereNow",void 0),(0,t.default)(this,"whereNow",void 0),(0,t.default)(this,"getState",void 0),(0,t.default)(this,"setState",void 0),(0,t.default)(this,"iAmHere",void 0),(0,t.default)(this,"iAmAway",void 0),(0,t.default)(this,"setPresenceState",void 0),(0,t.default)(this,"handshake",void 0),(0,t.default)(this,"receiveMessages",void 0),(0,t.default)(this,"grant",void 0),(0,t.default)(this,"grantToken",void 0),(0,t.default)(this,"audit",void 0),(0,t.default)(this,"revokeToken",void 0),(0,t.default)(this,"subscribe",void 0),(0,t.default)(this,"signal",void 0),(0,t.default)(this,"presence",void 0),(0,t.default)(this,"unsubscribe",void 0),(0,t.default)(this,"unsubscribeAll",void 0),(0,t.default)(this,"addMessageAction",void 0),(0,t.default)(this,"removeMessageAction",void 0),(0,t.default)(this,"getMessageActions",void 0),(0,t.default)(this,"File",void 0),(0,t.default)(this,"encryptFile",void 0),(0,t.default)(this,"decryptFile",void 0),(0,t.default)(this,"listFiles",void 0),(0,t.default)(this,"sendFile",void 0),(0,t.default)(this,"downloadFile",void 0),(0,t.default)(this,"getFileUrl",void 0),(0,t.default)(this,"deleteFile",void 0),(0,t.default)(this,"publishFile",void 0),(0,t.default)(this,"objects",void 0),(0,t.default)(this,"createUser",void 0),(0,t.default)(this,"updateUser",void 0),(0,t.default)(this,"deleteUser",void 0),(0,t.default)(this,"getUser",void 0),(0,t.default)(this,"getUsers",void 0),(0,t.default)(this,"createSpace",void 0),(0,t.default)(this,"updateSpace",void 0),(0,t.default)(this,"deleteSpace",void 0),(0,t.default)(this,"getSpaces",void 0),(0,t.default)(this,"getSpace",void 0),(0,t.default)(this,"getMembers",void 0),(0,t.default)(this,"addMembers",void 0),(0,t.default)(this,"updateMembers",void 0),(0,t.default)(this,"removeMembers",void 0),(0,t.default)(this,"getMemberships",void 0),(0,t.default)(this,"joinSpaces",void 0),(0,t.default)(this,"updateMemberships",void 0),(0,t.default)(this,"leaveSpaces",void 0),(0,t.default)(this,"disconnect",void 0),(0,t.default)(this,"reconnect",void 0),(0,t.default)(this,"destroy",void 0),(0,t.default)(this,"stop",void 0),(0,t.default)(this,"getSubscribedChannels",void 0),(0,t.default)(this,"getSubscribedChannelGroups",void 0),(0,t.default)(this,"addListener",void 0),(0,t.default)(this,"removeListener",void 0),(0,t.default)(this,"removeAllListeners",void 0),(0,t.default)(this,"parseToken",void 0),(0,t.default)(this,"setToken",void 0),(0,t.default)(this,"getToken",void 0),(0,t.default)(this,"getAuthKey",void 0),(0,t.default)(this,"setAuthKey",void 0),(0,t.default)(this,"setCipherKey",void 0),(0,t.default)(this,"setUUID",void 0),(0,t.default)(this,"getUUID",void 0),(0,t.default)(this,"getFilterExpression",void 0),(0,t.default)(this,"setFilterExpression",void 0),(0,t.default)(this,"setHeartbeatInterval",void 0),(0,t.default)(this,"setProxy",void 0),(0,t.default)(this,"encrypt",void 0),(0,t.default)(this,"decrypt",void 0);var ce=ue.networking,Me=ue.cbor,ve=this._config=new e.default({setup:ue}),_e=new n.default({config:ve}),Fe=ue.cryptography;ce.init(ve);var Se=this._tokenManager=new v.default(ve,Me),at=this._telemetryManager=new a.default({maximumSamplesCount:6e4}),W={config:ve,networking:ce,crypto:_e,cryptography:Fe,tokenManager:Se,telemetryManager:at,PubNubFile:ue.PubNubFile};this.File=ue.PubNubFile,this.encryptFile=function(se,le){return Fe.encryptFile(se,le,ie.File)},this.decryptFile=function(se,le){return Fe.decryptFile(se,le,ie.File)};var Be=_.default.bind(this,W,Ze),ut=_.default.bind(this,W,P),st=_.default.bind(this,W,C),ct=_.default.bind(this,W,E),lt=_.default.bind(this,W,et),we=this._listenerManager=new g.default,fe=new r.default({timeEndpoint:Be,leaveEndpoint:ut,heartbeatEndpoint:st,setStateEndpoint:ct,subscribeEndpoint:lt,crypto:W.crypto,config:W.config,listenerManager:we,getFileUrl:function(se){return(0,q.default)(W,se)}});this.addListener=we.addListener.bind(we),this.removeListener=we.removeListener.bind(we),this.removeAllListeners=we.removeAllListeners.bind(we),this.parseToken=Se.parseToken.bind(Se),this.setToken=Se.setToken.bind(Se),this.getToken=Se.getToken.bind(Se),this.channelGroups={listGroups:_.default.bind(this,W,x),listChannels:_.default.bind(this,W,T),addChannels:_.default.bind(this,W,A),removeChannels:_.default.bind(this,W,k),deleteGroup:_.default.bind(this,W,j)},this.push={addChannels:_.default.bind(this,W,d),removeChannels:_.default.bind(this,W,f),deleteDevice:_.default.bind(this,W,h),listChannels:_.default.bind(this,W,s)},this.hereNow=_.default.bind(this,W,F),this.whereNow=_.default.bind(this,W,M),this.getState=_.default.bind(this,W,I),this.setState=fe.adaptStateChange.bind(fe),this.iAmHere=_.default.bind(this,W,C),this.iAmAway=_.default.bind(this,W,P),this.setPresenceState=_.default.bind(this,W,E),this.grant=_.default.bind(this,W,He),this.grantToken=_.default.bind(this,W,ze),this.audit=_.default.bind(this,W,qe),this.revokeToken=_.default.bind(this,W,We.default),this.publish=_.default.bind(this,W,Ve),this.fire=function(se,le){return se.replicate=!1,se.storeInHistory=!1,ie.publish(se,le)},this.signal=_.default.bind(this,W,Ye),this.history=_.default.bind(this,W,Je),this.deleteMessages=_.default.bind(this,W,$e),this.messageCounts=_.default.bind(this,W,Xe),this.fetchMessages=_.default.bind(this,W,Qe),this.addMessageAction=_.default.bind(this,W,L),this.removeMessageAction=_.default.bind(this,W,H),this.getMessageActions=_.default.bind(this,W,B),this.listFiles=_.default.bind(this,W,V.default);var ft=_.default.bind(this,W,$.default);this.publishFile=_.default.bind(this,W,X.default),this.sendFile=(0,ee.default)({generateUploadUrl:ft,publishFile:this.publishFile,modules:W}),this.getFileUrl=function(se){return(0,q.default)(W,se)},this.downloadFile=_.default.bind(this,W,z.default),this.deleteFile=_.default.bind(this,W,D.default),this.handshake=_.default.bind(this,W,tt.default),this.receiveMessages=_.default.bind(this,W,nt.default),this.objects={getAllUUIDMetadata:_.default.bind(this,W,R.default),getUUIDMetadata:_.default.bind(this,W,G.default),setUUIDMetadata:_.default.bind(this,W,y.default),removeUUIDMetadata:_.default.bind(this,W,m.default),getAllChannelMetadata:_.default.bind(this,W,w.default),getChannelMetadata:_.default.bind(this,W,N.default),setChannelMetadata:_.default.bind(this,W,U.default),removeChannelMetadata:_.default.bind(this,W,K.default),getChannelMembers:_.default.bind(this,W,Y.default),setChannelMembers:function(se){for(var le=arguments.length,be=new Array(le>1?le-1:0),de=1;de<le;de++)be[de-1]=arguments[de];return _.default.call.apply(_.default,[ie,W,Z.default,Ne({type:"set"},se)].concat(be))},removeChannelMembers:function(se){for(var le=arguments.length,be=new Array(le>1?le-1:0),de=1;de<le;de++)be[de-1]=arguments[de];return _.default.call.apply(_.default,[ie,W,Z.default,Ne({type:"delete"},se)].concat(be))},getMemberships:_.default.bind(this,W,oe.default),setMemberships:function(se){for(var le=arguments.length,be=new Array(le>1?le-1:0),de=1;de<le;de++)be[de-1]=arguments[de];return _.default.call.apply(_.default,[ie,W,ae.default,Ne({type:"set"},se)].concat(be))},removeMemberships:function(se){for(var le=arguments.length,be=new Array(le>1?le-1:0),de=1;de<le;de++)be[de-1]=arguments[de];return _.default.call.apply(_.default,[ie,W,ae.default,Ne({type:"delete"},se)].concat(be))}},this.createUser=(0,O.deprecated)(_.default.bind(this,W,te)),this.updateUser=(0,O.deprecated)(_.default.bind(this,W,ye)),this.deleteUser=(0,O.deprecated)(_.default.bind(this,W,pe)),this.getUser=(0,O.deprecated)(_.default.bind(this,W,ge)),this.getUsers=(0,O.deprecated)(_.default.bind(this,W,me)),this.createSpace=(0,O.deprecated)(_.default.bind(this,W,Pe)),this.updateSpace=(0,O.deprecated)(_.default.bind(this,W,Ee)),this.deleteSpace=(0,O.deprecated)(_.default.bind(this,W,Te)),this.getSpaces=(0,O.deprecated)(_.default.bind(this,W,je)),this.getSpace=(0,O.deprecated)(_.default.bind(this,W,xe)),this.addMembers=(0,O.deprecated)(_.default.bind(this,W,Ae)),this.updateMembers=(0,O.deprecated)(_.default.bind(this,W,J)),this.removeMembers=(0,O.deprecated)(_.default.bind(this,W,ne)),this.getMembers=(0,O.deprecated)(_.default.bind(this,W,Re)),this.getMemberships=(0,O.deprecated)(_.default.bind(this,W,he)),this.joinSpaces=(0,O.deprecated)(_.default.bind(this,W,Ue)),this.updateMemberships=(0,O.deprecated)(_.default.bind(this,W,Oe)),this.leaveSpaces=(0,O.deprecated)(_.default.bind(this,W,Ge)),this.time=Be,this.subscribe=fe.adaptSubscribeChange.bind(fe),this.presence=fe.adaptPresenceChange.bind(fe),this.unsubscribe=fe.adaptUnsubscribeChange.bind(fe),this.disconnect=fe.disconnect.bind(fe),this.reconnect=fe.reconnect.bind(fe),this.destroy=function(se){fe.unsubscribeAll(se),fe.disconnect()},this.stop=this.destroy,this.unsubscribeAll=fe.unsubscribeAll.bind(fe),this.getSubscribedChannels=fe.getSubscribedChannels.bind(fe),this.getSubscribedChannelGroups=fe.getSubscribedChannelGroups.bind(fe),this.encrypt=_e.encrypt.bind(_e),this.decrypt=_e.decrypt.bind(_e),this.getAuthKey=W.config.getAuthKey.bind(W.config),this.setAuthKey=W.config.setAuthKey.bind(W.config),this.setCipherKey=W.config.setCipherKey.bind(W.config),this.getUUID=W.config.getUUID.bind(W.config),this.setUUID=W.config.setUUID.bind(W.config),this.getFilterExpression=W.config.getFilterExpression.bind(W.config),this.setFilterExpression=W.config.setFilterExpression.bind(W.config),this.setHeartbeatInterval=W.config.setHeartbeatInterval.bind(W.config),ce.hasModule("proxy")&&(this.setProxy=function(se){W.config.setProxy(se),ie.reconnect()})}return(0,o.default)(re,[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"_addPnsdkSuffix",value:function(ue,ie){this._config._addPnsdkSuffix(ue,ie)}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}],[{key:"notificationPayload",value:function(ue,ie){return new l.default(ue,ie)}},{key:"generateUUID",value:function(){return ot.default.createUUID()}}]),re}();i.default=Ie,(0,t.default)(Ie,"OPERATIONS",rt.default),(0,t.default)(Ie,"CATEGORIES",it.default),S.exports=i.default},function(S,i,u){var c,b,p;/*! lil-uuid - v0.1 - MIT License - https://github.com/lil-js/uuid */b=[i],(p=typeof(c=function(o){var t={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function e(){var r,a,l="";for(r=0;r<32;r++)a=16*Math.random()|0,r!==8&&r!==12&&r!==16&&r!==20||(l+="-"),l+=(r===12?4:r===16?3&a|8:a).toString(16);return l}function n(r,a){var l=t[a||"all"];return l&&l.test(r)||!1}e.isUUID=n,e.VERSION="0.1.0",o.uuid=e,o.isUUID=n})=="function"?c.apply(i,b):c)===void 0||(S.exports=p)},function(S,i){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}S.exports=u},function(S,i,u){i.byteLength=function(a){var l=n(a),g=l[0],v=l[1];return 3*(g+v)/4-v},i.toByteArray=function(a){var l,g,v=n(a),_=v[0],O=v[1],A=new p(function(x,T,d){return 3*(T+d)/4-d}(0,_,O)),k=0,j=O>0?_-4:_;for(g=0;g<j;g+=4)l=b[a.charCodeAt(g)]<<18|b[a.charCodeAt(g+1)]<<12|b[a.charCodeAt(g+2)]<<6|b[a.charCodeAt(g+3)],A[k++]=l>>16&255,A[k++]=l>>8&255,A[k++]=255&l;return O===2&&(l=b[a.charCodeAt(g)]<<2|b[a.charCodeAt(g+1)]>>4,A[k++]=255&l),O===1&&(l=b[a.charCodeAt(g)]<<10|b[a.charCodeAt(g+1)]<<4|b[a.charCodeAt(g+2)]>>2,A[k++]=l>>8&255,A[k++]=255&l),A},i.fromByteArray=function(a){for(var l,g=a.length,v=g%3,_=[],O=0,A=g-v;O<A;O+=16383)_.push(r(a,O,O+16383>A?A:O+16383));return v===1?(l=a[g-1],_.push(c[l>>2]+c[l<<4&63]+"==")):v===2&&(l=(a[g-2]<<8)+a[g-1],_.push(c[l>>10]+c[l>>4&63]+c[l<<2&63]+"=")),_.join("")};for(var c=[],b=[],p=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=o.length;t<e;++t)c[t]=o[t],b[o.charCodeAt(t)]=t;function n(a){var l=a.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=a.indexOf("=");return g===-1&&(g=l),[g,g===l?0:4-g%4]}function r(a,l,g){for(var v,_,O=[],A=l;A<g;A+=3)v=(a[A]<<16&16711680)+(a[A+1]<<8&65280)+(255&a[A+2]),O.push(c[(_=v)>>18&63]+c[_>>12&63]+c[_>>6&63]+c[63&_]);return O.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},function(S,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(u,c,b,p,o){var t,e,n=8*o-p-1,r=(1<<n)-1,a=r>>1,l=-7,g=b?o-1:0,v=b?-1:1,_=u[c+g];for(g+=v,t=_&(1<<-l)-1,_>>=-l,l+=n;l>0;t=256*t+u[c+g],g+=v,l-=8);for(e=t&(1<<-l)-1,t>>=-l,l+=p;l>0;e=256*e+u[c+g],g+=v,l-=8);if(t===0)t=1-a;else{if(t===r)return e?NaN:1/0*(_?-1:1);e+=Math.pow(2,p),t-=a}return(_?-1:1)*e*Math.pow(2,t-p)},i.write=function(u,c,b,p,o,t){var e,n,r,a=8*t-o-1,l=(1<<a)-1,g=l>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=p?0:t-1,O=p?1:-1,A=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(n=isNaN(c)?1:0,e=l):(e=Math.floor(Math.log(c)/Math.LN2),c*(r=Math.pow(2,-e))<1&&(e--,r*=2),(c+=e+g>=1?v/r:v*Math.pow(2,1-g))*r>=2&&(e++,r/=2),e+g>=l?(n=0,e=l):e+g>=1?(n=(c*r-1)*Math.pow(2,o),e+=g):(n=c*Math.pow(2,g-1)*Math.pow(2,o),e=0));o>=8;u[b+_]=255&n,_+=O,n/=256,o-=8);for(e=e<<o|n,a+=o;a>0;u[b+_]=255&e,_+=O,e/=256,a-=8);u[b+_-O]|=128*A}},function(S,i){var u={}.toString;S.exports=Array.isArray||function(c){return u.call(c)=="[object Array]"}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(7)),p=c(u(5)),o=c(u(6)),t=c(u(4)),e=(c(u(23)),c(u(8)),c(u(26)),c(u(40))),n=c(u(41)),r=c(u(3)),a=(u(2),c(u(10))),l=function(){function g(v){var _=v.subscribeEndpoint,O=v.leaveEndpoint,A=v.heartbeatEndpoint,k=v.setStateEndpoint,j=v.timeEndpoint,x=v.getFileUrl,T=v.config,d=v.crypto,f=v.listenerManager;(0,p.default)(this,g),(0,t.default)(this,"_crypto",void 0),(0,t.default)(this,"_config",void 0),(0,t.default)(this,"_listenerManager",void 0),(0,t.default)(this,"_reconnectionManager",void 0),(0,t.default)(this,"_leaveEndpoint",void 0),(0,t.default)(this,"_heartbeatEndpoint",void 0),(0,t.default)(this,"_setStateEndpoint",void 0),(0,t.default)(this,"_subscribeEndpoint",void 0),(0,t.default)(this,"_getFileUrl",void 0),(0,t.default)(this,"_channels",void 0),(0,t.default)(this,"_presenceChannels",void 0),(0,t.default)(this,"_heartbeatChannels",void 0),(0,t.default)(this,"_heartbeatChannelGroups",void 0),(0,t.default)(this,"_channelGroups",void 0),(0,t.default)(this,"_presenceChannelGroups",void 0),(0,t.default)(this,"_currentTimetoken",void 0),(0,t.default)(this,"_lastTimetoken",void 0),(0,t.default)(this,"_storedTimetoken",void 0),(0,t.default)(this,"_region",void 0),(0,t.default)(this,"_subscribeCall",void 0),(0,t.default)(this,"_heartbeatTimer",void 0),(0,t.default)(this,"_subscriptionStatusAnnounced",void 0),(0,t.default)(this,"_autoNetworkDetection",void 0),(0,t.default)(this,"_isOnline",void 0),(0,t.default)(this,"_pendingChannelSubscriptions",void 0),(0,t.default)(this,"_pendingChannelGroupSubscriptions",void 0),(0,t.default)(this,"_dedupingManager",void 0),this._listenerManager=f,this._config=T,this._leaveEndpoint=O,this._heartbeatEndpoint=A,this._setStateEndpoint=k,this._subscribeEndpoint=_,this._getFileUrl=x,this._crypto=d,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new e.default({timeEndpoint:j}),this._dedupingManager=new n.default({config:T})}return(0,o.default)(g,[{key:"adaptStateChange",value:function(v,_){var O=this,A=v.state,k=v.channels,j=k===void 0?[]:k,x=v.channelGroups,T=x===void 0?[]:x;return j.forEach(function(d){d in O._channels&&(O._channels[d].state=A)}),T.forEach(function(d){d in O._channelGroups&&(O._channelGroups[d].state=A)}),this._setStateEndpoint({state:A,channels:j,channelGroups:T},_)}},{key:"adaptPresenceChange",value:function(v){var _=this,O=v.connected,A=v.channels,k=A===void 0?[]:A,j=v.channelGroups,x=j===void 0?[]:j;O?(k.forEach(function(T){_._heartbeatChannels[T]={state:{}}}),x.forEach(function(T){_._heartbeatChannelGroups[T]={state:{}}})):(k.forEach(function(T){T in _._heartbeatChannels&&delete _._heartbeatChannels[T]}),x.forEach(function(T){T in _._heartbeatChannelGroups&&delete _._heartbeatChannelGroups[T]}),this._config.suppressLeaveEvents===!1&&this._leaveEndpoint({channels:k,channelGroups:x},function(T){_._listenerManager.announceStatus(T)})),this.reconnect()}},{key:"adaptSubscribeChange",value:function(v){var _=this,O=v.timetoken,A=v.channels,k=A===void 0?[]:A,j=v.channelGroups,x=j===void 0?[]:j,T=v.withPresence,d=T!==void 0&&T,f=v.withHeartbeats,s=f!==void 0&&f;this._config.subscribeKey&&this._config.subscribeKey!==""?(O&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=O),this._currentTimetoken!=="0"&&this._currentTimetoken!==0&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),k.forEach(function(h){_._channels[h]={state:{}},d&&(_._presenceChannels[h]={}),(s||_._config.getHeartbeatInterval())&&(_._heartbeatChannels[h]={}),_._pendingChannelSubscriptions.push(h)}),x.forEach(function(h){_._channelGroups[h]={state:{}},d&&(_._presenceChannelGroups[h]={}),(s||_._config.getHeartbeatInterval())&&(_._heartbeatChannelGroups[h]={}),_._pendingChannelGroupSubscriptions.push(h)}),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(v,_){var O=this,A=v.channels,k=A===void 0?[]:A,j=v.channelGroups,x=j===void 0?[]:j,T=[],d=[];k.forEach(function(f){f in O._channels&&(delete O._channels[f],T.push(f),f in O._heartbeatChannels&&delete O._heartbeatChannels[f]),f in O._presenceChannels&&(delete O._presenceChannels[f],T.push(f))}),x.forEach(function(f){f in O._channelGroups&&(delete O._channelGroups[f],d.push(f),f in O._heartbeatChannelGroups&&delete O._heartbeatChannelGroups[f]),f in O._presenceChannelGroups&&(delete O._presenceChannelGroups[f],d.push(f))}),T.length===0&&d.length===0||(this._config.suppressLeaveEvents!==!1||_||this._leaveEndpoint({channels:T,channelGroups:d},function(f){f.affectedChannels=T,f.affectedChannelGroups=d,f.currentTimetoken=O._currentTimetoken,f.lastTimetoken=O._lastTimetoken,O._listenerManager.announceStatus(f)}),Object.keys(this._channels).length===0&&Object.keys(this._presenceChannels).length===0&&Object.keys(this._channelGroups).length===0&&Object.keys(this._presenceChannelGroups).length===0&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(v){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},v)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),this._config.getHeartbeatInterval()!==0&&this._config.getHeartbeatInterval()!==void 0&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var v=this,_=this.getHeartbeatChannels(),O=this.getHeartbeatChannelGroups(),A={};(_.length!==0||O.length!==0)&&(this.getSubscribedChannels().forEach(function(k){var j=v._channels[k].state;Object.keys(j).length&&(A[k]=j)}),this.getSubscribedChannelGroups().forEach(function(k){var j=v._channelGroups[k].state;Object.keys(j).length&&(A[k]=j)}),this._heartbeatEndpoint({channels:_,channelGroups:O,state:A},function(k){k.error&&v._config.announceFailedHeartbeats&&v._listenerManager.announceStatus(k),k.error&&v._config.autoNetworkDetection&&v._isOnline&&(v._isOnline=!1,v.disconnect(),v._listenerManager.announceNetworkDown(),v.reconnect()),!k.error&&v._config.announceSuccessfulHeartbeats&&v._listenerManager.announceStatus(k)}.bind(this)))}},{key:"_startSubscribeLoop",value:function(){var v=this;this._stopSubscribeLoop();var _={},O=[],A=[];if(Object.keys(this._channels).forEach(function(j){var x=v._channels[j].state;Object.keys(x).length&&(_[j]=x),O.push(j)}),Object.keys(this._presenceChannels).forEach(function(j){O.push("".concat(j,"-pnpres"))}),Object.keys(this._channelGroups).forEach(function(j){var x=v._channelGroups[j].state;Object.keys(x).length&&(_[j]=x),A.push(j)}),Object.keys(this._presenceChannelGroups).forEach(function(j){A.push("".concat(j,"-pnpres"))}),O.length!==0||A.length!==0){var k={channels:O,channelGroups:A,state:_,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(k,this._processSubscribeResponse.bind(this))}}},{key:"_processSubscribeResponse",value:function(v,_){var O=this;if(v.error)v.category===a.default.PNTimeoutCategory?this._startSubscribeLoop():v.category===a.default.PNNetworkIssuesCategory?(this.disconnect(),v.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection(function(){O._config.autoNetworkDetection&&!O._isOnline&&(O._isOnline=!0,O._listenerManager.announceNetworkUp()),O.reconnect(),O._subscriptionStatusAnnounced=!0;var f={category:a.default.PNReconnectedCategory,operation:v.operation,lastTimetoken:O._lastTimetoken,currentTimetoken:O._currentTimetoken};O._listenerManager.announceStatus(f)}),this._reconnectionManager.startPolling(),this._listenerManager.announceStatus(v)):v.category===a.default.PNBadRequestCategory?(this._stopHeartbeatTimer(),this._listenerManager.announceStatus(v)):this._listenerManager.announceStatus(v);else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=_.metadata.timetoken),!this._subscriptionStatusAnnounced){var A={};A.category=a.default.PNConnectedCategory,A.operation=v.operation,A.affectedChannels=this._pendingChannelSubscriptions,A.subscribedChannels=this.getSubscribedChannels(),A.affectedChannelGroups=this._pendingChannelGroupSubscriptions,A.lastTimetoken=this._lastTimetoken,A.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(A),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var k=_.messages||[],j=this._config,x=j.requestMessageCountThreshold,T=j.dedupeOnSubscribe;if(x&&k.length>=x){var d={};d.category=a.default.PNRequestMessageCountExceededCategory,d.operation=v.operation,this._listenerManager.announceStatus(d)}k.forEach(function(f){var s=f.channel,h=f.subscriptionMatch,P=f.publishMetaData;if(s===h&&(h=null),T){if(O._dedupingManager.isDuplicate(f))return;O._dedupingManager.addEntry(f)}if(r.default.endsWith(f.channel,"-pnpres")){var M={channel:null,subscription:null};M.actualChannel=h!=null?s:null,M.subscribedChannel=h!=null?h:s,s&&(M.channel=s.substring(0,s.lastIndexOf("-pnpres"))),h&&(M.subscription=h.substring(0,h.lastIndexOf("-pnpres"))),M.action=f.payload.action,M.state=f.payload.data,M.timetoken=P.publishTimetoken,M.occupancy=f.payload.occupancy,M.uuid=f.payload.uuid,M.timestamp=f.payload.timestamp,f.payload.join&&(M.join=f.payload.join),f.payload.leave&&(M.leave=f.payload.leave),f.payload.timeout&&(M.timeout=f.payload.timeout),O._listenerManager.announcePresence(M)}else if(f.messageType===1){var C={channel:null,subscription:null};C.channel=s,C.subscription=h,C.timetoken=P.publishTimetoken,C.publisher=f.issuingClientId,f.userMetadata&&(C.userMetadata=f.userMetadata),C.message=f.payload,O._listenerManager.announceSignal(C)}else if(f.messageType===2){var I={channel:null,subscription:null};I.channel=s,I.subscription=h,I.timetoken=P.publishTimetoken,I.publisher=f.issuingClientId,f.userMetadata&&(I.userMetadata=f.userMetadata),I.message={event:f.payload.event,type:f.payload.type,data:f.payload.data},O._listenerManager.announceObjects(I),f.payload.type==="user"?O._listenerManager.announceUser(I):f.payload.type==="space"?O._listenerManager.announceSpace(I):f.payload.type==="membership"&&O._listenerManager.announceMembership(I)}else if(f.messageType===3){var E={};E.channel=s,E.subscription=h,E.timetoken=P.publishTimetoken,E.publisher=f.issuingClientId,E.data={messageTimetoken:f.payload.data.messageTimetoken,actionTimetoken:f.payload.data.actionTimetoken,type:f.payload.data.type,uuid:f.issuingClientId,value:f.payload.data.value},E.event=f.payload.event,O._listenerManager.announceMessageAction(E)}else if(f.messageType===4){var F={};F.channel=s,F.subscription=h,F.timetoken=P.publishTimetoken,F.publisher=f.issuingClientId;var L=f.payload;if(O._config.cipherKey){var H=O._crypto.decrypt(f.payload);(0,b.default)(H)==="object"&&H!==null&&(L=H)}f.userMetadata&&(F.userMetadata=f.userMetadata),F.message=L.message,F.file={id:L.file.id,name:L.file.name,url:O._getFileUrl({id:L.file.id,name:L.file.name,channel:s})},O._listenerManager.announceFile(F)}else{var B={channel:null,subscription:null};B.actualChannel=h!=null?s:null,B.subscribedChannel=h!=null?h:s,B.channel=s,B.subscription=h,B.timetoken=P.publishTimetoken,B.publisher=f.issuingClientId,f.userMetadata&&(B.userMetadata=f.userMetadata),O._config.cipherKey?B.message=O._crypto.decrypt(f.payload):B.message=f.payload,O._listenerManager.announceMessage(B)}}),this._region=_.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&(typeof this._subscribeCall.abort=="function"&&this._subscribeCall.abort(),this._subscribeCall=null)}}]),g}();i.default=l,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=(c(u(27)),u(2),function(){function e(n){var r=n.timeEndpoint;(0,b.default)(this,e),(0,o.default)(this,"_reconnectionCallback",void 0),(0,o.default)(this,"_timeEndpoint",void 0),(0,o.default)(this,"_timeTimer",void 0),this._timeEndpoint=r}return(0,p.default)(e,[{key:"onReconnection",value:function(n){this._reconnectionCallback=n}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var n=this;this._timeEndpoint(function(r){r.error||(clearInterval(n._timeTimer),n._reconnectionCallback())})}}]),e}());i.default=t,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=(c(u(8)),u(2),function(){function e(n){var r=n.config;(0,b.default)(this,e),(0,o.default)(this,"_config",void 0),(0,o.default)(this,"hashHistory",void 0),this.hashHistory=[],this._config=r}return(0,p.default)(e,[{key:"getKey",value:function(n){var r=function(l){var g=0;if(l.length===0)return g;for(var v=0;v<l.length;v+=1)g=(g<<5)-g+l.charCodeAt(v),g&=g;return g}(JSON.stringify(n.payload)).toString(),a=n.publishMetaData.publishTimetoken;return"".concat(a,"-").concat(r)}},{key:"isDuplicate",value:function(n){return this.hashHistory.includes(this.getKey(n))}},{key:"addEntry",value:function(n){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(n))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}]),e}());i.default=t,S.exports=i.default},function(S,i){var u,c,b=S.exports={};function p(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function t(O){if(u===setTimeout)return setTimeout(O,0);if((u===p||!u)&&setTimeout)return u=setTimeout,setTimeout(O,0);try{return u(O,0)}catch{try{return u.call(null,O,0)}catch{return u.call(this,O,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:p}catch{u=p}try{c=typeof clearTimeout=="function"?clearTimeout:o}catch{c=o}})();var e,n=[],r=!1,a=-1;function l(){r&&e&&(r=!1,e.length?n=e.concat(n):a=-1,n.length&&g())}function g(){if(!r){var O=t(l);r=!0;for(var A=n.length;A;){for(e=n,n=[];++a<A;)e&&e[a].run();a=-1,A=n.length}e=null,r=!1,function(k){if(c===clearTimeout)return clearTimeout(k);if((c===o||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(k);try{c(k)}catch{try{return c.call(null,k)}catch{return c.call(this,k)}}}(O)}}function v(O,A){this.fun=O,this.array=A}function _(){}b.nextTick=function(O){var A=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)A[k-1]=arguments[k];n.push(new v(O,A)),n.length!==1||r||t(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=_,b.addListener=_,b.once=_,b.off=_,b.removeListener=_,b.removeAllListeners=_,b.emit=_,b.prependListener=_,b.prependOnceListener=_,b.listeners=function(O){return[]},b.binding=function(O){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(O){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=c(u(1)),e=function(){function n(r){(0,b.default)(this,n),(0,o.default)(this,"_maximumSamplesCount",100),(0,o.default)(this,"_trackedLatencies",{}),(0,o.default)(this,"_latencies",{}),this._maximumSamplesCount=r.maximumSamplesCount||this._maximumSamplesCount}return(0,p.default)(n,[{key:"operationsLatencyForRequest",value:function(){var r=this,a={};return Object.keys(this._latencies).forEach(function(l){var g=r._latencies[l],v=r._averageLatency(g);v>0&&(a["l_".concat(l)]=v)}),a}},{key:"startLatencyMeasure",value:function(r,a){r!==t.default.PNSubscribeOperation&&a&&(this._trackedLatencies[a]=Date.now())}},{key:"stopLatencyMeasure",value:function(r,a){if(r!==t.default.PNSubscribeOperation&&a){var l=this._endpointName(r),g=this._latencies[l],v=this._trackedLatencies[a];g||(g=this._latencies[l]=[]),g.push(Date.now()-v),g.length>this._maximumSamplesCount&&g.splice(0,g.length-this._maximumSamplesCount),delete this._trackedLatencies[a]}}},{key:"_averageLatency",value:function(r){return Math.floor(r.reduce(function(a,l){return a+l},0)/r.length)}},{key:"_endpointName",value:function(r){var a=null;switch(r){case t.default.PNPublishOperation:a="pub";break;case t.default.PNSignalOperation:a="sig";break;case t.default.PNHistoryOperation:case t.default.PNFetchMessagesOperation:case t.default.PNDeleteMessagesOperation:case t.default.PNMessageCounts:a="hist";break;case t.default.PNUnsubscribeOperation:case t.default.PNWhereNowOperation:case t.default.PNHereNowOperation:case t.default.PNHeartbeatOperation:case t.default.PNSetStateOperation:case t.default.PNGetStateOperation:a="pres";break;case t.default.PNAddChannelsToGroupOperation:case t.default.PNRemoveChannelsFromGroupOperation:case t.default.PNChannelGroupsOperation:case t.default.PNRemoveGroupOperation:case t.default.PNChannelsForGroupOperation:a="cg";break;case t.default.PNPushNotificationEnabledChannelsOperation:case t.default.PNRemoveAllPushNotificationsOperation:a="push";break;case t.default.PNCreateUserOperation:case t.default.PNUpdateUserOperation:case t.default.PNDeleteUserOperation:case t.default.PNGetUserOperation:case t.default.PNGetUsersOperation:case t.default.PNCreateSpaceOperation:case t.default.PNUpdateSpaceOperation:case t.default.PNDeleteSpaceOperation:case t.default.PNGetSpaceOperation:case t.default.PNGetSpacesOperation:case t.default.PNGetMembersOperation:case t.default.PNUpdateMembersOperation:case t.default.PNGetMembershipsOperation:case t.default.PNUpdateMembershipsOperation:a="obj";break;case t.default.PNAddMessageActionOperation:case t.default.PNRemoveMessageActionOperation:case t.default.PNGetMessageActionsOperation:a="msga";break;case t.default.PNAccessManagerGrant:case t.default.PNAccessManagerAudit:a="pam";break;case t.default.PNAccessManagerGrantToken:case t.default.PNAccessManagerRevokeToken:a="pamv3";break;default:a="time"}return a}}]),n}();i.default=e,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.MPNSNotificationPayload=i.FCMNotificationPayload=i.APNSNotificationPayload=void 0;var b=c(u(45)),p=c(u(22)),o=c(u(14)),t=c(u(16)),e=c(u(13)),n=c(u(5)),r=c(u(6)),a=c(u(4)),l=(u(2),["notification","data"]);function g(T,d){var f=Object.keys(T);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(T);d&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(T,h).enumerable})),f.push.apply(f,s)}return f}function v(T){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?g(Object(f),!0).forEach(function(s){(0,a.default)(T,s,f[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(f)):g(Object(f)).forEach(function(s){Object.defineProperty(T,s,Object.getOwnPropertyDescriptor(f,s))})}return T}function _(T){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var f,s=(0,e.default)(T);if(d){var h=(0,e.default)(this).constructor;f=Reflect.construct(s,arguments,h)}else f=s.apply(this,arguments);return(0,t.default)(this,f)}}var O=function(){function T(d,f,s){(0,n.default)(this,T),(0,a.default)(this,"_subtitle",void 0),(0,a.default)(this,"_payload",void 0),(0,a.default)(this,"_badge",void 0),(0,a.default)(this,"_sound",void 0),(0,a.default)(this,"_title",void 0),(0,a.default)(this,"_body",void 0),this._payload=d,this._setDefaultPayloadStructure(),this.title=f,this.body=s}return(0,r.default)(T,[{key:"payload",get:function(){return this._payload}},{key:"title",set:function(d){this._title=d}},{key:"subtitle",set:function(d){this._subtitle=d}},{key:"body",set:function(d){this._body=d}},{key:"badge",set:function(d){this._badge=d}},{key:"sound",set:function(d){this._sound=d}},{key:"_setDefaultPayloadStructure",value:function(){}},{key:"toObject",value:function(){return{}}}]),T}(),A=function(T){(0,o.default)(f,T);var d=_(f);function f(){var s;(0,n.default)(this,f);for(var h=arguments.length,P=new Array(h),M=0;M<h;M++)P[M]=arguments[M];return s=d.call.apply(d,[this].concat(P)),(0,a.default)((0,p.default)(s),"_configurations",void 0),(0,a.default)((0,p.default)(s),"_apnsPushType",void 0),(0,a.default)((0,p.default)(s),"_isSilent",void 0),s}return(0,r.default)(f,[{key:"configurations",set:function(s){s&&s.length&&(this._configurations=s)}},{key:"notification",get:function(){return this._payload.aps}},{key:"title",get:function(){return this._title},set:function(s){s&&s.length&&(this._payload.aps.alert.title=s,this._title=s)}},{key:"subtitle",get:function(){return this._subtitle},set:function(s){s&&s.length&&(this._payload.aps.alert.subtitle=s,this._subtitle=s)}},{key:"body",get:function(){return this._body},set:function(s){s&&s.length&&(this._payload.aps.alert.body=s,this._body=s)}},{key:"badge",get:function(){return this._badge},set:function(s){s!=null&&(this._payload.aps.badge=s,this._badge=s)}},{key:"sound",get:function(){return this._sound},set:function(s){s&&s.length&&(this._payload.aps.sound=s,this._sound=s)}},{key:"silent",set:function(s){this._isSilent=s}},{key:"_setDefaultPayloadStructure",value:function(){this._payload.aps={alert:{}}}},{key:"toObject",value:function(){var s=this,h=v({},this._payload),P=h.aps,M=P.alert;if(this._isSilent&&(P["content-available"]=1),this._apnsPushType==="apns2"){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");var C=[];this._configurations.forEach(function(I){C.push(s._objectFromAPNS2Configuration(I))}),C.length&&(h.pn_push=C)}return M&&Object.keys(M).length||delete P.alert,this._isSilent&&(delete P.alert,delete P.badge,delete P.sound,M={}),this._isSilent||Object.keys(M).length?h:null}},{key:"_objectFromAPNS2Configuration",value:function(s){var h=this;if(!s.targets||!s.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");var P=[];s.targets.forEach(function(E){P.push(h._objectFromAPNSTarget(E))});var M=s.collapseId,C=s.expirationDate,I={auth_method:"token",targets:P,version:"v2"};return M&&M.length&&(I.collapse_id=M),C&&(I.expiration=C.toISOString()),I}},{key:"_objectFromAPNSTarget",value:function(s){if(!s.topic||!s.topic.length)throw new TypeError("Target 'topic' undefined.");var h=s.topic,P=s.environment,M=P===void 0?"development":P,C=s.excludedDevices,I=C===void 0?[]:C,E={topic:h,environment:M};return I.length&&(E.excluded_devices=I),E}}]),f}(O);i.APNSNotificationPayload=A;var k=function(T){(0,o.default)(f,T);var d=_(f);function f(){var s;(0,n.default)(this,f);for(var h=arguments.length,P=new Array(h),M=0;M<h;M++)P[M]=arguments[M];return s=d.call.apply(d,[this].concat(P)),(0,a.default)((0,p.default)(s),"_backContent",void 0),(0,a.default)((0,p.default)(s),"_backTitle",void 0),(0,a.default)((0,p.default)(s),"_count",void 0),(0,a.default)((0,p.default)(s),"_type",void 0),s}return(0,r.default)(f,[{key:"backContent",get:function(){return this._backContent},set:function(s){s&&s.length&&(this._payload.back_content=s,this._backContent=s)}},{key:"backTitle",get:function(){return this._backTitle},set:function(s){s&&s.length&&(this._payload.back_title=s,this._backTitle=s)}},{key:"count",get:function(){return this._count},set:function(s){s!=null&&(this._payload.count=s,this._count=s)}},{key:"title",get:function(){return this._title},set:function(s){s&&s.length&&(this._payload.title=s,this._title=s)}},{key:"type",get:function(){return this._type},set:function(s){s&&s.length&&(this._payload.type=s,this._type=s)}},{key:"subtitle",get:function(){return this.backTitle},set:function(s){this.backTitle=s}},{key:"body",get:function(){return this.backContent},set:function(s){this.backContent=s}},{key:"badge",get:function(){return this.count},set:function(s){this.count=s}},{key:"toObject",value:function(){return Object.keys(this._payload).length?v({},this._payload):null}}]),f}(O);i.MPNSNotificationPayload=k;var j=function(T){(0,o.default)(f,T);var d=_(f);function f(){var s;(0,n.default)(this,f);for(var h=arguments.length,P=new Array(h),M=0;M<h;M++)P[M]=arguments[M];return s=d.call.apply(d,[this].concat(P)),(0,a.default)((0,p.default)(s),"_isSilent",void 0),(0,a.default)((0,p.default)(s),"_icon",void 0),(0,a.default)((0,p.default)(s),"_tag",void 0),s}return(0,r.default)(f,[{key:"notification",get:function(){return this._payload.notification}},{key:"data",get:function(){return this._payload.data}},{key:"title",get:function(){return this._title},set:function(s){s&&s.length&&(this._payload.notification.title=s,this._title=s)}},{key:"body",get:function(){return this._body},set:function(s){s&&s.length&&(this._payload.notification.body=s,this._body=s)}},{key:"sound",get:function(){return this._sound},set:function(s){s&&s.length&&(this._payload.notification.sound=s,this._sound=s)}},{key:"icon",get:function(){return this._icon},set:function(s){s&&s.length&&(this._payload.notification.icon=s,this._icon=s)}},{key:"tag",get:function(){return this._tag},set:function(s){s&&s.length&&(this._payload.notification.tag=s,this._tag=s)}},{key:"silent",set:function(s){this._isSilent=s}},{key:"_setDefaultPayloadStructure",value:function(){this._payload.notification={},this._payload.data={}}},{key:"toObject",value:function(){var s=v({},this._payload.data),h=null,P={};if(Object.keys(this._payload).length>2){var M=this._payload,C=(M.notification,M.data,(0,b.default)(M,l));s=v(v({},s),C)}return this._isSilent?s.notification=this._payload.notification:h=this._payload.notification,Object.keys(s).length&&(P.data=s),h&&Object.keys(h).length&&(P.notification=h),Object.keys(P).length?P:null}}]),f}(O);i.FCMNotificationPayload=j;var x=function(){function T(d,f){(0,n.default)(this,T),(0,a.default)(this,"_payload",void 0),(0,a.default)(this,"_debugging",void 0),(0,a.default)(this,"_subtitle",void 0),(0,a.default)(this,"_badge",void 0),(0,a.default)(this,"_sound",void 0),(0,a.default)(this,"_title",void 0),(0,a.default)(this,"_body",void 0),(0,a.default)(this,"apns",void 0),(0,a.default)(this,"mpns",void 0),(0,a.default)(this,"fcm",void 0),this._payload={apns:{},mpns:{},fcm:{}},this._title=d,this._body=f,this.apns=new A(this._payload.apns,d,f),this.mpns=new k(this._payload.mpns,d,f),this.fcm=new j(this._payload.fcm,d,f)}return(0,r.default)(T,[{key:"debugging",set:function(d){this._debugging=d}},{key:"title",get:function(){return this._title}},{key:"body",get:function(){return this._body}},{key:"subtitle",get:function(){return this._subtitle},set:function(d){this._subtitle=d,this.apns.subtitle=d,this.mpns.subtitle=d,this.fcm.subtitle=d}},{key:"badge",get:function(){return this._badge},set:function(d){this._badge=d,this.apns.badge=d,this.mpns.badge=d,this.fcm.badge=d}},{key:"sound",get:function(){return this._sound},set:function(d){this._sound=d,this.apns.sound=d,this.mpns.sound=d,this.fcm.sound=d}},{key:"buildPayload",value:function(d){var f={};if(d.includes("apns")||d.includes("apns2")){this.apns._apnsPushType=d.includes("apns")?"apns":"apns2";var s=this.apns.toObject();s&&Object.keys(s).length&&(f.pn_apns=s)}if(d.includes("mpns")){var h=this.mpns.toObject();h&&Object.keys(h).length&&(f.pn_mpns=h)}if(d.includes("fcm")){var P=this.fcm.toObject();P&&Object.keys(P).length&&(f.pn_gcm=P)}return Object.keys(f).length&&this._debugging&&(f.pn_debug=!0),f}}]),T}();i.default=x},function(S,i,u){var c=u(46);S.exports=function(b,p){if(b==null)return{};var o,t,e=c(b,p);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(b);for(t=0;t<n.length;t++)o=n[t],p.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(b,o)&&(e[o]=b[o])}return e},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(u,c){if(u==null)return{};var b,p,o={},t=Object.keys(u);for(p=0;p<t.length;p++)b=t[p],c.indexOf(b)>=0||(o[b]=u[b]);return o},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=(c(u(8)),u(2),function(){function e(n,r){(0,b.default)(this,e),(0,o.default)(this,"_config",void 0),(0,o.default)(this,"_cbor",void 0),(0,o.default)(this,"_token",void 0),this._config=n,this._cbor=r}return(0,p.default)(e,[{key:"setToken",value:function(n){n&&n.length>0?this._token=n:this._token=void 0}},{key:"getToken",value:function(){return this._token}},{key:"extractPermissions",value:function(n){var r={read:!1,write:!1,manage:!1,delete:!1,get:!1,update:!1,join:!1};return(128&n)==128&&(r.join=!0),(64&n)==64&&(r.update=!0),(32&n)==32&&(r.get=!0),(8&n)==8&&(r.delete=!0),(4&n)==4&&(r.manage=!0),(2&n)==2&&(r.write=!0),(1&n)==1&&(r.read=!0),r}},{key:"parseToken",value:function(n){var r=this,a=this._cbor.decodeToken(n);if(a!==void 0){var l=a.res.uuid?Object.keys(a.res.uuid):[],g=Object.keys(a.res.chan),v=Object.keys(a.res.grp),_=a.pat.uuid?Object.keys(a.pat.uuid):[],O=Object.keys(a.pat.chan),A=Object.keys(a.pat.grp),k={version:a.v,timestamp:a.t,ttl:a.ttl,authorized_uuid:a.uuid},j=l.length>0,x=g.length>0,T=v.length>0;(j||x||T)&&(k.resources={},j&&(k.resources.uuids={},l.forEach(function(h){k.resources.uuids[h]=r.extractPermissions(a.res.uuid[h])})),x&&(k.resources.channels={},g.forEach(function(h){k.resources.channels[h]=r.extractPermissions(a.res.chan[h])})),T&&(k.resources.groups={},v.forEach(function(h){k.resources.groups[h]=r.extractPermissions(a.res.grp[h])})));var d=_.length>0,f=O.length>0,s=A.length>0;return(d||f||s)&&(k.patterns={},d&&(k.patterns.uuids={},_.forEach(function(h){k.patterns.uuids[h]=r.extractPermissions(a.pat.uuid[h])})),f&&(k.patterns.channels={},O.forEach(function(h){k.patterns.channels[h]=r.extractPermissions(a.pat.chan[h])})),s&&(k.patterns.groups={},A.forEach(function(h){k.patterns.groups[h]=r.extractPermissions(a.pat.grp[h])}))),Object.keys(a.meta).length>0&&(k.meta=a.meta),k.signature=a.sig,k}}}]),e}());i.default=t,S.exports=i.default},function(S,i,u){var c=u(13),b=u(15),p=u(49),o=u(50);function t(e){var n=typeof Map=="function"?new Map:void 0;return S.exports=t=function(r){if(r===null||!p(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,a)}function a(){return o(r,arguments,c(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b(a,r)},S.exports.default=S.exports,S.exports.__esModule=!0,t(e)}S.exports=t,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(u){return Function.toString.call(u).indexOf("[native code]")!==-1},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(15),b=u(51);function p(o,t,e){return b()?(S.exports=p=Reflect.construct,S.exports.default=S.exports,S.exports.__esModule=!0):(S.exports=p=function(n,r,a){var l=[null];l.push.apply(l,r);var g=new(Function.bind.apply(n,l));return a&&c(g,a.prototype),g},S.exports.default=S.exports,S.exports.__esModule=!0),p.apply(null,arguments)}S.exports=p,S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNAddChannelsToGroupOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channelGroup,n=o.config;return"/v1/channel-registration/sub-key/".concat(n.subscribeKey,"/channel-group/").concat(p.default.encodeString(e))},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channels;return{add:(e===void 0?[]:e).join(",")}},i.validateParams=function(o,t){var e=t.channels,n=t.channelGroup,r=o.config;if(!n)return"Missing Channel Group";if(!e||e.length===0)return"Missing Channels";if(!r.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNRemoveChannelsFromGroupOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channelGroup,n=o.config;return"/v1/channel-registration/sub-key/".concat(n.subscribeKey,"/channel-group/").concat(p.default.encodeString(e))},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channels;return{remove:(e===void 0?[]:e).join(",")}},i.validateParams=function(o,t){var e=t.channels,n=t.channelGroup,r=o.config;if(!n)return"Missing Channel Group";if(!e||e.length===0)return"Missing Channels";if(!r.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNRemoveGroupOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channelGroup,n=o.config;return"/v1/channel-registration/sub-key/".concat(n.subscribeKey,"/channel-group/").concat(p.default.encodeString(e),"/remove")},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.validateParams=function(o,t){var e=t.channelGroup,n=o.config;if(!e)return"Missing Channel Group";if(!n.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNChannelGroupsOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v1/channel-registration/sub-key/".concat(o.subscribeKey,"/channel-group")},i.handleResponse=function(p,o){return{groups:o.payload.groups}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.validateParams=function(p){if(!p.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNChannelsForGroupOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channelGroup,n=o.config;return"/v1/channel-registration/sub-key/".concat(n.subscribeKey,"/channel-group/").concat(p.default.encodeString(e))},i.handleResponse=function(o,t){return{channels:t.payload.channels}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.validateParams=function(o,t){var e=t.channelGroup,n=o.config;if(!e)return"Missing Channel Group";if(!n.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNPushNotificationEnabledChannelsOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p,o){var t=o.device,e=o.pushGateway,n=p.config;return e==="apns2"?"/v2/push/sub-key/".concat(n.subscribeKey,"/devices-apns2/").concat(t):"/v1/push/sub-key/".concat(n.subscribeKey,"/devices/").concat(t)},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.pushGateway,e=o.channels,n=e===void 0?[]:e,r=o.environment,a=r===void 0?"development":r,l=o.topic,g={type:t,add:n.join(",")};return t==="apns2"&&delete(g=Object.assign({},g,{environment:a,topic:l})).type,g},i.validateParams=function(p,o){var t=o.device,e=o.pushGateway,n=o.channels,r=o.topic,a=p.config;if(!t)return"Missing Device ID (device)";if(!e)return"Missing GW Type (pushGateway: gcm, apns or apns2)";if(e==="apns2"&&!r)return"Missing APNS2 topic";if(!n||n.length===0)return"Missing Channels";if(!a.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNPushNotificationEnabledChannelsOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p,o){var t=o.device,e=o.pushGateway,n=p.config;return e==="apns2"?"/v2/push/sub-key/".concat(n.subscribeKey,"/devices-apns2/").concat(t):"/v1/push/sub-key/".concat(n.subscribeKey,"/devices/").concat(t)},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.pushGateway,e=o.channels,n=e===void 0?[]:e,r=o.environment,a=r===void 0?"development":r,l=o.topic,g={type:t,remove:n.join(",")};return t==="apns2"&&delete(g=Object.assign({},g,{environment:a,topic:l})).type,g},i.validateParams=function(p,o){var t=o.device,e=o.pushGateway,n=o.channels,r=o.topic,a=p.config;if(!t)return"Missing Device ID (device)";if(!e)return"Missing GW Type (pushGateway: gcm, apns or apns2)";if(e==="apns2"&&!r)return"Missing APNS2 topic";if(!n||n.length===0)return"Missing Channels";if(!a.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNPushNotificationEnabledChannelsOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p,o){var t=o.device,e=o.pushGateway,n=p.config;return e==="apns2"?"/v2/push/sub-key/".concat(n.subscribeKey,"/devices-apns2/").concat(t):"/v1/push/sub-key/".concat(n.subscribeKey,"/devices/").concat(t)},i.handleResponse=function(p,o){return{channels:o}},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.pushGateway,e=o.environment,n=e===void 0?"development":e,r=o.topic,a={type:t};return t==="apns2"&&delete(a=Object.assign({},a,{environment:n,topic:r})).type,a},i.validateParams=function(p,o){var t=o.device,e=o.pushGateway,n=o.topic,r=p.config;if(!t)return"Missing Device ID (device)";if(!e)return"Missing GW Type (pushGateway: gcm, apns or apns2)";if(e==="apns2"&&!n)return"Missing APNS2 topic";if(!r.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNRemoveAllPushNotificationsOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p,o){var t=o.device,e=o.pushGateway,n=p.config;return e==="apns2"?"/v2/push/sub-key/".concat(n.subscribeKey,"/devices-apns2/").concat(t,"/remove"):"/v1/push/sub-key/".concat(n.subscribeKey,"/devices/").concat(t,"/remove")},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.pushGateway,e=o.environment,n=e===void 0?"development":e,r=o.topic,a={type:t};return t==="apns2"&&delete(a=Object.assign({},a,{environment:n,topic:r})).type,a},i.validateParams=function(p,o){var t=o.device,e=o.pushGateway,n=o.topic,r=p.config;if(!t)return"Missing Device ID (device)";if(!e)return"Missing GW Type (pushGateway: gcm, apns or apns2)";if(e==="apns2"&&!n)return"Missing APNS2 topic";if(!r.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUnsubscribeOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channels,r=n===void 0?[]:n,a=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(a),"/leave")},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channelGroups,n=e===void 0?[]:e,r={};return n.length>0&&(r["channel-group"]=n.join(",")),r},i.validateParams=function(o){if(!o.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNWhereNowOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.uuid,r=n===void 0?e.UUID:n;return"/v2/presence/sub-key/".concat(e.subscribeKey,"/uuid/").concat(p.default.encodeString(r))},i.handleResponse=function(o,t){return t.payload?{channels:t.payload.channels}:{channels:[]}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.validateParams=function(o){if(!o.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNHeartbeatOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channels,r=n===void 0?[]:n,a=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(a),"/heartbeat")},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channelGroups,n=e===void 0?[]:e,r=t.state,a=r===void 0?{}:r,l=o.config,g={};return n.length>0&&(g["channel-group"]=n.join(",")),g.state=JSON.stringify(a),g.heartbeat=l.getPresenceTimeout(),g},i.validateParams=function(o){if(!o.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetStateOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.uuid,r=n===void 0?e.UUID:n,a=t.channels,l=a===void 0?[]:a,g=l.length>0?l.join(","):",";return"/v2/presence/sub-key/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(g),"/uuid/").concat(r)},i.handleResponse=function(o,t,e){var n=e.channels,r=n===void 0?[]:n,a=e.channelGroups,l=a===void 0?[]:a,g={};return r.length===1&&l.length===0?g[r[0]]=t.payload:g=t.payload,{channels:g}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channelGroups,n=e===void 0?[]:e,r={};return n.length>0&&(r["channel-group"]=n.join(",")),r},i.validateParams=function(o){if(!o.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNSetStateOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channels,r=n===void 0?[]:n,a=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(a),"/uuid/").concat(p.default.encodeString(e.UUID),"/data")},i.handleResponse=function(o,t){return{state:t.payload}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.state,n=t.channelGroups,r=n===void 0?[]:n,a={};return a.state=JSON.stringify(e),r.length>0&&(a["channel-group"]=r.join(",")),a},i.validateParams=function(o,t){var e=o.config,n=t.state,r=t.channels,a=r===void 0?[]:r,l=t.channelGroups,g=l===void 0?[]:l;if(!n)return"Missing State";if(!e.subscribeKey)return"Missing Subscribe Key";if(a.length===0&&g.length===0)return"Please provide a list of channels and/or channel-groups"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return p.default.PNHereNowOperation},i.getRequestTimeout=function(n){return n.config.getTransactionTimeout()},i.getURL=function(n,r){var a=n.config,l=r.channels,g=l===void 0?[]:l,v=r.channelGroups,_=v===void 0?[]:v,O="/v2/presence/sub-key/".concat(a.subscribeKey);if(g.length>0||_.length>0){var A=g.length>0?g.join(","):",";O+="/channel/".concat(o.default.encodeString(A))}return O},i.handleError=function(n,r,a){a.statusCode!==402||this.getURL(n,r).includes("channel")||(a.errorData.message="You have tried to perform a Global Here Now operation, your keyset configuration does not support that. Please provide a channel, or enable the Global Here Now feature from the Portal.")},i.handleResponse=function(n,r,a){var l,g=a.channels,v=g===void 0?[]:g,_=a.channelGroups,O=_===void 0?[]:_,A=a.includeUUIDs,k=A===void 0||A,j=a.includeState,x=j!==void 0&&j;return l=v.length>1||O.length>0||O.length===0&&v.length===0?function(){var T={};return T.totalChannels=r.payload.total_channels,T.totalOccupancy=r.payload.total_occupancy,T.channels={},Object.keys(r.payload.channels).forEach(function(d){var f=r.payload.channels[d],s=[];return T.channels[d]={occupants:s,name:d,occupancy:f.occupancy},k&&f.uuids.forEach(function(h){x?s.push({state:h.state,uuid:h.uuid}):s.push({state:null,uuid:h})}),T}),T}():function(){var T={},d=[];return T.totalChannels=1,T.totalOccupancy=r.occupancy,T.channels={},T.channels[v[0]]={occupants:d,name:v[0],occupancy:r.occupancy},k&&r.uuids&&r.uuids.forEach(function(f){x?d.push({state:f.state,uuid:f.uuid}):d.push({state:null,uuid:f})}),T}(),l},i.isAuthSupported=function(){return!0},i.prepareParams=function(n,r){var a=r.channelGroups,l=a===void 0?[]:a,g=r.includeUUIDs,v=g===void 0||g,_=r.includeState,O=_!==void 0&&_,A=r.queryParameters,k=A===void 0?{}:A,j={};return v||(j.disable_uuids=1),O&&(j.state=1),l.length>0&&(j["channel-group"]=l.join(",")),j=e(e({},j),k)},i.validateParams=function(n){if(!n.config.subscribeKey)return"Missing Subscribe Key"};var b=c(u(4)),p=(u(2),c(u(1))),o=c(u(3));function t(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable})),a.push.apply(a,l)}return a}function e(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?t(Object(a),!0).forEach(function(l){(0,b.default)(n,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(a,l))})}return n}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNAddMessageActionOperation},i.getRequestHeaders=function(){return{"Content-Type":"application/json"}},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.handleResponse=function(o,t){return{data:t.data}},i.isAuthSupported=function(){return!0},i.postPayload=function(o,t){return t.action},i.postURL=function(o,t){var e=o.config,n=t.channel,r=t.messageTimetoken;return"/v1/message-actions/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(n),"/message/").concat(r)},i.prepareParams=function(){return{}},i.usePost=function(){return!0},i.validateParams=function(o,t){var e=o.config,n=t.action,r=t.channel;if(!t.messageTimetoken)return"Missing message timetoken";if(!e.subscribeKey)return"Missing Subscribe Key";if(!r)return"Missing message channel";if(!n)return"Missing Action";if(!n.value)return"Missing Action.value";if(!n.type)return"Missing Action.type";if(n.type.length>15)return"Action.type value exceed maximum length of 15"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNRemoveMessageActionOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channel,r=t.actionTimetoken,a=t.messageTimetoken;return"/v1/message-actions/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(n),"/message/").concat(a,"/action/").concat(r)},i.handleResponse=function(o,t){return{data:t.data}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.useDelete=function(){return!0},i.validateParams=function(o,t){var e=o.config,n=t.channel,r=t.actionTimetoken;if(!t.messageTimetoken)return"Missing message timetoken";if(!r)return"Missing action timetoken";if(!e.subscribeKey)return"Missing Subscribe Key";if(!n)return"Missing message channel"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetMessageActionsOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channel;return"/v1/message-actions/".concat(e.subscribeKey,"/channel/").concat(p.default.encodeString(n))},i.handleResponse=function(o,t){var e={data:t.data,start:null,end:null};return e.data.length&&(e.end=e.data[e.data.length-1].actionTimetoken,e.start=e.data[0].actionTimetoken),e},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.limit,n=t.start,r=t.end,a={};return e&&(a.limit=e),n&&(a.start=n),r&&(a.end=r),a},i.validateParams=function(o,t){var e=o.config,n=t.channel;if(!e.subscribeKey)return"Missing Subscribe Key";if(!n)return"Missing message channel"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNListFilesOperation},validateParams:function(t,e){if(e==null||!e.channel)return"channel can't be empty"},getURL:function(t,e){var n=t.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel),"/files")},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n={};return e.limit&&(n.limit=e.limit),e.next&&(n.next=e.next),n},handleResponse:function(t,e){return{status:e.status,data:e.data,next:e.next,count:e.count}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNGenerateUploadUrlOperation},validateParams:function(t,e){return e!=null&&e.channel?e!=null&&e.name?void 0:"name can't be empty":"channel can't be empty"},usePost:function(){return!0},postURL:function(t,e){var n=t.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel),"/generate-upload-url")},postPayload:function(t,e){return{name:e.name}},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(t,e){return{status:e.status,data:e.data,file_upload_request:e.file_upload_request}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(7)),p=c(u(1)),o=c(u(3)),t={getOperation:function(){return p.default.PNPublishFileOperation},validateParams:function(e,n){return n!=null&&n.channel?n!=null&&n.fileId?n!=null&&n.fileName?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},getURL:function(e,n){var r=e.config,a=r.publishKey,l=r.subscribeKey,g=function(v,_){var O=v.crypto,A=v.config,k=JSON.stringify(_);return A.cipherKey&&(k=O.encrypt(k),k=JSON.stringify(k)),k||""}(e,{message:n.message,file:{name:n.fileName,id:n.fileId}});return"/v1/files/publish-file/".concat(a,"/").concat(l,"/0/").concat(o.default.encodeString(n.channel),"/0/").concat(o.default.encodeString(g))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,n){var r={};return n.ttl&&(r.ttl=n.ttl),n.storeInHistory!==void 0&&(r.store=n.storeInHistory?"1":"0"),n.meta&&(0,b.default)(n.meta)==="object"&&(r.meta=JSON.stringify(n.meta)),r},handleResponse:function(e,n){return{timetoken:n[2]}}};i.default=t,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(11)),p=c(u(12)),o=u(18),t=function(e){return new Promise(function(n){var r="";e.on("data",function(a){r+=a.toString("utf8")}),e.on("end",function(){n(r)})})};i.default=function(e){var n,r,a,l,g,v,_,O,A,k=(a=(n=e).generateUploadUrl,l=n.publishFile,g=n.modules,v=g.PubNubFile,_=g.config,O=g.cryptography,A=g.networking,r=(0,p.default)(b.default.mark(function j(x){var T,d,f,s,h,P,M,C,I,E,F,L,H,B,V,$,X,ee,q,z,D,R;return b.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(T=x.channel,d=x.file,f=x.message,s=x.cipherKey,h=x.meta,P=x.ttl,M=x.storeInHistory,T){G.next=3;break}throw new o.PubNubError("Validation failed, check status for details",(0,o.createValidationError)("channel can't be empty"));case 3:if(d){G.next=5;break}throw new o.PubNubError("Validation failed, check status for details",(0,o.createValidationError)("file can't be empty"));case 5:return C=v.create(d),G.next=8,a({channel:T,name:C.name});case 8:if(I=G.sent,E=I.file_upload_request,F=E.url,L=E.form_fields,H=I.data,B=H.id,V=H.name,!v.supportsEncryptFile||!(s!=null?s:_.cipherKey)){G.next=19;break}return G.next=18,O.encryptFile(s!=null?s:_.cipherKey,C,v);case 18:C=G.sent;case 19:if($=L,C.mimeType&&($=L.map(function(y){return y.key==="Content-Type"?{key:y.key,value:C.mimeType}:y})),G.prev=21,!v.supportsFileUri||!d.uri){G.next=34;break}return G.t0=A,G.t1=F,G.t2=$,G.next=28,C.toFileUri();case 28:return G.t3=G.sent,G.next=31,G.t0.POSTFILE.call(G.t0,G.t1,G.t2,G.t3);case 31:X=G.sent,G.next=71;break;case 34:if(!v.supportsFile){G.next=46;break}return G.t4=A,G.t5=F,G.t6=$,G.next=40,C.toFile();case 40:return G.t7=G.sent,G.next=43,G.t4.POSTFILE.call(G.t4,G.t5,G.t6,G.t7);case 43:X=G.sent,G.next=71;break;case 46:if(!v.supportsBuffer){G.next=58;break}return G.t8=A,G.t9=F,G.t10=$,G.next=52,C.toBuffer();case 52:return G.t11=G.sent,G.next=55,G.t8.POSTFILE.call(G.t8,G.t9,G.t10,G.t11);case 55:X=G.sent,G.next=71;break;case 58:if(!v.supportsBlob){G.next=70;break}return G.t12=A,G.t13=F,G.t14=$,G.next=64,C.toBlob();case 64:return G.t15=G.sent,G.next=67,G.t12.POSTFILE.call(G.t12,G.t13,G.t14,G.t15);case 67:X=G.sent,G.next=71;break;case 70:throw new Error("Unsupported environment");case 71:G.next=80;break;case 73:return G.prev=73,G.t16=G.catch(21),G.next=77,t(G.t16.response);case 77:throw ee=G.sent,q=/<Message>(.*)<\/Message>/gi.exec(ee),new o.PubNubError(q?"Upload to bucket failed: ".concat(q[1]):"Upload to bucket failed.",G.t16);case 80:if(X.status===204){G.next=82;break}throw new o.PubNubError("Upload to bucket was unsuccessful",X);case 82:z=_.fileUploadPublishRetryLimit,D=!1,R={timetoken:"0"};case 85:return G.prev=85,G.next=88,l({channel:T,message:f,fileId:B,fileName:V,meta:h,storeInHistory:M,ttl:P});case 88:R=G.sent,D=!0,G.next=95;break;case 92:G.prev=92,G.t17=G.catch(85),z-=1;case 95:if(!D&&z>0){G.next=85;break}case 96:if(D){G.next=100;break}throw new o.PubNubError("Publish failed. You may want to execute that operation manually using pubnub.publishFile",{channel:T,id:B,name:V});case 100:return G.abrupt("return",{timetoken:R.timetoken,id:B,name:V});case 101:case"end":return G.stop()}},j,null,[[21,73],[85,92]])})),function(j){return r.apply(this,arguments)});return function(j,x){var T=k(j);return typeof x=="function"&&T.then(function(d){return x(null,d)}).catch(function(d){return x(d,null)}),T}},S.exports=i.default},function(S,i,u){var c=function(b){var p=Object.prototype,o=p.hasOwnProperty,t=typeof Symbol=="function"?Symbol:{},e=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function a(E,F,L){return Object.defineProperty(E,F,{value:L,enumerable:!0,configurable:!0,writable:!0}),E[F]}try{a({},"")}catch{a=function(F,L,H){return F[L]=H}}function l(E,F,L,H){var B=F&&F.prototype instanceof _?F:_,V=Object.create(B.prototype),$=new M(H||[]);return V._invoke=function(X,ee,q){var z="suspendedStart";return function(D,R){if(z==="executing")throw new Error("Generator is already running");if(z==="completed"){if(D==="throw")throw R;return I()}for(q.method=D,q.arg=R;;){var G=q.delegate;if(G){var y=s(G,q);if(y){if(y===v)continue;return y}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(z==="suspendedStart")throw z="completed",q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);z="executing";var m=g(X,ee,q);if(m.type==="normal"){if(z=q.done?"completed":"suspendedYield",m.arg===v)continue;return{value:m.arg,done:q.done}}m.type==="throw"&&(z="completed",q.method="throw",q.arg=m.arg)}}}(E,L,$),V}function g(E,F,L){try{return{type:"normal",arg:E.call(F,L)}}catch(H){return{type:"throw",arg:H}}}b.wrap=l;var v={};function _(){}function O(){}function A(){}var k={};a(k,e,function(){return this});var j=Object.getPrototypeOf,x=j&&j(j(C([])));x&&x!==p&&o.call(x,e)&&(k=x);var T=A.prototype=_.prototype=Object.create(k);function d(E){["next","throw","return"].forEach(function(F){a(E,F,function(L){return this._invoke(F,L)})})}function f(E,F){var L;this._invoke=function(H,B){function V(){return new F(function($,X){(function ee(q,z,D,R){var G=g(E[q],E,z);if(G.type!=="throw"){var y=G.arg,m=y.value;return m&&typeof m=="object"&&o.call(m,"__await")?F.resolve(m.__await).then(function(w){ee("next",w,D,R)},function(w){ee("throw",w,D,R)}):F.resolve(m).then(function(w){y.value=w,D(y)},function(w){return ee("throw",w,D,R)})}R(G.arg)})(H,B,$,X)})}return L=L?L.then(V,V):V()}}function s(E,F){var L=E.iterator[F.method];if(L===void 0){if(F.delegate=null,F.method==="throw"){if(E.iterator.return&&(F.method="return",F.arg=void 0,s(E,F),F.method==="throw"))return v;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var H=g(L,E.iterator,F.arg);if(H.type==="throw")return F.method="throw",F.arg=H.arg,F.delegate=null,v;var B=H.arg;return B?B.done?(F[E.resultName]=B.value,F.next=E.nextLoc,F.method!=="return"&&(F.method="next",F.arg=void 0),F.delegate=null,v):B:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,v)}function h(E){var F={tryLoc:E[0]};1 in E&&(F.catchLoc=E[1]),2 in E&&(F.finallyLoc=E[2],F.afterLoc=E[3]),this.tryEntries.push(F)}function P(E){var F=E.completion||{};F.type="normal",delete F.arg,E.completion=F}function M(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(h,this),this.reset(!0)}function C(E){if(E){var F=E[e];if(F)return F.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var L=-1,H=function B(){for(;++L<E.length;)if(o.call(E,L))return B.value=E[L],B.done=!1,B;return B.value=void 0,B.done=!0,B};return H.next=H}}return{next:I}}function I(){return{value:void 0,done:!0}}return O.prototype=A,a(T,"constructor",A),a(A,"constructor",O),O.displayName=a(A,r,"GeneratorFunction"),b.isGeneratorFunction=function(E){var F=typeof E=="function"&&E.constructor;return!!F&&(F===O||(F.displayName||F.name)==="GeneratorFunction")},b.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,A):(E.__proto__=A,a(E,r,"GeneratorFunction")),E.prototype=Object.create(T),E},b.awrap=function(E){return{__await:E}},d(f.prototype),a(f.prototype,n,function(){return this}),b.AsyncIterator=f,b.async=function(E,F,L,H,B){B===void 0&&(B=Promise);var V=new f(l(E,F,L,H),B);return b.isGeneratorFunction(F)?V:V.next().then(function($){return $.done?$.value:V.next()})},d(T),a(T,r,"Generator"),a(T,e,function(){return this}),a(T,"toString",function(){return"[object Generator]"}),b.keys=function(E){var F=[];for(var L in E)F.push(L);return F.reverse(),function H(){for(;F.length;){var B=F.pop();if(B in E)return H.value=B,H.done=!1,H}return H.done=!0,H}},b.values=C,M.prototype={constructor:M,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!E)for(var F in this)F.charAt(0)==="t"&&o.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var F=this;function L(ee,q){return V.type="throw",V.arg=E,F.next=ee,q&&(F.method="next",F.arg=void 0),!!q}for(var H=this.tryEntries.length-1;H>=0;--H){var B=this.tryEntries[H],V=B.completion;if(B.tryLoc==="root")return L("end");if(B.tryLoc<=this.prev){var $=o.call(B,"catchLoc"),X=o.call(B,"finallyLoc");if($&&X){if(this.prev<B.catchLoc)return L(B.catchLoc,!0);if(this.prev<B.finallyLoc)return L(B.finallyLoc)}else if($){if(this.prev<B.catchLoc)return L(B.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return L(B.finallyLoc)}}}},abrupt:function(E,F){for(var L=this.tryEntries.length-1;L>=0;--L){var H=this.tryEntries[L];if(H.tryLoc<=this.prev&&o.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var B=H;break}}B&&(E==="break"||E==="continue")&&B.tryLoc<=F&&F<=B.finallyLoc&&(B=null);var V=B?B.completion:{};return V.type=E,V.arg=F,B?(this.method="next",this.next=B.finallyLoc,v):this.complete(V)},complete:function(E,F){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&F&&(this.next=F),v},finish:function(E){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.finallyLoc===E)return this.complete(L.completion,L.afterLoc),P(L),v}},catch:function(E){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.tryLoc===E){var H=L.completion;if(H.type==="throw"){var B=H.arg;P(L)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(E,F,L){return this.delegate={iterator:C(E),resultName:F,nextLoc:L},this.method==="next"&&(this.arg=void 0),v}},b}(S.exports);try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=u(18),p=c(u(3));i.default=function(o,t){var e=t.channel,n=t.id,r=t.name,a=o.config,l=o.networking;if(!e)throw new b.PubNubError("Validation failed, check status for details",(0,b.createValidationError)("channel can't be empty"));if(!n)throw new b.PubNubError("Validation failed, check status for details",(0,b.createValidationError)("file id can't be empty"));if(!r)throw new b.PubNubError("Validation failed, check status for details",(0,b.createValidationError)("file name can't be empty"));var g="/v1/files/".concat(a.subscribeKey,"/channels/").concat(p.default.encodeString(e),"/files/").concat(n,"/").concat(r),v={};v.uuid=a.getUUID(),v.pnsdk=(0,b.generatePNSDK)(a),a.getAuthKey()&&(v.auth=a.getAuthKey()),a.secretKey&&(0,b.signRequest)(o,g,v,{},{getOperation:function(){return"PubNubGetFileUrlOperation"}});var _=Object.keys(v).map(function(O){return"".concat(encodeURIComponent(O),"=").concat(encodeURIComponent(v[O]))}).join("&");return _!==""?"".concat(l.getStandardOrigin()).concat(g,"?").concat(_):"".concat(l.getStandardOrigin()).concat(g)},S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b,p=c(u(11)),o=c(u(12)),t=c(u(1)),e=c(u(3)),n={getOperation:function(){return t.default.PNDownloadFileOperation},validateParams:function(r,a){return a!=null&&a.channel?a!=null&&a.name?a!=null&&a.id?void 0:"id can't be empty":"name can't be empty":"channel can't be empty"},useGetFile:function(){return!0},getFileURL:function(r,a){var l=r.config;return"/v1/files/".concat(l.subscribeKey,"/channels/").concat(e.default.encodeString(a.channel),"/files/").concat(a.id,"/").concat(a.name)},getRequestTimeout:function(r){return r.config.getTransactionTimeout()},isAuthSupported:function(){return!0},ignoreBody:function(){return!0},forceBuffered:function(){return!0},prepareParams:function(){return{}},handleResponse:(b=(0,o.default)(p.default.mark(function r(a,l,g){var v,_,O,A,k,j,x;return p.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(O=a.PubNubFile,A=a.config,k=a.cryptography,j=l.response.body,!O.supportsEncryptFile||!((v=g.cipherKey)!==null&&v!==void 0?v:A.cipherKey)){T.next=6;break}return T.next=5,k.decrypt((x=g.cipherKey)!==null&&x!==void 0?x:A.cipherKey,j);case 5:j=T.sent;case 6:return T.abrupt("return",O.create({data:j,name:(_=l.response.name)!==null&&_!==void 0?_:g.name,mimeType:l.response.type}));case 7:case"end":return T.stop()}},r)})),function(r,a,l){return b.apply(this,arguments)})};i.default=n,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNListFilesOperation},validateParams:function(t,e){return e!=null&&e.channel?e!=null&&e.id?e!=null&&e.name?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},useDelete:function(){return!0},getURL:function(t,e){var n=t.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel),"/files/").concat(e.id,"/").concat(e.name)},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(t,e){return{status:e.status}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(1)),o={getOperation:function(){return p.default.PNGetAllUUIDMetadataOperation},validateParams:function(){},getURL:function(t){var e=t.config;return"/v2/objects/".concat(e.subscribeKey,"/uuids")},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r,a,l,g,v,_,O,A,k={};return e!=null&&(n=e.include)!==null&&n!==void 0&&n.customFields&&(k.include="custom"),e!=null&&(r=e.include)!==null&&r!==void 0&&r.totalCount&&(k.count=(v=e.include)===null||v===void 0?void 0:v.totalCount),e!=null&&(a=e.page)!==null&&a!==void 0&&a.next&&(k.start=(_=e.page)===null||_===void 0?void 0:_.next),e!=null&&(l=e.page)!==null&&l!==void 0&&l.prev&&(k.end=(O=e.page)===null||O===void 0?void 0:O.prev),e!=null&&e.filter&&(k.filter=e.filter),k.limit=(g=e==null?void 0:e.limit)!==null&&g!==void 0?g:100,e!=null&&e.sort&&(k.sort=Object.entries((A=e.sort)!==null&&A!==void 0?A:{}).map(function(j){var x=(0,b.default)(j,2),T=x[0],d=x[1];return d==="asc"||d==="desc"?"".concat(T,":").concat(d):T})),k},handleResponse:function(t,e){return{status:e.status,data:e.data,totalCount:e.totalCount,next:e.next,prev:e.prev}}};i.default=o,S.exports=i.default},function(S,i){S.exports=function(u){if(Array.isArray(u))return u},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(u,c){var b=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(b!=null){var p,o,t=[],e=!0,n=!1;try{for(b=b.call(u);!(e=(p=b.next()).done)&&(t.push(p.value),!c||t.length!==c);e=!0);}catch(r){n=!0,o=r}finally{try{e||b.return==null||b.return()}finally{if(n)throw o}}return t}},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(83);S.exports=function(b,p){if(b){if(typeof b=="string")return c(b,p);var o=Object.prototype.toString.call(b).slice(8,-1);return o==="Object"&&b.constructor&&(o=b.constructor.name),o==="Map"||o==="Set"?Array.from(b):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(b,p):void 0}},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(u,c){(c==null||c>u.length)&&(c=u.length);for(var b=0,p=new Array(c);b<c;b++)p[b]=u[b];return p},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i){S.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},S.exports.default=S.exports,S.exports.__esModule=!0},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNGetUUIDMetadataOperation},validateParams:function(){},getURL:function(t,e){var n,r=t.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(p.default.encodeString((n=e==null?void 0:e.uuid)!==null&&n!==void 0?n:r.getUUID()))},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r,a,l=t.config;return{uuid:(n=e==null?void 0:e.uuid)!==null&&n!==void 0?n:l.getUUID(),include:((r=e==null||(a=e.include)===null||a===void 0?void 0:a.customFields)===null||r===void 0||r)&&"custom"}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNSetUUIDMetadataOperation},validateParams:function(t,e){if(e==null||!e.data)return"Data cannot be empty"},usePatch:function(){return!0},patchURL:function(t,e){var n,r=t.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(p.default.encodeString((n=e.uuid)!==null&&n!==void 0?n:r.getUUID()))},patchPayload:function(t,e){return e.data},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r,a,l=t.config;return{uuid:(n=e==null?void 0:e.uuid)!==null&&n!==void 0?n:l.getUUID(),include:((r=e==null||(a=e.include)===null||a===void 0?void 0:a.customFields)===null||r===void 0||r)&&"custom"}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNRemoveUUIDMetadataOperation},validateParams:function(){},getURL:function(t,e){var n,r=t.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(p.default.encodeString((n=e==null?void 0:e.uuid)!==null&&n!==void 0?n:r.getUUID()))},useDelete:function(){return!0},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r=t.config;return{uuid:(n=e==null?void 0:e.uuid)!==null&&n!==void 0?n:r.getUUID()}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(1)),o={getOperation:function(){return p.default.PNGetAllChannelMetadataOperation},validateParams:function(){},getURL:function(t){var e=t.config;return"/v2/objects/".concat(e.subscribeKey,"/channels")},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r,a,l,g,v,_,O,A,k={};return e!=null&&(n=e.include)!==null&&n!==void 0&&n.customFields&&(k.include="custom"),e!=null&&(r=e.include)!==null&&r!==void 0&&r.totalCount&&(k.count=(v=e.include)===null||v===void 0?void 0:v.totalCount),e!=null&&(a=e.page)!==null&&a!==void 0&&a.next&&(k.start=(_=e.page)===null||_===void 0?void 0:_.next),e!=null&&(l=e.page)!==null&&l!==void 0&&l.prev&&(k.end=(O=e.page)===null||O===void 0?void 0:O.prev),e!=null&&e.filter&&(k.filter=e.filter),k.limit=(g=e==null?void 0:e.limit)!==null&&g!==void 0?g:100,e!=null&&e.sort&&(k.sort=Object.entries((A=e.sort)!==null&&A!==void 0?A:{}).map(function(j){var x=(0,b.default)(j,2),T=x[0],d=x[1];return d==="asc"||d==="desc"?"".concat(T,":").concat(d):T})),k},handleResponse:function(t,e){return{status:e.status,data:e.data,totalCount:e.totalCount,prev:e.prev,next:e.next}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNGetChannelMetadataOperation},validateParams:function(t,e){if(e==null||!e.channel)return"Channel cannot be empty"},getURL:function(t,e){var n=t.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel))},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r;return{include:((n=e==null||(r=e.include)===null||r===void 0?void 0:r.customFields)===null||n===void 0||n)&&"custom"}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNSetChannelMetadataOperation},validateParams:function(t,e){return e!=null&&e.channel?e!=null&&e.data?void 0:"Data cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(t,e){var n=t.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel))},patchPayload:function(t,e){return e.data},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n,r;return{include:((n=e==null||(r=e.include)===null||r===void 0?void 0:r.customFields)===null||n===void 0||n)&&"custom"}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNRemoveChannelMetadataOperation},validateParams:function(t,e){if(e==null||!e.channel)return"Channel cannot be empty"},getURL:function(t,e){var n=t.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(p.default.encodeString(e.channel))},useDelete:function(){return!0},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(1)),o=c(u(3)),t={getOperation:function(){return p.default.PNGetMembersOperation},validateParams:function(e,n){if(n==null||!n.channel)return"UUID cannot be empty"},getURL:function(e,n){var r=e.config;return"/v2/objects/".concat(r.subscribeKey,"/channels/").concat(o.default.encodeString(n.channel),"/uuids")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,n){var r,a,l,g,v,_,O,A,k,j,x,T,d={};return n!=null&&n.include&&(d.include=[],(v=n.include)!==null&&v!==void 0&&v.customFields&&d.include.push("custom"),(_=n.include)!==null&&_!==void 0&&_.customUUIDFields&&d.include.push("uuid.custom"),((O=(A=n.include)===null||A===void 0?void 0:A.UUIDFields)===null||O===void 0||O)&&d.include.push("uuid"),d.include=d.include.join(",")),n!=null&&(r=n.include)!==null&&r!==void 0&&r.totalCount&&(d.count=(k=n.include)===null||k===void 0?void 0:k.totalCount),n!=null&&(a=n.page)!==null&&a!==void 0&&a.next&&(d.start=(j=n.page)===null||j===void 0?void 0:j.next),n!=null&&(l=n.page)!==null&&l!==void 0&&l.prev&&(d.end=(x=n.page)===null||x===void 0?void 0:x.prev),n!=null&&n.filter&&(d.filter=n.filter),d.limit=(g=n==null?void 0:n.limit)!==null&&g!==void 0?g:100,n!=null&&n.sort&&(d.sort=Object.entries((T=n.sort)!==null&&T!==void 0?T:{}).map(function(f){var s=(0,b.default)(f,2),h=s[0],P=s[1];return P==="asc"||P==="desc"?"".concat(h,":").concat(P):h})),d},handleResponse:function(e,n){return{status:n.status,data:n.data,totalCount:n.totalCount,prev:n.prev,next:n.next}}};i.default=t,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(4)),o=c(u(1)),t=c(u(3)),e={getOperation:function(){return o.default.PNSetMembersOperation},validateParams:function(n,r){return r!=null&&r.channel?r!=null&&r.uuids&&(r==null?void 0:r.uuids.length)!==0?void 0:"UUIDs cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(n,r){var a=n.config;return"/v2/objects/".concat(a.subscribeKey,"/channels/").concat(t.default.encodeString(r.channel),"/uuids")},patchPayload:function(n,r){return(0,p.default)({set:[],remove:[]},r.type,r.uuids.map(function(a){return typeof a=="string"?{uuid:{id:a}}:{uuid:{id:a.id},custom:a.custom}}))},getRequestTimeout:function(n){return n.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(n,r){var a,l,g,v,_,O,A,k,j,x={};return r!=null&&r.include&&(x.include=[],(v=r.include)!==null&&v!==void 0&&v.customFields&&x.include.push("custom"),(_=r.include)!==null&&_!==void 0&&_.customUUIDFields&&x.include.push("uuid.custom"),(O=r.include)!==null&&O!==void 0&&O.UUIDFields&&x.include.push("uuid"),x.include=x.include.join(",")),r!=null&&(a=r.include)!==null&&a!==void 0&&a.totalCount&&(x.count=!0),r!=null&&(l=r.page)!==null&&l!==void 0&&l.next&&(x.start=(A=r.page)===null||A===void 0?void 0:A.next),r!=null&&(g=r.page)!==null&&g!==void 0&&g.prev&&(x.end=(k=r.page)===null||k===void 0?void 0:k.prev),r!=null&&r.filter&&(x.filter=r.filter),r!=null&&r.limit&&(x.limit=r.limit),r!=null&&r.sort&&(x.sort=Object.entries((j=r.sort)!==null&&j!==void 0?j:{}).map(function(T){var d=(0,b.default)(T,2),f=d[0],s=d[1];return s==="asc"||s==="desc"?"".concat(f,":").concat(s):f})),x},handleResponse:function(n,r){return{status:r.status,data:r.data,totalCount:r.totalCount,prev:r.prev,next:r.next}}};i.default=e,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(1)),o=c(u(3)),t={getOperation:function(){return p.default.PNGetMembershipsOperation},validateParams:function(){},getURL:function(e,n){var r,a=e.config;return"/v2/objects/".concat(a.subscribeKey,"/uuids/").concat(o.default.encodeString((r=n==null?void 0:n.uuid)!==null&&r!==void 0?r:a.getUUID()),"/channels")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,n){var r,a,l,g,v,_,O,A,k,j,x,T={};return n!=null&&n.include&&(T.include=[],(v=n.include)!==null&&v!==void 0&&v.customFields&&T.include.push("custom"),(_=n.include)!==null&&_!==void 0&&_.customChannelFields&&T.include.push("channel.custom"),(O=n.include)!==null&&O!==void 0&&O.channelFields&&T.include.push("channel"),T.include=T.include.join(",")),n!=null&&(r=n.include)!==null&&r!==void 0&&r.totalCount&&(T.count=(A=n.include)===null||A===void 0?void 0:A.totalCount),n!=null&&(a=n.page)!==null&&a!==void 0&&a.next&&(T.start=(k=n.page)===null||k===void 0?void 0:k.next),n!=null&&(l=n.page)!==null&&l!==void 0&&l.prev&&(T.end=(j=n.page)===null||j===void 0?void 0:j.prev),n!=null&&n.filter&&(T.filter=n.filter),T.limit=(g=n==null?void 0:n.limit)!==null&&g!==void 0?g:100,n!=null&&n.sort&&(T.sort=Object.entries((x=n.sort)!==null&&x!==void 0?x:{}).map(function(d){var f=(0,b.default)(d,2),s=f[0],h=f[1];return h==="asc"||h==="desc"?"".concat(s,":").concat(h):s})),T},handleResponse:function(e,n){return{status:n.status,data:n.data,totalCount:n.totalCount,prev:n.prev,next:n.next}}};i.default=t,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(9)),p=c(u(4)),o=c(u(1)),t=c(u(3)),e={getOperation:function(){return o.default.PNSetMembershipsOperation},validateParams:function(n,r){if(r==null||!r.channels||(r==null?void 0:r.channels.length)===0)return"Channels cannot be empty"},usePatch:function(){return!0},patchURL:function(n,r){var a,l=n.config;return"/v2/objects/".concat(l.subscribeKey,"/uuids/").concat(t.default.encodeString((a=r.uuid)!==null&&a!==void 0?a:l.getUUID()),"/channels")},patchPayload:function(n,r){return(0,p.default)({set:[],remove:[]},r.type,r.channels.map(function(a){return typeof a=="string"?{channel:{id:a}}:{channel:{id:a.id},custom:a.custom}}))},getRequestTimeout:function(n){return n.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(n,r){var a,l,g,v,_,O,A,k,j,x={};return r!=null&&r.include&&(x.include=[],(v=r.include)!==null&&v!==void 0&&v.customFields&&x.include.push("custom"),(_=r.include)!==null&&_!==void 0&&_.customChannelFields&&x.include.push("channel.custom"),(O=r.include)!==null&&O!==void 0&&O.channelFields&&x.include.push("channel"),x.include=x.include.join(",")),r!=null&&(a=r.include)!==null&&a!==void 0&&a.totalCount&&(x.count=!0),r!=null&&(l=r.page)!==null&&l!==void 0&&l.next&&(x.start=(A=r.page)===null||A===void 0?void 0:A.next),r!=null&&(g=r.page)!==null&&g!==void 0&&g.prev&&(x.end=(k=r.page)===null||k===void 0?void 0:k.prev),r!=null&&r.filter&&(x.filter=r.filter),r!=null&&r.limit&&(x.limit=r.limit),r!=null&&r.sort&&(x.sort=Object.entries((j=r.sort)!==null&&j!==void 0?j:{}).map(function(T){var d=(0,b.default)(T,2),f=d[0],s=d[1];return s==="asc"||s==="desc"?"".concat(f,":").concat(s):f})),x},handleResponse:function(n,r){return{status:r.status,data:r.data,totalCount:r.totalCount,prev:r.prev,next:r.next}}};i.default=e,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNCreateUserOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/users")},i.handleResponse=function(p,o){return o},i.isAuthSupported=function(){return!0},i.postPayload=function(p,o){return function(t,e){return e}(0,o)},i.postURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/users")},i.prepareParams=function(p,o){var t=o.include,e={};if(t?t.customFields===void 0&&(t.customFields=!0):t={customFields:!0},t){var n=[];t.customFields&&n.push("custom");var r=n.join(",");r.length>0&&(e.include=r)}return e},i.usePost=function(){return!0},i.validateParams=function(p,o){var t=p.config,e=o.id,n=o.name,r=o.custom;if(!e)return"Missing User.id";if(!n)return"Missing User.name";if(!t.subscribeKey)return"Missing Subscribe Key";if(r&&!Object.values(r).every(function(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"}))return"Invalid custom type, only string, number and boolean values are allowed."},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateUserOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.id;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(n))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){return n}(0,t)},i.patchURL=function(o,t){var e=o.config,n=t.id;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(n))},i.prepareParams=function(o,t){var e=t.include,n={};if(e?e.customFields===void 0&&(e.customFields=!0):e={customFields:!0},e){var r=[];e.customFields&&r.push("custom");var a=r.join(",");a.length>0&&(n.include=a)}return n},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=o.config,n=t.id,r=t.name,a=t.custom;if(!n)return"Missing User.id";if(!r)return"Missing User.name";if(!e.subscribeKey)return"Missing Subscribe Key";if(a&&!Object.values(a).every(function(l){return typeof l=="string"||typeof l=="number"||typeof l=="boolean"}))return"Invalid custom type, only string, number and boolean values are allowed."},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNDeleteUserOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.useDelete=function(){return!0},i.validateParams=function(o,t){var e=o.config;if(!t)return"Missing UserId";if(!e.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetUserOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.include,n={};if(e?e.customFields===void 0&&(e.customFields=!0):e={customFields:!0},e){var r=[];e.customFields&&r.push("custom");var a=r.join(",");a.length>0&&(n.include=a)}return n},i.validateParams=function(o,t){if(!t.userId)return"Missing userId"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetUsersOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/users")},i.handleResponse=function(p,o){return o},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.include,e=o.limit,n=o.page,r=o.filter,a={};if(e&&(a.limit=e),t){var l=[];t.totalCount&&(a.count=!0),t.customFields&&l.push("custom");var g=l.join(",");g.length>0&&(a.include=g)}return n&&(n.next&&(a.start=n.next),n.prev&&(a.end=n.prev)),r&&(a.filter=r),a},i.validateParams=function(){},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNCreateSpaceOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/spaces")},i.handleResponse=function(p,o){return o},i.isAuthSupported=function(){return!0},i.postPayload=function(p,o){return function(t,e){return e}(0,o)},i.postURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/spaces")},i.prepareParams=function(p,o){var t=o.include,e={};if(t?t.customFields===void 0&&(t.customFields=!0):t={customFields:!0},t){var n=[];t.customFields&&n.push("custom");var r=n.join(",");r.length>0&&(e.include=r)}return e},i.usePost=function(){return!0},i.validateParams=function(p,o){var t=p.config,e=o.id,n=o.name,r=o.custom;if(!e)return"Missing Space.id";if(!n)return"Missing Space.name";if(!t.subscribeKey)return"Missing Subscribe Key";if(r&&!Object.values(r).every(function(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"}))return"Invalid custom type, only string, number and boolean values are allowed."},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateSpaceOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.id;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(n))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){return n}(0,t)},i.patchURL=function(o,t){var e=o.config,n=t.id;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(n))},i.prepareParams=function(o,t){var e=t.include,n={};if(e?e.customFields===void 0&&(e.customFields=!0):e={customFields:!0},e){var r=[];e.customFields&&r.push("custom");var a=r.join(",");a.length>0&&(n.include=a)}return n},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=o.config,n=t.id,r=t.name,a=t.custom;if(!n)return"Missing Space.id";if(!r)return"Missing Space.name";if(!e.subscribeKey)return"Missing Subscribe Key";if(a&&!Object.values(a).every(function(l){return typeof l=="string"||typeof l=="number"||typeof l=="boolean"}))return"Invalid custom type, only string, number and boolean values are allowed."},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNDeleteSpaceOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.useDelete=function(){return!0},i.validateParams=function(o,t){var e=o.config;if(!t)return"Missing SpaceId";if(!e.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetSpacesOperation},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v1/objects/".concat(o.subscribeKey,"/spaces")},i.handleResponse=function(p,o){return o},i.isAuthSupported=function(){return!0},i.prepareParams=function(p,o){var t=o.include,e=o.limit,n=o.page,r=o.filter,a={};if(e&&(a.limit=e),t){var l=[];t.totalCount&&(a.count=!0),t.customFields&&l.push("custom");var g=l.join(",");g.length>0&&(a.include=g)}return n&&(n.next&&(a.start=n.next),n.prev&&(a.end=n.prev)),r&&(a.filter=r),a},i.validateParams=function(){},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetSpaceOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId))},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.include,n={};if(e?e.customFields===void 0&&(e.customFields=!0):e={customFields:!0},e){var r=[];e.customFields&&r.push("custom");var a=r.join(",");a.length>0&&(n.include=a)}return n},i.validateParams=function(o,t){if(!t.spaceId)return"Missing spaceId"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetMembersOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a=t.filter,l={};if(n&&(l.limit=n),e){var g=[];e.totalCount&&(l.count=!0),e.customFields&&g.push("custom"),e.userFields&&g.push("user"),e.customUserFields&&g.push("user.custom");var v=g.join(",");v.length>0&&(l.include=v)}return r&&(r.next&&(l.start=r.next),r.prev&&(l.end=r.prev)),a&&(l.filter=a),l},i.validateParams=function(o,t){if(!t.spaceId)return"Missing spaceId"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembersOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.users,a={};return r&&r.length>0&&(a.add=[],r.forEach(function(l){var g={id:l.id};l.custom&&(g.custom=l.custom),a.add.push(g)})),a}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.spaceId,n=t.users;if(!e)return"Missing spaceId";if(!n)return"Missing users"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembersOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.addMembers,a=n.updateMembers,l=n.removeMembers,g=n.users,v={};return r&&r.length>0&&(v.add=[],r.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.add.push(O)})),a&&a.length>0&&(v.update=[],a.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.update.push(O)})),g&&g.length>0&&(v.update=v.update||[],g.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.update.push(O)})),l&&l.length>0&&(v.remove=[],l.forEach(function(_){v.remove.push({id:_})})),v}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.spaceId,n=t.users;if(!e)return"Missing spaceId";if(!n)return"Missing users"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembersOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.users,a={};return r&&r.length>0&&(a.remove=[],r.forEach(function(l){a.remove.push({id:l})})),a}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/spaces/").concat(p.default.encodeString(t.spaceId),"/users")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.spaceId,n=t.users;if(!e)return"Missing spaceId";if(!n)return"Missing users"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNGetMembershipsOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a=t.filter,l={};if(n&&(l.limit=n),e){var g=[];e.totalCount&&(l.count=!0),e.customFields&&g.push("custom"),e.spaceFields&&g.push("space"),e.customSpaceFields&&g.push("space.custom");var v=g.join(",");v.length>0&&(l.include=v)}return r&&(r.next&&(l.start=r.next),r.prev&&(l.end=r.prev)),a&&(l.filter=a),l},i.validateParams=function(o,t){if(!t.userId)return"Missing userId"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembershipsOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.addMemberships,a=n.updateMemberships,l=n.removeMemberships,g=n.spaces,v={};return r&&r.length>0&&(v.add=[],r.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.add.push(O)})),a&&a.length>0&&(v.update=[],a.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.update.push(O)})),g&&g.length>0&&(v.update=v.update||[],g.forEach(function(_){var O={id:_.id};_.custom&&(O.custom=_.custom),v.update.push(O)})),l&&l.length>0&&(v.remove=[],l.forEach(function(_){v.remove.push({id:_})})),v}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.userId,n=t.spaces;if(!e)return"Missing userId";if(!n)return"Missing spaces"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembershipsOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.spaces,a={};return r&&r.length>0&&(a.add=[],r.forEach(function(l){var g={id:l.id};l.custom&&(g.custom=l.custom),a.add.push(g)})),a}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.userId,n=t.spaces;if(!e)return"Missing userId";if(!n)return"Missing spaces"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNUpdateMembershipsOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.handleResponse=function(o,t){return t},i.isAuthSupported=function(){return!0},i.patchPayload=function(o,t){return function(e,n){var r=n.spaces,a={};return r&&r.length>0&&(a.remove=[],r.forEach(function(l){a.remove.push({id:l})})),a}(0,t)},i.patchURL=function(o,t){var e=o.config;return"/v1/objects/".concat(e.subscribeKey,"/users/").concat(p.default.encodeString(t.userId),"/spaces")},i.prepareParams=function(o,t){var e=t.include,n=t.limit,r=t.page,a={};if(n&&(a.limit=n),e){var l=[];e.totalCount&&(a.count=!0),e.customFields&&l.push("custom"),e.spaceFields&&l.push("space"),e.customSpaceFields&&l.push("space.custom");var g=l.join(",");g.length>0&&(a.include=g)}return r&&(r.next&&(a.start=r.next),r.prev&&(a.end=r.prev)),a},i.usePatch=function(){return!0},i.validateParams=function(o,t){var e=t.userId,n=t.spaces;if(!e)return"Missing userId";if(!n)return"Missing spaces"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNAccessManagerAudit},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v2/auth/audit/sub-key/".concat(o.subscribeKey)},i.handleResponse=function(p,o){return o.payload},i.isAuthSupported=function(){return!1},i.prepareParams=function(p,o){var t=o.channel,e=o.channelGroup,n=o.authKeys,r=n===void 0?[]:n,a={};return t&&(a.channel=t),e&&(a["channel-group"]=e),r.length>0&&(a.auth=r.join(",")),a},i.validateParams=function(p){if(!p.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNAccessManagerGrant},i.getRequestTimeout=function(p){return p.config.getTransactionTimeout()},i.getURL=function(p){var o=p.config;return"/v2/auth/grant/sub-key/".concat(o.subscribeKey)},i.handleResponse=function(){return{}},i.isAuthSupported=function(){return!1},i.prepareParams=function(p,o){var t=o.channels,e=t===void 0?[]:t,n=o.channelGroups,r=n===void 0?[]:n,a=o.uuids,l=a===void 0?[]:a,g=o.ttl,v=o.read,_=v!==void 0&&v,O=o.write,A=O!==void 0&&O,k=o.manage,j=k!==void 0&&k,x=o.get,T=x!==void 0&&x,d=o.join,f=d!==void 0&&d,s=o.update,h=s!==void 0&&s,P=o.authKeys,M=P===void 0?[]:P,C=o.delete,I={};return I.r=_?"1":"0",I.w=A?"1":"0",I.m=j?"1":"0",I.d=C?"1":"0",I.g=T?"1":"0",I.j=f?"1":"0",I.u=h?"1":"0",e.length>0&&(I.channel=e.join(",")),r.length>0&&(I["channel-group"]=r.join(",")),M.length>0&&(I.auth=M.join(",")),l.length>0&&(I["target-uuid"]=l.join(",")),(g||g===0)&&(I.ttl=g),I},i.validateParams=function(p,o){var t=p.config;if(!t.subscribeKey)return"Missing Subscribe Key";if(!t.publishKey)return"Missing Publish Key";if(!t.secretKey)return"Missing Secret Key";if(o.uuids!=null&&!o.authKeys)return"authKeys are required for grant request on uuids";if(o.uuids!=null&&(o.channels!=null||o.channelGroups!=null))return"Both channel/channelgroup and uuid cannot be used in the same request"},u(2);var b=c(u(1))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.extractPermissions=p,i.getOperation=function(){return b.default.PNAccessManagerGrantToken},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.handleResponse=function(o,t){return t.data.token},i.isAuthSupported=function(){return!1},i.postPayload=function(o,t){return function(e,n){var r=n.ttl,a=n.resources,l=n.patterns,g=n.meta,v=n.authorized_uuid,_={ttl:0,permissions:{resources:{channels:{},groups:{},uuids:{},users:{},spaces:{}},patterns:{channels:{},groups:{},uuids:{},users:{},spaces:{}},meta:{}}};if(a){var O=a.uuids,A=a.channels,k=a.groups;O&&Object.keys(O).forEach(function(d){_.permissions.resources.uuids[d]=p(O[d])}),A&&Object.keys(A).forEach(function(d){_.permissions.resources.channels[d]=p(A[d])}),k&&Object.keys(k).forEach(function(d){_.permissions.resources.groups[d]=p(k[d])})}if(l){var j=l.uuids,x=l.channels,T=l.groups;j&&Object.keys(j).forEach(function(d){_.permissions.patterns.uuids[d]=p(j[d])}),x&&Object.keys(x).forEach(function(d){_.permissions.patterns.channels[d]=p(x[d])}),T&&Object.keys(T).forEach(function(d){_.permissions.patterns.groups[d]=p(T[d])})}return(r||r===0)&&(_.ttl=r),g&&(_.permissions.meta=g),v&&(_.permissions.uuid="".concat(v)),_}(0,t)},i.postURL=function(o){var t=o.config;return"/v3/pam/".concat(t.subscribeKey,"/grant")},i.prepareParams=function(){return{}},i.usePost=function(){return!0},i.validateParams=function(o,t){var e=o.config;if(!e.subscribeKey)return"Missing Subscribe Key";if(!e.publishKey)return"Missing Publish Key";if(!e.secretKey)return"Missing Secret Key";if(!t.resources&&!t.patterns)return"Missing either Resources or Patterns.";if(t.resources&&(!t.resources.uuids||Object.keys(t.resources.uuids).length===0)&&(!t.resources.channels||Object.keys(t.resources.channels).length===0)&&(!t.resources.groups||Object.keys(t.resources.groups).length===0)||t.patterns&&(!t.patterns.uuids||Object.keys(t.patterns.uuids).length===0)&&(!t.patterns.channels||Object.keys(t.patterns.channels).length===0)&&(!t.patterns.groups||Object.keys(t.patterns.groups).length===0))return"Missing values for either Resources or Patterns."},u(2);var b=c(u(1));function p(o){var t=0;return o.join&&(t|=128),o.update&&(t|=64),o.get&&(t|=32),o.delete&&(t|=8),o.manage&&(t|=4),o.write&&(t|=2),o.read&&(t|=1),t}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNAccessManagerRevokeToken},validateParams:function(t,e){return t.config.secretKey?e?void 0:"token can't be empty":"Missing Secret Key"},getURL:function(t,e){var n=t.config;return"/v3/pam/".concat(n.subscribeKey,"/grant/").concat(p.default.encodeString(e))},useDelete:function(){return!0},getRequestTimeout:function(t){return t.config.getTransactionTimeout()},isAuthSupported:function(){return!1},prepareParams:function(t){return{uuid:t.config.getUUID()}},handleResponse:function(t,e){return{status:e.status,data:e.data}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return p.default.PNPublishOperation},i.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},i.getURL=function(e,n){var r=e.config,a=n.channel,l=n.message,g=t(e,l);return"/publish/".concat(r.publishKey,"/").concat(r.subscribeKey,"/0/").concat(o.default.encodeString(a),"/0/").concat(o.default.encodeString(g))},i.handleResponse=function(e,n){return{timetoken:n[2]}},i.isAuthSupported=function(){return!0},i.postPayload=function(e,n){var r=n.message;return t(e,r)},i.postURL=function(e,n){var r=e.config,a=n.channel;return"/publish/".concat(r.publishKey,"/").concat(r.subscribeKey,"/0/").concat(o.default.encodeString(a),"/0")},i.prepareParams=function(e,n){var r=n.meta,a=n.replicate,l=a===void 0||a,g=n.storeInHistory,v=n.ttl,_={};return g!=null&&(_.store=g?"1":"0"),v&&(_.ttl=v),l===!1&&(_.norep="true"),r&&(0,b.default)(r)==="object"&&(_.meta=JSON.stringify(r)),_},i.usePost=function(e,n){var r=n.sendByPost;return r!==void 0&&r},i.validateParams=function(e,n){var r=e.config,a=n.message;if(!n.channel)return"Missing Channel";if(!a)return"Missing Message";if(!r.subscribeKey)return"Missing Subscribe Key"};var b=c(u(7)),p=(u(2),c(u(1))),o=c(u(3));function t(e,n){var r=e.crypto,a=e.config,l=JSON.stringify(n);return a.cipherKey&&(l=r.encrypt(l),l=JSON.stringify(l)),l}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNSignalOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channel,r=t.message,a=(l=r,JSON.stringify(l)),l;return"/signal/".concat(e.publishKey,"/").concat(e.subscribeKey,"/0/").concat(p.default.encodeString(n),"/0/").concat(p.default.encodeString(a))},i.handleResponse=function(o,t){return{timetoken:t[2]}},i.isAuthSupported=function(){return!0},i.prepareParams=function(){return{}},i.validateParams=function(o,t){var e=o.config,n=t.message;if(!t.channel)return"Missing Channel";if(!n)return"Missing Message";if(!e.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNHistoryOperation},i.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},i.getURL=function(t,e){var n=e.channel,r=t.config;return"/v2/history/sub-key/".concat(r.subscribeKey,"/channel/").concat(p.default.encodeString(n))},i.handleResponse=function(t,e){var n={messages:[],startTimeToken:e[1],endTimeToken:e[2]};return Array.isArray(e[0])&&e[0].forEach(function(r){var a={timetoken:r.timetoken,entry:o(t,r.message)};r.meta&&(a.meta=r.meta),n.messages.push(a)}),n},i.isAuthSupported=function(){return!0},i.prepareParams=function(t,e){var n=e.start,r=e.end,a=e.reverse,l=e.count,g=l===void 0?100:l,v=e.stringifiedTimeToken,_=v!==void 0&&v,O=e.includeMeta,A=O!==void 0&&O,k={include_token:"true"};return k.count=g,n&&(k.start=n),r&&(k.end=r),_&&(k.string_message_token="true"),a!=null&&(k.reverse=a.toString()),A&&(k.include_meta="true"),k},i.validateParams=function(t,e){var n=e.channel,r=t.config;if(!n)return"Missing channel";if(!r.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3));function o(t,e){var n=t.config,r=t.crypto;if(!n.cipherKey)return e;try{return r.decrypt(e)}catch{return e}}},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNDeleteMessagesOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channel,n=o.config;return"/v3/history/sub-key/".concat(n.subscribeKey,"/channel/").concat(p.default.encodeString(e))},i.handleResponse=function(o,t){return t.payload},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.start,n=t.end,r={};return e&&(r.start=e),n&&(r.end=n),r},i.useDelete=function(){return!0},i.validateParams=function(o,t){var e=t.channel,n=o.config;if(!e)return"Missing channel";if(!n.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return p.default.PNMessageCounts},i.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},i.getURL=function(t,e){var n=e.channels,r=t.config,a=n.join(",");return"/v3/history/sub-key/".concat(r.subscribeKey,"/message-counts/").concat(o.default.encodeString(a))},i.handleResponse=function(t,e){return{channels:e.channels}},i.isAuthSupported=function(){return!0},i.prepareParams=function(t,e){var n=e.timetoken,r=e.channelTimetokens,a={};if(r&&r.length===1){var l=(0,b.default)(r,1)[0];a.timetoken=l}else r?a.channelsTimetoken=r.join(","):n&&(a.timetoken=n);return a},i.validateParams=function(t,e){var n=e.channels,r=e.timetoken,a=e.channelTimetokens,l=t.config;if(!n)return"Missing channel";if(r&&a)return"timetoken and channelTimetokens are incompatible together";if(r&&a&&a.length>1&&n.length!==a.length)return"Length of channelTimetokens and channels do not match";if(!l.subscribeKey)return"Missing Subscribe Key"};var b=c(u(9)),p=c(u(1)),o=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNFetchMessagesOperation},i.getRequestTimeout=function(o){return o.config.getTransactionTimeout()},i.getURL=function(o,t){var e=t.channels,n=e===void 0?[]:e,r=t.includeMessageActions,a=r!==void 0&&r,l=o.config,g=a?"history-with-actions":"history",v=n.length>0?n.join(","):",";return"/v3/".concat(g,"/sub-key/").concat(l.subscribeKey,"/channel/").concat(p.default.encodeString(v))},i.handleResponse=function(o,t){var e={channels:{}};return Object.keys(t.channels||{}).forEach(function(n){e.channels[n]=[],(t.channels[n]||[]).forEach(function(r){var a={};a.channel=n,a.timetoken=r.timetoken,a.message=function(l,g){var v=l.config,_=l.crypto;if(!v.cipherKey)return g;try{return _.decrypt(g)}catch{return g}}(o,r.message),a.messageType=r.message_type,a.uuid=r.uuid,r.actions&&(a.actions=r.actions,a.data=r.actions),r.meta&&(a.meta=r.meta),e.channels[n].push(a)})}),t.more&&(e.more=t.more),e},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=t.channels,n=t.start,r=t.end,a=t.includeMessageActions,l=t.count,g=t.stringifiedTimeToken,v=g!==void 0&&g,_=t.includeMeta,O=_!==void 0&&_,A=t.includeUuid,k=t.includeUUID,j=k===void 0||k,x=t.includeMessageType,T=x===void 0||x,d={};return d.max=l||(e.length>1||a===!0?25:100),n&&(d.start=n),r&&(d.end=r),v&&(d.string_message_token="true"),O&&(d.include_meta="true"),j&&A!==!1&&(d.include_uuid="true"),T&&(d.include_message_type="true"),d},i.validateParams=function(o,t){var e=t.channels,n=t.includeMessageActions,r=n!==void 0&&n,a=o.config;if(!e||e.length===0)return"Missing channels";if(!a.subscribeKey)return"Missing Subscribe Key";if(r&&e.length>1)throw new TypeError("History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.")},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.getOperation=function(){return b.default.PNSubscribeOperation},i.getRequestTimeout=function(o){return o.config.getSubscribeTimeout()},i.getURL=function(o,t){var e=o.config,n=t.channels,r=n===void 0?[]:n,a=r.length>0?r.join(","):",";return"/v2/subscribe/".concat(e.subscribeKey,"/").concat(p.default.encodeString(a),"/0")},i.handleResponse=function(o,t){var e=[];t.m.forEach(function(r){var a={publishTimetoken:r.p.t,region:r.p.r},l={shard:parseInt(r.a,10),subscriptionMatch:r.b,channel:r.c,messageType:r.e,payload:r.d,flags:r.f,issuingClientId:r.i,subscribeKey:r.k,originationTimetoken:r.o,userMetadata:r.u,publishMetaData:a};e.push(l)});var n={timetoken:t.t.t,region:t.t.r};return{messages:e,metadata:n}},i.isAuthSupported=function(){return!0},i.prepareParams=function(o,t){var e=o.config,n=t.state,r=t.channelGroups,a=r===void 0?[]:r,l=t.timetoken,g=t.filterExpression,v=t.region,_={heartbeat:e.getPresenceTimeout()};return a.length>0&&(_["channel-group"]=a.join(",")),g&&g.length>0&&(_["filter-expr"]=g),Object.keys(n).length&&(_.state=JSON.stringify(n)),l&&(_.tt=l),v&&(_.tr=v),_},i.validateParams=function(o){if(!o.config.subscribeKey)return"Missing Subscribe Key"},u(2);var b=c(u(1)),p=c(u(3))},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNHandshakeOperation},validateParams:function(t,e){if(!(e!=null&&e.channels||e!=null&&e.channelGroups))return"channels and channleGroups both should not be empty"},getURL:function(t,e){var n=t.config,r=e.channels?e.channels.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(p.default.encodeString(r),"/0")},getRequestTimeout:function(t){return t.config.getSubscribeTimeout()},isAuthSupported:function(){return!0},prepareParams:function(t,e){var n={};return e.channelGroups&&(n["channel-group"]=e.channelGroups.join(",")),n.tt=0,n},handleResponse:function(t,e){return{region:e.t.r,timetoken:e.t.t}}};i.default=o,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(1)),p=c(u(3)),o={getOperation:function(){return b.default.PNReceiveMessagesOperation},validateParams:function(t,e){return e!=null&&e.channels||e!=null&&e.channelGroups?e!=null&&e.timetoken?e!=null&&e.region?void 0:"region can not be empty":"timetoken can not be empty":"channels and channleGroups both should not be empty"},getURL:function(t,e){var n=t.config,r=e.channels?e.channels.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(p.default.encodeString(r),"/0")},getRequestTimeout:function(t){return t.config.getSubscribeTimeout()},isAuthSupported:function(){return!0},getAbortSignal:function(t,e){return e.abortSignal},prepareParams:function(t,e){var n={};return e.channelGroups&&(n["channel-group"]=e.channelGroups.join(",")),n.tt=e.timetoken,n.tr=e.region,n},handleResponse:function(t,e){var n=[];return e.m.forEach(function(r){var a={shard:parseInt(r.a,10),subscriptionMatch:r.b,channel:r.c,messageType:r.e,payload:r.d,flags:r.f,issuingClientId:r.i,subscribeKey:r.k,originationTimetoken:r.o,publishMetaData:{timetoken:r.p.t,region:r.p.r}};n.push(a)}),{messages:n,metadata:{region:e.t.r,timetoken:e.t.t}}}};i.default=o,S.exports=i.default},function(S,i,u){},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(5)),p=c(u(6)),o=c(u(4)),t=(c(u(8)),c(u(10))),e=(u(2),function(){function n(r){var a=this;(0,b.default)(this,n),(0,o.default)(this,"_modules",void 0),(0,o.default)(this,"_config",void 0),(0,o.default)(this,"_currentSubDomain",void 0),(0,o.default)(this,"_standardOrigin",void 0),(0,o.default)(this,"_subscribeOrigin",void 0),(0,o.default)(this,"_requestTimeout",void 0),(0,o.default)(this,"_coreParams",void 0),this._modules={},Object.keys(r).forEach(function(l){a._modules[l]=r[l].bind(a)})}return(0,p.default)(n,[{key:"init",value:function(r){this._config=r,Array.isArray(this._config.origin)?this._currentSubDomain=Math.floor(Math.random()*this._config.origin.length):this._currentSubDomain=0,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){var r=this._config.secure?"https://":"http://";if(typeof this._config.origin=="string")return"".concat(r).concat(this._config.origin);this._currentSubDomain+=1,this._currentSubDomain>=this._config.origin.length&&(this._currentSubDomain=0);var a=this._config.origin[this._currentSubDomain];return"".concat(r).concat(a)}},{key:"hasModule",value:function(r){return r in this._modules}},{key:"shiftStandardOrigin",value:function(){return this._standardOrigin=this.nextOrigin(),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POSTFILE",value:function(r,a,l){return this._modules.postfile(r,a,l)}},{key:"GETFILE",value:function(r,a,l){return this._modules.getfile(r,a,l)}},{key:"POST",value:function(r,a,l,g){return this._modules.post(r,a,l,g)}},{key:"PATCH",value:function(r,a,l,g){return this._modules.patch(r,a,l,g)}},{key:"GET",value:function(r,a,l){return this._modules.get(r,a,l)}},{key:"DELETE",value:function(r,a,l){return this._modules.del(r,a,l)}},{key:"_detectErrorCategory",value:function(r){if(r.code==="ENOTFOUND"||r.code==="ECONNREFUSED"||r.code==="ECONNRESET"||r.code==="EAI_AGAIN"||r.status===0||r.hasOwnProperty("status")&&r.status===void 0)return t.default.PNNetworkIssuesCategory;if(r.timeout)return t.default.PNTimeoutCategory;if(r.code==="ETIMEDOUT")return t.default.PNNetworkIssuesCategory;if(r.response){if(r.response.badRequest)return t.default.PNBadRequestCategory;if(r.response.forbidden)return t.default.PNAccessDeniedCategory}return t.default.PNUnknownCategory}}]),n}());i.default=e,S.exports=i.default},function(S,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c={get:function(b){try{return localStorage.getItem(b)}catch{return null}},set:function(b,p){try{return localStorage.setItem(b,p)}catch{return null}}};i.default=c,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b=c(u(7)),p=c(u(5)),o=c(u(6)),t=c(u(4)),e=function(){function n(r,a){(0,p.default)(this,n),(0,t.default)(this,"_base64ToBinary",void 0),(0,t.default)(this,"_cborReader",void 0),this._base64ToBinary=a,this._decode=r}return(0,o.default)(n,[{key:"decodeToken",value:function(r){var a="";r.length%4==3?a="=":r.length%4==2&&(a="==");var l=r.replace(/-/gi,"+").replace(/_/gi,"/")+a,g=this._decode(this._base64ToBinary(l));if((0,b.default)(g)==="object")return g}}]),n}();i.default=e,S.exports=i.default},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.del=function(r,a,l){var g=o.default.delete(this.getStandardOrigin()+a.url).set(a.headers).query(r);return e.call(this,g,a,l)},i.get=function(r,a,l){var g=o.default.get(this.getStandardOrigin()+a.url).set(a.headers).query(r);return e.call(this,g,a,l)},i.getfile=function(r,a,l){var g=o.default.get(this.getStandardOrigin()+a.url).set(a.headers).query(r);return e.call(this,g,a,l)},i.patch=function(r,a,l,g){var v=o.default.patch(this.getStandardOrigin()+l.url).query(r).set(l.headers).send(a);return e.call(this,v,l,g)},i.post=function(r,a,l,g){var v=o.default.post(this.getStandardOrigin()+l.url).query(r).set(l.headers).send(a);return e.call(this,v,l,g)},i.postfile=function(r,a,l){return n.apply(this,arguments)};var b=c(u(11)),p=c(u(12)),o=c(u(132));u(2);function t(r){var a=new Date().getTime(),l=new Date().toISOString(),g=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;g.log("<<<<<"),g.log("[".concat(l,"]"),`
`,r.url,`
`,r.qs),g.log("-----"),r.on("response",function(v){var _=new Date().getTime()-a,O=new Date().toISOString();g.log(">>>>>>"),g.log("[".concat(O," / ").concat(_,"]"),`
`,r.url,`
`,r.qs,`
`,v.text),g.log("-----")})}function e(r,a,l){var g=this;this._config.logVerbosity&&(r=r.use(t)),this._config.proxy&&this._modules.proxy&&(r=this._modules.proxy.call(this,r)),this._config.keepAlive&&this._modules.keepAlive&&(r=this._modules.keepAlive(r));var v=r;return a.abortSignal&&a.abortSignal.on("abort",function(){v.abort()}),a.forceBuffered===!0?v=typeof Blob>"u"?v.buffer().responseType("arraybuffer"):v.responseType("arraybuffer"):a.forceBuffered===!1&&(v=v.buffer(!1)),(v=v.timeout(a.timeout)).end(function(_,O){var A,k={};if(k.error=_!==null,k.operation=a.operation,O&&O.status&&(k.statusCode=O.status),_){if(_.response&&_.response.text&&!g._config.logVerbosity)try{k.errorData=JSON.parse(_.response.text)}catch{k.errorData=_}else k.errorData=_;return k.category=g._detectErrorCategory(_),l(k,null)}if(a.ignoreBody)A={headers:O.headers,redirects:O.redirects,response:O};else try{A=JSON.parse(O.text)}catch{return k.errorData=O,k.error=!0,l(k,null)}return A.error&&A.error===1&&A.status&&A.message&&A.service?(k.errorData=A,k.statusCode=A.status,k.error=!0,k.category=g._detectErrorCategory(k),l(k,null)):(A.error&&A.error.message&&(k.errorData=A.error),l(k,A))}),v}function n(){return(n=(0,p.default)(b.default.mark(function r(a,l,g){var v,_;return b.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return v=o.default.post(a),l.forEach(function(A){var k=A.key,j=A.value;v=v.field(k,j)}),v.attach("file",g,{contentType:"application/octet-stream"}),O.next=5,v;case 5:return _=O.sent,O.abrupt("return",_);case 7:case"end":return O.stop()}},r)}))).apply(this,arguments)}},function(S,i,u){function c(d){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}var b;typeof window<"u"?b=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),b=void 0):b=self;var p=u(133),o=u(134),t=u(135),e=u(147),n=u(30),r=u(148),a=u(150);function l(){}S.exports=function(d,f){return typeof f=="function"?new i.Request("GET",d).end(f):arguments.length===1?new i.Request("GET",d):new i.Request(d,f)};var g=i=S.exports;i.Request=x,g.getXHR=function(){if(b.XMLHttpRequest&&(!b.location||b.location.protocol!=="file:"||!b.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var v="".trim?function(d){return d.trim()}:function(d){return d.replace(/(^\s*|\s*$)/g,"")};function _(d){if(!n(d))return d;var f=[];for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&O(f,s,d[s]);return f.join("&")}function O(d,f,s){if(s!==void 0)if(s!==null)if(Array.isArray(s))s.forEach(function(P){O(d,f,P)});else if(n(s))for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&O(d,"".concat(f,"[").concat(h,"]"),s[h]);else d.push(encodeURI(f)+"="+encodeURIComponent(s));else d.push(encodeURI(f))}function A(d){for(var f,s,h={},P=d.split("&"),M=0,C=P.length;M<C;++M)(s=(f=P[M]).indexOf("="))===-1?h[decodeURIComponent(f)]="":h[decodeURIComponent(f.slice(0,s))]=decodeURIComponent(f.slice(s+1));return h}function k(d){return/[/+]json($|[^-\w])/i.test(d)}function j(d){this.req=d,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||this.xhr.responseType===void 0?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var f=this.xhr.status;f===1223&&(f=204),this._setStatusProperties(f),this.headers=function(s){for(var h,P,M,C,I=s.split(/\r?\n/),E={},F=0,L=I.length;F<L;++F)(h=(P=I[F]).indexOf(":"))!==-1&&(M=P.slice(0,h).toLowerCase(),C=v(P.slice(h+1)),E[M]=C);return E}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&d._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}function x(d,f){var s=this;this._query=this._query||[],this.method=d,this.url=f,this.header={},this._header={},this.on("end",function(){var h,P=null,M=null;try{M=new j(s)}catch(C){return(P=new Error("Parser is unable to parse the response")).parse=!0,P.original=C,s.xhr?(P.rawResponse=s.xhr.responseType===void 0?s.xhr.responseText:s.xhr.response,P.status=s.xhr.status?s.xhr.status:null,P.statusCode=P.status):(P.rawResponse=null,P.status=null),s.callback(P)}s.emit("response",M);try{s._isResponseOK(M)||(h=new Error(M.statusText||M.text||"Unsuccessful HTTP response"))}catch(C){h=C}h?(h.original=P,h.response=M,h.status=M.status,s.callback(h,M)):s.callback(null,M)})}function T(d,f,s){var h=g("DELETE",d);return typeof f=="function"&&(s=f,f=null),f&&h.send(f),s&&h.end(s),h}g.serializeObject=_,g.parseString=A,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":t.stringify,"application/json":o},g.parse={"application/x-www-form-urlencoded":A,"application/json":JSON.parse},r(j.prototype),j.prototype._parseBody=function(d){var f=g.parse[this.type];return this.req._parser?this.req._parser(this,d):(!f&&k(this.type)&&(f=g.parse["application/json"]),f&&d&&(d.length>0||d instanceof Object)?f(d):null)},j.prototype.toError=function(){var d=this.req,f=d.method,s=d.url,h="cannot ".concat(f," ").concat(s," (").concat(this.status,")"),P=new Error(h);return P.status=this.status,P.method=f,P.url=s,P},g.Response=j,p(x.prototype),e(x.prototype),x.prototype.type=function(d){return this.set("Content-Type",g.types[d]||d),this},x.prototype.accept=function(d){return this.set("Accept",g.types[d]||d),this},x.prototype.auth=function(d,f,s){arguments.length===1&&(f=""),c(f)==="object"&&f!==null&&(s=f,f=""),s||(s={type:typeof btoa=="function"?"basic":"auto"});var h=function(P){if(typeof btoa=="function")return btoa(P);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(d,f,s,h)},x.prototype.query=function(d){return typeof d!="string"&&(d=_(d)),d&&this._query.push(d),this},x.prototype.attach=function(d,f,s){if(f){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(d,f,s||f.name)}return this},x.prototype._getFormData=function(){return this._formData||(this._formData=new b.FormData),this._formData},x.prototype.callback=function(d,f){if(this._shouldRetry(d,f))return this._retry();var s=this._callback;this.clearTimeout(),d&&(this._maxRetries&&(d.retries=this._retries-1),this.emit("error",d)),s(d,f)},x.prototype.crossDomainError=function(){var d=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);d.crossDomain=!0,d.status=this.status,d.method=this.method,d.url=this.url,this.callback(d)},x.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},x.prototype.ca=x.prototype.agent,x.prototype.buffer=x.prototype.ca,x.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},x.prototype.pipe=x.prototype.write,x.prototype._isHost=function(d){return d&&c(d)==="object"&&!Array.isArray(d)&&Object.prototype.toString.call(d)!=="[object Object]"},x.prototype.end=function(d){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=d||l,this._finalizeQueryString(),this._end()},x.prototype._setUploadTimeout=function(){var d=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){d._timeoutError("Upload timeout of ",d._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},x.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var d=this;this.xhr=g.getXHR();var f=this.xhr,s=this._formData||this._data;this._setTimeouts(),f.onreadystatechange=function(){var I=f.readyState;if(I>=2&&d._responseTimeoutTimer&&clearTimeout(d._responseTimeoutTimer),I===4){var E;try{E=f.status}catch{E=0}if(!E)return d.timedout||d._aborted?void 0:d.crossDomainError();d.emit("end")}};var h=function(I,E){E.total>0&&(E.percent=E.loaded/E.total*100,E.percent===100&&clearTimeout(d._uploadTimeoutTimer)),E.direction=I,d.emit("progress",E)};if(this.hasListeners("progress"))try{f.addEventListener("progress",h.bind(null,"download")),f.upload&&f.upload.addEventListener("progress",h.bind(null,"upload"))}catch{}f.upload&&this._setUploadTimeout();try{this.username&&this.password?f.open(this.method,this.url,!0,this.username,this.password):f.open(this.method,this.url,!0)}catch(I){return this.callback(I)}if(this._withCredentials&&(f.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof s!="string"&&!this._isHost(s)){var P=this._header["content-type"],M=this._serializer||g.serialize[P?P.split(";")[0]:""];!M&&k(P)&&(M=g.serialize["application/json"]),M&&(s=M(s))}for(var C in this.header)this.header[C]!==null&&Object.prototype.hasOwnProperty.call(this.header,C)&&f.setRequestHeader(C,this.header[C]);this._responseType&&(f.responseType=this._responseType),this.emit("request",this),f.send(s===void 0?null:s)},g.agent=function(){return new a},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(d){a.prototype[d.toLowerCase()]=function(f,s){var h=new g.Request(d,f);return this._setDefaults(h),s&&h.end(s),h}}),a.prototype.del=a.prototype.delete,g.get=function(d,f,s){var h=g("GET",d);return typeof f=="function"&&(s=f,f=null),f&&h.query(f),s&&h.end(s),h},g.head=function(d,f,s){var h=g("HEAD",d);return typeof f=="function"&&(s=f,f=null),f&&h.query(f),s&&h.end(s),h},g.options=function(d,f,s){var h=g("OPTIONS",d);return typeof f=="function"&&(s=f,f=null),f&&h.send(f),s&&h.end(s),h},g.del=T,g.delete=T,g.patch=function(d,f,s){var h=g("PATCH",d);return typeof f=="function"&&(s=f,f=null),f&&h.send(f),s&&h.end(s),h},g.post=function(d,f,s){var h=g("POST",d);return typeof f=="function"&&(s=f,f=null),f&&h.send(f),s&&h.end(s),h},g.put=function(d,f,s){var h=g("PUT",d);return typeof f=="function"&&(s=f,f=null),f&&h.send(f),s&&h.end(s),h}},function(S,i,u){function c(b){if(b)return function(p){for(var o in c.prototype)p[o]=c.prototype[o];return p}(b)}S.exports=c,c.prototype.on=c.prototype.addEventListener=function(b,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(p),this},c.prototype.once=function(b,p){function o(){this.off(b,o),p.apply(this,arguments)}return o.fn=p,this.on(b,o),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(b,p){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o,t=this._callbacks["$"+b];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+b],this;for(var e=0;e<t.length;e++)if((o=t[e])===p||o.fn===p){t.splice(e,1);break}return t.length===0&&delete this._callbacks["$"+b],this},c.prototype.emit=function(b){this._callbacks=this._callbacks||{};for(var p=new Array(arguments.length-1),o=this._callbacks["$"+b],t=1;t<arguments.length;t++)p[t-1]=arguments[t];if(o){t=0;for(var e=(o=o.slice(0)).length;t<e;++t)o[t].apply(this,p)}return this},c.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]},c.prototype.hasListeners=function(b){return!!this.listeners(b).length}},function(S,i){S.exports=p,p.default=p,p.stable=e,p.stableStringify=e;var u=[],c=[];function b(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function p(r,a,l,g){var v;g===void 0&&(g=b()),function O(A,k,j,x,T,d,f){var s;if(d+=1,typeof A=="object"&&A!==null){for(s=0;s<x.length;s++)if(x[s]===A)return void o("[Circular]",A,k,T);if(f.depthLimit!==void 0&&d>f.depthLimit||f.edgesLimit!==void 0&&j+1>f.edgesLimit)return void o("[...]",A,k,T);if(x.push(A),Array.isArray(A))for(s=0;s<A.length;s++)O(A[s],s,s,x,A,d,f);else{var h=Object.keys(A);for(s=0;s<h.length;s++){var P=h[s];O(A[P],P,s,x,A,d,f)}}x.pop()}}(r,"",0,[],void 0,0,g);try{v=c.length===0?JSON.stringify(r,a,l):JSON.stringify(r,n(a),l)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;u.length!==0;){var _=u.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return v}function o(r,a,l,g){var v=Object.getOwnPropertyDescriptor(g,l);v.get!==void 0?v.configurable?(Object.defineProperty(g,l,{value:r}),u.push([g,l,a,v])):c.push([a,l,r]):(g[l]=r,u.push([g,l,a]))}function t(r,a){return r<a?-1:r>a?1:0}function e(r,a,l,g){g===void 0&&(g=b());var v,_=function A(k,j,x,T,d,f,s){var h;if(f+=1,typeof k=="object"&&k!==null){for(h=0;h<T.length;h++)if(T[h]===k)return void o("[Circular]",k,j,d);try{if(typeof k.toJSON=="function")return}catch{return}if(s.depthLimit!==void 0&&f>s.depthLimit||s.edgesLimit!==void 0&&x+1>s.edgesLimit)return void o("[...]",k,j,d);if(T.push(k),Array.isArray(k))for(h=0;h<k.length;h++)A(k[h],h,h,T,k,f,s);else{var P={},M=Object.keys(k).sort(t);for(h=0;h<M.length;h++){var C=M[h];A(k[C],C,h,T,k,f,s),P[C]=k[C]}if(d===void 0)return P;u.push([d,j,k]),d[j]=P}T.pop()}}(r,"",0,[],void 0,0,g)||r;try{v=c.length===0?JSON.stringify(_,a,l):JSON.stringify(_,n(a),l)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;u.length!==0;){var O=u.pop();O.length===4?Object.defineProperty(O[0],O[1],O[3]):O[0][O[1]]=O[2]}}return v}function n(r){return r=r!==void 0?r:function(a,l){return l},function(a,l){if(c.length>0)for(var g=0;g<c.length;g++){var v=c[g];if(v[1]===a&&v[0]===l){l=v[2],c.splice(g,1);break}}return r.call(this,a,l)}}},function(S,i,u){var c=u(136),b=u(146),p=u(21);S.exports={formats:p,parse:b,stringify:c}},function(S,i,u){var c=u(137),b=u(29),p=u(21),o=Object.prototype.hasOwnProperty,t={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,k){return A+"["+k+"]"},repeat:function(A){return A}},e=Array.isArray,n=String.prototype.split,r=Array.prototype.push,a=function(A,k){r.apply(A,e(k)?k:[k])},l=Date.prototype.toISOString,g=p.default,v={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:b.encode,encodeValuesOnly:!1,format:g,formatter:p.formatters[g],indices:!1,serializeDate:function(A){return l.call(A)},skipNulls:!1,strictNullHandling:!1},_={},O=function A(k,j,x,T,d,f,s,h,P,M,C,I,E,F,L){for(var H,B=k,V=L,$=0,X=!1;(V=V.get(_))!==void 0&&!X;){var ee=V.get(k);if($+=1,ee!==void 0){if(ee===$)throw new RangeError("Cyclic object value");X=!0}V.get(_)===void 0&&($=0)}if(typeof s=="function"?B=s(j,B):B instanceof Date?B=M(B):x==="comma"&&e(B)&&(B=b.maybeMap(B,function(Z){return Z instanceof Date?M(Z):Z})),B===null){if(T)return f&&!E?f(j,v.encoder,F,"key",C):j;B=""}if(typeof(H=B)=="string"||typeof H=="number"||typeof H=="boolean"||typeof H=="symbol"||typeof H=="bigint"||b.isBuffer(B)){if(f){var q=E?j:f(j,v.encoder,F,"key",C);if(x==="comma"&&E){for(var z=n.call(String(B),","),D="",R=0;R<z.length;++R)D+=(R===0?"":",")+I(f(z[R],v.encoder,F,"value",C));return[I(q)+"="+D]}return[I(q)+"="+I(f(B,v.encoder,F,"value",C))]}return[I(j)+"="+I(String(B))]}var G,y=[];if(B===void 0)return y;if(x==="comma"&&e(B))G=[{value:B.length>0?B.join(",")||null:void 0}];else if(e(s))G=s;else{var m=Object.keys(B);G=h?m.sort(h):m}for(var w=0;w<G.length;++w){var N=G[w],U=typeof N=="object"&&N.value!==void 0?N.value:B[N];if(!d||U!==null){var K=e(B)?typeof x=="function"?x(j,N):j:j+(P?"."+N:"["+N+"]");L.set(k,$);var Y=c();Y.set(_,L),a(y,A(U,K,x,T,d,f,s,h,P,M,C,I,E,F,Y))}}return y};S.exports=function(A,k){var j,x=A,T=function(E){if(!E)return v;if(E.encoder!==null&&E.encoder!==void 0&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var F=E.charset||v.charset;if(E.charset!==void 0&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var L=p.default;if(E.format!==void 0){if(!o.call(p.formatters,E.format))throw new TypeError("Unknown format option provided.");L=E.format}var H=p.formatters[L],B=v.filter;return(typeof E.filter=="function"||e(E.filter))&&(B=E.filter),{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:v.addQueryPrefix,allowDots:E.allowDots===void 0?v.allowDots:!!E.allowDots,charset:F,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:v.charsetSentinel,delimiter:E.delimiter===void 0?v.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:v.encode,encoder:typeof E.encoder=="function"?E.encoder:v.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:v.encodeValuesOnly,filter:B,format:L,formatter:H,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:v.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:v.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:v.strictNullHandling}}(k);typeof T.filter=="function"?x=(0,T.filter)("",x):e(T.filter)&&(j=T.filter);var d,f=[];if(typeof x!="object"||x===null)return"";d=k&&k.arrayFormat in t?k.arrayFormat:k&&"indices"in k?k.indices?"indices":"repeat":"indices";var s=t[d];j||(j=Object.keys(x)),T.sort&&j.sort(T.sort);for(var h=c(),P=0;P<j.length;++P){var M=j[P];T.skipNulls&&x[M]===null||a(f,O(x[M],M,s,T.strictNullHandling,T.skipNulls,T.encode?T.encoder:null,T.filter,T.sort,T.allowDots,T.serializeDate,T.format,T.formatter,T.encodeValuesOnly,T.charset,h))}var C=f.join(T.delimiter),I=T.addQueryPrefix===!0?"?":"";return T.charsetSentinel&&(T.charset==="iso-8859-1"?I+="utf8=%26%2310003%3B&":I+="utf8=%E2%9C%93&"),C.length>0?I+C:""}},function(S,i,u){var c=u(19),b=u(142),p=u(144),o=c("%TypeError%"),t=c("%WeakMap%",!0),e=c("%Map%",!0),n=b("WeakMap.prototype.get",!0),r=b("WeakMap.prototype.set",!0),a=b("WeakMap.prototype.has",!0),l=b("Map.prototype.get",!0),g=b("Map.prototype.set",!0),v=b("Map.prototype.has",!0),_=function(O,A){for(var k,j=O;(k=j.next)!==null;j=k)if(k.key===A)return j.next=k.next,k.next=O.next,O.next=k,k};S.exports=function(){var O,A,k,j={assert:function(x){if(!j.has(x))throw new o("Side channel does not contain "+p(x))},get:function(x){if(t&&x&&(typeof x=="object"||typeof x=="function")){if(O)return n(O,x)}else if(e){if(A)return l(A,x)}else if(k)return function(T,d){var f=_(T,d);return f&&f.value}(k,x)},has:function(x){if(t&&x&&(typeof x=="object"||typeof x=="function")){if(O)return a(O,x)}else if(e){if(A)return v(A,x)}else if(k)return function(T,d){return!!_(T,d)}(k,x);return!1},set:function(x,T){t&&x&&(typeof x=="object"||typeof x=="function")?(O||(O=new t),r(O,x,T)):e?(A||(A=new e),g(A,x,T)):(k||(k={key:{},next:null}),function(d,f,s){var h=_(d,f);h?h.value=s:d.next={key:f,next:d.next,value:s}}(k,x,T))}};return j}},function(S,i,u){var c=typeof Symbol<"u"&&Symbol,b=u(139);S.exports=function(){return typeof c=="function"&&typeof Symbol=="function"&&typeof c("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&b()}},function(S,i,u){S.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var c={},b=Symbol("test"),p=Object(b);if(typeof b=="string"||Object.prototype.toString.call(b)!=="[object Symbol]"||Object.prototype.toString.call(p)!=="[object Symbol]")return!1;for(b in c[b]=42,c)return!1;if(typeof Object.keys=="function"&&Object.keys(c).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(c).length!==0)return!1;var o=Object.getOwnPropertySymbols(c);if(o.length!==1||o[0]!==b||!Object.prototype.propertyIsEnumerable.call(c,b))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var t=Object.getOwnPropertyDescriptor(c,b);if(t.value!==42||t.enumerable!==!0)return!1}return!0}},function(S,i,u){var c="Function.prototype.bind called on incompatible ",b=Array.prototype.slice,p=Object.prototype.toString;S.exports=function(o){var t=this;if(typeof t!="function"||p.call(t)!=="[object Function]")throw new TypeError(c+t);for(var e,n=b.call(arguments,1),r=function(){if(this instanceof e){var _=t.apply(this,n.concat(b.call(arguments)));return Object(_)===_?_:this}return t.apply(o,n.concat(b.call(arguments)))},a=Math.max(0,t.length-n.length),l=[],g=0;g<a;g++)l.push("$"+g);if(e=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var v=function(){};v.prototype=t.prototype,e.prototype=new v,v.prototype=null}return e}},function(S,i,u){var c=u(20);S.exports=c.call(Function.call,Object.prototype.hasOwnProperty)},function(S,i,u){var c=u(19),b=u(143),p=b(c("String.prototype.indexOf"));S.exports=function(o,t){var e=c(o,!!t);return typeof e=="function"&&p(o,".prototype.")>-1?b(e):e}},function(S,i,u){var c=u(20),b=u(19),p=b("%Function.prototype.apply%"),o=b("%Function.prototype.call%"),t=b("%Reflect.apply%",!0)||c.call(o,p),e=b("%Object.getOwnPropertyDescriptor%",!0),n=b("%Object.defineProperty%",!0),r=b("%Math.max%");if(n)try{n({},"a",{value:1})}catch{n=null}S.exports=function(l){var g=t(c,o,arguments);if(e&&n){var v=e(g,"length");v.configurable&&n(g,"length",{value:1+r(0,l.length-(arguments.length-1))})}return g};var a=function(){return t(c,p,arguments)};n?n(S.exports,"apply",{value:a}):S.exports.apply=a},function(S,i,u){var c=typeof Map=="function"&&Map.prototype,b=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,p=c&&b&&typeof b.get=="function"?b.get:null,o=c&&Map.prototype.forEach,t=typeof Set=="function"&&Set.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,r=t&&Set.prototype.forEach,a=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,_=Object.prototype.toString,O=Function.prototype.toString,A=String.prototype.match,k=typeof BigInt=="function"?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,T=typeof Symbol=="function"&&typeof Symbol.iterator=="object",d=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,f=Object.prototype.propertyIsEnumerable,s=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(D){return D.__proto__}:null),h=u(145).custom,P=h&&E(h)?h:null;function M(D,R,G){var y=(G.quoteStyle||R)==="double"?'"':"'";return y+D+y}function C(D){return String(D).replace(/"/g,"&quot;")}function I(D){return!(H(D)!=="[object Array]"||d&&typeof D=="object"&&d in D)}function E(D){if(T)return D&&typeof D=="object"&&D instanceof Symbol;if(typeof D=="symbol")return!0;if(!D||typeof D!="object"||!x)return!1;try{return x.call(D),!0}catch{}return!1}S.exports=function D(R,G,y,m){var w=G||{};if(L(w,"quoteStyle")&&w.quoteStyle!=="single"&&w.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(w,"maxStringLength")&&(typeof w.maxStringLength=="number"?w.maxStringLength<0&&w.maxStringLength!==1/0:w.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var N=!L(w,"customInspect")||w.customInspect;if(typeof N!="boolean"&&N!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(w,"indent")&&w.indent!==null&&w.indent!=="	"&&!(parseInt(w.indent,10)===w.indent&&w.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(R===void 0)return"undefined";if(R===null)return"null";if(typeof R=="boolean")return R?"true":"false";if(typeof R=="string")return function J(ne,he){if(ne.length>he.maxStringLength){var Oe=ne.length-he.maxStringLength,Ue="... "+Oe+" more character"+(Oe>1?"s":"");return J(ne.slice(0,he.maxStringLength),he)+Ue}return M(ne.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,V),"single",he)}(R,w);if(typeof R=="number")return R===0?1/0/R>0?"0":"-0":String(R);if(typeof R=="bigint")return String(R)+"n";var U=w.depth===void 0?5:w.depth;if(y===void 0&&(y=0),y>=U&&U>0&&typeof R=="object")return I(R)?"[Array]":"[Object]";var K=function(J,ne){var he;if(J.indent==="	")he="	";else{if(!(typeof J.indent=="number"&&J.indent>0))return null;he=Array(J.indent+1).join(" ")}return{base:he,prev:Array(ne+1).join(he)}}(w,y);if(m===void 0)m=[];else if(B(m,R)>=0)return"[Circular]";function Y(J,ne,he){if(ne&&(m=m.slice()).push(ne),he){var Oe={depth:w.depth};return L(w,"quoteStyle")&&(Oe.quoteStyle=w.quoteStyle),D(J,Oe,y+1,m)}return D(J,w,y+1,m)}if(typeof R=="function"){var Z=function(J){if(J.name)return J.name;var ne=A.call(O.call(J),/^function\s*([\w$]+)/);return ne?ne[1]:null}(R),oe=z(R,Y);return"[Function"+(Z?": "+Z:" (anonymous)")+"]"+(oe.length>0?" { "+oe.join(", ")+" }":"")}if(E(R)){var ae=T?String(R).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(R);return typeof R!="object"||T?ae:$(ae)}if(function(J){return!J||typeof J!="object"?!1:typeof HTMLElement<"u"&&J instanceof HTMLElement?!0:typeof J.nodeName=="string"&&typeof J.getAttribute=="function"}(R)){for(var te="<"+String(R.nodeName).toLowerCase(),ye=R.attributes||[],pe=0;pe<ye.length;pe++)te+=" "+ye[pe].name+"="+M(C(ye[pe].value),"double",w);return te+=">",R.childNodes&&R.childNodes.length&&(te+="..."),te+="</"+String(R.nodeName).toLowerCase()+">"}if(I(R)){if(R.length===0)return"[]";var ge=z(R,Y);return K&&!function(J){for(var ne=0;ne<J.length;ne++)if(B(J[ne],`
`)>=0)return!1;return!0}(ge)?"["+q(ge,K)+"]":"[ "+ge.join(", ")+" ]"}if(function(J){return!(H(J)!=="[object Error]"||d&&typeof J=="object"&&d in J)}(R)){var me=z(R,Y);return me.length===0?"["+String(R)+"]":"{ ["+String(R)+"] "+me.join(", ")+" }"}if(typeof R=="object"&&N){if(P&&typeof R[P]=="function")return R[P]();if(N!=="symbol"&&typeof R.inspect=="function")return R.inspect()}if(function(J){if(!p||!J||typeof J!="object")return!1;try{p.call(J);try{n.call(J)}catch{return!0}return J instanceof Map}catch{}return!1}(R)){var Pe=[];return o.call(R,function(J,ne){Pe.push(Y(ne,R,!0)+" => "+Y(J,R))}),ee("Map",p.call(R),Pe,K)}if(function(J){if(!n||!J||typeof J!="object")return!1;try{n.call(J);try{p.call(J)}catch{return!0}return J instanceof Set}catch{}return!1}(R)){var Ee=[];return r.call(R,function(J){Ee.push(Y(J,R))}),ee("Set",n.call(R),Ee,K)}if(function(J){if(!a||!J||typeof J!="object")return!1;try{a.call(J,a);try{l.call(J,l)}catch{return!0}return J instanceof WeakMap}catch{}return!1}(R))return X("WeakMap");if(function(J){if(!l||!J||typeof J!="object")return!1;try{l.call(J,l);try{a.call(J,a)}catch{return!0}return J instanceof WeakSet}catch{}return!1}(R))return X("WeakSet");if(function(J){if(!g||!J||typeof J!="object")return!1;try{return g.call(J),!0}catch{}return!1}(R))return X("WeakRef");if(function(J){return!(H(J)!=="[object Number]"||d&&typeof J=="object"&&d in J)}(R))return $(Y(Number(R)));if(function(J){if(!J||typeof J!="object"||!k)return!1;try{return k.call(J),!0}catch{}return!1}(R))return $(Y(k.call(R)));if(function(J){return!(H(J)!=="[object Boolean]"||d&&typeof J=="object"&&d in J)}(R))return $(v.call(R));if(function(J){return!(H(J)!=="[object String]"||d&&typeof J=="object"&&d in J)}(R))return $(Y(String(R)));if(!function(J){return!(H(J)!=="[object Date]"||d&&typeof J=="object"&&d in J)}(R)&&!function(J){return!(H(J)!=="[object RegExp]"||d&&typeof J=="object"&&d in J)}(R)){var Te=z(R,Y),je=s?s(R)===Object.prototype:R instanceof Object||R.constructor===Object,xe=R instanceof Object?"":"null prototype",Re=!je&&d&&Object(R)===R&&d in R?H(R).slice(8,-1):xe?"Object":"",Ae=(je||typeof R.constructor!="function"?"":R.constructor.name?R.constructor.name+" ":"")+(Re||xe?"["+[].concat(Re||[],xe||[]).join(": ")+"] ":"");return Te.length===0?Ae+"{}":K?Ae+"{"+q(Te,K)+"}":Ae+"{ "+Te.join(", ")+" }"}return String(R)};var F=Object.prototype.hasOwnProperty||function(D){return D in this};function L(D,R){return F.call(D,R)}function H(D){return _.call(D)}function B(D,R){if(D.indexOf)return D.indexOf(R);for(var G=0,y=D.length;G<y;G++)if(D[G]===R)return G;return-1}function V(D){var R=D.charCodeAt(0),G={8:"b",9:"t",10:"n",12:"f",13:"r"}[R];return G?"\\"+G:"\\x"+(R<16?"0":"")+R.toString(16).toUpperCase()}function $(D){return"Object("+D+")"}function X(D){return D+" { ? }"}function ee(D,R,G,y){return D+" ("+R+") {"+(y?q(G,y):G.join(", "))+"}"}function q(D,R){if(D.length===0)return"";var G=`
`+R.prev+R.base;return G+D.join(","+G)+`
`+R.prev}function z(D,R){var G=I(D),y=[];if(G){y.length=D.length;for(var m=0;m<D.length;m++)y[m]=L(D,m)?R(D[m],D):""}var w,N=typeof j=="function"?j(D):[];if(T){w={};for(var U=0;U<N.length;U++)w["$"+N[U]]=N[U]}for(var K in D)L(D,K)&&(G&&String(Number(K))===K&&K<D.length||T&&w["$"+K]instanceof Symbol||(/[^\w$]/.test(K)?y.push(R(K,D)+": "+R(D[K],D)):y.push(K+": "+R(D[K],D))));if(typeof j=="function")for(var Y=0;Y<N.length;Y++)f.call(D,N[Y])&&y.push("["+R(N[Y])+"]: "+R(D[N[Y]],D));return y}},function(S,i){},function(S,i,u){var c=u(29),b=Object.prototype.hasOwnProperty,p=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:c.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},t=function(r){return r.replace(/&#(\d+);/g,function(a,l){return String.fromCharCode(parseInt(l,10))})},e=function(r,a){return r&&typeof r=="string"&&a.comma&&r.indexOf(",")>-1?r.split(","):r},n=function(r,a,l,g){if(r){var v=l.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,_=/(\[[^[\]]*])/g,O=l.depth>0&&/(\[[^[\]]*])/.exec(v),A=O?v.slice(0,O.index):v,k=[];if(A){if(!l.plainObjects&&b.call(Object.prototype,A)&&!l.allowPrototypes)return;k.push(A)}for(var j=0;l.depth>0&&(O=_.exec(v))!==null&&j<l.depth;){if(j+=1,!l.plainObjects&&b.call(Object.prototype,O[1].slice(1,-1))&&!l.allowPrototypes)return;k.push(O[1])}return O&&k.push("["+v.slice(O.index)+"]"),function(x,T,d,f){for(var s=f?T:e(T,d),h=x.length-1;h>=0;--h){var P,M=x[h];if(M==="[]"&&d.parseArrays)P=[].concat(s);else{P=d.plainObjects?Object.create(null):{};var C=M.charAt(0)==="["&&M.charAt(M.length-1)==="]"?M.slice(1,-1):M,I=parseInt(C,10);d.parseArrays||C!==""?!isNaN(I)&&M!==C&&String(I)===C&&I>=0&&d.parseArrays&&I<=d.arrayLimit?(P=[])[I]=s:P[C]=s:P={0:s}}s=P}return s}(k,a,l,g)}};S.exports=function(r,a){var l=function(j){if(!j)return o;if(j.decoder!==null&&j.decoder!==void 0&&typeof j.decoder!="function")throw new TypeError("Decoder has to be a function.");if(j.charset!==void 0&&j.charset!=="utf-8"&&j.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=j.charset===void 0?o.charset:j.charset;return{allowDots:j.allowDots===void 0?o.allowDots:!!j.allowDots,allowPrototypes:typeof j.allowPrototypes=="boolean"?j.allowPrototypes:o.allowPrototypes,allowSparse:typeof j.allowSparse=="boolean"?j.allowSparse:o.allowSparse,arrayLimit:typeof j.arrayLimit=="number"?j.arrayLimit:o.arrayLimit,charset:x,charsetSentinel:typeof j.charsetSentinel=="boolean"?j.charsetSentinel:o.charsetSentinel,comma:typeof j.comma=="boolean"?j.comma:o.comma,decoder:typeof j.decoder=="function"?j.decoder:o.decoder,delimiter:typeof j.delimiter=="string"||c.isRegExp(j.delimiter)?j.delimiter:o.delimiter,depth:typeof j.depth=="number"||j.depth===!1?+j.depth:o.depth,ignoreQueryPrefix:j.ignoreQueryPrefix===!0,interpretNumericEntities:typeof j.interpretNumericEntities=="boolean"?j.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:typeof j.parameterLimit=="number"?j.parameterLimit:o.parameterLimit,parseArrays:j.parseArrays!==!1,plainObjects:typeof j.plainObjects=="boolean"?j.plainObjects:o.plainObjects,strictNullHandling:typeof j.strictNullHandling=="boolean"?j.strictNullHandling:o.strictNullHandling}}(a);if(r===""||r==null)return l.plainObjects?Object.create(null):{};for(var g=typeof r=="string"?function(j,x){var T,d={},f=x.ignoreQueryPrefix?j.replace(/^\?/,""):j,s=x.parameterLimit===1/0?void 0:x.parameterLimit,h=f.split(x.delimiter,s),P=-1,M=x.charset;if(x.charsetSentinel)for(T=0;T<h.length;++T)h[T].indexOf("utf8=")===0&&(h[T]==="utf8=%E2%9C%93"?M="utf-8":h[T]==="utf8=%26%2310003%3B"&&(M="iso-8859-1"),P=T,T=h.length);for(T=0;T<h.length;++T)if(T!==P){var C,I,E=h[T],F=E.indexOf("]="),L=F===-1?E.indexOf("="):F+1;L===-1?(C=x.decoder(E,o.decoder,M,"key"),I=x.strictNullHandling?null:""):(C=x.decoder(E.slice(0,L),o.decoder,M,"key"),I=c.maybeMap(e(E.slice(L+1),x),function(H){return x.decoder(H,o.decoder,M,"value")})),I&&x.interpretNumericEntities&&M==="iso-8859-1"&&(I=t(I)),E.indexOf("[]=")>-1&&(I=p(I)?[I]:I),b.call(d,C)?d[C]=c.combine(d[C],I):d[C]=I}return d}(r,l):r,v=l.plainObjects?Object.create(null):{},_=Object.keys(g),O=0;O<_.length;++O){var A=_[O],k=n(A,g[A],l,typeof r=="string");v=c.merge(v,k,l)}return l.allowSparse===!0?v:c.compact(v)}},function(S,i,u){function c(e){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var b=u(30);function p(e){if(e)return function(n){for(var r in p.prototype)Object.prototype.hasOwnProperty.call(p.prototype,r)&&(n[r]=p.prototype[r]);return n}(e)}S.exports=p,p.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},p.prototype.parse=function(e){return this._parser=e,this},p.prototype.responseType=function(e){return this._responseType=e,this},p.prototype.serialize=function(e){return this._serializer=e,this},p.prototype.timeout=function(e){if(!e||c(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))switch(n){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",n)}return this},p.prototype.retry=function(e,n){return arguments.length!==0&&e!==!0||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=n,this};var o=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),t=new Set([408,413,429,500,502,503,504,521,522,524]);p.prototype._shouldRetry=function(e,n){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,n);if(r===!0)return!0;if(r===!1)return!1}catch(a){console.error(a)}return!!(n&&n.status&&t.has(n.status)||e&&(e.code&&o.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))},p.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},p.prototype.then=function(e,n){var r=this;if(!this._fullfilledPromise){var a=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(l,g){a.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries))if(r.timedout&&r.timedoutError)g(r.timedoutError);else{var v=new Error("Aborted");v.code="ABORTED",v.status=r.status,v.method=r.method,v.url=r.url,g(v)}}),a.end(function(v,_){v?g(v):l(_)})})}return this._fullfilledPromise.then(e,n)},p.prototype.catch=function(e){return this.then(void 0,e)},p.prototype.use=function(e){return e(this),this},p.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this},p.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},p.prototype.get=function(e){return this._header[e.toLowerCase()]},p.prototype.getHeader=p.prototype.get,p.prototype.set=function(e,n){if(b(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=n,this.header[e]=n,this},p.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},p.prototype.field=function(e,n){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(b(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(n)){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&this.field(e,n[a]);return this}if(n==null)throw new Error(".field(name, val) val can not be empty");return typeof n=="boolean"&&(n=String(n)),this._getFormData().append(e,n),this},p.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},p.prototype._auth=function(e,n,r,a){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(a("".concat(e,":").concat(n))));break;case"auto":this.username=e,this.password=n;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},p.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this},p.prototype.redirects=function(e){return this._maxRedirects=e,this},p.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},p.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},p.prototype.send=function(e){var n=b(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(n&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(n&&b(this._data))for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(this._data[a]=e[a]);else typeof e=="string"?(r||this.type("form"),(r=this._header["content-type"])&&(r=r.toLowerCase().trim()),this._data=r==="application/x-www-form-urlencoded"?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!n||this._isHost(e)||r||this.type("json"),this},p.prototype.sortQuery=function(e){return this._sort=e===void 0||e,this},p.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var n=this.url.indexOf("?");if(n>=0){var r=this.url.slice(n+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,n)+"?"+r.join("&")}}},p.prototype._appendQueryString=function(){console.warn("Unsupported")},p.prototype._timeoutError=function(e,n,r){if(!this._aborted){var a=new Error("".concat(e+n,"ms exceeded"));a.timeout=n,a.code="ECONNABORTED",a.errno=r,this.timedout=!0,this.timedoutError=a,this.abort(),this.callback(a)}},p.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(S,i,u){var c=u(149);function b(p){if(p)return function(o){for(var t in b.prototype)Object.prototype.hasOwnProperty.call(b.prototype,t)&&(o[t]=b.prototype[t]);return o}(p)}S.exports=b,b.prototype.get=function(p){return this.header[p.toLowerCase()]},b.prototype._setHeaderProperties=function(p){var o=p["content-type"]||"";this.type=c.type(o);var t=c.params(o);for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this[e]=t[e]);this.links={};try{p.link&&(this.links=c.parseLinks(p.link))}catch{}},b.prototype._setStatusProperties=function(p){var o=p/100|0;this.statusCode=p,this.status=this.statusCode,this.statusType=o,this.info=o===1,this.ok=o===2,this.redirect=o===3,this.clientError=o===4,this.serverError=o===5,this.error=(o===4||o===5)&&this.toError(),this.created=p===201,this.accepted=p===202,this.noContent=p===204,this.badRequest=p===400,this.unauthorized=p===401,this.notAcceptable=p===406,this.forbidden=p===403,this.notFound=p===404,this.unprocessableEntity=p===422}},function(S,i,u){function c(p,o){var t;if(typeof Symbol>"u"||p[Symbol.iterator]==null){if(Array.isArray(p)||(t=function(g,v){if(!!g){if(typeof g=="string")return b(g,v);var _=Object.prototype.toString.call(g).slice(8,-1);if(_==="Object"&&g.constructor&&(_=g.constructor.name),_==="Map"||_==="Set")return Array.from(g);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return b(g,v)}}(p))||o&&p&&typeof p.length=="number"){t&&(p=t);var e=0,n=function(){};return{s:n,n:function(){return e>=p.length?{done:!0}:{done:!1,value:p[e++]}},e:function(g){throw g},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,l=!1;return{s:function(){t=p[Symbol.iterator]()},n:function(){var g=t.next();return a=g.done,g},e:function(g){l=!0,r=g},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw r}}}}function b(p,o){(o==null||o>p.length)&&(o=p.length);for(var t=0,e=new Array(o);t<o;t++)e[t]=p[t];return e}i.type=function(p){return p.split(/ *; */).shift()},i.params=function(p){var o,t={},e=c(p.split(/ *; */));try{for(e.s();!(o=e.n()).done;){var n=o.value.split(/ *= */),r=n.shift(),a=n.shift();r&&a&&(t[r]=a)}}catch(l){e.e(l)}finally{e.f()}return t},i.parseLinks=function(p){var o,t={},e=c(p.split(/ *, */));try{for(e.s();!(o=e.n()).done;){var n=o.value.split(/ *; */),r=n[0].slice(1,-1);t[n[1].split(/ *= */)[1].slice(1,-1)]=r}}catch(a){e.e(a)}finally{e.f()}return t},i.cleanHeader=function(p,o){return delete p["content-type"],delete p["content-length"],delete p["transfer-encoding"],delete p.host,o&&(delete p.authorization,delete p.cookie),p}},function(S,i,u){function c(o){return function(t){if(Array.isArray(t))return b(t)}(o)||function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(o)||function(t,e){if(!!t){if(typeof t=="string")return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(o,t){(t==null||t>o.length)&&(t=o.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=o[e];return n}function p(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(o){p.prototype[o]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._defaults.push({fn:o,args:e}),this}}),p.prototype._setDefaults=function(o){this._defaults.forEach(function(t){o[t.fn].apply(o,c(t.args))})},S.exports=p},function(S,i,u){(function(c){var b=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var p=b(u(11)),o=b(u(12)),t=b(u(5)),e=b(u(6)),n=b(u(4));function r(l,g){var v=new Uint8Array(l.byteLength+g.byteLength);return v.set(new Uint8Array(l),0),v.set(new Uint8Array(g),l.byteLength),v.buffer}var a=function(){function l(){(0,t.default)(this,l)}var g,v,_,O,A,k,j,x,T;return(0,e.default)(l,[{key:"algo",get:function(){return"aes-256-cbc"}},{key:"encrypt",value:(T=(0,o.default)(p.default.mark(function d(f,s){var h;return p.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getKey(f);case 2:if(h=P.sent,!(s instanceof ArrayBuffer)){P.next=7;break}return P.abrupt("return",this.encryptArrayBuffer(h,s));case 7:if(typeof s!="string"){P.next=11;break}return P.abrupt("return",this.encryptString(h,s));case 11:throw new Error("Cannot encrypt this file. In browsers file encryption supports only string or ArrayBuffer");case 12:case"end":return P.stop()}},d,this)})),function(d,f){return T.apply(this,arguments)})},{key:"decrypt",value:(x=(0,o.default)(p.default.mark(function d(f,s){var h;return p.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getKey(f);case 2:if(h=P.sent,!(s instanceof ArrayBuffer)){P.next=7;break}return P.abrupt("return",this.decryptArrayBuffer(h,s));case 7:if(typeof s!="string"){P.next=11;break}return P.abrupt("return",this.decryptString(h,s));case 11:throw new Error("Cannot decrypt this file. In browsers file decryption supports only string or ArrayBuffer");case 12:case"end":return P.stop()}},d,this)})),function(d,f){return x.apply(this,arguments)})},{key:"encryptFile",value:(j=(0,o.default)(p.default.mark(function d(f,s,h){var P,M,C;return p.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.getKey(f);case 2:return P=I.sent,I.next=5,s.toArrayBuffer();case 5:return M=I.sent,I.next=8,this.encryptArrayBuffer(P,M);case 8:return C=I.sent,I.abrupt("return",h.create({name:s.name,mimeType:"application/octet-stream",data:C}));case 10:case"end":return I.stop()}},d,this)})),function(d,f,s){return j.apply(this,arguments)})},{key:"decryptFile",value:(k=(0,o.default)(p.default.mark(function d(f,s,h){var P,M,C;return p.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.getKey(f);case 2:return P=I.sent,I.next=5,s.toArrayBuffer();case 5:return M=I.sent,I.next=8,this.decryptArrayBuffer(P,M);case 8:return C=I.sent,I.abrupt("return",h.create({name:s.name,data:C}));case 10:case"end":return I.stop()}},d,this)})),function(d,f,s){return k.apply(this,arguments)})},{key:"getKey",value:(A=(0,o.default)(p.default.mark(function d(f){var s,h,P;return p.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return s=c.from(f),M.next=3,crypto.subtle.digest("SHA-256",s.buffer);case 3:return h=M.sent,P=c.from(c.from(h).toString("hex").slice(0,32),"utf8").buffer,M.abrupt("return",crypto.subtle.importKey("raw",P,"AES-CBC",!0,["encrypt","decrypt"]));case 6:case"end":return M.stop()}},d)})),function(d){return A.apply(this,arguments)})},{key:"encryptArrayBuffer",value:(O=(0,o.default)(p.default.mark(function d(f,s){var h;return p.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return h=crypto.getRandomValues(new Uint8Array(16)),P.t0=r,P.t1=h.buffer,P.next=5,crypto.subtle.encrypt({name:"AES-CBC",iv:h},f,s);case 5:return P.t2=P.sent,P.abrupt("return",(0,P.t0)(P.t1,P.t2));case 7:case"end":return P.stop()}},d)})),function(d,f){return O.apply(this,arguments)})},{key:"decryptArrayBuffer",value:(_=(0,o.default)(p.default.mark(function d(f,s){var h;return p.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return h=s.slice(0,16),P.abrupt("return",crypto.subtle.decrypt({name:"AES-CBC",iv:h},f,s.slice(16)));case 2:case"end":return P.stop()}},d)})),function(d,f){return _.apply(this,arguments)})},{key:"encryptString",value:(v=(0,o.default)(p.default.mark(function d(f,s){var h,P,M,C;return p.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return h=crypto.getRandomValues(new Uint8Array(16)),P=c.from(s).buffer,I.next=4,crypto.subtle.encrypt({name:"AES-CBC",iv:h},f,P);case 4:return M=I.sent,C=r(h.buffer,M),I.abrupt("return",c.from(C).toString("utf8"));case 7:case"end":return I.stop()}},d)})),function(d,f){return v.apply(this,arguments)})},{key:"decryptString",value:(g=(0,o.default)(p.default.mark(function d(f,s){var h,P,M,C;return p.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return h=c.from(s),P=h.slice(0,16),M=h.slice(16),I.next=5,crypto.subtle.decrypt({name:"AES-CBC",iv:P},f,M);case 5:return C=I.sent,I.abrupt("return",c.from(C).toString("utf8"));case 7:case"end":return I.stop()}},d)})),function(d,f){return g.apply(this,arguments)})}]),l}();i.default=a,(0,n.default)(a,"IV_LENGTH",16),S.exports=i.default}).call(this,u(24).Buffer)},function(S,i,u){var c=u(0);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var b,p,o=c(u(11)),t=c(u(12)),e=c(u(5)),n=c(u(6)),r=c(u(4)),a=(u(28),p=b=function(){function l(x){if((0,e.default)(this,l),(0,r.default)(this,"data",void 0),(0,r.default)(this,"name",void 0),(0,r.default)(this,"mimeType",void 0),x instanceof File)this.data=x,this.name=this.data.name,this.mimeType=this.data.type;else if(x.data){var T=x.data;this.data=new File([T],x.name,{type:x.mimeType}),this.name=x.name,x.mimeType&&(this.mimeType=x.mimeType)}if(this.data===void 0)throw new Error("Couldn't construct a file out of supplied options.");if(this.name===void 0)throw new Error("Couldn't guess filename out of the options. Please provide one.")}var g,v,_,O,A,k,j;return(0,n.default)(l,[{key:"toBuffer",value:(j=(0,t.default)(o.default.mark(function x(){return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:throw new Error("This feature is only supported in Node.js environments.");case 1:case"end":return T.stop()}},x)})),function(){return j.apply(this,arguments)})},{key:"toStream",value:(k=(0,t.default)(o.default.mark(function x(){return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:throw new Error("This feature is only supported in Node.js environments.");case 1:case"end":return T.stop()}},x)})),function(){return k.apply(this,arguments)})},{key:"toFileUri",value:(A=(0,t.default)(o.default.mark(function x(){return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:throw new Error("This feature is only supported in react native environments.");case 1:case"end":return T.stop()}},x)})),function(){return A.apply(this,arguments)})},{key:"toBlob",value:(O=(0,t.default)(o.default.mark(function x(){return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",this.data);case 1:case"end":return T.stop()}},x,this)})),function(){return O.apply(this,arguments)})},{key:"toArrayBuffer",value:(_=(0,t.default)(o.default.mark(function x(){var T=this;return o.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",new Promise(function(f,s){var h=new FileReader;h.addEventListener("load",function(){if(h.result instanceof ArrayBuffer)return f(h.result)}),h.addEventListener("error",function(){s(h.error)}),h.readAsArrayBuffer(T.data)}));case 1:case"end":return d.stop()}},x)})),function(){return _.apply(this,arguments)})},{key:"toString",value:(v=(0,t.default)(o.default.mark(function x(){var T=this;return o.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",new Promise(function(f,s){var h=new FileReader;h.addEventListener("load",function(){if(typeof h.result=="string")return f(h.result)}),h.addEventListener("error",function(){s(h.error)}),h.readAsBinaryString(T.data)}));case 1:case"end":return d.stop()}},x)})),function(){return v.apply(this,arguments)})},{key:"toFile",value:(g=(0,t.default)(o.default.mark(function x(){return o.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",this.data);case 1:case"end":return T.stop()}},x,this)})),function(){return g.apply(this,arguments)})}],[{key:"create",value:function(x){return new this(x)}}]),l}(),(0,r.default)(b,"supportsFile",typeof File<"u"),(0,r.default)(b,"supportsBlob",typeof Blob<"u"),(0,r.default)(b,"supportsArrayBuffer",typeof ArrayBuffer<"u"),(0,r.default)(b,"supportsBuffer",!1),(0,r.default)(b,"supportsStream",!1),(0,r.default)(b,"supportsString",!0),(0,r.default)(b,"supportsEncryptFile",!0),(0,r.default)(b,"supportsFileUri",!1),p);i.default=a,S.exports=i.default}])})})(De);const ht=dt(De.exports),gt=pt({__proto__:null,default:ht},[De.exports]);export{gt as p};
