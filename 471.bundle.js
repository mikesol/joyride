"use strict";(self.webpackChunkjoyride=self.webpackChunkjoyride||[]).push([[471],{9471:(e,t,n)=>{n.r(t),n.d(t,{CSS3DObject:()=>l,CSS3DRenderer:()=>p,CSS3DSprite:()=>a});var s=n(9477);const r=new s.Pa4,o=new s._fP,i=new s.Pa4;class l extends s.Tme{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}l.prototype.isCSS3DObject=!0;class a extends l{constructor(e){super(e),this.rotation2D=0}copy(e,t){return super.copy(e,t),this.rotation2D=e.rotation2D,this}}a.prototype.isCSS3DSprite=!0;const c=new s.yGw,m=new s.yGw;class p{constructor(e={}){const t=this;let n,s,l,a;const p={camera:{fov:0,style:""},objects:new WeakMap},d=void 0!==e.element?e.element:document.createElement("div");d.style.overflow="hidden",this.domElement=d;const h=document.createElement("div");function u(e){return Math.abs(e)<1e-10?0:e}function y(e){const t=e.elements;return"matrix3d("+u(t[0])+","+u(-t[1])+","+u(t[2])+","+u(t[3])+","+u(t[4])+","+u(-t[5])+","+u(t[6])+","+u(t[7])+","+u(t[8])+","+u(-t[9])+","+u(t[10])+","+u(t[11])+","+u(t[12])+","+u(-t[13])+","+u(t[14])+","+u(t[15])+")"}function f(e){const t=e.elements;return"translate(-50%,-50%)matrix3d("+u(t[0])+","+u(t[1])+","+u(t[2])+","+u(t[3])+","+u(-t[4])+","+u(-t[5])+","+u(-t[6])+","+u(-t[7])+","+u(t[8])+","+u(t[9])+","+u(t[10])+","+u(t[11])+","+u(t[12])+","+u(t[13])+","+u(t[14])+","+u(t[15])+")"}function v(e,n,s,l){if(e.isCSS3DObject){const l=!0===e.visible&&!0===e.layers.test(s.layers);if(e.element.style.display=!0===l?"":"none",!0===l){let l;e.onBeforeRender(t,n,s),e.isCSS3DSprite?(c.copy(s.matrixWorldInverse),c.transpose(),0!==e.rotation2D&&c.multiply(m.makeRotationZ(e.rotation2D)),e.matrixWorld.decompose(r,o,i),c.setPosition(r),c.scale(i),c.elements[3]=0,c.elements[7]=0,c.elements[11]=0,c.elements[15]=1,l=f(c)):l=f(e.matrixWorld);const a=e.element,d=p.objects.get(e);if(void 0===d||d.style!==l){a.style.transform=l;const t={style:l};p.objects.set(e,t)}a.parentNode!==h&&h.appendChild(a),e.onAfterRender(t,n,s)}}for(let t=0,r=e.children.length;t<r;t++)v(e.children[t],n,s,l)}h.style.transformStyle="preserve-3d",h.style.pointerEvents="none",d.appendChild(h),this.getSize=function(){return{width:n,height:s}},this.render=function(e,t){const n=t.projectionMatrix.elements[5]*a;let s,r;p.camera.fov!==n&&(d.style.perspective=t.isPerspectiveCamera?n+"px":"",p.camera.fov=n),!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.isOrthographicCamera&&(s=-(t.right+t.left)/2,r=(t.top+t.bottom)/2);const o=t.isOrthographicCamera?"scale("+n+")translate("+u(s)+"px,"+u(r)+"px)"+y(t.matrixWorldInverse):"translateZ("+n+"px)"+y(t.matrixWorldInverse),i=o+"translate("+l+"px,"+a+"px)";p.camera.style!==i&&(h.style.transform=i,p.camera.style=i),v(e,e,t,o)},this.setSize=function(e,t){n=e,s=t,l=n/2,a=s/2,d.style.width=e+"px",d.style.height=t+"px",h.style.width=e+"px",h.style.height=t+"px"}}}}}]);